function XCe(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function TE(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Fi={},Op=[],$r=()=>{},O6=()=>!1,J_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),AE=e=>e.startsWith("onUpdate:"),Pa=Object.assign,LE=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},D6=Object.prototype.hasOwnProperty,kr=(e,t)=>D6.call(e,t),Rt=Array.isArray,Dp=e=>x0(e)==="[object Map]",Q_=e=>x0(e)==="[object Set]",hd=e=>x0(e)==="[object Date]",on=e=>typeof e=="function",nn=e=>typeof e=="string",Nl=e=>typeof e=="symbol",jn=e=>e!==null&&typeof e=="object",Vg=e=>(jn(e)||on(e))&&on(e.then)&&on(e.catch),Kk=Object.prototype.toString,x0=e=>Kk.call(e),N6=e=>x0(e).slice(8,-1),Ug=e=>x0(e)==="[object Object]",RE=e=>nn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xg=TE(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ew=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},F6=/-(\w)/g,$o=ew(e=>e.replace(F6,(t,n)=>n?n.toUpperCase():"")),B6=/\B([A-Z])/g,bc=ew(e=>e.replace(B6,"-$1").toLowerCase()),S0=ew(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sg=ew(e=>e?"on".concat(S0(e)):""),sd=(e,t)=>!Object.is(e,t),Rb=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Yk=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},DS=e=>{const t=parseFloat(e);return isNaN(t)?e:t},z6=e=>{const t=nn(e)?Number(e):NaN;return isNaN(t)?e:t};let ZT;const tw=()=>ZT||(ZT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function un(e){if(Rt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=nn(r)?$6(r):un(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(nn(e)||jn(e))return e}const V6=/;(?![^(]*\))/g,U6=/:([^]+)/,H6=/\/\*[^]*?\*\//g;function $6(e){const t={};return e.replace(H6,"").split(V6).forEach(n=>{if(n){const r=n.split(U6);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function J(e){let t="";if(nn(e))t=e;else if(Rt(e))for(let n=0;n<e.length;n++){const r=J(e[n]);r&&(t+=r+" ")}else if(jn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ls(e){if(!e)return null;let{class:t,style:n}=e;return t&&!nn(t)&&(e.class=J(t)),n&&(e.style=un(n)),e}const G6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",W6=TE(G6);function Xk(e){return!!e||e===""}function j6(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Kp(e[r],t[r]);return n}function Kp(e,t){if(e===t)return!0;let n=hd(e),r=hd(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Nl(e),r=Nl(t),n||r)return e===t;if(n=Rt(e),r=Rt(t),n||r)return n&&r?j6(e,t):!1;if(n=jn(e),r=jn(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const s in e){const u=e.hasOwnProperty(s),d=t.hasOwnProperty(s);if(u&&!d||!u&&d||!Kp(e[s],t[s]))return!1}}return String(e)===String(t)}function Zk(e,t){return e.findIndex(n=>Kp(n,t))}const Jk=e=>!!(e&&e.__v_isRef===!0),Pt=e=>nn(e)?e:e==null?"":Rt(e)||jn(e)&&(e.toString===Kk||!on(e.toString))?Jk(e)?Pt(e.value):JSON.stringify(e,Qk,2):String(e),Qk=(e,t)=>Jk(t)?Qk(e,t.value):Dp(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((n,[r,a],o)=>(n[nx(r,o)+" =>"]=a,n),{})}:Q_(t)?{["Set(".concat(t.size,")")]:[...t.values()].map(n=>nx(n))}:Nl(t)?nx(t):jn(t)&&!Rt(t)&&!Ug(t)?String(t):t,nx=(e,t="")=>{var n;return Nl(e)?"Symbol(".concat((n=e.description)!=null?n:t,")"):e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fo;class eI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fo,!t&&Fo&&(this.index=(Fo.scopes||(Fo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Fo;try{return Fo=this,t()}finally{Fo=n}}}on(){Fo=this}off(){Fo=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function q6(e){return new eI(e)}function tI(){return Fo}function nI(e,t=!1){Fo&&Fo.cleanups.push(e)}let Hi;const rx=new WeakSet;class rI{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fo&&Fo.active&&Fo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rx.has(this)&&(rx.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,JT(this),oI(this);const t=Hi,n=Il;Hi=this,Il=!0;try{return this.fn()}finally{sI(this),Hi=t,Il=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)IE(t);this.deps=this.depsTail=void 0,JT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rx.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){NS(this)&&this.run()}get dirty(){return NS(this)}}let iI=0,Mg,Eg;function aI(e,t=!1){if(e.flags|=8,t){e.next=Eg,Eg=e;return}e.next=Mg,Mg=e}function PE(){iI++}function kE(){if(--iI>0)return;if(Eg){let t=Eg;for(Eg=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Mg;){let t=Mg;for(Mg=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function oI(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sI(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),IE(r),K6(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function NS(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lI(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function lI(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hg))return;e.globalVersion=Hg;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!NS(e)){e.flags&=-3;return}const n=Hi,r=Il;Hi=e,Il=!0;try{oI(e);const a=e.fn(e._value);(t.version===0||sd(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Hi=n,Il=r,sI(e),e.flags&=-3}}function IE(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)IE(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function K6(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Il=!0;const uI=[];function xd(){uI.push(Il),Il=!1}function Sd(){const e=uI.pop();Il=e===void 0?!0:e}function JT(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Hi;Hi=void 0;try{t()}finally{Hi=n}}}let Hg=0,Y6=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class nw{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Hi||!Il||Hi===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Hi)n=this.activeLink=new Y6(Hi,this),Hi.deps?(n.prevDep=Hi.depsTail,Hi.depsTail.nextDep=n,Hi.depsTail=n):Hi.deps=Hi.depsTail=n,cI(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Hi.depsTail,n.nextDep=void 0,Hi.depsTail.nextDep=n,Hi.depsTail=n,Hi.deps===n&&(Hi.deps=r)}return n}trigger(t){this.version++,Hg++,this.notify(t)}notify(t){PE();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{kE()}}}function cI(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)cI(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const p_=new WeakMap,Df=Symbol(""),FS=Symbol(""),$g=Symbol("");function bo(e,t,n){if(Il&&Hi){let r=p_.get(e);r||p_.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new nw),a.map=r,a.key=n),a.track()}}function lc(e,t,n,r,a,o){const s=p_.get(e);if(!s){Hg++;return}const u=d=>{d&&d.trigger()};if(PE(),t==="clear")s.forEach(u);else{const d=Rt(e),f=d&&RE(n);if(d&&n==="length"){const h=Number(r);s.forEach((v,y)=>{(y==="length"||y===$g||!Nl(y)&&y>=h)&&u(v)})}else switch((n!==void 0||s.has(void 0))&&u(s.get(n)),f&&u(s.get($g)),t){case"add":d?f&&u(s.get("length")):(u(s.get(Df)),Dp(e)&&u(s.get(FS)));break;case"delete":d||(u(s.get(Df)),Dp(e)&&u(s.get(FS)));break;case"set":Dp(e)&&u(s.get(Df));break}}kE()}function X6(e,t){const n=p_.get(e);return n&&n.get(t)}function Zh(e){const t=ni(e);return t===e?t:(bo(t,"iterate",$g),nl(e)?t:t.map(_o))}function rw(e){return bo(e=ni(e),"iterate",$g),e}const Z6={__proto__:null,[Symbol.iterator](){return ix(this,Symbol.iterator,_o)},concat(...e){return Zh(this).concat(...e.map(t=>Rt(t)?Zh(t):t))},entries(){return ix(this,"entries",e=>(e[1]=_o(e[1]),e))},every(e,t){return Xu(this,"every",e,t,void 0,arguments)},filter(e,t){return Xu(this,"filter",e,t,n=>n.map(_o),arguments)},find(e,t){return Xu(this,"find",e,t,_o,arguments)},findIndex(e,t){return Xu(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xu(this,"findLast",e,t,_o,arguments)},findLastIndex(e,t){return Xu(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xu(this,"forEach",e,t,void 0,arguments)},includes(...e){return ax(this,"includes",e)},indexOf(...e){return ax(this,"indexOf",e)},join(e){return Zh(this).join(e)},lastIndexOf(...e){return ax(this,"lastIndexOf",e)},map(e,t){return Xu(this,"map",e,t,void 0,arguments)},pop(){return Kv(this,"pop")},push(...e){return Kv(this,"push",e)},reduce(e,...t){return QT(this,"reduce",e,t)},reduceRight(e,...t){return QT(this,"reduceRight",e,t)},shift(){return Kv(this,"shift")},some(e,t){return Xu(this,"some",e,t,void 0,arguments)},splice(...e){return Kv(this,"splice",e)},toReversed(){return Zh(this).toReversed()},toSorted(e){return Zh(this).toSorted(e)},toSpliced(...e){return Zh(this).toSpliced(...e)},unshift(...e){return Kv(this,"unshift",e)},values(){return ix(this,"values",_o)}};function ix(e,t,n){const r=rw(e),a=r[t]();return r!==e&&!nl(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const J6=Array.prototype;function Xu(e,t,n,r,a,o){const s=rw(e),u=s!==e&&!nl(e),d=s[t];if(d!==J6[t]){const v=d.apply(e,o);return u?_o(v):v}let f=n;s!==e&&(u?f=function(v,y){return n.call(this,_o(v),y,e)}:n.length>2&&(f=function(v,y){return n.call(this,v,y,e)}));const h=d.call(s,f,r);return u&&a?a(h):h}function QT(e,t,n,r){const a=rw(e);let o=n;return a!==e&&(nl(e)?n.length>3&&(o=function(s,u,d){return n.call(this,s,u,d,e)}):o=function(s,u,d){return n.call(this,s,_o(u),d,e)}),a[t](o,...r)}function ax(e,t,n){const r=ni(e);bo(r,"iterate",$g);const a=r[t](...n);return(a===-1||a===!1)&&FE(n[0])?(n[0]=ni(n[0]),r[t](...n)):a}function Kv(e,t,n=[]){xd(),PE();const r=ni(e)[t].apply(e,n);return kE(),Sd(),r}const Q6=TE("__proto__,__v_isRef,__isVue"),dI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nl));function eH(e){Nl(e)||(e=String(e));const t=ni(this);return bo(t,"has",e),t.hasOwnProperty(e)}class fI{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?cH:vI:o?mI:pI).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=Rt(t);if(!a){let d;if(s&&(d=Z6[n]))return d;if(n==="hasOwnProperty")return eH}const u=Reflect.get(t,n,vi(t)?t:r);return(Nl(n)?dI.has(n):Q6(n))||(a||bo(t,"get",n),o)?u:vi(u)?s&&RE(n)?u:u.value:jn(u)?a?wm(u):Ir(u):u}}class hI extends fI{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const d=Gf(o);if(!nl(r)&&!Gf(r)&&(o=ni(o),r=ni(r)),!Rt(t)&&vi(o)&&!vi(r))return d?!1:(o.value=r,!0)}const s=Rt(t)&&RE(n)?Number(n)<t.length:kr(t,n),u=Reflect.set(t,n,r,vi(t)?t:a);return t===ni(a)&&(s?sd(r,o)&&lc(t,"set",n,r):lc(t,"add",n,r)),u}deleteProperty(t,n){const r=kr(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&lc(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Nl(n)||!dI.has(n))&&bo(t,"has",n),r}ownKeys(t){return bo(t,"iterate",Rt(t)?"length":Df),Reflect.ownKeys(t)}}class tH extends fI{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nH=new hI,rH=new tH,iH=new hI(!0);const BS=e=>e,Dy=e=>Reflect.getPrototypeOf(e);function aH(e,t,n){return function(...r){const a=this.__v_raw,o=ni(a),s=Dp(o),u=e==="entries"||e===Symbol.iterator&&s,d=e==="keys"&&s,f=a[e](...r),h=n?BS:t?zS:_o;return!t&&bo(o,"iterate",d?FS:Df),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:u?[h(v[0]),h(v[1])]:h(v),done:y}},[Symbol.iterator](){return this}}}}function Ny(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oH(e,t){const n={get(a){const o=this.__v_raw,s=ni(o),u=ni(a);e||(sd(a,u)&&bo(s,"get",a),bo(s,"get",u));const{has:d}=Dy(s),f=t?BS:e?zS:_o;if(d.call(s,a))return f(o.get(a));if(d.call(s,u))return f(o.get(u));o!==s&&o.get(a)},get size(){const a=this.__v_raw;return!e&&bo(ni(a),"iterate",Df),Reflect.get(a,"size",a)},has(a){const o=this.__v_raw,s=ni(o),u=ni(a);return e||(sd(a,u)&&bo(s,"has",a),bo(s,"has",u)),a===u?o.has(a):o.has(a)||o.has(u)},forEach(a,o){const s=this,u=s.__v_raw,d=ni(u),f=t?BS:e?zS:_o;return!e&&bo(d,"iterate",Df),u.forEach((h,v)=>a.call(o,f(h),f(v),s))}};return Pa(n,e?{add:Ny("add"),set:Ny("set"),delete:Ny("delete"),clear:Ny("clear")}:{add(a){!t&&!nl(a)&&!Gf(a)&&(a=ni(a));const o=ni(this);return Dy(o).has.call(o,a)||(o.add(a),lc(o,"add",a,a)),this},set(a,o){!t&&!nl(o)&&!Gf(o)&&(o=ni(o));const s=ni(this),{has:u,get:d}=Dy(s);let f=u.call(s,a);f||(a=ni(a),f=u.call(s,a));const h=d.call(s,a);return s.set(a,o),f?sd(o,h)&&lc(s,"set",a,o):lc(s,"add",a,o),this},delete(a){const o=ni(this),{has:s,get:u}=Dy(o);let d=s.call(o,a);d||(a=ni(a),d=s.call(o,a)),u&&u.call(o,a);const f=o.delete(a);return d&&lc(o,"delete",a,void 0),f},clear(){const a=ni(this),o=a.size!==0,s=a.clear();return o&&lc(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=aH(a,e,t)}),n}function OE(e,t){const n=oH(e,t);return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(kr(n,a)&&a in r?n:r,a,o)}const sH={get:OE(!1,!1)},lH={get:OE(!1,!0)},uH={get:OE(!0,!1)};const pI=new WeakMap,mI=new WeakMap,vI=new WeakMap,cH=new WeakMap;function dH(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fH(e){return e.__v_skip||!Object.isExtensible(e)?0:dH(N6(e))}function Ir(e){return Gf(e)?e:NE(e,!1,nH,sH,pI)}function DE(e){return NE(e,!1,iH,lH,mI)}function wm(e){return NE(e,!0,rH,uH,vI)}function NE(e,t,n,r,a){if(!jn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=fH(e);if(s===0)return e;const u=new Proxy(e,s===2?r:n);return a.set(e,u),u}function Np(e){return Gf(e)?Np(e.__v_raw):!!(e&&e.__v_isReactive)}function Gf(e){return!!(e&&e.__v_isReadonly)}function nl(e){return!!(e&&e.__v_isShallow)}function FE(e){return e?!!e.__v_raw:!1}function ni(e){const t=e&&e.__v_raw;return t?ni(t):e}function ld(e){return!kr(e,"__v_skip")&&Object.isExtensible(e)&&Yk(e,"__v_skip",!0),e}const _o=e=>jn(e)?Ir(e):e,zS=e=>jn(e)?wm(e):e;function vi(e){return e?e.__v_isRef===!0:!1}function re(e){return gI(e,!1)}function hi(e){return gI(e,!0)}function gI(e,t){return vi(e)?e:new hH(e,t)}class hH{constructor(t,n){this.dep=new nw,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ni(t),this._value=n?t:_o(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||nl(t)||Gf(t);t=r?t:ni(t),sd(t,n)&&(this._rawValue=t,this._value=r?t:_o(t),this.dep.trigger())}}function m(e){return vi(e)?e.value:e}const pH={get:(e,t,n)=>t==="__v_raw"?e:m(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return vi(a)&&!vi(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function yI(e){return Np(e)?e:new Proxy(e,pH)}class mH{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new nw,{get:r,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function vH(e){return new mH(e)}function ka(e){const t=Rt(e)?new Array(e.length):{};for(const n in e)t[n]=bI(e,n);return t}class gH{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return X6(ni(this._object),this._key)}}class yH{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Hr(e,t,n){return vi(e)?e:on(e)?new yH(e):jn(e)&&arguments.length>1?bI(e,t,n):re(e)}function bI(e,t,n){const r=e[t];return vi(r)?r:new gH(e,t,n)}class bH{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new nw(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hg-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Hi!==this)return aI(this,!0),!0}get value(){const t=this.dep.track();return lI(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function _H(e,t,n=!1){let r,a;return on(e)?r=e:(r=e.get,a=e.set),new bH(r,a,n)}const Fy={},m_=new WeakMap;let yf;function wH(e,t=!1,n=yf){if(n){let r=m_.get(n);r||m_.set(n,r=[]),r.push(e)}}function xH(e,t,n=Fi){const{immediate:r,deep:a,once:o,scheduler:s,augmentJob:u,call:d}=n,f=T=>a?T:nl(T)||a===!1||a===0?uc(T,1):uc(T);let h,v,y,b,w=!1,g=!1;if(vi(e)?(v=()=>e.value,w=nl(e)):Np(e)?(v=()=>f(e),w=!0):Rt(e)?(g=!0,w=e.some(T=>Np(T)||nl(T)),v=()=>e.map(T=>{if(vi(T))return T.value;if(Np(T))return f(T);if(on(T))return d?d(T,2):T()})):on(e)?t?v=d?()=>d(e,2):e:v=()=>{if(y){xd();try{y()}finally{Sd()}}const T=yf;yf=h;try{return d?d(e,3,[b]):e(b)}finally{yf=T}}:v=$r,t&&a){const T=v,P=a===!0?1/0:a;v=()=>uc(T(),P)}const x=tI(),M=()=>{h.stop(),x&&x.active&&LE(x.effects,h)};if(o&&t){const T=t;t=(...P)=>{T(...P),M()}}let R=g?new Array(e.length).fill(Fy):Fy;const A=T=>{if(!(!(h.flags&1)||!h.dirty&&!T))if(t){const P=h.run();if(a||w||(g?P.some((I,E)=>sd(I,R[E])):sd(P,R))){y&&y();const I=yf;yf=h;try{const E=[P,R===Fy?void 0:g&&R[0]===Fy?[]:R,b];d?d(t,3,E):t(...E),R=P}finally{yf=I}}}else h.run()};return u&&u(A),h=new rI(v),h.scheduler=s?()=>s(A,!1):A,b=T=>wH(T,!1,h),y=h.onStop=()=>{const T=m_.get(h);if(T){if(d)d(T,4);else for(const P of T)P();m_.delete(h)}},t?r?A(!0):R=h.run():s?s(A.bind(null,!0),!0):h.run(),M.pause=h.pause.bind(h),M.resume=h.resume.bind(h),M.stop=M,M}function uc(e,t=1/0,n){if(t<=0||!jn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,vi(e))uc(e.value,t,n);else if(Rt(e))for(let r=0;r<e.length;r++)uc(e[r],t,n);else if(Q_(e)||Dp(e))e.forEach(r=>{uc(r,t,n)});else if(Ug(e)){for(const r in e)uc(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&uc(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function M0(e,t,n,r){try{return r?e(...r):e()}catch(a){iw(a,t,n)}}function Fl(e,t,n,r){if(on(e)){const a=M0(e,t,n,r);return a&&Vg(a)&&a.catch(o=>{iw(o,t,n)}),a}if(Rt(e)){const a=[];for(let o=0;o<e.length;o++)a.push(Fl(e[o],t,n,r));return a}}function iw(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Fi;if(t){let u=t.parent;const d=t.proxy,f="https://vuejs.org/error-reference/#runtime-".concat(n);for(;u;){const h=u.ec;if(h){for(let v=0;v<h.length;v++)if(h[v](e,d,f)===!1)return}u=u.parent}if(o){xd(),M0(o,null,10,[e,d,f]),Sd();return}}SH(e,n,a,r,s)}function SH(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const zo=[];let yu=-1;const Fp=[];let Qc=null,xp=0;const _I=Promise.resolve();let v_=null;function cn(e){const t=v_||_I;return e?t.then(this?e.bind(this):e):t}function MH(e){let t=yu+1,n=zo.length;for(;t<n;){const r=t+n>>>1,a=zo[r],o=Gg(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function BE(e){if(!(e.flags&1)){const t=Gg(e),n=zo[zo.length-1];!n||!(e.flags&2)&&t>=Gg(n)?zo.push(e):zo.splice(MH(t),0,e),e.flags|=1,wI()}}function wI(){v_||(v_=_I.then(SI))}function EH(e){Rt(e)?Fp.push(...e):Qc&&e.id===-1?Qc.splice(xp+1,0,e):e.flags&1||(Fp.push(e),e.flags|=1),wI()}function eA(e,t,n=yu+1){for(;n<zo.length;n++){const r=zo[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;zo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function xI(e){if(Fp.length){const t=[...new Set(Fp)].sort((n,r)=>Gg(n)-Gg(r));if(Fp.length=0,Qc){Qc.push(...t);return}for(Qc=t,xp=0;xp<Qc.length;xp++){const n=Qc[xp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qc=null,xp=0}}const Gg=e=>e.id==null?e.flags&2?-1:1/0:e.id;function SI(e){try{for(yu=0;yu<zo.length;yu++){const t=zo[yu];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),M0(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yu<zo.length;yu++){const t=zo[yu];t&&(t.flags&=-2)}yu=-1,zo.length=0,xI(),v_=null,(zo.length||Fp.length)&&SI()}}let Ga=null,MI=null;function g_(e){const t=Ga;return Ga=e,MI=e&&e.type.__scopeId||null,t}function be(e,t=Ga,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&pA(-1);const o=g_(t);let s;try{s=e(...a)}finally{g_(o),r._d&&pA(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function kn(e,t){if(Ga===null)return e;const n=uw(Ga),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,u,d=Fi]=t[a];o&&(on(o)&&(o={mounted:o,updated:o}),o.deep&&uc(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:u,modifiers:d}))}return e}function lf(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const u=a[s];o&&(u.oldValue=o[s].value);let d=u.dir[r];d&&(xd(),Fl(d,n,8,[e.el,u,e,t]),Sd())}}const EI=Symbol("_vte"),CI=e=>e.__isTeleport,Cg=e=>e&&(e.disabled||e.disabled===""),tA=e=>e&&(e.defer||e.defer===""),nA=e=>typeof SVGElement<"u"&&e instanceof SVGElement,rA=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,VS=(e,t)=>{const n=e&&e.to;return nn(n)?t?t(n):null:n},TI={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,o,s,u,d,f){const{mc:h,pc:v,pbc:y,o:{insert:b,querySelector:w,createText:g,createComment:x}}=f,M=Cg(t.props);let{shapeFlag:R,children:A,dynamicChildren:T}=t;if(e==null){const P=t.el=g(""),I=t.anchor=g("");b(P,n,r),b(I,n,r);const E=(N,B)=>{R&16&&(a&&a.isCE&&(a.ce._teleportTarget=N),h(A,N,B,a,o,s,u,d))},D=()=>{const N=t.target=VS(t.props,w),B=AI(N,t,g,b);N&&(s!=="svg"&&nA(N)?s="svg":s!=="mathml"&&rA(N)&&(s="mathml"),M||(E(N,B),Pb(t,!1)))};M&&(E(n,I),Pb(t,!0)),tA(t.props)?No(()=>{D(),t.el.__isMounted=!0},o):D()}else{if(tA(t.props)&&!e.el.__isMounted){No(()=>{TI.process(e,t,n,r,a,o,s,u,d,f),delete e.el.__isMounted},o);return}t.el=e.el,t.targetStart=e.targetStart;const P=t.anchor=e.anchor,I=t.target=e.target,E=t.targetAnchor=e.targetAnchor,D=Cg(e.props),N=D?n:I,B=D?P:E;if(s==="svg"||nA(I)?s="svg":(s==="mathml"||rA(I))&&(s="mathml"),T?(y(e.dynamicChildren,T,N,a,o,s,u),GE(e,t,!0)):d||v(e,t,N,B,a,o,s,u,!1),M)D?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):By(t,n,P,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const G=t.target=VS(t.props,w);G&&By(t,G,null,f,0)}else D&&By(t,I,E,f,1);Pb(t,M)}},remove(e,t,n,{um:r,o:{remove:a}},o){const{shapeFlag:s,children:u,anchor:d,targetStart:f,targetAnchor:h,target:v,props:y}=e;if(v&&(a(f),a(h)),o&&a(d),s&16){const b=o||!Cg(y);for(let w=0;w<u.length;w++){const g=u[w];r(g,t,n,b,!!g.dynamicChildren)}}},move:By,hydrate:CH};function By(e,t,n,{o:{insert:r},m:a},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:u,shapeFlag:d,children:f,props:h}=e,v=o===2;if(v&&r(s,t,n),(!v||Cg(h))&&d&16)for(let y=0;y<f.length;y++)a(f[y],t,n,2);v&&r(u,t,n)}function CH(e,t,n,r,a,o,{o:{nextSibling:s,parentNode:u,querySelector:d,insert:f,createText:h}},v){const y=t.target=VS(t.props,d);if(y){const b=Cg(t.props),w=y._lpa||y.firstChild;if(t.shapeFlag&16)if(b)t.anchor=v(s(e),t,u(e),n,r,a,o),t.targetStart=w,t.targetAnchor=w&&s(w);else{t.anchor=s(e);let g=w;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,y._lpa=t.targetAnchor&&s(t.targetAnchor);break}}g=s(g)}t.targetAnchor||AI(y,t,h,f),v(w&&s(w),t,y,n,r,a,o)}Pb(t,b)}return t.anchor&&s(t.anchor)}const TH=TI;function Pb(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function AI(e,t,n,r){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[EI]=o,e&&(r(a,e),r(o,e)),o}const ed=Symbol("_leaveCb"),zy=Symbol("_enterCb");function LI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bn(()=>{e.isMounted=!0}),Yr(()=>{e.isUnmounting=!0}),e}const Ys=[Function,Array],RI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ys,onEnter:Ys,onAfterEnter:Ys,onEnterCancelled:Ys,onBeforeLeave:Ys,onLeave:Ys,onAfterLeave:Ys,onLeaveCancelled:Ys,onBeforeAppear:Ys,onAppear:Ys,onAfterAppear:Ys,onAppearCancelled:Ys},PI=e=>{const t=e.subTree;return t.component?PI(t.component):t},AH={name:"BaseTransition",props:RI,setup(e,{slots:t}){const n=Jn(),r=LI();return()=>{const a=t.default&&zE(t.default(),!0);if(!a||!a.length)return;const o=kI(a),s=ni(e),{mode:u}=s;if(r.isLeaving)return ox(o);const d=iA(o);if(!d)return ox(o);let f=Wg(d,s,r,n,v=>f=v);d.type!==La&&Wf(d,f);let h=n.subTree&&iA(n.subTree);if(h&&h.type!==La&&!xf(d,h)&&PI(n).type!==La){let v=Wg(h,s,r,n);if(Wf(h,v),u==="out-in"&&d.type!==La)return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete v.afterLeave,h=void 0},ox(o);u==="in-out"&&d.type!==La?v.delayLeave=(y,b,w)=>{const g=II(r,h);g[String(h.key)]=h,y[ed]=()=>{b(),y[ed]=void 0,delete f.delayedLeave,h=void 0},f.delayedLeave=()=>{w(),delete f.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return o}}};function kI(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==La){t=n;break}}return t}const LH=AH;function II(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Wg(e,t,n,r,a){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:h,onEnterCancelled:v,onBeforeLeave:y,onLeave:b,onAfterLeave:w,onLeaveCancelled:g,onBeforeAppear:x,onAppear:M,onAfterAppear:R,onAppearCancelled:A}=t,T=String(e.key),P=II(n,e),I=(N,B)=>{N&&Fl(N,r,9,B)},E=(N,B)=>{const G=B[1];I(N,B),Rt(N)?N.every($=>$.length<=1)&&G():N.length<=1&&G()},D={mode:s,persisted:u,beforeEnter(N){let B=d;if(!n.isMounted)if(o)B=x||d;else return;N[ed]&&N[ed](!0);const G=P[T];G&&xf(e,G)&&G.el[ed]&&G.el[ed](),I(B,[N])},enter(N){let B=f,G=h,$=v;if(!n.isMounted)if(o)B=M||f,G=R||h,$=A||v;else return;let Q=!1;const ae=N[zy]=ee=>{Q||(Q=!0,ee?I($,[N]):I(G,[N]),D.delayedLeave&&D.delayedLeave(),N[zy]=void 0)};B?E(B,[N,ae]):ae()},leave(N,B){const G=String(e.key);if(N[zy]&&N[zy](!0),n.isUnmounting)return B();I(y,[N]);let $=!1;const Q=N[ed]=ae=>{$||($=!0,B(),ae?I(g,[N]):I(w,[N]),N[ed]=void 0,P[G]===e&&delete P[G])};P[G]=e,b?E(b,[N,Q]):Q()},clone(N){const B=Wg(N,t,n,r,a);return a&&a(B),B}};return D}function ox(e){if(aw(e))return e=pc(e),e.children=null,e}function iA(e){if(!aw(e))return CI(e.type)&&e.children?kI(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&on(n.default))return n.default()}}function Wf(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Wf(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zE(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let s=e[o];const u=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===rn?(s.patchFlag&128&&a++,r=r.concat(zE(s.children,t,u))):(t||s.type!==La)&&r.push(u!=null?pc(s,{key:u}):s)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function we(e,t){return on(e)?Pa({name:e.name},t,{setup:e}):e}function OI(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function y_(e,t,n,r,a=!1){if(Rt(e)){e.forEach((w,g)=>y_(w,t&&(Rt(t)?t[g]:t),n,r,a));return}if(Bp(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&y_(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?uw(r.component):r.el,s=a?null:o,{i:u,r:d}=e,f=t&&t.r,h=u.refs===Fi?u.refs={}:u.refs,v=u.setupState,y=ni(v),b=v===Fi?()=>!1:w=>kr(y,w);if(f!=null&&f!==d&&(nn(f)?(h[f]=null,b(f)&&(v[f]=null)):vi(f)&&(f.value=null)),on(d))M0(d,u,12,[s,h]);else{const w=nn(d),g=vi(d);if(w||g){const x=()=>{if(e.f){const M=w?b(d)?v[d]:h[d]:d.value;a?Rt(M)&&LE(M,o):Rt(M)?M.includes(o)||M.push(o):w?(h[d]=[o],b(d)&&(v[d]=h[d])):(d.value=[o],e.k&&(h[e.k]=d.value))}else w?(h[d]=s,b(d)&&(v[d]=s)):g&&(d.value=s,e.k&&(h[e.k]=s))};s?(x.id=-1,No(x,n)):x()}}}tw().requestIdleCallback;tw().cancelIdleCallback;const Bp=e=>!!e.type.__asyncLoader,aw=e=>e.type.__isKeepAlive;function VE(e,t){NI(e,"a",t)}function DI(e,t){NI(e,"da",t)}function NI(e,t,n=eo){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(ow(t,r,n),n){let a=n.parent;for(;a&&a.parent;)aw(a.parent.vnode)&&RH(r,t,n,a),a=a.parent}}function RH(e,t,n,r){const a=ow(t,e,r,!0);Md(()=>{LE(r[t],a)},n)}function ow(e,t,n=eo,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{xd();const u=C0(n),d=Fl(t,n,e,s);return u(),Sd(),d});return r?a.unshift(o):a.push(o),o}}const _c=e=>(t,n=eo)=>{(!qg||e==="sp")&&ow(e,(...r)=>t(...r),n)},sw=_c("bm"),Bn=_c("m"),FI=_c("bu"),Hl=_c("u"),Yr=_c("bum"),Md=_c("um"),PH=_c("sp"),kH=_c("rtg"),IH=_c("rtc");function OH(e,t=eo){ow("ec",e,t)}const UE="components",DH="directives";function Zt(e,t){return HE(UE,e,!0,t)||e}const BI=Symbol.for("v-ndc");function tr(e){return nn(e)?HE(UE,e,!1)||e:e||BI}function E0(e){return HE(DH,e)}function HE(e,t,n=!0,r=!1){const a=Ga||eo;if(a){const o=a.type;if(e===UE){const u=b8(o,!1);if(u&&(u===t||u===$o(t)||u===S0($o(t))))return o}const s=aA(a[e]||o[e],t)||aA(a.appContext[e],t);return!s&&r?o:s}}function aA(e,t){return e&&(e[t]||e[$o(t)]||e[S0($o(t))])}function ar(e,t,n,r){let a;const o=n,s=Rt(e);if(s||nn(e)){const u=s&&Np(e);let d=!1;u&&(d=!nl(e),e=rw(e)),a=new Array(e.length);for(let f=0,h=e.length;f<h;f++)a[f]=t(d?_o(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let u=0;u<e;u++)a[u]=t(u+1,u,void 0,o)}else if(jn(e))if(e[Symbol.iterator])a=Array.from(e,(u,d)=>t(u,d,void 0,o));else{const u=Object.keys(e);a=new Array(u.length);for(let d=0,f=u.length;d<f;d++){const h=u[d];a[d]=t(e[h],h,d,o)}}else a=[];return a}function Fs(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Rt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const o=r.fn(...a);return o&&(o.key=r.key),o}:r.fn)}return e}function Ue(e,t,n={},r,a){if(Ga.ce||Ga.parent&&Bp(Ga.parent)&&Ga.parent.ce)return t!=="default"&&(n.name=t),W(),tt(rn,null,[ce("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),W();const s=o&&zI(o(n)),u=n.key||s&&s.key,d=tt(rn,{key:(u&&!Nl(u)?u:"_".concat(t))+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),o&&o._c&&(o._d=!0),d}function zI(e){return e.some(t=>Mi(t)?!(t.type===La||t.type===rn&&!zI(t.children)):!0)?e:null}function NH(e,t){const n={};for(const r in e)n[Sg(r)]=e[r];return n}const US=e=>e?aO(e)?uw(e):US(e.parent):null,Tg=Pa(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>US(e.parent),$root:e=>US(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>HI(e),$forceUpdate:e=>e.f||(e.f=()=>{BE(e.update)}),$nextTick:e=>e.n||(e.n=cn.bind(e.proxy)),$watch:e=>r8.bind(e)}),sx=(e,t)=>e!==Fi&&!e.__isScriptSetup&&kr(e,t),FH={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:s,type:u,appContext:d}=e;let f;if(t[0]!=="$"){const b=s[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(sx(r,t))return s[t]=1,r[t];if(a!==Fi&&kr(a,t))return s[t]=2,a[t];if((f=e.propsOptions[0])&&kr(f,t))return s[t]=3,o[t];if(n!==Fi&&kr(n,t))return s[t]=4,n[t];HS&&(s[t]=0)}}const h=Tg[t];let v,y;if(h)return t==="$attrs"&&bo(e.attrs,"get",""),h(e);if((v=u.__cssModules)&&(v=v[t]))return v;if(n!==Fi&&kr(n,t))return s[t]=4,n[t];if(y=d.config.globalProperties,kr(y,t))return y[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return sx(a,t)?(a[t]=n,!0):r!==Fi&&kr(r,t)?(r[t]=n,!0):kr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},s){let u;return!!n[s]||e!==Fi&&kr(e,s)||sx(t,s)||(u=o[0])&&kr(u,s)||kr(r,s)||kr(Tg,s)||kr(a.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:kr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ya(){return VI().slots}function wc(){return VI().attrs}function VI(){const e=Jn();return e.setupContext||(e.setupContext=sO(e))}function oA(e){return Rt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let HS=!0;function BH(e){const t=HI(e),n=e.proxy,r=e.ctx;HS=!1,t.beforeCreate&&sA(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:s,watch:u,provide:d,inject:f,created:h,beforeMount:v,mounted:y,beforeUpdate:b,updated:w,activated:g,deactivated:x,beforeDestroy:M,beforeUnmount:R,destroyed:A,unmounted:T,render:P,renderTracked:I,renderTriggered:E,errorCaptured:D,serverPrefetch:N,expose:B,inheritAttrs:G,components:$,directives:Q,filters:ae}=t;if(f&&zH(f,r,null),s)for(const X in s){const Z=s[X];on(Z)&&(r[X]=Z.bind(n))}if(a){const X=a.call(n,n);jn(X)&&(e.data=Ir(X))}if(HS=!0,o)for(const X in o){const Z=o[X],j=on(Z)?Z.bind(n,n):on(Z.get)?Z.get.bind(n,n):$r,ie=!on(Z)&&on(Z.set)?Z.set.bind(n):$r,pe=U({get:j,set:ie});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>pe.value,set:he=>pe.value=he})}if(u)for(const X in u)UI(u[X],r,n,X);if(d){const X=on(d)?d.call(n):d;Reflect.ownKeys(X).forEach(Z=>{or(Z,X[Z])})}h&&sA(h,e,"c");function K(X,Z){Rt(Z)?Z.forEach(j=>X(j.bind(n))):Z&&X(Z.bind(n))}if(K(sw,v),K(Bn,y),K(FI,b),K(Hl,w),K(VE,g),K(DI,x),K(OH,D),K(IH,I),K(kH,E),K(Yr,R),K(Md,T),K(PH,N),Rt(B))if(B.length){const X=e.exposed||(e.exposed={});B.forEach(Z=>{Object.defineProperty(X,Z,{get:()=>n[Z],set:j=>n[Z]=j})})}else e.exposed||(e.exposed={});P&&e.render===$r&&(e.render=P),G!=null&&(e.inheritAttrs=G),$&&(e.components=$),Q&&(e.directives=Q),N&&OI(e)}function zH(e,t,n=$r){Rt(e)&&(e=$S(e));for(const r in e){const a=e[r];let o;jn(a)?"default"in a?o=qt(a.from||r,a.default,!0):o=qt(a.from||r):o=qt(a),vi(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function sA(e,t,n){Fl(Rt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function UI(e,t,n,r){let a=r.includes(".")?eO(n,r):()=>n[r];if(nn(e)){const o=t[e];on(o)&&bt(a,o)}else if(on(e))bt(a,e.bind(n));else if(jn(e))if(Rt(e))e.forEach(o=>UI(o,t,n,r));else{const o=on(e.handler)?e.handler.bind(n):t[e.handler];on(o)&&bt(a,o,e)}}function HI(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,u=o.get(t);let d;return u?d=u:!a.length&&!n&&!r?d=t:(d={},a.length&&a.forEach(f=>b_(d,f,s,!0)),b_(d,t,s)),jn(t)&&o.set(t,d),d}function b_(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&b_(e,o,n,!0),a&&a.forEach(s=>b_(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const u=VH[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const VH={data:lA,props:uA,emits:uA,methods:pg,computed:pg,beforeCreate:Oo,created:Oo,beforeMount:Oo,mounted:Oo,beforeUpdate:Oo,updated:Oo,beforeDestroy:Oo,beforeUnmount:Oo,destroyed:Oo,unmounted:Oo,activated:Oo,deactivated:Oo,errorCaptured:Oo,serverPrefetch:Oo,components:pg,directives:pg,watch:HH,provide:lA,inject:UH};function lA(e,t){return t?e?function(){return Pa(on(e)?e.call(this,this):e,on(t)?t.call(this,this):t)}:t:e}function UH(e,t){return pg($S(e),$S(t))}function $S(e){if(Rt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oo(e,t){return e?[...new Set([].concat(e,t))]:t}function pg(e,t){return e?Pa(Object.create(null),e,t):t}function uA(e,t){return e?Rt(e)&&Rt(t)?[...new Set([...e,...t])]:Pa(Object.create(null),oA(e),oA(t!=null?t:{})):t}function HH(e,t){if(!e)return t;if(!t)return e;const n=Pa(Object.create(null),e);for(const r in t)n[r]=Oo(e[r],t[r]);return n}function $I(){return{app:null,config:{isNativeTag:O6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $H=0;function GH(e,t){return function(r,a=null){on(r)||(r=Pa({},r)),a!=null&&!jn(a)&&(a=null);const o=$I(),s=new WeakSet,u=[];let d=!1;const f=o.app={_uid:$H++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:w8,get config(){return o.config},set config(h){},use(h,...v){return s.has(h)||(h&&on(h.install)?(s.add(h),h.install(f,...v)):on(h)&&(s.add(h),h(f,...v))),f},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),f},component(h,v){return v?(o.components[h]=v,f):o.components[h]},directive(h,v){return v?(o.directives[h]=v,f):o.directives[h]},mount(h,v,y){if(!d){const b=f._ceVNode||ce(r,a);return b.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),e(b,h,y),d=!0,f._container=h,h.__vue_app__=f,uw(b.component)}},onUnmount(h){u.push(h)},unmount(){d&&(Fl(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(h,v){return o.provides[h]=v,f},runWithContext(h){const v=zp;zp=f;try{return h()}finally{zp=v}}};return f}}let zp=null;function or(e,t){if(eo){let n=eo.provides;const r=eo.parent&&eo.parent.provides;r===n&&(n=eo.provides=Object.create(r)),n[e]=t}}function qt(e,t,n=!1){const r=eo||Ga;if(r||zp){const a=zp?zp._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&on(t)?t.call(r&&r.proxy):t}}const GI={},WI=()=>Object.create(GI),jI=e=>Object.getPrototypeOf(e)===GI;function WH(e,t,n,r=!1){const a={},o=WI();e.propsDefaults=Object.create(null),qI(e,t,a,o);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);n?e.props=r?a:DE(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function jH(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:s}}=e,u=ni(a),[d]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let v=0;v<h.length;v++){let y=h[v];if(lw(e.emitsOptions,y))continue;const b=t[y];if(d)if(kr(o,y))b!==o[y]&&(o[y]=b,f=!0);else{const w=$o(y);a[w]=GS(d,u,w,b,e,!1)}else b!==o[y]&&(o[y]=b,f=!0)}}}else{qI(e,t,a,o)&&(f=!0);let h;for(const v in u)(!t||!kr(t,v)&&((h=bc(v))===v||!kr(t,h)))&&(d?n&&(n[v]!==void 0||n[h]!==void 0)&&(a[v]=GS(d,u,v,void 0,e,!0)):delete a[v]);if(o!==u)for(const v in o)(!t||!kr(t,v))&&(delete o[v],f=!0)}f&&lc(e.attrs,"set","")}function qI(e,t,n,r){const[a,o]=e.propsOptions;let s=!1,u;if(t)for(let d in t){if(xg(d))continue;const f=t[d];let h;a&&kr(a,h=$o(d))?!o||!o.includes(h)?n[h]=f:(u||(u={}))[h]=f:lw(e.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,s=!0)}if(o){const d=ni(n),f=u||Fi;for(let h=0;h<o.length;h++){const v=o[h];n[v]=GS(a,d,v,f[v],e,!kr(f,v))}}return s}function GS(e,t,n,r,a,o){const s=e[n];if(s!=null){const u=kr(s,"default");if(u&&r===void 0){const d=s.default;if(s.type!==Function&&!s.skipFactory&&on(d)){const{propsDefaults:f}=a;if(n in f)r=f[n];else{const h=C0(a);r=f[n]=d.call(null,t),h()}}else r=d;a.ce&&a.ce._setProp(n,r)}s[0]&&(o&&!u?r=!1:s[1]&&(r===""||r===bc(n))&&(r=!0))}return r}const qH=new WeakMap;function KI(e,t,n=!1){const r=n?qH:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,s={},u=[];let d=!1;if(!on(e)){const h=v=>{d=!0;const[y,b]=KI(v,t,!0);Pa(s,y),b&&u.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!d)return jn(e)&&r.set(e,Op),Op;if(Rt(o))for(let h=0;h<o.length;h++){const v=$o(o[h]);cA(v)&&(s[v]=Fi)}else if(o)for(const h in o){const v=$o(h);if(cA(v)){const y=o[h],b=s[v]=Rt(y)||on(y)?{type:y}:Pa({},y),w=b.type;let g=!1,x=!0;if(Rt(w))for(let M=0;M<w.length;++M){const R=w[M],A=on(R)&&R.name;if(A==="Boolean"){g=!0;break}else A==="String"&&(x=!1)}else g=on(w)&&w.name==="Boolean";b[0]=g,b[1]=x,(g||kr(b,"default"))&&u.push(v)}}const f=[s,u];return jn(e)&&r.set(e,f),f}function cA(e){return e[0]!=="$"&&!xg(e)}const YI=e=>e[0]==="_"||e==="$stable",$E=e=>Rt(e)?e.map(_u):[_u(e)],KH=(e,t,n)=>{if(t._n)return t;const r=be((...a)=>$E(t(...a)),n);return r._c=!1,r},XI=(e,t,n)=>{const r=e._ctx;for(const a in e){if(YI(a))continue;const o=e[a];if(on(o))t[a]=KH(a,o,r);else if(o!=null){const s=$E(o);t[a]=()=>s}}},ZI=(e,t)=>{const n=$E(t);e.slots.default=()=>n},JI=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},YH=(e,t,n)=>{const r=e.slots=WI();if(e.vnode.shapeFlag&32){const a=t._;a?(JI(r,t,n),n&&Yk(r,"_",a,!0)):XI(t,r)}else t&&ZI(e,t)},XH=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,s=Fi;if(r.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:JI(a,t,n):(o=!t.$stable,XI(t,a)),s=t}else t&&(ZI(e,t),s={default:1});if(o)for(const u in a)!YI(u)&&s[u]==null&&delete a[u]},No=c8;function ZH(e){return JH(e)}function JH(e,t){const n=tw();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:s,createText:u,createComment:d,setText:f,setElementText:h,parentNode:v,nextSibling:y,setScopeId:b=$r,insertStaticContent:w}=e,g=(se,ye,He,dt=null,pt=null,nt=null,ot=void 0,rt=null,At=!!ye.dynamicChildren)=>{if(se===ye)return;se&&!xf(se,ye)&&(dt=ge(se),he(se,pt,nt,!0),se=null),ye.patchFlag===-2&&(At=!1,ye.dynamicChildren=null);const{type:Mt,ref:Me,shapeFlag:ve}=ye;switch(Mt){case xm:x(se,ye,He,dt);break;case La:M(se,ye,He,dt);break;case ux:se==null&&R(ye,He,dt,ot);break;case rn:$(se,ye,He,dt,pt,nt,ot,rt,At);break;default:ve&1?P(se,ye,He,dt,pt,nt,ot,rt,At):ve&6?Q(se,ye,He,dt,pt,nt,ot,rt,At):(ve&64||ve&128)&&Mt.process(se,ye,He,dt,pt,nt,ot,rt,At,Xe)}Me!=null&&pt&&y_(Me,se&&se.ref,nt,ye||se,!ye)},x=(se,ye,He,dt)=>{if(se==null)r(ye.el=u(ye.children),He,dt);else{const pt=ye.el=se.el;ye.children!==se.children&&f(pt,ye.children)}},M=(se,ye,He,dt)=>{se==null?r(ye.el=d(ye.children||""),He,dt):ye.el=se.el},R=(se,ye,He,dt)=>{[se.el,se.anchor]=w(se.children,ye,He,dt,se.el,se.anchor)},A=({el:se,anchor:ye},He,dt)=>{let pt;for(;se&&se!==ye;)pt=y(se),r(se,He,dt),se=pt;r(ye,He,dt)},T=({el:se,anchor:ye})=>{let He;for(;se&&se!==ye;)He=y(se),a(se),se=He;a(ye)},P=(se,ye,He,dt,pt,nt,ot,rt,At)=>{ye.type==="svg"?ot="svg":ye.type==="math"&&(ot="mathml"),se==null?I(ye,He,dt,pt,nt,ot,rt,At):N(se,ye,pt,nt,ot,rt,At)},I=(se,ye,He,dt,pt,nt,ot,rt)=>{let At,Mt;const{props:Me,shapeFlag:ve,transition:Fe,dirs:qe}=se;if(At=se.el=s(se.type,nt,Me&&Me.is,Me),ve&8?h(At,se.children):ve&16&&D(se.children,At,null,dt,pt,lx(se,nt),ot,rt),qe&&lf(se,null,dt,"created"),E(At,se,se.scopeId,ot,dt),Me){for(const $t in Me)$t!=="value"&&!xg($t)&&o(At,$t,null,Me[$t],nt,dt);"value"in Me&&o(At,"value",null,Me.value,nt),(Mt=Me.onVnodeBeforeMount)&&hu(Mt,dt,se)}qe&&lf(se,null,dt,"beforeMount");const Et=QH(pt,Fe);Et&&Fe.beforeEnter(At),r(At,ye,He),((Mt=Me&&Me.onVnodeMounted)||Et||qe)&&No(()=>{Mt&&hu(Mt,dt,se),Et&&Fe.enter(At),qe&&lf(se,null,dt,"mounted")},pt)},E=(se,ye,He,dt,pt)=>{if(He&&b(se,He),dt)for(let nt=0;nt<dt.length;nt++)b(se,dt[nt]);if(pt){let nt=pt.subTree;if(ye===nt||nO(nt.type)&&(nt.ssContent===ye||nt.ssFallback===ye)){const ot=pt.vnode;E(se,ot,ot.scopeId,ot.slotScopeIds,pt.parent)}}},D=(se,ye,He,dt,pt,nt,ot,rt,At=0)=>{for(let Mt=At;Mt<se.length;Mt++){const Me=se[Mt]=rt?td(se[Mt]):_u(se[Mt]);g(null,Me,ye,He,dt,pt,nt,ot,rt)}},N=(se,ye,He,dt,pt,nt,ot)=>{const rt=ye.el=se.el;let{patchFlag:At,dynamicChildren:Mt,dirs:Me}=ye;At|=se.patchFlag&16;const ve=se.props||Fi,Fe=ye.props||Fi;let qe;if(He&&uf(He,!1),(qe=Fe.onVnodeBeforeUpdate)&&hu(qe,He,ye,se),Me&&lf(ye,se,He,"beforeUpdate"),He&&uf(He,!0),(ve.innerHTML&&Fe.innerHTML==null||ve.textContent&&Fe.textContent==null)&&h(rt,""),Mt?B(se.dynamicChildren,Mt,rt,He,dt,lx(ye,pt),nt):ot||Z(se,ye,rt,null,He,dt,lx(ye,pt),nt,!1),At>0){if(At&16)G(rt,ve,Fe,He,pt);else if(At&2&&ve.class!==Fe.class&&o(rt,"class",null,Fe.class,pt),At&4&&o(rt,"style",ve.style,Fe.style,pt),At&8){const Et=ye.dynamicProps;for(let $t=0;$t<Et.length;$t++){const Yt=Et[$t],We=ve[Yt],lt=Fe[Yt];(lt!==We||Yt==="value")&&o(rt,Yt,We,lt,pt,He)}}At&1&&se.children!==ye.children&&h(rt,ye.children)}else!ot&&Mt==null&&G(rt,ve,Fe,He,pt);((qe=Fe.onVnodeUpdated)||Me)&&No(()=>{qe&&hu(qe,He,ye,se),Me&&lf(ye,se,He,"updated")},dt)},B=(se,ye,He,dt,pt,nt,ot)=>{for(let rt=0;rt<ye.length;rt++){const At=se[rt],Mt=ye[rt],Me=At.el&&(At.type===rn||!xf(At,Mt)||At.shapeFlag&70)?v(At.el):He;g(At,Mt,Me,null,dt,pt,nt,ot,!0)}},G=(se,ye,He,dt,pt)=>{if(ye!==He){if(ye!==Fi)for(const nt in ye)!xg(nt)&&!(nt in He)&&o(se,nt,ye[nt],null,pt,dt);for(const nt in He){if(xg(nt))continue;const ot=He[nt],rt=ye[nt];ot!==rt&&nt!=="value"&&o(se,nt,rt,ot,pt,dt)}"value"in He&&o(se,"value",ye.value,He.value,pt)}},$=(se,ye,He,dt,pt,nt,ot,rt,At)=>{const Mt=ye.el=se?se.el:u(""),Me=ye.anchor=se?se.anchor:u("");let{patchFlag:ve,dynamicChildren:Fe,slotScopeIds:qe}=ye;qe&&(rt=rt?rt.concat(qe):qe),se==null?(r(Mt,He,dt),r(Me,He,dt),D(ye.children||[],He,Me,pt,nt,ot,rt,At)):ve>0&&ve&64&&Fe&&se.dynamicChildren?(B(se.dynamicChildren,Fe,He,pt,nt,ot,rt),(ye.key!=null||pt&&ye===pt.subTree)&&GE(se,ye,!0)):Z(se,ye,He,Me,pt,nt,ot,rt,At)},Q=(se,ye,He,dt,pt,nt,ot,rt,At)=>{ye.slotScopeIds=rt,se==null?ye.shapeFlag&512?pt.ctx.activate(ye,He,dt,ot,At):ae(ye,He,dt,pt,nt,ot,At):ee(se,ye,At)},ae=(se,ye,He,dt,pt,nt,ot)=>{const rt=se.component=m8(se,dt,pt);if(aw(se)&&(rt.ctx.renderer=Xe),v8(rt,!1,ot),rt.asyncDep){if(pt&&pt.registerDep(rt,K,ot),!se.el){const At=rt.subTree=ce(La);M(null,At,ye,He)}}else K(rt,se,ye,He,pt,nt,ot)},ee=(se,ye,He)=>{const dt=ye.component=se.component;if(l8(se,ye,He))if(dt.asyncDep&&!dt.asyncResolved){X(dt,ye,He);return}else dt.next=ye,dt.update();else ye.el=se.el,dt.vnode=ye},K=(se,ye,He,dt,pt,nt,ot)=>{const rt=()=>{if(se.isMounted){let{next:ve,bu:Fe,u:qe,parent:Et,vnode:$t}=se;{const Tt=QI(se);if(Tt){ve&&(ve.el=$t.el,X(se,ve,ot)),Tt.asyncDep.then(()=>{se.isUnmounted||rt()});return}}let Yt=ve,We;uf(se,!1),ve?(ve.el=$t.el,X(se,ve,ot)):ve=$t,Fe&&Rb(Fe),(We=ve.props&&ve.props.onVnodeBeforeUpdate)&&hu(We,Et,ve,$t),uf(se,!0);const lt=fA(se),sn=se.subTree;se.subTree=lt,g(sn,lt,v(sn.el),ge(sn),se,pt,nt),ve.el=lt.el,Yt===null&&u8(se,lt.el),qe&&No(qe,pt),(We=ve.props&&ve.props.onVnodeUpdated)&&No(()=>hu(We,Et,ve,$t),pt)}else{let ve;const{el:Fe,props:qe}=ye,{bm:Et,m:$t,parent:Yt,root:We,type:lt}=se,sn=Bp(ye);uf(se,!1),Et&&Rb(Et),!sn&&(ve=qe&&qe.onVnodeBeforeMount)&&hu(ve,Yt,ye),uf(se,!0);{We.ce&&We.ce._injectChildStyle(lt);const Tt=se.subTree=fA(se);g(null,Tt,He,dt,se,pt,nt),ye.el=Tt.el}if($t&&No($t,pt),!sn&&(ve=qe&&qe.onVnodeMounted)){const Tt=ye;No(()=>hu(ve,Yt,Tt),pt)}(ye.shapeFlag&256||Yt&&Bp(Yt.vnode)&&Yt.vnode.shapeFlag&256)&&se.a&&No(se.a,pt),se.isMounted=!0,ye=He=dt=null}};se.scope.on();const At=se.effect=new rI(rt);se.scope.off();const Mt=se.update=At.run.bind(At),Me=se.job=At.runIfDirty.bind(At);Me.i=se,Me.id=se.uid,At.scheduler=()=>BE(Me),uf(se,!0),Mt()},X=(se,ye,He)=>{ye.component=se;const dt=se.vnode.props;se.vnode=ye,se.next=null,jH(se,ye.props,dt,He),XH(se,ye.children,He),xd(),eA(se),Sd()},Z=(se,ye,He,dt,pt,nt,ot,rt,At=!1)=>{const Mt=se&&se.children,Me=se?se.shapeFlag:0,ve=ye.children,{patchFlag:Fe,shapeFlag:qe}=ye;if(Fe>0){if(Fe&128){ie(Mt,ve,He,dt,pt,nt,ot,rt,At);return}else if(Fe&256){j(Mt,ve,He,dt,pt,nt,ot,rt,At);return}}qe&8?(Me&16&&Te(Mt,pt,nt),ve!==Mt&&h(He,ve)):Me&16?qe&16?ie(Mt,ve,He,dt,pt,nt,ot,rt,At):Te(Mt,pt,nt,!0):(Me&8&&h(He,""),qe&16&&D(ve,He,dt,pt,nt,ot,rt,At))},j=(se,ye,He,dt,pt,nt,ot,rt,At)=>{se=se||Op,ye=ye||Op;const Mt=se.length,Me=ye.length,ve=Math.min(Mt,Me);let Fe;for(Fe=0;Fe<ve;Fe++){const qe=ye[Fe]=At?td(ye[Fe]):_u(ye[Fe]);g(se[Fe],qe,He,null,pt,nt,ot,rt,At)}Mt>Me?Te(se,pt,nt,!0,!1,ve):D(ye,He,dt,pt,nt,ot,rt,At,ve)},ie=(se,ye,He,dt,pt,nt,ot,rt,At)=>{let Mt=0;const Me=ye.length;let ve=se.length-1,Fe=Me-1;for(;Mt<=ve&&Mt<=Fe;){const qe=se[Mt],Et=ye[Mt]=At?td(ye[Mt]):_u(ye[Mt]);if(xf(qe,Et))g(qe,Et,He,null,pt,nt,ot,rt,At);else break;Mt++}for(;Mt<=ve&&Mt<=Fe;){const qe=se[ve],Et=ye[Fe]=At?td(ye[Fe]):_u(ye[Fe]);if(xf(qe,Et))g(qe,Et,He,null,pt,nt,ot,rt,At);else break;ve--,Fe--}if(Mt>ve){if(Mt<=Fe){const qe=Fe+1,Et=qe<Me?ye[qe].el:dt;for(;Mt<=Fe;)g(null,ye[Mt]=At?td(ye[Mt]):_u(ye[Mt]),He,Et,pt,nt,ot,rt,At),Mt++}}else if(Mt>Fe)for(;Mt<=ve;)he(se[Mt],pt,nt,!0),Mt++;else{const qe=Mt,Et=Mt,$t=new Map;for(Mt=Et;Mt<=Fe;Mt++){const Ke=ye[Mt]=At?td(ye[Mt]):_u(ye[Mt]);Ke.key!=null&&$t.set(Ke.key,Mt)}let Yt,We=0;const lt=Fe-Et+1;let sn=!1,Tt=0;const je=new Array(lt);for(Mt=0;Mt<lt;Mt++)je[Mt]=0;for(Mt=qe;Mt<=ve;Mt++){const Ke=se[Mt];if(We>=lt){he(Ke,pt,nt,!0);continue}let Ee;if(Ke.key!=null)Ee=$t.get(Ke.key);else for(Yt=Et;Yt<=Fe;Yt++)if(je[Yt-Et]===0&&xf(Ke,ye[Yt])){Ee=Yt;break}Ee===void 0?he(Ke,pt,nt,!0):(je[Ee-Et]=Mt+1,Ee>=Tt?Tt=Ee:sn=!0,g(Ke,ye[Ee],He,null,pt,nt,ot,rt,At),We++)}const xe=sn?e8(je):Op;for(Yt=xe.length-1,Mt=lt-1;Mt>=0;Mt--){const Ke=Et+Mt,Ee=ye[Ke],wt=Ke+1<Me?ye[Ke+1].el:dt;je[Mt]===0?g(null,Ee,He,wt,pt,nt,ot,rt,At):sn&&(Yt<0||Mt!==xe[Yt]?pe(Ee,He,wt,2):Yt--)}}},pe=(se,ye,He,dt,pt=null)=>{const{el:nt,type:ot,transition:rt,children:At,shapeFlag:Mt}=se;if(Mt&6){pe(se.component.subTree,ye,He,dt);return}if(Mt&128){se.suspense.move(ye,He,dt);return}if(Mt&64){ot.move(se,ye,He,Xe);return}if(ot===rn){r(nt,ye,He);for(let ve=0;ve<At.length;ve++)pe(At[ve],ye,He,dt);r(se.anchor,ye,He);return}if(ot===ux){A(se,ye,He);return}if(dt!==2&&Mt&1&&rt)if(dt===0)rt.beforeEnter(nt),r(nt,ye,He),No(()=>rt.enter(nt),pt);else{const{leave:ve,delayLeave:Fe,afterLeave:qe}=rt,Et=()=>r(nt,ye,He),$t=()=>{ve(nt,()=>{Et(),qe&&qe()})};Fe?Fe(nt,Et,$t):$t()}else r(nt,ye,He)},he=(se,ye,He,dt=!1,pt=!1)=>{const{type:nt,props:ot,ref:rt,children:At,dynamicChildren:Mt,shapeFlag:Me,patchFlag:ve,dirs:Fe,cacheIndex:qe}=se;if(ve===-2&&(pt=!1),rt!=null&&y_(rt,null,He,se,!0),qe!=null&&(ye.renderCache[qe]=void 0),Me&256){ye.ctx.deactivate(se);return}const Et=Me&1&&Fe,$t=!Bp(se);let Yt;if($t&&(Yt=ot&&ot.onVnodeBeforeUnmount)&&hu(Yt,ye,se),Me&6)De(se.component,He,dt);else{if(Me&128){se.suspense.unmount(He,dt);return}Et&&lf(se,null,ye,"beforeUnmount"),Me&64?se.type.remove(se,ye,He,Xe,dt):Mt&&!Mt.hasOnce&&(nt!==rn||ve>0&&ve&64)?Te(Mt,ye,He,!1,!0):(nt===rn&&ve&384||!pt&&Me&16)&&Te(At,ye,He),dt&&le(se)}($t&&(Yt=ot&&ot.onVnodeUnmounted)||Et)&&No(()=>{Yt&&hu(Yt,ye,se),Et&&lf(se,null,ye,"unmounted")},He)},le=se=>{const{type:ye,el:He,anchor:dt,transition:pt}=se;if(ye===rn){Re(He,dt);return}if(ye===ux){T(se);return}const nt=()=>{a(He),pt&&!pt.persisted&&pt.afterLeave&&pt.afterLeave()};if(se.shapeFlag&1&&pt&&!pt.persisted){const{leave:ot,delayLeave:rt}=pt,At=()=>ot(He,nt);rt?rt(se.el,nt,At):At()}else nt()},Re=(se,ye)=>{let He;for(;se!==ye;)He=y(se),a(se),se=He;a(ye)},De=(se,ye,He)=>{const{bum:dt,scope:pt,job:nt,subTree:ot,um:rt,m:At,a:Mt}=se;dA(At),dA(Mt),dt&&Rb(dt),pt.stop(),nt&&(nt.flags|=8,he(ot,se,ye,He)),rt&&No(rt,ye),No(()=>{se.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},Te=(se,ye,He,dt=!1,pt=!1,nt=0)=>{for(let ot=nt;ot<se.length;ot++)he(se[ot],ye,He,dt,pt)},ge=se=>{if(se.shapeFlag&6)return ge(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const ye=y(se.anchor||se.el),He=ye&&ye[EI];return He?y(He):ye};let ke=!1;const Pe=(se,ye,He)=>{se==null?ye._vnode&&he(ye._vnode,null,null,!0):g(ye._vnode||null,se,ye,null,null,null,He),ye._vnode=se,ke||(ke=!0,eA(),xI(),ke=!1)},Xe={p:g,um:he,m:pe,r:le,mt:ae,mc:D,pc:Z,pbc:B,n:ge,o:e};return{render:Pe,hydrate:void 0,createApp:GH(Pe)}}function lx({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function uf({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function QH(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function GE(e,t,n=!1){const r=e.children,a=t.children;if(Rt(r)&&Rt(a))for(let o=0;o<r.length;o++){const s=r[o];let u=a[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[o]=td(a[o]),u.el=s.el),!n&&u.patchFlag!==-2&&GE(s,u)),u.type===xm&&(u.el=s.el)}}function e8(e){const t=e.slice(),n=[0];let r,a,o,s,u;const d=e.length;for(r=0;r<d;r++){const f=e[r];if(f!==0){if(a=n[n.length-1],e[a]<f){t[r]=a,n.push(r);continue}for(o=0,s=n.length-1;o<s;)u=o+s>>1,e[n[u]]<f?o=u+1:s=u;f<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function QI(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:QI(t)}function dA(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const t8=Symbol.for("v-scx"),n8=()=>qt(t8);function to(e,t){return WE(e,null,t)}function bt(e,t,n){return WE(e,t,n)}function WE(e,t,n=Fi){const{immediate:r,deep:a,flush:o,once:s}=n,u=Pa({},n),d=t&&r||!t&&o!=="post";let f;if(qg){if(o==="sync"){const b=n8();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!d){const b=()=>{};return b.stop=$r,b.resume=$r,b.pause=$r,b}}const h=eo;u.call=(b,w,g)=>Fl(b,h,w,g);let v=!1;o==="post"?u.scheduler=b=>{No(b,h&&h.suspense)}:o!=="sync"&&(v=!0,u.scheduler=(b,w)=>{w?b():BE(b)}),u.augmentJob=b=>{t&&(b.flags|=4),v&&(b.flags|=2,h&&(b.id=h.uid,b.i=h))};const y=xH(e,t,u);return qg&&(f?f.push(y):d&&y()),y}function r8(e,t,n){const r=this.proxy,a=nn(e)?e.includes(".")?eO(r,e):()=>r[e]:e.bind(r,r);let o;on(t)?o=t:(o=t.handler,n=t);const s=C0(this),u=WE(a,o.bind(r),n);return s(),u}function eO(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const i8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e["".concat(t,"Modifiers")]||e["".concat($o(t),"Modifiers")]||e["".concat(bc(t),"Modifiers")];function a8(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Fi;let a=n;const o=t.startsWith("update:"),s=o&&i8(r,t.slice(7));s&&(s.trim&&(a=n.map(h=>nn(h)?h.trim():h)),s.number&&(a=n.map(DS)));let u,d=r[u=Sg(t)]||r[u=Sg($o(t))];!d&&o&&(d=r[u=Sg(bc(t))]),d&&Fl(d,e,6,a);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Fl(f,e,6,a)}}function tO(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let s={},u=!1;if(!on(e)){const d=f=>{const h=tO(f,t,!0);h&&(u=!0,Pa(s,h))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!o&&!u?(jn(e)&&r.set(e,null),null):(Rt(o)?o.forEach(d=>s[d]=null):Pa(s,o),jn(e)&&r.set(e,s),s)}function lw(e,t){return!e||!J_(t)?!1:(t=t.slice(2).replace(/Once$/,""),kr(e,t[0].toLowerCase()+t.slice(1))||kr(e,bc(t))||kr(e,t))}function fA(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:s,attrs:u,emit:d,render:f,renderCache:h,props:v,data:y,setupState:b,ctx:w,inheritAttrs:g}=e,x=g_(e);let M,R;try{if(n.shapeFlag&4){const T=a||r,P=T;M=_u(f.call(P,T,h,v,b,y,w)),R=u}else{const T=t;M=_u(T.length>1?T(v,{attrs:u,slots:s,emit:d}):T(v,null)),R=t.props?u:o8(u)}}catch(T){Ag.length=0,iw(T,e,1),M=ce(La)}let A=M;if(R&&g!==!1){const T=Object.keys(R),{shapeFlag:P}=A;T.length&&P&7&&(o&&T.some(AE)&&(R=s8(R,o)),A=pc(A,R,!1,!0))}return n.dirs&&(A=pc(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Wf(A,n.transition),M=A,g_(x),M}const o8=e=>{let t;for(const n in e)(n==="class"||n==="style"||J_(n))&&((t||(t={}))[n]=e[n]);return t},s8=(e,t)=>{const n={};for(const r in e)(!AE(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function l8(e,t,n){const{props:r,children:a,component:o}=e,{props:s,children:u,patchFlag:d}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?hA(r,s,f):!!s;if(d&8){const h=t.dynamicProps;for(let v=0;v<h.length;v++){const y=h[v];if(s[y]!==r[y]&&!lw(f,y))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:r===s?!1:r?s?hA(r,s,f):!0:!!s;return!1}function hA(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!lw(n,o))return!0}return!1}function u8({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const nO=e=>e.__isSuspense;function c8(e,t){t&&t.pendingBranch?Rt(e)?t.effects.push(...e):t.effects.push(e):EH(e)}const rn=Symbol.for("v-fgt"),xm=Symbol.for("v-txt"),La=Symbol.for("v-cmt"),ux=Symbol.for("v-stc"),Ag=[];let Rs=null;function W(e=!1){Ag.push(Rs=e?null:[])}function d8(){Ag.pop(),Rs=Ag[Ag.length-1]||null}let jg=1;function pA(e,t=!1){jg+=e,e<0&&Rs&&t&&(Rs.hasOnce=!0)}function rO(e){return e.dynamicChildren=jg>0?Rs||Op:null,d8(),jg>0&&Rs&&Rs.push(e),e}function ue(e,t,n,r,a,o){return rO(fe(e,t,n,r,a,o,!0))}function tt(e,t,n,r,a){return rO(ce(e,t,n,r,a,!0))}function Mi(e){return e?e.__v_isVNode===!0:!1}function xf(e,t){return e.type===t.type&&e.key===t.key}const iO=({key:e})=>e!=null?e:null,kb=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nn(e)||vi(e)||on(e)?{i:Ga,r:e,k:t,f:!!n}:e:null);function fe(e,t=null,n=null,r=0,a=null,o=e===rn?0:1,s=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&iO(t),ref:t&&kb(t),scopeId:MI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ga};return u?(jE(d,n),o&128&&e.normalize(d)):n&&(d.shapeFlag|=nn(n)?8:16),jg>0&&!s&&Rs&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Rs.push(d),d}const ce=f8;function f8(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===BI)&&(e=La),Mi(e)){const u=pc(e,t,!0);return n&&jE(u,n),jg>0&&!o&&Rs&&(u.shapeFlag&6?Rs[Rs.indexOf(e)]=u:Rs.push(u)),u.patchFlag=-2,u}if(_8(e)&&(e=e.__vccOpts),t){t=Lu(t);let{class:u,style:d}=t;u&&!nn(u)&&(t.class=J(u)),jn(d)&&(FE(d)&&!Rt(d)&&(d=Pa({},d)),t.style=un(d))}const s=nn(e)?1:nO(e)?128:CI(e)?64:jn(e)?4:on(e)?2:0;return fe(e,t,n,r,a,s,o,!0)}function Lu(e){return e?FE(e)||jI(e)?Pa({},e):e:null}function pc(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:s,children:u,transition:d}=e,f=t?nr(a||{},t):a,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&iO(f),ref:t&&t.ref?n&&o?Rt(o)?o.concat(kb(t)):[o,kb(t)]:kb(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pc(e.ssContent),ssFallback:e.ssFallback&&pc(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&r&&Wf(h,d.clone(h)),h}function Pn(e=" ",t=0){return ce(xm,null,e,t)}function Ye(e="",t=!1){return t?(W(),tt(La,null,e)):ce(La,null,e)}function _u(e){return e==null||typeof e=="boolean"?ce(La):Rt(e)?ce(rn,null,e.slice()):Mi(e)?td(e):ce(xm,null,String(e))}function td(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pc(e)}function jE(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Rt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),jE(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!jI(t)?t._ctx=Ga:a===3&&Ga&&(Ga.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else on(t)?(t={default:t,_ctx:Ga},n=32):(t=String(t),r&64?(n=16,t=[Pn(t)]):n=8);e.children=t,e.shapeFlag|=n}function nr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=J([t.class,r.class]));else if(a==="style")t.style=un([t.style,r.style]);else if(J_(a)){const o=t[a],s=r[a];s&&o!==s&&!(Rt(o)&&o.includes(s))&&(t[a]=o?[].concat(o,s):s)}else a!==""&&(t[a]=r[a])}return t}function hu(e,t,n,r=null){Fl(e,t,7,[n,r])}const h8=$I();let p8=0;function m8(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||h8,o={uid:p8++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:KI(r,a),emitsOptions:tO(r,a),emit:null,emitted:null,propsDefaults:Fi,inheritAttrs:r.inheritAttrs,ctx:Fi,data:Fi,props:Fi,attrs:Fi,slots:Fi,refs:Fi,setupState:Fi,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=a8.bind(null,o),e.ce&&e.ce(o),o}let eo=null;const Jn=()=>eo||Ga;let __,WS;{const e=tw(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(s=>s(o)):a[0](o)}};__=t("__VUE_INSTANCE_SETTERS__",n=>eo=n),WS=t("__VUE_SSR_SETTERS__",n=>qg=n)}const C0=e=>{const t=eo;return __(e),e.scope.on(),()=>{e.scope.off(),__(t)}},mA=()=>{eo&&eo.scope.off(),__(null)};function aO(e){return e.vnode.shapeFlag&4}let qg=!1;function v8(e,t=!1,n=!1){t&&WS(t);const{props:r,children:a}=e.vnode,o=aO(e);WH(e,r,o,t),YH(e,a,n);const s=o?g8(e,t):void 0;return t&&WS(!1),s}function g8(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,FH);const{setup:r}=n;if(r){xd();const a=e.setupContext=r.length>1?sO(e):null,o=C0(e),s=M0(r,e,0,[e.props,a]),u=Vg(s);if(Sd(),o(),(u||e.sp)&&!Bp(e)&&OI(e),u){if(s.then(mA,mA),t)return s.then(d=>{vA(e,d)}).catch(d=>{iw(d,e,0)});e.asyncDep=s}else vA(e,s)}else oO(e)}function vA(e,t,n){on(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:jn(t)&&(e.setupState=yI(t)),oO(e)}function oO(e,t,n){const r=e.type;e.render||(e.render=r.render||$r);{const a=C0(e);xd();try{BH(e)}finally{Sd(),a()}}}const y8={get(e,t){return bo(e,"get",""),e[t]}};function sO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,y8),slots:e.slots,emit:e.emit,expose:t}}function uw(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yI(ld(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Tg)return Tg[n](e)},has(t,n){return n in t||n in Tg}})):e.proxy}function b8(e,t=!0){return on(e)?e.displayName||e.name:e.name||t&&e.__name}function _8(e){return on(e)&&"__vccOpts"in e}const U=(e,t)=>_H(e,t,qg);function mn(e,t,n){const r=arguments.length;return r===2?jn(t)&&!Rt(t)?Mi(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mi(n)&&(n=[n]),ce(e,t,n))}const w8="3.5.13",x8=$r;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jS;const gA=typeof window<"u"&&window.trustedTypes;if(gA)try{jS=gA.createPolicy("vue",{createHTML:e=>e})}catch(e){}const lO=jS?e=>jS.createHTML(e):e=>e,S8="http://www.w3.org/2000/svg",M8="http://www.w3.org/1998/Math/MathML",ac=typeof document<"u"?document:null,yA=ac&&ac.createElement("template"),E8={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?ac.createElementNS(S8,e):t==="mathml"?ac.createElementNS(M8,e):n?ac.createElement(e,{is:n}):ac.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>ac.createTextNode(e),createComment:e=>ac.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ac.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const s=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{yA.innerHTML=lO(r==="svg"?"<svg>".concat(e,"</svg>"):r==="mathml"?"<math>".concat(e,"</math>"):e);const u=yA.content;if(r==="svg"||r==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Hc="transition",Yv="animation",Yp=Symbol("_vtc"),uO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cO=Pa({},RI,uO),C8=e=>(e.displayName="Transition",e.props=cO,e),Ia=C8((e,{slots:t})=>mn(LH,dO(e),t)),cf=(e,t=[])=>{Rt(e)?e.forEach(n=>n(...t)):e&&e(...t)},bA=e=>e?Rt(e)?e.some(t=>t.length>1):e.length>1:!1;function dO(e){const t={};for(const $ in e)$ in uO||(t[$]=e[$]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:o="".concat(n,"-enter-from"),enterActiveClass:s="".concat(n,"-enter-active"),enterToClass:u="".concat(n,"-enter-to"),appearFromClass:d=o,appearActiveClass:f=s,appearToClass:h=u,leaveFromClass:v="".concat(n,"-leave-from"),leaveActiveClass:y="".concat(n,"-leave-active"),leaveToClass:b="".concat(n,"-leave-to")}=e,w=T8(a),g=w&&w[0],x=w&&w[1],{onBeforeEnter:M,onEnter:R,onEnterCancelled:A,onLeave:T,onLeaveCancelled:P,onBeforeAppear:I=M,onAppear:E=R,onAppearCancelled:D=A}=t,N=($,Q,ae,ee)=>{$._enterCancelled=ee,Xc($,Q?h:u),Xc($,Q?f:s),ae&&ae()},B=($,Q)=>{$._isLeaving=!1,Xc($,v),Xc($,b),Xc($,y),Q&&Q()},G=$=>(Q,ae)=>{const ee=$?E:R,K=()=>N(Q,$,ae);cf(ee,[Q,K]),_A(()=>{Xc(Q,$?d:o),gu(Q,$?h:u),bA(ee)||wA(Q,r,g,K)})};return Pa(t,{onBeforeEnter($){cf(M,[$]),gu($,o),gu($,s)},onBeforeAppear($){cf(I,[$]),gu($,d),gu($,f)},onEnter:G(!1),onAppear:G(!0),onLeave($,Q){$._isLeaving=!0;const ae=()=>B($,Q);gu($,v),$._enterCancelled?(gu($,y),qS()):(qS(),gu($,y)),_A(()=>{$._isLeaving&&(Xc($,v),gu($,b),bA(T)||wA($,r,x,ae))}),cf(T,[$,ae])},onEnterCancelled($){N($,!1,void 0,!0),cf(A,[$])},onAppearCancelled($){N($,!0,void 0,!0),cf(D,[$])},onLeaveCancelled($){B($),cf(P,[$])}})}function T8(e){if(e==null)return null;if(jn(e))return[cx(e.enter),cx(e.leave)];{const t=cx(e);return[t,t]}}function cx(e){return z6(e)}function gu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Yp]||(e[Yp]=new Set)).add(t)}function Xc(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Yp];n&&(n.delete(t),n.size||(e[Yp]=void 0))}function _A(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let A8=0;function wA(e,t,n,r){const a=e._endId=++A8,o=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:u,propCount:d}=fO(e,t);if(!s)return r();const f=s+"end";let h=0;const v=()=>{e.removeEventListener(f,y),o()},y=b=>{b.target===e&&++h>=d&&v()};setTimeout(()=>{h<d&&v()},u+1),e.addEventListener(f,y)}function fO(e,t){const n=window.getComputedStyle(e),r=w=>(n[w]||"").split(", "),a=r("".concat(Hc,"Delay")),o=r("".concat(Hc,"Duration")),s=xA(a,o),u=r("".concat(Yv,"Delay")),d=r("".concat(Yv,"Duration")),f=xA(u,d);let h=null,v=0,y=0;t===Hc?s>0&&(h=Hc,v=s,y=o.length):t===Yv?f>0&&(h=Yv,v=f,y=d.length):(v=Math.max(s,f),h=v>0?s>f?Hc:Yv:null,y=h?h===Hc?o.length:d.length:0);const b=h===Hc&&/\b(transform|all)(,|$)/.test(r("".concat(Hc,"Property")).toString());return{type:h,timeout:v,propCount:y,hasTransform:b}}function xA(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>SA(n)+SA(e[r])))}function SA(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function qS(){return document.body.offsetHeight}function L8(e,t,n){const r=e[Yp];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const w_=Symbol("_vod"),hO=Symbol("_vsh"),_r={beforeMount(e,{value:t},{transition:n}){e[w_]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Xv(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Xv(e,!0),r.enter(e)):r.leave(e,()=>{Xv(e,!1)}):Xv(e,t))},beforeUnmount(e,{value:t}){Xv(e,t)}};function Xv(e,t){e.style.display=t?e[w_]:"none",e[hO]=!t}const R8=Symbol(""),P8=/(^|;)\s*display\s*:/;function k8(e,t,n){const r=e.style,a=nn(n);let o=!1;if(n&&!a){if(t)if(nn(t))for(const s of t.split(";")){const u=s.slice(0,s.indexOf(":")).trim();n[u]==null&&Ib(r,u,"")}else for(const s in t)n[s]==null&&Ib(r,s,"");for(const s in n)s==="display"&&(o=!0),Ib(r,s,n[s])}else if(a){if(t!==n){const s=r[R8];s&&(n+=";"+s),r.cssText=n,o=P8.test(n)}}else t&&e.removeAttribute("style");w_ in e&&(e[w_]=o?r.display:"",e[hO]&&(r.display="none"))}const MA=/\s*!important$/;function Ib(e,t,n){if(Rt(n))n.forEach(r=>Ib(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=I8(e,t);MA.test(n)?e.setProperty(bc(r),n.replace(MA,""),"important"):e[r]=n}}const EA=["Webkit","Moz","ms"],dx={};function I8(e,t){const n=dx[t];if(n)return n;let r=$o(t);if(r!=="filter"&&r in e)return dx[t]=r;r=S0(r);for(let a=0;a<EA.length;a++){const o=EA[a]+r;if(o in e)return dx[t]=o}return t}const CA="http://www.w3.org/1999/xlink";function TA(e,t,n,r,a,o=W6(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(CA,t.slice(6,t.length)):e.setAttributeNS(CA,t,n):n==null||o&&!Xk(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Nl(n)?String(n):n)}function AA(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?lO(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(u!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Xk(n):n==null&&u==="string"?(n="",s=!0):u==="number"&&(n=0,s=!0)}try{e[t]=n}catch(u){}s&&e.removeAttribute(a||t)}function rd(e,t,n,r){e.addEventListener(t,n,r)}function O8(e,t,n,r){e.removeEventListener(t,n,r)}const LA=Symbol("_vei");function D8(e,t,n,r,a=null){const o=e[LA]||(e[LA]={}),s=o[t];if(r&&s)s.value=r;else{const[u,d]=N8(t);if(r){const f=o[t]=z8(r,a);rd(e,u,f,d)}else s&&(O8(e,u,s,d),o[t]=void 0)}}const RA=/(?:Once|Passive|Capture)$/;function N8(e){let t;if(RA.test(e)){t={};let r;for(;r=e.match(RA);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):bc(e.slice(2)),t]}let fx=0;const F8=Promise.resolve(),B8=()=>fx||(F8.then(()=>fx=0),fx=Date.now());function z8(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Fl(V8(r,n.value),t,5,[r])};return n.value=e,n.attached=B8(),n}function V8(e,t){if(Rt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const PA=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,U8=(e,t,n,r,a,o)=>{const s=a==="svg";t==="class"?L8(e,r,s):t==="style"?k8(e,n,r):J_(t)?AE(t)||D8(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):H8(e,t,r,s))?(AA(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&TA(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!nn(r))?AA(e,$o(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),TA(e,t,r,s))};function H8(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&PA(t)&&on(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return PA(t)&&nn(n)?!1:t in e}const pO=new WeakMap,mO=new WeakMap,x_=Symbol("_moveCb"),kA=Symbol("_enterCb"),$8=e=>(delete e.props.mode,e),G8=$8({name:"TransitionGroup",props:Pa({},cO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Jn(),r=LI();let a,o;return Hl(()=>{if(!a.length)return;const s=e.moveClass||"".concat(e.name||"v","-move");if(!K8(a[0].el,n.vnode.el,s))return;a.forEach(W8),a.forEach(j8);const u=a.filter(q8);qS(),u.forEach(d=>{const f=d.el,h=f.style;gu(f,s),h.transform=h.webkitTransform=h.transitionDuration="";const v=f[x_]=y=>{y&&y.target!==f||(!y||/transform$/.test(y.propertyName))&&(f.removeEventListener("transitionend",v),f[x_]=null,Xc(f,s))};f.addEventListener("transitionend",v)})}),()=>{const s=ni(e),u=dO(s);let d=s.tag||rn;if(a=[],o)for(let f=0;f<o.length;f++){const h=o[f];h.el&&h.el instanceof Element&&(a.push(h),Wf(h,Wg(h,u,r,n)),pO.set(h,h.el.getBoundingClientRect()))}o=t.default?zE(t.default()):[];for(let f=0;f<o.length;f++){const h=o[f];h.key!=null&&Wf(h,Wg(h,u,r,n))}return ce(d,null,o)}}}),vO=G8;function W8(e){const t=e.el;t[x_]&&t[x_](),t[kA]&&t[kA]()}function j8(e){mO.set(e,e.el.getBoundingClientRect())}function q8(e){const t=pO.get(e),n=mO.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const o=e.el.style;return o.transform=o.webkitTransform="translate(".concat(r,"px,").concat(a,"px)"),o.transitionDuration="0s",e}}function K8(e,t,n){const r=e.cloneNode(),a=e[Yp];a&&a.forEach(u=>{u.split(/\s+/).forEach(d=>d&&r.classList.remove(d))}),n.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=fO(r);return o.removeChild(r),s}const Xp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Rt(t)?n=>Rb(t,n):t};function Y8(e){e.target.composing=!0}function IA(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fc=Symbol("_assign"),cw={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[fc]=Xp(a);const o=r||a.props&&a.props.type==="number";rd(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),o&&(u=DS(u)),e[fc](u)}),n&&rd(e,"change",()=>{e.value=e.value.trim()}),t||(rd(e,"compositionstart",Y8),rd(e,"compositionend",IA),rd(e,"change",IA))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},s){if(e[fc]=Xp(s),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?DS(e.value):e.value,d=t==null?"":t;u!==d&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===d)||(e.value=d))}},S_={deep:!0,created(e,t,n){e[fc]=Xp(n),rd(e,"change",()=>{const r=e._modelValue,a=yO(e),o=e.checked,s=e[fc];if(Rt(r)){const u=Zk(r,a),d=u!==-1;if(o&&!d)s(r.concat(a));else if(!o&&d){const f=[...r];f.splice(u,1),s(f)}}else if(Q_(r)){const u=new Set(r);o?u.add(a):u.delete(a),s(u)}else s(bO(e,o))})},mounted:OA,beforeUpdate(e,t,n){e[fc]=Xp(n),OA(e,t,n)}};function OA(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(Rt(t))a=Zk(t,r.props.value)>-1;else if(Q_(t))a=t.has(r.props.value);else{if(t===n)return;a=Kp(t,bO(e,!0))}e.checked!==a&&(e.checked=a)}const gO={created(e,{value:t},n){e.checked=Kp(t,n.props.value),e[fc]=Xp(n),rd(e,"change",()=>{e[fc](yO(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[fc]=Xp(r),t!==n&&(e.checked=Kp(t,r.props.value))}};function yO(e){return"_value"in e?e._value:e.value}function bO(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const X8=["ctrl","shift","alt","meta"],Z8={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>X8.some(n=>e["".concat(n,"Key")]&&!t.includes(n))},Sn=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let s=0;s<t.length;s++){const u=Z8[t[s]];if(u&&u(a,t))return}return e(a,...o)})},J8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=bc(a.key);if(t.some(s=>s===o||J8[s]===o))return e(a)})},Q8=Pa({patchProp:U8},E8);let DA;function _O(){return DA||(DA=ZH(Q8))}const pd=(...e)=>{_O().render(...e)},wO=(...e)=>{const t=_O().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=t5(r);if(!a)return;const o=t._component;!on(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=n(a,!1,e5(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function e5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function t5(e){return nn(e)?document.querySelector(e):e}/*! Element Plus Icons Vue v2.3.1 */var n5=we({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),xc=n5,r5=we({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),mc=r5,i5=we({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Eo=i5,a5=we({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),qE=a5,o5=we({name:"Back",__name:"back",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),fe("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),s5=o5,l5=we({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),u5=l5,c5=we({name:"Camera",__name:"camera",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}}),d5=c5,f5=we({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),xO=f5,h5=we({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),p5=h5,m5=we({name:"Check",__name:"check",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),T0=m5,v5=we({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),g5=v5,y5=we({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),fe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),KE=y5,b5=we({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),YE=b5,_5=we({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),fe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Sc=_5,w5=we({name:"Clock",__name:"clock",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),fe("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),fe("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),SO=w5,x5=we({name:"Close",__name:"close",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Bl=x5,S5=we({name:"Connection",__name:"connection",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),fe("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}}),M5=S5,E5=we({name:"Cpu",__name:"cpu",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),fe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}}),C5=E5,T5=we({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),md=T5,A5=we({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),vd=A5,L5=we({name:"Delete",__name:"delete",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),R5=L5,P5=we({name:"Document",__name:"document",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),MO=P5,k5=we({name:"Download",__name:"download",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),I5=k5,O5=we({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),D5=O5,N5=we({name:"Grid",__name:"grid",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}}),EO=N5,F5=we({name:"Hide",__name:"hide",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),fe("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),B5=F5,z5=we({name:"House",__name:"house",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}}),CO=z5,V5=we({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),dw=V5,U5=we({name:"List",__name:"list",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}}),H5=U5,$5=we({name:"Loading",__name:"loading",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Ru=$5,G5=we({name:"Message",__name:"message",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),fe("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),W5=G5,j5=we({name:"Minus",__name:"minus",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),q5=j5,K5=we({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),NA=K5,Y5=we({name:"More",__name:"more",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),X5=Y5,Z5=we({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),J5=Z5,Q5=we({name:"Plus",__name:"plus",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),TO=Q5,e$=we({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),t$=e$,n$=we({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),r$=n$,i$=we({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),a$=i$,o$=we({name:"Refresh",__name:"refresh",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),s$=o$,l$=we({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),u$=l$,c$=we({name:"Search",__name:"search",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),d$=c$,f$=we({name:"Select",__name:"select",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}}),h$=f$,p$=we({name:"Setting",__name:"setting",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),m$=p$,v$=we({name:"Share",__name:"share",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),g$=v$,y$=we({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),b$=y$,_$=we({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),w$=_$,x$=we({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Vy=x$,S$=we({name:"Star",__name:"star",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),M$=S$,E$=we({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),AO=E$,C$=we({name:"VideoPlay",__name:"video-play",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),T$=C$,A$=we({name:"View",__name:"view",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),L$=A$,R$=we({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),fw=R$,P$=we({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),LO=P$,k$=we({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(W(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[fe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),I$=k$;function O$(){return RO().__VUE_DEVTOOLS_GLOBAL_HOOK__}function RO(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const D$=typeof Proxy=="function",N$="devtools-plugin:setup",F$="plugin:settings:set";let Jh,KS;function B$(){var e;return Jh!==void 0||(typeof window<"u"&&window.performance?(Jh=!0,KS=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Jh=!0,KS=globalThis.perf_hooks.performance):Jh=!1),Jh}function z$(){return B$()?KS.now():Date.now()}class V${constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const u=t.settings[s];r[s]=u.defaultValue}const a="__vue-devtools-plugin-settings__".concat(t.id);let o=Object.assign({},r);try{const s=localStorage.getItem(a),u=JSON.parse(s);Object.assign(o,u)}catch(s){}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(a,JSON.stringify(s))}catch(u){}o=s},now(){return z$()}},n&&n.on(F$,(s,u)=>{s===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(s,u)=>this.target?this.target.on[u]:(...d)=>{this.onQueue.push({method:u,args:d})}}),this.proxiedTarget=new Proxy({},{get:(s,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...d)=>(this.targetQueue.push({method:u,args:d,resolve:()=>{}}),this.fallbacks[u](...d)):(...d)=>new Promise(f=>{this.targetQueue.push({method:u,args:d,resolve:f})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function U$(e,t){const n=e,r=RO(),a=O$(),o=D$&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))a.emit(N$,e,t);else{const s=o?new V$(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Sp=typeof document<"u";function PO(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function H$(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&PO(e.default)}const Ci=Object.assign;function hx(e,t){const n={};for(const r in t){const a=t[r];n[r]=zl(a)?a.map(e):e(a)}return n}const Lg=()=>{},zl=Array.isArray,kO=/#/g,$$=/&/g,G$=/\//g,W$=/=/g,j$=/\?/g,IO=/\+/g,q$=/%5B/g,K$=/%5D/g,OO=/%5E/g,Y$=/%60/g,DO=/%7B/g,X$=/%7C/g,NO=/%7D/g,Z$=/%20/g;function XE(e){return encodeURI(""+e).replace(X$,"|").replace(q$,"[").replace(K$,"]")}function J$(e){return XE(e).replace(DO,"{").replace(NO,"}").replace(OO,"^")}function YS(e){return XE(e).replace(IO,"%2B").replace(Z$,"+").replace(kO,"%23").replace($$,"%26").replace(Y$,"`").replace(DO,"{").replace(NO,"}").replace(OO,"^")}function Q$(e){return YS(e).replace(W$,"%3D")}function eG(e){return XE(e).replace(kO,"%23").replace(j$,"%3F")}function tG(e){return e==null?"":eG(e).replace(G$,"%2F")}function Kg(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const nG=/\/$/,rG=e=>e.replace(nG,"");function px(e,t,n="/"){let r,a={},o="",s="";const u=t.indexOf("#");let d=t.indexOf("?");return u<d&&u>=0&&(d=-1),d>-1&&(r=t.slice(0,d),o=t.slice(d+1,u>-1?u:t.length),a=e(o)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=sG(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:a,hash:Kg(s)}}function iG(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function FA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function aG(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Zp(t.matched[r],n.matched[a])&&FO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zp(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function FO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!oG(e[n],t[n]))return!1;return!0}function oG(e,t){return zl(e)?BA(e,t):zl(t)?BA(t,e):e===t}function BA(e,t){return zl(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function sG(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let o=n.length-1,s,u;for(s=0;s<r.length;s++)if(u=r[s],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const $c={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Yg;(function(e){e.pop="pop",e.push="push"})(Yg||(Yg={}));var Rg;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Rg||(Rg={}));function lG(e){if(!e)if(Sp){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rG(e)}const uG=/^[^#]+#/;function cG(e,t){return e.replace(uG,"#")+t}function dG(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const hw=()=>({left:window.scrollX,top:window.scrollY});function fG(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=dG(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function zA(e,t){return(history.state?history.state.position-t:-1)+e}const XS=new Map;function hG(e,t){XS.set(e,t)}function pG(e){const t=XS.get(e);return XS.delete(e),t}let mG=()=>location.protocol+"//"+location.host;function BO(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let u=a.includes(e.slice(o))?e.slice(o).length:1,d=a.slice(u);return d[0]!=="/"&&(d="/"+d),FA(d,"")}return FA(n,e)+r+a}function vG(e,t,n,r){let a=[],o=[],s=null;const u=({state:y})=>{const b=BO(e,location),w=n.value,g=t.value;let x=0;if(y){if(n.value=b,t.value=y,s&&s===w){s=null;return}x=g?y.position-g.position:0}else r(b);a.forEach(M=>{M(n.value,w,{delta:x,type:Yg.pop,direction:x?x>0?Rg.forward:Rg.back:Rg.unknown})})};function d(){s=n.value}function f(y){a.push(y);const b=()=>{const w=a.indexOf(y);w>-1&&a.splice(w,1)};return o.push(b),b}function h(){const{history:y}=window;y.state&&y.replaceState(Ci({},y.state,{scroll:hw()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:d,listen:f,destroy:v}}function VA(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?hw():null}}function gG(e){const{history:t,location:n}=window,r={value:BO(e,n)},a={value:t.state};a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(d,f,h){const v=e.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+d:mG()+e+d;try{t[h?"replaceState":"pushState"](f,"",y),a.value=f}catch(b){console.error(b),n[h?"replace":"assign"](y)}}function s(d,f){const h=Ci({},t.state,VA(a.value.back,d,a.value.forward,!0),f,{position:a.value.position});o(d,h,!0),r.value=d}function u(d,f){const h=Ci({},a.value,t.state,{forward:d,scroll:hw()});o(h.current,h,!0);const v=Ci({},VA(r.value,d,null),{position:h.position+1},f);o(d,v,!1),r.value=d}return{location:r,state:a,push:u,replace:s}}function yG(e){e=lG(e);const t=gG(e),n=vG(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const a=Ci({location:"",base:e,go:r,createHref:cG.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function bG(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),yG(e)}function _G(e){return typeof e=="string"||e&&typeof e=="object"}function zO(e){return typeof e=="string"||typeof e=="symbol"}const VO=Symbol("");var UA;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(UA||(UA={}));function Jp(e,t){return Ci(new Error,{type:e,[VO]:!0},t)}function Zu(e,t){return e instanceof Error&&VO in e&&(t==null||!!(e.type&t))}const HA="[^/]+?",wG={sensitive:!1,strict:!1,start:!0,end:!0},xG=/[.+*?^${}()[\]/\\]/g;function SG(e,t){const n=Ci({},wG,t),r=[];let a=n.start?"^":"";const o=[];for(const f of e){const h=f.length?[]:[90];n.strict&&!f.length&&(a+="/");for(let v=0;v<f.length;v++){const y=f[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(a+="/"),a+=y.value.replace(xG,"\\$&"),b+=40;else if(y.type===1){const{value:w,repeatable:g,optional:x,regexp:M}=y;o.push({name:w,repeatable:g,optional:x});const R=M||HA;if(R!==HA){b+=10;try{new RegExp("(".concat(R,")"))}catch(T){throw new Error('Invalid custom RegExp for param "'.concat(w,'" (').concat(R,"): ")+T.message)}}let A=g?"((?:".concat(R,")(?:/(?:").concat(R,"))*)"):"(".concat(R,")");v||(A=x&&f.length<2?"(?:/".concat(A,")"):"/"+A),x&&(A+="?"),a+=A,b+=20,x&&(b+=-8),g&&(b+=-20),R===".*"&&(b+=-50)}h.push(b)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const s=new RegExp(a,n.sensitive?"":"i");function u(f){const h=f.match(s),v={};if(!h)return null;for(let y=1;y<h.length;y++){const b=h[y]||"",w=o[y-1];v[w.name]=b&&w.repeatable?b.split("/"):b}return v}function d(f){let h="",v=!1;for(const y of e){(!v||!h.endsWith("/"))&&(h+="/"),v=!1;for(const b of y)if(b.type===0)h+=b.value;else if(b.type===1){const{value:w,repeatable:g,optional:x}=b,M=w in f?f[w]:"";if(zl(M)&&!g)throw new Error('Provided param "'.concat(w,'" is an array but it is not repeatable (* or + modifiers)'));const R=zl(M)?M.join("/"):M;if(!R)if(x)y.length<2&&(h.endsWith("/")?h=h.slice(0,-1):v=!0);else throw new Error('Missing required param "'.concat(w,'"'));h+=R}}return h||"/"}return{re:s,score:r,keys:o,parse:u,stringify:d}}function MG(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function UO(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const o=MG(r[n],a[n]);if(o)return o;n++}if(Math.abs(a.length-r.length)===1){if($A(r))return 1;if($A(a))return-1}return a.length-r.length}function $A(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const EG={type:0,value:""},CG=/[a-zA-Z0-9_]/;function TG(e){if(!e)return[[]];if(e==="/")return[[EG]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(b){throw new Error("ERR (".concat(n,')/"').concat(f,'": ').concat(b))}let n=0,r=n;const a=[];let o;function s(){o&&a.push(o),o=[]}let u=0,d,f="",h="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&t("A repeatable param (".concat(f,") must be alone in its segment. eg: '/:ids+.")),o.push({type:1,value:f,regexp:h,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function y(){f+=d}for(;u<e.length;){if(d=e[u++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),s()):d===":"?(v(),n=1):y();break;case 4:y(),n=r;break;case 1:d==="("?n=2:CG.test(d)?y():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+d:n=3:h+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,h="";break;default:t("Unknown state");break}}return n===2&&t('Unfinished custom RegExp for param "'.concat(f,'"')),v(),s(),a}function AG(e,t,n){const r=SG(TG(e.path),n),a=Ci(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function LG(e,t){const n=[],r=new Map;t=qA({strict:!1,end:!0,sensitive:!1},t);function a(v){return r.get(v)}function o(v,y,b){const w=!b,g=WA(v);g.aliasOf=b&&b.record;const x=qA(t,v),M=[g];if("alias"in v){const T=typeof v.alias=="string"?[v.alias]:v.alias;for(const P of T)M.push(WA(Ci({},g,{components:b?b.record.components:g.components,path:P,aliasOf:b?b.record:g})))}let R,A;for(const T of M){const{path:P}=T;if(y&&P[0]!=="/"){const I=y.record.path,E=I[I.length-1]==="/"?"":"/";T.path=y.record.path+(P&&E+P)}if(R=AG(T,y,x),b?b.alias.push(R):(A=A||R,A!==R&&A.alias.push(R),w&&v.name&&!jA(R)&&s(v.name)),HO(R)&&d(R),g.children){const I=g.children;for(let E=0;E<I.length;E++)o(I[E],R,b&&b.children[E])}b=b||R}return A?()=>{s(A)}:Lg}function s(v){if(zO(v)){const y=r.get(v);y&&(r.delete(v),n.splice(n.indexOf(y),1),y.children.forEach(s),y.alias.forEach(s))}else{const y=n.indexOf(v);y>-1&&(n.splice(y,1),v.record.name&&r.delete(v.record.name),v.children.forEach(s),v.alias.forEach(s))}}function u(){return n}function d(v){const y=kG(v,n);n.splice(y,0,v),v.record.name&&!jA(v)&&r.set(v.record.name,v)}function f(v,y){let b,w={},g,x;if("name"in v&&v.name){if(b=r.get(v.name),!b)throw Jp(1,{location:v});x=b.record.name,w=Ci(GA(y.params,b.keys.filter(A=>!A.optional).concat(b.parent?b.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),v.params&&GA(v.params,b.keys.map(A=>A.name))),g=b.stringify(w)}else if(v.path!=null)g=v.path,b=n.find(A=>A.re.test(g)),b&&(w=b.parse(g),x=b.record.name);else{if(b=y.name?r.get(y.name):n.find(A=>A.re.test(y.path)),!b)throw Jp(1,{location:v,currentLocation:y});x=b.record.name,w=Ci({},y.params,v.params),g=b.stringify(w)}const M=[];let R=b;for(;R;)M.unshift(R.record),R=R.parent;return{name:x,path:g,params:w,matched:M,meta:PG(M)}}e.forEach(v=>o(v));function h(){n.length=0,r.clear()}return{addRoute:o,resolve:f,removeRoute:s,clearRoutes:h,getRoutes:u,getRecordMatcher:a}}function GA(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function WA(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:RG(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function RG(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function jA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function PG(e){return e.reduce((t,n)=>Ci(t,n.meta),{})}function qA(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function kG(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;UO(e,t[o])<0?r=o:n=o+1}const a=IG(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function IG(e){let t=e;for(;t=t.parent;)if(HO(t)&&UO(e,t)===0)return t}function HO({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function OG(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(IO," "),s=o.indexOf("="),u=Kg(s<0?o:o.slice(0,s)),d=s<0?null:Kg(o.slice(s+1));if(u in t){let f=t[u];zl(f)||(f=t[u]=[f]),f.push(d)}else t[u]=d}return t}function KA(e){let t="";for(let n in e){const r=e[n];if(n=Q$(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(zl(r)?r.map(o=>o&&YS(o)):[r&&YS(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function DG(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=zl(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const NG=Symbol(""),YA=Symbol(""),pw=Symbol(""),$O=Symbol(""),ZS=Symbol("");function Zv(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nd(e,t,n,r,a,o=s=>s()){const s=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((u,d)=>{const f=y=>{y===!1?d(Jp(4,{from:n,to:t})):y instanceof Error?d(y):_G(y)?d(Jp(2,{from:t,to:y})):(s&&r.enterCallbacks[a]===s&&typeof y=="function"&&s.push(y),u())},h=o(()=>e.call(r&&r.instances[a],t,n,f));let v=Promise.resolve(h);e.length<3&&(v=v.then(f)),v.catch(y=>d(y))})}function mx(e,t,n,r,a=o=>o()){const o=[];for(const s of e)for(const u in s.components){let d=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(PO(d)){const h=(d.__vccOpts||d)[t];h&&o.push(nd(h,n,r,s,u,a))}else{let f=d();o.push(()=>f.then(h=>{if(!h)throw new Error("Couldn't resolve component \"".concat(u,'" at "').concat(s.path,'"'));const v=H$(h)?h.default:h;s.mods[u]=h,s.components[u]=v;const b=(v.__vccOpts||v)[t];return b&&nd(b,n,r,s,u,a)()}))}}return o}function XA(e){const t=qt(pw),n=qt($O),r=U(()=>{const d=m(e.to);return t.resolve(d)}),a=U(()=>{const{matched:d}=r.value,{length:f}=d,h=d[f-1],v=n.matched;if(!h||!v.length)return-1;const y=v.findIndex(Zp.bind(null,h));if(y>-1)return y;const b=ZA(d[f-2]);return f>1&&ZA(h)===b&&v[v.length-1].path!==b?v.findIndex(Zp.bind(null,d[f-2])):y}),o=U(()=>a.value>-1&&UG(n.params,r.value.params)),s=U(()=>a.value>-1&&a.value===n.matched.length-1&&FO(n.params,r.value.params));function u(d={}){if(VG(d)){const f=t[m(e.replace)?"replace":"push"](m(e.to)).catch(Lg);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:U(()=>r.value.href),isActive:o,isExactActive:s,navigate:u}}function FG(e){return e.length===1?e[0]:e}const BG=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:XA,setup(e,{slots:t}){const n=Ir(XA(e)),{options:r}=qt(pw),a=U(()=>({[JA(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[JA(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&FG(t.default(n));return e.custom?o:mn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),zG=BG;function VG(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function UG(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!zl(a)||a.length!==r.length||r.some((o,s)=>o!==a[s]))return!1}return!0}function ZA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const JA=(e,t,n)=>e!=null?e:t!=null?t:n,HG=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=qt(ZS),a=U(()=>e.route||r.value),o=qt(YA,0),s=U(()=>{let f=m(o);const{matched:h}=a.value;let v;for(;(v=h[f])&&!v.components;)f++;return f}),u=U(()=>a.value.matched[s.value]);or(YA,U(()=>s.value+1)),or(NG,u),or(ZS,a);const d=re();return bt(()=>[d.value,u.value,e.name],([f,h,v],[y,b,w])=>{h&&(h.instances[v]=f,b&&b!==h&&f&&f===y&&(h.leaveGuards.size||(h.leaveGuards=b.leaveGuards),h.updateGuards.size||(h.updateGuards=b.updateGuards))),f&&h&&(!b||!Zp(h,b)||!y)&&(h.enterCallbacks[v]||[]).forEach(g=>g(f))},{flush:"post"}),()=>{const f=a.value,h=e.name,v=u.value,y=v&&v.components[h];if(!y)return QA(n.default,{Component:y,route:f});const b=v.props[h],w=b?b===!0?f.params:typeof b=="function"?b(f):b:null,x=mn(y,Ci({},w,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(v.instances[h]=null)},ref:d}));return QA(n.default,{Component:x,route:f})||x}}});function QA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $G=HG;function GG(e){const t=LG(e.routes,e),n=e.parseQuery||OG,r=e.stringifyQuery||KA,a=e.history,o=Zv(),s=Zv(),u=Zv(),d=hi($c);let f=$c;Sp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=hx.bind(null,ge=>""+ge),v=hx.bind(null,tG),y=hx.bind(null,Kg);function b(ge,ke){let Pe,Xe;return zO(ge)?(Pe=t.getRecordMatcher(ge),Xe=ke):Xe=ge,t.addRoute(Xe,Pe)}function w(ge){const ke=t.getRecordMatcher(ge);ke&&t.removeRoute(ke)}function g(){return t.getRoutes().map(ge=>ge.record)}function x(ge){return!!t.getRecordMatcher(ge)}function M(ge,ke){if(ke=Ci({},ke||d.value),typeof ge=="string"){const He=px(n,ge,ke.path),dt=t.resolve({path:He.path},ke),pt=a.createHref(He.fullPath);return Ci(He,dt,{params:y(dt.params),hash:Kg(He.hash),redirectedFrom:void 0,href:pt})}let Pe;if(ge.path!=null)Pe=Ci({},ge,{path:px(n,ge.path,ke.path).path});else{const He=Ci({},ge.params);for(const dt in He)He[dt]==null&&delete He[dt];Pe=Ci({},ge,{params:v(He)}),ke.params=v(ke.params)}const Xe=t.resolve(Pe,ke),ct=ge.hash||"";Xe.params=h(y(Xe.params));const se=iG(r,Ci({},ge,{hash:J$(ct),path:Xe.path})),ye=a.createHref(se);return Ci({fullPath:se,hash:ct,query:r===KA?DG(ge.query):ge.query||{}},Xe,{redirectedFrom:void 0,href:ye})}function R(ge){return typeof ge=="string"?px(n,ge,d.value.path):Ci({},ge)}function A(ge,ke){if(f!==ge)return Jp(8,{from:ke,to:ge})}function T(ge){return E(ge)}function P(ge){return T(Ci(R(ge),{replace:!0}))}function I(ge){const ke=ge.matched[ge.matched.length-1];if(ke&&ke.redirect){const{redirect:Pe}=ke;let Xe=typeof Pe=="function"?Pe(ge):Pe;return typeof Xe=="string"&&(Xe=Xe.includes("?")||Xe.includes("#")?Xe=R(Xe):{path:Xe},Xe.params={}),Ci({query:ge.query,hash:ge.hash,params:Xe.path!=null?{}:ge.params},Xe)}}function E(ge,ke){const Pe=f=M(ge),Xe=d.value,ct=ge.state,se=ge.force,ye=ge.replace===!0,He=I(Pe);if(He)return E(Ci(R(He),{state:typeof He=="object"?Ci({},ct,He.state):ct,force:se,replace:ye}),ke||Pe);const dt=Pe;dt.redirectedFrom=ke;let pt;return!se&&aG(r,Xe,Pe)&&(pt=Jp(16,{to:dt,from:Xe}),pe(Xe,Xe,!0,!1)),(pt?Promise.resolve(pt):B(dt,Xe)).catch(nt=>Zu(nt)?Zu(nt,2)?nt:ie(nt):Z(nt,dt,Xe)).then(nt=>{if(nt){if(Zu(nt,2))return E(Ci({replace:ye},R(nt.to),{state:typeof nt.to=="object"?Ci({},ct,nt.to.state):ct,force:se}),ke||dt)}else nt=$(dt,Xe,!0,ye,ct);return G(dt,Xe,nt),nt})}function D(ge,ke){const Pe=A(ge,ke);return Pe?Promise.reject(Pe):Promise.resolve()}function N(ge){const ke=Re.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(ge):ge()}function B(ge,ke){let Pe;const[Xe,ct,se]=WG(ge,ke);Pe=mx(Xe.reverse(),"beforeRouteLeave",ge,ke);for(const He of Xe)He.leaveGuards.forEach(dt=>{Pe.push(nd(dt,ge,ke))});const ye=D.bind(null,ge,ke);return Pe.push(ye),Te(Pe).then(()=>{Pe=[];for(const He of o.list())Pe.push(nd(He,ge,ke));return Pe.push(ye),Te(Pe)}).then(()=>{Pe=mx(ct,"beforeRouteUpdate",ge,ke);for(const He of ct)He.updateGuards.forEach(dt=>{Pe.push(nd(dt,ge,ke))});return Pe.push(ye),Te(Pe)}).then(()=>{Pe=[];for(const He of se)if(He.beforeEnter)if(zl(He.beforeEnter))for(const dt of He.beforeEnter)Pe.push(nd(dt,ge,ke));else Pe.push(nd(He.beforeEnter,ge,ke));return Pe.push(ye),Te(Pe)}).then(()=>(ge.matched.forEach(He=>He.enterCallbacks={}),Pe=mx(se,"beforeRouteEnter",ge,ke,N),Pe.push(ye),Te(Pe))).then(()=>{Pe=[];for(const He of s.list())Pe.push(nd(He,ge,ke));return Pe.push(ye),Te(Pe)}).catch(He=>Zu(He,8)?He:Promise.reject(He))}function G(ge,ke,Pe){u.list().forEach(Xe=>N(()=>Xe(ge,ke,Pe)))}function $(ge,ke,Pe,Xe,ct){const se=A(ge,ke);if(se)return se;const ye=ke===$c,He=Sp?history.state:{};Pe&&(Xe||ye?a.replace(ge.fullPath,Ci({scroll:ye&&He&&He.scroll},ct)):a.push(ge.fullPath,ct)),d.value=ge,pe(ge,ke,Pe,ye),ie()}let Q;function ae(){Q||(Q=a.listen((ge,ke,Pe)=>{if(!De.listening)return;const Xe=M(ge),ct=I(Xe);if(ct){E(Ci(ct,{replace:!0,force:!0}),Xe).catch(Lg);return}f=Xe;const se=d.value;Sp&&hG(zA(se.fullPath,Pe.delta),hw()),B(Xe,se).catch(ye=>Zu(ye,12)?ye:Zu(ye,2)?(E(Ci(R(ye.to),{force:!0}),Xe).then(He=>{Zu(He,20)&&!Pe.delta&&Pe.type===Yg.pop&&a.go(-1,!1)}).catch(Lg),Promise.reject()):(Pe.delta&&a.go(-Pe.delta,!1),Z(ye,Xe,se))).then(ye=>{ye=ye||$(Xe,se,!1),ye&&(Pe.delta&&!Zu(ye,8)?a.go(-Pe.delta,!1):Pe.type===Yg.pop&&Zu(ye,20)&&a.go(-1,!1)),G(Xe,se,ye)}).catch(Lg)}))}let ee=Zv(),K=Zv(),X;function Z(ge,ke,Pe){ie(ge);const Xe=K.list();return Xe.length?Xe.forEach(ct=>ct(ge,ke,Pe)):console.error(ge),Promise.reject(ge)}function j(){return X&&d.value!==$c?Promise.resolve():new Promise((ge,ke)=>{ee.add([ge,ke])})}function ie(ge){return X||(X=!ge,ae(),ee.list().forEach(([ke,Pe])=>ge?Pe(ge):ke()),ee.reset()),ge}function pe(ge,ke,Pe,Xe){const{scrollBehavior:ct}=e;if(!Sp||!ct)return Promise.resolve();const se=!Pe&&pG(zA(ge.fullPath,0))||(Xe||!Pe)&&history.state&&history.state.scroll||null;return cn().then(()=>ct(ge,ke,se)).then(ye=>ye&&fG(ye)).catch(ye=>Z(ye,ge,ke))}const he=ge=>a.go(ge);let le;const Re=new Set,De={currentRoute:d,listening:!0,addRoute:b,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:g,resolve:M,options:e,push:T,replace:P,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:o.add,beforeResolve:s.add,afterEach:u.add,onError:K.add,isReady:j,install(ge){const ke=this;ge.component("RouterLink",zG),ge.component("RouterView",$G),ge.config.globalProperties.$router=ke,Object.defineProperty(ge.config.globalProperties,"$route",{enumerable:!0,get:()=>m(d)}),Sp&&!le&&d.value===$c&&(le=!0,T(a.location).catch(ct=>{}));const Pe={};for(const ct in $c)Object.defineProperty(Pe,ct,{get:()=>d.value[ct],enumerable:!0});ge.provide(pw,ke),ge.provide($O,DE(Pe)),ge.provide(ZS,d);const Xe=ge.unmount;Re.add(ge),ge.unmount=function(){Re.delete(ge),Re.size<1&&(f=$c,Q&&Q(),Q=null,d.value=$c,le=!1,X=!1),Xe()}}};function Te(ge){return ge.reduce((ke,Pe)=>ke.then(()=>N(Pe)),Promise.resolve())}return De}function WG(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const u=t.matched[s];u&&(e.matched.find(f=>Zp(f,u))?r.push(u):n.push(u));const d=e.matched[s];d&&(t.matched.find(f=>Zp(f,d))||a.push(d))}return[n,r,a]}function jG(){return qt(pw)}class qG{constructor(t){this._pointer=0,this._eof=!1,this._data=t}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const t={code:parseInt(this._data[this._pointer])};return this._pointer++,t.value=e3(t.code,this._data[this._pointer].trim()),this._pointer++,t.code===0&&t.value==="EOF"&&(this._eof=!0),this.lastReadGroup=t,t}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const t={code:parseInt(this._data[this._pointer])};return t.value=e3(t.code,this._data[this._pointer+1].trim()),t}rewind(t=1){this._pointer=this._pointer-t*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function e3(e,t){return e<=9?t:e>=10&&e<=59?parseFloat(t):e>=60&&e<=99?parseInt(t):e>=100&&e<=109?t:e>=110&&e<=149?parseFloat(t):e>=160&&e<=179?parseInt(t):e>=210&&e<=239?parseFloat(t):e>=270&&e<=289?parseInt(t):e>=290&&e<=299?KG(t):e>=300&&e<=369?t:e>=370&&e<=389?parseInt(t):e>=390&&e<=399?t:e>=400&&e<=409?parseInt(t):e>=410&&e<=419?t:e>=420&&e<=429?parseInt(t):e>=430&&e<=439?t:e>=440&&e<=459?parseInt(t):e>=460&&e<=469?parseFloat(t):e>=470&&e<=481||e===999||e>=1e3&&e<=1009?t:e>=1010&&e<=1059?parseFloat(t):e>=1060&&e<=1071?parseInt(t):(console.log("WARNING: Group code does not have a defined type: %j",{code:e,value:t}),t)}function KG(e){if(e==="0")return!1;if(e==="1")return!0;throw TypeError("String '"+e+"' cannot be cast to Boolean type")}const GO=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function YG(e){return GO[e]}function di(e){const t={};e.rewind();let n=e.next(),r=n.code;if(t.x=n.value,r+=10,n=e.next(),n.code!=r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return t.y=n.value,r+=10,n=e.next(),n.code!=r?(e.rewind(),t):(t.z=n.value,t)}function so(e,t,n){switch(t.code){case 0:e.type=t.value;break;case 5:e.handle=t.value;break;case 6:e.lineType=t.value;break;case 8:e.layer=t.value;break;case 48:e.lineTypeScale=t.value;break;case 60:e.visible=t.value===0;break;case 62:e.colorIndex=t.value,e.color=YG(Math.abs(t.value));break;case 67:e.inPaperSpace=t.value!==0;break;case 100:break;case 101:for(;t.code!=0;)t=n.next();n.rewind();break;case 330:e.ownerHandle=t.value;break;case 347:e.materialObjectHandle=t.value;break;case 370:e.lineweight=t.value;break;case 420:e.color=t.value;break;case 1e3:e.extendedData=e.extendedData||{},e.extendedData.customStrings=e.extendedData.customStrings||[],e.extendedData.customStrings.push(t.value);break;case 1001:e.extendedData=e.extendedData||{},e.extendedData.applicationName=t.value;break;default:return!1}return!0}class XG{constructor(){this.ForEntityName="3DFACE"}parseEntity(t,n){const r={type:n.value,vertices:[]};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 70:r.shape=(n.value&1)===1,r.hasContinuousLinetypePattern=(n.value&128)===128;break;case 10:r.vertices=ZG(t,n),n=t.lastReadGroup;break;default:so(r,n,t);break}n=t.next()}return r}}function ZG(e,t){var n=[],r=!1,a=!1,o=4;for(let u=0;u<=o;u++){for(var s={};!e.isEOF()&&!(t.code===0||a);){switch(t.code){case 10:case 11:case 12:case 13:if(r){a=!0;continue}s.x=t.value,r=!0;break;case 20:case 21:case 22:case 23:s.y=t.value;break;case 30:case 31:case 32:case 33:s.z=t.value;break;default:return n}t=e.next()}n.push(s),r=!1,a=!1}return e.rewind(),n}class JG{constructor(){this.ForEntityName="ARC"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=di(t);break;case 40:r.radius=n.value;break;case 50:r.startAngle=Math.PI/180*n.value;break;case 51:r.endAngle=Math.PI/180*n.value,r.angleLength=r.endAngle-r.startAngle;break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class QG{constructor(){this.ForEntityName="ATTDEF"}parseEntity(t,n){var r={type:n.value,scale:1,textStyle:"STANDARD"};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 1:r.text=n.value;break;case 2:r.tag=n.value;break;case 3:r.prompt=n.value;break;case 7:r.textStyle=n.value;break;case 10:r.startPoint=di(t);break;case 11:r.endPoint=di(t);break;case 39:r.thickness=n.value;break;case 40:r.textHeight=n.value;break;case 41:r.scale=n.value;break;case 50:r.rotation=n.value;break;case 51:r.obliqueAngle=n.value;break;case 70:r.invisible=!!(n.value&1),r.constant=!!(n.value&2),r.verificationRequired=!!(n.value&4),r.preset=!!(n.value&8);break;case 71:r.backwards=!!(n.value&2),r.mirrored=!!(n.value&4);break;case 72:r.horizontalJustification=n.value;break;case 73:r.fieldLength=n.value;break;case 74:r.verticalJustification=n.value;break;case 100:break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class eW{constructor(){this.ForEntityName="CIRCLE"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=di(t);break;case 40:r.radius=n.value;break;case 50:r.startAngle=Math.PI/180*n.value;break;case 51:const a=Math.PI/180*n.value;a<r.startAngle?r.angleLength=a+2*Math.PI-r.startAngle:r.angleLength=a-r.startAngle,r.endAngle=a;break;default:so(r,n,t);break}n=t.next()}return r}}class tW{constructor(){this.ForEntityName="DIMENSION"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 2:r.block=n.value;break;case 10:r.anchorPoint=di(t);break;case 11:r.middleOfText=di(t);break;case 12:r.insertionPoint=di(t);break;case 13:r.linearOrAngularPoint1=di(t);break;case 14:r.linearOrAngularPoint2=di(t);break;case 15:r.diameterOrRadiusPoint=di(t);break;case 16:r.arcPoint=di(t);break;case 70:r.dimensionType=n.value;break;case 71:r.attachmentPoint=n.value;break;case 42:r.actualMeasurement=n.value;break;case 1:r.text=n.value;break;case 50:r.angle=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class nW{constructor(){this.ForEntityName="ELLIPSE"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=di(t);break;case 11:r.majorAxisEndPoint=di(t);break;case 40:r.axisRatio=n.value;break;case 41:r.startAngle=n.value;break;case 42:r.endAngle=n.value;break;case 2:r.name=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class rW{constructor(){this.ForEntityName="INSERT"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 2:r.name=n.value;break;case 41:r.xScale=n.value;break;case 42:r.yScale=n.value;break;case 43:r.zScale=n.value;break;case 10:r.position=di(t);break;case 50:r.rotation=n.value;break;case 70:r.columnCount=n.value;break;case 71:r.rowCount=n.value;break;case 44:r.columnSpacing=n.value;break;case 45:r.rowSpacing=n.value;break;case 210:r.extrusionDirection=di(t);break;default:so(r,n,t);break}n=t.next()}return r}}let iW=class{constructor(){this.ForEntityName="LINE"}parseEntity(t,n){const r={type:n.value,vertices:[]};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.vertices.unshift(di(t));break;case 11:r.vertices.push(di(t));break;case 210:r.extrusionDirection=di(t);break;case 100:break;default:so(r,n,t);break}n=t.next()}return r}};class aW{constructor(){this.ForEntityName="LWPOLYLINE"}parseEntity(t,n){const r={type:n.value,vertices:[]};let a=0;for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 38:r.elevation=n.value;break;case 39:r.depth=n.value;break;case 70:r.shape=(n.value&1)===1,r.hasContinuousLinetypePattern=(n.value&128)===128;break;case 90:a=n.value;break;case 10:r.vertices=oW(a,t);break;case 43:n.value!==0&&(r.width=n.value);break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}function oW(e,t){if(!e||e<=0)throw Error("n must be greater than 0 verticies");const n=[];let r=!1,a=!1,o=t.lastReadGroup;for(let s=0;s<e;s++){const u={};for(;!t.isEOF()&&!(o.code===0||a);){switch(o.code){case 10:if(r){a=!0;continue}u.x=o.value,r=!0;break;case 20:u.y=o.value;break;case 30:u.z=o.value;break;case 40:u.startWidth=o.value;break;case 41:u.endWidth=o.value;break;case 42:o.value!=0&&(u.bulge=o.value);break;default:return t.rewind(),r&&n.push(u),t.rewind(),n}o=t.next()}n.push(u),r=!1,a=!1}return t.rewind(),n}class sW{constructor(){this.ForEntityName="MTEXT"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 3:r.text?r.text+=n.value:r.text=n.value;break;case 1:r.text?r.text+=n.value:r.text=n.value;break;case 10:r.position=di(t);break;case 11:r.directionVector=di(t);break;case 40:r.height=n.value;break;case 41:r.width=n.value;break;case 50:r.rotation=n.value;break;case 71:r.attachmentPoint=n.value;break;case 72:r.drawingDirection=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class lW{constructor(){this.ForEntityName="POINT"}parseEntity(t,n){const a={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:a.position=di(t);break;case 39:a.thickness=n.value;break;case 210:a.extrusionDirection=di(t);break;case 100:break;default:so(a,n,t);break}n=t.next()}return a}}class uW{constructor(){this.ForEntityName="VERTEX"}parseEntity(t,n){var r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.x=n.value;break;case 20:r.y=n.value;break;case 30:r.z=n.value;break;case 40:break;case 41:break;case 42:n.value!=0&&(r.bulge=n.value);break;case 70:r.curveFittingVertex=(n.value&1)!==0,r.curveFitTangent=(n.value&2)!==0,r.splineVertex=(n.value&8)!==0,r.splineControlPoint=(n.value&16)!==0,r.threeDPolylineVertex=(n.value&32)!==0,r.threeDPolylineMesh=(n.value&64)!==0,r.polyfaceMeshVertex=(n.value&128)!==0;break;case 50:break;case 71:r.faceA=n.value;break;case 72:r.faceB=n.value;break;case 73:r.faceC=n.value;break;case 74:r.faceD=n.value;break;default:so(r,n,t);break}n=t.next()}return r}}class cW{constructor(){this.ForEntityName="POLYLINE"}parseEntity(t,n){var r={type:n.value,vertices:[]};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:break;case 20:break;case 30:break;case 39:r.thickness=n.value;break;case 40:break;case 41:break;case 70:r.shape=(n.value&1)!==0,r.includesCurveFitVertices=(n.value&2)!==0,r.includesSplineFitVertices=(n.value&4)!==0,r.is3dPolyline=(n.value&8)!==0,r.is3dPolygonMesh=(n.value&16)!==0,r.is3dPolygonMeshClosed=(n.value&32)!==0,r.isPolyfaceMesh=(n.value&64)!==0,r.hasContinuousLinetypePattern=(n.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:r.extrusionDirection=di(t);break;default:so(r,n,t);break}n=t.next()}return r.vertices=dW(t,n),r}}function dW(e,t){const n=new uW,r=[];for(;!e.isEOF();)if(t.code===0){if(t.value==="VERTEX")r.push(n.parseEntity(e,t)),t=e.lastReadGroup;else if(t.value==="SEQEND"){fW(e,t);break}}return r}function fW(e,t){const n={type:t.value};for(t=e.next();!e.isEOF()&&t.code!=0;)so(n,t,e),t=e.next();return n}class hW{constructor(){this.ForEntityName="SOLID"}parseEntity(t,n){const r={type:n.value,points:[]};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.points[0]=di(t);break;case 11:r.points[1]=di(t);break;case 12:r.points[2]=di(t);break;case 13:r.points[3]=di(t);break;case 210:r.extrusionDirection=di(t);break;default:so(r,n,t);break}n=t.next()}return r}}class pW{constructor(){this.ForEntityName="SPLINE"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.controlPoints||(r.controlPoints=[]),r.controlPoints.push(di(t));break;case 11:r.fitPoints||(r.fitPoints=[]),r.fitPoints.push(di(t));break;case 12:r.startTangent=di(t);break;case 13:r.endTangent=di(t);break;case 40:r.knotValues||(r.knotValues=[]),r.knotValues.push(n.value);break;case 70:n.value&1&&(r.closed=!0),n.value&2&&(r.periodic=!0),n.value&4&&(r.rational=!0),n.value&8&&(r.planar=!0),n.value&16&&(r.planar=!0,r.linear=!0);break;case 71:r.degreeOfSplineCurve=n.value;break;case 72:r.numberOfKnots=n.value;break;case 73:r.numberOfControlPoints=n.value;break;case 74:r.numberOfFitPoints=n.value;break;case 210:r.normalVector=di(t);break;default:so(r,n,t);break}n=t.next()}return r}}let mW=class{constructor(){this.ForEntityName="TEXT"}parseEntity(t,n){const r={type:n.value};for(n=t.next();!t.isEOF()&&n.code!==0;){switch(n.code){case 10:r.startPoint=di(t);break;case 11:r.endPoint=di(t);break;case 40:r.textHeight=n.value;break;case 41:r.xScale=n.value;break;case 50:r.rotation=n.value;break;case 1:r.text=n.value;break;case 72:r.halign=n.value;break;case 73:r.valign=n.value;break;default:so(r,n,t);break}n=t.next()}return r}};function $l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ob={exports:{}},vW=Ob.exports,t3;function gW(){return t3||(t3=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(vW,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],o={},s=null;function u(g,x){var M=g[x];if(typeof M.bind=="function")return M.bind(g);try{return Function.prototype.bind.call(M,g)}catch(R){return function(){return Function.prototype.apply.apply(M,[g,arguments])}}}function d(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function f(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?d:console[g]!==void 0?u(console,g):console.log!==void 0?u(console,"log"):t}function h(){for(var g=this.getLevel(),x=0;x<a.length;x++){var M=a[x];this[M]=x<g?t:this.methodFactory(M,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function v(g){return function(){typeof console!==n&&(h.call(this),this[g].apply(this,arguments))}}function y(g,x,M){return f(g)||v.apply(this,arguments)}function b(g,x){var M=this,R,A,T,P="loglevel";typeof g=="string"?P+=":"+g:typeof g=="symbol"&&(P=void 0);function I(G){var $=(a[G]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=$;return}catch(Q){}try{window.document.cookie=encodeURIComponent(P)+"="+$+";"}catch(Q){}}}function E(){var G;if(!(typeof window===n||!P)){try{G=window.localStorage[P]}catch(ee){}if(typeof G===n)try{var $=window.document.cookie,Q=encodeURIComponent(P),ae=$.indexOf(Q+"=");ae!==-1&&(G=/^([^;]+)/.exec($.slice(ae+Q.length+1))[1])}catch(ee){}return M.levels[G]===void 0&&(G=void 0),G}}function D(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch(G){}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(G){}}}function N(G){var $=G;if(typeof $=="string"&&M.levels[$.toUpperCase()]!==void 0&&($=M.levels[$.toUpperCase()]),typeof $=="number"&&$>=0&&$<=M.levels.SILENT)return $;throw new TypeError("log.setLevel() called with invalid level: "+G)}M.name=g,M.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},M.methodFactory=x||y,M.getLevel=function(){return T!=null?T:A!=null?A:R},M.setLevel=function(G,$){return T=N(G),$!==!1&&I(T),h.call(M)},M.setDefaultLevel=function(G){A=N(G),E()||M.setLevel(G,!1)},M.resetLevel=function(){T=null,D(),h.call(M)},M.enableAll=function(G){M.setLevel(M.levels.TRACE,G)},M.disableAll=function(G){M.setLevel(M.levels.SILENT,G)},M.rebuild=function(){if(s!==M&&(R=N(s.getLevel())),h.call(M),s===M)for(var G in o)o[G].rebuild()},R=N(s?s.getLevel():"WARN");var B=E();B!=null&&(T=N(B)),h.call(M)}s=new b,s.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var M=o[x];return M||(M=o[x]=new b(x,s.methodFactory)),M};var w=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=w),s},s.getLoggers=function(){return o},s.default=s,s})}(Ob)),Ob.exports}var yW=gW();const ci=$l(yW);ci.setLevel("error");function bW(e){e.registerEntityHandler(XG),e.registerEntityHandler(JG),e.registerEntityHandler(QG),e.registerEntityHandler(eW),e.registerEntityHandler(tW),e.registerEntityHandler(nW),e.registerEntityHandler(rW),e.registerEntityHandler(iW),e.registerEntityHandler(aW),e.registerEntityHandler(sW),e.registerEntityHandler(lW),e.registerEntityHandler(cW),e.registerEntityHandler(hW),e.registerEntityHandler(pW),e.registerEntityHandler(mW)}class _W{constructor(){this._entityHandlers={},bW(this)}parse(t){return typeof t=="string"?this._parse(t):(console.error("Cannot read dxf source of type `"+typeof t),null)}registerEntityHandler(t){const n=new t;this._entityHandlers[n.ForEntityName]=n}parseSync(t){return this.parse(t)}parseStream(t){let n="";const r=this;return new Promise((a,o)=>{t.on("data",s=>{n+=s}),t.on("end",()=>{try{a(r._parse(n))}catch(s){o(s)}}),t.on("error",s=>{o(s)})})}_parse(t){const n={};let r=0;const a=t.split(/\r\n|\r|\n/g),o=new qG(a);if(!o.hasNext())throw Error("Empty file");const s=this;let u;function d(){for(u=o.next();!o.isEOF();)if(u.code===0&&u.value==="SECTION"){if(u=o.next(),u.code!==2){console.error("Unexpected code %s after 0:SECTION",WO(u)),u=o.next();continue}u.value==="HEADER"?(ci.debug("> HEADER"),n.header=f(),ci.debug("<")):u.value==="BLOCKS"?(ci.debug("> BLOCKS"),n.blocks=h(),ci.debug("<")):u.value==="ENTITIES"?(ci.debug("> ENTITIES"),n.entities=A(!1),ci.debug("<")):u.value==="TABLES"?(ci.debug("> TABLES"),n.tables=y(),ci.debug("<")):u.value==="EOF"?ci.debug("EOF"):ci.warn("Skipping section '%s'",u.value)}else u=o.next()}function f(){let I=null,E=null;const D={};for(u=o.next();;){if(pu(u,0,"ENDSEC")){I&&(D[I]=E);break}else u.code===9?(I&&(D[I]=E),I=u.value):u.code===10?E={x:u.value}:u.code===20?E.y=u.value:u.code===30?E.z=u.value:E=u.value;u=o.next()}return u=o.next(),D}function h(){const I={};for(u=o.next();u.value!=="EOF"&&!pu(u,0,"ENDSEC");)if(pu(u,0,"BLOCK")){ci.debug("block {");const E=v();ci.debug("}"),P(E),E.name?I[E.name]=E:ci.error('block with handle "'+E.handle+'" is missing a name.')}else df(u),u=o.next();return I}function v(){const I={};for(u=o.next();u.value!=="EOF";){switch(u.code){case 1:I.xrefPath=u.value,u=o.next();break;case 2:I.name=u.value,u=o.next();break;case 3:I.name2=u.value,u=o.next();break;case 5:I.handle=u.value,u=o.next();break;case 8:I.layer=u.value,u=o.next();break;case 10:I.position=T(u),u=o.next();break;case 67:I.paperSpace=!!(u.value&&u.value==1),u=o.next();break;case 70:u.value!=0&&(I.type=u.value),u=o.next();break;case 100:u=o.next();break;case 330:I.ownerHandle=u.value,u=o.next();break;case 0:if(u.value=="ENDBLK")break;I.entities=A(!0);break;default:df(u),u=o.next()}if(pu(u,0,"ENDBLK")){u=o.next();break}}return I}function y(){const I={};for(u=o.next();u.value!=="EOF"&&!pu(u,0,"ENDSEC");)pu(u,0,"TABLE")?(u=o.next(),R[u.value]?(ci.debug(u.value+" Table {"),I[R[u.value].tableName]=w(u),ci.debug("}")):ci.debug("Unhandled Table "+u.value)):u=o.next();return u=o.next(),I}const b="ENDTAB";function w(I){const E=R[I.value],D={};let N=0;for(u=o.next();!pu(u,0,b);)switch(u.code){case 5:D.handle=u.value,u=o.next();break;case 330:D.ownerHandle=u.value,u=o.next();break;case 100:u.value==="AcDbSymbolTable"||df(u),u=o.next();break;case 70:N=u.value,u=o.next();break;case 0:u.value===E.dxfSymbolName?D[E.tableRecordsProperty]=E.parseTableRecords():(df(u),u=o.next());break;default:df(u),u=o.next()}const B=D[E.tableRecordsProperty];if(B){let G=(()=>{if(B.constructor===Array)return B.length;if(typeof B=="object")return Object.keys(B).length})();N!==G&&ci.warn("Parsed "+G+" "+E.dxfSymbolName+"'s but expected "+N)}return u=o.next(),D}function g(){const I=[];let E={};for(ci.debug("ViewPort {"),u=o.next();!pu(u,0,b);)switch(u.code){case 2:E.name=u.value,u=o.next();break;case 10:E.lowerLeftCorner=T(u),u=o.next();break;case 11:E.upperRightCorner=T(u),u=o.next();break;case 12:E.center=T(u),u=o.next();break;case 13:E.snapBasePoint=T(u),u=o.next();break;case 14:E.snapSpacing=T(u),u=o.next();break;case 15:E.gridSpacing=T(u),u=o.next();break;case 16:E.viewDirectionFromTarget=T(u),u=o.next();break;case 17:E.viewTarget=T(u),u=o.next();break;case 42:E.lensLength=u.value,u=o.next();break;case 43:E.frontClippingPlane=u.value,u=o.next();break;case 44:E.backClippingPlane=u.value,u=o.next();break;case 45:E.viewHeight=u.value,u=o.next();break;case 50:E.snapRotationAngle=u.value,u=o.next();break;case 51:E.viewTwistAngle=u.value,u=o.next();break;case 79:E.orthographicType=u.value,u=o.next();break;case 110:E.ucsOrigin=T(u),u=o.next();break;case 111:E.ucsXAxis=T(u),u=o.next();break;case 112:E.ucsYAxis=T(u),u=o.next();break;case 110:E.ucsOrigin=T(u),u=o.next();break;case 281:E.renderMode=u.value,u=o.next();break;case 281:E.defaultLightingType=u.value,u=o.next();break;case 292:E.defaultLightingOn=u.value,u=o.next();break;case 330:E.ownerHandle=u.value,u=o.next();break;case 63:case 421:case 431:E.ambientColor=u.value,u=o.next();break;case 0:u.value==="VPORT"&&(ci.debug("}"),I.push(E),ci.debug("ViewPort {"),E={},u=o.next());break;default:df(u),u=o.next();break}return ci.debug("}"),I.push(E),I}function x(){const I={};let E={},D=0,N;for(ci.debug("LType {"),u=o.next();!pu(u,0,"ENDTAB");)switch(u.code){case 2:E.name=u.value,N=u.value,u=o.next();break;case 3:E.description=u.value,u=o.next();break;case 73:D=u.value,D>0&&(E.pattern=[]),u=o.next();break;case 40:E.patternLength=u.value,u=o.next();break;case 49:E.pattern.push(u.value),u=o.next();break;case 0:ci.debug("}"),D>0&&D!==E.pattern.length&&ci.warn("lengths do not match on LTYPE pattern"),I[N]=E,E={},ci.debug("LType {"),u=o.next();break;default:u=o.next()}return ci.debug("}"),I[N]=E,I}function M(){const I={};let E={},D;for(ci.debug("Layer {"),u=o.next();!pu(u,0,"ENDTAB");)switch(u.code){case 2:E.name=u.value,D=u.value,u=o.next();break;case 62:E.visible=u.value>=0,E.colorIndex=Math.abs(u.value),E.color=wW(E.colorIndex),u=o.next();break;case 70:E.frozen=(u.value&1)!=0||(u.value&2)!=0,u=o.next();break;case 0:u.value==="LAYER"&&(ci.debug("}"),I[D]=E,ci.debug("Layer {"),E={},D=void 0,u=o.next());break;default:df(u),u=o.next();break}return ci.debug("}"),I[D]=E,I}const R={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:g},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:x},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:M}};function A(I){const E=[],D=I?"ENDBLK":"ENDSEC";for(I||(u=o.next());;)if(u.code===0){if(u.value===D)break;const N=s._entityHandlers[u.value];if(N!=null){ci.debug(u.value+" {");const B=N.parseEntity(o,u);u=o.lastReadGroup,ci.debug("}"),P(B),E.push(B)}else{ci.warn("Unhandled entity "+u.value),u=o.next();continue}}else u=o.next();return D=="ENDSEC"&&(u=o.next()),E}function T(I){const E={};let D=I.code;if(E.x=I.value,D+=10,I=o.next(),I.code!=D)throw new Error("Expected code for point value to be "+D+" but got "+I.code+".");return E.y=I.value,D+=10,I=o.next(),I.code!=D?(o.rewind(),E):(E.z=I.value,E)}function P(I){if(!I)throw new TypeError("entity cannot be undefined or null");I.handle||(I.handle=r++)}return d(),n}}function pu(e,t,n){return e.code===t&&e.value===n}function df(e){ci.debug("unhandled group "+WO(e))}function WO(e){return e.code+":"+e.value}function wW(e){return GO[e]}const xn=function(e,t){if(typeof exports=="object"&&typeof module<"u")t(exports);else if(typeof define=="function"&&define.amd)define(["exports"],t);else if(typeof e=="object")t(e.THREE={});else{const n={};return t(n),n}}(void 0,function(e){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}),Math.sign===void 0&&(Math.sign=function(i){return i<0?-1:i>0?1:+i}),"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&function(){Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(i),c=1;c<arguments.length;c++){var p=arguments[c];if(p!=null)for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(l[_]=p[_])}return l}}();function t(){}Object.assign(t.prototype,{addEventListener:function(i,l){this._listeners===void 0&&(this._listeners={});var c=this._listeners;c[i]===void 0&&(c[i]=[]),c[i].indexOf(l)===-1&&c[i].push(l)},hasEventListener:function(i,l){if(this._listeners===void 0)return!1;var c=this._listeners;return c[i]!==void 0&&c[i].indexOf(l)!==-1},removeEventListener:function(i,l){if(this._listeners!==void 0){var c=this._listeners,p=c[i];if(p!==void 0){var _=p.indexOf(l);_!==-1&&p.splice(_,1)}}},dispatchEvent:function(i){if(this._listeners!==void 0){var l=this._listeners,c=l[i.type];if(c!==void 0&&c[0]!==void 0){i.target=this;for(var p=c.slice(0),_=0,S=p.length;_<S;_++)p[_]!==void 0&&p[_].call(this,i)}}}});var n="96",r={LEFT:0,MIDDLE:1,RIGHT:2},a=0,o=1,s=2,u=3,d=0,f=1,h=0,v=1,y=2,b=0,w=1,g=2,x=1,M=2,R=0,A=1,T=2,P=0,I=1,E=2,D=3,N=4,B=5,G=100,$=101,Q=102,ae=103,ee=104,K=200,X=201,Z=202,j=203,ie=204,pe=205,he=206,le=207,Re=208,De=209,Te=210,ge=0,ke=1,Pe=2,Xe=3,ct=4,se=5,ye=6,He=7,dt=0,pt=1,nt=2,ot=0,rt=1,At=2,Mt=3,Me=4,ve=300,Fe=301,qe=302,Et=303,$t=304,Yt=305,We=306,lt=307,sn=1e3,Tt=1001,je=1002,xe=1003,Ke=1004,Ee=1005,wt=1006,an=1007,Je=1008,Dt=1009,en=1010,_n=1011,wn=1012,hr=1013,Yn=1014,vr=1015,Ji=1016,pi=1017,Qi=1018,na=1019,ra=1020,To=1021,Ka=1022,da=1023,$e=1024,zt=1025,Kt=da,Be=1026,vt=1027,vn=33776,Un=33777,sr=33778,dr=33779,yr=35840,Ar=35841,br=35842,Lt=35843,hn=36196,Gn=37808,Qn=37809,Nr=37810,Sr=37811,Bs=37812,Ti=37813,jo=37814,Xl=37815,zs=37816,Zl=37817,ea=37818,vs=37819,Jl=37820,Ma=37821,fa=2200,cl=2201,Ql=2202,Ld=2300,Rd=2301,Tc=2302,eu=2400,Vs=2401,Ac=2402,Vm=0,Y0=1,qo=2,Lc=3e3,Rc=3001,Um=3007,X0=3002,Bu=3003,tu=3004,dh=3005,Z0=3006,Pc=3200,Hm=3201,kc=0,$m=1,Rr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var i=[],l=0;l<256;l++)i[l]=(l<16?"0":"")+l.toString(16);return function(){var p=Math.random()*4294967295|0,_=Math.random()*4294967295|0,S=Math.random()*4294967295|0,C=Math.random()*4294967295|0,k=i[p&255]+i[p>>8&255]+i[p>>16&255]+i[p>>24&255]+"-"+i[_&255]+i[_>>8&255]+"-"+i[_>>16&15|64]+i[_>>24&255]+"-"+i[S&63|128]+i[S>>8&255]+"-"+i[S>>16&255]+i[S>>24&255]+i[C&255]+i[C>>8&255]+i[C>>16&255]+i[C>>24&255];return k.toUpperCase()}}(),clamp:function(i,l,c){return Math.max(l,Math.min(c,i))},euclideanModulo:function(i,l){return(i%l+l)%l},mapLinear:function(i,l,c,p,_){return p+(i-l)*(_-p)/(c-l)},lerp:function(i,l,c){return(1-c)*i+c*l},smoothstep:function(i,l,c){return i<=l?0:i>=c?1:(i=(i-l)/(c-l),i*i*(3-2*i))},smootherstep:function(i,l,c){return i<=l?0:i>=c?1:(i=(i-l)/(c-l),i*i*i*(i*(i*6-15)+10))},randInt:function(i,l){return i+Math.floor(Math.random()*(l-i+1))},randFloat:function(i,l){return i+Math.random()*(l-i)},randFloatSpread:function(i){return i*(.5-Math.random())},degToRad:function(i){return i*Rr.DEG2RAD},radToDeg:function(i){return i*Rr.RAD2DEG},isPowerOfTwo:function(i){return(i&i-1)===0&&i!==0},ceilPowerOfTwo:function(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))},floorPowerOfTwo:function(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}};function gn(i,l){this.x=i||0,this.y=l||0}Object.defineProperties(gn.prototype,{width:{get:function(){return this.x},set:function(i){this.x=i}},height:{get:function(){return this.y},set:function(i){this.y=i}}}),Object.assign(gn.prototype,{isVector2:!0,set:function(i,l){return this.x=i,this.y=l,this},setScalar:function(i){return this.x=i,this.y=i,this},setX:function(i){return this.x=i,this},setY:function(i){return this.y=i,this},setComponent:function(i,l){switch(i){case 0:this.x=l;break;case 1:this.y=l;break;default:throw new Error("index is out of range: "+i)}return this},getComponent:function(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(i){return this.x=i.x,this.y=i.y,this},add:function(i,l){return l!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,l)):(this.x+=i.x,this.y+=i.y,this)},addScalar:function(i){return this.x+=i,this.y+=i,this},addVectors:function(i,l){return this.x=i.x+l.x,this.y=i.y+l.y,this},addScaledVector:function(i,l){return this.x+=i.x*l,this.y+=i.y*l,this},sub:function(i,l){return l!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,l)):(this.x-=i.x,this.y-=i.y,this)},subScalar:function(i){return this.x-=i,this.y-=i,this},subVectors:function(i,l){return this.x=i.x-l.x,this.y=i.y-l.y,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this},multiplyScalar:function(i){return this.x*=i,this.y*=i,this},divide:function(i){return this.x/=i.x,this.y/=i.y,this},divideScalar:function(i){return this.multiplyScalar(1/i)},applyMatrix3:function(i){var l=this.x,c=this.y,p=i.elements;return this.x=p[0]*l+p[3]*c+p[6],this.y=p[1]*l+p[4]*c+p[7],this},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this},clamp:function(i,l){return this.x=Math.max(i.x,Math.min(l.x,this.x)),this.y=Math.max(i.y,Math.min(l.y,this.y)),this},clampScalar:function(){var i=new gn,l=new gn;return function(p,_){return i.set(p,p),l.set(_,_),this.clamp(i,l)}}(),clampLength:function(i,l){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(i,Math.min(l,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(i){return this.x*i.x+this.y*i.y},cross:function(i){return this.x*i.y-this.y*i.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),i},distanceTo:function(i){return Math.sqrt(this.distanceToSquared(i))},distanceToSquared:function(i){var l=this.x-i.x,c=this.y-i.y;return l*l+c*c},manhattanDistanceTo:function(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)},setLength:function(i){return this.normalize().multiplyScalar(i)},lerp:function(i,l){return this.x+=(i.x-this.x)*l,this.y+=(i.y-this.y)*l,this},lerpVectors:function(i,l,c){return this.subVectors(l,i).multiplyScalar(c).add(i)},equals:function(i){return i.x===this.x&&i.y===this.y},fromArray:function(i,l){return l===void 0&&(l=0),this.x=i[l],this.y=i[l+1],this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this.x,i[l+1]=this.y,i},fromBufferAttribute:function(i,l,c){return c!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(l),this.y=i.getY(l),this},rotateAround:function(i,l){var c=Math.cos(l),p=Math.sin(l),_=this.x-i.x,S=this.y-i.y;return this.x=_*c-S*p+i.x,this.y=_*p+S*c+i.y,this}});function gr(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(gr.prototype,{isMatrix4:!0,set:function(i,l,c,p,_,S,C,k,O,z,V,H,q,te,oe,_e){var Ce=this.elements;return Ce[0]=i,Ce[4]=l,Ce[8]=c,Ce[12]=p,Ce[1]=_,Ce[5]=S,Ce[9]=C,Ce[13]=k,Ce[2]=O,Ce[6]=z,Ce[10]=V,Ce[14]=H,Ce[3]=q,Ce[7]=te,Ce[11]=oe,Ce[15]=_e,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new gr().fromArray(this.elements)},copy:function(i){var l=this.elements,c=i.elements;return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],this},copyPosition:function(i){var l=this.elements,c=i.elements;return l[12]=c[12],l[13]=c[13],l[14]=c[14],this},extractBasis:function(i,l,c){return i.setFromMatrixColumn(this,0),l.setFromMatrixColumn(this,1),c.setFromMatrixColumn(this,2),this},makeBasis:function(i,l,c){return this.set(i.x,l.x,c.x,0,i.y,l.y,c.y,0,i.z,l.z,c.z,0,0,0,0,1),this},extractRotation:function(){var i=new Ve;return function(c){var p=this.elements,_=c.elements,S=1/i.setFromMatrixColumn(c,0).length(),C=1/i.setFromMatrixColumn(c,1).length(),k=1/i.setFromMatrixColumn(c,2).length();return p[0]=_[0]*S,p[1]=_[1]*S,p[2]=_[2]*S,p[3]=0,p[4]=_[4]*C,p[5]=_[5]*C,p[6]=_[6]*C,p[7]=0,p[8]=_[8]*k,p[9]=_[9]*k,p[10]=_[10]*k,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,this}}(),makeRotationFromEuler:function(i){i&&i.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var l=this.elements,c=i.x,p=i.y,_=i.z,S=Math.cos(c),C=Math.sin(c),k=Math.cos(p),O=Math.sin(p),z=Math.cos(_),V=Math.sin(_);if(i.order==="XYZ"){var H=S*z,q=S*V,te=C*z,oe=C*V;l[0]=k*z,l[4]=-k*V,l[8]=O,l[1]=q+te*O,l[5]=H-oe*O,l[9]=-C*k,l[2]=oe-H*O,l[6]=te+q*O,l[10]=S*k}else if(i.order==="YXZ"){var _e=k*z,Ce=k*V,Ae=O*z,Ne=O*V;l[0]=_e+Ne*C,l[4]=Ae*C-Ce,l[8]=S*O,l[1]=S*V,l[5]=S*z,l[9]=-C,l[2]=Ce*C-Ae,l[6]=Ne+_e*C,l[10]=S*k}else if(i.order==="ZXY"){var _e=k*z,Ce=k*V,Ae=O*z,Ne=O*V;l[0]=_e-Ne*C,l[4]=-S*V,l[8]=Ae+Ce*C,l[1]=Ce+Ae*C,l[5]=S*z,l[9]=Ne-_e*C,l[2]=-S*O,l[6]=C,l[10]=S*k}else if(i.order==="ZYX"){var H=S*z,q=S*V,te=C*z,oe=C*V;l[0]=k*z,l[4]=te*O-q,l[8]=H*O+oe,l[1]=k*V,l[5]=oe*O+H,l[9]=q*O-te,l[2]=-O,l[6]=C*k,l[10]=S*k}else if(i.order==="YZX"){var Ie=S*k,Le=S*O,st=C*k,ft=C*O;l[0]=k*z,l[4]=ft-Ie*V,l[8]=st*V+Le,l[1]=V,l[5]=S*z,l[9]=-C*z,l[2]=-O*z,l[6]=Le*V+st,l[10]=Ie-ft*V}else if(i.order==="XZY"){var Ie=S*k,Le=S*O,st=C*k,ft=C*O;l[0]=k*z,l[4]=-V,l[8]=O*z,l[1]=Ie*V+ft,l[5]=S*z,l[9]=Le*V-st,l[2]=st*V-Le,l[6]=C*z,l[10]=ft*V+Ie}return l[3]=0,l[7]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,this},makeRotationFromQuaternion:function(){var i=new Ve(0,0,0),l=new Ve(1,1,1);return function(p){return this.compose(i,p,l)}}(),lookAt:function(){var i=new Ve,l=new Ve,c=new Ve;return function(_,S,C){var k=this.elements;return c.subVectors(_,S),c.lengthSq()===0&&(c.z=1),c.normalize(),i.crossVectors(C,c),i.lengthSq()===0&&(Math.abs(C.z)===1?c.x+=1e-4:c.z+=1e-4,c.normalize(),i.crossVectors(C,c)),i.normalize(),l.crossVectors(c,i),k[0]=i.x,k[4]=l.x,k[8]=c.x,k[1]=i.y,k[5]=l.y,k[9]=c.y,k[2]=i.z,k[6]=l.z,k[10]=c.z,this}}(),multiply:function(i,l){return l!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(i,l)):this.multiplyMatrices(this,i)},premultiply:function(i){return this.multiplyMatrices(i,this)},multiplyMatrices:function(i,l){var c=i.elements,p=l.elements,_=this.elements,S=c[0],C=c[4],k=c[8],O=c[12],z=c[1],V=c[5],H=c[9],q=c[13],te=c[2],oe=c[6],_e=c[10],Ce=c[14],Ae=c[3],Ne=c[7],Ie=c[11],Le=c[15],st=p[0],ft=p[4],ut=p[8],Ct=p[12],ht=p[1],It=p[5],Nt=p[9],ln=p[13],Cn=p[2],pn=p[6],yn=p[10],In=p[14],it=p[3],Qe=p[7],Qt=p[11],Ht=p[15];return _[0]=S*st+C*ht+k*Cn+O*it,_[4]=S*ft+C*It+k*pn+O*Qe,_[8]=S*ut+C*Nt+k*yn+O*Qt,_[12]=S*Ct+C*ln+k*In+O*Ht,_[1]=z*st+V*ht+H*Cn+q*it,_[5]=z*ft+V*It+H*pn+q*Qe,_[9]=z*ut+V*Nt+H*yn+q*Qt,_[13]=z*Ct+V*ln+H*In+q*Ht,_[2]=te*st+oe*ht+_e*Cn+Ce*it,_[6]=te*ft+oe*It+_e*pn+Ce*Qe,_[10]=te*ut+oe*Nt+_e*yn+Ce*Qt,_[14]=te*Ct+oe*ln+_e*In+Ce*Ht,_[3]=Ae*st+Ne*ht+Ie*Cn+Le*it,_[7]=Ae*ft+Ne*It+Ie*pn+Le*Qe,_[11]=Ae*ut+Ne*Nt+Ie*yn+Le*Qt,_[15]=Ae*Ct+Ne*ln+Ie*In+Le*Ht,this},multiplyScalar:function(i){var l=this.elements;return l[0]*=i,l[4]*=i,l[8]*=i,l[12]*=i,l[1]*=i,l[5]*=i,l[9]*=i,l[13]*=i,l[2]*=i,l[6]*=i,l[10]*=i,l[14]*=i,l[3]*=i,l[7]*=i,l[11]*=i,l[15]*=i,this},applyToBufferAttribute:function(){var i=new Ve;return function(c){for(var p=0,_=c.count;p<_;p++)i.x=c.getX(p),i.y=c.getY(p),i.z=c.getZ(p),i.applyMatrix4(this),c.setXYZ(p,i.x,i.y,i.z);return c}}(),determinant:function(){var i=this.elements,l=i[0],c=i[4],p=i[8],_=i[12],S=i[1],C=i[5],k=i[9],O=i[13],z=i[2],V=i[6],H=i[10],q=i[14],te=i[3],oe=i[7],_e=i[11],Ce=i[15];return te*(+_*k*V-p*O*V-_*C*H+c*O*H+p*C*q-c*k*q)+oe*(+l*k*q-l*O*H+_*S*H-p*S*q+p*O*z-_*k*z)+_e*(+l*O*V-l*C*q-_*S*V+c*S*q+_*C*z-c*O*z)+Ce*(-p*C*z-l*k*V+l*C*H+p*S*V-c*S*H+c*k*z)},transpose:function(){var i=this.elements,l;return l=i[1],i[1]=i[4],i[4]=l,l=i[2],i[2]=i[8],i[8]=l,l=i[6],i[6]=i[9],i[9]=l,l=i[3],i[3]=i[12],i[12]=l,l=i[7],i[7]=i[13],i[13]=l,l=i[11],i[11]=i[14],i[14]=l,this},setPosition:function(i){var l=this.elements;return l[12]=i.x,l[13]=i.y,l[14]=i.z,this},getInverse:function(i,l){var c=this.elements,p=i.elements,_=p[0],S=p[1],C=p[2],k=p[3],O=p[4],z=p[5],V=p[6],H=p[7],q=p[8],te=p[9],oe=p[10],_e=p[11],Ce=p[12],Ae=p[13],Ne=p[14],Ie=p[15],Le=te*Ne*H-Ae*oe*H+Ae*V*_e-z*Ne*_e-te*V*Ie+z*oe*Ie,st=Ce*oe*H-q*Ne*H-Ce*V*_e+O*Ne*_e+q*V*Ie-O*oe*Ie,ft=q*Ae*H-Ce*te*H+Ce*z*_e-O*Ae*_e-q*z*Ie+O*te*Ie,ut=Ce*te*V-q*Ae*V-Ce*z*oe+O*Ae*oe+q*z*Ne-O*te*Ne,Ct=_*Le+S*st+C*ft+k*ut;if(Ct===0){var ht="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(l===!0)throw new Error(ht);return console.warn(ht),this.identity()}var It=1/Ct;return c[0]=Le*It,c[1]=(Ae*oe*k-te*Ne*k-Ae*C*_e+S*Ne*_e+te*C*Ie-S*oe*Ie)*It,c[2]=(z*Ne*k-Ae*V*k+Ae*C*H-S*Ne*H-z*C*Ie+S*V*Ie)*It,c[3]=(te*V*k-z*oe*k-te*C*H+S*oe*H+z*C*_e-S*V*_e)*It,c[4]=st*It,c[5]=(q*Ne*k-Ce*oe*k+Ce*C*_e-_*Ne*_e-q*C*Ie+_*oe*Ie)*It,c[6]=(Ce*V*k-O*Ne*k-Ce*C*H+_*Ne*H+O*C*Ie-_*V*Ie)*It,c[7]=(O*oe*k-q*V*k+q*C*H-_*oe*H-O*C*_e+_*V*_e)*It,c[8]=ft*It,c[9]=(Ce*te*k-q*Ae*k-Ce*S*_e+_*Ae*_e+q*S*Ie-_*te*Ie)*It,c[10]=(O*Ae*k-Ce*z*k+Ce*S*H-_*Ae*H-O*S*Ie+_*z*Ie)*It,c[11]=(q*z*k-O*te*k-q*S*H+_*te*H+O*S*_e-_*z*_e)*It,c[12]=ut*It,c[13]=(q*Ae*C-Ce*te*C+Ce*S*oe-_*Ae*oe-q*S*Ne+_*te*Ne)*It,c[14]=(Ce*z*C-O*Ae*C-Ce*S*V+_*Ae*V+O*S*Ne-_*z*Ne)*It,c[15]=(O*te*C-q*z*C+q*S*V-_*te*V-O*S*oe+_*z*oe)*It,this},scale:function(i){var l=this.elements,c=i.x,p=i.y,_=i.z;return l[0]*=c,l[4]*=p,l[8]*=_,l[1]*=c,l[5]*=p,l[9]*=_,l[2]*=c,l[6]*=p,l[10]*=_,l[3]*=c,l[7]*=p,l[11]*=_,this},getMaxScaleOnAxis:function(){var i=this.elements,l=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],c=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],p=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(l,c,p))},makeTranslation:function(i,l,c){return this.set(1,0,0,i,0,1,0,l,0,0,1,c,0,0,0,1),this},makeRotationX:function(i){var l=Math.cos(i),c=Math.sin(i);return this.set(1,0,0,0,0,l,-c,0,0,c,l,0,0,0,0,1),this},makeRotationY:function(i){var l=Math.cos(i),c=Math.sin(i);return this.set(l,0,c,0,0,1,0,0,-c,0,l,0,0,0,0,1),this},makeRotationZ:function(i){var l=Math.cos(i),c=Math.sin(i);return this.set(l,-c,0,0,c,l,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(i,l){var c=Math.cos(l),p=Math.sin(l),_=1-c,S=i.x,C=i.y,k=i.z,O=_*S,z=_*C;return this.set(O*S+c,O*C-p*k,O*k+p*C,0,O*C+p*k,z*C+c,z*k-p*S,0,O*k-p*C,z*k+p*S,_*k*k+c,0,0,0,0,1),this},makeScale:function(i,l,c){return this.set(i,0,0,0,0,l,0,0,0,0,c,0,0,0,0,1),this},makeShear:function(i,l,c){return this.set(1,l,c,0,i,1,c,0,i,l,1,0,0,0,0,1),this},compose:function(i,l,c){var p=this.elements,_=l._x,S=l._y,C=l._z,k=l._w,O=_+_,z=S+S,V=C+C,H=_*O,q=_*z,te=_*V,oe=S*z,_e=S*V,Ce=C*V,Ae=k*O,Ne=k*z,Ie=k*V,Le=c.x,st=c.y,ft=c.z;return p[0]=(1-(oe+Ce))*Le,p[1]=(q+Ie)*Le,p[2]=(te-Ne)*Le,p[3]=0,p[4]=(q-Ie)*st,p[5]=(1-(H+Ce))*st,p[6]=(_e+Ae)*st,p[7]=0,p[8]=(te+Ne)*ft,p[9]=(_e-Ae)*ft,p[10]=(1-(H+oe))*ft,p[11]=0,p[12]=i.x,p[13]=i.y,p[14]=i.z,p[15]=1,this},decompose:function(){var i=new Ve,l=new gr;return function(p,_,S){var C=this.elements,k=i.set(C[0],C[1],C[2]).length(),O=i.set(C[4],C[5],C[6]).length(),z=i.set(C[8],C[9],C[10]).length(),V=this.determinant();V<0&&(k=-k),p.x=C[12],p.y=C[13],p.z=C[14],l.copy(this);var H=1/k,q=1/O,te=1/z;return l.elements[0]*=H,l.elements[1]*=H,l.elements[2]*=H,l.elements[4]*=q,l.elements[5]*=q,l.elements[6]*=q,l.elements[8]*=te,l.elements[9]*=te,l.elements[10]*=te,_.setFromRotationMatrix(l),S.x=k,S.y=O,S.z=z,this}}(),makePerspective:function(i,l,c,p,_,S){S===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var C=this.elements,k=2*_/(l-i),O=2*_/(c-p),z=(l+i)/(l-i),V=(c+p)/(c-p),H=-(S+_)/(S-_),q=-2*S*_/(S-_);return C[0]=k,C[4]=0,C[8]=z,C[12]=0,C[1]=0,C[5]=O,C[9]=V,C[13]=0,C[2]=0,C[6]=0,C[10]=H,C[14]=q,C[3]=0,C[7]=0,C[11]=-1,C[15]=0,this},makeOrthographic:function(i,l,c,p,_,S){var C=this.elements,k=1/(l-i),O=1/(c-p),z=1/(S-_),V=(l+i)*k,H=(c+p)*O,q=(S+_)*z;return C[0]=2*k,C[4]=0,C[8]=0,C[12]=-V,C[1]=0,C[5]=2*O,C[9]=0,C[13]=-H,C[2]=0,C[6]=0,C[10]=-2*z,C[14]=-q,C[3]=0,C[7]=0,C[11]=0,C[15]=1,this},equals:function(i){for(var l=this.elements,c=i.elements,p=0;p<16;p++)if(l[p]!==c[p])return!1;return!0},fromArray:function(i,l){l===void 0&&(l=0);for(var c=0;c<16;c++)this.elements[c]=i[c+l];return this},toArray:function(i,l){i===void 0&&(i=[]),l===void 0&&(l=0);var c=this.elements;return i[l]=c[0],i[l+1]=c[1],i[l+2]=c[2],i[l+3]=c[3],i[l+4]=c[4],i[l+5]=c[5],i[l+6]=c[6],i[l+7]=c[7],i[l+8]=c[8],i[l+9]=c[9],i[l+10]=c[10],i[l+11]=c[11],i[l+12]=c[12],i[l+13]=c[13],i[l+14]=c[14],i[l+15]=c[15],i}});function ha(i,l,c,p){this._x=i||0,this._y=l||0,this._z=c||0,this._w=p!==void 0?p:1}Object.assign(ha,{slerp:function(i,l,c,p){return c.copy(i).slerp(l,p)},slerpFlat:function(i,l,c,p,_,S,C){var k=c[p+0],O=c[p+1],z=c[p+2],V=c[p+3],H=_[S+0],q=_[S+1],te=_[S+2],oe=_[S+3];if(V!==oe||k!==H||O!==q||z!==te){var _e=1-C,Ce=k*H+O*q+z*te+V*oe,Ae=Ce>=0?1:-1,Ne=1-Ce*Ce;if(Ne>Number.EPSILON){var Ie=Math.sqrt(Ne),Le=Math.atan2(Ie,Ce*Ae);_e=Math.sin(_e*Le)/Ie,C=Math.sin(C*Le)/Ie}var st=C*Ae;if(k=k*_e+H*st,O=O*_e+q*st,z=z*_e+te*st,V=V*_e+oe*st,_e===1-C){var ft=1/Math.sqrt(k*k+O*O+z*z+V*V);k*=ft,O*=ft,z*=ft,V*=ft}}i[l]=k,i[l+1]=O,i[l+2]=z,i[l+3]=V}}),Object.defineProperties(ha.prototype,{x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(i){this._w=i,this.onChangeCallback()}}}),Object.assign(ha.prototype,{set:function(i,l,c,p){return this._x=i,this._y=l,this._z=c,this._w=p,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this.onChangeCallback(),this},setFromEuler:function(i,l){if(!(i&&i.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=i._x,p=i._y,_=i._z,S=i.order,C=Math.cos,k=Math.sin,O=C(c/2),z=C(p/2),V=C(_/2),H=k(c/2),q=k(p/2),te=k(_/2);return S==="XYZ"?(this._x=H*z*V+O*q*te,this._y=O*q*V-H*z*te,this._z=O*z*te+H*q*V,this._w=O*z*V-H*q*te):S==="YXZ"?(this._x=H*z*V+O*q*te,this._y=O*q*V-H*z*te,this._z=O*z*te-H*q*V,this._w=O*z*V+H*q*te):S==="ZXY"?(this._x=H*z*V-O*q*te,this._y=O*q*V+H*z*te,this._z=O*z*te+H*q*V,this._w=O*z*V-H*q*te):S==="ZYX"?(this._x=H*z*V-O*q*te,this._y=O*q*V+H*z*te,this._z=O*z*te-H*q*V,this._w=O*z*V+H*q*te):S==="YZX"?(this._x=H*z*V+O*q*te,this._y=O*q*V+H*z*te,this._z=O*z*te-H*q*V,this._w=O*z*V-H*q*te):S==="XZY"&&(this._x=H*z*V-O*q*te,this._y=O*q*V-H*z*te,this._z=O*z*te+H*q*V,this._w=O*z*V+H*q*te),l!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(i,l){var c=l/2,p=Math.sin(c);return this._x=i.x*p,this._y=i.y*p,this._z=i.z*p,this._w=Math.cos(c),this.onChangeCallback(),this},setFromRotationMatrix:function(i){var l=i.elements,c=l[0],p=l[4],_=l[8],S=l[1],C=l[5],k=l[9],O=l[2],z=l[6],V=l[10],H=c+C+V,q;return H>0?(q=.5/Math.sqrt(H+1),this._w=.25/q,this._x=(z-k)*q,this._y=(_-O)*q,this._z=(S-p)*q):c>C&&c>V?(q=2*Math.sqrt(1+c-C-V),this._w=(z-k)/q,this._x=.25*q,this._y=(p+S)/q,this._z=(_+O)/q):C>V?(q=2*Math.sqrt(1+C-c-V),this._w=(_-O)/q,this._x=(p+S)/q,this._y=.25*q,this._z=(k+z)/q):(q=2*Math.sqrt(1+V-c-C),this._w=(S-p)/q,this._x=(_+O)/q,this._y=(k+z)/q,this._z=.25*q),this.onChangeCallback(),this},setFromUnitVectors:function(){var i=new Ve,l,c=1e-6;return function(_,S){return i===void 0&&(i=new Ve),l=_.dot(S)+1,l<c?(l=0,Math.abs(_.x)>Math.abs(_.z)?i.set(-_.y,_.x,0):i.set(0,-_.z,_.y)):i.crossVectors(_,S),this._x=i.x,this._y=i.y,this._z=i.z,this._w=l,this.normalize()}}(),angleTo:function(i){return 2*Math.acos(Math.abs(Rr.clamp(this.dot(i),-1,1)))},rotateTowards:function(i,l){var c=this.angleTo(i);if(c===0)return this;var p=Math.min(1,l/c);return this.slerp(i,p),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this.onChangeCallback(),this},multiply:function(i,l){return l!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(i,l)):this.multiplyQuaternions(this,i)},premultiply:function(i){return this.multiplyQuaternions(i,this)},multiplyQuaternions:function(i,l){var c=i._x,p=i._y,_=i._z,S=i._w,C=l._x,k=l._y,O=l._z,z=l._w;return this._x=c*z+S*C+p*O-_*k,this._y=p*z+S*k+_*C-c*O,this._z=_*z+S*O+c*k-p*C,this._w=S*z-c*C-p*k-_*O,this.onChangeCallback(),this},slerp:function(i,l){if(l===0)return this;if(l===1)return this.copy(i);var c=this._x,p=this._y,_=this._z,S=this._w,C=S*i._w+c*i._x+p*i._y+_*i._z;if(C<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,C=-C):this.copy(i),C>=1)return this._w=S,this._x=c,this._y=p,this._z=_,this;var k=1-C*C;if(k<=Number.EPSILON){var O=1-l;return this._w=O*S+l*this._w,this._x=O*c+l*this._x,this._y=O*p+l*this._y,this._z=O*_+l*this._z,this.normalize()}var z=Math.sqrt(k),V=Math.atan2(z,C),H=Math.sin((1-l)*V)/z,q=Math.sin(l*V)/z;return this._w=S*H+this._w*q,this._x=c*H+this._x*q,this._y=p*H+this._y*q,this._z=_*H+this._z*q,this.onChangeCallback(),this},equals:function(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w},fromArray:function(i,l){return l===void 0&&(l=0),this._x=i[l],this._y=i[l+1],this._z=i[l+2],this._w=i[l+3],this.onChangeCallback(),this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this._x,i[l+1]=this._y,i[l+2]=this._z,i[l+3]=this._w,i},onChange:function(i){return this.onChangeCallback=i,this},onChangeCallback:function(){}});function Ve(i,l,c){this.x=i||0,this.y=l||0,this.z=c||0}Object.assign(Ve.prototype,{isVector3:!0,set:function(i,l,c){return this.x=i,this.y=l,this.z=c,this},setScalar:function(i){return this.x=i,this.y=i,this.z=i,this},setX:function(i){return this.x=i,this},setY:function(i){return this.y=i,this},setZ:function(i){return this.z=i,this},setComponent:function(i,l){switch(i){case 0:this.x=l;break;case 1:this.y=l;break;case 2:this.z=l;break;default:throw new Error("index is out of range: "+i)}return this},getComponent:function(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z,this},add:function(i,l){return l!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,l)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this)},addScalar:function(i){return this.x+=i,this.y+=i,this.z+=i,this},addVectors:function(i,l){return this.x=i.x+l.x,this.y=i.y+l.y,this.z=i.z+l.z,this},addScaledVector:function(i,l){return this.x+=i.x*l,this.y+=i.y*l,this.z+=i.z*l,this},sub:function(i,l){return l!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,l)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this)},subScalar:function(i){return this.x-=i,this.y-=i,this.z-=i,this},subVectors:function(i,l){return this.x=i.x-l.x,this.y=i.y-l.y,this.z=i.z-l.z,this},multiply:function(i,l){return l!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(i,l)):(this.x*=i.x,this.y*=i.y,this.z*=i.z,this)},multiplyScalar:function(i){return this.x*=i,this.y*=i,this.z*=i,this},multiplyVectors:function(i,l){return this.x=i.x*l.x,this.y=i.y*l.y,this.z=i.z*l.z,this},applyEuler:function(){var i=new ha;return function(c){return c&&c.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(i.setFromEuler(c))}}(),applyAxisAngle:function(){var i=new ha;return function(c,p){return this.applyQuaternion(i.setFromAxisAngle(c,p))}}(),applyMatrix3:function(i){var l=this.x,c=this.y,p=this.z,_=i.elements;return this.x=_[0]*l+_[3]*c+_[6]*p,this.y=_[1]*l+_[4]*c+_[7]*p,this.z=_[2]*l+_[5]*c+_[8]*p,this},applyMatrix4:function(i){var l=this.x,c=this.y,p=this.z,_=i.elements,S=1/(_[3]*l+_[7]*c+_[11]*p+_[15]);return this.x=(_[0]*l+_[4]*c+_[8]*p+_[12])*S,this.y=(_[1]*l+_[5]*c+_[9]*p+_[13])*S,this.z=(_[2]*l+_[6]*c+_[10]*p+_[14])*S,this},applyQuaternion:function(i){var l=this.x,c=this.y,p=this.z,_=i.x,S=i.y,C=i.z,k=i.w,O=k*l+S*p-C*c,z=k*c+C*l-_*p,V=k*p+_*c-S*l,H=-_*l-S*c-C*p;return this.x=O*k+H*-_+z*-C-V*-S,this.y=z*k+H*-S+V*-_-O*-C,this.z=V*k+H*-C+O*-S-z*-_,this},project:function(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)},unproject:function(){var i=new gr;return function(c){return this.applyMatrix4(i.getInverse(c.projectionMatrix)).applyMatrix4(c.matrixWorld)}}(),transformDirection:function(i){var l=this.x,c=this.y,p=this.z,_=i.elements;return this.x=_[0]*l+_[4]*c+_[8]*p,this.y=_[1]*l+_[5]*c+_[9]*p,this.z=_[2]*l+_[6]*c+_[10]*p,this.normalize()},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this},divideScalar:function(i){return this.multiplyScalar(1/i)},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this},clamp:function(i,l){return this.x=Math.max(i.x,Math.min(l.x,this.x)),this.y=Math.max(i.y,Math.min(l.y,this.y)),this.z=Math.max(i.z,Math.min(l.z,this.z)),this},clampScalar:function(){var i=new Ve,l=new Ve;return function(p,_){return i.set(p,p,p),l.set(_,_,_),this.clamp(i,l)}}(),clampLength:function(i,l){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(i,Math.min(l,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(i){return this.normalize().multiplyScalar(i)},lerp:function(i,l){return this.x+=(i.x-this.x)*l,this.y+=(i.y-this.y)*l,this.z+=(i.z-this.z)*l,this},lerpVectors:function(i,l,c){return this.subVectors(l,i).multiplyScalar(c).add(i)},cross:function(i,l){return l!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(i,l)):this.crossVectors(this,i)},crossVectors:function(i,l){var c=i.x,p=i.y,_=i.z,S=l.x,C=l.y,k=l.z;return this.x=p*k-_*C,this.y=_*S-c*k,this.z=c*C-p*S,this},projectOnVector:function(i){var l=i.dot(this)/i.lengthSq();return this.copy(i).multiplyScalar(l)},projectOnPlane:function(){var i=new Ve;return function(c){return i.copy(this).projectOnVector(c),this.sub(i)}}(),reflect:function(){var i=new Ve;return function(c){return this.sub(i.copy(c).multiplyScalar(2*this.dot(c)))}}(),angleTo:function(i){var l=this.dot(i)/Math.sqrt(this.lengthSq()*i.lengthSq());return Math.acos(Rr.clamp(l,-1,1))},distanceTo:function(i){return Math.sqrt(this.distanceToSquared(i))},distanceToSquared:function(i){var l=this.x-i.x,c=this.y-i.y,p=this.z-i.z;return l*l+c*c+p*p},manhattanDistanceTo:function(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)},setFromSpherical:function(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)},setFromSphericalCoords:function(i,l,c){var p=Math.sin(l)*i;return this.x=p*Math.sin(c),this.y=Math.cos(l)*i,this.z=p*Math.cos(c),this},setFromCylindrical:function(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)},setFromCylindricalCoords:function(i,l,c){return this.x=i*Math.sin(l),this.y=c,this.z=i*Math.cos(l),this},setFromMatrixPosition:function(i){var l=i.elements;return this.x=l[12],this.y=l[13],this.z=l[14],this},setFromMatrixScale:function(i){var l=this.setFromMatrixColumn(i,0).length(),c=this.setFromMatrixColumn(i,1).length(),p=this.setFromMatrixColumn(i,2).length();return this.x=l,this.y=c,this.z=p,this},setFromMatrixColumn:function(i,l){return this.fromArray(i.elements,l*4)},equals:function(i){return i.x===this.x&&i.y===this.y&&i.z===this.z},fromArray:function(i,l){return l===void 0&&(l=0),this.x=i[l],this.y=i[l+1],this.z=i[l+2],this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this.x,i[l+1]=this.y,i[l+2]=this.z,i},fromBufferAttribute:function(i,l,c){return c!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(l),this.y=i.getY(l),this.z=i.getZ(l),this}});function Ea(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ea.prototype,{isMatrix3:!0,set:function(i,l,c,p,_,S,C,k,O){var z=this.elements;return z[0]=i,z[1]=p,z[2]=C,z[3]=l,z[4]=_,z[5]=k,z[6]=c,z[7]=S,z[8]=O,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(i){var l=this.elements,c=i.elements;return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],this},setFromMatrix4:function(i){var l=i.elements;return this.set(l[0],l[4],l[8],l[1],l[5],l[9],l[2],l[6],l[10]),this},applyToBufferAttribute:function(){var i=new Ve;return function(c){for(var p=0,_=c.count;p<_;p++)i.x=c.getX(p),i.y=c.getY(p),i.z=c.getZ(p),i.applyMatrix3(this),c.setXYZ(p,i.x,i.y,i.z);return c}}(),multiply:function(i){return this.multiplyMatrices(this,i)},premultiply:function(i){return this.multiplyMatrices(i,this)},multiplyMatrices:function(i,l){var c=i.elements,p=l.elements,_=this.elements,S=c[0],C=c[3],k=c[6],O=c[1],z=c[4],V=c[7],H=c[2],q=c[5],te=c[8],oe=p[0],_e=p[3],Ce=p[6],Ae=p[1],Ne=p[4],Ie=p[7],Le=p[2],st=p[5],ft=p[8];return _[0]=S*oe+C*Ae+k*Le,_[3]=S*_e+C*Ne+k*st,_[6]=S*Ce+C*Ie+k*ft,_[1]=O*oe+z*Ae+V*Le,_[4]=O*_e+z*Ne+V*st,_[7]=O*Ce+z*Ie+V*ft,_[2]=H*oe+q*Ae+te*Le,_[5]=H*_e+q*Ne+te*st,_[8]=H*Ce+q*Ie+te*ft,this},multiplyScalar:function(i){var l=this.elements;return l[0]*=i,l[3]*=i,l[6]*=i,l[1]*=i,l[4]*=i,l[7]*=i,l[2]*=i,l[5]*=i,l[8]*=i,this},determinant:function(){var i=this.elements,l=i[0],c=i[1],p=i[2],_=i[3],S=i[4],C=i[5],k=i[6],O=i[7],z=i[8];return l*S*z-l*C*O-c*_*z+c*C*k+p*_*O-p*S*k},getInverse:function(i,l){i&&i.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var c=i.elements,p=this.elements,_=c[0],S=c[1],C=c[2],k=c[3],O=c[4],z=c[5],V=c[6],H=c[7],q=c[8],te=q*O-z*H,oe=z*V-q*k,_e=H*k-O*V,Ce=_*te+S*oe+C*_e;if(Ce===0){var Ae="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(l===!0)throw new Error(Ae);return console.warn(Ae),this.identity()}var Ne=1/Ce;return p[0]=te*Ne,p[1]=(C*H-q*S)*Ne,p[2]=(z*S-C*O)*Ne,p[3]=oe*Ne,p[4]=(q*_-C*V)*Ne,p[5]=(C*k-z*_)*Ne,p[6]=_e*Ne,p[7]=(S*V-H*_)*Ne,p[8]=(O*_-S*k)*Ne,this},transpose:function(){var i,l=this.elements;return i=l[1],l[1]=l[3],l[3]=i,i=l[2],l[2]=l[6],l[6]=i,i=l[5],l[5]=l[7],l[7]=i,this},getNormalMatrix:function(i){return this.setFromMatrix4(i).getInverse(this).transpose()},transposeIntoArray:function(i){var l=this.elements;return i[0]=l[0],i[1]=l[3],i[2]=l[6],i[3]=l[1],i[4]=l[4],i[5]=l[7],i[6]=l[2],i[7]=l[5],i[8]=l[8],this},setUvTransform:function(i,l,c,p,_,S,C){var k=Math.cos(_),O=Math.sin(_);this.set(c*k,c*O,-c*(k*S+O*C)+S+i,-p*O,p*k,-p*(-O*S+k*C)+C+l,0,0,1)},scale:function(i,l){var c=this.elements;return c[0]*=i,c[3]*=i,c[6]*=i,c[1]*=l,c[4]*=l,c[7]*=l,this},rotate:function(i){var l=Math.cos(i),c=Math.sin(i),p=this.elements,_=p[0],S=p[3],C=p[6],k=p[1],O=p[4],z=p[7];return p[0]=l*_+c*k,p[3]=l*S+c*O,p[6]=l*C+c*z,p[1]=-c*_+l*k,p[4]=-c*S+l*O,p[7]=-c*C+l*z,this},translate:function(i,l){var c=this.elements;return c[0]+=i*c[2],c[3]+=i*c[5],c[6]+=i*c[8],c[1]+=l*c[2],c[4]+=l*c[5],c[7]+=l*c[8],this},equals:function(i){for(var l=this.elements,c=i.elements,p=0;p<9;p++)if(l[p]!==c[p])return!1;return!0},fromArray:function(i,l){l===void 0&&(l=0);for(var c=0;c<9;c++)this.elements[c]=i[c+l];return this},toArray:function(i,l){i===void 0&&(i=[]),l===void 0&&(l=0);var c=this.elements;return i[l]=c[0],i[l+1]=c[1],i[l+2]=c[2],i[l+3]=c[3],i[l+4]=c[4],i[l+5]=c[5],i[l+6]=c[6],i[l+7]=c[7],i[l+8]=c[8],i}});var nu={getDataURL:function(i){var l;if(i instanceof HTMLCanvasElement)l=i;else{l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),l.width=i.width,l.height=i.height;var c=l.getContext("2d");i instanceof ImageData?c.putImageData(i,0,0):c.drawImage(i,0,0,i.width,i.height)}return l.width>2048||l.height>2048?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png")}},e1=0;function zi(i,l,c,p,_,S,C,k,O,z){Object.defineProperty(this,"id",{value:e1++}),this.uuid=Rr.generateUUID(),this.name="",this.image=i!==void 0?i:zi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=l!==void 0?l:zi.DEFAULT_MAPPING,this.wrapS=c!==void 0?c:Tt,this.wrapT=p!==void 0?p:Tt,this.magFilter=_!==void 0?_:wt,this.minFilter=S!==void 0?S:Je,this.anisotropy=O!==void 0?O:1,this.format=C!==void 0?C:da,this.type=k!==void 0?k:Dt,this.offset=new gn(0,0),this.repeat=new gn(1,1),this.center=new gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ea,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=z!==void 0?z:Lc,this.version=0,this.onUpdate=null}zi.DEFAULT_IMAGE=void 0,zi.DEFAULT_MAPPING=ve,zi.prototype=Object.assign(Object.create(t.prototype),{constructor:zi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.name=i.name,this.image=i.image,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.encoding=i.encoding,this},toJSON:function(i){var l=i===void 0||typeof i=="string";if(!l&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==void 0){var p=this.image;if(p.uuid===void 0&&(p.uuid=Rr.generateUUID()),!l&&i.images[p.uuid]===void 0){var _;if(Array.isArray(p)){_=[];for(var S=0,C=p.length;S<C;S++)_.push(nu.getDataURL(p[S]))}else _=nu.getDataURL(p);i.images[p.uuid]={uuid:p.uuid,url:_}}c.image=p.uuid}return l||(i.textures[this.uuid]=c),c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(i){if(this.mapping!==ve)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case sn:i.x=i.x-Math.floor(i.x);break;case Tt:i.x=i.x<0?0:1;break;case je:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case sn:i.y=i.y-Math.floor(i.y);break;case Tt:i.y=i.y<0?0:1;break;case je:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}}),Object.defineProperty(zi.prototype,"needsUpdate",{set:function(i){i===!0&&this.version++}});function yi(i,l,c,p){this.x=i||0,this.y=l||0,this.z=c||0,this.w=p!==void 0?p:1}Object.assign(yi.prototype,{isVector4:!0,set:function(i,l,c,p){return this.x=i,this.y=l,this.z=c,this.w=p,this},setScalar:function(i){return this.x=i,this.y=i,this.z=i,this.w=i,this},setX:function(i){return this.x=i,this},setY:function(i){return this.y=i,this},setZ:function(i){return this.z=i,this},setW:function(i){return this.w=i,this},setComponent:function(i,l){switch(i){case 0:this.x=l;break;case 1:this.y=l;break;case 2:this.z=l;break;case 3:this.w=l;break;default:throw new Error("index is out of range: "+i)}return this},getComponent:function(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this},add:function(i,l){return l!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,l)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this)},addScalar:function(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this},addVectors:function(i,l){return this.x=i.x+l.x,this.y=i.y+l.y,this.z=i.z+l.z,this.w=i.w+l.w,this},addScaledVector:function(i,l){return this.x+=i.x*l,this.y+=i.y*l,this.z+=i.z*l,this.w+=i.w*l,this},sub:function(i,l){return l!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,l)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this)},subScalar:function(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this},subVectors:function(i,l){return this.x=i.x-l.x,this.y=i.y-l.y,this.z=i.z-l.z,this.w=i.w-l.w,this},multiplyScalar:function(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this},applyMatrix4:function(i){var l=this.x,c=this.y,p=this.z,_=this.w,S=i.elements;return this.x=S[0]*l+S[4]*c+S[8]*p+S[12]*_,this.y=S[1]*l+S[5]*c+S[9]*p+S[13]*_,this.z=S[2]*l+S[6]*c+S[10]*p+S[14]*_,this.w=S[3]*l+S[7]*c+S[11]*p+S[15]*_,this},divideScalar:function(i){return this.multiplyScalar(1/i)},setAxisAngleFromQuaternion:function(i){this.w=2*Math.acos(i.w);var l=Math.sqrt(1-i.w*i.w);return l<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/l,this.y=i.y/l,this.z=i.z/l),this},setAxisAngleFromRotationMatrix:function(i){var l,c,p,_,S=.01,C=.1,k=i.elements,O=k[0],z=k[4],V=k[8],H=k[1],q=k[5],te=k[9],oe=k[2],_e=k[6],Ce=k[10];if(Math.abs(z-H)<S&&Math.abs(V-oe)<S&&Math.abs(te-_e)<S){if(Math.abs(z+H)<C&&Math.abs(V+oe)<C&&Math.abs(te+_e)<C&&Math.abs(O+q+Ce-3)<C)return this.set(1,0,0,0),this;l=Math.PI;var Ae=(O+1)/2,Ne=(q+1)/2,Ie=(Ce+1)/2,Le=(z+H)/4,st=(V+oe)/4,ft=(te+_e)/4;return Ae>Ne&&Ae>Ie?Ae<S?(c=0,p=.707106781,_=.707106781):(c=Math.sqrt(Ae),p=Le/c,_=st/c):Ne>Ie?Ne<S?(c=.707106781,p=0,_=.707106781):(p=Math.sqrt(Ne),c=Le/p,_=ft/p):Ie<S?(c=.707106781,p=.707106781,_=0):(_=Math.sqrt(Ie),c=st/_,p=ft/_),this.set(c,p,_,l),this}var ut=Math.sqrt((_e-te)*(_e-te)+(V-oe)*(V-oe)+(H-z)*(H-z));return Math.abs(ut)<.001&&(ut=1),this.x=(_e-te)/ut,this.y=(V-oe)/ut,this.z=(H-z)/ut,this.w=Math.acos((O+q+Ce-1)/2),this},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this},clamp:function(i,l){return this.x=Math.max(i.x,Math.min(l.x,this.x)),this.y=Math.max(i.y,Math.min(l.y,this.y)),this.z=Math.max(i.z,Math.min(l.z,this.z)),this.w=Math.max(i.w,Math.min(l.w,this.w)),this},clampScalar:function(){var i,l;return function(p,_){return i===void 0&&(i=new yi,l=new yi),i.set(p,p,p,p),l.set(_,_,_,_),this.clamp(i,l)}}(),clampLength:function(i,l){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(i,Math.min(l,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(i){return this.normalize().multiplyScalar(i)},lerp:function(i,l){return this.x+=(i.x-this.x)*l,this.y+=(i.y-this.y)*l,this.z+=(i.z-this.z)*l,this.w+=(i.w-this.w)*l,this},lerpVectors:function(i,l,c){return this.subVectors(l,i).multiplyScalar(c).add(i)},equals:function(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w},fromArray:function(i,l){return l===void 0&&(l=0),this.x=i[l],this.y=i[l+1],this.z=i[l+2],this.w=i[l+3],this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this.x,i[l+1]=this.y,i[l+2]=this.z,i[l+3]=this.w,i},fromBufferAttribute:function(i,l,c){return c!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(l),this.y=i.getY(l),this.z=i.getZ(l),this.w=i.getW(l),this}});function zu(i,l,c){this.width=i,this.height=l,this.scissor=new yi(0,0,i,l),this.scissorTest=!1,this.viewport=new yi(0,0,i,l),c=c||{},c.minFilter===void 0&&(c.minFilter=wt),this.texture=new zi(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding),this.texture.generateMipmaps=c.generateMipmaps!==void 0?c.generateMipmaps:!0,this.depthBuffer=c.depthBuffer!==void 0?c.depthBuffer:!0,this.stencilBuffer=c.stencilBuffer!==void 0?c.stencilBuffer:!0,this.depthTexture=c.depthTexture!==void 0?c.depthTexture:null}zu.prototype=Object.assign(Object.create(t.prototype),{constructor:zu,isWebGLRenderTarget:!0,setSize:function(i,l){(this.width!==i||this.height!==l)&&(this.width=i,this.height=l,this.dispose()),this.viewport.set(0,0,i,l),this.scissor.set(0,0,i,l)},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.width=i.width,this.height=i.height,this.viewport.copy(i.viewport),this.texture=i.texture.clone(),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ic(i,l,c){zu.call(this,i,l,c),this.activeCubeFace=0,this.activeMipMapLevel=0}Ic.prototype=Object.create(zu.prototype),Ic.prototype.constructor=Ic,Ic.prototype.isWebGLRenderTargetCube=!0;function Vu(i,l,c,p,_,S,C,k,O,z,V,H){zi.call(this,null,S,C,k,O,z,p,_,V,H),this.image={data:i,width:l,height:c},this.magFilter=O!==void 0?O:xe,this.minFilter=z!==void 0?z:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Vu.prototype=Object.create(zi.prototype),Vu.prototype.constructor=Vu,Vu.prototype.isDataTexture=!0;function Us(i,l){this.min=i!==void 0?i:new Ve(1/0,1/0,1/0),this.max=l!==void 0?l:new Ve(-1/0,-1/0,-1/0)}Object.assign(Us.prototype,{isBox3:!0,set:function(i,l){return this.min.copy(i),this.max.copy(l),this},setFromArray:function(i){for(var l=1/0,c=1/0,p=1/0,_=-1/0,S=-1/0,C=-1/0,k=0,O=i.length;k<O;k+=3){var z=i[k],V=i[k+1],H=i[k+2];z<l&&(l=z),V<c&&(c=V),H<p&&(p=H),z>_&&(_=z),V>S&&(S=V),H>C&&(C=H)}return this.min.set(l,c,p),this.max.set(_,S,C),this},setFromBufferAttribute:function(i){for(var l=1/0,c=1/0,p=1/0,_=-1/0,S=-1/0,C=-1/0,k=0,O=i.count;k<O;k++){var z=i.getX(k),V=i.getY(k),H=i.getZ(k);z<l&&(l=z),V<c&&(c=V),H<p&&(p=H),z>_&&(_=z),V>S&&(S=V),H>C&&(C=H)}return this.min.set(l,c,p),this.max.set(_,S,C),this},setFromPoints:function(i){this.makeEmpty();for(var l=0,c=i.length;l<c;l++)this.expandByPoint(i[l]);return this},setFromCenterAndSize:function(){var i=new Ve;return function(c,p){var _=i.copy(p).multiplyScalar(.5);return this.min.copy(c).sub(_),this.max.copy(c).add(_),this}}(),setFromObject:function(i){return this.makeEmpty(),this.expandByObject(i)},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.min.copy(i.min),this.max.copy(i.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(i){return i===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),i=new Ve),this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(i){return i===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),i=new Ve),this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)},expandByPoint:function(i){return this.min.min(i),this.max.max(i),this},expandByVector:function(i){return this.min.sub(i),this.max.add(i),this},expandByScalar:function(i){return this.min.addScalar(-i),this.max.addScalar(i),this},expandByObject:function(){var i,l,c,p=new Ve;function _(S){var C=S.geometry;if(C!==void 0){if(C.isGeometry){var k=C.vertices;for(l=0,c=k.length;l<c;l++)p.copy(k[l]),p.applyMatrix4(S.matrixWorld),i.expandByPoint(p)}else if(C.isBufferGeometry){var O=C.attributes.position;if(O!==void 0)for(l=0,c=O.count;l<c;l++)p.fromBufferAttribute(O,l).applyMatrix4(S.matrixWorld),i.expandByPoint(p)}}}return function(C){return i=this,C.updateMatrixWorld(!0),C.traverse(_),this}}(),containsPoint:function(i){return!(i.x<this.min.x||i.x>this.max.x||i.y<this.min.y||i.y>this.max.y||i.z<this.min.z||i.z>this.max.z)},containsBox:function(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z},getParameter:function(i,l){return l===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),l=new Ve),l.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(i){return!(i.max.x<this.min.x||i.min.x>this.max.x||i.max.y<this.min.y||i.min.y>this.max.y||i.max.z<this.min.z||i.min.z>this.max.z)},intersectsSphere:function(){var i=new Ve;return function(c){return this.clampPoint(c.center,i),i.distanceToSquared(c.center)<=c.radius*c.radius}}(),intersectsPlane:function(i){var l,c;return i.normal.x>0?(l=i.normal.x*this.min.x,c=i.normal.x*this.max.x):(l=i.normal.x*this.max.x,c=i.normal.x*this.min.x),i.normal.y>0?(l+=i.normal.y*this.min.y,c+=i.normal.y*this.max.y):(l+=i.normal.y*this.max.y,c+=i.normal.y*this.min.y),i.normal.z>0?(l+=i.normal.z*this.min.z,c+=i.normal.z*this.max.z):(l+=i.normal.z*this.max.z,c+=i.normal.z*this.min.z),l<=i.constant&&c>=i.constant},intersectsTriangle:function(){var i=new Ve,l=new Ve,c=new Ve,p=new Ve,_=new Ve,S=new Ve,C=new Ve,k=new Ve,O=new Ve,z=new Ve;function V(H){var q,te;for(q=0,te=H.length-3;q<=te;q+=3){C.fromArray(H,q);var oe=O.x*Math.abs(C.x)+O.y*Math.abs(C.y)+O.z*Math.abs(C.z),_e=i.dot(C),Ce=l.dot(C),Ae=c.dot(C);if(Math.max(-Math.max(_e,Ce,Ae),Math.min(_e,Ce,Ae))>oe)return!1}return!0}return function(q){if(this.isEmpty())return!1;this.getCenter(k),O.subVectors(this.max,k),i.subVectors(q.a,k),l.subVectors(q.b,k),c.subVectors(q.c,k),p.subVectors(l,i),_.subVectors(c,l),S.subVectors(i,c);var te=[0,-p.z,p.y,0,-_.z,_.y,0,-S.z,S.y,p.z,0,-p.x,_.z,0,-_.x,S.z,0,-S.x,-p.y,p.x,0,-_.y,_.x,0,-S.y,S.x,0];return!V(te)||(te=[1,0,0,0,1,0,0,0,1],!V(te))?!1:(z.crossVectors(p,_),te=[z.x,z.y,z.z],V(te))}}(),clampPoint:function(i,l){return l===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),l=new Ve),l.copy(i).clamp(this.min,this.max)},distanceToPoint:function(){var i=new Ve;return function(c){var p=i.copy(c).clamp(this.min,this.max);return p.sub(c).length()}}(),getBoundingSphere:function(){var i=new Ve;return function(c){return c===void 0&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),c=new Ao),this.getCenter(c.center),c.radius=this.getSize(i).length()*.5,c}}(),intersect:function(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this},union:function(i){return this.min.min(i.min),this.max.max(i.max),this},applyMatrix4:function(){var i=[new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve];return function(c){return this.isEmpty()?this:(i[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(c),i[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(c),i[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(c),i[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(c),i[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(c),i[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(c),i[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(c),i[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(c),this.setFromPoints(i),this)}}(),translate:function(i){return this.min.add(i),this.max.add(i),this},equals:function(i){return i.min.equals(this.min)&&i.max.equals(this.max)}});function Ao(i,l){this.center=i!==void 0?i:new Ve,this.radius=l!==void 0?l:0}Object.assign(Ao.prototype,{set:function(i,l){return this.center.copy(i),this.radius=l,this},setFromPoints:function(){var i=new Us;return function(c,p){var _=this.center;p!==void 0?_.copy(p):i.setFromPoints(c).getCenter(_);for(var S=0,C=0,k=c.length;C<k;C++)S=Math.max(S,_.distanceToSquared(c[C]));return this.radius=Math.sqrt(S),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.center.copy(i.center),this.radius=i.radius,this},empty:function(){return this.radius<=0},containsPoint:function(i){return i.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(i){return i.distanceTo(this.center)-this.radius},intersectsSphere:function(i){var l=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=l*l},intersectsBox:function(i){return i.intersectsSphere(this)},intersectsPlane:function(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius},clampPoint:function(i,l){var c=this.center.distanceToSquared(i);return l===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),l=new Ve),l.copy(i),c>this.radius*this.radius&&(l.sub(this.center).normalize(),l.multiplyScalar(this.radius).add(this.center)),l},getBoundingBox:function(i){return i===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),i=new Us),i.set(this.center,this.center),i.expandByScalar(this.radius),i},applyMatrix4:function(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this},translate:function(i){return this.center.add(i),this},equals:function(i){return i.center.equals(this.center)&&i.radius===this.radius}});function gs(i,l){this.normal=i!==void 0?i:new Ve(1,0,0),this.constant=l!==void 0?l:0}Object.assign(gs.prototype,{set:function(i,l){return this.normal.copy(i),this.constant=l,this},setComponents:function(i,l,c,p){return this.normal.set(i,l,c),this.constant=p,this},setFromNormalAndCoplanarPoint:function(i,l){return this.normal.copy(i),this.constant=-l.dot(this.normal),this},setFromCoplanarPoints:function(){var i=new Ve,l=new Ve;return function(p,_,S){var C=i.subVectors(S,_).cross(l.subVectors(p,_)).normalize();return this.setFromNormalAndCoplanarPoint(C,p),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.normal.copy(i.normal),this.constant=i.constant,this},normalize:function(){var i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(i){return this.normal.dot(i)+this.constant},distanceToSphere:function(i){return this.distanceToPoint(i.center)-i.radius},projectPoint:function(i,l){return l===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),l=new Ve),l.copy(this.normal).multiplyScalar(-this.distanceToPoint(i)).add(i)},intersectLine:function(){var i=new Ve;return function(c,p){p===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),p=new Ve);var _=c.delta(i),S=this.normal.dot(_);if(S===0)return this.distanceToPoint(c.start)===0?p.copy(c.start):void 0;var C=-(c.start.dot(this.normal)+this.constant)/S;if(!(C<0||C>1))return p.copy(_).multiplyScalar(C).add(c.start)}}(),intersectsLine:function(i){var l=this.distanceToPoint(i.start),c=this.distanceToPoint(i.end);return l<0&&c>0||c<0&&l>0},intersectsBox:function(i){return i.intersectsPlane(this)},intersectsSphere:function(i){return i.intersectsPlane(this)},coplanarPoint:function(i){return i===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),i=new Ve),i.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var i=new Ve,l=new Ea;return function(p,_){var S=_||l.getNormalMatrix(p),C=this.coplanarPoint(i).applyMatrix4(p),k=this.normal.applyMatrix3(S).normalize();return this.constant=-C.dot(k),this}}(),translate:function(i){return this.constant-=i.dot(this.normal),this},equals:function(i){return i.normal.equals(this.normal)&&i.constant===this.constant}});function Oc(i,l,c,p,_,S){this.planes=[i!==void 0?i:new gs,l!==void 0?l:new gs,c!==void 0?c:new gs,p!==void 0?p:new gs,_!==void 0?_:new gs,S!==void 0?S:new gs]}Object.assign(Oc.prototype,{set:function(i,l,c,p,_,S){var C=this.planes;return C[0].copy(i),C[1].copy(l),C[2].copy(c),C[3].copy(p),C[4].copy(_),C[5].copy(S),this},clone:function(){return new this.constructor().copy(this)},copy:function(i){for(var l=this.planes,c=0;c<6;c++)l[c].copy(i.planes[c]);return this},setFromMatrix:function(i){var l=this.planes,c=i.elements,p=c[0],_=c[1],S=c[2],C=c[3],k=c[4],O=c[5],z=c[6],V=c[7],H=c[8],q=c[9],te=c[10],oe=c[11],_e=c[12],Ce=c[13],Ae=c[14],Ne=c[15];return l[0].setComponents(C-p,V-k,oe-H,Ne-_e).normalize(),l[1].setComponents(C+p,V+k,oe+H,Ne+_e).normalize(),l[2].setComponents(C+_,V+O,oe+q,Ne+Ce).normalize(),l[3].setComponents(C-_,V-O,oe-q,Ne-Ce).normalize(),l[4].setComponents(C-S,V-z,oe-te,Ne-Ae).normalize(),l[5].setComponents(C+S,V+z,oe+te,Ne+Ae).normalize(),this},intersectsObject:function(){var i=new Ao;return function(c){var p=c.geometry;return p.boundingSphere===null&&p.computeBoundingSphere(),i.copy(p.boundingSphere).applyMatrix4(c.matrixWorld),this.intersectsSphere(i)}}(),intersectsSprite:function(){var i=new Ao;return function(c){return i.center.set(0,0,0),i.radius=.7071067811865476,i.applyMatrix4(c.matrixWorld),this.intersectsSphere(i)}}(),intersectsSphere:function(i){for(var l=this.planes,c=i.center,p=-i.radius,_=0;_<6;_++){var S=l[_].distanceToPoint(c);if(S<p)return!1}return!0},intersectsBox:function(){var i=new Ve;return function(c){for(var p=this.planes,_=0;_<6;_++){var S=p[_];if(i.x=S.normal.x>0?c.max.x:c.min.x,i.y=S.normal.y>0?c.max.y:c.min.y,i.z=S.normal.z>0?c.max.z:c.min.z,S.distanceToPoint(i)<0)return!1}return!0}}(),containsPoint:function(i){for(var l=this.planes,c=0;c<6;c++)if(l[c].distanceToPoint(i)<0)return!1;return!0}});var J0="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Q0="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n",Gm="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",t1="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n	#endif\n#endif\n",n1="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",r1="\nvec3 transformed = vec3( position );\n",Pd="\nvec3 objectNormal = vec3( normal );\n",ey="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	if( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		return distanceFalloff * maxDistanceCutoffFactor;\n#else\n		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n	}\n	return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	return 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE  = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS  = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Wm="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n",i1="#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		if ( clipped ) discard;\n	#endif\n#endif\n",a1="#if NUM_CLIPPING_PLANES > 0\n	#if ! defined( PHYSICAL ) && ! defined( PHONG )\n		varying vec3 vViewPosition;\n	#endif\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",o1="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n",L="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	vViewPosition = - mvPosition.xyz;\n#endif\n",F="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif",Y="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n",ne="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",de="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif",me="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract(sin(sn) * c);\n}\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n	return dot( weights, color.rgb );\n}\n",Se="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n	vec3 absDirection = abs(direction);\n	int face = -1;\n	if( absDirection.x > absDirection.z ) {\n		if(absDirection.x > absDirection.y )\n			face = direction.x > 0.0 ? 0 : 3;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	else {\n		if(absDirection.z > absDirection.y )\n			face = direction.z > 0.0 ? 2 : 5;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	return face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n	float dxRoughness = dFdx(roughness);\n	float dyRoughness = dFdy(roughness);\n	vec3 dx = dFdx( vec * scale * dxRoughness );\n	vec3 dy = dFdy( vec * scale * dyRoughness );\n	float d = max( dot( dx, dx ), dot( dy, dy ) );\n	d = clamp(d, 1.0, cubeUV_rangeClamp);\n	float mipLevel = 0.5 * log2(d);\n	return vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n	float a = 16.0 * cubeUV_rcpTextureSize;\n	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n	float powScale = exp2_packed.x * exp2_packed.y;\n	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n	bool bRes = mipLevel == 0.0;\n	scale =  bRes && (scale < a) ? a : scale;\n	vec3 r;\n	vec2 offset;\n	int face = getFaceFromDirection(direction);\n	float rcpPowScale = 1.0 / powScale;\n	if( face == 0) {\n		r = vec3(direction.x, -direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 1) {\n		r = vec3(direction.y, direction.x, direction.z);\n		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 2) {\n		r = vec3(direction.z, direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 3) {\n		r = vec3(direction.x, direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else if( face == 4) {\n		r = vec3(direction.y, direction.x, -direction.z);\n		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else {\n		r = vec3(direction.z, -direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	r = normalize(r);\n	float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n	vec2 base = offset + vec2( texelOffset );\n	return base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n	float roughnessVal = roughness* cubeUV_maxLods3;\n	float r1 = floor(roughnessVal);\n	float r2 = r1 + 1.0;\n	float t = fract(roughnessVal);\n	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n	float s = mipInfo.y;\n	float level0 = mipInfo.x;\n	float level1 = level0 + 1.0;\n	level1 = level1 > 5.0 ? 5.0 : level1;\n	level0 += min( floor( s + 0.5 ), 5.0 );\n	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n	vec4 result = mix(color10, color20, t);\n	return vec4(result.rgb, 1.0);\n}\n#endif\n",at="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n",et="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n",St="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",Gt="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Jt="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n",Vt="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",bn="\nvec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n	float maxComponent = max( max( value.r, value.g ), value.b );\n	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.r, max( value.g, value.b ) );\n	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n	M = ceil( M * 255.0 ) / 255.0;\n	return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.r, max( value.g, value.b ) );\n	float D = max( maxRange / maxRGB, 1.0 );\n	D = min( floor( D ) / 255.0, 1.0 );\n	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n	vec4 vResult;\n	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n	vResult.w = fract( Le );\n	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n	return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n	float Le = value.z * 255.0 + value.w;\n	vec3 Xp_Y_XYZp;\n	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n	return vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",Lr="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		reflectVec = normalize( reflectVec );\n		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		reflectVec = normalize( reflectVec );\n		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	envColor = envMapTexelToLinear( envColor );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n",ii="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n	uniform float reflectivity;\n	uniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n		varying vec3 vWorldPosition;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	uniform int maxMipLevel;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n",Br="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif\n",Ca="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif\n",pa="#ifdef USE_FOG\n	fogDepth = -mvPosition.z;\n#endif\n",Hs="#ifdef USE_FOG\n	varying float fogDepth;\n#endif\n",$s="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Xr="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float fogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif\n",Uu="#ifdef TOON\n	uniform sampler2D gradientMap;\n	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n		float dotNL = dot( normal, lightDirection );\n		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n		#ifdef USE_GRADIENTMAP\n			return texture2D( gradientMap, coord ).rgb;\n		#else\n			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n		#endif\n	}\n#endif\n",si="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",qi="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",kd="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n",jm="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	return irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		directLight.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n		float shadowCameraNear;\n		float shadowCameraFar;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		directLight.color = pointLight.color;\n		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n		directLight.visible = ( directLight.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		float angleCos = dot( directLight.direction, spotLight.direction );\n		if ( angleCos > spotLight.coneCos ) {\n			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n			directLight.color = spotLight.color;\n			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			irradiance *= PI;\n		#endif\n		return irradiance;\n	}\n#endif\n",Gs="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n		#else\n			vec4 envMapColor = vec4( 0.0 );\n		#endif\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#endif\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n",Id="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Ws="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifdef TOON\n		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	#else\n		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n		vec3 irradiance = dotNL * directLight.color;\n	#endif\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n",ru="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",iu="struct PhysicalMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n	#ifndef STANDARD\n		float clearCoat;\n		float clearCoatRoughness;\n	#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.specularRoughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos - halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	#ifndef STANDARD\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	#ifndef STANDARD\n		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifndef STANDARD\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		float dotNL = dotNV;\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n	#ifndef STANDARD\n		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ko="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointDirectLightIrradiance( pointLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",qm="#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			lightMapIrradiance *= PI;\n		#endif\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n		irradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n	#ifndef STANDARD\n		clearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n	#endif\n#endif\n",dl="#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",fl="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",s1="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n#endif\n",l1="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif\n",u1="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n		gl_Position.z *= gl_Position.w;\n	#endif\n#endif\n",wi="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor = mapTexelToLinear( texelColor );\n	diffuseColor *= texelColor;\n#endif\n",fh="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n",ys="#ifdef USE_MAP\n	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	vec4 mapTexel = texture2D( map, uv );\n	diffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Dc="#ifdef USE_MAP\n	uniform mat3 uvTransform;\n	uniform sampler2D map;\n#endif\n",c1="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.b;\n#endif\n",d1="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",ty="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Hu="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif",Km="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n",au="#ifdef FLAT_SHADED\n	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#endif\n#endif\n",ny="#ifdef USE_NORMALMAP\n	#ifdef OBJECTSPACE_NORMALMAP\n		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		#ifdef FLIP_SIDED\n			normal = - normal;\n		#endif\n		#ifdef DOUBLE_SIDED\n			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#endif\n		normal = normalize( normalMatrix * normal );\n	#else\n		normal = perturbNormal2Arb( -vViewPosition, normal );\n	#endif\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Od="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	#ifdef OBJECTSPACE_NORMALMAP\n		uniform mat3 normalMatrix;\n	#else\n		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n			vec2 st0 = dFdx( vUv.st );\n			vec2 st1 = dFdy( vUv.st );\n			float scale = sign( st1.t * st0.s - st0.t * st1.s );\n			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n			vec3 N = normalize( surf_norm );\n			mat3 tsn = mat3( S, T, N );\n			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n			mapN.xy *= normalScale;\n			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n			return normalize( tsn * mapN );\n		}\n	#endif\n#endif\n",hh="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n	return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",ph="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Ym="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",f1="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",mh="#if defined( DITHERING )\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif\n",Xm="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.g;\n#endif\n",Zm="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",h1="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n		const vec2 offset = vec2( 0.0, 1.0 );\n		vec2 texelSize = vec2( 1.0 ) / size;\n		vec2 centroidUV = floor( uv * size + 0.5 ) / size;\n		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n		vec2 f = fract( uv * size + 0.5 );\n		float a = mix( lb, lt, f.y );\n		float b = mix( rb, rt, f.y );\n		float c = mix( a, b, f.x );\n		return c;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n		bool frustumTest = all( frustumTestVec );\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif\n",Jm="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n",ry="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n",Ge="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n",gt="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Bt="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureSize;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureSize ) );\n			float y = floor( j / float( boneTextureSize ) );\n			float dx = 1.0 / float( boneTextureSize );\n			float dy = 1.0 / float( boneTextureSize );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n",Ut="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",Xt="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Tn="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",Hn="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",rr="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",$n="#ifndef saturate\n	#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Gr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif",Cr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\n",Pr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Wr="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",mr="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif",Ai="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif",co="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",Fa="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n	gl_FragColor.a *= opacity;\n}\n",Yo="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}\n",js="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n	#endif\n}\n",Nc="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n",Ya="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}\n",$z="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}\n",Gz="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Wz="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}\n",jz="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",qz="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}\n",Kz="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",Yz="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_ENVMAP\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}\n",Xz="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <emissivemap_fragment>\n	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n	#include <lightmap_fragment>\n	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n	#ifdef DOUBLE_SIDED\n		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n	#else\n		reflectedLight.directDiffuse = vLightFront;\n	#endif\n	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",Zz="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <lights_lambert_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Jz="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",Qz="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",eV="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n	uniform float clearCoat;\n	uniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",tV="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",nV="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",rV="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}\n",iV="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",aV="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}\n",oV="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <fog_fragment>\n}\n",sV="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <begin_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",lV="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",uV="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}\n",bi={alphamap_fragment:J0,alphamap_pars_fragment:Q0,alphatest_fragment:Gm,aomap_fragment:t1,aomap_pars_fragment:n1,begin_vertex:r1,beginnormal_vertex:Pd,bsdfs:ey,bumpmap_pars_fragment:Wm,clipping_planes_fragment:i1,clipping_planes_pars_fragment:a1,clipping_planes_pars_vertex:o1,clipping_planes_vertex:L,color_fragment:F,color_pars_fragment:Y,color_pars_vertex:ne,color_vertex:de,common:me,cube_uv_reflection_fragment:Se,defaultnormal_vertex:at,displacementmap_pars_vertex:et,displacementmap_vertex:St,emissivemap_fragment:Gt,emissivemap_pars_fragment:Jt,encodings_fragment:Vt,encodings_pars_fragment:bn,envmap_fragment:Lr,envmap_pars_fragment:ii,envmap_pars_vertex:Br,envmap_physical_pars_fragment:Gs,envmap_vertex:Ca,fog_vertex:pa,fog_pars_vertex:Hs,fog_fragment:$s,fog_pars_fragment:Xr,gradientmap_pars_fragment:Uu,lightmap_fragment:si,lightmap_pars_fragment:qi,lights_lambert_vertex:kd,lights_pars_begin:jm,lights_phong_fragment:Id,lights_phong_pars_fragment:Ws,lights_physical_fragment:ru,lights_physical_pars_fragment:iu,lights_fragment_begin:Ko,lights_fragment_maps:qm,lights_fragment_end:dl,logdepthbuf_fragment:fl,logdepthbuf_pars_fragment:s1,logdepthbuf_pars_vertex:l1,logdepthbuf_vertex:u1,map_fragment:wi,map_pars_fragment:fh,map_particle_fragment:ys,map_particle_pars_fragment:Dc,metalnessmap_fragment:c1,metalnessmap_pars_fragment:d1,morphnormal_vertex:ty,morphtarget_pars_vertex:Hu,morphtarget_vertex:Km,normal_fragment_begin:au,normal_fragment_maps:ny,normalmap_pars_fragment:Od,packing:hh,premultiplied_alpha_fragment:ph,project_vertex:Ym,dithering_fragment:f1,dithering_pars_fragment:mh,roughnessmap_fragment:Xm,roughnessmap_pars_fragment:Zm,shadowmap_pars_fragment:h1,shadowmap_pars_vertex:Jm,shadowmap_vertex:ry,shadowmask_pars_fragment:Ge,skinbase_vertex:gt,skinning_pars_vertex:Bt,skinning_vertex:Ut,skinnormal_vertex:Xt,specularmap_fragment:Tn,specularmap_pars_fragment:Hn,tonemapping_fragment:rr,tonemapping_pars_fragment:$n,uv_pars_fragment:Gr,uv_pars_vertex:Cr,uv_vertex:Pr,uv2_pars_fragment:Wr,uv2_pars_vertex:mr,uv2_vertex:Ai,worldpos_vertex:co,cube_frag:Fa,cube_vert:Yo,depth_frag:js,depth_vert:Nc,distanceRGBA_frag:Ya,distanceRGBA_vert:$z,equirect_frag:Gz,equirect_vert:Wz,linedashed_frag:jz,linedashed_vert:qz,meshbasic_frag:Kz,meshbasic_vert:Yz,meshlambert_frag:Xz,meshlambert_vert:Zz,meshphong_frag:Jz,meshphong_vert:Qz,meshphysical_frag:eV,meshphysical_vert:tV,normal_frag:nV,normal_vert:rV,points_frag:iV,points_vert:aV,shadow_frag:oV,shadow_vert:sV,sprite_frag:lV,sprite_vert:uV},Lo={merge:function(i){for(var l={},c=0;c<i.length;c++){var p=this.clone(i[c]);for(var _ in p)l[_]=p[_]}return l},clone:function(i){var l={};for(var c in i){l[c]={};for(var p in i[c]){var _=i[c][p];_&&(_.isColor||_.isMatrix3||_.isMatrix4||_.isVector2||_.isVector3||_.isVector4||_.isTexture)?l[c][p]=_.clone():Array.isArray(_)?l[c][p]=_.slice():l[c][p]=_}}return l}},cV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cr(i,l,c){return l===void 0&&c===void 0?this.set(i):this.setRGB(i,l,c)}Object.assign(cr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(i){return i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i),this},setScalar:function(i){return this.r=i,this.g=i,this.b=i,this},setHex:function(i){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,this},setRGB:function(i,l,c){return this.r=i,this.g=l,this.b=c,this},setHSL:function(){function i(l,c,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?l+(c-l)*6*p:p<1/2?c:p<2/3?l+(c-l)*6*(2/3-p):l}return function(c,p,_){if(c=Rr.euclideanModulo(c,1),p=Rr.clamp(p,0,1),_=Rr.clamp(_,0,1),p===0)this.r=this.g=this.b=_;else{var S=_<=.5?_*(1+p):_+p-_*p,C=2*_-S;this.r=i(C,S,c+1/3),this.g=i(C,S,c),this.b=i(C,S,c-1/3)}return this}}(),setStyle:function(i){function l(H){H!==void 0&&parseFloat(H)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(i)){var p,_=c[1],S=c[2];switch(_){case"rgb":case"rgba":if(p=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(S))return this.r=Math.min(255,parseInt(p[1],10))/255,this.g=Math.min(255,parseInt(p[2],10))/255,this.b=Math.min(255,parseInt(p[3],10))/255,l(p[5]),this;if(p=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(S))return this.r=Math.min(100,parseInt(p[1],10))/100,this.g=Math.min(100,parseInt(p[2],10))/100,this.b=Math.min(100,parseInt(p[3],10))/100,l(p[5]),this;break;case"hsl":case"hsla":if(p=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(S)){var C=parseFloat(p[1])/360,k=parseInt(p[2],10)/100,O=parseInt(p[3],10)/100;return l(p[5]),this.setHSL(C,k,O)}break}}else if(c=/^\#([A-Fa-f0-9]+)$/.exec(i)){var z=c[1],V=z.length;if(V===3)return this.r=parseInt(z.charAt(0)+z.charAt(0),16)/255,this.g=parseInt(z.charAt(1)+z.charAt(1),16)/255,this.b=parseInt(z.charAt(2)+z.charAt(2),16)/255,this;if(V===6)return this.r=parseInt(z.charAt(0)+z.charAt(1),16)/255,this.g=parseInt(z.charAt(2)+z.charAt(3),16)/255,this.b=parseInt(z.charAt(4)+z.charAt(5),16)/255,this}if(i&&i.length>0){var z=cV[i];z!==void 0?this.setHex(z):console.warn("THREE.Color: Unknown color "+i)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(i){return this.r=i.r,this.g=i.g,this.b=i.b,this},copyGammaToLinear:function(i,l){return l===void 0&&(l=2),this.r=Math.pow(i.r,l),this.g=Math.pow(i.g,l),this.b=Math.pow(i.b,l),this},copyLinearToGamma:function(i,l){l===void 0&&(l=2);var c=l>0?1/l:1;return this.r=Math.pow(i.r,c),this.g=Math.pow(i.g,c),this.b=Math.pow(i.b,c),this},convertGammaToLinear:function(i){return this.copyGammaToLinear(this,i),this},convertLinearToGamma:function(i){return this.copyLinearToGamma(this,i),this},copySRGBToLinear:function(){function i(l){return l<.04045?l*.0773993808:Math.pow(l*.9478672986+.0521327014,2.4)}return function(c){return this.r=i(c.r),this.g=i(c.g),this.b=i(c.b),this}}(),copyLinearToSRGB:function(){function i(l){return l<.0031308?l*12.92:1.055*Math.pow(l,.41666)-.055}return function(c){return this.r=i(c.r),this.g=i(c.g),this.b=i(c.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(i){i===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),i={h:0,s:0,l:0});var l=this.r,c=this.g,p=this.b,_=Math.max(l,c,p),S=Math.min(l,c,p),C,k,O=(S+_)/2;if(S===_)C=0,k=0;else{var z=_-S;switch(k=O<=.5?z/(_+S):z/(2-_-S),_){case l:C=(c-p)/z+(c<p?6:0);break;case c:C=(p-l)/z+2;break;case p:C=(l-c)/z+4;break}C/=6}return i.h=C,i.s=k,i.l=O,i},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(){var i={};return function(l,c,p){return this.getHSL(i),i.h+=l,i.s+=c,i.l+=p,this.setHSL(i.h,i.s,i.l),this}}(),add:function(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this},addColors:function(i,l){return this.r=i.r+l.r,this.g=i.g+l.g,this.b=i.b+l.b,this},addScalar:function(i){return this.r+=i,this.g+=i,this.b+=i,this},sub:function(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this},multiply:function(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this},multiplyScalar:function(i){return this.r*=i,this.g*=i,this.b*=i,this},lerp:function(i,l){return this.r+=(i.r-this.r)*l,this.g+=(i.g-this.g)*l,this.b+=(i.b-this.b)*l,this},lerpHSL:function(){var i={h:0,s:0,l:0},l={h:0,s:0,l:0};return function(p,_){this.getHSL(i),p.getHSL(l);var S=Rr.lerp(i.h,l.h,_),C=Rr.lerp(i.s,l.s,_),k=Rr.lerp(i.l,l.l,_);return this.setHSL(S,C,k),this}}(),equals:function(i){return i.r===this.r&&i.g===this.g&&i.b===this.b},fromArray:function(i,l){return l===void 0&&(l=0),this.r=i[l],this.g=i[l+1],this.b=i[l+2],this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this.r,i[l+1]=this.g,i[l+2]=this.b,i},toJSON:function(){return this.getHex()}});var fr={common:{diffuse:{value:new cr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ea},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new cr(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new cr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ea}},sprite:{diffuse:{value:new cr(15658734)},opacity:{value:1},center:{value:new gn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ea}}},Dd={basic:{uniforms:Lo.merge([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.fog]),vertexShader:bi.meshbasic_vert,fragmentShader:bi.meshbasic_frag},lambert:{uniforms:Lo.merge([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.fog,fr.lights,{emissive:{value:new cr(0)}}]),vertexShader:bi.meshlambert_vert,fragmentShader:bi.meshlambert_frag},phong:{uniforms:Lo.merge([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.gradientmap,fr.fog,fr.lights,{emissive:{value:new cr(0)},specular:{value:new cr(1118481)},shininess:{value:30}}]),vertexShader:bi.meshphong_vert,fragmentShader:bi.meshphong_frag},standard:{uniforms:Lo.merge([fr.common,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.roughnessmap,fr.metalnessmap,fr.fog,fr.lights,{emissive:{value:new cr(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:bi.meshphysical_vert,fragmentShader:bi.meshphysical_frag},points:{uniforms:Lo.merge([fr.points,fr.fog]),vertexShader:bi.points_vert,fragmentShader:bi.points_frag},dashed:{uniforms:Lo.merge([fr.common,fr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bi.linedashed_vert,fragmentShader:bi.linedashed_frag},depth:{uniforms:Lo.merge([fr.common,fr.displacementmap]),vertexShader:bi.depth_vert,fragmentShader:bi.depth_frag},normal:{uniforms:Lo.merge([fr.common,fr.bumpmap,fr.normalmap,fr.displacementmap,{opacity:{value:1}}]),vertexShader:bi.normal_vert,fragmentShader:bi.normal_frag},sprite:{uniforms:Lo.merge([fr.sprite,fr.fog]),vertexShader:bi.sprite_vert,fragmentShader:bi.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bi.cube_vert,fragmentShader:bi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bi.equirect_vert,fragmentShader:bi.equirect_frag},distanceRGBA:{uniforms:Lo.merge([fr.common,fr.displacementmap,{referencePosition:{value:new Ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bi.distanceRGBA_vert,fragmentShader:bi.distanceRGBA_frag},shadow:{uniforms:Lo.merge([fr.lights,fr.fog,{color:{value:new cr(0)},opacity:{value:1}}]),vertexShader:bi.shadow_vert,fragmentShader:bi.shadow_frag}};Dd.physical={uniforms:Lo.merge([Dd.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:bi.meshphysical_vert,fragmentShader:bi.meshphysical_frag};function p1(){var i=null,l=!1,c=null;function p(_,S){l!==!1&&(c(_,S),i.requestAnimationFrame(p))}return{start:function(){l!==!0&&c!==null&&(i.requestAnimationFrame(p),l=!0)},stop:function(){l=!1},setAnimationLoop:function(_){c=_},setContext:function(_){i=_}}}function dV(i){var l=new WeakMap;function c(k,O){var z=k.array,V=k.dynamic?i.DYNAMIC_DRAW:i.STATIC_DRAW,H=i.createBuffer();i.bindBuffer(O,H),i.bufferData(O,z,V),k.onUploadCallback();var q=i.FLOAT;return z instanceof Float32Array?q=i.FLOAT:z instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):z instanceof Uint16Array?q=i.UNSIGNED_SHORT:z instanceof Int16Array?q=i.SHORT:z instanceof Uint32Array?q=i.UNSIGNED_INT:z instanceof Int32Array?q=i.INT:z instanceof Int8Array?q=i.BYTE:z instanceof Uint8Array&&(q=i.UNSIGNED_BYTE),{buffer:H,type:q,bytesPerElement:z.BYTES_PER_ELEMENT,version:k.version}}function p(k,O,z){var V=O.array,H=O.updateRange;i.bindBuffer(z,k),O.dynamic===!1?i.bufferData(z,V,i.STATIC_DRAW):H.count===-1?i.bufferSubData(z,0,V):H.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(i.bufferSubData(z,H.offset*V.BYTES_PER_ELEMENT,V.subarray(H.offset,H.offset+H.count)),H.count=-1)}function _(k){return k.isInterleavedBufferAttribute&&(k=k.data),l.get(k)}function S(k){k.isInterleavedBufferAttribute&&(k=k.data);var O=l.get(k);O&&(i.deleteBuffer(O.buffer),l.delete(k))}function C(k,O){k.isInterleavedBufferAttribute&&(k=k.data);var z=l.get(k);z===void 0?l.set(k,c(k,O)):z.version<k.version&&(p(z.buffer,k,O),z.version=k.version)}return{get:_,remove:S,update:C}}function Nd(i,l,c,p){this._x=i||0,this._y=l||0,this._z=c||0,this._order=p||Nd.DefaultOrder}Nd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Nd.DefaultOrder="XYZ",Object.defineProperties(Nd.prototype,{x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback()}}}),Object.assign(Nd.prototype,{isEuler:!0,set:function(i,l,c,p){return this._x=i,this._y=l,this._z=c,this._order=p||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this.onChangeCallback(),this},setFromRotationMatrix:function(i,l,c){var p=Rr.clamp,_=i.elements,S=_[0],C=_[4],k=_[8],O=_[1],z=_[5],V=_[9],H=_[2],q=_[6],te=_[10];return l=l||this._order,l==="XYZ"?(this._y=Math.asin(p(k,-1,1)),Math.abs(k)<.99999?(this._x=Math.atan2(-V,te),this._z=Math.atan2(-C,S)):(this._x=Math.atan2(q,z),this._z=0)):l==="YXZ"?(this._x=Math.asin(-p(V,-1,1)),Math.abs(V)<.99999?(this._y=Math.atan2(k,te),this._z=Math.atan2(O,z)):(this._y=Math.atan2(-H,S),this._z=0)):l==="ZXY"?(this._x=Math.asin(p(q,-1,1)),Math.abs(q)<.99999?(this._y=Math.atan2(-H,te),this._z=Math.atan2(-C,z)):(this._y=0,this._z=Math.atan2(O,S))):l==="ZYX"?(this._y=Math.asin(-p(H,-1,1)),Math.abs(H)<.99999?(this._x=Math.atan2(q,te),this._z=Math.atan2(O,S)):(this._x=0,this._z=Math.atan2(-C,z))):l==="YZX"?(this._z=Math.asin(p(O,-1,1)),Math.abs(O)<.99999?(this._x=Math.atan2(-V,z),this._y=Math.atan2(-H,S)):(this._x=0,this._y=Math.atan2(k,te))):l==="XZY"?(this._z=Math.asin(-p(C,-1,1)),Math.abs(C)<.99999?(this._x=Math.atan2(q,z),this._y=Math.atan2(k,S)):(this._x=Math.atan2(-V,te),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+l),this._order=l,c!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var i=new gr;return function(c,p,_){return i.makeRotationFromQuaternion(c),this.setFromRotationMatrix(i,p,_)}}(),setFromVector3:function(i,l){return this.set(i.x,i.y,i.z,l||this._order)},reorder:function(){var i=new ha;return function(c){return i.setFromEuler(this),this.setFromQuaternion(i,c)}}(),equals:function(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order},fromArray:function(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this.onChangeCallback(),this},toArray:function(i,l){return i===void 0&&(i=[]),l===void 0&&(l=0),i[l]=this._x,i[l+1]=this._y,i[l+2]=this._z,i[l+3]=this._order,i},toVector3:function(i){return i?i.set(this._x,this._y,this._z):new Ve(this._x,this._y,this._z)},onChange:function(i){return this.onChangeCallback=i,this},onChangeCallback:function(){}});function m1(){this.mask=1}Object.assign(m1.prototype,{set:function(i){this.mask=1<<i|0},enable:function(i){this.mask|=1<<i|0},toggle:function(i){this.mask^=1<<i|0},disable:function(i){this.mask&=~(1<<i|0)},test:function(i){return(this.mask&i.mask)!==0}});var fV=0;function Wn(){Object.defineProperty(this,"id",{value:fV++}),this.uuid=Rr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wn.DefaultUp.clone();var i=new Ve,l=new Nd,c=new ha,p=new Ve(1,1,1);function _(){c.setFromEuler(l,!1)}function S(){l.setFromQuaternion(c,void 0,!1)}l.onChange(_),c.onChange(S),Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:l},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:p},modelViewMatrix:{value:new gr},normalMatrix:{value:new Ea}}),this.matrix=new gr,this.matrixWorld=new gr,this.matrixAutoUpdate=Wn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new m1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Wn.DefaultUp=new Ve(0,1,0),Wn.DefaultMatrixAutoUpdate=!0,Wn.prototype=Object.assign(Object.create(t.prototype),{constructor:Wn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(i){this.matrix.multiplyMatrices(i,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(i){return this.quaternion.premultiply(i),this},setRotationFromAxisAngle:function(i,l){this.quaternion.setFromAxisAngle(i,l)},setRotationFromEuler:function(i){this.quaternion.setFromEuler(i,!0)},setRotationFromMatrix:function(i){this.quaternion.setFromRotationMatrix(i)},setRotationFromQuaternion:function(i){this.quaternion.copy(i)},rotateOnAxis:function(){var i=new ha;return function(c,p){return i.setFromAxisAngle(c,p),this.quaternion.multiply(i),this}}(),rotateOnWorldAxis:function(){var i=new ha;return function(c,p){return i.setFromAxisAngle(c,p),this.quaternion.premultiply(i),this}}(),rotateX:function(){var i=new Ve(1,0,0);return function(c){return this.rotateOnAxis(i,c)}}(),rotateY:function(){var i=new Ve(0,1,0);return function(c){return this.rotateOnAxis(i,c)}}(),rotateZ:function(){var i=new Ve(0,0,1);return function(c){return this.rotateOnAxis(i,c)}}(),translateOnAxis:function(){var i=new Ve;return function(c,p){return i.copy(c).applyQuaternion(this.quaternion),this.position.add(i.multiplyScalar(p)),this}}(),translateX:function(){var i=new Ve(1,0,0);return function(c){return this.translateOnAxis(i,c)}}(),translateY:function(){var i=new Ve(0,1,0);return function(c){return this.translateOnAxis(i,c)}}(),translateZ:function(){var i=new Ve(0,0,1);return function(c){return this.translateOnAxis(i,c)}}(),localToWorld:function(i){return i.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var i=new gr;return function(c){return c.applyMatrix4(i.getInverse(this.matrixWorld))}}(),lookAt:function(){var i=new ha,l=new gr,c=new Ve,p=new Ve;return function(S,C,k){S.isVector3?c.copy(S):c.set(S,C,k);var O=this.parent;this.updateWorldMatrix(!0,!1),p.setFromMatrixPosition(this.matrixWorld),this.isCamera?l.lookAt(p,c,this.up):l.lookAt(c,p,this.up),this.quaternion.setFromRotationMatrix(l),O&&(l.extractRotation(O.matrixWorld),i.setFromRotationMatrix(l),this.quaternion.premultiply(i.inverse()))}}(),add:function(i){if(arguments.length>1){for(var l=0;l<arguments.length;l++)this.add(arguments[l]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.parent!==null&&i.parent.remove(i),i.parent=this,i.dispatchEvent({type:"added"}),this.children.push(i)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)},remove:function(i){if(arguments.length>1){for(var l=0;l<arguments.length;l++)this.remove(arguments[l]);return this}var c=this.children.indexOf(i);return c!==-1&&(i.parent=null,i.dispatchEvent({type:"removed"}),this.children.splice(c,1)),this},getObjectById:function(i){return this.getObjectByProperty("id",i)},getObjectByName:function(i){return this.getObjectByProperty("name",i)},getObjectByProperty:function(i,l){if(this[i]===l)return this;for(var c=0,p=this.children.length;c<p;c++){var _=this.children[c],S=_.getObjectByProperty(i,l);if(S!==void 0)return S}},getWorldPosition:function(i){return i===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),i=new Ve),this.updateMatrixWorld(!0),i.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var i=new Ve,l=new Ve;return function(p){return p===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),p=new ha),this.updateMatrixWorld(!0),this.matrixWorld.decompose(i,p,l),p}}(),getWorldScale:function(){var i=new Ve,l=new ha;return function(p){return p===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),p=new Ve),this.updateMatrixWorld(!0),this.matrixWorld.decompose(i,l,p),p}}(),getWorldDirection:function(i){i===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),i=new Ve),this.updateMatrixWorld(!0);var l=this.matrixWorld.elements;return i.set(l[8],l[9],l[10]).normalize()},raycast:function(){},traverse:function(i){i(this);for(var l=this.children,c=0,p=l.length;c<p;c++)l[c].traverse(i)},traverseVisible:function(i){if(this.visible!==!1){i(this);for(var l=this.children,c=0,p=l.length;c<p;c++)l[c].traverseVisible(i)}},traverseAncestors:function(i){var l=this.parent;l!==null&&(i(l),l.traverseAncestors(i))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);for(var l=this.children,c=0,p=l.length;c<p;c++)l[c].updateMatrixWorld(i)},updateWorldMatrix:function(i,l){var c=this.parent;if(i===!0&&c!==null&&c.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),l===!0)for(var p=this.children,_=0,S=p.length;_<S;_++)p[_].updateWorldMatrix(!1,!0)},toJSON:function(i){var l=i===void 0||typeof i=="string",c={};l&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{}},c.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var p={};p.uuid=this.uuid,p.type=this.type,this.name!==""&&(p.name=this.name),this.castShadow===!0&&(p.castShadow=!0),this.receiveShadow===!0&&(p.receiveShadow=!0),this.visible===!1&&(p.visible=!1),this.frustumCulled===!1&&(p.frustumCulled=!1),this.renderOrder!==0&&(p.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(p.userData=this.userData),p.layers=this.layers.mask,p.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(p.matrixAutoUpdate=!1);function _(Ce,Ae){return Ce[Ae.uuid]===void 0&&(Ce[Ae.uuid]=Ae.toJSON(i)),Ae.uuid}if(this.isMesh||this.isLine||this.isPoints){p.geometry=_(i.geometries,this.geometry);var S=this.geometry.parameters;if(S!==void 0&&S.shapes!==void 0){var C=S.shapes;if(Array.isArray(C))for(var k=0,O=C.length;k<O;k++){var z=C[k];_(i.shapes,z)}else _(i.shapes,C)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var V=[],k=0,O=this.material.length;k<O;k++)V.push(_(i.materials,this.material[k]));p.material=V}else p.material=_(i.materials,this.material);if(this.children.length>0){p.children=[];for(var k=0;k<this.children.length;k++)p.children.push(this.children[k].toJSON(i).object)}if(l){var H=_e(i.geometries),q=_e(i.materials),te=_e(i.textures),oe=_e(i.images),C=_e(i.shapes);H.length>0&&(c.geometries=H),q.length>0&&(c.materials=q),te.length>0&&(c.textures=te),oe.length>0&&(c.images=oe),C.length>0&&(c.shapes=C)}return c.object=p,c;function _e(Ce){var Ae=[];for(var Ne in Ce){var Ie=Ce[Ne];delete Ie.metadata,Ae.push(Ie)}return Ae}},clone:function(i){return new this.constructor().copy(this,i)},copy:function(i,l){if(l===void 0&&(l=!0),this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.userData=JSON.parse(JSON.stringify(i.userData)),l===!0)for(var c=0;c<i.children.length;c++){var p=i.children[c];this.add(p.clone())}return this}});function ou(){Wn.call(this),this.type="Camera",this.matrixWorldInverse=new gr,this.projectionMatrix=new gr,this.projectionMatrixInverse=new gr}ou.prototype=Object.assign(Object.create(Wn.prototype),{constructor:ou,isCamera:!0,copy:function(i,l){return Wn.prototype.copy.call(this,i,l),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this},getWorldDirection:function(i){i===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),i=new Ve),this.updateMatrixWorld(!0);var l=this.matrixWorld.elements;return i.set(-l[8],-l[9],-l[10]).normalize()},updateMatrixWorld:function(i){Wn.prototype.updateMatrixWorld.call(this,i),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function vh(i,l,c,p,_,S){ou.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=l,this.top=c,this.bottom=p,this.near=_!==void 0?_:.1,this.far=S!==void 0?S:2e3,this.updateProjectionMatrix()}vh.prototype=Object.assign(Object.create(ou.prototype),{constructor:vh,isOrthographicCamera:!0,copy:function(i,l){return ou.prototype.copy.call(this,i,l),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this},setViewOffset:function(i,l,c,p,_,S){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=l,this.view.offsetX=c,this.view.offsetY=p,this.view.width=_,this.view.height=S,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var i=(this.right-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,p=(this.top+this.bottom)/2,_=c-i,S=c+i,C=p+l,k=p-l;if(this.view!==null&&this.view.enabled){var O=this.zoom/(this.view.width/this.view.fullWidth),z=this.zoom/(this.view.height/this.view.fullHeight),V=(this.right-this.left)/this.view.width,H=(this.top-this.bottom)/this.view.height;_+=V*(this.view.offsetX/O),S=_+V*(this.view.width/O),C-=H*(this.view.offsetY/z),k=C-H*(this.view.height/z)}this.projectionMatrix.makeOrthographic(_,S,C,k,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(i){var l=Wn.prototype.toJSON.call(this,i);return l.object.zoom=this.zoom,l.object.left=this.left,l.object.right=this.right,l.object.top=this.top,l.object.bottom=this.bottom,l.object.near=this.near,l.object.far=this.far,this.view!==null&&(l.object.view=Object.assign({},this.view)),l}});function $u(i,l,c,p,_,S){this.a=i,this.b=l,this.c=c,this.normal=p&&p.isVector3?p:new Ve,this.vertexNormals=Array.isArray(p)?p:[],this.color=_&&_.isColor?_:new cr,this.vertexColors=Array.isArray(_)?_:[],this.materialIndex=S!==void 0?S:0}Object.assign($u.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(i){this.a=i.a,this.b=i.b,this.c=i.c,this.normal.copy(i.normal),this.color.copy(i.color),this.materialIndex=i.materialIndex;for(var l=0,c=i.vertexNormals.length;l<c;l++)this.vertexNormals[l]=i.vertexNormals[l].clone();for(var l=0,c=i.vertexColors.length;l<c;l++)this.vertexColors[l]=i.vertexColors[l].clone();return this}});var hV=0;function Tr(){Object.defineProperty(this,"id",{value:hV+=2}),this.uuid=Rr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Tr.prototype=Object.assign(Object.create(t.prototype),{constructor:Tr,isGeometry:!0,applyMatrix:function(i){for(var l=new Ea().getNormalMatrix(i),c=0,p=this.vertices.length;c<p;c++){var _=this.vertices[c];_.applyMatrix4(i)}for(var c=0,p=this.faces.length;c<p;c++){var S=this.faces[c];S.normal.applyMatrix3(l).normalize();for(var C=0,k=S.vertexNormals.length;C<k;C++)S.vertexNormals[C].applyMatrix3(l).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var i=new gr;return function(c){return i.makeRotationX(c),this.applyMatrix(i),this}}(),rotateY:function(){var i=new gr;return function(c){return i.makeRotationY(c),this.applyMatrix(i),this}}(),rotateZ:function(){var i=new gr;return function(c){return i.makeRotationZ(c),this.applyMatrix(i),this}}(),translate:function(){var i=new gr;return function(c,p,_){return i.makeTranslation(c,p,_),this.applyMatrix(i),this}}(),scale:function(){var i=new gr;return function(c,p,_){return i.makeScale(c,p,_),this.applyMatrix(i),this}}(),lookAt:function(){var i=new Wn;return function(c){i.lookAt(c),i.updateMatrix(),this.applyMatrix(i.matrix)}}(),fromBufferGeometry:function(i){var l=this,c=i.index!==null?i.index.array:void 0,p=i.attributes,_=p.position.array,S=p.normal!==void 0?p.normal.array:void 0,C=p.color!==void 0?p.color.array:void 0,k=p.uv!==void 0?p.uv.array:void 0,O=p.uv2!==void 0?p.uv2.array:void 0;O!==void 0&&(this.faceVertexUvs[1]=[]);for(var z=[],V=[],H=[],q=0,te=0;q<_.length;q+=3,te+=2)l.vertices.push(new Ve(_[q],_[q+1],_[q+2])),S!==void 0&&z.push(new Ve(S[q],S[q+1],S[q+2])),C!==void 0&&l.colors.push(new cr(C[q],C[q+1],C[q+2])),k!==void 0&&V.push(new gn(k[te],k[te+1])),O!==void 0&&H.push(new gn(O[te],O[te+1]));function oe(Le,st,ft,ut){var Ct=S!==void 0?[z[Le].clone(),z[st].clone(),z[ft].clone()]:[],ht=C!==void 0?[l.colors[Le].clone(),l.colors[st].clone(),l.colors[ft].clone()]:[],It=new $u(Le,st,ft,Ct,ht,ut);l.faces.push(It),k!==void 0&&l.faceVertexUvs[0].push([V[Le].clone(),V[st].clone(),V[ft].clone()]),O!==void 0&&l.faceVertexUvs[1].push([H[Le].clone(),H[st].clone(),H[ft].clone()])}var _e=i.groups;if(_e.length>0)for(var q=0;q<_e.length;q++)for(var Ce=_e[q],Ae=Ce.start,Ne=Ce.count,te=Ae,Ie=Ae+Ne;te<Ie;te+=3)c!==void 0?oe(c[te],c[te+1],c[te+2],Ce.materialIndex):oe(te,te+1,te+2,Ce.materialIndex);else if(c!==void 0)for(var q=0;q<c.length;q+=3)oe(c[q],c[q+1],c[q+2]);else for(var q=0;q<_.length/3;q+=3)oe(q,q+1,q+2);return this.computeFaceNormals(),i.boundingBox!==null&&(this.boundingBox=i.boundingBox.clone()),i.boundingSphere!==null&&(this.boundingSphere=i.boundingSphere.clone()),this},center:function(){var i=new Ve;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(i).negate(),this.translate(i.x,i.y,i.z),this}}(),normalize:function(){this.computeBoundingSphere();var i=this.boundingSphere.center,l=this.boundingSphere.radius,c=l===0?1:1/l,p=new gr;return p.set(c,0,0,-c*i.x,0,c,0,-c*i.y,0,0,c,-c*i.z,0,0,0,1),this.applyMatrix(p),this},computeFaceNormals:function(){for(var i=new Ve,l=new Ve,c=0,p=this.faces.length;c<p;c++){var _=this.faces[c],S=this.vertices[_.a],C=this.vertices[_.b],k=this.vertices[_.c];i.subVectors(k,C),l.subVectors(S,C),i.cross(l),i.normalize(),_.normal.copy(i)}},computeVertexNormals:function(i){i===void 0&&(i=!0);var l,c,p,_,S,C;for(C=new Array(this.vertices.length),l=0,c=this.vertices.length;l<c;l++)C[l]=new Ve;if(i){var k,O,z,V=new Ve,H=new Ve;for(p=0,_=this.faces.length;p<_;p++)S=this.faces[p],k=this.vertices[S.a],O=this.vertices[S.b],z=this.vertices[S.c],V.subVectors(z,O),H.subVectors(k,O),V.cross(H),C[S.a].add(V),C[S.b].add(V),C[S.c].add(V)}else for(this.computeFaceNormals(),p=0,_=this.faces.length;p<_;p++)S=this.faces[p],C[S.a].add(S.normal),C[S.b].add(S.normal),C[S.c].add(S.normal);for(l=0,c=this.vertices.length;l<c;l++)C[l].normalize();for(p=0,_=this.faces.length;p<_;p++){S=this.faces[p];var q=S.vertexNormals;q.length===3?(q[0].copy(C[S.a]),q[1].copy(C[S.b]),q[2].copy(C[S.c])):(q[0]=C[S.a].clone(),q[1]=C[S.b].clone(),q[2]=C[S.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var i,l,c;for(this.computeFaceNormals(),i=0,l=this.faces.length;i<l;i++){c=this.faces[i];var p=c.vertexNormals;p.length===3?(p[0].copy(c.normal),p[1].copy(c.normal),p[2].copy(c.normal)):(p[0]=c.normal.clone(),p[1]=c.normal.clone(),p[2]=c.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var i,l,c,p,_;for(c=0,p=this.faces.length;c<p;c++)for(_=this.faces[c],_.__originalFaceNormal?_.__originalFaceNormal.copy(_.normal):_.__originalFaceNormal=_.normal.clone(),_.__originalVertexNormals||(_.__originalVertexNormals=[]),i=0,l=_.vertexNormals.length;i<l;i++)_.__originalVertexNormals[i]?_.__originalVertexNormals[i].copy(_.vertexNormals[i]):_.__originalVertexNormals[i]=_.vertexNormals[i].clone();var S=new Tr;for(S.faces=this.faces,i=0,l=this.morphTargets.length;i<l;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[];var C=this.morphNormals[i].faceNormals,k=this.morphNormals[i].vertexNormals,z,V;for(c=0,p=this.faces.length;c<p;c++)z=new Ve,V={a:new Ve,b:new Ve,c:new Ve},C.push(z),k.push(V)}var O=this.morphNormals[i];S.vertices=this.morphTargets[i].vertices,S.computeFaceNormals(),S.computeVertexNormals();var z,V;for(c=0,p=this.faces.length;c<p;c++)_=this.faces[c],z=O.faceNormals[c],V=O.vertexNormals[c],z.copy(_.normal),V.a.copy(_.vertexNormals[0]),V.b.copy(_.vertexNormals[1]),V.c.copy(_.vertexNormals[2])}for(c=0,p=this.faces.length;c<p;c++)_=this.faces[c],_.normal=_.__originalFaceNormal,_.vertexNormals=_.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Us),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Ao),this.boundingSphere.setFromPoints(this.vertices)},merge:function(i,l,c){if(!(i&&i.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",i);return}var p,_=this.vertices.length,S=this.vertices,C=i.vertices,k=this.faces,O=i.faces,z=this.faceVertexUvs[0],V=i.faceVertexUvs[0],H=this.colors,q=i.colors;c===void 0&&(c=0),l!==void 0&&(p=new Ea().getNormalMatrix(l));for(var te=0,oe=C.length;te<oe;te++){var _e=C[te],Ce=_e.clone();l!==void 0&&Ce.applyMatrix4(l),S.push(Ce)}for(var te=0,oe=q.length;te<oe;te++)H.push(q[te].clone());for(te=0,oe=O.length;te<oe;te++){var Ae=O[te],Ne,Ie,Le,st=Ae.vertexNormals,ft=Ae.vertexColors;Ne=new $u(Ae.a+_,Ae.b+_,Ae.c+_),Ne.normal.copy(Ae.normal),p!==void 0&&Ne.normal.applyMatrix3(p).normalize();for(var ut=0,Ct=st.length;ut<Ct;ut++)Ie=st[ut].clone(),p!==void 0&&Ie.applyMatrix3(p).normalize(),Ne.vertexNormals.push(Ie);Ne.color.copy(Ae.color);for(var ut=0,Ct=ft.length;ut<Ct;ut++)Le=ft[ut],Ne.vertexColors.push(Le.clone());Ne.materialIndex=Ae.materialIndex+c,k.push(Ne)}for(te=0,oe=V.length;te<oe;te++){var ht=V[te],It=[];if(ht!==void 0){for(var ut=0,Ct=ht.length;ut<Ct;ut++)It.push(ht[ut].clone());z.push(It)}}},mergeMesh:function(i){if(!(i&&i.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",i);return}i.matrixAutoUpdate&&i.updateMatrix(),this.merge(i.geometry,i.matrix)},mergeVertices:function(){var i={},l=[],c=[],p,_,S=4,C=Math.pow(10,S),k,O,z,V,H,q;for(k=0,O=this.vertices.length;k<O;k++)p=this.vertices[k],_=Math.round(p.x*C)+"_"+Math.round(p.y*C)+"_"+Math.round(p.z*C),i[_]===void 0?(i[_]=k,l.push(this.vertices[k]),c[k]=l.length-1):c[k]=c[i[_]];var te=[];for(k=0,O=this.faces.length;k<O;k++){z=this.faces[k],z.a=c[z.a],z.b=c[z.b],z.c=c[z.c],V=[z.a,z.b,z.c];for(var oe=0;oe<3;oe++)if(V[oe]===V[(oe+1)%3]){te.push(k);break}}for(k=te.length-1;k>=0;k--){var _e=te[k];for(this.faces.splice(_e,1),H=0,q=this.faceVertexUvs.length;H<q;H++)this.faceVertexUvs[H].splice(_e,1)}var Ce=this.vertices.length-l.length;return this.vertices=l,Ce},setFromPoints:function(i){this.vertices=[];for(var l=0,c=i.length;l<c;l++){var p=i[l];this.vertices.push(new Ve(p.x,p.y,p.z||0))}return this},sortFacesByMaterialIndex:function(){for(var i=this.faces,l=i.length,c=0;c<l;c++)i[c]._id=c;function p(z,V){return z.materialIndex-V.materialIndex}i.sort(p);var _=this.faceVertexUvs[0],S=this.faceVertexUvs[1],C,k;_&&_.length===l&&(C=[]),S&&S.length===l&&(k=[]);for(var c=0;c<l;c++){var O=i[c]._id;C&&C.push(_[O]),k&&k.push(S[O])}C&&(this.faceVertexUvs[0]=C),k&&(this.faceVertexUvs[1]=k)},toJSON:function(){var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.parameters!==void 0){var l=this.parameters;for(var c in l)l[c]!==void 0&&(i[c]=l[c]);return i}for(var p=[],_=0;_<this.vertices.length;_++){var S=this.vertices[_];p.push(S.x,S.y,S.z)}for(var C=[],k=[],O={},z=[],V={},H=[],q={},_=0;_<this.faces.length;_++){var te=this.faces[_],oe=!0,_e=!1,Ce=this.faceVertexUvs[0][_]!==void 0,Ae=te.normal.length()>0,Ne=te.vertexNormals.length>0,Ie=te.color.r!==1||te.color.g!==1||te.color.b!==1,Le=te.vertexColors.length>0,st=0;if(st=ht(st,0,0),st=ht(st,1,oe),st=ht(st,2,_e),st=ht(st,3,Ce),st=ht(st,4,Ae),st=ht(st,5,Ne),st=ht(st,6,Ie),st=ht(st,7,Le),C.push(st),C.push(te.a,te.b,te.c),C.push(te.materialIndex),Ce){var ft=this.faceVertexUvs[0][_];C.push(ln(ft[0]),ln(ft[1]),ln(ft[2]))}if(Ae&&C.push(It(te.normal)),Ne){var ut=te.vertexNormals;C.push(It(ut[0]),It(ut[1]),It(ut[2]))}if(Ie&&C.push(Nt(te.color)),Le){var Ct=te.vertexColors;C.push(Nt(Ct[0]),Nt(Ct[1]),Nt(Ct[2]))}}function ht(Cn,pn,yn){return yn?Cn|1<<pn:Cn&~(1<<pn)}function It(Cn){var pn=Cn.x.toString()+Cn.y.toString()+Cn.z.toString();return O[pn]!==void 0||(O[pn]=k.length/3,k.push(Cn.x,Cn.y,Cn.z)),O[pn]}function Nt(Cn){var pn=Cn.r.toString()+Cn.g.toString()+Cn.b.toString();return V[pn]!==void 0||(V[pn]=z.length,z.push(Cn.getHex())),V[pn]}function ln(Cn){var pn=Cn.x.toString()+Cn.y.toString();return q[pn]!==void 0||(q[pn]=H.length/2,H.push(Cn.x,Cn.y)),q[pn]}return i.data={},i.data.vertices=p,i.data.normals=k,z.length>0&&(i.data.colors=z),H.length>0&&(i.data.uvs=[H]),i.data.faces=C,i},clone:function(){return new Tr().copy(this)},copy:function(i){var l,c,p,_,S,C;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=i.name;var k=i.vertices;for(l=0,c=k.length;l<c;l++)this.vertices.push(k[l].clone());var O=i.colors;for(l=0,c=O.length;l<c;l++)this.colors.push(O[l].clone());var z=i.faces;for(l=0,c=z.length;l<c;l++)this.faces.push(z[l].clone());for(l=0,c=i.faceVertexUvs.length;l<c;l++){var V=i.faceVertexUvs[l];for(this.faceVertexUvs[l]===void 0&&(this.faceVertexUvs[l]=[]),p=0,_=V.length;p<_;p++){var H=V[p],q=[];for(S=0,C=H.length;S<C;S++){var te=H[S];q.push(te.clone())}this.faceVertexUvs[l].push(q)}}var oe=i.morphTargets;for(l=0,c=oe.length;l<c;l++){var _e={};if(_e.name=oe[l].name,oe[l].vertices!==void 0)for(_e.vertices=[],p=0,_=oe[l].vertices.length;p<_;p++)_e.vertices.push(oe[l].vertices[p].clone());if(oe[l].normals!==void 0)for(_e.normals=[],p=0,_=oe[l].normals.length;p<_;p++)_e.normals.push(oe[l].normals[p].clone());this.morphTargets.push(_e)}var Ce=i.morphNormals;for(l=0,c=Ce.length;l<c;l++){var Ae={};if(Ce[l].vertexNormals!==void 0)for(Ae.vertexNormals=[],p=0,_=Ce[l].vertexNormals.length;p<_;p++){var Ne=Ce[l].vertexNormals[p],Ie={};Ie.a=Ne.a.clone(),Ie.b=Ne.b.clone(),Ie.c=Ne.c.clone(),Ae.vertexNormals.push(Ie)}if(Ce[l].faceNormals!==void 0)for(Ae.faceNormals=[],p=0,_=Ce[l].faceNormals.length;p<_;p++)Ae.faceNormals.push(Ce[l].faceNormals[p].clone());this.morphNormals.push(Ae)}var Le=i.skinWeights;for(l=0,c=Le.length;l<c;l++)this.skinWeights.push(Le[l].clone());var st=i.skinIndices;for(l=0,c=st.length;l<c;l++)this.skinIndices.push(st[l].clone());var ft=i.lineDistances;for(l=0,c=ft.length;l<c;l++)this.lineDistances.push(ft[l]);var ut=i.boundingBox;ut!==null&&(this.boundingBox=ut.clone());var Ct=i.boundingSphere;return Ct!==null&&(this.boundingSphere=Ct.clone()),this.elementsNeedUpdate=i.elementsNeedUpdate,this.verticesNeedUpdate=i.verticesNeedUpdate,this.uvsNeedUpdate=i.uvsNeedUpdate,this.normalsNeedUpdate=i.normalsNeedUpdate,this.colorsNeedUpdate=i.colorsNeedUpdate,this.lineDistancesNeedUpdate=i.lineDistancesNeedUpdate,this.groupsNeedUpdate=i.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ur(i,l,c){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=i,this.itemSize=l,this.count=i!==void 0?i.length/l:0,this.normalized=c===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ur.prototype,"needsUpdate",{set:function(i){i===!0&&this.version++}}),Object.assign(Ur.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(i){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=i!==void 0?i.length/this.itemSize:0,this.array=i,this},setDynamic:function(i){return this.dynamic=i,this},copy:function(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.dynamic=i.dynamic,this},copyAt:function(i,l,c){i*=this.itemSize,c*=l.itemSize;for(var p=0,_=this.itemSize;p<_;p++)this.array[i+p]=l.array[c+p];return this},copyArray:function(i){return this.array.set(i),this},copyColorsArray:function(i){for(var l=this.array,c=0,p=0,_=i.length;p<_;p++){var S=i[p];S===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",p),S=new cr),l[c++]=S.r,l[c++]=S.g,l[c++]=S.b}return this},copyVector2sArray:function(i){for(var l=this.array,c=0,p=0,_=i.length;p<_;p++){var S=i[p];S===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",p),S=new gn),l[c++]=S.x,l[c++]=S.y}return this},copyVector3sArray:function(i){for(var l=this.array,c=0,p=0,_=i.length;p<_;p++){var S=i[p];S===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",p),S=new Ve),l[c++]=S.x,l[c++]=S.y,l[c++]=S.z}return this},copyVector4sArray:function(i){for(var l=this.array,c=0,p=0,_=i.length;p<_;p++){var S=i[p];S===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",p),S=new yi),l[c++]=S.x,l[c++]=S.y,l[c++]=S.z,l[c++]=S.w}return this},set:function(i,l){return l===void 0&&(l=0),this.array.set(i,l),this},getX:function(i){return this.array[i*this.itemSize]},setX:function(i,l){return this.array[i*this.itemSize]=l,this},getY:function(i){return this.array[i*this.itemSize+1]},setY:function(i,l){return this.array[i*this.itemSize+1]=l,this},getZ:function(i){return this.array[i*this.itemSize+2]},setZ:function(i,l){return this.array[i*this.itemSize+2]=l,this},getW:function(i){return this.array[i*this.itemSize+3]},setW:function(i,l){return this.array[i*this.itemSize+3]=l,this},setXY:function(i,l,c){return i*=this.itemSize,this.array[i+0]=l,this.array[i+1]=c,this},setXYZ:function(i,l,c,p){return i*=this.itemSize,this.array[i+0]=l,this.array[i+1]=c,this.array[i+2]=p,this},setXYZW:function(i,l,c,p,_){return i*=this.itemSize,this.array[i+0]=l,this.array[i+1]=c,this.array[i+2]=p,this.array[i+3]=_,this},onUpload:function(i){return this.onUploadCallback=i,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function Qm(i,l,c){Ur.call(this,new Int8Array(i),l,c)}Qm.prototype=Object.create(Ur.prototype),Qm.prototype.constructor=Qm;function ev(i,l,c){Ur.call(this,new Uint8Array(i),l,c)}ev.prototype=Object.create(Ur.prototype),ev.prototype.constructor=ev;function tv(i,l,c){Ur.call(this,new Uint8ClampedArray(i),l,c)}tv.prototype=Object.create(Ur.prototype),tv.prototype.constructor=tv;function nv(i,l,c){Ur.call(this,new Int16Array(i),l,c)}nv.prototype=Object.create(Ur.prototype),nv.prototype.constructor=nv;function Fd(i,l,c){Ur.call(this,new Uint16Array(i),l,c)}Fd.prototype=Object.create(Ur.prototype),Fd.prototype.constructor=Fd;function rv(i,l,c){Ur.call(this,new Int32Array(i),l,c)}rv.prototype=Object.create(Ur.prototype),rv.prototype.constructor=rv;function Bd(i,l,c){Ur.call(this,new Uint32Array(i),l,c)}Bd.prototype=Object.create(Ur.prototype),Bd.prototype.constructor=Bd;function zn(i,l,c){Ur.call(this,new Float32Array(i),l,c)}zn.prototype=Object.create(Ur.prototype),zn.prototype.constructor=zn;function iv(i,l,c){Ur.call(this,new Float64Array(i),l,c)}iv.prototype=Object.create(Ur.prototype),iv.prototype.constructor=iv;function X2(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(X2.prototype,{computeGroups:function(i){for(var l,c=[],p=void 0,_=i.faces,S=0;S<_.length;S++){var C=_[S];C.materialIndex!==p&&(p=C.materialIndex,l!==void 0&&(l.count=S*3-l.start,c.push(l)),l={start:S*3,materialIndex:p})}l!==void 0&&(l.count=S*3-l.start,c.push(l)),this.groups=c},fromGeometry:function(i){var l=i.faces,c=i.vertices,p=i.faceVertexUvs,_=p[0]&&p[0].length>0,S=p[1]&&p[1].length>0,C=i.morphTargets,k=C.length,O;if(k>0){O=[];for(var z=0;z<k;z++)O[z]={name:C[z].name,data:[]};this.morphTargets.position=O}var V=i.morphNormals,H=V.length,q;if(H>0){q=[];for(var z=0;z<H;z++)q[z]={name:V[z].name,data:[]};this.morphTargets.normal=q}var te=i.skinIndices,oe=i.skinWeights,_e=te.length===c.length,Ce=oe.length===c.length;c.length>0&&l.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var z=0;z<l.length;z++){var Ae=l[z];this.vertices.push(c[Ae.a],c[Ae.b],c[Ae.c]);var Ne=Ae.vertexNormals;if(Ne.length===3)this.normals.push(Ne[0],Ne[1],Ne[2]);else{var Ie=Ae.normal;this.normals.push(Ie,Ie,Ie)}var Le=Ae.vertexColors;if(Le.length===3)this.colors.push(Le[0],Le[1],Le[2]);else{var st=Ae.color;this.colors.push(st,st,st)}if(_===!0){var ft=p[0][z];ft!==void 0?this.uvs.push(ft[0],ft[1],ft[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",z),this.uvs.push(new gn,new gn,new gn))}if(S===!0){var ft=p[1][z];ft!==void 0?this.uvs2.push(ft[0],ft[1],ft[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",z),this.uvs2.push(new gn,new gn,new gn))}for(var ut=0;ut<k;ut++){var Ct=C[ut].vertices;O[ut].data.push(Ct[Ae.a],Ct[Ae.b],Ct[Ae.c])}for(var ut=0;ut<H;ut++){var ht=V[ut].vertexNormals[z];q[ut].data.push(ht.a,ht.b,ht.c)}_e&&this.skinIndices.push(te[Ae.a],te[Ae.b],te[Ae.c]),Ce&&this.skinWeights.push(oe[Ae.a],oe[Ae.b],oe[Ae.c])}return this.computeGroups(i),this.verticesNeedUpdate=i.verticesNeedUpdate,this.normalsNeedUpdate=i.normalsNeedUpdate,this.colorsNeedUpdate=i.colorsNeedUpdate,this.uvsNeedUpdate=i.uvsNeedUpdate,this.groupsNeedUpdate=i.groupsNeedUpdate,this}});function Z2(i){if(i.length===0)return-1/0;for(var l=i[0],c=1,p=i.length;c<p;++c)i[c]>l&&(l=i[c]);return l}var pV=1;function er(){Object.defineProperty(this,"id",{value:pV+=2}),this.uuid=Rr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}er.prototype=Object.assign(Object.create(t.prototype),{constructor:er,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(i){Array.isArray(i)?this.index=new(Z2(i)>65535?Bd:Fd)(i,1):this.index=i},addAttribute:function(i,l){return!(l&&l.isBufferAttribute)&&!(l&&l.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(i,new Ur(arguments[1],arguments[2]))):i==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(l),this):(this.attributes[i]=l,this)},getAttribute:function(i){return this.attributes[i]},removeAttribute:function(i){return delete this.attributes[i],this},addGroup:function(i,l,c){this.groups.push({start:i,count:l,materialIndex:c!==void 0?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(i,l){this.drawRange.start=i,this.drawRange.count=l},applyMatrix:function(i){var l=this.attributes.position;l!==void 0&&(i.applyToBufferAttribute(l),l.needsUpdate=!0);var c=this.attributes.normal;if(c!==void 0){var p=new Ea().getNormalMatrix(i);p.applyToBufferAttribute(c),c.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var i=new gr;return function(c){return i.makeRotationX(c),this.applyMatrix(i),this}}(),rotateY:function(){var i=new gr;return function(c){return i.makeRotationY(c),this.applyMatrix(i),this}}(),rotateZ:function(){var i=new gr;return function(c){return i.makeRotationZ(c),this.applyMatrix(i),this}}(),translate:function(){var i=new gr;return function(c,p,_){return i.makeTranslation(c,p,_),this.applyMatrix(i),this}}(),scale:function(){var i=new gr;return function(c,p,_){return i.makeScale(c,p,_),this.applyMatrix(i),this}}(),lookAt:function(){var i=new Wn;return function(c){i.lookAt(c),i.updateMatrix(),this.applyMatrix(i.matrix)}}(),center:function(){var i=new Ve;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(i).negate(),this.translate(i.x,i.y,i.z),this}}(),setFromObject:function(i){var l=i.geometry;if(i.isPoints||i.isLine){var c=new zn(l.vertices.length*3,3),p=new zn(l.colors.length*3,3);if(this.addAttribute("position",c.copyVector3sArray(l.vertices)),this.addAttribute("color",p.copyColorsArray(l.colors)),l.lineDistances&&l.lineDistances.length===l.vertices.length){var _=new zn(l.lineDistances.length,1);this.addAttribute("lineDistance",_.copyArray(l.lineDistances))}l.boundingSphere!==null&&(this.boundingSphere=l.boundingSphere.clone()),l.boundingBox!==null&&(this.boundingBox=l.boundingBox.clone())}else i.isMesh&&l&&l.isGeometry&&this.fromGeometry(l);return this},setFromPoints:function(i){for(var l=[],c=0,p=i.length;c<p;c++){var _=i[c];l.push(_.x,_.y,_.z||0)}return this.addAttribute("position",new zn(l,3)),this},updateFromObject:function(i){var l=i.geometry;if(i.isMesh){var c=l.__directGeometry;if(l.elementsNeedUpdate===!0&&(c=void 0,l.elementsNeedUpdate=!1),c===void 0)return this.fromGeometry(l);c.verticesNeedUpdate=l.verticesNeedUpdate,c.normalsNeedUpdate=l.normalsNeedUpdate,c.colorsNeedUpdate=l.colorsNeedUpdate,c.uvsNeedUpdate=l.uvsNeedUpdate,c.groupsNeedUpdate=l.groupsNeedUpdate,l.verticesNeedUpdate=!1,l.normalsNeedUpdate=!1,l.colorsNeedUpdate=!1,l.uvsNeedUpdate=!1,l.groupsNeedUpdate=!1,l=c}var p;return l.verticesNeedUpdate===!0&&(p=this.attributes.position,p!==void 0&&(p.copyVector3sArray(l.vertices),p.needsUpdate=!0),l.verticesNeedUpdate=!1),l.normalsNeedUpdate===!0&&(p=this.attributes.normal,p!==void 0&&(p.copyVector3sArray(l.normals),p.needsUpdate=!0),l.normalsNeedUpdate=!1),l.colorsNeedUpdate===!0&&(p=this.attributes.color,p!==void 0&&(p.copyColorsArray(l.colors),p.needsUpdate=!0),l.colorsNeedUpdate=!1),l.uvsNeedUpdate&&(p=this.attributes.uv,p!==void 0&&(p.copyVector2sArray(l.uvs),p.needsUpdate=!0),l.uvsNeedUpdate=!1),l.lineDistancesNeedUpdate&&(p=this.attributes.lineDistance,p!==void 0&&(p.copyArray(l.lineDistances),p.needsUpdate=!0),l.lineDistancesNeedUpdate=!1),l.groupsNeedUpdate&&(l.computeGroups(i.geometry),this.groups=l.groups,l.groupsNeedUpdate=!1),this},fromGeometry:function(i){return i.__directGeometry=new X2().fromGeometry(i),this.fromDirectGeometry(i.__directGeometry)},fromDirectGeometry:function(i){var l=new Float32Array(i.vertices.length*3);if(this.addAttribute("position",new Ur(l,3).copyVector3sArray(i.vertices)),i.normals.length>0){var c=new Float32Array(i.normals.length*3);this.addAttribute("normal",new Ur(c,3).copyVector3sArray(i.normals))}if(i.colors.length>0){var p=new Float32Array(i.colors.length*3);this.addAttribute("color",new Ur(p,3).copyColorsArray(i.colors))}if(i.uvs.length>0){var _=new Float32Array(i.uvs.length*2);this.addAttribute("uv",new Ur(_,2).copyVector2sArray(i.uvs))}if(i.uvs2.length>0){var S=new Float32Array(i.uvs2.length*2);this.addAttribute("uv2",new Ur(S,2).copyVector2sArray(i.uvs2))}this.groups=i.groups;for(var C in i.morphTargets){for(var k=[],O=i.morphTargets[C],z=0,V=O.length;z<V;z++){var H=O[z],q=new zn(H.data.length*3,3);q.name=H.name,k.push(q.copyVector3sArray(H.data))}this.morphAttributes[C]=k}if(i.skinIndices.length>0){var te=new zn(i.skinIndices.length*4,4);this.addAttribute("skinIndex",te.copyVector4sArray(i.skinIndices))}if(i.skinWeights.length>0){var oe=new zn(i.skinWeights.length*4,4);this.addAttribute("skinWeight",oe.copyVector4sArray(i.skinWeights))}return i.boundingSphere!==null&&(this.boundingSphere=i.boundingSphere.clone()),i.boundingBox!==null&&(this.boundingBox=i.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Us);var i=this.attributes.position;i!==void 0?this.boundingBox.setFromBufferAttribute(i):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var i=new Us,l=new Ve;return function(){this.boundingSphere===null&&(this.boundingSphere=new Ao);var p=this.attributes.position;if(p){var _=this.boundingSphere.center;i.setFromBufferAttribute(p),i.getCenter(_);for(var S=0,C=0,k=p.count;C<k;C++)l.x=p.getX(C),l.y=p.getY(C),l.z=p.getZ(C),S=Math.max(S,_.distanceToSquared(l));this.boundingSphere.radius=Math.sqrt(S),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var i=this.index,l=this.attributes;if(l.position){var c=l.position.array;if(l.normal===void 0)this.addAttribute("normal",new Ur(new Float32Array(c.length),3));else for(var p=l.normal.array,_=0,S=p.length;_<S;_++)p[_]=0;var C=l.normal.array,k,O,z,V=new Ve,H=new Ve,q=new Ve,te=new Ve,oe=new Ve;if(i)for(var _e=i.array,_=0,S=i.count;_<S;_+=3)k=_e[_+0]*3,O=_e[_+1]*3,z=_e[_+2]*3,V.fromArray(c,k),H.fromArray(c,O),q.fromArray(c,z),te.subVectors(q,H),oe.subVectors(V,H),te.cross(oe),C[k]+=te.x,C[k+1]+=te.y,C[k+2]+=te.z,C[O]+=te.x,C[O+1]+=te.y,C[O+2]+=te.z,C[z]+=te.x,C[z+1]+=te.y,C[z+2]+=te.z;else for(var _=0,S=c.length;_<S;_+=9)V.fromArray(c,_),H.fromArray(c,_+3),q.fromArray(c,_+6),te.subVectors(q,H),oe.subVectors(V,H),te.cross(oe),C[_]=te.x,C[_+1]=te.y,C[_+2]=te.z,C[_+3]=te.x,C[_+4]=te.y,C[_+5]=te.z,C[_+6]=te.x,C[_+7]=te.y,C[_+8]=te.z;this.normalizeNormals(),l.normal.needsUpdate=!0}},merge:function(i,l){if(!(i&&i.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",i);return}l===void 0&&(l=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes;for(var p in c)if(i.attributes[p]!==void 0)for(var _=c[p],S=_.array,C=i.attributes[p],k=C.array,O=C.itemSize,z=0,V=O*l;z<k.length;z++,V++)S[V]=k[z];return this},normalizeNormals:function(){var i=new Ve;return function(){for(var c=this.attributes.normal,p=0,_=c.count;p<_;p++)i.x=c.getX(p),i.y=c.getY(p),i.z=c.getZ(p),i.normalize(),c.setXYZ(p,i.x,i.y,i.z)}}(),toNonIndexed:function(){if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var i=new er,l=this.index.array,c=this.attributes;for(var p in c){for(var _=c[p],S=_.array,C=_.itemSize,k=new S.constructor(l.length*C),O=0,z=0,V=0,H=l.length;V<H;V++){O=l[V]*C;for(var q=0;q<C;q++)k[z++]=S[O++]}i.addAttribute(p,new Ur(k,C))}for(var te=this.groups,V=0,H=te.length;V<H;V++){var oe=te[V];i.addGroup(oe.start,oe.count,oe.materialIndex)}return i},toJSON:function(){var i={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){var l=this.parameters;for(var c in l)l[c]!==void 0&&(i[c]=l[c]);return i}i.data={attributes:{}};var p=this.index;if(p!==null){var _=Array.prototype.slice.call(p.array);i.data.index={type:p.array.constructor.name,array:_}}var S=this.attributes;for(var c in S){var C=S[c],_=Array.prototype.slice.call(C.array);i.data.attributes[c]={itemSize:C.itemSize,type:C.array.constructor.name,array:_,normalized:C.normalized}}var k=this.groups;k.length>0&&(i.data.groups=JSON.parse(JSON.stringify(k)));var O=this.boundingSphere;return O!==null&&(i.data.boundingSphere={center:O.center.toArray(),radius:O.radius}),i},clone:function(){return new er().copy(this)},copy:function(i){var l,c,p;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=i.name;var _=i.index;_!==null&&this.setIndex(_.clone());var S=i.attributes;for(l in S){var C=S[l];this.addAttribute(l,C.clone())}var k=i.morphAttributes;for(l in k){var O=[],z=k[l];for(c=0,p=z.length;c<p;c++)O.push(z[c].clone());this.morphAttributes[l]=O}var V=i.groups;for(c=0,p=V.length;c<p;c++){var H=V[c];this.addGroup(H.start,H.count,H.materialIndex)}var q=i.boundingBox;q!==null&&(this.boundingBox=q.clone());var te=i.boundingSphere;return te!==null&&(this.boundingSphere=te.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function gh(i,l,c,p,_,S){Tr.call(this),this.type="BoxGeometry",this.parameters={width:i,height:l,depth:c,widthSegments:p,heightSegments:_,depthSegments:S},this.fromBufferGeometry(new zd(i,l,c,p,_,S)),this.mergeVertices()}gh.prototype=Object.create(Tr.prototype),gh.prototype.constructor=gh;function zd(i,l,c,p,_,S){er.call(this),this.type="BoxBufferGeometry",this.parameters={width:i,height:l,depth:c,widthSegments:p,heightSegments:_,depthSegments:S};var C=this;i=i||1,l=l||1,c=c||1,p=Math.floor(p)||1,_=Math.floor(_)||1,S=Math.floor(S)||1;var k=[],O=[],z=[],V=[],H=0,q=0;te("z","y","x",-1,-1,c,l,i,S,_,0),te("z","y","x",1,-1,c,l,-i,S,_,1),te("x","z","y",1,1,i,c,l,p,S,2),te("x","z","y",1,-1,i,c,-l,p,S,3),te("x","y","z",1,-1,i,l,c,p,_,4),te("x","y","z",-1,-1,i,l,-c,p,_,5),this.setIndex(k),this.addAttribute("position",new zn(O,3)),this.addAttribute("normal",new zn(z,3)),this.addAttribute("uv",new zn(V,2));function te(oe,_e,Ce,Ae,Ne,Ie,Le,st,ft,ut,Ct){var ht=Ie/ft,It=Le/ut,Nt=Ie/2,ln=Le/2,Cn=st/2,pn=ft+1,yn=ut+1,In=0,it=0,Qe,Qt,Ht=new Ve;for(Qt=0;Qt<yn;Qt++){var Dn=Qt*It-ln;for(Qe=0;Qe<pn;Qe++){var _t=Qe*ht-Nt;Ht[oe]=_t*Ae,Ht[_e]=Dn*Ne,Ht[Ce]=Cn,O.push(Ht.x,Ht.y,Ht.z),Ht[oe]=0,Ht[_e]=0,Ht[Ce]=st>0?1:-1,z.push(Ht.x,Ht.y,Ht.z),V.push(Qe/ft),V.push(1-Qt/ut),In+=1}}for(Qt=0;Qt<ut;Qt++)for(Qe=0;Qe<ft;Qe++){var Ln=H+Qe+pn*Qt,dn=H+Qe+pn*(Qt+1),qn=H+(Qe+1)+pn*(Qt+1),En=H+(Qe+1)+pn*Qt;k.push(Ln,dn,En),k.push(dn,qn,En),it+=6}C.addGroup(q,it,Ct),q+=it,H+=In}}zd.prototype=Object.create(er.prototype),zd.prototype.constructor=zd;function av(i,l,c,p){Tr.call(this),this.type="PlaneGeometry",this.parameters={width:i,height:l,widthSegments:c,heightSegments:p},this.fromBufferGeometry(new Vd(i,l,c,p)),this.mergeVertices()}av.prototype=Object.create(Tr.prototype),av.prototype.constructor=av;function Vd(i,l,c,p){er.call(this),this.type="PlaneBufferGeometry",this.parameters={width:i,height:l,widthSegments:c,heightSegments:p},i=i||1,l=l||1;var _=i/2,S=l/2,C=Math.floor(c)||1,k=Math.floor(p)||1,O=C+1,z=k+1,V=i/C,H=l/k,q,te,oe=[],_e=[],Ce=[],Ae=[];for(te=0;te<z;te++){var Ne=te*H-S;for(q=0;q<O;q++){var Ie=q*V-_;_e.push(Ie,-Ne,0),Ce.push(0,0,1),Ae.push(q/C),Ae.push(1-te/k)}}for(te=0;te<k;te++)for(q=0;q<C;q++){var Le=q+O*te,st=q+O*(te+1),ft=q+1+O*(te+1),ut=q+1+O*te;oe.push(Le,st,ut),oe.push(st,ft,ut)}this.setIndex(oe),this.addAttribute("position",new zn(_e,3)),this.addAttribute("normal",new zn(Ce,3)),this.addAttribute("uv",new zn(Ae,2))}Vd.prototype=Object.create(er.prototype),Vd.prototype.constructor=Vd;var mV=0;function zr(){Object.defineProperty(this,"id",{value:mV++}),this.uuid=Rr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=I,this.side=b,this.flatShading=!1,this.vertexColors=R,this.opacity=1,this.transparent=!1,this.blendSrc=ie,this.blendDst=pe,this.blendEquation=G,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xe,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}zr.prototype=Object.assign(Object.create(t.prototype),{constructor:zr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(i){if(i!==void 0)for(var l in i){var c=i[l];if(c===void 0){console.warn("THREE.Material: '"+l+"' parameter is undefined.");continue}if(l==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=c===x;continue}var p=this[l];if(p===void 0){console.warn("THREE."+this.type+": '"+l+"' is not a property of this material.");continue}p&&p.isColor?p.set(c):p&&p.isVector3&&c&&c.isVector3?p.copy(c):l==="overdraw"?this[l]=Number(c):this[l]=c}},toJSON:function(i){var l=i===void 0||typeof i=="string";l&&(i={textures:{},images:{}});var c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),this.roughness!==void 0&&(c.roughness=this.roughness),this.metalness!==void 0&&(c.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),this.shininess!==void 0&&(c.shininess=this.shininess),this.clearCoat!==void 0&&(c.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(c.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(i).uuid),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(i).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(i).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(i).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(i).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(i).uuid,c.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(i).uuid),this.size!==void 0&&(c.size=this.size),this.sizeAttenuation!==void 0&&(c.sizeAttenuation=this.sizeAttenuation),this.blending!==I&&(c.blending=this.blending),this.flatShading===!0&&(c.flatShading=this.flatShading),this.side!==b&&(c.side=this.side),this.vertexColors!==R&&(c.vertexColors=this.vertexColors),this.opacity<1&&(c.opacity=this.opacity),this.transparent===!0&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,this.rotation!==0&&(c.rotation=this.rotation),this.polygonOffset===!0&&(c.polygonOffset=!0),this.polygonOffsetFactor!==0&&(c.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(c.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(c.linewidth=this.linewidth),this.dashSize!==void 0&&(c.dashSize=this.dashSize),this.gapSize!==void 0&&(c.gapSize=this.gapSize),this.scale!==void 0&&(c.scale=this.scale),this.dithering===!0&&(c.dithering=!0),this.alphaTest>0&&(c.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(c.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(c.wireframe=this.wireframe),this.wireframeLinewidth>1&&(c.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(c.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(c.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(c.morphTargets=!0),this.skinning===!0&&(c.skinning=!0),this.visible===!1&&(c.visible=!1),JSON.stringify(this.userData)!=="{}"&&(c.userData=this.userData);function p(C){var k=[];for(var O in C){var z=C[O];delete z.metadata,k.push(z)}return k}if(l){var _=p(i.textures),S=p(i.images);_.length>0&&(c.textures=_),S.length>0&&(c.images=S)}return c},clone:function(){return new this.constructor().copy(this)},copy:function(i){this.name=i.name,this.fog=i.fog,this.lights=i.lights,this.blending=i.blending,this.side=i.side,this.flatShading=i.flatShading,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.premultipliedAlpha=i.premultipliedAlpha,this.overdraw=i.overdraw,this.visible=i.visible,this.userData=JSON.parse(JSON.stringify(i.userData)),this.clipShadows=i.clipShadows,this.clipIntersection=i.clipIntersection;var l=i.clippingPlanes,c=null;if(l!==null){var p=l.length;c=new Array(p);for(var _=0;_!==p;++_)c[_]=l[_].clone()}return this.clippingPlanes=c,this.shadowSide=i.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function bs(i){zr.call(this),this.type="MeshBasicMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(i)}bs.prototype=Object.create(zr.prototype),bs.prototype.constructor=bs,bs.prototype.isMeshBasicMaterial=!0,bs.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this};function qs(i){zr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,i!==void 0&&(i.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(i))}qs.prototype=Object.create(zr.prototype),qs.prototype.constructor=qs,qs.prototype.isShaderMaterial=!0,qs.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=Lo.clone(i.uniforms),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.lights=i.lights,this.clipping=i.clipping,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this.extensions=i.extensions,this},qs.prototype.toJSON=function(i){var l=zr.prototype.toJSON.call(this,i);l.uniforms={};for(var c in this.uniforms){var p=this.uniforms[c],_=p.value;_.isTexture?l.uniforms[c]={type:"t",value:_.toJSON(i).uuid}:_.isColor?l.uniforms[c]={type:"c",value:_.getHex()}:_.isVector2?l.uniforms[c]={type:"v2",value:_.toArray()}:_.isVector3?l.uniforms[c]={type:"v3",value:_.toArray()}:_.isVector4?l.uniforms[c]={type:"v4",value:_.toArray()}:_.isMatrix4?l.uniforms[c]={type:"m4",value:_.toArray()}:l.uniforms[c]={value:_}}return Object.keys(this.defines).length>0&&(l.defines=this.defines),l.vertexShader=this.vertexShader,l.fragmentShader=this.fragmentShader,l};function Ud(i,l){this.origin=i!==void 0?i:new Ve,this.direction=l!==void 0?l:new Ve}Object.assign(Ud.prototype,{set:function(i,l){return this.origin.copy(i),this.direction.copy(l),this},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this},at:function(i,l){return l===void 0&&(console.warn("THREE.Ray: .at() target is now required"),l=new Ve),l.copy(this.direction).multiplyScalar(i).add(this.origin)},lookAt:function(i){return this.direction.copy(i).sub(this.origin).normalize(),this},recast:function(){var i=new Ve;return function(c){return this.origin.copy(this.at(c,i)),this}}(),closestPointToPoint:function(i,l){l===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),l=new Ve),l.subVectors(i,this.origin);var c=l.dot(this.direction);return c<0?l.copy(this.origin):l.copy(this.direction).multiplyScalar(c).add(this.origin)},distanceToPoint:function(i){return Math.sqrt(this.distanceSqToPoint(i))},distanceSqToPoint:function(){var i=new Ve;return function(c){var p=i.subVectors(c,this.origin).dot(this.direction);return p<0?this.origin.distanceToSquared(c):(i.copy(this.direction).multiplyScalar(p).add(this.origin),i.distanceToSquared(c))}}(),distanceSqToSegment:function(){var i=new Ve,l=new Ve,c=new Ve;return function(_,S,C,k){i.copy(_).add(S).multiplyScalar(.5),l.copy(S).sub(_).normalize(),c.copy(this.origin).sub(i);var O=_.distanceTo(S)*.5,z=-this.direction.dot(l),V=c.dot(this.direction),H=-c.dot(l),q=c.lengthSq(),te=Math.abs(1-z*z),oe,_e,Ce,Ae;if(te>0)if(oe=z*H-V,_e=z*V-H,Ae=O*te,oe>=0)if(_e>=-Ae)if(_e<=Ae){var Ne=1/te;oe*=Ne,_e*=Ne,Ce=oe*(oe+z*_e+2*V)+_e*(z*oe+_e+2*H)+q}else _e=O,oe=Math.max(0,-(z*_e+V)),Ce=-oe*oe+_e*(_e+2*H)+q;else _e=-O,oe=Math.max(0,-(z*_e+V)),Ce=-oe*oe+_e*(_e+2*H)+q;else _e<=-Ae?(oe=Math.max(0,-(-z*O+V)),_e=oe>0?-O:Math.min(Math.max(-O,-H),O),Ce=-oe*oe+_e*(_e+2*H)+q):_e<=Ae?(oe=0,_e=Math.min(Math.max(-O,-H),O),Ce=_e*(_e+2*H)+q):(oe=Math.max(0,-(z*O+V)),_e=oe>0?O:Math.min(Math.max(-O,-H),O),Ce=-oe*oe+_e*(_e+2*H)+q);else _e=z>0?-O:O,oe=Math.max(0,-(z*_e+V)),Ce=-oe*oe+_e*(_e+2*H)+q;return C&&C.copy(this.direction).multiplyScalar(oe).add(this.origin),k&&k.copy(l).multiplyScalar(_e).add(i),Ce}}(),intersectSphere:function(){var i=new Ve;return function(c,p){i.subVectors(c.center,this.origin);var _=i.dot(this.direction),S=i.dot(i)-_*_,C=c.radius*c.radius;if(S>C)return null;var k=Math.sqrt(C-S),O=_-k,z=_+k;return O<0&&z<0?null:O<0?this.at(z,p):this.at(O,p)}}(),intersectsSphere:function(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius},distanceToPlane:function(i){var l=i.normal.dot(this.direction);if(l===0)return i.distanceToPoint(this.origin)===0?0:null;var c=-(this.origin.dot(i.normal)+i.constant)/l;return c>=0?c:null},intersectPlane:function(i,l){var c=this.distanceToPlane(i);return c===null?null:this.at(c,l)},intersectsPlane:function(i){var l=i.distanceToPoint(this.origin);if(l===0)return!0;var c=i.normal.dot(this.direction);return c*l<0},intersectBox:function(i,l){var c,p,_,S,C,k,O=1/this.direction.x,z=1/this.direction.y,V=1/this.direction.z,H=this.origin;return O>=0?(c=(i.min.x-H.x)*O,p=(i.max.x-H.x)*O):(c=(i.max.x-H.x)*O,p=(i.min.x-H.x)*O),z>=0?(_=(i.min.y-H.y)*z,S=(i.max.y-H.y)*z):(_=(i.max.y-H.y)*z,S=(i.min.y-H.y)*z),c>S||_>p||((_>c||c!==c)&&(c=_),(S<p||p!==p)&&(p=S),V>=0?(C=(i.min.z-H.z)*V,k=(i.max.z-H.z)*V):(C=(i.max.z-H.z)*V,k=(i.min.z-H.z)*V),c>k||C>p)||((C>c||c!==c)&&(c=C),(k<p||p!==p)&&(p=k),p<0)?null:this.at(c>=0?c:p,l)},intersectsBox:function(){var i=new Ve;return function(c){return this.intersectBox(c,i)!==null}}(),intersectTriangle:function(){var i=new Ve,l=new Ve,c=new Ve,p=new Ve;return function(S,C,k,O,z){l.subVectors(C,S),c.subVectors(k,S),p.crossVectors(l,c);var V=this.direction.dot(p),H;if(V>0){if(O)return null;H=1}else if(V<0)H=-1,V=-V;else return null;i.subVectors(this.origin,S);var q=H*this.direction.dot(c.crossVectors(i,c));if(q<0)return null;var te=H*this.direction.dot(l.cross(i));if(te<0||q+te>V)return null;var oe=-H*i.dot(p);return oe<0?null:this.at(oe/V,z)}}(),applyMatrix4:function(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this},equals:function(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}});function fo(i,l,c){this.a=i!==void 0?i:new Ve,this.b=l!==void 0?l:new Ve,this.c=c!==void 0?c:new Ve}Object.assign(fo,{getNormal:function(){var i=new Ve;return function(c,p,_,S){S===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),S=new Ve),S.subVectors(_,p),i.subVectors(c,p),S.cross(i);var C=S.lengthSq();return C>0?S.multiplyScalar(1/Math.sqrt(C)):S.set(0,0,0)}}(),getBarycoord:function(){var i=new Ve,l=new Ve,c=new Ve;return function(_,S,C,k,O){i.subVectors(k,S),l.subVectors(C,S),c.subVectors(_,S);var z=i.dot(i),V=i.dot(l),H=i.dot(c),q=l.dot(l),te=l.dot(c),oe=z*q-V*V;if(O===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),O=new Ve),oe===0)return O.set(-2,-1,-1);var _e=1/oe,Ce=(q*H-V*te)*_e,Ae=(z*te-V*H)*_e;return O.set(1-Ce-Ae,Ae,Ce)}}(),containsPoint:function(){var i=new Ve;return function(c,p,_,S){return fo.getBarycoord(c,p,_,S,i),i.x>=0&&i.y>=0&&i.x+i.y<=1}}(),getUV:function(){var i=new Ve;return function(c,p,_,S,C,k,O,z){return this.getBarycoord(c,p,_,S,i),z.set(0,0),z.addScaledVector(C,i.x),z.addScaledVector(k,i.y),z.addScaledVector(O,i.z),z}}()}),Object.assign(fo.prototype,{set:function(i,l,c){return this.a.copy(i),this.b.copy(l),this.c.copy(c),this},setFromPointsAndIndices:function(i,l,c,p){return this.a.copy(i[l]),this.b.copy(i[c]),this.c.copy(i[p]),this},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this},getArea:function(){var i=new Ve,l=new Ve;return function(){return i.subVectors(this.c,this.b),l.subVectors(this.a,this.b),i.cross(l).length()*.5}}(),getMidpoint:function(i){return i===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),i=new Ve),i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(i){return fo.getNormal(this.a,this.b,this.c,i)},getPlane:function(i){return i===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),i=new Ve),i.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(i,l){return fo.getBarycoord(i,this.a,this.b,this.c,l)},containsPoint:function(i){return fo.containsPoint(i,this.a,this.b,this.c)},getUV:function(i,l,c,p,_){return fo.getUV(i,this.a,this.b,this.c,l,c,p,_)},intersectsBox:function(i){return i.intersectsTriangle(this)},closestPointToPoint:function(){var i=new Ve,l=new Ve,c=new Ve,p=new Ve,_=new Ve,S=new Ve;return function(k,O){O===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),O=new Ve);var z=this.a,V=this.b,H=this.c,q,te;i.subVectors(V,z),l.subVectors(H,z),p.subVectors(k,z);var oe=i.dot(p),_e=l.dot(p);if(oe<=0&&_e<=0)return O.copy(z);_.subVectors(k,V);var Ce=i.dot(_),Ae=l.dot(_);if(Ce>=0&&Ae<=Ce)return O.copy(V);var Ne=oe*Ae-Ce*_e;if(Ne<=0&&oe>=0&&Ce<=0)return q=oe/(oe-Ce),O.copy(z).addScaledVector(i,q);S.subVectors(k,H);var Ie=i.dot(S),Le=l.dot(S);if(Le>=0&&Ie<=Le)return O.copy(H);var st=Ie*_e-oe*Le;if(st<=0&&_e>=0&&Le<=0)return te=_e/(_e-Le),O.copy(z).addScaledVector(l,te);var ft=Ce*Le-Ie*Ae;if(ft<=0&&Ae-Ce>=0&&Ie-Le>=0)return c.subVectors(H,V),te=(Ae-Ce)/(Ae-Ce+(Ie-Le)),O.copy(V).addScaledVector(c,te);var ut=1/(ft+st+Ne);return q=st*ut,te=Ne*ut,O.copy(z).addScaledVector(i,q).addScaledVector(l,te)}}(),equals:function(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}});function Xo(i,l){Wn.call(this),this.type="Mesh",this.geometry=i!==void 0?i:new er,this.material=l!==void 0?l:new bs({color:Math.random()*16777215}),this.drawMode=Vm,this.updateMorphTargets()}Xo.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Xo,isMesh:!0,setDrawMode:function(i){this.drawMode=i},copy:function(i){return Wn.prototype.copy.call(this,i),this.drawMode=i.drawMode,i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this},updateMorphTargets:function(){var i=this.geometry,l,c,p;if(i.isBufferGeometry){var _=i.morphAttributes,S=Object.keys(_);if(S.length>0){var C=_[S[0]];if(C!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},l=0,c=C.length;l<c;l++)p=C[l].name||String(l),this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}else{var k=i.morphTargets;if(k!==void 0&&k.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},l=0,c=k.length;l<c;l++)p=k[l].name||String(l),this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}},raycast:function(){var i=new gr,l=new Ud,c=new Ao,p=new Ve,_=new Ve,S=new Ve,C=new Ve,k=new Ve,O=new Ve,z=new gn,V=new gn,H=new gn,q=new Ve,te=new Ve;function oe(Ce,Ae,Ne,Ie,Le,st,ft,ut){var Ct;if(Ae.side===w?Ct=Ie.intersectTriangle(ft,st,Le,!0,ut):Ct=Ie.intersectTriangle(Le,st,ft,Ae.side!==g,ut),Ct===null)return null;te.copy(ut),te.applyMatrix4(Ce.matrixWorld);var ht=Ne.ray.origin.distanceTo(te);return ht<Ne.near||ht>Ne.far?null:{distance:ht,point:te.clone(),object:Ce}}function _e(Ce,Ae,Ne,Ie,Le,st,ft,ut,Ct){p.fromBufferAttribute(Le,ft),_.fromBufferAttribute(Le,ut),S.fromBufferAttribute(Le,Ct);var ht=oe(Ce,Ae,Ne,Ie,p,_,S,q);if(ht){st&&(z.fromBufferAttribute(st,ft),V.fromBufferAttribute(st,ut),H.fromBufferAttribute(st,Ct),ht.uv=fo.getUV(q,p,_,S,z,V,H,new gn));var It=new $u(ft,ut,Ct);fo.getNormal(p,_,S,It.normal),ht.face=It}return ht}return function(Ae,Ne){var Ie=this.geometry,Le=this.material,st=this.matrixWorld;if(Le!==void 0&&(Ie.boundingSphere===null&&Ie.computeBoundingSphere(),c.copy(Ie.boundingSphere),c.applyMatrix4(st),Ae.ray.intersectsSphere(c)!==!1&&(i.getInverse(st),l.copy(Ae.ray).applyMatrix4(i),!(Ie.boundingBox!==null&&l.intersectsBox(Ie.boundingBox)===!1)))){var ft;if(Ie.isBufferGeometry){var ut,Ct,ht,It=Ie.index,Nt=Ie.attributes.position,ln=Ie.attributes.uv,Cn=Ie.groups,pn=Ie.drawRange,yn,In,it,Qe,Qt,Ht,Dn,_t;if(It!==null)if(Array.isArray(Le))for(yn=0,it=Cn.length;yn<it;yn++)for(Qt=Cn[yn],Ht=Le[Qt.materialIndex],Dn=Math.max(Qt.start,pn.start),_t=Math.min(Qt.start+Qt.count,pn.start+pn.count),In=Dn,Qe=_t;In<Qe;In+=3)ut=It.getX(In),Ct=It.getX(In+1),ht=It.getX(In+2),ft=_e(this,Ht,Ae,l,Nt,ln,ut,Ct,ht),ft&&(ft.faceIndex=Math.floor(In/3),Ne.push(ft));else for(Dn=Math.max(0,pn.start),_t=Math.min(It.count,pn.start+pn.count),yn=Dn,it=_t;yn<it;yn+=3)ut=It.getX(yn),Ct=It.getX(yn+1),ht=It.getX(yn+2),ft=_e(this,Le,Ae,l,Nt,ln,ut,Ct,ht),ft&&(ft.faceIndex=Math.floor(yn/3),Ne.push(ft));else if(Nt!==void 0)if(Array.isArray(Le))for(yn=0,it=Cn.length;yn<it;yn++)for(Qt=Cn[yn],Ht=Le[Qt.materialIndex],Dn=Math.max(Qt.start,pn.start),_t=Math.min(Qt.start+Qt.count,pn.start+pn.count),In=Dn,Qe=_t;In<Qe;In+=3)ut=In,Ct=In+1,ht=In+2,ft=_e(this,Ht,Ae,l,Nt,ln,ut,Ct,ht),ft&&(ft.faceIndex=Math.floor(In/3),Ne.push(ft));else for(Dn=Math.max(0,pn.start),_t=Math.min(Nt.count,pn.start+pn.count),yn=Dn,it=_t;yn<it;yn+=3)ut=yn,Ct=yn+1,ht=yn+2,ft=_e(this,Le,Ae,l,Nt,ln,ut,Ct,ht),ft&&(ft.faceIndex=Math.floor(yn/3),Ne.push(ft))}else if(Ie.isGeometry){var Ln,dn,qn,En=Array.isArray(Le),Mr=Ie.vertices,jr=Ie.faces,Zr,An=Ie.faceVertexUvs[0];An.length>0&&(Zr=An);for(var ai=0,oa=jr.length;ai<oa;ai++){var xi=jr[ai],ns=En?Le[xi.materialIndex]:Le;if(ns!==void 0){if(Ln=Mr[xi.a],dn=Mr[xi.b],qn=Mr[xi.c],ns.morphTargets===!0){var sa=Ie.morphTargets,Ba=this.morphTargetInfluences;p.set(0,0,0),_.set(0,0,0),S.set(0,0,0);for(var Ja=0,Ku=sa.length;Ja<Ku;Ja++){var xl=Ba[Ja];if(xl!==0){var ba=sa[Ja].vertices;p.addScaledVector(C.subVectors(ba[xi.a],Ln),xl),_.addScaledVector(k.subVectors(ba[xi.b],dn),xl),S.addScaledVector(O.subVectors(ba[xi.c],qn),xl)}}p.add(Ln),_.add(dn),S.add(qn),Ln=p,dn=_,qn=S}if(ft=oe(this,ns,Ae,l,Ln,dn,qn,q),ft){if(Zr&&Zr[ai]){var za=Zr[ai];z.copy(za[0]),V.copy(za[1]),H.copy(za[2]),ft.uv=fo.getUV(q,Ln,dn,qn,z,V,H,new gn)}ft.face=xi,ft.faceIndex=ai,Ne.push(ft)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function vV(i,l,c,p){var _=new cr(0),S=0,C,k,O;function z(H,q,te,oe){var _e=q.background;_e===null?V(_,S):_e&&_e.isColor&&(V(_e,1),oe=!0),(i.autoClear||oe)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),_e&&_e.isCubeTexture?(O===void 0&&(O=new Xo(new zd(1,1,1),new qs({uniforms:Dd.cube.uniforms,vertexShader:Dd.cube.vertexShader,fragmentShader:Dd.cube.fragmentShader,side:w,depthTest:!0,depthWrite:!1,fog:!1})),O.geometry.removeAttribute("normal"),O.geometry.removeAttribute("uv"),O.onBeforeRender=function(Ce,Ae,Ne){this.matrixWorld.copyPosition(Ne.matrixWorld)},c.update(O)),O.material.uniforms.tCube.value=_e,H.push(O,O.geometry,O.material,0,null)):_e&&_e.isTexture&&(C===void 0&&(C=new vh(-1,1,1,-1,0,1),k=new Xo(new Vd(2,2),new bs({depthTest:!1,depthWrite:!1,fog:!1})),c.update(k)),k.material.map=_e,i.renderBufferDirect(C,null,k.geometry,k.material,k,null))}function V(H,q){l.buffers.color.setClear(H.r,H.g,H.b,q,p)}return{getClearColor:function(){return _},setClearColor:function(H,q){_.set(H),S=q!==void 0?q:1,V(_,S)},getClearAlpha:function(){return S},setClearAlpha:function(H){S=H,V(_,S)},render:z}}function gV(i,l,c,p){var _;function S(O){_=O}function C(O,z){i.drawArrays(_,O,z),c.update(z,_)}function k(O,z,V){var H;if(p.isWebGL2)H=i;else if(H=l.get("ANGLE_instanced_arrays"),H===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}H[p.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](_,z,V,O.maxInstancedCount),c.update(V,_,O.maxInstancedCount)}this.setMode=S,this.render=C,this.renderInstances=k}function yV(i,l,c){var p;function _(){if(p!==void 0)return p;var st=l.get("EXT_texture_filter_anisotropic");return st!==null?p=i.getParameter(st.MAX_TEXTURE_MAX_ANISOTROPY_EXT):p=0,p}function S(st){if(st==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";st="mediump"}return st==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var C=typeof WebGL2RenderingContext<"u"&&i instanceof WebGL2RenderingContext,k=c.precision!==void 0?c.precision:"highp",O=S(k);O!==k&&(console.warn("THREE.WebGLRenderer:",k,"not supported, using",O,"instead."),k=O);var z=c.logarithmicDepthBuffer===!0,V=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),H=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),q=i.getParameter(i.MAX_TEXTURE_SIZE),te=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),oe=i.getParameter(i.MAX_VERTEX_ATTRIBS),_e=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),Ce=i.getParameter(i.MAX_VARYING_VECTORS),Ae=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),Ne=H>0,Ie=C||!!l.get("OES_texture_float"),Le=Ne&&Ie;return{isWebGL2:C,getMaxAnisotropy:_,getMaxPrecision:S,precision:k,logarithmicDepthBuffer:z,maxTextures:V,maxVertexTextures:H,maxTextureSize:q,maxCubemapSize:te,maxAttributes:oe,maxVertexUniforms:_e,maxVaryings:Ce,maxFragmentUniforms:Ae,vertexTextures:Ne,floatFragmentTextures:Ie,floatVertexTextures:Le}}function bV(){var i=this,l=null,c=0,p=!1,_=!1,S=new gs,C=new Ea,k={value:null,needsUpdate:!1};this.uniform=k,this.numPlanes=0,this.numIntersection=0,this.init=function(V,H,q){var te=V.length!==0||H||c!==0||p;return p=H,l=z(V,q,0),c=V.length,te},this.beginShadows=function(){_=!0,z(null)},this.endShadows=function(){_=!1,O()},this.setState=function(V,H,q,te,oe,_e){if(!p||V===null||V.length===0||_&&!q)_?z(null):O();else{var Ce=_?0:c,Ae=Ce*4,Ne=oe.clippingState||null;k.value=Ne,Ne=z(V,te,Ae,_e);for(var Ie=0;Ie!==Ae;++Ie)Ne[Ie]=l[Ie];oe.clippingState=Ne,this.numIntersection=H?this.numPlanes:0,this.numPlanes+=Ce}};function O(){k.value!==l&&(k.value=l,k.needsUpdate=c>0),i.numPlanes=c,i.numIntersection=0}function z(V,H,q,te){var oe=V!==null?V.length:0,_e=null;if(oe!==0){if(_e=k.value,te!==!0||_e===null){var Ce=q+oe*4,Ae=H.matrixWorldInverse;C.getNormalMatrix(Ae),(_e===null||_e.length<Ce)&&(_e=new Float32Array(Ce));for(var Ne=0,Ie=q;Ne!==oe;++Ne,Ie+=4)S.copy(V[Ne]).applyMatrix4(Ae,C),S.normal.toArray(_e,Ie),_e[Ie+3]=S.constant}k.value=_e,k.needsUpdate=!0}return i.numPlanes=oe,_e}}function _V(i){var l={};return{get:function(c){if(l[c]!==void 0)return l[c];var p;switch(c){case"WEBGL_depth_texture":p=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":p=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":p=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":p=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:p=i.getExtension(c)}return p===null&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported."),l[c]=p,p}}}function wV(i,l,c){var p={},_={};function S(z){var V=z.target,H=p[V.id];H.index!==null&&l.remove(H.index);for(var q in H.attributes)l.remove(H.attributes[q]);V.removeEventListener("dispose",S),delete p[V.id];var te=_[H.id];te&&(l.remove(te),delete _[H.id]),c.memory.geometries--}function C(z,V){var H=p[V.id];return H||(V.addEventListener("dispose",S),V.isBufferGeometry?H=V:V.isGeometry&&(V._bufferGeometry===void 0&&(V._bufferGeometry=new er().setFromObject(z)),H=V._bufferGeometry),p[V.id]=H,c.memory.geometries++,H)}function k(z){var V=z.index,H=z.attributes;V!==null&&l.update(V,i.ELEMENT_ARRAY_BUFFER);for(var q in H)l.update(H[q],i.ARRAY_BUFFER);var te=z.morphAttributes;for(var q in te)for(var oe=te[q],_e=0,Ce=oe.length;_e<Ce;_e++)l.update(oe[_e],i.ARRAY_BUFFER)}function O(z){var V=_[z.id];if(V)return V;var H=[],q=z.index,te=z.attributes;if(q!==null)for(var oe=q.array,_e=0,Ce=oe.length;_e<Ce;_e+=3){var Ae=oe[_e+0],Ne=oe[_e+1],Ie=oe[_e+2];H.push(Ae,Ne,Ne,Ie,Ie,Ae)}else for(var oe=te.position.array,_e=0,Ce=oe.length/3-1;_e<Ce;_e+=3){var Ae=_e+0,Ne=_e+1,Ie=_e+2;H.push(Ae,Ne,Ne,Ie,Ie,Ae)}return V=new(Z2(H)>65535?Bd:Fd)(H,1),l.update(V,i.ELEMENT_ARRAY_BUFFER),_[z.id]=V,V}return{get:C,update:k,getWireframeAttribute:O}}function xV(i,l,c,p){var _;function S(H){_=H}var C,k;function O(H){C=H.type,k=H.bytesPerElement}function z(H,q){i.drawElements(_,q,C,H*k),c.update(q,_)}function V(H,q,te){var oe;if(p.isWebGL2)oe=i;else{var oe=l.get("ANGLE_instanced_arrays");if(oe===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}oe[p.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](_,te,C,q*k,H.maxInstancedCount),c.update(te,_,H.maxInstancedCount)}this.setMode=S,this.setIndex=O,this.render=z,this.renderInstances=V}function SV(i){var l={geometries:0,textures:0},c={frame:0,calls:0,triangles:0,points:0,lines:0};function p(S,C,k){switch(k=k||1,c.calls++,C){case i.TRIANGLES:c.triangles+=k*(S/3);break;case i.TRIANGLE_STRIP:case i.TRIANGLE_FAN:c.triangles+=k*(S-2);break;case i.LINES:c.lines+=k*(S/2);break;case i.LINE_STRIP:c.lines+=k*(S-1);break;case i.LINE_LOOP:c.lines+=k*S;break;case i.POINTS:c.points+=k*S;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",C);break}}function _(){c.frame++,c.calls=0,c.triangles=0,c.points=0,c.lines=0}return{memory:l,render:c,programs:null,autoReset:!0,reset:_,update:p}}function MV(i,l){return Math.abs(l[1])-Math.abs(i[1])}function EV(i){var l={},c=new Float32Array(8);function p(_,S,C,k){var O=_.morphTargetInfluences,z=O.length,V=l[S.id];if(V===void 0){V=[];for(var H=0;H<z;H++)V[H]=[H,0];l[S.id]=V}for(var q=C.morphTargets&&S.morphAttributes.position,te=C.morphNormals&&S.morphAttributes.normal,H=0;H<z;H++){var oe=V[H];oe[1]!==0&&(q&&S.removeAttribute("morphTarget"+H),te&&S.removeAttribute("morphNormal"+H))}for(var H=0;H<z;H++){var oe=V[H];oe[0]=H,oe[1]=O[H]}V.sort(MV);for(var H=0;H<8;H++){var oe=V[H];if(oe){var _e=oe[0],Ce=oe[1];if(Ce){q&&S.addAttribute("morphTarget"+H,q[_e]),te&&S.addAttribute("morphNormal"+H,te[_e]),c[H]=Ce;continue}}c[H]=0}k.getUniforms().setValue(i,"morphTargetInfluences",c)}return{update:p}}function CV(i,l){var c={};function p(S){var C=l.render.frame,k=S.geometry,O=i.get(S,k);return c[O.id]!==C&&(k.isGeometry&&O.updateFromObject(S),i.update(O),c[O.id]=C),O}function _(){c={}}return{update:p,dispose:_}}function Gu(i,l,c,p,_,S,C,k,O,z){i=i!==void 0?i:[],l=l!==void 0?l:Fe,zi.call(this,i,l,c,p,_,S,C,k,O,z),this.flipY=!1}Gu.prototype=Object.create(zi.prototype),Gu.prototype.constructor=Gu,Gu.prototype.isCubeTexture=!0,Object.defineProperty(Gu.prototype,"images",{get:function(){return this.image},set:function(i){this.image=i}});var J2=new zi,Q2=new Gu;function eT(){this.seq=[],this.map={}}var tT=[],nT=[],rT=new Float32Array(16),iT=new Float32Array(9),aT=new Float32Array(4);function yh(i,l,c){var p=i[0];if(p<=0||p>0)return i;var _=l*c,S=tT[_];if(S===void 0&&(S=new Float32Array(_),tT[_]=S),l!==0){p.toArray(S,0);for(var C=1,k=0;C!==l;++C)k+=c,i[C].toArray(S,k)}return S}function ia(i,l){if(i.length!==l.length)return!1;for(var c=0,p=i.length;c<p;c++)if(i[c]!==l[c])return!1;return!0}function Xa(i,l){for(var c=0,p=l.length;c<p;c++)i[c]=l[c]}function oT(i,l){var c=nT[l];c===void 0&&(c=new Int32Array(l),nT[l]=c);for(var p=0;p!==l;++p)c[p]=i.allocTextureUnit();return c}function TV(i,l){var c=this.cache;c[0]!==l&&(i.uniform1f(this.addr,l),c[0]=l)}function AV(i,l){var c=this.cache;c[0]!==l&&(i.uniform1i(this.addr,l),c[0]=l)}function LV(i,l){var c=this.cache;if(l.x!==void 0)(c[0]!==l.x||c[1]!==l.y)&&(i.uniform2f(this.addr,l.x,l.y),c[0]=l.x,c[1]=l.y);else{if(ia(c,l))return;i.uniform2fv(this.addr,l),Xa(c,l)}}function RV(i,l){var c=this.cache;if(l.x!==void 0)(c[0]!==l.x||c[1]!==l.y||c[2]!==l.z)&&(i.uniform3f(this.addr,l.x,l.y,l.z),c[0]=l.x,c[1]=l.y,c[2]=l.z);else if(l.r!==void 0)(c[0]!==l.r||c[1]!==l.g||c[2]!==l.b)&&(i.uniform3f(this.addr,l.r,l.g,l.b),c[0]=l.r,c[1]=l.g,c[2]=l.b);else{if(ia(c,l))return;i.uniform3fv(this.addr,l),Xa(c,l)}}function PV(i,l){var c=this.cache;if(l.x!==void 0)(c[0]!==l.x||c[1]!==l.y||c[2]!==l.z||c[3]!==l.w)&&(i.uniform4f(this.addr,l.x,l.y,l.z,l.w),c[0]=l.x,c[1]=l.y,c[2]=l.z,c[3]=l.w);else{if(ia(c,l))return;i.uniform4fv(this.addr,l),Xa(c,l)}}function kV(i,l){var c=this.cache,p=l.elements;if(p===void 0){if(ia(c,l))return;i.uniformMatrix2fv(this.addr,!1,l),Xa(c,l)}else{if(ia(c,p))return;aT.set(p),i.uniformMatrix2fv(this.addr,!1,aT),Xa(c,p)}}function IV(i,l){var c=this.cache,p=l.elements;if(p===void 0){if(ia(c,l))return;i.uniformMatrix3fv(this.addr,!1,l),Xa(c,l)}else{if(ia(c,p))return;iT.set(p),i.uniformMatrix3fv(this.addr,!1,iT),Xa(c,p)}}function OV(i,l){var c=this.cache,p=l.elements;if(p===void 0){if(ia(c,l))return;i.uniformMatrix4fv(this.addr,!1,l),Xa(c,l)}else{if(ia(c,p))return;rT.set(p),i.uniformMatrix4fv(this.addr,!1,rT),Xa(c,p)}}function DV(i,l,c){var p=this.cache,_=c.allocTextureUnit();p[0]!==_&&(i.uniform1i(this.addr,_),p[0]=_),c.setTexture2D(l||J2,_)}function NV(i,l,c){var p=this.cache,_=c.allocTextureUnit();p[0]!==_&&(i.uniform1i(this.addr,_),p[0]=_),c.setTextureCube(l||Q2,_)}function sT(i,l){var c=this.cache;ia(c,l)||(i.uniform2iv(this.addr,l),Xa(c,l))}function lT(i,l){var c=this.cache;ia(c,l)||(i.uniform3iv(this.addr,l),Xa(c,l))}function uT(i,l){var c=this.cache;ia(c,l)||(i.uniform4iv(this.addr,l),Xa(c,l))}function FV(i){switch(i){case 5126:return TV;case 35664:return LV;case 35665:return RV;case 35666:return PV;case 35674:return kV;case 35675:return IV;case 35676:return OV;case 35678:case 36198:return DV;case 35680:return NV;case 5124:case 35670:return AV;case 35667:case 35671:return sT;case 35668:case 35672:return lT;case 35669:case 35673:return uT}}function BV(i,l){var c=this.cache;ia(c,l)||(i.uniform1fv(this.addr,l),Xa(c,l))}function zV(i,l){var c=this.cache;ia(c,l)||(i.uniform1iv(this.addr,l),Xa(c,l))}function VV(i,l){var c=this.cache,p=yh(l,this.size,2);ia(c,p)||(i.uniform2fv(this.addr,p),this.updateCache(p))}function UV(i,l){var c=this.cache,p=yh(l,this.size,3);ia(c,p)||(i.uniform3fv(this.addr,p),this.updateCache(p))}function HV(i,l){var c=this.cache,p=yh(l,this.size,4);ia(c,p)||(i.uniform4fv(this.addr,p),this.updateCache(p))}function $V(i,l){var c=this.cache,p=yh(l,this.size,4);ia(c,p)||(i.uniformMatrix2fv(this.addr,!1,p),this.updateCache(p))}function GV(i,l){var c=this.cache,p=yh(l,this.size,9);ia(c,p)||(i.uniformMatrix3fv(this.addr,!1,p),this.updateCache(p))}function WV(i,l){var c=this.cache,p=yh(l,this.size,16);ia(c,p)||(i.uniformMatrix4fv(this.addr,!1,p),this.updateCache(p))}function jV(i,l,c){var p=this.cache,_=l.length,S=oT(c,_);ia(p,S)===!1&&(i.uniform1iv(this.addr,S),Xa(p,S));for(var C=0;C!==_;++C)c.setTexture2D(l[C]||J2,S[C])}function qV(i,l,c){var p=this.cache,_=l.length,S=oT(c,_);ia(p,S)===!1&&(i.uniform1iv(this.addr,S),Xa(p,S));for(var C=0;C!==_;++C)c.setTextureCube(l[C]||Q2,S[C])}function KV(i){switch(i){case 5126:return BV;case 35664:return VV;case 35665:return UV;case 35666:return HV;case 35674:return $V;case 35675:return GV;case 35676:return WV;case 35678:return jV;case 35680:return qV;case 5124:case 35670:return zV;case 35667:case 35671:return sT;case 35668:case 35672:return lT;case 35669:case 35673:return uT}}function YV(i,l,c){this.id=i,this.addr=c,this.cache=[],this.setValue=FV(l.type)}function cT(i,l,c){this.id=i,this.addr=c,this.cache=[],this.size=l.size,this.setValue=KV(l.type)}cT.prototype.updateCache=function(i){var l=this.cache;i instanceof Float32Array&&l.length!==i.length&&(this.cache=new Float32Array(i.length)),Xa(l,i)};function dT(i){this.id=i,eT.call(this)}dT.prototype.setValue=function(i,l,c){for(var p=this.seq,_=0,S=p.length;_!==S;++_){var C=p[_];C.setValue(i,l[C.id],c)}};var v1=/([\w\d_]+)(\])?(\[|\.)?/g;function fT(i,l){i.seq.push(l),i.map[l.id]=l}function XV(i,l,c){var p=i.name,_=p.length;for(v1.lastIndex=0;;){var S=v1.exec(p),C=v1.lastIndex,k=S[1],O=S[2]==="]",z=S[3];if(O&&(k=k|0),z===void 0||z==="["&&C+2===_){fT(c,z===void 0?new YV(k,i,l):new cT(k,i,l));break}else{var V=c.map,H=V[k];H===void 0&&(H=new dT(k),fT(c,H)),c=H}}}function Fc(i,l,c){eT.call(this),this.renderer=c;for(var p=i.getProgramParameter(l,i.ACTIVE_UNIFORMS),_=0;_<p;++_){var S=i.getActiveUniform(l,_),C=i.getUniformLocation(l,S.name);XV(S,C,this)}}Fc.prototype.setValue=function(i,l,c){var p=this.map[l];p!==void 0&&p.setValue(i,c,this.renderer)},Fc.prototype.setOptional=function(i,l,c){var p=l[c];p!==void 0&&this.setValue(i,c,p)},Fc.upload=function(i,l,c,p){for(var _=0,S=l.length;_!==S;++_){var C=l[_],k=c[C.id];k.needsUpdate!==!1&&C.setValue(i,k.value,p)}},Fc.seqWithValue=function(i,l){for(var c=[],p=0,_=i.length;p!==_;++p){var S=i[p];S.id in l&&c.push(S)}return c};function ZV(i){for(var l=i.split("\n"),c=0;c<l.length;c++)l[c]=c+1+": "+l[c];return l.join("\n")}function hT(i,l,c){var p=i.createShader(l);return i.shaderSource(p,c),i.compileShader(p),i.getShaderParameter(p,i.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),i.getShaderInfoLog(p)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",l===i.VERTEX_SHADER?"vertex":"fragment",i.getShaderInfoLog(p),ZV(c)),p}var JV=0;function pT(i){switch(i){case Lc:return["Linear","( value )"];case Rc:return["sRGB","( value )"];case X0:return["RGBE","( value )"];case tu:return["RGBM","( value, 7.0 )"];case dh:return["RGBM","( value, 16.0 )"];case Z0:return["RGBD","( value, 256.0 )"];case Um:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+i)}}function g1(i,l){var c=pT(l);return"vec4 "+i+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function QV(i,l){var c=pT(l);return"vec4 "+i+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}function eU(i,l){var c;switch(l){case rt:c="Linear";break;case At:c="Reinhard";break;case Mt:c="Uncharted2";break;case Me:c="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+l)}return"vec3 "+i+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}function tU(i,l,c){i=i||{};var p=[i.derivatives||l.envMapCubeUV||l.bumpMap||l.normalMap&&!l.objectSpaceNormalMap||l.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(i.fragDepth||l.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",i.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(i.shaderTextureLOD||l.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return p.filter(ov).join("\n")}function nU(i){var l=[];for(var c in i){var p=i[c];p!==!1&&l.push("#define "+c+" "+p)}return l.join("\n")}function rU(i,l){for(var c={},p=i.getProgramParameter(l,i.ACTIVE_ATTRIBUTES),_=0;_<p;_++){var S=i.getActiveAttrib(l,_),C=S.name;c[C]=i.getAttribLocation(l,C)}return c}function ov(i){return i!==""}function mT(i,l){return i.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights)}function vT(i,l){return i.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}function y1(i){var l=/^[ \t]*#include +<([\w\d./]+)>/gm;function c(p,_){var S=bi[_];if(S===void 0)throw new Error("Can not resolve #include <"+_+">");return y1(S)}return i.replace(l,c)}function gT(i){var l=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function c(p,_,S,C){for(var k="",O=parseInt(_);O<parseInt(S);O++)k+=C.replace(/\[ i \]/g,"[ "+O+" ]");return k}return i.replace(l,c)}function iU(i,l,c,p,_,S,C){var k=i.context,O=p.defines,z=_.vertexShader,V=_.fragmentShader,H="SHADOWMAP_TYPE_BASIC";S.shadowMapType===v?H="SHADOWMAP_TYPE_PCF":S.shadowMapType===y&&(H="SHADOWMAP_TYPE_PCF_SOFT");var q="ENVMAP_TYPE_CUBE",te="ENVMAP_MODE_REFLECTION",oe="ENVMAP_BLENDING_MULTIPLY";if(S.envMap){switch(p.envMap.mapping){case Fe:case qe:q="ENVMAP_TYPE_CUBE";break;case We:case lt:q="ENVMAP_TYPE_CUBE_UV";break;case Et:case $t:q="ENVMAP_TYPE_EQUIREC";break;case Yt:q="ENVMAP_TYPE_SPHERE";break}switch(p.envMap.mapping){case qe:case $t:te="ENVMAP_MODE_REFRACTION";break}switch(p.combine){case dt:oe="ENVMAP_BLENDING_MULTIPLY";break;case pt:oe="ENVMAP_BLENDING_MIX";break;case nt:oe="ENVMAP_BLENDING_ADD";break}}var _e=i.gammaFactor>0?i.gammaFactor:1,Ce=C.isWebGL2?"":tU(p.extensions,S,l),Ae=nU(O),Ne=k.createProgram(),Ie,Le;if(p.isRawShaderMaterial?(Ie=[Ae].filter(ov).join("\n"),Ie.length>0&&(Ie+="\n"),Le=[Ce,Ae].filter(ov).join("\n"),Le.length>0&&(Le+="\n")):(Ie=["precision "+S.precision+" float;","precision "+S.precision+" int;","#define SHADER_NAME "+_.name,Ae,S.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_e,"#define MAX_BONES "+S.maxBones,S.useFog&&S.fog?"#define USE_FOG":"",S.useFog&&S.fogExp?"#define FOG_EXP2":"",S.map?"#define USE_MAP":"",S.envMap?"#define USE_ENVMAP":"",S.envMap?"#define "+te:"",S.lightMap?"#define USE_LIGHTMAP":"",S.aoMap?"#define USE_AOMAP":"",S.emissiveMap?"#define USE_EMISSIVEMAP":"",S.bumpMap?"#define USE_BUMPMAP":"",S.normalMap?"#define USE_NORMALMAP":"",S.normalMap&&S.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",S.displacementMap&&S.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",S.specularMap?"#define USE_SPECULARMAP":"",S.roughnessMap?"#define USE_ROUGHNESSMAP":"",S.metalnessMap?"#define USE_METALNESSMAP":"",S.alphaMap?"#define USE_ALPHAMAP":"",S.vertexColors?"#define USE_COLOR":"",S.flatShading?"#define FLAT_SHADED":"",S.skinning?"#define USE_SKINNING":"",S.useVertexTexture?"#define BONE_TEXTURE":"",S.morphTargets?"#define USE_MORPHTARGETS":"",S.morphNormals&&S.flatShading===!1?"#define USE_MORPHNORMALS":"",S.doubleSided?"#define DOUBLE_SIDED":"",S.flipSided?"#define FLIP_SIDED":"",S.shadowMapEnabled?"#define USE_SHADOWMAP":"",S.shadowMapEnabled?"#define "+H:"",S.sizeAttenuation?"#define USE_SIZEATTENUATION":"",S.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",S.logarithmicDepthBuffer&&(C.isWebGL2||l.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(ov).join("\n"),Le=[Ce,"precision "+S.precision+" float;","precision "+S.precision+" int;","#define SHADER_NAME "+_.name,Ae,S.alphaTest?"#define ALPHATEST "+S.alphaTest+(S.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_e,S.useFog&&S.fog?"#define USE_FOG":"",S.useFog&&S.fogExp?"#define FOG_EXP2":"",S.map?"#define USE_MAP":"",S.envMap?"#define USE_ENVMAP":"",S.envMap?"#define "+q:"",S.envMap?"#define "+te:"",S.envMap?"#define "+oe:"",S.lightMap?"#define USE_LIGHTMAP":"",S.aoMap?"#define USE_AOMAP":"",S.emissiveMap?"#define USE_EMISSIVEMAP":"",S.bumpMap?"#define USE_BUMPMAP":"",S.normalMap?"#define USE_NORMALMAP":"",S.normalMap&&S.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",S.specularMap?"#define USE_SPECULARMAP":"",S.roughnessMap?"#define USE_ROUGHNESSMAP":"",S.metalnessMap?"#define USE_METALNESSMAP":"",S.alphaMap?"#define USE_ALPHAMAP":"",S.vertexColors?"#define USE_COLOR":"",S.gradientMap?"#define USE_GRADIENTMAP":"",S.flatShading?"#define FLAT_SHADED":"",S.doubleSided?"#define DOUBLE_SIDED":"",S.flipSided?"#define FLIP_SIDED":"",S.shadowMapEnabled?"#define USE_SHADOWMAP":"",S.shadowMapEnabled?"#define "+H:"",S.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",S.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",S.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",S.logarithmicDepthBuffer&&(C.isWebGL2||l.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",S.envMap&&(C.isWebGL2||l.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",S.toneMapping!==ot?"#define TONE_MAPPING":"",S.toneMapping!==ot?bi.tonemapping_pars_fragment:"",S.toneMapping!==ot?eU("toneMapping",S.toneMapping):"",S.dithering?"#define DITHERING":"",S.outputEncoding||S.mapEncoding||S.envMapEncoding||S.emissiveMapEncoding?bi.encodings_pars_fragment:"",S.mapEncoding?g1("mapTexelToLinear",S.mapEncoding):"",S.envMapEncoding?g1("envMapTexelToLinear",S.envMapEncoding):"",S.emissiveMapEncoding?g1("emissiveMapTexelToLinear",S.emissiveMapEncoding):"",S.outputEncoding?QV("linearToOutputTexel",S.outputEncoding):"",S.depthPacking?"#define DEPTH_PACKING "+p.depthPacking:"","\n"].filter(ov).join("\n")),z=y1(z),z=mT(z,S),z=vT(z,S),V=y1(V),V=mT(V,S),V=vT(V,S),z=gT(z),V=gT(V),C.isWebGL2&&!p.isRawShaderMaterial){var st=!1,ft=/^\s*#version\s+300\s+es\s*\n/;p.isShaderMaterial&&z.match(ft)!==null&&V.match(ft)!==null&&(st=!0,z=z.replace(ft,""),V=V.replace(ft,"")),Ie=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+Ie,Le=["#version 300 es\n","#define varying in",st?"":"out highp vec4 pc_fragColor;",st?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+Le}var ut=Ie+z,Ct=Le+V,ht=hT(k,k.VERTEX_SHADER,ut),It=hT(k,k.FRAGMENT_SHADER,Ct);k.attachShader(Ne,ht),k.attachShader(Ne,It),p.index0AttributeName!==void 0?k.bindAttribLocation(Ne,0,p.index0AttributeName):S.morphTargets===!0&&k.bindAttribLocation(Ne,0,"position"),k.linkProgram(Ne);var Nt=k.getProgramInfoLog(Ne).trim(),ln=k.getShaderInfoLog(ht).trim(),Cn=k.getShaderInfoLog(It).trim(),pn=!0,yn=!0;k.getProgramParameter(Ne,k.LINK_STATUS)===!1?(pn=!1,console.error("THREE.WebGLProgram: shader error: ",k.getError(),"gl.VALIDATE_STATUS",k.getProgramParameter(Ne,k.VALIDATE_STATUS),"gl.getProgramInfoLog",Nt,ln,Cn)):Nt!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",Nt):(ln===""||Cn==="")&&(yn=!1),yn&&(this.diagnostics={runnable:pn,material:p,programLog:Nt,vertexShader:{log:ln,prefix:Ie},fragmentShader:{log:Cn,prefix:Le}}),k.deleteShader(ht),k.deleteShader(It);var In;this.getUniforms=function(){return In===void 0&&(In=new Fc(k,Ne,i)),In};var it;return this.getAttributes=function(){return it===void 0&&(it=rU(k,Ne)),it},this.destroy=function(){k.deleteProgram(Ne),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=_.name,this.id=JV++,this.code=c,this.usedTimes=1,this.program=Ne,this.vertexShader=ht,this.fragmentShader=It,this}function aU(i,l,c){var p=[],_={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},S=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function C(O){var z=O.skeleton,V=z.bones;if(c.floatVertexTextures)return 1024;var H=c.maxVertexUniforms,q=Math.floor((H-20)/4),te=Math.min(q,V.length);return te<V.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+V.length+" bones. This GPU supports "+te+"."),0):te}function k(O,z){var V;return O?O.isTexture?V=O.encoding:O.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),V=O.texture.encoding):V=Lc,V===Lc&&z&&(V=Um),V}this.getParameters=function(O,z,V,H,q,te,oe){var _e=_[O.type],Ce=oe.isSkinnedMesh?C(oe):0,Ae=c.precision;O.precision!==null&&(Ae=c.getMaxPrecision(O.precision),Ae!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",Ae,"instead."));var Ne=i.getRenderTarget(),Ie={shaderID:_e,precision:Ae,supportsVertexTextures:c.vertexTextures,outputEncoding:k(Ne?Ne.texture:null,i.gammaOutput),map:!!O.map,mapEncoding:k(O.map,i.gammaInput),envMap:!!O.envMap,envMapMode:O.envMap&&O.envMap.mapping,envMapEncoding:k(O.envMap,i.gammaInput),envMapCubeUV:!!O.envMap&&(O.envMap.mapping===We||O.envMap.mapping===lt),lightMap:!!O.lightMap,aoMap:!!O.aoMap,emissiveMap:!!O.emissiveMap,emissiveMapEncoding:k(O.emissiveMap,i.gammaInput),bumpMap:!!O.bumpMap,normalMap:!!O.normalMap,objectSpaceNormalMap:O.normalMapType===$m,displacementMap:!!O.displacementMap,roughnessMap:!!O.roughnessMap,metalnessMap:!!O.metalnessMap,specularMap:!!O.specularMap,alphaMap:!!O.alphaMap,gradientMap:!!O.gradientMap,combine:O.combine,vertexColors:O.vertexColors,fog:!!H,useFog:O.fog,fogExp:H&&H.isFogExp2,flatShading:O.flatShading,sizeAttenuation:O.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,skinning:O.skinning&&Ce>0,maxBones:Ce,useVertexTexture:c.floatVertexTextures,morphTargets:O.morphTargets,morphNormals:O.morphNormals,maxMorphTargets:i.maxMorphTargets,maxMorphNormals:i.maxMorphNormals,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numClippingPlanes:q,numClipIntersection:te,dithering:O.dithering,shadowMapEnabled:i.shadowMap.enabled&&oe.receiveShadow&&V.length>0,shadowMapType:i.shadowMap.type,toneMapping:i.toneMapping,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:O.premultipliedAlpha,alphaTest:O.alphaTest,doubleSided:O.side===g,flipSided:O.side===w,depthPacking:O.depthPacking!==void 0?O.depthPacking:!1};return Ie},this.getProgramCode=function(O,z){var V=[];if(z.shaderID?V.push(z.shaderID):(V.push(O.fragmentShader),V.push(O.vertexShader)),O.defines!==void 0)for(var H in O.defines)V.push(H),V.push(O.defines[H]);for(var q=0;q<S.length;q++)V.push(z[S[q]]);return V.push(O.onBeforeCompile.toString()),V.push(i.gammaOutput),V.join()},this.acquireProgram=function(O,z,V,H){for(var q,te=0,oe=p.length;te<oe;te++){var _e=p[te];if(_e.code===H){q=_e,++q.usedTimes;break}}return q===void 0&&(q=new iU(i,l,H,O,z,V,c),p.push(q)),q},this.releaseProgram=function(O){if(--O.usedTimes===0){var z=p.indexOf(O);p[z]=p[p.length-1],p.pop(),O.destroy()}},this.programs=p}function oU(){var i=new WeakMap;function l(S){var C=i.get(S);return C===void 0&&(C={},i.set(S,C)),C}function c(S){i.delete(S)}function p(S,C,k){i.get(S)[C]=k}function _(){i=new WeakMap}return{get:l,remove:c,update:p,dispose:_}}function sU(i,l){return i.renderOrder!==l.renderOrder?i.renderOrder-l.renderOrder:i.program&&l.program&&i.program!==l.program?i.program.id-l.program.id:i.material.id!==l.material.id?i.material.id-l.material.id:i.z!==l.z?i.z-l.z:i.id-l.id}function lU(i,l){return i.renderOrder!==l.renderOrder?i.renderOrder-l.renderOrder:i.z!==l.z?l.z-i.z:i.id-l.id}function uU(){var i=[],l=0,c=[],p=[];function _(){l=0,c.length=0,p.length=0}function S(k,O,z,V,H){var q=i[l];q===void 0?(q={id:k.id,object:k,geometry:O,material:z,program:z.program,renderOrder:k.renderOrder,z:V,group:H},i[l]=q):(q.id=k.id,q.object=k,q.geometry=O,q.material=z,q.program=z.program,q.renderOrder=k.renderOrder,q.z=V,q.group=H),(z.transparent===!0?p:c).push(q),l++}function C(){c.length>1&&c.sort(sU),p.length>1&&p.sort(lU)}return{opaque:c,transparent:p,init:_,push:S,sort:C}}function cU(){var i={};function l(p,_){var S=p.id+","+_.id,C=i[S];return C===void 0&&(C=new uU,i[S]=C),C}function c(){i={}}return{get:l,dispose:c}}function dU(){var i={};return{get:function(l){if(i[l.id]!==void 0)return i[l.id];var c;switch(l.type){case"DirectionalLight":c={direction:new Ve,color:new cr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new gn};break;case"SpotLight":c={position:new Ve,direction:new Ve,color:new cr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new gn};break;case"PointLight":c={position:new Ve,color:new cr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new gn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":c={direction:new Ve,skyColor:new cr,groundColor:new cr};break;case"RectAreaLight":c={color:new cr,position:new Ve,halfWidth:new Ve,halfHeight:new Ve};break}return i[l.id]=c,c}}}var fU=0;function hU(){var i=new dU,l={id:fU++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},c=new Ve,p=new gr,_=new gr;function S(C,k,O){for(var z=0,V=0,H=0,q=0,te=0,oe=0,_e=0,Ce=0,Ae=O.matrixWorldInverse,Ne=0,Ie=C.length;Ne<Ie;Ne++){var Le=C[Ne],st=Le.color,ft=Le.intensity,ut=Le.distance,Ct=Le.shadow&&Le.shadow.map?Le.shadow.map.texture:null;if(Le.isAmbientLight)z+=st.r*ft,V+=st.g*ft,H+=st.b*ft;else if(Le.isDirectionalLight){var ht=i.get(Le);if(ht.color.copy(Le.color).multiplyScalar(Le.intensity),ht.direction.setFromMatrixPosition(Le.matrixWorld),c.setFromMatrixPosition(Le.target.matrixWorld),ht.direction.sub(c),ht.direction.transformDirection(Ae),ht.shadow=Le.castShadow,Le.castShadow){var It=Le.shadow;ht.shadowBias=It.bias,ht.shadowRadius=It.radius,ht.shadowMapSize=It.mapSize}l.directionalShadowMap[q]=Ct,l.directionalShadowMatrix[q]=Le.shadow.matrix,l.directional[q]=ht,q++}else if(Le.isSpotLight){var ht=i.get(Le);if(ht.position.setFromMatrixPosition(Le.matrixWorld),ht.position.applyMatrix4(Ae),ht.color.copy(st).multiplyScalar(ft),ht.distance=ut,ht.direction.setFromMatrixPosition(Le.matrixWorld),c.setFromMatrixPosition(Le.target.matrixWorld),ht.direction.sub(c),ht.direction.transformDirection(Ae),ht.coneCos=Math.cos(Le.angle),ht.penumbraCos=Math.cos(Le.angle*(1-Le.penumbra)),ht.decay=Le.distance===0?0:Le.decay,ht.shadow=Le.castShadow,Le.castShadow){var It=Le.shadow;ht.shadowBias=It.bias,ht.shadowRadius=It.radius,ht.shadowMapSize=It.mapSize}l.spotShadowMap[oe]=Ct,l.spotShadowMatrix[oe]=Le.shadow.matrix,l.spot[oe]=ht,oe++}else if(Le.isRectAreaLight){var ht=i.get(Le);ht.color.copy(st).multiplyScalar(ft),ht.position.setFromMatrixPosition(Le.matrixWorld),ht.position.applyMatrix4(Ae),_.identity(),p.copy(Le.matrixWorld),p.premultiply(Ae),_.extractRotation(p),ht.halfWidth.set(Le.width*.5,0,0),ht.halfHeight.set(0,Le.height*.5,0),ht.halfWidth.applyMatrix4(_),ht.halfHeight.applyMatrix4(_),l.rectArea[_e]=ht,_e++}else if(Le.isPointLight){var ht=i.get(Le);if(ht.position.setFromMatrixPosition(Le.matrixWorld),ht.position.applyMatrix4(Ae),ht.color.copy(Le.color).multiplyScalar(Le.intensity),ht.distance=Le.distance,ht.decay=Le.distance===0?0:Le.decay,ht.shadow=Le.castShadow,Le.castShadow){var It=Le.shadow;ht.shadowBias=It.bias,ht.shadowRadius=It.radius,ht.shadowMapSize=It.mapSize,ht.shadowCameraNear=It.camera.near,ht.shadowCameraFar=It.camera.far}l.pointShadowMap[te]=Ct,l.pointShadowMatrix[te]=Le.shadow.matrix,l.point[te]=ht,te++}else if(Le.isHemisphereLight){var ht=i.get(Le);ht.direction.setFromMatrixPosition(Le.matrixWorld),ht.direction.transformDirection(Ae),ht.direction.normalize(),ht.skyColor.copy(Le.color).multiplyScalar(ft),ht.groundColor.copy(Le.groundColor).multiplyScalar(ft),l.hemi[Ce]=ht,Ce++}}l.ambient[0]=z,l.ambient[1]=V,l.ambient[2]=H,l.directional.length=q,l.spot.length=oe,l.rectArea.length=_e,l.point.length=te,l.hemi.length=Ce,l.hash.stateID=l.id,l.hash.directionalLength=q,l.hash.pointLength=te,l.hash.spotLength=oe,l.hash.rectAreaLength=_e,l.hash.hemiLength=Ce,l.hash.shadowsLength=k.length}return{setup:S,state:l}}function yT(){var i=new hU,l=[],c=[];function p(){l.length=0,c.length=0}function _(O){l.push(O)}function S(O){c.push(O)}function C(O){i.setup(l,c,O)}var k={lightsArray:l,shadowsArray:c,lights:i};return{init:p,state:k,setupLights:C,pushLight:_,pushShadow:S}}function pU(){var i={};function l(p,_){var S;return i[p.id]===void 0?(S=new yT,i[p.id]={},i[p.id][_.id]=S):i[p.id][_.id]===void 0?(S=new yT,i[p.id][_.id]=S):S=i[p.id][_.id],S}function c(){i={}}return{get:l,dispose:c}}function Bc(i){zr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Pc,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(i)}Bc.prototype=Object.create(zr.prototype),Bc.prototype.constructor=Bc,Bc.prototype.isMeshDepthMaterial=!0,Bc.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.depthPacking=i.depthPacking,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this};function zc(i){zr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ve,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(i)}zc.prototype=Object.create(zr.prototype),zc.prototype.constructor=zc,zc.prototype.isMeshDistanceMaterial=!0,zc.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.referencePosition.copy(i.referencePosition),this.nearDistance=i.nearDistance,this.farDistance=i.farDistance,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this};function bT(i,l,c){for(var p=new Oc,_=new gr,S=new gn,C=new gn(c,c),k=new Ve,O=new Ve,z=1,V=2,H=(z|V)+1,q=new Array(H),te=new Array(H),oe={},_e={0:w,1:b,2:g},Ce=[new Ve(1,0,0),new Ve(-1,0,0),new Ve(0,0,1),new Ve(0,0,-1),new Ve(0,1,0),new Ve(0,-1,0)],Ae=[new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,0,1),new Ve(0,0,-1)],Ne=[new yi,new yi,new yi,new yi,new yi,new yi],Ie=0;Ie!==H;++Ie){var Le=(Ie&z)!==0,st=(Ie&V)!==0,ft=new Bc({depthPacking:Hm,morphTargets:Le,skinning:st});q[Ie]=ft;var ut=new zc({morphTargets:Le,skinning:st});te[Ie]=ut}var Ct=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v,this.render=function(Nt,ln,Cn){if(Ct.enabled!==!1&&!(Ct.autoUpdate===!1&&Ct.needsUpdate===!1)&&Nt.length!==0){var pn=i.context,yn=i.state;yn.disable(pn.BLEND),yn.buffers.color.setClear(1,1,1,1),yn.buffers.depth.setTest(!0),yn.setScissorTest(!1);for(var In,it=0,Qe=Nt.length;it<Qe;it++){var Qt=Nt[it],Ht=Qt.shadow,Dn=Qt&&Qt.isPointLight;if(Ht===void 0){console.warn("THREE.WebGLShadowMap:",Qt,"has no shadow.");continue}var _t=Ht.camera;if(S.copy(Ht.mapSize),S.min(C),Dn){var Ln=S.x,dn=S.y;Ne[0].set(Ln*2,dn,Ln,dn),Ne[1].set(0,dn,Ln,dn),Ne[2].set(Ln*3,dn,Ln,dn),Ne[3].set(Ln,dn,Ln,dn),Ne[4].set(Ln*3,0,Ln,dn),Ne[5].set(Ln,0,Ln,dn),S.x*=4,S.y*=2}if(Ht.map===null){var qn={minFilter:xe,magFilter:xe,format:da};Ht.map=new zu(S.x,S.y,qn),Ht.map.texture.name=Qt.name+".shadowMap",_t.updateProjectionMatrix()}Ht.isSpotLightShadow&&Ht.update(Qt);var En=Ht.map,Mr=Ht.matrix;O.setFromMatrixPosition(Qt.matrixWorld),_t.position.copy(O),Dn?(In=6,Mr.makeTranslation(-O.x,-O.y,-O.z)):(In=1,k.setFromMatrixPosition(Qt.target.matrixWorld),_t.lookAt(k),_t.updateMatrixWorld(),Mr.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Mr.multiply(_t.projectionMatrix),Mr.multiply(_t.matrixWorldInverse)),i.setRenderTarget(En),i.clear();for(var jr=0;jr<In;jr++){if(Dn){k.copy(_t.position),k.add(Ce[jr]),_t.up.copy(Ae[jr]),_t.lookAt(k),_t.updateMatrixWorld();var Zr=Ne[jr];yn.viewport(Zr)}_.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),p.setFromMatrix(_),It(ln,Cn,_t,Dn)}}Ct.needsUpdate=!1}};function ht(Nt,ln,Cn,pn,yn,In){var it=Nt.geometry,Qe=null,Qt=q,Ht=Nt.customDepthMaterial;if(Cn&&(Qt=te,Ht=Nt.customDistanceMaterial),Ht)Qe=Ht;else{var Dn=!1;ln.morphTargets&&(it&&it.isBufferGeometry?Dn=it.morphAttributes&&it.morphAttributes.position&&it.morphAttributes.position.length>0:it&&it.isGeometry&&(Dn=it.morphTargets&&it.morphTargets.length>0)),Nt.isSkinnedMesh&&ln.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Nt);var _t=Nt.isSkinnedMesh&&ln.skinning,Ln=0;Dn&&(Ln|=z),_t&&(Ln|=V),Qe=Qt[Ln]}if(i.localClippingEnabled&&ln.clipShadows===!0&&ln.clippingPlanes.length!==0){var dn=Qe.uuid,qn=ln.uuid,En=oe[dn];En===void 0&&(En={},oe[dn]=En);var Mr=En[qn];Mr===void 0&&(Mr=Qe.clone(),En[qn]=Mr),Qe=Mr}return Qe.visible=ln.visible,Qe.wireframe=ln.wireframe,Qe.side=ln.shadowSide!=null?ln.shadowSide:_e[ln.side],Qe.clipShadows=ln.clipShadows,Qe.clippingPlanes=ln.clippingPlanes,Qe.clipIntersection=ln.clipIntersection,Qe.wireframeLinewidth=ln.wireframeLinewidth,Qe.linewidth=ln.linewidth,Cn&&Qe.isMeshDistanceMaterial&&(Qe.referencePosition.copy(pn),Qe.nearDistance=yn,Qe.farDistance=In),Qe}function It(Nt,ln,Cn,pn){if(Nt.visible!==!1){var yn=Nt.layers.test(ln.layers);if(yn&&(Nt.isMesh||Nt.isLine||Nt.isPoints)&&Nt.castShadow&&(!Nt.frustumCulled||p.intersectsObject(Nt))){Nt.modelViewMatrix.multiplyMatrices(Cn.matrixWorldInverse,Nt.matrixWorld);var In=l.update(Nt),it=Nt.material;if(Array.isArray(it))for(var Qe=In.groups,Qt=0,Ht=Qe.length;Qt<Ht;Qt++){var Dn=Qe[Qt],_t=it[Dn.materialIndex];if(_t&&_t.visible){var Ln=ht(Nt,_t,pn,O,Cn.near,Cn.far);i.renderBufferDirect(Cn,null,In,Ln,Nt,Dn)}}else if(it.visible){var Ln=ht(Nt,it,pn,O,Cn.near,Cn.far);i.renderBufferDirect(Cn,null,In,Ln,Nt,null)}}for(var dn=Nt.children,qn=0,En=dn.length;qn<En;qn++)It(dn[qn],ln,Cn,pn)}}}function mU(i,l,c,p){function _(){var Ot=!1,Xn=new yi,lr=null,Fr=new yi(0,0,0,0);return{setMask:function(ir){lr!==ir&&!Ot&&(i.colorMask(ir,ir,ir,ir),lr=ir)},setLocked:function(ir){Ot=ir},setClear:function(ir,gi,Si,Di,_a){_a===!0&&(ir*=Di,gi*=Di,Si*=Di),Xn.set(ir,gi,Si,Di),Fr.equals(Xn)===!1&&(i.clearColor(ir,gi,Si,Di),Fr.copy(Xn))},reset:function(){Ot=!1,lr=null,Fr.set(-1,0,0,0)}}}function S(){var Ot=!1,Xn=null,lr=null,Fr=null;return{setTest:function(ir){ir?Zr(i.DEPTH_TEST):An(i.DEPTH_TEST)},setMask:function(ir){Xn!==ir&&!Ot&&(i.depthMask(ir),Xn=ir)},setFunc:function(ir){if(lr!==ir){if(ir)switch(ir){case ge:i.depthFunc(i.NEVER);break;case ke:i.depthFunc(i.ALWAYS);break;case Pe:i.depthFunc(i.LESS);break;case Xe:i.depthFunc(i.LEQUAL);break;case ct:i.depthFunc(i.EQUAL);break;case se:i.depthFunc(i.GEQUAL);break;case ye:i.depthFunc(i.GREATER);break;case He:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}else i.depthFunc(i.LEQUAL);lr=ir}},setLocked:function(ir){Ot=ir},setClear:function(ir){Fr!==ir&&(i.clearDepth(ir),Fr=ir)},reset:function(){Ot=!1,Xn=null,lr=null,Fr=null}}}function C(){var Ot=!1,Xn=null,lr=null,Fr=null,ir=null,gi=null,Si=null,Di=null,_a=null;return{setTest:function(Li){Li?Zr(i.STENCIL_TEST):An(i.STENCIL_TEST)},setMask:function(Li){Xn!==Li&&!Ot&&(i.stencilMask(Li),Xn=Li)},setFunc:function(Li,Po,xs){(lr!==Li||Fr!==Po||ir!==xs)&&(i.stencilFunc(Li,Po,xs),lr=Li,Fr=Po,ir=xs)},setOp:function(Li,Po,xs){(gi!==Li||Si!==Po||Di!==xs)&&(i.stencilOp(Li,Po,xs),gi=Li,Si=Po,Di=xs)},setLocked:function(Li){Ot=Li},setClear:function(Li){_a!==Li&&(i.clearStencil(Li),_a=Li)},reset:function(){Ot=!1,Xn=null,lr=null,Fr=null,ir=null,gi=null,Si=null,Di=null,_a=null}}}var k=new _,O=new S,z=new C,V=i.getParameter(i.MAX_VERTEX_ATTRIBS),H=new Uint8Array(V),q=new Uint8Array(V),te=new Uint8Array(V),oe={},_e=null,Ce=null,Ae=null,Ne=null,Ie=null,Le=null,st=null,ft=null,ut=null,Ct=null,ht=!1,It=null,Nt=null,ln=null,Cn=null,pn=null,yn=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS),In=!1,it=0,Qe=i.getParameter(i.VERSION);Qe.indexOf("WebGL")!==-1?(it=parseFloat(/^WebGL\ ([0-9])/.exec(Qe)[1]),In=it>=1):Qe.indexOf("OpenGL ES")!==-1&&(it=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Qe)[1]),In=it>=2);var Qt=null,Ht={},Dn=new yi,_t=new yi;function Ln(Ot,Xn,lr){var Fr=new Uint8Array(4),ir=i.createTexture();i.bindTexture(Ot,ir),i.texParameteri(Ot,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Ot,i.TEXTURE_MAG_FILTER,i.NEAREST);for(var gi=0;gi<lr;gi++)i.texImage2D(Xn+gi,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Fr);return ir}var dn={};dn[i.TEXTURE_2D]=Ln(i.TEXTURE_2D,i.TEXTURE_2D,1),dn[i.TEXTURE_CUBE_MAP]=Ln(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),k.setClear(0,0,0,1),O.setClear(1),z.setClear(0),Zr(i.DEPTH_TEST),O.setFunc(Xe),sa(!1),Ba(o),Zr(i.CULL_FACE),xi(P);function qn(){for(var Ot=0,Xn=H.length;Ot<Xn;Ot++)H[Ot]=0}function En(Ot){Mr(Ot,0)}function Mr(Ot,Xn){if(H[Ot]=1,q[Ot]===0&&(i.enableVertexAttribArray(Ot),q[Ot]=1),te[Ot]!==Xn){var lr=p.isWebGL2?i:l.get("ANGLE_instanced_arrays");lr[p.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ot,Xn),te[Ot]=Xn}}function jr(){for(var Ot=0,Xn=q.length;Ot!==Xn;++Ot)q[Ot]!==H[Ot]&&(i.disableVertexAttribArray(Ot),q[Ot]=0)}function Zr(Ot){oe[Ot]!==!0&&(i.enable(Ot),oe[Ot]=!0)}function An(Ot){oe[Ot]!==!1&&(i.disable(Ot),oe[Ot]=!1)}function ai(){if(_e===null&&(_e=[],l.get("WEBGL_compressed_texture_pvrtc")||l.get("WEBGL_compressed_texture_s3tc")||l.get("WEBGL_compressed_texture_etc1")||l.get("WEBGL_compressed_texture_astc")))for(var Ot=i.getParameter(i.COMPRESSED_TEXTURE_FORMATS),Xn=0;Xn<Ot.length;Xn++)_e.push(Ot[Xn]);return _e}function oa(Ot){return Ce!==Ot?(i.useProgram(Ot),Ce=Ot,!0):!1}function xi(Ot,Xn,lr,Fr,ir,gi,Si,Di){if(Ot===P){Ae&&(An(i.BLEND),Ae=!1);return}if(Ae||(Zr(i.BLEND),Ae=!0),Ot!==B){if(Ot!==Ne||Di!==ht){if((Ie!==G||ft!==G)&&(i.blendEquation(i.FUNC_ADD),Ie=G,ft=G),Di)switch(Ot){case I:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case E:i.blendFunc(i.ONE,i.ONE);break;case D:i.blendFuncSeparate(i.ZERO,i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case N:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ot);break}else switch(Ot){case I:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case E:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case D:i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_COLOR);break;case N:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ot);break}Le=null,st=null,ut=null,Ct=null,Ne=Ot,ht=Di}return}ir=ir||Xn,gi=gi||lr,Si=Si||Fr,(Xn!==Ie||ir!==ft)&&(i.blendEquationSeparate(c.convert(Xn),c.convert(ir)),Ie=Xn,ft=ir),(lr!==Le||Fr!==st||gi!==ut||Si!==Ct)&&(i.blendFuncSeparate(c.convert(lr),c.convert(Fr),c.convert(gi),c.convert(Si)),Le=lr,st=Fr,ut=gi,Ct=Si),Ne=Ot,ht=null}function ns(Ot,Xn){Ot.side===g?An(i.CULL_FACE):Zr(i.CULL_FACE);var lr=Ot.side===w;Xn&&(lr=!lr),sa(lr),Ot.blending===I&&Ot.transparent===!1?xi(P):xi(Ot.blending,Ot.blendEquation,Ot.blendSrc,Ot.blendDst,Ot.blendEquationAlpha,Ot.blendSrcAlpha,Ot.blendDstAlpha,Ot.premultipliedAlpha),O.setFunc(Ot.depthFunc),O.setTest(Ot.depthTest),O.setMask(Ot.depthWrite),k.setMask(Ot.colorWrite),Ku(Ot.polygonOffset,Ot.polygonOffsetFactor,Ot.polygonOffsetUnits)}function sa(Ot){It!==Ot&&(Ot?i.frontFace(i.CW):i.frontFace(i.CCW),It=Ot)}function Ba(Ot){Ot!==a?(Zr(i.CULL_FACE),Ot!==Nt&&(Ot===o?i.cullFace(i.BACK):Ot===s?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):An(i.CULL_FACE),Nt=Ot}function Ja(Ot){Ot!==ln&&(In&&i.lineWidth(Ot),ln=Ot)}function Ku(Ot,Xn,lr){Ot?(Zr(i.POLYGON_OFFSET_FILL),(Cn!==Xn||pn!==lr)&&(i.polygonOffset(Xn,lr),Cn=Xn,pn=lr)):An(i.POLYGON_OFFSET_FILL)}function xl(Ot){Ot?Zr(i.SCISSOR_TEST):An(i.SCISSOR_TEST)}function ba(Ot){Ot===void 0&&(Ot=i.TEXTURE0+yn-1),Qt!==Ot&&(i.activeTexture(Ot),Qt=Ot)}function za(Ot,Xn){Qt===null&&ba();var lr=Ht[Qt];lr===void 0&&(lr={type:void 0,texture:void 0},Ht[Qt]=lr),(lr.type!==Ot||lr.texture!==Xn)&&(i.bindTexture(Ot,Xn||dn[Ot]),lr.type=Ot,lr.texture=Xn)}function vo(){try{i.compressedTexImage2D.apply(i,arguments)}catch(Ot){console.error("THREE.WebGLState:",Ot)}}function Xh(){try{i.texImage2D.apply(i,arguments)}catch(Ot){console.error("THREE.WebGLState:",Ot)}}function rs(Ot){Dn.equals(Ot)===!1&&(i.scissor(Ot.x,Ot.y,Ot.z,Ot.w),Dn.copy(Ot))}function is(Ot){_t.equals(Ot)===!1&&(i.viewport(Ot.x,Ot.y,Ot.z,Ot.w),_t.copy(Ot))}function li(){for(var Ot=0;Ot<q.length;Ot++)q[Ot]===1&&(i.disableVertexAttribArray(Ot),q[Ot]=0);oe={},_e=null,Qt=null,Ht={},Ce=null,Ne=null,It=null,Nt=null,k.reset(),O.reset(),z.reset()}return{buffers:{color:k,depth:O,stencil:z},initAttributes:qn,enableAttribute:En,enableAttributeAndDivisor:Mr,disableUnusedAttributes:jr,enable:Zr,disable:An,getCompressedTextureFormats:ai,useProgram:oa,setBlending:xi,setMaterial:ns,setFlipSided:sa,setCullFace:Ba,setLineWidth:Ja,setPolygonOffset:Ku,setScissorTest:xl,activeTexture:ba,bindTexture:za,compressedTexImage2D:vo,texImage2D:Xh,scissor:rs,viewport:is,reset:li}}function vU(i,l,c,p,_,S,C){var k={},O;function z(it,Qe){if(it.width>Qe||it.height>Qe){if("data"in it){console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+it.width+"x"+it.height+").");return}var Qt=Qe/Math.max(it.width,it.height),Ht=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");Ht.width=Math.floor(it.width*Qt),Ht.height=Math.floor(it.height*Qt);var Dn=Ht.getContext("2d");return Dn.drawImage(it,0,0,it.width,it.height,0,0,Ht.width,Ht.height),console.warn("THREE.WebGLRenderer: image is too big ("+it.width+"x"+it.height+"). Resized to "+Ht.width+"x"+Ht.height),Ht}return it}function V(it){return Rr.isPowerOfTwo(it.width)&&Rr.isPowerOfTwo(it.height)}function H(it){if(it instanceof HTMLImageElement||it instanceof HTMLCanvasElement||it instanceof ImageBitmap){O===void 0&&(O=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),O.width=Rr.floorPowerOfTwo(it.width),O.height=Rr.floorPowerOfTwo(it.height);var Qe=O.getContext("2d");return Qe.drawImage(it,0,0,O.width,O.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+it.width+"x"+it.height+"). Resized to "+O.width+"x"+O.height),O}return it}function q(it){return _.isWebGL2?!1:it.wrapS!==Tt||it.wrapT!==Tt||it.minFilter!==xe&&it.minFilter!==wt}function te(it,Qe){return it.generateMipmaps&&Qe&&it.minFilter!==xe&&it.minFilter!==wt}function oe(it,Qe,Qt,Ht){i.generateMipmap(it);var Dn=p.get(Qe);Dn.__maxMipLevel=Math.log(Math.max(Qt,Ht))*Math.LOG2E}function _e(it,Qe){if(!_.isWebGL2)return it;if(it===i.RGB){if(Qe===i.FLOAT)return i.RGB32F;if(Qe===i.HALF_FLOAT)return i.RGB16F;if(Qe===i.UNSIGNED_BYTE)return i.RGB8}if(it===i.RGBA){if(Qe===i.FLOAT)return i.RGBA32F;if(Qe===i.HALF_FLOAT)return i.RGBA16F;if(Qe===i.UNSIGNED_BYTE)return i.RGBA8}return it}function Ce(it){return it===xe||it===Ke||it===Ee?i.NEAREST:i.LINEAR}function Ae(it){var Qe=it.target;Qe.removeEventListener("dispose",Ae),Ie(Qe),Qe.isVideoTexture&&delete k[Qe.id],C.memory.textures--}function Ne(it){var Qe=it.target;Qe.removeEventListener("dispose",Ne),Le(Qe),C.memory.textures--}function Ie(it){var Qe=p.get(it);if(it.image&&Qe.__image__webglTextureCube)i.deleteTexture(Qe.__image__webglTextureCube);else{if(Qe.__webglInit===void 0)return;i.deleteTexture(Qe.__webglTexture)}p.remove(it)}function Le(it){var Qe=p.get(it),Qt=p.get(it.texture);if(it){if(Qt.__webglTexture!==void 0&&i.deleteTexture(Qt.__webglTexture),it.depthTexture&&it.depthTexture.dispose(),it.isWebGLRenderTargetCube)for(var Ht=0;Ht<6;Ht++)i.deleteFramebuffer(Qe.__webglFramebuffer[Ht]),Qe.__webglDepthbuffer&&i.deleteRenderbuffer(Qe.__webglDepthbuffer[Ht]);else i.deleteFramebuffer(Qe.__webglFramebuffer),Qe.__webglDepthbuffer&&i.deleteRenderbuffer(Qe.__webglDepthbuffer);p.remove(it.texture),p.remove(it)}}function st(it,Qe){var Qt=p.get(it);if(it.isVideoTexture&&In(it),it.version>0&&Qt.__version!==it.version){var Ht=it.image;if(Ht===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Ht.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ht(Qt,it,Qe);return}}c.activeTexture(i.TEXTURE0+Qe),c.bindTexture(i.TEXTURE_2D,Qt.__webglTexture)}function ft(it,Qe){var Qt=p.get(it);if(it.image.length===6)if(it.version>0&&Qt.__version!==it.version){Qt.__image__webglTextureCube||(it.addEventListener("dispose",Ae),Qt.__image__webglTextureCube=i.createTexture(),C.memory.textures++),c.activeTexture(i.TEXTURE0+Qe),c.bindTexture(i.TEXTURE_CUBE_MAP,Qt.__image__webglTextureCube),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,it.flipY);for(var Ht=it&&it.isCompressedTexture,Dn=it.image[0]&&it.image[0].isDataTexture,_t=[],Ln=0;Ln<6;Ln++)!Ht&&!Dn?_t[Ln]=z(it.image[Ln],_.maxCubemapSize):_t[Ln]=Dn?it.image[Ln].image:it.image[Ln];var dn=_t[0],qn=V(dn),En=S.convert(it.format),Mr=S.convert(it.type),jr=_e(En,Mr);Ct(i.TEXTURE_CUBE_MAP,it,qn);for(var Ln=0;Ln<6;Ln++)if(!Ht)Dn?c.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ln,0,jr,_t[Ln].width,_t[Ln].height,0,En,Mr,_t[Ln].data):c.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ln,0,jr,En,Mr,_t[Ln]);else for(var Zr,An=_t[Ln].mipmaps,ai=0,oa=An.length;ai<oa;ai++)Zr=An[ai],it.format!==da&&it.format!==Ka?c.getCompressedTextureFormats().indexOf(En)>-1?c.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ln,ai,jr,Zr.width,Zr.height,0,Zr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ln,ai,jr,Zr.width,Zr.height,0,En,Mr,Zr.data);Ht?Qt.__maxMipLevel=An.length-1:Qt.__maxMipLevel=0,te(it,qn)&&oe(i.TEXTURE_CUBE_MAP,it,dn.width,dn.height),Qt.__version=it.version,it.onUpdate&&it.onUpdate(it)}else c.activeTexture(i.TEXTURE0+Qe),c.bindTexture(i.TEXTURE_CUBE_MAP,Qt.__image__webglTextureCube)}function ut(it,Qe){c.activeTexture(i.TEXTURE0+Qe),c.bindTexture(i.TEXTURE_CUBE_MAP,p.get(it).__webglTexture)}function Ct(it,Qe,Qt){var Ht;if(Qt?(i.texParameteri(it,i.TEXTURE_WRAP_S,S.convert(Qe.wrapS)),i.texParameteri(it,i.TEXTURE_WRAP_T,S.convert(Qe.wrapT)),i.texParameteri(it,i.TEXTURE_MAG_FILTER,S.convert(Qe.magFilter)),i.texParameteri(it,i.TEXTURE_MIN_FILTER,S.convert(Qe.minFilter))):(i.texParameteri(it,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(it,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(Qe.wrapS!==Tt||Qe.wrapT!==Tt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(it,i.TEXTURE_MAG_FILTER,Ce(Qe.magFilter)),i.texParameteri(it,i.TEXTURE_MIN_FILTER,Ce(Qe.minFilter)),Qe.minFilter!==xe&&Qe.minFilter!==wt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Ht=l.get("EXT_texture_filter_anisotropic"),Ht){if(Qe.type===vr&&l.get("OES_texture_float_linear")===null||Qe.type===Ji&&(_.isWebGL2||l.get("OES_texture_half_float_linear"))===null)return;(Qe.anisotropy>1||p.get(Qe).__currentAnisotropy)&&(i.texParameterf(it,Ht.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Qe.anisotropy,_.getMaxAnisotropy())),p.get(Qe).__currentAnisotropy=Qe.anisotropy)}}function ht(it,Qe,Qt){it.__webglInit===void 0&&(it.__webglInit=!0,Qe.addEventListener("dispose",Ae),it.__webglTexture=i.createTexture(),C.memory.textures++),c.activeTexture(i.TEXTURE0+Qt),c.bindTexture(i.TEXTURE_2D,it.__webglTexture),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,Qe.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qe.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,Qe.unpackAlignment);var Ht=z(Qe.image,_.maxTextureSize);q(Qe)&&V(Ht)===!1&&(Ht=H(Ht));var Dn=V(Ht),_t=S.convert(Qe.format),Ln=S.convert(Qe.type),dn=_e(_t,Ln);Ct(i.TEXTURE_2D,Qe,Dn);var qn,En=Qe.mipmaps;if(Qe.isDepthTexture){if(dn=i.DEPTH_COMPONENT,Qe.type===vr){if(!_.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");dn=i.DEPTH_COMPONENT32F}else _.isWebGL2&&(dn=i.DEPTH_COMPONENT16);Qe.format===Be&&dn===i.DEPTH_COMPONENT&&Qe.type!==wn&&Qe.type!==Yn&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Qe.type=wn,Ln=S.convert(Qe.type)),Qe.format===vt&&(dn=i.DEPTH_STENCIL,Qe.type!==ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Qe.type=ra,Ln=S.convert(Qe.type))),c.texImage2D(i.TEXTURE_2D,0,dn,Ht.width,Ht.height,0,_t,Ln,null)}else if(Qe.isDataTexture)if(En.length>0&&Dn){for(var Mr=0,jr=En.length;Mr<jr;Mr++)qn=En[Mr],c.texImage2D(i.TEXTURE_2D,Mr,dn,qn.width,qn.height,0,_t,Ln,qn.data);Qe.generateMipmaps=!1,it.__maxMipLevel=En.length-1}else c.texImage2D(i.TEXTURE_2D,0,dn,Ht.width,Ht.height,0,_t,Ln,Ht.data),it.__maxMipLevel=0;else if(Qe.isCompressedTexture){for(var Mr=0,jr=En.length;Mr<jr;Mr++)qn=En[Mr],Qe.format!==da&&Qe.format!==Ka?c.getCompressedTextureFormats().indexOf(_t)>-1?c.compressedTexImage2D(i.TEXTURE_2D,Mr,dn,qn.width,qn.height,0,qn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(i.TEXTURE_2D,Mr,dn,qn.width,qn.height,0,_t,Ln,qn.data);it.__maxMipLevel=En.length-1}else if(En.length>0&&Dn){for(var Mr=0,jr=En.length;Mr<jr;Mr++)qn=En[Mr],c.texImage2D(i.TEXTURE_2D,Mr,dn,_t,Ln,qn);Qe.generateMipmaps=!1,it.__maxMipLevel=En.length-1}else c.texImage2D(i.TEXTURE_2D,0,dn,_t,Ln,Ht),it.__maxMipLevel=0;te(Qe,Dn)&&oe(i.TEXTURE_2D,Qe,Ht.width,Ht.height),it.__version=Qe.version,Qe.onUpdate&&Qe.onUpdate(Qe)}function It(it,Qe,Qt,Ht){var Dn=S.convert(Qe.texture.format),_t=S.convert(Qe.texture.type),Ln=_e(Dn,_t);c.texImage2D(Ht,0,Ln,Qe.width,Qe.height,0,Dn,_t,null),i.bindFramebuffer(i.FRAMEBUFFER,it),i.framebufferTexture2D(i.FRAMEBUFFER,Qt,Ht,p.get(Qe.texture).__webglTexture,0),i.bindFramebuffer(i.FRAMEBUFFER,null)}function Nt(it,Qe){i.bindRenderbuffer(i.RENDERBUFFER,it),Qe.depthBuffer&&!Qe.stencilBuffer?(i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,Qe.width,Qe.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,it)):Qe.depthBuffer&&Qe.stencilBuffer?(i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,Qe.width,Qe.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,it)):i.renderbufferStorage(i.RENDERBUFFER,i.RGBA4,Qe.width,Qe.height),i.bindRenderbuffer(i.RENDERBUFFER,null)}function ln(it,Qe){var Qt=Qe&&Qe.isWebGLRenderTargetCube;if(Qt)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(i.FRAMEBUFFER,it),!(Qe.depthTexture&&Qe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!p.get(Qe.depthTexture).__webglTexture||Qe.depthTexture.image.width!==Qe.width||Qe.depthTexture.image.height!==Qe.height)&&(Qe.depthTexture.image.width=Qe.width,Qe.depthTexture.image.height=Qe.height,Qe.depthTexture.needsUpdate=!0),st(Qe.depthTexture,0);var Ht=p.get(Qe.depthTexture).__webglTexture;if(Qe.depthTexture.format===Be)i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Ht,0);else if(Qe.depthTexture.format===vt)i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Ht,0);else throw new Error("Unknown depthTexture format")}function Cn(it){var Qe=p.get(it),Qt=it.isWebGLRenderTargetCube===!0;if(it.depthTexture){if(Qt)throw new Error("target.depthTexture not supported in Cube render targets");ln(Qe.__webglFramebuffer,it)}else if(Qt){Qe.__webglDepthbuffer=[];for(var Ht=0;Ht<6;Ht++)i.bindFramebuffer(i.FRAMEBUFFER,Qe.__webglFramebuffer[Ht]),Qe.__webglDepthbuffer[Ht]=i.createRenderbuffer(),Nt(Qe.__webglDepthbuffer[Ht],it)}else i.bindFramebuffer(i.FRAMEBUFFER,Qe.__webglFramebuffer),Qe.__webglDepthbuffer=i.createRenderbuffer(),Nt(Qe.__webglDepthbuffer,it);i.bindFramebuffer(i.FRAMEBUFFER,null)}function pn(it){var Qe=p.get(it),Qt=p.get(it.texture);it.addEventListener("dispose",Ne),Qt.__webglTexture=i.createTexture(),C.memory.textures++;var Ht=it.isWebGLRenderTargetCube===!0,Dn=V(it);if(Ht){Qe.__webglFramebuffer=[];for(var _t=0;_t<6;_t++)Qe.__webglFramebuffer[_t]=i.createFramebuffer()}else Qe.__webglFramebuffer=i.createFramebuffer();if(Ht){c.bindTexture(i.TEXTURE_CUBE_MAP,Qt.__webglTexture),Ct(i.TEXTURE_CUBE_MAP,it.texture,Dn);for(var _t=0;_t<6;_t++)It(Qe.__webglFramebuffer[_t],it,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+_t);te(it.texture,Dn)&&oe(i.TEXTURE_CUBE_MAP,it.texture,it.width,it.height),c.bindTexture(i.TEXTURE_CUBE_MAP,null)}else c.bindTexture(i.TEXTURE_2D,Qt.__webglTexture),Ct(i.TEXTURE_2D,it.texture,Dn),It(Qe.__webglFramebuffer,it,i.COLOR_ATTACHMENT0,i.TEXTURE_2D),te(it.texture,Dn)&&oe(i.TEXTURE_2D,it.texture,it.width,it.height),c.bindTexture(i.TEXTURE_2D,null);it.depthBuffer&&Cn(it)}function yn(it){var Qe=it.texture,Qt=V(it);if(te(Qe,Qt)){var Ht=it.isWebGLRenderTargetCube?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,Dn=p.get(Qe).__webglTexture;c.bindTexture(Ht,Dn),oe(Ht,Qe,it.width,it.height),c.bindTexture(Ht,null)}}function In(it){var Qe=it.id,Qt=C.render.frame;k[Qe]!==Qt&&(k[Qe]=Qt,it.update())}this.setTexture2D=st,this.setTextureCube=ft,this.setTextureCubeDynamic=ut,this.setupRenderTarget=pn,this.updateRenderTargetMipmap=yn}function _T(i,l,c){function p(_){var S;if(_===sn)return i.REPEAT;if(_===Tt)return i.CLAMP_TO_EDGE;if(_===je)return i.MIRRORED_REPEAT;if(_===xe)return i.NEAREST;if(_===Ke)return i.NEAREST_MIPMAP_NEAREST;if(_===Ee)return i.NEAREST_MIPMAP_LINEAR;if(_===wt)return i.LINEAR;if(_===an)return i.LINEAR_MIPMAP_NEAREST;if(_===Je)return i.LINEAR_MIPMAP_LINEAR;if(_===Dt)return i.UNSIGNED_BYTE;if(_===pi)return i.UNSIGNED_SHORT_4_4_4_4;if(_===Qi)return i.UNSIGNED_SHORT_5_5_5_1;if(_===na)return i.UNSIGNED_SHORT_5_6_5;if(_===en)return i.BYTE;if(_===_n)return i.SHORT;if(_===wn)return i.UNSIGNED_SHORT;if(_===hr)return i.INT;if(_===Yn)return i.UNSIGNED_INT;if(_===vr)return i.FLOAT;if(_===Ji){if(c.isWebGL2)return i.HALF_FLOAT;if(S=l.get("OES_texture_half_float"),S!==null)return S.HALF_FLOAT_OES}if(_===To)return i.ALPHA;if(_===Ka)return i.RGB;if(_===da)return i.RGBA;if(_===$e)return i.LUMINANCE;if(_===zt)return i.LUMINANCE_ALPHA;if(_===Be)return i.DEPTH_COMPONENT;if(_===vt)return i.DEPTH_STENCIL;if(_===G)return i.FUNC_ADD;if(_===$)return i.FUNC_SUBTRACT;if(_===Q)return i.FUNC_REVERSE_SUBTRACT;if(_===K)return i.ZERO;if(_===X)return i.ONE;if(_===Z)return i.SRC_COLOR;if(_===j)return i.ONE_MINUS_SRC_COLOR;if(_===ie)return i.SRC_ALPHA;if(_===pe)return i.ONE_MINUS_SRC_ALPHA;if(_===he)return i.DST_ALPHA;if(_===le)return i.ONE_MINUS_DST_ALPHA;if(_===Re)return i.DST_COLOR;if(_===De)return i.ONE_MINUS_DST_COLOR;if(_===Te)return i.SRC_ALPHA_SATURATE;if((_===vn||_===Un||_===sr||_===dr)&&(S=l.get("WEBGL_compressed_texture_s3tc"),S!==null)){if(_===vn)return S.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===Un)return S.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===sr)return S.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===dr)return S.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((_===yr||_===Ar||_===br||_===Lt)&&(S=l.get("WEBGL_compressed_texture_pvrtc"),S!==null)){if(_===yr)return S.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===Ar)return S.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===br)return S.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===Lt)return S.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===hn&&(S=l.get("WEBGL_compressed_texture_etc1"),S!==null))return S.COMPRESSED_RGB_ETC1_WEBGL;if((_===Gn||_===Qn||_===Nr||_===Sr||_===Bs||_===Ti||_===jo||_===Xl||_===zs||_===Zl||_===ea||_===vs||_===Jl||_===Ma)&&(S=l.get("WEBGL_compressed_texture_astc"),S!==null))return _;if(_===ae||_===ee){if(c.isWebGL2){if(_===ae)return i.MIN;if(_===ee)return i.MAX}if(S=l.get("EXT_blend_minmax"),S!==null){if(_===ae)return S.MIN_EXT;if(_===ee)return S.MAX_EXT}}if(_===ra){if(c.isWebGL2)return i.UNSIGNED_INT_24_8;if(S=l.get("WEBGL_depth_texture"),S!==null)return S.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:p}}function bh(){Wn.call(this),this.type="Group"}bh.prototype=Object.assign(Object.create(Wn.prototype),{constructor:bh,isGroup:!0});function ma(i,l,c,p){ou.call(this),this.type="PerspectiveCamera",this.fov=i!==void 0?i:50,this.zoom=1,this.near=c!==void 0?c:.1,this.far=p!==void 0?p:2e3,this.focus=10,this.aspect=l!==void 0?l:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ma.prototype=Object.assign(Object.create(ou.prototype),{constructor:ma,isPerspectiveCamera:!0,copy:function(i,l){return ou.prototype.copy.call(this,i,l),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this},setFocalLength:function(i){var l=.5*this.getFilmHeight()/i;this.fov=Rr.RAD2DEG*2*Math.atan(l),this.updateProjectionMatrix()},getFocalLength:function(){var i=Math.tan(Rr.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/i},getEffectiveFOV:function(){return Rr.RAD2DEG*2*Math.atan(Math.tan(Rr.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(i,l,c,p,_,S){this.aspect=i/l,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=l,this.view.offsetX=c,this.view.offsetY=p,this.view.width=_,this.view.height=S,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var i=this.near,l=i*Math.tan(Rr.DEG2RAD*.5*this.fov)/this.zoom,c=2*l,p=this.aspect*c,_=-.5*p,S=this.view;if(this.view!==null&&this.view.enabled){var C=S.fullWidth,k=S.fullHeight;_+=S.offsetX*p/C,l-=S.offsetY*c/k,p*=S.width/C,c*=S.height/k}var O=this.filmOffset;O!==0&&(_+=i*O/this.getFilmWidth()),this.projectionMatrix.makePerspective(_,_+p,l,l-c,i,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(i){var l=Wn.prototype.toJSON.call(this,i);return l.object.fov=this.fov,l.object.zoom=this.zoom,l.object.near=this.near,l.object.far=this.far,l.object.focus=this.focus,l.object.aspect=this.aspect,this.view!==null&&(l.object.view=Object.assign({},this.view)),l.object.filmGauge=this.filmGauge,l.object.filmOffset=this.filmOffset,l}});function sv(i){ma.call(this),this.cameras=i||[]}sv.prototype=Object.assign(Object.create(ma.prototype),{constructor:sv,isArrayCamera:!0});function wT(i){var l=this,c=null,p=null,_=null,S=[],C=new gr,k=new gr,O="stage";typeof window<"u"&&"VRFrameData"in window&&(p=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",Ne,!1));var z=new gr,V=new ha,H=new Ve,q=new ma;q.bounds=new yi(0,0,.5,1),q.layers.enable(1);var te=new ma;te.bounds=new yi(.5,0,.5,1),te.layers.enable(2);var oe=new sv([q,te]);oe.layers.enable(1),oe.layers.enable(2);function _e(){return c!==null&&c.isPresenting===!0}var Ce,Ae;function Ne(){if(_e()){var ut=c.getEyeParameters("left"),Ct=ut.renderWidth,ht=ut.renderHeight;Ae=i.getPixelRatio(),Ce=i.getSize(),i.setDrawingBufferSize(Ct*2,ht,1),ft.start()}else l.enabled&&i.setDrawingBufferSize(Ce.width,Ce.height,Ae),ft.stop()}var Ie=[];function Le(ut){for(var Ct=navigator.getGamepads&&navigator.getGamepads(),ht=0,It=0,Nt=Ct.length;ht<Nt;ht++){var ln=Ct[ht];if(ln&&(ln.id==="Daydream Controller"||ln.id==="Gear VR Controller"||ln.id==="Oculus Go Controller"||ln.id==="OpenVR Gamepad"||ln.id.startsWith("Oculus Touch")||ln.id.startsWith("Spatial Controller"))){if(It===ut)return ln;It++}}}function st(){for(var ut=0;ut<S.length;ut++){var Ct=S[ut],ht=Le(ut);if(ht!==void 0&&ht.pose!==void 0){if(ht.pose===null)return;var It=ht.pose;It.hasPosition===!1&&Ct.position.set(.2,-.6,-.05),It.position!==null&&Ct.position.fromArray(It.position),It.orientation!==null&&Ct.quaternion.fromArray(It.orientation),Ct.matrix.compose(Ct.position,Ct.quaternion,Ct.scale),Ct.matrix.premultiply(C),Ct.matrix.decompose(Ct.position,Ct.quaternion,Ct.scale),Ct.matrixWorldNeedsUpdate=!0,Ct.visible=!0;var Nt=ht.id==="Daydream Controller"?0:1;Ie[ut]!==ht.buttons[Nt].pressed&&(Ie[ut]=ht.buttons[Nt].pressed,Ie[ut]===!0?Ct.dispatchEvent({type:"selectstart"}):(Ct.dispatchEvent({type:"selectend"}),Ct.dispatchEvent({type:"select"})))}else Ct.visible=!1}}this.enabled=!1,this.getController=function(ut){var Ct=S[ut];return Ct===void 0&&(Ct=new bh,Ct.matrixAutoUpdate=!1,Ct.visible=!1,S[ut]=Ct),Ct},this.getDevice=function(){return c},this.setDevice=function(ut){ut!==void 0&&(c=ut),ft.setContext(ut)},this.setFrameOfReferenceType=function(ut){O=ut},this.setPoseTarget=function(ut){ut!==void 0&&(_=ut)},this.getCamera=function(ut){var Ct=O==="stage"?1.6:0;if(c===null)return ut.position.set(0,Ct,0),ut;if(c.depthNear=ut.near,c.depthFar=ut.far,c.getFrameData(p),O==="stage"){var ht=c.stageParameters;ht?C.fromArray(ht.sittingToStandingTransform):C.makeTranslation(0,Ct,0)}var It=p.pose,Nt=_!==null?_:ut;if(Nt.matrix.copy(C),Nt.matrix.decompose(Nt.position,Nt.quaternion,Nt.scale),It.orientation!==null&&(V.fromArray(It.orientation),Nt.quaternion.multiply(V)),It.position!==null&&(V.setFromRotationMatrix(C),H.fromArray(It.position),H.applyQuaternion(V),Nt.position.add(H)),Nt.updateMatrixWorld(),c.isPresenting===!1)return ut;q.near=ut.near,te.near=ut.near,q.far=ut.far,te.far=ut.far,oe.matrixWorld.copy(ut.matrixWorld),oe.matrixWorldInverse.copy(ut.matrixWorldInverse),q.matrixWorldInverse.fromArray(p.leftViewMatrix),te.matrixWorldInverse.fromArray(p.rightViewMatrix),k.getInverse(C),O==="stage"&&(q.matrixWorldInverse.multiply(k),te.matrixWorldInverse.multiply(k));var ln=Nt.parent;ln!==null&&(z.getInverse(ln.matrixWorld),q.matrixWorldInverse.multiply(z),te.matrixWorldInverse.multiply(z)),q.matrixWorld.getInverse(q.matrixWorldInverse),te.matrixWorld.getInverse(te.matrixWorldInverse),q.projectionMatrix.fromArray(p.leftProjectionMatrix),te.projectionMatrix.fromArray(p.rightProjectionMatrix),oe.projectionMatrix.copy(q.projectionMatrix);var Cn=c.getLayers();if(Cn.length){var pn=Cn[0];pn.leftBounds!==null&&pn.leftBounds.length===4&&q.bounds.fromArray(pn.leftBounds),pn.rightBounds!==null&&pn.rightBounds.length===4&&te.bounds.fromArray(pn.rightBounds)}return st(),oe},this.getStandingMatrix=function(){return C},this.isPresenting=_e;var ft=new p1;this.setAnimationLoop=function(ut){ft.setAnimationLoop(ut)},this.submitFrame=function(){_e()&&c.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",Ne)}}function gU(i){var l=i.context,c=null,p=null,_=null,S="stage",C=null,k=[],O=[];function z(){return p!==null&&_!==null}var V=new ma;V.layers.enable(1),V.viewport=new yi;var H=new ma;H.layers.enable(2),H.viewport=new yi;var q=new sv([V,H]);q.layers.enable(1),q.layers.enable(2),this.enabled=!1,this.getController=function(Ie){var Le=k[Ie];return Le===void 0&&(Le=new bh,Le.matrixAutoUpdate=!1,Le.visible=!1,k[Ie]=Le),Le},this.getDevice=function(){return c},this.setDevice=function(Ie){Ie!==void 0&&(c=Ie),Ie instanceof XRDevice&&l.setCompatibleXRDevice(Ie)};function te(Ie){var Le=k[O.indexOf(Ie.inputSource)];Le&&Le.dispatchEvent({type:Ie.type})}function oe(){i.setFramebuffer(null),Ne.stop()}this.setFrameOfReferenceType=function(Ie){S=Ie},this.setSession=function(Ie){p=Ie,p!==null&&(p.addEventListener("select",te),p.addEventListener("selectstart",te),p.addEventListener("selectend",te),p.addEventListener("end",oe),p.baseLayer=new XRWebGLLayer(p,l),p.requestFrameOfReference(S).then(function(Le){_=Le,i.setFramebuffer(p.baseLayer.framebuffer),Ne.setContext(p),Ne.start()}),O=p.getInputSources(),p.addEventListener("inputsourceschange",function(){O=p.getInputSources(),console.log(O)}))};function _e(Ie,Le){Le===null?Ie.matrixWorld.copy(Ie.matrix):Ie.matrixWorld.multiplyMatrices(Le.matrixWorld,Ie.matrix),Ie.matrixWorldInverse.getInverse(Ie.matrixWorld)}this.getCamera=function(Ie){if(z()){var Le=Ie.parent,st=q.cameras;_e(q,Le);for(var ft=0;ft<st.length;ft++)_e(st[ft],Le);Ie.matrixWorld.copy(q.matrixWorld);for(var ut=Ie.children,ft=0,Ct=ut.length;ft<Ct;ft++)ut[ft].updateMatrixWorld(!0);return q}return Ie},this.isPresenting=z;var Ce=null;function Ae(Ie,Le){if(C=Le.getDevicePose(_),C!==null)for(var st=p.baseLayer,ft=Le.views,ut=0;ut<ft.length;ut++){var Ct=ft[ut],ht=st.getViewport(Ct),It=C.getViewMatrix(Ct),Nt=q.cameras[ut];Nt.matrix.fromArray(It).getInverse(Nt.matrix),Nt.projectionMatrix.fromArray(Ct.projectionMatrix),Nt.viewport.set(ht.x,ht.y,ht.width,ht.height),ut===0&&(q.matrix.copy(Nt.matrix),q.projectionMatrix.copy(Nt.projectionMatrix))}for(var ut=0;ut<k.length;ut++){var ln=k[ut],Cn=O[ut];if(Cn){var pn=Le.getInputPose(Cn,_);if(pn!==null){"targetRay"in pn?ln.matrix.elements=pn.targetRay.transformMatrix:"pointerMatrix"in pn&&(ln.matrix.elements=pn.pointerMatrix),ln.matrix.decompose(ln.position,ln.rotation,ln.scale),ln.visible=!0;continue}}ln.visible=!1}Ce&&Ce(Ie)}var Ne=new p1;Ne.setAnimationLoop(Ae),this.setAnimationLoop=function(Ie){Ce=Ie},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function b1(i){i=i||{};var l=i.canvas!==void 0?i.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),c=i.context!==void 0?i.context:null,p=i.alpha!==void 0?i.alpha:!1,_=i.depth!==void 0?i.depth:!0,S=i.stencil!==void 0?i.stencil:!0,C=i.antialias!==void 0?i.antialias:!1,k=i.premultipliedAlpha!==void 0?i.premultipliedAlpha:!0,O=i.preserveDrawingBuffer!==void 0?i.preserveDrawingBuffer:!1,z=i.powerPreference!==void 0?i.powerPreference:"default",V=null,H=null;this.domElement=l,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=rt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var q=this,te=!1,oe=null,_e=null,Ce=null,Ae=-1,Ne={geometry:null,program:null,wireframe:!1},Ie=null,Le=null,st=new yi,ft=new yi,ut=null,Ct=0,ht=l.width,It=l.height,Nt=1,ln=new yi(0,0,ht,It),Cn=new yi(0,0,ht,It),pn=!1,yn=new Oc,In=new bV,it=!1,Qe=!1,Qt=new gr,Ht=new Ve;function Dn(){return _e===null?Nt:1}var _t;try{var Ln={alpha:p,depth:_,stencil:S,antialias:C,premultipliedAlpha:k,preserveDrawingBuffer:O,powerPreference:z};if(l.addEventListener("webglcontextlost",rs,!1),l.addEventListener("webglcontextrestored",is,!1),_t=c||l.getContext("webgl",Ln)||l.getContext("experimental-webgl",Ln),_t===null)throw l.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");_t.getShaderPrecisionFormat===void 0&&(_t.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Oe){console.error("THREE.WebGLRenderer: "+Oe.message)}var dn,qn,En,Mr,jr,Zr,An,ai,oa,xi,ns,sa,Ba,Ja,Ku,xl,ba;function za(){dn=new _V(_t),qn=new yV(_t,dn,i),qn.isWebGL2||(dn.get("WEBGL_depth_texture"),dn.get("OES_texture_float"),dn.get("OES_texture_half_float"),dn.get("OES_texture_half_float_linear"),dn.get("OES_standard_derivatives"),dn.get("OES_element_index_uint"),dn.get("ANGLE_instanced_arrays")),dn.get("OES_texture_float_linear"),ba=new _T(_t,dn,qn),En=new mU(_t,dn,ba,qn),En.scissor(ft.copy(Cn).multiplyScalar(Nt)),En.viewport(st.copy(ln).multiplyScalar(Nt)),Mr=new SV(_t),jr=new oU,Zr=new vU(_t,dn,En,jr,qn,ba,Mr),An=new dV(_t),ai=new wV(_t,An,Mr),oa=new CV(ai,Mr),Ja=new EV(_t),xi=new aU(q,dn,qn),ns=new cU,sa=new pU,Ba=new vV(q,En,oa,k),Ku=new gV(_t,dn,Mr,qn),xl=new xV(_t,dn,Mr,qn),Mr.programs=xi.programs,q.context=_t,q.capabilities=qn,q.extensions=dn,q.properties=jr,q.renderLists=ns,q.state=En,q.info=Mr}za();var vo="xr"in navigator?new gU(q):new wT(q);this.vr=vo;var Xh=new bT(q,oa,qn.maxTextureSize);this.shadowMap=Xh,this.getContext=function(){return _t},this.getContextAttributes=function(){return _t.getContextAttributes()},this.forceContextLoss=function(){var Oe=dn.get("WEBGL_lose_context");Oe&&Oe.loseContext()},this.forceContextRestore=function(){var Oe=dn.get("WEBGL_lose_context");Oe&&Oe.restoreContext()},this.getPixelRatio=function(){return Nt},this.setPixelRatio=function(Oe){Oe!==void 0&&(Nt=Oe,this.setSize(ht,It,!1))},this.getSize=function(){return{width:ht,height:It}},this.setSize=function(Oe,Ze,mt){if(vo.isPresenting()){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ht=Oe,It=Ze,l.width=Oe*Nt,l.height=Ze*Nt,mt!==!1&&(l.style.width=Oe+"px",l.style.height=Ze+"px"),this.setViewport(0,0,Oe,Ze)},this.getDrawingBufferSize=function(){return{width:ht*Nt,height:It*Nt}},this.setDrawingBufferSize=function(Oe,Ze,mt){ht=Oe,It=Ze,Nt=mt,l.width=Oe*mt,l.height=Ze*mt,this.setViewport(0,0,Oe,Ze)},this.getCurrentViewport=function(){return st},this.setViewport=function(Oe,Ze,mt,Mn){ln.set(Oe,It-Ze-Mn,mt,Mn),En.viewport(st.copy(ln).multiplyScalar(Nt))},this.setScissor=function(Oe,Ze,mt,Mn){Cn.set(Oe,It-Ze-Mn,mt,Mn),En.scissor(ft.copy(Cn).multiplyScalar(Nt))},this.setScissorTest=function(Oe){En.setScissorTest(pn=Oe)},this.getClearColor=function(){return Ba.getClearColor()},this.setClearColor=function(){Ba.setClearColor.apply(Ba,arguments)},this.getClearAlpha=function(){return Ba.getClearAlpha()},this.setClearAlpha=function(){Ba.setClearAlpha.apply(Ba,arguments)},this.clear=function(Oe,Ze,mt){var Mn=0;(Oe===void 0||Oe)&&(Mn|=_t.COLOR_BUFFER_BIT),(Ze===void 0||Ze)&&(Mn|=_t.DEPTH_BUFFER_BIT),(mt===void 0||mt)&&(Mn|=_t.STENCIL_BUFFER_BIT),_t.clear(Mn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(Oe,Ze,mt,Mn){this.setRenderTarget(Oe),this.clear(Ze,mt,Mn)},this.dispose=function(){l.removeEventListener("webglcontextlost",rs,!1),l.removeEventListener("webglcontextrestored",is,!1),ns.dispose(),sa.dispose(),jr.dispose(),oa.dispose(),vo.dispose(),Si.stop()};function rs(Oe){Oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),te=!0}function is(){console.log("THREE.WebGLRenderer: Context Restored."),te=!1,za()}function li(Oe){var Ze=Oe.target;Ze.removeEventListener("dispose",li),Ot(Ze)}function Ot(Oe){Xn(Oe),jr.remove(Oe)}function Xn(Oe){var Ze=jr.get(Oe).program;Oe.program=void 0,Ze!==void 0&&xi.releaseProgram(Ze)}function lr(Oe,Ze){Oe.render(function(mt){q.renderBufferImmediate(mt,Ze)})}this.renderBufferImmediate=function(Oe,Ze){En.initAttributes();var mt=jr.get(Oe);Oe.hasPositions&&!mt.position&&(mt.position=_t.createBuffer()),Oe.hasNormals&&!mt.normal&&(mt.normal=_t.createBuffer()),Oe.hasUvs&&!mt.uv&&(mt.uv=_t.createBuffer()),Oe.hasColors&&!mt.color&&(mt.color=_t.createBuffer());var Mn=Ze.getAttributes();Oe.hasPositions&&(_t.bindBuffer(_t.ARRAY_BUFFER,mt.position),_t.bufferData(_t.ARRAY_BUFFER,Oe.positionArray,_t.DYNAMIC_DRAW),En.enableAttribute(Mn.position),_t.vertexAttribPointer(Mn.position,3,_t.FLOAT,!1,0,0)),Oe.hasNormals&&(_t.bindBuffer(_t.ARRAY_BUFFER,mt.normal),_t.bufferData(_t.ARRAY_BUFFER,Oe.normalArray,_t.DYNAMIC_DRAW),En.enableAttribute(Mn.normal),_t.vertexAttribPointer(Mn.normal,3,_t.FLOAT,!1,0,0)),Oe.hasUvs&&(_t.bindBuffer(_t.ARRAY_BUFFER,mt.uv),_t.bufferData(_t.ARRAY_BUFFER,Oe.uvArray,_t.DYNAMIC_DRAW),En.enableAttribute(Mn.uv),_t.vertexAttribPointer(Mn.uv,2,_t.FLOAT,!1,0,0)),Oe.hasColors&&(_t.bindBuffer(_t.ARRAY_BUFFER,mt.color),_t.bufferData(_t.ARRAY_BUFFER,Oe.colorArray,_t.DYNAMIC_DRAW),En.enableAttribute(Mn.color),_t.vertexAttribPointer(Mn.color,3,_t.FLOAT,!1,0,0)),En.disableUnusedAttributes(),_t.drawArrays(_t.TRIANGLES,0,Oe.count),Oe.count=0},this.renderBufferDirect=function(Oe,Ze,mt,Mn,Kn,ui){var ur=Kn.isMesh&&Kn.normalMatrix.determinant()<0;En.setMaterial(Mn,ur);var Zn=xs(Oe,Ze,Mn,Kn),mi=!1;(Ne.geometry!==mt.id||Ne.program!==Zn.id||Ne.wireframe!==(Mn.wireframe===!0))&&(Ne.geometry=mt.id,Ne.program=Zn.id,Ne.wireframe=Mn.wireframe===!0,mi=!0),Kn.morphTargetInfluences&&(Ja.update(Kn,mt,Mn,Zn),mi=!0);var Vi=mt.index,Ei=mt.attributes.position,Ki=1;Mn.wireframe===!0&&(Vi=ai.getWireframeAttribute(mt),Ki=2);var Va,ti=Ku;Vi!==null&&(Va=An.get(Vi),ti=xl,ti.setIndex(Va)),mi&&(Fr(Mn,Zn,mt),Vi!==null&&_t.bindBuffer(_t.ELEMENT_ARRAY_BUFFER,Va.buffer));var Er=1/0;Vi!==null?Er=Vi.count:Ei!==void 0&&(Er=Ei.count);var _i=mt.drawRange.start*Ki,Ua=mt.drawRange.count*Ki,fu=ui!==null?ui.start*Ki:0,wa=ui!==null?ui.count*Ki:1/0,Yu=Math.max(_i,fu),Oy=Math.min(Er,_i+Ua,fu+wa)-1,ex=Math.max(0,Oy-Yu+1);if(ex!==0){if(Kn.isMesh)if(Mn.wireframe===!0)En.setLineWidth(Mn.wireframeLinewidth*Dn()),ti.setMode(_t.LINES);else switch(Kn.drawMode){case Vm:ti.setMode(_t.TRIANGLES);break;case Y0:ti.setMode(_t.TRIANGLE_STRIP);break;case qo:ti.setMode(_t.TRIANGLE_FAN);break}else if(Kn.isLine){var tx=Mn.linewidth;tx===void 0&&(tx=1),En.setLineWidth(tx*Dn()),Kn.isLineSegments?ti.setMode(_t.LINES):Kn.isLineLoop?ti.setMode(_t.LINE_LOOP):ti.setMode(_t.LINE_STRIP)}else Kn.isPoints?ti.setMode(_t.POINTS):Kn.isSprite&&ti.setMode(_t.TRIANGLES);mt&&mt.isInstancedBufferGeometry?mt.maxInstancedCount>0&&ti.renderInstances(mt,Yu,ex):ti.render(Yu,ex)}};function Fr(Oe,Ze,mt){if(mt&&mt.isInstancedBufferGeometry&!qn.isWebGL2&&dn.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}En.initAttributes();var Mn=mt.attributes,Kn=Ze.getAttributes(),ui=Oe.defaultAttributeValues;for(var ur in Kn){var Zn=Kn[ur];if(Zn>=0){var mi=Mn[ur];if(mi!==void 0){var Vi=mi.normalized,Ei=mi.itemSize,Ki=An.get(mi);if(Ki===void 0)continue;var Va=Ki.buffer,ti=Ki.type,Er=Ki.bytesPerElement;if(mi.isInterleavedBufferAttribute){var _i=mi.data,Ua=_i.stride,fu=mi.offset;_i&&_i.isInstancedInterleavedBuffer?(En.enableAttributeAndDivisor(Zn,_i.meshPerAttribute),mt.maxInstancedCount===void 0&&(mt.maxInstancedCount=_i.meshPerAttribute*_i.count)):En.enableAttribute(Zn),_t.bindBuffer(_t.ARRAY_BUFFER,Va),_t.vertexAttribPointer(Zn,Ei,ti,Vi,Ua*Er,fu*Er)}else mi.isInstancedBufferAttribute?(En.enableAttributeAndDivisor(Zn,mi.meshPerAttribute),mt.maxInstancedCount===void 0&&(mt.maxInstancedCount=mi.meshPerAttribute*mi.count)):En.enableAttribute(Zn),_t.bindBuffer(_t.ARRAY_BUFFER,Va),_t.vertexAttribPointer(Zn,Ei,ti,Vi,0,0)}else if(ui!==void 0){var wa=ui[ur];if(wa!==void 0)switch(wa.length){case 2:_t.vertexAttrib2fv(Zn,wa);break;case 3:_t.vertexAttrib3fv(Zn,wa);break;case 4:_t.vertexAttrib4fv(Zn,wa);break;default:_t.vertexAttrib1fv(Zn,wa)}}}}En.disableUnusedAttributes()}this.compile=function(Oe,Ze){H=sa.get(Oe,Ze),H.init(),Oe.traverse(function(mt){mt.isLight&&(H.pushLight(mt),mt.castShadow&&H.pushShadow(mt))}),H.setupLights(Ze),Oe.traverse(function(mt){if(mt.material)if(Array.isArray(mt.material))for(var Mn=0;Mn<mt.material.length;Mn++)Po(mt.material[Mn],Oe.fog,mt);else Po(mt.material,Oe.fog,mt)})};var ir=null;function gi(Oe){vo.isPresenting()||ir&&ir(Oe)}var Si=new p1;Si.setAnimationLoop(gi),typeof window<"u"&&Si.setContext(window),this.setAnimationLoop=function(Oe){ir=Oe,vo.setAnimationLoop(Oe),Si.start()},this.render=function(Oe,Ze,mt,Mn){if(!(Ze&&Ze.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!te){Ne.geometry=null,Ne.program=null,Ne.wireframe=!1,Ae=-1,Ie=null,Oe.autoUpdate===!0&&Oe.updateMatrixWorld(),Ze.parent===null&&Ze.updateMatrixWorld(),vo.enabled&&(Ze=vo.getCamera(Ze)),H=sa.get(Oe,Ze),H.init(),Oe.onBeforeRender(q,Oe,Ze,mt),Qt.multiplyMatrices(Ze.projectionMatrix,Ze.matrixWorldInverse),yn.setFromMatrix(Qt),Qe=this.localClippingEnabled,it=In.init(this.clippingPlanes,Qe,Ze),V=ns.get(Oe,Ze),V.init(),Di(Oe,Ze,q.sortObjects),q.sortObjects===!0&&V.sort(),it&&In.beginShadows();var Kn=H.state.shadowsArray;Xh.render(Kn,Oe,Ze),H.setupLights(Ze),it&&In.endShadows(),this.info.autoReset&&this.info.reset(),mt===void 0&&(mt=null),this.setRenderTarget(mt),Ba.render(V,Oe,Ze,Mn);var ui=V.opaque,ur=V.transparent;if(Oe.overrideMaterial){var Zn=Oe.overrideMaterial;ui.length&&_a(ui,Oe,Ze,Zn),ur.length&&_a(ur,Oe,Ze,Zn)}else ui.length&&_a(ui,Oe,Ze),ur.length&&_a(ur,Oe,Ze);mt&&Zr.updateRenderTargetMipmap(mt),En.buffers.depth.setTest(!0),En.buffers.depth.setMask(!0),En.buffers.color.setMask(!0),En.setPolygonOffset(!1),Oe.onAfterRender(q,Oe,Ze),vo.enabled&&vo.submitFrame(),V=null,H=null}};function Di(Oe,Ze,mt){if(Oe.visible!==!1){var Mn=Oe.layers.test(Ze.layers);if(Mn){if(Oe.isLight)H.pushLight(Oe),Oe.castShadow&&H.pushShadow(Oe);else if(Oe.isSprite){if(!Oe.frustumCulled||yn.intersectsSprite(Oe)){mt&&Ht.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Qt);var Kn=oa.update(Oe),ui=Oe.material;V.push(Oe,Kn,ui,Ht.z,null)}}else if(Oe.isImmediateRenderObject)mt&&Ht.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Qt),V.push(Oe,null,Oe.material,Ht.z,null);else if((Oe.isMesh||Oe.isLine||Oe.isPoints)&&(Oe.isSkinnedMesh&&Oe.skeleton.update(),!Oe.frustumCulled||yn.intersectsObject(Oe))){mt&&Ht.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Qt);var Kn=oa.update(Oe),ui=Oe.material;if(Array.isArray(ui))for(var ur=Kn.groups,Zn=0,mi=ur.length;Zn<mi;Zn++){var Vi=ur[Zn],Ei=ui[Vi.materialIndex];Ei&&Ei.visible&&V.push(Oe,Kn,Ei,Ht.z,Vi)}else ui.visible&&V.push(Oe,Kn,ui,Ht.z,null)}}for(var Ki=Oe.children,Zn=0,mi=Ki.length;Zn<mi;Zn++)Di(Ki[Zn],Ze,mt)}}function _a(Oe,Ze,mt,Mn){for(var Kn=0,ui=Oe.length;Kn<ui;Kn++){var ur=Oe[Kn],Zn=ur.object,mi=ur.geometry,Vi=Mn===void 0?ur.material:Mn,Ei=ur.group;if(mt.isArrayCamera){Le=mt;for(var Ki=mt.cameras,Va=0,ti=Ki.length;Va<ti;Va++){var Er=Ki[Va];if(Zn.layers.test(Er.layers)){if("viewport"in Er)En.viewport(st.copy(Er.viewport));else{var _i=Er.bounds,Ua=_i.x*ht,fu=_i.y*It,wa=_i.z*ht,Yu=_i.w*It;En.viewport(st.set(Ua,fu,wa,Yu).multiplyScalar(Nt))}H.setupLights(Er),Li(Zn,Ze,Er,mi,Vi,Ei)}}}else Le=null,Li(Zn,Ze,mt,mi,Vi,Ei)}}function Li(Oe,Ze,mt,Mn,Kn,ui){if(Oe.onBeforeRender(q,Ze,mt,Mn,Kn,ui),H=sa.get(Ze,Le||mt),Oe.modelViewMatrix.multiplyMatrices(mt.matrixWorldInverse,Oe.matrixWorld),Oe.normalMatrix.getNormalMatrix(Oe.modelViewMatrix),Oe.isImmediateRenderObject){En.setMaterial(Kn);var ur=xs(mt,Ze.fog,Kn,Oe);Ne.geometry=null,Ne.program=null,Ne.wireframe=!1,lr(Oe,ur)}else q.renderBufferDirect(mt,Ze.fog,Mn,Kn,Oe,ui);Oe.onAfterRender(q,Ze,mt,Mn,Kn,ui),H=sa.get(Ze,Le||mt)}function Po(Oe,Ze,mt){var Mn=jr.get(Oe),Kn=H.state.lights,ui=H.state.shadowsArray,ur=Mn.lightsHash,Zn=Kn.state.hash,mi=xi.getParameters(Oe,Kn.state,ui,Ze,In.numPlanes,In.numIntersection,mt),Vi=xi.getProgramCode(Oe,mi),Ei=Mn.program,Ki=!0;if(Ei===void 0)Oe.addEventListener("dispose",li);else if(Ei.code!==Vi)Xn(Oe);else if(ur.stateID!==Zn.stateID||ur.directionalLength!==Zn.directionalLength||ur.pointLength!==Zn.pointLength||ur.spotLength!==Zn.spotLength||ur.rectAreaLength!==Zn.rectAreaLength||ur.hemiLength!==Zn.hemiLength||ur.shadowsLength!==Zn.shadowsLength)ur.stateID=Zn.stateID,ur.directionalLength=Zn.directionalLength,ur.pointLength=Zn.pointLength,ur.spotLength=Zn.spotLength,ur.rectAreaLength=Zn.rectAreaLength,ur.hemiLength=Zn.hemiLength,ur.shadowsLength=Zn.shadowsLength,Ki=!1;else{if(mi.shaderID!==void 0)return;Ki=!1}if(Ki){if(mi.shaderID){var Va=Dd[mi.shaderID];Mn.shader={name:Oe.type,uniforms:Lo.clone(Va.uniforms),vertexShader:Va.vertexShader,fragmentShader:Va.fragmentShader}}else Mn.shader={name:Oe.type,uniforms:Oe.uniforms,vertexShader:Oe.vertexShader,fragmentShader:Oe.fragmentShader};Oe.onBeforeCompile(Mn.shader,q),Vi=xi.getProgramCode(Oe,mi),Ei=xi.acquireProgram(Oe,Mn.shader,mi,Vi),Mn.program=Ei,Oe.program=Ei}var ti=Ei.getAttributes();if(Oe.morphTargets){Oe.numSupportedMorphTargets=0;for(var Er=0;Er<q.maxMorphTargets;Er++)ti["morphTarget"+Er]>=0&&Oe.numSupportedMorphTargets++}if(Oe.morphNormals){Oe.numSupportedMorphNormals=0;for(var Er=0;Er<q.maxMorphNormals;Er++)ti["morphNormal"+Er]>=0&&Oe.numSupportedMorphNormals++}var _i=Mn.shader.uniforms;(!Oe.isShaderMaterial&&!Oe.isRawShaderMaterial||Oe.clipping===!0)&&(Mn.numClippingPlanes=In.numPlanes,Mn.numIntersection=In.numIntersection,_i.clippingPlanes=In.uniform),Mn.fog=Ze,ur===void 0&&(Mn.lightsHash=ur={}),ur.stateID=Zn.stateID,ur.directionalLength=Zn.directionalLength,ur.pointLength=Zn.pointLength,ur.spotLength=Zn.spotLength,ur.rectAreaLength=Zn.rectAreaLength,ur.hemiLength=Zn.hemiLength,ur.shadowsLength=Zn.shadowsLength,Oe.lights&&(_i.ambientLightColor.value=Kn.state.ambient,_i.directionalLights.value=Kn.state.directional,_i.spotLights.value=Kn.state.spot,_i.rectAreaLights.value=Kn.state.rectArea,_i.pointLights.value=Kn.state.point,_i.hemisphereLights.value=Kn.state.hemi,_i.directionalShadowMap.value=Kn.state.directionalShadowMap,_i.directionalShadowMatrix.value=Kn.state.directionalShadowMatrix,_i.spotShadowMap.value=Kn.state.spotShadowMap,_i.spotShadowMatrix.value=Kn.state.spotShadowMatrix,_i.pointShadowMap.value=Kn.state.pointShadowMap,_i.pointShadowMatrix.value=Kn.state.pointShadowMatrix);var Ua=Mn.program.getUniforms(),fu=Fc.seqWithValue(Ua.seq,_i);Mn.uniformsList=fu}function xs(Oe,Ze,mt,Mn){Ct=0;var Kn=jr.get(mt),ui=H.state.lights,ur=Kn.lightsHash,Zn=ui.state.hash;if(it&&(Qe||Oe!==Ie)){var mi=Oe===Ie&&mt.id===Ae;In.setState(mt.clippingPlanes,mt.clipIntersection,mt.clipShadows,Oe,Kn,mi)}mt.needsUpdate===!1&&(Kn.program===void 0||mt.fog&&Kn.fog!==Ze||mt.lights&&(ur.stateID!==Zn.stateID||ur.directionalLength!==Zn.directionalLength||ur.pointLength!==Zn.pointLength||ur.spotLength!==Zn.spotLength||ur.rectAreaLength!==Zn.rectAreaLength||ur.hemiLength!==Zn.hemiLength||ur.shadowsLength!==Zn.shadowsLength)||Kn.numClippingPlanes!==void 0&&(Kn.numClippingPlanes!==In.numPlanes||Kn.numIntersection!==In.numIntersection))&&(mt.needsUpdate=!0),mt.needsUpdate&&(Po(mt,Ze,Mn),mt.needsUpdate=!1);var Vi=!1,Ei=!1,Ki=!1,Va=Kn.program,ti=Va.getUniforms(),Er=Kn.shader.uniforms;if(En.useProgram(Va.program)&&(Vi=!0,Ei=!0,Ki=!0),mt.id!==Ae&&(Ae=mt.id,Ei=!0),Vi||Ie!==Oe){if(ti.setValue(_t,"projectionMatrix",Oe.projectionMatrix),qn.logarithmicDepthBuffer&&ti.setValue(_t,"logDepthBufFC",2/(Math.log(Oe.far+1)/Math.LN2)),Ie!==Oe&&(Ie=Oe,Ei=!0,Ki=!0),mt.isShaderMaterial||mt.isMeshPhongMaterial||mt.isMeshStandardMaterial||mt.envMap){var _i=ti.map.cameraPosition;_i!==void 0&&_i.setValue(_t,Ht.setFromMatrixPosition(Oe.matrixWorld))}(mt.isMeshPhongMaterial||mt.isMeshLambertMaterial||mt.isMeshBasicMaterial||mt.isMeshStandardMaterial||mt.isShaderMaterial||mt.skinning)&&ti.setValue(_t,"viewMatrix",Oe.matrixWorldInverse)}if(mt.skinning){ti.setOptional(_t,Mn,"bindMatrix"),ti.setOptional(_t,Mn,"bindMatrixInverse");var Ua=Mn.skeleton;if(Ua){var fu=Ua.bones;if(qn.floatVertexTextures){if(Ua.boneTexture===void 0){var wa=Math.sqrt(fu.length*4);wa=Rr.ceilPowerOfTwo(wa),wa=Math.max(wa,4);var Yu=new Float32Array(wa*wa*4);Yu.set(Ua.boneMatrices);var Oy=new Vu(Yu,wa,wa,da,vr);Oy.needsUpdate=!0,Ua.boneMatrices=Yu,Ua.boneTexture=Oy,Ua.boneTextureSize=wa}ti.setValue(_t,"boneTexture",Ua.boneTexture),ti.setValue(_t,"boneTextureSize",Ua.boneTextureSize)}else ti.setOptional(_t,Ua,"boneMatrices")}}return Ei&&(ti.setValue(_t,"toneMappingExposure",q.toneMappingExposure),ti.setValue(_t,"toneMappingWhitePoint",q.toneMappingWhitePoint),mt.lights&&k6(Er,Ki),Ze&&mt.fog&&ky(Er,Ze),mt.isMeshBasicMaterial?du(Er,mt):mt.isMeshLambertMaterial?(du(Er,mt),Iy(Er,mt)):mt.isMeshPhongMaterial?(du(Er,mt),mt.isMeshToonMaterial?T6(Er,mt):sf(Er,mt)):mt.isMeshStandardMaterial?(du(Er,mt),mt.isMeshPhysicalMaterial?A6(Er,mt):XT(Er,mt)):mt.isMeshDepthMaterial?(du(Er,mt),L6(Er,mt)):mt.isMeshDistanceMaterial?(du(Er,mt),R6(Er,mt)):mt.isMeshNormalMaterial?(du(Er,mt),P6(Er,mt)):mt.isLineBasicMaterial?(Ry(Er,mt),mt.isLineDashedMaterial&&Py(Er,mt)):mt.isPointsMaterial?J1(Er,mt):mt.isSpriteMaterial?Q1(Er,mt):mt.isShadowMaterial&&(Er.color.value=mt.color,Er.opacity.value=mt.opacity),Er.ltc_1!==void 0&&(Er.ltc_1.value=fr.LTC_1),Er.ltc_2!==void 0&&(Er.ltc_2.value=fr.LTC_2),Fc.upload(_t,Kn.uniformsList,Er,q)),mt.isShaderMaterial&&mt.uniformsNeedUpdate===!0&&(Fc.upload(_t,Kn.uniformsList,Er,q),mt.uniformsNeedUpdate=!1),mt.isSpriteMaterial&&ti.setValue(_t,"center",Mn.center),ti.setValue(_t,"modelViewMatrix",Mn.modelViewMatrix),ti.setValue(_t,"normalMatrix",Mn.normalMatrix),ti.setValue(_t,"modelMatrix",Mn.matrixWorld),Va}function du(Oe,Ze){Oe.opacity.value=Ze.opacity,Ze.color&&(Oe.diffuse.value=Ze.color),Ze.emissive&&Oe.emissive.value.copy(Ze.emissive).multiplyScalar(Ze.emissiveIntensity),Ze.map&&(Oe.map.value=Ze.map),Ze.alphaMap&&(Oe.alphaMap.value=Ze.alphaMap),Ze.specularMap&&(Oe.specularMap.value=Ze.specularMap),Ze.envMap&&(Oe.envMap.value=Ze.envMap,Oe.flipEnvMap.value=Ze.envMap&&Ze.envMap.isCubeTexture?-1:1,Oe.reflectivity.value=Ze.reflectivity,Oe.refractionRatio.value=Ze.refractionRatio,Oe.maxMipLevel.value=jr.get(Ze.envMap).__maxMipLevel),Ze.lightMap&&(Oe.lightMap.value=Ze.lightMap,Oe.lightMapIntensity.value=Ze.lightMapIntensity),Ze.aoMap&&(Oe.aoMap.value=Ze.aoMap,Oe.aoMapIntensity.value=Ze.aoMapIntensity);var mt;Ze.map?mt=Ze.map:Ze.specularMap?mt=Ze.specularMap:Ze.displacementMap?mt=Ze.displacementMap:Ze.normalMap?mt=Ze.normalMap:Ze.bumpMap?mt=Ze.bumpMap:Ze.roughnessMap?mt=Ze.roughnessMap:Ze.metalnessMap?mt=Ze.metalnessMap:Ze.alphaMap?mt=Ze.alphaMap:Ze.emissiveMap&&(mt=Ze.emissiveMap),mt!==void 0&&(mt.isWebGLRenderTarget&&(mt=mt.texture),mt.matrixAutoUpdate===!0&&mt.updateMatrix(),Oe.uvTransform.value.copy(mt.matrix))}function Ry(Oe,Ze){Oe.diffuse.value=Ze.color,Oe.opacity.value=Ze.opacity}function Py(Oe,Ze){Oe.dashSize.value=Ze.dashSize,Oe.totalSize.value=Ze.dashSize+Ze.gapSize,Oe.scale.value=Ze.scale}function J1(Oe,Ze){Oe.diffuse.value=Ze.color,Oe.opacity.value=Ze.opacity,Oe.size.value=Ze.size*Nt,Oe.scale.value=It*.5,Oe.map.value=Ze.map,Ze.map!==null&&(Ze.map.matrixAutoUpdate===!0&&Ze.map.updateMatrix(),Oe.uvTransform.value.copy(Ze.map.matrix))}function Q1(Oe,Ze){Oe.diffuse.value=Ze.color,Oe.opacity.value=Ze.opacity,Oe.rotation.value=Ze.rotation,Oe.map.value=Ze.map,Ze.map!==null&&(Ze.map.matrixAutoUpdate===!0&&Ze.map.updateMatrix(),Oe.uvTransform.value.copy(Ze.map.matrix))}function ky(Oe,Ze){Oe.fogColor.value=Ze.color,Ze.isFog?(Oe.fogNear.value=Ze.near,Oe.fogFar.value=Ze.far):Ze.isFogExp2&&(Oe.fogDensity.value=Ze.density)}function Iy(Oe,Ze){Ze.emissiveMap&&(Oe.emissiveMap.value=Ze.emissiveMap)}function sf(Oe,Ze){Oe.specular.value=Ze.specular,Oe.shininess.value=Math.max(Ze.shininess,1e-4),Ze.emissiveMap&&(Oe.emissiveMap.value=Ze.emissiveMap),Ze.bumpMap&&(Oe.bumpMap.value=Ze.bumpMap,Oe.bumpScale.value=Ze.bumpScale,Ze.side===w&&(Oe.bumpScale.value*=-1)),Ze.normalMap&&(Oe.normalMap.value=Ze.normalMap,Oe.normalScale.value.copy(Ze.normalScale),Ze.side===w&&Oe.normalScale.value.negate()),Ze.displacementMap&&(Oe.displacementMap.value=Ze.displacementMap,Oe.displacementScale.value=Ze.displacementScale,Oe.displacementBias.value=Ze.displacementBias)}function T6(Oe,Ze){sf(Oe,Ze),Ze.gradientMap&&(Oe.gradientMap.value=Ze.gradientMap)}function XT(Oe,Ze){Oe.roughness.value=Ze.roughness,Oe.metalness.value=Ze.metalness,Ze.roughnessMap&&(Oe.roughnessMap.value=Ze.roughnessMap),Ze.metalnessMap&&(Oe.metalnessMap.value=Ze.metalnessMap),Ze.emissiveMap&&(Oe.emissiveMap.value=Ze.emissiveMap),Ze.bumpMap&&(Oe.bumpMap.value=Ze.bumpMap,Oe.bumpScale.value=Ze.bumpScale,Ze.side===w&&(Oe.bumpScale.value*=-1)),Ze.normalMap&&(Oe.normalMap.value=Ze.normalMap,Oe.normalScale.value.copy(Ze.normalScale),Ze.side===w&&Oe.normalScale.value.negate()),Ze.displacementMap&&(Oe.displacementMap.value=Ze.displacementMap,Oe.displacementScale.value=Ze.displacementScale,Oe.displacementBias.value=Ze.displacementBias),Ze.envMap&&(Oe.envMapIntensity.value=Ze.envMapIntensity)}function A6(Oe,Ze){XT(Oe,Ze),Oe.reflectivity.value=Ze.reflectivity,Oe.clearCoat.value=Ze.clearCoat,Oe.clearCoatRoughness.value=Ze.clearCoatRoughness}function L6(Oe,Ze){Ze.displacementMap&&(Oe.displacementMap.value=Ze.displacementMap,Oe.displacementScale.value=Ze.displacementScale,Oe.displacementBias.value=Ze.displacementBias)}function R6(Oe,Ze){Ze.displacementMap&&(Oe.displacementMap.value=Ze.displacementMap,Oe.displacementScale.value=Ze.displacementScale,Oe.displacementBias.value=Ze.displacementBias),Oe.referencePosition.value.copy(Ze.referencePosition),Oe.nearDistance.value=Ze.nearDistance,Oe.farDistance.value=Ze.farDistance}function P6(Oe,Ze){Ze.bumpMap&&(Oe.bumpMap.value=Ze.bumpMap,Oe.bumpScale.value=Ze.bumpScale,Ze.side===w&&(Oe.bumpScale.value*=-1)),Ze.normalMap&&(Oe.normalMap.value=Ze.normalMap,Oe.normalScale.value.copy(Ze.normalScale),Ze.side===w&&Oe.normalScale.value.negate()),Ze.displacementMap&&(Oe.displacementMap.value=Ze.displacementMap,Oe.displacementScale.value=Ze.displacementScale,Oe.displacementBias.value=Ze.displacementBias)}function k6(Oe,Ze){Oe.ambientLightColor.needsUpdate=Ze,Oe.directionalLights.needsUpdate=Ze,Oe.pointLights.needsUpdate=Ze,Oe.spotLights.needsUpdate=Ze,Oe.rectAreaLights.needsUpdate=Ze,Oe.hemisphereLights.needsUpdate=Ze}function I6(){var Oe=Ct;return Oe>=qn.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+Oe+" texture units while this GPU supports only "+qn.maxTextures),Ct+=1,Oe}this.allocTextureUnit=I6,this.setTexture2D=function(){var Oe=!1;return function(mt,Mn){mt&&mt.isWebGLRenderTarget&&(Oe||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),Oe=!0),mt=mt.texture),Zr.setTexture2D(mt,Mn)}}(),this.setTexture=function(){var Oe=!1;return function(mt,Mn){Oe||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),Oe=!0),Zr.setTexture2D(mt,Mn)}}(),this.setTextureCube=function(){var Oe=!1;return function(mt,Mn){mt&&mt.isWebGLRenderTargetCube&&(Oe||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Oe=!0),mt=mt.texture),mt&&mt.isCubeTexture||Array.isArray(mt.image)&&mt.image.length===6?Zr.setTextureCube(mt,Mn):Zr.setTextureCubeDynamic(mt,Mn)}}(),this.setFramebuffer=function(Oe){oe=Oe},this.getRenderTarget=function(){return _e},this.setRenderTarget=function(Oe){_e=Oe,Oe&&jr.get(Oe).__webglFramebuffer===void 0&&Zr.setupRenderTarget(Oe);var Ze=oe,mt=!1;if(Oe){var Mn=jr.get(Oe).__webglFramebuffer;Oe.isWebGLRenderTargetCube?(Ze=Mn[Oe.activeCubeFace],mt=!0):Ze=Mn,st.copy(Oe.viewport),ft.copy(Oe.scissor),ut=Oe.scissorTest}else st.copy(ln).multiplyScalar(Nt),ft.copy(Cn).multiplyScalar(Nt),ut=pn;if(Ce!==Ze&&(_t.bindFramebuffer(_t.FRAMEBUFFER,Ze),Ce=Ze),En.viewport(st),En.scissor(ft),En.setScissorTest(ut),mt){var Kn=jr.get(Oe.texture);_t.framebufferTexture2D(_t.FRAMEBUFFER,_t.COLOR_ATTACHMENT0,_t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe.activeCubeFace,Kn.__webglTexture,Oe.activeMipMapLevel)}},this.readRenderTargetPixels=function(Oe,Ze,mt,Mn,Kn,ui){if(!(Oe&&Oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var ur=jr.get(Oe).__webglFramebuffer;if(ur){var Zn=!1;ur!==Ce&&(_t.bindFramebuffer(_t.FRAMEBUFFER,ur),Zn=!0);try{var mi=Oe.texture,Vi=mi.format,Ei=mi.type;if(Vi!==da&&ba.convert(Vi)!==_t.getParameter(_t.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ei!==Dt&&ba.convert(Ei)!==_t.getParameter(_t.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ei===vr&&(qn.isWebGL2||dn.get("OES_texture_float")||dn.get("WEBGL_color_buffer_float")))&&!(Ei===Ji&&(qn.isWebGL2?dn.get("EXT_color_buffer_float"):dn.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_t.checkFramebufferStatus(_t.FRAMEBUFFER)===_t.FRAMEBUFFER_COMPLETE?Ze>=0&&Ze<=Oe.width-Mn&&mt>=0&&mt<=Oe.height-Kn&&_t.readPixels(Ze,mt,Mn,Kn,ba.convert(Vi),ba.convert(Ei),ui):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Zn&&_t.bindFramebuffer(_t.FRAMEBUFFER,Ce)}}},this.copyFramebufferToTexture=function(Oe,Ze,mt){var Mn=Ze.image.width,Kn=Ze.image.height,ui=ba.convert(Ze.format);this.setTexture2D(Ze,0),_t.copyTexImage2D(_t.TEXTURE_2D,mt||0,ui,Oe.x,Oe.y,Mn,Kn,0)},this.copyTextureToTexture=function(Oe,Ze,mt,Mn){var Kn=Ze.image.width,ui=Ze.image.height,ur=ba.convert(mt.format),Zn=ba.convert(mt.type);this.setTexture2D(mt,0),Ze.isDataTexture?_t.texSubImage2D(_t.TEXTURE_2D,Mn||0,Oe.x,Oe.y,Kn,ui,ur,Zn,Ze.image.data):_t.texSubImage2D(_t.TEXTURE_2D,Mn||0,Oe.x,Oe.y,ur,Zn,Ze.image)}}function _h(i,l){this.name="",this.color=new cr(i),this.density=l!==void 0?l:25e-5}_h.prototype.isFogExp2=!0,_h.prototype.clone=function(){return new _h(this.color,this.density)},_h.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function wh(i,l,c){this.name="",this.color=new cr(i),this.near=l!==void 0?l:1,this.far=c!==void 0?c:1e3}wh.prototype.isFog=!0,wh.prototype.clone=function(){return new wh(this.color,this.near,this.far)},wh.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function iy(){Wn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}iy.prototype=Object.assign(Object.create(Wn.prototype),{constructor:iy,copy:function(i,l){return Wn.prototype.copy.call(this,i,l),i.background!==null&&(this.background=i.background.clone()),i.fog!==null&&(this.fog=i.fog.clone()),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.autoUpdate=i.autoUpdate,this.matrixAutoUpdate=i.matrixAutoUpdate,this},toJSON:function(i){var l=Wn.prototype.toJSON.call(this,i);return this.background!==null&&(l.object.background=this.background.toJSON(i)),this.fog!==null&&(l.object.fog=this.fog.toJSON()),l}});function Hd(i,l){this.array=i,this.stride=l,this.count=i!==void 0?i.length/l:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Hd.prototype,"needsUpdate",{set:function(i){i===!0&&this.version++}}),Object.assign(Hd.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(i){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=i!==void 0?i.length/this.stride:0,this.array=i,this},setDynamic:function(i){return this.dynamic=i,this},copy:function(i){return this.array=new i.array.constructor(i.array),this.count=i.count,this.stride=i.stride,this.dynamic=i.dynamic,this},copyAt:function(i,l,c){i*=this.stride,c*=l.stride;for(var p=0,_=this.stride;p<_;p++)this.array[i+p]=l.array[c+p];return this},set:function(i,l){return l===void 0&&(l=0),this.array.set(i,l),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(i){return this.onUploadCallback=i,this}});function lv(i,l,c,p){this.data=i,this.itemSize=l,this.offset=c,this.normalized=p===!0}Object.defineProperties(lv.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(lv.prototype,{isInterleavedBufferAttribute:!0,setX:function(i,l){return this.data.array[i*this.data.stride+this.offset]=l,this},setY:function(i,l){return this.data.array[i*this.data.stride+this.offset+1]=l,this},setZ:function(i,l){return this.data.array[i*this.data.stride+this.offset+2]=l,this},setW:function(i,l){return this.data.array[i*this.data.stride+this.offset+3]=l,this},getX:function(i){return this.data.array[i*this.data.stride+this.offset]},getY:function(i){return this.data.array[i*this.data.stride+this.offset+1]},getZ:function(i){return this.data.array[i*this.data.stride+this.offset+2]},getW:function(i){return this.data.array[i*this.data.stride+this.offset+3]},setXY:function(i,l,c){return i=i*this.data.stride+this.offset,this.data.array[i+0]=l,this.data.array[i+1]=c,this},setXYZ:function(i,l,c,p){return i=i*this.data.stride+this.offset,this.data.array[i+0]=l,this.data.array[i+1]=c,this.data.array[i+2]=p,this},setXYZW:function(i,l,c,p,_){return i=i*this.data.stride+this.offset,this.data.array[i+0]=l,this.data.array[i+1]=c,this.data.array[i+2]=p,this.data.array[i+3]=_,this}});function Vc(i){zr.call(this),this.type="SpriteMaterial",this.color=new cr(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(i)}Vc.prototype=Object.create(zr.prototype),Vc.prototype.constructor=Vc,Vc.prototype.isSpriteMaterial=!0,Vc.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this};var xh;function uv(i){if(Wn.call(this),this.type="Sprite",xh===void 0){xh=new er;var l=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),c=new Hd(l,5);xh.setIndex([0,1,2,0,2,3]),xh.addAttribute("position",new lv(c,3,0,!1)),xh.addAttribute("uv",new lv(c,2,3,!1))}this.geometry=xh,this.material=i!==void 0?i:new Vc,this.center=new gn(.5,.5)}uv.prototype=Object.assign(Object.create(Wn.prototype),{constructor:uv,isSprite:!0,raycast:function(){var i=new Ve,l=new Ve,c=new Ve,p=new gn,_=new gn,S=new gr,C=new Ve,k=new Ve,O=new Ve,z=new gn,V=new gn,H=new gn;function q(te,oe,_e,Ce,Ae,Ne){p.subVectors(te,_e).addScalar(.5).multiply(Ce),Ae!==void 0?(_.x=Ne*p.x-Ae*p.y,_.y=Ae*p.x+Ne*p.y):_.copy(p),te.copy(oe),te.x+=_.x,te.y+=_.y,te.applyMatrix4(S)}return function(oe,_e){l.setFromMatrixScale(this.matrixWorld),S.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),c.setFromMatrixPosition(this.modelViewMatrix);var Ce=this.material.rotation,Ae,Ne;Ce!==0&&(Ne=Math.cos(Ce),Ae=Math.sin(Ce));var Ie=this.center;q(C.set(-.5,-.5,0),c,Ie,l,Ae,Ne),q(k.set(.5,-.5,0),c,Ie,l,Ae,Ne),q(O.set(.5,.5,0),c,Ie,l,Ae,Ne),z.set(0,0),V.set(1,0),H.set(1,1);var Le=oe.ray.intersectTriangle(C,k,O,!1,i);if(!(Le===null&&(q(k.set(-.5,.5,0),c,Ie,l,Ae,Ne),V.set(0,1),Le=oe.ray.intersectTriangle(C,O,k,!1,i),Le===null))){var st=oe.ray.origin.distanceTo(i);st<oe.near||st>oe.far||_e.push({distance:st,point:i.clone(),uv:fo.getUV(i,C,k,O,z,V,H,new gn),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(i){return Wn.prototype.copy.call(this,i),i.center!==void 0&&this.center.copy(i.center),this}});function cv(){Wn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}cv.prototype=Object.assign(Object.create(Wn.prototype),{constructor:cv,copy:function(i){Wn.prototype.copy.call(this,i,!1);for(var l=i.levels,c=0,p=l.length;c<p;c++){var _=l[c];this.addLevel(_.object.clone(),_.distance)}return this},addLevel:function(i,l){l===void 0&&(l=0),l=Math.abs(l);for(var c=this.levels,p=0;p<c.length&&!(l<c[p].distance);p++);c.splice(p,0,{distance:l,object:i}),this.add(i)},getObjectForDistance:function(i){for(var l=this.levels,c=1,p=l.length;c<p&&!(i<l[c].distance);c++);return l[c-1].object},raycast:function(){var i=new Ve;return function(c,p){i.setFromMatrixPosition(this.matrixWorld);var _=c.ray.origin.distanceTo(i);this.getObjectForDistance(_).raycast(c,p)}}(),update:function(){var i=new Ve,l=new Ve;return function(p){var _=this.levels;if(_.length>1){i.setFromMatrixPosition(p.matrixWorld),l.setFromMatrixPosition(this.matrixWorld);var S=i.distanceTo(l);_[0].object.visible=!0;for(var C=1,k=_.length;C<k&&S>=_[C].distance;C++)_[C-1].object.visible=!1,_[C].object.visible=!0;for(;C<k;C++)_[C].object.visible=!1}}}(),toJSON:function(i){var l=Wn.prototype.toJSON.call(this,i);l.object.levels=[];for(var c=this.levels,p=0,_=c.length;p<_;p++){var S=c[p];l.object.levels.push({object:S.object.uuid,distance:S.distance})}return l}});function dv(i,l){if(i=i||[],this.bones=i.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),l===void 0)this.calculateInverses();else if(this.bones.length===l.length)this.boneInverses=l.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var c=0,p=this.bones.length;c<p;c++)this.boneInverses.push(new gr)}}Object.assign(dv.prototype,{calculateInverses:function(){this.boneInverses=[];for(var i=0,l=this.bones.length;i<l;i++){var c=new gr;this.bones[i]&&c.getInverse(this.bones[i].matrixWorld),this.boneInverses.push(c)}},pose:function(){var i,l,c;for(l=0,c=this.bones.length;l<c;l++)i=this.bones[l],i&&i.matrixWorld.getInverse(this.boneInverses[l]);for(l=0,c=this.bones.length;l<c;l++)i=this.bones[l],i&&(i.parent&&i.parent.isBone?(i.matrix.getInverse(i.parent.matrixWorld),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))},update:function(){var i=new gr,l=new gr;return function(){for(var p=this.bones,_=this.boneInverses,S=this.boneMatrices,C=this.boneTexture,k=0,O=p.length;k<O;k++){var z=p[k]?p[k].matrixWorld:l;i.multiplyMatrices(z,_[k]),i.toArray(S,k*16)}C!==void 0&&(C.needsUpdate=!0)}}(),clone:function(){return new dv(this.bones,this.boneInverses)},getBoneByName:function(i){for(var l=0,c=this.bones.length;l<c;l++){var p=this.bones[l];if(p.name===i)return p}}});function ay(){Wn.call(this),this.type="Bone"}ay.prototype=Object.assign(Object.create(Wn.prototype),{constructor:ay,isBone:!0});function oy(i,l){Xo.call(this,i,l),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new gr,this.bindMatrixInverse=new gr;var c=this.initBones(),p=new dv(c);this.bind(p,this.matrixWorld),this.normalizeSkinWeights()}oy.prototype=Object.assign(Object.create(Xo.prototype),{constructor:oy,isSkinnedMesh:!0,initBones:function(){var i=[],l,c,p,_;if(this.geometry&&this.geometry.bones!==void 0){for(p=0,_=this.geometry.bones.length;p<_;p++)c=this.geometry.bones[p],l=new ay,i.push(l),l.name=c.name,l.position.fromArray(c.pos),l.quaternion.fromArray(c.rotq),c.scl!==void 0&&l.scale.fromArray(c.scl);for(p=0,_=this.geometry.bones.length;p<_;p++)c=this.geometry.bones[p],c.parent!==-1&&c.parent!==null&&i[c.parent]!==void 0?i[c.parent].add(i[p]):this.add(i[p])}return this.updateMatrixWorld(!0),i},bind:function(i,l){this.skeleton=i,l===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),l=this.matrixWorld),this.bindMatrix.copy(l),this.bindMatrixInverse.getInverse(l)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var i,l;if(this.geometry&&this.geometry.isGeometry)for(l=0;l<this.geometry.skinWeights.length;l++){var c=this.geometry.skinWeights[l];i=1/c.manhattanLength(),i!==1/0?c.multiplyScalar(i):c.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var p=new yi,_=this.geometry.attributes.skinWeight;for(l=0;l<_.count;l++)p.x=_.getX(l),p.y=_.getY(l),p.z=_.getZ(l),p.w=_.getW(l),i=1/p.manhattanLength(),i!==1/0?p.multiplyScalar(i):p.set(1,0,0,0),_.setXYZW(l,p.x,p.y,p.z,p.w)}},updateMatrixWorld:function(i){Xo.prototype.updateMatrixWorld.call(this,i),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Oi(i){zr.call(this),this.type="LineBasicMaterial",this.color=new cr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(i)}Oi.prototype=Object.create(zr.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isLineBasicMaterial=!0,Oi.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this};function Zo(i,l,c){c===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Wn.call(this),this.type="Line",this.geometry=i!==void 0?i:new er,this.material=l!==void 0?l:new Oi({color:Math.random()*16777215})}Zo.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Zo,isLine:!0,computeLineDistances:function(){var i=new Ve,l=new Ve;return function(){var p=this.geometry;if(p.isBufferGeometry)if(p.index===null){for(var _=p.attributes.position,S=[0],C=1,k=_.count;C<k;C++)i.fromBufferAttribute(_,C-1),l.fromBufferAttribute(_,C),S[C]=S[C-1],S[C]+=i.distanceTo(l);p.addAttribute("lineDistance",new zn(S,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(p.isGeometry){var O=p.vertices,S=p.lineDistances;S[0]=0;for(var C=1,k=O.length;C<k;C++)S[C]=S[C-1],S[C]+=O[C-1].distanceTo(O[C])}return this}}(),raycast:function(){var i=new gr,l=new Ud,c=new Ao;return function(_,S){var C=_.linePrecision,k=this.geometry,O=this.matrixWorld;if(k.boundingSphere===null&&k.computeBoundingSphere(),c.copy(k.boundingSphere),c.applyMatrix4(O),c.radius+=C,_.ray.intersectsSphere(c)!==!1){i.getInverse(O),l.copy(_.ray).applyMatrix4(i);var z=C/((this.scale.x+this.scale.y+this.scale.z)/3),V=z*z,H=new Ve,q=new Ve,te=new Ve,oe=new Ve,_e=this&&this.isLineSegments?2:1;if(k.isBufferGeometry){var Ce=k.index,Ae=k.attributes,Ne=Ae.position.array;if(Ce!==null)for(var Ie=Ce.array,Le=0,st=Ie.length-1;Le<st;Le+=_e){var ft=Ie[Le],ut=Ie[Le+1];H.fromArray(Ne,ft*3),q.fromArray(Ne,ut*3);var Ct=l.distanceSqToSegment(H,q,oe,te);if(!(Ct>V)){oe.applyMatrix4(this.matrixWorld);var ht=_.ray.origin.distanceTo(oe);ht<_.near||ht>_.far||S.push({distance:ht,point:te.clone().applyMatrix4(this.matrixWorld),index:Le,face:null,faceIndex:null,object:this})}}else for(var Le=0,st=Ne.length/3-1;Le<st;Le+=_e){H.fromArray(Ne,3*Le),q.fromArray(Ne,3*Le+3);var Ct=l.distanceSqToSegment(H,q,oe,te);if(!(Ct>V)){oe.applyMatrix4(this.matrixWorld);var ht=_.ray.origin.distanceTo(oe);ht<_.near||ht>_.far||S.push({distance:ht,point:te.clone().applyMatrix4(this.matrixWorld),index:Le,face:null,faceIndex:null,object:this})}}}else if(k.isGeometry)for(var It=k.vertices,Nt=It.length,Le=0;Le<Nt-1;Le+=_e){var Ct=l.distanceSqToSegment(It[Le],It[Le+1],oe,te);if(!(Ct>V)){oe.applyMatrix4(this.matrixWorld);var ht=_.ray.origin.distanceTo(oe);ht<_.near||ht>_.far||S.push({distance:ht,point:te.clone().applyMatrix4(this.matrixWorld),index:Le,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Gi(i,l){Zo.call(this,i,l),this.type="LineSegments"}Gi.prototype=Object.assign(Object.create(Zo.prototype),{constructor:Gi,isLineSegments:!0,computeLineDistances:function(){var i=new Ve,l=new Ve;return function(){var p=this.geometry;if(p.isBufferGeometry)if(p.index===null){for(var _=p.attributes.position,S=[],C=0,k=_.count;C<k;C+=2)i.fromBufferAttribute(_,C),l.fromBufferAttribute(_,C+1),S[C]=C===0?0:S[C-1],S[C+1]=S[C]+i.distanceTo(l);p.addAttribute("lineDistance",new zn(S,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(p.isGeometry)for(var O=p.vertices,S=p.lineDistances,C=0,k=O.length;C<k;C+=2)i.copy(O[C]),l.copy(O[C+1]),S[C]=C===0?0:S[C-1],S[C+1]=S[C]+i.distanceTo(l);return this}}()});function sy(i,l){Zo.call(this,i,l),this.type="LineLoop"}sy.prototype=Object.assign(Object.create(Zo.prototype),{constructor:sy,isLineLoop:!0});function hl(i){zr.call(this),this.type="PointsMaterial",this.color=new cr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(i)}hl.prototype=Object.create(zr.prototype),hl.prototype.constructor=hl,hl.prototype.isPointsMaterial=!0,hl.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this.morphTargets=i.morphTargets,this};function Sh(i,l){Wn.call(this),this.type="Points",this.geometry=i!==void 0?i:new er,this.material=l!==void 0?l:new hl({color:Math.random()*16777215})}Sh.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Sh,isPoints:!0,raycast:function(){var i=new gr,l=new Ud,c=new Ao;return function(_,S){var C=this,k=this.geometry,O=this.matrixWorld,z=_.params.Points.threshold;if(k.boundingSphere===null&&k.computeBoundingSphere(),c.copy(k.boundingSphere),c.applyMatrix4(O),c.radius+=z,_.ray.intersectsSphere(c)===!1)return;i.getInverse(O),l.copy(_.ray).applyMatrix4(i);var V=z/((this.scale.x+this.scale.y+this.scale.z)/3),H=V*V,q=new Ve,te=new Ve;function oe(Ct,ht){var It=l.distanceSqToPoint(Ct);if(It<H){l.closestPointToPoint(Ct,te),te.applyMatrix4(O);var Nt=_.ray.origin.distanceTo(te);if(Nt<_.near||Nt>_.far)return;S.push({distance:Nt,distanceToRay:Math.sqrt(It),point:te.clone(),index:ht,face:null,object:C})}}if(k.isBufferGeometry){var _e=k.index,Ce=k.attributes,Ae=Ce.position.array;if(_e!==null)for(var Ne=_e.array,Ie=0,Le=Ne.length;Ie<Le;Ie++){var st=Ne[Ie];q.fromArray(Ae,st*3),oe(q,st)}else for(var Ie=0,ft=Ae.length/3;Ie<ft;Ie++)q.fromArray(Ae,Ie*3),oe(q,Ie)}else for(var ut=k.vertices,Ie=0,ft=ut.length;Ie<ft;Ie++)oe(ut[Ie],Ie)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function _1(i,l,c,p,_,S,C,k,O){zi.call(this,i,l,c,p,_,S,C,k,O),this.generateMipmaps=!1}_1.prototype=Object.assign(Object.create(zi.prototype),{constructor:_1,isVideoTexture:!0,update:function(){var i=this.image;i.readyState>=i.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Mh(i,l,c,p,_,S,C,k,O,z,V,H){zi.call(this,null,S,C,k,O,z,p,_,V,H),this.image={width:l,height:c},this.mipmaps=i,this.flipY=!1,this.generateMipmaps=!1}Mh.prototype=Object.create(zi.prototype),Mh.prototype.constructor=Mh,Mh.prototype.isCompressedTexture=!0;function fv(i,l,c,p,_,S,C,k,O){zi.call(this,i,l,c,p,_,S,C,k,O),this.needsUpdate=!0}fv.prototype=Object.create(zi.prototype),fv.prototype.constructor=fv,fv.prototype.isCanvasTexture=!0;function hv(i,l,c,p,_,S,C,k,O,z){if(z=z!==void 0?z:Be,z!==Be&&z!==vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");c===void 0&&z===Be&&(c=wn),c===void 0&&z===vt&&(c=ra),zi.call(this,null,p,_,S,C,k,z,c,O),this.image={width:i,height:l},this.magFilter=C!==void 0?C:xe,this.minFilter=k!==void 0?k:xe,this.flipY=!1,this.generateMipmaps=!1}hv.prototype=Object.create(zi.prototype),hv.prototype.constructor=hv,hv.prototype.isDepthTexture=!0;function Eh(i){er.call(this),this.type="WireframeGeometry";var l=[],c,p,_,S,C,k=[0,0],O={},z,V,H,q,te=["a","b","c"],oe;if(i&&i.isGeometry){var _e=i.faces;for(c=0,_=_e.length;c<_;c++){var Ce=_e[c];for(p=0;p<3;p++)V=Ce[te[p]],H=Ce[te[(p+1)%3]],k[0]=Math.min(V,H),k[1]=Math.max(V,H),q=k[0]+","+k[1],O[q]===void 0&&(O[q]={index1:k[0],index2:k[1]})}for(q in O)z=O[q],oe=i.vertices[z.index1],l.push(oe.x,oe.y,oe.z),oe=i.vertices[z.index2],l.push(oe.x,oe.y,oe.z)}else if(i&&i.isBufferGeometry){var Ae,Ne,Ie,Le,st,ft,ut,Ct;if(oe=new Ve,i.index!==null){for(Ae=i.attributes.position,Ne=i.index,Ie=i.groups,Ie.length===0&&(Ie=[{start:0,count:Ne.count,materialIndex:0}]),S=0,C=Ie.length;S<C;++S)for(Le=Ie[S],st=Le.start,ft=Le.count,c=st,_=st+ft;c<_;c+=3)for(p=0;p<3;p++)V=Ne.getX(c+p),H=Ne.getX(c+(p+1)%3),k[0]=Math.min(V,H),k[1]=Math.max(V,H),q=k[0]+","+k[1],O[q]===void 0&&(O[q]={index1:k[0],index2:k[1]});for(q in O)z=O[q],oe.fromBufferAttribute(Ae,z.index1),l.push(oe.x,oe.y,oe.z),oe.fromBufferAttribute(Ae,z.index2),l.push(oe.x,oe.y,oe.z)}else for(Ae=i.attributes.position,c=0,_=Ae.count/3;c<_;c++)for(p=0;p<3;p++)ut=3*c+p,oe.fromBufferAttribute(Ae,ut),l.push(oe.x,oe.y,oe.z),Ct=3*c+(p+1)%3,oe.fromBufferAttribute(Ae,Ct),l.push(oe.x,oe.y,oe.z)}this.addAttribute("position",new zn(l,3))}Eh.prototype=Object.create(er.prototype),Eh.prototype.constructor=Eh;function pv(i,l,c){Tr.call(this),this.type="ParametricGeometry",this.parameters={func:i,slices:l,stacks:c},this.fromBufferGeometry(new Ch(i,l,c)),this.mergeVertices()}pv.prototype=Object.create(Tr.prototype),pv.prototype.constructor=pv;function Ch(i,l,c){er.call(this),this.type="ParametricBufferGeometry",this.parameters={func:i,slices:l,stacks:c};var p=[],_=[],S=[],C=[],k=1e-5,O=new Ve,z=new Ve,V=new Ve,H=new Ve,q=new Ve,te,oe;i.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var _e=l+1;for(te=0;te<=c;te++){var Ce=te/c;for(oe=0;oe<=l;oe++){var Ae=oe/l;i(Ae,Ce,z),_.push(z.x,z.y,z.z),Ae-k>=0?(i(Ae-k,Ce,V),H.subVectors(z,V)):(i(Ae+k,Ce,V),H.subVectors(V,z)),Ce-k>=0?(i(Ae,Ce-k,V),q.subVectors(z,V)):(i(Ae,Ce+k,V),q.subVectors(V,z)),O.crossVectors(H,q).normalize(),S.push(O.x,O.y,O.z),C.push(Ae,Ce)}}for(te=0;te<c;te++)for(oe=0;oe<l;oe++){var Ne=te*_e+oe,Ie=te*_e+oe+1,Le=(te+1)*_e+oe+1,st=(te+1)*_e+oe;p.push(Ne,Ie,st),p.push(Ie,Le,st)}this.setIndex(p),this.addAttribute("position",new zn(_,3)),this.addAttribute("normal",new zn(S,3)),this.addAttribute("uv",new zn(C,2))}Ch.prototype=Object.create(er.prototype),Ch.prototype.constructor=Ch;function mv(i,l,c,p){Tr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:i,indices:l,radius:c,detail:p},this.fromBufferGeometry(new Jo(i,l,c,p)),this.mergeVertices()}mv.prototype=Object.create(Tr.prototype),mv.prototype.constructor=mv;function Jo(i,l,c,p){er.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:i,indices:l,radius:c,detail:p},c=c||1,p=p||0;var _=[],S=[];C(p),O(c),z(),this.addAttribute("position",new zn(_,3)),this.addAttribute("normal",new zn(_.slice(),3)),this.addAttribute("uv",new zn(S,2)),p===0?this.computeVertexNormals():this.normalizeNormals();function C(Ae){for(var Ne=new Ve,Ie=new Ve,Le=new Ve,st=0;st<l.length;st+=3)q(l[st+0],Ne),q(l[st+1],Ie),q(l[st+2],Le),k(Ne,Ie,Le,Ae)}function k(Ae,Ne,Ie,Le){var st=Math.pow(2,Le),ft=[],ut,Ct;for(ut=0;ut<=st;ut++){ft[ut]=[];var ht=Ae.clone().lerp(Ie,ut/st),It=Ne.clone().lerp(Ie,ut/st),Nt=st-ut;for(Ct=0;Ct<=Nt;Ct++)Ct===0&&ut===st?ft[ut][Ct]=ht:ft[ut][Ct]=ht.clone().lerp(It,Ct/Nt)}for(ut=0;ut<st;ut++)for(Ct=0;Ct<2*(st-ut)-1;Ct++){var ln=Math.floor(Ct/2);Ct%2===0?(H(ft[ut][ln+1]),H(ft[ut+1][ln]),H(ft[ut][ln])):(H(ft[ut][ln+1]),H(ft[ut+1][ln+1]),H(ft[ut+1][ln]))}}function O(Ae){for(var Ne=new Ve,Ie=0;Ie<_.length;Ie+=3)Ne.x=_[Ie+0],Ne.y=_[Ie+1],Ne.z=_[Ie+2],Ne.normalize().multiplyScalar(Ae),_[Ie+0]=Ne.x,_[Ie+1]=Ne.y,_[Ie+2]=Ne.z}function z(){for(var Ae=new Ve,Ne=0;Ne<_.length;Ne+=3){Ae.x=_[Ne+0],Ae.y=_[Ne+1],Ae.z=_[Ne+2];var Ie=_e(Ae)/2/Math.PI+.5,Le=Ce(Ae)/Math.PI+.5;S.push(Ie,1-Le)}te(),V()}function V(){for(var Ae=0;Ae<S.length;Ae+=6){var Ne=S[Ae+0],Ie=S[Ae+2],Le=S[Ae+4],st=Math.max(Ne,Ie,Le),ft=Math.min(Ne,Ie,Le);st>.9&&ft<.1&&(Ne<.2&&(S[Ae+0]+=1),Ie<.2&&(S[Ae+2]+=1),Le<.2&&(S[Ae+4]+=1))}}function H(Ae){_.push(Ae.x,Ae.y,Ae.z)}function q(Ae,Ne){var Ie=Ae*3;Ne.x=i[Ie+0],Ne.y=i[Ie+1],Ne.z=i[Ie+2]}function te(){for(var Ae=new Ve,Ne=new Ve,Ie=new Ve,Le=new Ve,st=new gn,ft=new gn,ut=new gn,Ct=0,ht=0;Ct<_.length;Ct+=9,ht+=6){Ae.set(_[Ct+0],_[Ct+1],_[Ct+2]),Ne.set(_[Ct+3],_[Ct+4],_[Ct+5]),Ie.set(_[Ct+6],_[Ct+7],_[Ct+8]),st.set(S[ht+0],S[ht+1]),ft.set(S[ht+2],S[ht+3]),ut.set(S[ht+4],S[ht+5]),Le.copy(Ae).add(Ne).add(Ie).divideScalar(3);var It=_e(Le);oe(st,ht+0,Ae,It),oe(ft,ht+2,Ne,It),oe(ut,ht+4,Ie,It)}}function oe(Ae,Ne,Ie,Le){Le<0&&Ae.x===1&&(S[Ne]=Ae.x-1),Ie.x===0&&Ie.z===0&&(S[Ne]=Le/2/Math.PI+.5)}function _e(Ae){return Math.atan2(Ae.z,-Ae.x)}function Ce(Ae){return Math.atan2(-Ae.y,Math.sqrt(Ae.x*Ae.x+Ae.z*Ae.z))}}Jo.prototype=Object.create(er.prototype),Jo.prototype.constructor=Jo;function vv(i,l){Tr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:i,detail:l},this.fromBufferGeometry(new Th(i,l)),this.mergeVertices()}vv.prototype=Object.create(Tr.prototype),vv.prototype.constructor=vv;function Th(i,l){var c=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],p=[2,1,0,0,3,2,1,3,0,2,3,1];Jo.call(this,c,p,i,l),this.type="TetrahedronBufferGeometry",this.parameters={radius:i,detail:l}}Th.prototype=Object.create(Jo.prototype),Th.prototype.constructor=Th;function gv(i,l){Tr.call(this),this.type="OctahedronGeometry",this.parameters={radius:i,detail:l},this.fromBufferGeometry(new $d(i,l)),this.mergeVertices()}gv.prototype=Object.create(Tr.prototype),gv.prototype.constructor=gv;function $d(i,l){var c=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],p=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Jo.call(this,c,p,i,l),this.type="OctahedronBufferGeometry",this.parameters={radius:i,detail:l}}$d.prototype=Object.create(Jo.prototype),$d.prototype.constructor=$d;function yv(i,l){Tr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:i,detail:l},this.fromBufferGeometry(new Ah(i,l)),this.mergeVertices()}yv.prototype=Object.create(Tr.prototype),yv.prototype.constructor=yv;function Ah(i,l){var c=(1+Math.sqrt(5))/2,p=[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],_=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Jo.call(this,p,_,i,l),this.type="IcosahedronBufferGeometry",this.parameters={radius:i,detail:l}}Ah.prototype=Object.create(Jo.prototype),Ah.prototype.constructor=Ah;function bv(i,l){Tr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:i,detail:l},this.fromBufferGeometry(new Lh(i,l)),this.mergeVertices()}bv.prototype=Object.create(Tr.prototype),bv.prototype.constructor=bv;function Lh(i,l){var c=(1+Math.sqrt(5))/2,p=1/c,_=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-p,-c,0,-p,c,0,p,-c,0,p,c,-p,-c,0,-p,c,0,p,-c,0,p,c,0,-c,0,-p,c,0,-p,-c,0,p,c,0,p],S=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Jo.call(this,_,S,i,l),this.type="DodecahedronBufferGeometry",this.parameters={radius:i,detail:l}}Lh.prototype=Object.create(Jo.prototype),Lh.prototype.constructor=Lh;function _v(i,l,c,p,_,S){Tr.call(this),this.type="TubeGeometry",this.parameters={path:i,tubularSegments:l,radius:c,radialSegments:p,closed:_},S!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var C=new Rh(i,l,c,p,_);this.tangents=C.tangents,this.normals=C.normals,this.binormals=C.binormals,this.fromBufferGeometry(C),this.mergeVertices()}_v.prototype=Object.create(Tr.prototype),_v.prototype.constructor=_v;function Rh(i,l,c,p,_){er.call(this),this.type="TubeBufferGeometry",this.parameters={path:i,tubularSegments:l,radius:c,radialSegments:p,closed:_},l=l||64,c=c||1,p=p||8,_=_||!1;var S=i.computeFrenetFrames(l,_);this.tangents=S.tangents,this.normals=S.normals,this.binormals=S.binormals;var C=new Ve,k=new Ve,O=new gn,z=new Ve,V,H,q=[],te=[],oe=[],_e=[];Ce(),this.setIndex(_e),this.addAttribute("position",new zn(q,3)),this.addAttribute("normal",new zn(te,3)),this.addAttribute("uv",new zn(oe,2));function Ce(){for(V=0;V<l;V++)Ae(V);Ae(_===!1?l:0),Ie(),Ne()}function Ae(Le){z=i.getPointAt(Le/l,z);var st=S.normals[Le],ft=S.binormals[Le];for(H=0;H<=p;H++){var ut=H/p*Math.PI*2,Ct=Math.sin(ut),ht=-Math.cos(ut);k.x=ht*st.x+Ct*ft.x,k.y=ht*st.y+Ct*ft.y,k.z=ht*st.z+Ct*ft.z,k.normalize(),te.push(k.x,k.y,k.z),C.x=z.x+c*k.x,C.y=z.y+c*k.y,C.z=z.z+c*k.z,q.push(C.x,C.y,C.z)}}function Ne(){for(H=1;H<=l;H++)for(V=1;V<=p;V++){var Le=(p+1)*(H-1)+(V-1),st=(p+1)*H+(V-1),ft=(p+1)*H+V,ut=(p+1)*(H-1)+V;_e.push(Le,st,ut),_e.push(st,ft,ut)}}function Ie(){for(V=0;V<=l;V++)for(H=0;H<=p;H++)O.x=V/l,O.y=H/p,oe.push(O.x,O.y)}}Rh.prototype=Object.create(er.prototype),Rh.prototype.constructor=Rh;function wv(i,l,c,p,_,S,C){Tr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:i,tube:l,tubularSegments:c,radialSegments:p,p:_,q:S},C!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Ph(i,l,c,p,_,S)),this.mergeVertices()}wv.prototype=Object.create(Tr.prototype),wv.prototype.constructor=wv;function Ph(i,l,c,p,_,S){er.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:i,tube:l,tubularSegments:c,radialSegments:p,p:_,q:S},i=i||1,l=l||.4,c=Math.floor(c)||64,p=Math.floor(p)||8,_=_||2,S=S||3;var C=[],k=[],O=[],z=[],V,H,q=new Ve,te=new Ve,oe=new Ve,_e=new Ve,Ce=new Ve,Ae=new Ve,Ne=new Ve;for(V=0;V<=c;++V){var Ie=V/c*_*Math.PI*2;for(Nt(Ie,_,S,i,oe),Nt(Ie+.01,_,S,i,_e),Ae.subVectors(_e,oe),Ne.addVectors(_e,oe),Ce.crossVectors(Ae,Ne),Ne.crossVectors(Ce,Ae),Ce.normalize(),Ne.normalize(),H=0;H<=p;++H){var Le=H/p*Math.PI*2,st=-l*Math.cos(Le),ft=l*Math.sin(Le);q.x=oe.x+(st*Ne.x+ft*Ce.x),q.y=oe.y+(st*Ne.y+ft*Ce.y),q.z=oe.z+(st*Ne.z+ft*Ce.z),k.push(q.x,q.y,q.z),te.subVectors(q,oe).normalize(),O.push(te.x,te.y,te.z),z.push(V/c),z.push(H/p)}}for(H=1;H<=c;H++)for(V=1;V<=p;V++){var ut=(p+1)*(H-1)+(V-1),Ct=(p+1)*H+(V-1),ht=(p+1)*H+V,It=(p+1)*(H-1)+V;C.push(ut,Ct,It),C.push(Ct,ht,It)}this.setIndex(C),this.addAttribute("position",new zn(k,3)),this.addAttribute("normal",new zn(O,3)),this.addAttribute("uv",new zn(z,2));function Nt(ln,Cn,pn,yn,In){var it=Math.cos(ln),Qe=Math.sin(ln),Qt=pn/Cn*ln,Ht=Math.cos(Qt);In.x=yn*(2+Ht)*.5*it,In.y=yn*(2+Ht)*Qe*.5,In.z=yn*Math.sin(Qt)*.5}}Ph.prototype=Object.create(er.prototype),Ph.prototype.constructor=Ph;function xv(i,l,c,p,_){Tr.call(this),this.type="TorusGeometry",this.parameters={radius:i,tube:l,radialSegments:c,tubularSegments:p,arc:_},this.fromBufferGeometry(new kh(i,l,c,p,_)),this.mergeVertices()}xv.prototype=Object.create(Tr.prototype),xv.prototype.constructor=xv;function kh(i,l,c,p,_){er.call(this),this.type="TorusBufferGeometry",this.parameters={radius:i,tube:l,radialSegments:c,tubularSegments:p,arc:_},i=i||1,l=l||.4,c=Math.floor(c)||8,p=Math.floor(p)||6,_=_||Math.PI*2;var S=[],C=[],k=[],O=[],z=new Ve,V=new Ve,H=new Ve,q,te;for(q=0;q<=c;q++)for(te=0;te<=p;te++){var oe=te/p*_,_e=q/c*Math.PI*2;V.x=(i+l*Math.cos(_e))*Math.cos(oe),V.y=(i+l*Math.cos(_e))*Math.sin(oe),V.z=l*Math.sin(_e),C.push(V.x,V.y,V.z),z.x=i*Math.cos(oe),z.y=i*Math.sin(oe),H.subVectors(V,z).normalize(),k.push(H.x,H.y,H.z),O.push(te/p),O.push(q/c)}for(q=1;q<=c;q++)for(te=1;te<=p;te++){var Ce=(p+1)*q+te-1,Ae=(p+1)*(q-1)+te-1,Ne=(p+1)*(q-1)+te,Ie=(p+1)*q+te;S.push(Ce,Ae,Ie),S.push(Ae,Ne,Ie)}this.setIndex(S),this.addAttribute("position",new zn(C,3)),this.addAttribute("normal",new zn(k,3)),this.addAttribute("uv",new zn(O,2))}kh.prototype=Object.create(er.prototype),kh.prototype.constructor=kh;var yU={triangulate:function(i,l,c){c=c||2;var p=l&&l.length,_=p?l[0]*c:i.length,S=xT(i,0,_,c,!0),C=[];if(!S)return C;var k,O,z,V,H,q,te;if(p&&(S=SU(i,l,S,c)),i.length>80*c){k=z=i[0],O=V=i[1];for(var oe=c;oe<_;oe+=c)H=i[oe],q=i[oe+1],H<k&&(k=H),q<O&&(O=q),H>z&&(z=H),q>V&&(V=q);te=Math.max(z-k,V-O),te=te!==0?1/te:0}return Mv(S,C,c,k,O,te),C}};function xT(i,l,c,p,_){var S,C;if(_===IU(i,l,c,p)>0)for(S=l;S<c;S+=p)C=ET(S,i[S],i[S+1],C);else for(S=c-p;S>=l;S-=p)C=ET(S,i[S],i[S+1],C);return C&&Gd(C,C.next)&&(Cv(C),C=C.next),C}function Sv(i,l){if(!i)return i;l||(l=i);var c=i,p;do if(p=!1,!c.steiner&&(Gd(c,c.next)||Ro(c.prev,c,c.next)===0)){if(Cv(c),c=l=c.prev,c===c.next)break;p=!0}else c=c.next;while(p||c!==l);return l}function Mv(i,l,c,p,_,S,C){if(i){!C&&S&&TU(i,p,_,S);for(var k=i,O,z;i.prev!==i.next;){if(O=i.prev,z=i.next,S?_U(i,p,_,S):bU(i)){l.push(O.i/c),l.push(i.i/c),l.push(z.i/c),Cv(i),i=z.next,k=z.next;continue}if(i=z,i===k){C?C===1?(i=wU(i,l,c),Mv(i,l,c,p,_,S,2)):C===2&&xU(i,l,c,p,_,S):Mv(Sv(i),l,c,p,_,S,1);break}}}}function bU(i){var l=i.prev,c=i,p=i.next;if(Ro(l,c,p)>=0)return!1;for(var _=i.next.next;_!==i.prev;){if(ly(l.x,l.y,c.x,c.y,p.x,p.y,_.x,_.y)&&Ro(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function _U(i,l,c,p){var _=i.prev,S=i,C=i.next;if(Ro(_,S,C)>=0)return!1;for(var k=_.x<S.x?_.x<C.x?_.x:C.x:S.x<C.x?S.x:C.x,O=_.y<S.y?_.y<C.y?_.y:C.y:S.y<C.y?S.y:C.y,z=_.x>S.x?_.x>C.x?_.x:C.x:S.x>C.x?S.x:C.x,V=_.y>S.y?_.y>C.y?_.y:C.y:S.y>C.y?S.y:C.y,H=w1(k,O,l,c,p),q=w1(z,V,l,c,p),te=i.nextZ;te&&te.z<=q;){if(te!==i.prev&&te!==i.next&&ly(_.x,_.y,S.x,S.y,C.x,C.y,te.x,te.y)&&Ro(te.prev,te,te.next)>=0)return!1;te=te.nextZ}for(te=i.prevZ;te&&te.z>=H;){if(te!==i.prev&&te!==i.next&&ly(_.x,_.y,S.x,S.y,C.x,C.y,te.x,te.y)&&Ro(te.prev,te,te.next)>=0)return!1;te=te.prevZ}return!0}function wU(i,l,c){var p=i;do{var _=p.prev,S=p.next.next;!Gd(_,S)&&ST(_,p,p.next,S)&&Ev(_,S)&&Ev(S,_)&&(l.push(_.i/c),l.push(p.i/c),l.push(S.i/c),Cv(p),Cv(p.next),p=i=S),p=p.next}while(p!==i);return p}function xU(i,l,c,p,_,S){var C=i;do{for(var k=C.next.next;k!==C.prev;){if(C.i!==k.i&&RU(C,k)){var O=MT(C,k);C=Sv(C,C.next),O=Sv(O,O.next),Mv(C,l,c,p,_,S),Mv(O,l,c,p,_,S);return}k=k.next}C=C.next}while(C!==i)}function SU(i,l,c,p){var _=[],S,C,k,O,z;for(S=0,C=l.length;S<C;S++)k=l[S]*p,O=S<C-1?l[S+1]*p:i.length,z=xT(i,k,O,p,!1),z===z.next&&(z.steiner=!0),_.push(LU(z));for(_.sort(MU),S=0;S<_.length;S++)EU(_[S],c),c=Sv(c,c.next);return c}function MU(i,l){return i.x-l.x}function EU(i,l){if(l=CU(i,l),l){var c=MT(l,i);Sv(c,c.next)}}function CU(i,l){var c=l,p=i.x,_=i.y,S=-1/0,C;do{if(_<=c.y&&_>=c.next.y&&c.next.y!==c.y){var k=c.x+(_-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(k<=p&&k>S){if(S=k,k===p){if(_===c.y)return c;if(_===c.next.y)return c.next}C=c.x<c.next.x?c:c.next}}c=c.next}while(c!==l);if(!C)return null;if(p===S)return C.prev;var O=C,z=C.x,V=C.y,H=1/0,q;for(c=C.next;c!==O;)p>=c.x&&c.x>=z&&p!==c.x&&ly(_<V?p:S,_,z,V,_<V?S:p,_,c.x,c.y)&&(q=Math.abs(_-c.y)/(p-c.x),(q<H||q===H&&c.x>C.x)&&Ev(c,i)&&(C=c,H=q)),c=c.next;return C}function TU(i,l,c,p){var _=i;do _.z===null&&(_.z=w1(_.x,_.y,l,c,p)),_.prevZ=_.prev,_.nextZ=_.next,_=_.next;while(_!==i);_.prevZ.nextZ=null,_.prevZ=null,AU(_)}function AU(i){var l,c,p,_,S,C,k,O,z=1;do{for(c=i,i=null,S=null,C=0;c;){for(C++,p=c,k=0,l=0;l<z&&(k++,p=p.nextZ,!!p);l++);for(O=z;k>0||O>0&&p;)k!==0&&(O===0||!p||c.z<=p.z)?(_=c,c=c.nextZ,k--):(_=p,p=p.nextZ,O--),S?S.nextZ=_:i=_,_.prevZ=S,S=_;c=p}S.nextZ=null,z*=2}while(C>1);return i}function w1(i,l,c,p,_){return i=32767*(i-c)*_,l=32767*(l-p)*_,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,i|l<<1}function LU(i){var l=i,c=i;do l.x<c.x&&(c=l),l=l.next;while(l!==i);return c}function ly(i,l,c,p,_,S,C,k){return(_-C)*(l-k)-(i-C)*(S-k)>=0&&(i-C)*(p-k)-(c-C)*(l-k)>=0&&(c-C)*(S-k)-(_-C)*(p-k)>=0}function RU(i,l){return i.next.i!==l.i&&i.prev.i!==l.i&&!PU(i,l)&&Ev(i,l)&&Ev(l,i)&&kU(i,l)}function Ro(i,l,c){return(l.y-i.y)*(c.x-l.x)-(l.x-i.x)*(c.y-l.y)}function Gd(i,l){return i.x===l.x&&i.y===l.y}function ST(i,l,c,p){return Gd(i,l)&&Gd(c,p)||Gd(i,p)&&Gd(c,l)?!0:Ro(i,l,c)>0!=Ro(i,l,p)>0&&Ro(c,p,i)>0!=Ro(c,p,l)>0}function PU(i,l){var c=i;do{if(c.i!==i.i&&c.next.i!==i.i&&c.i!==l.i&&c.next.i!==l.i&&ST(c,c.next,i,l))return!0;c=c.next}while(c!==i);return!1}function Ev(i,l){return Ro(i.prev,i,i.next)<0?Ro(i,l,i.next)>=0&&Ro(i,i.prev,l)>=0:Ro(i,l,i.prev)<0||Ro(i,i.next,l)<0}function kU(i,l){var c=i,p=!1,_=(i.x+l.x)/2,S=(i.y+l.y)/2;do c.y>S!=c.next.y>S&&c.next.y!==c.y&&_<(c.next.x-c.x)*(S-c.y)/(c.next.y-c.y)+c.x&&(p=!p),c=c.next;while(c!==i);return p}function MT(i,l){var c=new x1(i.i,i.x,i.y),p=new x1(l.i,l.x,l.y),_=i.next,S=l.prev;return i.next=l,l.prev=i,c.next=_,_.prev=c,p.next=c,c.prev=p,S.next=p,p.prev=S,p}function ET(i,l,c,p){var _=new x1(i,l,c);return p?(_.next=p.next,_.prev=p,p.next.prev=_,p.next=_):(_.prev=_,_.next=_),_}function Cv(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function x1(i,l,c){this.i=i,this.x=l,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function IU(i,l,c,p){for(var _=0,S=l,C=c-p;S<c;S+=p)_+=(i[C]-i[S])*(i[S+1]+i[C+1]),C=S;return _}var Wu={area:function(i){for(var l=i.length,c=0,p=l-1,_=0;_<l;p=_++)c+=i[p].x*i[_].y-i[_].x*i[p].y;return c*.5},isClockWise:function(i){return Wu.area(i)<0},triangulateShape:function(i,l){var c=[],p=[],_=[];CT(i),TT(c,i);var S=i.length;l.forEach(CT);for(var C=0;C<l.length;C++)p.push(S),S+=l[C].length,TT(c,l[C]);for(var k=yU.triangulate(c,p),C=0;C<k.length;C+=3)_.push(k.slice(C,C+3));return _}};function CT(i){var l=i.length;l>2&&i[l-1].equals(i[0])&&i.pop()}function TT(i,l){for(var c=0;c<l.length;c++)i.push(l[c].x),i.push(l[c].y)}function Wd(i,l){Tr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:i,options:l},this.fromBufferGeometry(new su(i,l)),this.mergeVertices()}Wd.prototype=Object.create(Tr.prototype),Wd.prototype.constructor=Wd,Wd.prototype.toJSON=function(){var i=Tr.prototype.toJSON.call(this),l=this.parameters.shapes,c=this.parameters.options;return AT(l,c,i)};function su(i,l){er.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:i,options:l},i=Array.isArray(i)?i:[i];for(var c=this,p=[],_=[],S=0,C=i.length;S<C;S++){var k=i[S];O(k)}this.addAttribute("position",new zn(p,3)),this.addAttribute("uv",new zn(_,2)),this.computeVertexNormals();function O(z){var V=[],H=l.curveSegments!==void 0?l.curveSegments:12,q=l.steps!==void 0?l.steps:1,te=l.depth!==void 0?l.depth:100,oe=l.bevelEnabled!==void 0?l.bevelEnabled:!0,_e=l.bevelThickness!==void 0?l.bevelThickness:6,Ce=l.bevelSize!==void 0?l.bevelSize:_e-2,Ae=l.bevelSegments!==void 0?l.bevelSegments:3,Ne=l.extrudePath,Ie=l.UVGenerator!==void 0?l.UVGenerator:OU;l.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),te=l.amount);var Le,st=!1,ft,ut,Ct,ht;Ne&&(Le=Ne.getSpacedPoints(q),st=!0,oe=!1,ft=Ne.computeFrenetFrames(q,!1),ut=new Ve,Ct=new Ve,ht=new Ve),oe||(Ae=0,_e=0,Ce=0);var It,Nt,ln,Cn=z.extractPoints(H),pn=Cn.shape,yn=Cn.holes,In=!Wu.isClockWise(pn);if(In)for(pn=pn.reverse(),Nt=0,ln=yn.length;Nt<ln;Nt++)It=yn[Nt],Wu.isClockWise(It)&&(yn[Nt]=It.reverse());var it=Wu.triangulateShape(pn,yn),Qe=pn;for(Nt=0,ln=yn.length;Nt<ln;Nt++)It=yn[Nt],pn=pn.concat(It);function Qt(li,Ot,Xn){return Ot||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ot.clone().multiplyScalar(Xn).add(li)}var Ht,Dn,_t,Ln,dn,qn=pn.length,En,Mr=it.length;function jr(li,Ot,Xn){var lr,Fr,ir,gi=li.x-Ot.x,Si=li.y-Ot.y,Di=Xn.x-li.x,_a=Xn.y-li.y,Li=gi*gi+Si*Si,Po=gi*_a-Si*Di;if(Math.abs(Po)>Number.EPSILON){var xs=Math.sqrt(Li),du=Math.sqrt(Di*Di+_a*_a),Ry=Ot.x-Si/xs,Py=Ot.y+gi/xs,J1=Xn.x-_a/du,Q1=Xn.y+Di/du,ky=((J1-Ry)*_a-(Q1-Py)*Di)/(gi*_a-Si*Di);lr=Ry+gi*ky-li.x,Fr=Py+Si*ky-li.y;var Iy=lr*lr+Fr*Fr;if(Iy<=2)return new gn(lr,Fr);ir=Math.sqrt(Iy/2)}else{var sf=!1;gi>Number.EPSILON?Di>Number.EPSILON&&(sf=!0):gi<-Number.EPSILON?Di<-Number.EPSILON&&(sf=!0):Math.sign(Si)===Math.sign(_a)&&(sf=!0),sf?(lr=-Si,Fr=gi,ir=Math.sqrt(Li)):(lr=gi,Fr=Si,ir=Math.sqrt(Li/2))}return new gn(lr/ir,Fr/ir)}for(var Zr=[],An=0,ai=Qe.length,oa=ai-1,xi=An+1;An<ai;An++,oa++,xi++)oa===ai&&(oa=0),xi===ai&&(xi=0),Zr[An]=jr(Qe[An],Qe[oa],Qe[xi]);var ns=[],sa,Ba=Zr.concat();for(Nt=0,ln=yn.length;Nt<ln;Nt++){for(It=yn[Nt],sa=[],An=0,ai=It.length,oa=ai-1,xi=An+1;An<ai;An++,oa++,xi++)oa===ai&&(oa=0),xi===ai&&(xi=0),sa[An]=jr(It[An],It[oa],It[xi]);ns.push(sa),Ba=Ba.concat(sa)}for(Ht=0;Ht<Ae;Ht++){for(_t=Ht/Ae,Ln=_e*Math.cos(_t*Math.PI/2),Dn=Ce*Math.sin(_t*Math.PI/2),An=0,ai=Qe.length;An<ai;An++)dn=Qt(Qe[An],Zr[An],Dn),za(dn.x,dn.y,-Ln);for(Nt=0,ln=yn.length;Nt<ln;Nt++)for(It=yn[Nt],sa=ns[Nt],An=0,ai=It.length;An<ai;An++)dn=Qt(It[An],sa[An],Dn),za(dn.x,dn.y,-Ln)}for(Dn=Ce,An=0;An<qn;An++)dn=oe?Qt(pn[An],Ba[An],Dn):pn[An],st?(Ct.copy(ft.normals[0]).multiplyScalar(dn.x),ut.copy(ft.binormals[0]).multiplyScalar(dn.y),ht.copy(Le[0]).add(Ct).add(ut),za(ht.x,ht.y,ht.z)):za(dn.x,dn.y,0);var Ja;for(Ja=1;Ja<=q;Ja++)for(An=0;An<qn;An++)dn=oe?Qt(pn[An],Ba[An],Dn):pn[An],st?(Ct.copy(ft.normals[Ja]).multiplyScalar(dn.x),ut.copy(ft.binormals[Ja]).multiplyScalar(dn.y),ht.copy(Le[Ja]).add(Ct).add(ut),za(ht.x,ht.y,ht.z)):za(dn.x,dn.y,te/q*Ja);for(Ht=Ae-1;Ht>=0;Ht--){for(_t=Ht/Ae,Ln=_e*Math.cos(_t*Math.PI/2),Dn=Ce*Math.sin(_t*Math.PI/2),An=0,ai=Qe.length;An<ai;An++)dn=Qt(Qe[An],Zr[An],Dn),za(dn.x,dn.y,te+Ln);for(Nt=0,ln=yn.length;Nt<ln;Nt++)for(It=yn[Nt],sa=ns[Nt],An=0,ai=It.length;An<ai;An++)dn=Qt(It[An],sa[An],Dn),st?za(dn.x,dn.y+Le[q-1].y,Le[q-1].x+Ln):za(dn.x,dn.y,te+Ln)}Ku(),xl();function Ku(){var li=p.length/3;if(oe){var Ot=0,Xn=qn*Ot;for(An=0;An<Mr;An++)En=it[An],vo(En[2]+Xn,En[1]+Xn,En[0]+Xn);for(Ot=q+Ae*2,Xn=qn*Ot,An=0;An<Mr;An++)En=it[An],vo(En[0]+Xn,En[1]+Xn,En[2]+Xn)}else{for(An=0;An<Mr;An++)En=it[An],vo(En[2],En[1],En[0]);for(An=0;An<Mr;An++)En=it[An],vo(En[0]+qn*q,En[1]+qn*q,En[2]+qn*q)}c.addGroup(li,p.length/3-li,0)}function xl(){var li=p.length/3,Ot=0;for(ba(Qe,Ot),Ot+=Qe.length,Nt=0,ln=yn.length;Nt<ln;Nt++)It=yn[Nt],ba(It,Ot),Ot+=It.length;c.addGroup(li,p.length/3-li,1)}function ba(li,Ot){var Xn,lr;for(An=li.length;--An>=0;){Xn=An,lr=An-1,lr<0&&(lr=li.length-1);var Fr=0,ir=q+Ae*2;for(Fr=0;Fr<ir;Fr++){var gi=qn*Fr,Si=qn*(Fr+1),Di=Ot+Xn+gi,_a=Ot+lr+gi,Li=Ot+lr+Si,Po=Ot+Xn+Si;Xh(Di,_a,Li,Po)}}}function za(li,Ot,Xn){V.push(li),V.push(Ot),V.push(Xn)}function vo(li,Ot,Xn){rs(li),rs(Ot),rs(Xn);var lr=p.length/3,Fr=Ie.generateTopUV(c,p,lr-3,lr-2,lr-1);is(Fr[0]),is(Fr[1]),is(Fr[2])}function Xh(li,Ot,Xn,lr){rs(li),rs(Ot),rs(lr),rs(Ot),rs(Xn),rs(lr);var Fr=p.length/3,ir=Ie.generateSideWallUV(c,p,Fr-6,Fr-3,Fr-2,Fr-1);is(ir[0]),is(ir[1]),is(ir[3]),is(ir[1]),is(ir[2]),is(ir[3])}function rs(li){p.push(V[li*3+0]),p.push(V[li*3+1]),p.push(V[li*3+2])}function is(li){_.push(li.x),_.push(li.y)}}}su.prototype=Object.create(er.prototype),su.prototype.constructor=su,su.prototype.toJSON=function(){var i=er.prototype.toJSON.call(this),l=this.parameters.shapes,c=this.parameters.options;return AT(l,c,i)};var OU={generateTopUV:function(i,l,c,p,_){var S=l[c*3],C=l[c*3+1],k=l[p*3],O=l[p*3+1],z=l[_*3],V=l[_*3+1];return[new gn(S,C),new gn(k,O),new gn(z,V)]},generateSideWallUV:function(i,l,c,p,_,S){var C=l[c*3],k=l[c*3+1],O=l[c*3+2],z=l[p*3],V=l[p*3+1],H=l[p*3+2],q=l[_*3],te=l[_*3+1],oe=l[_*3+2],_e=l[S*3],Ce=l[S*3+1],Ae=l[S*3+2];return Math.abs(k-V)<.01?[new gn(C,1-O),new gn(z,1-H),new gn(q,1-oe),new gn(_e,1-Ae)]:[new gn(k,1-O),new gn(V,1-H),new gn(te,1-oe),new gn(Ce,1-Ae)]}};function AT(i,l,c){if(c.shapes=[],Array.isArray(i))for(var p=0,_=i.length;p<_;p++){var S=i[p];c.shapes.push(S.uuid)}else c.shapes.push(i.uuid);return l.extrudePath!==void 0&&(c.options.extrudePath=l.extrudePath.toJSON()),c}function Tv(i,l){Tr.call(this),this.type="TextGeometry",this.parameters={text:i,parameters:l},this.fromBufferGeometry(new Ih(i,l)),this.mergeVertices()}Tv.prototype=Object.create(Tr.prototype),Tv.prototype.constructor=Tv;function Ih(i,l){l=l||{};var c=l.font;if(!(c&&c.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Tr;var p=c.generateShapes(i,l.size);l.depth=l.height!==void 0?l.height:50,l.bevelThickness===void 0&&(l.bevelThickness=10),l.bevelSize===void 0&&(l.bevelSize=8),l.bevelEnabled===void 0&&(l.bevelEnabled=!1),su.call(this,p,l),this.type="TextBufferGeometry"}Ih.prototype=Object.create(su.prototype),Ih.prototype.constructor=Ih;function Av(i,l,c,p,_,S,C){Tr.call(this),this.type="SphereGeometry",this.parameters={radius:i,widthSegments:l,heightSegments:c,phiStart:p,phiLength:_,thetaStart:S,thetaLength:C},this.fromBufferGeometry(new jd(i,l,c,p,_,S,C)),this.mergeVertices()}Av.prototype=Object.create(Tr.prototype),Av.prototype.constructor=Av;function jd(i,l,c,p,_,S,C){er.call(this),this.type="SphereBufferGeometry",this.parameters={radius:i,widthSegments:l,heightSegments:c,phiStart:p,phiLength:_,thetaStart:S,thetaLength:C},i=i||1,l=Math.max(3,Math.floor(l)||8),c=Math.max(2,Math.floor(c)||6),p=p!==void 0?p:0,_=_!==void 0?_:Math.PI*2,S=S!==void 0?S:0,C=C!==void 0?C:Math.PI;var k=S+C,O,z,V=0,H=[],q=new Ve,te=new Ve,oe=[],_e=[],Ce=[],Ae=[];for(z=0;z<=c;z++){var Ne=[],Ie=z/c;for(O=0;O<=l;O++){var Le=O/l;q.x=-i*Math.cos(p+Le*_)*Math.sin(S+Ie*C),q.y=i*Math.cos(S+Ie*C),q.z=i*Math.sin(p+Le*_)*Math.sin(S+Ie*C),_e.push(q.x,q.y,q.z),te.set(q.x,q.y,q.z).normalize(),Ce.push(te.x,te.y,te.z),Ae.push(Le,1-Ie),Ne.push(V++)}H.push(Ne)}for(z=0;z<c;z++)for(O=0;O<l;O++){var st=H[z][O+1],ft=H[z][O],ut=H[z+1][O],Ct=H[z+1][O+1];(z!==0||S>0)&&oe.push(st,ft,Ct),(z!==c-1||k<Math.PI)&&oe.push(ft,ut,Ct)}this.setIndex(oe),this.addAttribute("position",new zn(_e,3)),this.addAttribute("normal",new zn(Ce,3)),this.addAttribute("uv",new zn(Ae,2))}jd.prototype=Object.create(er.prototype),jd.prototype.constructor=jd;function Lv(i,l,c,p,_,S){Tr.call(this),this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:l,thetaSegments:c,phiSegments:p,thetaStart:_,thetaLength:S},this.fromBufferGeometry(new Oh(i,l,c,p,_,S)),this.mergeVertices()}Lv.prototype=Object.create(Tr.prototype),Lv.prototype.constructor=Lv;function Oh(i,l,c,p,_,S){er.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:i,outerRadius:l,thetaSegments:c,phiSegments:p,thetaStart:_,thetaLength:S},i=i||.5,l=l||1,_=_!==void 0?_:0,S=S!==void 0?S:Math.PI*2,c=c!==void 0?Math.max(3,c):8,p=p!==void 0?Math.max(1,p):1;var C=[],k=[],O=[],z=[],V,H=i,q=(l-i)/p,te=new Ve,oe=new gn,_e,Ce;for(_e=0;_e<=p;_e++){for(Ce=0;Ce<=c;Ce++)V=_+Ce/c*S,te.x=H*Math.cos(V),te.y=H*Math.sin(V),k.push(te.x,te.y,te.z),O.push(0,0,1),oe.x=(te.x/l+1)/2,oe.y=(te.y/l+1)/2,z.push(oe.x,oe.y);H+=q}for(_e=0;_e<p;_e++){var Ae=_e*(c+1);for(Ce=0;Ce<c;Ce++){V=Ce+Ae;var Ne=V,Ie=V+c+1,Le=V+c+2,st=V+1;C.push(Ne,Ie,st),C.push(Ie,Le,st)}}this.setIndex(C),this.addAttribute("position",new zn(k,3)),this.addAttribute("normal",new zn(O,3)),this.addAttribute("uv",new zn(z,2))}Oh.prototype=Object.create(er.prototype),Oh.prototype.constructor=Oh;function Rv(i,l,c,p){Tr.call(this),this.type="LatheGeometry",this.parameters={points:i,segments:l,phiStart:c,phiLength:p},this.fromBufferGeometry(new Dh(i,l,c,p)),this.mergeVertices()}Rv.prototype=Object.create(Tr.prototype),Rv.prototype.constructor=Rv;function Dh(i,l,c,p){er.call(this),this.type="LatheBufferGeometry",this.parameters={points:i,segments:l,phiStart:c,phiLength:p},l=Math.floor(l)||12,c=c||0,p=p||Math.PI*2,p=Rr.clamp(p,0,Math.PI*2);var _=[],S=[],C=[],k,O=1/l,z=new Ve,V=new gn,H,q;for(H=0;H<=l;H++){var te=c+H*O*p,oe=Math.sin(te),_e=Math.cos(te);for(q=0;q<=i.length-1;q++)z.x=i[q].x*oe,z.y=i[q].y,z.z=i[q].x*_e,S.push(z.x,z.y,z.z),V.x=H/l,V.y=q/(i.length-1),C.push(V.x,V.y)}for(H=0;H<l;H++)for(q=0;q<i.length-1;q++){k=q+H*i.length;var Ce=k,Ae=k+i.length,Ne=k+i.length+1,Ie=k+1;_.push(Ce,Ae,Ie),_.push(Ae,Ne,Ie)}if(this.setIndex(_),this.addAttribute("position",new zn(S,3)),this.addAttribute("uv",new zn(C,2)),this.computeVertexNormals(),p===Math.PI*2){var Le=this.attributes.normal.array,st=new Ve,ft=new Ve,ut=new Ve;for(k=l*i.length*3,H=0,q=0;H<i.length;H++,q+=3)st.x=Le[q+0],st.y=Le[q+1],st.z=Le[q+2],ft.x=Le[k+q+0],ft.y=Le[k+q+1],ft.z=Le[k+q+2],ut.addVectors(st,ft).normalize(),Le[q+0]=Le[k+q+0]=ut.x,Le[q+1]=Le[k+q+1]=ut.y,Le[q+2]=Le[k+q+2]=ut.z}}Dh.prototype=Object.create(er.prototype),Dh.prototype.constructor=Dh;function qd(i,l){Tr.call(this),this.type="ShapeGeometry",typeof l=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),l=l.curveSegments),this.parameters={shapes:i,curveSegments:l},this.fromBufferGeometry(new Kd(i,l)),this.mergeVertices()}qd.prototype=Object.create(Tr.prototype),qd.prototype.constructor=qd,qd.prototype.toJSON=function(){var i=Tr.prototype.toJSON.call(this),l=this.parameters.shapes;return LT(l,i)};function Kd(i,l){er.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:i,curveSegments:l},l=l||12;var c=[],p=[],_=[],S=[],C=0,k=0;if(Array.isArray(i)===!1)z(i);else for(var O=0;O<i.length;O++)z(i[O]),this.addGroup(C,k,O),C+=k,k=0;this.setIndex(c),this.addAttribute("position",new zn(p,3)),this.addAttribute("normal",new zn(_,3)),this.addAttribute("uv",new zn(S,2));function z(V){var H,q,te,oe=p.length/3,_e=V.extractPoints(l),Ce=_e.shape,Ae=_e.holes;if(Wu.isClockWise(Ce)===!1)for(Ce=Ce.reverse(),H=0,q=Ae.length;H<q;H++)te=Ae[H],Wu.isClockWise(te)===!0&&(Ae[H]=te.reverse());var Ne=Wu.triangulateShape(Ce,Ae);for(H=0,q=Ae.length;H<q;H++)te=Ae[H],Ce=Ce.concat(te);for(H=0,q=Ce.length;H<q;H++){var Ie=Ce[H];p.push(Ie.x,Ie.y,0),_.push(0,0,1),S.push(Ie.x,Ie.y)}for(H=0,q=Ne.length;H<q;H++){var Le=Ne[H],st=Le[0]+oe,ft=Le[1]+oe,ut=Le[2]+oe;c.push(st,ft,ut),k+=3}}}Kd.prototype=Object.create(er.prototype),Kd.prototype.constructor=Kd,Kd.prototype.toJSON=function(){var i=er.prototype.toJSON.call(this),l=this.parameters.shapes;return LT(l,i)};function LT(i,l){if(l.shapes=[],Array.isArray(i))for(var c=0,p=i.length;c<p;c++){var _=i[c];l.shapes.push(_.uuid)}else l.shapes.push(i.uuid);return l}function Nh(i,l){er.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:l},l=l!==void 0?l:1;var c=[],p=Math.cos(Rr.DEG2RAD*l),_=[0,0],S={},C,k,O,z=["a","b","c"],V;i.isBufferGeometry?(V=new Tr,V.fromBufferGeometry(i)):V=i.clone(),V.mergeVertices(),V.computeFaceNormals();for(var H=V.vertices,q=V.faces,te=0,oe=q.length;te<oe;te++)for(var _e=q[te],Ce=0;Ce<3;Ce++)C=_e[z[Ce]],k=_e[z[(Ce+1)%3]],_[0]=Math.min(C,k),_[1]=Math.max(C,k),O=_[0]+","+_[1],S[O]===void 0?S[O]={index1:_[0],index2:_[1],face1:te,face2:void 0}:S[O].face2=te;for(O in S){var Ae=S[O];if(Ae.face2===void 0||q[Ae.face1].normal.dot(q[Ae.face2].normal)<=p){var Ne=H[Ae.index1];c.push(Ne.x,Ne.y,Ne.z),Ne=H[Ae.index2],c.push(Ne.x,Ne.y,Ne.z)}}this.addAttribute("position",new zn(c,3))}Nh.prototype=Object.create(er.prototype),Nh.prototype.constructor=Nh;function Yd(i,l,c,p,_,S,C,k){Tr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:i,radiusBottom:l,height:c,radialSegments:p,heightSegments:_,openEnded:S,thetaStart:C,thetaLength:k},this.fromBufferGeometry(new ju(i,l,c,p,_,S,C,k)),this.mergeVertices()}Yd.prototype=Object.create(Tr.prototype),Yd.prototype.constructor=Yd;function ju(i,l,c,p,_,S,C,k){er.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:i,radiusBottom:l,height:c,radialSegments:p,heightSegments:_,openEnded:S,thetaStart:C,thetaLength:k};var O=this;i=i!==void 0?i:1,l=l!==void 0?l:1,c=c||1,p=Math.floor(p)||8,_=Math.floor(_)||1,S=S!==void 0?S:!1,C=C!==void 0?C:0,k=k!==void 0?k:Math.PI*2;var z=[],V=[],H=[],q=[],te=0,oe=[],_e=c/2,Ce=0;Ae(),S===!1&&(i>0&&Ne(!0),l>0&&Ne(!1)),this.setIndex(z),this.addAttribute("position",new zn(V,3)),this.addAttribute("normal",new zn(H,3)),this.addAttribute("uv",new zn(q,2));function Ae(){var Ie,Le,st=new Ve,ft=new Ve,ut=0,Ct=(l-i)/c;for(Le=0;Le<=_;Le++){var ht=[],It=Le/_,Nt=It*(l-i)+i;for(Ie=0;Ie<=p;Ie++){var ln=Ie/p,Cn=ln*k+C,pn=Math.sin(Cn),yn=Math.cos(Cn);ft.x=Nt*pn,ft.y=-It*c+_e,ft.z=Nt*yn,V.push(ft.x,ft.y,ft.z),st.set(pn,Ct,yn).normalize(),H.push(st.x,st.y,st.z),q.push(ln,1-It),ht.push(te++)}oe.push(ht)}for(Ie=0;Ie<p;Ie++)for(Le=0;Le<_;Le++){var In=oe[Le][Ie],it=oe[Le+1][Ie],Qe=oe[Le+1][Ie+1],Qt=oe[Le][Ie+1];z.push(In,it,Qt),z.push(it,Qe,Qt),ut+=6}O.addGroup(Ce,ut,0),Ce+=ut}function Ne(Ie){var Le,st,ft,ut=new gn,Ct=new Ve,ht=0,It=Ie===!0?i:l,Nt=Ie===!0?1:-1;for(st=te,Le=1;Le<=p;Le++)V.push(0,_e*Nt,0),H.push(0,Nt,0),q.push(.5,.5),te++;for(ft=te,Le=0;Le<=p;Le++){var ln=Le/p,Cn=ln*k+C,pn=Math.cos(Cn),yn=Math.sin(Cn);Ct.x=It*yn,Ct.y=_e*Nt,Ct.z=It*pn,V.push(Ct.x,Ct.y,Ct.z),H.push(0,Nt,0),ut.x=pn*.5+.5,ut.y=yn*.5*Nt+.5,q.push(ut.x,ut.y),te++}for(Le=0;Le<p;Le++){var In=st+Le,it=ft+Le;Ie===!0?z.push(it,it+1,In):z.push(it+1,it,In),ht+=3}O.addGroup(Ce,ht,Ie===!0?1:2),Ce+=ht}}ju.prototype=Object.create(er.prototype),ju.prototype.constructor=ju;function Pv(i,l,c,p,_,S,C){Yd.call(this,0,i,l,c,p,_,S,C),this.type="ConeGeometry",this.parameters={radius:i,height:l,radialSegments:c,heightSegments:p,openEnded:_,thetaStart:S,thetaLength:C}}Pv.prototype=Object.create(Yd.prototype),Pv.prototype.constructor=Pv;function kv(i,l,c,p,_,S,C){ju.call(this,0,i,l,c,p,_,S,C),this.type="ConeBufferGeometry",this.parameters={radius:i,height:l,radialSegments:c,heightSegments:p,openEnded:_,thetaStart:S,thetaLength:C}}kv.prototype=Object.create(ju.prototype),kv.prototype.constructor=kv;function Iv(i,l,c,p){Tr.call(this),this.type="CircleGeometry",this.parameters={radius:i,segments:l,thetaStart:c,thetaLength:p},this.fromBufferGeometry(new Fh(i,l,c,p)),this.mergeVertices()}Iv.prototype=Object.create(Tr.prototype),Iv.prototype.constructor=Iv;function Fh(i,l,c,p){er.call(this),this.type="CircleBufferGeometry",this.parameters={radius:i,segments:l,thetaStart:c,thetaLength:p},i=i||1,l=l!==void 0?Math.max(3,l):8,c=c!==void 0?c:0,p=p!==void 0?p:Math.PI*2;var _=[],S=[],C=[],k=[],O,z,V=new Ve,H=new gn;for(S.push(0,0,0),C.push(0,0,1),k.push(.5,.5),z=0,O=3;z<=l;z++,O+=3){var q=c+z/l*p;V.x=i*Math.cos(q),V.y=i*Math.sin(q),S.push(V.x,V.y,V.z),C.push(0,0,1),H.x=(S[O]/i+1)/2,H.y=(S[O+1]/i+1)/2,k.push(H.x,H.y)}for(O=1;O<=l;O++)_.push(O,O+1,0);this.setIndex(_),this.addAttribute("position",new zn(S,3)),this.addAttribute("normal",new zn(C,3)),this.addAttribute("uv",new zn(k,2))}Fh.prototype=Object.create(er.prototype),Fh.prototype.constructor=Fh;var Qo=Object.freeze({WireframeGeometry:Eh,ParametricGeometry:pv,ParametricBufferGeometry:Ch,TetrahedronGeometry:vv,TetrahedronBufferGeometry:Th,OctahedronGeometry:gv,OctahedronBufferGeometry:$d,IcosahedronGeometry:yv,IcosahedronBufferGeometry:Ah,DodecahedronGeometry:bv,DodecahedronBufferGeometry:Lh,PolyhedronGeometry:mv,PolyhedronBufferGeometry:Jo,TubeGeometry:_v,TubeBufferGeometry:Rh,TorusKnotGeometry:wv,TorusKnotBufferGeometry:Ph,TorusGeometry:xv,TorusBufferGeometry:kh,TextGeometry:Tv,TextBufferGeometry:Ih,SphereGeometry:Av,SphereBufferGeometry:jd,RingGeometry:Lv,RingBufferGeometry:Oh,PlaneGeometry:av,PlaneBufferGeometry:Vd,LatheGeometry:Rv,LatheBufferGeometry:Dh,ShapeGeometry:qd,ShapeBufferGeometry:Kd,ExtrudeGeometry:Wd,ExtrudeBufferGeometry:su,EdgesGeometry:Nh,ConeGeometry:Pv,ConeBufferGeometry:kv,CylinderGeometry:Yd,CylinderBufferGeometry:ju,CircleGeometry:Iv,CircleBufferGeometry:Fh,BoxGeometry:gh,BoxBufferGeometry:zd});function Xd(i){zr.call(this),this.type="ShadowMaterial",this.color=new cr(0),this.transparent=!0,this.setValues(i)}Xd.prototype=Object.create(zr.prototype),Xd.prototype.constructor=Xd,Xd.prototype.isShadowMaterial=!0,Xd.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this};function Bh(i){qs.call(this,i),this.type="RawShaderMaterial"}Bh.prototype=Object.create(qs.prototype),Bh.prototype.constructor=Bh,Bh.prototype.isRawShaderMaterial=!0;function lu(i){zr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new cr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kc,this.normalScale=new gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(i)}lu.prototype=Object.create(zr.prototype),lu.prototype.constructor=lu,lu.prototype.isMeshStandardMaterial=!0,lu.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.defines={STANDARD:""},this.color.copy(i.color),this.roughness=i.roughness,this.metalness=i.metalness,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.roughnessMap=i.roughnessMap,this.metalnessMap=i.metalnessMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapIntensity=i.envMapIntensity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this};function Zd(i){lu.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(i)}Zd.prototype=Object.create(lu.prototype),Zd.prototype.constructor=Zd,Zd.prototype.isMeshPhysicalMaterial=!0,Zd.prototype.copy=function(i){return lu.prototype.copy.call(this,i),this.defines={PHYSICAL:""},this.reflectivity=i.reflectivity,this.clearCoat=i.clearCoat,this.clearCoatRoughness=i.clearCoatRoughness,this};function pl(i){zr.call(this),this.type="MeshPhongMaterial",this.color=new cr(16777215),this.specular=new cr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kc,this.normalScale=new gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(i)}pl.prototype=Object.create(zr.prototype),pl.prototype.constructor=pl,pl.prototype.isMeshPhongMaterial=!0,pl.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this};function Jd(i){pl.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(i)}Jd.prototype=Object.create(pl.prototype),Jd.prototype.constructor=Jd,Jd.prototype.isMeshToonMaterial=!0,Jd.prototype.copy=function(i){return pl.prototype.copy.call(this,i),this.gradientMap=i.gradientMap,this};function Qd(i){zr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kc,this.normalScale=new gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(i)}Qd.prototype=Object.create(zr.prototype),Qd.prototype.constructor=Qd,Qd.prototype.isMeshNormalMaterial=!0,Qd.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this};function ef(i){zr.call(this),this.type="MeshLambertMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(i)}ef.prototype=Object.create(zr.prototype),ef.prototype.constructor=ef,ef.prototype.isMeshLambertMaterial=!0,ef.prototype.copy=function(i){return zr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this};function tf(i){Oi.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(i)}tf.prototype=Object.create(Oi.prototype),tf.prototype.constructor=tf,tf.prototype.isLineDashedMaterial=!0,tf.prototype.copy=function(i){return Oi.prototype.copy.call(this,i),this.scale=i.scale,this.dashSize=i.dashSize,this.gapSize=i.gapSize,this};var DU=Object.freeze({ShadowMaterial:Xd,SpriteMaterial:Vc,RawShaderMaterial:Bh,ShaderMaterial:qs,PointsMaterial:hl,MeshPhysicalMaterial:Zd,MeshStandardMaterial:lu,MeshPhongMaterial:pl,MeshToonMaterial:Jd,MeshNormalMaterial:Qd,MeshLambertMaterial:ef,MeshDepthMaterial:Bc,MeshDistanceMaterial:zc,MeshBasicMaterial:bs,LineDashedMaterial:tf,LineBasicMaterial:Oi,Material:zr}),nf={enabled:!1,files:{},add:function(i,l){this.enabled!==!1&&(this.files[i]=l)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};function S1(i,l,c){var p=this,_=!1,S=0,C=0,k=void 0;this.onStart=void 0,this.onLoad=i,this.onProgress=l,this.onError=c,this.itemStart=function(O){C++,_===!1&&p.onStart!==void 0&&p.onStart(O,S,C),_=!0},this.itemEnd=function(O){S++,p.onProgress!==void 0&&p.onProgress(O,S,C),S===C&&(_=!1,p.onLoad!==void 0&&p.onLoad())},this.itemError=function(O){p.onError!==void 0&&p.onError(O)},this.resolveURL=function(O){return k?k(O):O},this.setURLModifier=function(O){return k=O,this}}var es=new S1,ml={};function vl(i){this.manager=i!==void 0?i:es}Object.assign(vl.prototype,{load:function(i,l,c,p){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);var _=this,S=nf.get(i);if(S!==void 0)return _.manager.itemStart(i),setTimeout(function(){l&&l(S),_.manager.itemEnd(i)},0),S;if(ml[i]!==void 0){ml[i].push({onLoad:l,onProgress:c,onError:p});return}var C=/^data:(.*?)(;base64)?,(.*)$/,k=i.match(C);if(k){var O=k[1],z=!!k[2],V=k[3];V=window.decodeURIComponent(V),z&&(V=window.atob(V));try{var H,q=(this.responseType||"").toLowerCase();switch(q){case"arraybuffer":case"blob":for(var te=new Uint8Array(V.length),oe=0;oe<V.length;oe++)te[oe]=V.charCodeAt(oe);q==="blob"?H=new Blob([te.buffer],{type:O}):H=te.buffer;break;case"document":var _e=new DOMParser;H=_e.parseFromString(V,O);break;case"json":H=JSON.parse(V);break;default:H=V;break}window.setTimeout(function(){l&&l(H),_.manager.itemEnd(i)},0)}catch(Ne){window.setTimeout(function(){p&&p(Ne),_.manager.itemEnd(i),_.manager.itemError(i)},0)}}else{ml[i]=[],ml[i].push({onLoad:l,onProgress:c,onError:p});var Ce=new XMLHttpRequest;Ce.open("GET",i,!0),Ce.addEventListener("load",function(Ne){var Ie=this.response;nf.add(i,Ie);var Le=ml[i];if(delete ml[i],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var st=0,ft=Le.length;st<ft;st++){var ut=Le[st];ut.onLoad&&ut.onLoad(Ie)}_.manager.itemEnd(i)}else{for(var st=0,ft=Le.length;st<ft;st++){var ut=Le[st];ut.onError&&ut.onError(Ne)}_.manager.itemEnd(i),_.manager.itemError(i)}},!1),Ce.addEventListener("progress",function(Ne){for(var Ie=ml[i],Le=0,st=Ie.length;Le<st;Le++){var ft=Ie[Le];ft.onProgress&&ft.onProgress(Ne)}},!1),Ce.addEventListener("error",function(Ne){var Ie=ml[i];delete ml[i];for(var Le=0,st=Ie.length;Le<st;Le++){var ft=Ie[Le];ft.onError&&ft.onError(Ne)}_.manager.itemEnd(i),_.manager.itemError(i)},!1),Ce.addEventListener("abort",function(Ne){var Ie=ml[i];delete ml[i];for(var Le=0,st=Ie.length;Le<st;Le++){var ft=Ie[Le];ft.onError&&ft.onError(Ne)}_.manager.itemEnd(i),_.manager.itemError(i)},!1),this.responseType!==void 0&&(Ce.responseType=this.responseType),this.withCredentials!==void 0&&(Ce.withCredentials=this.withCredentials),Ce.overrideMimeType&&Ce.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var Ae in this.requestHeader)Ce.setRequestHeader(Ae,this.requestHeader[Ae]);Ce.send(null)}return _.manager.itemStart(i),Ce},setPath:function(i){return this.path=i,this},setResponseType:function(i){return this.responseType=i,this},setWithCredentials:function(i){return this.withCredentials=i,this},setMimeType:function(i){return this.mimeType=i,this},setRequestHeader:function(i){return this.requestHeader=i,this}});function RT(i){this.manager=i!==void 0?i:es,this._parser=null}Object.assign(RT.prototype,{load:function(i,l,c,p){var _=this,S=[],C=new Mh;C.image=S;var k=new vl(this.manager);k.setPath(this.path),k.setResponseType("arraybuffer");function O(q){k.load(i[q],function(te){var oe=_._parser(te,!0);S[q]={width:oe.width,height:oe.height,format:oe.format,mipmaps:oe.mipmaps},z+=1,z===6&&(oe.mipmapCount===1&&(C.minFilter=wt),C.format=oe.format,C.needsUpdate=!0,l&&l(C))},c,p)}if(Array.isArray(i))for(var z=0,V=0,H=i.length;V<H;++V)O(V);else k.load(i,function(q){var te=_._parser(q,!0);if(te.isCubemap)for(var oe=te.mipmaps.length/te.mipmapCount,_e=0;_e<oe;_e++){S[_e]={mipmaps:[]};for(var Ce=0;Ce<te.mipmapCount;Ce++)S[_e].mipmaps.push(te.mipmaps[_e*te.mipmapCount+Ce]),S[_e].format=te.format,S[_e].width=te.width,S[_e].height=te.height}else C.image.width=te.width,C.image.height=te.height,C.mipmaps=te.mipmaps;te.mipmapCount===1&&(C.minFilter=wt),C.format=te.format,C.needsUpdate=!0,l&&l(C)},c,p);return C},setPath:function(i){return this.path=i,this}});function M1(i){this.manager=i!==void 0?i:es,this._parser=null}Object.assign(M1.prototype,{load:function(i,l,c,p){var _=this,S=new Vu,C=new vl(this.manager);return C.setResponseType("arraybuffer"),C.load(i,function(k){var O=_._parser(k);O&&(O.image!==void 0?S.image=O.image:O.data!==void 0&&(S.image.width=O.width,S.image.height=O.height,S.image.data=O.data),S.wrapS=O.wrapS!==void 0?O.wrapS:Tt,S.wrapT=O.wrapT!==void 0?O.wrapT:Tt,S.magFilter=O.magFilter!==void 0?O.magFilter:wt,S.minFilter=O.minFilter!==void 0?O.minFilter:Je,S.anisotropy=O.anisotropy!==void 0?O.anisotropy:1,O.format!==void 0&&(S.format=O.format),O.type!==void 0&&(S.type=O.type),O.mipmaps!==void 0&&(S.mipmaps=O.mipmaps),O.mipmapCount===1&&(S.minFilter=wt),S.needsUpdate=!0,l&&l(S,O))},c,p),S}});function Ov(i){this.manager=i!==void 0?i:es}Object.assign(Ov.prototype,{crossOrigin:"anonymous",load:function(i,l,c,p){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);var _=this,S=nf.get(i);if(S!==void 0)return _.manager.itemStart(i),setTimeout(function(){l&&l(S),_.manager.itemEnd(i)},0),S;var C=document.createElementNS("http://www.w3.org/1999/xhtml","img");function k(){C.removeEventListener("load",k,!1),C.removeEventListener("error",O,!1),nf.add(i,this),l&&l(this),_.manager.itemEnd(i)}function O(z){C.removeEventListener("load",k,!1),C.removeEventListener("error",O,!1),p&&p(z),_.manager.itemEnd(i),_.manager.itemError(i)}return C.addEventListener("load",k,!1),C.addEventListener("error",O,!1),i.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(C.crossOrigin=this.crossOrigin),_.manager.itemStart(i),C.src=i,C},setCrossOrigin:function(i){return this.crossOrigin=i,this},setPath:function(i){return this.path=i,this}});function E1(i){this.manager=i!==void 0?i:es}Object.assign(E1.prototype,{crossOrigin:"anonymous",load:function(i,l,c,p){var _=new Gu,S=new Ov(this.manager);S.setCrossOrigin(this.crossOrigin),S.setPath(this.path);var C=0;function k(z){S.load(i[z],function(V){_.images[z]=V,C++,C===6&&(_.needsUpdate=!0,l&&l(_))},void 0,p)}for(var O=0;O<i.length;++O)k(O);return _},setCrossOrigin:function(i){return this.crossOrigin=i,this},setPath:function(i){return this.path=i,this}});function uy(i){this.manager=i!==void 0?i:es}Object.assign(uy.prototype,{crossOrigin:"anonymous",load:function(i,l,c,p){var _=new zi,S=new Ov(this.manager);return S.setCrossOrigin(this.crossOrigin),S.setPath(this.path),S.load(i,function(C){_.image=C;var k=i.search(/\.jpe?g$/i)>0||i.search(/^data\:image\/jpeg/)===0;_.format=k?Ka:da,_.needsUpdate=!0,l!==void 0&&l(_)},c,p),_},setCrossOrigin:function(i){return this.crossOrigin=i,this},setPath:function(i){return this.path=i,this}});function pr(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(pr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(i,l){var c=this.getUtoTmapping(i);return this.getPoint(c,l)},getPoints:function(i){i===void 0&&(i=5);for(var l=[],c=0;c<=i;c++)l.push(this.getPoint(c/i));return l},getSpacedPoints:function(i){i===void 0&&(i=5);for(var l=[],c=0;c<=i;c++)l.push(this.getPointAt(c/i));return l},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var l=[],c,p=this.getPoint(0),_,S=0;for(l.push(0),_=1;_<=i;_++)c=this.getPoint(_/i),S+=c.distanceTo(p),l.push(S),p=c;return this.cacheArcLengths=l,l},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(i,l){var c=this.getLengths(),p=0,_=c.length,S;l?S=l:S=i*c[_-1];for(var C=0,k=_-1,O;C<=k;)if(p=Math.floor(C+(k-C)/2),O=c[p]-S,O<0)C=p+1;else if(O>0)k=p-1;else{k=p;break}if(p=k,c[p]===S)return p/(_-1);var z=c[p],V=c[p+1],H=V-z,q=(S-z)/H,te=(p+q)/(_-1);return te},getTangent:function(i){var l=1e-4,c=i-l,p=i+l;c<0&&(c=0),p>1&&(p=1);var _=this.getPoint(c),S=this.getPoint(p),C=S.clone().sub(_);return C.normalize()},getTangentAt:function(i){var l=this.getUtoTmapping(i);return this.getTangent(l)},computeFrenetFrames:function(i,l){var c=new Ve,p=[],_=[],S=[],C=new Ve,k=new gr,O,z,V;for(O=0;O<=i;O++)z=O/i,p[O]=this.getTangentAt(z),p[O].normalize();_[0]=new Ve,S[0]=new Ve;var H=Number.MAX_VALUE,q=Math.abs(p[0].x),te=Math.abs(p[0].y),oe=Math.abs(p[0].z);for(q<=H&&(H=q,c.set(1,0,0)),te<=H&&(H=te,c.set(0,1,0)),oe<=H&&c.set(0,0,1),C.crossVectors(p[0],c).normalize(),_[0].crossVectors(p[0],C),S[0].crossVectors(p[0],_[0]),O=1;O<=i;O++)_[O]=_[O-1].clone(),S[O]=S[O-1].clone(),C.crossVectors(p[O-1],p[O]),C.length()>Number.EPSILON&&(C.normalize(),V=Math.acos(Rr.clamp(p[O-1].dot(p[O]),-1,1)),_[O].applyMatrix4(k.makeRotationAxis(C,V))),S[O].crossVectors(p[O],_[O]);if(l===!0)for(V=Math.acos(Rr.clamp(_[0].dot(_[i]),-1,1)),V/=i,p[0].dot(C.crossVectors(_[0],_[i]))>0&&(V=-V),O=1;O<=i;O++)_[O].applyMatrix4(k.makeRotationAxis(p[O],V*O)),S[O].crossVectors(p[O],_[O]);return{tangents:p,normals:_,binormals:S}},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.arcLengthDivisions=i.arcLengthDivisions,this},toJSON:function(){var i={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return i.arcLengthDivisions=this.arcLengthDivisions,i.type=this.type,i},fromJSON:function(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}});function _s(i,l,c,p,_,S,C,k){pr.call(this),this.type="EllipseCurve",this.aX=i||0,this.aY=l||0,this.xRadius=c||1,this.yRadius=p||1,this.aStartAngle=_||0,this.aEndAngle=S||2*Math.PI,this.aClockwise=C||!1,this.aRotation=k||0}_s.prototype=Object.create(pr.prototype),_s.prototype.constructor=_s,_s.prototype.isEllipseCurve=!0,_s.prototype.getPoint=function(i,l){for(var c=l||new gn,p=Math.PI*2,_=this.aEndAngle-this.aStartAngle,S=Math.abs(_)<Number.EPSILON;_<0;)_+=p;for(;_>p;)_-=p;_<Number.EPSILON&&(S?_=0:_=p),this.aClockwise===!0&&!S&&(_===p?_=-p:_=_-p);var C=this.aStartAngle+i*_,k=this.aX+this.xRadius*Math.cos(C),O=this.aY+this.yRadius*Math.sin(C);if(this.aRotation!==0){var z=Math.cos(this.aRotation),V=Math.sin(this.aRotation),H=k-this.aX,q=O-this.aY;k=H*z-q*V+this.aX,O=H*V+q*z+this.aY}return c.set(k,O)},_s.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this},_s.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.aX=this.aX,i.aY=this.aY,i.xRadius=this.xRadius,i.yRadius=this.yRadius,i.aStartAngle=this.aStartAngle,i.aEndAngle=this.aEndAngle,i.aClockwise=this.aClockwise,i.aRotation=this.aRotation,i},_s.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this};function zh(i,l,c,p,_,S){_s.call(this,i,l,c,c,p,_,S),this.type="ArcCurve"}zh.prototype=Object.create(_s.prototype),zh.prototype.constructor=zh,zh.prototype.isArcCurve=!0;function C1(){var i=0,l=0,c=0,p=0;function _(S,C,k,O){i=S,l=k,c=-3*S+3*C-2*k-O,p=2*S-2*C+k+O}return{initCatmullRom:function(S,C,k,O,z){_(C,k,z*(k-S),z*(O-C))},initNonuniformCatmullRom:function(S,C,k,O,z,V,H){var q=(C-S)/z-(k-S)/(z+V)+(k-C)/V,te=(k-C)/V-(O-C)/(V+H)+(O-k)/H;q*=V,te*=V,_(C,k,q,te)},calc:function(S){var C=S*S,k=C*S;return i+l*S+c*C+p*k}}}var cy=new Ve,T1=new C1,A1=new C1,L1=new C1;function ho(i,l,c,p){pr.call(this),this.type="CatmullRomCurve3",this.points=i||[],this.closed=l||!1,this.curveType=c||"centripetal",this.tension=p||.5}ho.prototype=Object.create(pr.prototype),ho.prototype.constructor=ho,ho.prototype.isCatmullRomCurve3=!0,ho.prototype.getPoint=function(i,l){var c=l||new Ve,p=this.points,_=p.length,S=(_-(this.closed?0:1))*i,C=Math.floor(S),k=S-C;this.closed?C+=C>0?0:(Math.floor(Math.abs(C)/_)+1)*_:k===0&&C===_-1&&(C=_-2,k=1);var O,z,V,H;if(this.closed||C>0?O=p[(C-1)%_]:(cy.subVectors(p[0],p[1]).add(p[0]),O=cy),z=p[C%_],V=p[(C+1)%_],this.closed||C+2<_?H=p[(C+2)%_]:(cy.subVectors(p[_-1],p[_-2]).add(p[_-1]),H=cy),this.curveType==="centripetal"||this.curveType==="chordal"){var q=this.curveType==="chordal"?.5:.25,te=Math.pow(O.distanceToSquared(z),q),oe=Math.pow(z.distanceToSquared(V),q),_e=Math.pow(V.distanceToSquared(H),q);oe<1e-4&&(oe=1),te<1e-4&&(te=oe),_e<1e-4&&(_e=oe),T1.initNonuniformCatmullRom(O.x,z.x,V.x,H.x,te,oe,_e),A1.initNonuniformCatmullRom(O.y,z.y,V.y,H.y,te,oe,_e),L1.initNonuniformCatmullRom(O.z,z.z,V.z,H.z,te,oe,_e)}else this.curveType==="catmullrom"&&(T1.initCatmullRom(O.x,z.x,V.x,H.x,this.tension),A1.initCatmullRom(O.y,z.y,V.y,H.y,this.tension),L1.initCatmullRom(O.z,z.z,V.z,H.z,this.tension));return c.set(T1.calc(k),A1.calc(k),L1.calc(k)),c},ho.prototype.copy=function(i){pr.prototype.copy.call(this,i),this.points=[];for(var l=0,c=i.points.length;l<c;l++){var p=i.points[l];this.points.push(p.clone())}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this},ho.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);i.points=[];for(var l=0,c=this.points.length;l<c;l++){var p=this.points[l];i.points.push(p.toArray())}return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i},ho.prototype.fromJSON=function(i){pr.prototype.fromJSON.call(this,i),this.points=[];for(var l=0,c=i.points.length;l<c;l++){var p=i.points[l];this.points.push(new Ve().fromArray(p))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this};function PT(i,l,c,p,_){var S=(p-l)*.5,C=(_-c)*.5,k=i*i,O=i*k;return(2*c-2*p+S+C)*O+(-3*c+3*p-2*S-C)*k+S*i+c}function NU(i,l){var c=1-i;return c*c*l}function FU(i,l){return 2*(1-i)*i*l}function BU(i,l){return i*i*l}function Dv(i,l,c,p){return NU(i,l)+FU(i,c)+BU(i,p)}function zU(i,l){var c=1-i;return c*c*c*l}function VU(i,l){var c=1-i;return 3*c*c*i*l}function UU(i,l){return 3*(1-i)*i*i*l}function HU(i,l){return i*i*i*l}function Nv(i,l,c,p,_){return zU(i,l)+VU(i,c)+UU(i,p)+HU(i,_)}function gl(i,l,c,p){pr.call(this),this.type="CubicBezierCurve",this.v0=i||new gn,this.v1=l||new gn,this.v2=c||new gn,this.v3=p||new gn}gl.prototype=Object.create(pr.prototype),gl.prototype.constructor=gl,gl.prototype.isCubicBezierCurve=!0,gl.prototype.getPoint=function(i,l){var c=l||new gn,p=this.v0,_=this.v1,S=this.v2,C=this.v3;return c.set(Nv(i,p.x,_.x,S.x,C.x),Nv(i,p.y,_.y,S.y,C.y)),c},gl.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this},gl.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i},gl.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this};function uu(i,l,c,p){pr.call(this),this.type="CubicBezierCurve3",this.v0=i||new Ve,this.v1=l||new Ve,this.v2=c||new Ve,this.v3=p||new Ve}uu.prototype=Object.create(pr.prototype),uu.prototype.constructor=uu,uu.prototype.isCubicBezierCurve3=!0,uu.prototype.getPoint=function(i,l){var c=l||new Ve,p=this.v0,_=this.v1,S=this.v2,C=this.v3;return c.set(Nv(i,p.x,_.x,S.x,C.x),Nv(i,p.y,_.y,S.y,C.y),Nv(i,p.z,_.z,S.z,C.z)),c},uu.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this},uu.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i},uu.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this};function ts(i,l){pr.call(this),this.type="LineCurve",this.v1=i||new gn,this.v2=l||new gn}ts.prototype=Object.create(pr.prototype),ts.prototype.constructor=ts,ts.prototype.isLineCurve=!0,ts.prototype.getPoint=function(i,l){var c=l||new gn;return i===1?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(i).add(this.v1)),c},ts.prototype.getPointAt=function(i,l){return this.getPoint(i,l)},ts.prototype.getTangent=function(){var i=this.v2.clone().sub(this.v1);return i.normalize()},ts.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v1.copy(i.v1),this.v2.copy(i.v2),this},ts.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},ts.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this};function yl(i,l){pr.call(this),this.type="LineCurve3",this.v1=i||new Ve,this.v2=l||new Ve}yl.prototype=Object.create(pr.prototype),yl.prototype.constructor=yl,yl.prototype.isLineCurve3=!0,yl.prototype.getPoint=function(i,l){var c=l||new Ve;return i===1?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(i).add(this.v1)),c},yl.prototype.getPointAt=function(i,l){return this.getPoint(i,l)},yl.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v1.copy(i.v1),this.v2.copy(i.v2),this},yl.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},yl.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this};function bl(i,l,c){pr.call(this),this.type="QuadraticBezierCurve",this.v0=i||new gn,this.v1=l||new gn,this.v2=c||new gn}bl.prototype=Object.create(pr.prototype),bl.prototype.constructor=bl,bl.prototype.isQuadraticBezierCurve=!0,bl.prototype.getPoint=function(i,l){var c=l||new gn,p=this.v0,_=this.v1,S=this.v2;return c.set(Dv(i,p.x,_.x,S.x),Dv(i,p.y,_.y,S.y)),c},bl.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this},bl.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},bl.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this};function cu(i,l,c){pr.call(this),this.type="QuadraticBezierCurve3",this.v0=i||new Ve,this.v1=l||new Ve,this.v2=c||new Ve}cu.prototype=Object.create(pr.prototype),cu.prototype.constructor=cu,cu.prototype.isQuadraticBezierCurve3=!0,cu.prototype.getPoint=function(i,l){var c=l||new Ve,p=this.v0,_=this.v1,S=this.v2;return c.set(Dv(i,p.x,_.x,S.x),Dv(i,p.y,_.y,S.y),Dv(i,p.z,_.z,S.z)),c},cu.prototype.copy=function(i){return pr.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this},cu.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},cu.prototype.fromJSON=function(i){return pr.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this};function _l(i){pr.call(this),this.type="SplineCurve",this.points=i||[]}_l.prototype=Object.create(pr.prototype),_l.prototype.constructor=_l,_l.prototype.isSplineCurve=!0,_l.prototype.getPoint=function(i,l){var c=l||new gn,p=this.points,_=(p.length-1)*i,S=Math.floor(_),C=_-S,k=p[S===0?S:S-1],O=p[S],z=p[S>p.length-2?p.length-1:S+1],V=p[S>p.length-3?p.length-1:S+2];return c.set(PT(C,k.x,O.x,z.x,V.x),PT(C,k.y,O.y,z.y,V.y)),c},_l.prototype.copy=function(i){pr.prototype.copy.call(this,i),this.points=[];for(var l=0,c=i.points.length;l<c;l++){var p=i.points[l];this.points.push(p.clone())}return this},_l.prototype.toJSON=function(){var i=pr.prototype.toJSON.call(this);i.points=[];for(var l=0,c=this.points.length;l<c;l++){var p=this.points[l];i.points.push(p.toArray())}return i},_l.prototype.fromJSON=function(i){pr.prototype.fromJSON.call(this,i),this.points=[];for(var l=0,c=i.points.length;l<c;l++){var p=i.points[l];this.points.push(new gn().fromArray(p))}return this};var kT=Object.freeze({ArcCurve:zh,CatmullRomCurve3:ho,CubicBezierCurve:gl,CubicBezierCurve3:uu,EllipseCurve:_s,LineCurve:ts,LineCurve3:yl,QuadraticBezierCurve:bl,QuadraticBezierCurve3:cu,SplineCurve:_l});function qu(){pr.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}qu.prototype=Object.assign(Object.create(pr.prototype),{constructor:qu,add:function(i){this.curves.push(i)},closePath:function(){var i=this.curves[0].getPoint(0),l=this.curves[this.curves.length-1].getPoint(1);i.equals(l)||this.curves.push(new ts(l,i))},getPoint:function(i){for(var l=i*this.getLength(),c=this.getCurveLengths(),p=0;p<c.length;){if(c[p]>=l){var _=c[p]-l,S=this.curves[p],C=S.getLength(),k=C===0?0:1-_/C;return S.getPointAt(k)}p++}return null},getLength:function(){var i=this.getCurveLengths();return i[i.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var i=[],l=0,c=0,p=this.curves.length;c<p;c++)l+=this.curves[c].getLength(),i.push(l);return this.cacheLengths=i,i},getSpacedPoints:function(i){i===void 0&&(i=40);for(var l=[],c=0;c<=i;c++)l.push(this.getPoint(c/i));return this.autoClose&&l.push(l[0]),l},getPoints:function(i){i=i||12;for(var l=[],c,p=0,_=this.curves;p<_.length;p++)for(var S=_[p],C=S&&S.isEllipseCurve?i*2:S&&(S.isLineCurve||S.isLineCurve3)?1:S&&S.isSplineCurve?i*S.points.length:i,k=S.getPoints(C),O=0;O<k.length;O++){var z=k[O];c&&c.equals(z)||(l.push(z),c=z)}return this.autoClose&&l.length>1&&!l[l.length-1].equals(l[0])&&l.push(l[0]),l},copy:function(i){pr.prototype.copy.call(this,i),this.curves=[];for(var l=0,c=i.curves.length;l<c;l++){var p=i.curves[l];this.curves.push(p.clone())}return this.autoClose=i.autoClose,this},toJSON:function(){var i=pr.prototype.toJSON.call(this);i.autoClose=this.autoClose,i.curves=[];for(var l=0,c=this.curves.length;l<c;l++){var p=this.curves[l];i.curves.push(p.toJSON())}return i},fromJSON:function(i){pr.prototype.fromJSON.call(this,i),this.autoClose=i.autoClose,this.curves=[];for(var l=0,c=i.curves.length;l<c;l++){var p=i.curves[l];this.curves.push(new kT[p.type]().fromJSON(p))}return this}});function wl(i){qu.call(this),this.type="Path",this.currentPoint=new gn,i&&this.setFromPoints(i)}wl.prototype=Object.assign(Object.create(qu.prototype),{constructor:wl,setFromPoints:function(i){this.moveTo(i[0].x,i[0].y);for(var l=1,c=i.length;l<c;l++)this.lineTo(i[l].x,i[l].y)},moveTo:function(i,l){this.currentPoint.set(i,l)},lineTo:function(i,l){var c=new ts(this.currentPoint.clone(),new gn(i,l));this.curves.push(c),this.currentPoint.set(i,l)},quadraticCurveTo:function(i,l,c,p){var _=new bl(this.currentPoint.clone(),new gn(i,l),new gn(c,p));this.curves.push(_),this.currentPoint.set(c,p)},bezierCurveTo:function(i,l,c,p,_,S){var C=new gl(this.currentPoint.clone(),new gn(i,l),new gn(c,p),new gn(_,S));this.curves.push(C),this.currentPoint.set(_,S)},splineThru:function(i){var l=[this.currentPoint.clone()].concat(i),c=new _l(l);this.curves.push(c),this.currentPoint.copy(i[i.length-1])},arc:function(i,l,c,p,_,S){var C=this.currentPoint.x,k=this.currentPoint.y;this.absarc(i+C,l+k,c,p,_,S)},absarc:function(i,l,c,p,_,S){this.absellipse(i,l,c,c,p,_,S)},ellipse:function(i,l,c,p,_,S,C,k){var O=this.currentPoint.x,z=this.currentPoint.y;this.absellipse(i+O,l+z,c,p,_,S,C,k)},absellipse:function(i,l,c,p,_,S,C,k){var O=new _s(i,l,c,p,_,S,C,k);if(this.curves.length>0){var z=O.getPoint(0);z.equals(this.currentPoint)||this.lineTo(z.x,z.y)}this.curves.push(O);var V=O.getPoint(1);this.currentPoint.copy(V)},copy:function(i){return qu.prototype.copy.call(this,i),this.currentPoint.copy(i.currentPoint),this},toJSON:function(){var i=qu.prototype.toJSON.call(this);return i.currentPoint=this.currentPoint.toArray(),i},fromJSON:function(i){return qu.prototype.fromJSON.call(this,i),this.currentPoint.fromArray(i.currentPoint),this}});function Uc(i){wl.call(this,i),this.uuid=Rr.generateUUID(),this.type="Shape",this.holes=[]}Uc.prototype=Object.assign(Object.create(wl.prototype),{constructor:Uc,getPointsHoles:function(i){for(var l=[],c=0,p=this.holes.length;c<p;c++)l[c]=this.holes[c].getPoints(i);return l},extractPoints:function(i){return{shape:this.getPoints(i),holes:this.getPointsHoles(i)}},copy:function(i){wl.prototype.copy.call(this,i),this.holes=[];for(var l=0,c=i.holes.length;l<c;l++){var p=i.holes[l];this.holes.push(p.clone())}return this},toJSON:function(){var i=wl.prototype.toJSON.call(this);i.uuid=this.uuid,i.holes=[];for(var l=0,c=this.holes.length;l<c;l++){var p=this.holes[l];i.holes.push(p.toJSON())}return i},fromJSON:function(i){wl.prototype.fromJSON.call(this,i),this.uuid=i.uuid,this.holes=[];for(var l=0,c=i.holes.length;l<c;l++){var p=i.holes[l];this.holes.push(new wl().fromJSON(p))}return this}});function aa(i,l){Wn.call(this),this.type="Light",this.color=new cr(i),this.intensity=l!==void 0?l:1,this.receiveShadow=void 0}aa.prototype=Object.assign(Object.create(Wn.prototype),{constructor:aa,isLight:!0,copy:function(i){return Wn.prototype.copy.call(this,i),this.color.copy(i.color),this.intensity=i.intensity,this},toJSON:function(i){var l=Wn.prototype.toJSON.call(this,i);return l.object.color=this.color.getHex(),l.object.intensity=this.intensity,this.groundColor!==void 0&&(l.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(l.object.distance=this.distance),this.angle!==void 0&&(l.object.angle=this.angle),this.decay!==void 0&&(l.object.decay=this.decay),this.penumbra!==void 0&&(l.object.penumbra=this.penumbra),this.shadow!==void 0&&(l.object.shadow=this.shadow.toJSON()),l}});function dy(i,l,c){aa.call(this,i,c),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.groundColor=new cr(l)}dy.prototype=Object.assign(Object.create(aa.prototype),{constructor:dy,isHemisphereLight:!0,copy:function(i){return aa.prototype.copy.call(this,i),this.groundColor.copy(i.groundColor),this}});function rf(i){this.camera=i,this.bias=0,this.radius=1,this.mapSize=new gn(512,512),this.map=null,this.matrix=new gr}Object.assign(rf.prototype,{copy:function(i){return this.camera=i.camera.clone(),this.bias=i.bias,this.radius=i.radius,this.mapSize.copy(i.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var i={};return this.bias!==0&&(i.bias=this.bias),this.radius!==1&&(i.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(i.mapSize=this.mapSize.toArray()),i.camera=this.camera.toJSON(!1).object,delete i.camera.matrix,i}});function fy(){rf.call(this,new ma(50,1,.5,500))}fy.prototype=Object.assign(Object.create(rf.prototype),{constructor:fy,isSpotLightShadow:!0,update:function(i){var l=this.camera,c=Rr.RAD2DEG*2*i.angle,p=this.mapSize.width/this.mapSize.height,_=i.distance||l.far;(c!==l.fov||p!==l.aspect||_!==l.far)&&(l.fov=c,l.aspect=p,l.far=_,l.updateProjectionMatrix())}});function hy(i,l,c,p,_,S){aa.call(this,i,l),this.type="SpotLight",this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.target=new Wn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(C){this.intensity=C/Math.PI}}),this.distance=c!==void 0?c:0,this.angle=p!==void 0?p:Math.PI/3,this.penumbra=_!==void 0?_:0,this.decay=S!==void 0?S:1,this.shadow=new fy}hy.prototype=Object.assign(Object.create(aa.prototype),{constructor:hy,isSpotLight:!0,copy:function(i){return aa.prototype.copy.call(this,i),this.distance=i.distance,this.angle=i.angle,this.penumbra=i.penumbra,this.decay=i.decay,this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}});function py(i,l,c,p){aa.call(this,i,l),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(_){this.intensity=_/(4*Math.PI)}}),this.distance=c!==void 0?c:0,this.decay=p!==void 0?p:1,this.shadow=new rf(new ma(90,1,.5,500))}py.prototype=Object.assign(Object.create(aa.prototype),{constructor:py,isPointLight:!0,copy:function(i){return aa.prototype.copy.call(this,i),this.distance=i.distance,this.decay=i.decay,this.shadow=i.shadow.clone(),this}});function my(){rf.call(this,new vh(-5,5,5,-5,.5,500))}my.prototype=Object.assign(Object.create(rf.prototype),{constructor:my});function vy(i,l){aa.call(this,i,l),this.type="DirectionalLight",this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.target=new Wn,this.shadow=new my}vy.prototype=Object.assign(Object.create(aa.prototype),{constructor:vy,isDirectionalLight:!0,copy:function(i){return aa.prototype.copy.call(this,i),this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}});function gy(i,l){aa.call(this,i,l),this.type="AmbientLight",this.castShadow=void 0}gy.prototype=Object.assign(Object.create(aa.prototype),{constructor:gy,isAmbientLight:!0});function yy(i,l,c,p){aa.call(this,i,l),this.type="RectAreaLight",this.width=c!==void 0?c:10,this.height=p!==void 0?p:10}yy.prototype=Object.assign(Object.create(aa.prototype),{constructor:yy,isRectAreaLight:!0,copy:function(i){return aa.prototype.copy.call(this,i),this.width=i.width,this.height=i.height,this},toJSON:function(i){var l=aa.prototype.toJSON.call(this,i);return l.object.width=this.width,l.object.height=this.height,l}});var po={arraySlice:function(i,l,c){return po.isTypedArray(i)?new i.constructor(i.subarray(l,c!==void 0?c:i.length)):i.slice(l,c)},convertArray:function(i,l,c){return!i||!c&&i.constructor===l?i:typeof l.BYTES_PER_ELEMENT=="number"?new l(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){function l(S,C){return i[S]-i[C]}for(var c=i.length,p=new Array(c),_=0;_!==c;++_)p[_]=_;return p.sort(l),p},sortedArray:function(i,l,c){for(var p=i.length,_=new i.constructor(p),S=0,C=0;C!==p;++S)for(var k=c[S]*l,O=0;O!==l;++O)_[C++]=i[k+O];return _},flattenJSON:function(i,l,c,p){for(var _=1,S=i[0];S!==void 0&&S[p]===void 0;)S=i[_++];if(S!==void 0){var C=S[p];if(C!==void 0)if(Array.isArray(C))do C=S[p],C!==void 0&&(l.push(S.time),c.push.apply(c,C)),S=i[_++];while(S!==void 0);else if(C.toArray!==void 0)do C=S[p],C!==void 0&&(l.push(S.time),C.toArray(c,c.length)),S=i[_++];while(S!==void 0);else do C=S[p],C!==void 0&&(l.push(S.time),c.push(C)),S=i[_++];while(S!==void 0)}}};function ws(i,l,c,p){this.parameterPositions=i,this._cachedIndex=0,this.resultBuffer=p!==void 0?p:new l.constructor(c),this.sampleValues=l,this.valueSize=c}Object.assign(ws.prototype,{evaluate:function(i){var l=this.parameterPositions,c=this._cachedIndex,p=l[c],_=l[c-1];e:{t:{var S;n:{r:if(!(i<p)){for(var C=c+2;;){if(p===void 0){if(i<_)break r;return c=l.length,this._cachedIndex=c,this.afterEnd_(c-1,i,_)}if(c===C)break;if(_=p,p=l[++c],i<p)break t}S=l.length;break n}if(!(i>=_)){var k=l[1];i<k&&(c=2,_=k);for(var C=c-2;;){if(_===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,p);if(c===C)break;if(p=_,_=l[--c-1],i>=_)break t}S=c,c=0;break n}break e}for(;c<S;){var O=c+S>>>1;i<l[O]?S=O:c=O+1}if(p=l[c],_=l[c-1],_===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,p);if(p===void 0)return c=l.length,this._cachedIndex=c,this.afterEnd_(c-1,_,i)}this._cachedIndex=c,this.intervalChanged_(c,_,p)}return this.interpolate_(c,_,i,p)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(i){for(var l=this.resultBuffer,c=this.sampleValues,p=this.valueSize,_=i*p,S=0;S!==p;++S)l[S]=c[_+S];return l},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ws.prototype,{beforeStart_:ws.prototype.copySampleValue_,afterEnd_:ws.prototype.copySampleValue_});function by(i,l,c,p){ws.call(this,i,l,c,p),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}by.prototype=Object.assign(Object.create(ws.prototype),{constructor:by,DefaultSettings_:{endingStart:eu,endingEnd:eu},intervalChanged_:function(i,l,c){var p=this.parameterPositions,_=i-2,S=i+1,C=p[_],k=p[S];if(C===void 0)switch(this.getSettings_().endingStart){case Vs:_=i,C=2*l-c;break;case Ac:_=p.length-2,C=l+p[_]-p[_+1];break;default:_=i,C=c}if(k===void 0)switch(this.getSettings_().endingEnd){case Vs:S=i,k=2*c-l;break;case Ac:S=1,k=c+p[1]-p[0];break;default:S=i-1,k=l}var O=(c-l)*.5,z=this.valueSize;this._weightPrev=O/(l-C),this._weightNext=O/(k-c),this._offsetPrev=_*z,this._offsetNext=S*z},interpolate_:function(i,l,c,p){for(var _=this.resultBuffer,S=this.sampleValues,C=this.valueSize,k=i*C,O=k-C,z=this._offsetPrev,V=this._offsetNext,H=this._weightPrev,q=this._weightNext,te=(c-l)/(p-l),oe=te*te,_e=oe*te,Ce=-H*_e+2*H*oe-H*te,Ae=(1+H)*_e+(-1.5-2*H)*oe+(-.5+H)*te+1,Ne=(-1-q)*_e+(1.5+q)*oe+.5*te,Ie=q*_e-q*oe,Le=0;Le!==C;++Le)_[Le]=Ce*S[z+Le]+Ae*S[O+Le]+Ne*S[k+Le]+Ie*S[V+Le];return _}});function Fv(i,l,c,p){ws.call(this,i,l,c,p)}Fv.prototype=Object.assign(Object.create(ws.prototype),{constructor:Fv,interpolate_:function(i,l,c,p){for(var _=this.resultBuffer,S=this.sampleValues,C=this.valueSize,k=i*C,O=k-C,z=(c-l)/(p-l),V=1-z,H=0;H!==C;++H)_[H]=S[O+H]*V+S[k+H]*z;return _}});function _y(i,l,c,p){ws.call(this,i,l,c,p)}_y.prototype=Object.assign(Object.create(ws.prototype),{constructor:_y,interpolate_:function(i){return this.copySampleValue_(i-1)}});function Za(i,l,c,p){if(i===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(l===void 0||l.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+i);this.name=i,this.times=po.convertArray(l,this.TimeBufferType),this.values=po.convertArray(c,this.ValueBufferType),this.setInterpolation(p||this.DefaultInterpolation)}Object.assign(Za,{toJSON:function(i){var l=i.constructor,c;if(l.toJSON!==void 0)c=l.toJSON(i);else{c={name:i.name,times:po.convertArray(i.times,Array),values:po.convertArray(i.values,Array)};var p=i.getInterpolation();p!==i.DefaultInterpolation&&(c.interpolation=p)}return c.type=i.ValueTypeName,c}}),Object.assign(Za.prototype,{constructor:Za,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Rd,InterpolantFactoryMethodDiscrete:function(i){return new _y(this.times,this.values,this.getValueSize(),i)},InterpolantFactoryMethodLinear:function(i){return new Fv(this.times,this.values,this.getValueSize(),i)},InterpolantFactoryMethodSmooth:function(i){return new by(this.times,this.values,this.getValueSize(),i)},setInterpolation:function(i){var l;switch(i){case Ld:l=this.InterpolantFactoryMethodDiscrete;break;case Rd:l=this.InterpolantFactoryMethodLinear;break;case Tc:l=this.InterpolantFactoryMethodSmooth;break}if(l===void 0){var c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(i!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(c);return console.warn("THREE.KeyframeTrack:",c),this}return this.createInterpolant=l,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ld;case this.InterpolantFactoryMethodLinear:return Rd;case this.InterpolantFactoryMethodSmooth:return Tc}},getValueSize:function(){return this.values.length/this.times.length},shift:function(i){if(i!==0)for(var l=this.times,c=0,p=l.length;c!==p;++c)l[c]+=i;return this},scale:function(i){if(i!==1)for(var l=this.times,c=0,p=l.length;c!==p;++c)l[c]*=i;return this},trim:function(i,l){for(var c=this.times,p=c.length,_=0,S=p-1;_!==p&&c[_]<i;)++_;for(;S!==-1&&c[S]>l;)--S;if(++S,_!==0||S!==p){_>=S&&(S=Math.max(S,1),_=S-1);var C=this.getValueSize();this.times=po.arraySlice(c,_,S),this.values=po.arraySlice(this.values,_*C,S*C)}return this},validate:function(){var i=!0,l=this.getValueSize();l-Math.floor(l)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),i=!1);var c=this.times,p=this.values,_=c.length;_===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),i=!1);for(var S=null,C=0;C!==_;C++){var k=c[C];if(typeof k=="number"&&isNaN(k)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,C,k),i=!1;break}if(S!==null&&S>k){console.error("THREE.KeyframeTrack: Out of order keys.",this,C,k,S),i=!1;break}S=k}if(p!==void 0&&po.isTypedArray(p))for(var C=0,O=p.length;C!==O;++C){var z=p[C];if(isNaN(z)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,C,z),i=!1;break}}return i},optimize:function(){for(var i=this.times,l=this.values,c=this.getValueSize(),p=this.getInterpolation()===Tc,_=1,S=i.length-1,C=1;C<S;++C){var k=!1,O=i[C],z=i[C+1];if(O!==z&&(C!==1||O!==O[0]))if(p)k=!0;else for(var V=C*c,H=V-c,q=V+c,te=0;te!==c;++te){var oe=l[V+te];if(oe!==l[H+te]||oe!==l[q+te]){k=!0;break}}if(k){if(C!==_){i[_]=i[C];for(var _e=C*c,Ce=_*c,te=0;te!==c;++te)l[Ce+te]=l[_e+te]}++_}}if(S>0){i[_]=i[S];for(var _e=S*c,Ce=_*c,te=0;te!==c;++te)l[Ce+te]=l[_e+te];++_}return _!==i.length&&(this.times=po.arraySlice(i,0,_),this.values=po.arraySlice(l,0,_*c)),this}});function wy(i,l,c){Za.call(this,i,l,c)}wy.prototype=Object.assign(Object.create(Za.prototype),{constructor:wy,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ld,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function xy(i,l,c,p){Za.call(this,i,l,c,p)}xy.prototype=Object.assign(Object.create(Za.prototype),{constructor:xy,ValueTypeName:"color"});function Vh(i,l,c,p){Za.call(this,i,l,c,p)}Vh.prototype=Object.assign(Object.create(Za.prototype),{constructor:Vh,ValueTypeName:"number"});function Sy(i,l,c,p){ws.call(this,i,l,c,p)}Sy.prototype=Object.assign(Object.create(ws.prototype),{constructor:Sy,interpolate_:function(i,l,c,p){for(var _=this.resultBuffer,S=this.sampleValues,C=this.valueSize,k=i*C,O=(c-l)/(p-l),z=k+C;k!==z;k+=4)ha.slerpFlat(_,0,S,k-C,S,k,O);return _}});function Bv(i,l,c,p){Za.call(this,i,l,c,p)}Bv.prototype=Object.assign(Object.create(Za.prototype),{constructor:Bv,ValueTypeName:"quaternion",DefaultInterpolation:Rd,InterpolantFactoryMethodLinear:function(i){return new Sy(this.times,this.values,this.getValueSize(),i)},InterpolantFactoryMethodSmooth:void 0});function My(i,l,c,p){Za.call(this,i,l,c,p)}My.prototype=Object.assign(Object.create(Za.prototype),{constructor:My,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ld,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Uh(i,l,c,p){Za.call(this,i,l,c,p)}Uh.prototype=Object.assign(Object.create(Za.prototype),{constructor:Uh,ValueTypeName:"vector"});function Ks(i,l,c){this.name=i,this.tracks=c,this.duration=l!==void 0?l:-1,this.uuid=Rr.generateUUID(),this.duration<0&&this.resetDuration()}function $U(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vh;case"vector":case"vector2":case"vector3":case"vector4":return Uh;case"color":return xy;case"quaternion":return Bv;case"bool":case"boolean":return wy;case"string":return My}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function GU(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var l=$U(i.type);if(i.times===void 0){var c=[],p=[];po.flattenJSON(i.keys,c,p,"value"),i.times=c,i.values=p}return l.parse!==void 0?l.parse(i):new l(i.name,i.times,i.values,i.interpolation)}Object.assign(Ks,{parse:function(i){for(var l=[],c=i.tracks,p=1/(i.fps||1),_=0,S=c.length;_!==S;++_)l.push(GU(c[_]).scale(p));return new Ks(i.name,i.duration,l)},toJSON:function(i){for(var l=[],c=i.tracks,p={name:i.name,duration:i.duration,tracks:l,uuid:i.uuid},_=0,S=c.length;_!==S;++_)l.push(Za.toJSON(c[_]));return p},CreateFromMorphTargetSequence:function(i,l,c,p){for(var _=l.length,S=[],C=0;C<_;C++){var k=[],O=[];k.push((C+_-1)%_,C,(C+1)%_),O.push(0,1,0);var z=po.getKeyframeOrder(k);k=po.sortedArray(k,1,z),O=po.sortedArray(O,1,z),!p&&k[0]===0&&(k.push(_),O.push(O[0])),S.push(new Vh(".morphTargetInfluences["+l[C].name+"]",k,O).scale(1/c))}return new Ks(i,-1,S)},findByName:function(i,l){var c=i;if(!Array.isArray(i)){var p=i;c=p.geometry&&p.geometry.animations||p.animations}for(var _=0;_<c.length;_++)if(c[_].name===l)return c[_];return null},CreateClipsFromMorphTargetSequences:function(i,l,c){for(var p={},_=/^([\w-]*?)([\d]+)$/,S=0,C=i.length;S<C;S++){var k=i[S],O=k.name.match(_);if(O&&O.length>1){var z=O[1],V=p[z];V||(p[z]=V=[]),V.push(k)}}var H=[];for(var z in p)H.push(Ks.CreateFromMorphTargetSequence(z,p[z],l,c));return H},parseAnimation:function(i,l){if(!i)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var c=function(Ie,Le,st,ft,ut){if(st.length!==0){var Ct=[],ht=[];po.flattenJSON(st,Ct,ht,ft),Ct.length!==0&&ut.push(new Ie(Le,Ct,ht))}},p=[],_=i.name||"default",S=i.length||-1,C=i.fps||30,k=i.hierarchy||[],O=0;O<k.length;O++){var z=k[O].keys;if(!(!z||z.length===0))if(z[0].morphTargets){for(var V={},H=0;H<z.length;H++)if(z[H].morphTargets)for(var q=0;q<z[H].morphTargets.length;q++)V[z[H].morphTargets[q]]=-1;for(var te in V){for(var oe=[],_e=[],q=0;q!==z[H].morphTargets.length;++q){var Ce=z[H];oe.push(Ce.time),_e.push(Ce.morphTarget===te?1:0)}p.push(new Vh(".morphTargetInfluence["+te+"]",oe,_e))}S=V.length*C}else{var Ae=".bones["+l[O].name+"]";c(Uh,Ae+".position",z,"pos",p),c(Bv,Ae+".quaternion",z,"rot",p),c(Uh,Ae+".scale",z,"scl",p)}}if(p.length===0)return null;var Ne=new Ks(_,S,p);return Ne}}),Object.assign(Ks.prototype,{resetDuration:function(){for(var i=this.tracks,l=0,c=0,p=i.length;c!==p;++c){var _=this.tracks[c];l=Math.max(l,_.times[_.times.length-1])}return this.duration=l,this},trim:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this},validate:function(){for(var i=!0,l=0;l<this.tracks.length;l++)i=i&&this.tracks[l].validate();return i},optimize:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}});function Ey(i){this.manager=i!==void 0?i:es,this.textures={}}Object.assign(Ey.prototype,{load:function(i,l,c,p){var _=this,S=new vl(_.manager);S.load(i,function(C){l(_.parse(JSON.parse(C)))},c,p)},setTextures:function(i){this.textures=i},parse:function(i){var l=this.textures;function c(k){return l[k]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",k),l[k]}var p=new DU[i.type];if(i.uuid!==void 0&&(p.uuid=i.uuid),i.name!==void 0&&(p.name=i.name),i.color!==void 0&&p.color.setHex(i.color),i.roughness!==void 0&&(p.roughness=i.roughness),i.metalness!==void 0&&(p.metalness=i.metalness),i.emissive!==void 0&&p.emissive.setHex(i.emissive),i.specular!==void 0&&p.specular.setHex(i.specular),i.shininess!==void 0&&(p.shininess=i.shininess),i.clearCoat!==void 0&&(p.clearCoat=i.clearCoat),i.clearCoatRoughness!==void 0&&(p.clearCoatRoughness=i.clearCoatRoughness),i.vertexColors!==void 0&&(p.vertexColors=i.vertexColors),i.fog!==void 0&&(p.fog=i.fog),i.flatShading!==void 0&&(p.flatShading=i.flatShading),i.blending!==void 0&&(p.blending=i.blending),i.side!==void 0&&(p.side=i.side),i.opacity!==void 0&&(p.opacity=i.opacity),i.transparent!==void 0&&(p.transparent=i.transparent),i.alphaTest!==void 0&&(p.alphaTest=i.alphaTest),i.depthTest!==void 0&&(p.depthTest=i.depthTest),i.depthWrite!==void 0&&(p.depthWrite=i.depthWrite),i.colorWrite!==void 0&&(p.colorWrite=i.colorWrite),i.wireframe!==void 0&&(p.wireframe=i.wireframe),i.wireframeLinewidth!==void 0&&(p.wireframeLinewidth=i.wireframeLinewidth),i.wireframeLinecap!==void 0&&(p.wireframeLinecap=i.wireframeLinecap),i.wireframeLinejoin!==void 0&&(p.wireframeLinejoin=i.wireframeLinejoin),i.rotation!==void 0&&(p.rotation=i.rotation),i.linewidth!==1&&(p.linewidth=i.linewidth),i.dashSize!==void 0&&(p.dashSize=i.dashSize),i.gapSize!==void 0&&(p.gapSize=i.gapSize),i.scale!==void 0&&(p.scale=i.scale),i.polygonOffset!==void 0&&(p.polygonOffset=i.polygonOffset),i.polygonOffsetFactor!==void 0&&(p.polygonOffsetFactor=i.polygonOffsetFactor),i.polygonOffsetUnits!==void 0&&(p.polygonOffsetUnits=i.polygonOffsetUnits),i.skinning!==void 0&&(p.skinning=i.skinning),i.morphTargets!==void 0&&(p.morphTargets=i.morphTargets),i.dithering!==void 0&&(p.dithering=i.dithering),i.visible!==void 0&&(p.visible=i.visible),i.userData!==void 0&&(p.userData=i.userData),i.uniforms!==void 0)for(var _ in i.uniforms){var S=i.uniforms[_];switch(p.uniforms[_]={},S.type){case"t":p.uniforms[_].value=c(S.value);break;case"c":p.uniforms[_].value=new cr().setHex(S.value);break;case"v2":p.uniforms[_].value=new gn().fromArray(S.value);break;case"v3":p.uniforms[_].value=new Ve().fromArray(S.value);break;case"v4":p.uniforms[_].value=new yi().fromArray(S.value);break;case"m4":p.uniforms[_].value=new gr().fromArray(S.value);break;default:p.uniforms[_].value=S.value}}if(i.defines!==void 0&&(p.defines=i.defines),i.vertexShader!==void 0&&(p.vertexShader=i.vertexShader),i.fragmentShader!==void 0&&(p.fragmentShader=i.fragmentShader),i.shading!==void 0&&(p.flatShading=i.shading===1),i.size!==void 0&&(p.size=i.size),i.sizeAttenuation!==void 0&&(p.sizeAttenuation=i.sizeAttenuation),i.map!==void 0&&(p.map=c(i.map)),i.alphaMap!==void 0&&(p.alphaMap=c(i.alphaMap),p.transparent=!0),i.bumpMap!==void 0&&(p.bumpMap=c(i.bumpMap)),i.bumpScale!==void 0&&(p.bumpScale=i.bumpScale),i.normalMap!==void 0&&(p.normalMap=c(i.normalMap)),i.normalMapType!==void 0&&(p.normalMapType=i.normalMapType),i.normalScale!==void 0){var C=i.normalScale;Array.isArray(C)===!1&&(C=[C,C]),p.normalScale=new gn().fromArray(C)}return i.displacementMap!==void 0&&(p.displacementMap=c(i.displacementMap)),i.displacementScale!==void 0&&(p.displacementScale=i.displacementScale),i.displacementBias!==void 0&&(p.displacementBias=i.displacementBias),i.roughnessMap!==void 0&&(p.roughnessMap=c(i.roughnessMap)),i.metalnessMap!==void 0&&(p.metalnessMap=c(i.metalnessMap)),i.emissiveMap!==void 0&&(p.emissiveMap=c(i.emissiveMap)),i.emissiveIntensity!==void 0&&(p.emissiveIntensity=i.emissiveIntensity),i.specularMap!==void 0&&(p.specularMap=c(i.specularMap)),i.envMap!==void 0&&(p.envMap=c(i.envMap)),i.reflectivity!==void 0&&(p.reflectivity=i.reflectivity),i.lightMap!==void 0&&(p.lightMap=c(i.lightMap)),i.lightMapIntensity!==void 0&&(p.lightMapIntensity=i.lightMapIntensity),i.aoMap!==void 0&&(p.aoMap=c(i.aoMap)),i.aoMapIntensity!==void 0&&(p.aoMapIntensity=i.aoMapIntensity),i.gradientMap!==void 0&&(p.gradientMap=c(i.gradientMap)),p}});function R1(i){this.manager=i!==void 0?i:es}Object.assign(R1.prototype,{load:function(i,l,c,p){var _=this,S=new vl(_.manager);S.load(i,function(C){l(_.parse(JSON.parse(C)))},c,p)},parse:function(i){var l=new er,c=i.data.index;if(c!==void 0){var p=new IT[c.type](c.array);l.setIndex(new Ur(p,1))}var _=i.data.attributes;for(var S in _){var C=_[S],p=new IT[C.type](C.array);l.addAttribute(S,new Ur(p,C.itemSize,C.normalized))}var k=i.data.groups||i.data.drawcalls||i.data.offsets;if(k!==void 0)for(var O=0,z=k.length;O!==z;++O){var V=k[O];l.addGroup(V.start,V.count,V.materialIndex)}var H=i.data.boundingSphere;if(H!==void 0){var q=new Ve;H.center!==void 0&&q.fromArray(H.center),l.boundingSphere=new Ao(q,H.radius)}return l}});var IT={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hh(){}Hh.Handlers={handlers:[],add:function(i,l){this.handlers.push(i,l)},get:function(i){for(var l=this.handlers,c=0,p=l.length;c<p;c+=2){var _=l[c],S=l[c+1];if(_.test(i))return S}return null}},Object.assign(Hh.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(i,l,c){for(var p=[],_=0;_<i.length;++_)p[_]=this.createMaterial(i[_],l,c);return p},createMaterial:function(){var i={NoBlending:P,NormalBlending:I,AdditiveBlending:E,SubtractiveBlending:D,MultiplyBlending:N,CustomBlending:B},l=new cr,c=new uy,p=new Ey;return function(S,C,k){var O={};function z(te,oe,_e,Ce,Ae){var Ne=C+te,Ie=Hh.Handlers.get(Ne),Le;Ie!==null?Le=Ie.load(Ne):(c.setCrossOrigin(k),Le=c.load(Ne)),oe!==void 0&&(Le.repeat.fromArray(oe),oe[0]!==1&&(Le.wrapS=sn),oe[1]!==1&&(Le.wrapT=sn)),_e!==void 0&&Le.offset.fromArray(_e),Ce!==void 0&&(Ce[0]==="repeat"&&(Le.wrapS=sn),Ce[0]==="mirror"&&(Le.wrapS=je),Ce[1]==="repeat"&&(Le.wrapT=sn),Ce[1]==="mirror"&&(Le.wrapT=je)),Ae!==void 0&&(Le.anisotropy=Ae);var st=Rr.generateUUID();return O[st]=Le,st}var V={uuid:Rr.generateUUID(),type:"MeshLambertMaterial"};for(var H in S){var q=S[H];switch(H){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":V.name=q;break;case"blending":V.blending=i[q];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",H,"is no longer supported.");break;case"colorDiffuse":V.color=l.fromArray(q).getHex();break;case"colorSpecular":V.specular=l.fromArray(q).getHex();break;case"colorEmissive":V.emissive=l.fromArray(q).getHex();break;case"specularCoef":V.shininess=q;break;case"shading":q.toLowerCase()==="basic"&&(V.type="MeshBasicMaterial"),q.toLowerCase()==="phong"&&(V.type="MeshPhongMaterial"),q.toLowerCase()==="standard"&&(V.type="MeshStandardMaterial");break;case"mapDiffuse":V.map=z(q,S.mapDiffuseRepeat,S.mapDiffuseOffset,S.mapDiffuseWrap,S.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":V.emissiveMap=z(q,S.mapEmissiveRepeat,S.mapEmissiveOffset,S.mapEmissiveWrap,S.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":V.lightMap=z(q,S.mapLightRepeat,S.mapLightOffset,S.mapLightWrap,S.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":V.aoMap=z(q,S.mapAORepeat,S.mapAOOffset,S.mapAOWrap,S.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":V.bumpMap=z(q,S.mapBumpRepeat,S.mapBumpOffset,S.mapBumpWrap,S.mapBumpAnisotropy);break;case"mapBumpScale":V.bumpScale=q;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":V.normalMap=z(q,S.mapNormalRepeat,S.mapNormalOffset,S.mapNormalWrap,S.mapNormalAnisotropy);break;case"mapNormalFactor":V.normalScale=q;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":V.specularMap=z(q,S.mapSpecularRepeat,S.mapSpecularOffset,S.mapSpecularWrap,S.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":V.metalnessMap=z(q,S.mapMetalnessRepeat,S.mapMetalnessOffset,S.mapMetalnessWrap,S.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":V.roughnessMap=z(q,S.mapRoughnessRepeat,S.mapRoughnessOffset,S.mapRoughnessWrap,S.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":V.alphaMap=z(q,S.mapAlphaRepeat,S.mapAlphaOffset,S.mapAlphaWrap,S.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":V.side=w;break;case"doubleSided":V.side=g;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),V.opacity=q;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":V[H]=q;break;case"vertexColors":q===!0&&(V.vertexColors=T),q==="face"&&(V.vertexColors=A);break;default:console.error("THREE.Loader.createMaterial: Unsupported",H,q);break}}return V.type==="MeshBasicMaterial"&&delete V.emissive,V.type!=="MeshPhongMaterial"&&delete V.specular,V.opacity<1&&(V.transparent=!0),p.setTextures(O),p.parse(V)}}()});var P1={decodeText:function(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);for(var l="",c=0,p=i.length;c<p;c++)l+=String.fromCharCode(i[c]);return decodeURIComponent(escape(l))},extractUrlBase:function(i){var l=i.lastIndexOf("/");return l===-1?"./":i.substr(0,l+1)}};function k1(i){typeof i=="boolean"&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),i=void 0),this.manager=i!==void 0?i:es,this.withCredentials=!1}Object.assign(k1.prototype,{crossOrigin:"anonymous",load:function(i,l,c,p){var _=this,S=this.texturePath&&typeof this.texturePath=="string"?this.texturePath:P1.extractUrlBase(i),C=new vl(this.manager);C.setWithCredentials(this.withCredentials),C.load(i,function(k){var O=JSON.parse(k),z=O.metadata;if(z!==void 0){var V=z.type;if(V!==void 0&&V.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+i+" should be loaded with THREE.ObjectLoader instead.");return}}var H=_.parse(O,S);l(H.geometry,H.materials)},c,p)},setCrossOrigin:function(i){return this.crossOrigin=i,this},setTexturePath:function(i){return this.texturePath=i,this},parse:function(){function i(_,S){function C(dn,qn){return dn&1<<qn}var k,O,z,V,H,q,te,oe,_e,Ce,Ae,Ne,Ie,Le,st,ft,ut,Ct,ht,It,Nt,ln,Cn,pn,yn,In,it,Qe=_.faces,Qt=_.vertices,Ht=_.normals,Dn=_.colors,_t=_.scale,Ln=0;if(_.uvs!==void 0){for(k=0;k<_.uvs.length;k++)_.uvs[k].length&&Ln++;for(k=0;k<Ln;k++)S.faceVertexUvs[k]=[]}for(V=0,H=Qt.length;V<H;)Ct=new Ve,Ct.x=Qt[V++]*_t,Ct.y=Qt[V++]*_t,Ct.z=Qt[V++]*_t,S.vertices.push(Ct);for(V=0,H=Qe.length;V<H;)if(Ce=Qe[V++],Ae=C(Ce,0),Ne=C(Ce,1),Ie=C(Ce,3),Le=C(Ce,4),st=C(Ce,5),ft=C(Ce,6),ut=C(Ce,7),Ae){if(It=new $u,It.a=Qe[V],It.b=Qe[V+1],It.c=Qe[V+3],Nt=new $u,Nt.a=Qe[V+1],Nt.b=Qe[V+2],Nt.c=Qe[V+3],V+=4,Ne&&(_e=Qe[V++],It.materialIndex=_e,Nt.materialIndex=_e),z=S.faces.length,Ie)for(k=0;k<Ln;k++)for(pn=_.uvs[k],S.faceVertexUvs[k][z]=[],S.faceVertexUvs[k][z+1]=[],O=0;O<4;O++)oe=Qe[V++],In=pn[oe*2],it=pn[oe*2+1],yn=new gn(In,it),O!==2&&S.faceVertexUvs[k][z].push(yn),O!==0&&S.faceVertexUvs[k][z+1].push(yn);if(Le&&(te=Qe[V++]*3,It.normal.set(Ht[te++],Ht[te++],Ht[te]),Nt.normal.copy(It.normal)),st)for(k=0;k<4;k++)te=Qe[V++]*3,Cn=new Ve(Ht[te++],Ht[te++],Ht[te]),k!==2&&It.vertexNormals.push(Cn),k!==0&&Nt.vertexNormals.push(Cn);if(ft&&(q=Qe[V++],ln=Dn[q],It.color.setHex(ln),Nt.color.setHex(ln)),ut)for(k=0;k<4;k++)q=Qe[V++],ln=Dn[q],k!==2&&It.vertexColors.push(new cr(ln)),k!==0&&Nt.vertexColors.push(new cr(ln));S.faces.push(It),S.faces.push(Nt)}else{if(ht=new $u,ht.a=Qe[V++],ht.b=Qe[V++],ht.c=Qe[V++],Ne&&(_e=Qe[V++],ht.materialIndex=_e),z=S.faces.length,Ie)for(k=0;k<Ln;k++)for(pn=_.uvs[k],S.faceVertexUvs[k][z]=[],O=0;O<3;O++)oe=Qe[V++],In=pn[oe*2],it=pn[oe*2+1],yn=new gn(In,it),S.faceVertexUvs[k][z].push(yn);if(Le&&(te=Qe[V++]*3,ht.normal.set(Ht[te++],Ht[te++],Ht[te])),st)for(k=0;k<3;k++)te=Qe[V++]*3,Cn=new Ve(Ht[te++],Ht[te++],Ht[te]),ht.vertexNormals.push(Cn);if(ft&&(q=Qe[V++],ht.color.setHex(Dn[q])),ut)for(k=0;k<3;k++)q=Qe[V++],ht.vertexColors.push(new cr(Dn[q]));S.faces.push(ht)}}function l(_,S){var C=_.influencesPerVertex!==void 0?_.influencesPerVertex:2;if(_.skinWeights)for(var k=0,O=_.skinWeights.length;k<O;k+=C){var z=_.skinWeights[k],V=C>1?_.skinWeights[k+1]:0,H=C>2?_.skinWeights[k+2]:0,q=C>3?_.skinWeights[k+3]:0;S.skinWeights.push(new yi(z,V,H,q))}if(_.skinIndices)for(var k=0,O=_.skinIndices.length;k<O;k+=C){var te=_.skinIndices[k],oe=C>1?_.skinIndices[k+1]:0,_e=C>2?_.skinIndices[k+2]:0,Ce=C>3?_.skinIndices[k+3]:0;S.skinIndices.push(new yi(te,oe,_e,Ce))}S.bones=_.bones,S.bones&&S.bones.length>0&&(S.skinWeights.length!==S.skinIndices.length||S.skinIndices.length!==S.vertices.length)&&console.warn("When skinning, number of vertices ("+S.vertices.length+"), skinIndices ("+S.skinIndices.length+"), and skinWeights ("+S.skinWeights.length+") should match.")}function c(_,S){var C=_.scale;if(_.morphTargets!==void 0)for(var k=0,O=_.morphTargets.length;k<O;k++){S.morphTargets[k]={},S.morphTargets[k].name=_.morphTargets[k].name,S.morphTargets[k].vertices=[];for(var z=S.morphTargets[k].vertices,V=_.morphTargets[k].vertices,H=0,q=V.length;H<q;H+=3){var te=new Ve;te.x=V[H]*C,te.y=V[H+1]*C,te.z=V[H+2]*C,z.push(te)}}if(_.morphColors!==void 0&&_.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var oe=S.faces,_e=_.morphColors[0].colors,k=0,O=oe.length;k<O;k++)oe[k].color.fromArray(_e,k*3)}}function p(_,S){var C=[],k=[];_.animation!==void 0&&k.push(_.animation),_.animations!==void 0&&(_.animations.length?k=k.concat(_.animations):k.push(_.animations));for(var O=0;O<k.length;O++){var z=Ks.parseAnimation(k[O],S.bones);z&&C.push(z)}if(S.morphTargets){var V=Ks.CreateClipsFromMorphTargetSequences(S.morphTargets,10);C=C.concat(V)}C.length>0&&(S.animations=C)}return function(S,C){S.data!==void 0&&(S=S.data),S.scale!==void 0?S.scale=1/S.scale:S.scale=1;var k=new Tr;if(i(S,k),l(S,k),c(S,k),p(S,k),k.computeFaceNormals(),k.computeBoundingSphere(),S.materials===void 0||S.materials.length===0)return{geometry:k};var O=Hh.prototype.initMaterials(S.materials,C,this.crossOrigin);return{geometry:k,materials:O}}}()});function OT(i){this.manager=i!==void 0?i:es,this.texturePath=""}Object.assign(OT.prototype,{crossOrigin:"anonymous",load:function(i,l,c,p){this.texturePath===""&&(this.texturePath=i.substring(0,i.lastIndexOf("/")+1));var _=this,S=new vl(_.manager);S.load(i,function(C){var k=null;try{k=JSON.parse(C)}catch(z){p!==void 0&&p(z),console.error("THREE:ObjectLoader: Can't parse "+i+".",z.message);return}var O=k.metadata;if(O===void 0||O.type===void 0||O.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+i+". Use THREE.JSONLoader instead.");return}_.parse(k,l)},c,p)},setTexturePath:function(i){return this.texturePath=i,this},setCrossOrigin:function(i){return this.crossOrigin=i,this},parse:function(i,l){var c=this.parseShape(i.shapes),p=this.parseGeometries(i.geometries,c),_=this.parseImages(i.images,function(){l!==void 0&&l(k)}),S=this.parseTextures(i.textures,_),C=this.parseMaterials(i.materials,S),k=this.parseObject(i.object,p,C);return i.animations&&(k.animations=this.parseAnimations(i.animations)),(i.images===void 0||i.images.length===0)&&l!==void 0&&l(k),k},parseShape:function(i){var l={};if(i!==void 0)for(var c=0,p=i.length;c<p;c++){var _=new Uc().fromJSON(i[c]);l[_.uuid]=_}return l},parseGeometries:function(i,l){var c={};if(i!==void 0)for(var p=new k1,_=new R1,S=0,C=i.length;S<C;S++){var k,O=i[S];switch(O.type){case"PlaneGeometry":case"PlaneBufferGeometry":k=new Qo[O.type](O.width,O.height,O.widthSegments,O.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":k=new Qo[O.type](O.width,O.height,O.depth,O.widthSegments,O.heightSegments,O.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new Qo[O.type](O.radius,O.segments,O.thetaStart,O.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new Qo[O.type](O.radiusTop,O.radiusBottom,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new Qo[O.type](O.radius,O.height,O.radialSegments,O.heightSegments,O.openEnded,O.thetaStart,O.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new Qo[O.type](O.radius,O.widthSegments,O.heightSegments,O.phiStart,O.phiLength,O.thetaStart,O.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new Qo[O.type](O.radius,O.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new Qo[O.type](O.innerRadius,O.outerRadius,O.thetaSegments,O.phiSegments,O.thetaStart,O.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new Qo[O.type](O.radius,O.tube,O.radialSegments,O.tubularSegments,O.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new Qo[O.type](O.radius,O.tube,O.tubularSegments,O.radialSegments,O.p,O.q);break;case"LatheGeometry":case"LatheBufferGeometry":k=new Qo[O.type](O.points,O.segments,O.phiStart,O.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new Qo[O.type](O.vertices,O.indices,O.radius,O.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var q=[],z=0,V=O.shapes.length;z<V;z++){var H=l[O.shapes[z]];q.push(H)}k=new Qo[O.type](q,O.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var q=[],z=0,V=O.shapes.length;z<V;z++){var H=l[O.shapes[z]];q.push(H)}var te=O.options.extrudePath;te!==void 0&&(O.options.extrudePath=new kT[te.type]().fromJSON(te)),k=new Qo[O.type](q,O.options);break;case"BufferGeometry":k=_.parse(O);break;case"Geometry":k=p.parse(O,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+O.type+'"');continue}k.uuid=O.uuid,O.name!==void 0&&(k.name=O.name),k.isBufferGeometry===!0&&O.userData!==void 0&&(k.userData=O.userData),c[O.uuid]=k}return c},parseMaterials:function(i,l){var c={};if(i!==void 0){var p=new Ey;p.setTextures(l);for(var _=0,S=i.length;_<S;_++){var C=i[_];if(C.type==="MultiMaterial"){for(var k=[],O=0;O<C.materials.length;O++)k.push(p.parse(C.materials[O]));c[C.uuid]=k}else c[C.uuid]=p.parse(C)}}return c},parseAnimations:function(i){for(var l=[],c=0;c<i.length;c++){var p=i[c],_=Ks.parse(p);p.uuid!==void 0&&(_.uuid=p.uuid),l.push(_)}return l},parseImages:function(i,l){var c=this,p={};function _(_e){return c.manager.itemStart(_e),C.load(_e,function(){c.manager.itemEnd(_e)},void 0,function(){c.manager.itemEnd(_e),c.manager.itemError(_e)})}if(i!==void 0&&i.length>0){var S=new S1(l),C=new Ov(S);C.setCrossOrigin(this.crossOrigin);for(var k=0,O=i.length;k<O;k++){var z=i[k],V=z.url;if(Array.isArray(V)){p[z.uuid]=[];for(var H=0,q=V.length;H<q;H++){var te=V[H],oe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(te)?te:c.texturePath+te;p[z.uuid].push(_(oe))}}else{var oe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(z.url)?z.url:c.texturePath+z.url;p[z.uuid]=_(oe)}}}return p},parseTextures:function(i,l){function c(O,z){return typeof O=="number"?O:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",O),z[O])}var p={};if(i!==void 0)for(var _=0,S=i.length;_<S;_++){var C=i[_];C.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',C.uuid),l[C.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",C.image);var k;Array.isArray(l[C.image])?k=new Gu(l[C.image]):k=new zi(l[C.image]),k.needsUpdate=!0,k.uuid=C.uuid,C.name!==void 0&&(k.name=C.name),C.mapping!==void 0&&(k.mapping=c(C.mapping,WU)),C.offset!==void 0&&k.offset.fromArray(C.offset),C.repeat!==void 0&&k.repeat.fromArray(C.repeat),C.center!==void 0&&k.center.fromArray(C.center),C.rotation!==void 0&&(k.rotation=C.rotation),C.wrap!==void 0&&(k.wrapS=c(C.wrap[0],DT),k.wrapT=c(C.wrap[1],DT)),C.format!==void 0&&(k.format=C.format),C.minFilter!==void 0&&(k.minFilter=c(C.minFilter,NT)),C.magFilter!==void 0&&(k.magFilter=c(C.magFilter,NT)),C.anisotropy!==void 0&&(k.anisotropy=C.anisotropy),C.flipY!==void 0&&(k.flipY=C.flipY),p[C.uuid]=k}return p},parseObject:function(i,l,c){var p;function _(oe){return l[oe]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",oe),l[oe]}function S(oe){if(oe!==void 0){if(Array.isArray(oe)){for(var _e=[],Ce=0,Ae=oe.length;Ce<Ae;Ce++){var Ne=oe[Ce];c[Ne]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ne),_e.push(c[Ne])}return _e}return c[oe]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",oe),c[oe]}}switch(i.type){case"Scene":p=new iy,i.background!==void 0&&Number.isInteger(i.background)&&(p.background=new cr(i.background)),i.fog!==void 0&&(i.fog.type==="Fog"?p.fog=new wh(i.fog.color,i.fog.near,i.fog.far):i.fog.type==="FogExp2"&&(p.fog=new _h(i.fog.color,i.fog.density)));break;case"PerspectiveCamera":p=new ma(i.fov,i.aspect,i.near,i.far),i.focus!==void 0&&(p.focus=i.focus),i.zoom!==void 0&&(p.zoom=i.zoom),i.filmGauge!==void 0&&(p.filmGauge=i.filmGauge),i.filmOffset!==void 0&&(p.filmOffset=i.filmOffset),i.view!==void 0&&(p.view=Object.assign({},i.view));break;case"OrthographicCamera":p=new vh(i.left,i.right,i.top,i.bottom,i.near,i.far),i.zoom!==void 0&&(p.zoom=i.zoom),i.view!==void 0&&(p.view=Object.assign({},i.view));break;case"AmbientLight":p=new gy(i.color,i.intensity);break;case"DirectionalLight":p=new vy(i.color,i.intensity);break;case"PointLight":p=new py(i.color,i.intensity,i.distance,i.decay);break;case"RectAreaLight":p=new yy(i.color,i.intensity,i.width,i.height);break;case"SpotLight":p=new hy(i.color,i.intensity,i.distance,i.angle,i.penumbra,i.decay);break;case"HemisphereLight":p=new dy(i.color,i.groundColor,i.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var C=_(i.geometry),k=S(i.material);C.bones&&C.bones.length>0?p=new oy(C,k):p=new Xo(C,k);break;case"LOD":p=new cv;break;case"Line":p=new Zo(_(i.geometry),S(i.material),i.mode);break;case"LineLoop":p=new sy(_(i.geometry),S(i.material));break;case"LineSegments":p=new Gi(_(i.geometry),S(i.material));break;case"PointCloud":case"Points":p=new Sh(_(i.geometry),S(i.material));break;case"Sprite":p=new uv(S(i.material));break;case"Group":p=new bh;break;default:p=new Wn}if(p.uuid=i.uuid,i.name!==void 0&&(p.name=i.name),i.matrix!==void 0?(p.matrix.fromArray(i.matrix),i.matrixAutoUpdate!==void 0&&(p.matrixAutoUpdate=i.matrixAutoUpdate),p.matrixAutoUpdate&&p.matrix.decompose(p.position,p.quaternion,p.scale)):(i.position!==void 0&&p.position.fromArray(i.position),i.rotation!==void 0&&p.rotation.fromArray(i.rotation),i.quaternion!==void 0&&p.quaternion.fromArray(i.quaternion),i.scale!==void 0&&p.scale.fromArray(i.scale)),i.castShadow!==void 0&&(p.castShadow=i.castShadow),i.receiveShadow!==void 0&&(p.receiveShadow=i.receiveShadow),i.shadow&&(i.shadow.bias!==void 0&&(p.shadow.bias=i.shadow.bias),i.shadow.radius!==void 0&&(p.shadow.radius=i.shadow.radius),i.shadow.mapSize!==void 0&&p.shadow.mapSize.fromArray(i.shadow.mapSize),i.shadow.camera!==void 0&&(p.shadow.camera=this.parseObject(i.shadow.camera))),i.visible!==void 0&&(p.visible=i.visible),i.frustumCulled!==void 0&&(p.frustumCulled=i.frustumCulled),i.renderOrder!==void 0&&(p.renderOrder=i.renderOrder),i.userData!==void 0&&(p.userData=i.userData),i.layers!==void 0&&(p.layers.mask=i.layers),i.children!==void 0)for(var O=i.children,z=0;z<O.length;z++)p.add(this.parseObject(O[z],l,c));if(i.type==="LOD")for(var V=i.levels,H=0;H<V.length;H++){var q=V[H],te=p.getObjectByProperty("uuid",q.object);te!==void 0&&p.addLevel(te,q.distance)}return p}});var WU={UVMapping:ve,CubeReflectionMapping:Fe,CubeRefractionMapping:qe,EquirectangularReflectionMapping:Et,EquirectangularRefractionMapping:$t,SphericalReflectionMapping:Yt,CubeUVReflectionMapping:We,CubeUVRefractionMapping:lt},DT={RepeatWrapping:sn,ClampToEdgeWrapping:Tt,MirroredRepeatWrapping:je},NT={NearestFilter:xe,NearestMipMapNearestFilter:Ke,NearestMipMapLinearFilter:Ee,LinearFilter:wt,LinearMipMapNearestFilter:an,LinearMipMapLinearFilter:Je};function I1(i){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=i!==void 0?i:es,this.options=void 0}I1.prototype={constructor:I1,setOptions:function(l){return this.options=l,this},load:function(i,l,c,p){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);var _=this,S=nf.get(i);if(S!==void 0)return _.manager.itemStart(i),setTimeout(function(){l&&l(S),_.manager.itemEnd(i)},0),S;fetch(i).then(function(C){return C.blob()}).then(function(C){return createImageBitmap(C,_.options)}).then(function(C){nf.add(i,C),l&&l(C),_.manager.itemEnd(i)}).catch(function(C){p&&p(C),_.manager.itemEnd(i),_.manager.itemError(i)})},setCrossOrigin:function(){return this},setPath:function(i){return this.path=i,this}};function O1(){this.type="ShapePath",this.color=new cr,this.subPaths=[],this.currentPath=null}Object.assign(O1.prototype,{moveTo:function(i,l){this.currentPath=new wl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(i,l)},lineTo:function(i,l){this.currentPath.lineTo(i,l)},quadraticCurveTo:function(i,l,c,p){this.currentPath.quadraticCurveTo(i,l,c,p)},bezierCurveTo:function(i,l,c,p,_,S){this.currentPath.bezierCurveTo(i,l,c,p,_,S)},splineThru:function(i){this.currentPath.splineThru(i)},toShapes:function(i,l){function c(yn){for(var In=[],it=0,Qe=yn.length;it<Qe;it++){var Qt=yn[it],Ht=new Uc;Ht.curves=Qt.curves,In.push(Ht)}return In}function p(yn,In){for(var it=In.length,Qe=!1,Qt=it-1,Ht=0;Ht<it;Qt=Ht++){var Dn=In[Qt],_t=In[Ht],Ln=_t.x-Dn.x,dn=_t.y-Dn.y;if(Math.abs(dn)>Number.EPSILON){if(dn<0&&(Dn=In[Ht],Ln=-Ln,_t=In[Qt],dn=-dn),yn.y<Dn.y||yn.y>_t.y)continue;if(yn.y===Dn.y){if(yn.x===Dn.x)return!0}else{var qn=dn*(yn.x-Dn.x)-Ln*(yn.y-Dn.y);if(qn===0)return!0;if(qn<0)continue;Qe=!Qe}}else{if(yn.y!==Dn.y)continue;if(_t.x<=yn.x&&yn.x<=Dn.x||Dn.x<=yn.x&&yn.x<=_t.x)return!0}}return Qe}var _=Wu.isClockWise,S=this.subPaths;if(S.length===0)return[];if(l===!0)return c(S);var C,k,O,z=[];if(S.length===1)return k=S[0],O=new Uc,O.curves=k.curves,z.push(O),z;var V=!_(S[0].getPoints());V=i?!V:V;var H=[],q=[],te=[],oe=0,_e;q[oe]=void 0,te[oe]=[];for(var Ce=0,Ae=S.length;Ce<Ae;Ce++)k=S[Ce],_e=k.getPoints(),C=_(_e),C=i?!C:C,C?(!V&&q[oe]&&oe++,q[oe]={s:new Uc,p:_e},q[oe].s.curves=k.curves,V&&oe++,te[oe]=[]):te[oe].push({h:k,p:_e[0]});if(!q[0])return c(S);if(q.length>1){for(var Ne=!1,Ie=[],Le=0,st=q.length;Le<st;Le++)H[Le]=[];for(var Le=0,st=q.length;Le<st;Le++)for(var ft=te[Le],ut=0;ut<ft.length;ut++){for(var Ct=ft[ut],ht=!0,It=0;It<q.length;It++)p(Ct.p,q[It].p)&&(Le!==It&&Ie.push({froms:Le,tos:It,hole:ut}),ht?(ht=!1,H[It].push(Ct)):Ne=!0);ht&&H[Le].push(Ct)}Ie.length>0&&(Ne||(te=H))}for(var Nt,Ce=0,ln=q.length;Ce<ln;Ce++){O=q[Ce].s,z.push(O),Nt=te[Ce];for(var Cn=0,pn=Nt.length;Cn<pn;Cn++)O.holes.push(Nt[Cn].h)}return z}});function D1(i){this.type="Font",this.data=i}Object.assign(D1.prototype,{isFont:!0,generateShapes:function(i,l){l===void 0&&(l=100);for(var c=[],p=jU(i,l,this.data),_=0,S=p.length;_<S;_++)Array.prototype.push.apply(c,p[_].toShapes());return c}});function jU(i,l,c){for(var p=Array.from?Array.from(i):String(i).split(""),_=l/c.resolution,S=(c.boundingBox.yMax-c.boundingBox.yMin+c.underlineThickness)*_,C=[],k=0,O=0,z=0;z<p.length;z++){var V=p[z];if(V==="\n")k=0,O-=S;else{var H=qU(V,_,k,O,c);k+=H.offsetX,C.push(H.path)}}return C}function qU(i,l,c,p,_){var S=_.glyphs[i]||_.glyphs["?"];if(S){var C=new O1,k,O,z,V,H,q,te,oe;if(S.o)for(var _e=S._cachedOutline||(S._cachedOutline=S.o.split(" ")),Ce=0,Ae=_e.length;Ce<Ae;){var Ne=_e[Ce++];switch(Ne){case"m":k=_e[Ce++]*l+c,O=_e[Ce++]*l+p,C.moveTo(k,O);break;case"l":k=_e[Ce++]*l+c,O=_e[Ce++]*l+p,C.lineTo(k,O);break;case"q":z=_e[Ce++]*l+c,V=_e[Ce++]*l+p,H=_e[Ce++]*l+c,q=_e[Ce++]*l+p,C.quadraticCurveTo(H,q,z,V);break;case"b":z=_e[Ce++]*l+c,V=_e[Ce++]*l+p,H=_e[Ce++]*l+c,q=_e[Ce++]*l+p,te=_e[Ce++]*l+c,oe=_e[Ce++]*l+p,C.bezierCurveTo(H,q,te,oe,z,V);break}}return{offsetX:S.ha*l,path:C}}}function FT(i){this.manager=i!==void 0?i:es}Object.assign(FT.prototype,{load:function(i,l,c,p){var _=this,S=new vl(this.manager);S.setPath(this.path),S.load(i,function(C){var k;try{k=JSON.parse(C)}catch(z){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(C.substring(65,C.length-2))}var O=_.parse(k);l&&l(O)},c,p)},parse:function(i){return new D1(i)},setPath:function(i){return this.path=i,this}});var Cy,N1={getContext:function(){return Cy===void 0&&(Cy=new(window.AudioContext||window.webkitAudioContext)),Cy},setContext:function(i){Cy=i}};function F1(i){this.manager=i!==void 0?i:es}Object.assign(F1.prototype,{load:function(i,l,c,p){var _=new vl(this.manager);_.setResponseType("arraybuffer"),_.load(i,function(S){var C=S.slice(0),k=N1.getContext();k.decodeAudioData(C,function(O){l(O)})},c,p)}});function BT(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ma,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ma,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(BT.prototype,{update:function(){var i,l,c,p,_,S,C,k,O=new gr,z=new gr;return function(H){var q=i!==this||l!==H.focus||c!==H.fov||p!==H.aspect*this.aspect||_!==H.near||S!==H.far||C!==H.zoom||k!==this.eyeSep;if(q){i=this,l=H.focus,c=H.fov,p=H.aspect*this.aspect,_=H.near,S=H.far,C=H.zoom;var te=H.projectionMatrix.clone();k=this.eyeSep/2;var oe=k*_/l,_e=_*Math.tan(Rr.DEG2RAD*c*.5)/C,Ce,Ae;z.elements[12]=-k,O.elements[12]=k,Ce=-_e*p+oe,Ae=_e*p+oe,te.elements[0]=2*_/(Ae-Ce),te.elements[8]=(Ae+Ce)/(Ae-Ce),this.cameraL.projectionMatrix.copy(te),Ce=-_e*p-oe,Ae=_e*p-oe,te.elements[0]=2*_/(Ae-Ce),te.elements[8]=(Ae+Ce)/(Ae-Ce),this.cameraR.projectionMatrix.copy(te)}this.cameraL.matrixWorld.copy(H.matrixWorld).multiply(z),this.cameraR.matrixWorld.copy(H.matrixWorld).multiply(O)}}()});function zv(i,l,c){Wn.call(this),this.type="CubeCamera";var p=90,_=1,S=new ma(p,_,i,l);S.up.set(0,-1,0),S.lookAt(new Ve(1,0,0)),this.add(S);var C=new ma(p,_,i,l);C.up.set(0,-1,0),C.lookAt(new Ve(-1,0,0)),this.add(C);var k=new ma(p,_,i,l);k.up.set(0,0,1),k.lookAt(new Ve(0,1,0)),this.add(k);var O=new ma(p,_,i,l);O.up.set(0,0,-1),O.lookAt(new Ve(0,-1,0)),this.add(O);var z=new ma(p,_,i,l);z.up.set(0,-1,0),z.lookAt(new Ve(0,0,1)),this.add(z);var V=new ma(p,_,i,l);V.up.set(0,-1,0),V.lookAt(new Ve(0,0,-1)),this.add(V);var H={format:Ka,magFilter:wt,minFilter:wt};this.renderTarget=new Ic(c,c,H),this.renderTarget.texture.name="CubeCamera",this.update=function(q,te){this.parent===null&&this.updateMatrixWorld();var oe=this.renderTarget,_e=oe.texture.generateMipmaps;oe.texture.generateMipmaps=!1,oe.activeCubeFace=0,q.render(te,S,oe),oe.activeCubeFace=1,q.render(te,C,oe),oe.activeCubeFace=2,q.render(te,k,oe),oe.activeCubeFace=3,q.render(te,O,oe),oe.activeCubeFace=4,q.render(te,z,oe),oe.texture.generateMipmaps=_e,oe.activeCubeFace=5,q.render(te,V,oe),q.setRenderTarget(null)},this.clear=function(q,te,oe,_e){for(var Ce=this.renderTarget,Ae=0;Ae<6;Ae++)Ce.activeCubeFace=Ae,q.setRenderTarget(Ce),q.clear(te,oe,_e);q.setRenderTarget(null)}}zv.prototype=Object.create(Wn.prototype),zv.prototype.constructor=zv;function B1(){Wn.call(this),this.type="AudioListener",this.context=N1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}B1.prototype=Object.assign(Object.create(Wn.prototype),{constructor:B1,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(i){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=i,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this},updateMatrixWorld:function(){var i=new Ve,l=new ha,c=new Ve,p=new Ve;return function(S){Wn.prototype.updateMatrixWorld.call(this,S);var C=this.context.listener,k=this.up;this.matrixWorld.decompose(i,l,c),p.set(0,0,-1).applyQuaternion(l),C.positionX?(C.positionX.setValueAtTime(i.x,this.context.currentTime),C.positionY.setValueAtTime(i.y,this.context.currentTime),C.positionZ.setValueAtTime(i.z,this.context.currentTime),C.forwardX.setValueAtTime(p.x,this.context.currentTime),C.forwardY.setValueAtTime(p.y,this.context.currentTime),C.forwardZ.setValueAtTime(p.z,this.context.currentTime),C.upX.setValueAtTime(k.x,this.context.currentTime),C.upY.setValueAtTime(k.y,this.context.currentTime),C.upZ.setValueAtTime(k.z,this.context.currentTime)):(C.setPosition(i.x,i.y,i.z),C.setOrientation(p.x,p.y,p.z,k.x,k.y,k.z))}}()});function $h(i){Wn.call(this),this.type="Audio",this.context=i.context,this.gain=this.context.createGain(),this.gain.connect(i.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}$h.prototype=Object.assign(Object.create(Wn.prototype),{constructor:$h,getOutput:function(){return this.gain},setNodeSource:function(i){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=i,this.connect(),this},setMediaElementSource:function(i){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(i),this.connect(),this},setBuffer:function(i){return this.buffer=i,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.onended=this.onEnded.bind(this),i.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,i.start(this.startTime,this.offset),this.isPlaying=!0,this.source=i,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(i){return i||(i=[]),this.isPlaying===!0?(this.disconnect(),this.filters=i,this.connect()):this.filters=i,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(i){return this.setFilters(i?[i]:[])},setPlaybackRate:function(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=i,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=i,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this}});function z1(i){$h.call(this,i),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}z1.prototype=Object.assign(Object.create($h.prototype),{constructor:z1,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(i){return this.panner.refDistance=i,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(i){return this.panner.rolloffFactor=i,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(i){return this.panner.distanceModel=i,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(i){return this.panner.maxDistance=i,this},setDirectionalCone:function(i,l,c){return this.panner.coneInnerAngle=i,this.panner.coneOuterAngle=l,this.panner.coneOuterGain=c,this},updateMatrixWorld:function(){var i=new Ve,l=new ha,c=new Ve,p=new Ve;return function(S){Wn.prototype.updateMatrixWorld.call(this,S);var C=this.panner;this.matrixWorld.decompose(i,l,c),p.set(0,0,1).applyQuaternion(l),C.setPosition(i.x,i.y,i.z),C.setOrientation(p.x,p.y,p.z)}}()});function V1(i,l){this.analyser=i.context.createAnalyser(),this.analyser.fftSize=l!==void 0?l:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),i.getOutput().connect(this.analyser)}Object.assign(V1.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var i=0,l=this.getFrequencyData(),c=0;c<l.length;c++)i+=l[c];return i/l.length}});function U1(i,l,c){this.binding=i,this.valueSize=c;var p=Float64Array,_;switch(l){case"quaternion":_=this._slerp;break;case"string":case"bool":p=Array,_=this._select;break;default:_=this._lerp}this.buffer=new p(c*4),this._mixBufferRegion=_,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(U1.prototype,{accumulate:function(i,l){var c=this.buffer,p=this.valueSize,_=i*p+p,S=this.cumulativeWeight;if(S===0){for(var C=0;C!==p;++C)c[_+C]=c[C];S=l}else{S+=l;var k=l/S;this._mixBufferRegion(c,_,0,k,p)}this.cumulativeWeight=S},apply:function(i){var l=this.valueSize,c=this.buffer,p=i*l+l,_=this.cumulativeWeight,S=this.binding;if(this.cumulativeWeight=0,_<1){var C=l*3;this._mixBufferRegion(c,p,C,1-_,l)}for(var k=l,O=l+l;k!==O;++k)if(c[k]!==c[k+l]){S.setValue(c,p);break}},saveOriginalState:function(){var i=this.binding,l=this.buffer,c=this.valueSize,p=c*3;i.getValue(l,p);for(var _=c,S=p;_!==S;++_)l[_]=l[p+_%c];this.cumulativeWeight=0},restoreOriginalState:function(){var i=this.valueSize*3;this.binding.setValue(this.buffer,i)},_select:function(i,l,c,p,_){if(p>=.5)for(var S=0;S!==_;++S)i[l+S]=i[c+S]},_slerp:function(i,l,c,p){ha.slerpFlat(i,l,i,l,i,c,p)},_lerp:function(i,l,c,p,_){for(var S=1-p,C=0;C!==_;++C){var k=l+C;i[k]=i[k]*S+i[c+C]*p}}});var H1="\\[\\]\\.:\\/";function zT(i,l,c){var p=c||mo.parseTrackName(l);this._targetGroup=i,this._bindings=i.subscribe_(l,p)}Object.assign(zT.prototype,{getValue:function(i,l){this.bind();var c=this._targetGroup.nCachedObjects_,p=this._bindings[c];p!==void 0&&p.getValue(i,l)},setValue:function(i,l){for(var c=this._bindings,p=this._targetGroup.nCachedObjects_,_=c.length;p!==_;++p)c[p].setValue(i,l)},bind:function(){for(var i=this._bindings,l=this._targetGroup.nCachedObjects_,c=i.length;l!==c;++l)i[l].bind()},unbind:function(){for(var i=this._bindings,l=this._targetGroup.nCachedObjects_,c=i.length;l!==c;++l)i[l].unbind()}});function mo(i,l,c){this.path=l,this.parsedPath=c||mo.parseTrackName(l),this.node=mo.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i}Object.assign(mo,{Composite:zT,create:function(i,l,c){return i&&i.isAnimationObjectGroup?new mo.Composite(i,l,c):new mo(i,l,c)},sanitizeNodeName:function(){var i=new RegExp("["+H1+"]","g");return function(c){return c.replace(/\s/g,"_").replace(i,"")}}(),parseTrackName:function(){var i="[^"+H1+"]",l="[^"+H1.replace("\\.","")+"]",c=/((?:WC+[\/:])*)/.source.replace("WC",i),p=/(WCOD+)?/.source.replace("WCOD",l),_=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",i),S=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",i),C=new RegExp("^"+c+p+_+S+"$"),k=["material","materials","bones"];return function(z){var V=C.exec(z);if(!V)throw new Error("PropertyBinding: Cannot parse trackName: "+z);var H={nodeName:V[2],objectName:V[3],objectIndex:V[4],propertyName:V[5],propertyIndex:V[6]},q=H.nodeName&&H.nodeName.lastIndexOf(".");if(q!==void 0&&q!==-1){var te=H.nodeName.substring(q+1);k.indexOf(te)!==-1&&(H.nodeName=H.nodeName.substring(0,q),H.objectName=te)}if(H.propertyName===null||H.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+z);return H}}(),findNode:function(i,l){if(!l||l===""||l==="root"||l==="."||l===-1||l===i.name||l===i.uuid)return i;if(i.skeleton){var c=i.skeleton.getBoneByName(l);if(c!==void 0)return c}if(i.children){var p=function(S){for(var C=0;C<S.length;C++){var k=S[C];if(k.name===l||k.uuid===l)return k;var O=p(k.children);if(O)return O}return null},_=p(i.children);if(_)return _}return null}}),Object.assign(mo.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(l,c){l[c]=this.node[this.propertyName]},function(l,c){for(var p=this.resolvedProperty,_=0,S=p.length;_!==S;++_)l[c++]=p[_]},function(l,c){l[c]=this.resolvedProperty[this.propertyIndex]},function(l,c){this.resolvedProperty.toArray(l,c)}],SetterByBindingTypeAndVersioning:[[function(l,c){this.targetObject[this.propertyName]=l[c]},function(l,c){this.targetObject[this.propertyName]=l[c],this.targetObject.needsUpdate=!0},function(l,c){this.targetObject[this.propertyName]=l[c],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,c){for(var p=this.resolvedProperty,_=0,S=p.length;_!==S;++_)p[_]=l[c++]},function(l,c){for(var p=this.resolvedProperty,_=0,S=p.length;_!==S;++_)p[_]=l[c++];this.targetObject.needsUpdate=!0},function(l,c){for(var p=this.resolvedProperty,_=0,S=p.length;_!==S;++_)p[_]=l[c++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,c){this.resolvedProperty[this.propertyIndex]=l[c]},function(l,c){this.resolvedProperty[this.propertyIndex]=l[c],this.targetObject.needsUpdate=!0},function(l,c){this.resolvedProperty[this.propertyIndex]=l[c],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,c){this.resolvedProperty.fromArray(l,c)},function(l,c){this.resolvedProperty.fromArray(l,c),this.targetObject.needsUpdate=!0},function(l,c){this.resolvedProperty.fromArray(l,c),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(l,c){this.bind(),this.getValue(l,c)},setValue:function(l,c){this.bind(),this.setValue(l,c)},bind:function(){var i=this.node,l=this.parsedPath,c=l.objectName,p=l.propertyName,_=l.propertyIndex;if(i||(i=mo.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(c){var S=l.objectIndex;switch(c){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(var C=0;C<i.length;C++)if(i[C].name===S){S=C;break}break;default:if(i[c]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[c]}if(S!==void 0){if(i[S]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[S]}}var k=i[p];if(k===void 0){var O=l.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+O+"."+p+" but it wasn't found.",i);return}var z=this.Versioning.None;this.targetObject=i,i.needsUpdate!==void 0?z=this.Versioning.NeedsUpdate:i.matrixWorldNeedsUpdate!==void 0&&(z=this.Versioning.MatrixWorldNeedsUpdate);var V=this.BindingType.Direct;if(_!==void 0){if(p==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(i.geometry.isBufferGeometry){if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var C=0;C<this.node.geometry.morphAttributes.position.length;C++)if(i.geometry.morphAttributes.position[C].name===_){_=C;break}}else{if(!i.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var C=0;C<this.node.geometry.morphTargets.length;C++)if(i.geometry.morphTargets[C].name===_){_=C;break}}}V=this.BindingType.ArrayElement,this.resolvedProperty=k,this.propertyIndex=_}else k.fromArray!==void 0&&k.toArray!==void 0?(V=this.BindingType.HasFromToArray,this.resolvedProperty=k):Array.isArray(k)?(V=this.BindingType.EntireArray,this.resolvedProperty=k):this.propertyName=p;this.getValue=this.GetterByBindingType[V],this.setValue=this.SetterByBindingTypeAndVersioning[V][z]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(mo.prototype,{_getValue_unbound:mo.prototype.getValue,_setValue_unbound:mo.prototype.setValue});function VT(){this.uuid=Rr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var i={};this._indicesByUUID=i;for(var l=0,c=arguments.length;l!==c;++l)i[arguments[l].uuid]=l;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var p=this;this.stats={objects:{get total(){return p._objects.length},get inUse(){return this.total-p.nCachedObjects_}},get bindingsPerObject(){return p._bindings.length}}}Object.assign(VT.prototype,{isAnimationObjectGroup:!0,add:function(){for(var i=this._objects,l=i.length,c=this.nCachedObjects_,p=this._indicesByUUID,_=this._paths,S=this._parsedPaths,C=this._bindings,k=C.length,O=void 0,z=0,V=arguments.length;z!==V;++z){var H=arguments[z],q=H.uuid,te=p[q];if(te===void 0){te=l++,p[q]=te,i.push(H);for(var oe=0,_e=k;oe!==_e;++oe)C[oe].push(new mo(H,_[oe],S[oe]))}else if(te<c){O=i[te];var Ce=--c,Ae=i[Ce];p[Ae.uuid]=te,i[te]=Ae,p[q]=Ce,i[Ce]=H;for(var oe=0,_e=k;oe!==_e;++oe){var Ne=C[oe],Ie=Ne[Ce],Le=Ne[te];Ne[te]=Ie,Le===void 0&&(Le=new mo(H,_[oe],S[oe])),Ne[Ce]=Le}}else i[te]!==O&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var i=this._objects,l=this.nCachedObjects_,c=this._indicesByUUID,p=this._bindings,_=p.length,S=0,C=arguments.length;S!==C;++S){var k=arguments[S],O=k.uuid,z=c[O];if(z!==void 0&&z>=l){var V=l++,H=i[V];c[H.uuid]=z,i[z]=H,c[O]=V,i[V]=k;for(var q=0,te=_;q!==te;++q){var oe=p[q],_e=oe[V],Ce=oe[z];oe[z]=_e,oe[V]=Ce}}}this.nCachedObjects_=l},uncache:function(){for(var i=this._objects,l=i.length,c=this.nCachedObjects_,p=this._indicesByUUID,_=this._bindings,S=_.length,C=0,k=arguments.length;C!==k;++C){var O=arguments[C],z=O.uuid,V=p[z];if(V!==void 0)if(delete p[z],V<c){var H=--c,q=i[H],te=--l,oe=i[te];p[q.uuid]=V,i[V]=q,p[oe.uuid]=H,i[H]=oe,i.pop();for(var _e=0,Ce=S;_e!==Ce;++_e){var Ae=_[_e],Ne=Ae[H],Ie=Ae[te];Ae[V]=Ne,Ae[H]=Ie,Ae.pop()}}else{var te=--l,oe=i[te];p[oe.uuid]=V,i[V]=oe,i.pop();for(var _e=0,Ce=S;_e!==Ce;++_e){var Ae=_[_e];Ae[V]=Ae[te],Ae.pop()}}}this.nCachedObjects_=c},subscribe_:function(i,l){var c=this._bindingsIndicesByPath,p=c[i],_=this._bindings;if(p!==void 0)return _[p];var S=this._paths,C=this._parsedPaths,k=this._objects,O=k.length,z=this.nCachedObjects_,V=new Array(O);p=_.length,c[i]=p,S.push(i),C.push(l),_.push(V);for(var H=z,q=k.length;H!==q;++H){var te=k[H];V[H]=new mo(te,i,l)}return V},unsubscribe_:function(i){var l=this._bindingsIndicesByPath,c=l[i];if(c!==void 0){var p=this._paths,_=this._parsedPaths,S=this._bindings,C=S.length-1,k=S[C],O=i[C];l[O]=c,S[c]=k,S.pop(),_[c]=_[C],_.pop(),p[c]=p[C],p.pop()}}});function UT(i,l,c){this._mixer=i,this._clip=l,this._localRoot=c||null;for(var p=l.tracks,_=p.length,S=new Array(_),C={endingStart:eu,endingEnd:eu},k=0;k!==_;++k){var O=p[k].createInterpolant(null);S[k]=O,O.settings=C}this._interpolantSettings=C,this._interpolants=S,this._propertyBindings=new Array(_),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cl,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(UT.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(i){return this._startTime=i,this},setLoop:function(i,l){return this.loop=i,this.repetitions=l,this},setEffectiveWeight:function(i){return this.weight=i,this._effectiveWeight=this.enabled?i:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(i){return this._scheduleFading(i,0,1)},fadeOut:function(i){return this._scheduleFading(i,1,0)},crossFadeFrom:function(i,l,c){if(i.fadeOut(l),this.fadeIn(l),c){var p=this._clip.duration,_=i._clip.duration,S=_/p,C=p/_;i.warp(1,S,l),this.warp(C,1,l)}return this},crossFadeTo:function(i,l,c){return i.crossFadeFrom(this,l,c)},stopFading:function(){var i=this._weightInterpolant;return i!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this},setEffectiveTimeScale:function(i){return this.timeScale=i,this._effectiveTimeScale=this.paused?0:i,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(i){return this.timeScale=this._clip.duration/i,this.stopWarping()},syncWith:function(i){return this.time=i.time,this.timeScale=i.timeScale,this.stopWarping()},halt:function(i){return this.warp(this._effectiveTimeScale,0,i)},warp:function(i,l,c){var p=this._mixer,_=p.time,S=this._timeScaleInterpolant,C=this.timeScale;S===null&&(S=p._lendControlInterpolant(),this._timeScaleInterpolant=S);var k=S.parameterPositions,O=S.sampleValues;return k[0]=_,k[1]=_+c,O[0]=i/C,O[1]=l/C,this},stopWarping:function(){var i=this._timeScaleInterpolant;return i!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(i,l,c,p){if(!this.enabled){this._updateWeight(i);return}var _=this._startTime;if(_!==null){var S=(i-_)*c;if(S<0||c===0)return;this._startTime=null,l=c*S}l*=this._updateTimeScale(i);var C=this._updateTime(l),k=this._updateWeight(i);if(k>0)for(var O=this._interpolants,z=this._propertyBindings,V=0,H=O.length;V!==H;++V)O[V].evaluate(C),z[V].accumulate(p,k)},_updateWeight:function(i){var l=0;if(this.enabled){l=this.weight;var c=this._weightInterpolant;if(c!==null){var p=c.evaluate(i)[0];l*=p,i>c.parameterPositions[1]&&(this.stopFading(),p===0&&(this.enabled=!1))}}return this._effectiveWeight=l,l},_updateTimeScale:function(i){var l=0;if(!this.paused){l=this.timeScale;var c=this._timeScaleInterpolant;if(c!==null){var p=c.evaluate(i)[0];l*=p,i>c.parameterPositions[1]&&(this.stopWarping(),l===0?this.paused=!0:this.timeScale=l)}}return this._effectiveTimeScale=l,l},_updateTime:function(i){var l=this.time+i,c=this._clip.duration,p=this.loop,_=this._loopCount,S=p===Ql;if(i===0)return _===-1?l:S&&(_&1)===1?c-l:l;if(p===fa){_===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=c)l=c;else if(l<0)l=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:i<0?-1:1})}}else{if(_===-1&&(i>=0?(_=0,this._setEndings(!0,this.repetitions===0,S)):this._setEndings(this.repetitions===0,!0,S)),l>=c||l<0){var C=Math.floor(l/c);l-=c*C,_+=Math.abs(C);var k=this.repetitions-_;if(k<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=i>0?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:i>0?1:-1});else{if(k===1){var O=i<0;this._setEndings(O,!O,S)}else this._setEndings(!1,!1,S);this._loopCount=_,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:C})}}if(S&&(_&1)===1)return this.time=l,c-l}return this.time=l,l},_setEndings:function(i,l,c){var p=this._interpolantSettings;c?(p.endingStart=Vs,p.endingEnd=Vs):(i?p.endingStart=this.zeroSlopeAtStart?Vs:eu:p.endingStart=Ac,l?p.endingEnd=this.zeroSlopeAtEnd?Vs:eu:p.endingEnd=Ac)},_scheduleFading:function(i,l,c){var p=this._mixer,_=p.time,S=this._weightInterpolant;S===null&&(S=p._lendControlInterpolant(),this._weightInterpolant=S);var C=S.parameterPositions,k=S.sampleValues;return C[0]=_,k[0]=l,C[1]=_+i,k[1]=c,this}});function $1(i){this._root=i,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}$1.prototype=Object.assign(Object.create(t.prototype),{constructor:$1,_bindAction:function(i,l){var c=i._localRoot||this._root,p=i._clip.tracks,_=p.length,S=i._propertyBindings,C=i._interpolants,k=c.uuid,O=this._bindingsByRootAndName,z=O[k];z===void 0&&(z={},O[k]=z);for(var V=0;V!==_;++V){var H=p[V],q=H.name,te=z[q];if(te!==void 0)S[V]=te;else{if(te=S[V],te!==void 0){te._cacheIndex===null&&(++te.referenceCount,this._addInactiveBinding(te,k,q));continue}var oe=l&&l._propertyBindings[V].binding.parsedPath;te=new U1(mo.create(c,q,oe),H.ValueTypeName,H.getValueSize()),++te.referenceCount,this._addInactiveBinding(te,k,q),S[V]=te}C[V].resultBuffer=te.buffer}},_activateAction:function(i){if(!this._isActiveAction(i)){if(i._cacheIndex===null){var l=(i._localRoot||this._root).uuid,c=i._clip.uuid,p=this._actionsByClip[c];this._bindAction(i,p&&p.knownActions[0]),this._addInactiveAction(i,c,l)}for(var _=i._propertyBindings,S=0,C=_.length;S!==C;++S){var k=_[S];k.useCount++===0&&(this._lendBinding(k),k.saveOriginalState())}this._lendAction(i)}},_deactivateAction:function(i){if(this._isActiveAction(i)){for(var l=i._propertyBindings,c=0,p=l.length;c!==p;++c){var _=l[c];--_.useCount===0&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(i)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var i=this;this.stats={actions:{get total(){return i._actions.length},get inUse(){return i._nActiveActions}},bindings:{get total(){return i._bindings.length},get inUse(){return i._nActiveBindings}},controlInterpolants:{get total(){return i._controlInterpolants.length},get inUse(){return i._nActiveControlInterpolants}}}},_isActiveAction:function(i){var l=i._cacheIndex;return l!==null&&l<this._nActiveActions},_addInactiveAction:function(i,l,c){var p=this._actions,_=this._actionsByClip,S=_[l];if(S===void 0)S={knownActions:[i],actionByRoot:{}},i._byClipCacheIndex=0,_[l]=S;else{var C=S.knownActions;i._byClipCacheIndex=C.length,C.push(i)}i._cacheIndex=p.length,p.push(i),S.actionByRoot[c]=i},_removeInactiveAction:function(i){var l=this._actions,c=l[l.length-1],p=i._cacheIndex;c._cacheIndex=p,l[p]=c,l.pop(),i._cacheIndex=null;var _=i._clip.uuid,S=this._actionsByClip,C=S[_],k=C.knownActions,O=k[k.length-1],z=i._byClipCacheIndex;O._byClipCacheIndex=z,k[z]=O,k.pop(),i._byClipCacheIndex=null;var V=C.actionByRoot,H=(i._localRoot||this._root).uuid;delete V[H],k.length===0&&delete S[_],this._removeInactiveBindingsForAction(i)},_removeInactiveBindingsForAction:function(i){for(var l=i._propertyBindings,c=0,p=l.length;c!==p;++c){var _=l[c];--_.referenceCount===0&&this._removeInactiveBinding(_)}},_lendAction:function(i){var l=this._actions,c=i._cacheIndex,p=this._nActiveActions++,_=l[p];i._cacheIndex=p,l[p]=i,_._cacheIndex=c,l[c]=_},_takeBackAction:function(i){var l=this._actions,c=i._cacheIndex,p=--this._nActiveActions,_=l[p];i._cacheIndex=p,l[p]=i,_._cacheIndex=c,l[c]=_},_addInactiveBinding:function(i,l,c){var p=this._bindingsByRootAndName,_=p[l],S=this._bindings;_===void 0&&(_={},p[l]=_),_[c]=i,i._cacheIndex=S.length,S.push(i)},_removeInactiveBinding:function(i){var l=this._bindings,c=i.binding,p=c.rootNode.uuid,_=c.path,S=this._bindingsByRootAndName,C=S[p],k=l[l.length-1],O=i._cacheIndex;k._cacheIndex=O,l[O]=k,l.pop(),delete C[_];e:{for(var z in C)break e;delete S[p]}},_lendBinding:function(i){var l=this._bindings,c=i._cacheIndex,p=this._nActiveBindings++,_=l[p];i._cacheIndex=p,l[p]=i,_._cacheIndex=c,l[c]=_},_takeBackBinding:function(i){var l=this._bindings,c=i._cacheIndex,p=--this._nActiveBindings,_=l[p];i._cacheIndex=p,l[p]=i,_._cacheIndex=c,l[c]=_},_lendControlInterpolant:function(){var i=this._controlInterpolants,l=this._nActiveControlInterpolants++,c=i[l];return c===void 0&&(c=new Fv(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=l,i[l]=c),c},_takeBackControlInterpolant:function(i){var l=this._controlInterpolants,c=i.__cacheIndex,p=--this._nActiveControlInterpolants,_=l[p];i.__cacheIndex=p,l[p]=i,_.__cacheIndex=c,l[c]=_},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(i,l){var c=l||this._root,p=c.uuid,_=typeof i=="string"?Ks.findByName(c,i):i,S=_!==null?_.uuid:i,C=this._actionsByClip[S],k=null;if(C!==void 0){var O=C.actionByRoot[p];if(O!==void 0)return O;k=C.knownActions[0],_===null&&(_=k._clip)}if(_===null)return null;var z=new UT(this,_,l);return this._bindAction(z,k),this._addInactiveAction(z,S,p),z},existingAction:function(i,l){var c=l||this._root,p=c.uuid,_=typeof i=="string"?Ks.findByName(c,i):i,S=_?_.uuid:i,C=this._actionsByClip[S];return C!==void 0&&C.actionByRoot[p]||null},stopAllAction:function(){var i=this._actions,l=this._nActiveActions,c=this._bindings,p=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var _=0;_!==l;++_)i[_].reset();for(var _=0;_!==p;++_)c[_].useCount=0;return this},update:function(i){i*=this.timeScale;for(var l=this._actions,c=this._nActiveActions,p=this.time+=i,_=Math.sign(i),S=this._accuIndex^=1,C=0;C!==c;++C){var k=l[C];k._update(p,i,_,S)}for(var O=this._bindings,z=this._nActiveBindings,C=0;C!==z;++C)O[C].apply(S);return this},getRoot:function(){return this._root},uncacheClip:function(i){var l=this._actions,c=i.uuid,p=this._actionsByClip,_=p[c];if(_!==void 0){for(var S=_.knownActions,C=0,k=S.length;C!==k;++C){var O=S[C];this._deactivateAction(O);var z=O._cacheIndex,V=l[l.length-1];O._cacheIndex=null,O._byClipCacheIndex=null,V._cacheIndex=z,l[z]=V,l.pop(),this._removeInactiveBindingsForAction(O)}delete p[c]}},uncacheRoot:function(i){var l=i.uuid,c=this._actionsByClip;for(var p in c){var _=c[p].actionByRoot,S=_[l];S!==void 0&&(this._deactivateAction(S),this._removeInactiveAction(S))}var C=this._bindingsByRootAndName,k=C[l];if(k!==void 0)for(var O in k){var z=k[O];z.restoreOriginalState(),this._removeInactiveBinding(z)}},uncacheAction:function(i,l){var c=this.existingAction(i,l);c!==null&&(this._deactivateAction(c),this._removeInactiveAction(c))}});function Ty(i){typeof i=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),i=arguments[1]),this.value=i}Ty.prototype.clone=function(){return new Ty(this.value.clone===void 0?this.value:this.value.clone())};function G1(){er.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}G1.prototype=Object.assign(Object.create(er.prototype),{constructor:G1,isInstancedBufferGeometry:!0,copy:function(i){return er.prototype.copy.call(this,i),this.maxInstancedCount=i.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}});function W1(i,l,c){Hd.call(this,i,l),this.meshPerAttribute=c||1}W1.prototype=Object.assign(Object.create(Hd.prototype),{constructor:W1,isInstancedInterleavedBuffer:!0,copy:function(i){return Hd.prototype.copy.call(this,i),this.meshPerAttribute=i.meshPerAttribute,this}});function j1(i,l,c,p){typeof c=="number"&&(p=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ur.call(this,i,l,c),this.meshPerAttribute=p||1}j1.prototype=Object.assign(Object.create(Ur.prototype),{constructor:j1,isInstancedBufferAttribute:!0,copy:function(i){return Ur.prototype.copy.call(this,i),this.meshPerAttribute=i.meshPerAttribute,this}});function HT(i,l,c,p){this.ray=new Ud(i,l),this.near=c||0,this.far=p||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function $T(i,l){return i.distance-l.distance}function q1(i,l,c,p){if(i.visible!==!1&&(i.raycast(l,c),p===!0))for(var _=i.children,S=0,C=_.length;S<C;S++)q1(_[S],l,c,!0)}Object.assign(HT.prototype,{linePrecision:1,set:function(i,l){this.ray.set(i,l)},setFromCamera:function(i,l){l&&l.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(l.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(l).sub(this.ray.origin).normalize()):l&&l.isOrthographicCamera?(this.ray.origin.set(i.x,i.y,(l.near+l.far)/(l.near-l.far)).unproject(l),this.ray.direction.set(0,0,-1).transformDirection(l.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(i,l,c){var p=c||[];return q1(i,this,p,l),p.sort($T),p},intersectObjects:function(i,l,c){var p=c||[];if(Array.isArray(i)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),p;for(var _=0,S=i.length;_<S;_++)q1(i[_],this,p,l);return p.sort($T),p}});function GT(i){this.autoStart=i!==void 0?i:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(GT.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var l=(typeof performance>"u"?Date:performance).now();i=(l-this.oldTime)/1e3,this.oldTime=l,this.elapsedTime+=i}return i}});function WT(i,l,c){return this.radius=i!==void 0?i:1,this.phi=l!==void 0?l:0,this.theta=c!==void 0?c:0,this}Object.assign(WT.prototype,{set:function(i,l,c){return this.radius=i,this.phi=l,this.theta=c,this},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this},makeSafe:function(){var i=1e-6;return this.phi=Math.max(i,Math.min(Math.PI-i,this.phi)),this},setFromVector3:function(i){return this.setFromCartesianCoords(i.x,i.y,i.z)},setFromCartesianCoords:function(i,l,c){return this.radius=Math.sqrt(i*i+l*l+c*c),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(i,c),this.phi=Math.acos(Rr.clamp(l/this.radius,-1,1))),this}});function jT(i,l,c){return this.radius=i!==void 0?i:1,this.theta=l!==void 0?l:0,this.y=c!==void 0?c:0,this}Object.assign(jT.prototype,{set:function(i,l,c){return this.radius=i,this.theta=l,this.y=c,this},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.radius=i.radius,this.theta=i.theta,this.y=i.y,this},setFromVector3:function(i){return this.setFromCartesianCoords(i.x,i.y,i.z)},setFromCartesianCoords:function(i,l,c){return this.radius=Math.sqrt(i*i+c*c),this.theta=Math.atan2(i,c),this.y=l,this}});function K1(i,l){this.min=i!==void 0?i:new gn(1/0,1/0),this.max=l!==void 0?l:new gn(-1/0,-1/0)}Object.assign(K1.prototype,{set:function(i,l){return this.min.copy(i),this.max.copy(l),this},setFromPoints:function(i){this.makeEmpty();for(var l=0,c=i.length;l<c;l++)this.expandByPoint(i[l]);return this},setFromCenterAndSize:function(){var i=new gn;return function(c,p){var _=i.copy(p).multiplyScalar(.5);return this.min.copy(c).sub(_),this.max.copy(c).add(_),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.min.copy(i.min),this.max.copy(i.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(i){return i===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),i=new gn),this.isEmpty()?i.set(0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(i){return i===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),i=new gn),this.isEmpty()?i.set(0,0):i.subVectors(this.max,this.min)},expandByPoint:function(i){return this.min.min(i),this.max.max(i),this},expandByVector:function(i){return this.min.sub(i),this.max.add(i),this},expandByScalar:function(i){return this.min.addScalar(-i),this.max.addScalar(i),this},containsPoint:function(i){return!(i.x<this.min.x||i.x>this.max.x||i.y<this.min.y||i.y>this.max.y)},containsBox:function(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y},getParameter:function(i,l){return l===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),l=new gn),l.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(i){return!(i.max.x<this.min.x||i.min.x>this.max.x||i.max.y<this.min.y||i.min.y>this.max.y)},clampPoint:function(i,l){return l===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),l=new gn),l.copy(i).clamp(this.min,this.max)},distanceToPoint:function(){var i=new gn;return function(c){var p=i.copy(c).clamp(this.min,this.max);return p.sub(c).length()}}(),intersect:function(i){return this.min.max(i.min),this.max.min(i.max),this},union:function(i){return this.min.min(i.min),this.max.max(i.max),this},translate:function(i){return this.min.add(i),this.max.add(i),this},equals:function(i){return i.min.equals(this.min)&&i.max.equals(this.max)}});function Y1(i,l){this.start=i!==void 0?i:new Ve,this.end=l!==void 0?l:new Ve}Object.assign(Y1.prototype,{set:function(i,l){return this.start.copy(i),this.end.copy(l),this},clone:function(){return new this.constructor().copy(this)},copy:function(i){return this.start.copy(i.start),this.end.copy(i.end),this},getCenter:function(i){return i===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),i=new Ve),i.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(i){return i===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),i=new Ve),i.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(i,l){return l===void 0&&(console.warn("THREE.Line3: .at() target is now required"),l=new Ve),this.delta(l).multiplyScalar(i).add(this.start)},closestPointToPointParameter:function(){var i=new Ve,l=new Ve;return function(p,_){i.subVectors(p,this.start),l.subVectors(this.end,this.start);var S=l.dot(l),C=l.dot(i),k=C/S;return _&&(k=Rr.clamp(k,0,1)),k}}(),closestPointToPoint:function(i,l,c){var p=this.closestPointToPointParameter(i,l);return c===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new Ve),this.delta(c).multiplyScalar(p).add(this.start)},applyMatrix4:function(i){return this.start.applyMatrix4(i),this.end.applyMatrix4(i),this},equals:function(i){return i.start.equals(this.start)&&i.end.equals(this.end)}});function Vv(i){Wn.call(this),this.material=i,this.render=function(){}}Vv.prototype=Object.create(Wn.prototype),Vv.prototype.constructor=Vv,Vv.prototype.isImmediateRenderObject=!0;function Uv(i,l,c,p){this.object=i,this.size=l!==void 0?l:1;var _=c!==void 0?c:16711680,S=p!==void 0?p:1,C=0,k=this.object.geometry;k&&k.isGeometry?C=k.faces.length*3:k&&k.isBufferGeometry&&(C=k.attributes.normal.count);var O=new er,z=new zn(C*2*3,3);O.addAttribute("position",z),Gi.call(this,O,new Oi({color:_,linewidth:S})),this.matrixAutoUpdate=!1,this.update()}Uv.prototype=Object.create(Gi.prototype),Uv.prototype.constructor=Uv,Uv.prototype.update=function(){var i=new Ve,l=new Ve,c=new Ea;return function(){var _=["a","b","c"];this.object.updateMatrixWorld(!0),c.getNormalMatrix(this.object.matrixWorld);var S=this.object.matrixWorld,C=this.geometry.attributes.position,k=this.object.geometry;if(k&&k.isGeometry)for(var O=k.vertices,z=k.faces,V=0,H=0,q=z.length;H<q;H++)for(var te=z[H],oe=0,_e=te.vertexNormals.length;oe<_e;oe++){var Ce=O[te[_[oe]]],Ae=te.vertexNormals[oe];i.copy(Ce).applyMatrix4(S),l.copy(Ae).applyMatrix3(c).normalize().multiplyScalar(this.size).add(i),C.setXYZ(V,i.x,i.y,i.z),V=V+1,C.setXYZ(V,l.x,l.y,l.z),V=V+1}else if(k&&k.isBufferGeometry)for(var Ne=k.attributes.position,Ie=k.attributes.normal,V=0,oe=0,_e=Ne.count;oe<_e;oe++)i.set(Ne.getX(oe),Ne.getY(oe),Ne.getZ(oe)).applyMatrix4(S),l.set(Ie.getX(oe),Ie.getY(oe),Ie.getZ(oe)),l.applyMatrix3(c).normalize().multiplyScalar(this.size).add(i),C.setXYZ(V,i.x,i.y,i.z),V=V+1,C.setXYZ(V,l.x,l.y,l.z),V=V+1;C.needsUpdate=!0}}();function Gh(i,l){Wn.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=l;for(var c=new er,p=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],_=0,S=1,C=32;_<C;_++,S++){var k=_/C*Math.PI*2,O=S/C*Math.PI*2;p.push(Math.cos(k),Math.sin(k),1,Math.cos(O),Math.sin(O),1)}c.addAttribute("position",new zn(p,3));var z=new Oi({fog:!1});this.cone=new Gi(c,z),this.add(this.cone),this.update()}Gh.prototype=Object.create(Wn.prototype),Gh.prototype.constructor=Gh,Gh.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Gh.prototype.update=function(){var i=new Ve,l=new Ve;return function(){this.light.updateMatrixWorld();var p=this.light.distance?this.light.distance:1e3,_=p*Math.tan(this.light.angle);this.cone.scale.set(_,_,p),i.setFromMatrixPosition(this.light.matrixWorld),l.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(l.sub(i)),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();function qT(i){var l=[];i&&i.isBone&&l.push(i);for(var c=0;c<i.children.length;c++)l.push.apply(l,qT(i.children[c]));return l}function Wh(i){for(var l=qT(i),c=new er,p=[],_=[],S=new cr(0,0,1),C=new cr(0,1,0),k=0;k<l.length;k++){var O=l[k];O.parent&&O.parent.isBone&&(p.push(0,0,0),p.push(0,0,0),_.push(S.r,S.g,S.b),_.push(C.r,C.g,C.b))}c.addAttribute("position",new zn(p,3)),c.addAttribute("color",new zn(_,3));var z=new Oi({vertexColors:T,depthTest:!1,depthWrite:!1,transparent:!0});Gi.call(this,c,z),this.root=i,this.bones=l,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1}Wh.prototype=Object.create(Gi.prototype),Wh.prototype.constructor=Wh,Wh.prototype.updateMatrixWorld=function(){var i=new Ve,l=new gr,c=new gr;return function(_){var S=this.bones,C=this.geometry,k=C.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var O=0,z=0;O<S.length;O++){var V=S[O];V.parent&&V.parent.isBone&&(l.multiplyMatrices(c,V.matrixWorld),i.setFromMatrixPosition(l),k.setXYZ(z,i.x,i.y,i.z),l.multiplyMatrices(c,V.parent.matrixWorld),i.setFromMatrixPosition(l),k.setXYZ(z+1,i.x,i.y,i.z),z+=2)}C.getAttribute("position").needsUpdate=!0,Wn.prototype.updateMatrixWorld.call(this,_)}}();function jh(i,l,c){this.light=i,this.light.updateMatrixWorld(),this.color=c;var p=new jd(l,4,2),_=new bs({wireframe:!0,fog:!1});Xo.call(this,p,_),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}jh.prototype=Object.create(Xo.prototype),jh.prototype.constructor=jh,jh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},jh.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};function qh(i,l){Wn.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=l;var c=new Oi({fog:!1}),p=new er;p.addAttribute("position",new Ur(new Float32Array(5*3),3)),this.line=new Zo(p,c),this.add(this.line),this.update()}qh.prototype=Object.create(Wn.prototype),qh.prototype.constructor=qh,qh.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},qh.prototype.update=function(){var i=this.light.width*.5,l=this.light.height*.5,c=this.line.geometry.attributes.position,p=c.array;p[0]=i,p[1]=-l,p[2]=0,p[3]=i,p[4]=l,p[5]=0,p[6]=-i,p[7]=l,p[8]=0,p[9]=-i,p[10]=-l,p[11]=0,p[12]=i,p[13]=-l,p[14]=0,c.needsUpdate=!0,this.color!==void 0?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)};function Kh(i,l,c){Wn.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=c;var p=new $d(l);p.rotateY(Math.PI*.5),this.material=new bs({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=T);var _=p.getAttribute("position"),S=new Float32Array(_.count*3);p.addAttribute("color",new Ur(S,3)),this.add(new Xo(p,this.material)),this.update()}Kh.prototype=Object.create(Wn.prototype),Kh.prototype.constructor=Kh,Kh.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Kh.prototype.update=function(){var i=new Ve,l=new cr,c=new cr;return function(){var _=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var S=_.geometry.getAttribute("color");l.copy(this.light.color),c.copy(this.light.groundColor);for(var C=0,k=S.count;C<k;C++){var O=C<k/2?l:c;S.setXYZ(C,O.r,O.g,O.b)}S.needsUpdate=!0}_.lookAt(i.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function Hv(i,l,c,p){i=i||10,l=l||10,c=new cr(c!==void 0?c:4473924),p=new cr(p!==void 0?p:8947848);for(var _=l/2,S=i/l,C=i/2,k=[],O=[],z=0,V=0,H=-C;z<=l;z++,H+=S){k.push(-C,0,H,C,0,H),k.push(H,0,-C,H,0,C);var q=z===_?c:p;q.toArray(O,V),V+=3,q.toArray(O,V),V+=3,q.toArray(O,V),V+=3,q.toArray(O,V),V+=3}var te=new er;te.addAttribute("position",new zn(k,3)),te.addAttribute("color",new zn(O,3));var oe=new Oi({vertexColors:T});Gi.call(this,te,oe)}Hv.prototype=Object.create(Gi.prototype),Hv.prototype.constructor=Hv;function Ay(i,l,c,p,_,S){i=i||10,l=l||16,c=c||8,p=p||64,_=new cr(_!==void 0?_:4473924),S=new cr(S!==void 0?S:8947848);var C=[],k=[],O,z,V,H,q,te,oe;for(H=0;H<=l;H++)V=H/l*(Math.PI*2),O=Math.sin(V)*i,z=Math.cos(V)*i,C.push(0,0,0),C.push(O,0,z),oe=H&1?_:S,k.push(oe.r,oe.g,oe.b),k.push(oe.r,oe.g,oe.b);for(H=0;H<=c;H++)for(oe=H&1?_:S,te=i-i/c*H,q=0;q<p;q++)V=q/p*(Math.PI*2),O=Math.sin(V)*te,z=Math.cos(V)*te,C.push(O,0,z),k.push(oe.r,oe.g,oe.b),V=(q+1)/p*(Math.PI*2),O=Math.sin(V)*te,z=Math.cos(V)*te,C.push(O,0,z),k.push(oe.r,oe.g,oe.b);var _e=new er;_e.addAttribute("position",new zn(C,3)),_e.addAttribute("color",new zn(k,3));var Ce=new Oi({vertexColors:T});Gi.call(this,_e,Ce)}Ay.prototype=Object.create(Gi.prototype),Ay.prototype.constructor=Ay;function $v(i,l,c,p){this.object=i,this.size=l!==void 0?l:1;var _=c!==void 0?c:16776960,S=p!==void 0?p:1,C=0,k=this.object.geometry;k&&k.isGeometry?C=k.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var O=new er,z=new zn(C*2*3,3);O.addAttribute("position",z),Gi.call(this,O,new Oi({color:_,linewidth:S})),this.matrixAutoUpdate=!1,this.update()}$v.prototype=Object.create(Gi.prototype),$v.prototype.constructor=$v,$v.prototype.update=function(){var i=new Ve,l=new Ve,c=new Ea;return function(){this.object.updateMatrixWorld(!0),c.getNormalMatrix(this.object.matrixWorld);for(var _=this.object.matrixWorld,S=this.geometry.attributes.position,C=this.object.geometry,k=C.vertices,O=C.faces,z=0,V=0,H=O.length;V<H;V++){var q=O[V],te=q.normal;i.copy(k[q.a]).add(k[q.b]).add(k[q.c]).divideScalar(3).applyMatrix4(_),l.copy(te).applyMatrix3(c).normalize().multiplyScalar(this.size).add(i),S.setXYZ(z,i.x,i.y,i.z),z=z+1,S.setXYZ(z,l.x,l.y,l.z),z=z+1}S.needsUpdate=!0}}();function Yh(i,l,c){Wn.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=c,l===void 0&&(l=1);var p=new er;p.addAttribute("position",new zn([-l,l,0,l,l,0,l,-l,0,-l,-l,0,-l,l,0],3));var _=new Oi({fog:!1});this.lightPlane=new Zo(p,_),this.add(this.lightPlane),p=new er,p.addAttribute("position",new zn([0,0,0,0,0,1],3)),this.targetLine=new Zo(p,_),this.add(this.targetLine),this.update()}Yh.prototype=Object.create(Wn.prototype),Yh.prototype.constructor=Yh,Yh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yh.prototype.update=function(){var i=new Ve,l=new Ve,c=new Ve;return function(){i.setFromMatrixPosition(this.light.matrixWorld),l.setFromMatrixPosition(this.light.target.matrixWorld),c.subVectors(l,i),this.lightPlane.lookAt(c),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(c),this.targetLine.scale.z=c.length()}}();function Gv(i){var l=new er,c=new Oi({color:16777215,vertexColors:A}),p=[],_=[],S={},C=new cr(16755200),k=new cr(16711680),O=new cr(43775),z=new cr(16777215),V=new cr(3355443);H("n1","n2",C),H("n2","n4",C),H("n4","n3",C),H("n3","n1",C),H("f1","f2",C),H("f2","f4",C),H("f4","f3",C),H("f3","f1",C),H("n1","f1",C),H("n2","f2",C),H("n3","f3",C),H("n4","f4",C),H("p","n1",k),H("p","n2",k),H("p","n3",k),H("p","n4",k),H("u1","u2",O),H("u2","u3",O),H("u3","u1",O),H("c","t",z),H("p","c",V),H("cn1","cn2",V),H("cn3","cn4",V),H("cf1","cf2",V),H("cf3","cf4",V);function H(te,oe,_e){q(te,_e),q(oe,_e)}function q(te,oe){p.push(0,0,0),_.push(oe.r,oe.g,oe.b),S[te]===void 0&&(S[te]=[]),S[te].push(p.length/3-1)}l.addAttribute("position",new zn(p,3)),l.addAttribute("color",new zn(_,3)),Gi.call(this,l,c),this.camera=i,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=S,this.update()}Gv.prototype=Object.create(Gi.prototype),Gv.prototype.constructor=Gv,Gv.prototype.update=function(){var i,l,c=new Ve,p=new ou;function _(S,C,k,O){c.set(C,k,O).unproject(p);var z=l[S];if(z!==void 0)for(var V=i.getAttribute("position"),H=0,q=z.length;H<q;H++)V.setXYZ(z[H],c.x,c.y,c.z)}return function(){i=this.geometry,l=this.pointMap;var C=1,k=1;p.projectionMatrix.copy(this.camera.projectionMatrix),_("c",0,0,-1),_("t",0,0,1),_("n1",-1,-1,-1),_("n2",C,-1,-1),_("n3",-1,k,-1),_("n4",C,k,-1),_("f1",-1,-1,1),_("f2",C,-1,1),_("f3",-1,k,1),_("f4",C,k,1),_("u1",C*.7,k*1.1,-1),_("u2",-1*.7,k*1.1,-1),_("u3",0,k*2,-1),_("cf1",-1,0,1),_("cf2",C,0,1),_("cf3",0,-1,1),_("cf4",0,k,1),_("cn1",-1,0,-1),_("cn2",C,0,-1),_("cn3",0,-1,-1),_("cn4",0,k,-1),i.getAttribute("position").needsUpdate=!0}}();function af(i,l){this.object=i,l===void 0&&(l=16776960);var c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),p=new Float32Array(8*3),_=new er;_.setIndex(new Ur(c,1)),_.addAttribute("position",new Ur(p,3)),Gi.call(this,_,new Oi({color:l})),this.matrixAutoUpdate=!1,this.update()}af.prototype=Object.create(Gi.prototype),af.prototype.constructor=af,af.prototype.update=function(){var i=new Us;return function(c){if(c!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&i.setFromObject(this.object),!i.isEmpty()){var p=i.min,_=i.max,S=this.geometry.attributes.position,C=S.array;C[0]=_.x,C[1]=_.y,C[2]=_.z,C[3]=p.x,C[4]=_.y,C[5]=_.z,C[6]=p.x,C[7]=p.y,C[8]=_.z,C[9]=_.x,C[10]=p.y,C[11]=_.z,C[12]=_.x,C[13]=_.y,C[14]=p.z,C[15]=p.x,C[16]=_.y,C[17]=p.z,C[18]=p.x,C[19]=p.y,C[20]=p.z,C[21]=_.x,C[22]=p.y,C[23]=p.z,S.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),af.prototype.setFromObject=function(i){return this.object=i,this.update(),this};function Wv(i,l){this.type="Box3Helper",this.box=i;var c=l!==void 0?l:16776960,p=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],S=new er;S.setIndex(new Ur(p,1)),S.addAttribute("position",new zn(_,3)),Gi.call(this,S,new Oi({color:c})),this.geometry.computeBoundingSphere()}Wv.prototype=Object.create(Gi.prototype),Wv.prototype.constructor=Wv,Wv.prototype.updateMatrixWorld=function(i){var l=this.box;l.isEmpty()||(l.getCenter(this.position),l.getSize(this.scale),this.scale.multiplyScalar(.5),Wn.prototype.updateMatrixWorld.call(this,i))};function jv(i,l,c){this.type="PlaneHelper",this.plane=i,this.size=l===void 0?1:l;var p=c!==void 0?c:16776960,_=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],S=new er;S.addAttribute("position",new zn(_,3)),S.computeBoundingSphere(),Zo.call(this,S,new Oi({color:p}));var C=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],k=new er;k.addAttribute("position",new zn(C,3)),k.computeBoundingSphere(),this.add(new Xo(k,new bs({color:p,opacity:.2,transparent:!0,depthWrite:!1})))}jv.prototype=Object.create(Zo.prototype),jv.prototype.constructor=jv,jv.prototype.updateMatrixWorld=function(i){var l=-this.plane.constant;Math.abs(l)<1e-8&&(l=1e-8),this.scale.set(.5*this.size,.5*this.size,l),this.children[0].material.side=l<0?w:b,this.lookAt(this.plane.normal),Wn.prototype.updateMatrixWorld.call(this,i)};var Ly,X1;function of(i,l,c,p,_,S){Wn.call(this),p===void 0&&(p=16776960),c===void 0&&(c=1),_===void 0&&(_=.2*c),S===void 0&&(S=.2*_),Ly===void 0&&(Ly=new er,Ly.addAttribute("position",new zn([0,0,0,0,1,0],3)),X1=new ju(0,.5,1,5,1),X1.translate(0,-.5,0)),this.position.copy(l),this.line=new Zo(Ly,new Oi({color:p})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xo(X1,new bs({color:p})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(c,_,S)}of.prototype=Object.create(Wn.prototype),of.prototype.constructor=of,of.prototype.setDirection=function(){var i=new Ve,l;return function(p){p.y>.99999?this.quaternion.set(0,0,0,1):p.y<-.99999?this.quaternion.set(1,0,0,0):(i.set(p.z,0,-p.x).normalize(),l=Math.acos(p.y),this.quaternion.setFromAxisAngle(i,l))}}(),of.prototype.setLength=function(i,l,c){l===void 0&&(l=.2*i),c===void 0&&(c=.2*l),this.line.scale.set(1,Math.max(0,i-l),1),this.line.updateMatrix(),this.cone.scale.set(c,l,c),this.cone.position.y=i,this.cone.updateMatrix()},of.prototype.setColor=function(i){this.line.material.color.copy(i),this.cone.material.color.copy(i)};function qv(i){i=i||1;var l=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],c=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],p=new er;p.addAttribute("position",new zn(l,3)),p.addAttribute("color",new zn(c,3));var _=new Oi({vertexColors:T});Gi.call(this,p,_)}qv.prototype=Object.create(Gi.prototype),qv.prototype.constructor=qv;function KU(i,l,c,p,_,S,C){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new $u(i,l,c,_,S,C)}var YU=0,XU=1;function ZU(i){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),i}function JU(i){return i===void 0&&(i=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),i.isMultiMaterial=!0,i.materials=i,i.clone=function(){return i.slice()},i}function QU(i,l){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Sh(i,l)}function e6(i){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new uv(i)}function t6(i,l){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Sh(i,l)}function n6(i){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new hl(i)}function r6(i){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new hl(i)}function i6(i){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new hl(i)}function a6(i,l,c){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ve(i,l,c)}function o6(i,l){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Ur(i,l).setDynamic(!0)}function s6(i,l){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Qm(i,l)}function l6(i,l){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ev(i,l)}function u6(i,l){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new tv(i,l)}function c6(i,l){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new nv(i,l)}function d6(i,l){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Fd(i,l)}function f6(i,l){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new rv(i,l)}function h6(i,l){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Bd(i,l)}function p6(i,l){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new zn(i,l)}function m6(i,l){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new iv(i,l)}pr.create=function(i,l){return console.log("THREE.Curve.create() has been deprecated"),i.prototype=Object.create(pr.prototype),i.prototype.constructor=i,i.prototype.getPoint=l,i},Object.assign(qu.prototype,{createPointsGeometry:function(i){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var l=this.getPoints(i);return this.createGeometry(l)},createSpacedPointsGeometry:function(i){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var l=this.getSpacedPoints(i);return this.createGeometry(l)},createGeometry:function(i){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var l=new Tr,c=0,p=i.length;c<p;c++){var _=i[c];l.vertices.push(new Ve(_.x,_.y,_.z||0))}return l}}),Object.assign(wl.prototype,{fromPoints:function(i){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(i)}});function KT(i){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ho.call(this,i),this.type="catmullrom",this.closed=!0}KT.prototype=Object.create(ho.prototype);function YT(i){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ho.call(this,i),this.type="catmullrom"}YT.prototype=Object.create(ho.prototype);function Z1(i){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ho.call(this,i),this.type="catmullrom"}Z1.prototype=Object.create(ho.prototype),Object.assign(Z1.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function v6(i){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new qv(i)}function g6(i,l){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new af(i,l)}function y6(i,l){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Gi(new Nh(i.geometry),new Oi({color:l!==void 0?l:16777215}))}Hv.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Wh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function b6(i,l){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Gi(new Eh(i.geometry),new Oi({color:l!==void 0?l:16777215}))}Object.assign(Hh.prototype,{extractUrlBase:function(i){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),P1.extractUrlBase(i)}});function _6(i){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new vl(i)}function w6(i){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new M1(i)}Object.assign(K1.prototype,{center:function(i){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(i)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(i){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},size:function(i){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(i)}}),Object.assign(Us.prototype,{center:function(i){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(i)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(i){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},isIntersectionSphere:function(i){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},size:function(i){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(i)}}),Y1.prototype.center=function(i){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(i)},Object.assign(Rr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(i){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Rr.floorPowerOfTwo(i)},nextPowerOfTwo:function(i){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Rr.ceilPowerOfTwo(i)}}),Object.assign(Ea.prototype,{flattenToArrayOffset:function(i,l){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,l)},multiplyVector3:function(i){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(i){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(i)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(gr.prototype,{extractPosition:function(i){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(i)},flattenToArrayOffset:function(i,l){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,l)},getPosition:function(){var i;return function(){return i===void 0&&(i=new Ve),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),i.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(i){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(i)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(i){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},multiplyVector4:function(i){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(i){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),i.transformDirection(this)},crossVector:function(i){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(i){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(i)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(i,l,c,p,_,S){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(i,l,p,c,_,S)}}),gs.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},ha.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},Object.assign(Ud.prototype,{isIntersectionBox:function(i){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},isIntersectionPlane:function(i){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(i)},isIntersectionSphere:function(i){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)}}),Object.assign(fo.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(i,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(i,l)},midpoint:function(i){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(i)},normal:function(i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(i)},plane:function(i){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(i)}}),Object.assign(fo,{barycoordFromPoint:function(i,l,c,p,_){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),fo.getBarycoord(i,l,c,p,_)},normal:function(i,l,c,p){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),fo.getNormal(i,l,c,p)}}),Object.assign(Uc.prototype,{extractAllPoints:function(i){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(i)},extrude:function(i){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Wd(this,i)},makeGeometry:function(i){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new qd(this,i)}}),Object.assign(gn.prototype,{fromAttribute:function(i,l,c){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,l,c)},distanceToManhattan:function(i){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ve.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(i){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(i)},getScaleFromMatrix:function(i){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(i)},getColumnFromMatrix:function(i,l){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(l,i)},applyProjection:function(i){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(i)},fromAttribute:function(i,l,c){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,l,c)},distanceToManhattan:function(i){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yi.prototype,{fromAttribute:function(i,l,c){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,l,c)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Tr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Wn.prototype,{getChildByName:function(i){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(i)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(i,l){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(l,i)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Wn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(i){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=i}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(cv.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(dv.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(pr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(i){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=i}}),ma.prototype.setLens=function(i,l){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),l!==void 0&&(this.filmGauge=l),this.setFocalLength(i)},Object.defineProperties(aa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(i){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=i}},shadowCameraLeft:{set:function(i){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=i}},shadowCameraRight:{set:function(i){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=i}},shadowCameraTop:{set:function(i){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=i}},shadowCameraBottom:{set:function(i){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=i}},shadowCameraNear:{set:function(i){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=i}},shadowCameraFar:{set:function(i){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=i}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(i){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=i}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(i){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=i}},shadowMapHeight:{set:function(i){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=i}}}),Object.defineProperties(Ur.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(er.prototype,{addIndex:function(i){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(i)},addDrawCall:function(i,l,c){c!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(i,l)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(er.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(su.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Ty.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(zr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new cr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(i){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===x}}}),Object.defineProperties(pl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(qs.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(i){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=i}}}),Object.assign(b1.prototype,{animate:function(i){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(i)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(i){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(i)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(b1.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=i}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=i}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(bT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(zu.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=i}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=i}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=i}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=i}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(i){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=i}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(i){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=i}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(i){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=i}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(i){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=i}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(i){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=i}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(i){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=i}}}),Object.defineProperties(wT.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),$h.prototype.load=function(i){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var l=this,c=new F1;return c.load(i,function(p){l.setBuffer(p)}),this},V1.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},zv.prototype.updateCubeMap=function(i,l){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,l)};var x6={merge:function(i,l,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var p;l.isMesh&&(l.matrixAutoUpdate&&l.updateMatrix(),p=l.matrix,l=l.geometry),i.merge(l,p,c)},center:function(i){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),i.center()}};nu.crossOrigin=void 0,nu.loadTexture=function(i,l,c,p){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var _=new uy;_.setCrossOrigin(this.crossOrigin);var S=_.load(i,c,void 0,p);return l&&(S.mapping=l),S},nu.loadTextureCube=function(i,l,c,p){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var _=new E1;_.setCrossOrigin(this.crossOrigin);var S=_.load(i,c,void 0,p);return l&&(S.mapping=l),S},nu.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},nu.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function S6(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(i,l){console.warn("THREE.Projector: .projectVector() is now vector.project()."),i.project(l)},this.unprojectVector=function(i,l){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),i.unproject(l)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function M6(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var E6={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function C6(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}e.WebGLRenderTargetCube=Ic,e.WebGLRenderTarget=zu,e.WebGLRenderer=b1,e.ShaderLib=Dd,e.UniformsLib=fr,e.UniformsUtils=Lo,e.ShaderChunk=bi,e.FogExp2=_h,e.Fog=wh,e.Scene=iy,e.Sprite=uv,e.LOD=cv,e.SkinnedMesh=oy,e.Skeleton=dv,e.Bone=ay,e.Mesh=Xo,e.LineSegments=Gi,e.LineLoop=sy,e.Line=Zo,e.Points=Sh,e.Group=bh,e.VideoTexture=_1,e.DataTexture=Vu,e.CompressedTexture=Mh,e.CubeTexture=Gu,e.CanvasTexture=fv,e.DepthTexture=hv,e.Texture=zi,e.CompressedTextureLoader=RT,e.DataTextureLoader=M1,e.CubeTextureLoader=E1,e.TextureLoader=uy,e.ObjectLoader=OT,e.MaterialLoader=Ey,e.BufferGeometryLoader=R1,e.DefaultLoadingManager=es,e.LoadingManager=S1,e.JSONLoader=k1,e.ImageLoader=Ov,e.ImageBitmapLoader=I1,e.FontLoader=FT,e.FileLoader=vl,e.Loader=Hh,e.LoaderUtils=P1,e.Cache=nf,e.AudioLoader=F1,e.SpotLightShadow=fy,e.SpotLight=hy,e.PointLight=py,e.RectAreaLight=yy,e.HemisphereLight=dy,e.DirectionalLightShadow=my,e.DirectionalLight=vy,e.AmbientLight=gy,e.LightShadow=rf,e.Light=aa,e.StereoCamera=BT,e.PerspectiveCamera=ma,e.OrthographicCamera=vh,e.CubeCamera=zv,e.ArrayCamera=sv,e.Camera=ou,e.AudioListener=B1,e.PositionalAudio=z1,e.AudioContext=N1,e.AudioAnalyser=V1,e.Audio=$h,e.VectorKeyframeTrack=Uh,e.StringKeyframeTrack=My,e.QuaternionKeyframeTrack=Bv,e.NumberKeyframeTrack=Vh,e.ColorKeyframeTrack=xy,e.BooleanKeyframeTrack=wy,e.PropertyMixer=U1,e.PropertyBinding=mo,e.KeyframeTrack=Za,e.AnimationUtils=po,e.AnimationObjectGroup=VT,e.AnimationMixer=$1,e.AnimationClip=Ks,e.Uniform=Ty,e.InstancedBufferGeometry=G1,e.BufferGeometry=er,e.Geometry=Tr,e.InterleavedBufferAttribute=lv,e.InstancedInterleavedBuffer=W1,e.InterleavedBuffer=Hd,e.InstancedBufferAttribute=j1,e.Face3=$u,e.Object3D=Wn,e.Raycaster=HT,e.Layers=m1,e.EventDispatcher=t,e.Clock=GT,e.QuaternionLinearInterpolant=Sy,e.LinearInterpolant=Fv,e.DiscreteInterpolant=_y,e.CubicInterpolant=by,e.Interpolant=ws,e.Triangle=fo,e.Math=Rr,e.Spherical=WT,e.Cylindrical=jT,e.Plane=gs,e.Frustum=Oc,e.Sphere=Ao,e.Ray=Ud,e.Matrix4=gr,e.Matrix3=Ea,e.Box3=Us,e.Box2=K1,e.Line3=Y1,e.Euler=Nd,e.Vector4=yi,e.Vector3=Ve,e.Vector2=gn,e.Quaternion=ha,e.Color=cr,e.ImmediateRenderObject=Vv,e.VertexNormalsHelper=Uv,e.SpotLightHelper=Gh,e.SkeletonHelper=Wh,e.PointLightHelper=jh,e.RectAreaLightHelper=qh,e.HemisphereLightHelper=Kh,e.GridHelper=Hv,e.PolarGridHelper=Ay,e.FaceNormalsHelper=$v,e.DirectionalLightHelper=Yh,e.CameraHelper=Gv,e.BoxHelper=af,e.Box3Helper=Wv,e.PlaneHelper=jv,e.ArrowHelper=of,e.AxesHelper=qv,e.Shape=Uc,e.Path=wl,e.ShapePath=O1,e.Font=D1,e.CurvePath=qu,e.Curve=pr,e.ImageUtils=nu,e.ShapeUtils=Wu,e.WebGLUtils=_T,e.WireframeGeometry=Eh,e.ParametricGeometry=pv,e.ParametricBufferGeometry=Ch,e.TetrahedronGeometry=vv,e.TetrahedronBufferGeometry=Th,e.OctahedronGeometry=gv,e.OctahedronBufferGeometry=$d,e.IcosahedronGeometry=yv,e.IcosahedronBufferGeometry=Ah,e.DodecahedronGeometry=bv,e.DodecahedronBufferGeometry=Lh,e.PolyhedronGeometry=mv,e.PolyhedronBufferGeometry=Jo,e.TubeGeometry=_v,e.TubeBufferGeometry=Rh,e.TorusKnotGeometry=wv,e.TorusKnotBufferGeometry=Ph,e.TorusGeometry=xv,e.TorusBufferGeometry=kh,e.TextGeometry=Tv,e.TextBufferGeometry=Ih,e.SphereGeometry=Av,e.SphereBufferGeometry=jd,e.RingGeometry=Lv,e.RingBufferGeometry=Oh,e.PlaneGeometry=av,e.PlaneBufferGeometry=Vd,e.LatheGeometry=Rv,e.LatheBufferGeometry=Dh,e.ShapeGeometry=qd,e.ShapeBufferGeometry=Kd,e.ExtrudeGeometry=Wd,e.ExtrudeBufferGeometry=su,e.EdgesGeometry=Nh,e.ConeGeometry=Pv,e.ConeBufferGeometry=kv,e.CylinderGeometry=Yd,e.CylinderBufferGeometry=ju,e.CircleGeometry=Iv,e.CircleBufferGeometry=Fh,e.BoxGeometry=gh,e.BoxBufferGeometry=zd,e.ShadowMaterial=Xd,e.SpriteMaterial=Vc,e.RawShaderMaterial=Bh,e.ShaderMaterial=qs,e.PointsMaterial=hl,e.MeshPhysicalMaterial=Zd,e.MeshStandardMaterial=lu,e.MeshPhongMaterial=pl,e.MeshToonMaterial=Jd,e.MeshNormalMaterial=Qd,e.MeshLambertMaterial=ef,e.MeshDepthMaterial=Bc,e.MeshDistanceMaterial=zc,e.MeshBasicMaterial=bs,e.LineDashedMaterial=tf,e.LineBasicMaterial=Oi,e.Material=zr,e.Float64BufferAttribute=iv,e.Float32BufferAttribute=zn,e.Uint32BufferAttribute=Bd,e.Int32BufferAttribute=rv,e.Uint16BufferAttribute=Fd,e.Int16BufferAttribute=nv,e.Uint8ClampedBufferAttribute=tv,e.Uint8BufferAttribute=ev,e.Int8BufferAttribute=Qm,e.BufferAttribute=Ur,e.ArcCurve=zh,e.CatmullRomCurve3=ho,e.CubicBezierCurve=gl,e.CubicBezierCurve3=uu,e.EllipseCurve=_s,e.LineCurve=ts,e.LineCurve3=yl,e.QuadraticBezierCurve=bl,e.QuadraticBezierCurve3=cu,e.SplineCurve=_l,e.REVISION=n,e.MOUSE=r,e.CullFaceNone=a,e.CullFaceBack=o,e.CullFaceFront=s,e.CullFaceFrontBack=u,e.FrontFaceDirectionCW=d,e.FrontFaceDirectionCCW=f,e.BasicShadowMap=h,e.PCFShadowMap=v,e.PCFSoftShadowMap=y,e.FrontSide=b,e.BackSide=w,e.DoubleSide=g,e.FlatShading=x,e.SmoothShading=M,e.NoColors=R,e.FaceColors=A,e.VertexColors=T,e.NoBlending=P,e.NormalBlending=I,e.AdditiveBlending=E,e.SubtractiveBlending=D,e.MultiplyBlending=N,e.CustomBlending=B,e.AddEquation=G,e.SubtractEquation=$,e.ReverseSubtractEquation=Q,e.MinEquation=ae,e.MaxEquation=ee,e.ZeroFactor=K,e.OneFactor=X,e.SrcColorFactor=Z,e.OneMinusSrcColorFactor=j,e.SrcAlphaFactor=ie,e.OneMinusSrcAlphaFactor=pe,e.DstAlphaFactor=he,e.OneMinusDstAlphaFactor=le,e.DstColorFactor=Re,e.OneMinusDstColorFactor=De,e.SrcAlphaSaturateFactor=Te,e.NeverDepth=ge,e.AlwaysDepth=ke,e.LessDepth=Pe,e.LessEqualDepth=Xe,e.EqualDepth=ct,e.GreaterEqualDepth=se,e.GreaterDepth=ye,e.NotEqualDepth=He,e.MultiplyOperation=dt,e.MixOperation=pt,e.AddOperation=nt,e.NoToneMapping=ot,e.LinearToneMapping=rt,e.ReinhardToneMapping=At,e.Uncharted2ToneMapping=Mt,e.CineonToneMapping=Me,e.UVMapping=ve,e.CubeReflectionMapping=Fe,e.CubeRefractionMapping=qe,e.EquirectangularReflectionMapping=Et,e.EquirectangularRefractionMapping=$t,e.SphericalReflectionMapping=Yt,e.CubeUVReflectionMapping=We,e.CubeUVRefractionMapping=lt,e.RepeatWrapping=sn,e.ClampToEdgeWrapping=Tt,e.MirroredRepeatWrapping=je,e.NearestFilter=xe,e.NearestMipMapNearestFilter=Ke,e.NearestMipMapLinearFilter=Ee,e.LinearFilter=wt,e.LinearMipMapNearestFilter=an,e.LinearMipMapLinearFilter=Je,e.UnsignedByteType=Dt,e.ByteType=en,e.ShortType=_n,e.UnsignedShortType=wn,e.IntType=hr,e.UnsignedIntType=Yn,e.FloatType=vr,e.HalfFloatType=Ji,e.UnsignedShort4444Type=pi,e.UnsignedShort5551Type=Qi,e.UnsignedShort565Type=na,e.UnsignedInt248Type=ra,e.AlphaFormat=To,e.RGBFormat=Ka,e.RGBAFormat=da,e.LuminanceFormat=$e,e.LuminanceAlphaFormat=zt,e.RGBEFormat=Kt,e.DepthFormat=Be,e.DepthStencilFormat=vt,e.RGB_S3TC_DXT1_Format=vn,e.RGBA_S3TC_DXT1_Format=Un,e.RGBA_S3TC_DXT3_Format=sr,e.RGBA_S3TC_DXT5_Format=dr,e.RGB_PVRTC_4BPPV1_Format=yr,e.RGB_PVRTC_2BPPV1_Format=Ar,e.RGBA_PVRTC_4BPPV1_Format=br,e.RGBA_PVRTC_2BPPV1_Format=Lt,e.RGB_ETC1_Format=hn,e.RGBA_ASTC_4x4_Format=Gn,e.RGBA_ASTC_5x4_Format=Qn,e.RGBA_ASTC_5x5_Format=Nr,e.RGBA_ASTC_6x5_Format=Sr,e.RGBA_ASTC_6x6_Format=Bs,e.RGBA_ASTC_8x5_Format=Ti,e.RGBA_ASTC_8x6_Format=jo,e.RGBA_ASTC_8x8_Format=Xl,e.RGBA_ASTC_10x5_Format=zs,e.RGBA_ASTC_10x6_Format=Zl,e.RGBA_ASTC_10x8_Format=ea,e.RGBA_ASTC_10x10_Format=vs,e.RGBA_ASTC_12x10_Format=Jl,e.RGBA_ASTC_12x12_Format=Ma,e.LoopOnce=fa,e.LoopRepeat=cl,e.LoopPingPong=Ql,e.InterpolateDiscrete=Ld,e.InterpolateLinear=Rd,e.InterpolateSmooth=Tc,e.ZeroCurvatureEnding=eu,e.ZeroSlopeEnding=Vs,e.WrapAroundEnding=Ac,e.TrianglesDrawMode=Vm,e.TriangleStripDrawMode=Y0,e.TriangleFanDrawMode=qo,e.LinearEncoding=Lc,e.sRGBEncoding=Rc,e.GammaEncoding=Um,e.RGBEEncoding=X0,e.LogLuvEncoding=Bu,e.RGBM7Encoding=tu,e.RGBM16Encoding=dh,e.RGBDEncoding=Z0,e.BasicDepthPacking=Pc,e.RGBADepthPacking=Hm,e.TangentSpaceNormalMap=kc,e.ObjectSpaceNormalMap=$m,e.CubeGeometry=gh,e.Face4=KU,e.LineStrip=YU,e.LinePieces=XU,e.MeshFaceMaterial=ZU,e.MultiMaterial=JU,e.PointCloud=QU,e.Particle=e6,e.ParticleSystem=t6,e.PointCloudMaterial=n6,e.ParticleBasicMaterial=r6,e.ParticleSystemMaterial=i6,e.Vertex=a6,e.DynamicBufferAttribute=o6,e.Int8Attribute=s6,e.Uint8Attribute=l6,e.Uint8ClampedAttribute=u6,e.Int16Attribute=c6,e.Uint16Attribute=d6,e.Int32Attribute=f6,e.Uint32Attribute=h6,e.Float32Attribute=p6,e.Float64Attribute=m6,e.ClosedSplineCurve3=KT,e.SplineCurve3=YT,e.Spline=Z1,e.AxisHelper=v6,e.BoundingBoxHelper=g6,e.EdgesHelper=y6,e.WireframeHelper=b6,e.XHRLoader=_6,e.BinaryTextureLoader=w6,e.GeometryUtils=x6,e.Projector=S6,e.CanvasRenderer=M6,e.SceneUtils=E6,e.LensFlare=C6,Object.defineProperty(e,"__esModule",{value:!0})});function xW(e){function t(n,r){console.log(this),this.object=n,this.domElement=r!==void 0?r:document,this.enabled=!0,this.target=new e.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var a=this,o=new e.Vector2,s=new e.Vector2,u=new e.Vector2,d=new e.Vector2,f=new e.Vector2,h=new e.Vector2,v=new e.Vector3,y=new e.Vector3,b=new e.Vector2,w=new e.Vector2,g=new e.Vector2,x=1,M=new e.Vector3;new e.Vector3;var R={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},A=R.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var T={type:"change"},P={type:"start"},I={type:"end"};this.rotateLeft=function(X){X===void 0&&(X=E())},this.rotateUp=function(X){X===void 0&&(X=E())},this.panLeft=function(X){var Z=this.object.matrix.elements;v.set(Z[0],Z[1],Z[2]),v.multiplyScalar(-X),M.add(v)},this.panUp=function(X){var Z=this.object.matrix.elements;v.set(Z[4],Z[5],Z[6]),v.multiplyScalar(X),M.add(v)},this.pan=function(X,Z){var j=a.domElement===document?a.domElement.body:a.domElement;if(a.object.fov!==void 0){var ie=a.object.position,pe=ie.clone().sub(a.target),he=pe.length();he*=Math.tan(a.object.fov/2*Math.PI/180),a.panLeft(2*X*he/j.clientHeight),a.panUp(2*Z*he/j.clientHeight)}else a.object.top!==void 0?(a.panLeft(X*(a.object.right-a.object.left)/j.clientWidth),a.panUp(Z*(a.object.top-a.object.bottom)/j.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(X){X===void 0&&(X=D()),x/=X},this.dollyOut=function(X){X===void 0&&(X=D()),x*=X},this.update=function(){a.object.top!==void 0&&(this.object.top=x*this.object.top,this.object.bottom=x*this.object.bottom,this.object.left=x*this.object.left,this.object.right=x*this.object.right,this.object.updateProjectionMatrix());var X=this.object.position;y.copy(X).sub(this.target),this.target.add(M),X.copy(this.target).add(y),this.object.lookAt(this.target),this.dispatchEvent(T),x=1,M.set(0,0,0)},this.reset=function(){A=R.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()};function E(){return 2*Math.PI/60/60*a.autoRotateSpeed}function D(){return Math.pow(.95,a.zoomSpeed)}function N(X){if(a.enabled!==!1){if(X.preventDefault(),X.button===0){if(a.noPan===!0)return;A=R.PAN,d.set(X.clientX,X.clientY)}else if(X.button===1){if(a.noZoom===!0)return;A=R.DOLLY,b.set(X.clientX,X.clientY)}else if(X.button===2){if(a.noPan===!0)return;A=R.PAN,d.set(X.clientX,X.clientY)}a.domElement.addEventListener("mousemove",B,!1),a.domElement.addEventListener("mouseup",G,!1),a.dispatchEvent(P)}}function B(X){if(a.enabled!==!1){X.preventDefault();var Z=a.domElement===document?a.domElement.body:a.domElement;if(A===R.ROTATE){if(a.noRotate===!0)return;s.set(X.clientX,X.clientY),u.subVectors(s,o),a.rotateLeft(2*Math.PI*u.x/Z.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*u.y/Z.clientHeight*a.rotateSpeed),o.copy(s)}else if(A===R.DOLLY){if(a.noZoom===!0)return;w.set(X.clientX,X.clientY),g.subVectors(w,b),g.y>0?a.dollyIn():a.dollyOut(),b.copy(w)}else if(A===R.PAN){if(a.noPan===!0)return;f.set(X.clientX,X.clientY),h.subVectors(f,d),a.pan(h.x,h.y),d.copy(f)}a.update()}}function G(){a.enabled!==!1&&(a.domElement.removeEventListener("mousemove",B,!1),a.domElement.removeEventListener("mouseup",G,!1),a.dispatchEvent(I),A=R.NONE)}function $(X){if(!(a.enabled===!1||a.noZoom===!0)){X.preventDefault();var Z=0;X.wheelDelta!==void 0?Z=X.wheelDelta:X.detail!==void 0&&(Z=-X.detail),Z>0?a.dollyOut():a.dollyIn(),a.update(),a.dispatchEvent(P),a.dispatchEvent(I)}}function Q(X){if(!(a.enabled===!1||a.noKeys===!0||a.noPan===!0))switch(X.keyCode){case a.keys.UP:a.pan(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:a.pan(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:a.pan(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:a.pan(-a.keyPanSpeed,0),a.update();break}}function ae(X){if(a.enabled!==!1){switch(X.touches.length){case 1:if(a.noRotate===!0)return;A=R.TOUCH_ROTATE,o.set(X.touches[0].pageX,X.touches[0].pageY);break;case 2:if(a.noZoom===!0)return;A=R.TOUCH_DOLLY;var Z=X.touches[0].pageX-X.touches[1].pageX,j=X.touches[0].pageY-X.touches[1].pageY,ie=Math.sqrt(Z*Z+j*j);b.set(0,ie);break;case 3:if(a.noPan===!0)return;A=R.TOUCH_PAN,d.set(X.touches[0].pageX,X.touches[0].pageY);break;default:A=R.NONE}a.dispatchEvent(P)}}function ee(X){if(a.enabled!==!1){X.preventDefault(),X.stopPropagation();var Z=a.domElement===document?a.domElement.body:a.domElement;switch(X.touches.length){case 1:if(a.noRotate===!0||A!==R.TOUCH_ROTATE)return;s.set(X.touches[0].pageX,X.touches[0].pageY),u.subVectors(s,o),a.rotateLeft(2*Math.PI*u.x/Z.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*u.y/Z.clientHeight*a.rotateSpeed),o.copy(s),a.update();break;case 2:if(a.noZoom===!0||A!==R.TOUCH_DOLLY)return;var j=X.touches[0].pageX-X.touches[1].pageX,ie=X.touches[0].pageY-X.touches[1].pageY,pe=Math.sqrt(j*j+ie*ie);w.set(0,pe),g.subVectors(w,b),g.y>0?a.dollyOut():a.dollyIn(),b.copy(w),a.update();break;case 3:if(a.noPan===!0||A!==R.TOUCH_PAN)return;f.set(X.touches[0].pageX,X.touches[0].pageY),h.subVectors(f,d),a.pan(h.x,h.y),d.copy(f),a.update();break;default:A=R.NONE}}}function K(){a.enabled!==!1&&(a.dispatchEvent(I),A=R.NONE)}this.domElement.addEventListener("contextmenu",function(X){X.preventDefault()},!1),this.domElement.addEventListener("mousedown",N,!1),this.domElement.addEventListener("mousewheel",$,!1),this.domElement.addEventListener("DOMMouseScroll",$,!1),this.domElement.addEventListener("touchstart",ae,!1),this.domElement.addEventListener("touchend",K,!1),this.domElement.addEventListener("touchmove",ee,!1),window.addEventListener("keydown",Q,!1)}return console.log(e),t.prototype=Object.create(e.EventDispatcher.prototype),t}var Db={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var SW=Db.exports,n3;function MW(){return n3||(n3=1,function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:SW,function(t,n){var r=[],a=Object.getPrototypeOf,o=r.slice,s=r.flat?function(L){return r.flat.call(L)}:function(L){return r.concat.apply([],L)},u=r.push,d=r.indexOf,f={},h=f.toString,v=f.hasOwnProperty,y=v.toString,b=y.call(Object),w={},g=function(F){return typeof F=="function"&&typeof F.nodeType!="number"&&typeof F.item!="function"},x=function(F){return F!=null&&F===F.window},M=t.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function A(L,F,Y){Y=Y||M;var ne,de,me=Y.createElement("script");if(me.text=L,F)for(ne in R)de=F[ne]||F.getAttribute&&F.getAttribute(ne),de&&me.setAttribute(ne,de);Y.head.appendChild(me).parentNode.removeChild(me)}function T(L){return L==null?L+"":typeof L=="object"||typeof L=="function"?f[h.call(L)]||"object":typeof L}var P="3.7.1",I=/HTML$/i,E=function(L,F){return new E.fn.init(L,F)};E.fn=E.prototype={jquery:P,constructor:E,length:0,toArray:function(){return o.call(this)},get:function(L){return L==null?o.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var F=E.merge(this.constructor(),L);return F.prevObject=this,F},each:function(L){return E.each(this,L)},map:function(L){return this.pushStack(E.map(this,function(F,Y){return L.call(F,Y,F)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(L,F){return(F+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(L,F){return F%2}))},eq:function(L){var F=this.length,Y=+L+(L<0?F:0);return this.pushStack(Y>=0&&Y<F?[this[Y]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var L,F,Y,ne,de,me,Se=arguments[0]||{},at=1,et=arguments.length,St=!1;for(typeof Se=="boolean"&&(St=Se,Se=arguments[at]||{},at++),typeof Se!="object"&&!g(Se)&&(Se={}),at===et&&(Se=this,at--);at<et;at++)if((L=arguments[at])!=null)for(F in L)ne=L[F],!(F==="__proto__"||Se===ne)&&(St&&ne&&(E.isPlainObject(ne)||(de=Array.isArray(ne)))?(Y=Se[F],de&&!Array.isArray(Y)?me=[]:!de&&!E.isPlainObject(Y)?me={}:me=Y,de=!1,Se[F]=E.extend(St,me,ne)):ne!==void 0&&(Se[F]=ne));return Se},E.extend({expando:"jQuery"+(P+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var F,Y;return!L||h.call(L)!=="[object Object]"?!1:(F=a(L),F?(Y=v.call(F,"constructor")&&F.constructor,typeof Y=="function"&&y.call(Y)===b):!0)},isEmptyObject:function(L){var F;for(F in L)return!1;return!0},globalEval:function(L,F,Y){A(L,{nonce:F&&F.nonce},Y)},each:function(L,F){var Y,ne=0;if(D(L))for(Y=L.length;ne<Y&&F.call(L[ne],ne,L[ne])!==!1;ne++);else for(ne in L)if(F.call(L[ne],ne,L[ne])===!1)break;return L},text:function(L){var F,Y="",ne=0,de=L.nodeType;if(!de)for(;F=L[ne++];)Y+=E.text(F);return de===1||de===11?L.textContent:de===9?L.documentElement.textContent:de===3||de===4?L.nodeValue:Y},makeArray:function(L,F){var Y=F||[];return L!=null&&(D(Object(L))?E.merge(Y,typeof L=="string"?[L]:L):u.call(Y,L)),Y},inArray:function(L,F,Y){return F==null?-1:d.call(F,L,Y)},isXMLDoc:function(L){var F=L&&L.namespaceURI,Y=L&&(L.ownerDocument||L).documentElement;return!I.test(F||Y&&Y.nodeName||"HTML")},merge:function(L,F){for(var Y=+F.length,ne=0,de=L.length;ne<Y;ne++)L[de++]=F[ne];return L.length=de,L},grep:function(L,F,Y){for(var ne,de=[],me=0,Se=L.length,at=!Y;me<Se;me++)ne=!F(L[me],me),ne!==at&&de.push(L[me]);return de},map:function(L,F,Y){var ne,de,me=0,Se=[];if(D(L))for(ne=L.length;me<ne;me++)de=F(L[me],me,Y),de!=null&&Se.push(de);else for(me in L)de=F(L[me],me,Y),de!=null&&Se.push(de);return s(Se)},guid:1,support:w}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(L,F){f["[object "+F+"]"]=F.toLowerCase()});function D(L){var F=!!L&&"length"in L&&L.length,Y=T(L);return g(L)||x(L)?!1:Y==="array"||F===0||typeof F=="number"&&F>0&&F-1 in L}function N(L,F){return L.nodeName&&L.nodeName.toLowerCase()===F.toLowerCase()}var B=r.pop,G=r.sort,$=r.splice,Q="[\\x20\\t\\r\\n\\f]",ae=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g");E.contains=function(L,F){var Y=F&&F.parentNode;return L===Y||!!(Y&&Y.nodeType===1&&(L.contains?L.contains(Y):L.compareDocumentPosition&&L.compareDocumentPosition(Y)&16))};var ee=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function K(L,F){return F?L==="\0"?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L}E.escapeSelector=function(L){return(L+"").replace(ee,K)};var X=M,Z=u;(function(){var L,F,Y,ne,de,me=Z,Se,at,et,St,Gt,Jt=E.expando,Vt=0,bn=0,Lr=fh(),ii=fh(),Br=fh(),Ca=fh(),pa=function(Ge,gt){return Ge===gt&&(de=!0),0},Hs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$s="(?:\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Xr="\\["+Q+"*("+$s+")(?:"+Q+"*([*^$|!~]?=)"+Q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$s+"))|)"+Q+"*\\]",Uu=":("+$s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Xr+")*)|.*)\\)|)",si=new RegExp(Q+"+","g"),qi=new RegExp("^"+Q+"*,"+Q+"*"),kd=new RegExp("^"+Q+"*([>+~]|"+Q+")"+Q+"*"),jm=new RegExp(Q+"|>"),Gs=new RegExp(Uu),Id=new RegExp("^"+$s+"$"),Ws={ID:new RegExp("^#("+$s+")"),CLASS:new RegExp("^\\.("+$s+")"),TAG:new RegExp("^("+$s+"|[*])"),ATTR:new RegExp("^"+Xr),PSEUDO:new RegExp("^"+Uu),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),bool:new RegExp("^(?:"+Hs+")$","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},ru=/^(?:input|select|textarea|button)$/i,iu=/^h\d$/i,Ko=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qm=/[+~]/,dl=new RegExp("\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\([^\\r\\n\\f])","g"),fl=function(Ge,gt){var Bt="0x"+Ge.slice(1)-65536;return gt||(Bt<0?String.fromCharCode(Bt+65536):String.fromCharCode(Bt>>10|55296,Bt&1023|56320))},s1=function(){au()},l1=ph(function(Ge){return Ge.disabled===!0&&N(Ge,"fieldset")},{dir:"parentNode",next:"legend"});function u1(){try{return Se.activeElement}catch(Ge){}}try{me.apply(r=o.call(X.childNodes),X.childNodes),r[X.childNodes.length].nodeType}catch(Ge){me={apply:function(gt,Bt){Z.apply(gt,o.call(Bt))},call:function(gt){Z.apply(gt,o.call(arguments,1))}}}function wi(Ge,gt,Bt,Ut){var Xt,Tn,Hn,rr,$n,Gr,Cr,Pr=gt&&gt.ownerDocument,Wr=gt?gt.nodeType:9;if(Bt=Bt||[],typeof Ge!="string"||!Ge||Wr!==1&&Wr!==9&&Wr!==11)return Bt;if(!Ut&&(au(gt),gt=gt||Se,et)){if(Wr!==11&&($n=Ko.exec(Ge)))if(Xt=$n[1]){if(Wr===9)if(Hn=gt.getElementById(Xt)){if(Hn.id===Xt)return me.call(Bt,Hn),Bt}else return Bt;else if(Pr&&(Hn=Pr.getElementById(Xt))&&wi.contains(gt,Hn)&&Hn.id===Xt)return me.call(Bt,Hn),Bt}else{if($n[2])return me.apply(Bt,gt.getElementsByTagName(Ge)),Bt;if((Xt=$n[3])&&gt.getElementsByClassName)return me.apply(Bt,gt.getElementsByClassName(Xt)),Bt}if(!Ca[Ge+" "]&&(!St||!St.test(Ge))){if(Cr=Ge,Pr=gt,Wr===1&&(jm.test(Ge)||kd.test(Ge))){for(Pr=qm.test(Ge)&&Km(gt.parentNode)||gt,(Pr!=gt||!w.scope)&&((rr=gt.getAttribute("id"))?rr=E.escapeSelector(rr):gt.setAttribute("id",rr=Jt)),Gr=Od(Ge),Tn=Gr.length;Tn--;)Gr[Tn]=(rr?"#"+rr:":scope")+" "+hh(Gr[Tn]);Cr=Gr.join(",")}try{return me.apply(Bt,Pr.querySelectorAll(Cr)),Bt}catch(mr){Ca(Ge,!0)}finally{rr===Jt&&gt.removeAttribute("id")}}}return ry(Ge.replace(ae,"$1"),gt,Bt,Ut)}function fh(){var Ge=[];function gt(Bt,Ut){return Ge.push(Bt+" ")>F.cacheLength&&delete gt[Ge.shift()],gt[Bt+" "]=Ut}return gt}function ys(Ge){return Ge[Jt]=!0,Ge}function Dc(Ge){var gt=Se.createElement("fieldset");try{return!!Ge(gt)}catch(Bt){return!1}finally{gt.parentNode&&gt.parentNode.removeChild(gt),gt=null}}function c1(Ge){return function(gt){return N(gt,"input")&&gt.type===Ge}}function d1(Ge){return function(gt){return(N(gt,"input")||N(gt,"button"))&&gt.type===Ge}}function ty(Ge){return function(gt){return"form"in gt?gt.parentNode&&gt.disabled===!1?"label"in gt?"label"in gt.parentNode?gt.parentNode.disabled===Ge:gt.disabled===Ge:gt.isDisabled===Ge||gt.isDisabled!==!Ge&&l1(gt)===Ge:gt.disabled===Ge:"label"in gt?gt.disabled===Ge:!1}}function Hu(Ge){return ys(function(gt){return gt=+gt,ys(function(Bt,Ut){for(var Xt,Tn=Ge([],Bt.length,gt),Hn=Tn.length;Hn--;)Bt[Xt=Tn[Hn]]&&(Bt[Xt]=!(Ut[Xt]=Bt[Xt]))})})}function Km(Ge){return Ge&&typeof Ge.getElementsByTagName<"u"&&Ge}function au(Ge){var gt,Bt=Ge?Ge.ownerDocument||Ge:X;return Bt==Se||Bt.nodeType!==9||!Bt.documentElement||(Se=Bt,at=Se.documentElement,et=!E.isXMLDoc(Se),Gt=at.matches||at.webkitMatchesSelector||at.msMatchesSelector,at.msMatchesSelector&&X!=Se&&(gt=Se.defaultView)&&gt.top!==gt&&gt.addEventListener("unload",s1),w.getById=Dc(function(Ut){return at.appendChild(Ut).id=E.expando,!Se.getElementsByName||!Se.getElementsByName(E.expando).length}),w.disconnectedMatch=Dc(function(Ut){return Gt.call(Ut,"*")}),w.scope=Dc(function(){return Se.querySelectorAll(":scope")}),w.cssHas=Dc(function(){try{return Se.querySelector(":has(*,:jqfake)"),!1}catch(Ut){return!0}}),w.getById?(F.filter.ID=function(Ut){var Xt=Ut.replace(dl,fl);return function(Tn){return Tn.getAttribute("id")===Xt}},F.find.ID=function(Ut,Xt){if(typeof Xt.getElementById<"u"&&et){var Tn=Xt.getElementById(Ut);return Tn?[Tn]:[]}}):(F.filter.ID=function(Ut){var Xt=Ut.replace(dl,fl);return function(Tn){var Hn=typeof Tn.getAttributeNode<"u"&&Tn.getAttributeNode("id");return Hn&&Hn.value===Xt}},F.find.ID=function(Ut,Xt){if(typeof Xt.getElementById<"u"&&et){var Tn,Hn,rr,$n=Xt.getElementById(Ut);if($n){if(Tn=$n.getAttributeNode("id"),Tn&&Tn.value===Ut)return[$n];for(rr=Xt.getElementsByName(Ut),Hn=0;$n=rr[Hn++];)if(Tn=$n.getAttributeNode("id"),Tn&&Tn.value===Ut)return[$n]}return[]}}),F.find.TAG=function(Ut,Xt){return typeof Xt.getElementsByTagName<"u"?Xt.getElementsByTagName(Ut):Xt.querySelectorAll(Ut)},F.find.CLASS=function(Ut,Xt){if(typeof Xt.getElementsByClassName<"u"&&et)return Xt.getElementsByClassName(Ut)},St=[],Dc(function(Ut){var Xt;at.appendChild(Ut).innerHTML="<a id='"+Jt+"' href='' disabled='disabled'></a><select id='"+Jt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ut.querySelectorAll("[selected]").length||St.push("\\["+Q+"*(?:value|"+Hs+")"),Ut.querySelectorAll("[id~="+Jt+"-]").length||St.push("~="),Ut.querySelectorAll("a#"+Jt+"+*").length||St.push(".#.+[+~]"),Ut.querySelectorAll(":checked").length||St.push(":checked"),Xt=Se.createElement("input"),Xt.setAttribute("type","hidden"),Ut.appendChild(Xt).setAttribute("name","D"),at.appendChild(Ut).disabled=!0,Ut.querySelectorAll(":disabled").length!==2&&St.push(":enabled",":disabled"),Xt=Se.createElement("input"),Xt.setAttribute("name",""),Ut.appendChild(Xt),Ut.querySelectorAll("[name='']").length||St.push("\\["+Q+"*name"+Q+"*="+Q+"*(?:''|\"\")")}),w.cssHas||St.push(":has"),St=St.length&&new RegExp(St.join("|")),pa=function(Ut,Xt){if(Ut===Xt)return de=!0,0;var Tn=!Ut.compareDocumentPosition-!Xt.compareDocumentPosition;return Tn||(Tn=(Ut.ownerDocument||Ut)==(Xt.ownerDocument||Xt)?Ut.compareDocumentPosition(Xt):1,Tn&1||!w.sortDetached&&Xt.compareDocumentPosition(Ut)===Tn?Ut===Se||Ut.ownerDocument==X&&wi.contains(X,Ut)?-1:Xt===Se||Xt.ownerDocument==X&&wi.contains(X,Xt)?1:ne?d.call(ne,Ut)-d.call(ne,Xt):0:Tn&4?-1:1)}),Se}wi.matches=function(Ge,gt){return wi(Ge,null,null,gt)},wi.matchesSelector=function(Ge,gt){if(au(Ge),et&&!Ca[gt+" "]&&(!St||!St.test(gt)))try{var Bt=Gt.call(Ge,gt);if(Bt||w.disconnectedMatch||Ge.document&&Ge.document.nodeType!==11)return Bt}catch(Ut){Ca(gt,!0)}return wi(gt,Se,null,[Ge]).length>0},wi.contains=function(Ge,gt){return(Ge.ownerDocument||Ge)!=Se&&au(Ge),E.contains(Ge,gt)},wi.attr=function(Ge,gt){(Ge.ownerDocument||Ge)!=Se&&au(Ge);var Bt=F.attrHandle[gt.toLowerCase()],Ut=Bt&&v.call(F.attrHandle,gt.toLowerCase())?Bt(Ge,gt,!et):void 0;return Ut!==void 0?Ut:Ge.getAttribute(gt)},wi.error=function(Ge){throw new Error("Syntax error, unrecognized expression: "+Ge)},E.uniqueSort=function(Ge){var gt,Bt=[],Ut=0,Xt=0;if(de=!w.sortStable,ne=!w.sortStable&&o.call(Ge,0),G.call(Ge,pa),de){for(;gt=Ge[Xt++];)gt===Ge[Xt]&&(Ut=Bt.push(Xt));for(;Ut--;)$.call(Ge,Bt[Ut],1)}return ne=null,Ge},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(o.apply(this)))},F=E.expr={cacheLength:50,createPseudo:ys,match:Ws,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ge){return Ge[1]=Ge[1].replace(dl,fl),Ge[3]=(Ge[3]||Ge[4]||Ge[5]||"").replace(dl,fl),Ge[2]==="~="&&(Ge[3]=" "+Ge[3]+" "),Ge.slice(0,4)},CHILD:function(Ge){return Ge[1]=Ge[1].toLowerCase(),Ge[1].slice(0,3)==="nth"?(Ge[3]||wi.error(Ge[0]),Ge[4]=+(Ge[4]?Ge[5]+(Ge[6]||1):2*(Ge[3]==="even"||Ge[3]==="odd")),Ge[5]=+(Ge[7]+Ge[8]||Ge[3]==="odd")):Ge[3]&&wi.error(Ge[0]),Ge},PSEUDO:function(Ge){var gt,Bt=!Ge[6]&&Ge[2];return Ws.CHILD.test(Ge[0])?null:(Ge[3]?Ge[2]=Ge[4]||Ge[5]||"":Bt&&Gs.test(Bt)&&(gt=Od(Bt,!0))&&(gt=Bt.indexOf(")",Bt.length-gt)-Bt.length)&&(Ge[0]=Ge[0].slice(0,gt),Ge[2]=Bt.slice(0,gt)),Ge.slice(0,3))}},filter:{TAG:function(Ge){var gt=Ge.replace(dl,fl).toLowerCase();return Ge==="*"?function(){return!0}:function(Bt){return N(Bt,gt)}},CLASS:function(Ge){var gt=Lr[Ge+" "];return gt||(gt=new RegExp("(^|"+Q+")"+Ge+"("+Q+"|$)"))&&Lr(Ge,function(Bt){return gt.test(typeof Bt.className=="string"&&Bt.className||typeof Bt.getAttribute<"u"&&Bt.getAttribute("class")||"")})},ATTR:function(Ge,gt,Bt){return function(Ut){var Xt=wi.attr(Ut,Ge);return Xt==null?gt==="!=":gt?(Xt+="",gt==="="?Xt===Bt:gt==="!="?Xt!==Bt:gt==="^="?Bt&&Xt.indexOf(Bt)===0:gt==="*="?Bt&&Xt.indexOf(Bt)>-1:gt==="$="?Bt&&Xt.slice(-Bt.length)===Bt:gt==="~="?(" "+Xt.replace(si," ")+" ").indexOf(Bt)>-1:gt==="|="?Xt===Bt||Xt.slice(0,Bt.length+1)===Bt+"-":!1):!0}},CHILD:function(Ge,gt,Bt,Ut,Xt){var Tn=Ge.slice(0,3)!=="nth",Hn=Ge.slice(-4)!=="last",rr=gt==="of-type";return Ut===1&&Xt===0?function($n){return!!$n.parentNode}:function($n,Gr,Cr){var Pr,Wr,mr,Ai,co,Fa=Tn!==Hn?"nextSibling":"previousSibling",Yo=$n.parentNode,js=rr&&$n.nodeName.toLowerCase(),Nc=!Cr&&!rr,Ya=!1;if(Yo){if(Tn){for(;Fa;){for(mr=$n;mr=mr[Fa];)if(rr?N(mr,js):mr.nodeType===1)return!1;co=Fa=Ge==="only"&&!co&&"nextSibling"}return!0}if(co=[Hn?Yo.firstChild:Yo.lastChild],Hn&&Nc){for(Wr=Yo[Jt]||(Yo[Jt]={}),Pr=Wr[Ge]||[],Ai=Pr[0]===Vt&&Pr[1],Ya=Ai&&Pr[2],mr=Ai&&Yo.childNodes[Ai];mr=++Ai&&mr&&mr[Fa]||(Ya=Ai=0)||co.pop();)if(mr.nodeType===1&&++Ya&&mr===$n){Wr[Ge]=[Vt,Ai,Ya];break}}else if(Nc&&(Wr=$n[Jt]||($n[Jt]={}),Pr=Wr[Ge]||[],Ai=Pr[0]===Vt&&Pr[1],Ya=Ai),Ya===!1)for(;(mr=++Ai&&mr&&mr[Fa]||(Ya=Ai=0)||co.pop())&&!((rr?N(mr,js):mr.nodeType===1)&&++Ya&&(Nc&&(Wr=mr[Jt]||(mr[Jt]={}),Wr[Ge]=[Vt,Ya]),mr===$n)););return Ya-=Xt,Ya===Ut||Ya%Ut===0&&Ya/Ut>=0}}},PSEUDO:function(Ge,gt){var Bt,Ut=F.pseudos[Ge]||F.setFilters[Ge.toLowerCase()]||wi.error("unsupported pseudo: "+Ge);return Ut[Jt]?Ut(gt):Ut.length>1?(Bt=[Ge,Ge,"",gt],F.setFilters.hasOwnProperty(Ge.toLowerCase())?ys(function(Xt,Tn){for(var Hn,rr=Ut(Xt,gt),$n=rr.length;$n--;)Hn=d.call(Xt,rr[$n]),Xt[Hn]=!(Tn[Hn]=rr[$n])}):function(Xt){return Ut(Xt,0,Bt)}):Ut}},pseudos:{not:ys(function(Ge){var gt=[],Bt=[],Ut=Jm(Ge.replace(ae,"$1"));return Ut[Jt]?ys(function(Xt,Tn,Hn,rr){for(var $n,Gr=Ut(Xt,null,rr,[]),Cr=Xt.length;Cr--;)($n=Gr[Cr])&&(Xt[Cr]=!(Tn[Cr]=$n))}):function(Xt,Tn,Hn){return gt[0]=Xt,Ut(gt,null,Hn,Bt),gt[0]=null,!Bt.pop()}}),has:ys(function(Ge){return function(gt){return wi(Ge,gt).length>0}}),contains:ys(function(Ge){return Ge=Ge.replace(dl,fl),function(gt){return(gt.textContent||E.text(gt)).indexOf(Ge)>-1}}),lang:ys(function(Ge){return Id.test(Ge||"")||wi.error("unsupported lang: "+Ge),Ge=Ge.replace(dl,fl).toLowerCase(),function(gt){var Bt;do if(Bt=et?gt.lang:gt.getAttribute("xml:lang")||gt.getAttribute("lang"))return Bt=Bt.toLowerCase(),Bt===Ge||Bt.indexOf(Ge+"-")===0;while((gt=gt.parentNode)&&gt.nodeType===1);return!1}}),target:function(Ge){var gt=t.location&&t.location.hash;return gt&&gt.slice(1)===Ge.id},root:function(Ge){return Ge===at},focus:function(Ge){return Ge===u1()&&Se.hasFocus()&&!!(Ge.type||Ge.href||~Ge.tabIndex)},enabled:ty(!1),disabled:ty(!0),checked:function(Ge){return N(Ge,"input")&&!!Ge.checked||N(Ge,"option")&&!!Ge.selected},selected:function(Ge){return Ge.parentNode&&Ge.parentNode.selectedIndex,Ge.selected===!0},empty:function(Ge){for(Ge=Ge.firstChild;Ge;Ge=Ge.nextSibling)if(Ge.nodeType<6)return!1;return!0},parent:function(Ge){return!F.pseudos.empty(Ge)},header:function(Ge){return iu.test(Ge.nodeName)},input:function(Ge){return ru.test(Ge.nodeName)},button:function(Ge){return N(Ge,"input")&&Ge.type==="button"||N(Ge,"button")},text:function(Ge){var gt;return N(Ge,"input")&&Ge.type==="text"&&((gt=Ge.getAttribute("type"))==null||gt.toLowerCase()==="text")},first:Hu(function(){return[0]}),last:Hu(function(Ge,gt){return[gt-1]}),eq:Hu(function(Ge,gt,Bt){return[Bt<0?Bt+gt:Bt]}),even:Hu(function(Ge,gt){for(var Bt=0;Bt<gt;Bt+=2)Ge.push(Bt);return Ge}),odd:Hu(function(Ge,gt){for(var Bt=1;Bt<gt;Bt+=2)Ge.push(Bt);return Ge}),lt:Hu(function(Ge,gt,Bt){var Ut;for(Bt<0?Ut=Bt+gt:Bt>gt?Ut=gt:Ut=Bt;--Ut>=0;)Ge.push(Ut);return Ge}),gt:Hu(function(Ge,gt,Bt){for(var Ut=Bt<0?Bt+gt:Bt;++Ut<gt;)Ge.push(Ut);return Ge})}},F.pseudos.nth=F.pseudos.eq;for(L in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[L]=c1(L);for(L in{submit:!0,reset:!0})F.pseudos[L]=d1(L);function ny(){}ny.prototype=F.filters=F.pseudos,F.setFilters=new ny;function Od(Ge,gt){var Bt,Ut,Xt,Tn,Hn,rr,$n,Gr=ii[Ge+" "];if(Gr)return gt?0:Gr.slice(0);for(Hn=Ge,rr=[],$n=F.preFilter;Hn;){(!Bt||(Ut=qi.exec(Hn)))&&(Ut&&(Hn=Hn.slice(Ut[0].length)||Hn),rr.push(Xt=[])),Bt=!1,(Ut=kd.exec(Hn))&&(Bt=Ut.shift(),Xt.push({value:Bt,type:Ut[0].replace(ae," ")}),Hn=Hn.slice(Bt.length));for(Tn in F.filter)(Ut=Ws[Tn].exec(Hn))&&(!$n[Tn]||(Ut=$n[Tn](Ut)))&&(Bt=Ut.shift(),Xt.push({value:Bt,type:Tn,matches:Ut}),Hn=Hn.slice(Bt.length));if(!Bt)break}return gt?Hn.length:Hn?wi.error(Ge):ii(Ge,rr).slice(0)}function hh(Ge){for(var gt=0,Bt=Ge.length,Ut="";gt<Bt;gt++)Ut+=Ge[gt].value;return Ut}function ph(Ge,gt,Bt){var Ut=gt.dir,Xt=gt.next,Tn=Xt||Ut,Hn=Bt&&Tn==="parentNode",rr=bn++;return gt.first?function($n,Gr,Cr){for(;$n=$n[Ut];)if($n.nodeType===1||Hn)return Ge($n,Gr,Cr);return!1}:function($n,Gr,Cr){var Pr,Wr,mr=[Vt,rr];if(Cr){for(;$n=$n[Ut];)if(($n.nodeType===1||Hn)&&Ge($n,Gr,Cr))return!0}else for(;$n=$n[Ut];)if($n.nodeType===1||Hn)if(Wr=$n[Jt]||($n[Jt]={}),Xt&&N($n,Xt))$n=$n[Ut]||$n;else{if((Pr=Wr[Tn])&&Pr[0]===Vt&&Pr[1]===rr)return mr[2]=Pr[2];if(Wr[Tn]=mr,mr[2]=Ge($n,Gr,Cr))return!0}return!1}}function Ym(Ge){return Ge.length>1?function(gt,Bt,Ut){for(var Xt=Ge.length;Xt--;)if(!Ge[Xt](gt,Bt,Ut))return!1;return!0}:Ge[0]}function f1(Ge,gt,Bt){for(var Ut=0,Xt=gt.length;Ut<Xt;Ut++)wi(Ge,gt[Ut],Bt);return Bt}function mh(Ge,gt,Bt,Ut,Xt){for(var Tn,Hn=[],rr=0,$n=Ge.length,Gr=gt!=null;rr<$n;rr++)(Tn=Ge[rr])&&(!Bt||Bt(Tn,Ut,Xt))&&(Hn.push(Tn),Gr&&gt.push(rr));return Hn}function Xm(Ge,gt,Bt,Ut,Xt,Tn){return Ut&&!Ut[Jt]&&(Ut=Xm(Ut)),Xt&&!Xt[Jt]&&(Xt=Xm(Xt,Tn)),ys(function(Hn,rr,$n,Gr){var Cr,Pr,Wr,mr,Ai=[],co=[],Fa=rr.length,Yo=Hn||f1(gt||"*",$n.nodeType?[$n]:$n,[]),js=Ge&&(Hn||!gt)?mh(Yo,Ai,Ge,$n,Gr):Yo;if(Bt?(mr=Xt||(Hn?Ge:Fa||Ut)?[]:rr,Bt(js,mr,$n,Gr)):mr=js,Ut)for(Cr=mh(mr,co),Ut(Cr,[],$n,Gr),Pr=Cr.length;Pr--;)(Wr=Cr[Pr])&&(mr[co[Pr]]=!(js[co[Pr]]=Wr));if(Hn){if(Xt||Ge){if(Xt){for(Cr=[],Pr=mr.length;Pr--;)(Wr=mr[Pr])&&Cr.push(js[Pr]=Wr);Xt(null,mr=[],Cr,Gr)}for(Pr=mr.length;Pr--;)(Wr=mr[Pr])&&(Cr=Xt?d.call(Hn,Wr):Ai[Pr])>-1&&(Hn[Cr]=!(rr[Cr]=Wr))}}else mr=mh(mr===rr?mr.splice(Fa,mr.length):mr),Xt?Xt(null,rr,mr,Gr):me.apply(rr,mr)})}function Zm(Ge){for(var gt,Bt,Ut,Xt=Ge.length,Tn=F.relative[Ge[0].type],Hn=Tn||F.relative[" "],rr=Tn?1:0,$n=ph(function(Pr){return Pr===gt},Hn,!0),Gr=ph(function(Pr){return d.call(gt,Pr)>-1},Hn,!0),Cr=[function(Pr,Wr,mr){var Ai=!Tn&&(mr||Wr!=Y)||((gt=Wr).nodeType?$n(Pr,Wr,mr):Gr(Pr,Wr,mr));return gt=null,Ai}];rr<Xt;rr++)if(Bt=F.relative[Ge[rr].type])Cr=[ph(Ym(Cr),Bt)];else{if(Bt=F.filter[Ge[rr].type].apply(null,Ge[rr].matches),Bt[Jt]){for(Ut=++rr;Ut<Xt&&!F.relative[Ge[Ut].type];Ut++);return Xm(rr>1&&Ym(Cr),rr>1&&hh(Ge.slice(0,rr-1).concat({value:Ge[rr-2].type===" "?"*":""})).replace(ae,"$1"),Bt,rr<Ut&&Zm(Ge.slice(rr,Ut)),Ut<Xt&&Zm(Ge=Ge.slice(Ut)),Ut<Xt&&hh(Ge))}Cr.push(Bt)}return Ym(Cr)}function h1(Ge,gt){var Bt=gt.length>0,Ut=Ge.length>0,Xt=function(Tn,Hn,rr,$n,Gr){var Cr,Pr,Wr,mr=0,Ai="0",co=Tn&&[],Fa=[],Yo=Y,js=Tn||Ut&&F.find.TAG("*",Gr),Nc=Vt+=Yo==null?1:Math.random()||.1,Ya=js.length;for(Gr&&(Y=Hn==Se||Hn||Gr);Ai!==Ya&&(Cr=js[Ai])!=null;Ai++){if(Ut&&Cr){for(Pr=0,!Hn&&Cr.ownerDocument!=Se&&(au(Cr),rr=!et);Wr=Ge[Pr++];)if(Wr(Cr,Hn||Se,rr)){me.call($n,Cr);break}Gr&&(Vt=Nc)}Bt&&((Cr=!Wr&&Cr)&&mr--,Tn&&co.push(Cr))}if(mr+=Ai,Bt&&Ai!==mr){for(Pr=0;Wr=gt[Pr++];)Wr(co,Fa,Hn,rr);if(Tn){if(mr>0)for(;Ai--;)co[Ai]||Fa[Ai]||(Fa[Ai]=B.call($n));Fa=mh(Fa)}me.apply($n,Fa),Gr&&!Tn&&Fa.length>0&&mr+gt.length>1&&E.uniqueSort($n)}return Gr&&(Vt=Nc,Y=Yo),co};return Bt?ys(Xt):Xt}function Jm(Ge,gt){var Bt,Ut=[],Xt=[],Tn=Br[Ge+" "];if(!Tn){for(gt||(gt=Od(Ge)),Bt=gt.length;Bt--;)Tn=Zm(gt[Bt]),Tn[Jt]?Ut.push(Tn):Xt.push(Tn);Tn=Br(Ge,h1(Xt,Ut)),Tn.selector=Ge}return Tn}function ry(Ge,gt,Bt,Ut){var Xt,Tn,Hn,rr,$n,Gr=typeof Ge=="function"&&Ge,Cr=!Ut&&Od(Ge=Gr.selector||Ge);if(Bt=Bt||[],Cr.length===1){if(Tn=Cr[0]=Cr[0].slice(0),Tn.length>2&&(Hn=Tn[0]).type==="ID"&&gt.nodeType===9&&et&&F.relative[Tn[1].type]){if(gt=(F.find.ID(Hn.matches[0].replace(dl,fl),gt)||[])[0],gt)Gr&&(gt=gt.parentNode);else return Bt;Ge=Ge.slice(Tn.shift().value.length)}for(Xt=Ws.needsContext.test(Ge)?0:Tn.length;Xt--&&(Hn=Tn[Xt],!F.relative[rr=Hn.type]);)if(($n=F.find[rr])&&(Ut=$n(Hn.matches[0].replace(dl,fl),qm.test(Tn[0].type)&&Km(gt.parentNode)||gt))){if(Tn.splice(Xt,1),Ge=Ut.length&&hh(Tn),!Ge)return me.apply(Bt,Ut),Bt;break}}return(Gr||Jm(Ge,Cr))(Ut,gt,!et,Bt,!gt||qm.test(Ge)&&Km(gt.parentNode)||gt),Bt}w.sortStable=Jt.split("").sort(pa).join("")===Jt,au(),w.sortDetached=Dc(function(Ge){return Ge.compareDocumentPosition(Se.createElement("fieldset"))&1}),E.find=wi,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,wi.compile=Jm,wi.select=ry,wi.setDocument=au,wi.tokenize=Od,wi.escape=E.escapeSelector,wi.getText=E.text,wi.isXML=E.isXMLDoc,wi.selectors=E.expr,wi.support=E.support,wi.uniqueSort=E.uniqueSort})();var j=function(L,F,Y){for(var ne=[],de=Y!==void 0;(L=L[F])&&L.nodeType!==9;)if(L.nodeType===1){if(de&&E(L).is(Y))break;ne.push(L)}return ne},ie=function(L,F){for(var Y=[];L;L=L.nextSibling)L.nodeType===1&&L!==F&&Y.push(L);return Y},pe=E.expr.match.needsContext,he=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function le(L,F,Y){return g(F)?E.grep(L,function(ne,de){return!!F.call(ne,de,ne)!==Y}):F.nodeType?E.grep(L,function(ne){return ne===F!==Y}):typeof F!="string"?E.grep(L,function(ne){return d.call(F,ne)>-1!==Y}):E.filter(F,L,Y)}E.filter=function(L,F,Y){var ne=F[0];return Y&&(L=":not("+L+")"),F.length===1&&ne.nodeType===1?E.find.matchesSelector(ne,L)?[ne]:[]:E.find.matches(L,E.grep(F,function(de){return de.nodeType===1}))},E.fn.extend({find:function(L){var F,Y,ne=this.length,de=this;if(typeof L!="string")return this.pushStack(E(L).filter(function(){for(F=0;F<ne;F++)if(E.contains(de[F],this))return!0}));for(Y=this.pushStack([]),F=0;F<ne;F++)E.find(L,de[F],Y);return ne>1?E.uniqueSort(Y):Y},filter:function(L){return this.pushStack(le(this,L||[],!1))},not:function(L){return this.pushStack(le(this,L||[],!0))},is:function(L){return!!le(this,typeof L=="string"&&pe.test(L)?E(L):L||[],!1).length}});var Re,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=E.fn.init=function(L,F,Y){var ne,de;if(!L)return this;if(Y=Y||Re,typeof L=="string")if(L[0]==="<"&&L[L.length-1]===">"&&L.length>=3?ne=[null,L,null]:ne=De.exec(L),ne&&(ne[1]||!F))if(ne[1]){if(F=F instanceof E?F[0]:F,E.merge(this,E.parseHTML(ne[1],F&&F.nodeType?F.ownerDocument||F:M,!0)),he.test(ne[1])&&E.isPlainObject(F))for(ne in F)g(this[ne])?this[ne](F[ne]):this.attr(ne,F[ne]);return this}else return de=M.getElementById(ne[2]),de&&(this[0]=de,this.length=1),this;else return!F||F.jquery?(F||Y).find(L):this.constructor(F).find(L);else{if(L.nodeType)return this[0]=L,this.length=1,this;if(g(L))return Y.ready!==void 0?Y.ready(L):L(E)}return E.makeArray(L,this)};Te.prototype=E.fn,Re=E(M);var ge=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(L){var F=E(L,this),Y=F.length;return this.filter(function(){for(var ne=0;ne<Y;ne++)if(E.contains(this,F[ne]))return!0})},closest:function(L,F){var Y,ne=0,de=this.length,me=[],Se=typeof L!="string"&&E(L);if(!pe.test(L)){for(;ne<de;ne++)for(Y=this[ne];Y&&Y!==F;Y=Y.parentNode)if(Y.nodeType<11&&(Se?Se.index(Y)>-1:Y.nodeType===1&&E.find.matchesSelector(Y,L))){me.push(Y);break}}return this.pushStack(me.length>1?E.uniqueSort(me):me)},index:function(L){return L?typeof L=="string"?d.call(E(L),this[0]):d.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,F){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(L,F))))},addBack:function(L){return this.add(L==null?this.prevObject:this.prevObject.filter(L))}});function Pe(L,F){for(;(L=L[F])&&L.nodeType!==1;);return L}E.each({parent:function(L){var F=L.parentNode;return F&&F.nodeType!==11?F:null},parents:function(L){return j(L,"parentNode")},parentsUntil:function(L,F,Y){return j(L,"parentNode",Y)},next:function(L){return Pe(L,"nextSibling")},prev:function(L){return Pe(L,"previousSibling")},nextAll:function(L){return j(L,"nextSibling")},prevAll:function(L){return j(L,"previousSibling")},nextUntil:function(L,F,Y){return j(L,"nextSibling",Y)},prevUntil:function(L,F,Y){return j(L,"previousSibling",Y)},siblings:function(L){return ie((L.parentNode||{}).firstChild,L)},children:function(L){return ie(L.firstChild)},contents:function(L){return L.contentDocument!=null&&a(L.contentDocument)?L.contentDocument:(N(L,"template")&&(L=L.content||L),E.merge([],L.childNodes))}},function(L,F){E.fn[L]=function(Y,ne){var de=E.map(this,F,Y);return L.slice(-5)!=="Until"&&(ne=Y),ne&&typeof ne=="string"&&(de=E.filter(ne,de)),this.length>1&&(ke[L]||E.uniqueSort(de),ge.test(L)&&de.reverse()),this.pushStack(de)}});var Xe=/[^\x20\t\r\n\f]+/g;function ct(L){var F={};return E.each(L.match(Xe)||[],function(Y,ne){F[ne]=!0}),F}E.Callbacks=function(L){L=typeof L=="string"?ct(L):E.extend({},L);var F,Y,ne,de,me=[],Se=[],at=-1,et=function(){for(de=de||L.once,ne=F=!0;Se.length;at=-1)for(Y=Se.shift();++at<me.length;)me[at].apply(Y[0],Y[1])===!1&&L.stopOnFalse&&(at=me.length,Y=!1);L.memory||(Y=!1),F=!1,de&&(Y?me=[]:me="")},St={add:function(){return me&&(Y&&!F&&(at=me.length-1,Se.push(Y)),function Gt(Jt){E.each(Jt,function(Vt,bn){g(bn)?(!L.unique||!St.has(bn))&&me.push(bn):bn&&bn.length&&T(bn)!=="string"&&Gt(bn)})}(arguments),Y&&!F&&et()),this},remove:function(){return E.each(arguments,function(Gt,Jt){for(var Vt;(Vt=E.inArray(Jt,me,Vt))>-1;)me.splice(Vt,1),Vt<=at&&at--}),this},has:function(Gt){return Gt?E.inArray(Gt,me)>-1:me.length>0},empty:function(){return me&&(me=[]),this},disable:function(){return de=Se=[],me=Y="",this},disabled:function(){return!me},lock:function(){return de=Se=[],!Y&&!F&&(me=Y=""),this},locked:function(){return!!de},fireWith:function(Gt,Jt){return de||(Jt=Jt||[],Jt=[Gt,Jt.slice?Jt.slice():Jt],Se.push(Jt),F||et()),this},fire:function(){return St.fireWith(this,arguments),this},fired:function(){return!!ne}};return St};function se(L){return L}function ye(L){throw L}function He(L,F,Y,ne){var de;try{L&&g(de=L.promise)?de.call(L).done(F).fail(Y):L&&g(de=L.then)?de.call(L,F,Y):F.apply(void 0,[L].slice(ne))}catch(me){Y.apply(void 0,[me])}}E.extend({Deferred:function(L){var F=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],Y="pending",ne={state:function(){return Y},always:function(){return de.done(arguments).fail(arguments),this},catch:function(me){return ne.then(null,me)},pipe:function(){var me=arguments;return E.Deferred(function(Se){E.each(F,function(at,et){var St=g(me[et[4]])&&me[et[4]];de[et[1]](function(){var Gt=St&&St.apply(this,arguments);Gt&&g(Gt.promise)?Gt.promise().progress(Se.notify).done(Se.resolve).fail(Se.reject):Se[et[0]+"With"](this,St?[Gt]:arguments)})}),me=null}).promise()},then:function(me,Se,at){var et=0;function St(Gt,Jt,Vt,bn){return function(){var Lr=this,ii=arguments,Br=function(){var pa,Hs;if(!(Gt<et)){if(pa=Vt.apply(Lr,ii),pa===Jt.promise())throw new TypeError("Thenable self-resolution");Hs=pa&&(typeof pa=="object"||typeof pa=="function")&&pa.then,g(Hs)?bn?Hs.call(pa,St(et,Jt,se,bn),St(et,Jt,ye,bn)):(et++,Hs.call(pa,St(et,Jt,se,bn),St(et,Jt,ye,bn),St(et,Jt,se,Jt.notifyWith))):(Vt!==se&&(Lr=void 0,ii=[pa]),(bn||Jt.resolveWith)(Lr,ii))}},Ca=bn?Br:function(){try{Br()}catch(pa){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(pa,Ca.error),Gt+1>=et&&(Vt!==ye&&(Lr=void 0,ii=[pa]),Jt.rejectWith(Lr,ii))}};Gt?Ca():(E.Deferred.getErrorHook?Ca.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(Ca.error=E.Deferred.getStackHook()),t.setTimeout(Ca))}}return E.Deferred(function(Gt){F[0][3].add(St(0,Gt,g(at)?at:se,Gt.notifyWith)),F[1][3].add(St(0,Gt,g(me)?me:se)),F[2][3].add(St(0,Gt,g(Se)?Se:ye))}).promise()},promise:function(me){return me!=null?E.extend(me,ne):ne}},de={};return E.each(F,function(me,Se){var at=Se[2],et=Se[5];ne[Se[1]]=at.add,et&&at.add(function(){Y=et},F[3-me][2].disable,F[3-me][3].disable,F[0][2].lock,F[0][3].lock),at.add(Se[3].fire),de[Se[0]]=function(){return de[Se[0]+"With"](this===de?void 0:this,arguments),this},de[Se[0]+"With"]=at.fireWith}),ne.promise(de),L&&L.call(de,de),de},when:function(L){var F=arguments.length,Y=F,ne=Array(Y),de=o.call(arguments),me=E.Deferred(),Se=function(at){return function(et){ne[at]=this,de[at]=arguments.length>1?o.call(arguments):et,--F||me.resolveWith(ne,de)}};if(F<=1&&(He(L,me.done(Se(Y)).resolve,me.reject,!F),me.state()==="pending"||g(de[Y]&&de[Y].then)))return me.then();for(;Y--;)He(de[Y],Se(Y),me.reject);return me.promise()}});var dt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(L,F){t.console&&t.console.warn&&L&&dt.test(L.name)&&t.console.warn("jQuery.Deferred exception: "+L.message,L.stack,F)},E.readyException=function(L){t.setTimeout(function(){throw L})};var pt=E.Deferred();E.fn.ready=function(L){return pt.then(L).catch(function(F){E.readyException(F)}),this},E.extend({isReady:!1,readyWait:1,ready:function(L){(L===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(L!==!0&&--E.readyWait>0)&&pt.resolveWith(M,[E]))}}),E.ready.then=pt.then;function nt(){M.removeEventListener("DOMContentLoaded",nt),t.removeEventListener("load",nt),E.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(E.ready):(M.addEventListener("DOMContentLoaded",nt),t.addEventListener("load",nt));var ot=function(L,F,Y,ne,de,me,Se){var at=0,et=L.length,St=Y==null;if(T(Y)==="object"){de=!0;for(at in Y)ot(L,F,at,Y[at],!0,me,Se)}else if(ne!==void 0&&(de=!0,g(ne)||(Se=!0),St&&(Se?(F.call(L,ne),F=null):(St=F,F=function(Gt,Jt,Vt){return St.call(E(Gt),Vt)})),F))for(;at<et;at++)F(L[at],Y,Se?ne:ne.call(L[at],at,F(L[at],Y)));return de?L:St?F.call(L):et?F(L[0],Y):me},rt=/^-ms-/,At=/-([a-z])/g;function Mt(L,F){return F.toUpperCase()}function Me(L){return L.replace(rt,"ms-").replace(At,Mt)}var ve=function(L){return L.nodeType===1||L.nodeType===9||!+L.nodeType};function Fe(){this.expando=E.expando+Fe.uid++}Fe.uid=1,Fe.prototype={cache:function(L){var F=L[this.expando];return F||(F={},ve(L)&&(L.nodeType?L[this.expando]=F:Object.defineProperty(L,this.expando,{value:F,configurable:!0}))),F},set:function(L,F,Y){var ne,de=this.cache(L);if(typeof F=="string")de[Me(F)]=Y;else for(ne in F)de[Me(ne)]=F[ne];return de},get:function(L,F){return F===void 0?this.cache(L):L[this.expando]&&L[this.expando][Me(F)]},access:function(L,F,Y){return F===void 0||F&&typeof F=="string"&&Y===void 0?this.get(L,F):(this.set(L,F,Y),Y!==void 0?Y:F)},remove:function(L,F){var Y,ne=L[this.expando];if(ne!==void 0){if(F!==void 0)for(Array.isArray(F)?F=F.map(Me):(F=Me(F),F=F in ne?[F]:F.match(Xe)||[]),Y=F.length;Y--;)delete ne[F[Y]];(F===void 0||E.isEmptyObject(ne))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var F=L[this.expando];return F!==void 0&&!E.isEmptyObject(F)}};var qe=new Fe,Et=new Fe,$t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Yt=/[A-Z]/g;function We(L){return L==="true"?!0:L==="false"?!1:L==="null"?null:L===+L+""?+L:$t.test(L)?JSON.parse(L):L}function lt(L,F,Y){var ne;if(Y===void 0&&L.nodeType===1)if(ne="data-"+F.replace(Yt,"-$&").toLowerCase(),Y=L.getAttribute(ne),typeof Y=="string"){try{Y=We(Y)}catch(de){}Et.set(L,F,Y)}else Y=void 0;return Y}E.extend({hasData:function(L){return Et.hasData(L)||qe.hasData(L)},data:function(L,F,Y){return Et.access(L,F,Y)},removeData:function(L,F){Et.remove(L,F)},_data:function(L,F,Y){return qe.access(L,F,Y)},_removeData:function(L,F){qe.remove(L,F)}}),E.fn.extend({data:function(L,F){var Y,ne,de,me=this[0],Se=me&&me.attributes;if(L===void 0){if(this.length&&(de=Et.get(me),me.nodeType===1&&!qe.get(me,"hasDataAttrs"))){for(Y=Se.length;Y--;)Se[Y]&&(ne=Se[Y].name,ne.indexOf("data-")===0&&(ne=Me(ne.slice(5)),lt(me,ne,de[ne])));qe.set(me,"hasDataAttrs",!0)}return de}return typeof L=="object"?this.each(function(){Et.set(this,L)}):ot(this,function(at){var et;if(me&&at===void 0)return et=Et.get(me,L),et!==void 0||(et=lt(me,L),et!==void 0)?et:void 0;this.each(function(){Et.set(this,L,at)})},null,F,arguments.length>1,null,!0)},removeData:function(L){return this.each(function(){Et.remove(this,L)})}}),E.extend({queue:function(L,F,Y){var ne;if(L)return F=(F||"fx")+"queue",ne=qe.get(L,F),Y&&(!ne||Array.isArray(Y)?ne=qe.access(L,F,E.makeArray(Y)):ne.push(Y)),ne||[]},dequeue:function(L,F){F=F||"fx";var Y=E.queue(L,F),ne=Y.length,de=Y.shift(),me=E._queueHooks(L,F),Se=function(){E.dequeue(L,F)};de==="inprogress"&&(de=Y.shift(),ne--),de&&(F==="fx"&&Y.unshift("inprogress"),delete me.stop,de.call(L,Se,me)),!ne&&me&&me.empty.fire()},_queueHooks:function(L,F){var Y=F+"queueHooks";return qe.get(L,Y)||qe.access(L,Y,{empty:E.Callbacks("once memory").add(function(){qe.remove(L,[F+"queue",Y])})})}}),E.fn.extend({queue:function(L,F){var Y=2;return typeof L!="string"&&(F=L,L="fx",Y--),arguments.length<Y?E.queue(this[0],L):F===void 0?this:this.each(function(){var ne=E.queue(this,L,F);E._queueHooks(this,L),L==="fx"&&ne[0]!=="inprogress"&&E.dequeue(this,L)})},dequeue:function(L){return this.each(function(){E.dequeue(this,L)})},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,F){var Y,ne=1,de=E.Deferred(),me=this,Se=this.length,at=function(){--ne||de.resolveWith(me,[me])};for(typeof L!="string"&&(F=L,L=void 0),L=L||"fx";Se--;)Y=qe.get(me[Se],L+"queueHooks"),Y&&Y.empty&&(ne++,Y.empty.add(at));return at(),de.promise(F)}});var sn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=new RegExp("^(?:([+-])=|)("+sn+")([a-z%]*)$","i"),je=["Top","Right","Bottom","Left"],xe=M.documentElement,Ke=function(L){return E.contains(L.ownerDocument,L)},Ee={composed:!0};xe.getRootNode&&(Ke=function(L){return E.contains(L.ownerDocument,L)||L.getRootNode(Ee)===L.ownerDocument});var wt=function(L,F){return L=F||L,L.style.display==="none"||L.style.display===""&&Ke(L)&&E.css(L,"display")==="none"};function an(L,F,Y,ne){var de,me,Se=20,at=ne?function(){return ne.cur()}:function(){return E.css(L,F,"")},et=at(),St=Y&&Y[3]||(E.cssNumber[F]?"":"px"),Gt=L.nodeType&&(E.cssNumber[F]||St!=="px"&&+et)&&Tt.exec(E.css(L,F));if(Gt&&Gt[3]!==St){for(et=et/2,St=St||Gt[3],Gt=+et||1;Se--;)E.style(L,F,Gt+St),(1-me)*(1-(me=at()/et||.5))<=0&&(Se=0),Gt=Gt/me;Gt=Gt*2,E.style(L,F,Gt+St),Y=Y||[]}return Y&&(Gt=+Gt||+et||0,de=Y[1]?Gt+(Y[1]+1)*Y[2]:+Y[2],ne&&(ne.unit=St,ne.start=Gt,ne.end=de)),de}var Je={};function Dt(L){var F,Y=L.ownerDocument,ne=L.nodeName,de=Je[ne];return de||(F=Y.body.appendChild(Y.createElement(ne)),de=E.css(F,"display"),F.parentNode.removeChild(F),de==="none"&&(de="block"),Je[ne]=de,de)}function en(L,F){for(var Y,ne,de=[],me=0,Se=L.length;me<Se;me++)ne=L[me],ne.style&&(Y=ne.style.display,F?(Y==="none"&&(de[me]=qe.get(ne,"display")||null,de[me]||(ne.style.display="")),ne.style.display===""&&wt(ne)&&(de[me]=Dt(ne))):Y!=="none"&&(de[me]="none",qe.set(ne,"display",Y)));for(me=0;me<Se;me++)de[me]!=null&&(L[me].style.display=de[me]);return L}E.fn.extend({show:function(){return en(this,!0)},hide:function(){return en(this)},toggle:function(L){return typeof L=="boolean"?L?this.show():this.hide():this.each(function(){wt(this)?E(this).show():E(this).hide()})}});var _n=/^(?:checkbox|radio)$/i,wn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,hr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var L=M.createDocumentFragment(),F=L.appendChild(M.createElement("div")),Y=M.createElement("input");Y.setAttribute("type","radio"),Y.setAttribute("checked","checked"),Y.setAttribute("name","t"),F.appendChild(Y),w.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked,F.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!F.cloneNode(!0).lastChild.defaultValue,F.innerHTML="<option></option>",w.option=!!F.lastChild})();var Yn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yn.tbody=Yn.tfoot=Yn.colgroup=Yn.caption=Yn.thead,Yn.th=Yn.td,w.option||(Yn.optgroup=Yn.option=[1,"<select multiple='multiple'>","</select>"]);function vr(L,F){var Y;return typeof L.getElementsByTagName<"u"?Y=L.getElementsByTagName(F||"*"):typeof L.querySelectorAll<"u"?Y=L.querySelectorAll(F||"*"):Y=[],F===void 0||F&&N(L,F)?E.merge([L],Y):Y}function Ji(L,F){for(var Y=0,ne=L.length;Y<ne;Y++)qe.set(L[Y],"globalEval",!F||qe.get(F[Y],"globalEval"))}var pi=/<|&#?\w+;/;function Qi(L,F,Y,ne,de){for(var me,Se,at,et,St,Gt,Jt=F.createDocumentFragment(),Vt=[],bn=0,Lr=L.length;bn<Lr;bn++)if(me=L[bn],me||me===0)if(T(me)==="object")E.merge(Vt,me.nodeType?[me]:me);else if(!pi.test(me))Vt.push(F.createTextNode(me));else{for(Se=Se||Jt.appendChild(F.createElement("div")),at=(wn.exec(me)||["",""])[1].toLowerCase(),et=Yn[at]||Yn._default,Se.innerHTML=et[1]+E.htmlPrefilter(me)+et[2],Gt=et[0];Gt--;)Se=Se.lastChild;E.merge(Vt,Se.childNodes),Se=Jt.firstChild,Se.textContent=""}for(Jt.textContent="",bn=0;me=Vt[bn++];){if(ne&&E.inArray(me,ne)>-1){de&&de.push(me);continue}if(St=Ke(me),Se=vr(Jt.appendChild(me),"script"),St&&Ji(Se),Y)for(Gt=0;me=Se[Gt++];)hr.test(me.type||"")&&Y.push(me)}return Jt}var na=/^([^.]*)(?:\.(.+)|)/;function ra(){return!0}function To(){return!1}function Ka(L,F,Y,ne,de,me){var Se,at;if(typeof F=="object"){typeof Y!="string"&&(ne=ne||Y,Y=void 0);for(at in F)Ka(L,at,Y,ne,F[at],me);return L}if(ne==null&&de==null?(de=Y,ne=Y=void 0):de==null&&(typeof Y=="string"?(de=ne,ne=void 0):(de=ne,ne=Y,Y=void 0)),de===!1)de=To;else if(!de)return L;return me===1&&(Se=de,de=function(et){return E().off(et),Se.apply(this,arguments)},de.guid=Se.guid||(Se.guid=E.guid++)),L.each(function(){E.event.add(this,F,de,ne,Y)})}E.event={global:{},add:function(L,F,Y,ne,de){var me,Se,at,et,St,Gt,Jt,Vt,bn,Lr,ii,Br=qe.get(L);if(ve(L))for(Y.handler&&(me=Y,Y=me.handler,de=me.selector),de&&E.find.matchesSelector(xe,de),Y.guid||(Y.guid=E.guid++),(et=Br.events)||(et=Br.events=Object.create(null)),(Se=Br.handle)||(Se=Br.handle=function(Ca){return typeof E<"u"&&E.event.triggered!==Ca.type?E.event.dispatch.apply(L,arguments):void 0}),F=(F||"").match(Xe)||[""],St=F.length;St--;)at=na.exec(F[St])||[],bn=ii=at[1],Lr=(at[2]||"").split(".").sort(),bn&&(Jt=E.event.special[bn]||{},bn=(de?Jt.delegateType:Jt.bindType)||bn,Jt=E.event.special[bn]||{},Gt=E.extend({type:bn,origType:ii,data:ne,handler:Y,guid:Y.guid,selector:de,needsContext:de&&E.expr.match.needsContext.test(de),namespace:Lr.join(".")},me),(Vt=et[bn])||(Vt=et[bn]=[],Vt.delegateCount=0,(!Jt.setup||Jt.setup.call(L,ne,Lr,Se)===!1)&&L.addEventListener&&L.addEventListener(bn,Se)),Jt.add&&(Jt.add.call(L,Gt),Gt.handler.guid||(Gt.handler.guid=Y.guid)),de?Vt.splice(Vt.delegateCount++,0,Gt):Vt.push(Gt),E.event.global[bn]=!0)},remove:function(L,F,Y,ne,de){var me,Se,at,et,St,Gt,Jt,Vt,bn,Lr,ii,Br=qe.hasData(L)&&qe.get(L);if(!(!Br||!(et=Br.events))){for(F=(F||"").match(Xe)||[""],St=F.length;St--;){if(at=na.exec(F[St])||[],bn=ii=at[1],Lr=(at[2]||"").split(".").sort(),!bn){for(bn in et)E.event.remove(L,bn+F[St],Y,ne,!0);continue}for(Jt=E.event.special[bn]||{},bn=(ne?Jt.delegateType:Jt.bindType)||bn,Vt=et[bn]||[],at=at[2]&&new RegExp("(^|\\.)"+Lr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Se=me=Vt.length;me--;)Gt=Vt[me],(de||ii===Gt.origType)&&(!Y||Y.guid===Gt.guid)&&(!at||at.test(Gt.namespace))&&(!ne||ne===Gt.selector||ne==="**"&&Gt.selector)&&(Vt.splice(me,1),Gt.selector&&Vt.delegateCount--,Jt.remove&&Jt.remove.call(L,Gt));Se&&!Vt.length&&((!Jt.teardown||Jt.teardown.call(L,Lr,Br.handle)===!1)&&E.removeEvent(L,bn,Br.handle),delete et[bn])}E.isEmptyObject(et)&&qe.remove(L,"handle events")}},dispatch:function(L){var F,Y,ne,de,me,Se,at=new Array(arguments.length),et=E.event.fix(L),St=(qe.get(this,"events")||Object.create(null))[et.type]||[],Gt=E.event.special[et.type]||{};for(at[0]=et,F=1;F<arguments.length;F++)at[F]=arguments[F];if(et.delegateTarget=this,!(Gt.preDispatch&&Gt.preDispatch.call(this,et)===!1)){for(Se=E.event.handlers.call(this,et,St),F=0;(de=Se[F++])&&!et.isPropagationStopped();)for(et.currentTarget=de.elem,Y=0;(me=de.handlers[Y++])&&!et.isImmediatePropagationStopped();)(!et.rnamespace||me.namespace===!1||et.rnamespace.test(me.namespace))&&(et.handleObj=me,et.data=me.data,ne=((E.event.special[me.origType]||{}).handle||me.handler).apply(de.elem,at),ne!==void 0&&(et.result=ne)===!1&&(et.preventDefault(),et.stopPropagation()));return Gt.postDispatch&&Gt.postDispatch.call(this,et),et.result}},handlers:function(L,F){var Y,ne,de,me,Se,at=[],et=F.delegateCount,St=L.target;if(et&&St.nodeType&&!(L.type==="click"&&L.button>=1)){for(;St!==this;St=St.parentNode||this)if(St.nodeType===1&&!(L.type==="click"&&St.disabled===!0)){for(me=[],Se={},Y=0;Y<et;Y++)ne=F[Y],de=ne.selector+" ",Se[de]===void 0&&(Se[de]=ne.needsContext?E(de,this).index(St)>-1:E.find(de,this,null,[St]).length),Se[de]&&me.push(ne);me.length&&at.push({elem:St,handlers:me})}}return St=this,et<F.length&&at.push({elem:St,handlers:F.slice(et)}),at},addProp:function(L,F){Object.defineProperty(E.Event.prototype,L,{enumerable:!0,configurable:!0,get:g(F)?function(){if(this.originalEvent)return F(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(Y){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:Y})}})},fix:function(L){return L[E.expando]?L:new E.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var F=this||L;return _n.test(F.type)&&F.click&&N(F,"input")&&da(F,"click",!0),!1},trigger:function(L){var F=this||L;return _n.test(F.type)&&F.click&&N(F,"input")&&da(F,"click"),!0},_default:function(L){var F=L.target;return _n.test(F.type)&&F.click&&N(F,"input")&&qe.get(F,"click")||N(F,"a")}},beforeunload:{postDispatch:function(L){L.result!==void 0&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}};function da(L,F,Y){if(!Y){qe.get(L,F)===void 0&&E.event.add(L,F,ra);return}qe.set(L,F,!1),E.event.add(L,F,{namespace:!1,handler:function(ne){var de,me=qe.get(this,F);if(ne.isTrigger&1&&this[F]){if(me)(E.event.special[F]||{}).delegateType&&ne.stopPropagation();else if(me=o.call(arguments),qe.set(this,F,me),this[F](),de=qe.get(this,F),qe.set(this,F,!1),me!==de)return ne.stopImmediatePropagation(),ne.preventDefault(),de}else me&&(qe.set(this,F,E.event.trigger(me[0],me.slice(1),this)),ne.stopPropagation(),ne.isImmediatePropagationStopped=ra)}})}E.removeEvent=function(L,F,Y){L.removeEventListener&&L.removeEventListener(F,Y)},E.Event=function(L,F){if(!(this instanceof E.Event))return new E.Event(L,F);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||L.defaultPrevented===void 0&&L.returnValue===!1?ra:To,this.target=L.target&&L.target.nodeType===3?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,F&&E.extend(this,F),this.timeStamp=L&&L.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:To,isPropagationStopped:To,isImmediatePropagationStopped:To,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=ra,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=ra,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=ra,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(L,F){function Y(ne){if(M.documentMode){var de=qe.get(this,"handle"),me=E.event.fix(ne);me.type=ne.type==="focusin"?"focus":"blur",me.isSimulated=!0,de(ne),me.target===me.currentTarget&&de(me)}else E.event.simulate(F,ne.target,E.event.fix(ne))}E.event.special[L]={setup:function(){var ne;if(da(this,L,!0),M.documentMode)ne=qe.get(this,F),ne||this.addEventListener(F,Y),qe.set(this,F,(ne||0)+1);else return!1},trigger:function(){return da(this,L),!0},teardown:function(){var ne;if(M.documentMode)ne=qe.get(this,F)-1,ne?qe.set(this,F,ne):(this.removeEventListener(F,Y),qe.remove(this,F));else return!1},_default:function(ne){return qe.get(ne.target,L)},delegateType:F},E.event.special[F]={setup:function(){var ne=this.ownerDocument||this.document||this,de=M.documentMode?this:ne,me=qe.get(de,F);me||(M.documentMode?this.addEventListener(F,Y):ne.addEventListener(L,Y,!0)),qe.set(de,F,(me||0)+1)},teardown:function(){var ne=this.ownerDocument||this.document||this,de=M.documentMode?this:ne,me=qe.get(de,F)-1;me?qe.set(de,F,me):(M.documentMode?this.removeEventListener(F,Y):ne.removeEventListener(L,Y,!0),qe.remove(de,F))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(L,F){E.event.special[L]={delegateType:F,bindType:F,handle:function(Y){var ne,de=this,me=Y.relatedTarget,Se=Y.handleObj;return(!me||me!==de&&!E.contains(de,me))&&(Y.type=Se.origType,ne=Se.handler.apply(this,arguments),Y.type=F),ne}}}),E.fn.extend({on:function(L,F,Y,ne){return Ka(this,L,F,Y,ne)},one:function(L,F,Y,ne){return Ka(this,L,F,Y,ne,1)},off:function(L,F,Y){var ne,de;if(L&&L.preventDefault&&L.handleObj)return ne=L.handleObj,E(L.delegateTarget).off(ne.namespace?ne.origType+"."+ne.namespace:ne.origType,ne.selector,ne.handler),this;if(typeof L=="object"){for(de in L)this.off(de,F,L[de]);return this}return(F===!1||typeof F=="function")&&(Y=F,F=void 0),Y===!1&&(Y=To),this.each(function(){E.event.remove(this,L,Y,F)})}});var $e=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Be(L,F){return N(L,"table")&&N(F.nodeType!==11?F:F.firstChild,"tr")&&E(L).children("tbody")[0]||L}function vt(L){return L.type=(L.getAttribute("type")!==null)+"/"+L.type,L}function vn(L){return(L.type||"").slice(0,5)==="true/"?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Un(L,F){var Y,ne,de,me,Se,at,et;if(F.nodeType===1){if(qe.hasData(L)&&(me=qe.get(L),et=me.events,et)){qe.remove(F,"handle events");for(de in et)for(Y=0,ne=et[de].length;Y<ne;Y++)E.event.add(F,de,et[de][Y])}Et.hasData(L)&&(Se=Et.access(L),at=E.extend({},Se),Et.set(F,at))}}function sr(L,F){var Y=F.nodeName.toLowerCase();Y==="input"&&_n.test(L.type)?F.checked=L.checked:(Y==="input"||Y==="textarea")&&(F.defaultValue=L.defaultValue)}function dr(L,F,Y,ne){F=s(F);var de,me,Se,at,et,St,Gt=0,Jt=L.length,Vt=Jt-1,bn=F[0],Lr=g(bn);if(Lr||Jt>1&&typeof bn=="string"&&!w.checkClone&&zt.test(bn))return L.each(function(ii){var Br=L.eq(ii);Lr&&(F[0]=bn.call(this,ii,Br.html())),dr(Br,F,Y,ne)});if(Jt&&(de=Qi(F,L[0].ownerDocument,!1,L,ne),me=de.firstChild,de.childNodes.length===1&&(de=me),me||ne)){for(Se=E.map(vr(de,"script"),vt),at=Se.length;Gt<Jt;Gt++)et=de,Gt!==Vt&&(et=E.clone(et,!0,!0),at&&E.merge(Se,vr(et,"script"))),Y.call(L[Gt],et,Gt);if(at)for(St=Se[Se.length-1].ownerDocument,E.map(Se,vn),Gt=0;Gt<at;Gt++)et=Se[Gt],hr.test(et.type||"")&&!qe.access(et,"globalEval")&&E.contains(St,et)&&(et.src&&(et.type||"").toLowerCase()!=="module"?E._evalUrl&&!et.noModule&&E._evalUrl(et.src,{nonce:et.nonce||et.getAttribute("nonce")},St):A(et.textContent.replace(Kt,""),et,St))}return L}function yr(L,F,Y){for(var ne,de=F?E.filter(F,L):L,me=0;(ne=de[me])!=null;me++)!Y&&ne.nodeType===1&&E.cleanData(vr(ne)),ne.parentNode&&(Y&&Ke(ne)&&Ji(vr(ne,"script")),ne.parentNode.removeChild(ne));return L}E.extend({htmlPrefilter:function(L){return L},clone:function(L,F,Y){var ne,de,me,Se,at=L.cloneNode(!0),et=Ke(L);if(!w.noCloneChecked&&(L.nodeType===1||L.nodeType===11)&&!E.isXMLDoc(L))for(Se=vr(at),me=vr(L),ne=0,de=me.length;ne<de;ne++)sr(me[ne],Se[ne]);if(F)if(Y)for(me=me||vr(L),Se=Se||vr(at),ne=0,de=me.length;ne<de;ne++)Un(me[ne],Se[ne]);else Un(L,at);return Se=vr(at,"script"),Se.length>0&&Ji(Se,!et&&vr(L,"script")),at},cleanData:function(L){for(var F,Y,ne,de=E.event.special,me=0;(Y=L[me])!==void 0;me++)if(ve(Y)){if(F=Y[qe.expando]){if(F.events)for(ne in F.events)de[ne]?E.event.remove(Y,ne):E.removeEvent(Y,ne,F.handle);Y[qe.expando]=void 0}Y[Et.expando]&&(Y[Et.expando]=void 0)}}}),E.fn.extend({detach:function(L){return yr(this,L,!0)},remove:function(L){return yr(this,L)},text:function(L){return ot(this,function(F){return F===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=F)})},null,L,arguments.length)},append:function(){return dr(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var F=Be(this,L);F.appendChild(L)}})},prepend:function(){return dr(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var F=Be(this,L);F.insertBefore(L,F.firstChild)}})},before:function(){return dr(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this)})},after:function(){return dr(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)})},empty:function(){for(var L,F=0;(L=this[F])!=null;F++)L.nodeType===1&&(E.cleanData(vr(L,!1)),L.textContent="");return this},clone:function(L,F){return L=L==null?!1:L,F=F==null?L:F,this.map(function(){return E.clone(this,L,F)})},html:function(L){return ot(this,function(F){var Y=this[0]||{},ne=0,de=this.length;if(F===void 0&&Y.nodeType===1)return Y.innerHTML;if(typeof F=="string"&&!$e.test(F)&&!Yn[(wn.exec(F)||["",""])[1].toLowerCase()]){F=E.htmlPrefilter(F);try{for(;ne<de;ne++)Y=this[ne]||{},Y.nodeType===1&&(E.cleanData(vr(Y,!1)),Y.innerHTML=F);Y=0}catch(me){}}Y&&this.empty().append(F)},null,L,arguments.length)},replaceWith:function(){var L=[];return dr(this,arguments,function(F){var Y=this.parentNode;E.inArray(this,L)<0&&(E.cleanData(vr(this)),Y&&Y.replaceChild(F,this))},L)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(L,F){E.fn[L]=function(Y){for(var ne,de=[],me=E(Y),Se=me.length-1,at=0;at<=Se;at++)ne=at===Se?this:this.clone(!0),E(me[at])[F](ne),u.apply(de,ne.get());return this.pushStack(de)}});var Ar=new RegExp("^("+sn+")(?!px)[a-z%]+$","i"),br=/^--/,Lt=function(L){var F=L.ownerDocument.defaultView;return(!F||!F.opener)&&(F=t),F.getComputedStyle(L)},hn=function(L,F,Y){var ne,de,me={};for(de in F)me[de]=L.style[de],L.style[de]=F[de];ne=Y.call(L);for(de in F)L.style[de]=me[de];return ne},Gn=new RegExp(je.join("|"),"i");(function(){function L(){if(St){et.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",St.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(et).appendChild(St);var Gt=t.getComputedStyle(St);Y=Gt.top!=="1%",at=F(Gt.marginLeft)===12,St.style.right="60%",me=F(Gt.right)===36,ne=F(Gt.width)===36,St.style.position="absolute",de=F(St.offsetWidth/3)===12,xe.removeChild(et),St=null}}function F(Gt){return Math.round(parseFloat(Gt))}var Y,ne,de,me,Se,at,et=M.createElement("div"),St=M.createElement("div");St.style&&(St.style.backgroundClip="content-box",St.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=St.style.backgroundClip==="content-box",E.extend(w,{boxSizingReliable:function(){return L(),ne},pixelBoxStyles:function(){return L(),me},pixelPosition:function(){return L(),Y},reliableMarginLeft:function(){return L(),at},scrollboxSize:function(){return L(),de},reliableTrDimensions:function(){var Gt,Jt,Vt,bn;return Se==null&&(Gt=M.createElement("table"),Jt=M.createElement("tr"),Vt=M.createElement("div"),Gt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Jt.style.cssText="box-sizing:content-box;border:1px solid",Jt.style.height="1px",Vt.style.height="9px",Vt.style.display="block",xe.appendChild(Gt).appendChild(Jt).appendChild(Vt),bn=t.getComputedStyle(Jt),Se=parseInt(bn.height,10)+parseInt(bn.borderTopWidth,10)+parseInt(bn.borderBottomWidth,10)===Jt.offsetHeight,xe.removeChild(Gt)),Se}}))})();function Qn(L,F,Y){var ne,de,me,Se,at=br.test(F),et=L.style;return Y=Y||Lt(L),Y&&(Se=Y.getPropertyValue(F)||Y[F],at&&Se&&(Se=Se.replace(ae,"$1")||void 0),Se===""&&!Ke(L)&&(Se=E.style(L,F)),!w.pixelBoxStyles()&&Ar.test(Se)&&Gn.test(F)&&(ne=et.width,de=et.minWidth,me=et.maxWidth,et.minWidth=et.maxWidth=et.width=Se,Se=Y.width,et.width=ne,et.minWidth=de,et.maxWidth=me)),Se!==void 0?Se+"":Se}function Nr(L,F){return{get:function(){if(L()){delete this.get;return}return(this.get=F).apply(this,arguments)}}}var Sr=["Webkit","Moz","ms"],Bs=M.createElement("div").style,Ti={};function jo(L){for(var F=L[0].toUpperCase()+L.slice(1),Y=Sr.length;Y--;)if(L=Sr[Y]+F,L in Bs)return L}function Xl(L){var F=E.cssProps[L]||Ti[L];return F||(L in Bs?L:Ti[L]=jo(L)||L)}var zs=/^(none|table(?!-c[ea]).+)/,Zl={position:"absolute",visibility:"hidden",display:"block"},ea={letterSpacing:"0",fontWeight:"400"};function vs(L,F,Y){var ne=Tt.exec(F);return ne?Math.max(0,ne[2]-(Y||0))+(ne[3]||"px"):F}function Jl(L,F,Y,ne,de,me){var Se=F==="width"?1:0,at=0,et=0,St=0;if(Y===(ne?"border":"content"))return 0;for(;Se<4;Se+=2)Y==="margin"&&(St+=E.css(L,Y+je[Se],!0,de)),ne?(Y==="content"&&(et-=E.css(L,"padding"+je[Se],!0,de)),Y!=="margin"&&(et-=E.css(L,"border"+je[Se]+"Width",!0,de))):(et+=E.css(L,"padding"+je[Se],!0,de),Y!=="padding"?et+=E.css(L,"border"+je[Se]+"Width",!0,de):at+=E.css(L,"border"+je[Se]+"Width",!0,de));return!ne&&me>=0&&(et+=Math.max(0,Math.ceil(L["offset"+F[0].toUpperCase()+F.slice(1)]-me-et-at-.5))||0),et+St}function Ma(L,F,Y){var ne=Lt(L),de=!w.boxSizingReliable()||Y,me=de&&E.css(L,"boxSizing",!1,ne)==="border-box",Se=me,at=Qn(L,F,ne),et="offset"+F[0].toUpperCase()+F.slice(1);if(Ar.test(at)){if(!Y)return at;at="auto"}return(!w.boxSizingReliable()&&me||!w.reliableTrDimensions()&&N(L,"tr")||at==="auto"||!parseFloat(at)&&E.css(L,"display",!1,ne)==="inline")&&L.getClientRects().length&&(me=E.css(L,"boxSizing",!1,ne)==="border-box",Se=et in L,Se&&(at=L[et])),at=parseFloat(at)||0,at+Jl(L,F,Y||(me?"border":"content"),Se,ne,at)+"px"}E.extend({cssHooks:{opacity:{get:function(L,F){if(F){var Y=Qn(L,"opacity");return Y===""?"1":Y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(L,F,Y,ne){if(!(!L||L.nodeType===3||L.nodeType===8||!L.style)){var de,me,Se,at=Me(F),et=br.test(F),St=L.style;if(et||(F=Xl(at)),Se=E.cssHooks[F]||E.cssHooks[at],Y!==void 0){if(me=typeof Y,me==="string"&&(de=Tt.exec(Y))&&de[1]&&(Y=an(L,F,de),me="number"),Y==null||Y!==Y)return;me==="number"&&!et&&(Y+=de&&de[3]||(E.cssNumber[at]?"":"px")),!w.clearCloneStyle&&Y===""&&F.indexOf("background")===0&&(St[F]="inherit"),(!Se||!("set"in Se)||(Y=Se.set(L,Y,ne))!==void 0)&&(et?St.setProperty(F,Y):St[F]=Y)}else return Se&&"get"in Se&&(de=Se.get(L,!1,ne))!==void 0?de:St[F]}},css:function(L,F,Y,ne){var de,me,Se,at=Me(F),et=br.test(F);return et||(F=Xl(at)),Se=E.cssHooks[F]||E.cssHooks[at],Se&&"get"in Se&&(de=Se.get(L,!0,Y)),de===void 0&&(de=Qn(L,F,ne)),de==="normal"&&F in ea&&(de=ea[F]),Y===""||Y?(me=parseFloat(de),Y===!0||isFinite(me)?me||0:de):de}}),E.each(["height","width"],function(L,F){E.cssHooks[F]={get:function(Y,ne,de){if(ne)return zs.test(E.css(Y,"display"))&&(!Y.getClientRects().length||!Y.getBoundingClientRect().width)?hn(Y,Zl,function(){return Ma(Y,F,de)}):Ma(Y,F,de)},set:function(Y,ne,de){var me,Se=Lt(Y),at=!w.scrollboxSize()&&Se.position==="absolute",et=at||de,St=et&&E.css(Y,"boxSizing",!1,Se)==="border-box",Gt=de?Jl(Y,F,de,St,Se):0;return St&&at&&(Gt-=Math.ceil(Y["offset"+F[0].toUpperCase()+F.slice(1)]-parseFloat(Se[F])-Jl(Y,F,"border",!1,Se)-.5)),Gt&&(me=Tt.exec(ne))&&(me[3]||"px")!=="px"&&(Y.style[F]=ne,ne=E.css(Y,F)),vs(Y,ne,Gt)}}}),E.cssHooks.marginLeft=Nr(w.reliableMarginLeft,function(L,F){if(F)return(parseFloat(Qn(L,"marginLeft"))||L.getBoundingClientRect().left-hn(L,{marginLeft:0},function(){return L.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(L,F){E.cssHooks[L+F]={expand:function(Y){for(var ne=0,de={},me=typeof Y=="string"?Y.split(" "):[Y];ne<4;ne++)de[L+je[ne]+F]=me[ne]||me[ne-2]||me[0];return de}},L!=="margin"&&(E.cssHooks[L+F].set=vs)}),E.fn.extend({css:function(L,F){return ot(this,function(Y,ne,de){var me,Se,at={},et=0;if(Array.isArray(ne)){for(me=Lt(Y),Se=ne.length;et<Se;et++)at[ne[et]]=E.css(Y,ne[et],!1,me);return at}return de!==void 0?E.style(Y,ne,de):E.css(Y,ne)},L,F,arguments.length>1)}});function fa(L,F,Y,ne,de){return new fa.prototype.init(L,F,Y,ne,de)}E.Tween=fa,fa.prototype={constructor:fa,init:function(L,F,Y,ne,de,me){this.elem=L,this.prop=Y,this.easing=de||E.easing._default,this.options=F,this.start=this.now=this.cur(),this.end=ne,this.unit=me||(E.cssNumber[Y]?"":"px")},cur:function(){var L=fa.propHooks[this.prop];return L&&L.get?L.get(this):fa.propHooks._default.get(this)},run:function(L){var F,Y=fa.propHooks[this.prop];return this.options.duration?this.pos=F=E.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=F=L,this.now=(this.end-this.start)*F+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Y&&Y.set?Y.set(this):fa.propHooks._default.set(this),this}},fa.prototype.init.prototype=fa.prototype,fa.propHooks={_default:{get:function(L){var F;return L.elem.nodeType!==1||L.elem[L.prop]!=null&&L.elem.style[L.prop]==null?L.elem[L.prop]:(F=E.css(L.elem,L.prop,""),!F||F==="auto"?0:F)},set:function(L){E.fx.step[L.prop]?E.fx.step[L.prop](L):L.elem.nodeType===1&&(E.cssHooks[L.prop]||L.elem.style[Xl(L.prop)]!=null)?E.style(L.elem,L.prop,L.now+L.unit):L.elem[L.prop]=L.now}}},fa.propHooks.scrollTop=fa.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},E.easing={linear:function(L){return L},swing:function(L){return .5-Math.cos(L*Math.PI)/2},_default:"swing"},E.fx=fa.prototype.init,E.fx.step={};var cl,Ql,Ld=/^(?:toggle|show|hide)$/,Rd=/queueHooks$/;function Tc(){Ql&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Tc):t.setTimeout(Tc,E.fx.interval),E.fx.tick())}function eu(){return t.setTimeout(function(){cl=void 0}),cl=Date.now()}function Vs(L,F){var Y,ne=0,de={height:L};for(F=F?1:0;ne<4;ne+=2-F)Y=je[ne],de["margin"+Y]=de["padding"+Y]=L;return F&&(de.opacity=de.width=L),de}function Ac(L,F,Y){for(var ne,de=(qo.tweeners[F]||[]).concat(qo.tweeners["*"]),me=0,Se=de.length;me<Se;me++)if(ne=de[me].call(Y,F,L))return ne}function Vm(L,F,Y){var ne,de,me,Se,at,et,St,Gt,Jt="width"in F||"height"in F,Vt=this,bn={},Lr=L.style,ii=L.nodeType&&wt(L),Br=qe.get(L,"fxshow");Y.queue||(Se=E._queueHooks(L,"fx"),Se.unqueued==null&&(Se.unqueued=0,at=Se.empty.fire,Se.empty.fire=function(){Se.unqueued||at()}),Se.unqueued++,Vt.always(function(){Vt.always(function(){Se.unqueued--,E.queue(L,"fx").length||Se.empty.fire()})}));for(ne in F)if(de=F[ne],Ld.test(de)){if(delete F[ne],me=me||de==="toggle",de===(ii?"hide":"show"))if(de==="show"&&Br&&Br[ne]!==void 0)ii=!0;else continue;bn[ne]=Br&&Br[ne]||E.style(L,ne)}if(et=!E.isEmptyObject(F),!(!et&&E.isEmptyObject(bn))){Jt&&L.nodeType===1&&(Y.overflow=[Lr.overflow,Lr.overflowX,Lr.overflowY],St=Br&&Br.display,St==null&&(St=qe.get(L,"display")),Gt=E.css(L,"display"),Gt==="none"&&(St?Gt=St:(en([L],!0),St=L.style.display||St,Gt=E.css(L,"display"),en([L]))),(Gt==="inline"||Gt==="inline-block"&&St!=null)&&E.css(L,"float")==="none"&&(et||(Vt.done(function(){Lr.display=St}),St==null&&(Gt=Lr.display,St=Gt==="none"?"":Gt)),Lr.display="inline-block")),Y.overflow&&(Lr.overflow="hidden",Vt.always(function(){Lr.overflow=Y.overflow[0],Lr.overflowX=Y.overflow[1],Lr.overflowY=Y.overflow[2]})),et=!1;for(ne in bn)et||(Br?"hidden"in Br&&(ii=Br.hidden):Br=qe.access(L,"fxshow",{display:St}),me&&(Br.hidden=!ii),ii&&en([L],!0),Vt.done(function(){ii||en([L]),qe.remove(L,"fxshow");for(ne in bn)E.style(L,ne,bn[ne])})),et=Ac(ii?Br[ne]:0,ne,Vt),ne in Br||(Br[ne]=et.start,ii&&(et.end=et.start,et.start=0))}}function Y0(L,F){var Y,ne,de,me,Se;for(Y in L)if(ne=Me(Y),de=F[ne],me=L[Y],Array.isArray(me)&&(de=me[1],me=L[Y]=me[0]),Y!==ne&&(L[ne]=me,delete L[Y]),Se=E.cssHooks[ne],Se&&"expand"in Se){me=Se.expand(me),delete L[ne];for(Y in me)Y in L||(L[Y]=me[Y],F[Y]=de)}else F[ne]=de}function qo(L,F,Y){var ne,de,me=0,Se=qo.prefilters.length,at=E.Deferred().always(function(){delete et.elem}),et=function(){if(de)return!1;for(var Jt=cl||eu(),Vt=Math.max(0,St.startTime+St.duration-Jt),bn=Vt/St.duration||0,Lr=1-bn,ii=0,Br=St.tweens.length;ii<Br;ii++)St.tweens[ii].run(Lr);return at.notifyWith(L,[St,Lr,Vt]),Lr<1&&Br?Vt:(Br||at.notifyWith(L,[St,1,0]),at.resolveWith(L,[St]),!1)},St=at.promise({elem:L,props:E.extend({},F),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},Y),originalProperties:F,originalOptions:Y,startTime:cl||eu(),duration:Y.duration,tweens:[],createTween:function(Jt,Vt){var bn=E.Tween(L,St.opts,Jt,Vt,St.opts.specialEasing[Jt]||St.opts.easing);return St.tweens.push(bn),bn},stop:function(Jt){var Vt=0,bn=Jt?St.tweens.length:0;if(de)return this;for(de=!0;Vt<bn;Vt++)St.tweens[Vt].run(1);return Jt?(at.notifyWith(L,[St,1,0]),at.resolveWith(L,[St,Jt])):at.rejectWith(L,[St,Jt]),this}}),Gt=St.props;for(Y0(Gt,St.opts.specialEasing);me<Se;me++)if(ne=qo.prefilters[me].call(St,L,Gt,St.opts),ne)return g(ne.stop)&&(E._queueHooks(St.elem,St.opts.queue).stop=ne.stop.bind(ne)),ne;return E.map(Gt,Ac,St),g(St.opts.start)&&St.opts.start.call(L,St),St.progress(St.opts.progress).done(St.opts.done,St.opts.complete).fail(St.opts.fail).always(St.opts.always),E.fx.timer(E.extend(et,{elem:L,anim:St,queue:St.opts.queue})),St}E.Animation=E.extend(qo,{tweeners:{"*":[function(L,F){var Y=this.createTween(L,F);return an(Y.elem,L,Tt.exec(F),Y),Y}]},tweener:function(L,F){g(L)?(F=L,L=["*"]):L=L.match(Xe);for(var Y,ne=0,de=L.length;ne<de;ne++)Y=L[ne],qo.tweeners[Y]=qo.tweeners[Y]||[],qo.tweeners[Y].unshift(F)},prefilters:[Vm],prefilter:function(L,F){F?qo.prefilters.unshift(L):qo.prefilters.push(L)}}),E.speed=function(L,F,Y){var ne=L&&typeof L=="object"?E.extend({},L):{complete:Y||!Y&&F||g(L)&&L,duration:L,easing:Y&&F||F&&!g(F)&&F};return E.fx.off?ne.duration=0:typeof ne.duration!="number"&&(ne.duration in E.fx.speeds?ne.duration=E.fx.speeds[ne.duration]:ne.duration=E.fx.speeds._default),(ne.queue==null||ne.queue===!0)&&(ne.queue="fx"),ne.old=ne.complete,ne.complete=function(){g(ne.old)&&ne.old.call(this),ne.queue&&E.dequeue(this,ne.queue)},ne},E.fn.extend({fadeTo:function(L,F,Y,ne){return this.filter(wt).css("opacity",0).show().end().animate({opacity:F},L,Y,ne)},animate:function(L,F,Y,ne){var de=E.isEmptyObject(L),me=E.speed(F,Y,ne),Se=function(){var at=qo(this,E.extend({},L),me);(de||qe.get(this,"finish"))&&at.stop(!0)};return Se.finish=Se,de||me.queue===!1?this.each(Se):this.queue(me.queue,Se)},stop:function(L,F,Y){var ne=function(de){var me=de.stop;delete de.stop,me(Y)};return typeof L!="string"&&(Y=F,F=L,L=void 0),F&&this.queue(L||"fx",[]),this.each(function(){var de=!0,me=L!=null&&L+"queueHooks",Se=E.timers,at=qe.get(this);if(me)at[me]&&at[me].stop&&ne(at[me]);else for(me in at)at[me]&&at[me].stop&&Rd.test(me)&&ne(at[me]);for(me=Se.length;me--;)Se[me].elem===this&&(L==null||Se[me].queue===L)&&(Se[me].anim.stop(Y),de=!1,Se.splice(me,1));(de||!Y)&&E.dequeue(this,L)})},finish:function(L){return L!==!1&&(L=L||"fx"),this.each(function(){var F,Y=qe.get(this),ne=Y[L+"queue"],de=Y[L+"queueHooks"],me=E.timers,Se=ne?ne.length:0;for(Y.finish=!0,E.queue(this,L,[]),de&&de.stop&&de.stop.call(this,!0),F=me.length;F--;)me[F].elem===this&&me[F].queue===L&&(me[F].anim.stop(!0),me.splice(F,1));for(F=0;F<Se;F++)ne[F]&&ne[F].finish&&ne[F].finish.call(this);delete Y.finish})}}),E.each(["toggle","show","hide"],function(L,F){var Y=E.fn[F];E.fn[F]=function(ne,de,me){return ne==null||typeof ne=="boolean"?Y.apply(this,arguments):this.animate(Vs(F,!0),ne,de,me)}}),E.each({slideDown:Vs("show"),slideUp:Vs("hide"),slideToggle:Vs("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(L,F){E.fn[L]=function(Y,ne,de){return this.animate(F,Y,ne,de)}}),E.timers=[],E.fx.tick=function(){var L,F=0,Y=E.timers;for(cl=Date.now();F<Y.length;F++)L=Y[F],!L()&&Y[F]===L&&Y.splice(F--,1);Y.length||E.fx.stop(),cl=void 0},E.fx.timer=function(L){E.timers.push(L),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Ql||(Ql=!0,Tc())},E.fx.stop=function(){Ql=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(L,F){return L=E.fx&&E.fx.speeds[L]||L,F=F||"fx",this.queue(F,function(Y,ne){var de=t.setTimeout(Y,L);ne.stop=function(){t.clearTimeout(de)}})},function(){var L=M.createElement("input"),F=M.createElement("select"),Y=F.appendChild(M.createElement("option"));L.type="checkbox",w.checkOn=L.value!=="",w.optSelected=Y.selected,L=M.createElement("input"),L.value="t",L.type="radio",w.radioValue=L.value==="t"}();var Lc,Rc=E.expr.attrHandle;E.fn.extend({attr:function(L,F){return ot(this,E.attr,L,F,arguments.length>1)},removeAttr:function(L){return this.each(function(){E.removeAttr(this,L)})}}),E.extend({attr:function(L,F,Y){var ne,de,me=L.nodeType;if(!(me===3||me===8||me===2)){if(typeof L.getAttribute>"u")return E.prop(L,F,Y);if((me!==1||!E.isXMLDoc(L))&&(de=E.attrHooks[F.toLowerCase()]||(E.expr.match.bool.test(F)?Lc:void 0)),Y!==void 0){if(Y===null){E.removeAttr(L,F);return}return de&&"set"in de&&(ne=de.set(L,Y,F))!==void 0?ne:(L.setAttribute(F,Y+""),Y)}return de&&"get"in de&&(ne=de.get(L,F))!==null?ne:(ne=E.find.attr(L,F),ne==null?void 0:ne)}},attrHooks:{type:{set:function(L,F){if(!w.radioValue&&F==="radio"&&N(L,"input")){var Y=L.value;return L.setAttribute("type",F),Y&&(L.value=Y),F}}}},removeAttr:function(L,F){var Y,ne=0,de=F&&F.match(Xe);if(de&&L.nodeType===1)for(;Y=de[ne++];)L.removeAttribute(Y)}}),Lc={set:function(L,F,Y){return F===!1?E.removeAttr(L,Y):L.setAttribute(Y,Y),Y}},E.each(E.expr.match.bool.source.match(/\w+/g),function(L,F){var Y=Rc[F]||E.find.attr;Rc[F]=function(ne,de,me){var Se,at,et=de.toLowerCase();return me||(at=Rc[et],Rc[et]=Se,Se=Y(ne,de,me)!=null?et:null,Rc[et]=at),Se}});var Um=/^(?:input|select|textarea|button)$/i,X0=/^(?:a|area)$/i;E.fn.extend({prop:function(L,F){return ot(this,E.prop,L,F,arguments.length>1)},removeProp:function(L){return this.each(function(){delete this[E.propFix[L]||L]})}}),E.extend({prop:function(L,F,Y){var ne,de,me=L.nodeType;if(!(me===3||me===8||me===2))return(me!==1||!E.isXMLDoc(L))&&(F=E.propFix[F]||F,de=E.propHooks[F]),Y!==void 0?de&&"set"in de&&(ne=de.set(L,Y,F))!==void 0?ne:L[F]=Y:de&&"get"in de&&(ne=de.get(L,F))!==null?ne:L[F]},propHooks:{tabIndex:{get:function(L){var F=E.find.attr(L,"tabindex");return F?parseInt(F,10):Um.test(L.nodeName)||X0.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(E.propHooks.selected={get:function(L){var F=L.parentNode;return F&&F.parentNode&&F.parentNode.selectedIndex,null},set:function(L){var F=L.parentNode;F&&(F.selectedIndex,F.parentNode&&F.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Bu(L){var F=L.match(Xe)||[];return F.join(" ")}function tu(L){return L.getAttribute&&L.getAttribute("class")||""}function dh(L){return Array.isArray(L)?L:typeof L=="string"?L.match(Xe)||[]:[]}E.fn.extend({addClass:function(L){var F,Y,ne,de,me,Se;return g(L)?this.each(function(at){E(this).addClass(L.call(this,at,tu(this)))}):(F=dh(L),F.length?this.each(function(){if(ne=tu(this),Y=this.nodeType===1&&" "+Bu(ne)+" ",Y){for(me=0;me<F.length;me++)de=F[me],Y.indexOf(" "+de+" ")<0&&(Y+=de+" ");Se=Bu(Y),ne!==Se&&this.setAttribute("class",Se)}}):this)},removeClass:function(L){var F,Y,ne,de,me,Se;return g(L)?this.each(function(at){E(this).removeClass(L.call(this,at,tu(this)))}):arguments.length?(F=dh(L),F.length?this.each(function(){if(ne=tu(this),Y=this.nodeType===1&&" "+Bu(ne)+" ",Y){for(me=0;me<F.length;me++)for(de=F[me];Y.indexOf(" "+de+" ")>-1;)Y=Y.replace(" "+de+" "," ");Se=Bu(Y),ne!==Se&&this.setAttribute("class",Se)}}):this):this.attr("class","")},toggleClass:function(L,F){var Y,ne,de,me,Se=typeof L,at=Se==="string"||Array.isArray(L);return g(L)?this.each(function(et){E(this).toggleClass(L.call(this,et,tu(this),F),F)}):typeof F=="boolean"&&at?F?this.addClass(L):this.removeClass(L):(Y=dh(L),this.each(function(){if(at)for(me=E(this),de=0;de<Y.length;de++)ne=Y[de],me.hasClass(ne)?me.removeClass(ne):me.addClass(ne);else(L===void 0||Se==="boolean")&&(ne=tu(this),ne&&qe.set(this,"__className__",ne),this.setAttribute&&this.setAttribute("class",ne||L===!1?"":qe.get(this,"__className__")||""))}))},hasClass:function(L){var F,Y,ne=0;for(F=" "+L+" ";Y=this[ne++];)if(Y.nodeType===1&&(" "+Bu(tu(Y))+" ").indexOf(F)>-1)return!0;return!1}});var Z0=/\r/g;E.fn.extend({val:function(L){var F,Y,ne,de=this[0];return arguments.length?(ne=g(L),this.each(function(me){var Se;this.nodeType===1&&(ne?Se=L.call(this,me,E(this).val()):Se=L,Se==null?Se="":typeof Se=="number"?Se+="":Array.isArray(Se)&&(Se=E.map(Se,function(at){return at==null?"":at+""})),F=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!F||!("set"in F)||F.set(this,Se,"value")===void 0)&&(this.value=Se))})):de?(F=E.valHooks[de.type]||E.valHooks[de.nodeName.toLowerCase()],F&&"get"in F&&(Y=F.get(de,"value"))!==void 0?Y:(Y=de.value,typeof Y=="string"?Y.replace(Z0,""):Y==null?"":Y)):void 0}}),E.extend({valHooks:{option:{get:function(L){var F=E.find.attr(L,"value");return F!=null?F:Bu(E.text(L))}},select:{get:function(L){var F,Y,ne,de=L.options,me=L.selectedIndex,Se=L.type==="select-one",at=Se?null:[],et=Se?me+1:de.length;for(me<0?ne=et:ne=Se?me:0;ne<et;ne++)if(Y=de[ne],(Y.selected||ne===me)&&!Y.disabled&&(!Y.parentNode.disabled||!N(Y.parentNode,"optgroup"))){if(F=E(Y).val(),Se)return F;at.push(F)}return at},set:function(L,F){for(var Y,ne,de=L.options,me=E.makeArray(F),Se=de.length;Se--;)ne=de[Se],(ne.selected=E.inArray(E.valHooks.option.get(ne),me)>-1)&&(Y=!0);return Y||(L.selectedIndex=-1),me}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(L,F){if(Array.isArray(F))return L.checked=E.inArray(E(L).val(),F)>-1}},w.checkOn||(E.valHooks[this].get=function(L){return L.getAttribute("value")===null?"on":L.value})});var Pc=t.location,Hm={guid:Date.now()},kc=/\?/;E.parseXML=function(L){var F,Y;if(!L||typeof L!="string")return null;try{F=new t.DOMParser().parseFromString(L,"text/xml")}catch(ne){}return Y=F&&F.getElementsByTagName("parsererror")[0],(!F||Y)&&E.error("Invalid XML: "+(Y?E.map(Y.childNodes,function(ne){return ne.textContent}).join("\n"):L)),F};var $m=/^(?:focusinfocus|focusoutblur)$/,Rr=function(L){L.stopPropagation()};E.extend(E.event,{trigger:function(L,F,Y,ne){var de,me,Se,at,et,St,Gt,Jt,Vt=[Y||M],bn=v.call(L,"type")?L.type:L,Lr=v.call(L,"namespace")?L.namespace.split("."):[];if(me=Jt=Se=Y=Y||M,!(Y.nodeType===3||Y.nodeType===8)&&!$m.test(bn+E.event.triggered)&&(bn.indexOf(".")>-1&&(Lr=bn.split("."),bn=Lr.shift(),Lr.sort()),et=bn.indexOf(":")<0&&"on"+bn,L=L[E.expando]?L:new E.Event(bn,typeof L=="object"&&L),L.isTrigger=ne?2:3,L.namespace=Lr.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+Lr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=Y),F=F==null?[L]:E.makeArray(F,[L]),Gt=E.event.special[bn]||{},!(!ne&&Gt.trigger&&Gt.trigger.apply(Y,F)===!1))){if(!ne&&!Gt.noBubble&&!x(Y)){for(at=Gt.delegateType||bn,$m.test(at+bn)||(me=me.parentNode);me;me=me.parentNode)Vt.push(me),Se=me;Se===(Y.ownerDocument||M)&&Vt.push(Se.defaultView||Se.parentWindow||t)}for(de=0;(me=Vt[de++])&&!L.isPropagationStopped();)Jt=me,L.type=de>1?at:Gt.bindType||bn,St=(qe.get(me,"events")||Object.create(null))[L.type]&&qe.get(me,"handle"),St&&St.apply(me,F),St=et&&me[et],St&&St.apply&&ve(me)&&(L.result=St.apply(me,F),L.result===!1&&L.preventDefault());return L.type=bn,!ne&&!L.isDefaultPrevented()&&(!Gt._default||Gt._default.apply(Vt.pop(),F)===!1)&&ve(Y)&&et&&g(Y[bn])&&!x(Y)&&(Se=Y[et],Se&&(Y[et]=null),E.event.triggered=bn,L.isPropagationStopped()&&Jt.addEventListener(bn,Rr),Y[bn](),L.isPropagationStopped()&&Jt.removeEventListener(bn,Rr),E.event.triggered=void 0,Se&&(Y[et]=Se)),L.result}},simulate:function(L,F,Y){var ne=E.extend(new E.Event,Y,{type:L,isSimulated:!0});E.event.trigger(ne,null,F)}}),E.fn.extend({trigger:function(L,F){return this.each(function(){E.event.trigger(L,F,this)})},triggerHandler:function(L,F){var Y=this[0];if(Y)return E.event.trigger(L,F,Y,!0)}});var gn=/\[\]$/,gr=/\r?\n/g,ha=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;function Ea(L,F,Y,ne){var de;if(Array.isArray(F))E.each(F,function(me,Se){Y||gn.test(L)?ne(L,Se):Ea(L+"["+(typeof Se=="object"&&Se!=null?me:"")+"]",Se,Y,ne)});else if(!Y&&T(F)==="object")for(de in F)Ea(L+"["+de+"]",F[de],Y,ne);else ne(L,F)}E.param=function(L,F){var Y,ne=[],de=function(me,Se){var at=g(Se)?Se():Se;ne[ne.length]=encodeURIComponent(me)+"="+encodeURIComponent(at==null?"":at)};if(L==null)return"";if(Array.isArray(L)||L.jquery&&!E.isPlainObject(L))E.each(L,function(){de(this.name,this.value)});else for(Y in L)Ea(Y,L[Y],F,de);return ne.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var L=E.prop(this,"elements");return L?E.makeArray(L):this}).filter(function(){var L=this.type;return this.name&&!E(this).is(":disabled")&&Ve.test(this.nodeName)&&!ha.test(L)&&(this.checked||!_n.test(L))}).map(function(L,F){var Y=E(this).val();return Y==null?null:Array.isArray(Y)?E.map(Y,function(ne){return{name:F.name,value:ne.replace(gr,"\r\n")}}):{name:F.name,value:Y.replace(gr,"\r\n")}}).get()}});var nu=/%20/g,e1=/#.*$/,zi=/([?&])_=[^&]*/,yi=/^(.*?):[ \t]*([^\r\n]*)$/mg,zu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ic=/^(?:GET|HEAD)$/,Vu=/^\/\//,Us={},Ao={},gs="*/".concat("*"),Oc=M.createElement("a");Oc.href=Pc.href;function J0(L){return function(F,Y){typeof F!="string"&&(Y=F,F="*");var ne,de=0,me=F.toLowerCase().match(Xe)||[];if(g(Y))for(;ne=me[de++];)ne[0]==="+"?(ne=ne.slice(1)||"*",(L[ne]=L[ne]||[]).unshift(Y)):(L[ne]=L[ne]||[]).push(Y)}}function Q0(L,F,Y,ne){var de={},me=L===Ao;function Se(at){var et;return de[at]=!0,E.each(L[at]||[],function(St,Gt){var Jt=Gt(F,Y,ne);if(typeof Jt=="string"&&!me&&!de[Jt])return F.dataTypes.unshift(Jt),Se(Jt),!1;if(me)return!(et=Jt)}),et}return Se(F.dataTypes[0])||!de["*"]&&Se("*")}function Gm(L,F){var Y,ne,de=E.ajaxSettings.flatOptions||{};for(Y in F)F[Y]!==void 0&&((de[Y]?L:ne||(ne={}))[Y]=F[Y]);return ne&&E.extend(!0,L,ne),L}function t1(L,F,Y){for(var ne,de,me,Se,at=L.contents,et=L.dataTypes;et[0]==="*";)et.shift(),ne===void 0&&(ne=L.mimeType||F.getResponseHeader("Content-Type"));if(ne){for(de in at)if(at[de]&&at[de].test(ne)){et.unshift(de);break}}if(et[0]in Y)me=et[0];else{for(de in Y){if(!et[0]||L.converters[de+" "+et[0]]){me=de;break}Se||(Se=de)}me=me||Se}if(me)return me!==et[0]&&et.unshift(me),Y[me]}function n1(L,F,Y,ne){var de,me,Se,at,et,St={},Gt=L.dataTypes.slice();if(Gt[1])for(Se in L.converters)St[Se.toLowerCase()]=L.converters[Se];for(me=Gt.shift();me;)if(L.responseFields[me]&&(Y[L.responseFields[me]]=F),!et&&ne&&L.dataFilter&&(F=L.dataFilter(F,L.dataType)),et=me,me=Gt.shift(),me){if(me==="*")me=et;else if(et!=="*"&&et!==me){if(Se=St[et+" "+me]||St["* "+me],!Se){for(de in St)if(at=de.split(" "),at[1]===me&&(Se=St[et+" "+at[0]]||St["* "+at[0]],Se)){Se===!0?Se=St[de]:St[de]!==!0&&(me=at[0],Gt.unshift(at[1]));break}}if(Se!==!0)if(Se&&L.throws)F=Se(F);else try{F=Se(F)}catch(Jt){return{state:"parsererror",error:Se?Jt:"No conversion from "+et+" to "+me}}}}return{state:"success",data:F}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pc.href,type:"GET",isLocal:zu.test(Pc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,F){return F?Gm(Gm(L,E.ajaxSettings),F):Gm(E.ajaxSettings,L)},ajaxPrefilter:J0(Us),ajaxTransport:J0(Ao),ajax:function(L,F){typeof L=="object"&&(F=L,L=void 0),F=F||{};var Y,ne,de,me,Se,at,et,St,Gt,Jt,Vt=E.ajaxSetup({},F),bn=Vt.context||Vt,Lr=Vt.context&&(bn.nodeType||bn.jquery)?E(bn):E.event,ii=E.Deferred(),Br=E.Callbacks("once memory"),Ca=Vt.statusCode||{},pa={},Hs={},$s="canceled",Xr={readyState:0,getResponseHeader:function(si){var qi;if(et){if(!me)for(me={};qi=yi.exec(de);)me[qi[1].toLowerCase()+" "]=(me[qi[1].toLowerCase()+" "]||[]).concat(qi[2]);qi=me[si.toLowerCase()+" "]}return qi==null?null:qi.join(", ")},getAllResponseHeaders:function(){return et?de:null},setRequestHeader:function(si,qi){return et==null&&(si=Hs[si.toLowerCase()]=Hs[si.toLowerCase()]||si,pa[si]=qi),this},overrideMimeType:function(si){return et==null&&(Vt.mimeType=si),this},statusCode:function(si){var qi;if(si)if(et)Xr.always(si[Xr.status]);else for(qi in si)Ca[qi]=[Ca[qi],si[qi]];return this},abort:function(si){var qi=si||$s;return Y&&Y.abort(qi),Uu(0,qi),this}};if(ii.promise(Xr),Vt.url=((L||Vt.url||Pc.href)+"").replace(Vu,Pc.protocol+"//"),Vt.type=F.method||F.type||Vt.method||Vt.type,Vt.dataTypes=(Vt.dataType||"*").toLowerCase().match(Xe)||[""],Vt.crossDomain==null){at=M.createElement("a");try{at.href=Vt.url,at.href=at.href,Vt.crossDomain=Oc.protocol+"//"+Oc.host!=at.protocol+"//"+at.host}catch(si){Vt.crossDomain=!0}}if(Vt.data&&Vt.processData&&typeof Vt.data!="string"&&(Vt.data=E.param(Vt.data,Vt.traditional)),Q0(Us,Vt,F,Xr),et)return Xr;St=E.event&&Vt.global,St&&E.active++===0&&E.event.trigger("ajaxStart"),Vt.type=Vt.type.toUpperCase(),Vt.hasContent=!Ic.test(Vt.type),ne=Vt.url.replace(e1,""),Vt.hasContent?Vt.data&&Vt.processData&&(Vt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Vt.data=Vt.data.replace(nu,"+")):(Jt=Vt.url.slice(ne.length),Vt.data&&(Vt.processData||typeof Vt.data=="string")&&(ne+=(kc.test(ne)?"&":"?")+Vt.data,delete Vt.data),Vt.cache===!1&&(ne=ne.replace(zi,"$1"),Jt=(kc.test(ne)?"&":"?")+"_="+Hm.guid+++Jt),Vt.url=ne+Jt),Vt.ifModified&&(E.lastModified[ne]&&Xr.setRequestHeader("If-Modified-Since",E.lastModified[ne]),E.etag[ne]&&Xr.setRequestHeader("If-None-Match",E.etag[ne])),(Vt.data&&Vt.hasContent&&Vt.contentType!==!1||F.contentType)&&Xr.setRequestHeader("Content-Type",Vt.contentType),Xr.setRequestHeader("Accept",Vt.dataTypes[0]&&Vt.accepts[Vt.dataTypes[0]]?Vt.accepts[Vt.dataTypes[0]]+(Vt.dataTypes[0]!=="*"?", "+gs+"; q=0.01":""):Vt.accepts["*"]);for(Gt in Vt.headers)Xr.setRequestHeader(Gt,Vt.headers[Gt]);if(Vt.beforeSend&&(Vt.beforeSend.call(bn,Xr,Vt)===!1||et))return Xr.abort();if($s="abort",Br.add(Vt.complete),Xr.done(Vt.success),Xr.fail(Vt.error),Y=Q0(Ao,Vt,F,Xr),!Y)Uu(-1,"No Transport");else{if(Xr.readyState=1,St&&Lr.trigger("ajaxSend",[Xr,Vt]),et)return Xr;Vt.async&&Vt.timeout>0&&(Se=t.setTimeout(function(){Xr.abort("timeout")},Vt.timeout));try{et=!1,Y.send(pa,Uu)}catch(si){if(et)throw si;Uu(-1,si)}}function Uu(si,qi,kd,jm){var Gs,Id,Ws,ru,iu,Ko=qi;et||(et=!0,Se&&t.clearTimeout(Se),Y=void 0,de=jm||"",Xr.readyState=si>0?4:0,Gs=si>=200&&si<300||si===304,kd&&(ru=t1(Vt,Xr,kd)),!Gs&&E.inArray("script",Vt.dataTypes)>-1&&E.inArray("json",Vt.dataTypes)<0&&(Vt.converters["text script"]=function(){}),ru=n1(Vt,ru,Xr,Gs),Gs?(Vt.ifModified&&(iu=Xr.getResponseHeader("Last-Modified"),iu&&(E.lastModified[ne]=iu),iu=Xr.getResponseHeader("etag"),iu&&(E.etag[ne]=iu)),si===204||Vt.type==="HEAD"?Ko="nocontent":si===304?Ko="notmodified":(Ko=ru.state,Id=ru.data,Ws=ru.error,Gs=!Ws)):(Ws=Ko,(si||!Ko)&&(Ko="error",si<0&&(si=0))),Xr.status=si,Xr.statusText=(qi||Ko)+"",Gs?ii.resolveWith(bn,[Id,Ko,Xr]):ii.rejectWith(bn,[Xr,Ko,Ws]),Xr.statusCode(Ca),Ca=void 0,St&&Lr.trigger(Gs?"ajaxSuccess":"ajaxError",[Xr,Vt,Gs?Id:Ws]),Br.fireWith(bn,[Xr,Ko]),St&&(Lr.trigger("ajaxComplete",[Xr,Vt]),--E.active||E.event.trigger("ajaxStop")))}return Xr},getJSON:function(L,F,Y){return E.get(L,F,Y,"json")},getScript:function(L,F){return E.get(L,void 0,F,"script")}}),E.each(["get","post"],function(L,F){E[F]=function(Y,ne,de,me){return g(ne)&&(me=me||de,de=ne,ne=void 0),E.ajax(E.extend({url:Y,type:F,dataType:me,data:ne,success:de},E.isPlainObject(Y)&&Y))}}),E.ajaxPrefilter(function(L){var F;for(F in L.headers)F.toLowerCase()==="content-type"&&(L.contentType=L.headers[F]||"")}),E._evalUrl=function(L,F,Y){return E.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ne){E.globalEval(ne,F,Y)}})},E.fn.extend({wrapAll:function(L){var F;return this[0]&&(g(L)&&(L=L.call(this[0])),F=E(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&F.insertBefore(this[0]),F.map(function(){for(var Y=this;Y.firstElementChild;)Y=Y.firstElementChild;return Y}).append(this)),this},wrapInner:function(L){return g(L)?this.each(function(F){E(this).wrapInner(L.call(this,F))}):this.each(function(){var F=E(this),Y=F.contents();Y.length?Y.wrapAll(L):F.append(L)})},wrap:function(L){var F=g(L);return this.each(function(Y){E(this).wrapAll(F?L.call(this,Y):L)})},unwrap:function(L){return this.parent(L).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(L){return!E.expr.pseudos.visible(L)},E.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(L){}};var r1={0:200,1223:204},Pd=E.ajaxSettings.xhr();w.cors=!!Pd&&"withCredentials"in Pd,w.ajax=Pd=!!Pd,E.ajaxTransport(function(L){var F,Y;if(w.cors||Pd&&!L.crossDomain)return{send:function(ne,de){var me,Se=L.xhr();if(Se.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(me in L.xhrFields)Se[me]=L.xhrFields[me];L.mimeType&&Se.overrideMimeType&&Se.overrideMimeType(L.mimeType),!L.crossDomain&&!ne["X-Requested-With"]&&(ne["X-Requested-With"]="XMLHttpRequest");for(me in ne)Se.setRequestHeader(me,ne[me]);F=function(at){return function(){F&&(F=Y=Se.onload=Se.onerror=Se.onabort=Se.ontimeout=Se.onreadystatechange=null,at==="abort"?Se.abort():at==="error"?typeof Se.status!="number"?de(0,"error"):de(Se.status,Se.statusText):de(r1[Se.status]||Se.status,Se.statusText,(Se.responseType||"text")!=="text"||typeof Se.responseText!="string"?{binary:Se.response}:{text:Se.responseText},Se.getAllResponseHeaders()))}},Se.onload=F(),Y=Se.onerror=Se.ontimeout=F("error"),Se.onabort!==void 0?Se.onabort=Y:Se.onreadystatechange=function(){Se.readyState===4&&t.setTimeout(function(){F&&Y()})},F=F("abort");try{Se.send(L.hasContent&&L.data||null)}catch(at){if(F)throw at}},abort:function(){F&&F()}}}),E.ajaxPrefilter(function(L){L.crossDomain&&(L.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return E.globalEval(L),L}}}),E.ajaxPrefilter("script",function(L){L.cache===void 0&&(L.cache=!1),L.crossDomain&&(L.type="GET")}),E.ajaxTransport("script",function(L){if(L.crossDomain||L.scriptAttrs){var F,Y;return{send:function(ne,de){F=E("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",Y=function(me){F.remove(),Y=null,me&&de(me.type==="error"?404:200,me.type)}),M.head.appendChild(F[0])},abort:function(){Y&&Y()}}}});var ey=[],Wm=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=ey.pop()||E.expando+"_"+Hm.guid++;return this[L]=!0,L}}),E.ajaxPrefilter("json jsonp",function(L,F,Y){var ne,de,me,Se=L.jsonp!==!1&&(Wm.test(L.url)?"url":typeof L.data=="string"&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Wm.test(L.data)&&"data");if(Se||L.dataTypes[0]==="jsonp")return ne=L.jsonpCallback=g(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,Se?L[Se]=L[Se].replace(Wm,"$1"+ne):L.jsonp!==!1&&(L.url+=(kc.test(L.url)?"&":"?")+L.jsonp+"="+ne),L.converters["script json"]=function(){return me||E.error(ne+" was not called"),me[0]},L.dataTypes[0]="json",de=t[ne],t[ne]=function(){me=arguments},Y.always(function(){de===void 0?E(t).removeProp(ne):t[ne]=de,L[ne]&&(L.jsonpCallback=F.jsonpCallback,ey.push(ne)),me&&g(de)&&de(me[0]),me=de=void 0}),"script"}),w.createHTMLDocument=function(){var L=M.implementation.createHTMLDocument("").body;return L.innerHTML="<form></form><form></form>",L.childNodes.length===2}(),E.parseHTML=function(L,F,Y){if(typeof L!="string")return[];typeof F=="boolean"&&(Y=F,F=!1);var ne,de,me;return F||(w.createHTMLDocument?(F=M.implementation.createHTMLDocument(""),ne=F.createElement("base"),ne.href=M.location.href,F.head.appendChild(ne)):F=M),de=he.exec(L),me=!Y&&[],de?[F.createElement(de[1])]:(de=Qi([L],F,me),me&&me.length&&E(me).remove(),E.merge([],de.childNodes))},E.fn.load=function(L,F,Y){var ne,de,me,Se=this,at=L.indexOf(" ");return at>-1&&(ne=Bu(L.slice(at)),L=L.slice(0,at)),g(F)?(Y=F,F=void 0):F&&typeof F=="object"&&(de="POST"),Se.length>0&&E.ajax({url:L,type:de||"GET",dataType:"html",data:F}).done(function(et){me=arguments,Se.html(ne?E("<div>").append(E.parseHTML(et)).find(ne):et)}).always(Y&&function(et,St){Se.each(function(){Y.apply(this,me||[et.responseText,St,et])})}),this},E.expr.pseudos.animated=function(L){return E.grep(E.timers,function(F){return L===F.elem}).length},E.offset={setOffset:function(L,F,Y){var ne,de,me,Se,at,et,St,Gt=E.css(L,"position"),Jt=E(L),Vt={};Gt==="static"&&(L.style.position="relative"),at=Jt.offset(),me=E.css(L,"top"),et=E.css(L,"left"),St=(Gt==="absolute"||Gt==="fixed")&&(me+et).indexOf("auto")>-1,St?(ne=Jt.position(),Se=ne.top,de=ne.left):(Se=parseFloat(me)||0,de=parseFloat(et)||0),g(F)&&(F=F.call(L,Y,E.extend({},at))),F.top!=null&&(Vt.top=F.top-at.top+Se),F.left!=null&&(Vt.left=F.left-at.left+de),"using"in F?F.using.call(L,Vt):Jt.css(Vt)}},E.fn.extend({offset:function(L){if(arguments.length)return L===void 0?this:this.each(function(de){E.offset.setOffset(this,L,de)});var F,Y,ne=this[0];if(ne)return ne.getClientRects().length?(F=ne.getBoundingClientRect(),Y=ne.ownerDocument.defaultView,{top:F.top+Y.pageYOffset,left:F.left+Y.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var L,F,Y,ne=this[0],de={top:0,left:0};if(E.css(ne,"position")==="fixed")F=ne.getBoundingClientRect();else{for(F=this.offset(),Y=ne.ownerDocument,L=ne.offsetParent||Y.documentElement;L&&(L===Y.body||L===Y.documentElement)&&E.css(L,"position")==="static";)L=L.parentNode;L&&L!==ne&&L.nodeType===1&&(de=E(L).offset(),de.top+=E.css(L,"borderTopWidth",!0),de.left+=E.css(L,"borderLeftWidth",!0))}return{top:F.top-de.top-E.css(ne,"marginTop",!0),left:F.left-de.left-E.css(ne,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var L=this.offsetParent;L&&E.css(L,"position")==="static";)L=L.offsetParent;return L||xe})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(L,F){var Y=F==="pageYOffset";E.fn[L]=function(ne){return ot(this,function(de,me,Se){var at;if(x(de)?at=de:de.nodeType===9&&(at=de.defaultView),Se===void 0)return at?at[F]:de[me];at?at.scrollTo(Y?at.pageXOffset:Se,Y?Se:at.pageYOffset):de[me]=Se},L,ne,arguments.length)}}),E.each(["top","left"],function(L,F){E.cssHooks[F]=Nr(w.pixelPosition,function(Y,ne){if(ne)return ne=Qn(Y,F),Ar.test(ne)?E(Y).position()[F]+"px":ne})}),E.each({Height:"height",Width:"width"},function(L,F){E.each({padding:"inner"+L,content:F,"":"outer"+L},function(Y,ne){E.fn[ne]=function(de,me){var Se=arguments.length&&(Y||typeof de!="boolean"),at=Y||(de===!0||me===!0?"margin":"border");return ot(this,function(et,St,Gt){var Jt;return x(et)?ne.indexOf("outer")===0?et["inner"+L]:et.document.documentElement["client"+L]:et.nodeType===9?(Jt=et.documentElement,Math.max(et.body["scroll"+L],Jt["scroll"+L],et.body["offset"+L],Jt["offset"+L],Jt["client"+L])):Gt===void 0?E.css(et,St,at):E.style(et,St,Gt,at)},F,Se?de:void 0,Se)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(L,F){E.fn[F]=function(Y){return this.on(F,Y)}}),E.fn.extend({bind:function(L,F,Y){return this.on(L,null,F,Y)},unbind:function(L,F){return this.off(L,null,F)},delegate:function(L,F,Y,ne){return this.on(F,L,Y,ne)},undelegate:function(L,F,Y){return arguments.length===1?this.off(L,"**"):this.off(F,L||"**",Y)},hover:function(L,F){return this.on("mouseenter",L).on("mouseleave",F||L)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(L,F){E.fn[F]=function(Y,ne){return arguments.length>0?this.on(F,null,Y,ne):this.trigger(F)}});var i1=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(L,F){var Y,ne,de;if(typeof F=="string"&&(Y=L[F],F=L,L=Y),!!g(L))return ne=o.call(arguments,2),de=function(){return L.apply(F||this,ne.concat(o.call(arguments)))},de.guid=L.guid=L.guid||E.guid++,de},E.holdReady=function(L){L?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=N,E.isFunction=g,E.isWindow=x,E.camelCase=Me,E.type=T,E.now=Date.now,E.isNumeric=function(L){var F=E.type(L);return(F==="number"||F==="string")&&!isNaN(L-parseFloat(L))},E.trim=function(L){return L==null?"":(L+"").replace(i1,"$1")};var a1=t.jQuery,o1=t.$;return E.noConflict=function(L){return t.$===E&&(t.$=o1),L&&t.jQuery===E&&(t.jQuery=a1),E},typeof n>"u"&&(t.jQuery=t.$=E),E})}(Db)),Db.exports}var EW=MW();const CW=$l(EW),TW=xW(xn);xn.Math.angle2=function(e,t){var n=new xn.Vector2(e.x,e.y),r=new xn.Vector2(t.x,t.y);return r.sub(n),r.normalize(),r.y<0?-Math.acos(r.x):Math.acos(r.x)};xn.Math.polar=function(e,t,n){var r={};return r.x=e.x+t*Math.cos(n),r.y=e.y+t*Math.sin(n),r};xn.BulgeGeometry=function(e,t,n,r){var a,o,s,u,d,f,h,v,y;for(xn.Geometry.call(this),this.startPoint=u=e?new xn.Vector2(e.x,e.y):new xn.Vector2(0,0),this.endPoint=d=t?new xn.Vector2(t.x,t.y):new xn.Vector2(1,0),this.bulge=n=n||1,f=4*Math.atan(n),h=u.distanceTo(d)/2/Math.sin(f/2),s=xn.Math.polar(e,h,xn.Math.angle2(u,d)+(Math.PI/2-f/2)),this.segments=r=r||Math.max(Math.abs(Math.ceil(f/(Math.PI/18))),6),v=xn.Math.angle2(s,u),y=f/r,this.vertices.push(new xn.Vector3(u.x,u.y,0)),o=1;o<=r-1;o++)a=xn.Math.polar(s,Math.abs(h),v+y*o),this.vertices.push(new xn.Vector3(a.x,a.y,0))};xn.BulgeGeometry.prototype=Object.create(xn.Geometry.prototype);function AW(e,t,n,r,a){var o=CW(t),s,u=new xn.FontLoader;u.load("../fonts/zhongsong_regular.typeface.json",function(d){s=d,BW(e);var f=new xn.Scene,h={},v={};new xn.Group;var y,b,w,g={min:{x:!1,y:!1,z:!1},max:{x:!1,y:!1,z:!1}};for(y=0;y<e.entities.length;y++){if(b=e.entities[y],b.type==="DIMENSION")if(b.block){var x=e.blocks[b.block];if(!x)continue;for(var M=0;M<6;M++){if(w=JS(x.entities[M],e,s,f),w){var R=new xn.Box3().setFromObject(w);R.min.x&&(g.min.x===!1||g.min.x>R.min.x)&&(g.min.x=R.min.x),R.min.y&&(g.min.y===!1||g.min.y>R.min.y)&&(g.min.y=R.min.y),R.min.z&&(g.min.z===!1||g.min.z>R.min.z)&&(g.min.z=R.min.z),R.max.x&&(g.max.x===!1||g.max.x<R.max.x)&&(g.max.x=R.max.x),R.max.y&&(g.max.y===!1||g.max.y<R.max.y)&&(g.max.y=R.max.y),R.max.z&&(g.max.z===!1||g.max.z<R.max.z)&&(g.max.z=R.max.z),r3(w,v,h,f)}w=void 0}}else console.log("WARNING: No block for DIMENSION entity");else w=JS(b,e,s,f);if(w){var R=new xn.Box3().setFromObject(w);R.min.x&&(g.min.x===!1||g.min.x>R.min.x)&&(g.min.x=R.min.x),R.min.y&&(g.min.y===!1||g.min.y>R.min.y)&&(g.min.y=R.min.y),R.min.z&&(g.min.z===!1||g.min.z>R.min.z)&&(g.min.z=R.min.z),R.max.x&&(g.max.x===!1||g.max.x<R.max.x)&&(g.max.x=R.max.x),R.max.y&&(g.max.y===!1||g.max.y<R.max.y)&&(g.max.y=R.max.y),R.max.z&&(g.max.z===!1||g.max.z<R.max.z)&&(g.max.z=R.max.z),r3(w,v,h,f)}w=null}var A=new xn.LineBasicMaterial({vertexColors:xn.VertexColors}),T=new xn.LineDashedMaterial({vertexColors:xn.VertexColors,dashSize:3,gapSize:1,linewidth:2});for(var P in h){h[P];var I,E=new xn.BufferGeometry;P=="Dashed"?(E.setIndex(h[P].indices),E.addAttribute("position",new xn.Float32BufferAttribute(h[P].points,3)),E.addAttribute("color",new xn.Float32BufferAttribute(h[P].colors,3)),E.computeBoundingBox(),I=new xn.LineSegments(E,T),I.computeLineDistances()):(E.setIndex(h[P].indices),E.addAttribute("position",new xn.Float32BufferAttribute(h[P].points,3)),E.addAttribute("color",new xn.Float32BufferAttribute(h[P].colors,3)),I=new xn.LineSegments(E,A)),I.userData={layer:P},f.add(I)}n=n||o.innerWidth(),r=r||o.innerHeight();var D=n/r,N={x:g.max.x,y:g.max.y},B={x:g.min.x,y:g.min.y},G=N.x-B.x,$=N.y-B.y,Q=Q||{x:G/2+B.x,y:$/2+B.y},ae=Math.abs(G/$);D>ae?G=$*D:$=G/D;var ee={bottom:-$/2,left:-G/2,top:$/2,right:G/2,center:{x:Q.x,y:Q.y}},K=new xn.OrthographicCamera(ee.left,ee.right,ee.top,ee.bottom,1,19);K.position.z=10,K.position.x=ee.center.x,K.position.y=ee.center.y;var X=new xn.WebGLRenderer({antialias:!0,devicePixelRatio:Z}),Z=window.devicePixelRatio||1;X.setSize(n,r),X.setClearColor(268435455,1),o.append(X.domElement),o.show(),a();var j=new TW(K,t);j.target.x=K.position.x,j.target.y=K.position.y,j.target.z=0,j.zoomSpeed=3,j.addEventListener("change",()=>{X.render(f,K)}),X.render(f,K),j.update(),o.on("click",Re=>{Re.preventDefault();var De=new xn.Vector2;De.x=Re.clientX/n*2-1,De.y=-(Re.clientY/r)*2+1;var Te=new xn.Raycaster;Te.setFromCamera(De,K);var ge=Te.intersectObjects(f.children,!0);if(console.log(ge),console.log(f.children),ge.length>0){var ke=ge[0].object;f.traverse(function(Pe){Pe.userData.originalColor&&(Pe.material.color.set(Pe.userData.originalColor),delete Pe.userData.originalColor)}),ke.userData.originalColor=ke.material.color.getHex(),ke.material.color.set(16711680)}});var ie=X.domElement.width,pe=X.domElement.height,he=n/ie,le=r/pe;return K.top=le*K.top,K.bottom=le*K.bottom,K.left=he*K.left,K.right=he*K.right,X.setSize(n,r),X.setClearColor(268435455,1),X.render(f,K),!1})}function JS(e,t,n,r){var a;return e.type==="CIRCLE"||e.type==="ARC"?a=IW(e,t):e.type==="LWPOLYLINE"||e.type==="LINE"||e.type==="POLYLINE"?a=kW(e,t,r):e.type==="TEXT"?a=DW(e,t,n):e.type==="SOLID"?a=OW(e,t):e.type==="POINT"?a=NW(e,t,r):e.type==="INSERT"?a=FW(e,t,r):e.type==="SPLINE"?a=PW(e,t):e.type==="MTEXT"?(a=RW(e,t,n),a.userData.text=e.text):e.type==="ELLIPSE"?a=LW(e,t):console.log("Unsupported Entity Type: "+e.type),a&&(a.userData.layer=e.layer,a.userData.type=e.type,e.color&&(a.userData.color=e.color)),a}function LW(e,t){var n=Ed(e,t),r=Math.sqrt(Math.pow(e.majorAxisEndPoint.x,2)+Math.pow(e.majorAxisEndPoint.y,2)),a=r*e.axisRatio,o=Math.atan2(e.majorAxisEndPoint.y,e.majorAxisEndPoint.x),s=new xn.EllipseCurve(e.center.x,e.center.y,r,a,e.startAngle,e.endAngle,!1,o),u=s.getPoints(50),d=new xn.BufferGeometry().setFromPoints(u),f=new xn.LineBasicMaterial({linewidth:1,color:n}),h=new xn.Line(d,f);return h}function RW(e,t,n){var r=Ed(e,t),a=e.text.split("{").map(function(v){var y=v.split(";");return y[y.length-1].replace("}","")}).join(" ");a||(a=e.text);var o=0;e.rotate?o=e.rotate:e.tan&&(o=Math.atan(e.atan/e.tan));var s=new xn.TextBufferGeometry(a,{font:n,size:e.height*(4/5),curveSegments:1,height:1}),u=new xn.MeshBasicMaterial({color:r}),d=new xn.Mesh(s,u),f=new xn.Box3;f.setFromObject(d);var h=f.max.x-f.min.x;switch(h>e.width&&(d.position.x=e.position.x,d.position.y=e.position.y),d.position.z=0,d.rotation.z=o,e.attachmentPoint){case 1:d.position.x=e.position.x,d.position.y=e.position.y-e.height;break;case 2:d.position.x=e.position.x-h/2,d.position.y=e.position.y-e.height;break;case 3:d.position.x=e.position.x-h,d.position.y=e.position.y-e.height;break;case 4:d.position.x=e.position.x,d.position.y=e.position.y-e.height/2;break;case 5:d.position.x=e.position.x-h/2,d.position.y=e.position.y-e.height/2;break;case 6:d.position.x=e.position.x-h,d.position.y=e.position.y-e.height/2;break;case 7:d.position.x=e.position.x,d.position.y=e.position.y;break;case 8:d.position.x=e.position.x-h/2,d.position.y=e.position.y;break;case 9:d.position.x=e.position.x-h,d.position.y=e.position.y;break;default:return}return d}function PW(e,t){var n=Ed(e,t),r=e.controlPoints.map(function(f){return new xn.Vector2(f.x,f.y)}),a=[];if(e.degreeOfSplineCurve===2||e.degreeOfSplineCurve===3)for(var o=0;o+2<r.length;o=o+2)e.degreeOfSplineCurve===2?curve=new xn.QuadraticBezierCurve(r[o],r[o+1],r[o+2]):curve=new xn.QuadraticBezierCurve3(r[o],r[o+1],r[o+2]),a.push.apply(a,curve.getPoints(50));else curve=new xn.SplineCurve(r),a=curve.getPoints(100);var s=new xn.BufferGeometry().setFromPoints(a),u=new xn.LineBasicMaterial({linewidth:1,color:n}),d=new xn.Line(s,u);return d}function kW(e,t,n){var r=new xn.Geometry,a=Ed(e,t),o,s,u,d,f,h,v,y,b;for(y=0;y<e.vertices.length;y++)e.vertices[y].bulge?(v=e.vertices[y].bulge,d=e.vertices[y],f=y+1<e.vertices.length?e.vertices[y+1]:r.vertices[0],h=new xn.BulgeGeometry(d,f,v),r.vertices.push.apply(r.vertices,h.vertices)):(u=e.vertices[y],r.vertices.push(new xn.Vector3(u.x,u.y,0)));return e.shape&&r.vertices.push(r.vertices[0]),e.lineType&&(s=t.tables.lineType.lineTypes[e.lineType]),s&&s.pattern&&s.pattern.length!==0?o=new xn.LineDashedMaterial({color:a,gapSize:1,dashSize:2}):o=new xn.LineBasicMaterial({linewidth:1,color:a}),b=new xn.Line(r,o),n.add(b),b}function IW(e,t){var n,r;e.type==="CIRCLE"?(r=e.startAngle||0,n=r+2*Math.PI):(r=e.startAngle,n=e.endAngle);var a=new xn.ArcCurve(0,0,e.radius,r,n),o=a.getPoints(15),s=new xn.BufferGeometry().setFromPoints(o),u=new xn.LineBasicMaterial({color:Ed(e,t)}),d=new xn.Line(s,u);return d.position.x=e.center.x,d.position.y=e.center.y,d.position.z=e.center.z,d}function OW(e,t){var n,r,a=new xn.Geometry;r=a.vertices,r.push(new xn.Vector3(e.points[0].x,e.points[0].y,e.points[0].z)),r.push(new xn.Vector3(e.points[1].x,e.points[1].y,e.points[1].z)),r.push(new xn.Vector3(e.points[2].x,e.points[2].y,e.points[2].z)),r.push(new xn.Vector3(e.points[3].x,e.points[3].y,e.points[3].z));var o=new xn.Vector3,s=new xn.Vector3;return o.subVectors(r[1],r[0]),s.subVectors(r[2],r[0]),o.cross(s),o.z<0?(a.faces.push(new xn.Face3(2,1,0)),a.faces.push(new xn.Face3(2,3,1))):(a.faces.push(new xn.Face3(0,1,2)),a.faces.push(new xn.Face3(1,3,2))),n=new xn.MeshBasicMaterial({color:Ed(e,t)}),new xn.Mesh(a,n)}function DW(e,t,n){var r,a;if(!n)return console.warn("Text is not supported without a Three.js font loaded with THREE.FontLoader! Load a font of your choice and pass this into the constructor. See the sample for this repository or Three.js examples at http://threejs.org/examples/?q=text#webgl_geometry_text for more details.");var o=new xn.TextGeometry(e.text,{font:n,height:0,curveSegments:1,size:e.textHeight||12});return r=new xn.MeshBasicMaterial({color:Ed(e,t)}),a=new xn.Mesh(o,r),a.position.x=e.startPoint.x,a.position.y=e.startPoint.y,a.position.z=e.startPoint.z,a}function NW(e,t,n){var r,a,o;r=new xn.Geometry,r.vertices.push(new xn.Vector3(e.position.x,e.position.y,e.position.z));var s=1,u=Ed(e,t),d=new Float32Array(s*3);d[0]=u.r,d[1]=u.g,d[2]=u.b,r.colors=d,r.computeBoundingBox(),a=new xn.PointsMaterial({size:.05,vertexColors:xn.VertexColors}),o=new xn.Points(r,a),n.add(o)}function FW(e,t,n){var r=t.blocks[e.name];if(!r.entities)return null;var a=new xn.Object3D;e.xScale&&(a.scale.x=e.xScale),e.yScale&&(a.scale.y=e.yScale),e.rotation&&(a.rotation.z=e.rotation*Math.PI/180),e.position&&(a.position.x=e.position.x,a.position.y=e.position.y,a.position.z=e.position.z);for(var o=0;o<r.entities.length;o++){var s=JS(r.entities[o],t,a,n);s&&a.add(s)}return a}function Ed(e,t){var n=0;return e.color?n=e.color:t.tables&&t.tables.layer&&t.tables.layer.layers[e.layer]&&(n=t.tables.layer.layers[e.layer].color),(n==null||n===16777215)&&(n=0),n}function BW(e){var t,n;if(!(!e.tables||!e.tables.lineType)){var r=e.tables.lineType.lineTypes;for(n in r)t=r[n],t.pattern&&(t.material=zW(t.pattern))}}function zW(e){var t,n={},r=0;for(t=0;t<e.length;t++)r+=Math.abs(e[t]);return n.uniforms=xn.UniformsUtils.merge([xn.UniformsLib.common,xn.UniformsLib.fog,{pattern:{type:"fv1",value:e},patternLength:{type:"f",value:r}}]),n.vertexShader=["attribute float lineDistance;","varying float vLineDistance;",xn.ShaderChunk.color_pars_vertex,"void main() {",xn.ShaderChunk.color_vertex,"vLineDistance = lineDistance;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),n.fragmentShader=["uniform vec3 diffuse;","uniform float opacity;","uniform float pattern["+e.length+"];","uniform float patternLength;","varying float vLineDistance;",xn.ShaderChunk.color_pars_fragment,xn.ShaderChunk.fog_pars_fragment,"void main() {","float pos = mod(vLineDistance, patternLength);","for ( int i = 0; i < "+e.length+"; i++ ) {","pos = pos - abs(pattern[i]);","if( pos < 0.0 ) {","if( pattern[i] > 0.0 ) {","gl_FragColor = vec4(1.0, 0.0, 0.0, opacity );","break;","}","discard;","}","}",xn.ShaderChunk.color_fragment,xn.ShaderChunk.fog_fragment,"}"].join("\n"),n}function r3(e,t,n,r){switch(t[e.userData.type]||(t[e.userData.type]=0),t[e.userData.type]++,e.userData.type){case"LINE":case"LWPOLYLINE":case"POLYLINE":e.userData.lineType&&e.userData.lineType.pattern&&e.userData.lineType.pattern.length!==0||(n[e.userData.layer]||(n[e.userData.layer]={points:[],colors:[],indices:[]}),e.geometry.vertices.map(function(a,o){o==0||o==e.geometry.vertices.length-1?n[e.userData.layer].indices.push(n[e.userData.layer].points.length/3):n[e.userData.layer].indices.push(n[e.userData.layer].points.length/3,n[e.userData.layer].points.length/3),n[e.userData.layer].points.push(a.x,a.y,a.z),n[e.userData.layer].colors.push(e.material.color.r,e.material.color.g,e.material.color.b)}));break;case"MTEXT":case"TEXT":case"CIRCLE":case"SOLID":case"ARC":r.add(e);break}}const ll=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},VW={name:"ThreeDXF",data(){return{dxfLoading:!1}},methods:{onFileSelected(e){let t=this;var n=e.target.files[0],r=new FileReader;r.onprogress=t.updateProgress,r.onloadend=t.onSuccess,r.onabort=t.abortUpload,r.onerror=t.errorHandler,r.readAsText(n)},errorHandler(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case e.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case e.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}},onSuccess(e){this.dxfLoading=!0;var t=e.target;if(t.error)return console.log("error onloadend!?");var n=new _W,r=n.parseSync(t.result);let a=document.getElementById("dxf-content");r?a.innerHTML=JSON.stringify(r,null,2):a.innerHTML="No data.",document.getElementById("dxf-view").innerHTML="";let o=this.$refs.dxfView.offsetWidth,s=this.$refs.dxfView.offsetHeight;AW(r,document.getElementById("dxf-view"),o,s,this.LoadingClose)},LoadingClose(){this.dxfLoading=!1},handleDragOver(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}}},UW={class:"container"},HW={role:"form"},$W={class:"form-group"},GW={id:"dxf-view",ref:"dxfView",class:"dxfView"};function WW(e,t,n,r,a,o){return W(),ue("div",UW,[fe("div",HW,[t[4]||(t[4]=fe("p",null,"ThreeDXF",-1)),fe("div",$W,[t[1]||(t[1]=fe("label",{for:"exampleInputFile"},"DXF",-1)),fe("input",{type:"file",accept:".dxf",id:"dxf",name:"file",onChange:t[0]||(t[0]=(...s)=>o.onFileSelected&&o.onFileSelected(...s))},null,32),t[2]||(t[2]=fe("div",{class:"progress progress-striped",style:{width:"300px"}},[fe("div",{id:"file-progress-bar",class:"progress-bar progress-bar-success",role:"progressbar",style:{width:"0"}})],-1)),t[3]||(t[3]=fe("div",{id:"file-description",class:"help-block"},null,-1))]),t[5]||(t[5]=fe("p",null,"",-1)),fe("div",GW,null,512)]),t[6]||(t[6]=fe("div",{id:"dxf-content-container"},[fe("pre",{id:"dxf-content"},"            ")],-1))])}const jW=ll(VW,[["render",WW],["__scopeId","data-v-8e165918"]]),qW={mounted(){},components:{FabricCanvas:jW,InfoFilled:dw,Message:W5,List:H5,House:CO},setup(){jG().push("/mainview");const t=re(0),n=re({height:10,area:0,levels:0});return{buildingData:n,active:t,handleCalculate:a=>{n.value={area:a.siteArea,levels:Math.floor(a.siteArea/10)}}}}},KW={class:"app"},YW={class:"navbar"},XW={class:"navbar-content"},ZW={class:"logo"};function JW(e,t,n,r,a,o){const s=Zt("House"),u=Zt("el-icon"),d=Zt("el-header"),f=Zt("router-view"),h=Zt("el-row"),v=Zt("el-main"),y=Zt("el-container");return W(),ue("div",KW,[ce(y,null,{default:be(()=>[ce(d,{style:{height:"100%"}},{default:be(()=>[fe("div",null,[fe("nav",YW,[fe("div",XW,[fe("div",ZW,[ce(u,{class:"logo-icon"},{default:be(()=>[ce(s)]),_:1}),t[0]||(t[0]=Pn(" Architectural Planning Platform "))])])])])]),_:1}),ce(v,{style:{height:"100%"}},{default:be(()=>[ce(h,null,{default:be(()=>[ce(f)]),_:1})]),_:1})]),_:1})])}const QW=ll(qW,[["render",JW]]),e9="2.9.4",i3=Symbol("INSTALLED_KEY"),jO=Symbol(),Pg="el",t9="is-",ff=(e,t,n,r,a)=>{let o="".concat(e,"-").concat(t);return n&&(o+="-".concat(n)),r&&(o+="__".concat(r)),a&&(o+="--".concat(a)),o},qO=Symbol("namespaceContextKey"),ZE=e=>{const t=e||(Jn()?qt(qO,re(Pg)):re(Pg));return U(()=>m(t)||Pg)},xt=(e,t)=>{const n=ZE(t);return{namespace:n,b:(g="")=>ff(n.value,e,g,"",""),e:g=>g?ff(n.value,e,"",g,""):"",m:g=>g?ff(n.value,e,"","",g):"",be:(g,x)=>g&&x?ff(n.value,e,g,x,""):"",em:(g,x)=>g&&x?ff(n.value,e,"",g,x):"",bm:(g,x)=>g&&x?ff(n.value,e,g,"",x):"",bem:(g,x,M)=>g&&x&&M?ff(n.value,e,g,x,M):"",is:(g,...x)=>{const M=x.length>=1?x[0]:!0;return g&&M?"".concat(t9).concat(g):""},cssVar:g=>{const x={};for(const M in g)g[M]&&(x["--".concat(n.value,"-").concat(M)]=g[M]);return x},cssVarName:g=>"--".concat(n.value,"-").concat(g),cssVarBlock:g=>{const x={};for(const M in g)g[M]&&(x["--".concat(n.value,"-").concat(e,"-").concat(M)]=g[M]);return x},cssVarBlockName:g=>"--".concat(n.value,"-").concat(e,"-").concat(g)}};var KO=typeof global=="object"&&global&&global.Object===Object&&global,n9=typeof self=="object"&&self&&self.Object===Object&&self,Gl=KO||n9||Function("return this")(),il=Gl.Symbol,YO=Object.prototype,r9=YO.hasOwnProperty,i9=YO.toString,Jv=il?il.toStringTag:void 0;function a9(e){var t=r9.call(e,Jv),n=e[Jv];try{e[Jv]=void 0;var r=!0}catch(o){}var a=i9.call(e);return r&&(t?e[Jv]=n:delete e[Jv]),a}var o9=Object.prototype,s9=o9.toString;function l9(e){return s9.call(e)}var u9="[object Null]",c9="[object Undefined]",a3=il?il.toStringTag:void 0;function ih(e){return e==null?e===void 0?c9:u9:a3&&a3 in Object(e)?a9(e):l9(e)}function Pu(e){return e!=null&&typeof e=="object"}var d9="[object Symbol]";function mw(e){return typeof e=="symbol"||Pu(e)&&ih(e)==d9}function JE(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Go=Array.isArray,o3=il?il.prototype:void 0,s3=o3?o3.toString:void 0;function XO(e){if(typeof e=="string")return e;if(Go(e))return JE(e,XO)+"";if(mw(e))return s3?s3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var f9=/\s/;function h9(e){for(var t=e.length;t--&&f9.test(e.charAt(t)););return t}var p9=/^\s+/;function m9(e){return e&&e.slice(0,h9(e)+1).replace(p9,"")}function Wo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var l3=NaN,v9=/^[-+]0x[0-9a-f]+$/i,g9=/^0b[01]+$/i,y9=/^0o[0-7]+$/i,b9=parseInt;function u3(e){if(typeof e=="number")return e;if(mw(e))return l3;if(Wo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=m9(e);var n=g9.test(e);return n||y9.test(e)?b9(e.slice(2),n?2:8):v9.test(e)?l3:+e}function QE(e){return e}var _9="[object AsyncFunction]",w9="[object Function]",x9="[object GeneratorFunction]",S9="[object Proxy]";function eC(e){if(!Wo(e))return!1;var t=ih(e);return t==w9||t==x9||t==_9||t==S9}var vx=Gl["__core-js_shared__"],c3=function(){var e=/[^.]+$/.exec(vx&&vx.keys&&vx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function M9(e){return!!c3&&c3 in e}var E9=Function.prototype,C9=E9.toString;function ah(e){if(e!=null){try{return C9.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var T9=/[\\^$.*+?()[\]{}|]/g,A9=/^\[object .+?Constructor\]$/,L9=Function.prototype,R9=Object.prototype,P9=L9.toString,k9=R9.hasOwnProperty,I9=RegExp("^"+P9.call(k9).replace(T9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O9(e){if(!Wo(e)||M9(e))return!1;var t=eC(e)?I9:A9;return t.test(ah(e))}function D9(e,t){return e==null?void 0:e[t]}function oh(e,t){var n=D9(e,t);return O9(n)?n:void 0}var QS=oh(Gl,"WeakMap"),d3=Object.create,N9=function(){function e(){}return function(t){if(!Wo(t))return{};if(d3)return d3(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function F9(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function B9(){}function ZO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var z9=800,V9=16,U9=Date.now;function H9(e){var t=0,n=0;return function(){var r=U9(),a=V9-(r-n);if(n=r,a>0){if(++t>=z9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function $9(e){return function(){return e}}var M_=function(){try{var e=oh(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),G9=M_?function(e,t){return M_(e,"toString",{configurable:!0,enumerable:!1,value:$9(t),writable:!0})}:QE,JO=H9(G9);function W9(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function QO(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function j9(e){return e!==e}function q9(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function K9(e,t,n){return t===t?q9(e,t,n):QO(e,j9,n)}function Y9(e,t){var n=e==null?0:e.length;return!!n&&K9(e,t,0)>-1}var X9=9007199254740991,Z9=/^(?:0|[1-9]\d*)$/;function vw(e,t){var n=typeof e;return t=t==null?X9:t,!!t&&(n=="number"||n!="symbol"&&Z9.test(e))&&e>-1&&e%1==0&&e<t}function tC(e,t,n){t=="__proto__"&&M_?M_(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function A0(e,t){return e===t||e!==e&&t!==t}var J9=Object.prototype,Q9=J9.hasOwnProperty;function nC(e,t,n){var r=e[t];(!(Q9.call(e,t)&&A0(r,n))||n===void 0&&!(t in e))&&tC(e,t,n)}function Sm(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],d=void 0;d===void 0&&(d=e[u]),a?tC(n,u,d):nC(n,u,d)}return n}var f3=Math.max;function eD(e,t,n){return t=f3(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=f3(r.length-t,0),s=Array(o);++a<o;)s[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(s),F9(e,this,u)}}function tD(e,t){return JO(eD(e,t,QE),e+"")}var e7=9007199254740991;function rC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=e7}function Mm(e){return e!=null&&rC(e.length)&&!eC(e)}function t7(e,t,n){if(!Wo(n))return!1;var r=typeof t;return(r=="number"?Mm(n)&&vw(t,n.length):r=="string"&&t in n)?A0(n[t],e):!1}function n7(e){return tD(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,s&&t7(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t})}var r7=Object.prototype;function iC(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||r7;return e===n}function i7(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var a7="[object Arguments]";function h3(e){return Pu(e)&&ih(e)==a7}var nD=Object.prototype,o7=nD.hasOwnProperty,s7=nD.propertyIsEnumerable,Xg=h3(function(){return arguments}())?h3:function(e){return Pu(e)&&o7.call(e,"callee")&&!s7.call(e,"callee")};function l7(){return!1}var rD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p3=rD&&typeof module=="object"&&module&&!module.nodeType&&module,u7=p3&&p3.exports===rD,m3=u7?Gl.Buffer:void 0,c7=m3?m3.isBuffer:void 0,Zg=c7||l7,d7="[object Arguments]",f7="[object Array]",h7="[object Boolean]",p7="[object Date]",m7="[object Error]",v7="[object Function]",g7="[object Map]",y7="[object Number]",b7="[object Object]",_7="[object RegExp]",w7="[object Set]",x7="[object String]",S7="[object WeakMap]",M7="[object ArrayBuffer]",E7="[object DataView]",C7="[object Float32Array]",T7="[object Float64Array]",A7="[object Int8Array]",L7="[object Int16Array]",R7="[object Int32Array]",P7="[object Uint8Array]",k7="[object Uint8ClampedArray]",I7="[object Uint16Array]",O7="[object Uint32Array]",ji={};ji[C7]=ji[T7]=ji[A7]=ji[L7]=ji[R7]=ji[P7]=ji[k7]=ji[I7]=ji[O7]=!0;ji[d7]=ji[f7]=ji[M7]=ji[h7]=ji[E7]=ji[p7]=ji[m7]=ji[v7]=ji[g7]=ji[y7]=ji[b7]=ji[_7]=ji[w7]=ji[x7]=ji[S7]=!1;function D7(e){return Pu(e)&&rC(e.length)&&!!ji[ih(e)]}function aC(e){return function(t){return e(t)}}var iD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kg=iD&&typeof module=="object"&&module&&!module.nodeType&&module,N7=kg&&kg.exports===iD,gx=N7&&KO.process,Qp=function(){try{var e=kg&&kg.require&&kg.require("util").types;return e||gx&&gx.binding&&gx.binding("util")}catch(t){}}(),v3=Qp&&Qp.isTypedArray,oC=v3?aC(v3):D7,F7=Object.prototype,B7=F7.hasOwnProperty;function aD(e,t){var n=Go(e),r=!n&&Xg(e),a=!n&&!r&&Zg(e),o=!n&&!r&&!a&&oC(e),s=n||r||a||o,u=s?i7(e.length,String):[],d=u.length;for(var f in e)(t||B7.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||vw(f,d)))&&u.push(f);return u}function oD(e,t){return function(n){return e(t(n))}}var z7=oD(Object.keys,Object),V7=Object.prototype,U7=V7.hasOwnProperty;function H7(e){if(!iC(e))return z7(e);var t=[];for(var n in Object(e))U7.call(e,n)&&n!="constructor"&&t.push(n);return t}function L0(e){return Mm(e)?aD(e):H7(e)}function $7(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var G7=Object.prototype,W7=G7.hasOwnProperty;function j7(e){if(!Wo(e))return $7(e);var t=iC(e),n=[];for(var r in e)r=="constructor"&&(t||!W7.call(e,r))||n.push(r);return n}function R0(e){return Mm(e)?aD(e,!0):j7(e)}var q7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K7=/^\w*$/;function sC(e,t){if(Go(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||mw(e)?!0:K7.test(e)||!q7.test(e)||t!=null&&e in Object(t)}var Jg=oh(Object,"create");function Y7(){this.__data__=Jg?Jg(null):{},this.size=0}function X7(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Z7="__lodash_hash_undefined__",J7=Object.prototype,Q7=J7.hasOwnProperty;function ej(e){var t=this.__data__;if(Jg){var n=t[e];return n===Z7?void 0:n}return Q7.call(t,e)?t[e]:void 0}var tj=Object.prototype,nj=tj.hasOwnProperty;function rj(e){var t=this.__data__;return Jg?t[e]!==void 0:nj.call(t,e)}var ij="__lodash_hash_undefined__";function aj(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jg&&t===void 0?ij:t,this}function jf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jf.prototype.clear=Y7;jf.prototype.delete=X7;jf.prototype.get=ej;jf.prototype.has=rj;jf.prototype.set=aj;function oj(){this.__data__=[],this.size=0}function gw(e,t){for(var n=e.length;n--;)if(A0(e[n][0],t))return n;return-1}var sj=Array.prototype,lj=sj.splice;function uj(e){var t=this.__data__,n=gw(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():lj.call(t,n,1),--this.size,!0}function cj(e){var t=this.__data__,n=gw(t,e);return n<0?void 0:t[n][1]}function dj(e){return gw(this.__data__,e)>-1}function fj(e,t){var n=this.__data__,r=gw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Mc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mc.prototype.clear=oj;Mc.prototype.delete=uj;Mc.prototype.get=cj;Mc.prototype.has=dj;Mc.prototype.set=fj;var Qg=oh(Gl,"Map");function hj(){this.size=0,this.__data__={hash:new jf,map:new(Qg||Mc),string:new jf}}function pj(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function yw(e,t){var n=e.__data__;return pj(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mj(e){var t=yw(this,e).delete(e);return this.size-=t?1:0,t}function vj(e){return yw(this,e).get(e)}function gj(e){return yw(this,e).has(e)}function yj(e,t){var n=yw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ec(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ec.prototype.clear=hj;Ec.prototype.delete=mj;Ec.prototype.get=vj;Ec.prototype.has=gj;Ec.prototype.set=yj;var bj="Expected a function";function bw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bj);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(bw.Cache||Ec),n}bw.Cache=Ec;var _j=500;function wj(e){var t=bw(e,function(r){return n.size===_j&&n.clear(),r}),n=t.cache;return t}var xj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sj=/\\(\\)?/g,Mj=wj(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xj,function(n,r,a,o){t.push(a?o.replace(Sj,"$1"):r||n)}),t});function Ej(e){return e==null?"":XO(e)}function Em(e,t){return Go(e)?e:sC(e,t)?[e]:Mj(Ej(e))}function Cm(e){if(typeof e=="string"||mw(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function _w(e,t){t=Em(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Cm(t[n++])];return n&&n==r?e:void 0}function Zi(e,t,n){var r=e==null?void 0:_w(e,t);return r===void 0?n:r}function lC(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var g3=il?il.isConcatSpreadable:void 0;function Cj(e){return Go(e)||Xg(e)||!!(g3&&e&&e[g3])}function P0(e,t,n,r,a){var o=-1,s=e.length;for(n||(n=Cj),a||(a=[]);++o<s;){var u=e[o];t>0&&n(u)?t>1?P0(u,t-1,n,r,a):lC(a,u):r||(a[a.length]=u)}return a}function sD(e){var t=e==null?0:e.length;return t?P0(e,1):[]}function lD(e){return JO(eD(e,void 0,sD),e+"")}var uC=oD(Object.getPrototypeOf,Object),Tj="[object Object]",Aj=Function.prototype,Lj=Object.prototype,uD=Aj.toString,Rj=Lj.hasOwnProperty,Pj=uD.call(Object);function cD(e){if(!Pu(e)||ih(e)!=Tj)return!1;var t=uC(e);if(t===null)return!0;var n=Rj.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&uD.call(n)==Pj}function kj(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}function wo(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]}function Ij(){this.__data__=new Mc,this.size=0}function Oj(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Dj(e){return this.__data__.get(e)}function Nj(e){return this.__data__.has(e)}var Fj=200;function Bj(e,t){var n=this.__data__;if(n instanceof Mc){var r=n.__data__;if(!Qg||r.length<Fj-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ec(r)}return n.set(e,t),this.size=n.size,this}function Ol(e){var t=this.__data__=new Mc(e);this.size=t.size}Ol.prototype.clear=Ij;Ol.prototype.delete=Oj;Ol.prototype.get=Dj;Ol.prototype.has=Nj;Ol.prototype.set=Bj;function zj(e,t){return e&&Sm(t,L0(t),e)}function Vj(e,t){return e&&Sm(t,R0(t),e)}var dD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y3=dD&&typeof module=="object"&&module&&!module.nodeType&&module,Uj=y3&&y3.exports===dD,b3=Uj?Gl.Buffer:void 0,_3=b3?b3.allocUnsafe:void 0;function fD(e,t){if(t)return e.slice();var n=e.length,r=_3?_3(n):new e.constructor(n);return e.copy(r),r}function Hj(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}function hD(){return[]}var $j=Object.prototype,Gj=$j.propertyIsEnumerable,w3=Object.getOwnPropertySymbols,cC=w3?function(e){return e==null?[]:(e=Object(e),Hj(w3(e),function(t){return Gj.call(e,t)}))}:hD;function Wj(e,t){return Sm(e,cC(e),t)}var jj=Object.getOwnPropertySymbols,pD=jj?function(e){for(var t=[];e;)lC(t,cC(e)),e=uC(e);return t}:hD;function qj(e,t){return Sm(e,pD(e),t)}function mD(e,t,n){var r=t(e);return Go(e)?r:lC(r,n(e))}function eM(e){return mD(e,L0,cC)}function vD(e){return mD(e,R0,pD)}var tM=oh(Gl,"DataView"),nM=oh(Gl,"Promise"),Vp=oh(Gl,"Set"),x3="[object Map]",Kj="[object Object]",S3="[object Promise]",M3="[object Set]",E3="[object WeakMap]",C3="[object DataView]",Yj=ah(tM),Xj=ah(Qg),Zj=ah(nM),Jj=ah(Vp),Qj=ah(QS),Al=ih;(tM&&Al(new tM(new ArrayBuffer(1)))!=C3||Qg&&Al(new Qg)!=x3||nM&&Al(nM.resolve())!=S3||Vp&&Al(new Vp)!=M3||QS&&Al(new QS)!=E3)&&(Al=function(e){var t=ih(e),n=t==Kj?e.constructor:void 0,r=n?ah(n):"";if(r)switch(r){case Yj:return C3;case Xj:return x3;case Zj:return S3;case Jj:return M3;case Qj:return E3}return t});var eq=Object.prototype,tq=eq.hasOwnProperty;function nq(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&tq.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var E_=Gl.Uint8Array;function dC(e){var t=new e.constructor(e.byteLength);return new E_(t).set(new E_(e)),t}function rq(e,t){var n=t?dC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var iq=/\w*$/;function aq(e){var t=new e.constructor(e.source,iq.exec(e));return t.lastIndex=e.lastIndex,t}var T3=il?il.prototype:void 0,A3=T3?T3.valueOf:void 0;function oq(e){return A3?Object(A3.call(e)):{}}function gD(e,t){var n=t?dC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var sq="[object Boolean]",lq="[object Date]",uq="[object Map]",cq="[object Number]",dq="[object RegExp]",fq="[object Set]",hq="[object String]",pq="[object Symbol]",mq="[object ArrayBuffer]",vq="[object DataView]",gq="[object Float32Array]",yq="[object Float64Array]",bq="[object Int8Array]",_q="[object Int16Array]",wq="[object Int32Array]",xq="[object Uint8Array]",Sq="[object Uint8ClampedArray]",Mq="[object Uint16Array]",Eq="[object Uint32Array]";function Cq(e,t,n){var r=e.constructor;switch(t){case mq:return dC(e);case sq:case lq:return new r(+e);case vq:return rq(e,n);case gq:case yq:case bq:case _q:case wq:case xq:case Sq:case Mq:case Eq:return gD(e,n);case uq:return new r;case cq:case hq:return new r(e);case dq:return aq(e);case fq:return new r;case pq:return oq(e)}}function yD(e){return typeof e.constructor=="function"&&!iC(e)?N9(uC(e)):{}}var Tq="[object Map]";function Aq(e){return Pu(e)&&Al(e)==Tq}var L3=Qp&&Qp.isMap,Lq=L3?aC(L3):Aq,Rq="[object Set]";function Pq(e){return Pu(e)&&Al(e)==Rq}var R3=Qp&&Qp.isSet,kq=R3?aC(R3):Pq,Iq=1,Oq=2,Dq=4,bD="[object Arguments]",Nq="[object Array]",Fq="[object Boolean]",Bq="[object Date]",zq="[object Error]",_D="[object Function]",Vq="[object GeneratorFunction]",Uq="[object Map]",Hq="[object Number]",wD="[object Object]",$q="[object RegExp]",Gq="[object Set]",Wq="[object String]",jq="[object Symbol]",qq="[object WeakMap]",Kq="[object ArrayBuffer]",Yq="[object DataView]",Xq="[object Float32Array]",Zq="[object Float64Array]",Jq="[object Int8Array]",Qq="[object Int16Array]",eK="[object Int32Array]",tK="[object Uint8Array]",nK="[object Uint8ClampedArray]",rK="[object Uint16Array]",iK="[object Uint32Array]",Ui={};Ui[bD]=Ui[Nq]=Ui[Kq]=Ui[Yq]=Ui[Fq]=Ui[Bq]=Ui[Xq]=Ui[Zq]=Ui[Jq]=Ui[Qq]=Ui[eK]=Ui[Uq]=Ui[Hq]=Ui[wD]=Ui[$q]=Ui[Gq]=Ui[Wq]=Ui[jq]=Ui[tK]=Ui[nK]=Ui[rK]=Ui[iK]=!0;Ui[zq]=Ui[_D]=Ui[qq]=!1;function Up(e,t,n,r,a,o){var s,u=t&Iq,d=t&Oq,f=t&Dq;if(n&&(s=a?n(e,r,a,o):n(e)),s!==void 0)return s;if(!Wo(e))return e;var h=Go(e);if(h){if(s=nq(e),!u)return ZO(e,s)}else{var v=Al(e),y=v==_D||v==Vq;if(Zg(e))return fD(e,u);if(v==wD||v==bD||y&&!a){if(s=d||y?{}:yD(e),!u)return d?qj(e,Vj(s,e)):Wj(e,zj(s,e))}else{if(!Ui[v])return a?e:{};s=Cq(e,v,u)}}o||(o=new Ol);var b=o.get(e);if(b)return b;o.set(e,s),kq(e)?e.forEach(function(x){s.add(Up(x,t,n,x,e,o))}):Lq(e)&&e.forEach(function(x,M){s.set(M,Up(x,t,n,M,e,o))});var w=f?d?vD:eM:d?R0:L0,g=h?void 0:w(e);return W9(g||e,function(x,M){g&&(M=x,x=e[M]),nC(s,M,Up(x,t,n,M,e,o))}),s}var aK=4;function P3(e){return Up(e,aK)}var oK=1,sK=4;function C_(e){return Up(e,oK|sK)}var lK="__lodash_hash_undefined__";function uK(e){return this.__data__.set(e,lK),this}function cK(e){return this.__data__.has(e)}function e0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ec;++t<n;)this.add(e[t])}e0.prototype.add=e0.prototype.push=uK;e0.prototype.has=cK;function dK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function xD(e,t){return e.has(t)}var fK=1,hK=2;function SD(e,t,n,r,a,o){var s=n&fK,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var v=-1,y=!0,b=n&hK?new e0:void 0;for(o.set(e,t),o.set(t,e);++v<u;){var w=e[v],g=t[v];if(r)var x=s?r(g,w,v,t,e,o):r(w,g,v,e,t,o);if(x!==void 0){if(x)continue;y=!1;break}if(b){if(!dK(t,function(M,R){if(!xD(b,R)&&(w===M||a(w,M,n,r,o)))return b.push(R)})){y=!1;break}}else if(!(w===g||a(w,g,n,r,o))){y=!1;break}}return o.delete(e),o.delete(t),y}function pK(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function fC(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var mK=1,vK=2,gK="[object Boolean]",yK="[object Date]",bK="[object Error]",_K="[object Map]",wK="[object Number]",xK="[object RegExp]",SK="[object Set]",MK="[object String]",EK="[object Symbol]",CK="[object ArrayBuffer]",TK="[object DataView]",k3=il?il.prototype:void 0,yx=k3?k3.valueOf:void 0;function AK(e,t,n,r,a,o,s){switch(n){case TK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case CK:return!(e.byteLength!=t.byteLength||!o(new E_(e),new E_(t)));case gK:case yK:case wK:return A0(+e,+t);case bK:return e.name==t.name&&e.message==t.message;case xK:case MK:return e==t+"";case _K:var u=pK;case SK:var d=r&mK;if(u||(u=fC),e.size!=t.size&&!d)return!1;var f=s.get(e);if(f)return f==t;r|=vK,s.set(e,t);var h=SD(u(e),u(t),r,a,o,s);return s.delete(e),h;case EK:if(yx)return yx.call(e)==yx.call(t)}return!1}var LK=1,RK=Object.prototype,PK=RK.hasOwnProperty;function kK(e,t,n,r,a,o){var s=n&LK,u=eM(e),d=u.length,f=eM(t),h=f.length;if(d!=h&&!s)return!1;for(var v=d;v--;){var y=u[v];if(!(s?y in t:PK.call(t,y)))return!1}var b=o.get(e),w=o.get(t);if(b&&w)return b==t&&w==e;var g=!0;o.set(e,t),o.set(t,e);for(var x=s;++v<d;){y=u[v];var M=e[y],R=t[y];if(r)var A=s?r(R,M,y,t,e,o):r(M,R,y,e,t,o);if(!(A===void 0?M===R||a(M,R,n,r,o):A)){g=!1;break}x||(x=y=="constructor")}if(g&&!x){var T=e.constructor,P=t.constructor;T!=P&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof P=="function"&&P instanceof P)&&(g=!1)}return o.delete(e),o.delete(t),g}var IK=1,I3="[object Arguments]",O3="[object Array]",Uy="[object Object]",OK=Object.prototype,D3=OK.hasOwnProperty;function DK(e,t,n,r,a,o){var s=Go(e),u=Go(t),d=s?O3:Al(e),f=u?O3:Al(t);d=d==I3?Uy:d,f=f==I3?Uy:f;var h=d==Uy,v=f==Uy,y=d==f;if(y&&Zg(e)){if(!Zg(t))return!1;s=!0,h=!1}if(y&&!h)return o||(o=new Ol),s||oC(e)?SD(e,t,n,r,a,o):AK(e,t,d,n,r,a,o);if(!(n&IK)){var b=h&&D3.call(e,"__wrapped__"),w=v&&D3.call(t,"__wrapped__");if(b||w){var g=b?e.value():e,x=w?t.value():t;return o||(o=new Ol),a(g,x,n,r,o)}}return y?(o||(o=new Ol),kK(e,t,n,r,a,o)):!1}function ww(e,t,n,r,a){return e===t?!0:e==null||t==null||!Pu(e)&&!Pu(t)?e!==e&&t!==t:DK(e,t,n,r,ww,a)}var NK=1,FK=2;function BK(e,t,n,r){var a=n.length,o=a;if(e==null)return!o;for(e=Object(e);a--;){var s=n[a];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=n[a];var u=s[0],d=e[u],f=s[1];if(s[2]){if(d===void 0&&!(u in e))return!1}else{var h=new Ol,v;if(!(v===void 0?ww(f,d,NK|FK,r,h):v))return!1}}return!0}function MD(e){return e===e&&!Wo(e)}function zK(e){for(var t=L0(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,MD(a)]}return t}function ED(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function VK(e){var t=zK(e);return t.length==1&&t[0][2]?ED(t[0][0],t[0][1]):function(n){return n===e||BK(n,e,t)}}function UK(e,t){return e!=null&&t in Object(e)}function HK(e,t,n){t=Em(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=Cm(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&rC(a)&&vw(s,a)&&(Go(e)||Xg(e)))}function CD(e,t){return e!=null&&HK(e,t,UK)}var $K=1,GK=2;function WK(e,t){return sC(e)&&MD(t)?ED(Cm(e),t):function(n){var r=Zi(n,e);return r===void 0&&r===t?CD(n,e):ww(t,r,$K|GK)}}function jK(e){return function(t){return t==null?void 0:t[e]}}function qK(e){return function(t){return _w(t,e)}}function KK(e){return sC(e)?jK(Cm(e)):qK(e)}function TD(e){return typeof e=="function"?e:e==null?QE:typeof e=="object"?Go(e)?WK(e[0],e[1]):VK(e):KK(e)}function YK(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),u=s.length;u--;){var d=s[++a];if(n(o[d],d,o)===!1)break}return t}}var AD=YK();function XK(e,t){return e&&AD(e,t,L0)}function ZK(e,t){return function(n,r){if(n==null)return n;if(!Mm(n))return e(n,r);for(var a=n.length,o=-1,s=Object(n);++o<a&&r(s[o],o,s)!==!1;);return n}}var JK=ZK(XK),bx=function(){return Gl.Date.now()},QK="Expected a function",eY=Math.max,tY=Math.min;function ps(e,t,n){var r,a,o,s,u,d,f=0,h=!1,v=!1,y=!0;if(typeof e!="function")throw new TypeError(QK);t=u3(t)||0,Wo(n)&&(h=!!n.leading,v="maxWait"in n,o=v?eY(u3(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y);function b(I){var E=r,D=a;return r=a=void 0,f=I,s=e.apply(D,E),s}function w(I){return f=I,u=setTimeout(M,t),h?b(I):s}function g(I){var E=I-d,D=I-f,N=t-E;return v?tY(N,o-D):N}function x(I){var E=I-d,D=I-f;return d===void 0||E>=t||E<0||v&&D>=o}function M(){var I=bx();if(x(I))return R(I);u=setTimeout(M,g(I))}function R(I){return u=void 0,y&&r?b(I):(r=a=void 0,s)}function A(){u!==void 0&&clearTimeout(u),f=0,r=d=a=u=void 0}function T(){return u===void 0?s:R(bx())}function P(){var I=bx(),E=x(I);if(r=arguments,a=this,d=I,E){if(u===void 0)return w(d);if(v)return clearTimeout(u),u=setTimeout(M,t),b(d)}return u===void 0&&(u=setTimeout(M,t)),s}return P.cancel=A,P.flush=T,P}function rM(e,t,n){(n!==void 0&&!A0(e[t],n)||n===void 0&&!(t in e))&&tC(e,t,n)}function LD(e){return Pu(e)&&Mm(e)}function iM(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function nY(e){return Sm(e,R0(e))}function rY(e,t,n,r,a,o,s){var u=iM(e,n),d=iM(t,n),f=s.get(d);if(f){rM(e,n,f);return}var h=o?o(u,d,n+"",e,t,s):void 0,v=h===void 0;if(v){var y=Go(d),b=!y&&Zg(d),w=!y&&!b&&oC(d);h=d,y||b||w?Go(u)?h=u:LD(u)?h=ZO(u):b?(v=!1,h=fD(d,!0)):w?(v=!1,h=gD(d,!0)):h=[]:cD(d)||Xg(d)?(h=u,Xg(u)?h=nY(u):(!Wo(u)||eC(u))&&(h=yD(d))):v=!1}v&&(s.set(d,h),a(h,d,r,o,s),s.delete(d)),rM(e,n,h)}function RD(e,t,n,r,a){e!==t&&AD(t,function(o,s){if(a||(a=new Ol),Wo(o))rY(e,t,s,n,RD,r,a);else{var u=r?r(iM(e,s),o,s+"",e,t,a):void 0;u===void 0&&(u=o),rM(e,s,u)}},R0)}function iY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function PD(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return QO(e,TD(t),a,!0)}function aY(e,t){var n=-1,r=Mm(e)?Array(e.length):[];return JK(e,function(a,o,s){r[++n]=t(a,o,s)}),r}function oY(e,t){var n=Go(e)?JE:aY;return n(e,TD(t))}function sY(e,t){return P0(oY(e,t),1)}var lY=1/0;function uY(e){var t=e==null?0:e.length;return t?P0(e,lY):[]}function t0(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function cY(e,t){return t.length<2?e:_w(e,kj(t,0,-1))}function no(e,t){return ww(e,t)}function Sa(e){return e==null}function k0(e){return e===null}function kD(e){return e===void 0}var ID=n7(function(e,t,n){RD(e,t,n)});function dY(e,t){return t=Em(t,e),e=cY(e,t),e==null||delete e[Cm(iY(t))]}function fY(e){return cD(e)?void 0:e}var hY=1,pY=2,mY=4,vY=lD(function(e,t){var n={};if(e==null)return n;var r=!1;t=JE(t,function(o){return o=Em(o,e),r||(r=o.length>1),o}),Sm(e,vD(e),n),r&&(n=Up(n,hY|pY|mY,fY));for(var a=t.length;a--;)dY(n,t[a]);return n});function OD(e,t,n,r){if(!Wo(e))return e;t=Em(t,e);for(var a=-1,o=t.length,s=o-1,u=e;u!=null&&++a<o;){var d=Cm(t[a]),f=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=s){var h=u[d];f=void 0,f===void 0&&(f=Wo(h)?h:vw(t[a+1])?[]:{})}nC(u,d,f),u=u[d]}return e}function gY(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var s=t[r],u=_w(e,s);n(u,s)&&OD(o,Em(s,e),u)}return o}function yY(e,t){return gY(e,t,function(n,r){return CD(e,r)})}var Pl=lD(function(e,t){return e==null?{}:yY(e,t)});function bY(e,t,n){return e==null?e:OD(e,t,n)}var _Y="Expected a function";function Nf(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(_Y);return Wo(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ps(e,t,{leading:r,maxWait:t,trailing:a})}var wY=1/0,xY=Vp&&1/fC(new Vp([,-0]))[1]==wY?function(e){return new Vp(e)}:B9,SY=200;function MY(e,t,n){var r=-1,a=Y9,o=e.length,s=!0,u=[],d=u;if(o>=SY){var f=xY(e);if(f)return fC(f);s=!1,a=xD,d=new e0}else d=u;e:for(;++r<o;){var h=e[r],v=h;if(h=h!==0?h:0,s&&v===v){for(var y=d.length;y--;)if(d[y]===v)continue e;u.push(h)}else a(d,v,n)||(d!==u&&d.push(v),u.push(h))}return u}var _x=tD(function(e){return MY(P0(e,1,LD,!0))});const Or=e=>e===void 0,ri=e=>typeof e=="boolean",fn=e=>typeof e=="number",As=e=>!e&&e!==0||Rt(e)&&e.length===0||jn(e)&&!Object.keys(e).length,Ho=e=>typeof Element>"u"?!1:e instanceof Element,Dl=e=>Sa(e),EY=e=>nn(e)?!Number.isNaN(Number(e)):!1,xw=e=>e===window;var CY=Object.defineProperty,TY=Object.defineProperties,AY=Object.getOwnPropertyDescriptors,N3=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,RY=Object.prototype.propertyIsEnumerable,F3=(e,t,n)=>t in e?CY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PY=(e,t)=>{for(var n in t||(t={}))LY.call(t,n)&&F3(e,n,t[n]);if(N3)for(var n of N3(t))RY.call(t,n)&&F3(e,n,t[n]);return e},kY=(e,t)=>TY(e,AY(t));function aM(e,t){var n;const r=hi();return to(()=>{r.value=e()},kY(PY({},t),{flush:(n=void 0)!=null?n:"sync"})),wm(r)}var B3;const wr=typeof window<"u",IY=e=>typeof e<"u",oM=e=>typeof e=="function",OY=e=>typeof e=="string",em=()=>{},sM=wr&&((B3=window==null?void 0:window.navigator)==null?void 0:B3.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gd(e){return typeof e=="function"?e():m(e)}function DD(e,t){function n(...r){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(o)})}return n}function DY(e,t={}){let n,r,a=em;const o=u=>{clearTimeout(u),a(),a=em};return u=>{const d=gd(e),f=gd(t.maxWait);return n&&o(n),d<=0||f!==void 0&&f<=0?(r&&(o(r),r=null),Promise.resolve(u())):new Promise((h,v)=>{a=t.rejectOnCancel?v:h,f&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,h(u())},f)),n=setTimeout(()=>{r&&o(r),r=null,h(u())},d)})}}function NY(e,t=!0,n=!0,r=!1){let a=0,o,s=!0,u=em,d;const f=()=>{o&&(clearTimeout(o),o=void 0,u(),u=em)};return v=>{const y=gd(e),b=Date.now()-a,w=()=>d=v();return f(),y<=0?(a=Date.now(),w()):(b>y&&(n||!s)?(a=Date.now(),w()):t&&(d=new Promise((g,x)=>{u=r?x:g,o=setTimeout(()=>{a=Date.now(),s=!0,g(w()),f()},Math.max(0,y-b))})),!n&&!o&&(o=setTimeout(()=>s=!0,y)),s=!1,d)}}function FY(e){return e}function BY(e,t){let n,r,a;const o=re(!0),s=()=>{o.value=!0,a()};bt(e,s,{flush:"sync"});const u=oM(t)?t:t.get,d=oM(t)?void 0:t.set,f=vH((h,v)=>(r=h,a=v,{get(){return o.value&&(n=u(),o.value=!1),r(),n},set(y){d==null||d(y)}}));return Object.isExtensible(f)&&(f.trigger=s),f}function I0(e){return tI()?(nI(e),!0):!1}function zY(e,t=200,n={}){return DD(DY(t,n),e)}function VY(e,t=200,n={}){const r=re(e.value),a=zY(()=>{r.value=e.value},t,n);return bt(e,()=>a()),r}function ND(e,t=200,n=!1,r=!0,a=!1){return DD(NY(t,n,r,a),e)}function hC(e,t=!0){Jn()?Bn(e):t?e():cn(e)}function qf(e,t,n={}){const{immediate:r=!0}=n,a=re(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function u(){a.value=!1,s()}function d(...f){s(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...f)},gd(t))}return r&&(a.value=!0,wr&&d()),I0(u),{isPending:wm(a),start:d,stop:u}}function Uo(e){var t;const n=gd(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Cd=wr?window:void 0,UY=wr?window.document:void 0;function Kr(...e){let t,n,r,a;if(OY(e[0])||Array.isArray(e[0])?([n,r,a]=e,t=Cd):[t,n,r,a]=e,!t)return em;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(h=>h()),o.length=0},u=(h,v,y,b)=>(h.addEventListener(v,y,b),()=>h.removeEventListener(v,y,b)),d=bt(()=>[Uo(t),gd(a)],([h,v])=>{s(),h&&o.push(...n.flatMap(y=>r.map(b=>u(h,y,b,v))))},{immediate:!0,flush:"post"}),f=()=>{d(),s()};return I0(f),f}let z3=!1;function pC(e,t,n={}){const{window:r=Cd,ignore:a=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return;sM&&!z3&&(z3=!0,Array.from(r.document.body.children).forEach(y=>y.addEventListener("click",em)));let u=!0;const d=y=>a.some(b=>{if(typeof b=="string")return Array.from(r.document.querySelectorAll(b)).some(w=>w===y.target||y.composedPath().includes(w));{const w=Uo(b);return w&&(y.target===w||y.composedPath().includes(w))}}),h=[Kr(r,"click",y=>{const b=Uo(e);if(!(!b||b===y.target||y.composedPath().includes(b))){if(y.detail===0&&(u=!d(y)),!u){u=!0;return}t(y)}},{passive:!0,capture:o}),Kr(r,"pointerdown",y=>{const b=Uo(e);b&&(u=!y.composedPath().includes(b)&&!d(y))},{passive:!0}),s&&Kr(r,"blur",y=>{var b;const w=Uo(e);((b=r.document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(w!=null&&w.contains(r.document.activeElement))&&t(y)})].filter(Boolean);return()=>h.forEach(y=>y())}function HY(e={}){var t;const{window:n=Cd}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,a=BY(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Kr(n,"blur",o=>{o.relatedTarget===null&&a.trigger()},!0),Kr(n,"focus",a.trigger,!0)),a}function FD(e,t=!1){const n=re(),r=()=>n.value=!!e();return r(),hC(r,t),n}function $Y(e){return JSON.parse(JSON.stringify(e))}const V3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U3="__vueuse_ssr_handlers__";V3[U3]=V3[U3]||{};function GY(e,t,{window:n=Cd,initialValue:r=""}={}){const a=re(r),o=U(()=>{var s;return Uo(t)||((s=n==null?void 0:n.document)==null?void 0:s.documentElement)});return bt([o,()=>gd(e)],([s,u])=>{var d;if(s&&n){const f=(d=n.getComputedStyle(s).getPropertyValue(u))==null?void 0:d.trim();a.value=f||r}},{immediate:!0}),bt(a,s=>{var u;(u=o.value)!=null&&u.style&&o.value.style.setProperty(gd(e),s)}),a}function WY({document:e=UY}={}){if(!e)return re("visible");const t=re(e.visibilityState);return Kr(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var H3=Object.getOwnPropertySymbols,jY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,KY=(e,t)=>{var n={};for(var r in e)jY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&H3)for(var r of H3(e))t.indexOf(r)<0&&qY.call(e,r)&&(n[r]=e[r]);return n};function Ri(e,t,n={}){const r=n,{window:a=Cd}=r,o=KY(r,["window"]);let s;const u=FD(()=>a&&"ResizeObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},f=bt(()=>Uo(e),v=>{d(),u.value&&a&&v&&(s=new ResizeObserver(t),s.observe(v,o))},{immediate:!0,flush:"post"}),h=()=>{d(),f()};return I0(h),{isSupported:u,stop:h}}function $3(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0,immediate:o=!0}=t,s=re(0),u=re(0),d=re(0),f=re(0),h=re(0),v=re(0),y=re(0),b=re(0);function w(){const g=Uo(e);if(!g){n&&(s.value=0,u.value=0,d.value=0,f.value=0,h.value=0,v.value=0,y.value=0,b.value=0);return}const x=g.getBoundingClientRect();s.value=x.height,u.value=x.bottom,d.value=x.left,f.value=x.right,h.value=x.top,v.value=x.width,y.value=x.x,b.value=x.y}return Ri(e,w),bt(()=>Uo(e),g=>!g&&w()),a&&Kr("scroll",w,{capture:!0,passive:!0}),r&&Kr("resize",w,{passive:!0}),hC(()=>{o&&w()}),{height:s,bottom:u,left:d,right:f,top:h,width:v,x:y,y:b,update:w}}var G3=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,ZY=(e,t)=>{var n={};for(var r in e)YY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&G3)for(var r of G3(e))t.indexOf(r)<0&&XY.call(e,r)&&(n[r]=e[r]);return n};function BD(e,t,n={}){const r=n,{window:a=Cd}=r,o=ZY(r,["window"]);let s;const u=FD(()=>a&&"MutationObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},f=bt(()=>Uo(e),v=>{d(),u.value&&a&&v&&(s=new MutationObserver(t),s.observe(v,o))},{immediate:!0}),h=()=>{d(),f()};return I0(h),{isSupported:u,stop:h}}var W3;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(W3||(W3={}));var JY=Object.defineProperty,j3=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,q3=(e,t,n)=>t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tX=(e,t)=>{for(var n in t||(t={}))QY.call(t,n)&&q3(e,n,t[n]);if(j3)for(var n of j3(t))eX.call(t,n)&&q3(e,n,t[n]);return e};const nX={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};tX({linear:FY},nX);function zD(e,t,n,r={}){var a,o,s;const{clone:u=!1,passive:d=!1,eventName:f,deep:h=!1,defaultValue:v}=r,y=Jn(),b=n||(y==null?void 0:y.emit)||((a=y==null?void 0:y.$emit)==null?void 0:a.bind(y))||((s=(o=y==null?void 0:y.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(y==null?void 0:y.proxy));let w=f;t||(t="modelValue"),w=f||w||"update:".concat(t.toString());const g=M=>u?oM(u)?u(M):$Y(M):M,x=()=>IY(e[t])?g(e[t]):v;if(d){const M=x(),R=re(M);return bt(()=>e[t],A=>R.value=g(A)),bt(R,A=>{(A!==e[t]||h)&&b(w,A)},{deep:h}),R}else return U({get(){return x()},set(M){b(w,M)}})}function rX({window:e=Cd}={}){if(!e)return re(!1);const t=re(e.document.hasFocus());return Kr(e,"blur",()=>{t.value=!1}),Kr(e,"focus",()=>{t.value=!0}),t}function iX(e={}){const{window:t=Cd,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:a=!0,includeScrollbar:o=!0}=e,s=re(n),u=re(r),d=()=>{t&&(o?(s.value=t.innerWidth,u.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight))};return d(),hC(d),Kr("resize",d,{passive:!0}),a&&Kr("orientationchange",d,{passive:!0}),{width:s,height:u}}class aX extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function va(e,t){throw new aX("[".concat(e,"] ").concat(t))}const K3={current:0},Y3=re(0),VD=2e3,X3=Symbol("elZIndexContextKey"),UD=Symbol("zIndexContextKey"),Tm=e=>{const t=Jn()?qt(X3,K3):K3,n=e||(Jn()?qt(UD,void 0):void 0),r=U(()=>{const s=m(n);return fn(s)?s:VD}),a=U(()=>r.value+Y3.value),o=()=>(t.current++,Y3.value=t.current,a.value);return!wr&&qt(X3),{initialZIndex:r,currentZIndex:a,nextZIndex:o}};var oX={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const sX=e=>(t,n)=>lX(t,n,m(e)),lX=(e,t,n)=>Zi(n,e,e).replace(/\{(\w+)\}/g,(r,a)=>{var o;return"".concat((o=t==null?void 0:t[a])!=null?o:"{".concat(a,"}"))}),uX=e=>{const t=U(()=>m(e).name),n=vi(e)?e:re(e);return{lang:t,locale:n,t:sX(e)}},HD=Symbol("localeContextKey"),xr=e=>{const t=e||qt(HD,re());return uX(U(()=>t.value||oX))},$D="__epPropKey",ze=e=>e,cX=e=>jn(e)&&!!e[$D],Wl=(e,t)=>{if(!jn(e)||cX(e))return e;const{values:n,required:r,default:a,type:o,validator:s}=e,d={type:o,required:!!r,validator:n||s?f=>{let h=!1,v=[];if(n&&(v=Array.from(n),kr(e,"default")&&v.push(a),h||(h=v.includes(f))),s&&(h||(h=s(f))),!h&&v.length>0){const y=[...new Set(v)].map(b=>JSON.stringify(b)).join(", ");x8("Invalid prop: validation failed".concat(t?' for prop "'.concat(t,'"'):"",". Expected one of [").concat(y,"], got value ").concat(JSON.stringify(f),"."))}return h}:void 0,[$D]:!0};return kr(e,"default")&&(d.default=a),d},kt=e=>t0(Object.entries(e).map(([t,n])=>[t,Wl(n,t)])),Du=["","default","small","large"],ca=Wl({type:String,values:Du,required:!1}),GD=Symbol("size"),WD=()=>{const e=qt(GD,{});return U(()=>m(e.size)||"")},jD=Symbol("emptyValuesContextKey"),dX=["",void 0,null],fX=void 0,Am=kt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>on(e)?!e():!e}}),Sw=(e,t)=>{const n=Jn()?qt(jD,re({})):re({}),r=U(()=>e.emptyValues||n.value.emptyValues||dX),a=U(()=>on(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:on(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:fX),o=s=>r.value.includes(s);return r.value.includes(a.value),{emptyValues:r,valueOnClear:a,isEmptyValue:o}},tm=e=>Object.keys(e),qD=e=>Object.entries(e),Ig=(e,t,n)=>({get value(){return Zi(e,t,n)},set value(r){bY(e,t,r)}}),T_=re();function Mw(e,t=void 0){const n=Jn()?qt(jO,T_):T_;return e?U(()=>{var r,a;return(a=(r=n.value)==null?void 0:r[e])!=null?a:t}):n}function Ew(e,t){const n=Mw(),r=xt(e,U(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||Pg})),a=xr(U(()=>{var u;return(u=n.value)==null?void 0:u.locale})),o=Tm(U(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||VD})),s=U(()=>{var u;return m(t)||((u=n.value)==null?void 0:u.size)||""});return mC(U(()=>m(n)||{})),{ns:r,locale:a,zIndex:o,size:s}}const mC=(e,t,n=!1)=>{var r;const a=!!Jn(),o=a?Mw():void 0,s=(r=t==null?void 0:t.provide)!=null?r:a?or:void 0;if(!s)return;const u=U(()=>{const d=m(e);return o!=null&&o.value?hX(o.value,d):d});return s(jO,u),s(HD,U(()=>u.value.locale)),s(qO,U(()=>u.value.namespace)),s(UD,U(()=>u.value.zIndex)),s(GD,{size:U(()=>u.value.size||"")}),s(jD,U(()=>({emptyValues:u.value.emptyValues,valueOnClear:u.value.valueOnClear}))),(n||!T_.value)&&(T_.value=u.value),u},hX=(e,t)=>{const n=[...new Set([...tm(e),...tm(t)])],r={};for(const a of n)r[a]=t[a]!==void 0?t[a]:e[a];return r},pX=(e=[])=>({version:e9,install:(n,r)=>{n[i3]||(n[i3]=!0,e.forEach(a=>n.use(a)),r&&mC(r,n,!0))}}),Vn="update:modelValue",Qr="change",ro="input",mX=kt({zIndex:{type:ze([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),vX={scroll:({scrollTop:e,fixed:t})=>fn(e)&&ri(t),[Qr]:e=>ri(e)};var Ft=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};function gX(e,t,n,r){const a=n-t;return e/=r/2,e<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}const yd=e=>wr?window.requestAnimationFrame(e):setTimeout(e,16),Kf=e=>wr?window.cancelAnimationFrame(e):clearTimeout(e),KD=(e="")=>e.split(" ").filter(t=>!!t.trim()),cs=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},el=(e,t)=>{!e||!t.trim()||e.classList.add(...KD(t))},Co=(e,t)=>{!e||!t.trim()||e.classList.remove(...KD(t))},cc=(e,t)=>{var n;if(!wr||!e||!t)return"";let r=$o(t);r==="float"&&(r="cssFloat");try{const a=e.style[r];if(a)return a;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch(a){return e.style[r]}},YD=(e,t,n)=>{if(!(!e||!t))if(jn(t))qD(t).forEach(([r,a])=>YD(e,r,a));else{const r=$o(t);e.style[r]=n}};function Bi(e,t="px"){if(!e)return"";if(fn(e)||EY(e))return"".concat(e).concat(t);if(nn(e))return e}const yX=(e,t)=>{if(!wr)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=cc(e,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},vC=(e,t)=>{if(!wr)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(yX(n,t))return n;n=n.parentNode}return n};let Hy;const XD=e=>{var t;if(!wr)return 0;if(Hy!==void 0)return Hy;const n=document.createElement("div");n.className="".concat(e,"-scrollbar__wrap"),n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",n.appendChild(a);const o=a.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),Hy=r-o,Hy};function gC(e,t){if(!wr)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const a=t.offsetTop+n.reduce((d,f)=>d+f.offsetTop,0),o=a+t.offsetHeight,s=e.scrollTop,u=s+e.clientHeight;a<s?e.scrollTop=a:o>u&&(e.scrollTop=o-e.clientHeight)}function bX(e,t,n,r,a){const o=Date.now();let s;const u=()=>{const f=Date.now()-o,h=gX(f>r?r:f,t,n,r);xw(e)?e.scrollTo(window.pageXOffset,h):e.scrollTop=h,f<r?s=yd(u):on(a)&&a()};return u(),()=>{s&&Kf(s)}}const Z3=(e,t)=>xw(t)?e.ownerDocument.documentElement:t,J3=e=>xw(e)?window.scrollY:e.scrollTop,ZD="ElAffix",_X=we({name:ZD}),wX=we({..._X,props:mX,emits:vX,setup(e,{expose:t,emit:n}){const r=e,a=xt("affix"),o=hi(),s=hi(),u=hi(),{height:d}=iX(),{height:f,width:h,top:v,bottom:y,update:b}=$3(s,{windowScroll:!1}),w=$3(o),g=re(!1),x=re(0),M=re(0),R=U(()=>({height:g.value?"".concat(f.value,"px"):"",width:g.value?"".concat(h.value,"px"):""})),A=U(()=>{if(!g.value)return{};const I=r.offset?Bi(r.offset):0;return{height:"".concat(f.value,"px"),width:"".concat(h.value,"px"),top:r.position==="top"?I:"",bottom:r.position==="bottom"?I:"",transform:M.value?"translateY(".concat(M.value,"px)"):"",zIndex:r.zIndex}}),T=()=>{if(!u.value)return;x.value=u.value instanceof Window?document.documentElement.scrollTop:u.value.scrollTop||0;const{position:I,target:E,offset:D}=r,N=D+f.value;if(I==="top")if(E){const B=w.bottom.value-N;g.value=D>v.value&&w.bottom.value>0,M.value=B<0?B:0}else g.value=D>v.value;else if(E){const B=d.value-w.top.value-N;g.value=d.value-D<y.value&&d.value>w.top.value,M.value=B<0?-B:0}else g.value=d.value-D<y.value},P=()=>{b(),n("scroll",{scrollTop:x.value,fixed:g.value})};return bt(g,I=>n("change",I)),Bn(()=>{var I;r.target?(o.value=(I=document.querySelector(r.target))!=null?I:void 0,o.value||va(ZD,"Target does not exist: ".concat(r.target))):o.value=document.documentElement,u.value=vC(s.value,!0),b()}),Kr(u,"scroll",P),to(T),t({update:T,updateRoot:b}),(I,E)=>(W(),ue("div",{ref_key:"root",ref:s,class:J(m(a).b()),style:un(m(R))},[fe("div",{class:J({[m(a).m("fixed")]:g.value}),style:un(m(A))},[Ue(I.$slots,"default")],6)],6))}});var xX=Ft(wX,[["__file","affix.vue"]]);const On=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t!=null?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},JD=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),SX=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ii=e=>(e.install=$r,e),MX=On(xX),EX=kt({size:{type:ze([Number,String])},color:{type:String}}),CX=we({name:"ElIcon",inheritAttrs:!1}),TX=we({...CX,props:EX,setup(e){const t=e,n=xt("icon"),r=U(()=>{const{size:a,color:o}=t;return!a&&!o?{}:{fontSize:Or(a)?void 0:Bi(a),"--color":o}});return(a,o)=>(W(),ue("i",nr({class:m(n).b(),style:m(r)},a.$attrs),[Ue(a.$slots,"default")],16))}});var AX=Ft(TX,[["__file","icon.vue"]]);const tn=On(AX),ei=ze([String,Object,Function]),yC={Close:Bl},bC={Close:Bl,SuccessFilled:AO,InfoFilled:dw,WarningFilled:fw,CircleCloseFilled:YE},bd={success:AO,warning:fw,error:YE,info:dw},Cw={validating:Ru,success:KE,error:Sc},LX=["light","dark"],RX=kt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:tm(bd),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:LX,default:"light"}}),PX={close:e=>e instanceof MouseEvent},kX=we({name:"ElAlert"}),IX=we({...kX,props:RX,emits:PX,setup(e,{emit:t}){const n=e,{Close:r}=bC,a=ya(),o=xt("alert"),s=re(!0),u=U(()=>bd[n.type]),d=U(()=>!!(n.description||a.default)),f=h=>{s.value=!1,t("close",h)};return(h,v)=>(W(),tt(Ia,{name:m(o).b("fade"),persisted:""},{default:be(()=>[kn(fe("div",{class:J([m(o).b(),m(o).m(h.type),m(o).is("center",h.center),m(o).is(h.effect)]),role:"alert"},[h.showIcon&&m(u)?(W(),tt(m(tn),{key:0,class:J([m(o).e("icon"),{[m(o).is("big")]:m(d)}])},{default:be(()=>[(W(),tt(tr(m(u))))]),_:1},8,["class"])):Ye("v-if",!0),fe("div",{class:J(m(o).e("content"))},[h.title||h.$slots.title?(W(),ue("span",{key:0,class:J([m(o).e("title"),{"with-description":m(d)}])},[Ue(h.$slots,"title",{},()=>[Pn(Pt(h.title),1)])],2)):Ye("v-if",!0),m(d)?(W(),ue("p",{key:1,class:J(m(o).e("description"))},[Ue(h.$slots,"default",{},()=>[Pn(Pt(h.description),1)])],2)):Ye("v-if",!0),h.closable?(W(),ue(rn,{key:2},[h.closeText?(W(),ue("div",{key:0,class:J([m(o).e("close-btn"),m(o).is("customed")]),onClick:f},Pt(h.closeText),3)):(W(),tt(m(tn),{key:1,class:J(m(o).e("close-btn")),onClick:f},{default:be(()=>[ce(m(r))]),_:1},8,["class"]))],64)):Ye("v-if",!0)],2)],2),[[_r,s.value]])]),_:3},8,["name"]))}});var OX=Ft(IX,[["__file","alert.vue"]]);const DX=On(OX),Tw=()=>wr&&/firefox/i.test(window.navigator.userAgent);let as;const NX={height:"0",visibility:"hidden",overflow:Tw()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},FX=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function BX(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:FX.map(s=>[s,t.getPropertyValue(s)]),paddingSize:r,borderSize:a,boxSizing:n}}function Q3(e,t=1,n){var r;as||(as=document.createElement("textarea"),document.body.appendChild(as));const{paddingSize:a,borderSize:o,boxSizing:s,contextStyle:u}=BX(e);u.forEach(([v,y])=>as==null?void 0:as.style.setProperty(v,y)),Object.entries(NX).forEach(([v,y])=>as==null?void 0:as.style.setProperty(v,y,"important")),as.value=e.value||e.placeholder||"";let d=as.scrollHeight;const f={};s==="border-box"?d=d+o:s==="content-box"&&(d=d-a),as.value="";const h=as.scrollHeight-a;if(fn(t)){let v=h*t;s==="border-box"&&(v=v+a+o),d=Math.max(v,d),f.minHeight="".concat(v,"px")}if(fn(n)){let v=h*n;s==="border-box"&&(v=v+a+o),d=Math.min(v,d)}return f.height="".concat(d,"px"),(r=as.parentNode)==null||r.removeChild(as),as=void 0,f}const Pi=e=>e,zX=kt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),qa=e=>Pl(zX,e),_C=kt({id:{type:String,default:void 0},size:ca,disabled:Boolean,modelValue:{type:ze([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ze([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ei},prefixIcon:{type:ei},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ze([Object,Array,String]),default:()=>Pi({})},autofocus:Boolean,rows:{type:Number,default:2},...qa(["ariaLabel"])}),VX={[Vn]:e=>nn(e),input:e=>nn(e),change:e=>nn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},UX=["class","style"],HX=/^on[A-Z]/,O0=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=U(()=>((n==null?void 0:n.value)||[]).concat(UX)),a=Jn();return U(a?()=>{var o;return t0(Object.entries((o=a.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&HX.test(s))))}:()=>({}))},sh=Symbol("formContextKey"),ku=Symbol("formItemContextKey"),eL={prefix:Math.floor(Math.random()*1e4),current:0},$X=Symbol("elIdInjection"),wC=()=>Jn()?qt($X,eL):eL,ja=e=>{const t=wC(),n=ZE();return aM(()=>m(e)||"".concat(n.value,"-id-").concat(t.prefix,"-").concat(t.current++))},lo=()=>{const e=qt(sh,void 0),t=qt(ku,void 0);return{form:e,formItem:t}},ul=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=re(!1)),r||(r=re(!1));const a=re();let o;const s=U(()=>{var u;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return Bn(()=>{o=bt([Hr(e,"id"),n],([u,d])=>{const f=u!=null?u:d?void 0:ja().value;f!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(r!=null&&r.value)&&!d&&f&&t.addInputId(f)),a.value=f)},{immediate:!0})}),Md(()=>{o&&o(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:s,inputId:a}},QD=e=>{const t=Jn();return U(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},ta=(e,t={})=>{const n=re(void 0),r=t.prop?n:QD("size"),a=t.global?n:WD(),o=t.form?{size:void 0}:qt(sh,void 0),s=t.formItem?{size:void 0}:qt(ku,void 0);return U(()=>r.value||m(e)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||a.value||"")},uo=e=>{const t=QD("disabled"),n=qt(sh,void 0);return U(()=>t.value||m(e)||(n==null?void 0:n.disabled)||!1)};function Td(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:a}={}){const o=Jn(),{emit:s}=o,u=hi(),d=re(!1),f=y=>{on(t)&&t(y)||d.value||(d.value=!0,s("focus",y),n==null||n())},h=y=>{var b;on(r)&&r(y)||y.relatedTarget&&((b=u.value)!=null&&b.contains(y.relatedTarget))||(d.value=!1,s("blur",y),a==null||a())},v=()=>{var y,b;(y=u.value)!=null&&y.contains(document.activeElement)&&u.value!==document.activeElement||(b=e.value)==null||b.focus()};return bt(u,y=>{y&&y.setAttribute("tabindex","-1")}),Kr(u,"focus",f,!0),Kr(u,"blur",h,!0),Kr(u,"click",v,!0),{isFocused:d,wrapperRef:u,handleFocus:f,handleBlur:h}}const GX=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function D0({afterComposition:e,emit:t}){const n=re(!1),r=u=>{t==null||t("compositionstart",u),n.value=!0},a=u=>{var d;t==null||t("compositionupdate",u);const f=(d=u.target)==null?void 0:d.value,h=f[f.length-1]||"";n.value=!GX(h)},o=u=>{t==null||t("compositionend",u),n.value&&(n.value=!1,cn(()=>e(u)))};return{isComposing:n,handleComposition:u=>{u.type==="compositionend"?o(u):a(u)},handleCompositionStart:r,handleCompositionUpdate:a,handleCompositionEnd:o}}function WX(e){let t;function n(){if(e.value==null)return;const{selectionStart:a,selectionEnd:o,value:s}=e.value;if(a==null||o==null)return;const u=s.slice(0,Math.max(0,a)),d=s.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:s,beforeTxt:u,afterTxt:d}}function r(){if(e.value==null||t==null)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:s,selectionStart:u}=t;if(o==null||s==null||u==null)return;let d=a.length;if(a.endsWith(s))d=a.length-s.length;else if(a.startsWith(o))d=o.length;else{const f=o[u-1],h=a.indexOf(f,u-1);h!==-1&&(d=h+1)}e.value.setSelectionRange(d,d)}return[n,r]}const jX=we({name:"ElInput",inheritAttrs:!1}),qX=we({...jX,props:_C,emits:VX,setup(e,{expose:t,emit:n}){const r=e,a=wc(),o=O0(),s=ya(),u=U(()=>[r.type==="textarea"?g.b():w.b(),w.m(y.value),w.is("disabled",b.value),w.is("exceed",he.value),{[w.b("group")]:s.prepend||s.append,[w.m("prefix")]:s.prefix||r.prefixIcon,[w.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[w.bm("suffix","password-clear")]:Z.value&&j.value,[w.b("hidden")]:r.type==="hidden"},a.class]),d=U(()=>[w.e("wrapper"),w.is("focus",D.value)]),{form:f,formItem:h}=lo(),{inputId:v}=ul(r,{formItemContext:h}),y=ta(),b=uo(),w=xt("input"),g=xt("textarea"),x=hi(),M=hi(),R=re(!1),A=re(!1),T=re(),P=hi(r.inputStyle),I=U(()=>x.value||M.value),{wrapperRef:E,isFocused:D,handleFocus:N,handleBlur:B}=Td(I,{beforeFocus(){return b.value},afterBlur(){var Fe;r.validateEvent&&((Fe=h==null?void 0:h.validate)==null||Fe.call(h,"blur").catch(qe=>void 0))}}),G=U(()=>{var Fe;return(Fe=f==null?void 0:f.statusIcon)!=null?Fe:!1}),$=U(()=>(h==null?void 0:h.validateState)||""),Q=U(()=>$.value&&Cw[$.value]),ae=U(()=>A.value?L$:B5),ee=U(()=>[a.style]),K=U(()=>[r.inputStyle,P.value,{resize:r.resize}]),X=U(()=>Sa(r.modelValue)?"":String(r.modelValue)),Z=U(()=>r.clearable&&!b.value&&!r.readonly&&!!X.value&&(D.value||R.value)),j=U(()=>r.showPassword&&!b.value&&!!X.value&&(!!X.value||D.value)),ie=U(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!b.value&&!r.readonly&&!r.showPassword),pe=U(()=>X.value.length),he=U(()=>!!ie.value&&pe.value>Number(r.maxlength)),le=U(()=>!!s.suffix||!!r.suffixIcon||Z.value||r.showPassword||ie.value||!!$.value&&G.value),[Re,De]=WX(x);Ri(M,Fe=>{if(ke(),!ie.value||r.resize!=="both")return;const qe=Fe[0],{width:Et}=qe.contentRect;T.value={right:"calc(100% - ".concat(Et+15+6,"px)")}});const Te=()=>{const{type:Fe,autosize:qe}=r;if(!(!wr||Fe!=="textarea"||!M.value))if(qe){const Et=jn(qe)?qe.minRows:void 0,$t=jn(qe)?qe.maxRows:void 0,Yt=Q3(M.value,Et,$t);P.value={overflowY:"hidden",...Yt},cn(()=>{M.value.offsetHeight,P.value=Yt})}else P.value={minHeight:Q3(M.value).minHeight}},ke=(Fe=>{let qe=!1;return()=>{var Et;if(qe||!r.autosize)return;((Et=M.value)==null?void 0:Et.offsetParent)===null||(Fe(),qe=!0)}})(Te),Pe=()=>{const Fe=I.value,qe=r.formatter?r.formatter(X.value):X.value;!Fe||Fe.value===qe||(Fe.value=qe)},Xe=async Fe=>{Re();let{value:qe}=Fe.target;if(r.formatter&&(qe=r.parser?r.parser(qe):qe),!se.value){if(qe===X.value){Pe();return}n(Vn,qe),n("input",qe),await cn(),Pe(),De()}},ct=Fe=>{n("change",Fe.target.value)},{isComposing:se,handleCompositionStart:ye,handleCompositionUpdate:He,handleCompositionEnd:dt}=D0({emit:n,afterComposition:Xe}),pt=()=>{Re(),A.value=!A.value,setTimeout(De)},nt=()=>{var Fe;return(Fe=I.value)==null?void 0:Fe.focus()},ot=()=>{var Fe;return(Fe=I.value)==null?void 0:Fe.blur()},rt=Fe=>{R.value=!1,n("mouseleave",Fe)},At=Fe=>{R.value=!0,n("mouseenter",Fe)},Mt=Fe=>{n("keydown",Fe)},Me=()=>{var Fe;(Fe=I.value)==null||Fe.select()},ve=()=>{n(Vn,""),n("change",""),n("clear"),n("input","")};return bt(()=>r.modelValue,()=>{var Fe;cn(()=>Te()),r.validateEvent&&((Fe=h==null?void 0:h.validate)==null||Fe.call(h,"change").catch(qe=>void 0))}),bt(X,()=>Pe()),bt(()=>r.type,async()=>{await cn(),Pe(),Te()}),Bn(()=>{!r.formatter&&r.parser,Pe(),cn(Te)}),t({input:x,textarea:M,ref:I,textareaStyle:K,autosize:Hr(r,"autosize"),isComposing:se,focus:nt,blur:ot,select:Me,clear:ve,resizeTextarea:Te}),(Fe,qe)=>(W(),ue("div",{class:J([m(u),{[m(w).bm("group","append")]:Fe.$slots.append,[m(w).bm("group","prepend")]:Fe.$slots.prepend}]),style:un(m(ee)),onMouseenter:At,onMouseleave:rt},[Ye(" input "),Fe.type!=="textarea"?(W(),ue(rn,{key:0},[Ye(" prepend slot "),Fe.$slots.prepend?(W(),ue("div",{key:0,class:J(m(w).be("group","prepend"))},[Ue(Fe.$slots,"prepend")],2)):Ye("v-if",!0),fe("div",{ref_key:"wrapperRef",ref:E,class:J(m(d))},[Ye(" prefix slot "),Fe.$slots.prefix||Fe.prefixIcon?(W(),ue("span",{key:0,class:J(m(w).e("prefix"))},[fe("span",{class:J(m(w).e("prefix-inner"))},[Ue(Fe.$slots,"prefix"),Fe.prefixIcon?(W(),tt(m(tn),{key:0,class:J(m(w).e("icon"))},{default:be(()=>[(W(),tt(tr(Fe.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0),fe("input",nr({id:m(v),ref_key:"input",ref:x,class:m(w).e("inner")},m(o),{minlength:Fe.minlength,maxlength:Fe.maxlength,type:Fe.showPassword?A.value?"text":"password":Fe.type,disabled:m(b),readonly:Fe.readonly,autocomplete:Fe.autocomplete,tabindex:Fe.tabindex,"aria-label":Fe.ariaLabel,placeholder:Fe.placeholder,style:Fe.inputStyle,form:Fe.form,autofocus:Fe.autofocus,role:Fe.containerRole,onCompositionstart:m(ye),onCompositionupdate:m(He),onCompositionend:m(dt),onInput:Xe,onChange:ct,onKeydown:Mt}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Ye(" suffix slot "),m(le)?(W(),ue("span",{key:1,class:J(m(w).e("suffix"))},[fe("span",{class:J(m(w).e("suffix-inner"))},[!m(Z)||!m(j)||!m(ie)?(W(),ue(rn,{key:0},[Ue(Fe.$slots,"suffix"),Fe.suffixIcon?(W(),tt(m(tn),{key:0,class:J(m(w).e("icon"))},{default:be(()=>[(W(),tt(tr(Fe.suffixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],64)):Ye("v-if",!0),m(Z)?(W(),tt(m(tn),{key:1,class:J([m(w).e("icon"),m(w).e("clear")]),onMousedown:Sn(m($r),["prevent"]),onClick:ve},{default:be(()=>[ce(m(Sc))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0),m(j)?(W(),tt(m(tn),{key:2,class:J([m(w).e("icon"),m(w).e("password")]),onClick:pt},{default:be(()=>[(W(),tt(tr(m(ae))))]),_:1},8,["class"])):Ye("v-if",!0),m(ie)?(W(),ue("span",{key:3,class:J(m(w).e("count"))},[fe("span",{class:J(m(w).e("count-inner"))},Pt(m(pe))+" / "+Pt(Fe.maxlength),3)],2)):Ye("v-if",!0),m($)&&m(Q)&&m(G)?(W(),tt(m(tn),{key:4,class:J([m(w).e("icon"),m(w).e("validateIcon"),m(w).is("loading",m($)==="validating")])},{default:be(()=>[(W(),tt(tr(m(Q))))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0)],2),Ye(" append slot "),Fe.$slots.append?(W(),ue("div",{key:1,class:J(m(w).be("group","append"))},[Ue(Fe.$slots,"append")],2)):Ye("v-if",!0)],64)):(W(),ue(rn,{key:1},[Ye(" textarea "),fe("textarea",nr({id:m(v),ref_key:"textarea",ref:M,class:[m(g).e("inner"),m(w).is("focus",m(D))]},m(o),{minlength:Fe.minlength,maxlength:Fe.maxlength,tabindex:Fe.tabindex,disabled:m(b),readonly:Fe.readonly,autocomplete:Fe.autocomplete,style:m(K),"aria-label":Fe.ariaLabel,placeholder:Fe.placeholder,form:Fe.form,autofocus:Fe.autofocus,rows:Fe.rows,role:Fe.containerRole,onCompositionstart:m(ye),onCompositionupdate:m(He),onCompositionend:m(dt),onInput:Xe,onFocus:m(N),onBlur:m(B),onChange:ct,onKeydown:Mt}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),m(ie)?(W(),ue("span",{key:0,style:un(T.value),class:J(m(w).e("count"))},Pt(m(pe))+" / "+Pt(Fe.maxlength),7)):Ye("v-if",!0)],64))],38))}});var KX=Ft(qX,[["__file","input.vue"]]);const Mo=On(KX),Qh=4,eN={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},YX=({move:e,size:t,bar:n})=>({[n.size]:t,transform:"translate".concat(n.axis,"(").concat(e,"%)")}),xC=Symbol("scrollbarContextKey"),XX=kt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ZX="Thumb",JX=we({__name:"thumb",props:XX,setup(e){const t=e,n=qt(xC),r=xt("scrollbar");n||va(ZX,"can not inject scrollbar context");const a=re(),o=re(),s=re({}),u=re(!1);let d=!1,f=!1,h=wr?document.onselectstart:null;const v=U(()=>eN[t.vertical?"vertical":"horizontal"]),y=U(()=>YX({size:t.size,move:t.move,bar:v.value})),b=U(()=>a.value[v.value.offset]**2/n.wrapElement[v.value.scrollSize]/t.ratio/o.value[v.value.offset]),w=I=>{var E;if(I.stopPropagation(),I.ctrlKey||[1,2].includes(I.button))return;(E=window.getSelection())==null||E.removeAllRanges(),x(I);const D=I.currentTarget;D&&(s.value[v.value.axis]=D[v.value.offset]-(I[v.value.client]-D.getBoundingClientRect()[v.value.direction]))},g=I=>{if(!o.value||!a.value||!n.wrapElement)return;const E=Math.abs(I.target.getBoundingClientRect()[v.value.direction]-I[v.value.client]),D=o.value[v.value.offset]/2,N=(E-D)*100*b.value/a.value[v.value.offset];n.wrapElement[v.value.scroll]=N*n.wrapElement[v.value.scrollSize]/100},x=I=>{I.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",R),h=document.onselectstart,document.onselectstart=()=>!1},M=I=>{if(!a.value||!o.value||d===!1)return;const E=s.value[v.value.axis];if(!E)return;const D=(a.value.getBoundingClientRect()[v.value.direction]-I[v.value.client])*-1,N=o.value[v.value.offset]-E,B=(D-N)*100*b.value/a.value[v.value.offset];n.wrapElement[v.value.scroll]=B*n.wrapElement[v.value.scrollSize]/100},R=()=>{d=!1,s.value[v.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R),P(),f&&(u.value=!1)},A=()=>{f=!1,u.value=!!t.size},T=()=>{f=!0,u.value=d};Yr(()=>{P(),document.removeEventListener("mouseup",R)});const P=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return Kr(Hr(n,"scrollbarElement"),"mousemove",A),Kr(Hr(n,"scrollbarElement"),"mouseleave",T),(I,E)=>(W(),tt(Ia,{name:m(r).b("fade"),persisted:""},{default:be(()=>[kn(fe("div",{ref_key:"instance",ref:a,class:J([m(r).e("bar"),m(r).is(m(v).key)]),onMousedown:g},[fe("div",{ref_key:"thumb",ref:o,class:J(m(r).e("thumb")),style:un(m(y)),onMousedown:w},null,38)],34),[[_r,I.always||u.value]])]),_:1},8,["name"]))}});var tL=Ft(JX,[["__file","thumb.vue"]]);const QX=kt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),eZ=we({__name:"bar",props:QX,setup(e,{expose:t}){const n=e,r=qt(xC),a=re(0),o=re(0),s=re(""),u=re(""),d=re(1),f=re(1);return t({handleScroll:y=>{if(y){const b=y.offsetHeight-Qh,w=y.offsetWidth-Qh;o.value=y.scrollTop*100/b*d.value,a.value=y.scrollLeft*100/w*f.value}},update:()=>{const y=r==null?void 0:r.wrapElement;if(!y)return;const b=y.offsetHeight-Qh,w=y.offsetWidth-Qh,g=b**2/y.scrollHeight,x=w**2/y.scrollWidth,M=Math.max(g,n.minSize),R=Math.max(x,n.minSize);d.value=g/(b-g)/(M/(b-M)),f.value=x/(w-x)/(R/(w-R)),u.value=M+Qh<b?"".concat(M,"px"):"",s.value=R+Qh<w?"".concat(R,"px"):""}}),(y,b)=>(W(),ue(rn,null,[ce(tL,{move:a.value,ratio:f.value,size:s.value,always:y.always},null,8,["move","ratio","size","always"]),ce(tL,{move:o.value,ratio:d.value,size:u.value,vertical:"",always:y.always},null,8,["move","ratio","size","always"])],64))}});var tZ=Ft(eZ,[["__file","bar.vue"]]);const nZ=kt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ze([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...qa(["ariaLabel","ariaOrientation"])}),rZ={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(fn)},iZ="ElScrollbar",aZ=we({name:iZ}),oZ=we({...aZ,props:nZ,emits:rZ,setup(e,{expose:t,emit:n}){const r=e,a=xt("scrollbar");let o,s,u=0,d=0;const f=re(),h=re(),v=re(),y=re(),b=U(()=>{const P={};return r.height&&(P.height=Bi(r.height)),r.maxHeight&&(P.maxHeight=Bi(r.maxHeight)),[r.wrapStyle,P]}),w=U(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),g=U(()=>[a.e("view"),r.viewClass]),x=()=>{var P;h.value&&((P=y.value)==null||P.handleScroll(h.value),u=h.value.scrollTop,d=h.value.scrollLeft,n("scroll",{scrollTop:h.value.scrollTop,scrollLeft:h.value.scrollLeft}))};function M(P,I){jn(P)?h.value.scrollTo(P):fn(P)&&fn(I)&&h.value.scrollTo(P,I)}const R=P=>{fn(P)&&(h.value.scrollTop=P)},A=P=>{fn(P)&&(h.value.scrollLeft=P)},T=()=>{var P;(P=y.value)==null||P.update()};return bt(()=>r.noresize,P=>{P?(o==null||o(),s==null||s()):({stop:o}=Ri(v,T),s=Kr("resize",T))},{immediate:!0}),bt(()=>[r.maxHeight,r.height],()=>{r.native||cn(()=>{var P;T(),h.value&&((P=y.value)==null||P.handleScroll(h.value))})}),or(xC,Ir({scrollbarElement:f,wrapElement:h})),VE(()=>{h.value&&(h.value.scrollTop=u,h.value.scrollLeft=d)}),Bn(()=>{r.native||cn(()=>{T()})}),Hl(()=>T()),t({wrapRef:h,update:T,scrollTo:M,setScrollTop:R,setScrollLeft:A,handleScroll:x}),(P,I)=>(W(),ue("div",{ref_key:"scrollbarRef",ref:f,class:J(m(a).b())},[fe("div",{ref_key:"wrapRef",ref:h,class:J(m(w)),style:un(m(b)),tabindex:P.tabindex,onScroll:x},[(W(),tt(tr(P.tag),{id:P.id,ref_key:"resizeRef",ref:v,class:J(m(g)),style:un(P.viewStyle),role:P.role,"aria-label":P.ariaLabel,"aria-orientation":P.ariaOrientation},{default:be(()=>[Ue(P.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),P.native?Ye("v-if",!0):(W(),tt(tZ,{key:0,ref_key:"barRef",ref:y,always:P.always,"min-size":P.minSize},null,8,["always","min-size"]))],2))}});var sZ=Ft(oZ,[["__file","scrollbar.vue"]]);const Nu=On(sZ),SC=Symbol("popper"),tN=Symbol("popperContent"),lZ=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],nN=kt({role:{type:String,values:lZ,default:"tooltip"}}),uZ=we({name:"ElPopper",inheritAttrs:!1}),cZ=we({...uZ,props:nN,setup(e,{expose:t}){const n=e,r=re(),a=re(),o=re(),s=re(),u=U(()=>n.role),d={triggerRef:r,popperInstanceRef:a,contentRef:o,referenceRef:s,role:u};return t(d),or(SC,d),(f,h)=>Ue(f.$slots,"default")}});var dZ=Ft(cZ,[["__file","popper.vue"]]);const rN=kt({arrowOffset:{type:Number,default:5}}),fZ=we({name:"ElPopperArrow",inheritAttrs:!1}),hZ=we({...fZ,props:rN,setup(e,{expose:t}){const n=e,r=xt("popper"),{arrowOffset:a,arrowRef:o,arrowStyle:s}=qt(tN,void 0);return bt(()=>n.arrowOffset,u=>{a.value=u}),Yr(()=>{o.value=void 0}),t({arrowRef:o}),(u,d)=>(W(),ue("span",{ref_key:"arrowRef",ref:o,class:J(m(r).e("arrow")),style:un(m(s)),"data-popper-arrow":""},null,6))}});var pZ=Ft(hZ,[["__file","arrow.vue"]]);const iN=kt({virtualRef:{type:ze(Object)},virtualTriggering:Boolean,onMouseenter:{type:ze(Function)},onMouseleave:{type:ze(Function)},onClick:{type:ze(Function)},onKeydown:{type:ze(Function)},onFocus:{type:ze(Function)},onBlur:{type:ze(Function)},onContextmenu:{type:ze(Function)},id:String,open:Boolean}),aN=Symbol("elForwardRef"),mZ=e=>{or(aN,{setForwardRef:n=>{e.value=n}})},vZ=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),gZ='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',yZ=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,nL=e=>Array.from(e.querySelectorAll(gZ)).filter(t=>A_(t)&&yZ(t)),A_=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Nb=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const a=document.createEvent(r);return a.initEvent(t,...n),e.dispatchEvent(a),e},oN=e=>!e.getAttribute("aria-owns"),sN=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const a=r.querySelectorAll(n),o=Array.prototype.indexOf.call(a,e);return a[o+t]||null},Fb=e=>{e&&(e.focus(),!oN(e)&&e.click())},bZ="ElOnlyChild",lN=we({name:bZ,setup(e,{slots:t,attrs:n}){var r;const a=qt(aN),o=vZ((r=a==null?void 0:a.setForwardRef)!=null?r:$r);return()=>{var s;const u=(s=t.default)==null?void 0:s.call(t,n);if(!u||u.length>1)return null;const d=uN(u);return d?kn(pc(d,n),[[o]]):null}}});function uN(e){if(!e)return null;const t=e;for(const n of t){if(jn(n))switch(n.type){case La:continue;case xm:case"svg":return rL(n);case rn:return uN(n.children);default:return n}return rL(n)}return null}function rL(e){const t=xt("only-child");return ce("span",{class:t.e("content")},[e])}const _Z=we({name:"ElPopperTrigger",inheritAttrs:!1}),wZ=we({..._Z,props:iN,setup(e,{expose:t}){const n=e,{role:r,triggerRef:a}=qt(SC,void 0);mZ(a);const o=U(()=>u.value?n.id:void 0),s=U(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),u=U(()=>{if(r&&r.value!=="tooltip")return r.value}),d=U(()=>u.value?"".concat(n.open):void 0);let f;const h=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Bn(()=>{bt(()=>n.virtualRef,v=>{v&&(a.value=Uo(v))},{immediate:!0}),bt(a,(v,y)=>{f==null||f(),f=void 0,Ho(v)&&(h.forEach(b=>{var w;const g=n[b];g&&(v.addEventListener(b.slice(2).toLowerCase(),g),(w=y==null?void 0:y.removeEventListener)==null||w.call(y,b.slice(2).toLowerCase(),g))}),A_(v)&&(f=bt([o,s,u,d],b=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((w,g)=>{Sa(b[g])?v.removeAttribute(w):v.setAttribute(w,b[g])})},{immediate:!0}))),Ho(y)&&A_(y)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(b=>y.removeAttribute(b))},{immediate:!0})}),Yr(()=>{if(f==null||f(),f=void 0,a.value&&Ho(a.value)){const v=a.value;h.forEach(y=>{const b=n[y];b&&v.removeEventListener(y.slice(2).toLowerCase(),b)}),a.value=void 0}}),t({triggerRef:a}),(v,y)=>v.virtualTriggering?Ye("v-if",!0):(W(),tt(m(lN),nr({key:0},v.$attrs,{"aria-controls":m(o),"aria-describedby":m(s),"aria-expanded":m(d),"aria-haspopup":m(u)}),{default:be(()=>[Ue(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var xZ=Ft(wZ,[["__file","trigger.vue"]]);const wx="focus-trap.focus-after-trapped",xx="focus-trap.focus-after-released",SZ="focus-trap.focusout-prevented",iL={cancelable:!0,bubbles:!1},MZ={cancelable:!0,bubbles:!1},aL="focusAfterTrapped",oL="focusAfterReleased",MC=Symbol("elFocusTrap"),EC=re(),Aw=re(0),CC=re(0);let $y=0;const cN=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},sL=(e,t)=>{for(const n of e)if(!EZ(n,t))return n},EZ=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},CZ=e=>{const t=cN(e),n=sL(t,e),r=sL(t.reverse(),e);return[n,r]},TZ=e=>e instanceof HTMLInputElement&&"select"in e,oc=(e,t)=>{if(e&&e.focus){const n=document.activeElement;let r=!1;Ho(e)&&!A_(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),r=!0),e.focus({preventScroll:!0}),CC.value=window.performance.now(),e!==n&&TZ(e)&&t&&e.select(),Ho(e)&&r&&e.removeAttribute("tabindex")}};function lL(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const AZ=()=>{let e=[];return{push:r=>{const a=e[0];a&&r!==a&&a.pause(),e=lL(e,r),e.unshift(r)},remove:r=>{var a,o;e=lL(e,r),(o=(a=e[0])==null?void 0:a.resume)==null||o.call(a)}}},LZ=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(oc(r,t),document.activeElement!==n)return},uL=AZ(),RZ=()=>Aw.value>CC.value,Gy=()=>{EC.value="pointer",Aw.value=window.performance.now()},cL=()=>{EC.value="keyboard",Aw.value=window.performance.now()},PZ=()=>(Bn(()=>{$y===0&&(document.addEventListener("mousedown",Gy),document.addEventListener("touchstart",Gy),document.addEventListener("keydown",cL)),$y++}),Yr(()=>{$y--,$y<=0&&(document.removeEventListener("mousedown",Gy),document.removeEventListener("touchstart",Gy),document.removeEventListener("keydown",cL))}),{focusReason:EC,lastUserFocusTimestamp:Aw,lastAutomatedFocusTimestamp:CC}),Wy=e=>new CustomEvent(SZ,{...MZ,detail:e}),jt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Mp=[];const dL=e=>{e.code===jt.esc&&Mp.forEach(t=>t(e))},kZ=e=>{Bn(()=>{Mp.length===0&&document.addEventListener("keydown",dL),wr&&Mp.push(e)}),Yr(()=>{Mp=Mp.filter(t=>t!==e),Mp.length===0&&wr&&document.removeEventListener("keydown",dL)})},IZ=we({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[aL,oL,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=re();let r,a;const{focusReason:o}=PZ();kZ(w=>{e.trapped&&!s.paused&&t("release-requested",w)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=w=>{if(!e.loop&&!e.trapped||s.paused)return;const{code:g,altKey:x,ctrlKey:M,metaKey:R,currentTarget:A,shiftKey:T}=w,{loop:P}=e,I=g===jt.tab&&!x&&!M&&!R,E=document.activeElement;if(I&&E){const D=A,[N,B]=CZ(D);if(N&&B){if(!T&&E===B){const $=Wy({focusReason:o.value});t("focusout-prevented",$),$.defaultPrevented||(w.preventDefault(),P&&oc(N,!0))}else if(T&&[N,D].includes(E)){const $=Wy({focusReason:o.value});t("focusout-prevented",$),$.defaultPrevented||(w.preventDefault(),P&&oc(B,!0))}}else if(E===D){const $=Wy({focusReason:o.value});t("focusout-prevented",$),$.defaultPrevented||w.preventDefault()}}};or(MC,{focusTrapRef:n,onKeydown:u}),bt(()=>e.focusTrapEl,w=>{w&&(n.value=w)},{immediate:!0}),bt([n],([w],[g])=>{w&&(w.addEventListener("keydown",u),w.addEventListener("focusin",h),w.addEventListener("focusout",v)),g&&(g.removeEventListener("keydown",u),g.removeEventListener("focusin",h),g.removeEventListener("focusout",v))});const d=w=>{t(aL,w)},f=w=>t(oL,w),h=w=>{const g=m(n);if(!g)return;const x=w.target,M=w.relatedTarget,R=x&&g.contains(x);e.trapped||M&&g.contains(M)||(r=M),R&&t("focusin",w),!s.paused&&e.trapped&&(R?a=x:oc(a,!0))},v=w=>{const g=m(n);if(!(s.paused||!g))if(e.trapped){const x=w.relatedTarget;!Sa(x)&&!g.contains(x)&&setTimeout(()=>{if(!s.paused&&e.trapped){const M=Wy({focusReason:o.value});t("focusout-prevented",M),M.defaultPrevented||oc(a,!0)}},0)}else{const x=w.target;x&&g.contains(x)||t("focusout",w)}};async function y(){await cn();const w=m(n);if(w){uL.push(s);const g=w.contains(document.activeElement)?r:document.activeElement;if(r=g,!w.contains(g)){const M=new Event(wx,iL);w.addEventListener(wx,d),w.dispatchEvent(M),M.defaultPrevented||cn(()=>{let R=e.focusStartEl;nn(R)||(oc(R),document.activeElement!==R&&(R="first")),R==="first"&&LZ(cN(w),!0),(document.activeElement===g||R==="container")&&oc(w)})}}}function b(){const w=m(n);if(w){w.removeEventListener(wx,d);const g=new CustomEvent(xx,{...iL,detail:{focusReason:o.value}});w.addEventListener(xx,f),w.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!RZ()||w.contains(document.activeElement))&&oc(r!=null?r:document.body),w.removeEventListener(xx,f),uL.remove(s)}}return Bn(()=>{e.trapped&&y(),bt(()=>e.trapped,w=>{w?y():b()})}),Yr(()=>{e.trapped&&b(),n.value&&(n.value.removeEventListener("keydown",u),n.value.removeEventListener("focusin",h),n.value.removeEventListener("focusout",v),n.value=void 0)}),{onKeydown:u}}});function OZ(e,t,n,r,a,o){return Ue(e.$slots,"default",{handleKeydown:e.onKeydown})}var Lm=Ft(IZ,[["render",OZ],["__file","focus-trap.vue"]]),ds="top",al="bottom",ol="right",fs="left",TC="auto",N0=[ds,al,ol,fs],nm="start",n0="end",DZ="clippingParents",dN="viewport",Qv="popper",NZ="reference",fL=N0.reduce(function(e,t){return e.concat([t+"-"+nm,t+"-"+n0])},[]),Cc=[].concat(N0,[TC]).reduce(function(e,t){return e.concat([t,t+"-"+nm,t+"-"+n0])},[]),FZ="beforeRead",BZ="read",zZ="afterRead",VZ="beforeMain",UZ="main",HZ="afterMain",$Z="beforeWrite",GZ="write",WZ="afterWrite",jZ=[FZ,BZ,zZ,VZ,UZ,HZ,$Z,GZ,WZ];function Iu(e){return e?(e.nodeName||"").toLowerCase():null}function jl(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rm(e){var t=jl(e).Element;return e instanceof t||e instanceof Element}function rl(e){var t=jl(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function AC(e){if(typeof ShadowRoot>"u")return!1;var t=jl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function qZ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},o=t.elements[n];!rl(o)||!Iu(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(s){var u=a[s];u===!1?o.removeAttribute(s):o.setAttribute(s,u===!0?"":u)}))})}function KZ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=s.reduce(function(d,f){return d[f]="",d},{});!rl(a)||!Iu(a)||(Object.assign(a.style,u),Object.keys(o).forEach(function(d){a.removeAttribute(d)}))})}}var fN={name:"applyStyles",enabled:!0,phase:"write",fn:qZ,effect:KZ,requires:["computeStyles"]};function Cu(e){return e.split("-")[0]}var Ff=Math.max,L_=Math.min,im=Math.round;function am(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(rl(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=im(n.width)/s||1),o>0&&(a=im(n.height)/o||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function LC(e){var t=am(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function hN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&AC(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vc(e){return jl(e).getComputedStyle(e)}function YZ(e){return["table","td","th"].indexOf(Iu(e))>=0}function Ad(e){return((rm(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lw(e){return Iu(e)==="html"?e:e.assignedSlot||e.parentNode||(AC(e)?e.host:null)||Ad(e)}function hL(e){return!rl(e)||vc(e).position==="fixed"?null:e.offsetParent}function XZ(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&rl(e)){var r=vc(e);if(r.position==="fixed")return null}var a=Lw(e);for(AC(a)&&(a=a.host);rl(a)&&["html","body"].indexOf(Iu(a))<0;){var o=vc(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function F0(e){for(var t=jl(e),n=hL(e);n&&YZ(n)&&vc(n).position==="static";)n=hL(n);return n&&(Iu(n)==="html"||Iu(n)==="body"&&vc(n).position==="static")?t:n||XZ(e)||t}function RC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Og(e,t,n){return Ff(e,L_(t,n))}function ZZ(e,t,n){var r=Og(e,t,n);return r>n?n:r}function pN(){return{top:0,right:0,bottom:0,left:0}}function mN(e){return Object.assign({},pN(),e)}function vN(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var JZ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,mN(typeof e!="number"?e:vN(e,N0))};function QZ(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,u=Cu(n.placement),d=RC(u),f=[fs,ol].indexOf(u)>=0,h=f?"height":"width";if(!(!o||!s)){var v=JZ(a.padding,n),y=LC(o),b=d==="y"?ds:fs,w=d==="y"?al:ol,g=n.rects.reference[h]+n.rects.reference[d]-s[d]-n.rects.popper[h],x=s[d]-n.rects.reference[d],M=F0(o),R=M?d==="y"?M.clientHeight||0:M.clientWidth||0:0,A=g/2-x/2,T=v[b],P=R-y[h]-v[w],I=R/2-y[h]/2+A,E=Og(T,I,P),D=d;n.modifiersData[r]=(t={},t[D]=E,t.centerOffset=E-I,t)}}function eJ(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!hN(t.elements.popper,a)||(t.elements.arrow=a))}var tJ={name:"arrow",enabled:!0,phase:"main",fn:QZ,effect:eJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function om(e){return e.split("-")[1]}var nJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rJ(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:im(t*a)/a||0,y:im(n*a)/a||0}}function pL(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,s=e.offsets,u=e.position,d=e.gpuAcceleration,f=e.adaptive,h=e.roundOffsets,v=e.isFixed,y=s.x,b=y===void 0?0:y,w=s.y,g=w===void 0?0:w,x=typeof h=="function"?h({x:b,y:g}):{x:b,y:g};b=x.x,g=x.y;var M=s.hasOwnProperty("x"),R=s.hasOwnProperty("y"),A=fs,T=ds,P=window;if(f){var I=F0(n),E="clientHeight",D="clientWidth";if(I===jl(n)&&(I=Ad(n),vc(I).position!=="static"&&u==="absolute"&&(E="scrollHeight",D="scrollWidth")),I=I,a===ds||(a===fs||a===ol)&&o===n0){T=al;var N=v&&I===P&&P.visualViewport?P.visualViewport.height:I[E];g-=N-r.height,g*=d?1:-1}if(a===fs||(a===ds||a===al)&&o===n0){A=ol;var B=v&&I===P&&P.visualViewport?P.visualViewport.width:I[D];b-=B-r.width,b*=d?1:-1}}var G=Object.assign({position:u},f&&nJ),$=h===!0?rJ({x:b,y:g}):{x:b,y:g};if(b=$.x,g=$.y,d){var Q;return Object.assign({},G,(Q={},Q[T]=R?"0":"",Q[A]=M?"0":"",Q.transform=(P.devicePixelRatio||1)<=1?"translate("+b+"px, "+g+"px)":"translate3d("+b+"px, "+g+"px, 0)",Q))}return Object.assign({},G,(t={},t[T]=R?g+"px":"",t[A]=M?b+"px":"",t.transform="",t))}function iJ(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,u=n.roundOffsets,d=u===void 0?!0:u,f={placement:Cu(t.placement),variation:om(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,pL(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,pL(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var gN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iJ,data:{}},jy={passive:!0};function aJ(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=a===void 0?!0:a,s=r.resize,u=s===void 0?!0:s,d=jl(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&f.forEach(function(h){h.addEventListener("scroll",n.update,jy)}),u&&d.addEventListener("resize",n.update,jy),function(){o&&f.forEach(function(h){h.removeEventListener("scroll",n.update,jy)}),u&&d.removeEventListener("resize",n.update,jy)}}var yN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:aJ,data:{}},oJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Bb(e){return e.replace(/left|right|bottom|top/g,function(t){return oJ[t]})}var sJ={start:"end",end:"start"};function mL(e){return e.replace(/start|end/g,function(t){return sJ[t]})}function PC(e){var t=jl(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function kC(e){return am(Ad(e)).left+PC(e).scrollLeft}function lJ(e){var t=jl(e),n=Ad(e),r=t.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,u=0;return r&&(a=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,u=r.offsetTop)),{width:a,height:o,x:s+kC(e),y:u}}function uJ(e){var t,n=Ad(e),r=PC(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Ff(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Ff(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+kC(e),d=-r.scrollTop;return vc(a||n).direction==="rtl"&&(u+=Ff(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:u,y:d}}function IC(e){var t=vc(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function bN(e){return["html","body","#document"].indexOf(Iu(e))>=0?e.ownerDocument.body:rl(e)&&IC(e)?e:bN(Lw(e))}function Dg(e,t){var n;t===void 0&&(t=[]);var r=bN(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=jl(r),s=a?[o].concat(o.visualViewport||[],IC(r)?r:[]):r,u=t.concat(s);return a?u:u.concat(Dg(Lw(s)))}function lM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cJ(e){var t=am(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function vL(e,t){return t===dN?lM(lJ(e)):rm(t)?cJ(t):lM(uJ(Ad(e)))}function dJ(e){var t=Dg(Lw(e)),n=["absolute","fixed"].indexOf(vc(e).position)>=0,r=n&&rl(e)?F0(e):e;return rm(r)?t.filter(function(a){return rm(a)&&hN(a,r)&&Iu(a)!=="body"}):[]}function fJ(e,t,n){var r=t==="clippingParents"?dJ(e):[].concat(t),a=[].concat(r,[n]),o=a[0],s=a.reduce(function(u,d){var f=vL(e,d);return u.top=Ff(f.top,u.top),u.right=L_(f.right,u.right),u.bottom=L_(f.bottom,u.bottom),u.left=Ff(f.left,u.left),u},vL(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _N(e){var t=e.reference,n=e.element,r=e.placement,a=r?Cu(r):null,o=r?om(r):null,s=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(a){case ds:d={x:s,y:t.y-n.height};break;case al:d={x:s,y:t.y+t.height};break;case ol:d={x:t.x+t.width,y:u};break;case fs:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var f=a?RC(a):null;if(f!=null){var h=f==="y"?"height":"width";switch(o){case nm:d[f]=d[f]-(t[h]/2-n[h]/2);break;case n0:d[f]=d[f]+(t[h]/2-n[h]/2);break}}return d}function r0(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,o=n.boundary,s=o===void 0?DZ:o,u=n.rootBoundary,d=u===void 0?dN:u,f=n.elementContext,h=f===void 0?Qv:f,v=n.altBoundary,y=v===void 0?!1:v,b=n.padding,w=b===void 0?0:b,g=mN(typeof w!="number"?w:vN(w,N0)),x=h===Qv?NZ:Qv,M=e.rects.popper,R=e.elements[y?x:h],A=fJ(rm(R)?R:R.contextElement||Ad(e.elements.popper),s,d),T=am(e.elements.reference),P=_N({reference:T,element:M,placement:a}),I=lM(Object.assign({},M,P)),E=h===Qv?I:T,D={top:A.top-E.top+g.top,bottom:E.bottom-A.bottom+g.bottom,left:A.left-E.left+g.left,right:E.right-A.right+g.right},N=e.modifiersData.offset;if(h===Qv&&N){var B=N[a];Object.keys(D).forEach(function(G){var $=[ol,al].indexOf(G)>=0?1:-1,Q=[ds,al].indexOf(G)>=0?"y":"x";D[G]+=B[Q]*$})}return D}function hJ(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?Cc:d,h=om(r),v=h?u?fL:fL.filter(function(w){return om(w)===h}):N0,y=v.filter(function(w){return f.indexOf(w)>=0});y.length===0&&(y=v);var b=y.reduce(function(w,g){return w[g]=r0(e,{placement:g,boundary:a,rootBoundary:o,padding:s})[Cu(g)],w},{});return Object.keys(b).sort(function(w,g){return b[w]-b[g]})}function pJ(e){if(Cu(e)===TC)return[];var t=Bb(e);return[mL(e),t,mL(t)]}function mJ(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,u=s===void 0?!0:s,d=n.fallbackPlacements,f=n.padding,h=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0?!0:b,g=n.allowedAutoPlacements,x=t.options.placement,M=Cu(x),R=M===x,A=d||(R||!w?[Bb(x)]:pJ(x)),T=[x].concat(A).reduce(function(Re,De){return Re.concat(Cu(De)===TC?hJ(t,{placement:De,boundary:h,rootBoundary:v,padding:f,flipVariations:w,allowedAutoPlacements:g}):De)},[]),P=t.rects.reference,I=t.rects.popper,E=new Map,D=!0,N=T[0],B=0;B<T.length;B++){var G=T[B],$=Cu(G),Q=om(G)===nm,ae=[ds,al].indexOf($)>=0,ee=ae?"width":"height",K=r0(t,{placement:G,boundary:h,rootBoundary:v,altBoundary:y,padding:f}),X=ae?Q?ol:fs:Q?al:ds;P[ee]>I[ee]&&(X=Bb(X));var Z=Bb(X),j=[];if(o&&j.push(K[$]<=0),u&&j.push(K[X]<=0,K[Z]<=0),j.every(function(Re){return Re})){N=G,D=!1;break}E.set(G,j)}if(D)for(var ie=w?3:1,pe=function(Re){var De=T.find(function(Te){var ge=E.get(Te);if(ge)return ge.slice(0,Re).every(function(ke){return ke})});if(De)return N=De,"break"},he=ie;he>0;he--){var le=pe(he);if(le==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var vJ={name:"flip",enabled:!0,phase:"main",fn:mJ,requiresIfExists:["offset"],data:{_skip:!1}};function gL(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yL(e){return[ds,ol,al,fs].some(function(t){return e[t]>=0})}function gJ(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,s=r0(t,{elementContext:"reference"}),u=r0(t,{altBoundary:!0}),d=gL(s,r),f=gL(u,a,o),h=yL(d),v=yL(f);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":v})}var yJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gJ};function bJ(e,t,n){var r=Cu(e),a=[fs,ds].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],u=o[1];return s=s||0,u=(u||0)*a,[fs,ol].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function _J(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=a===void 0?[0,0]:a,s=Cc.reduce(function(h,v){return h[v]=bJ(v,t.rects,o),h},{}),u=s[t.placement],d=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=s}var wJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_J};function xJ(e){var t=e.state,n=e.name;t.modifiersData[n]=_N({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var wN={name:"popperOffsets",enabled:!0,phase:"read",fn:xJ,data:{}};function SJ(e){return e==="x"?"y":"x"}function MJ(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,u=s===void 0?!1:s,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,w=n.tetherOffset,g=w===void 0?0:w,x=r0(t,{boundary:d,rootBoundary:f,padding:v,altBoundary:h}),M=Cu(t.placement),R=om(t.placement),A=!R,T=RC(M),P=SJ(T),I=t.modifiersData.popperOffsets,E=t.rects.reference,D=t.rects.popper,N=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,B=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),G=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(I){if(o){var Q,ae=T==="y"?ds:fs,ee=T==="y"?al:ol,K=T==="y"?"height":"width",X=I[T],Z=X+x[ae],j=X-x[ee],ie=b?-D[K]/2:0,pe=R===nm?E[K]:D[K],he=R===nm?-D[K]:-E[K],le=t.elements.arrow,Re=b&&le?LC(le):{width:0,height:0},De=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:pN(),Te=De[ae],ge=De[ee],ke=Og(0,E[K],Re[K]),Pe=A?E[K]/2-ie-ke-Te-B.mainAxis:pe-ke-Te-B.mainAxis,Xe=A?-E[K]/2+ie+ke+ge+B.mainAxis:he+ke+ge+B.mainAxis,ct=t.elements.arrow&&F0(t.elements.arrow),se=ct?T==="y"?ct.clientTop||0:ct.clientLeft||0:0,ye=(Q=G==null?void 0:G[T])!=null?Q:0,He=X+Pe-ye-se,dt=X+Xe-ye,pt=Og(b?L_(Z,He):Z,X,b?Ff(j,dt):j);I[T]=pt,$[T]=pt-X}if(u){var nt,ot=T==="x"?ds:fs,rt=T==="x"?al:ol,At=I[P],Mt=P==="y"?"height":"width",Me=At+x[ot],ve=At-x[rt],Fe=[ds,fs].indexOf(M)!==-1,qe=(nt=G==null?void 0:G[P])!=null?nt:0,Et=Fe?Me:At-E[Mt]-D[Mt]-qe+B.altAxis,$t=Fe?At+E[Mt]+D[Mt]-qe-B.altAxis:ve,Yt=b&&Fe?ZZ(Et,At,$t):Og(b?Et:Me,At,b?$t:ve);I[P]=Yt,$[P]=Yt-At}t.modifiersData[r]=$}}var EJ={name:"preventOverflow",enabled:!0,phase:"main",fn:MJ,requiresIfExists:["offset"]};function CJ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function TJ(e){return e===jl(e)||!rl(e)?PC(e):CJ(e)}function AJ(e){var t=e.getBoundingClientRect(),n=im(t.width)/e.offsetWidth||1,r=im(t.height)/e.offsetHeight||1;return n!==1||r!==1}function LJ(e,t,n){n===void 0&&(n=!1);var r=rl(t),a=rl(t)&&AJ(t),o=Ad(t),s=am(e,a),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Iu(t)!=="body"||IC(o))&&(u=TJ(t)),rl(t)?(d=am(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=kC(o))),{x:s.left+u.scrollLeft-d.x,y:s.top+u.scrollTop-d.y,width:s.width,height:s.height}}function RJ(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function a(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&a(d)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||a(o)}),r}function PJ(e){var t=RJ(e);return jZ.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function kJ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function IJ(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var bL={placement:"bottom",modifiers:[],strategy:"absolute"};function _L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function OC(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,o=a===void 0?bL:a;return function(s,u,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},bL,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},h=[],v=!1,y={state:f,setOptions:function(g){var x=typeof g=="function"?g(f.options):g;w(),f.options=Object.assign({},o,f.options,x),f.scrollParents={reference:rm(s)?Dg(s):s.contextElement?Dg(s.contextElement):[],popper:Dg(u)};var M=PJ(IJ([].concat(r,f.options.modifiers)));return f.orderedModifiers=M.filter(function(R){return R.enabled}),b(),y.update()},forceUpdate:function(){if(!v){var g=f.elements,x=g.reference,M=g.popper;if(_L(x,M)){f.rects={reference:LJ(x,F0(M),f.options.strategy==="fixed"),popper:LC(M)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(D){return f.modifiersData[D.name]=Object.assign({},D.data)});for(var R=0;R<f.orderedModifiers.length;R++){if(f.reset===!0){f.reset=!1,R=-1;continue}var A=f.orderedModifiers[R],T=A.fn,P=A.options,I=P===void 0?{}:P,E=A.name;typeof T=="function"&&(f=T({state:f,options:I,name:E,instance:y})||f)}}}},update:kJ(function(){return new Promise(function(g){y.forceUpdate(),g(f)})}),destroy:function(){w(),v=!0}};if(!_L(s,u))return y;y.setOptions(d).then(function(g){!v&&d.onFirstUpdate&&d.onFirstUpdate(g)});function b(){f.orderedModifiers.forEach(function(g){var x=g.name,M=g.options,R=M===void 0?{}:M,A=g.effect;if(typeof A=="function"){var T=A({state:f,name:x,instance:y,options:R}),P=function(){};h.push(T||P)}})}function w(){h.forEach(function(g){return g()}),h=[]}return y}}OC();var OJ=[yN,wN,gN,fN];OC({defaultModifiers:OJ});var DJ=[yN,wN,gN,fN,wJ,vJ,EJ,tJ,yJ],NJ=OC({defaultModifiers:DJ});const FJ=["fixed","absolute"],BJ=kt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ze(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Cc,default:"bottom"},popperOptions:{type:ze(Object),default:()=>({})},strategy:{type:String,values:FJ,default:"absolute"}}),xN=kt({...BJ,id:String,style:{type:ze([String,Array,Object])},className:{type:ze([String,Array,Object])},effect:{type:ze(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ze([String,Array,Object])},popperStyle:{type:ze([String,Array,Object])},referenceEl:{type:ze(Object)},triggerTargetEl:{type:ze(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...qa(["ariaLabel"])}),zJ={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},VJ=(e,t)=>{const n=re(!1),r=re();return{focusStartRef:r,trapped:n,onFocusAfterReleased:f=>{var h;((h=f.detail)==null?void 0:h.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:f=>{e.visible&&!n.value&&(f.target&&(r.value=f.target),n.value=!0)},onFocusoutPrevented:f=>{e.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},UJ=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:a}=e,o={placement:n,strategy:r,...a,modifiers:[...$J(e),...t]};return GJ(o,a==null?void 0:a.modifiers),o},HJ=e=>{if(wr)return Uo(e)};function $J(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function GJ(e,t){t&&(e.modifiers=[...e.modifiers,...t!=null?t:[]])}const WJ=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const f=jJ(d);Object.assign(s.value,f)},requires:["computeStyles"]},a=U(()=>{const{onFirstUpdate:d,placement:f,strategy:h,modifiers:v}=m(n);return{onFirstUpdate:d,placement:f||"bottom",strategy:h||"absolute",modifiers:[...v||[],r,{name:"applyStyles",enabled:!1}]}}),o=hi(),s=re({styles:{popper:{position:m(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return bt(a,d=>{const f=m(o);f&&f.setOptions(d)},{deep:!0}),bt([e,t],([d,f])=>{u(),!(!d||!f)&&(o.value=NJ(d,f,m(a)))}),Yr(()=>{u()}),{state:U(()=>{var d;return{...((d=m(o))==null?void 0:d.state)||{}}}),styles:U(()=>m(s).styles),attributes:U(()=>m(s).attributes),update:()=>{var d;return(d=m(o))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=m(o))==null?void 0:d.forceUpdate()},instanceRef:U(()=>m(o))}};function jJ(e){const t=Object.keys(e.elements),n=t0(t.map(a=>[a,e.styles[a]||{}])),r=t0(t.map(a=>[a,e.attributes[a]]));return{styles:n,attributes:r}}const qJ=0,KJ=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:a}=qt(SC,void 0),o=re(),s=re(),u=U(()=>({name:"eventListeners",enabled:!!e.visible})),d=U(()=>{var M;const R=m(o),A=(M=m(s))!=null?M:qJ;return{name:"arrow",enabled:!kD(R),options:{element:R,padding:A}}}),f=U(()=>({onFirstUpdate:()=>{w()},...UJ(e,[m(d),m(u)])})),h=U(()=>HJ(e.referenceEl)||m(r)),{attributes:v,state:y,styles:b,update:w,forceUpdate:g,instanceRef:x}=WJ(h,n,f);return bt(x,M=>t.value=M),Bn(()=>{bt(()=>{var M;return(M=m(h))==null?void 0:M.getBoundingClientRect()},()=>{w()})}),{attributes:v,arrowRef:o,contentRef:n,instanceRef:x,state:y,styles:b,role:a,forceUpdate:g,update:w}},YJ=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:a}=Tm(),o=xt("popper"),s=U(()=>m(t).popper),u=re(fn(e.zIndex)?e.zIndex:a()),d=U(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),f=U(()=>[{zIndex:m(u)},m(n).popper,e.popperStyle||{}]),h=U(()=>r.value==="dialog"?"false":void 0),v=U(()=>m(n).arrow||{});return{ariaModal:h,arrowStyle:v,contentAttrs:s,contentClass:d,contentStyle:f,contentZIndex:u,updateZIndex:()=>{u.value=fn(e.zIndex)?e.zIndex:a()}}},XJ=we({name:"ElPopperContent"}),ZJ=we({...XJ,props:xN,emits:zJ,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:a,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:u,onFocusInTrap:d,onFocusoutPrevented:f,onReleaseRequested:h}=VJ(r,n),{attributes:v,arrowRef:y,contentRef:b,styles:w,instanceRef:g,role:x,update:M}=KJ(r),{ariaModal:R,arrowStyle:A,contentAttrs:T,contentClass:P,contentStyle:I,updateZIndex:E}=YJ(r,{styles:w,attributes:v,role:x}),D=qt(ku,void 0),N=re();or(tN,{arrowStyle:A,arrowRef:y,arrowOffset:N}),D&&or(ku,{...D,addInputId:$r,removeInputId:$r});let B;const G=(Q=!0)=>{M(),Q&&E()},$=()=>{G(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return Bn(()=>{bt(()=>r.triggerTargetEl,(Q,ae)=>{B==null||B(),B=void 0;const ee=m(Q||b.value),K=m(ae||b.value);Ho(ee)&&(B=bt([x,()=>r.ariaLabel,R,()=>r.id],X=>{["role","aria-label","aria-modal","id"].forEach((Z,j)=>{Sa(X[j])?ee.removeAttribute(Z):ee.setAttribute(Z,X[j])})},{immediate:!0})),K!==ee&&Ho(K)&&["role","aria-label","aria-modal","id"].forEach(X=>{K.removeAttribute(X)})},{immediate:!0}),bt(()=>r.visible,$,{immediate:!0})}),Yr(()=>{B==null||B(),B=void 0}),t({popperContentRef:b,popperInstanceRef:g,updatePopper:G,contentStyle:I}),(Q,ae)=>(W(),ue("div",nr({ref_key:"contentRef",ref:b},m(T),{style:m(I),class:m(P),tabindex:"-1",onMouseenter:ee=>Q.$emit("mouseenter",ee),onMouseleave:ee=>Q.$emit("mouseleave",ee)}),[ce(m(Lm),{trapped:m(o),"trap-on-focus-in":!0,"focus-trap-el":m(b),"focus-start-el":m(a),onFocusAfterTrapped:m(u),onFocusAfterReleased:m(s),onFocusin:m(d),onFocusoutPrevented:m(f),onReleaseRequested:m(h)},{default:be(()=>[Ue(Q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var JJ=Ft(ZJ,[["__file","content.vue"]]);const SN=On(dZ),Rw=Symbol("elTooltip");function wL(){let e;const t=(r,a)=>{n(),e=window.setTimeout(r,a)},n=()=>window.clearTimeout(e);return I0(()=>n()),{registerTimeout:t,cancelTimeout:n}}const QJ=kt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),eQ=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:a})=>{const{registerTimeout:o}=wL(),{registerTimeout:s,cancelTimeout:u}=wL();return{onOpen:h=>{o(()=>{r(h);const v=m(n);fn(v)&&v>0&&s(()=>{a(h)},v)},m(e))},onClose:h=>{u(),o(()=>{a(h)},m(t))}}},Aa=kt({...QJ,...xN,appendTo:{type:ze([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ze(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...qa(["ariaLabel"])}),i0=kt({...iN,disabled:Boolean,trigger:{type:ze([String,Array]),default:"hover"},triggerKeys:{type:ze(Array),default:()=>[jt.enter,jt.numpadEnter,jt.space]}}),tQ=Wl({type:ze(Boolean),default:null}),nQ=Wl({type:ze(Function)}),rQ=e=>{const t="update:".concat(e),n="onUpdate:".concat(e),r=[t],a={[e]:tQ,[n]:nQ};return{useModelToggle:({indicator:s,toggleReason:u,shouldHideWhenRouteChanges:d,shouldProceed:f,onShow:h,onHide:v})=>{const y=Jn(),{emit:b}=y,w=y.props,g=U(()=>on(w[n])),x=U(()=>w[e]===null),M=E=>{s.value!==!0&&(s.value=!0,u&&(u.value=E),on(h)&&h(E))},R=E=>{s.value!==!1&&(s.value=!1,u&&(u.value=E),on(v)&&v(E))},A=E=>{if(w.disabled===!0||on(f)&&!f())return;const D=g.value&&wr;D&&b(t,!0),(x.value||!D)&&M(E)},T=E=>{if(w.disabled===!0||!wr)return;const D=g.value&&wr;D&&b(t,!1),(x.value||!D)&&R(E)},P=E=>{ri(E)&&(w.disabled&&E?g.value&&b(t,!1):s.value!==E&&(E?M():R()))},I=()=>{s.value?T():A()};return bt(()=>w[e],P),d&&y.appContext.config.globalProperties.$route!==void 0&&bt(()=>({...y.proxy.$route}),()=>{d.value&&s.value&&T()}),Bn(()=>{P(w[e])}),{hide:T,show:A,toggle:I,hasUpdateHandler:g}},useModelToggleProps:a,useModelToggleEmits:r}},{useModelToggleProps:iQ,useModelToggleEmits:aQ,useModelToggle:oQ}=rQ("visible"),sQ=kt({...nN,...iQ,...Aa,...i0,...rN,showArrow:{type:Boolean,default:!0}}),lQ=[...aQ,"before-show","before-hide","show","hide","open","close"],uQ=(e,t)=>Rt(e)?e.includes(t):e===t,ep=(e,t,n)=>r=>{uQ(m(e),t)&&n(r)},$i=(e,t,{checkForDefaultPrevented:n=!0}={})=>a=>{const o=e==null?void 0:e(a);if(n===!1||!o)return t==null?void 0:t(a)},xL=e=>t=>t.pointerType==="mouse"?e(t):void 0,cQ=we({name:"ElTooltipTrigger"}),dQ=we({...cQ,props:i0,setup(e,{expose:t}){const n=e,r=xt("tooltip"),{controlled:a,id:o,open:s,onOpen:u,onClose:d,onToggle:f}=qt(Rw,void 0),h=re(null),v=()=>{if(m(a)||n.disabled)return!0},y=Hr(n,"trigger"),b=$i(v,ep(y,"hover",u)),w=$i(v,ep(y,"hover",d)),g=$i(v,ep(y,"click",T=>{T.button===0&&f(T)})),x=$i(v,ep(y,"focus",u)),M=$i(v,ep(y,"focus",d)),R=$i(v,ep(y,"contextmenu",T=>{T.preventDefault(),f(T)})),A=$i(v,T=>{const{code:P}=T;n.triggerKeys.includes(P)&&(T.preventDefault(),f(T))});return t({triggerRef:h}),(T,P)=>(W(),tt(m(xZ),{id:m(o),"virtual-ref":T.virtualRef,open:m(s),"virtual-triggering":T.virtualTriggering,class:J(m(r).e("trigger")),onBlur:m(M),onClick:m(g),onContextmenu:m(R),onFocus:m(x),onMouseenter:m(b),onMouseleave:m(w),onKeydown:m(A)},{default:be(()=>[Ue(T.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var fQ=Ft(dQ,[["__file","trigger.vue"]]);const hQ=kt({to:{type:ze([String,Object]),required:!0},disabled:Boolean}),pQ=we({__name:"teleport",props:hQ,setup(e){return(t,n)=>t.disabled?Ue(t.$slots,"default",{key:0}):(W(),tt(TH,{key:1,to:t.to},[Ue(t.$slots,"default")],8,["to"]))}});var mQ=Ft(pQ,[["__file","teleport.vue"]]);const Rm=On(mQ),MN=()=>{const e=ZE(),t=wC(),n=U(()=>"".concat(e.value,"-popper-container-").concat(t.prefix)),r=U(()=>"#".concat(n.value));return{id:n,selector:r}},vQ=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},gQ=()=>{const{id:e,selector:t}=MN();return sw(()=>{wr&&(document.body.querySelector(t.value)||vQ(e.value))}),{id:e,selector:t}},yQ=we({name:"ElTooltipContent",inheritAttrs:!1}),bQ=we({...yQ,props:Aa,setup(e,{expose:t}){const n=e,{selector:r}=MN(),a=xt("tooltip"),o=re();let s;const{controlled:u,id:d,open:f,trigger:h,onClose:v,onOpen:y,onShow:b,onHide:w,onBeforeShow:g,onBeforeHide:x}=qt(Rw,void 0),M=U(()=>n.transition||"".concat(a.namespace.value,"-fade-in-linear")),R=U(()=>n.persistent);Yr(()=>{s==null||s()});const A=U(()=>m(R)?!0:m(f)),T=U(()=>n.disabled?!1:m(f)),P=U(()=>n.appendTo||r.value),I=U(()=>{var X;return(X=n.style)!=null?X:{}}),E=re(!0),D=()=>{w(),K()&&oc(document.body),E.value=!0},N=()=>{if(m(u))return!0},B=$i(N,()=>{n.enterable&&m(h)==="hover"&&y()}),G=$i(N,()=>{m(h)==="hover"&&v()}),$=()=>{var X,Z;(Z=(X=o.value)==null?void 0:X.updatePopper)==null||Z.call(X),g==null||g()},Q=()=>{x==null||x()},ae=()=>{b(),s=pC(U(()=>{var X;return(X=o.value)==null?void 0:X.popperContentRef}),()=>{if(m(u))return;m(h)!=="hover"&&v()})},ee=()=>{n.virtualTriggering||v()},K=X=>{var Z;const j=(Z=o.value)==null?void 0:Z.popperContentRef,ie=(X==null?void 0:X.relatedTarget)||document.activeElement;return j==null?void 0:j.contains(ie)};return bt(()=>m(f),X=>{X?E.value=!1:s==null||s()},{flush:"post"}),bt(()=>n.content,()=>{var X,Z;(Z=(X=o.value)==null?void 0:X.updatePopper)==null||Z.call(X)}),t({contentRef:o,isFocusInsideContent:K}),(X,Z)=>(W(),tt(m(Rm),{disabled:!X.teleported,to:m(P)},{default:be(()=>[ce(Ia,{name:m(M),onAfterLeave:D,onBeforeEnter:$,onAfterEnter:ae,onBeforeLeave:Q},{default:be(()=>[m(A)?kn((W(),tt(m(JJ),nr({key:0,id:m(d),ref_key:"contentRef",ref:o},X.$attrs,{"aria-label":X.ariaLabel,"aria-hidden":E.value,"boundaries-padding":X.boundariesPadding,"fallback-placements":X.fallbackPlacements,"gpu-acceleration":X.gpuAcceleration,offset:X.offset,placement:X.placement,"popper-options":X.popperOptions,strategy:X.strategy,effect:X.effect,enterable:X.enterable,pure:X.pure,"popper-class":X.popperClass,"popper-style":[X.popperStyle,m(I)],"reference-el":X.referenceEl,"trigger-target-el":X.triggerTargetEl,visible:m(T),"z-index":X.zIndex,onMouseenter:m(B),onMouseleave:m(G),onBlur:ee,onClose:m(v)}),{default:be(()=>[Ue(X.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[_r,m(T)]]):Ye("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var _Q=Ft(bQ,[["__file","content.vue"]]);const wQ=we({name:"ElTooltip"}),xQ=we({...wQ,props:sQ,emits:lQ,setup(e,{expose:t,emit:n}){const r=e;gQ();const a=ja(),o=re(),s=re(),u=()=>{var M;const R=m(o);R&&((M=R.popperInstanceRef)==null||M.update())},d=re(!1),f=re(),{show:h,hide:v,hasUpdateHandler:y}=oQ({indicator:d,toggleReason:f}),{onOpen:b,onClose:w}=eQ({showAfter:Hr(r,"showAfter"),hideAfter:Hr(r,"hideAfter"),autoClose:Hr(r,"autoClose"),open:h,close:v}),g=U(()=>ri(r.visible)&&!y.value);or(Rw,{controlled:g,id:a,open:wm(d),trigger:Hr(r,"trigger"),onOpen:M=>{b(M)},onClose:M=>{w(M)},onToggle:M=>{m(d)?w(M):b(M)},onShow:()=>{n("show",f.value)},onHide:()=>{n("hide",f.value)},onBeforeShow:()=>{n("before-show",f.value)},onBeforeHide:()=>{n("before-hide",f.value)},updatePopper:u}),bt(()=>r.disabled,M=>{M&&d.value&&(d.value=!1)});const x=M=>{var R;return(R=s.value)==null?void 0:R.isFocusInsideContent(M)};return DI(()=>d.value&&v()),t({popperRef:o,contentRef:s,isFocusInsideContent:x,updatePopper:u,onOpen:b,onClose:w,hide:v}),(M,R)=>(W(),tt(m(SN),{ref_key:"popperRef",ref:o,role:M.role},{default:be(()=>[ce(fQ,{disabled:M.disabled,trigger:M.trigger,"trigger-keys":M.triggerKeys,"virtual-ref":M.virtualRef,"virtual-triggering":M.virtualTriggering},{default:be(()=>[M.$slots.default?Ue(M.$slots,"default",{key:0}):Ye("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ce(_Q,{ref_key:"contentRef",ref:s,"aria-label":M.ariaLabel,"boundaries-padding":M.boundariesPadding,content:M.content,disabled:M.disabled,effect:M.effect,enterable:M.enterable,"fallback-placements":M.fallbackPlacements,"hide-after":M.hideAfter,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,persistent:M.persistent,"popper-class":M.popperClass,"popper-style":M.popperStyle,placement:M.placement,"popper-options":M.popperOptions,pure:M.pure,"raw-content":M.rawContent,"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,"show-after":M.showAfter,strategy:M.strategy,teleported:M.teleported,transition:M.transition,"virtual-triggering":M.virtualTriggering,"z-index":M.zIndex,"append-to":M.appendTo},{default:be(()=>[Ue(M.$slots,"content",{},()=>[M.rawContent?(W(),ue("span",{key:0,innerHTML:M.content},null,8,["innerHTML"])):(W(),ue("span",{key:1},Pt(M.content),1))]),M.showArrow?(W(),tt(m(pZ),{key:0,"arrow-offset":M.arrowOffset},null,8,["arrow-offset"])):Ye("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var SQ=Ft(xQ,[["__file","tooltip.vue"]]);const ao=On(SQ),MQ=kt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ze(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ze([Function,Array]),default:$r},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Aa.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...qa(["ariaLabel"])}),EQ={[Vn]:e=>nn(e),[ro]:e=>nn(e),[Qr]:e=>nn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>jn(e)},EN="ElAutocomplete",CQ=we({name:EN,inheritAttrs:!1}),TQ=we({...CQ,props:MQ,emits:EQ,setup(e,{expose:t,emit:n}){const r=e,a=O0(),o=wc(),s=uo(),u=xt("autocomplete"),d=re(),f=re(),h=re(),v=re();let y=!1,b=!1;const w=re([]),g=re(-1),x=re(""),M=re(!1),R=re(!1),A=re(!1),T=ja(),P=U(()=>o.style),I=U(()=>(w.value.length>0||A.value)&&M.value),E=U(()=>!r.hideLoading&&A.value),D=U(()=>d.value?Array.from(d.value.$el.querySelectorAll("input")):[]),N=()=>{I.value&&(x.value="".concat(d.value.$el.offsetWidth,"px"))},B=()=>{g.value=-1},G=async ge=>{if(R.value)return;const ke=Pe=>{A.value=!1,!R.value&&(Rt(Pe)?(w.value=Pe,g.value=r.highlightFirstItem?0:-1):va(EN,"autocomplete suggestions must be an array"))};if(A.value=!0,Rt(r.fetchSuggestions))ke(r.fetchSuggestions);else{const Pe=await r.fetchSuggestions(ge,ke);Rt(Pe)&&ke(Pe)}},$=ps(G,r.debounce),Q=ge=>{const ke=!!ge;if(n(ro,ge),n(Vn,ge),R.value=!1,M.value||(M.value=ke),!r.triggerOnFocus&&!ge){R.value=!0,w.value=[];return}$(ge)},ae=ge=>{var ke;s.value||(((ke=ge.target)==null?void 0:ke.tagName)!=="INPUT"||D.value.includes(document.activeElement))&&(M.value=!0)},ee=ge=>{n(Qr,ge)},K=ge=>{b?b=!1:(M.value=!0,n("focus",ge),r.triggerOnFocus&&!y&&$(String(r.modelValue)))},X=ge=>{setTimeout(()=>{var ke;if((ke=h.value)!=null&&ke.isFocusInsideContent()){b=!0;return}M.value&&pe(),n("blur",ge)})},Z=()=>{M.value=!1,n(Vn,""),n("clear")},j=async()=>{I.value&&g.value>=0&&g.value<w.value.length?Re(w.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),w.value=[],g.value=-1)},ie=ge=>{I.value&&(ge.preventDefault(),ge.stopPropagation(),pe())},pe=()=>{M.value=!1},he=()=>{var ge;(ge=d.value)==null||ge.focus()},le=()=>{var ge;(ge=d.value)==null||ge.blur()},Re=async ge=>{n(ro,ge[r.valueKey]),n(Vn,ge[r.valueKey]),n("select",ge),w.value=[],g.value=-1},De=ge=>{if(!I.value||A.value)return;if(ge<0){g.value=-1;return}ge>=w.value.length&&(ge=w.value.length-1);const ke=f.value.querySelector(".".concat(u.be("suggestion","wrap"))),Xe=ke.querySelectorAll(".".concat(u.be("suggestion","list")," li"))[ge],ct=ke.scrollTop,{offsetTop:se,scrollHeight:ye}=Xe;se+ye>ct+ke.clientHeight&&(ke.scrollTop+=ye),se<ct&&(ke.scrollTop-=ye),g.value=ge,d.value.ref.setAttribute("aria-activedescendant","".concat(T.value,"-item-").concat(g.value))},Te=pC(v,()=>{var ge;(ge=h.value)!=null&&ge.isFocusInsideContent()||I.value&&pe()});return Yr(()=>{Te==null||Te()}),Bn(()=>{d.value.ref.setAttribute("role","textbox"),d.value.ref.setAttribute("aria-autocomplete","list"),d.value.ref.setAttribute("aria-controls","id"),d.value.ref.setAttribute("aria-activedescendant","".concat(T.value,"-item-").concat(g.value)),y=d.value.ref.hasAttribute("readonly")}),t({highlightedIndex:g,activated:M,loading:A,inputRef:d,popperRef:h,suggestions:w,handleSelect:Re,handleKeyEnter:j,focus:he,blur:le,close:pe,highlight:De,getData:G}),(ge,ke)=>(W(),tt(m(ao),{ref_key:"popperRef",ref:h,visible:m(I),placement:ge.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[m(u).e("popper"),ge.popperClass],teleported:ge.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:"".concat(m(u).namespace.value,"-zoom-in-top"),persistent:"",role:"listbox",onBeforeShow:N,onHide:B},{content:be(()=>[fe("div",{ref_key:"regionRef",ref:f,class:J([m(u).b("suggestion"),m(u).is("loading",m(E))]),style:un({[ge.fitInputWidth?"width":"minWidth"]:x.value,outline:"none"}),role:"region"},[ce(m(Nu),{id:m(T),tag:"ul","wrap-class":m(u).be("suggestion","wrap"),"view-class":m(u).be("suggestion","list"),role:"listbox"},{default:be(()=>[m(E)?(W(),ue("li",{key:0},[Ue(ge.$slots,"loading",{},()=>[ce(m(tn),{class:J(m(u).is("loading"))},{default:be(()=>[ce(m(Ru))]),_:1},8,["class"])])])):(W(!0),ue(rn,{key:1},ar(w.value,(Pe,Xe)=>(W(),ue("li",{id:"".concat(m(T),"-item-").concat(Xe),key:Xe,class:J({highlighted:g.value===Xe}),role:"option","aria-selected":g.value===Xe,onClick:ct=>Re(Pe)},[Ue(ge.$slots,"default",{item:Pe},()=>[Pn(Pt(Pe[ge.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:be(()=>[fe("div",{ref_key:"listboxRef",ref:v,class:J([m(u).b(),ge.$attrs.class]),style:un(m(P)),role:"combobox","aria-haspopup":"listbox","aria-expanded":m(I),"aria-owns":m(T)},[ce(m(Mo),nr({ref_key:"inputRef",ref:d},m(a),{clearable:ge.clearable,disabled:m(s),name:ge.name,"model-value":ge.modelValue,"aria-label":ge.ariaLabel,onInput:Q,onChange:ee,onFocus:K,onBlur:X,onClear:Z,onKeydown:[Jr(Sn(Pe=>De(g.value-1),["prevent"]),["up"]),Jr(Sn(Pe=>De(g.value+1),["prevent"]),["down"]),Jr(j,["enter"]),Jr(pe,["tab"]),Jr(ie,["esc"])],onMousedown:ae}),Fs({_:2},[ge.$slots.prepend?{name:"prepend",fn:be(()=>[Ue(ge.$slots,"prepend")])}:void 0,ge.$slots.append?{name:"append",fn:be(()=>[Ue(ge.$slots,"append")])}:void 0,ge.$slots.prefix?{name:"prefix",fn:be(()=>[Ue(ge.$slots,"prefix")])}:void 0,ge.$slots.suffix?{name:"suffix",fn:be(()=>[Ue(ge.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var AQ=Ft(TQ,[["__file","autocomplete.vue"]]);const LQ=On(AQ),RQ=kt({size:{type:[Number,String],values:Du,default:"",validator:e=>fn(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ei},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ze(String),default:"cover"}}),PQ={error:e=>e instanceof Event},kQ=we({name:"ElAvatar"}),IQ=we({...kQ,props:RQ,emits:PQ,setup(e,{emit:t}){const n=e,r=xt("avatar"),a=re(!1),o=U(()=>{const{size:f,icon:h,shape:v}=n,y=[r.b()];return nn(f)&&y.push(r.m(f)),h&&y.push(r.m("icon")),v&&y.push(r.m(v)),y}),s=U(()=>{const{size:f}=n;return fn(f)?r.cssVarBlock({size:Bi(f)||""}):void 0}),u=U(()=>({objectFit:n.fit}));bt(()=>n.src,()=>a.value=!1);function d(f){a.value=!0,t("error",f)}return(f,h)=>(W(),ue("span",{class:J(m(o)),style:un(m(s))},[(f.src||f.srcSet)&&!a.value?(W(),ue("img",{key:0,src:f.src,alt:f.alt,srcset:f.srcSet,style:un(m(u)),onError:d},null,44,["src","alt","srcset"])):f.icon?(W(),tt(m(tn),{key:1},{default:be(()=>[(W(),tt(tr(f.icon)))]),_:1})):Ue(f.$slots,"default",{key:2})],6))}});var OQ=Ft(IQ,[["__file","avatar.vue"]]);const DQ=On(OQ),NQ={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},FQ={click:e=>e instanceof MouseEvent},BQ=(e,t,n)=>{const r=hi(),a=hi(),o=re(!1),s=()=>{r.value&&(o.value=r.value.scrollTop>=e.visibilityHeight)},u=f=>{var h;(h=r.value)==null||h.scrollTo({top:0,behavior:"smooth"}),t("click",f)},d=ND(s,300,!0);return Kr(a,"scroll",d),Bn(()=>{var f;a.value=document,r.value=document.documentElement,e.target&&(r.value=(f=document.querySelector(e.target))!=null?f:void 0,r.value||va(n,"target does not exist: ".concat(e.target)),a.value=r.value),s()}),{visible:o,handleClick:u}},CN="ElBacktop",zQ=we({name:CN}),VQ=we({...zQ,props:NQ,emits:FQ,setup(e,{emit:t}){const n=e,r=xt("backtop"),{handleClick:a,visible:o}=BQ(n,t,CN),s=U(()=>({right:"".concat(n.right,"px"),bottom:"".concat(n.bottom,"px")}));return(u,d)=>(W(),tt(Ia,{name:"".concat(m(r).namespace.value,"-fade-in")},{default:be(()=>[m(o)?(W(),ue("div",{key:0,style:un(m(s)),class:J(m(r).b()),onClick:Sn(m(a),["stop"])},[Ue(u.$slots,"default",{},()=>[ce(m(tn),{class:J(m(r).e("icon"))},{default:be(()=>[ce(m(p5))]),_:1},8,["class"])])],14,["onClick"])):Ye("v-if",!0)]),_:3},8,["name"]))}});var UQ=Ft(VQ,[["__file","backtop.vue"]]);const HQ=On(UQ),$Q=kt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:ze([String,Object,Array])},offset:{type:ze(Array),default:[0,0]},badgeClass:{type:String}}),GQ=we({name:"ElBadge"}),WQ=we({...GQ,props:$Q,setup(e,{expose:t}){const n=e,r=xt("badge"),a=U(()=>n.isDot?"":fn(n.value)&&fn(n.max)&&n.max<n.value?"".concat(n.max,"+"):"".concat(n.value)),o=U(()=>{var s,u,d,f,h;return[{backgroundColor:n.color,marginRight:Bi(-((u=(s=n.offset)==null?void 0:s[0])!=null?u:0)),marginTop:Bi((f=(d=n.offset)==null?void 0:d[1])!=null?f:0)},(h=n.badgeStyle)!=null?h:{}]});return t({content:a}),(s,u)=>(W(),ue("div",{class:J(m(r).b())},[Ue(s.$slots,"default"),ce(Ia,{name:"".concat(m(r).namespace.value,"-zoom-in-center"),persisted:""},{default:be(()=>[kn(fe("sup",{class:J([m(r).e("content"),m(r).em("content",s.type),m(r).is("fixed",!!s.$slots.default),m(r).is("dot",s.isDot),m(r).is("hide-zero",!s.showZero&&n.value===0),s.badgeClass]),style:un(m(o))},[Ue(s.$slots,"content",{value:m(a)},()=>[Pn(Pt(m(a)),1)])],6),[[_r,!s.hidden&&(m(a)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var jQ=Ft(WQ,[["__file","badge.vue"]]);const TN=On(jQ),AN=Symbol("breadcrumbKey"),qQ=kt({separator:{type:String,default:"/"},separatorIcon:{type:ei}}),KQ=we({name:"ElBreadcrumb"}),YQ=we({...KQ,props:qQ,setup(e){const t=e,{t:n}=xr(),r=xt("breadcrumb"),a=re();return or(AN,t),Bn(()=>{const o=a.value.querySelectorAll(".".concat(r.e("item")));o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,s)=>(W(),ue("div",{ref_key:"breadcrumb",ref:a,class:J(m(r).b()),"aria-label":m(n)("el.breadcrumb.label"),role:"navigation"},[Ue(o.$slots,"default")],10,["aria-label"]))}});var XQ=Ft(YQ,[["__file","breadcrumb.vue"]]);const ZQ=kt({to:{type:ze([String,Object]),default:""},replace:Boolean}),JQ=we({name:"ElBreadcrumbItem"}),QQ=we({...JQ,props:ZQ,setup(e){const t=e,n=Jn(),r=qt(AN,void 0),a=xt("breadcrumb"),o=n.appContext.config.globalProperties.$router,s=re(),u=()=>{!t.to||!o||(t.replace?o.replace(t.to):o.push(t.to))};return(d,f)=>{var h,v;return W(),ue("span",{class:J(m(a).e("item"))},[fe("span",{ref_key:"link",ref:s,class:J([m(a).e("inner"),m(a).is("link",!!d.to)]),role:"link",onClick:u},[Ue(d.$slots,"default")],2),(h=m(r))!=null&&h.separatorIcon?(W(),tt(m(tn),{key:0,class:J(m(a).e("separator"))},{default:be(()=>[(W(),tt(tr(m(r).separatorIcon)))]),_:1},8,["class"])):(W(),ue("span",{key:1,class:J(m(a).e("separator")),role:"presentation"},Pt((v=m(r))==null?void 0:v.separator),3))],2)}}});var LN=Ft(QQ,[["__file","breadcrumb-item.vue"]]);const eee=On(XQ,{BreadcrumbItem:LN}),tee=Ii(LN),RN=Symbol("buttonGroupContextKey"),ud=({from:e,replacement:t,scope:n,version:r,ref:a,type:o="API"},s)=>{bt(()=>m(s),u=>{},{immediate:!0})},nee=(e,t)=>{ud({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},U(()=>e.type==="text"));const n=qt(RN,void 0),r=Mw("button"),{form:a}=lo(),o=ta(U(()=>n==null?void 0:n.size)),s=uo(),u=re(),d=ya(),f=U(()=>e.type||(n==null?void 0:n.type)||""),h=U(()=>{var w,g,x;return(x=(g=e.autoInsertSpace)!=null?g:(w=r.value)==null?void 0:w.autoInsertSpace)!=null?x:!1}),v=U(()=>e.tag==="button"?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),y=U(()=>{var w;const g=(w=d.default)==null?void 0:w.call(d);if(h.value&&(g==null?void 0:g.length)===1){const x=g[0];if((x==null?void 0:x.type)===xm){const M=x.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(M.trim())}}return!1});return{_disabled:s,_size:o,_type:f,_ref:u,_props:v,shouldAddSpace:y,handleClick:w=>{if(s.value||e.loading){w.stopPropagation();return}e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",w)}}},uM=["default","primary","success","warning","info","danger","text",""],ree=["button","submit","reset"],cM=kt({size:ca,disabled:Boolean,type:{type:String,values:uM,default:""},icon:{type:ei},nativeType:{type:String,values:ree,default:"button"},loading:Boolean,loadingIcon:{type:ei,default:()=>Ru},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ze([String,Object]),default:"button"}}),iee={click:e=>e instanceof MouseEvent};function io(e,t){aee(e)&&(e="100%");var n=oee(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function qy(e){return Math.min(1,Math.max(0,e))}function aee(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function oee(e){return typeof e=="string"&&e.indexOf("%")!==-1}function PN(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ky(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Tf(e){return e.length===1?"0"+e:String(e)}function see(e,t,n){return{r:io(e,255)*255,g:io(t,255)*255,b:io(n,255)*255}}function SL(e,t,n){e=io(e,255),t=io(t,255),n=io(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=0,u=(r+a)/2;if(r===a)s=0,o=0;else{var d=r-a;switch(s=u>.5?d/(2-r-a):d/(r+a),r){case e:o=(t-n)/d+(t<n?6:0);break;case t:o=(n-e)/d+2;break;case n:o=(e-t)/d+4;break}o/=6}return{h:o,s,l:u}}function Sx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lee(e,t,n){var r,a,o;if(e=io(e,360),t=io(t,100),n=io(n,100),t===0)a=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=Sx(u,s,e+1/3),a=Sx(u,s,e),o=Sx(u,s,e-1/3)}return{r:r*255,g:a*255,b:o*255}}function ML(e,t,n){e=io(e,255),t=io(t,255),n=io(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=r,u=r-a,d=r===0?0:u/r;if(r===a)o=0;else{switch(r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s:d,v:s}}function uee(e,t,n){e=io(e,360)*6,t=io(t,100),n=io(n,100);var r=Math.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),d=r%6,f=[n,s,o,o,u,n][d],h=[u,n,n,s,o,o][d],v=[o,o,u,n,n,s][d];return{r:f*255,g:h*255,b:v*255}}function EL(e,t,n,r){var a=[Tf(Math.round(e).toString(16)),Tf(Math.round(t).toString(16)),Tf(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function cee(e,t,n,r,a){var o=[Tf(Math.round(e).toString(16)),Tf(Math.round(t).toString(16)),Tf(Math.round(n).toString(16)),Tf(dee(r))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function dee(e){return Math.round(parseFloat(e)*255).toString(16)}function CL(e){return Cs(e)/255}function Cs(e){return parseInt(e,16)}function fee(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var dM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function hee(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,o=null,s=!1,u=!1;return typeof e=="string"&&(e=vee(e)),typeof e=="object"&&(Ju(e.r)&&Ju(e.g)&&Ju(e.b)?(t=see(e.r,e.g,e.b),s=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ju(e.h)&&Ju(e.s)&&Ju(e.v)?(r=Ky(e.s),a=Ky(e.v),t=uee(e.h,r,a),s=!0,u="hsv"):Ju(e.h)&&Ju(e.s)&&Ju(e.l)&&(r=Ky(e.s),o=Ky(e.l),t=lee(e.h,r,o),s=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=PN(n),{ok:s,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var pee="[-\\+]?\\d+%?",mee="[-\\+]?\\d*\\.\\d+%?",id="(?:".concat(mee,")|(?:").concat(pee,")"),Mx="[\\s|\\(]+(".concat(id,")[,|\\s]+(").concat(id,")[,|\\s]+(").concat(id,")\\s*\\)?"),Ex="[\\s|\\(]+(".concat(id,")[,|\\s]+(").concat(id,")[,|\\s]+(").concat(id,")[,|\\s]+(").concat(id,")\\s*\\)?"),Cl={CSS_UNIT:new RegExp(id),rgb:new RegExp("rgb"+Mx),rgba:new RegExp("rgba"+Ex),hsl:new RegExp("hsl"+Mx),hsla:new RegExp("hsla"+Ex),hsv:new RegExp("hsv"+Mx),hsva:new RegExp("hsva"+Ex),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vee(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(dM[e])e=dM[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Cl.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Cl.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Cl.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Cl.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Cl.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Cl.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Cl.hex8.exec(e),n?{r:Cs(n[1]),g:Cs(n[2]),b:Cs(n[3]),a:CL(n[4]),format:t?"name":"hex8"}:(n=Cl.hex6.exec(e),n?{r:Cs(n[1]),g:Cs(n[2]),b:Cs(n[3]),format:t?"name":"hex"}:(n=Cl.hex4.exec(e),n?{r:Cs(n[1]+n[1]),g:Cs(n[2]+n[2]),b:Cs(n[3]+n[3]),a:CL(n[4]+n[4]),format:t?"name":"hex8"}:(n=Cl.hex3.exec(e),n?{r:Cs(n[1]+n[1]),g:Cs(n[2]+n[2]),b:Cs(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Ju(e){return!!Cl.CSS_UNIT.exec(String(e))}var kN=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=fee(t)),this.originalInput=t;var a=hee(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,a,o=t.r/255,s=t.g/255,u=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),u<=.03928?a=u/12.92:a=Math.pow((u+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=PN(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=ML(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=ML(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=SL(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=SL(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),EL(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),cee(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(io(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(io(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+EL(this.r,this.g,this.b,!1),n=0,r=Object.entries(dM);n<r.length;n++){var a=r[n],o=a[0],s=a[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t!=null?t:this.format;var r=!1,a=this.a<1&&this.a>=0,o=!n&&a&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=qy(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=qy(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=qy(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=qy(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),o=n/100,s={r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,s=[],u=1/t;t--;)s.push(new e({h:r,s:a,v:o})),o=(o+u)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),a=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],o=360/t,s=1;s<t;s++)a.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Gc(e,t=20){return e.mix("#141414",t).toString()}function gee(e){const t=uo(),n=xt("button");return U(()=>{let r={},a=e.color;if(a){const o=a.match(/var\((.*?)\)/);o&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new kN(a),u=e.dark?s.tint(20).toString():Gc(s,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Gc(s,90):s.tint(90).toString(),"text-color":a,"border-color":e.dark?Gc(s,50):s.tint(50).toString(),"hover-text-color":"var(".concat(n.cssVarName("color-white"),")"),"hover-bg-color":a,"hover-border-color":a,"active-bg-color":u,"active-text-color":"var(".concat(n.cssVarName("color-white"),")"),"active-border-color":u}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Gc(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Gc(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Gc(s,80):s.tint(80).toString());else{const d=e.dark?Gc(s,30):s.tint(30).toString(),f=s.isDark()?"var(".concat(n.cssVarName("color-white"),")"):"var(".concat(n.cssVarName("color-black"),")");if(r=n.cssVarBlock({"bg-color":a,"text-color":f,"border-color":a,"hover-bg-color":d,"hover-text-color":f,"hover-border-color":d,"active-bg-color":u,"active-border-color":u}),t.value){const h=e.dark?Gc(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":"var(".concat(n.cssVarName("color-white"),")"),r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const yee=we({name:"ElButton"}),bee=we({...yee,props:cM,emits:iee,setup(e,{expose:t,emit:n}){const r=e,a=gee(r),o=xt("button"),{_ref:s,_size:u,_type:d,_disabled:f,_props:h,shouldAddSpace:v,handleClick:y}=nee(r,n),b=U(()=>[o.b(),o.m(d.value),o.m(u.value),o.is("disabled",f.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return t({ref:s,size:u,type:d,disabled:f,shouldAddSpace:v}),(w,g)=>(W(),tt(tr(w.tag),nr({ref_key:"_ref",ref:s},m(h),{class:m(b),style:m(a),onClick:m(y)}),{default:be(()=>[w.loading?(W(),ue(rn,{key:0},[w.$slots.loading?Ue(w.$slots,"loading",{key:0}):(W(),tt(m(tn),{key:1,class:J(m(o).is("loading"))},{default:be(()=>[(W(),tt(tr(w.loadingIcon)))]),_:1},8,["class"]))],64)):w.icon||w.$slots.icon?(W(),tt(m(tn),{key:1},{default:be(()=>[w.icon?(W(),tt(tr(w.icon),{key:0})):Ue(w.$slots,"icon",{key:1})]),_:3})):Ye("v-if",!0),w.$slots.default?(W(),ue("span",{key:2,class:J({[m(o).em("text","expand")]:m(v)})},[Ue(w.$slots,"default")],2)):Ye("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var _ee=Ft(bee,[["__file","button.vue"]]);const wee={size:cM.size,type:cM.type},xee=we({name:"ElButtonGroup"}),See=we({...xee,props:wee,setup(e){const t=e;or(RN,Ir({size:Hr(t,"size"),type:Hr(t,"type")}));const n=xt("button");return(r,a)=>(W(),ue("div",{class:J(m(n).b("group"))},[Ue(r.$slots,"default")],2))}});var IN=Ft(See,[["__file","button-group.vue"]]);const Ra=On(_ee,{ButtonGroup:IN}),ON=Ii(IN);var zb={exports:{}},Mee=zb.exports,TL;function Eee(){return TL||(TL=1,function(e,t){(function(n,r){e.exports=r()})(Mee,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",s="second",u="minute",d="hour",f="day",h="week",v="month",y="quarter",b="year",w="date",g="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var ee=["th","st","nd","rd"],K=ae%100;return"["+ae+(ee[(K-20)%10]||ee[K]||ee[0])+"]"}},A=function(ae,ee,K){var X=String(ae);return!X||X.length>=ee?ae:""+Array(ee+1-X.length).join(K)+ae},T={s:A,z:function(ae){var ee=-ae.utcOffset(),K=Math.abs(ee),X=Math.floor(K/60),Z=K%60;return(ee<=0?"+":"-")+A(X,2,"0")+":"+A(Z,2,"0")},m:function ae(ee,K){if(ee.date()<K.date())return-ae(K,ee);var X=12*(K.year()-ee.year())+(K.month()-ee.month()),Z=ee.clone().add(X,v),j=K-Z<0,ie=ee.clone().add(X+(j?-1:1),v);return+(-(X+(K-Z)/(j?Z-ie:ie-Z))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:v,y:b,w:h,d:f,D:w,h:d,m:u,s,ms:o,Q:y}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},P="en",I={};I[P]=R;var E="$isDayjsObject",D=function(ae){return ae instanceof $||!(!ae||!ae[E])},N=function ae(ee,K,X){var Z;if(!ee)return P;if(typeof ee=="string"){var j=ee.toLowerCase();I[j]&&(Z=j),K&&(I[j]=K,Z=j);var ie=ee.split("-");if(!Z&&ie.length>1)return ae(ie[0])}else{var pe=ee.name;I[pe]=ee,Z=pe}return!X&&Z&&(P=Z),Z||!X&&P},B=function(ae,ee){if(D(ae))return ae.clone();var K=typeof ee=="object"?ee:{};return K.date=ae,K.args=arguments,new $(K)},G=T;G.l=N,G.i=D,G.w=function(ae,ee){return B(ae,{locale:ee.$L,utc:ee.$u,x:ee.$x,$offset:ee.$offset})};var $=function(){function ae(K){this.$L=N(K.locale,null,!0),this.parse(K),this.$x=this.$x||K.x||{},this[E]=!0}var ee=ae.prototype;return ee.parse=function(K){this.$d=function(X){var Z=X.date,j=X.utc;if(Z===null)return new Date(NaN);if(G.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var ie=Z.match(x);if(ie){var pe=ie[2]-1||0,he=(ie[7]||"0").substring(0,3);return j?new Date(Date.UTC(ie[1],pe,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,he)):new Date(ie[1],pe,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,he)}}return new Date(Z)}(K),this.init()},ee.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},ee.$utils=function(){return G},ee.isValid=function(){return this.$d.toString()!==g},ee.isSame=function(K,X){var Z=B(K);return this.startOf(X)<=Z&&Z<=this.endOf(X)},ee.isAfter=function(K,X){return B(K)<this.startOf(X)},ee.isBefore=function(K,X){return this.endOf(X)<B(K)},ee.$g=function(K,X,Z){return G.u(K)?this[X]:this.set(Z,K)},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this.$d.getTime()},ee.startOf=function(K,X){var Z=this,j=!!G.u(X)||X,ie=G.p(K),pe=function(Pe,Xe){var ct=G.w(Z.$u?Date.UTC(Z.$y,Xe,Pe):new Date(Z.$y,Xe,Pe),Z);return j?ct:ct.endOf(f)},he=function(Pe,Xe){return G.w(Z.toDate()[Pe].apply(Z.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(Xe)),Z)},le=this.$W,Re=this.$M,De=this.$D,Te="set"+(this.$u?"UTC":"");switch(ie){case b:return j?pe(1,0):pe(31,11);case v:return j?pe(1,Re):pe(0,Re+1);case h:var ge=this.$locale().weekStart||0,ke=(le<ge?le+7:le)-ge;return pe(j?De-ke:De+(6-ke),Re);case f:case w:return he(Te+"Hours",0);case d:return he(Te+"Minutes",1);case u:return he(Te+"Seconds",2);case s:return he(Te+"Milliseconds",3);default:return this.clone()}},ee.endOf=function(K){return this.startOf(K,!1)},ee.$set=function(K,X){var Z,j=G.p(K),ie="set"+(this.$u?"UTC":""),pe=(Z={},Z[f]=ie+"Date",Z[w]=ie+"Date",Z[v]=ie+"Month",Z[b]=ie+"FullYear",Z[d]=ie+"Hours",Z[u]=ie+"Minutes",Z[s]=ie+"Seconds",Z[o]=ie+"Milliseconds",Z)[j],he=j===f?this.$D+(X-this.$W):X;if(j===v||j===b){var le=this.clone().set(w,1);le.$d[pe](he),le.init(),this.$d=le.set(w,Math.min(this.$D,le.daysInMonth())).$d}else pe&&this.$d[pe](he);return this.init(),this},ee.set=function(K,X){return this.clone().$set(K,X)},ee.get=function(K){return this[G.p(K)]()},ee.add=function(K,X){var Z,j=this;K=Number(K);var ie=G.p(X),pe=function(Re){var De=B(j);return G.w(De.date(De.date()+Math.round(Re*K)),j)};if(ie===v)return this.set(v,this.$M+K);if(ie===b)return this.set(b,this.$y+K);if(ie===f)return pe(1);if(ie===h)return pe(7);var he=(Z={},Z[u]=r,Z[d]=a,Z[s]=n,Z)[ie]||1,le=this.$d.getTime()+K*he;return G.w(le,this)},ee.subtract=function(K,X){return this.add(-1*K,X)},ee.format=function(K){var X=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||g;var j=K||"YYYY-MM-DDTHH:mm:ssZ",ie=G.z(this),pe=this.$H,he=this.$m,le=this.$M,Re=Z.weekdays,De=Z.months,Te=Z.meridiem,ge=function(Xe,ct,se,ye){return Xe&&(Xe[ct]||Xe(X,j))||se[ct].slice(0,ye)},ke=function(Xe){return G.s(pe%12||12,Xe,"0")},Pe=Te||function(Xe,ct,se){var ye=Xe<12?"AM":"PM";return se?ye.toLowerCase():ye};return j.replace(M,function(Xe,ct){return ct||function(se){switch(se){case"YY":return String(X.$y).slice(-2);case"YYYY":return G.s(X.$y,4,"0");case"M":return le+1;case"MM":return G.s(le+1,2,"0");case"MMM":return ge(Z.monthsShort,le,De,3);case"MMMM":return ge(De,le);case"D":return X.$D;case"DD":return G.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return ge(Z.weekdaysMin,X.$W,Re,2);case"ddd":return ge(Z.weekdaysShort,X.$W,Re,3);case"dddd":return Re[X.$W];case"H":return String(pe);case"HH":return G.s(pe,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return Pe(pe,he,!0);case"A":return Pe(pe,he,!1);case"m":return String(he);case"mm":return G.s(he,2,"0");case"s":return String(X.$s);case"ss":return G.s(X.$s,2,"0");case"SSS":return G.s(X.$ms,3,"0");case"Z":return ie}return null}(Xe)||ie.replace(":","")})},ee.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ee.diff=function(K,X,Z){var j,ie=this,pe=G.p(X),he=B(K),le=(he.utcOffset()-this.utcOffset())*r,Re=this-he,De=function(){return G.m(ie,he)};switch(pe){case b:j=De()/12;break;case v:j=De();break;case y:j=De()/3;break;case h:j=(Re-le)/6048e5;break;case f:j=(Re-le)/864e5;break;case d:j=Re/a;break;case u:j=Re/r;break;case s:j=Re/n;break;default:j=Re}return Z?j:G.a(j)},ee.daysInMonth=function(){return this.endOf(v).$D},ee.$locale=function(){return I[this.$L]},ee.locale=function(K,X){if(!K)return this.$L;var Z=this.clone(),j=N(K,X,!0);return j&&(Z.$L=j),Z},ee.clone=function(){return G.w(this.$d,this)},ee.toDate=function(){return new Date(this.valueOf())},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toISOString=function(){return this.$d.toISOString()},ee.toString=function(){return this.$d.toUTCString()},ae}(),Q=$.prototype;return B.prototype=Q,[["$ms",o],["$s",s],["$m",u],["$H",d],["$W",f],["$M",v],["$y",b],["$D",w]].forEach(function(ae){Q[ae[1]]=function(ee){return this.$g(ee,ae[0],ae[1])}}),B.extend=function(ae,ee){return ae.$i||(ae(ee,$,B),ae.$i=!0),B},B.locale=N,B.isDayjs=D,B.unix=function(ae){return B(1e3*ae)},B.en=I[P],B.Ls=I,B.p={},B})}(zb)),zb.exports}var Cee=Eee();const Rn=$l(Cee),Cx=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],cd=e=>Array.from(Array.from({length:e}).keys()),DN=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),NN=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),AL=function(e,t){const n=hd(e),r=hd(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},LL=function(e,t){const n=Rt(e),r=Rt(t);return n&&r?e.length!==t.length?!1:e.every((a,o)=>AL(a,t[o])):!n&&!r?AL(e,t):!1},RL=function(e,t,n){const r=As(t)||t==="x"?Rn(e).locale(n):Rn(e,t).locale(n);return r.isValid()?r:void 0},PL=function(e,t,n){return As(t)?e:t==="x"?+e:Rn(e).locale(n).format(t)},Tx=(e,t)=>{var n;const r=[],a=t==null?void 0:t();for(let o=0;o<e;o++)r.push((n=a==null?void 0:a.includes(o))!=null?n:!1);return r},Yy=e=>Rt(e)?e.map(t=>t.toDate()):e.toDate(),Tee=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return cd(t).map((r,a)=>n-(t-a-1))},Aee=e=>{const t=e.daysInMonth();return cd(t).map((n,r)=>r+1)},Lee=e=>cd(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),Ree=kt({selectedDay:{type:ze(Object)},range:{type:ze(Array)},date:{type:ze(Object),required:!0},hideHeader:{type:Boolean}}),Pee={pick:e=>jn(e)};var Vb={exports:{}},kee=Vb.exports,kL;function Iee(){return kL||(kL=1,function(e,t){(function(n,r){e.exports=r()})(kee,function(){return function(n,r,a){var o=r.prototype,s=function(v){return v&&(v.indexOf?v:v.s)},u=function(v,y,b,w,g){var x=v.name?v:v.$locale(),M=s(x[y]),R=s(x[b]),A=M||R.map(function(P){return P.slice(0,w)});if(!g)return A;var T=x.weekStart;return A.map(function(P,I){return A[(I+(T||0))%7]})},d=function(){return a.Ls[a.locale()]},f=function(v,y){return v.formats[y]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,g,x){return g||x.slice(1)})}(v.formats[y.toUpperCase()])},h=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):u(v,"months")},monthsShort:function(y){return y?y.format("MMM"):u(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):u(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):u(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):u(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return f(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return h.bind(this)()},a.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(y){return f(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},a.months=function(){return u(d(),"months")},a.monthsShort=function(){return u(d(),"monthsShort","months",3)},a.weekdays=function(v){return u(d(),"weekdays",null,null,v)},a.weekdaysShort=function(v){return u(d(),"weekdaysShort","weekdays",3,v)},a.weekdaysMin=function(v){return u(d(),"weekdaysMin","weekdays",2,v)}}})}(Vb)),Vb.exports}var Oee=Iee();const FN=$l(Oee),Dee=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],Ax=["sun","mon","tue","wed","thu","fri","sat"],Nee=(e,t)=>{Rn.extend(FN);const n=Rn.localeData().firstDayOfWeek(),{t:r,lang:a}=xr(),o=Rn().locale(a.value),s=U(()=>!!e.range&&!!e.range.length),u=U(()=>{let y=[];if(s.value){const[b,w]=e.range,g=cd(w.date()-b.date()+1).map(R=>({text:b.date()+R,type:"current"}));let x=g.length%7;x=x===0?0:7-x;const M=cd(x).map((R,A)=>({text:A+1,type:"next"}));y=g.concat(M)}else{const b=e.date.startOf("month").day(),w=Tee(e.date,(b-n+7)%7).map(R=>({text:R,type:"prev"})),g=Aee(e.date).map(R=>({text:R,type:"current"}));y=[...w,...g];const x=7-(y.length%7||7),M=cd(x).map((R,A)=>({text:A+1,type:"next"}));y=y.concat(M)}return Lee(y)}),d=U(()=>{const y=n;return y===0?Ax.map(b=>r("el.datepicker.weeks.".concat(b))):Ax.slice(y).concat(Ax.slice(0,y)).map(b=>r("el.datepicker.weeks.".concat(b)))}),f=(y,b)=>{switch(b){case"prev":return e.date.startOf("month").subtract(1,"month").date(y);case"next":return e.date.startOf("month").add(1,"month").date(y);case"current":return e.date.date(y)}};return{now:o,isInRange:s,rows:u,weekDays:d,getFormattedDate:f,handlePickDay:({text:y,type:b})=>{const w=f(y,b);t("pick",w)},getSlotData:({text:y,type:b})=>{const w=f(y,b);return{isSelected:w.isSame(e.selectedDay),type:"".concat(b,"-month"),day:w.format("YYYY-MM-DD"),date:w.toDate()}}}},Fee=we({name:"DateTable"}),Bee=we({...Fee,props:Ree,emits:Pee,setup(e,{expose:t,emit:n}){const r=e,{isInRange:a,now:o,rows:s,weekDays:u,getFormattedDate:d,handlePickDay:f,getSlotData:h}=Nee(r,n),v=xt("calendar-table"),y=xt("calendar-day"),b=({text:w,type:g})=>{const x=[g];if(g==="current"){const M=d(w,g);M.isSame(r.selectedDay,"day")&&x.push(y.is("selected")),M.isSame(o,"day")&&x.push(y.is("today"))}return x};return t({getFormattedDate:d}),(w,g)=>(W(),ue("table",{class:J([m(v).b(),m(v).is("range",m(a))]),cellspacing:"0",cellpadding:"0"},[w.hideHeader?Ye("v-if",!0):(W(),ue("thead",{key:0},[fe("tr",null,[(W(!0),ue(rn,null,ar(m(u),x=>(W(),ue("th",{key:x,scope:"col"},Pt(x),1))),128))])])),fe("tbody",null,[(W(!0),ue(rn,null,ar(m(s),(x,M)=>(W(),ue("tr",{key:M,class:J({[m(v).e("row")]:!0,[m(v).em("row","hide-border")]:M===0&&w.hideHeader})},[(W(!0),ue(rn,null,ar(x,(R,A)=>(W(),ue("td",{key:A,class:J(b(R)),onClick:T=>m(f)(R)},[fe("div",{class:J(m(y).b())},[Ue(w.$slots,"date-cell",{data:m(h)(R)},()=>[fe("span",null,Pt(R.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var IL=Ft(Bee,[["__file","date-table.vue"]]);const zee=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[o.startOf("week"),t]]},Vee=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r,o=a.endOf("month"),s=t.startOf("month"),u=o.isSame(s,"week")?s.add(1,"week"):s;return[[e,n],[a.startOf("week"),o],[u.startOf("week"),t]]},Uee=(e,t,n)=>{const{lang:r}=xr(),a=re(),o=Rn().locale(r.value),s=U({get(){return e.modelValue?d.value:a.value},set(x){if(!x)return;a.value=x;const M=x.toDate();t(ro,M),t(Vn,M)}}),u=U(()=>{if(!e.range||!Rt(e.range)||e.range.length!==2||e.range.some(A=>!hd(A)))return[];const x=e.range.map(A=>Rn(A).locale(r.value)),[M,R]=x;return M.isAfter(R)?[]:M.isSame(R,"month")?b(M,R):M.add(1,"month").month()!==R.month()?[]:b(M,R)}),d=U(()=>e.modelValue?Rn(e.modelValue).locale(r.value):s.value||(u.value.length?u.value[0][0]:o)),f=U(()=>d.value.subtract(1,"month").date(1)),h=U(()=>d.value.add(1,"month").date(1)),v=U(()=>d.value.subtract(1,"year").date(1)),y=U(()=>d.value.add(1,"year").date(1)),b=(x,M)=>{const R=x.startOf("week"),A=M.endOf("week"),T=R.get("month"),P=A.get("month");return T===P?[[R,A]]:(T+1)%12===P?zee(R,A):T+2===P||(T+1)%11===P?Vee(R,A):[]},w=x=>{s.value=x};return{calculateValidatedDateRange:b,date:d,realSelectedDay:s,pickDay:w,selectDate:x=>{const R={"prev-month":f.value,"next-month":h.value,"prev-year":v.value,"next-year":y.value,today:o}[x];R.isSame(d.value,"day")||w(R)},validatedRange:u}},Hee=e=>Rt(e)&&e.length===2&&e.every(t=>hd(t)),$ee=kt({modelValue:{type:Date},range:{type:ze(Array),validator:Hee}}),Gee={[Vn]:e=>hd(e),[ro]:e=>hd(e)},Wee="ElCalendar",jee=we({name:Wee}),qee=we({...jee,props:$ee,emits:Gee,setup(e,{expose:t,emit:n}){const r=e,a=xt("calendar"),{calculateValidatedDateRange:o,date:s,pickDay:u,realSelectedDay:d,selectDate:f,validatedRange:h}=Uee(r,n),{t:v}=xr(),y=U(()=>{const b="el.datepicker.month".concat(s.value.format("M"));return"".concat(s.value.year()," ").concat(v("el.datepicker.year")," ").concat(v(b))});return t({selectedDay:d,pickDay:u,selectDate:f,calculateValidatedDateRange:o}),(b,w)=>(W(),ue("div",{class:J(m(a).b())},[fe("div",{class:J(m(a).e("header"))},[Ue(b.$slots,"header",{date:m(y)},()=>[fe("div",{class:J(m(a).e("title"))},Pt(m(y)),3),m(h).length===0?(W(),ue("div",{key:0,class:J(m(a).e("button-group"))},[ce(m(ON),null,{default:be(()=>[ce(m(Ra),{size:"small",onClick:g=>m(f)("prev-month")},{default:be(()=>[Pn(Pt(m(v)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),ce(m(Ra),{size:"small",onClick:g=>m(f)("today")},{default:be(()=>[Pn(Pt(m(v)("el.datepicker.today")),1)]),_:1},8,["onClick"]),ce(m(Ra),{size:"small",onClick:g=>m(f)("next-month")},{default:be(()=>[Pn(Pt(m(v)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Ye("v-if",!0)])],2),m(h).length===0?(W(),ue("div",{key:0,class:J(m(a).e("body"))},[ce(IL,{date:m(s),"selected-day":m(d),onPick:m(u)},Fs({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:be(g=>[Ue(b.$slots,"date-cell",Ls(Lu(g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(W(),ue("div",{key:1,class:J(m(a).e("body"))},[(W(!0),ue(rn,null,ar(m(h),(g,x)=>(W(),tt(IL,{key:x,date:g[0],"selected-day":m(d),range:g,"hide-header":x!==0,onPick:m(u)},Fs({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:be(M=>[Ue(b.$slots,"date-cell",Ls(Lu(M)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Kee=Ft(qee,[["__file","calendar.vue"]]);const Yee=On(Kee),Xee=kt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ze([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Zee=we({name:"ElCard"}),Jee=we({...Zee,props:Xee,setup(e){const t=xt("card");return(n,r)=>(W(),ue("div",{class:J([m(t).b(),m(t).is("".concat(n.shadow,"-shadow"))])},[n.$slots.header||n.header?(W(),ue("div",{key:0,class:J(m(t).e("header"))},[Ue(n.$slots,"header",{},()=>[Pn(Pt(n.header),1)])],2)):Ye("v-if",!0),fe("div",{class:J([m(t).e("body"),n.bodyClass]),style:un(n.bodyStyle)},[Ue(n.$slots,"default")],6),n.$slots.footer||n.footer?(W(),ue("div",{key:1,class:J(m(t).e("footer"))},[Ue(n.$slots,"footer",{},()=>[Pn(Pt(n.footer),1)])],2)):Ye("v-if",!0)],2))}});var Qee=Ft(Jee,[["__file","card.vue"]]);const ete=On(Qee),tte=kt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),nte={change:(e,t)=>[e,t].every(fn)},BN=Symbol("carouselContextKey"),fM="ElCarouselItem";var Zs=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Zs||{});function hM(e){return Mi(e)&&e.type===rn}function rte(e){return Mi(e)&&e.type===La}function ite(e){return Mi(e)&&!hM(e)&&!rte(e)}const ate=e=>{if(!Mi(e))return{};const t=e.props||{},n=(Mi(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(a=>{kr(n[a],"default")&&(r[a]=n[a].default)}),Object.keys(t).forEach(a=>{r[$o(a)]=t[a]}),r},ote=e=>{if(!Rt(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},dd=e=>{const t=Rt(e)?e:[e],n=[];return t.forEach(r=>{var a;Rt(r)?n.push(...dd(r)):Mi(r)&&((a=r.component)!=null&&a.subTree)?n.push(r,...dd(r.component.subTree)):Mi(r)&&Rt(r.children)?n.push(...dd(r.children)):n.push(r)}),n},ste=(e,t,n)=>dd(e.subTree).filter(o=>{var s;return Mi(o)&&((s=o.type)==null?void 0:s.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),DC=(e,t)=>{const n={},r=hi([]);return{children:r,addChild:s=>{n[s.uid]=s,r.value=ste(e,t,n)},removeChild:s=>{delete n[s],r.value=r.value.filter(u=>u.uid!==s)}}},OL=300,lte=(e,t,n)=>{const{children:r,addChild:a,removeChild:o}=DC(Jn(),fM),s=ya(),u=re(-1),d=re(null),f=re(!1),h=re(),v=re(0),y=re(!0),b=re(!0),w=re(!1),g=U(()=>e.arrow!=="never"&&!m(R)),x=U(()=>r.value.some(Te=>Te.props.label.toString().length>0)),M=U(()=>e.type==="card"),R=U(()=>e.direction==="vertical"),A=U(()=>e.height!=="auto"?{height:e.height}:{height:"".concat(v.value,"px"),overflow:"hidden"}),T=Nf(Te=>{B(Te)},OL,{trailing:!0}),P=Nf(Te=>{j(Te)},OL),I=Te=>y.value?u.value<=1?Te<=1:Te>1:!0;function E(){d.value&&(clearInterval(d.value),d.value=null)}function D(){e.interval<=0||!e.autoplay||d.value||(d.value=setInterval(()=>N(),e.interval))}const N=()=>{b.value||(w.value=!0),b.value=!1,u.value<r.value.length-1?u.value=u.value+1:e.loop?u.value=0:w.value=!1};function B(Te){if(b.value||(w.value=!0),b.value=!1,nn(Te)){const Pe=r.value.filter(Xe=>Xe.props.name===Te);Pe.length>0&&(Te=r.value.indexOf(Pe[0]))}if(Te=Number(Te),Number.isNaN(Te)||Te!==Math.floor(Te))return;const ge=r.value.length,ke=u.value;Te<0?u.value=e.loop?ge-1:0:Te>=ge?u.value=e.loop?0:ge-1:u.value=Te,ke===u.value&&G(ke),he()}function G(Te){r.value.forEach((ge,ke)=>{ge.translateItem(ke,u.value,Te)})}function $(Te,ge){var ke,Pe,Xe,ct;const se=m(r),ye=se.length;if(ye===0||!Te.states.inStage)return!1;const He=ge+1,dt=ge-1,pt=ye-1,nt=se[pt].states.active,ot=se[0].states.active,rt=(Pe=(ke=se[He])==null?void 0:ke.states)==null?void 0:Pe.active,At=(ct=(Xe=se[dt])==null?void 0:Xe.states)==null?void 0:ct.active;return ge===pt&&ot||rt?"left":ge===0&&nt||At?"right":!1}function Q(){f.value=!0,e.pauseOnHover&&E()}function ae(){f.value=!1,D()}function ee(){w.value=!1}function K(Te){m(R)||r.value.forEach((ge,ke)=>{Te===$(ge,ke)&&(ge.states.hover=!0)})}function X(){m(R)||r.value.forEach(Te=>{Te.states.hover=!1})}function Z(Te){Te!==u.value&&(b.value||(w.value=!0)),u.value=Te}function j(Te){e.trigger==="hover"&&Te!==u.value&&(u.value=Te,b.value||(w.value=!0))}function ie(){B(u.value-1)}function pe(){B(u.value+1)}function he(){E(),e.pauseOnHover||D()}function le(Te){e.height==="auto"&&(v.value=Te)}function Re(){var Te;const ge=(Te=s.default)==null?void 0:Te.call(s);if(!ge)return null;const Pe=dd(ge).filter(Xe=>Mi(Xe)&&Xe.type.name===fM);return(Pe==null?void 0:Pe.length)===2&&e.loop&&!M.value?(y.value=!0,Pe):(y.value=!1,null)}bt(()=>u.value,(Te,ge)=>{G(ge),y.value&&(Te=Te%2,ge=ge%2),ge>-1&&t("change",Te,ge)}),bt(()=>e.autoplay,Te=>{Te?D():E()}),bt(()=>e.loop,()=>{B(u.value)}),bt(()=>e.interval,()=>{he()});const De=hi();return Bn(()=>{bt(()=>r.value,()=>{r.value.length>0&&B(e.initialIndex)},{immediate:!0}),De.value=Ri(h.value,()=>{G()}),D()}),Yr(()=>{E(),h.value&&De.value&&De.value.stop()}),or(BN,{root:h,isCardType:M,isVertical:R,items:r,loop:e.loop,cardScale:e.cardScale,addItem:a,removeItem:o,setActiveItem:B,setContainerHeight:le}),{root:h,activeIndex:u,arrowDisplay:g,hasLabel:x,hover:f,isCardType:M,isTransitioning:w,items:r,isVertical:R,containerStyle:A,isItemsTwoLength:y,handleButtonEnter:K,handleTransitionEnd:ee,handleButtonLeave:X,handleIndicatorClick:Z,handleMouseEnter:Q,handleMouseLeave:ae,setActiveItem:B,prev:ie,next:pe,PlaceholderItem:Re,isTwoLengthShow:I,throttledArrowClick:T,throttledIndicatorHover:P}},ute="ElCarousel",cte=we({name:ute}),dte=we({...cte,props:tte,emits:nte,setup(e,{expose:t,emit:n}){const r=e,{root:a,activeIndex:o,arrowDisplay:s,hasLabel:u,hover:d,isCardType:f,items:h,isVertical:v,containerStyle:y,handleButtonEnter:b,handleButtonLeave:w,isTransitioning:g,handleIndicatorClick:x,handleMouseEnter:M,handleMouseLeave:R,handleTransitionEnd:A,setActiveItem:T,prev:P,next:I,PlaceholderItem:E,isTwoLengthShow:D,throttledArrowClick:N,throttledIndicatorHover:B}=lte(r,n),G=xt("carousel"),{t:$}=xr(),Q=U(()=>{const K=[G.b(),G.m(r.direction)];return m(f)&&K.push(G.m("card")),K}),ae=U(()=>{const K=[G.e("container")];return r.motionBlur&&m(g)&&h.value.length>1&&K.push(m(v)?"".concat(G.namespace.value,"-transitioning-vertical"):"".concat(G.namespace.value,"-transitioning")),K}),ee=U(()=>{const K=[G.e("indicators"),G.em("indicators",r.direction)];return m(u)&&K.push(G.em("indicators","labels")),r.indicatorPosition==="outside"&&K.push(G.em("indicators","outside")),m(v)&&K.push(G.em("indicators","right")),K});return t({activeIndex:o,setActiveItem:T,prev:P,next:I}),(K,X)=>(W(),ue("div",{ref_key:"root",ref:a,class:J(m(Q)),onMouseenter:Sn(m(M),["stop"]),onMouseleave:Sn(m(R),["stop"])},[m(s)?(W(),tt(Ia,{key:0,name:"carousel-arrow-left",persisted:""},{default:be(()=>[kn(fe("button",{type:"button",class:J([m(G).e("arrow"),m(G).em("arrow","left")]),"aria-label":m($)("el.carousel.leftArrow"),onMouseenter:Z=>m(b)("left"),onMouseleave:m(w),onClick:Sn(Z=>m(N)(m(o)-1),["stop"])},[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[_r,(K.arrow==="always"||m(d))&&(r.loop||m(o)>0)]])]),_:1})):Ye("v-if",!0),m(s)?(W(),tt(Ia,{key:1,name:"carousel-arrow-right",persisted:""},{default:be(()=>[kn(fe("button",{type:"button",class:J([m(G).e("arrow"),m(G).em("arrow","right")]),"aria-label":m($)("el.carousel.rightArrow"),onMouseenter:Z=>m(b)("right"),onMouseleave:m(w),onClick:Sn(Z=>m(N)(m(o)+1),["stop"])},[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[_r,(K.arrow==="always"||m(d))&&(r.loop||m(o)<m(h).length-1)]])]),_:1})):Ye("v-if",!0),fe("div",{class:J(m(ae)),style:un(m(y)),onTransitionend:m(A)},[ce(m(E)),Ue(K.$slots,"default")],46,["onTransitionend"]),K.indicatorPosition!=="none"?(W(),ue("ul",{key:2,class:J(m(ee))},[(W(!0),ue(rn,null,ar(m(h),(Z,j)=>kn((W(),ue("li",{key:j,class:J([m(G).e("indicator"),m(G).em("indicator",K.direction),m(G).is("active",j===m(o))]),onMouseenter:ie=>m(B)(j),onClick:Sn(ie=>m(x)(j),["stop"])},[fe("button",{class:J(m(G).e("button")),"aria-label":m($)("el.carousel.indicator",{index:j+1})},[m(u)?(W(),ue("span",{key:0},Pt(Z.props.label),1)):Ye("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[_r,m(D)(j)]])),128))],2)):Ye("v-if",!0),r.motionBlur?(W(),ue("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[fe("defs",null,[fe("filter",{id:"elCarouselHorizontal"},[fe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),fe("filter",{id:"elCarouselVertical"},[fe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Ye("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var fte=Ft(dte,[["__file","carousel.vue"]]);const hte=kt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),pte=e=>{const t=qt(BN),n=Jn(),r=re(),a=re(!1),o=re(0),s=re(1),u=re(!1),d=re(!1),f=re(!1),h=re(!1),{isCardType:v,isVertical:y,cardScale:b}=t;function w(A,T,P){const I=P-1,E=T-1,D=T+1,N=P/2;return T===0&&A===I?-1:T===I&&A===0?P:A<E&&T-A>=N?P+1:A>D&&A-T>=N?-2:A}function g(A,T){var P,I;const E=m(y)?((P=t.root.value)==null?void 0:P.offsetHeight)||0:((I=t.root.value)==null?void 0:I.offsetWidth)||0;return f.value?E*((2-b)*(A-T)+1)/4:A<T?-(1+b)*E/4:(3+b)*E/4}function x(A,T,P){const I=t.root.value;return I?((P?I.offsetHeight:I.offsetWidth)||0)*(A-T):0}const M=(A,T,P)=>{var I;const E=m(v),D=(I=t.items.value.length)!=null?I:Number.NaN,N=A===T;!E&&!Or(P)&&(h.value=N||A===P),!N&&D>2&&t.loop&&(A=w(A,T,D));const B=m(y);u.value=N,E?(f.value=Math.round(Math.abs(A-T))<=1,o.value=g(A,T),s.value=m(u)?1:b):o.value=x(A,T,B),d.value=!0,N&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function R(){if(t&&m(v)){const A=t.items.value.findIndex(({uid:T})=>T===n.uid);t.setActiveItem(A)}}return Bn(()=>{t.addItem({props:e,states:Ir({hover:a,translate:o,scale:s,active:u,ready:d,inStage:f,animating:h}),uid:n.uid,translateItem:M})}),Md(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:u,animating:h,hover:a,inStage:f,isVertical:y,translate:o,isCardType:v,scale:s,ready:d,handleItemClick:R}},mte=we({name:fM}),vte=we({...mte,props:hte,setup(e){const t=e,n=xt("carousel"),{carouselItemRef:r,active:a,animating:o,hover:s,inStage:u,isVertical:d,translate:f,isCardType:h,scale:v,ready:y,handleItemClick:b}=pte(t),w=U(()=>[n.e("item"),n.is("active",a.value),n.is("in-stage",u.value),n.is("hover",s.value),n.is("animating",o.value),{[n.em("item","card")]:h.value,[n.em("item","card-vertical")]:h.value&&d.value}]),g=U(()=>{const x="translate".concat(m(d)?"Y":"X"),M="".concat(x,"(").concat(m(f),"px)"),R="scale(".concat(m(v),")");return{transform:[M,R].join(" ")}});return(x,M)=>kn((W(),ue("div",{ref_key:"carouselItemRef",ref:r,class:J(m(w)),style:un(m(g)),onClick:m(b)},[m(h)?kn((W(),ue("div",{key:0,class:J(m(n).e("mask"))},null,2)),[[_r,!m(a)]]):Ye("v-if",!0),Ue(x.$slots,"default")],14,["onClick"])),[[_r,m(y)]])}});var zN=Ft(vte,[["__file","carousel-item.vue"]]);const gte=On(fte,{CarouselItem:zN}),yte=Ii(zN),VN={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:ca,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...qa(["ariaControls"])},UN={[Vn]:e=>nn(e)||fn(e)||ri(e),change:e=>nn(e)||fn(e)||ri(e)},Pm=Symbol("checkboxGroupContextKey"),bte=({model:e,isChecked:t})=>{const n=qt(Pm,void 0),r=U(()=>{var o,s;const u=(o=n==null?void 0:n.max)==null?void 0:o.value,d=(s=n==null?void 0:n.min)==null?void 0:s.value;return!Or(u)&&e.value.length>=u&&!t.value||!Or(d)&&e.value.length<=d&&t.value});return{isDisabled:uo(U(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},_te=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:a,isLabeledByFormItem:o})=>{const s=qt(Pm,void 0),{formItem:u}=lo(),{emit:d}=Jn();function f(w){var g,x,M,R;return[!0,e.trueValue,e.trueLabel].includes(w)?(x=(g=e.trueValue)!=null?g:e.trueLabel)!=null?x:!0:(R=(M=e.falseValue)!=null?M:e.falseLabel)!=null?R:!1}function h(w,g){d("change",f(w),g)}function v(w){if(n.value)return;const g=w.target;d("change",f(g.checked),w)}async function y(w){n.value||!r.value&&!a.value&&o.value&&(w.composedPath().some(M=>M.tagName==="LABEL")||(t.value=f([!1,e.falseValue,e.falseLabel].includes(t.value)),await cn(),h(t.value,w)))}const b=U(()=>(s==null?void 0:s.validateEvent)||e.validateEvent);return bt(()=>e.modelValue,()=>{b.value&&(u==null||u.validate("change").catch(w=>void 0))}),{handleChange:v,onClickRoot:y}},wte=e=>{const t=re(!1),{emit:n}=Jn(),r=qt(Pm,void 0),a=U(()=>Or(r)===!1),o=re(!1),s=U({get(){var u,d;return a.value?(u=r==null?void 0:r.modelValue)==null?void 0:u.value:(d=e.modelValue)!=null?d:t.value},set(u){var d,f;a.value&&Rt(u)?(o.value=((d=r==null?void 0:r.max)==null?void 0:d.value)!==void 0&&u.length>(r==null?void 0:r.max.value)&&u.length>s.value.length,o.value===!1&&((f=r==null?void 0:r.changeEvent)==null||f.call(r,u))):(n(Vn,u),t.value=u)}});return{model:s,isGroup:a,isLimitExceeded:o}},xte=(e,t,{model:n})=>{const r=qt(Pm,void 0),a=re(!1),o=U(()=>Dl(e.value)?e.label:e.value),s=U(()=>{const h=n.value;return ri(h)?h:Rt(h)?jn(o.value)?h.map(ni).some(v=>no(v,o.value)):h.map(ni).includes(o.value):h!=null?h===e.trueValue||h===e.trueLabel:!!h}),u=ta(U(()=>{var h;return(h=r==null?void 0:r.size)==null?void 0:h.value}),{prop:!0}),d=ta(U(()=>{var h;return(h=r==null?void 0:r.size)==null?void 0:h.value})),f=U(()=>!!t.default||!Dl(o.value));return{checkboxButtonSize:u,isChecked:s,isFocused:a,checkboxSize:d,hasOwnLabel:f,actualValue:o}},HN=(e,t)=>{const{formItem:n}=lo(),{model:r,isGroup:a,isLimitExceeded:o}=wte(e),{isFocused:s,isChecked:u,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:h,actualValue:v}=xte(e,t,{model:r}),{isDisabled:y}=bte({model:r,isChecked:u}),{inputId:b,isLabeledByFormItem:w}=ul(e,{formItemContext:n,disableIdGeneration:h,disableIdManagement:a}),{handleChange:g,onClickRoot:x}=_te(e,{model:r,isLimitExceeded:o,hasOwnLabel:h,isDisabled:y,isLabeledByFormItem:w});return(()=>{function R(){var A,T;Rt(r.value)&&!r.value.includes(v.value)?r.value.push(v.value):r.value=(T=(A=e.trueValue)!=null?A:e.trueLabel)!=null?T:!0}e.checked&&R()})(),ud({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>a.value&&Dl(e.value))),ud({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!e.trueLabel)),ud({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!e.falseLabel)),{inputId:b,isLabeledByFormItem:w,isChecked:u,isDisabled:y,isFocused:s,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:h,model:r,actualValue:v,handleChange:g,onClickRoot:x}},Ste=we({name:"ElCheckbox"}),Mte=we({...Ste,props:VN,emits:UN,setup(e){const t=e,n=ya(),{inputId:r,isLabeledByFormItem:a,isChecked:o,isDisabled:s,isFocused:u,checkboxSize:d,hasOwnLabel:f,model:h,actualValue:v,handleChange:y,onClickRoot:b}=HN(t,n),w=xt("checkbox"),g=U(()=>[w.b(),w.m(d.value),w.is("disabled",s.value),w.is("bordered",t.border),w.is("checked",o.value)]),x=U(()=>[w.e("input"),w.is("disabled",s.value),w.is("checked",o.value),w.is("indeterminate",t.indeterminate),w.is("focus",u.value)]);return(M,R)=>(W(),tt(tr(!m(f)&&m(a)?"span":"label"),{class:J(m(g)),"aria-controls":M.indeterminate?M.ariaControls:null,onClick:m(b)},{default:be(()=>{var A,T,P,I;return[fe("span",{class:J(m(x))},[M.trueValue||M.falseValue||M.trueLabel||M.falseLabel?kn((W(),ue("input",{key:0,id:m(r),"onUpdate:modelValue":E=>vi(h)?h.value=E:null,class:J(m(w).e("original")),type:"checkbox",indeterminate:M.indeterminate,name:M.name,tabindex:M.tabindex,disabled:m(s),"true-value":(T=(A=M.trueValue)!=null?A:M.trueLabel)!=null?T:!0,"false-value":(I=(P=M.falseValue)!=null?P:M.falseLabel)!=null?I:!1,onChange:m(y),onFocus:E=>u.value=!0,onBlur:E=>u.value=!1,onClick:Sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[S_,m(h)]]):kn((W(),ue("input",{key:1,id:m(r),"onUpdate:modelValue":E=>vi(h)?h.value=E:null,class:J(m(w).e("original")),type:"checkbox",indeterminate:M.indeterminate,disabled:m(s),value:m(v),name:M.name,tabindex:M.tabindex,onChange:m(y),onFocus:E=>u.value=!0,onBlur:E=>u.value=!1,onClick:Sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[S_,m(h)]]),fe("span",{class:J(m(w).e("inner"))},null,2)],2),m(f)?(W(),ue("span",{key:0,class:J(m(w).e("label"))},[Ue(M.$slots,"default"),M.$slots.default?Ye("v-if",!0):(W(),ue(rn,{key:0},[Pn(Pt(M.label),1)],64))],2)):Ye("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Ete=Ft(Mte,[["__file","checkbox.vue"]]);const Cte=we({name:"ElCheckboxButton"}),Tte=we({...Cte,props:VN,emits:UN,setup(e){const t=e,n=ya(),{isFocused:r,isChecked:a,isDisabled:o,checkboxButtonSize:s,model:u,actualValue:d,handleChange:f}=HN(t,n),h=qt(Pm,void 0),v=xt("checkbox"),y=U(()=>{var w,g,x,M;const R=(g=(w=h==null?void 0:h.fill)==null?void 0:w.value)!=null?g:"";return{backgroundColor:R,borderColor:R,color:(M=(x=h==null?void 0:h.textColor)==null?void 0:x.value)!=null?M:"",boxShadow:R?"-1px 0 0 0 ".concat(R):void 0}}),b=U(()=>[v.b("button"),v.bm("button",s.value),v.is("disabled",o.value),v.is("checked",a.value),v.is("focus",r.value)]);return(w,g)=>{var x,M,R,A;return W(),ue("label",{class:J(m(b))},[w.trueValue||w.falseValue||w.trueLabel||w.falseLabel?kn((W(),ue("input",{key:0,"onUpdate:modelValue":T=>vi(u)?u.value=T:null,class:J(m(v).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:m(o),"true-value":(M=(x=w.trueValue)!=null?x:w.trueLabel)!=null?M:!0,"false-value":(A=(R=w.falseValue)!=null?R:w.falseLabel)!=null?A:!1,onChange:m(f),onFocus:T=>r.value=!0,onBlur:T=>r.value=!1,onClick:Sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[S_,m(u)]]):kn((W(),ue("input",{key:1,"onUpdate:modelValue":T=>vi(u)?u.value=T:null,class:J(m(v).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:m(o),value:m(d),onChange:m(f),onFocus:T=>r.value=!0,onBlur:T=>r.value=!1,onClick:Sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[S_,m(u)]]),w.$slots.default||w.label?(W(),ue("span",{key:2,class:J(m(v).be("button","inner")),style:un(m(a)?m(y):void 0)},[Ue(w.$slots,"default",{},()=>[Pn(Pt(w.label),1)])],6)):Ye("v-if",!0)],2)}}});var $N=Ft(Tte,[["__file","checkbox-button.vue"]]);const Ate=kt({modelValue:{type:ze(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ca,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...qa(["ariaLabel"])}),Lte={[Vn]:e=>Rt(e),change:e=>Rt(e)},Rte=we({name:"ElCheckboxGroup"}),Pte=we({...Rte,props:Ate,emits:Lte,setup(e,{emit:t}){const n=e,r=xt("checkbox"),{formItem:a}=lo(),{inputId:o,isLabeledByFormItem:s}=ul(n,{formItemContext:a}),u=async f=>{t(Vn,f),await cn(),t("change",f)},d=U({get(){return n.modelValue},set(f){u(f)}});return or(Pm,{...Pl(ka(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:d,changeEvent:u}),bt(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(f=>void 0))}),(f,h)=>{var v;return W(),tt(tr(f.tag),{id:m(o),class:J(m(r).b("group")),role:"group","aria-label":m(s)?void 0:f.ariaLabel||"checkbox-group","aria-labelledby":m(s)?(v=m(a))==null?void 0:v.labelId:void 0},{default:be(()=>[Ue(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var GN=Ft(Pte,[["__file","checkbox-group.vue"]]);const sl=On(Ete,{CheckboxButton:$N,CheckboxGroup:GN}),kte=Ii($N),WN=Ii(GN),jN=kt({modelValue:{type:[String,Number,Boolean],default:void 0},size:ca,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Ite=kt({...jN,border:Boolean}),qN={[Vn]:e=>nn(e)||fn(e)||ri(e),[Qr]:e=>nn(e)||fn(e)||ri(e)},KN=Symbol("radioGroupKey"),YN=(e,t)=>{const n=re(),r=qt(KN,void 0),a=U(()=>!!r),o=U(()=>Dl(e.value)?e.label:e.value),s=U({get(){return a.value?r.modelValue:e.modelValue},set(v){a.value?r.changeEvent(v):t&&t(Vn,v),n.value.checked=e.modelValue===o.value}}),u=ta(U(()=>r==null?void 0:r.size)),d=uo(U(()=>r==null?void 0:r.disabled)),f=re(!1),h=U(()=>d.value||a.value&&s.value!==o.value?-1:0);return ud({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},U(()=>a.value&&Dl(e.value))),{radioRef:n,isGroup:a,radioGroup:r,focus:f,size:u,disabled:d,tabIndex:h,modelValue:s,actualValue:o}},Ote=we({name:"ElRadio"}),Dte=we({...Ote,props:Ite,emits:qN,setup(e,{emit:t}){const n=e,r=xt("radio"),{radioRef:a,radioGroup:o,focus:s,size:u,disabled:d,modelValue:f,actualValue:h}=YN(n,t);function v(){cn(()=>t("change",f.value))}return(y,b)=>{var w;return W(),ue("label",{class:J([m(r).b(),m(r).is("disabled",m(d)),m(r).is("focus",m(s)),m(r).is("bordered",y.border),m(r).is("checked",m(f)===m(h)),m(r).m(m(u))])},[fe("span",{class:J([m(r).e("input"),m(r).is("disabled",m(d)),m(r).is("checked",m(f)===m(h))])},[kn(fe("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":g=>vi(f)?f.value=g:null,class:J(m(r).e("original")),value:m(h),name:y.name||((w=m(o))==null?void 0:w.name),disabled:m(d),checked:m(f)===m(h),type:"radio",onFocus:g=>s.value=!0,onBlur:g=>s.value=!1,onChange:v,onClick:Sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[gO,m(f)]]),fe("span",{class:J(m(r).e("inner"))},null,2)],2),fe("span",{class:J(m(r).e("label")),onKeydown:Sn(()=>{},["stop"])},[Ue(y.$slots,"default",{},()=>[Pn(Pt(y.label),1)])],42,["onKeydown"])],2)}}});var Nte=Ft(Dte,[["__file","radio.vue"]]);const Fte=kt({...jN}),Bte=we({name:"ElRadioButton"}),zte=we({...Bte,props:Fte,setup(e){const t=e,n=xt("radio"),{radioRef:r,focus:a,size:o,disabled:s,modelValue:u,radioGroup:d,actualValue:f}=YN(t),h=U(()=>({backgroundColor:(d==null?void 0:d.fill)||"",borderColor:(d==null?void 0:d.fill)||"",boxShadow:d!=null&&d.fill?"-1px 0 0 0 ".concat(d.fill):"",color:(d==null?void 0:d.textColor)||""}));return(v,y)=>{var b;return W(),ue("label",{class:J([m(n).b("button"),m(n).is("active",m(u)===m(f)),m(n).is("disabled",m(s)),m(n).is("focus",m(a)),m(n).bm("button",m(o))])},[kn(fe("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":w=>vi(u)?u.value=w:null,class:J(m(n).be("button","original-radio")),value:m(f),type:"radio",name:v.name||((b=m(d))==null?void 0:b.name),disabled:m(s),onFocus:w=>a.value=!0,onBlur:w=>a.value=!1,onClick:Sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[gO,m(u)]]),fe("span",{class:J(m(n).be("button","inner")),style:un(m(u)===m(f)?m(h):{}),onKeydown:Sn(()=>{},["stop"])},[Ue(v.$slots,"default",{},()=>[Pn(Pt(v.label),1)])],46,["onKeydown"])],2)}}});var XN=Ft(zte,[["__file","radio-button.vue"]]);const Vte=kt({id:{type:String,default:void 0},size:ca,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...qa(["ariaLabel"])}),Ute=qN,Hte=we({name:"ElRadioGroup"}),$te=we({...Hte,props:Vte,emits:Ute,setup(e,{emit:t}){const n=e,r=xt("radio"),a=ja(),o=re(),{formItem:s}=lo(),{inputId:u,isLabeledByFormItem:d}=ul(n,{formItemContext:s}),f=v=>{t(Vn,v),cn(()=>t("change",v))};Bn(()=>{const v=o.value.querySelectorAll("[type=radio]"),y=v[0];!Array.from(v).some(b=>b.checked)&&y&&(y.tabIndex=0)});const h=U(()=>n.name||a.value);return or(KN,Ir({...ka(n),changeEvent:f,name:h})),bt(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(v=>void 0))}),(v,y)=>(W(),ue("div",{id:m(u),ref_key:"radioGroupRef",ref:o,class:J(m(r).b("group")),role:"radiogroup","aria-label":m(d)?void 0:v.ariaLabel||"radio-group","aria-labelledby":m(d)?m(s).labelId:void 0},[Ue(v.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var ZN=Ft($te,[["__file","radio-group.vue"]]);const JN=On(Nte,{RadioButton:XN,RadioGroup:ZN}),Gte=Ii(ZN),Wte=Ii(XN);var jte=we({name:"NodeContent",setup(){return{ns:xt("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:a}=t,{renderLabelFn:o}=n;return mn("span",{class:e.e("label")},o?o({node:t,data:r}):a)}});const NC=Symbol(),qte=we({name:"ElCascaderNode",components:{ElCheckbox:sl,ElRadio:JN,NodeContent:jte,ElIcon:tn,Check:T0,Loading:Ru,ArrowRight:Eo},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=qt(NC),r=xt("cascader-node"),a=U(()=>n.isHoverMenu),o=U(()=>n.config.multiple),s=U(()=>n.config.checkStrictly),u=U(()=>{var I;return(I=n.checkedNodes[0])==null?void 0:I.uid}),d=U(()=>e.node.isDisabled),f=U(()=>e.node.isLeaf),h=U(()=>s.value&&!f.value||!d.value),v=U(()=>b(n.expandingNode)),y=U(()=>s.value&&n.checkedNodes.some(b)),b=I=>{var E;const{level:D,uid:N}=e.node;return((E=I==null?void 0:I.pathNodes[D-1])==null?void 0:E.uid)===N},w=()=>{v.value||n.expandNode(e.node)},g=I=>{const{node:E}=e;I!==E.checked&&n.handleCheckChange(E,I)},x=()=>{n.lazyLoad(e.node,()=>{f.value||w()})},M=I=>{a.value&&(R(),!f.value&&t("expand",I))},R=()=>{const{node:I}=e;!h.value||I.loading||(I.loaded?w():x())},A=()=>{a.value&&!f.value||(f.value&&!d.value&&!s.value&&!o.value?P(!0):R())},T=I=>{s.value?(g(I),e.node.loaded&&w()):P(I)},P=I=>{e.node.loaded?(g(I),!s.value&&w()):x()};return{panel:n,isHoverMenu:a,multiple:o,checkStrictly:s,checkedNodeId:u,isDisabled:d,isLeaf:f,expandable:h,inExpandingPath:v,inCheckedPath:y,ns:r,handleHoverExpand:M,handleExpand:R,handleClick:A,handleCheck:P,handleSelectCheck:T}}});function Kte(e,t,n,r,a,o){const s=Zt("el-checkbox"),u=Zt("el-radio"),d=Zt("check"),f=Zt("el-icon"),h=Zt("node-content"),v=Zt("loading"),y=Zt("arrow-right");return W(),ue("li",{id:"".concat(e.menuId,"-").concat(e.node.uid),role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?void 0:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:J([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Ye(" prefix "),e.multiple?(W(),tt(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:Sn(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(W(),tt(u,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:Sn(()=>{},["stop"])},{default:be(()=>[Ye("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),fe("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(W(),tt(f,{key:2,class:J(e.ns.e("prefix"))},{default:be(()=>[ce(d)]),_:1},8,["class"])):Ye("v-if",!0),Ye(" content "),ce(h),Ye(" postfix "),e.isLeaf?Ye("v-if",!0):(W(),ue(rn,{key:3},[e.node.loading?(W(),tt(f,{key:0,class:J([e.ns.is("loading"),e.ns.e("postfix")])},{default:be(()=>[ce(v)]),_:1},8,["class"])):(W(),tt(f,{key:1,class:J(["arrow-right",e.ns.e("postfix")])},{default:be(()=>[ce(y)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var Yte=Ft(qte,[["render",Kte],["__file","node.vue"]]);const Xte=we({name:"ElCascaderMenu",components:{Loading:Ru,ElIcon:tn,ElScrollbar:Nu,ElCascaderNode:Yte},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Jn(),n=xt("cascader-menu"),{t:r}=xr(),a=ja();let o=null,s=null;const u=qt(NC),d=re(null),f=U(()=>!e.nodes.length),h=U(()=>!u.initialLoaded),v=U(()=>"".concat(a.value,"-").concat(e.index)),y=x=>{o=x.target},b=x=>{if(!(!u.isHoverMenu||!o||!d.value))if(o.contains(x.target)){w();const M=t.vnode.el,{left:R}=M.getBoundingClientRect(),{offsetWidth:A,offsetHeight:T}=M,P=x.clientX-R,I=o.offsetTop,E=I+o.offsetHeight;d.value.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'.concat(P," ").concat(I," L").concat(A," 0 V").concat(I,' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M').concat(P," ").concat(E," L").concat(A," ").concat(T," V").concat(E,' Z" />\n        ')}else s||(s=window.setTimeout(g,u.config.hoverThreshold))},w=()=>{s&&(clearTimeout(s),s=null)},g=()=>{d.value&&(d.value.innerHTML="",w())};return{ns:n,panel:u,hoverZone:d,isEmpty:f,isLoading:h,menuId:v,t:r,handleExpand:y,handleMouseMove:b,clearHoverZone:g}}});function Zte(e,t,n,r,a,o){const s=Zt("el-cascader-node"),u=Zt("loading"),d=Zt("el-icon"),f=Zt("el-scrollbar");return W(),tt(f,{key:e.menuId,tag:"ul",role:"menu",class:J(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:be(()=>{var h;return[(W(!0),ue(rn,null,ar(e.nodes,v=>(W(),tt(s,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(W(),ue("div",{key:0,class:J(e.ns.e("empty-text"))},[ce(d,{size:"14",class:J(e.ns.is("loading"))},{default:be(()=>[ce(u)]),_:1},8,["class"]),Pn(" "+Pt(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(W(),ue("div",{key:1,class:J(e.ns.e("empty-text"))},[Ue(e.$slots,"empty",{},()=>[Pn(Pt(e.t("el.cascader.noData")),1)])],2)):(h=e.panel)!=null&&h.isHoverMenu?(W(),ue("svg",{key:2,ref:"hoverZone",class:J(e.ns.e("hover-zone"))},null,2)):Ye("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Jte=Ft(Xte,[["render",Zte],["__file","menu.vue"]]);const FC=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),xu=e=>S0(e);let Qte=0;const ene=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let pM=class mM{constructor(t,n,r,a=!1){this.data=t,this.config=n,this.parent=r,this.root=a,this.uid=Qte++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:u}=n,d=t[u],f=ene(this);this.level=a?0:r?r.level+1:1,this.value=t[o],this.label=t[s],this.pathNodes=f,this.pathValues=f.map(h=>h.value),this.pathLabels=f.map(h=>h.label),this.childrenData=d,this.children=(d||[]).map(h=>new mM(h,n,this)),this.loaded=!n.lazy||this.isLeaf||!As(d)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:a,checkStrictly:o}=r;return(on(a)?a(t,this):!!t[a])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:a}=this,{lazy:o,leaf:s}=n,u=on(s)?s(t,this):t[s];return Or(u)?o&&!a?!1:!(Rt(r)&&r.length):!!u}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,a=new mM(t,this.config,this);return Rt(n)?n.push(t):this.childrenData=[t],r.push(a),a}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r="onParent".concat(xu(t));this.children.forEach(a=>{a&&(a.broadcast(t,...n),a[r]&&a[r](...n))})}emit(t,...n){const{parent:r}=this,a="onChild".concat(xu(t));r&&(r[a]&&r[a](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(a=>!a.isDisabled),r=n.length?n.every(a=>a.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((a,o)=>{const s=o.checked?1:o.indeterminate?.5:0;return a+s},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const vM=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(vM(r.children,t))),n),[]);let DL=class{constructor(t,n){this.config=n;const r=(t||[]).map(a=>new pM(a,this.config));this.nodes=r,this.allNodes=vM(r,!1),this.leafNodes=vM(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new pM(t,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}appendAllNodesAndLeafNodes(t){this.allNodes.push(t),t.isLeaf&&this.leafNodes.push(t),t.children&&t.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(a=>no(a.value,t)||no(a.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:a})=>no(t.value,r)&&t.level===a)||null}};const QN=kt({modelValue:{type:ze([Number,String,Array])},options:{type:ze(Array),default:()=>[]},props:{type:ze(Object),default:()=>({})}}),tne={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:$r,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},nne=e=>U(()=>({...tne,...e.props})),NL=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},rne=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():oN(e)&&e.click()},ine=(e,t)=>{const n=t.slice(0),r=n.map(o=>o.uid),a=e.reduce((o,s)=>{const u=r.indexOf(s.uid);return u>-1&&(o.push(s),n.splice(u,1),r.splice(u,1)),o},[]);return a.push(...n),a},FL=e=>[...new Set(e)],Vo=e=>!e&&e!==0?[]:Rt(e)?e:[e],ane=we({name:"ElCascaderPanel",components:{ElCascaderMenu:Jte},props:{...QN,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Vn,Qr,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const a=xt("cascader"),o=nne(e);let s=null;const u=re(!0),d=re([]),f=re(null),h=re([]),v=re(null),y=re([]),b=U(()=>o.value.expandTrigger==="hover"),w=U(()=>e.renderLabel||n.default),g=()=>{const{options:$}=e,Q=o.value;r=!1,s=new DL($,Q),h.value=[s.getNodes()],Q.lazy&&As(e.options)?(u.value=!1,x(void 0,ae=>{ae&&(s=new DL(ae,Q),h.value=[s.getNodes()]),u.value=!0,D(!1,!0)})):D(!1,!0)},x=($,Q)=>{const ae=o.value;$=$||new pM({},ae,void 0,!0),$.loading=!0;const ee=K=>{const X=$,Z=X.root?null:X;K&&(s==null||s.appendNodes(K,Z)),X.loading=!1,X.loaded=!0,X.childrenData=X.childrenData||[],Q&&Q(K)};ae.lazyLoad($,ee)},M=($,Q)=>{var ae;const{level:ee}=$,K=h.value.slice(0,ee);let X;$.isLeaf?X=$.pathNodes[ee-2]:(X=$,K.push($.children)),((ae=v.value)==null?void 0:ae.uid)!==(X==null?void 0:X.uid)&&(v.value=$,h.value=K,!Q&&t("expand-change",($==null?void 0:$.pathValues)||[]))},R=($,Q,ae=!0)=>{const{checkStrictly:ee,multiple:K}=o.value,X=y.value[0];r=!0,!K&&(X==null||X.doCheck(!1)),$.doCheck(Q),E(),ae&&!K&&!ee&&t("close"),!ae&&!K&&!ee&&A($)},A=$=>{$&&($=$.parent,A($),$&&M($))},T=$=>s==null?void 0:s.getFlattedNodes($),P=$=>{var Q;return(Q=T($))==null?void 0:Q.filter(ae=>ae.checked!==!1)},I=()=>{y.value.forEach($=>$.doCheck(!1)),E(),h.value=h.value.slice(0,1),v.value=null,t("expand-change",[])},E=()=>{var $;const{checkStrictly:Q,multiple:ae}=o.value,ee=y.value,K=P(!Q),X=ine(ee,K),Z=X.map(j=>j.valueByOption);y.value=X,f.value=ae?Z:($=Z[0])!=null?$:null},D=($=!1,Q=!1)=>{const{modelValue:ae}=e,{lazy:ee,multiple:K,checkStrictly:X}=o.value,Z=!X;if(!(!u.value||r||!Q&&no(ae,f.value)))if(ee&&!$){const ie=FL(uY(Vo(ae))).map(pe=>s==null?void 0:s.getNodeByValue(pe)).filter(pe=>!!pe&&!pe.loaded&&!pe.loading);ie.length?ie.forEach(pe=>{x(pe,()=>D(!1,Q))}):D(!0,Q)}else{const j=K?Vo(ae):[ae],ie=FL(j.map(pe=>s==null?void 0:s.getNodeByValue(pe,Z)));N(ie,Q),f.value=C_(ae)}},N=($,Q=!0)=>{const{checkStrictly:ae}=o.value,ee=y.value,K=$.filter(j=>!!j&&(ae||j.isLeaf)),X=s==null?void 0:s.getSameNode(v.value),Z=Q&&X||K[0];Z?Z.pathNodes.forEach(j=>M(j,!0)):v.value=null,ee.forEach(j=>j.doCheck(!1)),Ir(K).forEach(j=>j.doCheck(!0)),y.value=K,cn(B)},B=()=>{wr&&d.value.forEach($=>{const Q=$==null?void 0:$.$el;if(Q){const ae=Q.querySelector(".".concat(a.namespace.value,"-scrollbar__wrap")),ee=Q.querySelector(".".concat(a.b("node"),".").concat(a.is("active")))||Q.querySelector(".".concat(a.b("node"),".in-active-path"));gC(ae,ee)}})},G=$=>{const Q=$.target,{code:ae}=$;switch(ae){case jt.up:case jt.down:{$.preventDefault();const ee=ae===jt.up?-1:1;Fb(sN(Q,ee,".".concat(a.b("node"),'[tabindex="-1"]')));break}case jt.left:{$.preventDefault();const ee=d.value[NL(Q)-1],K=ee==null?void 0:ee.$el.querySelector(".".concat(a.b("node"),'[aria-expanded="true"]'));Fb(K);break}case jt.right:{$.preventDefault();const ee=d.value[NL(Q)+1],K=ee==null?void 0:ee.$el.querySelector(".".concat(a.b("node"),'[tabindex="-1"]'));Fb(K);break}case jt.enter:case jt.numpadEnter:rne(Q);break}};return or(NC,Ir({config:o,expandingNode:v,checkedNodes:y,isHoverMenu:b,initialLoaded:u,renderLabelFn:w,lazyLoad:x,expandNode:M,handleCheckChange:R})),bt([o,()=>e.options],g,{deep:!0,immediate:!0}),bt(()=>e.modelValue,()=>{r=!1,D()},{deep:!0}),bt(()=>f.value,$=>{no($,e.modelValue)||(t(Vn,$),t(Qr,$))}),FI(()=>d.value=[]),Bn(()=>!As(e.modelValue)&&D()),{ns:a,menuList:d,menus:h,checkedNodes:y,handleKeyDown:G,handleCheckChange:R,getFlattedNodes:T,getCheckedNodes:P,clearCheckedNodes:I,calculateCheckedValue:E,scrollToExpandingNode:B}}});function one(e,t,n,r,a,o){const s=Zt("el-cascader-menu");return W(),ue("div",{class:J([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(W(!0),ue(rn,null,ar(e.menus,(u,d)=>(W(),tt(s,{key:d,ref_for:!0,ref:f=>e.menuList[d]=f,index:d,nodes:[...u]},{empty:be(()=>[Ue(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var sne=Ft(ane,[["render",one],["__file","index.vue"]]);const e4=On(sne),gc=kt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Du},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),lne={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},une=we({name:"ElTag"}),cne=we({...une,props:gc,emits:lne,setup(e,{emit:t}){const n=e,r=ta(),a=xt("tag"),o=U(()=>{const{type:f,hit:h,effect:v,closable:y,round:b}=n;return[a.b(),a.is("closable",y),a.m(f||"primary"),a.m(r.value),a.m(v),a.is("hit",h),a.is("round",b)]}),s=f=>{t("close",f)},u=f=>{t("click",f)},d=f=>{var h,v,y;(y=(v=(h=f==null?void 0:f.component)==null?void 0:h.subTree)==null?void 0:v.component)!=null&&y.bum&&(f.component.subTree.component.bum=null)};return(f,h)=>f.disableTransitions?(W(),ue("span",{key:0,class:J(m(o)),style:un({backgroundColor:f.color}),onClick:u},[fe("span",{class:J(m(a).e("content"))},[Ue(f.$slots,"default")],2),f.closable?(W(),tt(m(tn),{key:0,class:J(m(a).e("close")),onClick:Sn(s,["stop"])},{default:be(()=>[ce(m(Bl))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)):(W(),tt(Ia,{key:1,name:"".concat(m(a).namespace.value,"-zoom-in-center"),appear:"",onVnodeMounted:d},{default:be(()=>[fe("span",{class:J(m(o)),style:un({backgroundColor:f.color}),onClick:u},[fe("span",{class:J(m(a).e("content"))},[Ue(f.$slots,"default")],2),f.closable?(W(),tt(m(tn),{key:0,class:J(m(a).e("close")),onClick:Sn(s,["stop"])},{default:be(()=>[ce(m(Bl))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)]),_:3},8,["name"]))}});var dne=Ft(cne,[["__file","tag.vue"]]);const sm=On(dne),fne=kt({...QN,size:ca,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:ze(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:ze(Function),default:()=>!0},placement:{type:ze(String),values:Cc,default:"bottom-start"},fallbackPlacements:{type:ze(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Aa.teleported,tagType:{...gc.type,default:"info"},tagEffect:{...gc.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Am}),hne={[Vn]:e=>!0,[Qr]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>ri(e),expandChange:e=>!!e,removeTag:e=>!!e},Zc=new Map;if(wr){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Zc.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function BL(e,t){let n=[];return Rt(t.arg)?n=t.arg:Ho(t.arg)&&n.push(t.arg),function(r,a){const o=t.instance.popperRef,s=r.target,u=a==null?void 0:a.target,d=!t||!t.instance,f=!s||!u,h=e.contains(s)||e.contains(u),v=e===s,y=n.length&&n.some(w=>w==null?void 0:w.contains(s))||n.length&&n.includes(u),b=o&&(o.contains(s)||o.contains(u));d||f||h||v||y||b||t.value(r,a)}}const yc={beforeMount(e,t){Zc.has(e)||Zc.set(e,[]),Zc.get(e).push({documentHandler:BL(e,t),bindingFn:t.value})},updated(e,t){Zc.has(e)||Zc.set(e,[]);const n=Zc.get(e),r=n.findIndex(o=>o.bindingFn===t.oldValue),a={documentHandler:BL(e,t),bindingFn:t.value};r>=0?n.splice(r,1,a):n.push(a)},unmounted(e){Zc.delete(e)}},pne="ElCascader",mne=we({name:pne}),vne=we({...mne,props:fne,emits:hne,setup(e,{expose:t,emit:n}){const r=e,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:xe})=>{const{modifiersData:Ke,placement:Ee}=xe;["right","left","bottom","top"].includes(Ee)||(Ke.arrow.x=35)},requires:["arrow"]}]},o=wc();let s=0,u=0;const d=xt("cascader"),f=xt("input"),{t:h}=xr(),{form:v,formItem:y}=lo(),{valueOnClear:b}=Sw(r),{isComposing:w,handleComposition:g}=D0({afterComposition(xe){var Ke;const Ee=(Ke=xe.target)==null?void 0:Ke.value;Tt(Ee)}}),x=re(null),M=re(null),R=re(null),A=re(null),T=re(null),P=re(!1),I=re(!1),E=re(!1),D=re(!1),N=re(""),B=re(""),G=re([]),$=re([]),Q=re([]),ae=U(()=>o.style),ee=U(()=>r.disabled||(v==null?void 0:v.disabled)),K=U(()=>r.placeholder||h("el.cascader.placeholder")),X=U(()=>B.value||G.value.length>0||w.value?"":K.value),Z=ta(),j=U(()=>Z.value==="small"?"small":"default"),ie=U(()=>!!r.props.multiple),pe=U(()=>!r.filterable||ie.value),he=U(()=>ie.value?B.value:N.value),le=U(()=>{var xe;return((xe=A.value)==null?void 0:xe.checkedNodes)||[]}),Re=U(()=>!r.clearable||ee.value||E.value||!I.value?!1:!!le.value.length),De=U(()=>{const{showAllLevels:xe,separator:Ke}=r,Ee=le.value;return Ee.length?ie.value?"":Ee[0].calcText(xe,Ke):""}),Te=U(()=>(y==null?void 0:y.validateState)||""),ge=U({get(){return C_(r.modelValue)},set(xe){const Ke=xe!=null?xe:b.value;n(Vn,Ke),n(Qr,Ke),r.validateEvent&&(y==null||y.validate("change").catch(Ee=>void 0))}}),ke=U(()=>[d.b(),d.m(Z.value),d.is("disabled",ee.value),o.class]),Pe=U(()=>[f.e("icon"),"icon-arrow-down",d.is("reverse",P.value)]),Xe=U(()=>d.is("focus",P.value||D.value)),ct=U(()=>{var xe,Ke;return(Ke=(xe=x.value)==null?void 0:xe.popperRef)==null?void 0:Ke.contentRef}),se=xe=>{var Ke,Ee,wt;ee.value||(xe=xe!=null?xe:!P.value,xe!==P.value&&(P.value=xe,(Ee=(Ke=M.value)==null?void 0:Ke.input)==null||Ee.setAttribute("aria-expanded","".concat(xe)),xe?(ye(),cn((wt=A.value)==null?void 0:wt.scrollToExpandingNode)):r.filterable&&qe(),n("visibleChange",xe)))},ye=()=>{cn(()=>{var xe;(xe=x.value)==null||xe.updatePopper()})},He=()=>{E.value=!1},dt=xe=>{const{showAllLevels:Ke,separator:Ee}=r;return{node:xe,key:xe.uid,text:xe.calcText(Ke,Ee),hitState:!1,closable:!ee.value&&!xe.isDisabled,isCollapseTag:!1}},pt=xe=>{var Ke;const Ee=xe.node;Ee.doCheck(!1),(Ke=A.value)==null||Ke.calculateCheckedValue(),n("removeTag",Ee.valueByOption)},nt=()=>{if(!ie.value)return;const xe=le.value,Ke=[],Ee=[];if(xe.forEach(wt=>Ee.push(dt(wt))),$.value=Ee,xe.length){xe.slice(0,r.maxCollapseTags).forEach(Je=>Ke.push(dt(Je)));const wt=xe.slice(r.maxCollapseTags),an=wt.length;an&&(r.collapseTags?Ke.push({key:-1,text:"+ ".concat(an),closable:!1,isCollapseTag:!0}):wt.forEach(Je=>Ke.push(dt(Je))))}G.value=Ke},ot=()=>{var xe,Ke;const{filterMethod:Ee,showAllLevels:wt,separator:an}=r,Je=(Ke=(xe=A.value)==null?void 0:xe.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Ke.filter(Dt=>Dt.isDisabled?!1:(Dt.calcText(wt,an),Ee(Dt,he.value)));ie.value&&(G.value.forEach(Dt=>{Dt.hitState=!1}),$.value.forEach(Dt=>{Dt.hitState=!1})),E.value=!0,Q.value=Je,ye()},rt=()=>{var xe;let Ke;E.value&&T.value?Ke=T.value.$el.querySelector(".".concat(d.e("suggestion-item"))):Ke=(xe=A.value)==null?void 0:xe.$el.querySelector(".".concat(d.b("node"),'[tabindex="-1"]')),Ke&&(Ke.focus(),!E.value&&Ke.click())},At=()=>{var xe,Ke;const Ee=(xe=M.value)==null?void 0:xe.input,wt=R.value,an=(Ke=T.value)==null?void 0:Ke.$el;if(!(!wr||!Ee)){if(an){const Je=an.querySelector(".".concat(d.e("suggestion-list")));Je.style.minWidth="".concat(Ee.offsetWidth,"px")}if(wt){const{offsetHeight:Je}=wt,Dt=G.value.length>0?"".concat(Math.max(Je,s)-2,"px"):"".concat(s,"px");Ee.style.height=Dt,ye()}}},Mt=xe=>{var Ke;return(Ke=A.value)==null?void 0:Ke.getCheckedNodes(xe)},Me=xe=>{ye(),n("expandChange",xe)},ve=xe=>{if(!w.value)switch(xe.code){case jt.enter:case jt.numpadEnter:se();break;case jt.down:se(!0),cn(rt),xe.preventDefault();break;case jt.esc:P.value===!0&&(xe.preventDefault(),xe.stopPropagation(),se(!1));break;case jt.tab:se(!1);break}},Fe=()=>{var xe;(xe=A.value)==null||xe.clearCheckedNodes(),!P.value&&r.filterable&&qe(),se(!1),n("clear")},qe=()=>{const{value:xe}=De;N.value=xe,B.value=xe},Et=xe=>{var Ke,Ee;const{checked:wt}=xe;ie.value?(Ke=A.value)==null||Ke.handleCheckChange(xe,!wt,!1):(!wt&&((Ee=A.value)==null||Ee.handleCheckChange(xe,!0,!1)),se(!1))},$t=xe=>{const Ke=xe.target,{code:Ee}=xe;switch(Ee){case jt.up:case jt.down:{const wt=Ee===jt.up?-1:1;Fb(sN(Ke,wt,".".concat(d.e("suggestion-item"),'[tabindex="-1"]')));break}case jt.enter:case jt.numpadEnter:Ke.click();break}},Yt=()=>{const xe=G.value,Ke=xe[xe.length-1];u=B.value?0:u+1,!(!Ke||!u||r.collapseTags&&xe.length>1)&&(Ke.hitState?pt(Ke):Ke.hitState=!0)},We=xe=>{const Ke=xe.target,Ee=d.e("search-input");Ke.className===Ee&&(D.value=!0),n("focus",xe)},lt=xe=>{D.value=!1,n("blur",xe)},sn=ps(()=>{const{value:xe}=he;if(!xe)return;const Ke=r.beforeFilter(xe);Vg(Ke)?Ke.then(ot).catch(()=>{}):Ke!==!1?ot():He()},r.debounce),Tt=(xe,Ke)=>{!P.value&&se(!0),!(Ke!=null&&Ke.isComposing)&&(xe?sn():He())},je=xe=>Number.parseFloat(GY(f.cssVarName("input-height"),xe).value)-2;return bt(E,ye),bt([le,ee,()=>r.collapseTags],nt),bt(G,()=>{cn(()=>At())}),bt(Z,async()=>{await cn();const xe=M.value.input;s=je(xe)||s,At()}),bt(De,qe,{immediate:!0}),Bn(()=>{const xe=M.value.input,Ke=je(xe);s=xe.offsetHeight||Ke,Ri(xe,At)}),t({getCheckedNodes:Mt,cascaderPanelRef:A,togglePopperVisible:se,contentRef:ct,presentText:De}),(xe,Ke)=>(W(),tt(m(ao),{ref_key:"tooltipRef",ref:x,visible:P.value,teleported:xe.teleported,"popper-class":[m(d).e("dropdown"),xe.popperClass],"popper-options":a,"fallback-placements":xe.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:xe.placement,transition:"".concat(m(d).namespace.value,"-zoom-in-top"),effect:"light",pure:"",persistent:xe.persistent,onHide:He},{default:be(()=>[kn((W(),ue("div",{class:J(m(ke)),style:un(m(ae)),onClick:()=>se(m(pe)?void 0:!0),onKeydown:ve,onMouseenter:Ee=>I.value=!0,onMouseleave:Ee=>I.value=!1},[ce(m(Mo),{ref_key:"input",ref:M,modelValue:N.value,"onUpdate:modelValue":Ee=>N.value=Ee,placeholder:m(X),readonly:m(pe),disabled:m(ee),"validate-event":!1,size:m(Z),class:J(m(Xe)),tabindex:m(ie)&&xe.filterable&&!m(ee)?-1:void 0,onCompositionstart:m(g),onCompositionupdate:m(g),onCompositionend:m(g),onFocus:We,onBlur:lt,onInput:Tt},Fs({suffix:be(()=>[m(Re)?(W(),tt(m(tn),{key:"clear",class:J([m(f).e("icon"),"icon-circle-close"]),onClick:Sn(Fe,["stop"])},{default:be(()=>[ce(m(Sc))]),_:1},8,["class","onClick"])):(W(),tt(m(tn),{key:"arrow-down",class:J(m(Pe)),onClick:Sn(Ee=>se(),["stop"])},{default:be(()=>[ce(m(xc))]),_:1},8,["class","onClick"]))]),_:2},[xe.$slots.prefix?{name:"prefix",fn:be(()=>[Ue(xe.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),m(ie)?(W(),ue("div",{key:0,ref_key:"tagWrapper",ref:R,class:J([m(d).e("tags"),m(d).is("validate",!!m(Te))])},[(W(!0),ue(rn,null,ar(G.value,Ee=>(W(),tt(m(sm),{key:Ee.key,type:xe.tagType,size:m(j),effect:xe.tagEffect,hit:Ee.hitState,closable:Ee.closable,"disable-transitions":"",onClose:wt=>pt(Ee)},{default:be(()=>[Ee.isCollapseTag===!1?(W(),ue("span",{key:0},Pt(Ee.text),1)):(W(),tt(m(ao),{key:1,disabled:P.value||!xe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:be(()=>[fe("span",null,Pt(Ee.text),1)]),content:be(()=>[fe("div",{class:J(m(d).e("collapse-tags"))},[(W(!0),ue(rn,null,ar($.value.slice(xe.maxCollapseTags),(wt,an)=>(W(),ue("div",{key:an,class:J(m(d).e("collapse-tag"))},[(W(),tt(m(sm),{key:wt.key,class:"in-tooltip",type:xe.tagType,size:m(j),effect:xe.tagEffect,hit:wt.hitState,closable:wt.closable,"disable-transitions":"",onClose:Je=>pt(wt)},{default:be(()=>[fe("span",null,Pt(wt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),xe.filterable&&!m(ee)?kn((W(),ue("input",{key:0,"onUpdate:modelValue":Ee=>B.value=Ee,type:"text",class:J(m(d).e("search-input")),placeholder:m(De)?"":m(K),onInput:Ee=>Tt(B.value,Ee),onClick:Sn(Ee=>se(!0),["stop"]),onKeydown:Jr(Yt,["delete"]),onCompositionstart:m(g),onCompositionupdate:m(g),onCompositionend:m(g),onFocus:We,onBlur:lt},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[cw,B.value]]):Ye("v-if",!0)],2)):Ye("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[m(yc),()=>se(!1),m(ct)]])]),content:be(()=>[kn(ce(m(e4),{ref_key:"cascaderPanelRef",ref:A,modelValue:m(ge),"onUpdate:modelValue":Ee=>vi(ge)?ge.value=Ee:null,options:xe.options,props:r.props,border:!1,"render-label":xe.$slots.default,onExpandChange:Me,onClose:Ee=>xe.$nextTick(()=>se(!1))},{empty:be(()=>[Ue(xe.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[_r,!E.value]]),xe.filterable?kn((W(),tt(m(Nu),{key:0,ref_key:"suggestionPanel",ref:T,tag:"ul",class:J(m(d).e("suggestion-panel")),"view-class":m(d).e("suggestion-list"),onKeydown:$t},{default:be(()=>[Q.value.length?(W(!0),ue(rn,{key:0},ar(Q.value,Ee=>(W(),ue("li",{key:Ee.uid,class:J([m(d).e("suggestion-item"),m(d).is("checked",Ee.checked)]),tabindex:-1,onClick:wt=>Et(Ee)},[fe("span",null,Pt(Ee.text),1),Ee.checked?(W(),tt(m(tn),{key:0},{default:be(()=>[ce(m(T0))]),_:1})):Ye("v-if",!0)],10,["onClick"]))),128)):Ue(xe.$slots,"empty",{key:1},()=>[fe("li",{class:J(m(d).e("empty-text"))},Pt(m(h)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[_r,E.value]]):Ye("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var gne=Ft(vne,[["__file","cascader.vue"]]);const yne=On(gne),bne=kt({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),_ne={"update:checked":e=>ri(e),[Qr]:e=>ri(e)},wne=we({name:"ElCheckTag"}),xne=we({...wne,props:bne,emits:_ne,setup(e,{emit:t}){const n=e,r=xt("check-tag"),a=U(()=>n.disabled),o=U(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",a.value),r.m(n.type||"primary")]),s=()=>{if(a.value)return;const u=!n.checked;t(Qr,u),t("update:checked",u)};return(u,d)=>(W(),ue("span",{class:J(m(o)),onClick:s},[Ue(u.$slots,"default")],2))}});var Sne=Ft(xne,[["__file","check-tag.vue"]]);const Mne=On(Sne),Ene=kt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ze([Number,Object]),default:()=>Pi({})},sm:{type:ze([Number,Object]),default:()=>Pi({})},md:{type:ze([Number,Object]),default:()=>Pi({})},lg:{type:ze([Number,Object]),default:()=>Pi({})},xl:{type:ze([Number,Object]),default:()=>Pi({})}}),t4=Symbol("rowContextKey"),Cne=we({name:"ElCol"}),Tne=we({...Cne,props:Ene,setup(e){const t=e,{gutter:n}=qt(t4,{gutter:U(()=>0)}),r=xt("col"),a=U(()=>{const s={};return n.value&&(s.paddingLeft=s.paddingRight="".concat(n.value/2,"px")),s}),o=U(()=>{const s=[];return["span","offset","pull","push"].forEach(f=>{const h=t[f];fn(h)&&(f==="span"?s.push(r.b("".concat(t[f]))):h>0&&s.push(r.b("".concat(f,"-").concat(t[f]))))}),["xs","sm","md","lg","xl"].forEach(f=>{fn(t[f])?s.push(r.b("".concat(f,"-").concat(t[f]))):jn(t[f])&&Object.entries(t[f]).forEach(([h,v])=>{s.push(h!=="span"?r.b("".concat(f,"-").concat(h,"-").concat(v)):r.b("".concat(f,"-").concat(v)))})}),n.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,u)=>(W(),tt(tr(s.tag),{class:J(m(o)),style:un(m(a))},{default:be(()=>[Ue(s.$slots,"default")]),_:3},8,["class","style"]))}});var Ane=Ft(Tne,[["__file","col.vue"]]);const Lne=On(Ane),zL=e=>fn(e)||nn(e)||Rt(e),Rne=kt({accordion:Boolean,modelValue:{type:ze([Array,String,Number]),default:()=>Pi([])}}),Pne={[Vn]:zL,[Qr]:zL},n4=Symbol("collapseContextKey"),kne=(e,t)=>{const n=re(wo(e.modelValue)),r=o=>{n.value=o;const s=e.accordion?n.value[0]:n.value;t(Vn,s),t(Qr,s)},a=o=>{if(e.accordion)r([n.value[0]===o?"":o]);else{const s=[...n.value],u=s.indexOf(o);u>-1?s.splice(u,1):s.push(o),r(s)}};return bt(()=>e.modelValue,()=>n.value=wo(e.modelValue),{deep:!0}),or(n4,{activeNames:n,handleItemClick:a}),{activeNames:n,setActiveNames:r}},Ine=()=>{const e=xt("collapse");return{rootKls:U(()=>e.b())}},One=we({name:"ElCollapse"}),Dne=we({...One,props:Rne,emits:Pne,setup(e,{expose:t,emit:n}){const r=e,{activeNames:a,setActiveNames:o}=kne(r,n),{rootKls:s}=Ine();return t({activeNames:a,setActiveNames:o}),(u,d)=>(W(),ue("div",{class:J(m(s))},[Ue(u.$slots,"default")],2))}});var Nne=Ft(Dne,[["__file","collapse.vue"]]);const Fne=we({name:"ElCollapseTransition"}),Bne=we({...Fne,setup(e){const t=xt("collapse-transition"),n=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},r={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight="".concat(a.scrollHeight,"px"):a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){n(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight="".concat(a.scrollHeight,"px"),a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){n(a)},leaveCancelled(a){n(a)}};return(a,o)=>(W(),tt(Ia,nr({name:m(t).b()},NH(r)),{default:be(()=>[Ue(a.$slots,"default")]),_:3},16,["name"]))}});var zne=Ft(Bne,[["__file","collapse-transition.vue"]]);const Pw=On(zne),Vne=kt({title:{type:String,default:""},name:{type:ze([String,Number]),default:void 0},icon:{type:ei,default:Eo},disabled:Boolean}),Une=e=>{const t=qt(n4),{namespace:n}=xt("collapse"),r=re(!1),a=re(!1),o=wC(),s=U(()=>o.current++),u=U(()=>{var y;return(y=e.name)!=null?y:"".concat(n.value,"-id-").concat(o.prefix,"-").concat(m(s))}),d=U(()=>t==null?void 0:t.activeNames.value.includes(m(u)));return{focusing:r,id:s,isActive:d,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(m(u)),r.value=!1,a.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(m(u))}}},Hne=(e,{focusing:t,isActive:n,id:r})=>{const a=xt("collapse"),o=U(()=>[a.b("item"),a.is("active",m(n)),a.is("disabled",e.disabled)]),s=U(()=>[a.be("item","header"),a.is("active",m(n)),{focusing:m(t)&&!e.disabled}]),u=U(()=>[a.be("item","arrow"),a.is("active",m(n))]),d=U(()=>a.be("item","wrap")),f=U(()=>a.be("item","content")),h=U(()=>a.b("content-".concat(m(r)))),v=U(()=>a.b("head-".concat(m(r))));return{arrowKls:u,headKls:s,rootKls:o,itemWrapperKls:d,itemContentKls:f,scopedContentId:h,scopedHeadId:v}},$ne=we({name:"ElCollapseItem"}),Gne=we({...$ne,props:Vne,setup(e,{expose:t}){const n=e,{focusing:r,id:a,isActive:o,handleFocus:s,handleHeaderClick:u,handleEnterClick:d}=Une(n),{arrowKls:f,headKls:h,rootKls:v,itemWrapperKls:y,itemContentKls:b,scopedContentId:w,scopedHeadId:g}=Hne(n,{focusing:r,isActive:o,id:a});return t({isActive:o}),(x,M)=>(W(),ue("div",{class:J(m(v))},[fe("button",{id:m(g),class:J(m(h)),"aria-expanded":m(o),"aria-controls":m(w),"aria-describedby":m(w),tabindex:x.disabled?-1:0,type:"button",onClick:m(u),onKeydown:Jr(Sn(m(d),["stop","prevent"]),["space","enter"]),onFocus:m(s),onBlur:R=>r.value=!1},[Ue(x.$slots,"title",{},()=>[Pn(Pt(x.title),1)]),Ue(x.$slots,"icon",{isActive:m(o)},()=>[ce(m(tn),{class:J(m(f))},{default:be(()=>[(W(),tt(tr(x.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),ce(m(Pw),null,{default:be(()=>[kn(fe("div",{id:m(w),role:"region",class:J(m(y)),"aria-hidden":!m(o),"aria-labelledby":m(g)},[fe("div",{class:J(m(b))},[Ue(x.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[_r,m(o)]])]),_:3})],2))}});var r4=Ft(Gne,[["__file","collapse-item.vue"]]);const Wne=On(Nne,{CollapseItem:r4}),jne=Ii(r4),qne=kt({color:{type:ze(Object),required:!0},vertical:{type:Boolean,default:!1}});let Lx=!1;function a0(e,t){if(!wr)return;const n=function(o){var s;(s=t.drag)==null||s.call(t,o)},r=function(o){var s;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,Lx=!1,(s=t.end)==null||s.call(t,o)},a=function(o){var s;Lx||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),Lx=!0,(s=t.start)==null||s.call(t,o))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a,{passive:!1})}const Kne=(e,t)=>{if(!wr||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},VL=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},gM=(e,t)=>Math.abs(VL(e)-VL(t)),BC=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},Yne=e=>{const t=Jn(),{t:n}=xr(),r=hi(),a=hi(),o=U(()=>e.color.get("alpha")),s=U(()=>n("el.colorpicker.alphaLabel"));function u(v){var y;v.target!==r.value&&d(v),(y=r.value)==null||y.focus()}function d(v){if(!a.value||!r.value)return;const b=t.vnode.el.getBoundingClientRect(),{clientX:w,clientY:g}=BC(v);if(e.vertical){let x=g-b.top;x=Math.max(r.value.offsetHeight/2,x),x=Math.min(x,b.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((x-r.value.offsetHeight/2)/(b.height-r.value.offsetHeight)*100))}else{let x=w-b.left;x=Math.max(r.value.offsetWidth/2,x),x=Math.min(x,b.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((x-r.value.offsetWidth/2)/(b.width-r.value.offsetWidth)*100))}}function f(v){const{code:y,shiftKey:b}=v,w=b?10:1;switch(y){case jt.left:case jt.down:v.preventDefault(),v.stopPropagation(),h(-w);break;case jt.right:case jt.up:v.preventDefault(),v.stopPropagation(),h(w);break}}function h(v){let y=o.value+v;y=y<0?0:y>100?100:y,e.color.set("alpha",y)}return{thumb:r,bar:a,alpha:o,alphaLabel:s,handleDrag:d,handleClick:u,handleKeydown:f}},Xne=(e,{bar:t,thumb:n,handleDrag:r})=>{const a=Jn(),o=xt("color-alpha-slider"),s=re(0),u=re(0),d=re();function f(){if(!n.value||e.vertical)return 0;const R=a.vnode.el,A=e.color.get("alpha");return R?Math.round(A*(R.offsetWidth-n.value.offsetWidth/2)/100):0}function h(){if(!n.value)return 0;const R=a.vnode.el;if(!e.vertical)return 0;const A=e.color.get("alpha");return R?Math.round(A*(R.offsetHeight-n.value.offsetHeight/2)/100):0}function v(){if(e.color&&e.color.value){const{r:R,g:A,b:T}=e.color.toRgb();return"linear-gradient(to right, rgba(".concat(R,", ").concat(A,", ").concat(T,", 0) 0%, rgba(").concat(R,", ").concat(A,", ").concat(T,", 1) 100%)")}return""}function y(){s.value=f(),u.value=h(),d.value=v()}Bn(()=>{if(!t.value||!n.value)return;const R={drag:A=>{r(A)},end:A=>{r(A)}};a0(t.value,R),a0(n.value,R),y()}),bt(()=>e.color.get("alpha"),()=>y()),bt(()=>e.color.value,()=>y());const b=U(()=>[o.b(),o.is("vertical",e.vertical)]),w=U(()=>o.e("bar")),g=U(()=>o.e("thumb")),x=U(()=>({background:d.value})),M=U(()=>({left:Bi(s.value),top:Bi(u.value)}));return{rootKls:b,barKls:w,barStyle:x,thumbKls:g,thumbStyle:M,update:y}},Zne="ElColorAlphaSlider",Jne=we({name:Zne}),Qne=we({...Jne,props:qne,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:a,bar:o,thumb:s,handleDrag:u,handleClick:d,handleKeydown:f}=Yne(n),{rootKls:h,barKls:v,barStyle:y,thumbKls:b,thumbStyle:w,update:g}=Xne(n,{bar:o,thumb:s,handleDrag:u});return t({update:g,bar:o,thumb:s}),(x,M)=>(W(),ue("div",{class:J(m(h))},[fe("div",{ref_key:"bar",ref:o,class:J(m(v)),style:un(m(y)),onClick:m(d)},null,14,["onClick"]),fe("div",{ref_key:"thumb",ref:s,class:J(m(b)),style:un(m(w)),"aria-label":m(a),"aria-valuenow":m(r),"aria-orientation":x.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:m(f)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var ere=Ft(Qne,[["__file","alpha-slider.vue"]]);const tre=we({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=xt("color-hue-slider"),n=Jn(),r=re(),a=re(),o=re(0),s=re(0),u=U(()=>e.color.get("hue"));bt(()=>u.value,()=>{y()});function d(b){b.target!==r.value&&f(b)}function f(b){if(!a.value||!r.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:x,clientY:M}=BC(b);let R;if(e.vertical){let A=M-g.top;A=Math.min(A,g.height-r.value.offsetHeight/2),A=Math.max(r.value.offsetHeight/2,A),R=Math.round((A-r.value.offsetHeight/2)/(g.height-r.value.offsetHeight)*360)}else{let A=x-g.left;A=Math.min(A,g.width-r.value.offsetWidth/2),A=Math.max(r.value.offsetWidth/2,A),R=Math.round((A-r.value.offsetWidth/2)/(g.width-r.value.offsetWidth)*360)}e.color.set("hue",R)}function h(){if(!r.value)return 0;const b=n.vnode.el;if(e.vertical)return 0;const w=e.color.get("hue");return b?Math.round(w*(b.offsetWidth-r.value.offsetWidth/2)/360):0}function v(){if(!r.value)return 0;const b=n.vnode.el;if(!e.vertical)return 0;const w=e.color.get("hue");return b?Math.round(w*(b.offsetHeight-r.value.offsetHeight/2)/360):0}function y(){o.value=h(),s.value=v()}return Bn(()=>{if(!a.value||!r.value)return;const b={drag:w=>{f(w)},end:w=>{f(w)}};a0(a.value,b),a0(r.value,b),y()}),{bar:a,thumb:r,thumbLeft:o,thumbTop:s,hueValue:u,handleClick:d,update:y,ns:t}}});function nre(e,t,n,r,a,o){return W(),ue("div",{class:J([e.ns.b(),e.ns.is("vertical",e.vertical)])},[fe("div",{ref:"bar",class:J(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),fe("div",{ref:"thumb",class:J(e.ns.e("thumb")),style:un({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var rre=Ft(tre,[["render",nre],["__file","hue-slider.vue"]]);const ire=kt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ca,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Aa.teleported,predefine:{type:ze(Array)},validateEvent:{type:Boolean,default:!0},...qa(["ariaLabel"])}),are={[Vn]:e=>nn(e)||Sa(e),[Qr]:e=>nn(e)||Sa(e),activeChange:e=>nn(e)||Sa(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},i4=Symbol("colorPickerContextKey"),UL=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},ore=function(e){return nn(e)&&e.includes(".")&&Number.parseFloat(e)===1},sre=function(e){return nn(e)&&e.includes("%")},Hp=function(e,t){ore(e)&&(e="100%");const n=sre(e);return e=Math.min(t,Math.max(0,Number.parseFloat("".concat(e)))),n&&(e=Number.parseInt("".concat(e*t),10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},HL={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ub=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return"".concat(HL[t]||t).concat(HL[n]||n)},$L=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":"#".concat(Ub(e)).concat(Ub(t)).concat(Ub(n))},Rx={A:10,B:11,C:12,D:13,E:14,F:15},hf=function(e){return e.length===2?(Rx[e[0].toUpperCase()]||+e[0])*16+(Rx[e[1].toUpperCase()]||+e[1]):Rx[e[1].toUpperCase()]||+e[1]},lre=function(e,t,n){t=t/100,n=n/100;let r=t;const a=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=a<=1?a:2-a;const o=(n+t)/2,s=n===0?2*r/(a+r):2*t/(n+t);return{h:e,s:s*100,v:o*100}},GL=(e,t,n)=>{e=Hp(e,255),t=Hp(t,255),n=Hp(n,255);const r=Math.max(e,t,n),a=Math.min(e,t,n);let o;const s=r,u=r-a,d=r===0?0:u/r;if(r===a)o=0;else{switch(r){case e:{o=(t-n)/u+(t<n?6:0);break}case t:{o=(n-e)/u+2;break}case n:{o=(e-t)/u+4;break}}o/=6}return{h:o*360,s:d*100,v:s*100}},eg=function(e,t,n){e=Hp(e,360)*6,t=Hp(t,100),n=Hp(n,100);const r=Math.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),d=r%6,f=[n,s,o,o,u,n][d],h=[u,n,n,s,o,o][d],v=[o,o,u,n,n,s][d];return{r:Math.round(f*255),g:Math.round(h*255),b:Math.round(v*255)}};let Ng=class{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)kr(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)kr(t,r)&&this.set(r,t[r]);return}this["_".concat(t)]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this["_".concat(t)]):this["_".concat(t)]}toRgb(){return eg(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,a,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:o,v:s}=lre(r[0],r[1],r[2]);n(a,o,s)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:o,v:s}=GL(r[0],r[1],r[2]);n(a,o,s)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let a,o,s;r.length===3?(a=hf(r[0]+r[0]),o=hf(r[1]+r[1]),s=hf(r[2]+r[2])):(r.length===6||r.length===8)&&(a=hf(r.slice(0,2)),o=hf(r.slice(2,4)),s=hf(r.slice(4,6))),r.length===8?this._alpha=hf(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:u,s:d,v:f}=GL(a,o,s);n(u,d,f)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:a,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const s=UL(t,n/100,r/100);this.value="hsla(".concat(t,", ").concat(Math.round(s[1]*100),"%, ").concat(Math.round(s[2]*100),"%, ").concat(this.get("alpha")/100,")");break}case"hsv":{this.value="hsva(".concat(t,", ").concat(Math.round(n),"%, ").concat(Math.round(r),"%, ").concat(this.get("alpha")/100,")");break}case"hex":{this.value="".concat($L(eg(t,n,r))).concat(Ub(a*255/100));break}default:{const{r:s,g:u,b:d}=eg(t,n,r);this.value="rgba(".concat(s,", ").concat(u,", ").concat(d,", ").concat(this.get("alpha")/100,")")}}else switch(o){case"hsl":{const s=UL(t,n/100,r/100);this.value="hsl(".concat(t,", ").concat(Math.round(s[1]*100),"%, ").concat(Math.round(s[2]*100),"%)");break}case"hsv":{this.value="hsv(".concat(t,", ").concat(Math.round(n),"%, ").concat(Math.round(r),"%)");break}case"rgb":{const{r:s,g:u,b:d}=eg(t,n,r);this.value="rgb(".concat(s,", ").concat(u,", ").concat(d,")");break}default:this.value=$L(eg(t,n,r))}}};const ure=we({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=xt("color-predefine"),{currentColor:n}=qt(i4),r=re(o(e.colors,e.color));bt(()=>n.value,s=>{const u=new Ng;u.fromString(s),r.value.forEach(d=>{d.selected=u.compare(d)})}),to(()=>{r.value=o(e.colors,e.color)});function a(s){e.color.fromString(e.colors[s])}function o(s,u){return s.map(d=>{const f=new Ng;return f.enableAlpha=e.enableAlpha,f.format="rgba",f.fromString(d),f.selected=f.value===u.value,f})}return{rgbaColors:r,handleSelect:a,ns:t}}});function cre(e,t,n,r,a,o){return W(),ue("div",{class:J(e.ns.b())},[fe("div",{class:J(e.ns.e("colors"))},[(W(!0),ue(rn,null,ar(e.rgbaColors,(s,u)=>(W(),ue("div",{key:e.colors[u],class:J([e.ns.e("color-selector"),e.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:d=>e.handleSelect(u)},[fe("div",{style:un({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var dre=Ft(ure,[["render",cre],["__file","predefine.vue"]]);const fre=we({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=xt("color-svpanel"),n=Jn(),r=re(0),a=re(0),o=re("hsl(0, 100%, 50%)"),s=U(()=>{const f=e.color.get("hue"),h=e.color.get("value");return{hue:f,value:h}});function u(){const f=e.color.get("saturation"),h=e.color.get("value"),v=n.vnode.el,{clientWidth:y,clientHeight:b}=v;a.value=f*y/100,r.value=(100-h)*b/100,o.value="hsl(".concat(e.color.get("hue"),", 100%, 50%)")}function d(f){const v=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:b}=BC(f);let w=y-v.left,g=b-v.top;w=Math.max(0,w),w=Math.min(w,v.width),g=Math.max(0,g),g=Math.min(g,v.height),a.value=w,r.value=g,e.color.set({saturation:w/v.width*100,value:100-g/v.height*100})}return bt(()=>s.value,()=>{u()}),Bn(()=>{a0(n.vnode.el,{drag:f=>{d(f)},end:f=>{d(f)}}),u()}),{cursorTop:r,cursorLeft:a,background:o,colorValue:s,handleDrag:d,update:u,ns:t}}});function hre(e,t,n,r,a,o){return W(),ue("div",{class:J(e.ns.b()),style:un({backgroundColor:e.background})},[fe("div",{class:J(e.ns.e("white"))},null,2),fe("div",{class:J(e.ns.e("black"))},null,2),fe("div",{class:J(e.ns.e("cursor")),style:un({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[fe("div")],6)],6)}var pre=Ft(fre,[["render",hre],["__file","sv-panel.vue"]]);const mre=we({name:"ElColorPicker"}),vre=we({...mre,props:ire,emits:are,setup(e,{expose:t,emit:n}){const r=e,{t:a}=xr(),o=xt("color"),{formItem:s}=lo(),u=ta(),d=uo(),{inputId:f,isLabeledByFormItem:h}=ul(r,{formItemContext:s}),v=re(),y=re(),b=re(),w=re(),g=re(),x=re(),{isFocused:M,handleFocus:R,handleBlur:A}=Td(g,{beforeFocus(){return d.value},beforeBlur(Pe){var Xe;return(Xe=w.value)==null?void 0:Xe.isFocusInsideContent(Pe)},afterBlur(){ee(!1),j()}});let T=!0;const P=Ir(new Ng({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),I=re(!1),E=re(!1),D=re(""),N=U(()=>!r.modelValue&&!E.value?"transparent":ae(P,r.showAlpha)),B=U(()=>!r.modelValue&&!E.value?"":P.value),G=U(()=>h.value?void 0:r.ariaLabel||a("el.colorpicker.defaultLabel")),$=U(()=>h.value?s==null?void 0:s.labelId:void 0),Q=U(()=>[o.b("picker"),o.is("disabled",d.value),o.bm("picker",u.value),o.is("focused",M.value)]);function ae(Pe,Xe){if(!(Pe instanceof Ng))throw new TypeError("color should be instance of _color Class");const{r:ct,g:se,b:ye}=Pe.toRgb();return Xe?"rgba(".concat(ct,", ").concat(se,", ").concat(ye,", ").concat(Pe.get("alpha")/100,")"):"rgb(".concat(ct,", ").concat(se,", ").concat(ye,")")}function ee(Pe){I.value=Pe}const K=ps(ee,100,{leading:!0});function X(){d.value||ee(!0)}function Z(){K(!1),j()}function j(){cn(()=>{r.modelValue?P.fromString(r.modelValue):(P.value="",cn(()=>{E.value=!1}))})}function ie(){d.value||(I.value&&j(),K(!I.value))}function pe(){P.fromString(D.value)}function he(){const Pe=P.value;n(Vn,Pe),n("change",Pe),r.validateEvent&&(s==null||s.validate("change").catch(Xe=>void 0)),K(!1),cn(()=>{const Xe=new Ng({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});P.compare(Xe)||j()})}function le(){K(!1),n(Vn,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(Pe=>void 0)),j()}function Re(){I.value&&(Z(),M.value&&ge())}function De(Pe){Pe.preventDefault(),Pe.stopPropagation(),ee(!1),j()}function Te(Pe){switch(Pe.code){case jt.enter:case jt.numpadEnter:case jt.space:Pe.preventDefault(),Pe.stopPropagation(),X(),x.value.focus();break;case jt.esc:De(Pe);break}}function ge(){g.value.focus()}function ke(){g.value.blur()}return Bn(()=>{r.modelValue&&(D.value=B.value)}),bt(()=>r.modelValue,Pe=>{Pe?Pe&&Pe!==P.value&&(T=!1,P.fromString(Pe)):E.value=!1}),bt(()=>[r.colorFormat,r.showAlpha],()=>{P.enableAlpha=r.showAlpha,P.format=r.colorFormat||P.format,P.doOnChange(),n(Vn,P.value)}),bt(()=>B.value,Pe=>{D.value=Pe,T&&n("activeChange",Pe),T=!0}),bt(()=>P.value,()=>{!r.modelValue&&!E.value&&(E.value=!0)}),bt(()=>I.value,()=>{cn(()=>{var Pe,Xe,ct;(Pe=v.value)==null||Pe.update(),(Xe=y.value)==null||Xe.update(),(ct=b.value)==null||ct.update()})}),or(i4,{currentColor:B}),t({color:P,show:X,hide:Z,focus:ge,blur:ke}),(Pe,Xe)=>(W(),tt(m(ao),{ref_key:"popper",ref:w,visible:I.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[m(o).be("picker","panel"),m(o).b("dropdown"),Pe.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Pe.teleported,transition:"".concat(m(o).namespace.value,"-zoom-in-top"),persistent:"",onHide:ct=>ee(!1)},{content:be(()=>[kn((W(),ue("div",{onKeydown:Jr(De,["esc"])},[fe("div",{class:J(m(o).be("dropdown","main-wrapper"))},[ce(rre,{ref_key:"hue",ref:v,class:"hue-slider",color:m(P),vertical:""},null,8,["color"]),ce(pre,{ref_key:"sv",ref:y,color:m(P)},null,8,["color"])],2),Pe.showAlpha?(W(),tt(ere,{key:0,ref_key:"alpha",ref:b,color:m(P)},null,8,["color"])):Ye("v-if",!0),Pe.predefine?(W(),tt(dre,{key:1,ref:"predefine","enable-alpha":Pe.showAlpha,color:m(P),colors:Pe.predefine},null,8,["enable-alpha","color","colors"])):Ye("v-if",!0),fe("div",{class:J(m(o).be("dropdown","btns"))},[fe("span",{class:J(m(o).be("dropdown","value"))},[ce(m(Mo),{ref_key:"inputRef",ref:x,modelValue:D.value,"onUpdate:modelValue":ct=>D.value=ct,"validate-event":!1,size:"small",onKeyup:Jr(pe,["enter"]),onBlur:pe},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),ce(m(Ra),{class:J(m(o).be("dropdown","link-btn")),text:"",size:"small",onClick:le},{default:be(()=>[Pn(Pt(m(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ce(m(Ra),{plain:"",size:"small",class:J(m(o).be("dropdown","btn")),onClick:he},{default:be(()=>[Pn(Pt(m(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[m(yc),Re,g.value]])]),default:be(()=>[fe("div",nr({id:m(f),ref_key:"triggerRef",ref:g},Pe.$attrs,{class:m(Q),role:"button","aria-label":m(G),"aria-labelledby":m($),"aria-description":m(a)("el.colorpicker.description",{color:Pe.modelValue||""}),"aria-disabled":m(d),tabindex:m(d)?-1:Pe.tabindex,onKeydown:Te,onFocus:m(R),onBlur:m(A)}),[m(d)?(W(),ue("div",{key:0,class:J(m(o).be("picker","mask"))},null,2)):Ye("v-if",!0),fe("div",{class:J(m(o).be("picker","trigger")),onClick:ie},[fe("span",{class:J([m(o).be("picker","color"),m(o).is("alpha",Pe.showAlpha)])},[fe("span",{class:J(m(o).be("picker","color-inner")),style:un({backgroundColor:m(N)})},[kn(ce(m(tn),{class:J([m(o).be("picker","icon"),m(o).is("icon-arrow-down")])},{default:be(()=>[ce(m(xc))]),_:1},8,["class"]),[[_r,Pe.modelValue||E.value]]),kn(ce(m(tn),{class:J([m(o).be("picker","empty"),m(o).is("icon-close")])},{default:be(()=>[ce(m(Bl))]),_:1},8,["class"]),[[_r,!Pe.modelValue&&!E.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var gre=Ft(vre,[["__file","color-picker.vue"]]);const yre=On(gre),bre=kt({a11y:{type:Boolean,default:!0},locale:{type:ze(Object)},size:ca,button:{type:ze(Object)},experimentalFeatures:{type:ze(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ze(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Am}),Tl={},_re=we({name:"ElConfigProvider",props:bre,setup(e,{slots:t}){bt(()=>e.message,r=>{Object.assign(Tl,r!=null?r:{})},{immediate:!0,deep:!0});const n=mC(e);return()=>Ue(t,"default",{config:n==null?void 0:n.value})}}),wre=On(_re),xre=we({name:"ElContainer"}),Sre=we({...xre,props:{direction:{type:String}},setup(e){const t=e,n=ya(),r=xt("container"),a=U(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(s=>{const u=s.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(o,s)=>(W(),ue("section",{class:J([m(r).b(),m(r).is("vertical",m(a))])},[Ue(o.$slots,"default")],2))}});var Mre=Ft(Sre,[["__file","container.vue"]]);const Ere=we({name:"ElAside"}),Cre=we({...Ere,props:{width:{type:String,default:null}},setup(e){const t=e,n=xt("aside"),r=U(()=>t.width?n.cssVarBlock({width:t.width}):{});return(a,o)=>(W(),ue("aside",{class:J(m(n).b()),style:un(m(r))},[Ue(a.$slots,"default")],6))}});var a4=Ft(Cre,[["__file","aside.vue"]]);const Tre=we({name:"ElFooter"}),Are=we({...Tre,props:{height:{type:String,default:null}},setup(e){const t=e,n=xt("footer"),r=U(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,o)=>(W(),ue("footer",{class:J(m(n).b()),style:un(m(r))},[Ue(a.$slots,"default")],6))}});var o4=Ft(Are,[["__file","footer.vue"]]);const Lre=we({name:"ElHeader"}),Rre=we({...Lre,props:{height:{type:String,default:null}},setup(e){const t=e,n=xt("header"),r=U(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,o)=>(W(),ue("header",{class:J(m(n).b()),style:un(m(r))},[Ue(a.$slots,"default")],6))}});var s4=Ft(Rre,[["__file","header.vue"]]);const Pre=we({name:"ElMain"}),kre=we({...Pre,setup(e){const t=xt("main");return(n,r)=>(W(),ue("main",{class:J(m(t).b())},[Ue(n.$slots,"default")],2))}});var l4=Ft(kre,[["__file","main.vue"]]);const Ire=On(Mre,{Aside:a4,Footer:o4,Header:s4,Main:l4}),Ore=Ii(a4),Dre=Ii(o4),Nre=Ii(s4),Fre=Ii(l4);var Hb={exports:{}},Bre=Hb.exports,WL;function zre(){return WL||(WL=1,function(e,t){(function(n,r){e.exports=r()})(Bre,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,s=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,d={},f=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(M){this[x]=+M}},v=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(M){if(!M||M==="Z")return 0;var R=M.match(/([+-]|\d\d)/g),A=60*R[1]+(+R[2]||0);return A===0?0:R[0]==="+"?-A:A}(x)}],y=function(x){var M=d[x];return M&&(M.indexOf?M:M.s.concat(M.f))},b=function(x,M){var R,A=d.meridiem;if(A){for(var T=1;T<=24;T+=1)if(x.indexOf(A(T,0,M))>-1){R=T>12;break}}else R=x===(M?"pm":"PM");return R},w={A:[u,function(x){this.afternoon=b(x,!1)}],a:[u,function(x){this.afternoon=b(x,!0)}],Q:[a,function(x){this.month=3*(x-1)+1}],S:[a,function(x){this.milliseconds=100*+x}],SS:[o,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[o,h("day")],Do:[u,function(x){var M=d.ordinal,R=x.match(/\d+/);if(this.day=R[0],M)for(var A=1;A<=31;A+=1)M(A).replace(/\[|\]/g,"")===x&&(this.day=A)}],w:[s,h("week")],ww:[o,h("week")],M:[s,h("month")],MM:[o,h("month")],MMM:[u,function(x){var M=y("months"),R=(y("monthsShort")||M.map(function(A){return A.slice(0,3)})).indexOf(x)+1;if(R<1)throw new Error;this.month=R%12||R}],MMMM:[u,function(x){var M=y("months").indexOf(x)+1;if(M<1)throw new Error;this.month=M%12||M}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(x){this.year=f(x)}],YYYY:[/\d{4}/,h("year")],Z:v,ZZ:v};function g(x){var M,R;M=x,R=d&&d.formats;for(var A=(x=M.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(B,G,$){var Q=$&&$.toUpperCase();return G||R[$]||n[$]||R[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ae,ee,K){return ee||K.slice(1)})})).match(r),T=A.length,P=0;P<T;P+=1){var I=A[P],E=w[I],D=E&&E[0],N=E&&E[1];A[P]=N?{regex:D,parser:N}:I.replace(/^\[|\]$/g,"")}return function(B){for(var G={},$=0,Q=0;$<T;$+=1){var ae=A[$];if(typeof ae=="string")Q+=ae.length;else{var ee=ae.regex,K=ae.parser,X=B.slice(Q),Z=ee.exec(X)[0];K.call(G,Z),B=B.replace(Z,"")}}return function(j){var ie=j.afternoon;if(ie!==void 0){var pe=j.hours;ie?pe<12&&(j.hours+=12):pe===12&&(j.hours=0),delete j.afternoon}}(G),G}}return function(x,M,R){R.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(f=x.parseTwoDigitYear);var A=M.prototype,T=A.parse;A.parse=function(P){var I=P.date,E=P.utc,D=P.args;this.$u=E;var N=D[1];if(typeof N=="string"){var B=D[2]===!0,G=D[3]===!0,$=B||G,Q=D[2];G&&(Q=D[2]),d=this.$locale(),!B&&Q&&(d=R.Ls[Q]),this.$d=function(X,Z,j,ie){try{if(["x","X"].indexOf(Z)>-1)return new Date((Z==="X"?1e3:1)*X);var pe=g(Z)(X),he=pe.year,le=pe.month,Re=pe.day,De=pe.hours,Te=pe.minutes,ge=pe.seconds,ke=pe.milliseconds,Pe=pe.zone,Xe=pe.week,ct=new Date,se=Re||(he||le?1:ct.getDate()),ye=he||ct.getFullYear(),He=0;he&&!le||(He=le>0?le-1:ct.getMonth());var dt,pt=De||0,nt=Te||0,ot=ge||0,rt=ke||0;return Pe?new Date(Date.UTC(ye,He,se,pt,nt,ot,rt+60*Pe.offset*1e3)):j?new Date(Date.UTC(ye,He,se,pt,nt,ot,rt)):(dt=new Date(ye,He,se,pt,nt,ot,rt),Xe&&(dt=ie(dt).week(Xe).toDate()),dt)}catch(At){return new Date("")}}(I,N,E,R),this.init(),Q&&Q!==!0&&(this.$L=this.locale(Q).$L),$&&I!=this.format(N)&&(this.$d=new Date("")),d={}}else if(N instanceof Array)for(var ae=N.length,ee=1;ee<=ae;ee+=1){D[1]=N[ee-1];var K=R.apply(this,D);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}ee===ae&&(this.$d=new Date(""))}else T.call(this,P)}}})}(Hb)),Hb.exports}var Vre=zre();const zC=$l(Vre);var $b={exports:{}},Ure=$b.exports,jL;function Hre(){return jL||(jL=1,function(e,t){(function(n,r){e.exports=r()})(Ure,function(){return function(n,r){var a=r.prototype,o=a.format;a.format=function(s){var u=this,d=this.$locale();if(!this.isValid())return o.bind(this)(s);var f=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(v){switch(v){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return d.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return d.ordinal(u.week(),"W");case"w":case"ww":return f.s(u.week(),v==="w"?1:2,"0");case"W":case"WW":return f.s(u.isoWeek(),v==="W"?1:2,"0");case"k":case"kk":return f.s(String(u.$H===0?24:u.$H),v==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return v}});return o.bind(this)(h)}}})}($b)),$b.exports}var $re=Hre();const Gre=$l($re);var Gb={exports:{}},Wre=Gb.exports,qL;function jre(){return qL||(qL=1,function(e,t){(function(n,r){e.exports=r()})(Wre,function(){var n="week",r="year";return function(a,o,s){var u=o.prototype;u.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=s(this).startOf(r).add(1,r).date(f),v=s(this).endOf(n);if(h.isBefore(v))return 1}var y=s(this).startOf(r).date(f).startOf(n).subtract(1,"millisecond"),b=this.diff(y,n,!0);return b<0?s(this).startOf("week").week():Math.ceil(b)},u.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}})}(Gb)),Gb.exports}var qre=jre();const Kre=$l(qre);var Wb={exports:{}},Yre=Wb.exports,KL;function Xre(){return KL||(KL=1,function(e,t){(function(n,r){e.exports=r()})(Yre,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),o=this.week(),s=this.year();return o===1&&a===11?s+1:a===0&&o>=52?s-1:s}}})}(Wb)),Wb.exports}var Zre=Xre();const Jre=$l(Zre);var jb={exports:{}},Qre=jb.exports,YL;function eie(){return YL||(YL=1,function(e,t){(function(n,r){e.exports=r()})(Qre,function(){return function(n,r,a){r.prototype.dayOfYear=function(o){var s=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return o==null?s:this.add(o-s,"day")}}})}(jb)),jb.exports}var tie=eie();const nie=$l(tie);var qb={exports:{}},rie=qb.exports,XL;function iie(){return XL||(XL=1,function(e,t){(function(n,r){e.exports=r()})(rie,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})}(qb)),qb.exports}var aie=iie();const oie=$l(aie);var Kb={exports:{}},sie=Kb.exports,ZL;function lie(){return ZL||(ZL=1,function(e,t){(function(n,r){e.exports=r()})(sie,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})}(Kb)),Kb.exports}var uie=lie();const cie=$l(uie),JL=["hours","minutes","seconds"],yM="HH:mm:ss",Ep="YYYY-MM-DD",die={date:Ep,dates:Ep,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:"".concat(Ep," ").concat(yM),monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Ep,datetimerange:"".concat(Ep," ").concat(yM)},u4=kt({disabledHours:{type:ze(Function)},disabledMinutes:{type:ze(Function)},disabledSeconds:{type:ze(Function)}}),c4=kt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),VC=kt({id:{type:ze([Array,String])},name:{type:ze([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ze([String,Object]),default:Sc},editable:{type:Boolean,default:!0},prefixIcon:{type:ze([String,Object]),default:""},size:ca,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:ze(Object),default:()=>({})},modelValue:{type:ze([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ze([Date,Array])},defaultTime:{type:ze([Date,Array])},isRange:Boolean,...u4,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:ze([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:ze(String),values:Cc,default:"bottom"},fallbackPlacements:{type:ze(Array),default:["bottom","top","right","left"]},...Am,...qa(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),fie=kt({id:{type:ze(Array)},name:{type:ze(Array)},modelValue:{type:ze([Array,String])},startPlaceholder:String,endPlaceholder:String}),hie=we({name:"PickerRangeTrigger",inheritAttrs:!1}),pie=we({...hie,props:fie,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=O0(),a=xt("date"),o=xt("range"),s=re(),u=re(),{wrapperRef:d,isFocused:f}=Td(s),h=T=>{n("click",T)},v=T=>{n("mouseenter",T)},y=T=>{n("mouseleave",T)},b=T=>{n("mouseenter",T)},w=T=>{n("startInput",T)},g=T=>{n("endInput",T)},x=T=>{n("startChange",T)},M=T=>{n("endChange",T)};return t({focus:()=>{var T;(T=s.value)==null||T.focus()},blur:()=>{var T,P;(T=s.value)==null||T.blur(),(P=u.value)==null||P.blur()}}),(T,P)=>(W(),ue("div",{ref_key:"wrapperRef",ref:d,class:J([m(a).is("active",m(f)),T.$attrs.class]),style:un(T.$attrs.style),onClick:h,onMouseenter:v,onMouseleave:y,onTouchstartPassive:b},[Ue(T.$slots,"prefix"),fe("input",nr(m(r),{id:T.id&&T.id[0],ref_key:"inputRef",ref:s,name:T.name&&T.name[0],placeholder:T.startPlaceholder,value:T.modelValue&&T.modelValue[0],class:m(o).b("input"),onInput:w,onChange:x}),null,16,["id","name","placeholder","value"]),Ue(T.$slots,"range-separator"),fe("input",nr(m(r),{id:T.id&&T.id[1],ref_key:"endInputRef",ref:u,name:T.name&&T.name[1],placeholder:T.endPlaceholder,value:T.modelValue&&T.modelValue[1],class:m(o).b("input"),onInput:g,onChange:M}),null,16,["id","name","placeholder","value"]),Ue(T.$slots,"suffix")],38))}});var mie=Ft(pie,[["__file","picker-range-trigger.vue"]]);const vie=we({name:"Picker"}),gie=we({...vie,props:VC,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,a=wc(),{lang:o}=xr(),s=xt("date"),u=xt("input"),d=xt("range"),{form:f,formItem:h}=lo(),v=qt("ElPopperOptions",{}),{valueOnClear:y}=Sw(r,null),b=re(),w=re(),g=re(!1),x=re(!1),M=re(null);let R=!1;const{isFocused:A,handleFocus:T,handleBlur:P}=Td(w,{beforeFocus(){return r.readonly||j.value},afterFocus(){g.value=!0},beforeBlur(Ee){var wt;return!R&&((wt=b.value)==null?void 0:wt.isFocusInsideContent(Ee))},afterBlur(){At(),g.value=!1,R=!1,r.validateEvent&&(h==null||h.validate("blur").catch(Ee=>void 0))}}),I=U(()=>[s.b("editor"),s.bm("editor",r.type),u.e("wrapper"),s.is("disabled",j.value),s.is("active",g.value),d.b("editor"),pt?d.bm("editor",pt.value):"",a.class]),E=U(()=>[u.e("icon"),d.e("close-icon"),ke.value?"":d.e("close-icon--hidden")]);bt(g,Ee=>{Ee?cn(()=>{Ee&&(M.value=r.modelValue)}):(rt.value=null,cn(()=>{D(r.modelValue)}))});const D=(Ee,wt)=>{(wt||!LL(Ee,M.value))&&(n("change",Ee),r.validateEvent&&(h==null||h.validate("change").catch(an=>void 0)))},N=Ee=>{if(!LL(r.modelValue,Ee)){let wt;Rt(Ee)?wt=Ee.map(an=>PL(an,r.valueFormat,o.value)):Ee&&(wt=PL(Ee,r.valueFormat,o.value)),n("update:modelValue",Ee&&wt,o.value)}},B=Ee=>{n("keydown",Ee)},G=U(()=>w.value?Array.from(w.value.$el.querySelectorAll("input")):[]),$=(Ee,wt,an)=>{const Je=G.value;Je.length&&(!an||an==="min"?(Je[0].setSelectionRange(Ee,wt),Je[0].focus()):an==="max"&&(Je[1].setSelectionRange(Ee,wt),Je[1].focus()))},Q=(Ee="",wt=!1)=>{g.value=wt;let an;Rt(Ee)?an=Ee.map(Je=>Je.toDate()):an=Ee&&Ee.toDate(),rt.value=null,N(an)},ae=()=>{x.value=!0},ee=()=>{n("visible-change",!0)},K=()=>{x.value=!1,g.value=!1,n("visible-change",!1)},X=()=>{g.value=!0},Z=()=>{g.value=!1},j=U(()=>r.disabled||(f==null?void 0:f.disabled)),ie=U(()=>{let Ee;if(Xe.value?lt.value.getDefaultValue&&(Ee=lt.value.getDefaultValue()):Rt(r.modelValue)?Ee=r.modelValue.map(wt=>RL(wt,r.valueFormat,o.value)):Ee=RL(r.modelValue,r.valueFormat,o.value),lt.value.getRangeAvailableTime){const wt=lt.value.getRangeAvailableTime(Ee);no(wt,Ee)||(Ee=wt,Xe.value||N(Yy(Ee)))}return Rt(Ee)&&Ee.some(wt=>!wt)&&(Ee=[]),Ee}),pe=U(()=>{if(!lt.value.panelReady)return"";const Ee=Me(ie.value);return Rt(rt.value)?[rt.value[0]||Ee&&Ee[0]||"",rt.value[1]||Ee&&Ee[1]||""]:rt.value!==null?rt.value:!le.value&&Xe.value||!g.value&&Xe.value?"":Ee?Re.value||De.value||Te.value?Ee.join(", "):Ee:""}),he=U(()=>r.type.includes("time")),le=U(()=>r.type.startsWith("time")),Re=U(()=>r.type==="dates"),De=U(()=>r.type==="months"),Te=U(()=>r.type==="years"),ge=U(()=>r.prefixIcon||(he.value?SO:u5)),ke=re(!1),Pe=Ee=>{r.readonly||j.value||(ke.value&&(Ee.stopPropagation(),lt.value.handleClear?lt.value.handleClear():N(y.value),D(y.value,!0),ke.value=!1,K()),n("clear"))},Xe=U(()=>{const{modelValue:Ee}=r;return!Ee||Rt(Ee)&&!Ee.filter(Boolean).length}),ct=async Ee=>{var wt;r.readonly||j.value||(((wt=Ee.target)==null?void 0:wt.tagName)!=="INPUT"||A.value)&&(g.value=!0)},se=()=>{r.readonly||j.value||!Xe.value&&r.clearable&&(ke.value=!0)},ye=()=>{ke.value=!1},He=Ee=>{var wt;r.readonly||j.value||(((wt=Ee.touches[0].target)==null?void 0:wt.tagName)!=="INPUT"||A.value)&&(g.value=!0)},dt=U(()=>r.type.includes("range")),pt=ta(),nt=U(()=>{var Ee,wt;return(wt=(Ee=m(b))==null?void 0:Ee.popperRef)==null?void 0:wt.contentRef}),ot=pC(w,Ee=>{const wt=m(nt),an=Uo(w);wt&&(Ee.target===wt||Ee.composedPath().includes(wt))||Ee.target===an||an&&Ee.composedPath().includes(an)||(g.value=!1)});Yr(()=>{ot==null||ot()});const rt=re(null),At=()=>{if(rt.value){const Ee=Mt(pe.value);Ee&&ve(Ee)&&(N(Yy(Ee)),rt.value=null)}rt.value===""&&(N(y.value),D(y.value),rt.value=null)},Mt=Ee=>Ee?lt.value.parseUserInput(Ee):null,Me=Ee=>Ee?lt.value.formatToString(Ee):null,ve=Ee=>lt.value.isValidValue(Ee),Fe=async Ee=>{if(r.readonly||j.value)return;const{code:wt}=Ee;if(B(Ee),wt===jt.esc){g.value===!0&&(g.value=!1,Ee.preventDefault(),Ee.stopPropagation());return}if(wt===jt.down&&(lt.value.handleFocusPicker&&(Ee.preventDefault(),Ee.stopPropagation()),g.value===!1&&(g.value=!0,await cn()),lt.value.handleFocusPicker)){lt.value.handleFocusPicker();return}if(wt===jt.tab){R=!0;return}if(wt===jt.enter||wt===jt.numpadEnter){(rt.value===null||rt.value===""||ve(Mt(pe.value)))&&(At(),g.value=!1),Ee.stopPropagation();return}if(rt.value){Ee.stopPropagation();return}lt.value.handleKeydownInput&&lt.value.handleKeydownInput(Ee)},qe=Ee=>{rt.value=Ee,g.value||(g.value=!0)},Et=Ee=>{const wt=Ee.target;rt.value?rt.value=[wt.value,rt.value[1]]:rt.value=[wt.value,null]},$t=Ee=>{const wt=Ee.target;rt.value?rt.value=[rt.value[0],wt.value]:rt.value=[null,wt.value]},Yt=()=>{var Ee;const wt=rt.value,an=Mt(wt&&wt[0]),Je=m(ie);if(an&&an.isValid()){rt.value=[Me(an),((Ee=pe.value)==null?void 0:Ee[1])||null];const Dt=[an,Je&&(Je[1]||null)];ve(Dt)&&(N(Yy(Dt)),rt.value=null)}},We=()=>{var Ee;const wt=m(rt),an=Mt(wt&&wt[1]),Je=m(ie);if(an&&an.isValid()){rt.value=[((Ee=m(pe))==null?void 0:Ee[0])||null,Me(an)];const Dt=[Je&&Je[0],an];ve(Dt)&&(N(Yy(Dt)),rt.value=null)}},lt=re({}),sn=Ee=>{lt.value[Ee[0]]=Ee[1],lt.value.panelReady=!0},Tt=Ee=>{n("calendar-change",Ee)},je=(Ee,wt,an)=>{n("panel-change",Ee,wt,an)},xe=()=>{var Ee;(Ee=w.value)==null||Ee.focus()},Ke=()=>{var Ee;(Ee=w.value)==null||Ee.blur()};return or("EP_PICKER_BASE",{props:r}),t({focus:xe,blur:Ke,handleOpen:X,handleClose:Z,onPick:Q}),(Ee,wt)=>(W(),tt(m(ao),nr({ref_key:"refPopper",ref:b,visible:g.value,effect:"light",pure:"",trigger:"click"},Ee.$attrs,{role:"dialog",teleported:"",transition:"".concat(m(s).namespace.value,"-zoom-in-top"),"popper-class":["".concat(m(s).namespace.value,"-picker__popper"),Ee.popperClass],"popper-options":m(v),"fallback-placements":Ee.fallbackPlacements,"gpu-acceleration":!1,placement:Ee.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ae,onShow:ee,onHide:K}),{default:be(()=>[m(dt)?(W(),tt(mie,{key:1,id:Ee.id,ref_key:"inputRef",ref:w,"model-value":m(pe),name:Ee.name,disabled:m(j),readonly:!Ee.editable||Ee.readonly,"start-placeholder":Ee.startPlaceholder,"end-placeholder":Ee.endPlaceholder,class:J(m(I)),style:un(Ee.$attrs.style),"aria-label":Ee.ariaLabel,tabindex:Ee.tabindex,autocomplete:"off",role:"combobox",onClick:ct,onFocus:m(T),onBlur:m(P),onStartInput:Et,onStartChange:Yt,onEndInput:$t,onEndChange:We,onMousedown:ct,onMouseenter:se,onMouseleave:ye,onTouchstartPassive:He,onKeydown:Fe},{prefix:be(()=>[m(ge)?(W(),tt(m(tn),{key:0,class:J([m(u).e("icon"),m(d).e("icon")])},{default:be(()=>[(W(),tt(tr(m(ge))))]),_:1},8,["class"])):Ye("v-if",!0)]),"range-separator":be(()=>[Ue(Ee.$slots,"range-separator",{},()=>[fe("span",{class:J(m(d).b("separator"))},Pt(Ee.rangeSeparator),3)])]),suffix:be(()=>[Ee.clearIcon?(W(),tt(m(tn),{key:0,class:J(m(E)),onMousedown:Sn(m($r),["prevent"]),onClick:Pe},{default:be(()=>[(W(),tt(tr(Ee.clearIcon)))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(W(),tt(m(Mo),{key:0,id:Ee.id,ref_key:"inputRef",ref:w,"container-role":"combobox","model-value":m(pe),name:Ee.name,size:m(pt),disabled:m(j),placeholder:Ee.placeholder,class:J([m(s).b("editor"),m(s).bm("editor",Ee.type),Ee.$attrs.class]),style:un(Ee.$attrs.style),readonly:!Ee.editable||Ee.readonly||m(Re)||m(De)||m(Te)||Ee.type==="week","aria-label":Ee.ariaLabel,tabindex:Ee.tabindex,"validate-event":!1,onInput:qe,onFocus:m(T),onBlur:m(P),onKeydown:Fe,onChange:At,onMousedown:ct,onMouseenter:se,onMouseleave:ye,onTouchstartPassive:He,onClick:Sn(()=>{},["stop"])},{prefix:be(()=>[m(ge)?(W(),tt(m(tn),{key:0,class:J(m(u).e("icon")),onMousedown:Sn(ct,["prevent"]),onTouchstartPassive:He},{default:be(()=>[(W(),tt(tr(m(ge))))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0)]),suffix:be(()=>[ke.value&&Ee.clearIcon?(W(),tt(m(tn),{key:0,class:J("".concat(m(u).e("icon")," clear-icon")),onMousedown:Sn(m($r),["prevent"]),onClick:Pe},{default:be(()=>[(W(),tt(tr(Ee.clearIcon)))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:be(()=>[Ue(Ee.$slots,"default",{visible:g.value,actualVisible:x.value,parsedValue:m(ie),format:Ee.format,dateFormat:Ee.dateFormat,timeFormat:Ee.timeFormat,unlinkPanels:Ee.unlinkPanels,type:Ee.type,defaultValue:Ee.defaultValue,showNow:Ee.showNow,onPick:Q,onSelectRange:$,onSetPickerOption:sn,onCalendarChange:Tt,onPanelChange:je,onMousedown:Sn(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var d4=Ft(gie,[["__file","picker.vue"]]);const yie=kt({...c4,datetimeRole:String,parsedValue:{type:ze(Object)}}),f4=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(s,u,d,f)=>{const h={hour:e,minute:t,second:n};let v=s;return["hour","minute","second"].forEach(y=>{if(h[y]){let b;const w=h[y];switch(y){case"minute":{b=w(v.hour(),u,f);break}case"second":{b=w(v.hour(),v.minute(),u,f);break}default:{b=w(u,f);break}}if(b!=null&&b.length&&!b.includes(v[y]())){const g=d?0:b.length-1;v=v[y](b[g])}}}),v},a={};return{timePickerOptions:a,getAvailableTime:r,onSetOption:([s,u])=>{a[s]=u}}},Px=e=>{const t=(r,a)=>r||a,n=r=>r!==!0;return e.map(t).filter(n)},h4=(e,t,n)=>({getHoursList:(s,u)=>Tx(24,e&&(()=>e==null?void 0:e(s,u))),getMinutesList:(s,u,d)=>Tx(60,t&&(()=>t==null?void 0:t(s,u,d))),getSecondsList:(s,u,d,f)=>Tx(60,n&&(()=>n==null?void 0:n(s,u,d,f)))}),p4=(e,t,n)=>{const{getHoursList:r,getMinutesList:a,getSecondsList:o}=h4(e,t,n);return{getAvailableHours:(f,h)=>Px(r(f,h)),getAvailableMinutes:(f,h,v)=>Px(a(f,h,v)),getAvailableSeconds:(f,h,v,y)=>Px(o(f,h,v,y))}},m4=e=>{const t=re(e.parsedValue);return bt(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},bie=kt({role:{type:String,required:!0},spinnerDate:{type:ze(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ze(String),default:""},...u4}),_ie=100,wie=600,R_={beforeMount(e,t){const n=t.value,{interval:r=_ie,delay:a=wie}=on(n)?{}:n;let o,s;const u=()=>on(n)?n():n.handler(),d=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",f=>{f.button===0&&(d(),u(),document.addEventListener("mouseup",()=>d(),{once:!0}),s=setTimeout(()=>{o=setInterval(()=>{u()},r)},a))})}},xie=we({__name:"basic-time-spinner",props:bie,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=qt("EP_PICKER_BASE"),{isRange:a}=r.props,o=xt("time"),{getHoursList:s,getMinutesList:u,getSecondsList:d}=h4(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let f=!1;const h=re(),v=re(),y=re(),b=re(),w={hours:v,minutes:y,seconds:b},g=U(()=>n.showSeconds?JL:JL.slice(0,2)),x=U(()=>{const{spinnerDate:pe}=n,he=pe.hour(),le=pe.minute(),Re=pe.second();return{hours:he,minutes:le,seconds:Re}}),M=U(()=>{const{hours:pe,minutes:he}=m(x),{role:le,spinnerDate:Re}=n,De=a?void 0:Re;return{hours:s(le,De),minutes:u(pe,le,De),seconds:d(pe,he,le,De)}}),R=U(()=>{const{hours:pe,minutes:he,seconds:le}=m(x);return{hours:Cx(pe,23),minutes:Cx(he,59),seconds:Cx(le,59)}}),A=ps(pe=>{f=!1,I(pe)},200),T=pe=>{if(!!!n.amPmMode)return"";const le=n.amPmMode==="A";let Re=pe<12?" am":" pm";return le&&(Re=Re.toUpperCase()),Re},P=pe=>{let he;switch(pe){case"hours":he=[0,2];break;case"minutes":he=[3,5];break;case"seconds":he=[6,8];break}const[le,Re]=he;t("select-range",le,Re),h.value=pe},I=pe=>{N(pe,m(x)[pe])},E=()=>{I("hours"),I("minutes"),I("seconds")},D=pe=>pe.querySelector(".".concat(o.namespace.value,"-scrollbar__wrap")),N=(pe,he)=>{if(n.arrowControl)return;const le=m(w[pe]);le&&le.$el&&(D(le.$el).scrollTop=Math.max(0,he*B(pe)))},B=pe=>{const he=m(w[pe]),le=he==null?void 0:he.$el.querySelector("li");return le&&Number.parseFloat(cc(le,"height"))||0},G=()=>{Q(1)},$=()=>{Q(-1)},Q=pe=>{h.value||P("hours");const he=h.value,le=m(x)[he],Re=h.value==="hours"?24:60,De=ae(he,le,pe,Re);ee(he,De),N(he,De),cn(()=>P(he))},ae=(pe,he,le,Re)=>{let De=(he+le+Re)%Re;const Te=m(M)[pe];for(;Te[De]&&De!==he;)De=(De+le+Re)%Re;return De},ee=(pe,he)=>{if(m(M)[pe][he])return;const{hours:De,minutes:Te,seconds:ge}=m(x);let ke;switch(pe){case"hours":ke=n.spinnerDate.hour(he).minute(Te).second(ge);break;case"minutes":ke=n.spinnerDate.hour(De).minute(he).second(ge);break;case"seconds":ke=n.spinnerDate.hour(De).minute(Te).second(he);break}t("change",ke)},K=(pe,{value:he,disabled:le})=>{le||(ee(pe,he),P(pe),N(pe,he))},X=pe=>{const he=m(w[pe]);if(!he)return;f=!0,A(pe);const le=Math.min(Math.round((D(he.$el).scrollTop-(Z(pe)*.5-10)/B(pe)+3)/B(pe)),pe==="hours"?23:59);ee(pe,le)},Z=pe=>m(w[pe]).$el.offsetHeight,j=()=>{const pe=he=>{const le=m(w[he]);le&&le.$el&&(D(le.$el).onscroll=()=>{X(he)})};pe("hours"),pe("minutes"),pe("seconds")};Bn(()=>{cn(()=>{!n.arrowControl&&j(),E(),n.role==="start"&&P("hours")})});const ie=(pe,he)=>{w[he].value=pe!=null?pe:void 0};return t("set-option",["".concat(n.role,"_scrollDown"),Q]),t("set-option",["".concat(n.role,"_emitSelectRange"),P]),bt(()=>n.spinnerDate,()=>{f||E()}),(pe,he)=>(W(),ue("div",{class:J([m(o).b("spinner"),{"has-seconds":pe.showSeconds}])},[pe.arrowControl?Ye("v-if",!0):(W(!0),ue(rn,{key:0},ar(m(g),le=>(W(),tt(m(Nu),{key:le,ref_for:!0,ref:Re=>ie(Re,le),class:J(m(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":m(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Re=>P(le),onMousemove:Re=>I(le)},{default:be(()=>[(W(!0),ue(rn,null,ar(m(M)[le],(Re,De)=>(W(),ue("li",{key:De,class:J([m(o).be("spinner","item"),m(o).is("active",De===m(x)[le]),m(o).is("disabled",Re)]),onClick:Te=>K(le,{value:De,disabled:Re})},[le==="hours"?(W(),ue(rn,{key:0},[Pn(Pt(("0"+(pe.amPmMode?De%12||12:De)).slice(-2))+Pt(T(De)),1)],64)):(W(),ue(rn,{key:1},[Pn(Pt(("0"+De).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),pe.arrowControl?(W(!0),ue(rn,{key:1},ar(m(g),le=>(W(),ue("div",{key:le,class:J([m(o).be("spinner","wrapper"),m(o).is("arrow")]),onMouseenter:Re=>P(le)},[kn((W(),tt(m(tn),{class:J(["arrow-up",m(o).be("spinner","arrow")])},{default:be(()=>[ce(m(qE))]),_:1},8,["class"])),[[m(R_),$]]),kn((W(),tt(m(tn),{class:J(["arrow-down",m(o).be("spinner","arrow")])},{default:be(()=>[ce(m(xc))]),_:1},8,["class"])),[[m(R_),G]]),fe("ul",{class:J(m(o).be("spinner","list"))},[(W(!0),ue(rn,null,ar(m(R)[le],(Re,De)=>(W(),ue("li",{key:De,class:J([m(o).be("spinner","item"),m(o).is("active",Re===m(x)[le]),m(o).is("disabled",m(M)[le][Re])])},[m(fn)(Re)?(W(),ue(rn,{key:0},[le==="hours"?(W(),ue(rn,{key:0},[Pn(Pt(("0"+(pe.amPmMode?Re%12||12:Re)).slice(-2))+Pt(T(Re)),1)],64)):(W(),ue(rn,{key:1},[Pn(Pt(("0"+Re).slice(-2)),1)],64))],64)):Ye("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Ye("v-if",!0)],2))}});var bM=Ft(xie,[["__file","basic-time-spinner.vue"]]);const Sie=we({__name:"panel-time-pick",props:yie,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=qt("EP_PICKER_BASE"),{arrowControl:a,disabledHours:o,disabledMinutes:s,disabledSeconds:u,defaultValue:d}=r.props,{getAvailableHours:f,getAvailableMinutes:h,getAvailableSeconds:v}=p4(o,s,u),y=xt("time"),{t:b,lang:w}=xr(),g=re([0,2]),x=m4(n),M=U(()=>Or(n.actualVisible)?"".concat(y.namespace.value,"-zoom-in-top"):""),R=U(()=>n.format.includes("ss")),A=U(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),T=Z=>{const j=Rn(Z).locale(w.value),ie=ae(j);return j.isSame(ie)},P=()=>{t("pick",x.value,!1)},I=(Z=!1,j=!1)=>{j||t("pick",n.parsedValue,Z)},E=Z=>{if(!n.visible)return;const j=ae(Z).millisecond(0);t("pick",j,!0)},D=(Z,j)=>{t("select-range",Z,j),g.value=[Z,j]},N=Z=>{const j=[0,3].concat(R.value?[6]:[]),ie=["hours","minutes"].concat(R.value?["seconds"]:[]),he=(j.indexOf(g.value[0])+Z+j.length)%j.length;G.start_emitSelectRange(ie[he])},B=Z=>{const j=Z.code,{left:ie,right:pe,up:he,down:le}=jt;if([ie,pe].includes(j)){N(j===ie?-1:1),Z.preventDefault();return}if([he,le].includes(j)){const Re=j===he?-1:1;G.start_scrollDown(Re),Z.preventDefault();return}},{timePickerOptions:G,onSetOption:$,getAvailableTime:Q}=f4({getAvailableHours:f,getAvailableMinutes:h,getAvailableSeconds:v}),ae=Z=>Q(Z,n.datetimeRole||"",!0),ee=Z=>Z?Rn(Z,n.format).locale(w.value):null,K=Z=>Z?Z.format(n.format):null,X=()=>Rn(d).locale(w.value);return t("set-picker-option",["isValidValue",T]),t("set-picker-option",["formatToString",K]),t("set-picker-option",["parseUserInput",ee]),t("set-picker-option",["handleKeydownInput",B]),t("set-picker-option",["getRangeAvailableTime",ae]),t("set-picker-option",["getDefaultValue",X]),(Z,j)=>(W(),tt(Ia,{name:m(M)},{default:be(()=>[Z.actualVisible||Z.visible?(W(),ue("div",{key:0,class:J(m(y).b("panel"))},[fe("div",{class:J([m(y).be("panel","content"),{"has-seconds":m(R)}])},[ce(bM,{ref:"spinner",role:Z.datetimeRole||"start","arrow-control":m(a),"show-seconds":m(R),"am-pm-mode":m(A),"spinner-date":Z.parsedValue,"disabled-hours":m(o),"disabled-minutes":m(s),"disabled-seconds":m(u),onChange:E,onSetOption:m($),onSelectRange:D},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),fe("div",{class:J(m(y).be("panel","footer"))},[fe("button",{type:"button",class:J([m(y).be("panel","btn"),"cancel"]),onClick:P},Pt(m(b)("el.datepicker.cancel")),3),fe("button",{type:"button",class:J([m(y).be("panel","btn"),"confirm"]),onClick:ie=>I()},Pt(m(b)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Ye("v-if",!0)]),_:1},8,["name"]))}});var P_=Ft(Sie,[["__file","panel-time-pick.vue"]]);const Mie=kt({...c4,parsedValue:{type:ze(Array)}}),Eie=we({__name:"panel-time-range",props:Mie,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(ct,se)=>{const ye=[];for(let He=ct;He<=se;He++)ye.push(He);return ye},{t:a,lang:o}=xr(),s=xt("time"),u=xt("picker"),d=qt("EP_PICKER_BASE"),{arrowControl:f,disabledHours:h,disabledMinutes:v,disabledSeconds:y,defaultValue:b}=d.props,w=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",f),T.value?"has-seconds":""]),g=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",f),T.value?"has-seconds":""]),x=U(()=>n.parsedValue[0]),M=U(()=>n.parsedValue[1]),R=m4(n),A=()=>{t("pick",R.value,!1)},T=U(()=>n.format.includes("ss")),P=U(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),I=(ct=!1)=>{t("pick",[x.value,M.value],ct)},E=ct=>{B(ct.millisecond(0),M.value)},D=ct=>{B(x.value,ct.millisecond(0))},N=ct=>{const se=ct.map(He=>Rn(He).locale(o.value)),ye=pe(se);return se[0].isSame(ye[0])&&se[1].isSame(ye[1])},B=(ct,se)=>{n.visible&&t("pick",[ct,se],!0)},G=U(()=>x.value>M.value),$=re([0,2]),Q=(ct,se)=>{t("select-range",ct,se,"min"),$.value=[ct,se]},ae=U(()=>T.value?11:8),ee=(ct,se)=>{t("select-range",ct,se,"max");const ye=m(ae);$.value=[ct+ye,se+ye]},K=ct=>{const se=T.value?[0,3,6,11,14,17]:[0,3,8,11],ye=["hours","minutes"].concat(T.value?["seconds"]:[]),dt=(se.indexOf($.value[0])+ct+se.length)%se.length,pt=se.length/2;dt<pt?De.start_emitSelectRange(ye[dt]):De.end_emitSelectRange(ye[dt-pt])},X=ct=>{const se=ct.code,{left:ye,right:He,up:dt,down:pt}=jt;if([ye,He].includes(se)){K(se===ye?-1:1),ct.preventDefault();return}if([dt,pt].includes(se)){const nt=se===dt?-1:1,ot=$.value[0]<ae.value?"start":"end";De["".concat(ot,"_scrollDown")](nt),ct.preventDefault();return}},Z=(ct,se)=>{const ye=h?h(ct):[],He=ct==="start",pt=(se||(He?M.value:x.value)).hour(),nt=He?r(pt+1,23):r(0,pt-1);return _x(ye,nt)},j=(ct,se,ye)=>{const He=v?v(ct,se):[],dt=se==="start",pt=ye||(dt?M.value:x.value),nt=pt.hour();if(ct!==nt)return He;const ot=pt.minute(),rt=dt?r(ot+1,59):r(0,ot-1);return _x(He,rt)},ie=(ct,se,ye,He)=>{const dt=y?y(ct,se,ye):[],pt=ye==="start",nt=He||(pt?M.value:x.value),ot=nt.hour(),rt=nt.minute();if(ct!==ot||se!==rt)return dt;const At=nt.second(),Mt=pt?r(At+1,59):r(0,At-1);return _x(dt,Mt)},pe=([ct,se])=>[Te(ct,"start",!0,se),Te(se,"end",!1,ct)],{getAvailableHours:he,getAvailableMinutes:le,getAvailableSeconds:Re}=p4(Z,j,ie),{timePickerOptions:De,getAvailableTime:Te,onSetOption:ge}=f4({getAvailableHours:he,getAvailableMinutes:le,getAvailableSeconds:Re}),ke=ct=>ct?Rt(ct)?ct.map(se=>Rn(se,n.format).locale(o.value)):Rn(ct,n.format).locale(o.value):null,Pe=ct=>ct?Rt(ct)?ct.map(se=>se.format(n.format)):ct.format(n.format):null,Xe=()=>{if(Rt(b))return b.map(se=>Rn(se).locale(o.value));const ct=Rn(b).locale(o.value);return[ct,ct.add(60,"m")]};return t("set-picker-option",["formatToString",Pe]),t("set-picker-option",["parseUserInput",ke]),t("set-picker-option",["isValidValue",N]),t("set-picker-option",["handleKeydownInput",X]),t("set-picker-option",["getDefaultValue",Xe]),t("set-picker-option",["getRangeAvailableTime",pe]),(ct,se)=>ct.actualVisible?(W(),ue("div",{key:0,class:J([m(s).b("range-picker"),m(u).b("panel")])},[fe("div",{class:J(m(s).be("range-picker","content"))},[fe("div",{class:J(m(s).be("range-picker","cell"))},[fe("div",{class:J(m(s).be("range-picker","header"))},Pt(m(a)("el.datepicker.startTime")),3),fe("div",{class:J(m(w))},[ce(bM,{ref:"minSpinner",role:"start","show-seconds":m(T),"am-pm-mode":m(P),"arrow-control":m(f),"spinner-date":m(x),"disabled-hours":Z,"disabled-minutes":j,"disabled-seconds":ie,onChange:E,onSetOption:m(ge),onSelectRange:Q},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),fe("div",{class:J(m(s).be("range-picker","cell"))},[fe("div",{class:J(m(s).be("range-picker","header"))},Pt(m(a)("el.datepicker.endTime")),3),fe("div",{class:J(m(g))},[ce(bM,{ref:"maxSpinner",role:"end","show-seconds":m(T),"am-pm-mode":m(P),"arrow-control":m(f),"spinner-date":m(M),"disabled-hours":Z,"disabled-minutes":j,"disabled-seconds":ie,onChange:D,onSetOption:m(ge),onSelectRange:ee},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),fe("div",{class:J(m(s).be("panel","footer"))},[fe("button",{type:"button",class:J([m(s).be("panel","btn"),"cancel"]),onClick:ye=>A()},Pt(m(a)("el.datepicker.cancel")),11,["onClick"]),fe("button",{type:"button",class:J([m(s).be("panel","btn"),"confirm"]),disabled:m(G),onClick:ye=>I()},Pt(m(a)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Ye("v-if",!0)}});var Cie=Ft(Eie,[["__file","panel-time-range.vue"]]);Rn.extend(zC);var Tie=we({name:"ElTimePicker",install:null,props:{...VC,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=re(),[r,a]=e.isRange?["timerange",Cie]:["time",P_],o=s=>t.emit("update:modelValue",s);return or("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var s;(s=n.value)==null||s.focus()},blur:()=>{var s;(s=n.value)==null||s.blur()},handleOpen:()=>{var s;(s=n.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=n.value)==null||s.handleClose()}}),()=>{var s;const u=(s=e.format)!=null?s:yM;return ce(d4,nr(e,{ref:n,type:r,format:u,"onUpdate:modelValue":o}),{default:d=>ce(a,d,null)})}}});const Aie=On(Tie),kw=Symbol(),Lie=kt({...VC,type:{type:ze(String),default:"date"}}),Rie=["date","dates","year","years","month","months","week","range"],UC=kt({disabledDate:{type:ze(Function)},date:{type:ze(Object),required:!0},minDate:{type:ze(Object)},maxDate:{type:ze(Object)},parsedValue:{type:ze([Object,Array])},rangeState:{type:ze(Object),default:()=>({endDate:null,selecting:!1})}}),v4=kt({type:{type:ze(String),required:!0,values:Dee},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),HC=kt({unlinkPanels:Boolean,parsedValue:{type:ze(Array)}}),$C=e=>({type:String,values:Rie,default:e}),Pie=kt({...v4,parsedValue:{type:ze([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),lm=e=>{if(!Rt(e))return!1;const[t,n]=e;return Rn.isDayjs(t)&&Rn.isDayjs(n)&&t.isSameOrBefore(n)},GC=(e,{lang:t,unit:n,unlinkPanels:r})=>{let a;if(Rt(e)){let[o,s]=e.map(u=>Rn(u).locale(t));return r||(s=o.add(1,n)),[o,s]}else e?a=Rn(e):a=Rn();return a=a.locale(t),[a,a.add(1,n)]},kie=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:a,now:o,unit:s,relativeDateGetter:u,setCellMetadata:d,setRowMetadata:f})=>{for(let h=0;h<e.row;h++){const v=t[h];for(let y=0;y<e.column;y++){let b=v[y+n];b||(b={row:h,column:y,type:"normal",inRange:!1,start:!1,end:!1});const w=h*e.column+y,g=u(w);b.dayjs=g,b.date=g.toDate(),b.timestamp=g.valueOf(),b.type="normal",b.inRange=!!(r&&g.isSameOrAfter(r,s)&&a&&g.isSameOrBefore(a,s))||!!(r&&g.isSameOrBefore(r,s)&&a&&g.isSameOrAfter(a,s)),r!=null&&r.isSameOrAfter(a)?(b.start=!!a&&g.isSame(a,s),b.end=r&&g.isSame(r,s)):(b.start=!!r&&g.isSame(r,s),b.end=!!a&&g.isSame(a,s)),g.isSame(o,s)&&(b.type="today"),d==null||d(b,{rowIndex:h,columnIndex:y}),v[y+n]=b}f==null||f(v)}},k_=(e,t,n)=>{const r=Rn().locale(n).startOf("month").month(t).year(e),a=r.daysInMonth();return cd(a).map(o=>r.add(o,"day").toDate())},o0=(e,t,n,r)=>{const a=Rn().year(e).month(t).startOf("month"),o=k_(e,t,n).find(s=>!(r!=null&&r(s)));return o?Rn(o).locale(n):a.locale(n)},_M=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const a=e.month();if(!k_(r,a,t).every(n))return o0(r,a,t,n);for(let o=0;o<12;o++)if(!k_(r,o,t).every(n))return o0(r,o,t,n);return e},Iie=kt({...UC,cellClassName:{type:ze(Function)},showWeekNumber:Boolean,selectionMode:$C("date")}),Oie=["changerange","pick","select"],wM=(e="")=>["normal","today"].includes(e),Die=(e,t)=>{const{lang:n}=xr(),r=re(),a=re(),o=re(),s=re(),u=re([[],[],[],[],[],[]]);let d=!1;const f=e.date.$locale().weekStart||7,h=e.date.locale("en").localeData().weekdaysShort().map(j=>j.toLowerCase()),v=U(()=>f>3?7-f:-f),y=U(()=>{const j=e.date.startOf("month");return j.subtract(j.day()||7,"day")}),b=U(()=>h.concat(h).slice(f,f+7)),w=U(()=>sD(m(T)).some(j=>j.isCurrent)),g=U(()=>{const j=e.date.startOf("month"),ie=j.day()||7,pe=j.daysInMonth(),he=j.subtract(1,"month").daysInMonth();return{startOfMonthDay:ie,dateCountOfMonth:pe,dateCountOfLastMonth:he}}),x=U(()=>e.selectionMode==="dates"?Vo(e.parsedValue):[]),M=(j,{count:ie,rowIndex:pe,columnIndex:he})=>{const{startOfMonthDay:le,dateCountOfMonth:Re,dateCountOfLastMonth:De}=m(g),Te=m(v);if(pe>=0&&pe<=1){const ge=le+Te<0?7+le+Te:le+Te;if(he+pe*7>=ge)return j.text=ie,!0;j.text=De-(ge-he%7)+1+pe*7,j.type="prev-month"}else return ie<=Re?j.text=ie:(j.text=ie-Re,j.type="next-month"),!0;return!1},R=(j,{columnIndex:ie,rowIndex:pe},he)=>{const{disabledDate:le,cellClassName:Re}=e,De=m(x),Te=M(j,{count:he,rowIndex:pe,columnIndex:ie}),ge=j.dayjs.toDate();return j.selected=De.find(ke=>ke.isSame(j.dayjs,"day")),j.isSelected=!!j.selected,j.isCurrent=I(j),j.disabled=le==null?void 0:le(ge),j.customClass=Re==null?void 0:Re(ge),Te},A=j=>{if(e.selectionMode==="week"){const[ie,pe]=e.showWeekNumber?[1,7]:[0,6],he=Z(j[ie+1]);j[ie].inRange=he,j[ie].start=he,j[pe].inRange=he,j[pe].end=he}},T=U(()=>{const{minDate:j,maxDate:ie,rangeState:pe,showWeekNumber:he}=e,le=m(v),Re=m(u),De="day";let Te=1;if(he)for(let ge=0;ge<6;ge++)Re[ge][0]||(Re[ge][0]={type:"week",text:m(y).add(ge*7+1,De).week()});return kie({row:6,column:7},Re,{startDate:j,columnIndexOffset:he?1:0,nextEndDate:pe.endDate||ie||pe.selecting&&j||null,now:Rn().locale(m(n)).startOf(De),unit:De,relativeDateGetter:ge=>m(y).add(ge-le,De),setCellMetadata:(...ge)=>{R(...ge,Te)&&(Te+=1)},setRowMetadata:A}),Re});bt(()=>e.date,async()=>{var j;(j=m(r))!=null&&j.contains(document.activeElement)&&(await cn(),await P())});const P=async()=>{var j;return(j=m(a))==null?void 0:j.focus()},I=j=>e.selectionMode==="date"&&wM(j.type)&&E(j,e.parsedValue),E=(j,ie)=>ie?Rn(ie).locale(m(n)).isSame(e.date.date(Number(j.text)),"day"):!1,D=(j,ie)=>{const pe=j*7+(ie-(e.showWeekNumber?1:0))-m(v);return m(y).add(pe,"day")},N=j=>{var ie;if(!e.rangeState.selecting)return;let pe=j.target;if(pe.tagName==="SPAN"&&(pe=(ie=pe.parentNode)==null?void 0:ie.parentNode),pe.tagName==="DIV"&&(pe=pe.parentNode),pe.tagName!=="TD")return;const he=pe.parentNode.rowIndex-1,le=pe.cellIndex;m(T)[he][le].disabled||(he!==m(o)||le!==m(s))&&(o.value=he,s.value=le,t("changerange",{selecting:!0,endDate:D(he,le)}))},B=j=>!m(w)&&(j==null?void 0:j.text)===1&&j.type==="normal"||j.isCurrent,G=j=>{d||m(w)||e.selectionMode!=="date"||X(j,!0)},$=j=>{j.target.closest("td")&&(d=!0)},Q=j=>{j.target.closest("td")&&(d=!1)},ae=j=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:j,maxDate:null}),t("select",!0)):(j>=e.minDate?t("pick",{minDate:e.minDate,maxDate:j}):t("pick",{minDate:j,maxDate:e.minDate}),t("select",!1))},ee=j=>{const ie=j.week(),pe="".concat(j.year(),"w").concat(ie);t("pick",{year:j.year(),week:ie,value:pe,date:j.startOf("week")})},K=(j,ie)=>{const pe=ie?Vo(e.parsedValue).filter(he=>(he==null?void 0:he.valueOf())!==j.valueOf()):Vo(e.parsedValue).concat([j]);t("pick",pe)},X=(j,ie=!1)=>{const pe=j.target.closest("td");if(!pe)return;const he=pe.parentNode.rowIndex-1,le=pe.cellIndex,Re=m(T)[he][le];if(Re.disabled||Re.type==="week")return;const De=D(he,le);switch(e.selectionMode){case"range":{ae(De);break}case"date":{t("pick",De,ie);break}case"week":{ee(De);break}case"dates":{K(De,!!Re.selected);break}}},Z=j=>{if(e.selectionMode!=="week")return!1;let ie=e.date.startOf("day");if(j.type==="prev-month"&&(ie=ie.subtract(1,"month")),j.type==="next-month"&&(ie=ie.add(1,"month")),ie=ie.date(Number.parseInt(j.text,10)),e.parsedValue&&!Rt(e.parsedValue)){const pe=(e.parsedValue.day()-f+7)%7-1;return e.parsedValue.subtract(pe,"day").isSame(ie,"day")}return!1};return{WEEKS:b,rows:T,tbodyRef:r,currentCellRef:a,focus:P,isCurrent:I,isWeekActive:Z,isSelectedCell:B,handlePickDate:X,handleMouseUp:Q,handleMouseDown:$,handleMouseMove:N,handleFocus:G}},Nie=(e,{isCurrent:t,isWeekActive:n})=>{const r=xt("date-table"),{t:a}=xr(),o=U(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),s=U(()=>a("el.datepicker.dateTablePrompt")),u=U(()=>a("el.datepicker.week"));return{tableKls:o,tableLabel:s,weekLabel:u,getCellClasses:h=>{const v=[];return wM(h.type)&&!h.disabled?(v.push("available"),h.type==="today"&&v.push("today")):v.push(h.type),t(h)&&v.push("current"),h.inRange&&(wM(h.type)||e.selectionMode==="week")&&(v.push("in-range"),h.start&&v.push("start-date"),h.end&&v.push("end-date")),h.disabled&&v.push("disabled"),h.selected&&v.push("selected"),h.customClass&&v.push(h.customClass),v.join(" ")},getRowKls:h=>[r.e("row"),{current:n(h)}],t:a}},Fie=kt({cell:{type:ze(Object)}});var WC=we({name:"ElDatePickerCell",props:Fie,setup(e){const t=xt("date-table-cell"),{slots:n}=qt(kw);return()=>{const{cell:r}=e;return Ue(n,"default",{...r},()=>{var a;return[ce("div",{class:t.b()},[ce("span",{class:t.e("text")},[(a=r==null?void 0:r.renderText)!=null?a:r==null?void 0:r.text])])]})}}});const Bie=we({__name:"basic-date-table",props:Iie,emits:Oie,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:a,rows:o,tbodyRef:s,currentCellRef:u,focus:d,isCurrent:f,isWeekActive:h,isSelectedCell:v,handlePickDate:y,handleMouseUp:b,handleMouseDown:w,handleMouseMove:g,handleFocus:x}=Die(r,n),{tableLabel:M,tableKls:R,weekLabel:A,getCellClasses:T,getRowKls:P,t:I}=Nie(r,{isCurrent:f,isWeekActive:h});return t({focus:d}),(E,D)=>(W(),ue("table",{"aria-label":m(M),class:J(m(R)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:m(y),onMousemove:m(g),onMousedown:Sn(m(w),["prevent"]),onMouseup:m(b)},[fe("tbody",{ref_key:"tbodyRef",ref:s},[fe("tr",null,[E.showWeekNumber?(W(),ue("th",{key:0,scope:"col"},Pt(m(A)),1)):Ye("v-if",!0),(W(!0),ue(rn,null,ar(m(a),(N,B)=>(W(),ue("th",{key:B,"aria-label":m(I)("el.datepicker.weeksFull."+N),scope:"col"},Pt(m(I)("el.datepicker.weeks."+N)),9,["aria-label"]))),128))]),(W(!0),ue(rn,null,ar(m(o),(N,B)=>(W(),ue("tr",{key:B,class:J(m(P)(N[1]))},[(W(!0),ue(rn,null,ar(N,(G,$)=>(W(),ue("td",{key:"".concat(B,".").concat($),ref_for:!0,ref:Q=>m(v)(G)&&(u.value=Q),class:J(m(T)(G)),"aria-current":G.isCurrent?"date":void 0,"aria-selected":G.isCurrent,tabindex:m(v)(G)?0:-1,onFocus:m(x)},[ce(m(WC),{cell:G},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var xM=Ft(Bie,[["__file","basic-date-table.vue"]]);const zie=kt({...UC,selectionMode:$C("month")}),Vie=we({__name:"basic-month-table",props:zie,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=xt("month-table"),{t:o,lang:s}=xr(),u=re(),d=re(),f=re(r.date.locale("en").localeData().monthsShort().map(A=>A.toLowerCase())),h=re([[],[],[]]),v=re(),y=re(),b=U(()=>{var A,T;const P=h.value,I=Rn().locale(s.value).startOf("month");for(let E=0;E<3;E++){const D=P[E];for(let N=0;N<4;N++){const B=D[N]||(D[N]={row:E,column:N,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});B.type="normal";const G=E*4+N,$=r.date.startOf("year").month(G),Q=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;B.inRange=!!(r.minDate&&$.isSameOrAfter(r.minDate,"month")&&Q&&$.isSameOrBefore(Q,"month"))||!!(r.minDate&&$.isSameOrBefore(r.minDate,"month")&&Q&&$.isSameOrAfter(Q,"month")),(A=r.minDate)!=null&&A.isSameOrAfter(Q)?(B.start=!!(Q&&$.isSame(Q,"month")),B.end=r.minDate&&$.isSame(r.minDate,"month")):(B.start=!!(r.minDate&&$.isSame(r.minDate,"month")),B.end=!!(Q&&$.isSame(Q,"month"))),I.isSame($)&&(B.type="today"),B.text=G,B.disabled=((T=r.disabledDate)==null?void 0:T.call(r,$.toDate()))||!1}}return P}),w=()=>{var A;(A=d.value)==null||A.focus()},g=A=>{const T={},P=r.date.year(),I=new Date,E=A.text;return T.disabled=r.disabledDate?k_(P,E,s.value).every(r.disabledDate):!1,T.current=Vo(r.parsedValue).findIndex(D=>Rn.isDayjs(D)&&D.year()===P&&D.month()===E)>=0,T.today=I.getFullYear()===P&&I.getMonth()===E,A.inRange&&(T["in-range"]=!0,A.start&&(T["start-date"]=!0),A.end&&(T["end-date"]=!0)),T},x=A=>{const T=r.date.year(),P=A.text;return Vo(r.date).findIndex(I=>I.year()===T&&I.month()===P)>=0},M=A=>{var T;if(!r.rangeState.selecting)return;let P=A.target;if(P.tagName==="SPAN"&&(P=(T=P.parentNode)==null?void 0:T.parentNode),P.tagName==="DIV"&&(P=P.parentNode),P.tagName!=="TD")return;const I=P.parentNode.rowIndex,E=P.cellIndex;b.value[I][E].disabled||(I!==v.value||E!==y.value)&&(v.value=I,y.value=E,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(I*4+E)}))},R=A=>{var T;const P=(T=A.target)==null?void 0:T.closest("td");if((P==null?void 0:P.tagName)!=="TD"||cs(P,"disabled"))return;const I=P.cellIndex,D=P.parentNode.rowIndex*4+I,N=r.date.startOf("year").month(D);if(r.selectionMode==="months"){if(A.type==="keydown"){n("pick",Vo(r.parsedValue),!1);return}const B=o0(r.date.year(),D,s.value,r.disabledDate),G=cs(P,"current")?Vo(r.parsedValue).filter($=>($==null?void 0:$.month())!==B.month()):Vo(r.parsedValue).concat([Rn(B)]);n("pick",G)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&N>=r.minDate?n("pick",{minDate:r.minDate,maxDate:N}):n("pick",{minDate:N,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:N,maxDate:null}),n("select",!0)):n("pick",D)};return bt(()=>r.date,async()=>{var A,T;(A=u.value)!=null&&A.contains(document.activeElement)&&(await cn(),(T=d.value)==null||T.focus())}),t({focus:w}),(A,T)=>(W(),ue("table",{role:"grid","aria-label":m(o)("el.datepicker.monthTablePrompt"),class:J(m(a).b()),onClick:R,onMousemove:M},[fe("tbody",{ref_key:"tbodyRef",ref:u},[(W(!0),ue(rn,null,ar(m(b),(P,I)=>(W(),ue("tr",{key:I},[(W(!0),ue(rn,null,ar(P,(E,D)=>(W(),ue("td",{key:D,ref_for:!0,ref:N=>x(E)&&(d.value=N),class:J(g(E)),"aria-selected":"".concat(x(E)),"aria-label":m(o)("el.datepicker.month".concat(+E.text+1)),tabindex:x(E)?0:-1,onKeydown:[Jr(Sn(R,["prevent","stop"]),["space"]),Jr(Sn(R,["prevent","stop"]),["enter"])]},[ce(m(WC),{cell:{...E,renderText:m(o)("el.datepicker.months."+f.value[E.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var SM=Ft(Vie,[["__file","basic-month-table.vue"]]);const Uie=kt({...UC,selectionMode:$C("year")}),Hie=we({__name:"basic-year-table",props:Uie,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=(T,P)=>{const I=Rn(String(T)).locale(P).startOf("year"),D=I.endOf("year").dayOfYear();return cd(D).map(N=>I.add(N,"day").toDate())},o=xt("year-table"),{t:s,lang:u}=xr(),d=re(),f=re(),h=U(()=>Math.floor(r.date.year()/10)*10),v=re([[],[],[]]),y=re(),b=re(),w=U(()=>{var T;const P=v.value,I=Rn().locale(u.value).startOf("year");for(let E=0;E<3;E++){const D=P[E];for(let N=0;N<4&&!(E*4+N>=10);N++){let B=D[N];B||(B={row:E,column:N,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),B.type="normal";const G=E*4+N+h.value,$=Rn().year(G),Q=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;B.inRange=!!(r.minDate&&$.isSameOrAfter(r.minDate,"year")&&Q&&$.isSameOrBefore(Q,"year"))||!!(r.minDate&&$.isSameOrBefore(r.minDate,"year")&&Q&&$.isSameOrAfter(Q,"year")),(T=r.minDate)!=null&&T.isSameOrAfter(Q)?(B.start=!!(Q&&$.isSame(Q,"year")),B.end=!!(r.minDate&&$.isSame(r.minDate,"year"))):(B.start=!!(r.minDate&&$.isSame(r.minDate,"year")),B.end=!!(Q&&$.isSame(Q,"year"))),I.isSame($)&&(B.type="today"),B.text=G;const ee=$.toDate();B.disabled=r.disabledDate&&r.disabledDate(ee)||!1,D[N]=B}}return P}),g=()=>{var T;(T=f.value)==null||T.focus()},x=T=>{const P={},I=Rn().locale(u.value),E=T.text;return P.disabled=r.disabledDate?a(E,u.value).every(r.disabledDate):!1,P.today=I.year()===E,P.current=Vo(r.parsedValue).findIndex(D=>D.year()===E)>=0,T.inRange&&(P["in-range"]=!0,T.start&&(P["start-date"]=!0),T.end&&(P["end-date"]=!0)),P},M=T=>{const P=T.text;return Vo(r.date).findIndex(I=>I.year()===P)>=0},R=T=>{var P;const I=(P=T.target)==null?void 0:P.closest("td");if(!I||!I.textContent||cs(I,"disabled"))return;const E=I.cellIndex,N=I.parentNode.rowIndex*4+E+h.value,B=Rn().year(N);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&B>=r.minDate?n("pick",{minDate:r.minDate,maxDate:B}):n("pick",{minDate:B,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:B,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(T.type==="keydown"){n("pick",Vo(r.parsedValue),!1);return}const G=_M(B.startOf("year"),u.value,r.disabledDate),$=cs(I,"current")?Vo(r.parsedValue).filter(Q=>(Q==null?void 0:Q.year())!==N):Vo(r.parsedValue).concat([G]);n("pick",$)}else n("pick",N)},A=T=>{var P;if(!r.rangeState.selecting)return;const I=(P=T.target)==null?void 0:P.closest("td");if(!I)return;const E=I.parentNode.rowIndex,D=I.cellIndex;w.value[E][D].disabled||(E!==y.value||D!==b.value)&&(y.value=E,b.value=D,n("changerange",{selecting:!0,endDate:Rn().year(h.value).add(E*4+D,"year")}))};return bt(()=>r.date,async()=>{var T,P;(T=d.value)!=null&&T.contains(document.activeElement)&&(await cn(),(P=f.value)==null||P.focus())}),t({focus:g}),(T,P)=>(W(),ue("table",{role:"grid","aria-label":m(s)("el.datepicker.yearTablePrompt"),class:J(m(o).b()),onClick:R,onMousemove:A},[fe("tbody",{ref_key:"tbodyRef",ref:d},[(W(!0),ue(rn,null,ar(m(w),(I,E)=>(W(),ue("tr",{key:E},[(W(!0),ue(rn,null,ar(I,(D,N)=>(W(),ue("td",{key:"".concat(E,"_").concat(N),ref_for:!0,ref:B=>M(D)&&(f.value=B),class:J(["available",x(D)]),"aria-selected":M(D),"aria-label":String(D.text),tabindex:M(D)?0:-1,onKeydown:[Jr(Sn(R,["prevent","stop"]),["space"]),Jr(Sn(R,["prevent","stop"]),["enter"])]},[ce(m(WC),{cell:D},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var MM=Ft(Hie,[["__file","basic-year-table.vue"]]);const $ie=we({__name:"panel-date-pick",props:Pie,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(je,xe,Ke)=>!0,a=xt("picker-panel"),o=xt("date-picker"),s=wc(),u=ya(),{t:d,lang:f}=xr(),h=qt("EP_PICKER_BASE"),v=qt(Rw),{shortcuts:y,disabledDate:b,cellClassName:w,defaultTime:g}=h.props,x=Hr(h.props,"defaultValue"),M=re(),R=re(Rn().locale(f.value)),A=re(!1);let T=!1;const P=U(()=>Rn(g).locale(f.value)),I=U(()=>R.value.month()),E=U(()=>R.value.year()),D=re([]),N=re(null),B=re(null),G=je=>D.value.length>0?r(je,D.value,n.format||"HH:mm:ss"):!0,$=je=>g&&!dt.value&&!A.value&&!T?P.value.year(je.year()).month(je.month()).date(je.date()):ge.value?je.millisecond(0):je.startOf("day"),Q=(je,...xe)=>{if(!je)t("pick",je,...xe);else if(Rt(je)){const Ke=je.map($);t("pick",Ke,...xe)}else t("pick",$(je),...xe);N.value=null,B.value=null,A.value=!1,T=!1},ae=async(je,xe)=>{if(ie.value==="date"){je=je;let Ke=n.parsedValue?n.parsedValue.year(je.year()).month(je.month()).date(je.date()):je;G(Ke)||(Ke=D.value[0][0].year(je.year()).month(je.month()).date(je.date())),R.value=Ke,Q(Ke,ge.value||xe),n.type==="datetime"&&(await cn(),Yt())}else ie.value==="week"?Q(je.date):ie.value==="dates"&&Q(je,!0)},ee=je=>{const xe=je?"add":"subtract";R.value=R.value[xe](1,"month"),Tt("month")},K=je=>{const xe=R.value,Ke=je?"add":"subtract";R.value=X.value==="year"?xe[Ke](10,"year"):xe[Ke](1,"year"),Tt("year")},X=re("date"),Z=U(()=>{const je=d("el.datepicker.year");if(X.value==="year"){const xe=Math.floor(E.value/10)*10;return je?"".concat(xe," ").concat(je," - ").concat(xe+9," ").concat(je):"".concat(xe," - ").concat(xe+9)}return"".concat(E.value," ").concat(je)}),j=je=>{const xe=on(je.value)?je.value():je.value;if(xe){T=!0,Q(Rn(xe).locale(f.value));return}je.onClick&&je.onClick({attrs:s,slots:u,emit:t})},ie=U(()=>{const{type:je}=n;return["week","month","months","year","years","dates"].includes(je)?je:"date"}),pe=U(()=>ie.value==="dates"||ie.value==="months"||ie.value==="years"),he=U(()=>ie.value==="date"?X.value:ie.value),le=U(()=>!!y.length),Re=async(je,xe)=>{ie.value==="month"?(R.value=o0(R.value.year(),je,f.value,b),Q(R.value,!1)):ie.value==="months"?Q(je,xe!=null?xe:!0):(R.value=o0(R.value.year(),je,f.value,b),X.value="date",["month","year","date","week"].includes(ie.value)&&(Q(R.value,!0),await cn(),Yt())),Tt("month")},De=async(je,xe)=>{if(ie.value==="year"){const Ke=R.value.startOf("year").year(je);R.value=_M(Ke,f.value,b),Q(R.value,!1)}else if(ie.value==="years")Q(je,xe!=null?xe:!0);else{const Ke=R.value.year(je);R.value=_M(Ke,f.value,b),X.value="month",["month","year","date","week"].includes(ie.value)&&(Q(R.value,!0),await cn(),Yt())}Tt("year")},Te=async je=>{X.value=je,await cn(),Yt()},ge=U(()=>n.type==="datetime"||n.type==="datetimerange"),ke=U(()=>{const je=ge.value||ie.value==="dates",xe=ie.value==="years",Ke=ie.value==="months",Ee=X.value==="date",wt=X.value==="year",an=X.value==="month";return je&&Ee||xe&&wt||Ke&&an}),Pe=U(()=>b?n.parsedValue?Rt(n.parsedValue)?b(n.parsedValue[0].toDate()):b(n.parsedValue.toDate()):!0:!1),Xe=()=>{if(pe.value)Q(n.parsedValue);else{let je=n.parsedValue;if(!je){const xe=Rn(g).locale(f.value),Ke=$t();je=xe.year(Ke.year()).month(Ke.month()).date(Ke.date())}R.value=je,Q(je)}},ct=U(()=>b?b(Rn().locale(f.value).toDate()):!1),se=()=>{const xe=Rn().locale(f.value).toDate();A.value=!0,(!b||!b(xe))&&G(xe)&&(R.value=Rn().locale(f.value),Q(R.value))},ye=U(()=>n.timeFormat||NN(n.format)),He=U(()=>n.dateFormat||DN(n.format)),dt=U(()=>{if(B.value)return B.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||R.value).format(ye.value)}),pt=U(()=>{if(N.value)return N.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||R.value).format(He.value)}),nt=re(!1),ot=()=>{nt.value=!0},rt=()=>{nt.value=!1},At=je=>({hour:je.hour(),minute:je.minute(),second:je.second(),year:je.year(),month:je.month(),date:je.date()}),Mt=(je,xe,Ke)=>{const{hour:Ee,minute:wt,second:an}=At(je),Je=n.parsedValue?n.parsedValue.hour(Ee).minute(wt).second(an):je;R.value=Je,Q(R.value,!0),Ke||(nt.value=xe)},Me=je=>{const xe=Rn(je,ye.value).locale(f.value);if(xe.isValid()&&G(xe)){const{year:Ke,month:Ee,date:wt}=At(R.value);R.value=xe.year(Ke).month(Ee).date(wt),B.value=null,nt.value=!1,Q(R.value,!0)}},ve=je=>{const xe=Rn(je,He.value).locale(f.value);if(xe.isValid()){if(b&&b(xe.toDate()))return;const{hour:Ke,minute:Ee,second:wt}=At(R.value);R.value=xe.hour(Ke).minute(Ee).second(wt),N.value=null,Q(R.value,!0)}},Fe=je=>Rn.isDayjs(je)&&je.isValid()&&(b?!b(je.toDate()):!0),qe=je=>Rt(je)?je.map(xe=>xe.format(n.format)):je.format(n.format),Et=je=>Rn(je,n.format).locale(f.value),$t=()=>{const je=Rn(x.value).locale(f.value);if(!x.value){const xe=P.value;return Rn().hour(xe.hour()).minute(xe.minute()).second(xe.second()).locale(f.value)}return je},Yt=()=>{var je;["week","month","year","date"].includes(ie.value)&&((je=M.value)==null||je.focus())},We=()=>{Yt(),ie.value==="week"&&sn(jt.down)},lt=je=>{const{code:xe}=je;[jt.up,jt.down,jt.left,jt.right,jt.home,jt.end,jt.pageUp,jt.pageDown].includes(xe)&&(sn(xe),je.stopPropagation(),je.preventDefault()),[jt.enter,jt.space,jt.numpadEnter].includes(xe)&&N.value===null&&B.value===null&&(je.preventDefault(),Q(R.value,!1))},sn=je=>{var xe;const{up:Ke,down:Ee,left:wt,right:an,home:Je,end:Dt,pageUp:en,pageDown:_n}=jt,wn={year:{[Ke]:-4,[Ee]:4,[wt]:-1,[an]:1,offset:(Yn,vr)=>Yn.setFullYear(Yn.getFullYear()+vr)},month:{[Ke]:-4,[Ee]:4,[wt]:-1,[an]:1,offset:(Yn,vr)=>Yn.setMonth(Yn.getMonth()+vr)},week:{[Ke]:-1,[Ee]:1,[wt]:-1,[an]:1,offset:(Yn,vr)=>Yn.setDate(Yn.getDate()+vr*7)},date:{[Ke]:-7,[Ee]:7,[wt]:-1,[an]:1,[Je]:Yn=>-Yn.getDay(),[Dt]:Yn=>-Yn.getDay()+6,[en]:Yn=>-new Date(Yn.getFullYear(),Yn.getMonth(),0).getDate(),[_n]:Yn=>new Date(Yn.getFullYear(),Yn.getMonth()+1,0).getDate(),offset:(Yn,vr)=>Yn.setDate(Yn.getDate()+vr)}},hr=R.value.toDate();for(;Math.abs(R.value.diff(hr,"year",!0))<1;){const Yn=wn[he.value];if(!Yn)return;if(Yn.offset(hr,on(Yn[je])?Yn[je](hr):(xe=Yn[je])!=null?xe:0),b&&b(hr))break;const vr=Rn(hr).locale(f.value);R.value=vr,t("pick",vr,!0);break}},Tt=je=>{t("panel-change",R.value.toDate(),je,X.value)};return bt(()=>ie.value,je=>{if(["month","year"].includes(je)){X.value=je;return}else if(je==="years"){X.value="year";return}else if(je==="months"){X.value="month";return}X.value="date"},{immediate:!0}),bt(()=>X.value,()=>{v==null||v.updatePopper()}),bt(()=>x.value,je=>{je&&(R.value=$t())},{immediate:!0}),bt(()=>n.parsedValue,je=>{if(je){if(pe.value||Rt(je))return;R.value=je}else R.value=$t()},{immediate:!0}),t("set-picker-option",["isValidValue",Fe]),t("set-picker-option",["formatToString",qe]),t("set-picker-option",["parseUserInput",Et]),t("set-picker-option",["handleFocusPicker",We]),(je,xe)=>(W(),ue("div",{class:J([m(a).b(),m(o).b(),{"has-sidebar":je.$slots.sidebar||m(le),"has-time":m(ge)}])},[fe("div",{class:J(m(a).e("body-wrapper"))},[Ue(je.$slots,"sidebar",{class:J(m(a).e("sidebar"))}),m(le)?(W(),ue("div",{key:0,class:J(m(a).e("sidebar"))},[(W(!0),ue(rn,null,ar(m(y),(Ke,Ee)=>(W(),ue("button",{key:Ee,type:"button",class:J(m(a).e("shortcut")),onClick:wt=>j(Ke)},Pt(Ke.text),11,["onClick"]))),128))],2)):Ye("v-if",!0),fe("div",{class:J(m(a).e("body"))},[m(ge)?(W(),ue("div",{key:0,class:J(m(o).e("time-header"))},[fe("span",{class:J(m(o).e("editor-wrap"))},[ce(m(Mo),{placeholder:m(d)("el.datepicker.selectDate"),"model-value":m(pt),size:"small","validate-event":!1,onInput:Ke=>N.value=Ke,onChange:ve},null,8,["placeholder","model-value","onInput"])],2),kn((W(),ue("span",{class:J(m(o).e("editor-wrap"))},[ce(m(Mo),{placeholder:m(d)("el.datepicker.selectTime"),"model-value":m(dt),size:"small","validate-event":!1,onFocus:ot,onInput:Ke=>B.value=Ke,onChange:Me},null,8,["placeholder","model-value","onInput"]),ce(m(P_),{visible:nt.value,format:m(ye),"parsed-value":R.value,onPick:Mt},null,8,["visible","format","parsed-value"])],2)),[[m(yc),rt]])],2)):Ye("v-if",!0),kn(fe("div",{class:J([m(o).e("header"),(X.value==="year"||X.value==="month")&&m(o).e("header--bordered")])},[fe("span",{class:J(m(o).e("prev-btn"))},[fe("button",{type:"button","aria-label":m(d)("el.datepicker.prevYear"),class:J(["d-arrow-left",m(a).e("icon-btn")]),onClick:Ke=>K(!1)},[Ue(je.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["aria-label","onClick"]),kn(fe("button",{type:"button","aria-label":m(d)("el.datepicker.prevMonth"),class:J([m(a).e("icon-btn"),"arrow-left"]),onClick:Ke=>ee(!1)},[Ue(je.$slots,"prev-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1})])],10,["aria-label","onClick"]),[[_r,X.value==="date"]])],2),fe("span",{role:"button",class:J(m(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Jr(Ke=>Te("year"),["enter"]),onClick:Ke=>Te("year")},Pt(m(Z)),43,["onKeydown","onClick"]),kn(fe("span",{role:"button","aria-live":"polite",tabindex:"0",class:J([m(o).e("header-label"),{active:X.value==="month"}]),onKeydown:Jr(Ke=>Te("month"),["enter"]),onClick:Ke=>Te("month")},Pt(m(d)("el.datepicker.month".concat(m(I)+1))),43,["onKeydown","onClick"]),[[_r,X.value==="date"]]),fe("span",{class:J(m(o).e("next-btn"))},[kn(fe("button",{type:"button","aria-label":m(d)("el.datepicker.nextMonth"),class:J([m(a).e("icon-btn"),"arrow-right"]),onClick:Ke=>ee(!0)},[Ue(je.$slots,"next-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})])],10,["aria-label","onClick"]),[[_r,X.value==="date"]]),fe("button",{type:"button","aria-label":m(d)("el.datepicker.nextYear"),class:J([m(a).e("icon-btn"),"d-arrow-right"]),onClick:Ke=>K(!0)},[Ue(je.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[_r,X.value!=="time"]]),fe("div",{class:J(m(a).e("content")),onKeydown:lt},[X.value==="date"?(W(),tt(xM,{key:0,ref_key:"currentViewRef",ref:M,"selection-mode":m(ie),date:R.value,"parsed-value":je.parsedValue,"disabled-date":m(b),"cell-class-name":m(w),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ye("v-if",!0),X.value==="year"?(W(),tt(MM,{key:1,ref_key:"currentViewRef",ref:M,"selection-mode":m(ie),date:R.value,"disabled-date":m(b),"parsed-value":je.parsedValue,onPick:De},null,8,["selection-mode","date","disabled-date","parsed-value"])):Ye("v-if",!0),X.value==="month"?(W(),tt(SM,{key:2,ref_key:"currentViewRef",ref:M,"selection-mode":m(ie),date:R.value,"parsed-value":je.parsedValue,"disabled-date":m(b),onPick:Re},null,8,["selection-mode","date","parsed-value","disabled-date"])):Ye("v-if",!0)],34)],2)],2),kn(fe("div",{class:J(m(a).e("footer"))},[kn(ce(m(Ra),{text:"",size:"small",class:J(m(a).e("link-btn")),disabled:m(ct),onClick:se},{default:be(()=>[Pn(Pt(m(d)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[_r,!m(pe)&&je.showNow]]),ce(m(Ra),{plain:"",size:"small",class:J(m(a).e("link-btn")),disabled:m(Pe),onClick:Xe},{default:be(()=>[Pn(Pt(m(d)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[_r,m(ke)]])],2))}});var Gie=Ft($ie,[["__file","panel-date-pick.vue"]]);const Wie=kt({...v4,...HC,visible:Boolean}),g4=e=>{const{emit:t}=Jn(),n=wc(),r=ya();return o=>{const s=on(o.value)?o.value():o.value;if(s){t("pick",[Rn(s[0]).locale(e.value),Rn(s[1]).locale(e.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},y4=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:a,onParsedValueChanged:o})=>{const{emit:s}=Jn(),{pickerNs:u}=qt(kw),d=xt("date-range-picker"),{t:f,lang:h}=xr(),v=g4(h),y=re(),b=re(),w=re({endDate:null,selecting:!1}),g=T=>{w.value=T},x=(T=!1)=>{const P=m(y),I=m(b);lm([P,I])&&s("pick",[P,I],T)},M=T=>{w.value.selecting=T,T||(w.value.endDate=null)},R=T=>{if(Rt(T)&&T.length===2){const[P,I]=T;y.value=P,n.value=P,b.value=I,o(m(y),m(b))}else A()},A=()=>{const[T,P]=GC(m(t),{lang:m(h),unit:a,unlinkPanels:e.unlinkPanels});y.value=void 0,b.value=void 0,n.value=T,r.value=P};return bt(t,T=>{T&&A()},{immediate:!0}),bt(()=>e.parsedValue,R,{immediate:!0}),{minDate:y,maxDate:b,rangeState:w,lang:h,ppNs:u,drpNs:d,handleChangeRange:g,handleRangeConfirm:x,handleShortcutClick:v,onSelect:M,onReset:R,t:f}},Xy="month",jie=we({__name:"panel-date-range",props:Wie,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=qt("EP_PICKER_BASE"),{disabledDate:a,cellClassName:o,defaultTime:s,clearable:u}=r.props,d=Hr(r.props,"format"),f=Hr(r.props,"shortcuts"),h=Hr(r.props,"defaultValue"),{lang:v}=xr(),y=re(Rn().locale(v.value)),b=re(Rn().locale(v.value).add(1,Xy)),{minDate:w,maxDate:g,rangeState:x,ppNs:M,drpNs:R,handleChangeRange:A,handleRangeConfirm:T,handleShortcutClick:P,onSelect:I,onReset:E,t:D}=y4(n,{defaultValue:h,leftDate:y,rightDate:b,unit:Xy,onParsedValueChanged:je});bt(()=>n.visible,xe=>{!xe&&x.value.selecting&&(E(n.parsedValue),I(!1))});const N=re({min:null,max:null}),B=re({min:null,max:null}),G=U(()=>"".concat(y.value.year()," ").concat(D("el.datepicker.year")," ").concat(D("el.datepicker.month".concat(y.value.month()+1)))),$=U(()=>"".concat(b.value.year()," ").concat(D("el.datepicker.year")," ").concat(D("el.datepicker.month".concat(b.value.month()+1)))),Q=U(()=>y.value.year()),ae=U(()=>y.value.month()),ee=U(()=>b.value.year()),K=U(()=>b.value.month()),X=U(()=>!!f.value.length),Z=U(()=>N.value.min!==null?N.value.min:w.value?w.value.format(le.value):""),j=U(()=>N.value.max!==null?N.value.max:g.value||w.value?(g.value||w.value).format(le.value):""),ie=U(()=>B.value.min!==null?B.value.min:w.value?w.value.format(he.value):""),pe=U(()=>B.value.max!==null?B.value.max:g.value||w.value?(g.value||w.value).format(he.value):""),he=U(()=>n.timeFormat||NN(d.value)),le=U(()=>n.dateFormat||DN(d.value)),Re=xe=>lm(xe)&&(a?!a(xe[0].toDate())&&!a(xe[1].toDate()):!0),De=()=>{y.value=y.value.subtract(1,"year"),n.unlinkPanels||(b.value=y.value.add(1,"month")),ye("year")},Te=()=>{y.value=y.value.subtract(1,"month"),n.unlinkPanels||(b.value=y.value.add(1,"month")),ye("month")},ge=()=>{n.unlinkPanels?b.value=b.value.add(1,"year"):(y.value=y.value.add(1,"year"),b.value=y.value.add(1,"month")),ye("year")},ke=()=>{n.unlinkPanels?b.value=b.value.add(1,"month"):(y.value=y.value.add(1,"month"),b.value=y.value.add(1,"month")),ye("month")},Pe=()=>{y.value=y.value.add(1,"year"),ye("year")},Xe=()=>{y.value=y.value.add(1,"month"),ye("month")},ct=()=>{b.value=b.value.subtract(1,"year"),ye("year")},se=()=>{b.value=b.value.subtract(1,"month"),ye("month")},ye=xe=>{t("panel-change",[y.value.toDate(),b.value.toDate()],xe)},He=U(()=>{const xe=(ae.value+1)%12,Ke=ae.value+1>=12?1:0;return n.unlinkPanels&&new Date(Q.value+Ke,xe)<new Date(ee.value,K.value)}),dt=U(()=>n.unlinkPanels&&ee.value*12+K.value-(Q.value*12+ae.value+1)>=12),pt=U(()=>!(w.value&&g.value&&!x.value.selecting&&lm([w.value,g.value]))),nt=U(()=>n.type==="datetime"||n.type==="datetimerange"),ot=(xe,Ke)=>{if(xe)return s?Rn(s[Ke]||s).locale(v.value).year(xe.year()).month(xe.month()).date(xe.date()):xe},rt=(xe,Ke=!0)=>{const Ee=xe.minDate,wt=xe.maxDate,an=ot(Ee,0),Je=ot(wt,1);g.value===Je&&w.value===an||(t("calendar-change",[Ee.toDate(),wt&&wt.toDate()]),g.value=Je,w.value=an,!(!Ke||nt.value)&&T())},At=re(!1),Mt=re(!1),Me=()=>{At.value=!1},ve=()=>{Mt.value=!1},Fe=(xe,Ke)=>{N.value[Ke]=xe;const Ee=Rn(xe,le.value).locale(v.value);if(Ee.isValid()){if(a&&a(Ee.toDate()))return;Ke==="min"?(y.value=Ee,w.value=(w.value||y.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(w.value))&&(b.value=Ee.add(1,"month"),g.value=w.value.add(1,"month"))):(b.value=Ee,g.value=(g.value||b.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),!n.unlinkPanels&&(!w.value||w.value.isAfter(g.value))&&(y.value=Ee.subtract(1,"month"),w.value=g.value.subtract(1,"month")))}},qe=(xe,Ke)=>{N.value[Ke]=null},Et=(xe,Ke)=>{B.value[Ke]=xe;const Ee=Rn(xe,he.value).locale(v.value);Ee.isValid()&&(Ke==="min"?(At.value=!0,w.value=(w.value||y.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second())):(Mt.value=!0,g.value=(g.value||b.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()),b.value=g.value))},$t=(xe,Ke)=>{B.value[Ke]=null,Ke==="min"?(y.value=w.value,At.value=!1,(!g.value||g.value.isBefore(w.value))&&(g.value=w.value)):(b.value=g.value,Mt.value=!1,g.value&&g.value.isBefore(w.value)&&(w.value=g.value))},Yt=(xe,Ke,Ee)=>{B.value.min||(xe&&(y.value=xe,w.value=(w.value||y.value).hour(xe.hour()).minute(xe.minute()).second(xe.second())),Ee||(At.value=Ke),(!g.value||g.value.isBefore(w.value))&&(g.value=w.value,b.value=xe))},We=(xe,Ke,Ee)=>{B.value.max||(xe&&(b.value=xe,g.value=(g.value||b.value).hour(xe.hour()).minute(xe.minute()).second(xe.second())),Ee||(Mt.value=Ke),g.value&&g.value.isBefore(w.value)&&(w.value=g.value))},lt=()=>{y.value=GC(m(h),{lang:m(v),unit:"month",unlinkPanels:n.unlinkPanels})[0],b.value=y.value.add(1,"month"),g.value=void 0,w.value=void 0,t("pick",null)},sn=xe=>Rt(xe)?xe.map(Ke=>Ke.format(d.value)):xe.format(d.value),Tt=xe=>Rt(xe)?xe.map(Ke=>Rn(Ke,d.value).locale(v.value)):Rn(xe,d.value).locale(v.value);function je(xe,Ke){if(n.unlinkPanels&&Ke){const Ee=(xe==null?void 0:xe.year())||0,wt=(xe==null?void 0:xe.month())||0,an=Ke.year(),Je=Ke.month();b.value=Ee===an&&wt===Je?Ke.add(1,Xy):Ke}else b.value=y.value.add(1,Xy),Ke&&(b.value=b.value.hour(Ke.hour()).minute(Ke.minute()).second(Ke.second()))}return t("set-picker-option",["isValidValue",Re]),t("set-picker-option",["parseUserInput",Tt]),t("set-picker-option",["formatToString",sn]),t("set-picker-option",["handleClear",lt]),(xe,Ke)=>(W(),ue("div",{class:J([m(M).b(),m(R).b(),{"has-sidebar":xe.$slots.sidebar||m(X),"has-time":m(nt)}])},[fe("div",{class:J(m(M).e("body-wrapper"))},[Ue(xe.$slots,"sidebar",{class:J(m(M).e("sidebar"))}),m(X)?(W(),ue("div",{key:0,class:J(m(M).e("sidebar"))},[(W(!0),ue(rn,null,ar(m(f),(Ee,wt)=>(W(),ue("button",{key:wt,type:"button",class:J(m(M).e("shortcut")),onClick:an=>m(P)(Ee)},Pt(Ee.text),11,["onClick"]))),128))],2)):Ye("v-if",!0),fe("div",{class:J(m(M).e("body"))},[m(nt)?(W(),ue("div",{key:0,class:J(m(R).e("time-header"))},[fe("span",{class:J(m(R).e("editors-wrap"))},[fe("span",{class:J(m(R).e("time-picker-wrap"))},[ce(m(Mo),{size:"small",disabled:m(x).selecting,placeholder:m(D)("el.datepicker.startDate"),class:J(m(R).e("editor")),"model-value":m(Z),"validate-event":!1,onInput:Ee=>Fe(Ee,"min"),onChange:Ee=>qe(Ee,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),kn((W(),ue("span",{class:J(m(R).e("time-picker-wrap"))},[ce(m(Mo),{size:"small",class:J(m(R).e("editor")),disabled:m(x).selecting,placeholder:m(D)("el.datepicker.startTime"),"model-value":m(ie),"validate-event":!1,onFocus:Ee=>At.value=!0,onInput:Ee=>Et(Ee,"min"),onChange:Ee=>$t(Ee,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),ce(m(P_),{visible:At.value,format:m(he),"datetime-role":"start","parsed-value":y.value,onPick:Yt},null,8,["visible","format","parsed-value"])],2)),[[m(yc),Me]])],2),fe("span",null,[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})]),fe("span",{class:J([m(R).e("editors-wrap"),"is-right"])},[fe("span",{class:J(m(R).e("time-picker-wrap"))},[ce(m(Mo),{size:"small",class:J(m(R).e("editor")),disabled:m(x).selecting,placeholder:m(D)("el.datepicker.endDate"),"model-value":m(j),readonly:!m(w),"validate-event":!1,onInput:Ee=>Fe(Ee,"max"),onChange:Ee=>qe(Ee,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),kn((W(),ue("span",{class:J(m(R).e("time-picker-wrap"))},[ce(m(Mo),{size:"small",class:J(m(R).e("editor")),disabled:m(x).selecting,placeholder:m(D)("el.datepicker.endTime"),"model-value":m(pe),readonly:!m(w),"validate-event":!1,onFocus:Ee=>m(w)&&(Mt.value=!0),onInput:Ee=>Et(Ee,"max"),onChange:Ee=>$t(Ee,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),ce(m(P_),{"datetime-role":"end",visible:Mt.value,format:m(he),"parsed-value":b.value,onPick:We},null,8,["visible","format","parsed-value"])],2)),[[m(yc),ve]])],2)],2)):Ye("v-if",!0),fe("div",{class:J([[m(M).e("content"),m(R).e("content")],"is-left"])},[fe("div",{class:J(m(R).e("header"))},[fe("button",{type:"button",class:J([m(M).e("icon-btn"),"d-arrow-left"]),"aria-label":m(D)("el.datepicker.prevYear"),onClick:De},[Ue(xe.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["aria-label"]),fe("button",{type:"button",class:J([m(M).e("icon-btn"),"arrow-left"]),"aria-label":m(D)("el.datepicker.prevMonth"),onClick:Te},[Ue(xe.$slots,"prev-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1})])],10,["aria-label"]),xe.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(dt),class:J([[m(M).e("icon-btn"),{"is-disabled":!m(dt)}],"d-arrow-right"]),"aria-label":m(D)("el.datepicker.nextYear"),onClick:Pe},[Ue(xe.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["disabled","aria-label"])):Ye("v-if",!0),xe.unlinkPanels?(W(),ue("button",{key:1,type:"button",disabled:!m(He),class:J([[m(M).e("icon-btn"),{"is-disabled":!m(He)}],"arrow-right"]),"aria-label":m(D)("el.datepicker.nextMonth"),onClick:Xe},[Ue(xe.$slots,"next-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})])],10,["disabled","aria-label"])):Ye("v-if",!0),fe("div",null,Pt(m(G)),1)],2),ce(xM,{"selection-mode":"range",date:y.value,"min-date":m(w),"max-date":m(g),"range-state":m(x),"disabled-date":m(a),"cell-class-name":m(o),onChangerange:m(A),onPick:rt,onSelect:m(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),fe("div",{class:J([[m(M).e("content"),m(R).e("content")],"is-right"])},[fe("div",{class:J(m(R).e("header"))},[xe.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(dt),class:J([[m(M).e("icon-btn"),{"is-disabled":!m(dt)}],"d-arrow-left"]),"aria-label":m(D)("el.datepicker.prevYear"),onClick:ct},[Ue(xe.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["disabled","aria-label"])):Ye("v-if",!0),xe.unlinkPanels?(W(),ue("button",{key:1,type:"button",disabled:!m(He),class:J([[m(M).e("icon-btn"),{"is-disabled":!m(He)}],"arrow-left"]),"aria-label":m(D)("el.datepicker.prevMonth"),onClick:se},[Ue(xe.$slots,"prev-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1})])],10,["disabled","aria-label"])):Ye("v-if",!0),fe("button",{type:"button","aria-label":m(D)("el.datepicker.nextYear"),class:J([m(M).e("icon-btn"),"d-arrow-right"]),onClick:ge},[Ue(xe.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["aria-label"]),fe("button",{type:"button",class:J([m(M).e("icon-btn"),"arrow-right"]),"aria-label":m(D)("el.datepicker.nextMonth"),onClick:ke},[Ue(xe.$slots,"next-month",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})])],10,["aria-label"]),fe("div",null,Pt(m($)),1)],2),ce(xM,{"selection-mode":"range",date:b.value,"min-date":m(w),"max-date":m(g),"range-state":m(x),"disabled-date":m(a),"cell-class-name":m(o),onChangerange:m(A),onPick:rt,onSelect:m(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),m(nt)?(W(),ue("div",{key:0,class:J(m(M).e("footer"))},[m(u)?(W(),tt(m(Ra),{key:0,text:"",size:"small",class:J(m(M).e("link-btn")),onClick:lt},{default:be(()=>[Pn(Pt(m(D)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ye("v-if",!0),ce(m(Ra),{plain:"",size:"small",class:J(m(M).e("link-btn")),disabled:m(pt),onClick:Ee=>m(T)(!1)},{default:be(()=>[Pn(Pt(m(D)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Ye("v-if",!0)],2))}});var qie=Ft(jie,[["__file","panel-date-range.vue"]]);const Kie=kt({...HC}),Yie=["pick","set-picker-option","calendar-change"],Xie=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=xr(),a=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},o=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},s=()=>{t.value=t.value.add(1,"year")},u=()=>{n.value=n.value.subtract(1,"year")},d=U(()=>"".concat(t.value.year()," ").concat(r("el.datepicker.year"))),f=U(()=>"".concat(n.value.year()," ").concat(r("el.datepicker.year"))),h=U(()=>t.value.year()),v=U(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:a,rightNextYear:o,leftNextYear:s,rightPrevYear:u,leftLabel:d,rightLabel:f,leftYear:h,rightYear:v}},Zy="year",Zie=we({name:"DatePickerMonthRange"}),Jie=we({...Zie,props:Kie,emits:Yie,setup(e,{emit:t}){const n=e,{lang:r}=xr(),a=qt("EP_PICKER_BASE"),{shortcuts:o,disabledDate:s}=a.props,u=Hr(a.props,"format"),d=Hr(a.props,"defaultValue"),f=re(Rn().locale(r.value)),h=re(Rn().locale(r.value).add(1,Zy)),{minDate:v,maxDate:y,rangeState:b,ppNs:w,drpNs:g,handleChangeRange:x,handleRangeConfirm:M,handleShortcutClick:R,onSelect:A}=y4(n,{defaultValue:d,leftDate:f,rightDate:h,unit:Zy,onParsedValueChanged:Z}),T=U(()=>!!o.length),{leftPrevYear:P,rightNextYear:I,leftNextYear:E,rightPrevYear:D,leftLabel:N,rightLabel:B,leftYear:G,rightYear:$}=Xie({unlinkPanels:Hr(n,"unlinkPanels"),leftDate:f,rightDate:h}),Q=U(()=>n.unlinkPanels&&$.value>G.value+1),ae=(j,ie=!0)=>{const pe=j.minDate,he=j.maxDate;y.value===he&&v.value===pe||(t("calendar-change",[pe.toDate(),he&&he.toDate()]),y.value=he,v.value=pe,ie&&M())},ee=()=>{f.value=GC(m(d),{lang:m(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],h.value=f.value.add(1,"year"),t("pick",null)},K=j=>Rt(j)?j.map(ie=>ie.format(u.value)):j.format(u.value),X=j=>Rt(j)?j.map(ie=>Rn(ie,u.value).locale(r.value)):Rn(j,u.value).locale(r.value);function Z(j,ie){if(n.unlinkPanels&&ie){const pe=(j==null?void 0:j.year())||0,he=ie.year();h.value=pe===he?ie.add(1,Zy):ie}else h.value=f.value.add(1,Zy)}return t("set-picker-option",["isValidValue",lm]),t("set-picker-option",["formatToString",K]),t("set-picker-option",["parseUserInput",X]),t("set-picker-option",["handleClear",ee]),(j,ie)=>(W(),ue("div",{class:J([m(w).b(),m(g).b(),{"has-sidebar":!!j.$slots.sidebar||m(T)}])},[fe("div",{class:J(m(w).e("body-wrapper"))},[Ue(j.$slots,"sidebar",{class:J(m(w).e("sidebar"))}),m(T)?(W(),ue("div",{key:0,class:J(m(w).e("sidebar"))},[(W(!0),ue(rn,null,ar(m(o),(pe,he)=>(W(),ue("button",{key:he,type:"button",class:J(m(w).e("shortcut")),onClick:le=>m(R)(pe)},Pt(pe.text),11,["onClick"]))),128))],2)):Ye("v-if",!0),fe("div",{class:J(m(w).e("body"))},[fe("div",{class:J([[m(w).e("content"),m(g).e("content")],"is-left"])},[fe("div",{class:J(m(g).e("header"))},[fe("button",{type:"button",class:J([m(w).e("icon-btn"),"d-arrow-left"]),onClick:m(P)},[Ue(j.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["onClick"]),j.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(Q),class:J([[m(w).e("icon-btn"),{[m(w).is("disabled")]:!m(Q)}],"d-arrow-right"]),onClick:m(E)},[Ue(j.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["disabled","onClick"])):Ye("v-if",!0),fe("div",null,Pt(m(N)),1)],2),ce(SM,{"selection-mode":"range",date:f.value,"min-date":m(v),"max-date":m(y),"range-state":m(b),"disabled-date":m(s),onChangerange:m(x),onPick:ae,onSelect:m(A)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),fe("div",{class:J([[m(w).e("content"),m(g).e("content")],"is-right"])},[fe("div",{class:J(m(g).e("header"))},[j.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(Q),class:J([[m(w).e("icon-btn"),{"is-disabled":!m(Q)}],"d-arrow-left"]),onClick:m(D)},[Ue(j.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["disabled","onClick"])):Ye("v-if",!0),fe("button",{type:"button",class:J([m(w).e("icon-btn"),"d-arrow-right"]),onClick:m(I)},[Ue(j.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["onClick"]),fe("div",null,Pt(m(B)),1)],2),ce(SM,{"selection-mode":"range",date:h.value,"min-date":m(v),"max-date":m(y),"range-state":m(b),"disabled-date":m(s),onChangerange:m(x),onPick:ae,onSelect:m(A)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Qie=Ft(Jie,[["__file","panel-month-range.vue"]]);const eae=kt({...HC}),tae=["pick","set-picker-option","calendar-change"],nae=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},a=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{t.value=t.value.add(10,"year")},s=()=>{n.value=n.value.subtract(10,"year")},u=U(()=>{const v=Math.floor(t.value.year()/10)*10;return"".concat(v,"-").concat(v+9)}),d=U(()=>{const v=Math.floor(n.value.year()/10)*10;return"".concat(v,"-").concat(v+9)}),f=U(()=>Math.floor(t.value.year()/10)*10+9),h=U(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:a,leftNextYear:o,rightPrevYear:s,leftLabel:u,rightLabel:d,leftYear:f,rightYear:h}},QL="year",rae=we({name:"DatePickerYearRange"}),iae=we({...rae,props:eae,emits:tae,setup(e,{emit:t}){const n=e,{lang:r}=xr(),a=re(Rn().locale(r.value)),o=re(a.value.add(10,"year")),{pickerNs:s}=qt(kw),u=xt("date-range-picker"),d=U(()=>!!ae.length),f=U(()=>[s.b(),u.b(),{"has-sidebar":!!ya().sidebar||d.value}]),h=U(()=>({content:[s.e("content"),u.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!P.value},"d-arrow-right"]})),v=U(()=>({content:[s.e("content"),u.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!P.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),y=g4(r),{leftPrevYear:b,rightNextYear:w,leftNextYear:g,rightPrevYear:x,leftLabel:M,rightLabel:R,leftYear:A,rightYear:T}=nae({unlinkPanels:Hr(n,"unlinkPanels"),leftDate:a,rightDate:o}),P=U(()=>n.unlinkPanels&&T.value>A.value+1),I=re(),E=re(),D=re({endDate:null,selecting:!1}),N=le=>{D.value=le},B=(le,Re=!0)=>{const De=le.minDate,Te=le.maxDate;E.value===Te&&I.value===De||(t("calendar-change",[De.toDate(),Te&&Te.toDate()]),E.value=Te,I.value=De,Re&&G())},G=(le=!1)=>{lm([I.value,E.value])&&t("pick",[I.value,E.value],le)},$=le=>{D.value.selecting=le,le||(D.value.endDate=null)},Q=qt("EP_PICKER_BASE"),{shortcuts:ae,disabledDate:ee}=Q.props,K=Hr(Q.props,"format"),X=Hr(Q.props,"defaultValue"),Z=()=>{let le;if(Rt(X.value)){const Re=Rn(X.value[0]);let De=Rn(X.value[1]);return n.unlinkPanels||(De=Re.add(10,QL)),[Re,De]}else X.value?le=Rn(X.value):le=Rn();return le=le.locale(r.value),[le,le.add(10,QL)]};bt(()=>X.value,le=>{if(le){const Re=Z();a.value=Re[0],o.value=Re[1]}},{immediate:!0}),bt(()=>n.parsedValue,le=>{if(le&&le.length===2)if(I.value=le[0],E.value=le[1],a.value=I.value,n.unlinkPanels&&E.value){const Re=I.value.year(),De=E.value.year();o.value=Re===De?E.value.add(10,"year"):E.value}else o.value=a.value.add(10,"year");else{const Re=Z();I.value=void 0,E.value=void 0,a.value=Re[0],o.value=Re[1]}},{immediate:!0});const j=le=>Rt(le)?le.map(Re=>Rn(Re,K.value).locale(r.value)):Rn(le,K.value).locale(r.value),ie=le=>Rt(le)?le.map(Re=>Re.format(K.value)):le.format(K.value),pe=le=>lm(le)&&(ee?!ee(le[0].toDate())&&!ee(le[1].toDate()):!0),he=()=>{const le=Z();a.value=le[0],o.value=le[1],E.value=void 0,I.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",pe]),t("set-picker-option",["parseUserInput",j]),t("set-picker-option",["formatToString",ie]),t("set-picker-option",["handleClear",he]),(le,Re)=>(W(),ue("div",{class:J(m(f))},[fe("div",{class:J(m(s).e("body-wrapper"))},[Ue(le.$slots,"sidebar",{class:J(m(s).e("sidebar"))}),m(d)?(W(),ue("div",{key:0,class:J(m(s).e("sidebar"))},[(W(!0),ue(rn,null,ar(m(ae),(De,Te)=>(W(),ue("button",{key:Te,type:"button",class:J(m(s).e("shortcut")),onClick:ge=>m(y)(De)},Pt(De.text),11,["onClick"]))),128))],2)):Ye("v-if",!0),fe("div",{class:J(m(s).e("body"))},[fe("div",{class:J(m(h).content)},[fe("div",{class:J(m(u).e("header"))},[fe("button",{type:"button",class:J(m(h).arrowLeftBtn),onClick:m(b)},[Ue(le.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["onClick"]),le.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(P),class:J(m(h).arrowRightBtn),onClick:m(g)},[Ue(le.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["disabled","onClick"])):Ye("v-if",!0),fe("div",null,Pt(m(M)),1)],2),ce(MM,{"selection-mode":"range",date:a.value,"min-date":I.value,"max-date":E.value,"range-state":D.value,"disabled-date":m(ee),onChangerange:N,onPick:B,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),fe("div",{class:J(m(v).content)},[fe("div",{class:J(m(u).e("header"))},[le.unlinkPanels?(W(),ue("button",{key:0,type:"button",disabled:!m(P),class:J(m(v).arrowLeftBtn),onClick:m(x)},[Ue(le.$slots,"prev-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(md))]),_:1})])],10,["disabled","onClick"])):Ye("v-if",!0),fe("button",{type:"button",class:J(m(v).arrowRightBtn),onClick:m(w)},[Ue(le.$slots,"next-year",{},()=>[ce(m(tn),null,{default:be(()=>[ce(m(vd))]),_:1})])],10,["onClick"]),fe("div",null,Pt(m(R)),1)],2),ce(MM,{"selection-mode":"range",date:o.value,"min-date":I.value,"max-date":E.value,"range-state":D.value,"disabled-date":m(ee),onChangerange:N,onPick:B,onSelect:$},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var aae=Ft(iae,[["__file","panel-year-range.vue"]]);const oae=function(e){switch(e){case"daterange":case"datetimerange":return qie;case"monthrange":return Qie;case"yearrange":return aae;default:return Gie}};Rn.extend(FN);Rn.extend(Gre);Rn.extend(zC);Rn.extend(Kre);Rn.extend(Jre);Rn.extend(nie);Rn.extend(oie);Rn.extend(cie);var sae=we({name:"ElDatePicker",install:null,props:Lie,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const a=xt("picker-panel");or("ElPopperOptions",Ir(Hr(e,"popperOptions"))),or(kw,{slots:r,pickerNs:a});const o=re();t({focus:()=>{var d;(d=o.value)==null||d.focus()},blur:()=>{var d;(d=o.value)==null||d.blur()},handleOpen:()=>{var d;(d=o.value)==null||d.handleOpen()},handleClose:()=>{var d;(d=o.value)==null||d.handleClose()}});const u=d=>{n("update:modelValue",d)};return()=>{var d;const f=(d=e.format)!=null?d:die[e.type]||Ep,h=oae(e.type);return ce(d4,nr(e,{format:f,type:e.type,ref:o,"onUpdate:modelValue":u}),{default:v=>ce(h,v,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const lae=On(sae),jC=Symbol("elDescriptions");var tg=we({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:qt(jC,{})}},render(){var e;const t=ate(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(M=>{const{dir:R,arg:A,modifiers:T,value:P}=M;return[R,P,A,T]}),{border:r,direction:a}=this.descriptions,o=a==="vertical",s=()=>{var M,R,A;return((A=(R=(M=this.cell)==null?void 0:M.children)==null?void 0:R.label)==null?void 0:A.call(R))||t.label},u=()=>{var M,R,A;return(A=(R=(M=this.cell)==null?void 0:M.children)==null?void 0:R.default)==null?void 0:A.call(R)},d=t.span,f=t.rowspan,h=t.align?"is-".concat(t.align):"",v=t.labelAlign?"is-".concat(t.labelAlign):h,y=t.className,b=t.labelClassName,w=this.type==="label"&&(t.labelWidth||this.descriptions.labelWidth)||t.width,g={width:Bi(w),minWidth:Bi(t.minWidth)},x=xt("descriptions");switch(this.type){case"label":return kn(mn(this.tag,{style:g,class:[x.e("cell"),x.e("label"),x.is("bordered-label",r),x.is("vertical-label",o),v,b],colSpan:o?d:1,rowspan:o?1:f},s()),n);case"content":return kn(mn(this.tag,{style:g,class:[x.e("cell"),x.e("content"),x.is("bordered-content",r),x.is("vertical-content",o),h,y],colSpan:o?d:d*2-1,rowspan:o?f*2-1:f},u()),n);default:{const M=s(),R={},A=Bi(t.labelWidth||this.descriptions.labelWidth);return A&&(R.width=A,R.display="inline-block"),kn(mn("td",{style:g,class:[x.e("cell"),h],colSpan:d,rowspan:f},[Sa(M)?void 0:mn("span",{style:R,class:[x.e("label"),b]},M),mn("span",{class:[x.e("content"),y]},u())]),n)}}}});const uae=kt({row:{type:ze(Array),default:()=>[]}}),cae=we({name:"ElDescriptionsRow"}),dae=we({...cae,props:uae,setup(e){const t=qt(jC,{});return(n,r)=>m(t).direction==="vertical"?(W(),ue(rn,{key:0},[fe("tr",null,[(W(!0),ue(rn,null,ar(n.row,(a,o)=>(W(),tt(m(tg),{key:"tr1-".concat(o),cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),fe("tr",null,[(W(!0),ue(rn,null,ar(n.row,(a,o)=>(W(),tt(m(tg),{key:"tr2-".concat(o),cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(W(),ue("tr",{key:1},[(W(!0),ue(rn,null,ar(n.row,(a,o)=>(W(),ue(rn,{key:"tr3-".concat(o)},[m(t).border?(W(),ue(rn,{key:0},[ce(m(tg),{cell:a,tag:"td",type:"label"},null,8,["cell"]),ce(m(tg),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(W(),tt(m(tg),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var fae=Ft(dae,[["__file","descriptions-row.vue"]]);const hae=kt({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ca,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),pae=we({name:"ElDescriptions"}),mae=we({...pae,props:hae,setup(e){const t=e,n=xt("descriptions"),r=ta(),a=ya();or(jC,t);const o=U(()=>[n.b(),n.m(r.value)]),s=(d,f,h,v=!1)=>(d.props||(d.props={}),f>h&&(d.props.span=h),v&&(d.props.span=f),d),u=()=>{if(!a.default)return[];const d=dd(a.default()).filter(w=>{var g;return((g=w==null?void 0:w.type)==null?void 0:g.name)==="ElDescriptionsItem"}),f=[];let h=[],v=t.column,y=0;const b=[];return d.forEach((w,g)=>{var x,M,R;const A=((x=w.props)==null?void 0:x.span)||1,T=((M=w.props)==null?void 0:M.rowspan)||1,P=f.length;if(b[P]||(b[P]=0),T>1)for(let I=1;I<T;I++)b[R=P+I]||(b[R]=0),b[P+I]++,y++;if(b[P]>0&&(v-=b[P],b[P]=0),g<d.length-1&&(y+=A>v?v:A),g===d.length-1){const I=t.column-y%t.column;h.push(s(w,I,v,!0)),f.push(h);return}A<v?(v-=A,h.push(w)):(h.push(s(w,A,v)),f.push(h),v=t.column,h=[])}),f};return(d,f)=>(W(),ue("div",{class:J(m(o))},[d.title||d.extra||d.$slots.title||d.$slots.extra?(W(),ue("div",{key:0,class:J(m(n).e("header"))},[fe("div",{class:J(m(n).e("title"))},[Ue(d.$slots,"title",{},()=>[Pn(Pt(d.title),1)])],2),fe("div",{class:J(m(n).e("extra"))},[Ue(d.$slots,"extra",{},()=>[Pn(Pt(d.extra),1)])],2)],2)):Ye("v-if",!0),fe("div",{class:J(m(n).e("body"))},[fe("table",{class:J([m(n).e("table"),m(n).is("bordered",d.border)])},[fe("tbody",null,[(W(!0),ue(rn,null,ar(u(),(h,v)=>(W(),tt(fae,{key:v,row:h},null,8,["row"]))),128))])],2)],2)],2))}});var vae=Ft(mae,[["__file","description.vue"]]);const gae=kt({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),b4=we({name:"ElDescriptionsItem",props:gae}),yae=On(vae,{DescriptionsItem:b4}),bae=Ii(b4),qC=e=>{if(!e)return{onClick:$r,onMousedown:$r,onMouseup:$r};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},_ae=kt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ze([String,Array,Object])},zIndex:{type:ze([String,Number])}}),wae={click:e=>e instanceof MouseEvent},xae="overlay";var Sae=we({name:"ElOverlay",props:_ae,emits:wae,setup(e,{slots:t,emit:n}){const r=xt(xae),a=d=>{n("click",d)},{onClick:o,onMousedown:s,onMouseup:u}=qC(e.customMaskEvent?void 0:a);return()=>e.mask?ce("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:s,onMouseup:u},[Ue(t,"default")],Zs.STYLE|Zs.CLASS|Zs.PROPS,["onClick","onMouseup","onMousedown"]):mn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ue(t,"default")])}});const KC=Sae,_4=Symbol("dialogInjectionKey"),w4=kt({center:Boolean,alignCenter:Boolean,closeIcon:{type:ei},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Mae={close:()=>!0},x4=(e,t,n,r)=>{let a={offsetX:0,offsetY:0};const o=f=>{const h=f.clientX,v=f.clientY,{offsetX:y,offsetY:b}=a,w=e.value.getBoundingClientRect(),g=w.left,x=w.top,M=w.width,R=w.height,A=document.documentElement.clientWidth,T=document.documentElement.clientHeight,P=-g+y,I=-x+b,E=A-g-M+y,D=T-x-R+b,N=G=>{let $=y+G.clientX-h,Q=b+G.clientY-v;r!=null&&r.value||($=Math.min(Math.max($,P),E),Q=Math.min(Math.max(Q,I),D)),a={offsetX:$,offsetY:Q},e.value&&(e.value.style.transform="translate(".concat(Bi($),", ").concat(Bi(Q),")"))},B=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",B)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",B)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)},d=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Bn(()=>{to(()=>{n.value?s():u()})}),Yr(()=>{u()}),{resetPosition:d}},Iw=(...e)=>t=>{e.forEach(n=>{on(n)?n(t):n.value=t})},Eae=we({name:"ElDialogContent"}),Cae=we({...Eae,props:w4,emits:Mae,setup(e,{expose:t}){const n=e,{t:r}=xr(),{Close:a}=yC,{dialogRef:o,headerRef:s,bodyId:u,ns:d,style:f}=qt(_4),{focusTrapRef:h}=qt(MC),v=U(()=>[d.b(),d.is("fullscreen",n.fullscreen),d.is("draggable",n.draggable),d.is("align-center",n.alignCenter),{[d.m("center")]:n.center}]),y=Iw(h,o),b=U(()=>n.draggable),w=U(()=>n.overflow),{resetPosition:g}=x4(o,s,b,w);return t({resetPosition:g}),(x,M)=>(W(),ue("div",{ref:m(y),class:J(m(v)),style:un(m(f)),tabindex:"-1"},[fe("header",{ref_key:"headerRef",ref:s,class:J([m(d).e("header"),x.headerClass,{"show-close":x.showClose}])},[Ue(x.$slots,"header",{},()=>[fe("span",{role:"heading","aria-level":x.ariaLevel,class:J(m(d).e("title"))},Pt(x.title),11,["aria-level"])]),x.showClose?(W(),ue("button",{key:0,"aria-label":m(r)("el.dialog.close"),class:J(m(d).e("headerbtn")),type:"button",onClick:R=>x.$emit("close")},[ce(m(tn),{class:J(m(d).e("close"))},{default:be(()=>[(W(),tt(tr(x.closeIcon||m(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ye("v-if",!0)],2),fe("div",{id:m(u),class:J([m(d).e("body"),x.bodyClass])},[Ue(x.$slots,"default")],10,["id"]),x.$slots.footer?(W(),ue("footer",{key:0,class:J([m(d).e("footer"),x.footerClass])},[Ue(x.$slots,"footer")],2)):Ye("v-if",!0)],6))}});var Tae=Ft(Cae,[["__file","dialog-content.vue"]]);const S4=kt({...w4,appendToBody:Boolean,appendTo:{type:ze([String,Object]),default:"body"},beforeClose:{type:ze(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),M4={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Vn]:e=>ri(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},YC=(e,t={})=>{vi(e)||va("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||xt("popup"),r=U(()=>n.bm("parent","hidden"));if(!wr||cs(document.body,r.value))return;let a=0,o=!1,s="0";const u=()=>{setTimeout(()=>{typeof document>"u"||o&&document&&(document.body.style.width=s,Co(document.body,r.value))},200)};bt(e,d=>{if(!d){u();return}o=!cs(document.body,r.value),o&&(s=document.body.style.width,el(document.body,r.value)),a=XD(n.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,h=cc(document.body,"overflowY");a>0&&(f||h==="scroll")&&o&&(document.body.style.width="calc(100% - ".concat(a,"px)"))}),nI(()=>u())},E4=(e,t)=>{var n;const a=Jn().emit,{nextZIndex:o}=Tm();let s="";const u=ja(),d=ja(),f=re(!1),h=re(!1),v=re(!1),y=re((n=e.zIndex)!=null?n:o());let b,w;const g=Mw("namespace",Pg),x=U(()=>{const ee={},K="--".concat(g.value,"-dialog");return e.fullscreen||(e.top&&(ee["".concat(K,"-margin-top")]=e.top),e.width&&(ee["".concat(K,"-width")]=Bi(e.width))),ee}),M=U(()=>e.alignCenter?{display:"flex"}:{});function R(){a("opened")}function A(){a("closed"),a(Vn,!1),e.destroyOnClose&&(v.value=!1)}function T(){a("close")}function P(){w==null||w(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=qf(()=>N(),e.openDelay):N()}function I(){b==null||b(),w==null||w(),e.closeDelay&&e.closeDelay>0?{stop:w}=qf(()=>B(),e.closeDelay):B()}function E(){function ee(K){K||(h.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(ee):I()}function D(){e.closeOnClickModal&&E()}function N(){wr&&(f.value=!0)}function B(){f.value=!1}function G(){a("openAutoFocus")}function $(){a("closeAutoFocus")}function Q(ee){var K;((K=ee.detail)==null?void 0:K.focusReason)==="pointer"&&ee.preventDefault()}e.lockScroll&&YC(f);function ae(){e.closeOnPressEscape&&E()}return bt(()=>e.modelValue,ee=>{ee?(h.value=!1,P(),v.value=!0,y.value=kD(e.zIndex)?o():y.value++,cn(()=>{a("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):f.value&&I()}),bt(()=>e.fullscreen,ee=>{t.value&&(ee?(s=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=s)}),Bn(()=>{e.modelValue&&(f.value=!0,v.value=!0,P())}),{afterEnter:R,afterLeave:A,beforeLeave:T,handleClose:E,onModalClick:D,close:I,doClose:B,onOpenAutoFocus:G,onCloseAutoFocus:$,onCloseRequested:ae,onFocusoutPrevented:Q,titleId:u,bodyId:d,closed:h,style:x,overlayDialogStyle:M,rendered:v,visible:f,zIndex:y}},Aae=we({name:"ElDialog",inheritAttrs:!1}),Lae=we({...Aae,props:S4,emits:M4,setup(e,{expose:t}){const n=e,r=ya();ud({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},U(()=>!!r.title));const a=xt("dialog"),o=re(),s=re(),u=re(),{visible:d,titleId:f,bodyId:h,style:v,overlayDialogStyle:y,rendered:b,zIndex:w,afterEnter:g,afterLeave:x,beforeLeave:M,handleClose:R,onModalClick:A,onOpenAutoFocus:T,onCloseAutoFocus:P,onCloseRequested:I,onFocusoutPrevented:E}=E4(n,o);or(_4,{dialogRef:o,headerRef:s,bodyId:h,ns:a,rendered:b,style:v});const D=qC(A),N=U(()=>n.draggable&&!n.fullscreen);return t({visible:d,dialogContentRef:u,resetPosition:()=>{var G;(G=u.value)==null||G.resetPosition()}}),(G,$)=>(W(),tt(m(Rm),{to:G.appendTo,disabled:G.appendTo!=="body"?!1:!G.appendToBody},{default:be(()=>[ce(Ia,{name:"dialog-fade",onAfterEnter:m(g),onAfterLeave:m(x),onBeforeLeave:m(M),persisted:""},{default:be(()=>[kn(ce(m(KC),{"custom-mask-event":"",mask:G.modal,"overlay-class":G.modalClass,"z-index":m(w)},{default:be(()=>[fe("div",{role:"dialog","aria-modal":"true","aria-label":G.title||void 0,"aria-labelledby":G.title?void 0:m(f),"aria-describedby":m(h),class:J("".concat(m(a).namespace.value,"-overlay-dialog")),style:un(m(y)),onClick:m(D).onClick,onMousedown:m(D).onMousedown,onMouseup:m(D).onMouseup},[ce(m(Lm),{loop:"",trapped:m(d),"focus-start-el":"container",onFocusAfterTrapped:m(T),onFocusAfterReleased:m(P),onFocusoutPrevented:m(E),onReleaseRequested:m(I)},{default:be(()=>[m(b)?(W(),tt(Tae,nr({key:0,ref_key:"dialogContentRef",ref:u},G.$attrs,{center:G.center,"align-center":G.alignCenter,"close-icon":G.closeIcon,draggable:m(N),overflow:G.overflow,fullscreen:G.fullscreen,"header-class":G.headerClass,"body-class":G.bodyClass,"footer-class":G.footerClass,"show-close":G.showClose,title:G.title,"aria-level":G.headerAriaLevel,onClose:m(R)}),Fs({header:be(()=>[G.$slots.title?Ue(G.$slots,"title",{key:1}):Ue(G.$slots,"header",{key:0,close:m(R),titleId:m(f),titleClass:m(a).e("title")})]),default:be(()=>[Ue(G.$slots,"default")]),_:2},[G.$slots.footer?{name:"footer",fn:be(()=>[Ue(G.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Ye("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[_r,m(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Rae=Ft(Lae,[["__file","dialog.vue"]]);const Pae=On(Rae),kae=kt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ze(String),default:"solid"}}),Iae=we({name:"ElDivider"}),Oae=we({...Iae,props:kae,setup(e){const t=e,n=xt("divider"),r=U(()=>n.cssVar({"border-style":t.borderStyle}));return(a,o)=>(W(),ue("div",{class:J([m(n).b(),m(n).m(a.direction)]),style:un(m(r)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(W(),ue("div",{key:0,class:J([m(n).e("text"),m(n).is(a.contentPosition)])},[Ue(a.$slots,"default")],2)):Ye("v-if",!0)],6))}});var Dae=Ft(Oae,[["__file","divider.vue"]]);const C4=On(Dae),Nae=kt({...S4,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Fae=M4,Bae=we({name:"ElDrawer",inheritAttrs:!1}),zae=we({...Bae,props:Nae,emits:Fae,setup(e,{expose:t}){const n=e,r=ya();ud({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},U(()=>!!r.title));const a=re(),o=re(),s=xt("drawer"),{t:u}=xr(),{afterEnter:d,afterLeave:f,beforeLeave:h,visible:v,rendered:y,titleId:b,bodyId:w,zIndex:g,onModalClick:x,onOpenAutoFocus:M,onCloseAutoFocus:R,onFocusoutPrevented:A,onCloseRequested:T,handleClose:P}=E4(n,a),I=U(()=>n.direction==="rtl"||n.direction==="ltr"),E=U(()=>Bi(n.size));return t({handleClose:P,afterEnter:d,afterLeave:f}),(D,N)=>(W(),tt(m(Rm),{to:D.appendTo,disabled:D.appendTo!=="body"?!1:!D.appendToBody},{default:be(()=>[ce(Ia,{name:m(s).b("fade"),onAfterEnter:m(d),onAfterLeave:m(f),onBeforeLeave:m(h),persisted:""},{default:be(()=>[kn(ce(m(KC),{mask:D.modal,"overlay-class":D.modalClass,"z-index":m(g),onClick:m(x)},{default:be(()=>[ce(m(Lm),{loop:"",trapped:m(v),"focus-trap-el":a.value,"focus-start-el":o.value,onFocusAfterTrapped:m(M),onFocusAfterReleased:m(R),onFocusoutPrevented:m(A),onReleaseRequested:m(T)},{default:be(()=>[fe("div",nr({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:m(b),"aria-describedby":m(w)},D.$attrs,{class:[m(s).b(),D.direction,m(v)&&"open"],style:m(I)?"width: "+m(E):"height: "+m(E),role:"dialog",onClick:Sn(()=>{},["stop"])}),[fe("span",{ref_key:"focusStartRef",ref:o,class:J(m(s).e("sr-focus")),tabindex:"-1"},null,2),D.withHeader?(W(),ue("header",{key:0,class:J([m(s).e("header"),D.headerClass])},[D.$slots.title?Ue(D.$slots,"title",{key:1},()=>[Ye(" DEPRECATED SLOT ")]):Ue(D.$slots,"header",{key:0,close:m(P),titleId:m(b),titleClass:m(s).e("title")},()=>[D.$slots.title?Ye("v-if",!0):(W(),ue("span",{key:0,id:m(b),role:"heading","aria-level":D.headerAriaLevel,class:J(m(s).e("title"))},Pt(D.title),11,["id","aria-level"]))]),D.showClose?(W(),ue("button",{key:2,"aria-label":m(u)("el.drawer.close"),class:J(m(s).e("close-btn")),type:"button",onClick:m(P)},[ce(m(tn),{class:J(m(s).e("close"))},{default:be(()=>[ce(m(Bl))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ye("v-if",!0)],2)):Ye("v-if",!0),m(y)?(W(),ue("div",{key:1,id:m(w),class:J([m(s).e("body"),D.bodyClass])},[Ue(D.$slots,"default")],10,["id"])):Ye("v-if",!0),D.$slots.footer?(W(),ue("div",{key:2,class:J([m(s).e("footer"),D.footerClass])},[Ue(D.$slots,"footer")],2)):Ye("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[_r,m(v)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Vae=Ft(zae,[["__file","drawer.vue"]]);const Uae=On(Vae),Hae=we({inheritAttrs:!1});function $ae(e,t,n,r,a,o){return Ue(e.$slots,"default")}var Gae=Ft(Hae,[["render",$ae],["__file","collection.vue"]]);const Wae=we({name:"ElCollectionItem",inheritAttrs:!1});function jae(e,t,n,r,a,o){return Ue(e.$slots,"default")}var qae=Ft(Wae,[["render",jae],["__file","collection-item.vue"]]);const T4="data-el-collection-item",A4=e=>{const t="El".concat(e,"Collection"),n="".concat(t,"Item"),r=Symbol(t),a=Symbol(n),o={...Gae,name:t,setup(){const u=re(null),d=new Map;or(r,{itemMap:d,getItems:()=>{const h=m(u);if(!h)return[];const v=Array.from(h.querySelectorAll("[".concat(T4,"]")));return[...d.values()].sort((b,w)=>v.indexOf(b.ref)-v.indexOf(w.ref))},collectionRef:u})}},s={...qae,name:n,setup(u,{attrs:d}){const f=re(null),h=qt(r,void 0);or(a,{collectionItemRef:f}),Bn(()=>{const v=m(f);v&&h.itemMap.set(v,{ref:v,...d})}),Yr(()=>{const v=m(f);h.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:o,ElCollectionItem:s}},Kae=kt({style:{type:ze([String,Array,Object])},currentTabId:{type:ze(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ze(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Yae,ElCollectionItem:Xae,COLLECTION_INJECTION_KEY:XC,COLLECTION_ITEM_INJECTION_KEY:Zae}=A4("RovingFocusGroup"),ZC=Symbol("elRovingFocusGroup"),L4=Symbol("elRovingFocusGroupItem"),Jae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Qae=(e,t)=>e,eoe=(e,t,n)=>{const r=Qae(e.code);return Jae[r]},toe=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),JC=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},eR="currentTabIdChange",tR="rovingFocusGroup.entryFocus",noe={bubbles:!1,cancelable:!0},roe=we({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Kae,emits:[eR,"entryFocus"],setup(e,{emit:t}){var n;const r=re((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),a=re(!1),o=re(!1),s=re(null),{getItems:u}=qt(XC,void 0),d=U(()=>[{outline:"none"},e.style]),f=g=>{t(eR,g)},h=()=>{a.value=!0},v=$i(g=>{var x;(x=e.onMousedown)==null||x.call(e,g)},()=>{o.value=!0}),y=$i(g=>{var x;(x=e.onFocus)==null||x.call(e,g)},g=>{const x=!m(o),{target:M,currentTarget:R}=g;if(M===R&&x&&!m(a)){const A=new Event(tR,noe);if(R==null||R.dispatchEvent(A),!A.defaultPrevented){const T=u().filter(N=>N.focusable),P=T.find(N=>N.active),I=T.find(N=>N.id===m(r)),D=[P,I,...T].filter(Boolean).map(N=>N.ref);JC(D)}}o.value=!1}),b=$i(g=>{var x;(x=e.onBlur)==null||x.call(e,g)},()=>{a.value=!1}),w=(...g)=>{t("entryFocus",...g)};or(ZC,{currentTabbedId:wm(r),loop:Hr(e,"loop"),tabIndex:U(()=>m(a)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:d,orientation:Hr(e,"orientation"),dir:Hr(e,"dir"),onItemFocus:f,onItemShiftTab:h,onBlur:b,onFocus:y,onMousedown:v}),bt(()=>e.currentTabId,g=>{r.value=g!=null?g:null}),Kr(s,tR,w)}});function ioe(e,t,n,r,a,o){return Ue(e.$slots,"default")}var aoe=Ft(roe,[["render",ioe],["__file","roving-focus-group-impl.vue"]]);const ooe=we({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Yae,ElRovingFocusGroupImpl:aoe}});function soe(e,t,n,r,a,o){const s=Zt("el-roving-focus-group-impl"),u=Zt("el-focus-group-collection");return W(),tt(u,null,{default:be(()=>[ce(s,Ls(Lu(e.$attrs)),{default:be(()=>[Ue(e.$slots,"default")]),_:3},16)]),_:3})}var loe=Ft(ooe,[["render",soe],["__file","roving-focus-group.vue"]]);const Yb=kt({trigger:i0.trigger,triggerKeys:{type:ze(Array),default:()=>[jt.enter,jt.numpadEnter,jt.space,jt.down]},effect:{...Aa.effect,default:"light"},type:{type:ze(String)},placement:{type:ze(String),default:"bottom"},popperOptions:{type:ze(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ze([Number,String]),default:0},maxHeight:{type:ze([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:ze(Object)},teleported:Aa.teleported}),R4=kt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ei}}),uoe=kt({onKeydown:{type:ze(Function)}}),coe=[jt.down,jt.pageDown,jt.home],P4=[jt.up,jt.pageUp,jt.end],doe=[...coe,...P4],{ElCollection:foe,ElCollectionItem:hoe,COLLECTION_INJECTION_KEY:poe,COLLECTION_ITEM_INJECTION_KEY:moe}=A4("Dropdown"),Ow=Symbol("elDropdown"),{ButtonGroup:voe}=Ra,goe=we({name:"ElDropdown",components:{ElButton:Ra,ElButtonGroup:voe,ElScrollbar:Nu,ElDropdownCollection:foe,ElTooltip:ao,ElRovingFocusGroup:loe,ElOnlyChild:lN,ElIcon:tn,ArrowDown:xc},props:Yb,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Jn(),r=xt("dropdown"),{t:a}=xr(),o=re(),s=re(),u=re(null),d=re(null),f=re(null),h=re(null),v=re(!1),y=U(()=>({maxHeight:Bi(e.maxHeight)})),b=U(()=>[r.m(T.value)]),w=U(()=>wo(e.trigger)),g=ja().value,x=U(()=>e.id||g);bt([o,w],([K,X],[Z])=>{var j,ie,pe;(j=Z==null?void 0:Z.$el)!=null&&j.removeEventListener&&Z.$el.removeEventListener("pointerenter",I),(ie=K==null?void 0:K.$el)!=null&&ie.removeEventListener&&K.$el.removeEventListener("pointerenter",I),(pe=K==null?void 0:K.$el)!=null&&pe.addEventListener&&X.includes("hover")&&K.$el.addEventListener("pointerenter",I)},{immediate:!0}),Yr(()=>{var K,X;(X=(K=o.value)==null?void 0:K.$el)!=null&&X.removeEventListener&&o.value.$el.removeEventListener("pointerenter",I)});function M(){R()}function R(){var K;(K=u.value)==null||K.onClose()}function A(){var K;(K=u.value)==null||K.onOpen()}const T=ta();function P(...K){t("command",...K)}function I(){var K,X;(X=(K=o.value)==null?void 0:K.$el)==null||X.focus()}function E(){}function D(){const K=m(d);w.value.includes("hover")&&(K==null||K.focus()),h.value=null}function N(K){h.value=K}function B(K){v.value||(K.preventDefault(),K.stopImmediatePropagation())}function G(){t("visible-change",!0)}function $(K){(K==null?void 0:K.type)==="keydown"&&d.value.focus()}function Q(){t("visible-change",!1)}return or(Ow,{contentRef:d,role:U(()=>e.role),triggerId:x,isUsingKeyboard:v,onItemEnter:E,onItemLeave:D}),or("elDropdown",{instance:n,dropdownSize:T,handleClick:M,commandHandler:P,trigger:Hr(e,"trigger"),hideOnClick:Hr(e,"hideOnClick")}),{t:a,ns:r,scrollbar:f,wrapStyle:y,dropdownTriggerKls:b,dropdownSize:T,triggerId:x,currentTabId:h,handleCurrentTabIdChange:N,handlerMainButtonClick:K=>{t("click",K)},handleEntryFocus:B,handleClose:R,handleOpen:A,handleBeforeShowTooltip:G,handleShowTooltip:$,handleBeforeHideTooltip:Q,onFocusAfterTrapped:K=>{var X,Z;K.preventDefault(),(Z=(X=d.value)==null?void 0:X.focus)==null||Z.call(X,{preventScroll:!0})},popperRef:u,contentRef:d,triggeringElementRef:o,referenceElementRef:s}}});function yoe(e,t,n,r,a,o){var s;const u=Zt("el-dropdown-collection"),d=Zt("el-roving-focus-group"),f=Zt("el-scrollbar"),h=Zt("el-only-child"),v=Zt("el-tooltip"),y=Zt("el-button"),b=Zt("arrow-down"),w=Zt("el-icon"),g=Zt("el-button-group");return W(),ue("div",{class:J([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ce(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:"".concat(e.ns.namespace.value,"-zoom-in-top"),teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Fs({content:be(()=>[ce(f,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:be(()=>[ce(d,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:be(()=>[ce(u,null,{default:be(()=>[Ue(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:be(()=>[ce(h,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:be(()=>[Ue(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(W(),tt(g,{key:0},{default:be(()=>[ce(y,nr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:be(()=>[Ue(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ce(y,nr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:be(()=>[ce(w,{class:J(e.ns.e("icon"))},{default:be(()=>[ce(b)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ye("v-if",!0)],2)}var boe=Ft(goe,[["render",yoe],["__file","dropdown.vue"]]);const _oe=we({components:{ElRovingFocusCollectionItem:Xae},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:a,onItemShiftTab:o}=qt(ZC,void 0),{getItems:s}=qt(XC,void 0),u=ja(),d=re(null),f=$i(b=>{t("mousedown",b)},b=>{e.focusable?a(m(u)):b.preventDefault()}),h=$i(b=>{t("focus",b)},()=>{a(m(u))}),v=$i(b=>{t("keydown",b)},b=>{const{code:w,shiftKey:g,target:x,currentTarget:M}=b;if(w===jt.tab&&g){o();return}if(x!==M)return;const R=eoe(b);if(R){b.preventDefault();let T=s().filter(P=>P.focusable).map(P=>P.ref);switch(R){case"last":{T.reverse();break}case"prev":case"next":{R==="prev"&&T.reverse();const P=T.indexOf(M);T=r.value?toe(T,P+1):T.slice(P+1);break}}cn(()=>{JC(T)})}}),y=U(()=>n.value===m(u));return or(L4,{rovingFocusGroupItemRef:d,tabIndex:U(()=>m(y)?0:-1),handleMousedown:f,handleFocus:h,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:h,handleMousedown:f}}});function woe(e,t,n,r,a,o){const s=Zt("el-roving-focus-collection-item");return W(),tt(s,{id:e.id,focusable:e.focusable,active:e.active},{default:be(()=>[Ue(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var xoe=Ft(_oe,[["render",woe],["__file","roving-focus-item.vue"]]);const Soe=we({name:"DropdownItemImpl",components:{ElIcon:tn},props:R4,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=xt("dropdown"),{role:r}=qt(Ow,void 0),{collectionItemRef:a}=qt(moe,void 0),{collectionItemRef:o}=qt(Zae,void 0),{rovingFocusGroupItemRef:s,tabIndex:u,handleFocus:d,handleKeydown:f,handleMousedown:h}=qt(L4,void 0),v=Iw(a,o,s),y=U(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),b=$i(w=>{if([jt.enter,jt.numpadEnter,jt.space].includes(w.code))return w.preventDefault(),w.stopImmediatePropagation(),t("clickimpl",w),!0},f);return{ns:n,itemRef:v,dataset:{[T4]:""},role:y,tabIndex:u,handleFocus:d,handleKeydown:b,handleMousedown:h}}});function Moe(e,t,n,r,a,o){const s=Zt("el-icon");return W(),ue(rn,null,[e.divided?(W(),ue("li",{key:0,role:"separator",class:J(e.ns.bem("menu","item","divided"))},null,2)):Ye("v-if",!0),fe("li",nr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:u=>e.$emit("clickimpl",u),onFocus:e.handleFocus,onKeydown:Sn(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:u=>e.$emit("pointermove",u),onPointerleave:u=>e.$emit("pointerleave",u)}),[e.icon?(W(),tt(s,{key:0},{default:be(()=>[(W(),tt(tr(e.icon)))]),_:1})):Ye("v-if",!0),Ue(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Eoe=Ft(Soe,[["render",Moe],["__file","dropdown-item-impl.vue"]]);const k4=()=>{const e=qt("elDropdown",{}),t=U(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Coe=we({name:"ElDropdownItem",components:{ElDropdownCollectionItem:hoe,ElRovingFocusItem:xoe,ElDropdownItemImpl:Eoe},inheritAttrs:!1,props:R4,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=k4(),a=Jn(),o=re(null),s=U(()=>{var b,w;return(w=(b=m(o))==null?void 0:b.textContent)!=null?w:""}),{onItemEnter:u,onItemLeave:d}=qt(Ow,void 0),f=$i(b=>(t("pointermove",b),b.defaultPrevented),xL(b=>{if(e.disabled){d(b);return}const w=b.currentTarget;w===document.activeElement||w.contains(document.activeElement)||(u(b),b.defaultPrevented||w==null||w.focus())})),h=$i(b=>(t("pointerleave",b),b.defaultPrevented),xL(d)),v=$i(b=>{if(!e.disabled)return t("click",b),b.type!=="keydown"&&b.defaultPrevented},b=>{var w,g,x;if(e.disabled){b.stopImmediatePropagation();return}(w=r==null?void 0:r.hideOnClick)!=null&&w.value&&((g=r.handleClick)==null||g.call(r)),(x=r.commandHandler)==null||x.call(r,e.command,a,b)}),y=U(()=>({...e,...n}));return{handleClick:v,handlePointerMove:f,handlePointerLeave:h,textContent:s,propsAndAttrs:y}}});function Toe(e,t,n,r,a,o){var s;const u=Zt("el-dropdown-item-impl"),d=Zt("el-roving-focus-item"),f=Zt("el-dropdown-collection-item");return W(),tt(f,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:be(()=>[ce(d,{focusable:!e.disabled},{default:be(()=>[ce(u,nr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:be(()=>[Ue(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var I4=Ft(Coe,[["render",Toe],["__file","dropdown-item.vue"]]);const Aoe=we({name:"ElDropdownMenu",props:uoe,setup(e){const t=xt("dropdown"),{_elDropdownSize:n}=k4(),r=n.value,{focusTrapRef:a,onKeydown:o}=qt(MC,void 0),{contentRef:s,role:u,triggerId:d}=qt(Ow,void 0),{collectionRef:f,getItems:h}=qt(poe,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:y,tabIndex:b,onBlur:w,onFocus:g,onMousedown:x}=qt(ZC,void 0),{collectionRef:M}=qt(XC,void 0),R=U(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),A=Iw(s,f,a,v,M),T=$i(I=>{var E;(E=e.onKeydown)==null||E.call(e,I)},I=>{const{currentTarget:E,code:D,target:N}=I;if(E.contains(N),jt.tab===D&&I.stopImmediatePropagation(),I.preventDefault(),N!==m(s)||!doe.includes(D))return;const G=h().filter($=>!$.disabled).map($=>$.ref);P4.includes(D)&&G.reverse(),JC(G)});return{size:r,rovingFocusGroupRootStyle:y,tabIndex:b,dropdownKls:R,role:u,triggerId:d,dropdownListWrapperRef:A,handleKeydown:I=>{T(I),o(I)},onBlur:w,onFocus:g,onMousedown:x}}});function Loe(e,t,n,r,a,o){return W(),ue("ul",{ref:e.dropdownListWrapperRef,class:J(e.dropdownKls),style:un(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Sn(e.handleKeydown,["self"]),onMousedown:Sn(e.onMousedown,["self"])},[Ue(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var O4=Ft(Aoe,[["render",Loe],["__file","dropdown-menu.vue"]]);const Roe=On(boe,{DropdownItem:I4,DropdownMenu:O4}),Poe=Ii(I4),koe=Ii(O4),Ioe=we({name:"ImgEmpty"}),Ooe=we({...Ioe,setup(e){const t=xt("empty"),n=ja();return(r,a)=>(W(),ue("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[fe("defs",null,[fe("linearGradient",{id:"linearGradient-1-".concat(m(n)),x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[fe("stop",{"stop-color":"var(".concat(m(t).cssVarBlockName("fill-color-1"),")"),offset:"0%"},null,8,["stop-color"]),fe("stop",{"stop-color":"var(".concat(m(t).cssVarBlockName("fill-color-4"),")"),offset:"100%"},null,8,["stop-color"])],8,["id"]),fe("linearGradient",{id:"linearGradient-2-".concat(m(n)),x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[fe("stop",{"stop-color":"var(".concat(m(t).cssVarBlockName("fill-color-1"),")"),offset:"0%"},null,8,["stop-color"]),fe("stop",{"stop-color":"var(".concat(m(t).cssVarBlockName("fill-color-6"),")"),offset:"100%"},null,8,["stop-color"])],8,["id"]),fe("rect",{id:"path-3-".concat(m(n)),x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),fe("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[fe("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[fe("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[fe("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"var(".concat(m(t).cssVarBlockName("fill-color-3"),")")},null,8,["fill"]),fe("polygon",{id:"Rectangle-Copy-14",fill:"var(".concat(m(t).cssVarBlockName("fill-color-7"),")"),transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),fe("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[fe("polygon",{id:"Rectangle-Copy-10",fill:"var(".concat(m(t).cssVarBlockName("fill-color-7"),")"),transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),fe("polygon",{id:"Rectangle-Copy-11",fill:"var(".concat(m(t).cssVarBlockName("fill-color-5"),")"),points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),fe("rect",{id:"Rectangle-Copy-12",fill:"url(#linearGradient-1-".concat(m(n),")"),transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),fe("polygon",{id:"Rectangle-Copy-13",fill:"var(".concat(m(t).cssVarBlockName("fill-color-2"),")"),transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),fe("rect",{id:"Rectangle-Copy-15",fill:"url(#linearGradient-2-".concat(m(n),")"),x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),fe("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[fe("use",{id:"Mask",fill:"var(".concat(m(t).cssVarBlockName("fill-color-8"),")"),transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":"#path-3-".concat(m(n))},null,8,["fill","xlink:href"]),fe("polygon",{id:"Rectangle-Copy",fill:"var(".concat(m(t).cssVarBlockName("fill-color-9"),")"),mask:"url(#mask-4-".concat(m(n),")"),transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),fe("polygon",{id:"Rectangle-Copy-18",fill:"var(".concat(m(t).cssVarBlockName("fill-color-2"),")"),transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var Doe=Ft(Ooe,[["__file","img-empty.vue"]]);const Noe=kt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Foe=we({name:"ElEmpty"}),Boe=we({...Foe,props:Noe,setup(e){const t=e,{t:n}=xr(),r=xt("empty"),a=U(()=>t.description||n("el.table.emptyText")),o=U(()=>({width:Bi(t.imageSize)}));return(s,u)=>(W(),ue("div",{class:J(m(r).b())},[fe("div",{class:J(m(r).e("image")),style:un(m(o))},[s.image?(W(),ue("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):Ue(s.$slots,"image",{key:1},()=>[ce(Doe)])],6),fe("div",{class:J(m(r).e("description"))},[s.$slots.description?Ue(s.$slots,"description",{key:0}):(W(),ue("p",{key:1},Pt(m(a)),1))],2),s.$slots.default?(W(),ue("div",{key:0,class:J(m(r).e("bottom"))},[Ue(s.$slots,"default")],2)):Ye("v-if",!0)],2))}});var zoe=Ft(Boe,[["__file","empty.vue"]]);const D4=On(zoe),Voe=kt({size:{type:String,values:Du},disabled:Boolean}),Uoe=kt({...Voe,model:Object,rules:{type:ze(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Hoe={validate:(e,t,n)=>(Rt(e)||nn(e))&&ri(t)&&nn(n)};function $oe(){const e=re([]),t=U(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?"".concat(o,"px"):""});function n(o){const s=e.value.indexOf(o);return s===-1&&t.value,s}function r(o,s){if(o&&s){const u=n(s);e.value.splice(u,1,o)}else o&&e.value.push(o)}function a(o){const s=n(o);s>-1&&e.value.splice(s,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:a}}const Jy=(e,t)=>{const n=wo(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},Goe="ElForm",Woe=we({name:Goe}),joe=we({...Woe,props:Uoe,emits:Hoe,setup(e,{expose:t,emit:n}){const r=e,a=[],o=ta(),s=xt("form"),u=U(()=>{const{labelPosition:A,inline:T}=r;return[s.b(),s.m(o.value||"default"),{[s.m("label-".concat(A))]:A,[s.m("inline")]:T}]}),d=A=>a.find(T=>T.prop===A),f=A=>{a.push(A)},h=A=>{A.prop&&a.splice(a.indexOf(A),1)},v=(A=[])=>{r.model&&Jy(a,A).forEach(T=>T.resetField())},y=(A=[])=>{Jy(a,A).forEach(T=>T.clearValidate())},b=U(()=>!!r.model),w=A=>{if(a.length===0)return[];const T=Jy(a,A);return T.length?T:[]},g=async A=>M(void 0,A),x=async(A=[])=>{if(!b.value)return!1;const T=w(A);if(T.length===0)return!0;let P={};for(const I of T)try{await I.validate(""),I.validateState==="error"&&I.resetField()}catch(E){P={...P,...E}}return Object.keys(P).length===0?!0:Promise.reject(P)},M=async(A=[],T)=>{const P=!on(T);try{const I=await x(A);return I===!0&&await(T==null?void 0:T(I)),I}catch(I){if(I instanceof Error)throw I;const E=I;return r.scrollToError&&R(Object.keys(E)[0]),await(T==null?void 0:T(!1,E)),P&&Promise.reject(E)}},R=A=>{var T;const P=Jy(a,A)[0];P&&((T=P.$el)==null||T.scrollIntoView(r.scrollIntoViewOptions))};return bt(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(A=>void 0)},{deep:!0,flush:"post"}),or(sh,Ir({...ka(r),emit:n,resetFields:v,clearValidate:y,validateField:M,getField:d,addField:f,removeField:h,...$oe()})),t({validate:g,validateField:M,resetFields:v,clearValidate:y,scrollToField:R,fields:a}),(A,T)=>(W(),ue("form",{class:J(m(u))},[Ue(A.$slots,"default")],2))}});var qoe=Ft(joe,[["__file","form.vue"]]);function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(this,arguments)}function Koe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s0(e,t)}function EM(e){return EM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EM(e)}function s0(e,t){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},s0(e,t)}function Yoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xb(e,t,n){return Yoe()?Xb=Reflect.construct.bind():Xb=function(a,o,s){var u=[null];u.push.apply(u,o);var d=Function.bind.apply(a,u),f=new d;return s&&s0(f,s.prototype),f},Xb.apply(null,arguments)}function Xoe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function CM(e){var t=typeof Map=="function"?new Map:void 0;return CM=function(r){if(r===null||!Xoe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return Xb(r,arguments,EM(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s0(a,r)},CM(e)}var Zoe=/%[sdj%]/g,Joe=function(){};function TM(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Ps(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(Zoe,function(u){if(u==="%%")return"%";if(a>=o)return u;switch(u){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(d){return"[Circular]"}break;default:return u}});return s}return e}function Qoe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Oa(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Qoe(t)&&typeof e=="string"&&!e)}function ese(e,t,n){var r=[],a=0,o=e.length;function s(u){r.push.apply(r,u||[]),a++,a===o&&n(r)}e.forEach(function(u){t(u,s)})}function nR(e,t,n){var r=0,a=e.length;function o(s){if(s&&s.length){n(s);return}var u=r;r=r+1,u<a?t(e[u],o):n([])}o([])}function tse(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var rR=function(e){Koe(t,e);function t(n,r){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=n,a.fields=r,a}return t}(CM(Error));function nse(e,t,n,r,a){if(t.first){var o=new Promise(function(y,b){var w=function(M){return r(M),M.length?b(new rR(M,TM(M))):y(a)},g=tse(e);nR(g,n,w)});return o.catch(function(y){return y}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],u=Object.keys(e),d=u.length,f=0,h=[],v=new Promise(function(y,b){var w=function(x){if(h.push.apply(h,x),f++,f===d)return r(h),h.length?b(new rR(h,TM(h))):y(a)};u.length||(r(h),y(a)),u.forEach(function(g){var x=e[g];s.indexOf(g)!==-1?nR(x,n,w):ese(x,n,w)})});return v.catch(function(y){return y}),v}function rse(e){return!!(e&&e.message!==void 0)}function ise(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function iR(e,t){return function(n){var r;return e.fullFields?r=ise(t,e.fullFields):r=t[n.field||e.fullField],rse(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function aR(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=Af({},e[n],r):e[n]=r}}return e}var N4=function(t,n,r,a,o,s){t.required&&(!r.hasOwnProperty(t.field)||Oa(n,s||t.type))&&a.push(Ps(o.messages.required,t.fullField))},ase=function(t,n,r,a,o){(/^\s+$/.test(n)||n==="")&&a.push(Ps(o.messages.whitespace,t.fullField))},Qy,ose=function(){if(Qy)return Qy;var e="[a-fA-F\\d:]",t=function(T){return T&&T.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),s=new RegExp("^"+n+"$"),u=new RegExp("^"+a+"$"),d=function(T){return T&&T.exact?o:new RegExp("(?:"+t(T)+n+t(T)+")|(?:"+t(T)+a+t(T)+")","g")};d.v4=function(A){return A&&A.exact?s:new RegExp(""+t(A)+n+t(A),"g")},d.v6=function(A){return A&&A.exact?u:new RegExp(""+t(A)+a+t(A),"g")};var f="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",v=d.v4().source,y=d.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",w="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",x="(?::\\d{2,5})?",M='(?:[/?#][^\\s"]*)?',R="(?:"+f+"|www\\.)"+h+"(?:localhost|"+v+"|"+y+"|"+b+w+g+")"+x+M;return Qy=new RegExp("(?:^"+R+"$)","i"),Qy},oR={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},mg={integer:function(t){return mg.number(t)&&parseInt(t,10)===t},float:function(t){return mg.number(t)&&!mg.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(n){return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!mg.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(oR.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(ose())},hex:function(t){return typeof t=="string"&&!!t.match(oR.hex)}},sse=function(t,n,r,a,o){if(t.required&&n===void 0){N4(t,n,r,a,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;s.indexOf(u)>-1?mg[u](n)||a.push(Ps(o.messages.types[u],t.fullField,t.type)):u&&typeof n!==t.type&&a.push(Ps(o.messages.types[u],t.fullField,t.type))},lse=function(t,n,r,a,o){var s=typeof t.len=="number",u=typeof t.min=="number",d=typeof t.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,v=null,y=typeof n=="number",b=typeof n=="string",w=Array.isArray(n);if(y?v="number":b?v="string":w&&(v="array"),!v)return!1;w&&(h=n.length),b&&(h=n.replace(f,"_").length),s?h!==t.len&&a.push(Ps(o.messages[v].len,t.fullField,t.len)):u&&!d&&h<t.min?a.push(Ps(o.messages[v].min,t.fullField,t.min)):d&&!u&&h>t.max?a.push(Ps(o.messages[v].max,t.fullField,t.max)):u&&d&&(h<t.min||h>t.max)&&a.push(Ps(o.messages[v].range,t.fullField,t.min,t.max))},tp="enum",use=function(t,n,r,a,o){t[tp]=Array.isArray(t[tp])?t[tp]:[],t[tp].indexOf(n)===-1&&a.push(Ps(o.messages[tp],t.fullField,t[tp].join(", ")))},cse=function(t,n,r,a,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||a.push(Ps(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||a.push(Ps(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},oi={required:N4,whitespace:ase,type:sse,range:lse,enum:use,pattern:cse},dse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n,"string")&&!t.required)return r();oi.required(t,n,a,s,o,"string"),Oa(n,"string")||(oi.type(t,n,a,s,o),oi.range(t,n,a,s,o),oi.pattern(t,n,a,s,o),t.whitespace===!0&&oi.whitespace(t,n,a,s,o))}r(s)},fse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&oi.type(t,n,a,s,o)}r(s)},hse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(n===""&&(n=void 0),Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&(oi.type(t,n,a,s,o),oi.range(t,n,a,s,o))}r(s)},pse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&oi.type(t,n,a,s,o)}r(s)},mse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),Oa(n)||oi.type(t,n,a,s,o)}r(s)},vse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&(oi.type(t,n,a,s,o),oi.range(t,n,a,s,o))}r(s)},gse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&(oi.type(t,n,a,s,o),oi.range(t,n,a,s,o))}r(s)},yse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(n==null&&!t.required)return r();oi.required(t,n,a,s,o,"array"),n!=null&&(oi.type(t,n,a,s,o),oi.range(t,n,a,s,o))}r(s)},bse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&oi.type(t,n,a,s,o)}r(s)},_se="enum",wse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o),n!==void 0&&oi[_se](t,n,a,s,o)}r(s)},xse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n,"string")&&!t.required)return r();oi.required(t,n,a,s,o),Oa(n,"string")||oi.pattern(t,n,a,s,o)}r(s)},Sse=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n,"date")&&!t.required)return r();if(oi.required(t,n,a,s,o),!Oa(n,"date")){var d;n instanceof Date?d=n:d=new Date(n),oi.type(t,d,a,s,o),d&&oi.range(t,d.getTime(),a,s,o)}}r(s)},Mse=function(t,n,r,a,o){var s=[],u=Array.isArray(n)?"array":typeof n;oi.required(t,n,a,s,o,u),r(s)},kx=function(t,n,r,a,o){var s=t.type,u=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(Oa(n,s)&&!t.required)return r();oi.required(t,n,a,u,o,s),Oa(n,s)||oi.type(t,n,a,u,o)}r(u)},Ese=function(t,n,r,a,o){var s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(Oa(n)&&!t.required)return r();oi.required(t,n,a,s,o)}r(s)},Fg={string:dse,method:fse,number:hse,boolean:pse,regexp:mse,integer:vse,float:gse,array:yse,object:bse,enum:wse,pattern:xse,date:Sse,url:kx,hex:kx,email:kx,required:Mse,any:Ese};function AM(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var LM=AM(),B0=function(){function e(n){this.rules=null,this._messages=LM,this.define(n)}var t=e.prototype;return t.define=function(r){var a=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];a.rules[o]=Array.isArray(s)?s:[s]})},t.messages=function(r){return r&&(this._messages=aR(AM(),r)),this._messages},t.validate=function(r,a,o){var s=this;a===void 0&&(a={}),o===void 0&&(o=function(){});var u=r,d=a,f=o;if(typeof d=="function"&&(f=d,d={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,u),Promise.resolve(u);function h(g){var x=[],M={};function R(T){if(Array.isArray(T)){var P;x=(P=x).concat.apply(P,T)}else x.push(T)}for(var A=0;A<g.length;A++)R(g[A]);x.length?(M=TM(x),f(x,M)):f(null,u)}if(d.messages){var v=this.messages();v===LM&&(v=AM()),aR(v,d.messages),d.messages=v}else d.messages=this.messages();var y={},b=d.keys||Object.keys(this.rules);b.forEach(function(g){var x=s.rules[g],M=u[g];x.forEach(function(R){var A=R;typeof A.transform=="function"&&(u===r&&(u=Af({},u)),M=u[g]=A.transform(M)),typeof A=="function"?A={validator:A}:A=Af({},A),A.validator=s.getValidationMethod(A),A.validator&&(A.field=g,A.fullField=A.fullField||g,A.type=s.getType(A),y[g]=y[g]||[],y[g].push({rule:A,value:M,source:u,field:g}))})});var w={};return nse(y,d,function(g,x){var M=g.rule,R=(M.type==="object"||M.type==="array")&&(typeof M.fields=="object"||typeof M.defaultField=="object");R=R&&(M.required||!M.required&&g.value),M.field=g.field;function A(I,E){return Af({},E,{fullField:M.fullField+"."+I,fullFields:M.fullFields?[].concat(M.fullFields,[I]):[I]})}function T(I){I===void 0&&(I=[]);var E=Array.isArray(I)?I:[I];!d.suppressWarning&&E.length&&e.warning("async-validator:",E),E.length&&M.message!==void 0&&(E=[].concat(M.message));var D=E.map(iR(M,u));if(d.first&&D.length)return w[M.field]=1,x(D);if(!R)x(D);else{if(M.required&&!g.value)return M.message!==void 0?D=[].concat(M.message).map(iR(M,u)):d.error&&(D=[d.error(M,Ps(d.messages.required,M.field))]),x(D);var N={};M.defaultField&&Object.keys(g.value).map(function($){N[$]=M.defaultField}),N=Af({},N,g.rule.fields);var B={};Object.keys(N).forEach(function($){var Q=N[$],ae=Array.isArray(Q)?Q:[Q];B[$]=ae.map(A.bind(null,$))});var G=new e(B);G.messages(d.messages),g.rule.options&&(g.rule.options.messages=d.messages,g.rule.options.error=d.error),G.validate(g.value,g.rule.options||d,function($){var Q=[];D&&D.length&&Q.push.apply(Q,D),$&&$.length&&Q.push.apply(Q,$),x(Q.length?Q:null)})}}var P;if(M.asyncValidator)P=M.asyncValidator(M,g.value,T,g.source,d);else if(M.validator){try{P=M.validator(M,g.value,T,g.source,d)}catch(I){console.error==null||console.error(I),d.suppressValidatorError||setTimeout(function(){throw I},0),T(I.message)}P===!0?T():P===!1?T(typeof M.message=="function"?M.message(M.fullField||M.field):M.message||(M.fullField||M.field)+" fails"):P instanceof Array?T(P):P instanceof Error&&T(P.message)}P&&P.then&&P.then(function(){return T()},function(I){return T(I)})},function(g){h(g)},u)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Fg.hasOwnProperty(r.type))throw new Error(Ps("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var a=Object.keys(r),o=a.indexOf("message");return o!==-1&&a.splice(o,1),a.length===1&&a[0]==="required"?Fg.required:Fg[this.getType(r)]||void 0},e}();B0.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Fg[t]=n};B0.warning=Joe;B0.messages=LM;B0.validators=Fg;const Cse=["","error","validating","success"],Tse=kt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:ze([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ze([Object,Array])},error:String,validateStatus:{type:String,values:Cse},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Du}}),sR="ElLabelWrap";var Ase=we({name:sR,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=qt(sh,void 0),r=qt(ku);r||va(sR,"usage: <el-form-item><label-wrap /></el-form-item>");const a=xt("form"),o=re(),s=re(0),u=()=>{var h;if((h=o.value)!=null&&h.firstElementChild){const v=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(v))}else return 0},d=(h="update")=>{cn(()=>{t.default&&e.isAutoWidth&&(h==="update"?s.value=u():h==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},f=()=>d("update");return Bn(()=>{f()}),Yr(()=>{d("remove")}),Hl(()=>f()),bt(s,(h,v)=>{e.updateAll&&(n==null||n.registerLabelWidth(h,v))}),Ri(U(()=>{var h,v;return(v=(h=o.value)==null?void 0:h.firstElementChild)!=null?v:null}),f),()=>{var h,v;if(!t)return null;const{isAutoWidth:y}=e;if(y){const b=n==null?void 0:n.autoLabelWidth,w=r==null?void 0:r.hasLabel,g={};if(w&&b&&b!=="auto"){const x=Math.max(0,Number.parseInt(b,10)-s.value),R=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";x&&(g[R]="".concat(x,"px"))}return ce("div",{ref:o,class:[a.be("item","label-wrap")],style:g},[(h=t.default)==null?void 0:h.call(t)])}else return ce(rn,{ref:o},[(v=t.default)==null?void 0:v.call(t)])}}});const Lse=we({name:"ElFormItem"}),Rse=we({...Lse,props:Tse,setup(e,{expose:t}){const n=e,r=ya(),a=qt(sh,void 0),o=qt(ku,void 0),s=ta(void 0,{formItem:!1}),u=xt("form-item"),d=ja().value,f=re([]),h=re(""),v=VY(h,100),y=re(""),b=re();let w,g=!1;const x=U(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),M=U(()=>{if(x.value==="top")return{};const ke=Bi(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return ke?{width:ke}:{}}),R=U(()=>{if(x.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&B)return{};const ke=Bi(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!r.label?{marginLeft:ke}:{}}),A=U(()=>[u.b(),u.m(s.value),u.is("error",h.value==="error"),u.is("validating",h.value==="validating"),u.is("success",h.value==="success"),u.is("required",ee.value||n.required),u.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[u.m("feedback")]:a==null?void 0:a.statusIcon,[u.m("label-".concat(x.value))]:x.value}]),T=U(()=>ri(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),P=U(()=>[u.e("error"),{[u.em("error","inline")]:T.value}]),I=U(()=>n.prop?nn(n.prop)?n.prop:n.prop.join("."):""),E=U(()=>!!(n.label||r.label)),D=U(()=>n.for||(f.value.length===1?f.value[0]:void 0)),N=U(()=>!D.value&&E.value),B=!!o,G=U(()=>{const ke=a==null?void 0:a.model;if(!(!ke||!n.prop))return Ig(ke,n.prop).value}),$=U(()=>{const{required:ke}=n,Pe=[];n.rules&&Pe.push(...wo(n.rules));const Xe=a==null?void 0:a.rules;if(Xe&&n.prop){const ct=Ig(Xe,n.prop).value;ct&&Pe.push(...wo(ct))}if(ke!==void 0){const ct=Pe.map((se,ye)=>[se,ye]).filter(([se])=>Object.keys(se).includes("required"));if(ct.length>0)for(const[se,ye]of ct)se.required!==ke&&(Pe[ye]={...se,required:ke});else Pe.push({required:ke})}return Pe}),Q=U(()=>$.value.length>0),ae=ke=>$.value.filter(Xe=>!Xe.trigger||!ke?!0:Rt(Xe.trigger)?Xe.trigger.includes(ke):Xe.trigger===ke).map(({trigger:Xe,...ct})=>ct),ee=U(()=>$.value.some(ke=>ke.required)),K=U(()=>{var ke;return v.value==="error"&&n.showMessage&&((ke=a==null?void 0:a.showMessage)!=null?ke:!0)}),X=U(()=>"".concat(n.label||"").concat((a==null?void 0:a.labelSuffix)||"")),Z=ke=>{h.value=ke},j=ke=>{var Pe,Xe;const{errors:ct,fields:se}=ke;(!ct||!se)&&console.error(ke),Z("error"),y.value=ct?(Xe=(Pe=ct==null?void 0:ct[0])==null?void 0:Pe.message)!=null?Xe:"".concat(n.prop," is required"):"",a==null||a.emit("validate",n.prop,!1,y.value)},ie=()=>{Z("success"),a==null||a.emit("validate",n.prop,!0,"")},pe=async ke=>{const Pe=I.value;return new B0({[Pe]:ke}).validate({[Pe]:G.value},{firstFields:!0}).then(()=>(ie(),!0)).catch(ct=>(j(ct),Promise.reject(ct)))},he=async(ke,Pe)=>{if(g||!n.prop)return!1;const Xe=on(Pe);if(!Q.value)return Pe==null||Pe(!1),!1;const ct=ae(ke);return ct.length===0?(Pe==null||Pe(!0),!0):(Z("validating"),pe(ct).then(()=>(Pe==null||Pe(!0),!0)).catch(se=>{const{fields:ye}=se;return Pe==null||Pe(!1,ye),Xe?!1:Promise.reject(ye)}))},le=()=>{Z(""),y.value="",g=!1},Re=async()=>{const ke=a==null?void 0:a.model;if(!ke||!n.prop)return;const Pe=Ig(ke,n.prop);g=!0,Pe.value=P3(w),await cn(),le(),g=!1},De=ke=>{f.value.includes(ke)||f.value.push(ke)},Te=ke=>{f.value=f.value.filter(Pe=>Pe!==ke)};bt(()=>n.error,ke=>{y.value=ke||"",Z(ke?"error":"")},{immediate:!0}),bt(()=>n.validateStatus,ke=>Z(ke||""));const ge=Ir({...ka(n),$el:b,size:s,validateState:h,labelId:d,inputIds:f,isGroup:N,hasLabel:E,fieldValue:G,addInputId:De,removeInputId:Te,resetField:Re,clearValidate:le,validate:he});return or(ku,ge),Bn(()=>{n.prop&&(a==null||a.addField(ge),w=P3(G.value))}),Yr(()=>{a==null||a.removeField(ge)}),t({size:s,validateMessage:y,validateState:h,validate:he,clearValidate:le,resetField:Re}),(ke,Pe)=>{var Xe;return W(),ue("div",{ref_key:"formItemRef",ref:b,class:J(m(A)),role:m(N)?"group":void 0,"aria-labelledby":m(N)?m(d):void 0},[ce(m(Ase),{"is-auto-width":m(M).width==="auto","update-all":((Xe=m(a))==null?void 0:Xe.labelWidth)==="auto"},{default:be(()=>[m(E)?(W(),tt(tr(m(D)?"label":"div"),{key:0,id:m(d),for:m(D),class:J(m(u).e("label")),style:un(m(M))},{default:be(()=>[Ue(ke.$slots,"label",{label:m(X)},()=>[Pn(Pt(m(X)),1)])]),_:3},8,["id","for","class","style"])):Ye("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),fe("div",{class:J(m(u).e("content")),style:un(m(R))},[Ue(ke.$slots,"default"),ce(vO,{name:"".concat(m(u).namespace.value,"-zoom-in-top")},{default:be(()=>[m(K)?Ue(ke.$slots,"error",{key:0,error:y.value},()=>[fe("div",{class:J(m(P))},Pt(y.value),3)]):Ye("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var F4=Ft(Rse,[["__file","form-item.vue"]]);const Pse=On(qoe,{FormItem:F4}),kse=Ii(F4),Ise=kt({urlList:{type:ze(Array),default:()=>Pi([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:ze(String)}}),Ose={close:()=>!0,switch:e=>fn(e),rotate:e=>fn(e)},Dse=we({name:"ElImageViewer"}),Nse=we({...Dse,props:Ise,emits:Ose,setup(e,{expose:t,emit:n}){var r;const a=e,o={CONTAIN:{name:"contain",icon:ld(D5)},ORIGINAL:{name:"original",icon:ld(u$)}},{t:s}=xr(),u=xt("image-viewer"),{nextZIndex:d}=Tm(),f=re(),h=re([]),v=q6(),y=re(!0),b=re(a.initialIndex),w=hi(o.CONTAIN),g=re({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),x=re((r=a.zIndex)!=null?r:d()),M=U(()=>{const{urlList:le}=a;return le.length<=1}),R=U(()=>b.value===0),A=U(()=>b.value===a.urlList.length-1),T=U(()=>a.urlList[b.value]),P=U(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!a.infinite&&R.value)]),I=U(()=>[u.e("btn"),u.e("next"),u.is("disabled",!a.infinite&&A.value)]),E=U(()=>{const{scale:le,deg:Re,offsetX:De,offsetY:Te,enableTransition:ge}=g.value;let ke=De/le,Pe=Te/le;const Xe=Re*Math.PI/180,ct=Math.cos(Xe),se=Math.sin(Xe);ke=ke*ct+Pe*se,Pe=Pe*ct-De/le*se;const ye={transform:"scale(".concat(le,") rotate(").concat(Re,"deg) translate(").concat(ke,"px, ").concat(Pe,"px)"),transition:ge?"transform .3s":""};return w.value.name===o.CONTAIN.name&&(ye.maxWidth=ye.maxHeight="100%"),ye}),D=U(()=>"".concat(b.value+1," / ").concat(a.urlList.length));function N(){G(),n("close")}function B(){const le=Nf(De=>{switch(De.code){case jt.esc:a.closeOnPressEscape&&N();break;case jt.space:K();break;case jt.left:Z();break;case jt.up:ie("zoomIn");break;case jt.right:j();break;case jt.down:ie("zoomOut");break}}),Re=Nf(De=>{const Te=De.deltaY||De.deltaX;ie(Te<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});v.run(()=>{Kr(document,"keydown",le),Kr(document,"wheel",Re)})}function G(){v.stop()}function $(){y.value=!1}function Q(le){y.value=!1,le.target.alt=s("el.image.error")}function ae(le){if(y.value||le.button!==0||!f.value)return;g.value.enableTransition=!1;const{offsetX:Re,offsetY:De}=g.value,Te=le.pageX,ge=le.pageY,ke=Nf(Xe=>{g.value={...g.value,offsetX:Re+Xe.pageX-Te,offsetY:De+Xe.pageY-ge}}),Pe=Kr(document,"mousemove",ke);Kr(document,"mouseup",()=>{Pe()}),le.preventDefault()}function ee(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function K(){if(y.value)return;const le=tm(o),Re=Object.values(o),De=w.value.name,ge=(Re.findIndex(ke=>ke.name===De)+1)%le.length;w.value=o[le[ge]],ee()}function X(le){const Re=a.urlList.length;b.value=(le+Re)%Re}function Z(){R.value&&!a.infinite||X(b.value-1)}function j(){A.value&&!a.infinite||X(b.value+1)}function ie(le,Re={}){if(y.value)return;const{minScale:De,maxScale:Te}=a,{zoomRate:ge,rotateDeg:ke,enableTransition:Pe}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...Re};switch(le){case"zoomOut":g.value.scale>De&&(g.value.scale=Number.parseFloat((g.value.scale/ge).toFixed(3)));break;case"zoomIn":g.value.scale<Te&&(g.value.scale=Number.parseFloat((g.value.scale*ge).toFixed(3)));break;case"clockwise":g.value.deg+=ke,n("rotate",g.value.deg);break;case"anticlockwise":g.value.deg-=ke,n("rotate",g.value.deg);break}g.value.enableTransition=Pe}function pe(le){var Re;((Re=le.detail)==null?void 0:Re.focusReason)==="pointer"&&le.preventDefault()}function he(){a.closeOnPressEscape&&N()}return bt(T,()=>{cn(()=>{const le=h.value[0];le!=null&&le.complete||(y.value=!0)})}),bt(b,le=>{ee(),n("switch",le)}),Bn(()=>{B()}),t({setActiveItem:X}),(le,Re)=>(W(),tt(m(Rm),{to:"body",disabled:!le.teleported},{default:be(()=>[ce(Ia,{name:"viewer-fade",appear:""},{default:be(()=>[fe("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:J(m(u).e("wrapper")),style:un({zIndex:x.value})},[ce(m(Lm),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:pe,onReleaseRequested:he},{default:be(()=>[fe("div",{class:J(m(u).e("mask")),onClick:Sn(De=>le.hideOnClickModal&&N(),["self"])},null,10,["onClick"]),Ye(" CLOSE "),fe("span",{class:J([m(u).e("btn"),m(u).e("close")]),onClick:N},[ce(m(tn),null,{default:be(()=>[ce(m(Bl))]),_:1})],2),Ye(" ARROW "),m(M)?Ye("v-if",!0):(W(),ue(rn,{key:0},[fe("span",{class:J(m(P)),onClick:Z},[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1})],2),fe("span",{class:J(m(I)),onClick:j},[ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})],2)],64)),le.showProgress?(W(),ue("div",{key:1,class:J([m(u).e("btn"),m(u).e("progress")])},[Ue(le.$slots,"progress",{activeIndex:b.value,total:le.urlList.length},()=>[Pn(Pt(m(D)),1)])],2)):Ye("v-if",!0),Ye(" ACTIONS "),fe("div",{class:J([m(u).e("btn"),m(u).e("actions")])},[fe("div",{class:J(m(u).e("actions__inner"))},[Ue(le.$slots,"toolbar",{actions:ie,prev:Z,next:j,reset:K,activeIndex:b.value},()=>[ce(m(tn),{onClick:De=>ie("zoomOut")},{default:be(()=>[ce(m(I$))]),_:1},8,["onClick"]),ce(m(tn),{onClick:De=>ie("zoomIn")},{default:be(()=>[ce(m(LO))]),_:1},8,["onClick"]),fe("i",{class:J(m(u).e("actions__divider"))},null,2),ce(m(tn),{onClick:K},{default:be(()=>[(W(),tt(tr(m(w).icon)))]),_:1}),fe("i",{class:J(m(u).e("actions__divider"))},null,2),ce(m(tn),{onClick:De=>ie("anticlockwise")},{default:be(()=>[ce(m(r$))]),_:1},8,["onClick"]),ce(m(tn),{onClick:De=>ie("clockwise")},{default:be(()=>[ce(m(a$))]),_:1},8,["onClick"])])],2)],2),Ye(" CANVAS "),fe("div",{class:J(m(u).e("canvas"))},[(W(!0),ue(rn,null,ar(le.urlList,(De,Te)=>kn((W(),ue("img",{ref_for:!0,ref:ge=>h.value[Te]=ge,key:De,src:De,style:un(m(E)),class:J(m(u).e("img")),crossorigin:le.crossorigin,onLoad:$,onError:Q,onMousedown:ae},null,46,["src","crossorigin"])),[[_r,Te===b.value]])),128))],2),Ue(le.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var Fse=Ft(Nse,[["__file","image-viewer.vue"]]);const B4=On(Fse),Bse=kt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ze([String,Object])},previewSrcList:{type:ze(Array),default:()=>Pi([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:ze(String)}}),zse={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>fn(e),close:()=>!0,show:()=>!0},Vse=we({name:"ElImage",inheritAttrs:!1}),Use=we({...Vse,props:Bse,emits:zse,setup(e,{expose:t,emit:n}){const r=e;let a="";const{t:o}=xr(),s=xt("image"),u=wc(),d=U(()=>t0(Object.entries(u).filter(([j])=>/^(data-|on[A-Z])/i.test(j)||["id","style"].includes(j)))),f=O0({excludeListeners:!0,excludeKeys:U(()=>Object.keys(d.value))}),h=re(),v=re(!1),y=re(!0),b=re(!1),w=re(),g=re(),x=wr&&"loading"in HTMLImageElement.prototype;let M,R;const A=U(()=>[s.e("inner"),P.value&&s.e("preview"),y.value&&s.is("loading")]),T=U(()=>{const{fit:j}=r;return wr&&j?{objectFit:j}:{}}),P=U(()=>{const{previewSrcList:j}=r;return Rt(j)&&j.length>0}),I=U(()=>{const{previewSrcList:j,initialIndex:ie}=r;let pe=ie;return ie>j.length-1&&(pe=0),pe}),E=U(()=>r.loading==="eager"?!1:!x&&r.loading==="lazy"||r.lazy),D=()=>{wr&&(y.value=!0,v.value=!1,h.value=r.src)};function N(j){y.value=!1,v.value=!1,n("load",j)}function B(j){y.value=!1,v.value=!0,n("error",j)}function G(){Kne(w.value,g.value)&&(D(),ae())}const $=ND(G,200,!0);async function Q(){var j;if(!wr)return;await cn();const{scrollContainer:ie}=r;Ho(ie)?g.value=ie:nn(ie)&&ie!==""?g.value=(j=document.querySelector(ie))!=null?j:void 0:w.value&&(g.value=vC(w.value)),g.value&&(M=Kr(g,"scroll",$),setTimeout(()=>G(),100))}function ae(){!wr||!g.value||!$||(M==null||M(),g.value=void 0)}function ee(j){if(j.ctrlKey){if(j.deltaY<0)return j.preventDefault(),!1;if(j.deltaY>0)return j.preventDefault(),!1}}function K(){P.value&&(R=Kr("wheel",ee,{passive:!1}),a=document.body.style.overflow,document.body.style.overflow="hidden",b.value=!0,n("show"))}function X(){R==null||R(),document.body.style.overflow=a,b.value=!1,n("close")}function Z(j){n("switch",j)}return bt(()=>r.src,()=>{E.value?(y.value=!0,v.value=!1,ae(),Q()):D()}),Bn(()=>{E.value?Q():D()}),t({showPreview:K}),(j,ie)=>(W(),ue("div",nr({ref_key:"container",ref:w},m(d),{class:[m(s).b(),j.$attrs.class]}),[v.value?Ue(j.$slots,"error",{key:0},()=>[fe("div",{class:J(m(s).e("error"))},Pt(m(o)("el.image.error")),3)]):(W(),ue(rn,{key:1},[h.value!==void 0?(W(),ue("img",nr({key:0},m(f),{src:h.value,loading:j.loading,style:m(T),class:m(A),crossorigin:j.crossorigin,onClick:K,onLoad:N,onError:B}),null,16,["src","loading","crossorigin"])):Ye("v-if",!0),y.value?(W(),ue("div",{key:1,class:J(m(s).e("wrapper"))},[Ue(j.$slots,"placeholder",{},()=>[fe("div",{class:J(m(s).e("placeholder"))},null,2)])],2)):Ye("v-if",!0)],64)),m(P)?(W(),ue(rn,{key:2},[b.value?(W(),tt(m(B4),{key:0,"z-index":j.zIndex,"initial-index":m(I),infinite:j.infinite,"zoom-rate":j.zoomRate,"min-scale":j.minScale,"max-scale":j.maxScale,"show-progress":j.showProgress,"url-list":j.previewSrcList,crossorigin:j.crossorigin,"hide-on-click-modal":j.hideOnClickModal,teleported:j.previewTeleported,"close-on-press-escape":j.closeOnPressEscape,onClose:X,onSwitch:Z},{progress:be(pe=>[Ue(j.$slots,"progress",Ls(Lu(pe)))]),toolbar:be(pe=>[Ue(j.$slots,"toolbar",Ls(Lu(pe)))]),default:be(()=>[j.$slots.viewer?(W(),ue("div",{key:0},[Ue(j.$slots,"viewer")])):Ye("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Ye("v-if",!0)],64)):Ye("v-if",!0)],16))}});var Hse=Ft(Use,[["__file","image.vue"]]);const $se=On(Hse),Gse=kt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ca,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||fn(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt("".concat(e),10)},validateEvent:{type:Boolean,default:!0},...qa(["ariaLabel"])}),Wse={[Qr]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ro]:e=>fn(e)||Sa(e),[Vn]:e=>fn(e)||Sa(e)},jse=we({name:"ElInputNumber"}),qse=we({...jse,props:Gse,emits:Wse,setup(e,{expose:t,emit:n}){const r=e,{t:a}=xr(),o=xt("input-number"),s=re(),u=Ir({currentValue:r.modelValue,userInput:null}),{formItem:d}=lo(),f=U(()=>fn(r.modelValue)&&r.modelValue<=r.min),h=U(()=>fn(r.modelValue)&&r.modelValue>=r.max),v=U(()=>{const ee=M(r.step);return Or(r.precision)?Math.max(M(r.modelValue),ee):(ee>r.precision,r.precision)}),y=U(()=>r.controls&&r.controlsPosition==="right"),b=ta(),w=uo(),g=U(()=>{if(u.userInput!==null)return u.userInput;let ee=u.currentValue;if(Sa(ee))return"";if(fn(ee)){if(Number.isNaN(ee))return"";Or(r.precision)||(ee=ee.toFixed(r.precision))}return ee}),x=(ee,K)=>{if(Or(K)&&(K=v.value),K===0)return Math.round(ee);let X=String(ee);const Z=X.indexOf(".");if(Z===-1||!X.replace(".","").split("")[Z+K])return ee;const pe=X.length;return X.charAt(pe-1)==="5"&&(X="".concat(X.slice(0,Math.max(0,pe-1)),"6")),Number.parseFloat(Number(X).toFixed(K))},M=ee=>{if(Sa(ee))return 0;const K=ee.toString(),X=K.indexOf(".");let Z=0;return X!==-1&&(Z=K.length-X-1),Z},R=(ee,K=1)=>fn(ee)?x(ee+r.step*K):u.currentValue,A=()=>{if(r.readonly||w.value||h.value)return;const ee=Number(g.value)||0,K=R(ee);I(K),n(ro,u.currentValue),Q()},T=()=>{if(r.readonly||w.value||f.value)return;const ee=Number(g.value)||0,K=R(ee,-1);I(K),n(ro,u.currentValue),Q()},P=(ee,K)=>{const{max:X,min:Z,step:j,precision:ie,stepStrictly:pe,valueOnClear:he}=r;X<Z&&va("InputNumber","min should not be greater than max.");let le=Number(ee);if(Sa(ee)||Number.isNaN(le))return null;if(ee===""){if(he===null)return null;le=nn(he)?{min:Z,max:X}[he]:he}return pe&&(le=x(Math.round(le/j)*j,ie),le!==ee&&K&&n(Vn,le)),Or(ie)||(le=x(le,ie)),(le>X||le<Z)&&(le=le>X?X:Z,K&&n(Vn,le)),le},I=(ee,K=!0)=>{var X;const Z=u.currentValue,j=P(ee);if(!K){n(Vn,j);return}Z===j&&ee||(u.userInput=null,n(Vn,j),Z!==j&&n(Qr,j,Z),r.validateEvent&&((X=d==null?void 0:d.validate)==null||X.call(d,"change").catch(ie=>void 0)),u.currentValue=j)},E=ee=>{u.userInput=ee;const K=ee===""?null:Number(ee);n(ro,K),I(K,!1)},D=ee=>{const K=ee!==""?Number(ee):"";(fn(K)&&!Number.isNaN(K)||ee==="")&&I(K),Q(),u.userInput=null},N=()=>{var ee,K;(K=(ee=s.value)==null?void 0:ee.focus)==null||K.call(ee)},B=()=>{var ee,K;(K=(ee=s.value)==null?void 0:ee.blur)==null||K.call(ee)},G=ee=>{n("focus",ee)},$=ee=>{var K,X;u.userInput=null,Tw()&&u.currentValue===null&&((K=s.value)!=null&&K.input)&&(s.value.input.value=""),n("blur",ee),r.validateEvent&&((X=d==null?void 0:d.validate)==null||X.call(d,"blur").catch(Z=>void 0))},Q=()=>{u.currentValue!==r.modelValue&&(u.currentValue=r.modelValue)},ae=ee=>{document.activeElement===ee.target&&ee.preventDefault()};return bt(()=>r.modelValue,(ee,K)=>{const X=P(ee,!0);u.userInput===null&&X!==K&&(u.currentValue=X)},{immediate:!0}),Bn(()=>{var ee;const{min:K,max:X,modelValue:Z}=r,j=(ee=s.value)==null?void 0:ee.input;if(j.setAttribute("role","spinbutton"),Number.isFinite(X)?j.setAttribute("aria-valuemax",String(X)):j.removeAttribute("aria-valuemax"),Number.isFinite(K)?j.setAttribute("aria-valuemin",String(K)):j.removeAttribute("aria-valuemin"),j.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),j.setAttribute("aria-disabled",String(w.value)),!fn(Z)&&Z!=null){let ie=Number(Z);Number.isNaN(ie)&&(ie=null),n(Vn,ie)}j.addEventListener("wheel",ae,{passive:!1})}),Hl(()=>{var ee,K;const X=(ee=s.value)==null?void 0:ee.input;X==null||X.setAttribute("aria-valuenow","".concat((K=u.currentValue)!=null?K:""))}),t({focus:N,blur:B}),(ee,K)=>(W(),ue("div",{class:J([m(o).b(),m(o).m(m(b)),m(o).is("disabled",m(w)),m(o).is("without-controls",!ee.controls),m(o).is("controls-right",m(y))]),onDragstart:Sn(()=>{},["prevent"])},[ee.controls?kn((W(),ue("span",{key:0,role:"button","aria-label":m(a)("el.inputNumber.decrease"),class:J([m(o).e("decrease"),m(o).is("disabled",m(f))]),onKeydown:Jr(T,["enter"])},[Ue(ee.$slots,"decrease-icon",{},()=>[ce(m(tn),null,{default:be(()=>[m(y)?(W(),tt(m(xc),{key:0})):(W(),tt(m(q5),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[m(R_),T]]):Ye("v-if",!0),ee.controls?kn((W(),ue("span",{key:1,role:"button","aria-label":m(a)("el.inputNumber.increase"),class:J([m(o).e("increase"),m(o).is("disabled",m(h))]),onKeydown:Jr(A,["enter"])},[Ue(ee.$slots,"increase-icon",{},()=>[ce(m(tn),null,{default:be(()=>[m(y)?(W(),tt(m(qE),{key:0})):(W(),tt(m(TO),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[m(R_),A]]):Ye("v-if",!0),ce(m(Mo),{id:ee.id,ref_key:"input",ref:s,type:"number",step:ee.step,"model-value":m(g),placeholder:ee.placeholder,readonly:ee.readonly,disabled:m(w),size:m(b),max:ee.max,min:ee.min,name:ee.name,"aria-label":ee.ariaLabel,"validate-event":!1,onKeydown:[Jr(Sn(A,["prevent"]),["up"]),Jr(Sn(T,["prevent"]),["down"])],onBlur:$,onFocus:G,onInput:E,onChange:D},Fs({_:2},[ee.$slots.prefix?{name:"prefix",fn:be(()=>[Ue(ee.$slots,"prefix")])}:void 0,ee.$slots.suffix?{name:"suffix",fn:be(()=>[Ue(ee.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Kse=Ft(qse,[["__file","input-number.vue"]]);const z4=On(Kse),Yse=kt({modelValue:{type:ze(Array)},max:Number,tagType:{...gc.type,default:"info"},tagEffect:gc.effect,trigger:{type:ze(String),default:jt.enter},draggable:{type:Boolean,default:!1},size:ca,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),Xse={[Vn]:e=>Rt(e)||Or(e),[Qr]:e=>Rt(e)||Or(e),[ro]:e=>nn(e),"add-tag":e=>nn(e),"remove-tag":e=>nn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Zse({props:e,emit:t,formItem:n}){const r=uo(),a=ta(),o=hi(),s=re(),u=U(()=>["small"].includes(a.value)?"small":"default"),d=U(()=>{var N;return(N=e.modelValue)!=null&&N.length?void 0:e.placeholder}),f=U(()=>!(e.readonly||r.value)),h=U(()=>{var N,B;return Or(e.max)?!1:((B=(N=e.modelValue)==null?void 0:N.length)!=null?B:0)>=e.max}),v=N=>{if(h.value){s.value=void 0;return}P.value||t(ro,N.target.value)},y=N=>{var B;if(!P.value)switch(N.code){case e.trigger:N.preventDefault(),N.stopPropagation(),b();break;case jt.numpadEnter:e.trigger===jt.enter&&(N.preventDefault(),N.stopPropagation(),b());break;case jt.backspace:!s.value&&((B=e.modelValue)!=null&&B.length)&&(N.preventDefault(),N.stopPropagation(),w(e.modelValue.length-1));break}},b=()=>{var N,B;const G=(N=s.value)==null?void 0:N.trim();if(!G||h.value)return;const $=[...(B=e.modelValue)!=null?B:[],G];t(Vn,$),t(Qr,$),t("add-tag",G),s.value=void 0},w=N=>{var B;const G=((B=e.modelValue)!=null?B:[]).slice(),[$]=G.splice(N,1);t(Vn,G),t(Qr,G),t("remove-tag",$)},g=()=>{s.value=void 0,t(Vn,void 0),t(Qr,void 0),t("clear")},x=(N,B,G)=>{var $;const Q=(($=e.modelValue)!=null?$:[]).slice(),[ae]=Q.splice(N,1),ee=B>N&&G==="before"?-1:B<N&&G==="after"?1:0;Q.splice(B+ee,0,ae),t(Vn,Q),t(Qr,Q)},M=()=>{var N;(N=o.value)==null||N.focus()},R=()=>{var N;(N=o.value)==null||N.blur()},{wrapperRef:A,isFocused:T}=Td(o,{beforeFocus(){return r.value},afterBlur(){var N;b(),e.validateEvent&&((N=n==null?void 0:n.validate)==null||N.call(n,"blur").catch(B=>void 0))}}),{isComposing:P,handleCompositionStart:I,handleCompositionUpdate:E,handleCompositionEnd:D}=D0({afterComposition:v});return bt(()=>e.modelValue,()=>{var N;e.validateEvent&&((N=n==null?void 0:n.validate)==null||N.call(n,Qr).catch(B=>void 0))}),{inputRef:o,wrapperRef:A,isFocused:T,isComposing:P,inputValue:s,size:a,tagSize:u,placeholder:d,closable:f,disabled:r,inputLimit:h,handleDragged:x,handleInput:v,handleKeydown:y,handleAddTag:b,handleRemoveTag:w,handleClear:g,handleCompositionStart:I,handleCompositionUpdate:E,handleCompositionEnd:D,focus:M,blur:R}}function Jse(){const e=re(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function QC(){const e=hi(),t=re(0),n=11,r=U(()=>({minWidth:"".concat(Math.max(t.value,n),"px")}));return Ri(e,()=>{var o,s;t.value=(s=(o=e.value)==null?void 0:o.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}function Qse({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=xt("input-tag"),a=hi(),o=re(!1);let s,u,d,f;function h(w){return".".concat(r.e("inner")," .").concat(r.namespace.value,"-tag:nth-child(").concat(w+1,")")}function v(w,g){s=g,u=e.value.querySelector(h(g)),u&&(u.style.opacity="0.5"),w.dataTransfer.effectAllowed="move"}function y(w,g){if(d=g,w.preventDefault(),w.dataTransfer.dropEffect="move",Or(s)||s===g){o.value=!1;return}const x=e.value.querySelector(h(g)).getBoundingClientRect(),M=s+1!==g,R=s-1!==g,A=w.clientX-x.left,T=M?R?.5:1:-1,P=R?M?.5:0:1;A<=x.width*T?f="before":A>x.width*P?f="after":f=void 0;const I=e.value.querySelector(".".concat(r.e("inner"))),E=I.getBoundingClientRect(),D=Number.parseFloat(cc(I,"gap"))/2,N=x.top-E.top;let B=-9999;if(f==="before")B=Math.max(x.left-E.left-D,Math.floor(-D/2));else if(f==="after"){const G=x.right-E.left;B=G+(E.width===G?Math.floor(D/2):D)}YD(a.value,{top:"".concat(N,"px"),left:"".concat(B,"px")}),o.value=!!f}function b(w){w.preventDefault(),u&&(u.style.opacity=""),f&&!Or(s)&&!Or(d)&&s!==d&&t(s,d,f),o.value=!1,s=void 0,u=null,d=void 0,f=void 0,n==null||n()}return{dropIndicatorRef:a,showDropIndicator:o,handleDragStart:v,handleDragOver:y,handleDragEnd:b}}function ele({props:e,isFocused:t,hovering:n,disabled:r,inputValue:a,size:o,validateState:s,validateIcon:u,needStatusIcon:d}){const f=wc(),h=ya(),v=xt("input-tag"),y=xt("input"),b=U(()=>[v.b(),v.is("focused",t.value),v.is("hovering",n.value),v.is("disabled",r.value),v.m(o.value),v.e("wrapper"),f.class]),w=U(()=>[f.style]),g=U(()=>{var R,A;return[v.e("inner"),v.is("draggable",e.draggable),v.is("left-space",!((R=e.modelValue)!=null&&R.length)&&!h.prefix),v.is("right-space",!((A=e.modelValue)!=null&&A.length)&&!M.value)]}),x=U(()=>{var R;return e.clearable&&!r.value&&!e.readonly&&(((R=e.modelValue)==null?void 0:R.length)||a.value)&&(t.value||n.value)}),M=U(()=>h.suffix||x.value||s.value&&u.value&&d.value);return{ns:v,nsInput:y,containerKls:b,containerStyle:w,innerKls:g,showClear:x,showSuffix:M}}const tle=we({name:"ElInputTag",inheritAttrs:!1}),nle=we({...tle,props:Yse,emits:Xse,setup(e,{expose:t,emit:n}){const r=e,a=O0(),o=ya(),{form:s,formItem:u}=lo(),{inputId:d}=ul(r,{formItemContext:u}),f=U(()=>{var se;return(se=s==null?void 0:s.statusIcon)!=null?se:!1}),h=U(()=>(u==null?void 0:u.validateState)||""),v=U(()=>h.value&&Cw[h.value]),{inputRef:y,wrapperRef:b,isFocused:w,inputValue:g,size:x,tagSize:M,placeholder:R,closable:A,disabled:T,handleDragged:P,handleInput:I,handleKeydown:E,handleRemoveTag:D,handleClear:N,handleCompositionStart:B,handleCompositionUpdate:G,handleCompositionEnd:$,focus:Q,blur:ae}=Zse({props:r,emit:n,formItem:u}),{hovering:ee,handleMouseEnter:K,handleMouseLeave:X}=Jse(),{calculatorRef:Z,inputStyle:j}=QC(),{dropIndicatorRef:ie,showDropIndicator:pe,handleDragStart:he,handleDragOver:le,handleDragEnd:Re}=Qse({wrapperRef:b,handleDragged:P,afterDragged:Q}),{ns:De,nsInput:Te,containerKls:ge,containerStyle:ke,innerKls:Pe,showClear:Xe,showSuffix:ct}=ele({props:r,hovering:ee,isFocused:w,inputValue:g,disabled:T,size:x,validateState:h,validateIcon:v,needStatusIcon:f});return t({focus:Q,blur:ae}),(se,ye)=>(W(),ue("div",{ref_key:"wrapperRef",ref:b,class:J(m(ge)),style:un(m(ke)),onMouseenter:m(K),onMouseleave:m(X)},[m(o).prefix?(W(),ue("div",{key:0,class:J(m(De).e("prefix"))},[Ue(se.$slots,"prefix")],2)):Ye("v-if",!0),fe("div",{class:J(m(Pe))},[(W(!0),ue(rn,null,ar(se.modelValue,(He,dt)=>(W(),tt(m(sm),{key:dt,size:m(M),closable:m(A),type:se.tagType,effect:se.tagEffect,draggable:m(A)&&se.draggable,"disable-transitions":"",onClose:pt=>m(D)(dt),onDragstart:pt=>m(he)(pt,dt),onDragover:pt=>m(le)(pt,dt),onDragend:m(Re),onDrop:Sn(()=>{},["stop"])},{default:be(()=>[Ue(se.$slots,"tag",{value:He,index:dt},()=>[Pn(Pt(He),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),fe("div",{class:J(m(De).e("input-wrapper"))},[kn(fe("input",nr({id:m(d),ref_key:"inputRef",ref:y,"onUpdate:modelValue":He=>vi(g)?g.value=He:null},m(a),{type:"text",minlength:se.minlength,maxlength:se.maxlength,disabled:m(T),readonly:se.readonly,autocomplete:se.autocomplete,tabindex:se.tabindex,placeholder:m(R),autofocus:se.autofocus,ariaLabel:se.ariaLabel,class:m(De).e("input"),style:m(j),onCompositionstart:m(B),onCompositionupdate:m(G),onCompositionend:m($),onInput:m(I),onKeydown:m(E)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[cw,m(g)]]),fe("span",{ref_key:"calculatorRef",ref:Z,"aria-hidden":"true",class:J(m(De).e("input-calculator")),textContent:Pt(m(g))},null,10,["textContent"])],2),kn(fe("div",{ref_key:"dropIndicatorRef",ref:ie,class:J(m(De).e("drop-indicator"))},null,2),[[_r,m(pe)]])],2),m(ct)?(W(),ue("div",{key:1,class:J(m(De).e("suffix"))},[Ue(se.$slots,"suffix"),m(Xe)?(W(),tt(m(tn),{key:0,class:J([m(De).e("icon"),m(De).e("clear")]),onMousedown:Sn(m($r),["prevent"]),onClick:m(N)},{default:be(()=>[ce(m(Sc))]),_:1},8,["class","onMousedown","onClick"])):Ye("v-if",!0),m(h)&&m(v)&&m(f)?(W(),tt(m(tn),{key:1,class:J([m(Te).e("icon"),m(Te).e("validateIcon"),m(Te).is("loading",m(h)==="validating")])},{default:be(()=>[(W(),tt(tr(m(v))))]),_:1},8,["class"])):Ye("v-if",!0)],2)):Ye("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var rle=Ft(nle,[["__file","input-tag.vue"]]);const ile=On(rle),ale=kt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:ei}}),ole={click:e=>e instanceof MouseEvent},sle=we({name:"ElLink"}),lle=we({...sle,props:ale,emits:ole,setup(e,{emit:t}){const n=e,r=xt("link"),a=U(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function o(s){n.disabled||t("click",s)}return(s,u)=>(W(),ue("a",{class:J(m(a)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:o},[s.icon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(s.icon)))]),_:1})):Ye("v-if",!0),s.$slots.default?(W(),ue("span",{key:1,class:J(m(r).e("inner"))},[Ue(s.$slots,"default")],2)):Ye("v-if",!0),s.$slots.icon?Ue(s.$slots,"icon",{key:2}):Ye("v-if",!0)],10,["href","target"]))}});var ule=Ft(lle,[["__file","link.vue"]]);const cle=On(ule);let dle=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let a=!1;switch(r.code){case jt.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case jt.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case jt.tab:{Nb(t,"mouseleave");break}case jt.enter:case jt.numpadEnter:case jt.space:{a=!0,r.currentTarget.click();break}}return a&&(r.preventDefault(),r.stopPropagation()),!1})})}},fle=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(".".concat(t,"-menu"));n&&(this.submenu=new dle(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case jt.down:{Nb(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case jt.up:{Nb(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case jt.tab:{Nb(t.currentTarget,"mouseleave");break}case jt.enter:case jt.numpadEnter:case jt.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},hle=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new fle(r,t)})}};const ple=we({name:"ElMenuCollapseTransition",setup(){const e=xt("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){el(n,"".concat(e.namespace.value,"-opacity-transition")),n.style.opacity="1",r()},onAfterEnter(n){Co(n,"".concat(e.namespace.value,"-opacity-transition")),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),cs(n,e.m("collapse"))?(Co(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),el(n,e.m("collapse"))):(el(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Co(n,e.m("collapse"))),n.style.width="".concat(n.scrollWidth,"px"),n.style.overflow="hidden"},onLeave(n){el(n,"horizontal-collapse-transition"),n.style.width="".concat(n.dataset.scrollWidth,"px")}}}}});function mle(e,t,n,r,a,o){return W(),tt(Ia,nr({mode:"out-in"},e.listeners),{default:be(()=>[Ue(e.$slots,"default")]),_:3},16)}var vle=Ft(ple,[["render",mle],["__file","menu-collapse-transition.vue"]]);function V4(e,t){const n=U(()=>{let a=e.parent;const o=[t.value];for(;a.type.name!=="ElMenu";)a.props.index&&o.unshift(a.props.index),a=a.parent;return o});return{parentMenu:U(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:n}}function gle(e){return U(()=>{const n=e.backgroundColor;return n?new kN(n).shade(20).toString():""})}const U4=(e,t)=>{const n=xt("menu");return U(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":gle(e).value||"","active-color":e.activeTextColor||"",level:"".concat(t)}))},yle=kt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ei},expandOpenIcon:{type:ei},collapseCloseIcon:{type:ei},collapseOpenIcon:{type:ei}}),Ix="ElSubMenu";var e2=we({name:Ix,props:yle,setup(e,{slots:t,expose:n}){const r=Jn(),{indexPath:a,parentMenu:o}=V4(r,U(()=>e.index)),s=xt("menu"),u=xt("sub-menu"),d=qt("rootMenu");d||va(Ix,"can not inject root menu");const f=qt("subMenu:".concat(o.value.uid));f||va(Ix,"can not inject sub menu");const h=re({}),v=re({});let y;const b=re(!1),w=re(),g=re(null),x=U(()=>D.value==="horizontal"&&R.value?"bottom-start":"right-start"),M=U(()=>D.value==="horizontal"&&R.value||D.value==="vertical"&&!d.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?I.value?e.expandOpenIcon:e.expandCloseIcon:xc:e.collapseCloseIcon&&e.collapseOpenIcon?I.value?e.collapseOpenIcon:e.collapseCloseIcon:Eo),R=U(()=>f.level===0),A=U(()=>{const ie=e.teleported;return ie===void 0?R.value:ie}),T=U(()=>d.props.collapse?"".concat(s.namespace.value,"-zoom-in-left"):"".concat(s.namespace.value,"-zoom-in-top")),P=U(()=>D.value==="horizontal"&&R.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),I=U(()=>d.openedMenus.includes(e.index)),E=U(()=>{let ie=!1;return Object.values(h.value).forEach(pe=>{pe.active&&(ie=!0)}),Object.values(v.value).forEach(pe=>{pe.active&&(ie=!0)}),ie}),D=U(()=>d.props.mode),N=Ir({index:e.index,indexPath:a,active:E}),B=U4(d.props,f.level+1),G=U(()=>{var ie;return(ie=e.popperOffset)!=null?ie:d.props.popperOffset}),$=U(()=>{var ie;return(ie=e.popperClass)!=null?ie:d.props.popperClass}),Q=U(()=>{var ie;return(ie=e.showTimeout)!=null?ie:d.props.showTimeout}),ae=U(()=>{var ie;return(ie=e.hideTimeout)!=null?ie:d.props.hideTimeout}),ee=()=>{var ie,pe,he;return(he=(pe=(ie=g.value)==null?void 0:ie.popperRef)==null?void 0:pe.popperInstanceRef)==null?void 0:he.destroy()},K=ie=>{ie||ee()},X=()=>{d.props.menuTrigger==="hover"&&d.props.mode==="horizontal"||d.props.collapse&&d.props.mode==="vertical"||e.disabled||d.handleSubMenuClick({index:e.index,indexPath:a.value,active:E.value})},Z=(ie,pe=Q.value)=>{var he;if(ie.type!=="focus"){if(d.props.menuTrigger==="click"&&d.props.mode==="horizontal"||!d.props.collapse&&d.props.mode==="vertical"||e.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,y==null||y(),{stop:y}=qf(()=>{d.openMenu(e.index,a.value)},pe),A.value&&((he=o.value.vnode.el)==null||he.dispatchEvent(new MouseEvent("mouseenter")))}},j=(ie=!1)=>{var pe;if(d.props.menuTrigger==="click"&&d.props.mode==="horizontal"||!d.props.collapse&&d.props.mode==="vertical"){f.mouseInChild.value=!1;return}y==null||y(),f.mouseInChild.value=!1,{stop:y}=qf(()=>!b.value&&d.closeMenu(e.index,a.value),ae.value),A.value&&ie&&((pe=f.handleMouseleave)==null||pe.call(f,!0))};bt(()=>d.props.collapse,ie=>K(!!ie));{const ie=he=>{v.value[he.index]=he},pe=he=>{delete v.value[he.index]};or("subMenu:".concat(r.uid),{addSubMenu:ie,removeSubMenu:pe,handleMouseleave:j,mouseInChild:b,level:f.level+1})}return n({opened:I}),Bn(()=>{d.addSubMenu(N),f.addSubMenu(N)}),Yr(()=>{f.removeSubMenu(N),d.removeSubMenu(N)}),()=>{var ie;const pe=[(ie=t.title)==null?void 0:ie.call(t),mn(tn,{class:u.e("icon-arrow"),style:{transform:I.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&d.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>nn(M.value)?mn(r.appContext.components[M.value]):mn(M.value)})],he=d.isMenuPopup?mn(ao,{ref:g,visible:I.value,effect:"light",pure:!0,offset:G.value,showArrow:!1,persistent:!0,popperClass:$.value,placement:x.value,teleported:A.value,fallbackPlacements:P.value,transition:T.value,gpuAcceleration:!1},{content:()=>{var le;return mn("div",{class:[s.m(D.value),s.m("popup-container"),$.value],onMouseenter:Re=>Z(Re,100),onMouseleave:()=>j(!0),onFocus:Re=>Z(Re,100)},[mn("ul",{class:[s.b(),s.m("popup"),s.m("popup-".concat(x.value))],style:B.value},[(le=t.default)==null?void 0:le.call(t)])])},default:()=>mn("div",{class:u.e("title"),onClick:X},pe)}):mn(rn,{},[mn("div",{class:u.e("title"),ref:w,onClick:X},pe),mn(Pw,{},{default:()=>{var le;return kn(mn("ul",{role:"menu",class:[s.b(),s.m("inline")],style:B.value},[(le=t.default)==null?void 0:le.call(t)]),[[_r,I.value]])}})]);return mn("li",{class:[u.b(),u.is("active",E.value),u.is("opened",I.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:I.value,onMouseenter:Z,onMouseleave:()=>j(),onFocus:Z},[he])}}});const ble=kt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ze(Array),default:()=>Pi([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ei,default:()=>X5},popperEffect:{type:ze(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Ox=e=>Rt(e)&&e.every(t=>nn(t)),_le={close:(e,t)=>nn(e)&&Ox(t),open:(e,t)=>nn(e)&&Ox(t),select:(e,t,n,r)=>nn(e)&&Ox(t)&&jn(n)&&(r===void 0||r instanceof Promise)};var wle=we({name:"ElMenu",props:ble,emits:_le,setup(e,{emit:t,slots:n,expose:r}){const a=Jn(),o=a.appContext.config.globalProperties.$router,s=re(),u=xt("menu"),d=xt("sub-menu"),f=re(-1),h=re(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=re(e.defaultActive),y=re({}),b=re({}),w=U(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),g=()=>{const ee=v.value&&y.value[v.value];if(!ee||e.mode==="horizontal"||e.collapse)return;ee.indexPath.forEach(X=>{const Z=b.value[X];Z&&x(X,Z.indexPath)})},x=(ee,K)=>{h.value.includes(ee)||(e.uniqueOpened&&(h.value=h.value.filter(X=>K.includes(X))),h.value.push(ee),t("open",ee,K))},M=ee=>{const K=h.value.indexOf(ee);K!==-1&&h.value.splice(K,1)},R=(ee,K)=>{M(ee),t("close",ee,K)},A=({index:ee,indexPath:K})=>{h.value.includes(ee)?R(ee,K):x(ee,K)},T=ee=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:K,indexPath:X}=ee;if(!(Sa(K)||Sa(X)))if(e.router&&o){const Z=ee.route||K,j=o.push(Z).then(ie=>(ie||(v.value=K),ie));t("select",K,X,{index:K,indexPath:X,route:Z},j)}else v.value=K,t("select",K,X,{index:K,indexPath:X})},P=ee=>{const K=y.value,X=K[ee]||v.value&&K[v.value]||K[e.defaultActive];X?v.value=X.index:v.value=ee},I=ee=>{const K=getComputedStyle(ee),X=Number.parseInt(K.marginLeft,10),Z=Number.parseInt(K.marginRight,10);return ee.offsetWidth+X+Z||0},E=()=>{var ee,K;if(!s.value)return-1;const X=Array.from((K=(ee=s.value)==null?void 0:ee.childNodes)!=null?K:[]).filter(De=>De.nodeName!=="#text"||De.nodeValue),Z=64,j=getComputedStyle(s.value),ie=Number.parseInt(j.paddingLeft,10),pe=Number.parseInt(j.paddingRight,10),he=s.value.clientWidth-ie-pe;let le=0,Re=0;return X.forEach((De,Te)=>{De.nodeName!=="#comment"&&(le+=I(De),le<=he-Z&&(Re=Te+1))}),Re===X.length?-1:Re},D=ee=>b.value[ee].indexPath,N=(ee,K=33.34)=>{let X;return()=>{X&&clearTimeout(X),X=setTimeout(()=>{ee()},K)}};let B=!0;const G=()=>{if(f.value===E())return;const ee=()=>{f.value=-1,cn(()=>{f.value=E()})};B?ee():N(ee)(),B=!1};bt(()=>e.defaultActive,ee=>{y.value[ee]||(v.value=""),P(ee)}),bt(()=>e.collapse,ee=>{ee&&(h.value=[])}),bt(y.value,g);let $;to(()=>{e.mode==="horizontal"&&e.ellipsis?$=Ri(s,G).stop:$==null||$()});const Q=re(!1);{const ee=j=>{b.value[j.index]=j},K=j=>{delete b.value[j.index]};or("rootMenu",Ir({props:e,openedMenus:h,items:y,subMenus:b,activeIndex:v,isMenuPopup:w,addMenuItem:j=>{y.value[j.index]=j},removeMenuItem:j=>{delete y.value[j.index]},addSubMenu:ee,removeSubMenu:K,openMenu:x,closeMenu:R,handleMenuItemClick:T,handleSubMenuClick:A})),or("subMenu:".concat(a.uid),{addSubMenu:ee,removeSubMenu:K,mouseInChild:Q,level:0})}Bn(()=>{e.mode==="horizontal"&&new hle(a.vnode.el,u.namespace.value)}),r({open:K=>{const{indexPath:X}=b.value[K];X.forEach(Z=>x(Z,X))},close:M,handleResize:G});const ae=U4(e,0);return()=>{var ee,K;let X=(K=(ee=n.default)==null?void 0:ee.call(n))!=null?K:[];const Z=[];if(e.mode==="horizontal"&&s.value){const pe=dd(X),he=f.value===-1?pe:pe.slice(0,f.value),le=f.value===-1?[]:pe.slice(f.value);le!=null&&le.length&&e.ellipsis&&(X=he,Z.push(mn(e2,{index:"sub-menu-more",class:d.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>mn(tn,{class:d.e("icon-more")},{default:()=>mn(e.ellipsisIcon)}),default:()=>le})))}const j=e.closeOnClickOutside?[[yc,()=>{h.value.length&&(Q.value||(h.value.forEach(pe=>t("close",pe,D(pe))),h.value=[]))}]]:[],ie=kn(mn("ul",{key:String(e.collapse),role:"menubar",ref:s,style:ae.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...X,...Z]),j);return e.collapseTransition&&e.mode==="vertical"?mn(vle,()=>ie):ie}}});const xle=kt({index:{type:ze([String,null]),default:null},route:{type:ze([String,Object])},disabled:Boolean}),Sle={click:e=>nn(e.index)&&Rt(e.indexPath)},Dx="ElMenuItem",Mle=we({name:Dx,components:{ElTooltip:ao},props:xle,emits:Sle,setup(e,{emit:t}){const n=Jn(),r=qt("rootMenu"),a=xt("menu"),o=xt("menu-item");r||va(Dx,"can not inject root menu");const{parentMenu:s,indexPath:u}=V4(n,Hr(e,"index")),d=qt("subMenu:".concat(s.value.uid));d||va(Dx,"can not inject sub menu");const f=U(()=>e.index===r.activeIndex),h=Ir({index:e.index,indexPath:u,active:f}),v=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:u.value,route:e.route}),t("click",h))};return Bn(()=>{d.addSubMenu(h),r.addMenuItem(h)}),Yr(()=>{d.removeSubMenu(h),r.removeMenuItem(h)}),{parentMenu:s,rootMenu:r,active:f,nsMenu:a,nsMenuItem:o,handleClick:v}}});function Ele(e,t,n,r,a,o){const s=Zt("el-tooltip");return W(),ue("li",{class:J([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(W(),tt(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:be(()=>[Ue(e.$slots,"title")]),default:be(()=>[fe("div",{class:J(e.nsMenu.be("tooltip","trigger"))},[Ue(e.$slots,"default")],2)]),_:3},8,["effect"])):(W(),ue(rn,{key:1},[Ue(e.$slots,"default"),Ue(e.$slots,"title")],64))],10,["onClick"])}var H4=Ft(Mle,[["render",Ele],["__file","menu-item.vue"]]);const Cle={title:String},Tle="ElMenuItemGroup",Ale=we({name:Tle,props:Cle,setup(){return{ns:xt("menu-item-group")}}});function Lle(e,t,n,r,a,o){return W(),ue("li",{class:J(e.ns.b())},[fe("div",{class:J(e.ns.e("title"))},[e.$slots.title?Ue(e.$slots,"title",{key:1}):(W(),ue(rn,{key:0},[Pn(Pt(e.title),1)],64))],2),fe("ul",null,[Ue(e.$slots,"default")])],2)}var $4=Ft(Ale,[["render",Lle],["__file","menu-item-group.vue"]]);const Rle=On(wle,{MenuItem:H4,MenuItemGroup:$4,SubMenu:e2}),Ple=Ii(H4),kle=Ii($4),Ile=Ii(e2),Ole=kt({icon:{type:ei,default:()=>s5},title:String,content:{type:String,default:""}}),Dle={back:()=>!0},Nle=we({name:"ElPageHeader"}),Fle=we({...Nle,props:Ole,emits:Dle,setup(e,{emit:t}){const{t:n}=xr(),r=xt("page-header");function a(){t("back")}return(o,s)=>(W(),ue("div",{class:J([m(r).b(),{[m(r).m("has-breadcrumb")]:!!o.$slots.breadcrumb,[m(r).m("has-extra")]:!!o.$slots.extra,[m(r).is("contentful")]:!!o.$slots.default}])},[o.$slots.breadcrumb?(W(),ue("div",{key:0,class:J(m(r).e("breadcrumb"))},[Ue(o.$slots,"breadcrumb")],2)):Ye("v-if",!0),fe("div",{class:J(m(r).e("header"))},[fe("div",{class:J(m(r).e("left"))},[fe("div",{class:J(m(r).e("back")),role:"button",tabindex:"0",onClick:a},[o.icon||o.$slots.icon?(W(),ue("div",{key:0,"aria-label":o.title||m(n)("el.pageHeader.title"),class:J(m(r).e("icon"))},[Ue(o.$slots,"icon",{},()=>[o.icon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(o.icon)))]),_:1})):Ye("v-if",!0)])],10,["aria-label"])):Ye("v-if",!0),fe("div",{class:J(m(r).e("title"))},[Ue(o.$slots,"title",{},()=>[Pn(Pt(o.title||m(n)("el.pageHeader.title")),1)])],2)],2),ce(m(C4),{direction:"vertical"}),fe("div",{class:J(m(r).e("content"))},[Ue(o.$slots,"content",{},()=>[Pn(Pt(o.content),1)])],2)],2),o.$slots.extra?(W(),ue("div",{key:0,class:J(m(r).e("extra"))},[Ue(o.$slots,"extra")],2)):Ye("v-if",!0)],2),o.$slots.default?(W(),ue("div",{key:1,class:J(m(r).e("main"))},[Ue(o.$slots,"default")],2)):Ye("v-if",!0)],2))}});var Ble=Ft(Fle,[["__file","page-header.vue"]]);const zle=On(Ble),G4=Symbol("elPaginationKey"),Vle=kt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:ei}}),Ule={click:e=>e instanceof MouseEvent},Hle=we({name:"ElPaginationPrev"}),$le=we({...Hle,props:Vle,emits:Ule,setup(e){const t=e,{t:n}=xr(),r=U(()=>t.disabled||t.currentPage<=1);return(a,o)=>(W(),ue("button",{type:"button",class:"btn-prev",disabled:m(r),"aria-label":a.prevText||m(n)("el.pagination.prev"),"aria-disabled":m(r),onClick:s=>a.$emit("click",s)},[a.prevText?(W(),ue("span",{key:0},Pt(a.prevText),1)):(W(),tt(m(tn),{key:1},{default:be(()=>[(W(),tt(tr(a.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Gle=Ft($le,[["__file","prev.vue"]]);const Wle=kt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:ei}}),jle=we({name:"ElPaginationNext"}),qle=we({...jle,props:Wle,emits:["click"],setup(e){const t=e,{t:n}=xr(),r=U(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(a,o)=>(W(),ue("button",{type:"button",class:"btn-next",disabled:m(r),"aria-label":a.nextText||m(n)("el.pagination.next"),"aria-disabled":m(r),onClick:s=>a.$emit("click",s)},[a.nextText?(W(),ue("span",{key:0},Pt(a.nextText),1)):(W(),tt(m(tn),{key:1},{default:be(()=>[(W(),tt(tr(a.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Kle=Ft(qle,[["__file","next.vue"]]);const W4=Symbol("ElSelectGroup"),km=Symbol("ElSelect");function Yle(e,t){const n=qt(km),r=qt(W4,{disabled:!1}),a=U(()=>h(wo(n.props.modelValue),e.value)),o=U(()=>{var b;if(n.props.multiple){const w=wo((b=n.props.modelValue)!=null?b:[]);return!a.value&&w.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),s=U(()=>e.label||(jn(e.value)?"":e.value)),u=U(()=>e.value||e.label||""),d=U(()=>e.disabled||t.groupDisabled||o.value),f=Jn(),h=(b=[],w)=>{if(jn(e.value)){const g=n.props.valueKey;return b&&b.some(x=>ni(Zi(x,g))===Zi(w,g))}else return b&&b.includes(w)},v=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(f.proxy))},y=b=>{const w=new RegExp(FC(b),"i");t.visible=w.test(s.value)||e.created};return bt(()=>s.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),bt(()=>e.value,(b,w)=>{const{remote:g,valueKey:x}=n.props;if(b!==w&&(n.onOptionDestroy(w,f.proxy),n.onOptionCreate(f.proxy)),!e.created&&!g){if(x&&jn(b)&&jn(w)&&b[x]===w[x])return;n.setSelected()}}),bt(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:s,currentValue:u,itemSelected:a,isDisabled:d,hoverItem:v,updateOption:y}}const Xle=we({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=xt("select"),n=ja(),r=U(()=>[t.be("dropdown","item"),t.is("disabled",m(u)),t.is("selected",m(s)),t.is("hovering",m(y))]),a=Ir({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:s,isDisabled:u,select:d,hoverItem:f,updateOption:h}=Yle(e,a),{visible:v,hover:y}=ka(a),b=Jn().proxy;d.onOptionCreate(b),Yr(()=>{const g=b.value,{selected:x}=d.states,M=x.some(R=>R.value===b.value);cn(()=>{d.states.cachedOptions.get(g)===b&&!M&&d.states.cachedOptions.delete(g)}),d.onOptionDestroy(g,b)});function w(){u.value||d.handleOptionSelect(b)}return{ns:t,id:n,containerKls:r,currentLabel:o,itemSelected:s,isDisabled:u,select:d,hoverItem:f,updateOption:h,visible:v,hover:y,selectOptionClick:w,states:a}}});function Zle(e,t,n,r,a,o){return kn((W(),ue("li",{id:e.id,class:J(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:Sn(e.selectOptionClick,["stop"])},[Ue(e.$slots,"default",{},()=>[fe("span",null,Pt(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[_r,e.visible]])}var t2=Ft(Xle,[["render",Zle],["__file","option.vue"]]);const Jle=we({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=qt(km),t=xt("select"),n=U(()=>e.props.popperClass),r=U(()=>e.props.multiple),a=U(()=>e.props.fitInputWidth),o=re("");function s(){var u;o.value="".concat((u=e.selectRef)==null?void 0:u.offsetWidth,"px")}return Bn(()=>{s(),Ri(e.selectRef,s)}),{ns:t,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:a}}});function Qle(e,t,n,r,a,o){return W(),ue("div",{class:J([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:un({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(W(),ue("div",{key:0,class:J(e.ns.be("dropdown","header"))},[Ue(e.$slots,"header")],2)):Ye("v-if",!0),Ue(e.$slots,"default"),e.$slots.footer?(W(),ue("div",{key:1,class:J(e.ns.be("dropdown","footer"))},[Ue(e.$slots,"footer")],2)):Ye("v-if",!0)],6)}var eue=Ft(Jle,[["render",Qle],["__file","select-dropdown.vue"]]);const tue=(e,t)=>{const{t:n}=xr(),r=ja(),a=xt("select"),o=xt("input"),s=Ir({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),u=re(null),d=re(null),f=re(null),h=re(null),v=re(null),y=re(null),b=re(null),w=re(null),g=re(null),x=re(null),M=re(null),{isComposing:R,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:P}=D0({afterComposition:Be=>Yt(Be)}),{wrapperRef:I,isFocused:E,handleBlur:D}=Td(v,{beforeFocus(){return K.value},afterFocus(){e.automaticDropdown&&!N.value&&(N.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(Be){var vt,vn;return((vt=f.value)==null?void 0:vt.isFocusInsideContent(Be))||((vn=h.value)==null?void 0:vn.isFocusInsideContent(Be))},afterBlur(){N.value=!1,s.menuVisibleOnFocus=!1}}),N=re(!1),B=re(),{form:G,formItem:$}=lo(),{inputId:Q}=ul(e,{formItemContext:$}),{valueOnClear:ae,isEmptyValue:ee}=Sw(e),K=U(()=>e.disabled||(G==null?void 0:G.disabled)),X=U(()=>Rt(e.modelValue)?e.modelValue.length>0:!ee(e.modelValue)),Z=U(()=>{var Be;return(Be=G==null?void 0:G.statusIcon)!=null?Be:!1}),j=U(()=>e.clearable&&!K.value&&s.inputHovering&&X.value),ie=U(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),pe=U(()=>a.is("reverse",ie.value&&N.value)),he=U(()=>($==null?void 0:$.validateState)||""),le=U(()=>Cw[he.value]),Re=U(()=>e.remote?300:0),De=U(()=>e.remote&&!s.inputValue&&s.options.size===0),Te=U(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&s.inputValue&&s.options.size>0&&ge.value===0?e.noMatchText||n("el.select.noMatch"):s.options.size===0?e.noDataText||n("el.select.noData"):null),ge=U(()=>ke.value.filter(Be=>Be.visible).length),ke=U(()=>{const Be=Array.from(s.options.values()),vt=[];return s.optionValues.forEach(vn=>{const Un=Be.findIndex(sr=>sr.value===vn);Un>-1&&vt.push(Be[Un])}),vt.length>=Be.length?vt:Be}),Pe=U(()=>Array.from(s.cachedOptions.values())),Xe=U(()=>{const Be=ke.value.filter(vt=>!vt.created).some(vt=>vt.currentLabel===s.inputValue);return e.filterable&&e.allowCreate&&s.inputValue!==""&&!Be}),ct=()=>{e.filterable&&on(e.filterMethod)||e.filterable&&e.remote&&on(e.remoteMethod)||ke.value.forEach(Be=>{var vt;(vt=Be.updateOption)==null||vt.call(Be,s.inputValue)})},se=ta(),ye=U(()=>["small"].includes(se.value)?"small":"default"),He=U({get(){return N.value&&!De.value},set(Be){N.value=Be}}),dt=U(()=>{if(e.multiple&&!Or(e.modelValue))return wo(e.modelValue).length===0&&!s.inputValue;const Be=Rt(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Or(Be)?!s.inputValue:!0}),pt=U(()=>{var Be;const vt=(Be=e.placeholder)!=null?Be:n("el.select.placeholder");return e.multiple||!X.value?vt:s.selectedLabel}),nt=U(()=>sM?null:"mouseenter");bt(()=>e.modelValue,(Be,vt)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(s.inputValue="",ot("")),At(),!no(Be,vt)&&e.validateEvent&&($==null||$.validate("change").catch(vn=>void 0))},{flush:"post",deep:!0}),bt(()=>N.value,Be=>{Be?ot(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),t("visible-change",Be)}),bt(()=>s.options.entries(),()=>{wr&&(At(),e.defaultFirstOption&&(e.filterable||e.remote)&&ge.value&&rt())},{flush:"post"}),bt(()=>s.hoveringIndex,Be=>{fn(Be)&&Be>-1?B.value=ke.value[Be]||{}:B.value={},ke.value.forEach(vt=>{vt.hover=B.value===vt})}),to(()=>{s.isBeforeHide||ct()});const ot=Be=>{s.previousQuery===Be||R.value||(s.previousQuery=Be,e.filterable&&on(e.filterMethod)?e.filterMethod(Be):e.filterable&&e.remote&&on(e.remoteMethod)&&e.remoteMethod(Be),e.defaultFirstOption&&(e.filterable||e.remote)&&ge.value?cn(rt):cn(Me))},rt=()=>{const Be=ke.value.filter(sr=>sr.visible&&!sr.disabled&&!sr.states.groupDisabled),vt=Be.find(sr=>sr.created),vn=Be[0],Un=ke.value.map(sr=>sr.value);s.hoveringIndex=Ee(Un,vt||vn)},At=()=>{if(e.multiple)s.selectedLabel="";else{const vt=Rt(e.modelValue)?e.modelValue[0]:e.modelValue,vn=Mt(vt);s.selectedLabel=vn.currentLabel,s.selected=[vn];return}const Be=[];Or(e.modelValue)||wo(e.modelValue).forEach(vt=>{Be.push(Mt(vt))}),s.selected=Be},Mt=Be=>{let vt;const vn=Ug(Be);for(let dr=s.cachedOptions.size-1;dr>=0;dr--){const yr=Pe.value[dr];if(vn?Zi(yr.value,e.valueKey)===Zi(Be,e.valueKey):yr.value===Be){vt={value:Be,currentLabel:yr.currentLabel,get isDisabled(){return yr.isDisabled}};break}}if(vt)return vt;const Un=vn?Be.label:Be!=null?Be:"";return{value:Be,currentLabel:Un}},Me=()=>{s.hoveringIndex=ke.value.findIndex(Be=>s.selected.some(vt=>Qi(vt)===Qi(Be)))},ve=()=>{s.selectionWidth=d.value.getBoundingClientRect().width},Fe=()=>{s.collapseItemWidth=x.value.getBoundingClientRect().width},qe=()=>{var Be,vt;(vt=(Be=f.value)==null?void 0:Be.updatePopper)==null||vt.call(Be)},Et=()=>{var Be,vt;(vt=(Be=h.value)==null?void 0:Be.updatePopper)==null||vt.call(Be)},$t=()=>{s.inputValue.length>0&&!N.value&&(N.value=!0),ot(s.inputValue)},Yt=Be=>{if(s.inputValue=Be.target.value,e.remote)We();else return $t()},We=ps(()=>{$t()},Re.value),lt=Be=>{no(e.modelValue,Be)||t(Qr,Be)},sn=Be=>PD(Be,vt=>{const vn=s.cachedOptions.get(vt);return vn&&!vn.disabled&&!vn.states.groupDisabled}),Tt=Be=>{if(e.multiple&&Be.code!==jt.delete&&Be.target.value.length<=0){const vt=wo(e.modelValue).slice(),vn=sn(vt);if(vn<0)return;const Un=vt[vn];vt.splice(vn,1),t(Vn,vt),lt(vt),t("remove-tag",Un)}},je=(Be,vt)=>{const vn=s.selected.indexOf(vt);if(vn>-1&&!K.value){const Un=wo(e.modelValue).slice();Un.splice(vn,1),t(Vn,Un),lt(Un),t("remove-tag",vt.value)}Be.stopPropagation(),_n()},xe=Be=>{Be.stopPropagation();const vt=e.multiple?[]:ae.value;if(e.multiple)for(const vn of s.selected)vn.isDisabled&&vt.push(vn.value);t(Vn,vt),lt(vt),s.hoveringIndex=-1,N.value=!1,t("clear"),_n()},Ke=Be=>{var vt;if(e.multiple){const vn=wo((vt=e.modelValue)!=null?vt:[]).slice(),Un=Ee(vn,Be);Un>-1?vn.splice(Un,1):(e.multipleLimit<=0||vn.length<e.multipleLimit)&&vn.push(Be.value),t(Vn,vn),lt(vn),Be.created&&ot(""),e.filterable&&!e.reserveKeyword&&(s.inputValue="")}else t(Vn,Be.value),lt(Be.value),N.value=!1;_n(),!N.value&&cn(()=>{wt(Be)})},Ee=(Be=[],vt)=>Or(vt)?-1:jn(vt.value)?Be.findIndex(vn=>no(Zi(vn,e.valueKey),Qi(vt))):Be.indexOf(vt.value),wt=Be=>{var vt,vn,Un,sr,dr;const yr=Rt(Be)?Be[0]:Be;let Ar=null;if(yr!=null&&yr.value){const br=ke.value.filter(Lt=>Lt.value===yr.value);br.length>0&&(Ar=br[0].$el)}if(f.value&&Ar){const br=(sr=(Un=(vn=(vt=f.value)==null?void 0:vt.popperRef)==null?void 0:vn.contentRef)==null?void 0:Un.querySelector)==null?void 0:sr.call(Un,".".concat(a.be("dropdown","wrap")));br&&gC(br,Ar)}(dr=M.value)==null||dr.handleScroll()},an=Be=>{s.options.set(Be.value,Be),s.cachedOptions.set(Be.value,Be)},Je=(Be,vt)=>{s.options.get(Be)===vt&&s.options.delete(Be)},Dt=U(()=>{var Be,vt;return(vt=(Be=f.value)==null?void 0:Be.popperRef)==null?void 0:vt.contentRef}),en=()=>{s.isBeforeHide=!1,cn(()=>wt(s.selected))},_n=()=>{var Be;(Be=v.value)==null||Be.focus()},wn=()=>{var Be;if(N.value){N.value=!1,cn(()=>{var vt;return(vt=v.value)==null?void 0:vt.blur()});return}(Be=v.value)==null||Be.blur()},hr=Be=>{xe(Be)},Yn=Be=>{if(N.value=!1,E.value){const vt=new FocusEvent("focus",Be);cn(()=>D(vt))}},vr=()=>{s.inputValue.length>0?s.inputValue="":N.value=!1},Ji=()=>{K.value||(sM&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:N.value=!N.value)},pi=()=>{if(!N.value)Ji();else{const Be=ke.value[s.hoveringIndex];Be&&!Be.isDisabled&&Ke(Be)}},Qi=Be=>jn(Be.value)?Zi(Be.value,e.valueKey):Be.value,na=U(()=>ke.value.filter(Be=>Be.visible).every(Be=>Be.isDisabled)),ra=U(()=>e.multiple?e.collapseTags?s.selected.slice(0,e.maxCollapseTags):s.selected:[]),To=U(()=>e.multiple?e.collapseTags?s.selected.slice(e.maxCollapseTags):[]:[]),Ka=Be=>{if(!N.value){N.value=!0;return}if(!(s.options.size===0||ge.value===0||R.value)&&!na.value){Be==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):Be==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const vt=ke.value[s.hoveringIndex];(vt.isDisabled||!vt.visible)&&Ka(Be),cn(()=>wt(B.value))}},da=()=>{if(!d.value)return 0;const Be=window.getComputedStyle(d.value);return Number.parseFloat(Be.gap||"6px")},$e=U(()=>{const Be=da(),vt=x.value&&e.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-Be:s.selectionWidth;return{maxWidth:"".concat(vt,"px")}}),zt=U(()=>({maxWidth:"".concat(s.selectionWidth,"px")})),Kt=Be=>{t("popup-scroll",Be)};return Ri(d,ve),Ri(w,qe),Ri(I,qe),Ri(g,Et),Ri(x,Fe),Bn(()=>{At()}),{inputId:Q,contentId:r,nsSelect:a,nsInput:o,states:s,isFocused:E,expanded:N,optionsArray:ke,hoverOption:B,selectSize:se,filteredOptionsCount:ge,updateTooltip:qe,updateTagTooltip:Et,debouncedOnInputChange:We,onInput:Yt,deletePrevTag:Tt,deleteTag:je,deleteSelected:xe,handleOptionSelect:Ke,scrollToOption:wt,hasModelValue:X,shouldShowPlaceholder:dt,currentPlaceholder:pt,mouseEnterEventName:nt,needStatusIcon:Z,showClose:j,iconComponent:ie,iconReverse:pe,validateState:he,validateIcon:le,showNewOption:Xe,updateOptions:ct,collapseTagSize:ye,setSelected:At,selectDisabled:K,emptyText:Te,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:P,onOptionCreate:an,onOptionDestroy:Je,handleMenuEnter:en,focus:_n,blur:wn,handleClearClick:hr,handleClickOutside:Yn,handleEsc:vr,toggleMenu:Ji,selectOption:pi,getValueKey:Qi,navigateOptions:Ka,dropdownMenuVisible:He,showTagList:ra,collapseTagList:To,popupScroll:Kt,tagStyle:$e,collapseTagStyle:zt,popperRef:Dt,inputRef:v,tooltipRef:f,tagTooltipRef:h,prefixRef:y,suffixRef:b,selectRef:u,wrapperRef:I,selectionRef:d,scrollbarRef:M,menuRef:w,tagMenuRef:g,collapseItemRef:x}};var nue=we({name:"ElOptions",setup(e,{slots:t}){const n=qt(km);let r=[];return()=>{var a,o;const s=(a=t.default)==null?void 0:a.call(t),u=[];function d(f){Rt(f)&&f.forEach(h=>{var v,y,b,w;const g=(v=(h==null?void 0:h.type)||{})==null?void 0:v.name;g==="ElOptionGroup"?d(!nn(h.children)&&!Rt(h.children)&&on((y=h.children)==null?void 0:y.default)?(b=h.children)==null?void 0:b.default():h.children):g==="ElOption"?u.push((w=h.props)==null?void 0:w.value):Rt(h.children)&&d(h.children)})}return s.length&&d((o=s[0])==null?void 0:o.children),no(u,r)||(r=u,n&&(n.states.optionValues=u)),s}}});const rue=kt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ca,effect:{type:ze(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ze(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Aa.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ei,default:Sc},fitInputWidth:Boolean,suffixIcon:{type:ei,default:xc},tagType:{...gc.type,default:"info"},tagEffect:{...gc.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:ze(String),values:Cc,default:"bottom-start"},fallbackPlacements:{type:ze(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Am,...qa(["ariaLabel"])}),lR="ElSelect",iue=we({name:lR,componentName:lR,components:{ElSelectMenu:eue,ElOption:t2,ElOptions:nue,ElTag:sm,ElScrollbar:Nu,ElTooltip:ao,ElIcon:tn},directives:{ClickOutside:yc},props:rue,emits:[Vn,Qr,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t}){const n=U(()=>{const{modelValue:d,multiple:f}=e,h=f?[]:void 0;return Rt(d)?f?d:h:f?h:d}),r=Ir({...ka(e),modelValue:n}),a=tue(r,t),{calculatorRef:o,inputStyle:s}=QC();or(km,Ir({props:r,states:a.states,optionsArray:a.optionsArray,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy,selectRef:a.selectRef,setSelected:a.setSelected}));const u=U(()=>e.multiple?a.states.selected.map(d=>d.currentLabel):a.states.selectedLabel);return{...a,modelValue:n,selectedLabel:u,calculatorRef:o,inputStyle:s}}});function aue(e,t,n,r,a,o){const s=Zt("el-tag"),u=Zt("el-tooltip"),d=Zt("el-icon"),f=Zt("el-option"),h=Zt("el-options"),v=Zt("el-scrollbar"),y=Zt("el-select-menu"),b=E0("click-outside");return kn((W(),ue("div",{ref:"selectRef",class:J([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Sg(e.mouseEnterEventName)]:w=>e.states.inputHovering=!0,onMouseleave:w=>e.states.inputHovering=!1},[ce(u,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:"".concat(e.nsSelect.namespace.value,"-zoom-in-top"),"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:w=>e.states.isBeforeHide=!1},{default:be(()=>{var w;return[fe("div",{ref:"wrapperRef",class:J([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Sn(e.toggleMenu,["prevent"])},[e.$slots.prefix?(W(),ue("div",{key:0,ref:"prefixRef",class:J(e.nsSelect.e("prefix"))},[Ue(e.$slots,"prefix")],2)):Ye("v-if",!0),fe("div",{ref:"selectionRef",class:J([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Ue(e.$slots,"tag",{key:0},()=>[(W(!0),ue(rn,null,ar(e.showTagList,g=>(W(),ue("div",{key:e.getValueKey(g),class:J(e.nsSelect.e("selected-item"))},[ce(s,{closable:!e.selectDisabled&&!g.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:un(e.tagStyle),onClose:x=>e.deleteTag(x,g)},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))},[Ue(e.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Pn(Pt(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(W(),tt(u,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:be(()=>[fe("div",{ref:"collapseItemRef",class:J(e.nsSelect.e("selected-item"))},[ce(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:un(e.collapseTagStyle)},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))}," + "+Pt(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[fe("div",{ref:"tagMenuRef",class:J(e.nsSelect.e("selection"))},[(W(!0),ue(rn,null,ar(e.collapseTagList,g=>(W(),ue("div",{key:e.getValueKey(g),class:J(e.nsSelect.e("selected-item"))},[ce(s,{class:"in-tooltip",closable:!e.selectDisabled&&!g.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:x=>e.deleteTag(x,g)},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))},[Ue(e.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Pn(Pt(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Ye("v-if",!0)]):Ye("v-if",!0),fe("div",{class:J([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[kn(fe("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":g=>e.states.inputValue=g,type:"text",name:e.name,class:J([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:un(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((w=e.hoverOption)==null?void 0:w.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Jr(Sn(g=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Jr(Sn(g=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Jr(Sn(e.handleEsc,["stop","prevent"]),["esc"]),Jr(Sn(e.selectOption,["stop","prevent"]),["enter"]),Jr(Sn(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Sn(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[cw,e.states.inputValue]]),e.filterable?(W(),ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:J(e.nsSelect.e("input-calculator")),textContent:Pt(e.states.inputValue)},null,10,["textContent"])):Ye("v-if",!0)],2),e.shouldShowPlaceholder?(W(),ue("div",{key:1,class:J([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Ue(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[fe("span",null,Pt(e.currentPlaceholder),1)]):(W(),ue("span",{key:1},Pt(e.currentPlaceholder),1))],2)):Ye("v-if",!0)],2),fe("div",{ref:"suffixRef",class:J(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(W(),tt(d,{key:0,class:J([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:be(()=>[(W(),tt(tr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.showClose&&e.clearIcon?(W(),tt(d,{key:1,class:J([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:be(()=>[(W(),tt(tr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(W(),tt(d,{key:2,class:J([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:be(()=>[(W(),tt(tr(e.validateIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],10,["onClick"])]}),content:be(()=>[ce(y,{ref:"menuRef"},{default:be(()=>[e.$slots.header?(W(),ue("div",{key:0,class:J(e.nsSelect.be("dropdown","header")),onClick:Sn(()=>{},["stop"])},[Ue(e.$slots,"header")],10,["onClick"])):Ye("v-if",!0),kn(ce(v,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:J([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:be(()=>[e.showNewOption?(W(),tt(f,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Ye("v-if",!0),ce(h,null,{default:be(()=>[Ue(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[_r,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(W(),ue("div",{key:1,class:J(e.nsSelect.be("dropdown","loading"))},[Ue(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(W(),ue("div",{key:2,class:J(e.nsSelect.be("dropdown","empty"))},[Ue(e.$slots,"empty",{},()=>[fe("span",null,Pt(e.emptyText),1)])],2)):Ye("v-if",!0),e.$slots.footer?(W(),ue("div",{key:3,class:J(e.nsSelect.be("dropdown","footer")),onClick:Sn(()=>{},["stop"])},[Ue(e.$slots,"footer")],10,["onClick"])):Ye("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[b,e.handleClickOutside,e.popperRef]])}var oue=Ft(iue,[["render",aue],["__file","select.vue"]]);const sue=we({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=xt("select"),n=re(null),r=Jn(),a=re([]);or(W4,Ir({...ka(e)}));const o=U(()=>a.value.some(f=>f.visible===!0)),s=f=>{var h,v;return((h=f.type)==null?void 0:h.name)==="ElOption"&&!!((v=f.component)!=null&&v.proxy)},u=f=>{const h=wo(f),v=[];return h.forEach(y=>{var b,w;s(y)?v.push(y.component.proxy):(b=y.children)!=null&&b.length?v.push(...u(y.children)):(w=y.component)!=null&&w.subTree&&v.push(...u(y.component.subTree))}),v},d=()=>{a.value=u(r.subTree)};return Bn(()=>{d()}),BD(n,d,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:t}}});function lue(e,t,n,r,a,o){return kn((W(),ue("ul",{ref:"groupRef",class:J(e.ns.be("group","wrap"))},[fe("li",{class:J(e.ns.be("group","title"))},Pt(e.label),3),fe("li",null,[fe("ul",{class:J(e.ns.b("group"))},[Ue(e.$slots,"default")],2)])],2)),[[_r,e.visible]])}var j4=Ft(sue,[["render",lue],["__file","option-group.vue"]]);const Yf=On(oue,{Option:t2,OptionGroup:j4}),I_=Ii(t2),uue=Ii(j4),n2=()=>qt(G4,{}),cue=kt({pageSize:{type:Number,required:!0},pageSizes:{type:ze(Array),default:()=>Pi([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Du},appendSizeTo:String}),due=we({name:"ElPaginationSizes"}),fue=we({...due,props:cue,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=xr(),a=xt("pagination"),o=n2(),s=re(n.pageSize);bt(()=>n.pageSizes,(f,h)=>{if(!no(f,h)&&Rt(f)){const v=f.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",v)}}),bt(()=>n.pageSize,f=>{s.value=f});const u=U(()=>n.pageSizes);function d(f){var h;f!==s.value&&(s.value=f,(h=o.handleSizeChange)==null||h.call(o,Number(f)))}return(f,h)=>(W(),ue("span",{class:J(m(a).e("sizes"))},[ce(m(Yf),{"model-value":s.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,"append-to":f.appendSizeTo,onChange:d},{default:be(()=>[(W(!0),ue(rn,null,ar(m(u),v=>(W(),tt(m(I_),{key:v,value:v,label:v+m(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var hue=Ft(fue,[["__file","sizes.vue"]]);const pue=kt({size:{type:String,values:Du}}),mue=we({name:"ElPaginationJumper"}),vue=we({...mue,props:pue,setup(e){const{t}=xr(),n=xt("pagination"),{pageCount:r,disabled:a,currentPage:o,changeEvent:s}=n2(),u=re(),d=U(()=>{var v;return(v=u.value)!=null?v:o==null?void 0:o.value});function f(v){u.value=v?+v:""}function h(v){v=Math.trunc(+v),s==null||s(v),u.value=void 0}return(v,y)=>(W(),ue("span",{class:J(m(n).e("jump")),disabled:m(a)},[fe("span",{class:J([m(n).e("goto")])},Pt(m(t)("el.pagination.goto")),3),ce(m(Mo),{size:v.size,class:J([m(n).e("editor"),m(n).is("in-pagination")]),min:1,max:m(r),disabled:m(a),"model-value":m(d),"validate-event":!1,"aria-label":m(t)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:h},null,8,["size","class","max","disabled","model-value","aria-label"]),fe("span",{class:J([m(n).e("classifier")])},Pt(m(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var gue=Ft(vue,[["__file","jumper.vue"]]);const yue=kt({total:{type:Number,default:1e3}}),bue=we({name:"ElPaginationTotal"}),_ue=we({...bue,props:yue,setup(e){const{t}=xr(),n=xt("pagination"),{disabled:r}=n2();return(a,o)=>(W(),ue("span",{class:J(m(n).e("total")),disabled:m(r)},Pt(m(t)("el.pagination.total",{total:a.total})),11,["disabled"]))}});var wue=Ft(_ue,[["__file","total.vue"]]);const xue=kt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Sue=we({name:"ElPaginationPager"}),Mue=we({...Sue,props:xue,emits:["change"],setup(e,{emit:t}){const n=e,r=xt("pager"),a=xt("icon"),{t:o}=xr(),s=re(!1),u=re(!1),d=re(!1),f=re(!1),h=re(!1),v=re(!1),y=U(()=>{const T=n.pagerCount,P=(T-1)/2,I=Number(n.currentPage),E=Number(n.pageCount);let D=!1,N=!1;E>T&&(I>T-P&&(D=!0),I<E-P&&(N=!0));const B=[];if(D&&!N){const G=E-(T-2);for(let $=G;$<E;$++)B.push($)}else if(!D&&N)for(let G=2;G<T;G++)B.push(G);else if(D&&N){const G=Math.floor(T/2)-1;for(let $=I-G;$<=I+G;$++)B.push($)}else for(let G=2;G<E;G++)B.push(G);return B}),b=U(()=>["more","btn-quickprev",a.b(),r.is("disabled",n.disabled)]),w=U(()=>["more","btn-quicknext",a.b(),r.is("disabled",n.disabled)]),g=U(()=>n.disabled?-1:0);to(()=>{const T=(n.pagerCount-1)/2;s.value=!1,u.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-T&&(s.value=!0),n.currentPage<n.pageCount-T&&(u.value=!0))});function x(T=!1){n.disabled||(T?d.value=!0:f.value=!0)}function M(T=!1){T?h.value=!0:v.value=!0}function R(T){const P=T.target;if(P.tagName.toLowerCase()==="li"&&Array.from(P.classList).includes("number")){const I=Number(P.textContent);I!==n.currentPage&&t("change",I)}else P.tagName.toLowerCase()==="li"&&Array.from(P.classList).includes("more")&&A(T)}function A(T){const P=T.target;if(P.tagName.toLowerCase()==="ul"||n.disabled)return;let I=Number(P.textContent);const E=n.pageCount,D=n.currentPage,N=n.pagerCount-2;P.className.includes("more")&&(P.className.includes("quickprev")?I=D-N:P.className.includes("quicknext")&&(I=D+N)),Number.isNaN(+I)||(I<1&&(I=1),I>E&&(I=E)),I!==D&&t("change",I)}return(T,P)=>(W(),ue("ul",{class:J(m(r).b()),onClick:A,onKeyup:Jr(R,["enter"])},[T.pageCount>0?(W(),ue("li",{key:0,class:J([[m(r).is("active",T.currentPage===1),m(r).is("disabled",T.disabled)],"number"]),"aria-current":T.currentPage===1,"aria-label":m(o)("el.pagination.currentPage",{pager:1}),tabindex:m(g)}," 1 ",10,["aria-current","aria-label","tabindex"])):Ye("v-if",!0),s.value?(W(),ue("li",{key:1,class:J(m(b)),tabindex:m(g),"aria-label":m(o)("el.pagination.prevPages",{pager:T.pagerCount-2}),onMouseenter:I=>x(!0),onMouseleave:I=>d.value=!1,onFocus:I=>M(!0),onBlur:I=>h.value=!1},[(d.value||h.value)&&!T.disabled?(W(),tt(m(md),{key:0})):(W(),tt(m(NA),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Ye("v-if",!0),(W(!0),ue(rn,null,ar(m(y),I=>(W(),ue("li",{key:I,class:J([[m(r).is("active",T.currentPage===I),m(r).is("disabled",T.disabled)],"number"]),"aria-current":T.currentPage===I,"aria-label":m(o)("el.pagination.currentPage",{pager:I}),tabindex:m(g)},Pt(I),11,["aria-current","aria-label","tabindex"]))),128)),u.value?(W(),ue("li",{key:2,class:J(m(w)),tabindex:m(g),"aria-label":m(o)("el.pagination.nextPages",{pager:T.pagerCount-2}),onMouseenter:I=>x(),onMouseleave:I=>f.value=!1,onFocus:I=>M(),onBlur:I=>v.value=!1},[(f.value||v.value)&&!T.disabled?(W(),tt(m(vd),{key:0})):(W(),tt(m(NA),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Ye("v-if",!0),T.pageCount>1?(W(),ue("li",{key:3,class:J([[m(r).is("active",T.currentPage===T.pageCount),m(r).is("disabled",T.disabled)],"number"]),"aria-current":T.currentPage===T.pageCount,"aria-label":m(o)("el.pagination.currentPage",{pager:T.pageCount}),tabindex:m(g)},Pt(T.pageCount),11,["aria-current","aria-label","tabindex"])):Ye("v-if",!0)],42,["onKeyup"]))}});var Eue=Ft(Mue,[["__file","pager.vue"]]);const ko=e=>typeof e!="number",Cue=kt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>fn(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ze(Array),default:()=>Pi([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:ei,default:()=>mc},nextText:{type:String,default:""},nextIcon:{type:ei,default:()=>Eo},teleported:{type:Boolean,default:!0},small:Boolean,size:ca,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),Tue={"update:current-page":e=>fn(e),"update:page-size":e=>fn(e),"size-change":e=>fn(e),change:(e,t)=>fn(e)&&fn(t),"current-change":e=>fn(e),"prev-click":e=>fn(e),"next-click":e=>fn(e)},uR="ElPagination";var Aue=we({name:uR,props:Cue,emits:Tue,setup(e,{emit:t,slots:n}){const{t:r}=xr(),a=xt("pagination"),o=Jn().vnode.props||{},s=WD(),u=U(()=>{var P;return e.small?"small":(P=e.size)!=null?P:s.value});ud({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},U(()=>!!e.small));const d="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,f="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,h=U(()=>{if(ko(e.total)&&ko(e.pageCount)||!ko(e.currentPage)&&!d)return!1;if(e.layout.includes("sizes")){if(ko(e.pageCount)){if(!ko(e.total)&&!ko(e.pageSize)&&!f)return!1}else if(!f)return!1}return!0}),v=re(ko(e.defaultPageSize)?10:e.defaultPageSize),y=re(ko(e.defaultCurrentPage)?1:e.defaultCurrentPage),b=U({get(){return ko(e.pageSize)?v.value:e.pageSize},set(P){ko(e.pageSize)&&(v.value=P),f&&(t("update:page-size",P),t("size-change",P))}}),w=U(()=>{let P=0;return ko(e.pageCount)?ko(e.total)||(P=Math.max(1,Math.ceil(e.total/b.value))):P=e.pageCount,P}),g=U({get(){return ko(e.currentPage)?y.value:e.currentPage},set(P){let I=P;P<1?I=1:P>w.value&&(I=w.value),ko(e.currentPage)&&(y.value=I),d&&(t("update:current-page",I),t("current-change",I))}});bt(w,P=>{g.value>P&&(g.value=P)}),bt([g,b],P=>{t("change",...P)},{flush:"post"});function x(P){g.value=P}function M(P){b.value=P;const I=w.value;g.value>I&&(g.value=I)}function R(){e.disabled||(g.value-=1,t("prev-click",g.value))}function A(){e.disabled||(g.value+=1,t("next-click",g.value))}function T(P,I){P&&(P.props||(P.props={}),P.props.class=[P.props.class,I].join(" "))}return or(G4,{pageCount:w,disabled:U(()=>e.disabled),currentPage:g,changeEvent:x,handleSizeChange:M}),()=>{var P,I;if(!h.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&w.value<=1)return null;const E=[],D=[],N=mn("div",{class:a.e("rightwrapper")},D),B={prev:mn(Gle,{disabled:e.disabled,currentPage:g.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:R}),jumper:mn(gue,{size:u.value}),pager:mn(Eue,{currentPage:g.value,pageCount:w.value,pagerCount:e.pagerCount,onChange:x,disabled:e.disabled}),next:mn(Kle,{disabled:e.disabled,currentPage:g.value,pageCount:w.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:A}),sizes:mn(hue,{pageSize:b.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:u.value,appendSizeTo:e.appendSizeTo}),slot:(I=(P=n==null?void 0:n.default)==null?void 0:P.call(n))!=null?I:null,total:mn(wue,{total:ko(e.total)?0:e.total})},G=e.layout.split(",").map(Q=>Q.trim());let $=!1;return G.forEach(Q=>{if(Q==="->"){$=!0;return}$?D.push(B[Q]):E.push(B[Q])}),T(E[0],a.is("first")),T(E[E.length-1],a.is("last")),$&&D.length>0&&(T(D[0],a.is("first")),T(D[D.length-1],a.is("last")),E.push(N)),mn("div",{class:[a.b(),a.is("background",e.background),a.m(u.value)]},E)}}});const Lue=On(Aue),Rue=kt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:uM,default:"primary"},cancelButtonType:{type:String,values:uM,default:"text"},icon:{type:ei,default:()=>t$},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Aa.teleported,persistent:Aa.persistent,width:{type:[String,Number],default:150}}),Pue={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},kue=we({name:"ElPopconfirm"}),Iue=we({...kue,props:Rue,emits:Pue,setup(e,{emit:t}){const n=e,{t:r}=xr(),a=xt("popconfirm"),o=re(),s=()=>{var y,b;(b=(y=o.value)==null?void 0:y.onClose)==null||b.call(y)},u=U(()=>({width:Bi(n.width)})),d=y=>{t("confirm",y),s()},f=y=>{t("cancel",y),s()},h=U(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),v=U(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(y,b)=>(W(),tt(m(ao),nr({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},y.$attrs,{"popper-class":"".concat(m(a).namespace.value,"-popover"),"popper-style":m(u),teleported:y.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":y.hideAfter,persistent:y.persistent}),{content:be(()=>[fe("div",{class:J(m(a).b())},[fe("div",{class:J(m(a).e("main"))},[!y.hideIcon&&y.icon?(W(),tt(m(tn),{key:0,class:J(m(a).e("icon")),style:un({color:y.iconColor})},{default:be(()=>[(W(),tt(tr(y.icon)))]),_:1},8,["class","style"])):Ye("v-if",!0),Pn(" "+Pt(y.title),1)],2),fe("div",{class:J(m(a).e("action"))},[Ue(y.$slots,"actions",{confirm:d,cancel:f},()=>[ce(m(Ra),{size:"small",type:y.cancelButtonType==="text"?"":y.cancelButtonType,text:y.cancelButtonType==="text",onClick:f},{default:be(()=>[Pn(Pt(m(v)),1)]),_:1},8,["type","text"]),ce(m(Ra),{size:"small",type:y.confirmButtonType==="text"?"":y.confirmButtonType,text:y.confirmButtonType==="text",onClick:d},{default:be(()=>[Pn(Pt(m(h)),1)]),_:1},8,["type","text"])])],2)],2)]),default:be(()=>[y.$slots.reference?Ue(y.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Oue=Ft(Iue,[["__file","popconfirm.vue"]]);const Due=On(Oue),Nue=kt({trigger:i0.trigger,placement:Yb.placement,disabled:i0.disabled,visible:Aa.visible,transition:Aa.transition,popperOptions:Yb.popperOptions,tabindex:Yb.tabindex,content:Aa.content,popperStyle:Aa.popperStyle,popperClass:Aa.popperClass,enterable:{...Aa.enterable,default:!0},effect:{...Aa.effect,default:"light"},teleported:Aa.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Fue={"update:visible":e=>ri(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Bue="onUpdate:visible",zue=we({name:"ElPopover"}),Vue=we({...zue,props:Nue,emits:Fue,setup(e,{expose:t,emit:n}){const r=e,a=U(()=>r[Bue]),o=xt("popover"),s=re(),u=U(()=>{var x;return(x=m(s))==null?void 0:x.popperRef}),d=U(()=>[{width:Bi(r.width)},r.popperStyle]),f=U(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),h=U(()=>r.transition==="".concat(o.namespace.value,"-fade-in-linear")),v=()=>{var x;(x=s.value)==null||x.hide()},y=()=>{n("before-enter")},b=()=>{n("before-leave")},w=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:u,hide:v}),(x,M)=>(W(),tt(m(ao),nr({ref_key:"tooltipRef",ref:s},x.$attrs,{trigger:x.trigger,placement:x.placement,disabled:x.disabled,visible:x.visible,transition:x.transition,"popper-options":x.popperOptions,tabindex:x.tabindex,content:x.content,offset:x.offset,"show-after":x.showAfter,"hide-after":x.hideAfter,"auto-close":x.autoClose,"show-arrow":x.showArrow,"aria-label":x.title,effect:x.effect,enterable:x.enterable,"popper-class":m(f),"popper-style":m(d),teleported:x.teleported,persistent:x.persistent,"gpu-acceleration":m(h),"onUpdate:visible":m(a),onBeforeShow:y,onBeforeHide:b,onShow:w,onHide:g}),{content:be(()=>[x.title?(W(),ue("div",{key:0,class:J(m(o).e("title")),role:"title"},Pt(x.title),3)):Ye("v-if",!0),Ue(x.$slots,"default",{},()=>[Pn(Pt(x.content),1)])]),default:be(()=>[x.$slots.reference?Ue(x.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Uue=Ft(Vue,[["__file","popover.vue"]]);const cR=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var Hue={mounted(e,t){cR(e,t)},updated(e,t){cR(e,t)}};const $ue="popover",q4=SX(Hue,$ue),Gue=On(Uue,{directive:q4}),Wue=kt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ze(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ze([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ze(Function),default:e=>"".concat(e,"%")}}),jue=we({name:"ElProgress"}),que=we({...jue,props:Wue,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=xt("progress"),a=U(()=>{const A={width:"".concat(t.percentage,"%"),animationDuration:"".concat(t.duration,"s")},T=R(t.percentage);return T.includes("gradient")?A.background=T:A.backgroundColor=T,A}),o=U(()=>(t.strokeWidth/t.width*100).toFixed(1)),s=U(()=>["circle","dashboard"].includes(t.type)?Number.parseInt("".concat(50-Number.parseFloat(o.value)/2),10):0),u=U(()=>{const A=s.value,T=t.type==="dashboard";return"\n          M 50 50\n          m 0 ".concat(T?"":"-").concat(A,"\n          a ").concat(A," ").concat(A," 0 1 1 0 ").concat(T?"-":"").concat(A*2,"\n          a ").concat(A," ").concat(A," 0 1 1 0 ").concat(T?"":"-").concat(A*2,"\n          ")}),d=U(()=>2*Math.PI*s.value),f=U(()=>t.type==="dashboard"?.75:1),h=U(()=>{const A=-1*d.value*(1-f.value)/2;return"".concat(A,"px")}),v=U(()=>({strokeDasharray:"".concat(d.value*f.value,"px, ").concat(d.value,"px"),strokeDashoffset:h.value})),y=U(()=>({strokeDasharray:"".concat(d.value*f.value*(t.percentage/100),"px, ").concat(d.value,"px"),strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),b=U(()=>{let A;return t.color?A=R(t.percentage):A=n[t.status]||n.default,A}),w=U(()=>t.status==="warning"?fw:t.type==="line"?t.status==="success"?KE:Sc:t.status==="success"?T0:Bl),g=U(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),x=U(()=>t.format(t.percentage));function M(A){const T=100/A.length;return A.map((I,E)=>nn(I)?{color:I,percentage:(E+1)*T}:I).sort((I,E)=>I.percentage-E.percentage)}const R=A=>{var T;const{color:P}=t;if(on(P))return P(A);if(nn(P))return P;{const I=M(P);for(const E of I)if(E.percentage>A)return E.color;return(T=I[I.length-1])==null?void 0:T.color}};return(A,T)=>(W(),ue("div",{class:J([m(r).b(),m(r).m(A.type),m(r).is(A.status),{[m(r).m("without-text")]:!A.showText,[m(r).m("text-inside")]:A.textInside}]),role:"progressbar","aria-valuenow":A.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[A.type==="line"?(W(),ue("div",{key:0,class:J(m(r).b("bar"))},[fe("div",{class:J(m(r).be("bar","outer")),style:un({height:"".concat(A.strokeWidth,"px")})},[fe("div",{class:J([m(r).be("bar","inner"),{[m(r).bem("bar","inner","indeterminate")]:A.indeterminate},{[m(r).bem("bar","inner","striped")]:A.striped},{[m(r).bem("bar","inner","striped-flow")]:A.stripedFlow}]),style:un(m(a))},[(A.showText||A.$slots.default)&&A.textInside?(W(),ue("div",{key:0,class:J(m(r).be("bar","innerText"))},[Ue(A.$slots,"default",{percentage:A.percentage},()=>[fe("span",null,Pt(m(x)),1)])],2)):Ye("v-if",!0)],6)],6)],2)):(W(),ue("div",{key:1,class:J(m(r).b("circle")),style:un({height:"".concat(A.width,"px"),width:"".concat(A.width,"px")})},[(W(),ue("svg",{viewBox:"0 0 100 100"},[fe("path",{class:J(m(r).be("circle","track")),d:m(u),stroke:"var(".concat(m(r).cssVarName("fill-color-light"),", #e5e9f2)"),"stroke-linecap":A.strokeLinecap,"stroke-width":m(o),fill:"none",style:un(m(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),fe("path",{class:J(m(r).be("circle","path")),d:m(u),stroke:m(b),fill:"none",opacity:A.percentage?1:0,"stroke-linecap":A.strokeLinecap,"stroke-width":m(o),style:un(m(y))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(A.showText||A.$slots.default)&&!A.textInside?(W(),ue("div",{key:2,class:J(m(r).e("text")),style:un({fontSize:"".concat(m(g),"px")})},[Ue(A.$slots,"default",{percentage:A.percentage},()=>[A.status?(W(),tt(m(tn),{key:1},{default:be(()=>[(W(),tt(tr(m(w))))]),_:1})):(W(),ue("span",{key:0},Pt(m(x)),1))])],6)):Ye("v-if",!0)],10,["aria-valuenow"]))}});var Kue=Ft(que,[["__file","progress.vue"]]);const K4=On(Kue),Yue=kt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ze([Array,Object]),default:()=>Pi(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ze([Array,Object]),default:()=>[Vy,Vy,Vy]},voidIcon:{type:ei,default:()=>M$},disabledVoidIcon:{type:ei,default:()=>Vy},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ze(Array),default:()=>Pi(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:ca,clearable:Boolean,...qa(["ariaLabel"])}),Xue={[Qr]:e=>fn(e),[Vn]:e=>fn(e)},Zue=we({name:"ElRate"}),Jue=we({...Zue,props:Yue,emits:Xue,setup(e,{expose:t,emit:n}){const r=e;function a(K,X){const Z=pe=>jn(pe),j=Object.keys(X).map(pe=>+pe).filter(pe=>{const he=X[pe];return(Z(he)?he.excluded:!1)?K<pe:K<=pe}).sort((pe,he)=>pe-he),ie=X[j[0]];return Z(ie)&&ie.value||ie}const o=qt(sh,void 0),s=qt(ku,void 0),u=ta(),d=xt("rate"),{inputId:f,isLabeledByFormItem:h}=ul(r,{formItemContext:s}),v=re(r.modelValue),y=re(-1),b=re(!0),w=U(()=>[d.b(),d.m(u.value)]),g=U(()=>r.disabled||(o==null?void 0:o.disabled)),x=U(()=>d.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":T.value})),M=U(()=>{let K="";return r.showScore?K=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?"".concat(r.modelValue):"".concat(v.value)):r.showText&&(K=r.texts[Math.ceil(v.value)-1]),K}),R=U(()=>r.modelValue*100-Math.floor(r.modelValue)*100),A=U(()=>Rt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),T=U(()=>{const K=a(v.value,A.value);return jn(K)?"":K}),P=U(()=>{let K="";return g.value?K="".concat(R.value,"%"):r.allowHalf&&(K="50%"),{color:T.value,width:K}}),I=U(()=>{let K=Rt(r.icons)?[...r.icons]:{...r.icons};return K=ld(K),Rt(K)?{[r.lowThreshold]:K[0],[r.highThreshold]:{value:K[1],excluded:!0},[r.max]:K[2]}:K}),E=U(()=>a(r.modelValue,I.value)),D=U(()=>g.value?nn(r.disabledVoidIcon)?r.disabledVoidIcon:ld(r.disabledVoidIcon):nn(r.voidIcon)?r.voidIcon:ld(r.voidIcon)),N=U(()=>a(v.value,I.value));function B(K){const X=g.value&&R.value>0&&K-1<r.modelValue&&K>r.modelValue,Z=r.allowHalf&&b.value&&K-.5<=v.value&&K>v.value;return X||Z}function G(K){r.clearable&&K===r.modelValue&&(K=0),n(Vn,K),r.modelValue!==K&&n("change",K)}function $(K){g.value||(r.allowHalf&&b.value?G(v.value):G(K))}function Q(K){if(g.value)return;let X=v.value;const Z=K.code;return Z===jt.up||Z===jt.right?(r.allowHalf?X+=.5:X+=1,K.stopPropagation(),K.preventDefault()):(Z===jt.left||Z===jt.down)&&(r.allowHalf?X-=.5:X-=1,K.stopPropagation(),K.preventDefault()),X=X<0?0:X,X=X>r.max?r.max:X,n(Vn,X),n("change",X),X}function ae(K,X){if(!g.value){if(r.allowHalf&&X){let Z=X.target;cs(Z,d.e("item"))&&(Z=Z.querySelector(".".concat(d.e("icon")))),(Z.clientWidth===0||cs(Z,d.e("decimal")))&&(Z=Z.parentNode),b.value=X.offsetX*2<=Z.clientWidth,v.value=b.value?K-.5:K}else v.value=K;y.value=K}}function ee(){g.value||(r.allowHalf&&(b.value=r.modelValue!==Math.floor(r.modelValue)),v.value=r.modelValue,y.value=-1)}return bt(()=>r.modelValue,K=>{v.value=K,b.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Vn,0),t({setCurrentValue:ae,resetCurrentValue:ee}),(K,X)=>{var Z;return W(),ue("div",{id:m(f),class:J([m(w),m(d).is("disabled",m(g))]),role:"slider","aria-label":m(h)?void 0:K.ariaLabel||"rating","aria-labelledby":m(h)?(Z=m(s))==null?void 0:Z.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":m(M)||void 0,"aria-valuemin":"0","aria-valuemax":K.max,tabindex:"0",style:un(m(x)),onKeydown:Q},[(W(!0),ue(rn,null,ar(K.max,(j,ie)=>(W(),ue("span",{key:ie,class:J(m(d).e("item")),onMousemove:pe=>ae(j,pe),onMouseleave:ee,onClick:pe=>$(j)},[ce(m(tn),{class:J([m(d).e("icon"),{hover:y.value===j},m(d).is("active",j<=v.value)])},{default:be(()=>[B(j)?Ye("v-if",!0):(W(),ue(rn,{key:0},[kn((W(),tt(tr(m(N)),null,null,512)),[[_r,j<=v.value]]),kn((W(),tt(tr(m(D)),null,null,512)),[[_r,!(j<=v.value)]])],64)),B(j)?(W(),ue(rn,{key:1},[(W(),tt(tr(m(D)),{class:J([m(d).em("decimal","box")])},null,8,["class"])),ce(m(tn),{style:un(m(P)),class:J([m(d).e("icon"),m(d).e("decimal")])},{default:be(()=>[(W(),tt(tr(m(E))))]),_:1},8,["style","class"])],64)):Ye("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),K.showText||K.showScore?(W(),ue("span",{key:0,class:J(m(d).e("text")),style:un({color:K.textColor})},Pt(m(M)),7)):Ye("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Que=Ft(Jue,[["__file","rate.vue"]]);const ece=On(Que),Lp={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},dR={[Lp.success]:g5,[Lp.warning]:fw,[Lp.error]:YE,[Lp.info]:dw},tce=kt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),nce=we({name:"ElResult"}),rce=we({...nce,props:tce,setup(e){const t=e,n=xt("result"),r=U(()=>{const a=t.icon,o=a&&Lp[a]?Lp[a]:"icon-info",s=dR[o]||dR["icon-info"];return{class:o,component:s}});return(a,o)=>(W(),ue("div",{class:J(m(n).b())},[fe("div",{class:J(m(n).e("icon"))},[Ue(a.$slots,"icon",{},()=>[m(r).component?(W(),tt(tr(m(r).component),{key:0,class:J(m(r).class)},null,8,["class"])):Ye("v-if",!0)])],2),a.title||a.$slots.title?(W(),ue("div",{key:0,class:J(m(n).e("title"))},[Ue(a.$slots,"title",{},()=>[fe("p",null,Pt(a.title),1)])],2)):Ye("v-if",!0),a.subTitle||a.$slots["sub-title"]?(W(),ue("div",{key:1,class:J(m(n).e("subtitle"))},[Ue(a.$slots,"sub-title",{},()=>[fe("p",null,Pt(a.subTitle),1)])],2)):Ye("v-if",!0),a.$slots.extra?(W(),ue("div",{key:2,class:J(m(n).e("extra"))},[Ue(a.$slots,"extra")],2)):Ye("v-if",!0)],2))}});var ice=Ft(rce,[["__file","result.vue"]]);const ace=On(ice),oce=["start","center","end","space-around","space-between","space-evenly"],sce=["top","middle","bottom"],lce=kt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:oce,default:"start"},align:{type:String,values:sce}}),uce=we({name:"ElRow"}),cce=we({...uce,props:lce,setup(e){const t=e,n=xt("row"),r=U(()=>t.gutter);or(t4,{gutter:r});const a=U(()=>{const s={};return t.gutter&&(s.marginRight=s.marginLeft="-".concat(t.gutter/2,"px")),s}),o=U(()=>[n.b(),n.is("justify-".concat(t.justify),t.justify!=="start"),n.is("align-".concat(t.align),!!t.align)]);return(s,u)=>(W(),tt(tr(s.tag),{class:J(m(o)),style:un(m(a))},{default:be(()=>[Ue(s.$slots,"default")]),_:3},8,["class","style"]))}});var dce=Ft(cce,[["__file","row.vue"]]);const fce=On(dce),hce=we({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:xt("select")}}});function pce(e,t,n,r,a,o){return W(),ue("div",{class:J(e.ns.be("group","title")),style:un({...e.style,lineHeight:"".concat(e.height,"px")})},Pt(e.item.label),7)}var mce=Ft(hce,[["render",pce],["__file","group-item.vue"]]);function vce(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Y4={label:"label",value:"value",disabled:"disabled",options:"options"};function Dw(e){const t=U(()=>({...Y4,...e.props}));return{aliasProps:t,getLabel:s=>Zi(s,t.value.label),getValue:s=>Zi(s,t.value.value),getDisabled:s=>Zi(s,t.value.disabled),getOptions:s=>Zi(s,t.value.options)}}const gce=kt({allowCreate:Boolean,autocomplete:{type:ze(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:ei,default:Sc},effect:{type:ze(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ze([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ze(Array),required:!0},placeholder:{type:String},teleported:Aa.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ze(Object),default:()=>({})},remote:Boolean,size:ca,props:{type:ze(Object),default:()=>Y4},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:ze(String),values:Cc,default:"bottom-start"},fallbackPlacements:{type:ze(Array),default:["bottom-start","top-start","right","left"]},tagType:{...gc.type,default:"info"},tagEffect:{...gc.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return ri(e)||fn(e)}},...Am,...qa(["ariaLabel"])}),yce=kt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ze(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),bce={[Vn]:e=>!0,[Qr]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},_ce={hover:e=>fn(e),select:(e,t)=>!0},r2=Symbol("ElSelectV2Injection"),wce=we({props:yce,emits:_ce,setup(e,{emit:t}){const n=qt(r2),r=xt("select"),{hoverItem:a,selectOptionClick:o}=vce(e,{emit:t}),{getLabel:s}=Dw(n.props);return{ns:r,hoverItem:a,selectOptionClick:o,getLabel:s}}});function xce(e,t,n,r,a,o){return W(),ue("li",{"aria-selected":e.selected,style:un(e.style),class:J([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:Sn(e.selectOptionClick,["stop"])},[Ue(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[fe("span",null,Pt(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var Sce=Ft(wce,[["render",xce],["__file","option-item.vue"]]),fR=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Mce(e,t){return!!(e===t||fR(e)&&fR(t))}function Ece(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Mce(e[n],t[n]))return!1;return!0}function Cce(e,t){t===void 0&&(t=Ece);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var s=e.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}const X4=()=>{const t=Jn().proxy.$props;return U(()=>{const n=(r,a,o)=>({});return t.perfMode?bw(n):Cce(n)})},RM=50,O_="itemRendered",D_="scroll",Rp="forward",N_="backward",tl="auto",Nw="smart",l0="start",Mu="center",u0="end",um="horizontal",i2="vertical",Tce="ltr",$p="rtl",c0="negative",a2="positive-ascending",o2="positive-descending",Ace={[um]:"left",[i2]:"top"},Lce=20,Rce={[um]:"deltaX",[i2]:"deltaY"},Pce=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let a,o=0;const s=d=>d<0&&t.value||d>0&&e.value;return{hasReachedEdge:s,onWheel:d=>{Kf(a);const f=d[Rce[n.value]];s(o)&&s(o+f)||(o+=f,Tw()||d.preventDefault(),a=yd(()=>{r(o),o=0}))}}},PM=Wl({type:ze([Number,Function]),required:!0}),kM=Wl({type:Number}),IM=Wl({type:Number,default:2}),kce=Wl({type:String,values:["ltr","rtl"],default:"ltr"}),OM=Wl({type:Number,default:0}),F_=Wl({type:Number,required:!0}),Z4=Wl({type:String,values:["horizontal","vertical"],default:i2}),J4=kt({className:{type:String,default:""},containerElement:{type:ze([String,Object]),default:"div"},data:{type:ze(Array),default:()=>Pi([])},direction:kce,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ze([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Q4=kt({cache:IM,estimatedItemSize:kM,layout:Z4,initScrollOffset:OM,total:F_,itemSize:PM,...J4}),DM={type:Number,default:6},eF={type:Number,default:0},tF={type:Number,default:2},Bf=kt({columnCache:IM,columnWidth:PM,estimatedColumnWidth:kM,estimatedRowHeight:kM,initScrollLeft:OM,initScrollTop:OM,itemKey:{type:ze(Function),default:({columnIndex:e,rowIndex:t})=>"".concat(t,":").concat(e)},rowCache:IM,rowHeight:PM,totalColumn:F_,totalRow:F_,hScrollbarSize:DM,vScrollbarSize:DM,scrollbarStartGap:eF,scrollbarEndGap:tF,role:String,...J4}),nF=kt({alwaysOn:Boolean,class:String,layout:Z4,total:F_,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:DM,startGap:eF,endGap:tF,visible:Boolean}),Lf=(e,t)=>e<t?Rp:N_,d0=e=>e===Tce||e===$p||e===um,hR=e=>e===$p;let np=null;function B_(e=!1){if(np===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?np=o2:(t.scrollLeft=1,t.scrollLeft===0?np=c0:np=a2),document.body.removeChild(t),np}return np}function Ice({move:e,size:t,bar:n},r){const a={},o="translate".concat(n.axis,"(").concat(e,"px)");return a[n.size]=t,a.transform=o,a.msTransform=o,a.webkitTransform=o,r==="horizontal"?a.height="100%":a.width="100%",a}const NM=we({name:"ElVirtualScrollBar",props:nF,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=U(()=>e.startGap+e.endGap),r=xt("virtual-scrollbar"),a=xt("scrollbar"),o=re(),s=re();let u=null,d=null;const f=Ir({isDragging:!1,traveled:0}),h=U(()=>eN[e.layout]),v=U(()=>e.clientSize-m(n)),y=U(()=>({position:"absolute",width:"".concat(um===e.layout?v.value:e.scrollbarSize,"px"),height:"".concat(um===e.layout?e.scrollbarSize:v.value,"px"),[Ace[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),b=U(()=>{const I=e.ratio,E=e.clientSize;if(I>=100)return Number.POSITIVE_INFINITY;if(I>=50)return I*E/100;const D=E/3;return Math.floor(Math.min(Math.max(I*E,Lce),D))}),w=U(()=>{if(!Number.isFinite(b.value))return{display:"none"};const I="".concat(b.value,"px");return Ice({bar:h.value,size:I,move:f.traveled},e.layout)}),g=U(()=>Math.floor(e.clientSize-b.value-m(n))),x=()=>{window.addEventListener("mousemove",T),window.addEventListener("mouseup",A);const I=m(s);I&&(d=document.onselectstart,document.onselectstart=()=>!1,I.addEventListener("touchmove",T,{passive:!0}),I.addEventListener("touchend",A))},M=()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",A),document.onselectstart=d,d=null;const I=m(s);I&&(I.removeEventListener("touchmove",T),I.removeEventListener("touchend",A))},R=I=>{I.stopImmediatePropagation(),!(I.ctrlKey||[1,2].includes(I.button))&&(f.isDragging=!0,f[h.value.axis]=I.currentTarget[h.value.offset]-(I[h.value.client]-I.currentTarget.getBoundingClientRect()[h.value.direction]),t("start-move"),x())},A=()=>{f.isDragging=!1,f[h.value.axis]=0,t("stop-move"),M()},T=I=>{const{isDragging:E}=f;if(!E||!s.value||!o.value)return;const D=f[h.value.axis];if(!D)return;Kf(u);const N=(o.value.getBoundingClientRect()[h.value.direction]-I[h.value.client])*-1,B=s.value[h.value.offset]-D,G=N-B;u=yd(()=>{f.traveled=Math.max(e.startGap,Math.min(G,g.value)),t("scroll",G,g.value)})},P=I=>{const E=Math.abs(I.target.getBoundingClientRect()[h.value.direction]-I[h.value.client]),D=s.value[h.value.offset]/2,N=E-D;f.traveled=Math.max(0,Math.min(N,g.value)),t("scroll",N,g.value)};return bt(()=>e.scrollFrom,I=>{f.isDragging||(f.traveled=Math.ceil(I*g.value))}),Yr(()=>{M()}),()=>mn("div",{role:"presentation",ref:o,class:[r.b(),e.class,(e.alwaysOn||f.isDragging)&&"always-on"],style:y.value,onMousedown:Sn(P,["stop","prevent"]),onTouchstartPrevent:R},mn("div",{ref:s,class:a.e("thumb"),style:w.value,onMousedown:R},[]))}}),rF=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:a,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:u,clearCache:d,validateProps:f})=>we({name:e!=null?e:"ElVirtualList",props:Q4,emits:[O_,D_],setup(h,{emit:v,expose:y}){f(h);const b=Jn(),w=xt("vl"),g=re(u(h,b)),x=X4(),M=re(),R=re(),A=re(),T=re({isScrolling:!1,scrollDir:"forward",scrollOffset:fn(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),P=U(()=>{const{total:le,cache:Re}=h,{isScrolling:De,scrollDir:Te,scrollOffset:ge}=m(T);if(le===0)return[0,0,0,0];const ke=o(h,ge,m(g)),Pe=s(h,ke,ge,m(g)),Xe=!De||Te===N_?Math.max(1,Re):1,ct=!De||Te===Rp?Math.max(1,Re):1;return[Math.max(0,ke-Xe),Math.max(0,Math.min(le-1,Pe+ct)),ke,Pe]}),I=U(()=>a(h,m(g))),E=U(()=>d0(h.layout)),D=U(()=>[{position:"relative",["overflow-".concat(E.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:fn(h.height)?"".concat(h.height,"px"):h.height,width:fn(h.width)?"".concat(h.width,"px"):h.width},h.style]),N=U(()=>{const le=m(I),Re=m(E);return{height:Re?"100%":"".concat(le,"px"),pointerEvents:m(T).isScrolling?"none":void 0,width:Re?"".concat(le,"px"):"100%"}}),B=U(()=>E.value?h.width:h.height),{onWheel:G}=Pce({atStartEdge:U(()=>T.value.scrollOffset<=0),atEndEdge:U(()=>T.value.scrollOffset>=I.value),layout:U(()=>h.layout)},le=>{var Re,De;(De=(Re=A.value).onMouseUp)==null||De.call(Re),X(Math.min(T.value.scrollOffset+le,I.value-B.value))});Kr(M,"wheel",G,{passive:!1});const $=()=>{const{total:le}=h;if(le>0){const[ge,ke,Pe,Xe]=m(P);v(O_,ge,ke,Pe,Xe)}const{scrollDir:Re,scrollOffset:De,updateRequested:Te}=m(T);v(D_,Re,De,Te)},Q=le=>{const{clientHeight:Re,scrollHeight:De,scrollTop:Te}=le.currentTarget,ge=m(T);if(ge.scrollOffset===Te)return;const ke=Math.max(0,Math.min(Te,De-Re));T.value={...ge,isScrolling:!0,scrollDir:Lf(ge.scrollOffset,ke),scrollOffset:ke,updateRequested:!1},cn(ie)},ae=le=>{const{clientWidth:Re,scrollLeft:De,scrollWidth:Te}=le.currentTarget,ge=m(T);if(ge.scrollOffset===De)return;const{direction:ke}=h;let Pe=De;if(ke===$p)switch(B_()){case c0:{Pe=-De;break}case o2:{Pe=Te-Re-De;break}}Pe=Math.max(0,Math.min(Pe,Te-Re)),T.value={...ge,isScrolling:!0,scrollDir:Lf(ge.scrollOffset,Pe),scrollOffset:Pe,updateRequested:!1},cn(ie)},ee=le=>{m(E)?ae(le):Q(le),$()},K=(le,Re)=>{const De=(I.value-B.value)/Re*le;X(Math.min(I.value-B.value,De))},X=le=>{le=Math.max(le,0),le!==m(T).scrollOffset&&(T.value={...m(T),scrollOffset:le,scrollDir:Lf(m(T).scrollOffset,le),updateRequested:!0},cn(ie))},Z=(le,Re=tl)=>{const{scrollOffset:De}=m(T);le=Math.max(0,Math.min(le,h.total-1)),X(t(h,le,Re,De,m(g)))},j=le=>{const{direction:Re,itemSize:De,layout:Te}=h,ge=x.value(d&&De,d&&Te,d&&Re);let ke;if(kr(ge,String(le)))ke=ge[le];else{const Pe=r(h,le,m(g)),Xe=n(h,le,m(g)),ct=m(E),se=Re===$p,ye=ct?Pe:0;ge[le]=ke={position:"absolute",left:se?void 0:"".concat(ye,"px"),right:se?"".concat(ye,"px"):void 0,top:ct?0:"".concat(Pe,"px"),height:ct?"100%":"".concat(Xe,"px"),width:ct?"".concat(Xe,"px"):"100%"}}return ke},ie=()=>{T.value.isScrolling=!1,cn(()=>{x.value(-1,null,null)})},pe=()=>{const le=M.value;le&&(le.scrollTop=0)};Bn(()=>{if(!wr)return;const{initScrollOffset:le}=h,Re=m(M);fn(le)&&Re&&(m(E)?Re.scrollLeft=le:Re.scrollTop=le),$()}),Hl(()=>{const{direction:le,layout:Re}=h,{scrollOffset:De,updateRequested:Te}=m(T),ge=m(M);if(Te&&ge)if(Re===um)if(le===$p)switch(B_()){case c0:{ge.scrollLeft=-De;break}case a2:{ge.scrollLeft=De;break}default:{const{clientWidth:ke,scrollWidth:Pe}=ge;ge.scrollLeft=Pe-ke-De;break}}else ge.scrollLeft=De;else ge.scrollTop=De}),VE(()=>{m(M).scrollTop=m(T).scrollOffset});const he={ns:w,clientSize:B,estimatedTotalSize:I,windowStyle:D,windowRef:M,innerRef:R,innerStyle:N,itemsToRender:P,scrollbarRef:A,states:T,getItemStyle:j,onScroll:ee,onScrollbarScroll:K,onWheel:G,scrollTo:X,scrollToItem:Z,resetScrollTop:pe};return y({windowRef:M,innerRef:R,getItemStyleCache:x,scrollTo:X,scrollToItem:Z,resetScrollTop:pe,states:T}),he},render(h){var v;const{$slots:y,className:b,clientSize:w,containerElement:g,data:x,getItemStyle:M,innerElement:R,itemsToRender:A,innerStyle:T,layout:P,total:I,onScroll:E,onScrollbarScroll:D,states:N,useIsScrolling:B,windowStyle:G,ns:$}=h,[Q,ae]=A,ee=tr(g),K=tr(R),X=[];if(I>0)for(let pe=Q;pe<=ae;pe++)X.push(mn(rn,{key:pe},(v=y.default)==null?void 0:v.call(y,{data:x,index:pe,isScrolling:B?N.isScrolling:void 0,style:M(pe)})));const Z=[mn(K,{style:T,ref:"innerRef"},nn(K)?X:{default:()=>X})],j=mn(NM,{ref:"scrollbarRef",clientSize:w,layout:P,onScroll:D,ratio:w*100/this.estimatedTotalSize,scrollFrom:N.scrollOffset/(this.estimatedTotalSize-w),total:I}),ie=mn(ee,{class:[$.e("window"),b],style:G,onScroll:E,ref:"windowRef",key:0},nn(ee)?[Z]:{default:()=>[Z]});return mn("div",{key:0,class:[$.e("wrapper"),N.scrollbarAlwaysOn?"always-on":""]},[ie,j])}}),iF=rF({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:a},o,s,u)=>{const d=d0(r)?a:e,f=Math.max(0,t*n-d),h=Math.min(f,o*n),v=Math.max(0,(o+1)*n-d);switch(s===Nw&&(u>=v-d&&u<=h+d?s=tl:s=Mu),s){case l0:return h;case u0:return v;case Mu:{const y=Math.round(v+(h-v)/2);return y<Math.ceil(d/2)?0:y>f+Math.floor(d/2)?f:y}case tl:default:return u>=v&&u<=h?u:u<v?v:h}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:a},o,s)=>{const u=o*n,d=d0(r)?a:e,f=Math.ceil((d+s-u)/n);return Math.max(0,Math.min(t-1,o+f-1))},initCache(){},clearCache:!0,validateProps(){}}),Pp=(e,t,n)=>{const{itemSize:r}=e,{items:a,lastVisitedIndex:o}=n;if(t>o){let s=0;if(o>=0){const u=a[o];s=u.offset+u.size}for(let u=o+1;u<=t;u++){const d=r(u);a[u]={offset:s,size:d},s+=d}n.lastVisitedIndex=t}return a[t]},Oce=(e,t,n)=>{const{items:r,lastVisitedIndex:a}=t;return(a>0?r[a].offset:0)>=n?aF(e,t,0,a,n):Dce(e,t,Math.max(0,a),n)},aF=(e,t,n,r,a)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),s=Pp(e,o,t).offset;if(s===a)return o;s<a?n=o+1:s>a&&(r=o-1)}return Math.max(0,n-1)},Dce=(e,t,n,r)=>{const{total:a}=e;let o=1;for(;n<a&&Pp(e,n,t).offset<r;)n+=o,o*=2;return aF(e,t,Math.floor(n/2),Math.min(n,a-1),r)},pR=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let a=0;if(r>=e&&(r=e-1),r>=0){const u=t[r];a=u.offset+u.size}const s=(e-r-1)*n;return a+s},Nce=rF({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>Pp(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:pR,getOffset:(e,t,n,r,a)=>{const{height:o,layout:s,width:u}=e,d=d0(s)?u:o,f=Pp(e,t,a),h=pR(e,a),v=Math.max(0,Math.min(h-d,f.offset)),y=Math.max(0,f.offset-d+f.size);switch(n===Nw&&(r>=y-d&&r<=v+d?n=tl:n=Mu),n){case l0:return v;case u0:return y;case Mu:return Math.round(y+(v-y)/2);case tl:default:return r>=y&&r<=v?r:r<y?y:v}},getStartIndexForOffset:(e,t,n)=>Oce(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:a,total:o,layout:s,width:u}=e,d=d0(s)?u:a,f=Pp(e,t,r),h=n+d;let v=f.offset+f.size,y=t;for(;y<o-1&&v<h;)y++,v+=Pp(e,y,r).size;return y},initCache({estimatedItemSize:e=RM},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,a=!0)=>{var o,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=t.exposed)==null||o.getItemStyleCache(-1),a&&((s=t.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),Fce={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var Bce=we({name:"ElSelectDropdown",props:Fce,setup(e,{slots:t,expose:n}){const r=qt(r2),a=xt("select"),{getLabel:o,getValue:s,getDisabled:u}=Dw(r.props),d=re([]),f=re(),h=U(()=>e.data.length);bt(()=>h.value,()=>{var G,$;($=(G=r.tooltipRef.value).updatePopper)==null||$.call(G)});const v=U(()=>Or(r.props.estimatedOptionHeight)),y=U(()=>v.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:G=>d.value[G]}),b=(G=[],$)=>{const{props:{valueKey:Q}}=r;return jn($)?G&&G.some(ae=>ni(Zi(ae,Q))===Zi($,Q)):G.includes($)},w=(G,$)=>{if(jn($)){const{valueKey:Q}=r.props;return Zi(G,Q)===Zi($,Q)}else return G===$},g=(G,$)=>r.props.multiple?b(G,s($)):w(G,s($)),x=(G,$)=>{const{disabled:Q,multiple:ae,multipleLimit:ee}=r.props;return Q||!$&&(ae?ee>0&&G.length>=ee:!1)},M=G=>e.hoveringIndex===G;n({listRef:f,isSized:v,isItemDisabled:x,isItemHovering:M,isItemSelected:g,scrollToItem:G=>{const $=f.value;$&&$.scrollToItem(G)},resetScrollTop:()=>{const G=f.value;G&&G.resetScrollTop()}});const P=G=>{const{index:$,data:Q,style:ae}=G,ee=m(v),{itemSize:K,estimatedSize:X}=m(y),{modelValue:Z}=r.props,{onSelect:j,onHover:ie}=r,pe=Q[$];if(pe.type==="Group")return ce(mce,{item:pe,style:ae,height:ee?K:X},null);const he=g(Z,pe),le=x(Z,he),Re=M($);return ce(Sce,nr(G,{selected:he,disabled:u(pe)||le,created:!!pe.created,hovering:Re,item:pe,onSelect:j,onHover:ie}),{default:De=>{var Te;return((Te=t.default)==null?void 0:Te.call(t,De))||ce("span",null,[o(pe)])}})},{onKeyboardNavigate:I,onKeyboardSelect:E}=r,D=()=>{I("forward")},N=()=>{I("backward")},B=G=>{const{code:$}=G,{tab:Q,esc:ae,down:ee,up:K,enter:X,numpadEnter:Z}=jt;switch($!==Q&&(G.preventDefault(),G.stopPropagation()),$){case Q:case ae:break;case ee:D();break;case K:N();break;case X:case Z:E();break}};return()=>{var G,$,Q,ae;const{data:ee,width:K}=e,{height:X,multiple:Z,scrollbarAlwaysOn:j}=r.props,ie=m(v)?iF:Nce;return ce("div",{class:[a.b("dropdown"),a.is("multiple",Z)],style:{width:"".concat(K,"px")}},[(G=t.header)==null?void 0:G.call(t),(($=t.loading)==null?void 0:$.call(t))||((Q=t.empty)==null?void 0:Q.call(t))||ce(ie,nr({ref:f},m(y),{className:a.be("dropdown","list"),scrollbarAlwaysOn:j,data:ee,height:X,width:K,total:ee.length,onKeydown:B}),{default:pe=>ce(P,pe,null)}),(ae=t.footer)==null?void 0:ae.call(t)])}}});function zce(e,t){const{aliasProps:n,getLabel:r,getValue:a}=Dw(e),o=re(0),s=re(),u=U(()=>e.allowCreate&&e.filterable);function d(b){const w=g=>r(g)===b;return e.options&&e.options.some(w)||t.createdOptions.some(w)}function f(b){u.value&&(e.multiple&&b.created?o.value++:s.value=b)}function h(b){if(u.value)if(b&&b.length>0){if(d(b))return;const w={[n.value.value]:b,[n.value.label]:b,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=w:t.createdOptions.push(w)}else if(e.multiple)t.createdOptions.length=o.value;else{const w=s.value;t.createdOptions.length=0,w&&w.created&&t.createdOptions.push(w)}}function v(b){if(!u.value||!b||!b.created||b.created&&e.reserveKeyword&&t.inputValue===r(b))return;const w=t.createdOptions.findIndex(g=>a(g)===a(b));~w&&(t.createdOptions.splice(w,1),o.value--)}function y(){u.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:h,removeNewOption:v,selectNewOption:f,clearAllNewOption:y}}const Vce=(e,t)=>{const{t:n}=xr(),r=xt("select"),a=xt("input"),{form:o,formItem:s}=lo(),{inputId:u}=ul(e,{formItemContext:s}),{aliasProps:d,getLabel:f,getValue:h,getDisabled:v,getOptions:y}=Dw(e),{valueOnClear:b,isEmptyValue:w}=Sw(e),g=Ir({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),x=re(-1),M=re(),R=re(),A=re(),T=re(),P=re(),I=re(),E=re(),D=re(),N=re(),B=re(),{isComposing:G,handleCompositionStart:$,handleCompositionEnd:Q,handleCompositionUpdate:ae}=D0({afterComposition:Lt=>Un(Lt)}),{wrapperRef:ee,isFocused:K,handleBlur:X}=Td(P,{beforeFocus(){return pe.value},afterFocus(){e.automaticDropdown&&!ie.value&&(ie.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(Lt){var hn,Gn;return((hn=A.value)==null?void 0:hn.isFocusInsideContent(Lt))||((Gn=T.value)==null?void 0:Gn.isFocusInsideContent(Lt))},afterBlur(){ie.value=!1,g.menuVisibleOnFocus=!1}}),Z=re([]),j=re([]),ie=re(!1),pe=U(()=>e.disabled||(o==null?void 0:o.disabled)),he=U(()=>{var Lt;return(Lt=o==null?void 0:o.statusIcon)!=null?Lt:!1}),le=U(()=>{const Lt=j.value.length*e.itemHeight;return Lt>e.height?e.height:Lt}),Re=U(()=>e.multiple?Rt(e.modelValue)&&e.modelValue.length>0:!w(e.modelValue)),De=U(()=>e.clearable&&!pe.value&&g.inputHovering&&Re.value),Te=U(()=>e.remote&&e.filterable?"":xc),ge=U(()=>Te.value&&r.is("reverse",ie.value)),ke=U(()=>(s==null?void 0:s.validateState)||""),Pe=U(()=>{if(ke.value)return Cw[ke.value]}),Xe=U(()=>e.remote?300:0),ct=U(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!g.inputValue&&Z.value.length===0?!1:e.filterable&&g.inputValue&&Z.value.length>0&&j.value.length===0?e.noMatchText||n("el.select.noMatch"):Z.value.length===0?e.noDataText||n("el.select.noData"):null),se=Lt=>{const hn=Gn=>{if(e.filterable&&on(e.filterMethod)||e.filterable&&e.remote&&on(e.remoteMethod))return!0;const Qn=new RegExp(FC(Lt),"i");return Lt?Qn.test(f(Gn)||""):!0};return e.loading?[]:[...g.createdOptions,...e.options].reduce((Gn,Qn)=>{const Nr=y(Qn);if(Rt(Nr)){const Sr=Nr.filter(hn);Sr.length>0&&Gn.push({label:f(Qn),type:"Group"},...Sr)}else(e.remote||hn(Qn))&&Gn.push(Qn);return Gn},[])},ye=()=>{Z.value=se(""),j.value=se(g.inputValue)},He=U(()=>{const Lt=new Map;return Z.value.forEach((hn,Gn)=>{Lt.set(wn(h(hn)),{option:hn,index:Gn})}),Lt}),dt=U(()=>{const Lt=new Map;return j.value.forEach((hn,Gn)=>{Lt.set(wn(h(hn)),{option:hn,index:Gn})}),Lt}),pt=U(()=>j.value.every(Lt=>v(Lt))),nt=ta(),ot=U(()=>nt.value==="small"?"small":"default"),rt=()=>{var Lt;if(fn(e.fitInputWidth)){x.value=e.fitInputWidth;return}const hn=((Lt=M.value)==null?void 0:Lt.offsetWidth)||200;!e.fitInputWidth&&Z.value.length>0?cn(()=>{x.value=Math.max(hn,At())}):x.value=hn},At=()=>{var Lt,hn;const Qn=document.createElement("canvas").getContext("2d"),Nr=r.be("dropdown","item"),Bs=(((hn=(Lt=D.value)==null?void 0:Lt.listRef)==null?void 0:hn.innerRef)||document).querySelector(".".concat(Nr));if(Bs===null||Qn===null)return 0;const Ti=getComputedStyle(Bs),jo=Number.parseFloat(Ti.paddingLeft)+Number.parseFloat(Ti.paddingRight);return Qn.font=Ti.font,j.value.reduce((zs,Zl)=>{const ea=Qn.measureText(f(Zl));return Math.max(ea.width,zs)},0)+jo},Mt=()=>{if(!R.value)return 0;const Lt=window.getComputedStyle(R.value);return Number.parseFloat(Lt.gap||"6px")},Me=U(()=>{const Lt=Mt(),hn=B.value&&e.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-Lt:g.selectionWidth;return{maxWidth:"".concat(hn,"px")}}),ve=U(()=>({maxWidth:"".concat(g.selectionWidth,"px")})),Fe=U(()=>Rt(e.modelValue)?e.modelValue.length===0&&!g.inputValue:e.filterable?!g.inputValue:!0),qe=U(()=>{var Lt;const hn=(Lt=e.placeholder)!=null?Lt:n("el.select.placeholder");return e.multiple||!Re.value?hn:g.selectedLabel}),Et=U(()=>{var Lt,hn;return(hn=(Lt=A.value)==null?void 0:Lt.popperRef)==null?void 0:hn.contentRef}),$t=U(()=>{if(e.multiple){const Lt=e.modelValue.length;if(e.modelValue.length>0&&dt.value.has(e.modelValue[Lt-1])){const{index:hn}=dt.value.get(e.modelValue[Lt-1]);return hn}}else if(!w(e.modelValue)&&dt.value.has(e.modelValue)){const{index:Lt}=dt.value.get(e.modelValue);return Lt}return-1}),Yt=U({get(){return ie.value&&ct.value!==!1},set(Lt){ie.value=Lt}}),We=U(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(0,e.maxCollapseTags):g.cachedOptions:[]),lt=U(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:sn,removeNewOption:Tt,selectNewOption:je,clearAllNewOption:xe}=zce(e,g),Ke=()=>{pe.value||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:ie.value=!ie.value)},Ee=()=>{g.inputValue.length>0&&!ie.value&&(ie.value=!0),sn(g.inputValue),an(g.inputValue)},wt=ps(Ee,Xe.value),an=Lt=>{g.previousQuery===Lt||G.value||(g.previousQuery=Lt,e.filterable&&on(e.filterMethod)?e.filterMethod(Lt):e.filterable&&e.remote&&on(e.remoteMethod)&&e.remoteMethod(Lt),e.defaultFirstOption&&(e.filterable||e.remote)&&j.value.length?cn(Je):cn(vn))},Je=()=>{const Lt=j.value.filter(Qn=>!Qn.disabled&&Qn.type!=="Group"),hn=Lt.find(Qn=>Qn.created),Gn=Lt[0];g.hoveringIndex=_n(j.value,hn||Gn)},Dt=Lt=>{no(e.modelValue,Lt)||t(Qr,Lt)},en=Lt=>{t(Vn,Lt),Dt(Lt),g.previousValue=e.multiple?String(Lt):Lt},_n=(Lt=[],hn)=>{if(!jn(hn))return Lt.indexOf(hn);const Gn=e.valueKey;let Qn=-1;return Lt.some((Nr,Sr)=>Zi(Nr,Gn)===Zi(hn,Gn)?(Qn=Sr,!0):!1),Qn},wn=Lt=>jn(Lt)?Zi(Lt,e.valueKey):Lt,hr=()=>{rt()},Yn=()=>{g.selectionWidth=R.value.getBoundingClientRect().width},vr=()=>{g.collapseItemWidth=B.value.getBoundingClientRect().width},Ji=()=>{var Lt,hn;(hn=(Lt=A.value)==null?void 0:Lt.updatePopper)==null||hn.call(Lt)},pi=()=>{var Lt,hn;(hn=(Lt=T.value)==null?void 0:Lt.updatePopper)==null||hn.call(Lt)},Qi=Lt=>{if(e.multiple){let hn=e.modelValue.slice();const Gn=_n(hn,h(Lt));Gn>-1?(hn=[...hn.slice(0,Gn),...hn.slice(Gn+1)],g.cachedOptions.splice(Gn,1),Tt(Lt)):(e.multipleLimit<=0||hn.length<e.multipleLimit)&&(hn=[...hn,h(Lt)],g.cachedOptions.push(Lt),je(Lt)),en(hn),Lt.created&&an(""),e.filterable&&!e.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=f(Lt),en(h(Lt)),ie.value=!1,je(Lt),Lt.created||xe();ra()},na=(Lt,hn)=>{let Gn=e.modelValue.slice();const Qn=_n(Gn,h(hn));Qn>-1&&!pe.value&&(Gn=[...e.modelValue.slice(0,Qn),...e.modelValue.slice(Qn+1)],g.cachedOptions.splice(Qn,1),en(Gn),t("remove-tag",h(hn)),Tt(hn)),Lt.stopPropagation(),ra()},ra=()=>{var Lt;(Lt=P.value)==null||Lt.focus()},To=()=>{var Lt;if(ie.value){ie.value=!1,cn(()=>{var hn;return(hn=P.value)==null?void 0:hn.blur()});return}(Lt=P.value)==null||Lt.blur()},Ka=()=>{g.inputValue.length>0?g.inputValue="":ie.value=!1},da=Lt=>PD(Lt,hn=>!g.cachedOptions.some(Gn=>h(Gn)===hn&&v(Gn))),$e=Lt=>{if(e.multiple&&Lt.code!==jt.delete&&g.inputValue.length===0){Lt.preventDefault();const hn=e.modelValue.slice(),Gn=da(hn);if(Gn<0)return;const Qn=hn[Gn];hn.splice(Gn,1);const Nr=g.cachedOptions[Gn];g.cachedOptions.splice(Gn,1),Tt(Nr),en(hn),t("remove-tag",Qn)}},zt=()=>{let Lt;Rt(e.modelValue)?Lt=[]:Lt=b.value,e.multiple?g.cachedOptions=[]:g.selectedLabel="",ie.value=!1,en(Lt),t("clear"),xe(),ra()},Kt=(Lt,hn=void 0)=>{const Gn=j.value;if(!["forward","backward"].includes(Lt)||pe.value||Gn.length<=0||pt.value||G.value)return;if(!ie.value)return Ke();hn===void 0&&(hn=g.hoveringIndex);let Qn=-1;Lt==="forward"?(Qn=hn+1,Qn>=Gn.length&&(Qn=0)):Lt==="backward"&&(Qn=hn-1,(Qn<0||Qn>=Gn.length)&&(Qn=Gn.length-1));const Nr=Gn[Qn];if(v(Nr)||Nr.type==="Group")return Kt(Lt,Qn);g.hoveringIndex=Qn,yr(Qn)},Be=()=>{if(ie.value)~g.hoveringIndex&&j.value[g.hoveringIndex]&&Qi(j.value[g.hoveringIndex]);else return Ke()},vt=Lt=>{g.hoveringIndex=Lt!=null?Lt:-1},vn=()=>{e.multiple?g.hoveringIndex=j.value.findIndex(Lt=>e.modelValue.some(hn=>wn(hn)===wn(Lt))):g.hoveringIndex=j.value.findIndex(Lt=>wn(Lt)===wn(e.modelValue))},Un=Lt=>{if(g.inputValue=Lt.target.value,e.remote)wt();else return Ee()},sr=Lt=>{if(ie.value=!1,K.value){const hn=new FocusEvent("focus",Lt);X(hn)}},dr=()=>(g.isBeforeHide=!1,cn(()=>{~$t.value&&yr(g.hoveringIndex)})),yr=Lt=>{D.value.scrollToItem(Lt)},Ar=(Lt,hn)=>{const Gn=wn(Lt);if(He.value.has(Gn)){const{option:Qn}=He.value.get(Gn);return Qn}if(hn&&hn.length){const Qn=hn.find(Nr=>wn(h(Nr))===Gn);if(Qn)return Qn}return{[d.value.value]:Lt,[d.value.label]:Lt}},br=(Lt=!1)=>{if(e.multiple)if(e.modelValue.length>0){const hn=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=e.modelValue.toString();for(const Gn of e.modelValue){const Qn=Ar(Gn,hn);g.cachedOptions.push(Qn)}}else g.cachedOptions=[],g.previousValue=void 0;else if(Re.value){g.previousValue=e.modelValue;const hn=j.value,Gn=hn.findIndex(Qn=>wn(h(Qn))===wn(e.modelValue));~Gn?g.selectedLabel=f(hn[Gn]):(!g.selectedLabel||Lt)&&(g.selectedLabel=wn(e.modelValue))}else g.selectedLabel="",g.previousValue=void 0;xe(),rt()};return bt(()=>e.fitInputWidth,()=>{rt()}),bt(ie,Lt=>{Lt?(e.persistent||rt(),an("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,sn("")),t("visible-change",Lt)}),bt(()=>e.modelValue,(Lt,hn)=>{var Gn;(!Lt||Rt(Lt)&&Lt.length===0||e.multiple&&!no(Lt.toString(),g.previousValue)||!e.multiple&&wn(Lt)!==wn(g.previousValue))&&br(!0),!no(Lt,hn)&&e.validateEvent&&((Gn=s==null?void 0:s.validate)==null||Gn.call(s,"change").catch(Nr=>void 0))},{deep:!0}),bt(()=>e.options,()=>{const Lt=P.value;(!Lt||Lt&&document.activeElement!==Lt)&&br()},{deep:!0,flush:"post"}),bt(()=>j.value,()=>(rt(),D.value&&cn(D.value.resetScrollTop))),to(()=>{g.isBeforeHide||ye()}),to(()=>{const{valueKey:Lt,options:hn}=e,Gn=new Map;for(const Qn of hn){const Nr=h(Qn);let Sr=Nr;if(jn(Sr)&&(Sr=Zi(Nr,Lt)),Gn.get(Sr))break;Gn.set(Sr,!0)}}),Bn(()=>{br()}),Ri(M,hr),Ri(R,Yn),Ri(D,Ji),Ri(ee,Ji),Ri(N,pi),Ri(B,vr),{inputId:u,collapseTagSize:ot,currentPlaceholder:qe,expanded:ie,emptyText:ct,popupHeight:le,debounce:Xe,allOptions:Z,filteredOptions:j,iconComponent:Te,iconReverse:ge,tagStyle:Me,collapseTagStyle:ve,popperSize:x,dropdownMenuVisible:Yt,hasModelValue:Re,shouldShowPlaceholder:Fe,selectDisabled:pe,selectSize:nt,needStatusIcon:he,showClearBtn:De,states:g,isFocused:K,nsSelect:r,nsInput:a,inputRef:P,menuRef:D,tagMenuRef:N,tooltipRef:A,tagTooltipRef:T,selectRef:M,wrapperRef:ee,selectionRef:R,prefixRef:I,suffixRef:E,collapseItemRef:B,popperRef:Et,validateState:ke,validateIcon:Pe,showTagList:We,collapseTagList:lt,debouncedOnInputChange:wt,deleteTag:na,getLabel:f,getValue:h,getDisabled:v,getValueKey:wn,handleClear:zt,handleClickOutside:sr,handleDel:$e,handleEsc:Ka,focus:ra,blur:To,handleMenuEnter:dr,handleResize:hr,resetSelectionWidth:Yn,updateTooltip:Ji,updateTagTooltip:pi,updateOptions:ye,toggleMenu:Ke,scrollTo:yr,onInput:Un,onKeyboardNavigate:Kt,onKeyboardSelect:Be,onSelect:Qi,onHover:vt,handleCompositionStart:$,handleCompositionEnd:Q,handleCompositionUpdate:ae}},Uce=we({name:"ElSelectV2",components:{ElSelectMenu:Bce,ElTag:sm,ElTooltip:ao,ElIcon:tn},directives:{ClickOutside:yc},props:gce,emits:bce,setup(e,{emit:t}){const n=U(()=>{const{modelValue:u,multiple:d}=e,f=d?[]:void 0;return Rt(u)?d?u:f:d?f:u}),r=Vce(Ir({...ka(e),modelValue:n}),t),{calculatorRef:a,inputStyle:o}=QC();or(r2,{props:Ir({...ka(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const s=U(()=>e.multiple?r.states.cachedOptions.map(u=>u.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:s,calculatorRef:a,inputStyle:o}}});function Hce(e,t,n,r,a,o){const s=Zt("el-tag"),u=Zt("el-tooltip"),d=Zt("el-icon"),f=Zt("el-select-menu"),h=E0("click-outside");return kn((W(),ue("div",{ref:"selectRef",class:J([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:v=>e.states.inputHovering=!0,onMouseleave:v=>e.states.inputHovering=!1},[ce(u,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:"".concat(e.nsSelect.namespace.value,"-zoom-in-top"),trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:v=>e.states.isBeforeHide=!1},{default:be(()=>[fe("div",{ref:"wrapperRef",class:J([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Sn(e.toggleMenu,["prevent"])},[e.$slots.prefix?(W(),ue("div",{key:0,ref:"prefixRef",class:J(e.nsSelect.e("prefix"))},[Ue(e.$slots,"prefix")],2)):Ye("v-if",!0),fe("div",{ref:"selectionRef",class:J([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Ue(e.$slots,"tag",{key:0},()=>[(W(!0),ue(rn,null,ar(e.showTagList,v=>(W(),ue("div",{key:e.getValueKey(e.getValue(v)),class:J(e.nsSelect.e("selected-item"))},[ce(s,{closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:un(e.tagStyle),onClose:y=>e.deleteTag(y,v)},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))},[Ue(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Pn(Pt(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(W(),tt(u,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:be(()=>[fe("div",{ref:"collapseItemRef",class:J(e.nsSelect.e("selected-item"))},[ce(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:un(e.collapseTagStyle),"disable-transitions":""},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))}," + "+Pt(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[fe("div",{ref:"tagMenuRef",class:J(e.nsSelect.e("selection"))},[(W(!0),ue(rn,null,ar(e.collapseTagList,v=>(W(),ue("div",{key:e.getValueKey(e.getValue(v)),class:J(e.nsSelect.e("selected-item"))},[ce(s,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:y=>e.deleteTag(y,v)},{default:be(()=>[fe("span",{class:J(e.nsSelect.e("tags-text"))},[Ue(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Pn(Pt(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Ye("v-if",!0)]):Ye("v-if",!0),fe("div",{class:J([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[kn(fe("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,style:un(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:J([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Jr(Sn(v=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Jr(Sn(v=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Jr(Sn(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Jr(Sn(e.handleEsc,["stop","prevent"]),["esc"]),Jr(Sn(e.handleDel,["stop"]),["delete"])],onClick:Sn(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[cw,e.states.inputValue]]),e.filterable?(W(),ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:J(e.nsSelect.e("input-calculator")),textContent:Pt(e.states.inputValue)},null,10,["textContent"])):Ye("v-if",!0)],2),e.shouldShowPlaceholder?(W(),ue("div",{key:1,class:J([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Ue(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[fe("span",null,Pt(e.currentPlaceholder),1)]):(W(),ue("span",{key:1},Pt(e.currentPlaceholder),1))],2)):Ye("v-if",!0)],2),fe("div",{ref:"suffixRef",class:J(e.nsSelect.e("suffix"))},[e.iconComponent?kn((W(),tt(d,{key:0,class:J([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:be(()=>[(W(),tt(tr(e.iconComponent)))]),_:1},8,["class"])),[[_r,!e.showClearBtn]]):Ye("v-if",!0),e.showClearBtn&&e.clearIcon?(W(),tt(d,{key:1,class:J([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:Sn(e.handleClear,["prevent","stop"])},{default:be(()=>[(W(),tt(tr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(W(),tt(d,{key:2,class:J([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:be(()=>[(W(),tt(tr(e.validateIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],10,["onClick"])]),content:be(()=>[ce(f,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Fs({default:be(v=>[Ue(e.$slots,"default",Ls(Lu(v)))]),_:2},[e.$slots.header?{name:"header",fn:be(()=>[fe("div",{class:J(e.nsSelect.be("dropdown","header"))},[Ue(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:be(()=>[fe("div",{class:J(e.nsSelect.be("dropdown","loading"))},[Ue(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:be(()=>[fe("div",{class:J(e.nsSelect.be("dropdown","empty"))},[Ue(e.$slots,"empty",{},()=>[fe("span",null,Pt(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:be(()=>[fe("div",{class:J(e.nsSelect.be("dropdown","footer"))},[Ue(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var $ce=Ft(Uce,[["render",Hce],["__file","select.vue"]]);const Gce=On($ce),Wce=kt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:ze([Number,Object])}}),jce=kt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),qce=we({name:"ElSkeletonItem"}),Kce=we({...qce,props:jce,setup(e){const t=xt("skeleton");return(n,r)=>(W(),ue("div",{class:J([m(t).e("item"),m(t).e(n.variant)])},[n.variant==="image"?(W(),tt(m(J5),{key:0})):Ye("v-if",!0)],2))}});var z_=Ft(Kce,[["__file","skeleton-item.vue"]]);const Yce=(e,t=0)=>{if(t===0)return e;const n=jn(t)&&!!t.initVal,r=re(n);let a=null;const o=u=>{if(Or(u)){r.value=e.value;return}a&&clearTimeout(a),a=setTimeout(()=>{r.value=e.value},u)},s=u=>{u==="leading"?fn(t)?o(t):o(t.leading):jn(t)?o(t.trailing):r.value=!1};return Bn(()=>s("leading")),bt(()=>e.value,u=>{s(u?"leading":"trailing")}),r},Xce=we({name:"ElSkeleton"}),Zce=we({...Xce,props:Wce,setup(e,{expose:t}){const n=e,r=xt("skeleton"),a=Yce(Hr(n,"loading"),n.throttle);return t({uiLoading:a}),(o,s)=>m(a)?(W(),ue("div",nr({key:0,class:[m(r).b(),m(r).is("animated",o.animated)]},o.$attrs),[(W(!0),ue(rn,null,ar(o.count,u=>(W(),ue(rn,{key:u},[m(a)?Ue(o.$slots,"template",{key:u},()=>[ce(z_,{class:J(m(r).is("first")),variant:"p"},null,8,["class"]),(W(!0),ue(rn,null,ar(o.rows,d=>(W(),tt(z_,{key:d,class:J([m(r).e("paragraph"),m(r).is("last",d===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ye("v-if",!0)],64))),128))],16)):Ue(o.$slots,"default",Ls(nr({key:1},o.$attrs)))}});var Jce=Ft(Zce,[["__file","skeleton.vue"]]);const Qce=On(Jce,{SkeletonItem:z_}),ede=Ii(z_),oF=Symbol("sliderContextKey"),tde=kt({modelValue:{type:ze([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ca,inputSize:ca,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ze(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ze(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Cc,default:"top"},marks:{type:ze(Object)},validateEvent:{type:Boolean,default:!0},...qa(["ariaLabel"])}),Nx=e=>fn(e)||Rt(e)&&e.every(fn),nde={[Vn]:Nx,[ro]:Nx,[Qr]:Nx},rde=kt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Cc,default:"top"}}),ide={[Vn]:e=>fn(e)},ade=(e,t,n)=>{const r=re(),a=re(!1),o=U(()=>t.value instanceof Function),s=U(()=>o.value&&t.value(e.modelValue)||e.modelValue),u=ps(()=>{n.value&&(a.value=!0)},50),d=ps(()=>{n.value&&(a.value=!1)},50);return{tooltip:r,tooltipVisible:a,formatValue:s,displayTooltip:u,hideTooltip:d}},ode=(e,t,n)=>{const{disabled:r,min:a,max:o,step:s,showTooltip:u,precision:d,sliderSize:f,formatTooltip:h,emitChange:v,resetSize:y,updateDragging:b}=qt(oF),{tooltip:w,tooltipVisible:g,formatValue:x,displayTooltip:M,hideTooltip:R}=ade(e,h,u),A=re(),T=U(()=>"".concat((e.modelValue-a.value)/(o.value-a.value)*100,"%")),P=U(()=>e.vertical?{bottom:T.value}:{left:T.value}),I=()=>{t.hovering=!0,M()},E=()=>{t.hovering=!1,t.dragging||R()},D=he=>{r.value||(he.preventDefault(),Z(he),window.addEventListener("mousemove",j),window.addEventListener("touchmove",j),window.addEventListener("mouseup",ie),window.addEventListener("touchend",ie),window.addEventListener("contextmenu",ie),A.value.focus())},N=he=>{r.value||(t.newPosition=Number.parseFloat(T.value)+he/(o.value-a.value)*100,pe(t.newPosition),v())},B=()=>{N(-s.value)},G=()=>{N(s.value)},$=()=>{N(-s.value*4)},Q=()=>{N(s.value*4)},ae=()=>{r.value||(pe(0),v())},ee=()=>{r.value||(pe(100),v())},K=he=>{let le=!0;switch(he.code){case jt.left:case jt.down:B();break;case jt.right:case jt.up:G();break;case jt.home:ae();break;case jt.end:ee();break;case jt.pageDown:$();break;case jt.pageUp:Q();break;default:le=!1;break}le&&he.preventDefault()},X=he=>{let le,Re;return he.type.startsWith("touch")?(Re=he.touches[0].clientY,le=he.touches[0].clientX):(Re=he.clientY,le=he.clientX),{clientX:le,clientY:Re}},Z=he=>{t.dragging=!0,t.isClick=!0;const{clientX:le,clientY:Re}=X(he);e.vertical?t.startY=Re:t.startX=le,t.startPosition=Number.parseFloat(T.value),t.newPosition=t.startPosition},j=he=>{if(t.dragging){t.isClick=!1,M(),y();let le;const{clientX:Re,clientY:De}=X(he);e.vertical?(t.currentY=De,le=(t.startY-t.currentY)/f.value*100):(t.currentX=Re,le=(t.currentX-t.startX)/f.value*100),t.newPosition=t.startPosition+le,pe(t.newPosition)}},ie=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||R(),t.isClick||pe(t.newPosition),v()},0),window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",ie),window.removeEventListener("touchend",ie),window.removeEventListener("contextmenu",ie))},pe=async he=>{if(he===null||Number.isNaN(+he))return;he<0?he=0:he>100&&(he=100);const le=100/((o.value-a.value)/s.value);let De=Math.round(he/le)*le*(o.value-a.value)*.01+a.value;De=Number.parseFloat(De.toFixed(d.value)),De!==e.modelValue&&n(Vn,De),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await cn(),t.dragging&&M(),w.value.updatePopper()};return bt(()=>t.dragging,he=>{b(he)}),Kr(A,"touchstart",D,{passive:!1}),{disabled:r,button:A,tooltip:w,tooltipVisible:g,showTooltip:u,wrapperStyle:P,formatValue:x,handleMouseEnter:I,handleMouseLeave:E,onButtonDown:D,onKeyDown:K,setPosition:pe}},sde=we({name:"ElSliderButton"}),lde=we({...sde,props:rde,emits:ide,setup(e,{expose:t,emit:n}){const r=e,a=xt("slider"),o=Ir({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:u,tooltip:d,showTooltip:f,tooltipVisible:h,wrapperStyle:v,formatValue:y,handleMouseEnter:b,handleMouseLeave:w,onButtonDown:g,onKeyDown:x,setPosition:M}=ode(r,o,n),{hovering:R,dragging:A}=ka(o);return t({onButtonDown:g,onKeyDown:x,setPosition:M,hovering:R,dragging:A}),(T,P)=>(W(),ue("div",{ref_key:"button",ref:u,class:J([m(a).e("button-wrapper"),{hover:m(R),dragging:m(A)}]),style:un(m(v)),tabindex:m(s)?-1:0,onMouseenter:m(b),onMouseleave:m(w),onMousedown:m(g),onFocus:m(b),onBlur:m(w),onKeydown:m(x)},[ce(m(ao),{ref_key:"tooltip",ref:d,visible:m(h),placement:T.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":T.tooltipClass,disabled:!m(f),persistent:m(f)},{content:be(()=>[fe("span",null,Pt(m(y)),1)]),default:be(()=>[fe("div",{class:J([m(a).e("button"),{hover:m(R),dragging:m(A)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var mR=Ft(lde,[["__file","button.vue"]]);const ude=kt({mark:{type:ze([String,Object]),default:void 0}});var cde=we({name:"ElSliderMarker",props:ude,setup(e){const t=xt("slider"),n=U(()=>nn(e.mark)?e.mark:e.mark.label),r=U(()=>nn(e.mark)?void 0:e.mark.style);return()=>mn("div",{class:t.e("marks-text"),style:r.value},n.value)}});const dde=(e,t,n)=>{const{form:r,formItem:a}=lo(),o=hi(),s=re(),u=re(),d={firstButton:s,secondButton:u},f=U(()=>e.disabled||(r==null?void 0:r.disabled)||!1),h=U(()=>Math.min(t.firstValue,t.secondValue)),v=U(()=>Math.max(t.firstValue,t.secondValue)),y=U(()=>e.range?"".concat(100*(v.value-h.value)/(e.max-e.min),"%"):"".concat(100*(t.firstValue-e.min)/(e.max-e.min),"%")),b=U(()=>e.range?"".concat(100*(h.value-e.min)/(e.max-e.min),"%"):"0%"),w=U(()=>e.vertical?{height:e.height}:{}),g=U(()=>e.vertical?{height:y.value,bottom:b.value}:{width:y.value,left:b.value}),x=()=>{o.value&&(t.sliderSize=o.value["client".concat(e.vertical?"Height":"Width")])},M=$=>{const Q=e.min+$*(e.max-e.min)/100;if(!e.range)return s;let ae;return Math.abs(h.value-Q)<Math.abs(v.value-Q)?ae=t.firstValue<t.secondValue?"firstButton":"secondButton":ae=t.firstValue>t.secondValue?"firstButton":"secondButton",d[ae]},R=$=>{const Q=M($);return Q.value.setPosition($),Q},A=$=>{t.firstValue=$!=null?$:e.min,P(e.range?[h.value,v.value]:$!=null?$:e.min)},T=$=>{t.secondValue=$,e.range&&P([h.value,v.value])},P=$=>{n(Vn,$),n(ro,$)},I=async()=>{await cn(),n(Qr,e.range?[h.value,v.value]:e.modelValue)},E=$=>{var Q,ae,ee,K,X,Z;if(f.value||t.dragging)return;x();let j=0;if(e.vertical){const ie=(ee=(ae=(Q=$.touches)==null?void 0:Q.item(0))==null?void 0:ae.clientY)!=null?ee:$.clientY;j=(o.value.getBoundingClientRect().bottom-ie)/t.sliderSize*100}else{const ie=(Z=(X=(K=$.touches)==null?void 0:K.item(0))==null?void 0:X.clientX)!=null?Z:$.clientX,pe=o.value.getBoundingClientRect().left;j=(ie-pe)/t.sliderSize*100}if(!(j<0||j>100))return R(j)};return{elFormItem:a,slider:o,firstButton:s,secondButton:u,sliderDisabled:f,minValue:h,maxValue:v,runwayStyle:w,barStyle:g,resetSize:x,setPosition:R,emitChange:I,onSliderWrapperPrevent:$=>{var Q,ae;((Q=d.firstButton.value)!=null&&Q.dragging||(ae=d.secondButton.value)!=null&&ae.dragging)&&$.preventDefault()},onSliderClick:$=>{E($)&&I()},onSliderDown:async $=>{const Q=E($);Q&&(await cn(),Q.value.onButtonDown($))},onSliderMarkerDown:$=>{f.value||t.dragging||R($)},setFirstValue:A,setSecondValue:T}},fde=(e,t,n,r)=>({stops:U(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,u=100*e.step/(e.max-e.min),d=Array.from({length:s-1}).map((f,h)=>(h+1)*u);return e.range?d.filter(f=>f<100*(n.value-e.min)/(e.max-e.min)||f>100*(r.value-e.min)/(e.max-e.min)):d.filter(f=>f>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:"".concat(s,"%")}:{left:"".concat(s,"%")}}),hde=e=>U(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),pde=(e,t,n,r,a,o)=>{const s=f=>{a(Vn,f),a(ro,f)},u=()=>e.range?![n.value,r.value].every((f,h)=>f===t.oldValue[h]):e.modelValue!==t.oldValue,d=()=>{var f,h;e.min>e.max&&va("Slider","min should not be greater than max.");const v=e.modelValue;e.range&&Rt(v)?v[1]<e.min?s([e.min,e.min]):v[0]>e.max?s([e.max,e.max]):v[0]<e.min?s([e.min,v[1]]):v[1]>e.max?s([v[0],e.max]):(t.firstValue=v[0],t.secondValue=v[1],u()&&(e.validateEvent&&((f=o==null?void 0:o.validate)==null||f.call(o,"change").catch(y=>void 0)),t.oldValue=v.slice())):!e.range&&fn(v)&&!Number.isNaN(v)&&(v<e.min?s(e.min):v>e.max?s(e.max):(t.firstValue=v,u()&&(e.validateEvent&&((h=o==null?void 0:o.validate)==null||h.call(o,"change").catch(y=>void 0)),t.oldValue=v)))};d(),bt(()=>t.dragging,f=>{f||d()}),bt(()=>e.modelValue,(f,h)=>{t.dragging||Rt(f)&&Rt(h)&&f.every((v,y)=>v===h[y])&&t.firstValue===f[0]&&t.secondValue===f[1]||d()},{deep:!0}),bt(()=>[e.min,e.max],()=>{d()})},mde=(e,t,n)=>{const r=re();return Bn(async()=>{e.range?(Rt(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!fn(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Kr(window,"resize",n),await cn(),n()}),{sliderWrapper:r}},vde=we({name:"ElSlider"}),gde=we({...vde,props:tde,emits:nde,setup(e,{expose:t,emit:n}){const r=e,a=xt("slider"),{t:o}=xr(),s=Ir({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:u,slider:d,firstButton:f,secondButton:h,sliderDisabled:v,minValue:y,maxValue:b,runwayStyle:w,barStyle:g,resetSize:x,emitChange:M,onSliderWrapperPrevent:R,onSliderClick:A,onSliderDown:T,onSliderMarkerDown:P,setFirstValue:I,setSecondValue:E}=dde(r,s,n),{stops:D,getStopStyle:N}=fde(r,s,y,b),{inputId:B,isLabeledByFormItem:G}=ul(r,{formItemContext:u}),$=ta(),Q=U(()=>r.inputSize||$.value),ae=U(()=>r.ariaLabel||o("el.slider.defaultLabel",{min:r.min,max:r.max})),ee=U(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):ae.value),K=U(()=>r.formatValueText?r.formatValueText(le.value):"".concat(le.value)),X=U(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),Z=U(()=>r.formatValueText?r.formatValueText(Re.value):"".concat(Re.value)),j=U(()=>[a.b(),a.m($.value),a.is("vertical",r.vertical),{[a.m("with-input")]:r.showInput}]),ie=hde(r);pde(r,s,y,b,n,u);const pe=U(()=>{const ge=[r.min,r.max,r.step].map(ke=>{const Pe="".concat(ke).split(".")[1];return Pe?Pe.length:0});return Math.max.apply(null,ge)}),{sliderWrapper:he}=mde(r,s,x),{firstValue:le,secondValue:Re,sliderSize:De}=ka(s),Te=ge=>{s.dragging=ge};return Kr(he,"touchstart",R,{passive:!1}),Kr(he,"touchmove",R,{passive:!1}),or(oF,{...ka(r),sliderSize:De,disabled:v,precision:pe,emitChange:M,resetSize:x,updateDragging:Te}),t({onSliderClick:A}),(ge,ke)=>{var Pe,Xe;return W(),ue("div",{id:ge.range?m(B):void 0,ref_key:"sliderWrapper",ref:he,class:J(m(j)),role:ge.range?"group":void 0,"aria-label":ge.range&&!m(G)?m(ae):void 0,"aria-labelledby":ge.range&&m(G)?(Pe=m(u))==null?void 0:Pe.labelId:void 0},[fe("div",{ref_key:"slider",ref:d,class:J([m(a).e("runway"),{"show-input":ge.showInput&&!ge.range},m(a).is("disabled",m(v))]),style:un(m(w)),onMousedown:m(T),onTouchstartPassive:m(T)},[fe("div",{class:J(m(a).e("bar")),style:un(m(g))},null,6),ce(mR,{id:ge.range?void 0:m(B),ref_key:"firstButton",ref:f,"model-value":m(le),vertical:ge.vertical,"tooltip-class":ge.tooltipClass,placement:ge.placement,role:"slider","aria-label":ge.range||!m(G)?m(ee):void 0,"aria-labelledby":!ge.range&&m(G)?(Xe=m(u))==null?void 0:Xe.labelId:void 0,"aria-valuemin":ge.min,"aria-valuemax":ge.range?m(Re):ge.max,"aria-valuenow":m(le),"aria-valuetext":m(K),"aria-orientation":ge.vertical?"vertical":"horizontal","aria-disabled":m(v),"onUpdate:modelValue":m(I)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ge.range?(W(),tt(mR,{key:0,ref_key:"secondButton",ref:h,"model-value":m(Re),vertical:ge.vertical,"tooltip-class":ge.tooltipClass,placement:ge.placement,role:"slider","aria-label":m(X),"aria-valuemin":m(le),"aria-valuemax":ge.max,"aria-valuenow":m(Re),"aria-valuetext":m(Z),"aria-orientation":ge.vertical?"vertical":"horizontal","aria-disabled":m(v),"onUpdate:modelValue":m(E)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ye("v-if",!0),ge.showStops?(W(),ue("div",{key:1},[(W(!0),ue(rn,null,ar(m(D),(ct,se)=>(W(),ue("div",{key:se,class:J(m(a).e("stop")),style:un(m(N)(ct))},null,6))),128))])):Ye("v-if",!0),m(ie).length>0?(W(),ue(rn,{key:2},[fe("div",null,[(W(!0),ue(rn,null,ar(m(ie),(ct,se)=>(W(),ue("div",{key:se,style:un(m(N)(ct.position)),class:J([m(a).e("stop"),m(a).e("marks-stop")])},null,6))),128))]),fe("div",{class:J(m(a).e("marks"))},[(W(!0),ue(rn,null,ar(m(ie),(ct,se)=>(W(),tt(m(cde),{key:se,mark:ct.mark,style:un(m(N)(ct.position)),onMousedown:Sn(ye=>m(P)(ct.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Ye("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),ge.showInput&&!ge.range?(W(),tt(m(z4),{key:0,ref:"input","model-value":m(le),class:J(m(a).e("input")),step:ge.step,disabled:m(v),controls:ge.showInputControls,min:ge.min,max:ge.max,precision:m(pe),debounce:ge.debounce,size:m(Q),"onUpdate:modelValue":m(I),onChange:m(M)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Ye("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var yde=Ft(gde,[["__file","slider.vue"]]);const bde=On(yde),_de=kt({prefixCls:{type:String}}),vR=we({name:"ElSpaceItem",props:_de,setup(e,{slots:t}){const n=xt("space"),r=U(()=>"".concat(e.prefixCls||n.b(),"__item"));return()=>mn("div",{class:r.value},Ue(t,"default"))}}),gR={small:8,default:12,large:16};function wde(e){const t=xt("space"),n=U(()=>[t.b(),t.m(e.direction),e.class]),r=re(0),a=re(0),o=U(()=>{const u=e.wrap||e.fill?{flexWrap:"wrap"}:{},d={alignItems:e.alignment},f={rowGap:"".concat(a.value,"px"),columnGap:"".concat(r.value,"px")};return[u,d,f,e.style]}),s=U(()=>e.fill?{flexGrow:1,minWidth:"".concat(e.fillRatio,"%")}:{});return to(()=>{const{size:u="small",wrap:d,direction:f,fill:h}=e;if(Rt(u)){const[v=0,y=0]=u;r.value=v,a.value=y}else{let v;fn(u)?v=u:v=gR[u||"small"]||gR.small,(d||h)&&f==="horizontal"?r.value=a.value=v:f==="horizontal"?(r.value=v,a.value=0):(a.value=v,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:s}}const xde=kt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ze([String,Object,Array]),default:""},style:{type:ze([String,Array,Object]),default:""},alignment:{type:ze(String),default:"center"},prefixCls:{type:String},spacer:{type:ze([Object,String,Number,Array]),default:null,validator:e=>Mi(e)||fn(e)||nn(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Du,validator:e=>fn(e)||Rt(e)&&e.length===2&&e.every(fn)}}),Sde=we({name:"ElSpace",props:xde,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:a}=wde(e);function o(s,u="",d=[]){const{prefixCls:f}=e;return s.forEach((h,v)=>{hM(h)?Rt(h.children)&&h.children.forEach((y,b)=>{hM(y)&&Rt(y.children)?o(y.children,"".concat(u+b,"-"),d):d.push(ce(vR,{style:a.value,prefixCls:f,key:"nested-".concat(u+b)},{default:()=>[y]},Zs.PROPS|Zs.STYLE,["style","prefixCls"]))}):ite(h)&&d.push(ce(vR,{style:a.value,prefixCls:f,key:"LoopKey".concat(u+v)},{default:()=>[h]},Zs.PROPS|Zs.STYLE,["style","prefixCls"]))}),d}return()=>{var s;const{spacer:u,direction:d}=e,f=Ue(t,"default",{key:0},()=>[]);if(((s=f.children)!=null?s:[]).length===0)return null;if(Rt(f.children)){let h=o(f.children);if(u){const v=h.length-1;h=h.reduce((y,b,w)=>{const g=[...y,b];return w!==v&&g.push(ce("span",{style:[a.value,d==="vertical"?"width: 100%":null],key:w},[Mi(u)?u:Pn(u,Zs.TEXT)],Zs.STYLE)),g},[])}return ce("div",{class:n.value,style:r.value},h,Zs.STYLE|Zs.CLASS)}return f.children}}}),Mde=On(Sde),Ede=kt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ze([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ze([String,Object,Array])}}),Cde=we({name:"ElStatistic"}),Tde=we({...Cde,props:Ede,setup(e,{expose:t}){const n=e,r=xt("statistic"),a=U(()=>{const{value:o,formatter:s,precision:u,decimalSeparator:d,groupSeparator:f}=n;if(on(s))return s(o);if(!fn(o)||Number.isNaN(o))return o;let[h,v=""]=String(o).split(".");return v=v.padEnd(u,"0").slice(0,u>0?u:0),h=h.replace(/\B(?=(\d{3})+(?!\d))/g,f),[h,v].join(v?d:"")});return t({displayValue:a}),(o,s)=>(W(),ue("div",{class:J(m(r).b())},[o.$slots.title||o.title?(W(),ue("div",{key:0,class:J(m(r).e("head"))},[Ue(o.$slots,"title",{},()=>[Pn(Pt(o.title),1)])],2)):Ye("v-if",!0),fe("div",{class:J(m(r).e("content"))},[o.$slots.prefix||o.prefix?(W(),ue("div",{key:0,class:J(m(r).e("prefix"))},[Ue(o.$slots,"prefix",{},()=>[fe("span",null,Pt(o.prefix),1)])],2)):Ye("v-if",!0),fe("span",{class:J(m(r).e("number")),style:un(o.valueStyle)},Pt(m(a)),7),o.$slots.suffix||o.suffix?(W(),ue("div",{key:1,class:J(m(r).e("suffix"))},[Ue(o.$slots,"suffix",{},()=>[fe("span",null,Pt(o.suffix),1)])],2)):Ye("v-if",!0)],2)],2))}});var Ade=Ft(Tde,[["__file","statistic.vue"]]);const sF=On(Ade),Lde=kt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ze([Number,Object]),default:0},valueStyle:{type:ze([String,Object,Array])}}),Rde={finish:()=>!0,[Qr]:e=>fn(e)},Pde=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],yR=e=>fn(e)?new Date(e).getTime():e.valueOf(),bR=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return Pde.reduce((o,[s,u])=>{const d=new RegExp("".concat(s,"+(?![^\\[\\]]*\\])"),"g");if(d.test(o)){const f=Math.floor(n/u);return n-=f*u,o.replace(d,h=>String(f).padStart(h.length,"0"))}return o},t).replace(r,"$1")},kde=we({name:"ElCountdown"}),Ide=we({...kde,props:Lde,emits:Rde,setup(e,{expose:t,emit:n}){const r=e;let a;const o=re(0),s=U(()=>bR(o.value,r.format)),u=h=>bR(h,r.format),d=()=>{a&&(Kf(a),a=void 0)},f=()=>{const h=yR(r.value),v=()=>{let y=h-Date.now();n("change",y),y<=0?(y=0,d(),n("finish")):a=yd(v),o.value=y};a=yd(v)};return Bn(()=>{o.value=yR(r.value)-Date.now(),bt(()=>[r.value,r.format],()=>{d(),f()},{immediate:!0})}),Yr(()=>{d()}),t({displayValue:s}),(h,v)=>(W(),tt(m(sF),{value:o.value,title:h.title,prefix:h.prefix,suffix:h.suffix,"value-style":h.valueStyle,formatter:u},Fs({_:2},[ar(h.$slots,(y,b)=>({name:b,fn:be(()=>[Ue(h.$slots,b)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Ode=Ft(Ide,[["__file","countdown.vue"]]);const Dde=On(Ode),Nde=kt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Fde={[Qr]:(e,t)=>[e,t].every(fn)},Bde=we({name:"ElSteps"}),zde=we({...Bde,props:Nde,emits:Fde,setup(e,{emit:t}){const n=e,r=xt("steps"),{children:a,addChild:o,removeChild:s}=DC(Jn(),"ElStep");return bt(a,()=>{a.value.forEach((u,d)=>{u.setIndex(d)})}),or("ElSteps",{props:n,steps:a,addStep:o,removeStep:s}),bt(()=>n.active,(u,d)=>{t(Qr,u,d)}),(u,d)=>(W(),ue("div",{class:J([m(r).b(),m(r).m(u.simple?"simple":u.direction)])},[Ue(u.$slots,"default")],2))}});var Vde=Ft(zde,[["__file","steps.vue"]]);const Ude=kt({title:{type:String,default:""},icon:{type:ei},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Hde=we({name:"ElStep"}),$de=we({...Hde,props:Ude,setup(e){const t=e,n=xt("step"),r=re(-1),a=re({}),o=re(""),s=qt("ElSteps"),u=Jn();Bn(()=>{bt([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([I])=>{T(I)},{immediate:!0})}),Yr(()=>{s.removeStep(P.uid)});const d=U(()=>t.status||o.value),f=U(()=>{const I=s.steps.value[r.value-1];return I?I.currentStatus:"wait"}),h=U(()=>s.props.alignCenter),v=U(()=>s.props.direction==="vertical"),y=U(()=>s.props.simple),b=U(()=>s.steps.value.length),w=U(()=>{var I;return((I=s.steps.value[b.value-1])==null?void 0:I.uid)===(u==null?void 0:u.uid)}),g=U(()=>y.value?"":s.props.space),x=U(()=>[n.b(),n.is(y.value?"simple":s.props.direction),n.is("flex",w.value&&!g.value&&!h.value),n.is("center",h.value&&!v.value&&!y.value)]),M=U(()=>{const I={flexBasis:fn(g.value)?"".concat(g.value,"px"):g.value?g.value:"".concat(100/(b.value-(h.value?0:1)),"%")};return v.value||w.value&&(I.maxWidth="".concat(100/b.value,"%")),I}),R=I=>{r.value=I},A=I=>{const E=I==="wait",D={transitionDelay:"".concat(E?"-":"").concat(150*r.value,"ms")},N=I===s.props.processStatus||E?0:100;D.borderWidth=N&&!y.value?"1px":0,D[s.props.direction==="vertical"?"height":"width"]="".concat(N,"%"),a.value=D},T=I=>{I>r.value?o.value=s.props.finishStatus:I===r.value&&f.value!=="error"?o.value=s.props.processStatus:o.value="wait";const E=s.steps.value[r.value-1];E&&E.calcProgress(o.value)},P=Ir({uid:u.uid,currentStatus:d,setIndex:R,calcProgress:A});return s.addStep(P),(I,E)=>(W(),ue("div",{style:un(m(M)),class:J(m(x))},[Ye(" icon & line "),fe("div",{class:J([m(n).e("head"),m(n).is(m(d))])},[m(y)?Ye("v-if",!0):(W(),ue("div",{key:0,class:J(m(n).e("line"))},[fe("i",{class:J(m(n).e("line-inner")),style:un(a.value)},null,6)],2)),fe("div",{class:J([m(n).e("icon"),m(n).is(I.icon||I.$slots.icon?"icon":"text")])},[Ue(I.$slots,"icon",{},()=>[I.icon?(W(),tt(m(tn),{key:0,class:J(m(n).e("icon-inner"))},{default:be(()=>[(W(),tt(tr(I.icon)))]),_:1},8,["class"])):m(d)==="success"?(W(),tt(m(tn),{key:1,class:J([m(n).e("icon-inner"),m(n).is("status")])},{default:be(()=>[ce(m(T0))]),_:1},8,["class"])):m(d)==="error"?(W(),tt(m(tn),{key:2,class:J([m(n).e("icon-inner"),m(n).is("status")])},{default:be(()=>[ce(m(Bl))]),_:1},8,["class"])):m(y)?Ye("v-if",!0):(W(),ue("div",{key:3,class:J(m(n).e("icon-inner"))},Pt(r.value+1),3))])],2)],2),Ye(" title & description "),fe("div",{class:J(m(n).e("main"))},[fe("div",{class:J([m(n).e("title"),m(n).is(m(d))])},[Ue(I.$slots,"title",{},()=>[Pn(Pt(I.title),1)])],2),m(y)?(W(),ue("div",{key:0,class:J(m(n).e("arrow"))},null,2)):(W(),ue("div",{key:1,class:J([m(n).e("description"),m(n).is(m(d))])},[Ue(I.$slots,"description",{},()=>[Pn(Pt(I.description),1)])],2))],2)],6))}});var lF=Ft($de,[["__file","item.vue"]]);const Gde=On(Vde,{Step:lF}),Wde=Ii(lF),uF=e=>["",...Du].includes(e),jde=kt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:uF},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:ei},activeActionIcon:{type:ei},activeIcon:{type:ei},inactiveIcon:{type:ei},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ze(Function)},id:String,tabindex:{type:[String,Number]},...qa(["ariaLabel"])}),qde={[Vn]:e=>ri(e)||nn(e)||fn(e),[Qr]:e=>ri(e)||nn(e)||fn(e),[ro]:e=>ri(e)||nn(e)||fn(e)},cF="ElSwitch",Kde=we({name:cF}),Yde=we({...Kde,props:jde,emits:qde,setup(e,{expose:t,emit:n}){const r=e,{formItem:a}=lo(),o=ta(),s=xt("switch"),{inputId:u}=ul(r,{formItemContext:a}),d=uo(U(()=>r.loading)),f=re(r.modelValue!==!1),h=re(),v=re(),y=U(()=>[s.b(),s.m(o.value),s.is("disabled",d.value),s.is("checked",M.value)]),b=U(()=>[s.e("label"),s.em("label","left"),s.is("active",!M.value)]),w=U(()=>[s.e("label"),s.em("label","right"),s.is("active",M.value)]),g=U(()=>({width:Bi(r.width)}));bt(()=>r.modelValue,()=>{f.value=!0});const x=U(()=>f.value?r.modelValue:!1),M=U(()=>x.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(x.value)||(n(Vn,r.inactiveValue),n(Qr,r.inactiveValue),n(ro,r.inactiveValue)),bt(M,P=>{var I;h.value.checked=P,r.validateEvent&&((I=a==null?void 0:a.validate)==null||I.call(a,"change").catch(E=>void 0))});const R=()=>{const P=M.value?r.inactiveValue:r.activeValue;n(Vn,P),n(Qr,P),n(ro,P),cn(()=>{h.value.checked=M.value})},A=()=>{if(d.value)return;const{beforeChange:P}=r;if(!P){R();return}const I=P();[Vg(I),ri(I)].includes(!0)||va(cF,"beforeChange must return type `Promise<boolean>` or `boolean`"),Vg(I)?I.then(D=>{D&&R()}).catch(D=>{}):I&&R()},T=()=>{var P,I;(I=(P=h.value)==null?void 0:P.focus)==null||I.call(P)};return Bn(()=>{h.value.checked=M.value}),t({focus:T,checked:M}),(P,I)=>(W(),ue("div",{class:J(m(y)),onClick:Sn(A,["prevent"])},[fe("input",{id:m(u),ref_key:"input",ref:h,class:J(m(s).e("input")),type:"checkbox",role:"switch","aria-checked":m(M),"aria-disabled":m(d),"aria-label":P.ariaLabel,name:P.name,"true-value":P.activeValue,"false-value":P.inactiveValue,disabled:m(d),tabindex:P.tabindex,onChange:R,onKeydown:Jr(A,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!P.inlinePrompt&&(P.inactiveIcon||P.inactiveText)?(W(),ue("span",{key:0,class:J(m(b))},[P.inactiveIcon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(P.inactiveIcon)))]),_:1})):Ye("v-if",!0),!P.inactiveIcon&&P.inactiveText?(W(),ue("span",{key:1,"aria-hidden":m(M)},Pt(P.inactiveText),9,["aria-hidden"])):Ye("v-if",!0)],2)):Ye("v-if",!0),fe("span",{ref_key:"core",ref:v,class:J(m(s).e("core")),style:un(m(g))},[P.inlinePrompt?(W(),ue("div",{key:0,class:J(m(s).e("inner"))},[P.activeIcon||P.inactiveIcon?(W(),tt(m(tn),{key:0,class:J(m(s).is("icon"))},{default:be(()=>[(W(),tt(tr(m(M)?P.activeIcon:P.inactiveIcon)))]),_:1},8,["class"])):P.activeText||P.inactiveText?(W(),ue("span",{key:1,class:J(m(s).is("text")),"aria-hidden":!m(M)},Pt(m(M)?P.activeText:P.inactiveText),11,["aria-hidden"])):Ye("v-if",!0)],2)):Ye("v-if",!0),fe("div",{class:J(m(s).e("action"))},[P.loading?(W(),tt(m(tn),{key:0,class:J(m(s).is("loading"))},{default:be(()=>[ce(m(Ru))]),_:1},8,["class"])):m(M)?Ue(P.$slots,"active-action",{key:1},()=>[P.activeActionIcon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(P.activeActionIcon)))]),_:1})):Ye("v-if",!0)]):m(M)?Ye("v-if",!0):Ue(P.$slots,"inactive-action",{key:2},()=>[P.inactiveActionIcon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(P.inactiveActionIcon)))]),_:1})):Ye("v-if",!0)])],2)],6),!P.inlinePrompt&&(P.activeIcon||P.activeText)?(W(),ue("span",{key:1,class:J(m(w))},[P.activeIcon?(W(),tt(m(tn),{key:0},{default:be(()=>[(W(),tt(tr(P.activeIcon)))]),_:1})):Ye("v-if",!0),!P.activeIcon&&P.activeText?(W(),ue("span",{key:1,"aria-hidden":!m(M)},Pt(P.activeText),9,["aria-hidden"])):Ye("v-if",!0)],2)):Ye("v-if",!0)],10,["onClick"]))}});var Xde=Ft(Yde,[["__file","switch.vue"]]);const Zde=On(Xde),Fx=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},Jde=function(e,t,n,r,a){if(!t&&!r&&(!a||Rt(a)&&!a.length))return e;nn(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(u,d){return a?(Rt(a)||(a=[a]),a.map(f=>nn(f)?Zi(u,f):f(u,d,e))):(t!=="$key"&&jn(u)&&"$value"in u&&(u=u.$value),[jn(u)?Zi(u,t):u])},s=function(u,d){if(r)return r(u.value,d.value);for(let f=0,h=u.key.length;f<h;f++){if(u.key[f]<d.key[f])return-1;if(u.key[f]>d.key[f])return 1}return 0};return e.map((u,d)=>({value:u,index:d,key:o?o(u,d):null})).sort((u,d)=>{let f=s(u,d);return f||(f=u.index-d.index),f*+n}).map(u=>u.value)},dF=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},Qde=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const a=e.columns[r];if(a.columnKey===t){n=a;break}}return n||va("ElTable","No column matching with column-key: ".concat(t)),n},_R=function(e,t,n){const r=(t.className||"").match(new RegExp("".concat(n,"-table_[^\\s]+"),"gm"));return r?dF(e,r[0]):null},xo=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(nn(t)){if(!t.includes("."))return"".concat(e[t]);const n=t.split(".");let r=e;for(const a of n)r=r[a];return"".concat(r)}else if(on(t))return t.call(null,e)},Bg=function(e,t){const n={};return(e||[]).forEach((r,a)=>{n[xo(r,t)]={row:r,index:a}}),n};function efe(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(kr(t,r)){const a=t[r];Or(a)||(n[r]=a)}return n}function s2(e){return e===""||Or(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function fF(e){return e===""||Or(e)||(e=s2(e),Number.isNaN(e)&&(e=80)),e}function tfe(e){return fn(e)?e:nn(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function nfe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function V_(e,t,n,r,a,o){let s=o!=null?o:0,u=!1;const d=e.indexOf(t),f=d!==-1,h=a==null?void 0:a.call(null,t,s),v=b=>{b==="add"?e.push(t):e.splice(d,1),u=!0},y=b=>{let w=0;const g=(r==null?void 0:r.children)&&b[r.children];return g&&Rt(g)&&(w+=g.length,g.forEach(x=>{w+=y(x)})),w};return(!a||h)&&(ri(n)?n&&!f?v("add"):!n&&f&&v("remove"):v(f?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Rt(t[r.children])&&t[r.children].forEach(b=>{const w=V_(e,b,n!=null?n:!f,r,a,s+1);s+=y(b)+1,w&&(u=w)}),u}function rfe(e,t,n="children",r="hasChildren"){const a=s=>!(Rt(s)&&s.length);function o(s,u,d){t(s,u,d),u.forEach(f=>{if(f[r]){t(f,null,d+1);return}const h=f[n];a(h)||o(f,h,d+1)})}e.forEach(s=>{if(s[r]){t(s,null,0);return}const u=s[n];a(u)||o(s,u,0)})}const ife=(e,t,n,r)=>{const a={strategy:"fixed",...e.popperOptions},o=on(r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:Ig(n,r.property).value}):void 0;return Mi(o)?{slotContent:o,content:null,...e,popperOptions:a}:{slotContent:null,content:o!=null?o:t,...e,popperOptions:a}};let ss=null;function afe(e,t,n,r,a,o){const s=ife(e,t,n,r),u={...s,slotContent:void 0};if((ss==null?void 0:ss.trigger)===a){const b=ss.vm.component;ID(b.props,u),s.slotContent&&(b.slots.content=()=>[s.slotContent]);return}ss==null||ss();const d=o==null?void 0:o.refs.tableWrapper,f=d==null?void 0:d.dataset.prefix,h=ce(ao,{virtualTriggering:!0,virtualRef:a,appendTo:d,placement:"top",transition:"none",offset:0,hideAfter:0,...u},s.slotContent?{content:()=>s.slotContent}:void 0);h.appContext={...o.appContext,...o};const v=document.createElement("div");pd(h,v),h.component.exposed.onOpen();const y=d==null?void 0:d.querySelector(".".concat(f,"-scrollbar__wrap"));ss=()=>{pd(null,v),y==null||y.removeEventListener("scroll",ss),ss=null},ss.trigger=a,ss.vm=h,y==null||y.addEventListener("scroll",ss)}function hF(e){return e.children?sY(e.children,hF):[e]}function wR(e,t){return e+t.colSpan}const pF=(e,t,n,r)=>{let a=0,o=e;const s=n.states.columns.value;if(r){const d=hF(r[e]);a=s.slice(0,s.indexOf(d[0])).reduce(wR,0),o=a+d.reduce(wR,0)-1}else a=e;let u;switch(t){case"left":o<n.states.fixedLeafColumnsLength.value&&(u="left");break;case"right":a>=s.length-n.states.rightFixedLeafColumnsLength.value&&(u="right");break;default:o<n.states.fixedLeafColumnsLength.value?u="left":a>=s.length-n.states.rightFixedLeafColumnsLength.value&&(u="right")}return u?{direction:u,start:a,after:o}:{}},l2=(e,t,n,r,a,o=0)=>{const s=[],{direction:u,start:d,after:f}=pF(t,n,r,a);if(u){const h=u==="left";s.push("".concat(e,"-fixed-column--").concat(u)),h&&f+o===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!h&&d-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function xR(e,t){return e+(k0(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const u2=(e,t,n,r)=>{const{direction:a,start:o=0,after:s=0}=pF(e,t,n,r);if(!a)return;const u={},d=a==="left",f=n.states.columns.value;return d?u.left=f.slice(0,o).reduce(xR,0):u.right=f.slice(s+1).reverse().reduce(xR,0),u},cm=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]="".concat(e[t],"px")))};function ofe(e){const t=Jn(),n=re(!1),r=re([]);return{updateExpandRows:()=>{const d=e.data.value||[],f=e.rowKey.value;if(n.value)r.value=d.slice();else if(f){const h=Bg(r.value,f);r.value=d.reduce((v,y)=>{const b=xo(y,f);return h[b]&&v.push(y),v},[])}else r.value=[]},toggleRowExpansion:(d,f)=>{V_(r.value,d,f)&&t.emit("expand-change",d,r.value.slice())},setExpandRowKeys:d=>{t.store.assertRowKey();const f=e.data.value||[],h=e.rowKey.value,v=Bg(f,h);r.value=d.reduce((y,b)=>{const w=v[b];return w&&y.push(w.row),y},[])},isRowExpanded:d=>{const f=e.rowKey.value;return f?!!Bg(r.value,f)[xo(d,f)]:r.value.includes(d)},states:{expandRows:r,defaultExpandAll:n}}}function sfe(e){const t=Jn(),n=re(null),r=re(null),a=f=>{t.store.assertRowKey(),n.value=f,s(f)},o=()=>{n.value=null},s=f=>{const{data:h,rowKey:v}=e;let y=null;v.value&&(y=(m(h)||[]).find(b=>xo(b,v.value)===f)),r.value=y,t.emit("current-change",r.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:o,setCurrentRowByKey:s,updateCurrentRow:f=>{const h=r.value;if(f&&f!==h){r.value=f,t.emit("current-change",r.value,h);return}!f&&h&&(r.value=null,t.emit("current-change",null,h))},updateCurrentRowData:()=>{const f=e.rowKey.value,h=e.data.value||[],v=r.value;if(!h.includes(v)&&v){if(f){const y=xo(v,f);s(y)}else r.value=null;k0(r.value)&&t.emit("current-change",null,v)}else n.value&&(s(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function lfe(e){const t=re([]),n=re({}),r=re(16),a=re(!1),o=re({}),s=re("hasChildren"),u=re("children"),d=re(!1),f=Jn(),h=U(()=>{if(!e.rowKey.value)return{};const T=e.data.value||[];return y(T)}),v=U(()=>{const T=e.rowKey.value,P=Object.keys(o.value),I={};return P.length&&P.forEach(E=>{if(o.value[E].length){const D={children:[]};o.value[E].forEach(N=>{const B=xo(N,T);D.children.push(B),N[s.value]&&!I[B]&&(I[B]={children:[]})}),I[E]=D}}),I}),y=T=>{const P=e.rowKey.value,I={};return rfe(T,(E,D,N)=>{const B=xo(E,P);Rt(D)?I[B]={children:D.map(G=>xo(G,P)),level:N}:a.value&&(I[B]={children:[],lazy:!0,level:N})},u.value,s.value),I},b=(T=!1,P=(I=>(I=f.store)==null?void 0:I.states.defaultExpandAll.value)())=>{var I;const E=h.value,D=v.value,N=Object.keys(E),B={};if(N.length){const G=m(n),$=[],Q=(ee,K)=>{if(T)return t.value?P||t.value.includes(K):!!(P||ee!=null&&ee.expanded);{const X=P||t.value&&t.value.includes(K);return!!(ee!=null&&ee.expanded||X)}};N.forEach(ee=>{const K=G[ee],X={...E[ee]};if(X.expanded=Q(K,ee),X.lazy){const{loaded:Z=!1,loading:j=!1}=K||{};X.loaded=!!Z,X.loading=!!j,$.push(ee)}B[ee]=X});const ae=Object.keys(D);a.value&&ae.length&&$.length&&ae.forEach(ee=>{const K=G[ee],X=D[ee].children;if($.includes(ee)){if(B[ee].children.length!==0)throw new Error("[ElTable]children must be an empty array.");B[ee].children=X}else{const{loaded:Z=!1,loading:j=!1}=K||{};B[ee]={lazy:!0,loaded:!!Z,loading:!!j,expanded:Q(K,ee),children:X,level:""}}})}n.value=B,(I=f.store)==null||I.updateTableScrollY()};bt(()=>t.value,()=>{b(!0)}),bt(()=>h.value,()=>{b()}),bt(()=>v.value,()=>{b()});const w=T=>{t.value=T,b()},g=T=>a.value&&T&&"loaded"in T&&!T.loaded,x=(T,P)=>{f.store.assertRowKey();const I=e.rowKey.value,E=xo(T,I),D=E&&n.value[E];if(E&&D&&"expanded"in D){const N=D.expanded;P=Or(P)?!D.expanded:P,n.value[E].expanded=P,N!==P&&f.emit("expand-change",T,P),g(D)&&R(T,E,D),f.store.updateTableScrollY()}},M=T=>{f.store.assertRowKey();const P=e.rowKey.value,I=xo(T,P),E=n.value[I];g(E)?R(T,I,E):x(T,void 0)},R=(T,P,I)=>{const{load:E}=f.props;E&&!n.value[P].loaded&&(n.value[P].loading=!0,E(T,I,D=>{if(!Rt(D))throw new TypeError("[ElTable] data must be an array");n.value[P].loading=!1,n.value[P].loaded=!0,n.value[P].expanded=!0,D.length&&(o.value[P]=D),f.emit("expand-change",T,!0)}))};return{loadData:R,loadOrToggle:M,toggleTreeExpansion:x,updateTreeExpandKeys:w,updateTreeData:b,updateKeyChildren:(T,P)=>{const{lazy:I,rowKey:E}=f.props;if(I){if(!E)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[T]&&(o.value[T]=P)}},normalize:y,states:{expandRowKeys:t,treeData:n,indent:r,lazy:a,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:u,checkStrictly:d}}}const ufe=(e,t)=>{const n=t.sortingColumn;return!n||nn(n.sortable)?e:Jde(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},Zb=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,Zb(n.children)):t.push(n)}),t};function cfe(){var e;const t=Jn(),{size:n}=ka((e=t.proxy)==null?void 0:e.$props),r=re(null),a=re([]),o=re([]),s=re(!1),u=re([]),d=re([]),f=re([]),h=re([]),v=re([]),y=re([]),b=re([]),w=re([]),g=[],x=re(0),M=re(0),R=re(0),A=re(!1),T=re([]),P=re(!1),I=re(!1),E=re(null),D=re({}),N=re(null),B=re(null),G=re(null),$=re(null),Q=re(null),ae=U(()=>r.value?Bg(T.value,r.value):void 0);bt(a,()=>{var Tt;t.state&&(Z(!1),t.props.tableLayout==="auto"&&((Tt=t.refs.tableHeaderRef)==null||Tt.updateFixedColumnStyle()))},{deep:!0});const ee=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},K=Tt=>{var je;(je=Tt.children)==null||je.forEach(xe=>{xe.fixed=Tt.fixed,K(xe)})},X=()=>{var Tt,je;u.value.forEach(Je=>{K(Je)}),h.value=u.value.filter(Je=>Je.type!=="selection"&&[!0,"left"].includes(Je.fixed));let xe;if(((je=(Tt=u.value)==null?void 0:Tt[0])==null?void 0:je.type)==="selection"){const Je=u.value[0];xe=[!0,"left"].includes(Je.fixed)||h.value.length&&Je.fixed!=="right",xe&&h.value.unshift(Je)}v.value=u.value.filter(Je=>Je.fixed==="right");const Ke=u.value.filter(Je=>(xe?Je.type!=="selection":!0)&&!Je.fixed);d.value=[].concat(h.value).concat(Ke).concat(v.value);const Ee=Zb(Ke),wt=Zb(h.value),an=Zb(v.value);x.value=Ee.length,M.value=wt.length,R.value=an.length,f.value=[].concat(wt).concat(Ee).concat(an),s.value=h.value.length>0||v.value.length>0},Z=(Tt,je=!1)=>{Tt&&X(),je?t.state.doLayout():t.state.debouncedUpdateLayout()},j=Tt=>ae.value?!!ae.value[xo(Tt,r.value)]:T.value.includes(Tt),ie=()=>{A.value=!1;const Tt=T.value;T.value=[],Tt.length&&t.emit("selection-change",[])},pe=()=>{let Tt;if(r.value){Tt=[];const je=Bg(a.value,r.value);for(const xe in ae.value)kr(ae.value,xe)&&!je[xe]&&Tt.push(ae.value[xe].row)}else Tt=T.value.filter(je=>!a.value.includes(je));if(Tt.length){const je=T.value.filter(xe=>!Tt.includes(xe));T.value=je,t.emit("selection-change",je.slice())}},he=()=>(T.value||[]).slice(),le=(Tt,je,xe=!0,Ke=!1)=>{var Ee,wt,an,Je;const Dt={children:(wt=(Ee=t==null?void 0:t.store)==null?void 0:Ee.states)==null?void 0:wt.childrenColumnName.value,checkStrictly:(Je=(an=t==null?void 0:t.store)==null?void 0:an.states)==null?void 0:Je.checkStrictly.value};if(V_(T.value,Tt,je,Dt,Ke?void 0:E.value,a.value.indexOf(Tt))){const _n=(T.value||[]).slice();xe&&t.emit("select",_n,Tt),t.emit("selection-change",_n)}},Re=()=>{var Tt,je;const xe=I.value?!A.value:!(A.value||T.value.length);A.value=xe;let Ke=!1,Ee=0;const wt=(je=(Tt=t==null?void 0:t.store)==null?void 0:Tt.states)==null?void 0:je.rowKey.value,{childrenColumnName:an}=t.store.states,Je={children:an.value,checkStrictly:!1};a.value.forEach((Dt,en)=>{const _n=en+Ee;V_(T.value,Dt,xe,Je,E.value,_n)&&(Ke=!0),Ee+=ge(xo(Dt,wt))}),Ke&&t.emit("selection-change",T.value?T.value.slice():[]),t.emit("select-all",(T.value||[]).slice())},De=()=>{a.value.forEach(Tt=>{const je=xo(Tt,r.value),xe=ae.value[je];xe&&(T.value[xe.index]=Tt)})},Te=()=>{var Tt;if(((Tt=a.value)==null?void 0:Tt.length)===0){A.value=!1;return}const{childrenColumnName:je}=t.store.states;let xe=0,Ke=0;const Ee=an=>{var Je;for(const Dt of an){const en=E.value&&E.value.call(null,Dt,xe);if(j(Dt))Ke++;else if(!E.value||en)return!1;if(xe++,(Je=Dt[je.value])!=null&&Je.length&&!Ee(Dt[je.value]))return!1}return!0},wt=Ee(a.value||[]);A.value=Ke===0?!1:wt},ge=Tt=>{var je;if(!t||!t.store)return 0;const{treeData:xe}=t.store.states;let Ke=0;const Ee=(je=xe.value[Tt])==null?void 0:je.children;return Ee&&(Ke+=Ee.length,Ee.forEach(wt=>{Ke+=ge(wt)})),Ke},ke=(Tt,je)=>{Rt(Tt)||(Tt=[Tt]);const xe={};return Tt.forEach(Ke=>{D.value[Ke.id]=je,xe[Ke.columnKey||Ke.id]=je}),xe},Pe=(Tt,je,xe)=>{B.value&&B.value!==Tt&&(B.value.order=null),B.value=Tt,G.value=je,$.value=xe},Xe=()=>{let Tt=m(o);Object.keys(D.value).forEach(je=>{const xe=D.value[je];if(!xe||xe.length===0)return;const Ke=dF({columns:f.value},je);Ke&&Ke.filterMethod&&(Tt=Tt.filter(Ee=>xe.some(wt=>Ke.filterMethod.call(null,wt,Ee,Ke))))}),N.value=Tt},ct=()=>{a.value=ufe(N.value,{sortingColumn:B.value,sortProp:G.value,sortOrder:$.value})},se=(Tt=void 0)=>{Tt&&Tt.filter||Xe(),ct()},ye=Tt=>{const{tableHeaderRef:je}=t.refs;if(!je)return;const xe=Object.assign({},je.filterPanels),Ke=Object.keys(xe);if(Ke.length)if(nn(Tt)&&(Tt=[Tt]),Rt(Tt)){const Ee=Tt.map(wt=>Qde({columns:f.value},wt));Ke.forEach(wt=>{const an=Ee.find(Je=>Je.id===wt);an&&(an.filteredValue=[])}),t.store.commit("filterChange",{column:Ee,values:[],silent:!0,multi:!0})}else Ke.forEach(Ee=>{const wt=f.value.find(an=>an.id===Ee);wt&&(wt.filteredValue=[])}),D.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},He=()=>{B.value&&(Pe(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:dt,toggleRowExpansion:pt,updateExpandRows:nt,states:ot,isRowExpanded:rt}=ofe({data:a,rowKey:r}),{updateTreeExpandKeys:At,toggleTreeExpansion:Mt,updateTreeData:Me,updateKeyChildren:ve,loadOrToggle:Fe,states:qe}=lfe({data:a,rowKey:r}),{updateCurrentRowData:Et,updateCurrentRow:$t,setCurrentRowKey:Yt,states:We}=sfe({data:a,rowKey:r});return{assertRowKey:ee,updateColumns:X,scheduleLayout:Z,isSelected:j,clearSelection:ie,cleanSelection:pe,getSelectionRows:he,toggleRowSelection:le,_toggleAllSelection:Re,toggleAllSelection:null,updateSelectionByRowKey:De,updateAllSelected:Te,updateFilters:ke,updateCurrentRow:$t,updateSort:Pe,execFilter:Xe,execSort:ct,execQuery:se,clearFilter:ye,clearSort:He,toggleRowExpansion:pt,setExpandRowKeysAdapter:Tt=>{dt(Tt),At(Tt)},setCurrentRowKey:Yt,toggleRowExpansionAdapter:(Tt,je)=>{f.value.some(({type:Ke})=>Ke==="expand")?pt(Tt,je):Mt(Tt,je)},isRowExpanded:rt,updateExpandRows:nt,updateCurrentRowData:Et,loadOrToggle:Fe,updateTreeData:Me,updateKeyChildren:ve,states:{tableSize:n,rowKey:r,data:a,_data:o,isComplex:s,_columns:u,originColumns:d,columns:f,fixedColumns:h,rightFixedColumns:v,leafColumns:y,fixedLeafColumns:b,rightFixedLeafColumns:w,updateOrderFns:g,leafColumnsLength:x,fixedLeafColumnsLength:M,rightFixedLeafColumnsLength:R,isAllSelected:A,selection:T,reserveSelection:P,selectOnIndeterminate:I,selectable:E,filters:D,filteredData:N,sortingColumn:B,sortProp:G,sortOrder:$,hoverRow:Q,...ot,...qe,...We}}}function FM(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=FM(n.children,t)),n)})}function BM(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&BM(t.children)}),e.sort((t,n)=>t.no-n.no)}function dfe(){const e=Jn(),t=cfe();return{ns:xt("table"),...t,mutations:{setData(s,u){const d=m(s._data)!==u;s.data.value=u,s._data.value=u,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),m(s.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):d?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(s,u,d,f){const h=m(s._columns);let v=[];d?(d&&!d.children&&(d.children=[]),d.children.push(u),v=FM(h,d)):(h.push(u),v=h),BM(v),s._columns.value=v,s.updateOrderFns.push(f),u.type==="selection"&&(s.selectable.value=u.selectable,s.reserveSelection.value=u.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(s,u){var d;((d=u.getColumnIndex)==null?void 0:d.call(u))!==u.no&&(BM(s._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(s,u,d,f){const h=m(s._columns)||[];if(d)d.children.splice(d.children.findIndex(y=>y.id===u.id),1),cn(()=>{var y;((y=d.children)==null?void 0:y.length)===0&&delete d.children}),s._columns.value=FM(h,d);else{const y=h.indexOf(u);y>-1&&(h.splice(y,1),s._columns.value=h)}const v=s.updateOrderFns.indexOf(f);v>-1&&s.updateOrderFns.splice(v,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(s,u){const{prop:d,order:f,init:h}=u;if(d){const v=m(s.columns).find(y=>y.property===d);v&&(v.order=f,e.store.updateSort(v,d,f),e.store.commit("changeSortCondition",{init:h}))}},changeSortCondition(s,u){const{sortingColumn:d,sortProp:f,sortOrder:h}=s,v=m(d),y=m(f),b=m(h);k0(b)&&(s.sortingColumn.value=null,s.sortProp.value=null);const w={filter:!0};e.store.execQuery(w),(!u||!(u.silent||u.init))&&e.emit("sort-change",{column:v,prop:y,order:b}),e.store.updateTableScrollY()},filterChange(s,u){const{column:d,values:f,silent:h}=u,v=e.store.updateFilters(d,f);e.store.execQuery(),h||e.emit("filter-change",v),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(s,u){e.store.toggleRowSelection(u),e.store.updateAllSelected()},setHoverRow(s,u){s.hoverRow.value=u},setCurrentRow(s,u){e.store.updateCurrentRow(u)}},commit:function(s,...u){const d=e.store.mutations;if(d[s])d[s].apply(e,[e.store.states].concat(u));else throw new Error("Action not found: ".concat(s))},updateTableScrollY:function(){cn(()=>e.layout.updateScrollY.apply(e.layout))}}}const zg={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function ffe(e,t){if(!e)throw new Error("Table is required.");const n=dfe();return n.toggleAllSelection=ps(n._toggleAllSelection,10),Object.keys(zg).forEach(r=>{mF(vF(t,r),r,n)}),hfe(n,t),n}function hfe(e,t){Object.keys(zg).forEach(n=>{bt(()=>vF(t,n),r=>{mF(r,n,e)})})}function mF(e,t,n){let r=e,a=zg[t];jn(zg[t])&&(a=a.key,r=r||zg[t].default),n.states[a].value=r}function vF(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(a=>{r=r[a]}),r}else return e[t]}class pfe{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=re(null),this.scrollX=re(!1),this.scrollY=re(!1),this.bodyWidth=re(null),this.fixedWidth=re(null),this.rightFixedWidth=re(null),this.gutterWidth=0;for(const n in t)kr(t,n)&&(vi(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(k0(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const a=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,a!==r}return!1}setHeight(t,n="height"){if(!wr)return;const r=this.table.vnode.el;if(t=tfe(t),this.height.value=Number(t),!r&&(t||t===0))return cn(()=>this.setHeight(t,n));fn(t)?(r.style[n]="".concat(t,"px"),this.updateElsHeight()):nn(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!wr)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const a=this.getFlattenColumns(),o=a.filter(d=>!fn(d.width));if(a.forEach(d=>{fn(d.width)&&d.realWidth&&(d.realWidth=null)}),o.length>0&&t){if(a.forEach(d=>{r+=Number(d.width||d.minWidth||80)}),r<=n){this.scrollX.value=!1;const d=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+d;else{const f=o.reduce((y,b)=>y+Number(b.minWidth||80),0),h=d/f;let v=0;o.forEach((y,b)=>{if(b===0)return;const w=Math.floor(Number(y.minWidth||80)*h);v+=w,y.realWidth=Number(y.minWidth||80)+w}),o[0].realWidth=Number(o[0].minWidth||80)+d-v}}else this.scrollX.value=!0,o.forEach(d=>{d.realWidth=Number(d.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(d=>{!d.width&&!d.minWidth?d.realWidth=80:d.realWidth=Number(d.width||d.minWidth),r+=d.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let d=0;s.forEach(f=>{d+=Number(f.realWidth||f.width)}),this.fixedWidth.value=d}const u=this.store.states.rightFixedColumns.value;if(u.length>0){let d=0;u.forEach(f=>{d+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=d}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var a,o;switch(t){case"columns":(a=r.state)==null||a.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error("Table Layout don't have event ".concat(t,"."))}})}}const{CheckboxGroup:mfe}=sl,vfe=we({name:"ElTableFilterPanel",components:{ElCheckbox:sl,ElCheckboxGroup:mfe,ElScrollbar:Nu,ElTooltip:ao,ElIcon:tn,ArrowDown:xc,ArrowUp:qE},directives:{ClickOutside:yc},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=Jn(),{t:n}=xr(),r=xt("table-filter"),a=t==null?void 0:t.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=t);const o=re(!1),s=re(null),u=U(()=>e.column&&e.column.filters),d=U(()=>e.column.filterClassName?"".concat(r.b()," ").concat(e.column.filterClassName):r.b()),f=U({get:()=>{var P;return(((P=e.column)==null?void 0:P.filteredValue)||[])[0]},set:P=>{h.value&&(Dl(P)?h.value.splice(0,1):h.value.splice(0,1,P))}}),h=U({get(){return e.column?e.column.filteredValue||[]:[]},set(P){e.column&&e.upDataColumn("filteredValue",P)}}),v=U(()=>e.column?e.column.filterMultiple:!0),y=P=>P.value===f.value,b=()=>{o.value=!1},w=P=>{P.stopPropagation(),o.value=!o.value},g=()=>{o.value=!1},x=()=>{A(h.value),b()},M=()=>{h.value=[],A(h.value),b()},R=P=>{f.value=P,Dl(P)?A([]):A(h.value),b()},A=P=>{e.store.commit("filterChange",{column:e.column,values:P}),e.store.updateAllSelected()};bt(o,P=>{e.column&&e.upDataColumn("filterOpened",P)},{immediate:!0});const T=U(()=>{var P,I;return(I=(P=s.value)==null?void 0:P.popperRef)==null?void 0:I.contentRef});return{tooltipVisible:o,multiple:v,filterClassName:d,filteredValue:h,filterValue:f,filters:u,handleConfirm:x,handleReset:M,handleSelect:R,isPropAbsent:Dl,isActive:y,t:n,ns:r,showFilterPanel:w,hideFilterPanel:g,popperPaneRef:T,tooltip:s}}});function gfe(e,t,n,r,a,o){const s=Zt("el-checkbox"),u=Zt("el-checkbox-group"),d=Zt("el-scrollbar"),f=Zt("arrow-up"),h=Zt("arrow-down"),v=Zt("el-icon"),y=Zt("el-tooltip"),b=E0("click-outside");return W(),tt(y,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:be(()=>[e.multiple?(W(),ue("div",{key:0},[fe("div",{class:J(e.ns.e("content"))},[ce(d,{"wrap-class":e.ns.e("wrap")},{default:be(()=>[ce(u,{modelValue:e.filteredValue,"onUpdate:modelValue":w=>e.filteredValue=w,class:J(e.ns.e("checkbox-group"))},{default:be(()=>[(W(!0),ue(rn,null,ar(e.filters,w=>(W(),tt(s,{key:w.value,value:w.value},{default:be(()=>[Pn(Pt(w.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),fe("div",{class:J(e.ns.e("bottom"))},[fe("button",{class:J({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},Pt(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),fe("button",{type:"button",onClick:e.handleReset},Pt(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(W(),ue("ul",{key:1,class:J(e.ns.e("list"))},[fe("li",{class:J([e.ns.e("list-item"),{[e.ns.is("active")]:e.isPropAbsent(e.filterValue)}]),onClick:w=>e.handleSelect(null)},Pt(e.t("el.table.clearFilter")),11,["onClick"]),(W(!0),ue(rn,null,ar(e.filters,w=>(W(),ue("li",{key:w.value,class:J([e.ns.e("list-item"),e.ns.is("active",e.isActive(w))]),label:w.value,onClick:g=>e.handleSelect(w.value)},Pt(w.text),11,["label","onClick"]))),128))],2))]),default:be(()=>[kn((W(),ue("span",{class:J(["".concat(e.ns.namespace.value,"-table__column-filter-trigger"),"".concat(e.ns.namespace.value,"-none-outline")]),onClick:e.showFilterPanel},[ce(v,null,{default:be(()=>[Ue(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(W(),tt(f,{key:0})):(W(),tt(h,{key:1}))])]),_:3})],10,["onClick"])),[[b,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var yfe=Ft(vfe,[["render",gfe],["__file","filter-panel.vue"]]);function c2(e){const t=Jn();sw(()=>{n.value.addObserver(t)}),Bn(()=>{r(n.value),a(n.value)}),Hl(()=>{r(n.value),a(n.value)}),Md(()=>{n.value.removeObserver(t)});const n=U(()=>{const o=e.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var s;const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!u.length)return;const d=o.getFlattenColumns(),f={};d.forEach(h=>{f[h.id]=h});for(let h=0,v=u.length;h<v;h++){const y=u[h],b=y.getAttribute("name"),w=f[b];w&&y.setAttribute("width",w.realWidth||w.width)}},a=o=>{var s,u;const d=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let h=0,v=d.length;h<v;h++)d[h].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const f=((u=e.vnode.el)==null?void 0:u.querySelectorAll("th.gutter"))||[];for(let h=0,v=f.length;h<v;h++){const y=f[h];y.style.width=o.scrollY.value?"".concat(o.gutterWidth,"px"):"0",y.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:a}}const ql=Symbol("ElTable");function bfe(e,t){const n=Jn(),r=qt(ql),a=g=>{g.stopPropagation()},o=(g,x)=>{!x.filters&&x.sortable?w(g,x,!1):x.filterable&&!x.sortable&&a(g),r==null||r.emit("header-click",x,g)},s=(g,x)=>{r==null||r.emit("header-contextmenu",x,g)},u=re(null),d=re(!1),f=re({}),h=(g,x)=>{if(wr&&!(x.children&&x.children.length>0)&&u.value&&e.border){d.value=!0;const M=r;t("set-drag-visible",!0);const A=(M==null?void 0:M.vnode.el).getBoundingClientRect().left,T=n.vnode.el.querySelector("th.".concat(x.id)),P=T.getBoundingClientRect(),I=P.left-A+30;el(T,"noclick"),f.value={startMouseLeft:g.clientX,startLeft:P.right-A,startColumnLeft:P.left-A,tableLeft:A};const E=M==null?void 0:M.refs.resizeProxy;E.style.left="".concat(f.value.startLeft,"px"),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const D=B=>{const G=B.clientX-f.value.startMouseLeft,$=f.value.startLeft+G;E.style.left="".concat(Math.max(I,$),"px")},N=()=>{if(d.value){const{startColumnLeft:B,startLeft:G}=f.value,Q=Number.parseInt(E.style.left,10)-B;x.width=x.realWidth=Q,M==null||M.emit("header-dragend",x.width,G-B,x,g),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",d.value=!1,u.value=null,f.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",N),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Co(T,"noclick")},0)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",N)}},v=(g,x)=>{var M;if(x.children&&x.children.length>0)return;const R=g.target;if(!Ho(R))return;const A=R==null?void 0:R.closest("th");if(!(!x||!x.resizable||!A)&&!d.value&&e.border){const T=A.getBoundingClientRect(),P=document.body.style,I=((M=A.parentNode)==null?void 0:M.lastElementChild)===A,E=e.allowDragLastColumn||!I;T.width>12&&T.right-g.pageX<8&&E?(P.cursor="col-resize",cs(A,"is-sortable")&&(A.style.cursor="col-resize"),u.value=x):d.value||(P.cursor="",cs(A,"is-sortable")&&(A.style.cursor="pointer"),u.value=null)}},y=()=>{wr&&(document.body.style.cursor="")},b=({order:g,sortOrders:x})=>{if(g==="")return x[0];const M=x.indexOf(g||null);return x[M>x.length-2?0:M+1]},w=(g,x,M)=>{var R;g.stopPropagation();const A=x.order===M?null:M||b(x),T=(R=g.target)==null?void 0:R.closest("th");if(T&&cs(T,"noclick")){Co(T,"noclick");return}if(!x.sortable)return;const P=g.currentTarget;if(["ascending","descending"].some(B=>cs(P,B)&&!x.sortOrders.includes(B)))return;const I=e.store.states;let E=I.sortProp.value,D;const N=I.sortingColumn.value;(N!==x||N===x&&k0(N.order))&&(N&&(N.order=null),I.sortingColumn.value=x,E=x.property),A?D=x.order=A:D=x.order=null,I.sortProp.value=E,I.sortOrder.value=D,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:s,handleMouseDown:h,handleMouseMove:v,handleMouseOut:y,handleSortClick:w,handleFilterClick:a}}function _fe(e){const t=qt(ql),n=xt("table");return{getHeaderRowStyle:u=>{const d=t==null?void 0:t.props.headerRowStyle;return on(d)?d.call(null,{rowIndex:u}):d},getHeaderRowClass:u=>{const d=[],f=t==null?void 0:t.props.headerRowClassName;return nn(f)?d.push(f):on(f)&&d.push(f.call(null,{rowIndex:u})),d.join(" ")},getHeaderCellStyle:(u,d,f,h)=>{var v;let y=(v=t==null?void 0:t.props.headerCellStyle)!=null?v:{};on(y)&&(y=y.call(null,{rowIndex:u,columnIndex:d,row:f,column:h}));const b=u2(d,h.fixed,e.store,f);return cm(b,"left"),cm(b,"right"),Object.assign({},y,b)},getHeaderCellClass:(u,d,f,h)=>{const v=l2(n.b(),d,h.fixed,e.store,f),y=[h.id,h.order,h.headerAlign,h.className,h.labelClassName,...v];h.children||y.push("is-leaf"),h.sortable&&y.push("is-sortable");const b=t==null?void 0:t.props.headerCellClassName;return nn(b)?y.push(b):on(b)&&y.push(b.call(null,{rowIndex:u,columnIndex:d,row:f,column:h})),y.push(n.e("cell")),y.filter(w=>!!w).join(" ")}}}const gF=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,gF(n.children))):t.push(n)}),t},yF=e=>{let t=1;const n=(o,s)=>{if(s&&(o.level=s.level+1,t<o.level&&(t=o.level)),o.children){let u=0;o.children.forEach(d=>{n(d,o),u+=d.colSpan}),o.colSpan=u}else o.colSpan=1};e.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<t;o++)r.push([]);return gF(e).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(s=>s.isSubColumn=!0)):o.rowSpan=t-o.level+1,r[o.level-1].push(o)}),r};function wfe(e){const t=qt(ql),n=U(()=>yF(e.store.states.originColumns.value));return{isGroup:U(()=>{const o=n.value.length>1;return o&&t&&(t.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var xfe=we({name:"ElTableHeader",components:{ElCheckbox:sl},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=Jn(),r=qt(ql),a=xt("table"),o=re({}),{onColumnsChange:s,onScrollableChange:u}=c2(r),d=(r==null?void 0:r.props.tableLayout)==="auto",f=Ir(new Map),h=re(),v=()=>{setTimeout(()=>{f.size>0&&(f.forEach((B,G)=>{const $=h.value.querySelector(".".concat(G.replace(/\s/g,".")));if($){const Q=$.getBoundingClientRect().width;B.width=Q}}),f.clear())})};bt(f,v),Bn(async()=>{await cn(),await cn();const{prop:B,order:G}=e.defaultSort;r==null||r.store.commit("sort",{prop:B,order:G,init:!0}),v()});const{handleHeaderClick:y,handleHeaderContextMenu:b,handleMouseDown:w,handleMouseMove:g,handleMouseOut:x,handleSortClick:M,handleFilterClick:R}=bfe(e,t),{getHeaderRowStyle:A,getHeaderRowClass:T,getHeaderCellStyle:P,getHeaderCellClass:I}=_fe(e),{isGroup:E,toggleAllSelection:D,columnRows:N}=wfe(e);return n.state={onColumnsChange:s,onScrollableChange:u},n.filterPanels=o,{ns:a,filterPanels:o,onColumnsChange:s,onScrollableChange:u,columnRows:N,getHeaderRowClass:T,getHeaderRowStyle:A,getHeaderCellClass:I,getHeaderCellStyle:P,handleHeaderClick:y,handleHeaderContextMenu:b,handleMouseDown:w,handleMouseMove:g,handleMouseOut:x,handleSortClick:M,handleFilterClick:R,isGroup:E,toggleAllSelection:D,saveIndexSelection:f,isTableLayoutAuto:d,theadRef:h,updateFixedColumnStyle:v}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:a,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:u,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:h,handleSortClick:v,handleMouseOut:y,store:b,$parent:w,saveIndexSelection:g,isTableLayoutAuto:x}=this;let M=1;return mn("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((R,A)=>mn("tr",{class:o(A),key:A,style:s(A)},R.map((T,P)=>{T.rowSpan>M&&(M=T.rowSpan);const I=a(A,P,R,T);return x&&T.fixed&&g.set(I,T),mn("th",{class:I,colspan:T.colSpan,key:"".concat(T.id,"-thead"),rowspan:T.rowSpan,style:r(A,P,R,T),onClick:E=>{E.currentTarget.classList.contains("noclick")||u(E,T)},onContextmenu:E=>d(E,T),onMousedown:E=>f(E,T),onMousemove:E=>h(E,T),onMouseout:y},[mn("div",{class:["cell",T.filteredValue&&T.filteredValue.length>0?"highlight":""]},[T.renderHeader?T.renderHeader({column:T,$index:P,store:b,_self:w}):T.label,T.sortable&&mn("span",{onClick:E=>v(E,T),class:"caret-wrapper"},[mn("i",{onClick:E=>v(E,T,"ascending"),class:"sort-caret ascending"}),mn("i",{onClick:E=>v(E,T,"descending"),class:"sort-caret descending"})]),T.filterable&&mn(yfe,{store:b,placement:T.filterPlacement||"bottom-start",appendTo:w.appendFilterPanelTo,column:T,upDataColumn:(E,D)=>{T[E]=D}},{"filter-icon":()=>T.renderFilterIcon?T.renderFilterIcon({filterOpened:T.filterOpened}):null})])])}))))}});function Bx(e,t,n=.03){return e-t>n}function Sfe(e){const t=qt(ql),n=re(""),r=re(mn("div")),a=(w,g,x)=>{var M;const R=t,A=Fx(w);let T;const P=(M=R==null?void 0:R.vnode.el)==null?void 0:M.dataset.prefix;A&&(T=_R({columns:e.store.states.columns.value},A,P),T&&(R==null||R.emit("cell-".concat(x),g,T,A,w))),R==null||R.emit("row-".concat(x),g,T,w)},o=(w,g)=>{a(w,g,"dblclick")},s=(w,g)=>{e.store.commit("setCurrentRow",g),a(w,g,"click")},u=(w,g)=>{a(w,g,"contextmenu")},d=ps(w=>{e.store.commit("setHoverRow",w)},30),f=ps(()=>{e.store.commit("setHoverRow",null)},30),h=w=>{const g=window.getComputedStyle(w,null),x=Number.parseInt(g.paddingLeft,10)||0,M=Number.parseInt(g.paddingRight,10)||0,R=Number.parseInt(g.paddingTop,10)||0,A=Number.parseInt(g.paddingBottom,10)||0;return{left:x,right:M,top:R,bottom:A}},v=(w,g,x)=>{let M=g.target.parentNode;for(;w>1&&(M=M==null?void 0:M.nextSibling,!(!M||M.nodeName!=="TR"));)x(M,"hover-row hover-fixed-row"),w--};return{handleDoubleClick:o,handleClick:s,handleContextMenu:u,handleMouseEnter:d,handleMouseLeave:f,handleCellMouseEnter:(w,g,x)=>{var M,R,A;const T=t,P=Fx(w),I=(M=T==null?void 0:T.vnode.el)==null?void 0:M.dataset.prefix;let E;if(P){E=_R({columns:e.store.states.columns.value},P,I),P.rowSpan>1&&v(P.rowSpan,w,el);const ie=T.hoverState={cell:P,column:E,row:g};T==null||T.emit("cell-mouse-enter",ie.row,ie.column,ie.cell,w)}if(!x)return;const D=w.target.querySelector(".cell");if(!(cs(D,"".concat(I,"-tooltip"))&&D.childNodes.length))return;const N=document.createRange();N.setStart(D,0),N.setEnd(D,D.childNodes.length);const{width:B,height:G}=N.getBoundingClientRect(),{width:$,height:Q}=D.getBoundingClientRect(),{top:ae,left:ee,right:K,bottom:X}=h(D),Z=ee+K,j=ae+X;Bx(B+Z,$)||Bx(G+j,Q)||Bx(D.scrollWidth,$)?afe(x,P.innerText||P.textContent,g,E,P,T):((R=ss)==null?void 0:R.trigger)===P&&((A=ss)==null||A())},handleCellMouseLeave:w=>{const g=Fx(w);if(!g)return;g.rowSpan>1&&v(g.rowSpan,w,Co);const x=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",x==null?void 0:x.row,x==null?void 0:x.column,x==null?void 0:x.cell,w)},tooltipContent:n,tooltipTrigger:r}}function Mfe(e){const t=qt(ql),n=xt("table");return{getRowStyle:(f,h)=>{const v=t==null?void 0:t.props.rowStyle;return on(v)?v.call(null,{row:f,rowIndex:h}):v||null},getRowClass:(f,h)=>{const v=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&f===e.store.states.currentRow.value&&v.push("current-row"),e.stripe&&h%2===1&&v.push(n.em("row","striped"));const y=t==null?void 0:t.props.rowClassName;return nn(y)?v.push(y):on(y)&&v.push(y.call(null,{row:f,rowIndex:h})),v},getCellStyle:(f,h,v,y)=>{const b=t==null?void 0:t.props.cellStyle;let w=b!=null?b:{};on(b)&&(w=b.call(null,{rowIndex:f,columnIndex:h,row:v,column:y}));const g=u2(h,e==null?void 0:e.fixed,e.store);return cm(g,"left"),cm(g,"right"),Object.assign({},w,g)},getCellClass:(f,h,v,y,b)=>{const w=l2(n.b(),h,e==null?void 0:e.fixed,e.store,void 0,b),g=[y.id,y.align,y.className,...w],x=t==null?void 0:t.props.cellClassName;return nn(x)?g.push(x):on(x)&&g.push(x.call(null,{rowIndex:f,columnIndex:h,row:v,column:y})),g.push(n.e("cell")),g.filter(M=>!!M).join(" ")},getSpan:(f,h,v,y)=>{let b=1,w=1;const g=t==null?void 0:t.props.spanMethod;if(on(g)){const x=g({row:f,column:h,rowIndex:v,columnIndex:y});Rt(x)?(b=x[0],w=x[1]):jn(x)&&(b=x.rowspan,w=x.colspan)}return{rowspan:b,colspan:w}},getColspanRealWidth:(f,h,v)=>{if(h<1)return f[v].realWidth;const y=f.map(({realWidth:b,width:w})=>b||w).slice(v,v+h);return Number(y.reduce((b,w)=>Number(b)+Number(w),-1))}}}const Efe=we({name:"TableTdWrapper"}),Cfe=we({...Efe,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(W(),ue("td",{colspan:e.colspan,rowspan:e.rowspan},[Ue(t.$slots,"default")],8,["colspan","rowspan"]))}});var Tfe=Ft(Cfe,[["__file","td-wrapper.vue"]]);function Afe(e){const t=qt(ql),n=xt("table"),{handleDoubleClick:r,handleClick:a,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:u,handleCellMouseEnter:d,handleCellMouseLeave:f,tooltipContent:h,tooltipTrigger:v}=Sfe(e),{getRowStyle:y,getRowClass:b,getCellStyle:w,getCellClass:g,getSpan:x,getColspanRealWidth:M}=Mfe(e),R=U(()=>e.store.states.columns.value.findIndex(({type:E})=>E==="default")),A=(E,D)=>{const N=t.props.rowKey;return N?xo(E,N):D},T=(E,D,N,B=!1)=>{const{tooltipEffect:G,tooltipOptions:$,store:Q}=e,{indent:ae,columns:ee}=Q.states,K=b(E,D);let X=!0;return N&&(K.push(n.em("row","level-".concat(N.level))),X=N.display),mn("tr",{style:[X?null:{display:"none"},y(E,D)],class:K,key:A(E,D),onDblclick:j=>r(j,E),onClick:j=>a(j,E),onContextmenu:j=>o(j,E),onMouseenter:()=>s(D),onMouseleave:u},ee.value.map((j,ie)=>{const{rowspan:pe,colspan:he}=x(E,j,D,ie);if(!pe||!he)return null;const le=Object.assign({},j);le.realWidth=M(ee.value,he,ie);const Re={store:e.store,_self:e.context||t,column:le,row:E,$index:D,cellIndex:ie,expanded:B};ie===R.value&&N&&(Re.treeNode={indent:N.level*ae.value,level:N.level},ri(N.expanded)&&(Re.treeNode.expanded=N.expanded,"loading"in N&&(Re.treeNode.loading=N.loading),"noLazyChildren"in N&&(Re.treeNode.noLazyChildren=N.noLazyChildren)));const De="".concat(A(E,D),",").concat(ie),Te=le.columnKey||le.rawColumnKey||"",ge=j.showOverflowTooltip&&ID({effect:G},$,j.showOverflowTooltip);return mn(Tfe,{style:w(D,ie,E,j),class:g(D,ie,E,j,he-1),key:"".concat(Te).concat(De),rowspan:pe,colspan:he,onMouseenter:ke=>d(ke,E,ge),onMouseleave:f},{default:()=>P(ie,j,Re)})}))},P=(E,D,N)=>D.renderCell(N);return{wrappedRowRender:(E,D)=>{const N=e.store,{isRowExpanded:B,assertRowKey:G}=N,{treeData:$,lazyTreeNodeMap:Q,childrenColumnName:ae,rowKey:ee}=N.states,K=N.states.columns.value;if(K.some(({type:Z})=>Z==="expand")){const Z=B(E),j=T(E,D,void 0,Z),ie=t.renderExpanded;return Z?ie?[[j,mn("tr",{key:"expanded-row__".concat(j.key)},[mn("td",{colspan:K.length,class:"".concat(n.e("cell")," ").concat(n.e("expanded-cell"))},[ie({row:E,$index:D,store:N,expanded:Z})])])]]:(console.error("[Element Error]renderExpanded is required."),j):[[j]]}else if(Object.keys($.value).length){G();const Z=xo(E,ee.value);let j=$.value[Z],ie=null;j&&(ie={expanded:j.expanded,level:j.level,display:!0},ri(j.lazy)&&(ri(j.loaded)&&j.loaded&&(ie.noLazyChildren=!(j.children&&j.children.length)),ie.loading=j.loading));const pe=[T(E,D,ie)];if(j){let he=0;const le=(De,Te)=>{De&&De.length&&Te&&De.forEach(ge=>{const ke={display:Te.display&&Te.expanded,level:Te.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Pe=xo(ge,ee.value);if(Dl(Pe))throw new Error("For nested data item, row-key is required.");if(j={...$.value[Pe]},j&&(ke.expanded=j.expanded,j.level=j.level||ke.level,j.display=!!(j.expanded&&ke.display),ri(j.lazy)&&(ri(j.loaded)&&j.loaded&&(ke.noLazyChildren=!(j.children&&j.children.length)),ke.loading=j.loading)),he++,pe.push(T(ge,D+he,ke)),j){const Xe=Q.value[Pe]||ge[ae.value];le(Xe,j)}})};j.display=!0;const Re=Q.value[Z]||E[ae.value];le(Re,j)}return pe}else return T(E,D,void 0)},tooltipContent:h,tooltipTrigger:v}}const Lfe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Rfe=we({name:"ElTableBody",props:Lfe,setup(e){const t=Jn(),n=qt(ql),r=xt("table"),{wrappedRowRender:a,tooltipContent:o,tooltipTrigger:s}=Afe(e),{onColumnsChange:u,onScrollableChange:d}=c2(n),f=[];return bt(e.store.states.hoverRow,(h,v)=>{var y;const b=t==null?void 0:t.vnode.el,w=Array.from((b==null?void 0:b.children)||[]).filter(M=>M==null?void 0:M.classList.contains("".concat(r.e("row"))));let g=h;const x=(y=w[g])==null?void 0:y.childNodes;if(x!=null&&x.length){let M=0;Array.from(x).reduce((A,T,P)=>{var I,E;return((I=x[P])==null?void 0:I.colSpan)>1&&(M=(E=x[P])==null?void 0:E.colSpan),T.nodeName!=="TD"&&M===0&&A.push(P),M>0&&M--,A},[]).forEach(A=>{var T;for(g=h;g>0;){const P=(T=w[g-1])==null?void 0:T.childNodes;if(P[A]&&P[A].nodeName==="TD"&&P[A].rowSpan>1){el(P[A],"hover-cell"),f.push(P[A]);break}g--}})}else f.forEach(M=>Co(M,"hover-cell")),f.length=0;!e.store.states.isComplex.value||!wr||yd(()=>{const M=w[v],R=w[h];M&&!M.classList.contains("hover-fixed-row")&&Co(M,"hover-row"),R&&el(R,"hover-row")})}),Md(()=>{var h;(h=ss)==null||h()}),{ns:r,onColumnsChange:u,onScrollableChange:d,wrappedRowRender:a,tooltipContent:o,tooltipTrigger:s}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return mn("tbody",{tabIndex:-1},[n.reduce((r,a)=>r.concat(e(a,r.length)),[])])}});function Pfe(){const e=qt(ql),t=e==null?void 0:e.store,n=U(()=>t.states.fixedLeafColumnsLength.value),r=U(()=>t.states.rightFixedColumns.value.length),a=U(()=>t.states.columns.value.length),o=U(()=>t.states.fixedColumns.value.length),s=U(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:a,leftFixedCount:o,rightFixedCount:s,columns:t.states.columns}}function kfe(e){const{columns:t}=Pfe(),n=xt("table");return{getCellClasses:(o,s)=>{const u=o[s],d=[n.e("cell"),u.id,u.align,u.labelClassName,...l2(n.b(),s,u.fixed,e.store)];return u.className&&d.push(u.className),u.children||d.push(n.is("leaf")),d},getCellStyles:(o,s)=>{const u=u2(s,o.fixed,e.store);return cm(u,"left"),cm(u,"right"),u},columns:t}}var Ife=we({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const t=qt(ql),n=xt("table"),{getCellClasses:r,getCellStyles:a,columns:o}=kfe(e),{onScrollableChange:s,onColumnsChange:u}=c2(t);return{ns:n,onScrollableChange:s,onColumnsChange:u,getCellClasses:r,getCellStyles:a,columns:o}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:a}=this,o=this.store.states.data.value;let s=[];return r?s=r({columns:e,data:o}):e.forEach((u,d)=>{if(d===0){s[d]=a;return}const f=o.map(b=>Number(b[u.property])),h=[];let v=!0;f.forEach(b=>{if(!Number.isNaN(+b)){v=!1;const w="".concat(b).split(".")[1];h.push(w?w.length:0)}});const y=Math.max.apply(null,h);v?s[d]="":s[d]=f.reduce((b,w)=>{const g=Number(w);return Number.isNaN(+g)?b:Number.parseFloat((b+w).toFixed(Math.min(y,20)))},0)}),mn(mn("tfoot",[mn("tr",{},[...e.map((u,d)=>mn("td",{key:d,colspan:u.colSpan,rowspan:u.rowSpan,class:n(e,d),style:t(u,d)},[mn("div",{class:["cell",u.labelClassName]},[s[d]])]))])]))}});function Ofe(e){return{setCurrentRow:v=>{e.commit("setCurrentRow",v)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(v,y,b=!0)=>{e.toggleRowSelection(v,y,!1,b),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:v=>{e.clearFilter(v)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(v,y)=>{e.toggleRowExpansionAdapter(v,y)},clearSort:()=>{e.clearSort()},sort:(v,y)=>{e.commit("sort",{prop:v,order:y})},updateKeyChildren:(v,y)=>{e.updateKeyChildren(v,y)}}}function Dfe(e,t,n,r){const a=re(!1),o=re(null),s=re(!1),u=Z=>{s.value=Z},d=re({width:null,height:null,headerHeight:null}),f=re(!1),h={display:"inline-block",verticalAlign:"middle"},v=re(),y=re(0),b=re(0),w=re(0),g=re(0),x=re(0);to(()=>{t.setHeight(e.height)}),to(()=>{t.setMaxHeight(e.maxHeight)}),bt(()=>[e.currentRowKey,n.states.rowKey],([Z,j])=>{!m(j)||!m(Z)||n.setCurrentRowKey("".concat(Z))},{immediate:!0}),bt(()=>e.data,Z=>{r.store.commit("setData",Z)},{immediate:!0,deep:!0}),to(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const M=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},R=(Z,j)=>{const{pixelX:ie,pixelY:pe}=j;Math.abs(ie)>=Math.abs(pe)&&(r.refs.bodyWrapper.scrollLeft+=j.pixelX/5)},A=U(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),T=U(()=>({width:t.bodyWidth.value?"".concat(t.bodyWidth.value,"px"):""})),P=()=>{A.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(N)};Bn(async()=>{await cn(),n.updateColumns(),B(),requestAnimationFrame(P);const Z=r.vnode.el,j=r.refs.headerWrapper;e.flexible&&Z&&Z.parentElement&&(Z.parentElement.style.minWidth="0"),d.value={width:v.value=Z.offsetWidth,height:Z.offsetHeight,headerHeight:e.showHeader&&j?j.offsetHeight:null},n.states.columns.value.forEach(ie=>{ie.filteredValue&&ie.filteredValue.length&&r.store.commit("filterChange",{column:ie,values:ie.filteredValue,silent:!0})}),r.$ready=!0});const I=(Z,j)=>{if(!Z)return;const ie=Array.from(Z.classList).filter(pe=>!pe.startsWith("is-scrolling-"));ie.push(t.scrollX.value?j:"is-scrolling-none"),Z.className=ie.join(" ")},E=Z=>{const{tableWrapper:j}=r.refs;I(j,Z)},D=Z=>{const{tableWrapper:j}=r.refs;return!!(j&&j.classList.contains(Z))},N=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const De="is-scrolling-none";D(De)||E(De);return}const Z=r.refs.scrollBarRef.wrapRef;if(!Z)return;const{scrollLeft:j,offsetWidth:ie,scrollWidth:pe}=Z,{headerWrapper:he,footerWrapper:le}=r.refs;he&&(he.scrollLeft=j),le&&(le.scrollLeft=j);const Re=pe-ie-1;j>=Re?E("is-scrolling-right"):E(j===0?"is-scrolling-left":"is-scrolling-middle")},B=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Kr(r.refs.scrollBarRef.wrapRef,"scroll",N,{passive:!0}),e.fit?Ri(r.vnode.el,G):Kr(window,"resize",G),Ri(r.refs.bodyWrapper,()=>{var Z,j;G(),(j=(Z=r.refs)==null?void 0:Z.scrollBarRef)==null||j.update()}))},G=()=>{var Z,j,ie,pe;const he=r.vnode.el;if(!r.$ready||!he)return;let le=!1;const{width:Re,height:De,headerHeight:Te}=d.value,ge=v.value=he.offsetWidth;Re!==ge&&(le=!0);const ke=he.offsetHeight;(e.height||A.value)&&De!==ke&&(le=!0);const Pe=e.tableLayout==="fixed"?r.refs.headerWrapper:(Z=r.refs.tableHeaderRef)==null?void 0:Z.$el;e.showHeader&&(Pe==null?void 0:Pe.offsetHeight)!==Te&&(le=!0),y.value=((j=r.refs.tableWrapper)==null?void 0:j.scrollHeight)||0,w.value=(Pe==null?void 0:Pe.scrollHeight)||0,g.value=((ie=r.refs.footerWrapper)==null?void 0:ie.offsetHeight)||0,x.value=((pe=r.refs.appendWrapper)==null?void 0:pe.offsetHeight)||0,b.value=y.value-w.value-g.value-x.value,le&&(d.value={width:ge,height:ke,headerHeight:e.showHeader&&(Pe==null?void 0:Pe.offsetHeight)||0},P())},$=ta(),Q=U(()=>{const{bodyWidth:Z,scrollY:j,gutterWidth:ie}=t;return Z.value?"".concat(Z.value-(j.value?ie:0),"px"):""}),ae=U(()=>e.maxHeight?"fixed":e.tableLayout),ee=U(()=>{if(e.data&&e.data.length)return null;let Z="100%";e.height&&b.value&&(Z="".concat(b.value,"px"));const j=v.value;return{width:j?"".concat(j,"px"):"",height:Z}}),K=U(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:"calc(".concat(e.maxHeight," - ").concat(w.value+g.value,"px)")}:{maxHeight:"".concat(e.maxHeight-w.value-g.value,"px")}:{});return{isHidden:a,renderExpanded:o,setDragVisible:u,isGroup:f,handleMouseLeave:M,handleHeaderFooterMousewheel:R,tableSize:$,emptyBlockStyle:ee,handleFixedMousewheel:(Z,j)=>{const ie=r.refs.bodyWrapper;if(Math.abs(j.spinY)>0){const pe=ie.scrollTop;j.pixelY<0&&pe!==0&&Z.preventDefault(),j.pixelY>0&&ie.scrollHeight-ie.clientHeight>pe&&Z.preventDefault(),ie.scrollTop+=Math.ceil(j.pixelY/5)}else ie.scrollLeft+=Math.ceil(j.pixelX/5)},resizeProxyVisible:s,bodyWidth:Q,resizeState:d,doLayout:P,tableBodyStyles:T,tableLayout:ae,scrollbarViewStyle:h,scrollbarStyle:K}}function Nfe(e){const t=re(),n=()=>{const a=e.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},s=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{s.forEach(u=>u())}),t.value.observe(a,o)};Bn(()=>{n()}),Md(()=>{var r;(r=t.value)==null||r.disconnect()})}var Ffe={data:{type:Array,default:()=>[]},size:ca,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function bF(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:a})=>Or(a))&&(n=[]);const r=a=>{const o={key:"".concat(e.tableLayout,"_").concat(a.id),style:{},name:void 0};return t?o.style={width:"".concat(a.width,"px")}:o.name=a.id,o};return mn("colgroup",{},n.map(a=>mn("col",r(a))))}bF.props=["columns","tableLayout"];const Bfe=()=>{const e=re(),t=(o,s)=>{const u=e.value;u&&u.scrollTo(o,s)},n=(o,s)=>{const u=e.value;u&&fn(s)&&["Top","Left"].includes(o)&&u["setScroll".concat(o)](s)};return{scrollBarRef:e,scrollTo:t,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var SR=!1,Sf,zM,VM,Jb,Qb,_F,e_,UM,HM,$M,wF,GM,WM,xF,SF;function os(){if(!SR){SR=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(GM=/\b(iPhone|iP[ao]d)/.exec(e),WM=/\b(iP[ao]d)/.exec(e),$M=/Android/i.exec(e),xF=/FBAN\/\w+;/i.exec(e),SF=/Mobile/i.exec(e),wF=!!/Win64/.exec(e),t){Sf=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Sf&&document&&document.documentMode&&(Sf=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);_F=r?parseFloat(r[1])+4:Sf,zM=t[2]?parseFloat(t[2]):NaN,VM=t[3]?parseFloat(t[3]):NaN,Jb=t[4]?parseFloat(t[4]):NaN,Jb?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Qb=t&&t[1]?parseFloat(t[1]):NaN):Qb=NaN}else Sf=zM=VM=Qb=Jb=NaN;if(n){if(n[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);e_=a?parseFloat(a[1].replace("_",".")):!0}else e_=!1;UM=!!n[2],HM=!!n[3]}else e_=UM=HM=!1}}var jM={ie:function(){return os()||Sf},ieCompatibilityMode:function(){return os()||_F>Sf},ie64:function(){return jM.ie()&&wF},firefox:function(){return os()||zM},opera:function(){return os()||VM},webkit:function(){return os()||Jb},safari:function(){return jM.webkit()},chrome:function(){return os()||Qb},windows:function(){return os()||UM},osx:function(){return os()||e_},linux:function(){return os()||HM},iphone:function(){return os()||GM},mobile:function(){return os()||GM||WM||$M||SF},nativeApp:function(){return os()||xF},android:function(){return os()||$M},ipad:function(){return os()||WM}},zfe=jM,Vfe=!!(typeof window<"u"&&window.document&&window.document.createElement),Ufe={canUseDOM:Vfe},MF=Ufe,EF;MF.canUseDOM&&(EF=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Hfe(e,t){if(!MF.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r=typeof a[n]=="function"}return!r&&EF&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var $fe=Hfe,MR=10,ER=40,CR=800;function CF(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*MR,a=n*MR,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(e.deltaMode==1?(r*=ER,a*=ER):(r*=CR,a*=CR)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}}CF.getEventType=function(){return zfe.firefox()?"DOMMouseScroll":$fe("wheel")?"wheel":"mousewheel"};var Gfe=CF;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Wfe=function(e,t){if(e&&e.addEventListener){const n=function(r){const a=Gfe(r);t&&Reflect.apply(t,this,[r,a])};e.addEventListener("wheel",n,{passive:!0})}},jfe={beforeMount(e,t){Wfe(e,t.value)}};let qfe=1;const Kfe=we({name:"ElTable",directives:{Mousewheel:jfe},components:{TableHeader:xfe,TableBody:Rfe,TableFooter:Ife,ElScrollbar:Nu,hColgroup:bF},props:Ffe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=xr(),n=xt("table"),r=Jn();or(ql,r);const a=ffe(r,e);r.store=a;const o=new pfe({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=o;const s=U(()=>(a.states.data.value||[]).length===0),{setCurrentRow:u,getSelectionRows:d,toggleRowSelection:f,clearSelection:h,clearFilter:v,toggleAllSelection:y,toggleRowExpansion:b,clearSort:w,sort:g,updateKeyChildren:x}=Ofe(a),{isHidden:M,renderExpanded:R,setDragVisible:A,isGroup:T,handleMouseLeave:P,handleHeaderFooterMousewheel:I,tableSize:E,emptyBlockStyle:D,handleFixedMousewheel:N,resizeProxyVisible:B,bodyWidth:G,resizeState:$,doLayout:Q,tableBodyStyles:ae,tableLayout:ee,scrollbarViewStyle:K,scrollbarStyle:X}=Dfe(e,o,a,r),{scrollBarRef:Z,scrollTo:j,setScrollLeft:ie,setScrollTop:pe}=Bfe(),he=ps(Q,50),le="".concat(n.namespace.value,"-table_").concat(qfe++);r.tableId=le,r.state={isGroup:T,resizeState:$,doLayout:Q,debouncedUpdateLayout:he};const Re=U(()=>{var ge;return(ge=e.sumText)!=null?ge:t("el.table.sumText")}),De=U(()=>{var ge;return(ge=e.emptyText)!=null?ge:t("el.table.emptyText")}),Te=U(()=>yF(a.states.originColumns.value)[0]);return Nfe(r),Yr(()=>{he.cancel()}),{ns:n,layout:o,store:a,columns:Te,handleHeaderFooterMousewheel:I,handleMouseLeave:P,tableId:le,tableSize:E,isHidden:M,isEmpty:s,renderExpanded:R,resizeProxyVisible:B,resizeState:$,isGroup:T,bodyWidth:G,tableBodyStyles:ae,emptyBlockStyle:D,debouncedUpdateLayout:he,handleFixedMousewheel:N,setCurrentRow:u,getSelectionRows:d,toggleRowSelection:f,clearSelection:h,clearFilter:v,toggleAllSelection:y,toggleRowExpansion:b,clearSort:w,doLayout:Q,sort:g,updateKeyChildren:x,t,setDragVisible:A,context:r,computedSumText:Re,computedEmptyText:De,tableLayout:ee,scrollbarViewStyle:K,scrollbarStyle:X,scrollBarRef:Z,scrollTo:j,setScrollLeft:ie,setScrollTop:pe,allowDragLastColumn:e.allowDragLastColumn}}});function Yfe(e,t,n,r,a,o){const s=Zt("hColgroup"),u=Zt("table-header"),d=Zt("table-body"),f=Zt("table-footer"),h=Zt("el-scrollbar"),v=E0("mousewheel");return W(),ue("div",{ref:"tableWrapper",class:J([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m("layout-".concat(e.tableLayout))]),style:un(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[fe("div",{class:J(e.ns.e("inner-wrapper"))},[fe("div",{ref:"hiddenColumns",class:"hidden-columns"},[Ue(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?kn((W(),ue("div",{key:0,ref:"headerWrapper",class:J(e.ns.e("header-wrapper"))},[fe("table",{ref:"tableHeader",class:J(e.ns.e("header")),style:un(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ce(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ce(u,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[v,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),fe("div",{ref:"bodyWrapper",class:J(e.ns.e("body-wrapper"))},[ce(h,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:y=>e.$emit("scroll",y)},{default:be(()=>[fe("table",{ref:"tableBody",class:J(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:un({width:e.bodyWidth,tableLayout:e.tableLayout})},[ce(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(W(),tt(u,{key:0,ref:"tableHeaderRef",class:J(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Ye("v-if",!0),ce(d,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(W(),tt(f,{key:1,class:J(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Ye("v-if",!0)],6),e.isEmpty?(W(),ue("div",{key:0,ref:"emptyBlock",style:un(e.emptyBlockStyle),class:J(e.ns.e("empty-block"))},[fe("span",{class:J(e.ns.e("empty-text"))},[Ue(e.$slots,"empty",{},()=>[Pn(Pt(e.computedEmptyText),1)])],2)],6)):Ye("v-if",!0),e.$slots.append?(W(),ue("div",{key:1,ref:"appendWrapper",class:J(e.ns.e("append-wrapper"))},[Ue(e.$slots,"append")],2)):Ye("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?kn((W(),ue("div",{key:1,ref:"footerWrapper",class:J(e.ns.e("footer-wrapper"))},[fe("table",{class:J(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:un(e.tableBodyStyles)},[ce(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ce(f,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[_r,!e.isEmpty],[v,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),e.border||e.isGroup?(W(),ue("div",{key:2,class:J(e.ns.e("border-left-patch"))},null,2)):Ye("v-if",!0)],2),kn(fe("div",{ref:"resizeProxy",class:J(e.ns.e("column-resize-proxy"))},null,2),[[_r,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Xfe=Ft(Kfe,[["render",Yfe],["__file","table.vue"]]);const Zfe={selection:"table-column--selection",expand:"table__expand-column"},Jfe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Qfe=e=>Zfe[e]||"",ehe={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return mn(sl,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return mn(sl,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return fn(r)?n=t+r:on(r)&&(n=r(t)),mn("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,a=[r.e("expand-icon")];return n&&a.push(r.em("expand-icon","expanded")),mn("div",{class:a,onClick:function(s){s.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[mn(tn,null,{default:()=>[mn(Eo)]})]})},sortable:!1,resizable:!1}};function the({row:e,column:t,$index:n}){var r;const a=t.property,o=a&&Ig(e,a).value;return t&&t.formatter?t.formatter(e,t,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function nhe({row:e,treeNode:t,store:n},r=!1){const{ns:a}=n;if(!t)return r?[mn("span",{class:a.e("placeholder")})]:null;const o=[],s=function(u){u.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&o.push(mn("span",{class:a.e("indent"),style:{"padding-left":"".concat(t.indent,"px")}})),ri(t.expanded)&&!t.noLazyChildren){const u=[a.e("expand-icon"),t.expanded?a.em("expand-icon","expanded"):""];let d=Eo;t.loading&&(d=Ru),o.push(mn("div",{class:u,onClick:s},{default:()=>[mn(tn,{class:{[a.is("loading")]:t.loading}},{default:()=>[mn(d)]})]}))}else o.push(mn("span",{class:a.e("placeholder")}));return o}function TR(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function rhe(e,t){const n=Jn();return{registerComplexWatchers:()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},u=TR(o,s);Object.keys(u).forEach(d=>{const f=s[d];kr(t,f)&&bt(()=>t[f],h=>{let v=h;f==="width"&&d==="realWidth"&&(v=s2(h)),f==="minWidth"&&d==="realMinWidth"&&(v=fF(h)),n.columnConfig.value[f]=v,n.columnConfig.value[d]=v;const y=f==="fixed";e.value.store.scheduleLayout(y)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},u=TR(o,s);Object.keys(u).forEach(d=>{const f=s[d];kr(t,f)&&bt(()=>t[f],h=>{n.columnConfig.value[d]=h})})}}}function ihe(e,t,n){const r=Jn(),a=re(""),o=re(!1),s=re(),u=re(),d=xt("table");to(()=>{s.value=e.align?"is-".concat(e.align):null,s.value}),to(()=>{u.value=e.headerAlign?"is-".concat(e.headerAlign):s.value,u.value});const f=U(()=>{let T=r.vnode.vParent||r.parent;for(;T&&!T.tableId&&!T.columnId;)T=T.vnode.vParent||T.parent;return T}),h=U(()=>{const{store:T}=r.parent;if(!T)return!1;const{treeData:P}=T.states,I=P.value;return I&&Object.keys(I).length>0}),v=re(s2(e.width)),y=re(fF(e.minWidth)),b=T=>(v.value&&(T.width=v.value),y.value&&(T.minWidth=y.value),!v.value&&y.value&&(T.width=void 0),T.minWidth||(T.minWidth=80),T.realWidth=Number(Or(T.width)?T.minWidth:T.width),T),w=T=>{const P=T.type,I=ehe[P]||{};Object.keys(I).forEach(D=>{const N=I[D];D!=="className"&&!Or(N)&&(T[D]=N)});const E=Qfe(P);if(E){const D="".concat(m(d.namespace),"-").concat(E);T.className=T.className?"".concat(T.className," ").concat(D):D}return T},g=T=>{Rt(T)?T.forEach(I=>P(I)):P(T);function P(I){var E;((E=I==null?void 0:I.type)==null?void 0:E.name)==="ElTableColumn"&&(I.vParent=r)}};return{columnId:a,realAlign:s,isSubColumn:o,realHeaderAlign:u,columnOrTableParent:f,setColumnWidth:b,setColumnForcedProps:w,setColumnRenders:T=>{e.renderHeader||T.type!=="selection"&&(T.renderHeader=I=>(r.columnConfig.value.label,Ue(t,"header",I,()=>[T.label]))),t["filter-icon"]&&(T.renderFilterIcon=I=>Ue(t,"filter-icon",I));let P=T.renderCell;return T.type==="expand"?(T.renderCell=I=>mn("div",{class:"cell"},[P(I)]),n.value.renderExpanded=I=>t.default?t.default(I):t.default):(P=P||the,T.renderCell=I=>{let E=null;if(t.default){const Q=t.default(I);E=Q.some(ae=>ae.type!==La)?Q:P(I)}else E=P(I);const{columns:D}=n.value.store.states,N=D.value.findIndex(Q=>Q.type==="default"),B=h.value&&I.cellIndex===N,G=nhe(I,B),$={class:"cell",style:{}};return T.showOverflowTooltip&&($.class="".concat($.class," ").concat(m(d.namespace),"-tooltip"),$.style={width:"".concat((I.column.realWidth||Number(I.column.width))-1,"px")}),g(E),mn("div",$,[G,E])}),T},getPropsData:(...T)=>T.reduce((P,I)=>(Rt(I)&&I.forEach(E=>{P[E]=e[E]}),P),{}),getColumnElIndex:(T,P)=>Array.prototype.indexOf.call(T,P),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var ahe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let ohe=1;var TF=we({name:"ElTableColumn",components:{ElCheckbox:sl},props:ahe,setup(e,{slots:t}){const n=Jn(),r=re({}),a=U(()=>{let A=n.parent;for(;A&&!A.tableId;)A=A.parent;return A}),{registerNormalWatchers:o,registerComplexWatchers:s}=rhe(a,e),{columnId:u,isSubColumn:d,realHeaderAlign:f,columnOrTableParent:h,setColumnWidth:v,setColumnForcedProps:y,setColumnRenders:b,getPropsData:w,getColumnElIndex:g,realAlign:x,updateColumnOrder:M}=ihe(e,t,a),R=h.value;u.value="".concat(R.tableId||R.columnId,"_column_").concat(ohe++),sw(()=>{d.value=a.value!==R;const A=e.type||"default",T=e.sortable===""?!0:e.sortable,P=Or(e.showOverflowTooltip)?R.props.showOverflowTooltip:e.showOverflowTooltip,I=Or(e.tooltipFormatter)?R.props.tooltipFormatter:e.tooltipFormatter,E={...Jfe[A],id:u.value,type:A,property:e.prop||e.property,align:x,headerAlign:f,showOverflowTooltip:P,tooltipFormatter:I,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:T,index:e.index,rawColumnKey:n.vnode.key};let $=w(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);$=efe(E,$),$=nfe(b,v,y)($),r.value=$,o(),s()}),Bn(()=>{var A;const T=h.value,P=d.value?T.vnode.el.children:(A=T.refs.hiddenColumns)==null?void 0:A.children,I=()=>g(P||[],n.vnode.el);r.value.getColumnIndex=I,I()>-1&&a.value.store.commit("insertColumn",r.value,d.value?T.columnConfig.value:null,M)}),Yr(()=>{const A=r.value.getColumnIndex;(A?A():-1)>-1&&a.value.store.commit("removeColumn",r.value,d.value?R.columnConfig.value:null,M)}),n.columnId=u.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),a=[];if(Rt(r))for(const s of r)((n=s.type)==null?void 0:n.name)==="ElTableColumn"||s.shapeFlag&2?a.push(s):s.type===rn&&Rt(s.children)&&s.children.forEach(u=>{(u==null?void 0:u.patchFlag)!==1024&&!nn(u==null?void 0:u.children)&&a.push(u)});return mn("div",a)}catch(r){return mn("div",[])}}});const she=On(Xfe,{TableColumn:TF}),lhe=Ii(TF);var f0=(e=>(e.ASC="asc",e.DESC="desc",e))(f0||{}),h0=(e=>(e.CENTER="center",e.RIGHT="right",e))(h0||{}),AF=(e=>(e.LEFT="left",e.RIGHT="right",e))(AF||{});const qM={asc:"desc",desc:"asc"},p0=Symbol("placeholder"),uhe=(e,t,n)=>{var r;const a={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(a.flexShrink=1);const o={...(r=e.style)!=null?r:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function che(e,t,n){const r=U(()=>m(t).map((x,M)=>{var R,A;return{...x,key:(A=(R=x.key)!=null?R:x.dataKey)!=null?A:M}})),a=U(()=>m(r).filter(x=>!x.hidden)),o=U(()=>m(a).filter(x=>x.fixed==="left"||x.fixed===!0)),s=U(()=>m(a).filter(x=>x.fixed==="right")),u=U(()=>m(a).filter(x=>!x.fixed)),d=U(()=>{const x=[];return m(o).forEach(M=>{x.push({...M,placeholderSign:p0})}),m(u).forEach(M=>{x.push(M)}),m(s).forEach(M=>{x.push({...M,placeholderSign:p0})}),x}),f=U(()=>m(o).length||m(s).length),h=U(()=>m(r).reduce((x,M)=>(x[M.key]=uhe(M,m(n),e.fixed),x),{})),v=U(()=>m(a).reduce((x,M)=>x+M.width,0)),y=x=>m(r).find(M=>M.key===x),b=x=>m(h)[x],w=(x,M)=>{x.width=M};function g(x){var M;const{key:R}=x.currentTarget.dataset;if(!R)return;const{sortState:A,sortBy:T}=e;let P=f0.ASC;jn(A)?P=qM[A[R]]:P=qM[T.order],(M=e.onColumnSort)==null||M.call(e,{column:y(R),key:R,order:P})}return{columns:r,columnsStyles:h,columnsTotalWidth:v,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,hasFixedColumns:f,mainColumns:d,normalColumns:u,visibleColumns:a,getColumn:y,getColumnStyle:b,updateColumnWidth:w,onColumnSorted:g}}const dhe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:a})=>{const o=re({scrollLeft:0,scrollTop:0});function s(b){var w,g,x;const{scrollTop:M}=b;(w=t.value)==null||w.scrollTo(b),(g=n.value)==null||g.scrollToTop(M),(x=r.value)==null||x.scrollToTop(M)}function u(b){o.value=b,s(b)}function d(b){o.value.scrollTop=b,s(m(o))}function f(b){var w,g;o.value.scrollLeft=b,(g=(w=t.value)==null?void 0:w.scrollTo)==null||g.call(w,m(o))}function h(b){var w;u(b),(w=e.onScroll)==null||w.call(e,b)}function v({scrollTop:b}){const{scrollTop:w}=m(o);b!==w&&d(b)}function y(b,w="auto"){var g;(g=t.value)==null||g.scrollToRow(b,w)}return bt(()=>m(o).scrollTop,(b,w)=>{b>w&&a()}),{scrollPos:o,scrollTo:u,scrollToLeft:f,scrollToTop:d,scrollToRow:y,onScroll:h,onVerticalScroll:v}},fhe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:a,ns:o,isScrolling:s})=>{const u=Jn(),{emit:d}=u,f=hi(!1),h=re(e.defaultExpandedRowKeys||[]),v=re(-1),y=hi(null),b=re({}),w=re({}),g=hi({}),x=hi({}),M=hi({}),R=U(()=>fn(e.estimatedRowHeight));function A(B){var G;(G=e.onRowsRendered)==null||G.call(e,B),B.rowCacheEnd>m(v)&&(v.value=B.rowCacheEnd)}function T({hovered:B,rowKey:G}){if(s.value)return;a.vnode.el.querySelectorAll('[rowkey="'.concat(String(G),'"]')).forEach(ae=>{B?ae.classList.add(o.is("hovered")):ae.classList.remove(o.is("hovered"))})}function P({expanded:B,rowData:G,rowIndex:$,rowKey:Q}){var ae,ee;const K=[...m(h)],X=K.indexOf(Q);B?X===-1&&K.push(Q):X>-1&&K.splice(X,1),h.value=K,d("update:expandedRowKeys",K),(ae=e.onRowExpand)==null||ae.call(e,{expanded:B,rowData:G,rowIndex:$,rowKey:Q}),(ee=e.onExpandedRowsChange)==null||ee.call(e,K)}const I=ps(()=>{var B,G,$,Q;f.value=!0,b.value={...m(b),...m(w)},E(m(y),!1),w.value={},y.value=null,(B=t.value)==null||B.forceUpdate(),(G=n.value)==null||G.forceUpdate(),($=r.value)==null||$.forceUpdate(),(Q=u.proxy)==null||Q.$forceUpdate(),f.value=!1},0);function E(B,G=!1){m(R)&&[t,n,r].forEach($=>{const Q=m($);Q&&Q.resetAfterRowIndex(B,G)})}function D(B,G,$){const Q=m(y);(Q===null||Q>$)&&(y.value=$),w.value[B]=G}function N({rowKey:B,height:G,rowIndex:$},Q){Q?Q===AF.RIGHT?M.value[B]=G:g.value[B]=G:x.value[B]=G;const ae=Math.max(...[g,M,x].map(ee=>ee.value[B]||0));m(b)[B]!==ae&&(D(B,ae,$),I())}return{expandedRowKeys:h,lastRenderedRowIndex:v,isDynamic:R,isResetting:f,rowHeights:b,resetAfterIndex:E,onRowExpanded:P,onRowHovered:T,onRowsRendered:A,onRowHeightChange:N}},hhe=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const a=re({}),o=U(()=>{const u={},{data:d,rowKey:f}=e,h=m(t);if(!h||!h.length)return d;const v=[],y=new Set;h.forEach(w=>y.add(w));let b=d.slice();for(b.forEach(w=>u[w[f]]=0);b.length>0;){const w=b.shift();v.push(w),y.has(w[f])&&Rt(w.children)&&w.children.length>0&&(b=[...w.children,...b],w.children.forEach(g=>u[g[f]]=u[w[f]]+1))}return a.value=u,v}),s=U(()=>{const{data:u,expandColumnKey:d}=e;return d?m(o):u});return bt(s,(u,d)=>{u!==d&&(n.value=-1,r(0,!0))}),{data:s,depthMap:a}},phe=(e,t)=>e+t,t_=e=>Rt(e)?e.reduce(phe,0):e,Xf=(e,t,n={})=>on(e)?e(t):e!=null?e:n,ad=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Bi(e[t])}),e),LF=e=>Mi(e)?t=>mn(e,t):e,mhe=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const o=U(()=>{const{fixed:R,width:A,vScrollbarSize:T}=e,P=A-T;return R?Math.max(Math.round(m(t)),P):P}),s=U(()=>m(o)+e.vScrollbarSize),u=U(()=>{const{height:R=0,maxHeight:A=0,footerHeight:T,hScrollbarSize:P}=e;if(A>0){const I=m(b),E=m(n),N=m(y)+I+E+P;return Math.min(N,A-T)}return R-T}),d=U(()=>{const{maxHeight:R}=e,A=m(u);if(fn(R)&&R>0)return A;const T=m(n)+m(y)+m(b);return Math.min(A,T)}),f=R=>R.width,h=U(()=>t_(m(r).map(f))),v=U(()=>t_(m(a).map(f))),y=U(()=>t_(e.headerHeight)),b=U(()=>{var R;return(((R=e.fixedData)==null?void 0:R.length)||0)*e.rowHeight}),w=U(()=>m(u)-m(y)-m(b)),g=U(()=>{const{style:R={},height:A,width:T}=e;return ad({...R,height:A,width:T})}),x=U(()=>ad({height:e.footerHeight})),M=U(()=>({top:Bi(m(y)),bottom:Bi(e.footerHeight),width:Bi(e.width)}));return{bodyWidth:o,fixedTableHeight:d,mainTableHeight:u,leftTableWidth:h,rightTableWidth:v,headerWidth:s,windowHeight:w,footerHeight:x,emptyStyle:M,rootStyle:g,headerHeight:y}};function vhe(e){const t=re(),n=re(),r=re(),{columns:a,columnsStyles:o,columnsTotalWidth:s,fixedColumnsOnLeft:u,fixedColumnsOnRight:d,hasFixedColumns:f,mainColumns:h,onColumnSorted:v}=che(e,Hr(e,"columns"),Hr(e,"fixed")),{scrollTo:y,scrollToLeft:b,scrollToTop:w,scrollToRow:g,onScroll:x,onVerticalScroll:M,scrollPos:R}=dhe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:ye}),A=xt("table-v2"),T=Jn(),P=hi(!1),{expandedRowKeys:I,lastRenderedRowIndex:E,isDynamic:D,isResetting:N,rowHeights:B,resetAfterIndex:G,onRowExpanded:$,onRowHeightChange:Q,onRowHovered:ae,onRowsRendered:ee}=fhe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:T,ns:A,isScrolling:P}),{data:K,depthMap:X}=hhe(e,{expandedRowKeys:I,lastRenderedRowIndex:E,resetAfterIndex:G}),Z=U(()=>{const{estimatedRowHeight:He,rowHeight:dt}=e,pt=m(K);return fn(He)?Object.values(m(B)).reduce((nt,ot)=>nt+ot,0):pt.length*dt}),{bodyWidth:j,fixedTableHeight:ie,mainTableHeight:pe,leftTableWidth:he,rightTableWidth:le,headerWidth:Re,windowHeight:De,footerHeight:Te,emptyStyle:ge,rootStyle:ke,headerHeight:Pe}=mhe(e,{columnsTotalWidth:s,fixedColumnsOnLeft:u,fixedColumnsOnRight:d,rowsHeight:Z}),Xe=re(),ct=U(()=>{const He=m(K).length===0;return Rt(e.fixedData)?e.fixedData.length===0&&He:He});function se(He){const{estimatedRowHeight:dt,rowHeight:pt,rowKey:nt}=e;return dt?m(B)[m(K)[He][nt]]||dt:pt}function ye(){const{onEndReached:He}=e;if(!He)return;const{scrollTop:dt}=m(R),pt=m(Z),nt=m(De),ot=pt-(dt+nt)+e.hScrollbarSize;m(E)>=0&&pt===dt+m(pe)-m(Pe)&&He(ot)}return bt(()=>e.expandedRowKeys,He=>I.value=He,{deep:!0}),{columns:a,containerRef:Xe,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:D,isResetting:N,isScrolling:P,hasFixedColumns:f,columnsStyles:o,columnsTotalWidth:s,data:K,expandedRowKeys:I,depthMap:X,fixedColumnsOnLeft:u,fixedColumnsOnRight:d,mainColumns:h,bodyWidth:j,emptyStyle:ge,rootStyle:ke,headerWidth:Re,footerHeight:Te,mainTableHeight:pe,fixedTableHeight:ie,leftTableWidth:he,rightTableWidth:le,showEmpty:ct,getRowHeight:se,onColumnSorted:v,onRowHovered:ae,onRowExpanded:$,onRowsRendered:ee,onRowHeightChange:Q,scrollTo:y,scrollToLeft:b,scrollToTop:w,scrollToRow:g,onScroll:x,onVerticalScroll:M}}const d2=Symbol("tableV2"),RF=String,z0={type:ze(Array),required:!0},f2={type:ze(Array)},PF={...f2,required:!0},ghe=String,AR={type:ze(Array),default:()=>Pi([])},Mf={type:Number,required:!0},kF={type:ze([String,Number,Symbol]),default:"id"},LR={type:ze(Object)},Rf=kt({class:String,columns:z0,columnsStyles:{type:ze(Object),required:!0},depth:Number,expandColumnKey:ghe,estimatedRowHeight:{...Bf.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ze(Function)},onRowHover:{type:ze(Function)},onRowHeightChange:{type:ze(Function)},rowData:{type:ze(Object),required:!0},rowEventHandlers:{type:ze(Object)},rowIndex:{type:Number,required:!0},rowKey:kF,style:{type:ze(Object)}}),zx={type:Number,required:!0},h2=kt({class:String,columns:z0,fixedHeaderData:{type:ze(Array)},headerData:{type:ze(Array),required:!0},headerHeight:{type:ze([Number,Array]),default:50},rowWidth:zx,rowHeight:{type:Number,default:50},height:zx,width:zx}),n_=kt({columns:z0,data:PF,fixedData:f2,estimatedRowHeight:Rf.estimatedRowHeight,width:Mf,height:Mf,headerWidth:Mf,headerHeight:h2.headerHeight,bodyWidth:Mf,rowHeight:Mf,cache:Q4.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Bf.scrollbarAlwaysOn,scrollbarStartGap:Bf.scrollbarStartGap,scrollbarEndGap:Bf.scrollbarEndGap,class:RF,style:LR,containerStyle:LR,getRowHeight:{type:ze(Function),required:!0},rowKey:Rf.rowKey,onRowsRendered:{type:ze(Function)},onScroll:{type:ze(Function)}}),yhe=kt({cache:n_.cache,estimatedRowHeight:Rf.estimatedRowHeight,rowKey:kF,headerClass:{type:ze([String,Function])},headerProps:{type:ze([Object,Function])},headerCellProps:{type:ze([Object,Function])},headerHeight:h2.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ze([String,Function])},rowProps:{type:ze([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ze([Object,Function])},columns:z0,data:PF,dataGetter:{type:ze(Function)},fixedData:f2,expandColumnKey:Rf.expandColumnKey,expandedRowKeys:AR,defaultExpandedRowKeys:AR,class:RF,fixed:Boolean,style:{type:ze(Object)},width:Mf,height:Mf,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Bf.hScrollbarSize,vScrollbarSize:Bf.vScrollbarSize,scrollbarAlwaysOn:nF.alwaysOn,sortBy:{type:ze(Object),default:()=>({})},sortState:{type:ze(Object),default:void 0},onColumnSort:{type:ze(Function)},onExpandedRowsChange:{type:ze(Function)},onEndReached:{type:ze(Function)},onRowExpand:Rf.onRowExpand,onScroll:n_.onScroll,onRowsRendered:n_.onRowsRendered,rowEventHandlers:Rf.rowEventHandlers}),bhe="ElTableV2Header",_he=we({name:bhe,props:h2,setup(e,{slots:t,expose:n}){const r=xt("table-v2"),a=qt("tableV2GridScrollLeft"),o=re(),s=U(()=>ad({width:e.width,height:e.height})),u=U(()=>ad({width:e.rowWidth,height:e.height})),d=U(()=>wo(m(e.headerHeight))),f=y=>{const b=m(o);cn(()=>{b!=null&&b.scroll&&b.scroll({left:y})})},h=()=>{const y=r.e("fixed-header-row"),{columns:b,fixedHeaderData:w,rowHeight:g}=e;return w==null?void 0:w.map((x,M)=>{var R;const A=ad({height:g,width:"100%"});return(R=t.fixed)==null?void 0:R.call(t,{class:y,columns:b,rowData:x,rowIndex:-(M+1),style:A})})},v=()=>{const y=r.e("dynamic-header-row"),{columns:b}=e;return m(d).map((w,g)=>{var x;const M=ad({width:"100%",height:w});return(x=t.dynamic)==null?void 0:x.call(t,{class:y,columns:b,headerIndex:g,style:M})})};return Hl(()=>{a!=null&&a.value&&f(a.value)}),n({scrollToLeft:f}),()=>{if(!(e.height<=0))return ce("div",{ref:o,class:e.class,style:m(s),role:"rowgroup"},[ce("div",{style:m(u),class:r.e("header")},[v(),h()])])}}});var whe=_he;const xhe=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},a)=>{let o=null,s=0,u=0;const d=(h,v)=>{const y=h<=0&&t.value||h>=0&&e.value,b=v<=0&&r.value||v>=0&&n.value;return y&&b};return{hasReachedEdge:d,onWheel:h=>{Kf(o);let v=h.deltaX,y=h.deltaY;Math.abs(v)>Math.abs(y)?y=0:v=0,h.shiftKey&&y!==0&&(v=y,y=0),!(d(s,u)&&d(s+v,u+y))&&(s+=v,u+=y,h.preventDefault(),o=yd(()=>{a(s,u),s=0,u=0}))}}},IF=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:o,getEstimatedTotalWidth:s,getColumnOffset:u,getRowOffset:d,getRowPosition:f,getRowStartIndexForOffset:h,getRowStopIndexForStartIndex:v,initCache:y,injectToInstance:b,validateProps:w})=>we({name:e!=null?e:"ElVirtualList",props:Bf,emits:[O_,D_],setup(g,{emit:x,expose:M,slots:R}){const A=xt("vl");w(g);const T=Jn(),P=re(y(g,T));b==null||b(T,P);const I=re(),E=re(),D=re(),N=re(null),B=re({isScrolling:!1,scrollLeft:fn(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:fn(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Rp,yAxisScrollDir:Rp}),G=X4(),$=U(()=>Number.parseInt("".concat(g.height),10)),Q=U(()=>Number.parseInt("".concat(g.width),10)),ae=U(()=>{const{totalColumn:nt,totalRow:ot,columnCache:rt}=g,{isScrolling:At,xAxisScrollDir:Mt,scrollLeft:Me}=m(B);if(nt===0||ot===0)return[0,0,0,0];const ve=r(g,Me,m(P)),Fe=a(g,ve,Me,m(P)),qe=!At||Mt===N_?Math.max(1,rt):1,Et=!At||Mt===Rp?Math.max(1,rt):1;return[Math.max(0,ve-qe),Math.max(0,Math.min(nt-1,Fe+Et)),ve,Fe]}),ee=U(()=>{const{totalColumn:nt,totalRow:ot,rowCache:rt}=g,{isScrolling:At,yAxisScrollDir:Mt,scrollTop:Me}=m(B);if(nt===0||ot===0)return[0,0,0,0];const ve=h(g,Me,m(P)),Fe=v(g,ve,Me,m(P)),qe=!At||Mt===N_?Math.max(1,rt):1,Et=!At||Mt===Rp?Math.max(1,rt):1;return[Math.max(0,ve-qe),Math.max(0,Math.min(ot-1,Fe+Et)),ve,Fe]}),K=U(()=>o(g,m(P))),X=U(()=>s(g,m(P))),Z=U(()=>{var nt;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:fn(g.height)?"".concat(g.height,"px"):g.height,width:fn(g.width)?"".concat(g.width,"px"):g.width},(nt=g.style)!=null?nt:{}]}),j=U(()=>{const nt="".concat(m(X),"px");return{height:"".concat(m(K),"px"),pointerEvents:m(B).isScrolling?"none":void 0,width:nt}}),ie=()=>{const{totalColumn:nt,totalRow:ot}=g;if(nt>0&&ot>0){const[Fe,qe,Et,$t]=m(ae),[Yt,We,lt,sn]=m(ee);x(O_,{columnCacheStart:Fe,columnCacheEnd:qe,rowCacheStart:Yt,rowCacheEnd:We,columnVisibleStart:Et,columnVisibleEnd:$t,rowVisibleStart:lt,rowVisibleEnd:sn})}const{scrollLeft:rt,scrollTop:At,updateRequested:Mt,xAxisScrollDir:Me,yAxisScrollDir:ve}=m(B);x(D_,{xAxisScrollDir:Me,scrollLeft:rt,yAxisScrollDir:ve,scrollTop:At,updateRequested:Mt})},pe=nt=>{const{clientHeight:ot,clientWidth:rt,scrollHeight:At,scrollLeft:Mt,scrollTop:Me,scrollWidth:ve}=nt.currentTarget,Fe=m(B);if(Fe.scrollTop===Me&&Fe.scrollLeft===Mt)return;let qe=Mt;if(hR(g.direction))switch(B_()){case c0:qe=-Mt;break;case o2:qe=ve-rt-Mt;break}B.value={...Fe,isScrolling:!0,scrollLeft:qe,scrollTop:Math.max(0,Math.min(Me,At-ot)),updateRequested:!0,xAxisScrollDir:Lf(Fe.scrollLeft,qe),yAxisScrollDir:Lf(Fe.scrollTop,Me)},cn(()=>ke()),Pe(),ie()},he=(nt,ot)=>{const rt=m($),At=(K.value-rt)/ot*nt;De({scrollTop:Math.min(K.value-rt,At)})},le=(nt,ot)=>{const rt=m(Q),At=(X.value-rt)/ot*nt;De({scrollLeft:Math.min(X.value-rt,At)})},{onWheel:Re}=xhe({atXStartEdge:U(()=>B.value.scrollLeft<=0),atXEndEdge:U(()=>B.value.scrollLeft>=X.value-m(Q)),atYStartEdge:U(()=>B.value.scrollTop<=0),atYEndEdge:U(()=>B.value.scrollTop>=K.value-m($))},(nt,ot)=>{var rt,At,Mt,Me;(At=(rt=E.value)==null?void 0:rt.onMouseUp)==null||At.call(rt),(Me=(Mt=D.value)==null?void 0:Mt.onMouseUp)==null||Me.call(Mt);const ve=m(Q),Fe=m($);De({scrollLeft:Math.min(B.value.scrollLeft+nt,X.value-ve),scrollTop:Math.min(B.value.scrollTop+ot,K.value-Fe)})});Kr(I,"wheel",Re,{passive:!1});const De=({scrollLeft:nt=B.value.scrollLeft,scrollTop:ot=B.value.scrollTop})=>{nt=Math.max(nt,0),ot=Math.max(ot,0);const rt=m(B);ot===rt.scrollTop&&nt===rt.scrollLeft||(B.value={...rt,xAxisScrollDir:Lf(rt.scrollLeft,nt),yAxisScrollDir:Lf(rt.scrollTop,ot),scrollLeft:nt,scrollTop:ot,updateRequested:!0},cn(()=>ke()),Pe(),ie())},Te=(nt=0,ot=0,rt=tl)=>{const At=m(B);ot=Math.max(0,Math.min(ot,g.totalColumn-1)),nt=Math.max(0,Math.min(nt,g.totalRow-1));const Mt=XD(A.namespace.value),Me=m(P),ve=o(g,Me),Fe=s(g,Me);De({scrollLeft:u(g,ot,rt,At.scrollLeft,Me,Fe>g.width?Mt:0),scrollTop:d(g,nt,rt,At.scrollTop,Me,ve>g.height?Mt:0)})},ge=(nt,ot)=>{const{columnWidth:rt,direction:At,rowHeight:Mt}=g,Me=G.value(t&&rt,t&&Mt,t&&At),ve="".concat(nt,",").concat(ot);if(kr(Me,ve))return Me[ve];{const[,Fe]=n(g,ot,m(P)),qe=m(P),Et=hR(At),[$t,Yt]=f(g,nt,qe),[We]=n(g,ot,qe);return Me[ve]={position:"absolute",left:Et?void 0:"".concat(Fe,"px"),right:Et?"".concat(Fe,"px"):void 0,top:"".concat(Yt,"px"),height:"".concat($t,"px"),width:"".concat(We,"px")},Me[ve]}},ke=()=>{B.value.isScrolling=!1,cn(()=>{G.value(-1,null,null)})};Bn(()=>{if(!wr)return;const{initScrollLeft:nt,initScrollTop:ot}=g,rt=m(I);rt&&(fn(nt)&&(rt.scrollLeft=nt),fn(ot)&&(rt.scrollTop=ot)),ie()});const Pe=()=>{const{direction:nt}=g,{scrollLeft:ot,scrollTop:rt,updateRequested:At}=m(B),Mt=m(I);if(At&&Mt){if(nt===$p)switch(B_()){case c0:{Mt.scrollLeft=-ot;break}case a2:{Mt.scrollLeft=ot;break}default:{const{clientWidth:Me,scrollWidth:ve}=Mt;Mt.scrollLeft=ve-Me-ot;break}}else Mt.scrollLeft=Math.max(0,ot);Mt.scrollTop=Math.max(0,rt)}},{resetAfterColumnIndex:Xe,resetAfterRowIndex:ct,resetAfter:se}=T.proxy;M({windowRef:I,innerRef:N,getItemStyleCache:G,scrollTo:De,scrollToItem:Te,states:B,resetAfterColumnIndex:Xe,resetAfterRowIndex:ct,resetAfter:se});const ye=()=>{const{scrollbarAlwaysOn:nt,scrollbarStartGap:ot,scrollbarEndGap:rt,totalColumn:At,totalRow:Mt}=g,Me=m(Q),ve=m($),Fe=m(X),qe=m(K),{scrollLeft:Et,scrollTop:$t}=m(B),Yt=mn(NM,{ref:E,alwaysOn:nt,startGap:ot,endGap:rt,class:A.e("horizontal"),clientSize:Me,layout:"horizontal",onScroll:le,ratio:Me*100/Fe,scrollFrom:Et/(Fe-Me),total:Mt,visible:!0}),We=mn(NM,{ref:D,alwaysOn:nt,startGap:ot,endGap:rt,class:A.e("vertical"),clientSize:ve,layout:"vertical",onScroll:he,ratio:ve*100/qe,scrollFrom:$t/(qe-ve),total:At,visible:!0});return{horizontalScrollbar:Yt,verticalScrollbar:We}},He=()=>{var nt;const[ot,rt]=m(ae),[At,Mt]=m(ee),{data:Me,totalColumn:ve,totalRow:Fe,useIsScrolling:qe,itemKey:Et}=g,$t=[];if(Fe>0&&ve>0)for(let Yt=At;Yt<=Mt;Yt++)for(let We=ot;We<=rt;We++){const lt=Et({columnIndex:We,data:Me,rowIndex:Yt});$t.push(mn(rn,{key:lt},(nt=R.default)==null?void 0:nt.call(R,{columnIndex:We,data:Me,isScrolling:qe?m(B).isScrolling:void 0,style:ge(Yt,We),rowIndex:Yt})))}return $t},dt=()=>{const nt=tr(g.innerElement),ot=He();return[mn(nt,{style:m(j),ref:N},nn(nt)?ot:{default:()=>ot})]};return()=>{const nt=tr(g.containerElement),{horizontalScrollbar:ot,verticalScrollbar:rt}=ye(),At=dt();return mn("div",{key:0,class:A.e("wrapper"),role:g.role},[mn(nt,{class:g.className,style:m(Z),onScroll:pe,ref:I},nn(nt)?At:{default:()=>At}),ot,rt])}}}),{max:U_,min:OF,floor:DF}=Math,She={column:"columnWidth",row:"rowHeight"},KM={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},sc=(e,t,n,r)=>{const[a,o,s]=[n[r],e[She[r]],n[KM[r]]];if(t>s){let u=0;if(s>=0){const d=a[s];u=d.offset+d.size}for(let d=s+1;d<=t;d++){const f=o(d);a[d]={offset:u,size:f},u+=f}n[KM[r]]=t}return a[t]},NF=(e,t,n,r,a,o)=>{for(;n<=r;){const s=n+DF((r-n)/2),u=sc(e,s,t,o).offset;if(u===a)return s;u<a?n=s+1:r=s-1}return U_(0,n-1)},Mhe=(e,t,n,r,a)=>{const o=a==="column"?e.totalColumn:e.totalRow;let s=1;for(;n<o&&sc(e,n,t,a).offset<r;)n+=s,s*=2;return NF(e,t,DF(n/2),OF(n,o-1),r,a)},RR=(e,t,n,r)=>{const[a,o]=[t[r],t[KM[r]]];return(o>0?a[o].offset:0)>=n?NF(e,t,0,o,n,r):Mhe(e,t,U_(0,o),n,r)},FF=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const u=r[n];a=u.offset+u.size}const s=(e-n-1)*t;return a+s},BF=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let a=0;if(r>e&&(r=e-1),r>=0){const u=t[r];a=u.offset+u.size}const s=(e-r-1)*n;return a+s},Ehe={column:BF,row:FF},PR=(e,t,n,r,a,o,s)=>{const[u,d]=[o==="row"?e.height:e.width,Ehe[o]],f=sc(e,t,a,o),h=d(e,a),v=U_(0,OF(h-u,f.offset)),y=U_(0,f.offset-u+s+f.size);switch(n===Nw&&(r>=y-u&&r<=v+u?n=tl:n=Mu),n){case l0:return v;case u0:return y;case Mu:return Math.round(y+(v-y)/2);case tl:default:return r>=y&&r<=v?r:y>v||r<y?y:v}},Che=IF({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=sc(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=sc(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,a,o)=>PR(e,t,n,r,a,"column",o),getRowOffset:(e,t,n,r,a,o)=>PR(e,t,n,r,a,"row",o),getColumnStartIndexForOffset:(e,t,n)=>RR(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const a=sc(e,t,r,"column"),o=n+e.width;let s=a.offset+a.size,u=t;for(;u<e.totalColumn-1&&s<o;)u++,s+=sc(e,t,r,"column").size;return u},getEstimatedTotalHeight:FF,getEstimatedTotalWidth:BF,getRowStartIndexForOffset:(e,t,n)=>RR(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:a,height:o}=e,s=sc(e,t,r,"row"),u=n+o;let d=s.size+s.offset,f=t;for(;f<a-1&&d<u;)f++,d+=sc(e,f,r,"row").size;return f},injectToInstance:(e,t)=>{const n=({columnIndex:o,rowIndex:s},u)=>{var d,f;u=Or(u)?!0:u,fn(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),fn(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(d=e.exposed)==null||d.getItemStyleCache.value(-1,null,null),u&&((f=e.proxy)==null||f.$forceUpdate())},r=(o,s)=>{n({columnIndex:o},s)},a=(o,s)=>{n({rowIndex:o},s)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:a,resetAfter:n})},initCache:({estimatedColumnWidth:e=RM,estimatedRowHeight:t=RM})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),The=IF({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,a,o,s,u)=>{n=Number(n);const d=Math.max(0,e*t-n),f=Math.min(d,r*t),h=Math.max(0,r*t-n+u+t);switch(a==="smart"&&(o>=h-n&&o<=f+n?a=tl:a=Mu),a){case l0:return f;case u0:return h;case Mu:{const v=Math.round(h+(f-h)/2);return v<Math.ceil(n/2)?0:v>d+Math.floor(n/2)?d:v}case tl:default:return o>=h&&o<=f?o:h>f||o<h?h:f}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,a,o,s,u)=>{t=Number(t);const d=Math.max(0,n*e-t),f=Math.min(d,r*e),h=Math.max(0,r*e-t+u+e);switch(a===Nw&&(o>=h-t&&o<=f+t?a=tl:a=Mu),a){case l0:return f;case u0:return h;case Mu:{const v=Math.round(h+(f-h)/2);return v<Math.ceil(t/2)?0:v>d+Math.floor(t/2)?d:v}case tl:default:return o>=h&&o<=f?o:h>f||o<h?h:f}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,a)=>{const o=r*e,s=Math.ceil((n+a-o)/e);return Math.max(0,Math.min(t-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,a)=>{const o=r*e,s=Math.ceil((n+a-o)/e);return Math.max(0,Math.min(t-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Ahe="ElTableV2Grid",Lhe=e=>{const t=re(),n=re(),r=re(0),a=U(()=>{const{data:x,rowHeight:M,estimatedRowHeight:R}=e;if(!R)return x.length*M}),o=U(()=>{const{fixedData:x,rowHeight:M}=e;return((x==null?void 0:x.length)||0)*M}),s=U(()=>t_(e.headerHeight)),u=U(()=>{const{height:x}=e;return Math.max(0,x-m(s)-m(o))}),d=U(()=>m(s)+m(o)>0),f=({data:x,rowIndex:M})=>x[M][e.rowKey];function h({rowCacheStart:x,rowCacheEnd:M,rowVisibleStart:R,rowVisibleEnd:A}){var T;(T=e.onRowsRendered)==null||T.call(e,{rowCacheStart:x,rowCacheEnd:M,rowVisibleStart:R,rowVisibleEnd:A})}function v(x,M){var R;(R=n.value)==null||R.resetAfterRowIndex(x,M)}function y(x,M){const R=m(t),A=m(n);jn(x)?(R==null||R.scrollToLeft(x.scrollLeft),r.value=x.scrollLeft,A==null||A.scrollTo(x)):(R==null||R.scrollToLeft(x),r.value=x,A==null||A.scrollTo({scrollLeft:x,scrollTop:M}))}function b(x){var M;(M=m(n))==null||M.scrollTo({scrollTop:x})}function w(x,M){var R;(R=m(n))==null||R.scrollToItem(x,1,M)}function g(){var x,M;(x=m(n))==null||x.$forceUpdate(),(M=m(t))==null||M.$forceUpdate()}return bt(()=>e.bodyWidth,()=>{var x;fn(e.estimatedRowHeight)&&((x=n.value)==null||x.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:o,gridHeight:u,hasHeader:d,headerHeight:s,headerRef:t,totalHeight:a,itemKey:f,onItemRendered:h,resetAfterRowIndex:v,scrollTo:y,scrollToTop:b,scrollToRow:w,scrollLeft:r}},Rhe=we({name:Ahe,props:n_,setup(e,{slots:t,expose:n}){const{ns:r}=qt(d2),{bodyRef:a,fixedRowHeight:o,gridHeight:s,hasHeader:u,headerRef:d,headerHeight:f,totalHeight:h,forceUpdate:v,itemKey:y,onItemRendered:b,resetAfterRowIndex:w,scrollTo:g,scrollToTop:x,scrollToRow:M,scrollLeft:R}=Lhe(e);or("tableV2GridScrollLeft",R),n({forceUpdate:v,totalHeight:h,scrollTo:g,scrollToTop:x,scrollToRow:M,resetAfterRowIndex:w});const A=()=>e.bodyWidth;return()=>{const{cache:T,columns:P,data:I,fixedData:E,useIsScrolling:D,scrollbarAlwaysOn:N,scrollbarEndGap:B,scrollbarStartGap:G,style:$,rowHeight:Q,bodyWidth:ae,estimatedRowHeight:ee,headerWidth:K,height:X,width:Z,getRowHeight:j,onScroll:ie}=e,pe=fn(ee),he=pe?Che:The,le=m(f);return ce("div",{role:"table",class:[r.e("table"),e.class],style:$},[ce(he,{ref:a,data:I,useIsScrolling:D,itemKey:y,columnCache:0,columnWidth:pe?A:ae,totalColumn:1,totalRow:I.length,rowCache:T,rowHeight:pe?j:Q,width:Z,height:m(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:G,scrollbarEndGap:B,scrollbarAlwaysOn:N,onScroll:ie,onItemRendered:b,perfMode:!1},{default:Re=>{var De;const Te=I[Re.rowIndex];return(De=t.row)==null?void 0:De.call(t,{...Re,columns:P,rowData:Te})}}),m(u)&&ce(whe,{ref:d,class:r.e("header-wrapper"),columns:P,headerData:I,headerHeight:e.headerHeight,fixedHeaderData:E,rowWidth:K,rowHeight:Q,width:Z,height:Math.min(le+m(o),X)},{dynamic:t.header,fixed:t.row})])}}});var p2=Rhe;function Phe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const khe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return ce(p2,nr({ref:n},r),Phe(t)?t:{default:()=>[t]})};var Ihe=khe;function Ohe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const Dhe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return ce(p2,nr({ref:n},r),Ohe(t)?t:{default:()=>[t]})};var Nhe=Dhe;function Fhe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const Bhe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return ce(p2,nr({ref:n},r),Fhe(t)?t:{default:()=>[t]})};var zhe=Bhe;const Vhe=e=>{const{isScrolling:t}=qt(d2),n=re(!1),r=re(),a=U(()=>fn(e.estimatedRowHeight)&&e.rowIndex>=0),o=(d=!1)=>{const f=m(r);if(!f)return;const{columns:h,onRowHeightChange:v,rowKey:y,rowIndex:b,style:w}=e,{height:g}=f.getBoundingClientRect();n.value=!0,cn(()=>{if(d||g!==Number.parseInt(w.height)){const x=h[0],M=(x==null?void 0:x.placeholderSign)===p0;v==null||v({rowKey:y,height:g,rowIndex:b},x&&!M&&x.fixed)}})},s=U(()=>{const{rowData:d,rowIndex:f,rowKey:h,onRowHover:v}=e,y=e.rowEventHandlers||{},b={};return Object.entries(y).forEach(([w,g])=>{on(g)&&(b[w]=x=>{g({event:x,rowData:d,rowIndex:f,rowKey:h})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:w,hovered:g})=>{const x=b[w];b[w]=M=>{v({event:M,hovered:g,rowData:d,rowIndex:f,rowKey:h}),x==null||x(M)}}),b}),u=d=>{const{onRowExpand:f,rowData:h,rowIndex:v,rowKey:y}=e;f==null||f({expanded:d,rowData:h,rowIndex:v,rowKey:y})};return Bn(()=>{m(a)&&o(!0)}),{isScrolling:t,measurable:a,measured:n,rowRef:r,eventHandlers:s,onExpand:u}},Uhe="ElTableV2TableRow",Hhe=we({name:Uhe,props:Rf,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:a,isScrolling:o,measurable:s,measured:u,rowRef:d,onExpand:f}=Vhe(e);return t({onExpand:f}),()=>{const{columns:h,columnsStyles:v,expandColumnKey:y,depth:b,rowData:w,rowIndex:g,style:x}=e;let M=h.map((R,A)=>{const T=Rt(w.children)&&w.children.length>0&&R.key===y;return n.cell({column:R,columns:h,columnIndex:A,depth:b,style:v[R.key],rowData:w,rowIndex:g,isScrolling:m(o),expandIconProps:T?{rowData:w,rowIndex:g,onExpand:f}:void 0})});if(n.row&&(M=n.row({cells:M.map(R=>Rt(R)&&R.length===1?R[0]:R),style:x,columns:h,depth:b,rowData:w,rowIndex:g,isScrolling:m(o)})),m(s)){const{height:R,...A}=x||{},T=m(u);return ce("div",nr({ref:d,class:e.class,style:T?x:A,role:"row"},r,m(a)),[M])}return ce("div",nr(r,{ref:d,class:e.class,style:x,role:"row"},m(a)),[M])}}});var $he=Hhe;function Ghe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const Whe=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:a,expandColumnKey:o,expandedRowKeys:s,estimatedRowHeight:u,hasFixedColumns:d,rowData:f,rowIndex:h,style:v,isScrolling:y,rowProps:b,rowClass:w,rowKey:g,rowEventHandlers:x,ns:M,onRowHovered:R,onRowExpanded:A}=e,T=Xf(w,{columns:n,rowData:f,rowIndex:h},""),P=Xf(b,{columns:n,rowData:f,rowIndex:h}),I=f[g],E=a[I]||0,D=!!o,N=h<0,B=[M.e("row"),T,{[M.e("row-depth-".concat(E))]:D&&h>=0,[M.is("expanded")]:D&&s.includes(I),[M.is("fixed")]:!E&&N,[M.is("customized")]:!!t.row}],G=d?R:void 0,$={...P,columns:n,columnsStyles:r,class:B,depth:E,expandColumnKey:o,estimatedRowHeight:N?void 0:u,isScrolling:y,rowIndex:h,rowData:f,rowKey:I,rowEventHandlers:x,style:v};return ce($he,nr($,{onRowExpand:A,onMouseenter:ee=>{G==null||G({hovered:!0,rowKey:I,event:ee,rowData:f,rowIndex:h})},onMouseleave:ee=>{G==null||G({hovered:!1,rowKey:I,event:ee,rowData:f,rowIndex:h})},rowkey:I}),Ghe(t)?t:{default:()=>[t]})};var jhe=Whe;const m2=(e,{slots:t})=>{var n;const{cellData:r,style:a}=e,o=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",s=Ue(t,"default",e,()=>[o]);return ce("div",{class:e.class,title:o,style:a},[s])};m2.displayName="ElTableV2Cell";m2.inheritAttrs=!1;var qhe=m2;const Khe=e=>{const{expanded:t,expandable:n,onExpand:r,style:a,size:o}=e,s={onClick:n?()=>r(!t):void 0,class:e.class};return ce(tn,nr(s,{size:o,style:a}),{default:()=>[ce(Eo,null,null)]})};var Yhe=Khe;const zF=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:a,isScrolling:o,rowData:s,rowIndex:u,style:d,expandedRowKeys:f,ns:h,cellProps:v,expandColumnKey:y,indentSize:b,iconSize:w,rowKey:g},{slots:x})=>{const M=ad(d);if(t.placeholderSign===p0)return ce("div",{class:h.em("row-cell","placeholder"),style:M},null);const{cellRenderer:R,dataKey:A,dataGetter:T}=t,P=on(T)?T({columns:e,column:t,columnIndex:n,rowData:s,rowIndex:u}):Zi(s,A!=null?A:""),I=Xf(v,{cellData:P,columns:e,column:t,columnIndex:n,rowIndex:u,rowData:s}),E={class:h.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:P,isScrolling:o,rowData:s,rowIndex:u},D=LF(R),N=D?D(E):Ue(x,"default",E,()=>[ce(qhe,E,null)]),B=[h.e("row-cell"),t.class,t.align===h0.CENTER&&h.is("align-center"),t.align===h0.RIGHT&&h.is("align-right")],G=u>=0&&y&&t.key===y,$=u>=0&&f.includes(s[g]);let Q;const ae="margin-inline-start: ".concat(r*b,"px;");return G&&(jn(a)?Q=ce(Yhe,nr(a,{class:[h.e("expand-icon"),h.is("expanded",$)],size:w,expanded:$,style:ae,expandable:!0}),null):Q=ce("div",{style:[ae,"width: ".concat(w,"px; height: ").concat(w,"px;")].join(" ")},null)),ce("div",nr({class:B,style:M},I,{role:"cell"}),[Q,N])};zF.inheritAttrs=!1;var kR=zF;const Xhe=kt({class:String,columns:z0,columnsStyles:{type:ze(Object),required:!0},headerIndex:Number,style:{type:ze(Object)}}),Zhe=we({name:"ElTableV2HeaderRow",props:Xhe,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:a,style:o}=e;let s=n.map((u,d)=>t.cell({columns:n,column:u,columnIndex:d,headerIndex:a,style:r[u.key]}));return t.header&&(s=t.header({cells:s.map(u=>Rt(u)&&u.length===1?u[0]:u),columns:n,headerIndex:a})),ce("div",{class:e.class,style:o,role:"row"},[s])}}});var Jhe=Zhe;function Qhe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const epe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:a,headerProps:o,ns:s},{slots:u})=>{const d={columns:e,headerIndex:n},f=[s.e("header-row"),Xf(a,d,""),{[s.is("customized")]:!!u.header}],h={...Xf(o,d),columnsStyles:t,class:f,columns:e,headerIndex:n,style:r};return ce(Jhe,h,Qhe(u)?u:{default:()=>[u]})};var tpe=epe;const v2=(e,{slots:t})=>Ue(t,"default",e,()=>{var n,r;return[ce("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});v2.displayName="ElTableV2HeaderCell";v2.inheritAttrs=!1;var npe=v2;const rpe=e=>{const{sortOrder:t}=e;return ce(tn,{size:14,class:e.class},{default:()=>[t===f0.ASC?ce(w$,null,null):ce(b$,null,null)]})};var ipe=rpe;const ape=(e,{slots:t})=>{const{column:n,ns:r,style:a,onColumnSorted:o}=e,s=ad(a);if(n.placeholderSign===p0)return ce("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:u,headerClass:d,sortable:f}=n,h={...e,class:r.e("header-cell-text")},v=LF(u),y=v?v(h):Ue(t,"default",h,()=>[ce(npe,h,null)]),{sortBy:b,sortState:w,headerCellProps:g}=e;let x,M;if(w){const T=w[n.key];x=!!qM[T],M=x?T:f0.ASC}else x=n.key===b.key,M=x?b.order:f0.ASC;const R=[r.e("header-cell"),Xf(d,e,""),n.align===h0.CENTER&&r.is("align-center"),n.align===h0.RIGHT&&r.is("align-right"),f&&r.is("sortable")],A={...Xf(g,e),onClick:n.sortable?o:void 0,class:R,style:s,"data-key":n.key};return ce("div",nr(A,{role:"columnheader"}),[y,f&&ce(ipe,{class:[r.e("sort-icon"),x&&r.is("sorting")],sortOrder:M},null)])};var IR=ape;const VF=(e,{slots:t})=>{var n;return ce("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};VF.displayName="ElTableV2Footer";var ope=VF;const UF=(e,{slots:t})=>{const n=Ue(t,"default",{},()=>[ce(D4,null,null)]);return ce("div",{class:e.class,style:e.style},[n])};UF.displayName="ElTableV2Empty";var spe=UF;const HF=(e,{slots:t})=>{var n;return ce("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};HF.displayName="ElTableV2Overlay";var lpe=HF;function ng(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Mi(e)}const upe="ElTableV2",cpe=we({name:upe,props:yhe,setup(e,{slots:t,expose:n}){const r=xt("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,mainColumns:u,mainTableHeight:d,fixedTableHeight:f,leftTableWidth:h,rightTableWidth:v,data:y,depthMap:b,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:x,leftTableRef:M,rightTableRef:R,isDynamic:A,isResetting:T,isScrolling:P,bodyWidth:I,emptyStyle:E,rootStyle:D,headerWidth:N,footerHeight:B,showEmpty:G,scrollTo:$,scrollToLeft:Q,scrollToTop:ae,scrollToRow:ee,getRowHeight:K,onColumnSorted:X,onRowHeightChange:Z,onRowHovered:j,onRowExpanded:ie,onRowsRendered:pe,onScroll:he,onVerticalScroll:le}=vhe(e);return n({scrollTo:$,scrollToLeft:Q,scrollToTop:ae,scrollToRow:ee}),or(d2,{ns:r,isResetting:T,isScrolling:P}),()=>{const{cache:Re,cellProps:De,estimatedRowHeight:Te,expandColumnKey:ge,fixedData:ke,headerHeight:Pe,headerClass:Xe,headerProps:ct,headerCellProps:se,sortBy:ye,sortState:He,rowHeight:dt,rowClass:pt,rowEventHandlers:nt,rowKey:ot,rowProps:rt,scrollbarAlwaysOn:At,indentSize:Mt,iconSize:Me,useIsScrolling:ve,vScrollbarSize:Fe,width:qe}=e,Et=m(y),$t={cache:Re,class:r.e("main"),columns:m(u),data:Et,fixedData:ke,estimatedRowHeight:Te,bodyWidth:m(I)+Fe,headerHeight:Pe,headerWidth:m(N),height:m(d),mainTableRef:x,rowKey:ot,rowHeight:dt,scrollbarAlwaysOn:At,scrollbarStartGap:2,scrollbarEndGap:Fe,useIsScrolling:ve,width:qe,getRowHeight:K,onRowsRendered:pe,onScroll:he},Yt=m(h),We=m(f),lt={cache:Re,class:r.e("left"),columns:m(o),data:Et,fixedData:ke,estimatedRowHeight:Te,leftTableRef:M,rowHeight:dt,bodyWidth:Yt,headerWidth:Yt,headerHeight:Pe,height:We,rowKey:ot,scrollbarAlwaysOn:At,scrollbarStartGap:2,scrollbarEndGap:Fe,useIsScrolling:ve,width:Yt,getRowHeight:K,onScroll:le},Tt=m(v)+Fe,je={cache:Re,class:r.e("right"),columns:m(s),data:Et,fixedData:ke,estimatedRowHeight:Te,rightTableRef:R,rowHeight:dt,bodyWidth:Tt,headerWidth:Tt,headerHeight:Pe,height:We,rowKey:ot,scrollbarAlwaysOn:At,scrollbarStartGap:2,scrollbarEndGap:Fe,width:Tt,style:"--".concat(m(r.namespace),"-table-scrollbar-size: ").concat(Fe,"px"),useIsScrolling:ve,getRowHeight:K,onScroll:le},xe=m(a),Ke={ns:r,depthMap:m(b),columnsStyles:xe,expandColumnKey:ge,expandedRowKeys:m(w),estimatedRowHeight:Te,hasFixedColumns:m(g),rowProps:rt,rowClass:pt,rowKey:ot,rowEventHandlers:nt,onRowHovered:j,onRowExpanded:ie,onRowHeightChange:Z},Ee={cellProps:De,expandColumnKey:ge,indentSize:Mt,iconSize:Me,rowKey:ot,expandedRowKeys:m(w),ns:r},wt={ns:r,headerClass:Xe,headerProps:ct,columnsStyles:xe},an={ns:r,sortBy:ye,sortState:He,headerCellProps:se,onColumnSorted:X},Je={row:_n=>ce(jhe,nr(_n,Ke),{row:t.row,cell:wn=>{let hr;return t.cell?ce(kR,nr(wn,Ee,{style:xe[wn.column.key]}),ng(hr=t.cell(wn))?hr:{default:()=>[hr]}):ce(kR,nr(wn,Ee,{style:xe[wn.column.key]}),null)}}),header:_n=>ce(tpe,nr(_n,wt),{header:t.header,cell:wn=>{let hr;return t["header-cell"]?ce(IR,nr(wn,an,{style:xe[wn.column.key]}),ng(hr=t["header-cell"](wn))?hr:{default:()=>[hr]}):ce(IR,nr(wn,an,{style:xe[wn.column.key]}),null)}})},Dt=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:m(A)}],en={class:r.e("footer"),style:m(B)};return ce("div",{class:Dt,style:m(D)},[ce(Ihe,$t,ng(Je)?Je:{default:()=>[Je]}),ce(Nhe,lt,ng(Je)?Je:{default:()=>[Je]}),ce(zhe,je,ng(Je)?Je:{default:()=>[Je]}),t.footer&&ce(ope,en,{default:t.footer}),m(G)&&ce(spe,{class:r.e("empty"),style:m(E)},{default:t.empty}),t.overlay&&ce(lpe,{class:r.e("overlay")},{default:t.overlay})])}}});var dpe=cpe;const fpe=kt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ze(Function)}}),hpe=e=>{const t=re(),n=re(0),r=re(0);let a;return Bn(()=>{a=Ri(t,([o])=>{const{width:s,height:u}=o.contentRect,{paddingLeft:d,paddingRight:f,paddingTop:h,paddingBottom:v}=getComputedStyle(o.target),y=Number.parseInt(d)||0,b=Number.parseInt(f)||0,w=Number.parseInt(h)||0,g=Number.parseInt(v)||0;n.value=s-y-b,r.value=u-w-g}).stop}),Yr(()=>{a==null||a()}),bt([n,r],([o,s])=>{var u;(u=e.onResize)==null||u.call(e,{width:o,height:s})}),{sizer:t,width:n,height:r}},ppe=we({name:"ElAutoResizer",props:fpe,setup(e,{slots:t}){const n=xt("auto-resizer"),{height:r,width:a,sizer:o}=hpe(e),s={width:"100%",height:"100%"};return()=>{var u;return ce("div",{ref:o,class:n.b(),style:s},[(u=t.default)==null?void 0:u.call(t,{height:r.value,width:a.value})])}}});var mpe=ppe;const vpe=On(dpe),gpe=On(mpe),Fw=Symbol("tabsRootContextKey"),ype=kt({tabs:{type:ze(Array),default:()=>Pi([])}}),$F="ElTabBar",bpe=we({name:$F}),_pe=we({...bpe,props:ype,setup(e,{expose:t}){const n=e,r=Jn(),a=qt(Fw);a||va($F,"<el-tabs><el-tab-bar /></el-tabs>");const o=xt("tabs"),s=re(),u=re(),d=()=>{let b=0,w=0;const g=["top","bottom"].includes(a.props.tabPosition)?"width":"height",x=g==="width"?"x":"y",M=x==="x"?"left":"top";return n.tabs.every(R=>{var A,T;const P=(T=(A=r.parent)==null?void 0:A.refs)==null?void 0:T["tab-".concat(R.uid)];if(!P)return!1;if(!R.active)return!0;b=P["offset".concat(xu(M))],w=P["client".concat(xu(g))];const I=window.getComputedStyle(P);return g==="width"&&(w-=Number.parseFloat(I.paddingLeft)+Number.parseFloat(I.paddingRight),b+=Number.parseFloat(I.paddingLeft)),!1}),{[g]:"".concat(w,"px"),transform:"translate".concat(xu(x),"(").concat(b,"px)")}},f=()=>u.value=d(),h=[],v=()=>{var b;h.forEach(g=>g.stop()),h.length=0;const w=(b=r.parent)==null?void 0:b.refs;if(w){for(const g in w)if(g.startsWith("tab-")){const x=w[g];x&&h.push(Ri(x,f))}}};bt(()=>n.tabs,async()=>{await cn(),f(),v()},{immediate:!0});const y=Ri(s,()=>f());return Yr(()=>{h.forEach(b=>b.stop()),h.length=0,y.stop()}),t({ref:s,update:f}),(b,w)=>(W(),ue("div",{ref_key:"barRef",ref:s,class:J([m(o).e("active-bar"),m(o).is(m(a).props.tabPosition)]),style:un(u.value)},null,6))}});var wpe=Ft(_pe,[["__file","tab-bar.vue"]]);const xpe=kt({panes:{type:ze(Array),default:()=>Pi([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Spe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},OR="ElTabNav",Mpe=we({name:OR,props:xpe,emits:Spe,setup(e,{expose:t,emit:n}){const r=qt(Fw);r||va(OR,"<el-tabs><tab-nav /></el-tabs>");const a=xt("tabs"),o=WY(),s=rX(),u=re(),d=re(),f=re(),h=re(),v=re(!1),y=re(0),b=re(!1),w=re(!0),g=U(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),x=U(()=>{const D=g.value==="width"?"X":"Y";return{transform:"translate".concat(D,"(-").concat(y.value,"px)")}}),M=()=>{if(!u.value)return;const D=u.value["offset".concat(xu(g.value))],N=y.value;if(!N)return;const B=N>D?N-D:0;y.value=B},R=()=>{if(!u.value||!d.value)return;const D=d.value["offset".concat(xu(g.value))],N=u.value["offset".concat(xu(g.value))],B=y.value;if(D-B<=N)return;const G=D-B>N*2?B+N:D-N;y.value=G},A=async()=>{const D=d.value;if(!v.value||!f.value||!u.value||!D)return;await cn();const N=f.value.querySelector(".is-active");if(!N)return;const B=u.value,G=["top","bottom"].includes(r.props.tabPosition),$=N.getBoundingClientRect(),Q=B.getBoundingClientRect(),ae=G?D.offsetWidth-Q.width:D.offsetHeight-Q.height,ee=y.value;let K=ee;G?($.left<Q.left&&(K=ee-(Q.left-$.left)),$.right>Q.right&&(K=ee+$.right-Q.right)):($.top<Q.top&&(K=ee-(Q.top-$.top)),$.bottom>Q.bottom&&(K=ee+($.bottom-Q.bottom))),K=Math.max(K,0),y.value=Math.min(K,ae)},T=()=>{var D;if(!d.value||!u.value)return;e.stretch&&((D=h.value)==null||D.update());const N=d.value["offset".concat(xu(g.value))],B=u.value["offset".concat(xu(g.value))],G=y.value;B<N?(v.value=v.value||{},v.value.prev=G,v.value.next=G+B<N,N-G<B&&(y.value=N-B)):(v.value=!1,G>0&&(y.value=0))},P=D=>{let N=0;switch(D.code){case jt.left:case jt.up:N=-1;break;case jt.right:case jt.down:N=1;break;default:return}const B=Array.from(D.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let $=B.indexOf(D.target)+N;$<0?$=B.length-1:$>=B.length&&($=0),B[$].focus({preventScroll:!0}),B[$].click(),I()},I=()=>{w.value&&(b.value=!0)},E=()=>b.value=!1;return bt(o,D=>{D==="hidden"?w.value=!1:D==="visible"&&setTimeout(()=>w.value=!0,50)}),bt(s,D=>{D?setTimeout(()=>w.value=!0,50):w.value=!1}),Ri(f,T),Bn(()=>setTimeout(()=>A(),0)),Hl(()=>T()),t({scrollToActiveTab:A,removeFocus:E}),()=>{const D=v.value?[ce("span",{class:[a.e("nav-prev"),a.is("disabled",!v.value.prev)],onClick:M},[ce(tn,null,{default:()=>[ce(mc,null,null)]})]),ce("span",{class:[a.e("nav-next"),a.is("disabled",!v.value.next)],onClick:R},[ce(tn,null,{default:()=>[ce(Eo,null,null)]})])]:null,N=e.panes.map((B,G)=>{var $,Q,ae,ee;const K=B.uid,X=B.props.disabled,Z=(Q=($=B.props.name)!=null?$:B.index)!=null?Q:"".concat(G),j=!X&&(B.isClosable||e.editable);B.index="".concat(G);const ie=j?ce(tn,{class:"is-icon-close",onClick:le=>n("tabRemove",B,le)},{default:()=>[ce(Bl,null,null)]}):null,pe=((ee=(ae=B.slots).label)==null?void 0:ee.call(ae))||B.props.label,he=!X&&B.active?0:-1;return ce("div",{ref:"tab-".concat(K),class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",B.active),a.is("disabled",X),a.is("closable",j),a.is("focus",b.value)],id:"tab-".concat(Z),key:"tab-".concat(K),"aria-controls":"pane-".concat(Z),role:"tab","aria-selected":B.active,tabindex:he,onFocus:()=>I(),onBlur:()=>E(),onClick:le=>{E(),n("tabClick",B,Z,le)},onKeydown:le=>{j&&(le.code===jt.delete||le.code===jt.backspace)&&n("tabRemove",B,le)}},[pe,ie])});return ce("div",{ref:f,class:[a.e("nav-wrap"),a.is("scrollable",!!v.value),a.is(r.props.tabPosition)]},[D,ce("div",{class:a.e("nav-scroll"),ref:u},[ce("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:d,style:x.value,role:"tablist",onKeydown:P},[e.type?null:ce(wpe,{ref:h,tabs:[...e.panes]},null),N])])])}}}),Epe=kt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ze(Function),default:()=>!0},stretch:Boolean}),Vx=e=>nn(e)||fn(e),Cpe={[Vn]:e=>Vx(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Vx(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Vx(e),tabAdd:()=>!0},Tpe=we({name:"ElTabs",props:Epe,emits:Cpe,setup(e,{emit:t,slots:n,expose:r}){var a;const o=xt("tabs"),s=U(()=>["left","right"].includes(e.tabPosition)),{children:u,addChild:d,removeChild:f}=DC(Jn(),"ElTabPane"),h=re(),v=re((a=e.modelValue)!=null?a:"0"),y=async(M,R=!1)=>{var A,T;if(!(v.value===M||Or(M)))try{let P;if(e.beforeLeave){const I=e.beforeLeave(M,v.value);P=I instanceof Promise?await I:I}else P=!0;P!==!1&&(v.value=M,R&&(t(Vn,M),t("tabChange",M)),(T=(A=h.value)==null?void 0:A.removeFocus)==null||T.call(A))}catch(P){}},b=(M,R,A)=>{M.props.disabled||(y(R,!0),t("tabClick",M,A))},w=(M,R)=>{M.props.disabled||Or(M.props.name)||(R.stopPropagation(),t("edit",M.props.name,"remove"),t("tabRemove",M.props.name))},g=()=>{t("edit",void 0,"add"),t("tabAdd")};bt(()=>e.modelValue,M=>y(M)),bt(v,async()=>{var M;await cn(),(M=h.value)==null||M.scrollToActiveTab()}),or(Fw,{props:e,currentName:v,registerPane:M=>{u.value.push(M)},sortPane:d,unregisterPane:f}),r({currentName:v});const x=({render:M})=>M();return()=>{const M=n["add-icon"],R=e.editable||e.addable?ce("div",{class:[o.e("new-tab"),s.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:g,onKeydown:P=>{[jt.enter,jt.numpadEnter].includes(P.code)&&g()}},[M?Ue(n,"add-icon"):ce(tn,{class:o.is("icon-plus")},{default:()=>[ce(TO,null,null)]})]):null,A=ce("div",{class:[o.e("header"),s.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[ce(x,{render:()=>{const P=u.value.some(I=>I.slots.label);return ce(Mpe,{ref:h,currentName:v.value,editable:e.editable,type:e.type,panes:u.value,stretch:e.stretch,onTabClick:b,onTabRemove:w},{$stable:!P})}},null),R]),T=ce("div",{class:o.e("content")},[Ue(n,"default")]);return ce("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[T,A])}}});var Ape=Tpe;const Lpe=kt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),GF="ElTabPane",Rpe=we({name:GF}),Ppe=we({...Rpe,props:Lpe,setup(e){const t=e,n=Jn(),r=ya(),a=qt(Fw);a||va(GF,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=xt("tab-pane"),s=re(),u=U(()=>t.closable||a.props.closable),d=aM(()=>{var b;return a.currentName.value===((b=t.name)!=null?b:s.value)}),f=re(d.value),h=U(()=>{var b;return(b=t.name)!=null?b:s.value}),v=aM(()=>!t.lazy||f.value||d.value);bt(d,b=>{b&&(f.value=!0)});const y=Ir({uid:n.uid,slots:r,props:t,paneName:h,active:d,index:s,isClosable:u});return a.registerPane(y),Bn(()=>{a.sortPane(y)}),Md(()=>{a.unregisterPane(y.uid)}),(b,w)=>m(v)?kn((W(),ue("div",{key:0,id:"pane-".concat(m(h)),class:J(m(o).b()),role:"tabpanel","aria-hidden":!m(d),"aria-labelledby":"tab-".concat(m(h))},[Ue(b.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[_r,m(d)]]):Ye("v-if",!0)}});var WF=Ft(Ppe,[["__file","tab-pane.vue"]]);const kpe=On(Ape,{TabPane:WF}),Ipe=Ii(WF),Ope=kt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Du,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Dpe=we({name:"ElText"}),Npe=we({...Dpe,props:Ope,setup(e){const t=e,n=re(),r=ta(),a=xt("text"),o=U(()=>[a.b(),a.m(t.type),a.m(r.value),a.is("truncated",t.truncated),a.is("line-clamp",!Or(t.lineClamp))]),s=wc().title,u=()=>{var d,f,h,v,y;if(s)return;let b=!1;const w=((d=n.value)==null?void 0:d.textContent)||"";if(t.truncated){const g=(f=n.value)==null?void 0:f.offsetWidth,x=(h=n.value)==null?void 0:h.scrollWidth;g&&x&&x>g&&(b=!0)}else if(!Or(t.lineClamp)){const g=(v=n.value)==null?void 0:v.offsetHeight,x=(y=n.value)==null?void 0:y.scrollHeight;g&&x&&x>g&&(b=!0)}b?n.value.setAttribute("title",w):n.value.removeAttribute("title")};return Bn(u),Hl(u),(d,f)=>(W(),tt(tr(d.tag),{ref_key:"textRef",ref:n,class:J(m(o)),style:un({"-webkit-line-clamp":d.lineClamp})},{default:be(()=>[Ue(d.$slots,"default")]),_:3},8,["class","style"]))}});var Fpe=Ft(Npe,[["__file","text.vue"]]);const Bpe=On(Fpe),zpe=kt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:ze(String),default:"light"},clearable:{type:Boolean,default:!0},size:ca,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:ze([String,Object]),default:()=>SO},clearIcon:{type:ze([String,Object]),default:()=>Sc},...Am}),dc=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&n===12?n=0:a.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},Ux=(e,t)=>{const n=dc(e);if(!n)return-1;const r=dc(t);if(!r)return-1;const a=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return a===o?0:a>o?1:-1},DR=e=>"".concat(e).padStart(2,"0"),Cp=e=>"".concat(DR(e.hours),":").concat(DR(e.minutes)),Vpe=(e,t)=>{const n=dc(e);if(!n)return"";const r=dc(t);if(!r)return"";const a={hours:n.hours,minutes:n.minutes};return a.minutes+=r.minutes,a.hours+=r.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,Cp(a)},Upe=we({name:"ElTimeSelect"}),Hpe=we({...Upe,props:zpe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;Rn.extend(zC);const{Option:r}=Yf,a=xt("input"),o=re(),s=uo(),{lang:u}=xr(),d=U(()=>n.modelValue),f=U(()=>{const M=dc(n.start);return M?Cp(M):null}),h=U(()=>{const M=dc(n.end);return M?Cp(M):null}),v=U(()=>{const M=dc(n.step);return M?Cp(M):null}),y=U(()=>{const M=dc(n.minTime||"");return M?Cp(M):null}),b=U(()=>{const M=dc(n.maxTime||"");return M?Cp(M):null}),w=U(()=>{var M;const R=[],A=(T,P)=>{R.push({value:T,disabled:Ux(P,y.value||"-1:-1")<=0||Ux(P,b.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let T=f.value,P;for(;T&&h.value&&Ux(T,h.value)<=0;)P=Rn(T,"HH:mm").locale(u.value).format(n.format),A(P,T),T=Vpe(T,v.value);if(n.includeEndTime&&h.value&&((M=R[R.length-1])==null?void 0:M.value)!==h.value){const I=Rn(h.value,"HH:mm").locale(u.value).format(n.format);A(I,h.value)}}return R});return t({blur:()=>{var M,R;(R=(M=o.value)==null?void 0:M.blur)==null||R.call(M)},focus:()=>{var M,R;(R=(M=o.value)==null?void 0:M.focus)==null||R.call(M)}}),(M,R)=>(W(),tt(m(Yf),{ref_key:"select",ref:o,"model-value":m(d),disabled:m(s),clearable:M.clearable,"clear-icon":M.clearIcon,size:M.size,effect:M.effect,placeholder:M.placeholder,"default-first-option":"",filterable:M.editable,"empty-values":M.emptyValues,"value-on-clear":M.valueOnClear,"onUpdate:modelValue":A=>M.$emit("update:modelValue",A),onChange:A=>M.$emit("change",A),onBlur:A=>M.$emit("blur",A),onFocus:A=>M.$emit("focus",A),onClear:()=>M.$emit("clear")},{prefix:be(()=>[M.prefixIcon?(W(),tt(m(tn),{key:0,class:J(m(a).e("prefix-icon"))},{default:be(()=>[(W(),tt(tr(M.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)]),default:be(()=>[(W(!0),ue(rn,null,ar(m(w),A=>(W(),tt(m(r),{key:A.value,label:A.value,value:A.value,disabled:A.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var $pe=Ft(Hpe,[["__file","time-select.vue"]]);const Gpe=On($pe),Wpe=we({name:"ElTimeline",setup(e,{slots:t}){const n=xt("timeline");return or("timeline",t),()=>mn("ul",{class:[n.b()]},[Ue(t,"default")])}}),jpe=kt({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ei},hollow:Boolean}),qpe=we({name:"ElTimelineItem"}),Kpe=we({...qpe,props:jpe,setup(e){const t=e,n=xt("timeline-item"),r=U(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(a,o)=>(W(),ue("li",{class:J([m(n).b(),{[m(n).e("center")]:a.center}])},[fe("div",{class:J(m(n).e("tail"))},null,2),a.$slots.dot?Ye("v-if",!0):(W(),ue("div",{key:0,class:J(m(r)),style:un({backgroundColor:a.color})},[a.icon?(W(),tt(m(tn),{key:0,class:J(m(n).e("icon"))},{default:be(()=>[(W(),tt(tr(a.icon)))]),_:1},8,["class"])):Ye("v-if",!0)],6)),a.$slots.dot?(W(),ue("div",{key:1,class:J(m(n).e("dot"))},[Ue(a.$slots,"dot")],2)):Ye("v-if",!0),fe("div",{class:J(m(n).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(W(),ue("div",{key:0,class:J([m(n).e("timestamp"),m(n).is("top")])},Pt(a.timestamp),3)):Ye("v-if",!0),fe("div",{class:J(m(n).e("content"))},[Ue(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(W(),ue("div",{key:1,class:J([m(n).e("timestamp"),m(n).is("bottom")])},Pt(a.timestamp),3)):Ye("v-if",!0)],2)],2))}});var jF=Ft(Kpe,[["__file","timeline-item.vue"]]);const Ype=On(Wpe,{TimelineItem:jF}),Xpe=Ii(jF),qF=kt({nowrap:Boolean});var KF=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(KF||{});const Zpe=Object.values(KF),g2=kt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ze(Object),default:null}}),Jpe=kt({side:{type:ze(String),values:Zpe,required:!0}}),Qpe=["absolute","fixed"],eme=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],y2=kt({arrowPadding:{type:ze(Number),default:5},effect:{type:ze(String),default:"light"},contentClass:String,placement:{type:ze(String),values:eme,default:"bottom"},reference:{type:ze(Object),default:null},offset:{type:Number,default:8},strategy:{type:ze(String),values:Qpe,default:"absolute"},showArrow:Boolean,...qa(["ariaLabel"])}),b2=kt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ze(Function)},"onUpdate:open":{type:ze(Function)}}),rp={type:ze(Function)},_2=kt({onBlur:rp,onClick:rp,onFocus:rp,onMouseDown:rp,onMouseEnter:rp,onMouseLeave:rp}),tme=kt({...b2,...g2,..._2,...y2,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ze(Object),default:null},teleported:Boolean,to:{type:ze(String),default:"body"}}),Bw=Symbol("tooltipV2"),YF=Symbol("tooltipV2Content"),Hx="tooltip_v2.open",nme=we({name:"ElTooltipV2Root"}),rme=we({...nme,props:b2,setup(e,{expose:t}){const n=e,r=re(n.defaultOpen),a=re(null),o=U({get:()=>Dl(n.open)?r.value:n.open,set:x=>{var M;r.value=x,(M=n["onUpdate:open"])==null||M.call(n,x)}}),s=U(()=>fn(n.delayDuration)&&n.delayDuration>0),{start:u,stop:d}=qf(()=>{o.value=!0},U(()=>n.delayDuration),{immediate:!1}),f=xt("tooltip-v2"),h=ja(),v=()=>{d(),o.value=!0},y=()=>{m(s)?u():v()},b=v,w=()=>{d(),o.value=!1};return bt(o,x=>{var M;x&&(document.dispatchEvent(new CustomEvent(Hx)),b()),(M=n.onOpenChange)==null||M.call(n,x)}),Bn(()=>{document.addEventListener(Hx,w)}),Yr(()=>{d(),document.removeEventListener(Hx,w)}),or(Bw,{contentId:h,triggerRef:a,ns:f,onClose:w,onDelayOpen:y,onOpen:b}),t({onOpen:b,onClose:w}),(x,M)=>Ue(x.$slots,"default",{open:m(o)})}});var ime=Ft(rme,[["__file","root.vue"]]);const ame=we({name:"ElTooltipV2Arrow"}),ome=we({...ame,props:{...g2,...Jpe},setup(e){const t=e,{ns:n}=qt(Bw),{arrowRef:r}=qt(YF),a=U(()=>{const{style:o,width:s,height:u}=t,d=n.namespace.value;return{["--".concat(d,"-tooltip-v2-arrow-width")]:"".concat(s,"px"),["--".concat(d,"-tooltip-v2-arrow-height")]:"".concat(u,"px"),["--".concat(d,"-tooltip-v2-arrow-border-width")]:"".concat(s/2,"px"),["--".concat(d,"-tooltip-v2-arrow-cover-width")]:s/2-1,...o||{}}});return(o,s)=>(W(),ue("span",{ref_key:"arrowRef",ref:r,style:un(m(a)),class:J(m(n).e("arrow"))},null,6))}});var NR=Ft(ome,[["__file","arrow.vue"]]);const dm=Math.min,zf=Math.max,H_=Math.round,eb=Math.floor,Tu=e=>({x:e,y:e}),sme={left:"right",right:"left",bottom:"top",top:"bottom"},lme={start:"end",end:"start"};function YM(e,t,n){return zf(e,dm(t,n))}function V0(e,t){return typeof e=="function"?e(t):e}function Zf(e){return e.split("-")[0]}function U0(e){return e.split("-")[1]}function XF(e){return e==="x"?"y":"x"}function w2(e){return e==="y"?"height":"width"}function fm(e){return["top","bottom"].includes(Zf(e))?"y":"x"}function x2(e){return XF(fm(e))}function ume(e,t,n){n===void 0&&(n=!1);const r=U0(e),a=x2(e),o=w2(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=$_(s)),[s,$_(s)]}function cme(e){const t=$_(e);return[XM(e),t,XM(t)]}function XM(e){return e.replace(/start|end/g,t=>lme[t])}function dme(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:s;default:return[]}}function fme(e,t,n,r){const a=U0(e);let o=dme(Zf(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(XM)))),o}function $_(e){return e.replace(/left|right|bottom|top/g,t=>sme[t])}function hme(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZF(e){return typeof e!="number"?hme(e):{top:e,right:e,bottom:e,left:e}}function G_(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function FR(e,t,n){let{reference:r,floating:a}=e;const o=fm(t),s=x2(t),u=w2(s),d=Zf(t),f=o==="y",h=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let b;switch(d){case"top":b={x:h,y:r.y-a.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-a.width,y:v};break;default:b={x:r.x,y:r.y}}switch(U0(t)){case"start":b[s]-=y*(n&&f?-1:1);break;case"end":b[s]+=y*(n&&f?-1:1);break}return b}const pme=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,u=o.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=FR(f,r,d),y=r,b={},w=0;for(let g=0;g<u.length;g++){const{name:x,fn:M}=u[g],{x:R,y:A,data:T,reset:P}=await M({x:h,y:v,initialPlacement:r,placement:y,strategy:a,middlewareData:b,rects:f,platform:s,elements:{reference:e,floating:t}});h=R!=null?R:h,v=A!=null?A:v,b={...b,[x]:{...b[x],...T}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(y=P.placement),P.rects&&(f=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):P.rects),{x:h,y:v}=FR(f,y,d)),g=-1)}return{x:h,y:v,placement:y,strategy:a,middlewareData:b}};async function S2(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:y=!1,padding:b=0}=V0(t,e),w=ZF(b),x=u[y?v==="floating"?"reference":"floating":v],M=G_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:d})),R=v==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},P=G_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:A,strategy:d}):R);return{top:(M.top-P.top+w.top)/T.y,bottom:(P.bottom-M.bottom+w.bottom)/T.y,left:(M.left-P.left+w.left)/T.x,right:(P.right-M.right+w.right)/T.x}}const mme=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:u,middlewareData:d}=t,{element:f,padding:h=0}=V0(e,t)||{};if(f==null)return{};const v=ZF(h),y={x:n,y:r},b=x2(a),w=w2(b),g=await s.getDimensions(f),x=b==="y",M=x?"top":"left",R=x?"bottom":"right",A=x?"clientHeight":"clientWidth",T=o.reference[w]+o.reference[b]-y[b]-o.floating[w],P=y[b]-o.reference[b],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let E=I?I[A]:0;(!E||!await(s.isElement==null?void 0:s.isElement(I)))&&(E=u.floating[A]||o.floating[w]);const D=T/2-P/2,N=E/2-g[w]/2-1,B=dm(v[M],N),G=dm(v[R],N),$=B,Q=E-g[w]-G,ae=E/2-g[w]/2+D,ee=YM($,ae,Q),K=!d.arrow&&U0(a)!=null&&ae!==ee&&o.reference[w]/2-(ae<$?B:G)-g[w]/2<0,X=K?ae<$?ae-$:ae-Q:0;return{[b]:y[b]+X,data:{[b]:ee,centerOffset:ae-ee-X,...K&&{alignmentOffset:X}},reset:K}}}),vme=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=V0(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const M=Zf(a),R=fm(u),A=Zf(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(f.floating)),P=y||(A||!g?[$_(u)]:cme(u)),I=w!=="none";!y&&I&&P.push(...fme(u,g,w,T));const E=[u,...P],D=await S2(t,x),N=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&N.push(D[M]),v){const ae=ume(a,s,T);N.push(D[ae[0]],D[ae[1]])}if(B=[...B,{placement:a,overflows:N}],!N.every(ae=>ae<=0)){var G,$;const ae=(((G=o.flip)==null?void 0:G.index)||0)+1,ee=E[ae];if(ee)return{data:{index:ae,overflows:B},reset:{placement:ee}};let K=($=B.filter(X=>X.overflows[0]<=0).sort((X,Z)=>X.overflows[1]-Z.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(b){case"bestFit":{var Q;const X=(Q=B.filter(Z=>{if(I){const j=fm(Z.placement);return j===R||j==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(j=>j>0).reduce((j,ie)=>j+ie,0)]).sort((Z,j)=>Z[1]-j[1])[0])==null?void 0:Q[0];X&&(K=X);break}case"initialPlacement":K=u;break}if(a!==K)return{reset:{placement:K}}}return{}}}};async function gme(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=Zf(n),u=U0(n),d=fm(n)==="y",f=["left","top"].includes(s)?-1:1,h=o&&d?-1:1,v=V0(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof w=="number"&&(b=u==="end"?w*-1:w),d?{x:b*h,y:y*f}:{x:y*f,y:b*h}}const yme=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:u}=t,d=await gme(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:s}}}}},bme=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:x=>{let{x:M,y:R}=x;return{x:M,y:R}}},...d}=V0(e,t),f={x:n,y:r},h=await S2(t,d),v=fm(Zf(a)),y=XF(v);let b=f[y],w=f[v];if(o){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",R=b+h[x],A=b-h[M];b=YM(R,b,A)}if(s){const x=v==="y"?"top":"left",M=v==="y"?"bottom":"right",R=w+h[x],A=w-h[M];w=YM(R,w,A)}const g=u.fn({...t,[y]:b,[v]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[y]:o,[v]:s}}}}}};function zw(){return typeof window<"u"}function Im(e){return JF(e)?(e.nodeName||"").toLowerCase():"#document"}function Is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fu(e){var t;return(t=(JF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JF(e){return zw()?e instanceof Node||e instanceof Is(e).Node:!1}function Vl(e){return zw()?e instanceof Element||e instanceof Is(e).Element:!1}function Ou(e){return zw()?e instanceof HTMLElement||e instanceof Is(e).HTMLElement:!1}function BR(e){return!zw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Is(e).ShadowRoot}function H0(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Ul(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function _me(e){return["table","td","th"].includes(Im(e))}function Vw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function M2(e){const t=E2(),n=Vl(e)?Ul(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wme(e){let t=_d(e);for(;Ou(t)&&!hm(t);){if(M2(t))return t;if(Vw(t))return null;t=_d(t)}return null}function E2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hm(e){return["html","body","#document"].includes(Im(e))}function Ul(e){return Is(e).getComputedStyle(e)}function Uw(e){return Vl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _d(e){if(Im(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BR(e)&&e.host||Fu(e);return BR(t)?t.host:t}function QF(e){const t=_d(e);return hm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ou(t)&&H0(t)?t:QF(t)}function m0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=QF(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=Is(a);if(o){const u=ZM(s);return t.concat(s,s.visualViewport||[],H0(a)?a:[],u&&n?m0(u):[])}return t.concat(a,m0(a,[],n))}function ZM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eB(e){const t=Ul(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ou(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,u=H_(n)!==o||H_(r)!==s;return u&&(n=o,r=s),{width:n,height:r,$:u}}function C2(e){return Vl(e)?e:e.contextElement}function Gp(e){const t=C2(e);if(!Ou(t))return Tu(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=eB(t);let s=(o?H_(n.width):n.width)/r,u=(o?H_(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const xme=Tu(0);function tB(e){const t=Is(e);return!E2()||!t.visualViewport?xme:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Sme(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Is(e)?!1:t}function Jf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=C2(e);let s=Tu(1);t&&(r?Vl(r)&&(s=Gp(r)):s=Gp(e));const u=Sme(o,n,r)?tB(o):Tu(0);let d=(a.left+u.x)/s.x,f=(a.top+u.y)/s.y,h=a.width/s.x,v=a.height/s.y;if(o){const y=Is(o),b=r&&Vl(r)?Is(r):r;let w=y,g=ZM(w);for(;g&&r&&b!==w;){const x=Gp(g),M=g.getBoundingClientRect(),R=Ul(g),A=M.left+(g.clientLeft+parseFloat(R.paddingLeft))*x.x,T=M.top+(g.clientTop+parseFloat(R.paddingTop))*x.y;d*=x.x,f*=x.y,h*=x.x,v*=x.y,d+=A,f+=T,w=Is(g),g=ZM(w)}}return G_({width:h,height:v,x:d,y:f})}function T2(e,t){const n=Uw(e).scrollLeft;return t?t.left+n:Jf(Fu(e)).left+n}function nB(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:T2(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function Mme(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=Fu(r),u=t?Vw(t.floating):!1;if(r===s||u&&o)return n;let d={scrollLeft:0,scrollTop:0},f=Tu(1);const h=Tu(0),v=Ou(r);if((v||!v&&!o)&&((Im(r)!=="body"||H0(s))&&(d=Uw(r)),Ou(r))){const b=Jf(r);f=Gp(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const y=s&&!v&&!o?nB(s,d,!0):Tu(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x+y.x,y:n.y*f.y-d.scrollTop*f.y+h.y+y.y}}function Eme(e){return Array.from(e.getClientRects())}function Cme(e){const t=Fu(e),n=Uw(e),r=e.ownerDocument.body,a=zf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=zf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+T2(e);const u=-n.scrollTop;return Ul(r).direction==="rtl"&&(s+=zf(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:u}}function Tme(e,t){const n=Is(e),r=Fu(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,u=0,d=0;if(a){o=a.width,s=a.height;const f=E2();(!f||f&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:o,height:s,x:u,y:d}}function Ame(e,t){const n=Jf(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Ou(e)?Gp(e):Tu(1),s=e.clientWidth*o.x,u=e.clientHeight*o.y,d=a*o.x,f=r*o.y;return{width:s,height:u,x:d,y:f}}function zR(e,t,n){let r;if(t==="viewport")r=Tme(e,n);else if(t==="document")r=Cme(Fu(e));else if(Vl(t))r=Ame(t,n);else{const a=tB(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return G_(r)}function rB(e,t){const n=_d(e);return n===t||!Vl(n)||hm(n)?!1:Ul(n).position==="fixed"||rB(n,t)}function Lme(e,t){const n=t.get(e);if(n)return n;let r=m0(e,[],!1).filter(u=>Vl(u)&&Im(u)!=="body"),a=null;const o=Ul(e).position==="fixed";let s=o?_d(e):e;for(;Vl(s)&&!hm(s);){const u=Ul(s),d=M2(s);!d&&u.position==="fixed"&&(a=null),(o?!d&&!a:!d&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||H0(s)&&!d&&rB(e,s))?r=r.filter(h=>h!==s):a=u,s=_d(s)}return t.set(e,r),r}function Rme(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Vw(t)?[]:Lme(t,this._c):[].concat(n),r],u=s[0],d=s.reduce((f,h)=>{const v=zR(t,h,a);return f.top=zf(v.top,f.top),f.right=dm(v.right,f.right),f.bottom=dm(v.bottom,f.bottom),f.left=zf(v.left,f.left),f},zR(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Pme(e){const{width:t,height:n}=eB(e);return{width:t,height:n}}function kme(e,t,n){const r=Ou(t),a=Fu(t),o=n==="fixed",s=Jf(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=Tu(0);if(r||!r&&!o)if((Im(t)!=="body"||H0(a))&&(u=Uw(t)),r){const y=Jf(t,!0,o,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else a&&(d.x=T2(a));const f=a&&!r&&!o?nB(a,u):Tu(0),h=s.left+u.scrollLeft-d.x-f.x,v=s.top+u.scrollTop-d.y-f.y;return{x:h,y:v,width:s.width,height:s.height}}function $x(e){return Ul(e).position==="static"}function VR(e,t){if(!Ou(e)||Ul(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fu(e)===n&&(n=n.ownerDocument.body),n}function iB(e,t){const n=Is(e);if(Vw(e))return n;if(!Ou(e)){let a=_d(e);for(;a&&!hm(a);){if(Vl(a)&&!$x(a))return a;a=_d(a)}return n}let r=VR(e,t);for(;r&&_me(r)&&$x(r);)r=VR(r,t);return r&&hm(r)&&$x(r)&&!M2(r)?n:r||wme(e)||n}const Ime=async function(e){const t=this.getOffsetParent||iB,n=this.getDimensions,r=await n(e.floating);return{reference:kme(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ome(e){return Ul(e).direction==="rtl"}const Dme={convertOffsetParentRelativeRectToViewportRelativeRect:Mme,getDocumentElement:Fu,getClippingRect:Rme,getOffsetParent:iB,getElementRects:Ime,getClientRects:Eme,getDimensions:Pme,getScale:Gp,isElement:Vl,isRTL:Ome};function aB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Nme(e,t){let n=null,r;const a=Fu(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:h,top:v,width:y,height:b}=f;if(u||t(),!y||!b)return;const w=eb(v),g=eb(a.clientWidth-(h+y)),x=eb(a.clientHeight-(v+b)),M=eb(h),A={rootMargin:-w+"px "+-g+"px "+-x+"px "+-M+"px",threshold:zf(0,dm(1,d))||1};let T=!0;function P(I){const E=I[0].intersectionRatio;if(E!==d){if(!T)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!aB(f,e.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(P,{...A,root:a.ownerDocument})}catch(I){n=new IntersectionObserver(P,A)}n.observe(e)}return s(!0),o}function Fme(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=C2(e),h=a||o?[...f?m0(f):[],...m0(t)]:[];h.forEach(M=>{a&&M.addEventListener("scroll",n,{passive:!0}),o&&M.addEventListener("resize",n)});const v=f&&u?Nme(f,n):null;let y=-1,b=null;s&&(b=new ResizeObserver(M=>{let[R]=M;R&&R.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),n()}),f&&!d&&b.observe(f),b.observe(t));let w,g=d?Jf(e):null;d&&x();function x(){const M=Jf(e);g&&!aB(g,M)&&n(),g=M,w=requestAnimationFrame(x)}return n(),()=>{var M;h.forEach(R=>{a&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),v==null||v(),(M=b)==null||M.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const Bme=S2,oB=yme,zme=bme,Vme=vme,sB=mme,lB=(e,t,n)=>{const r=new Map,a={platform:Dme,...n},o={...a.platform,_c:r};return pme(e,t,{...a,platform:o})},Ume=kt({style:{type:ze([String,Object,Array]),default:()=>({})}}),Hme=we({name:"ElVisuallyHidden"}),$me=we({...Hme,props:Ume,setup(e){const t=e,n=U(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,a)=>(W(),ue("span",nr(r.$attrs,{style:m(n)}),[Ue(r.$slots,"default")],16))}});var Gme=Ft($me,[["__file","visual-hidden.vue"]]);kt({});const Wme=e=>{if(!wr)return;if(!e)return e;const t=Uo(e);return t||(vi(e)?t:e)},jme=({middleware:e,placement:t,strategy:n})=>{const r=re(),a=re(),o=re(),s=re(),u=re({}),d={x:o,y:s,placement:t,strategy:n,middlewareData:u},f=async()=>{if(!wr)return;const h=Wme(r),v=Uo(a);if(!h||!v)return;const y=await lB(h,v,{placement:m(t),strategy:m(n),middleware:m(e)});tm(d).forEach(b=>{d[b].value=y[b]})};return Bn(()=>{to(()=>{f()})}),{...d,update:f,referenceRef:r,contentRef:a}},qme=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=m(e);return r?sB({element:r,padding:t}).fn(n):{}}}),Kme=we({name:"ElTooltipV2Content"}),Yme=we({...Kme,props:{...y2,...qF},setup(e){const t=e,{triggerRef:n,contentId:r}=qt(Bw),a=re(t.placement),o=re(t.strategy),s=re(null),{referenceRef:u,contentRef:d,middlewareData:f,x:h,y:v,update:y}=jme({placement:a,strategy:o,middleware:U(()=>{const A=[oB(t.offset)];return t.showArrow&&A.push(qme({arrowRef:s})),A})}),b=Tm().nextZIndex(),w=xt("tooltip-v2"),g=U(()=>a.value.split("-")[0]),x=U(()=>({position:m(o),top:"".concat(m(v)||0,"px"),left:"".concat(m(h)||0,"px"),zIndex:b})),M=U(()=>{if(!t.showArrow)return{};const{arrow:A}=m(f);return{["--".concat(w.namespace.value,"-tooltip-v2-arrow-x")]:"".concat(A==null?void 0:A.x,"px")||"",["--".concat(w.namespace.value,"-tooltip-v2-arrow-y")]:"".concat(A==null?void 0:A.y,"px")||""}}),R=U(()=>[w.e("content"),w.is("dark",t.effect==="dark"),w.is(m(o)),t.contentClass]);return bt(s,()=>y()),bt(()=>t.placement,A=>a.value=A),Bn(()=>{bt(()=>t.reference||n.value,A=>{u.value=A||void 0},{immediate:!0})}),or(YF,{arrowRef:s}),(A,T)=>(W(),ue("div",{ref_key:"contentRef",ref:d,style:un(m(x)),"data-tooltip-v2-root":""},[A.nowrap?Ye("v-if",!0):(W(),ue("div",{key:0,"data-side":m(g),class:J(m(R))},[Ue(A.$slots,"default",{contentStyle:m(x),contentClass:m(R)}),ce(m(Gme),{id:m(r),role:"tooltip"},{default:be(()=>[A.ariaLabel?(W(),ue(rn,{key:0},[Pn(Pt(A.ariaLabel),1)],64)):Ue(A.$slots,"default",{key:1})]),_:3},8,["id"]),Ue(A.$slots,"arrow",{style:un(m(M)),side:m(g)})],10,["data-side"]))],4))}});var UR=Ft(Yme,[["__file","content.vue"]]);const Xme=kt({setRef:{type:ze(Function),required:!0},onlyChild:Boolean});var Zme=we({props:Xme,setup(e,{slots:t}){const n=re(),r=Iw(n,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[o]=((a=t.default)==null?void 0:a.call(t))||[],s=e.onlyChild?ote(o.children):o.children;return ce(rn,{ref:r},[s])}}});const Jme=we({name:"ElTooltipV2Trigger"}),Qme=we({...Jme,props:{...qF,..._2},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:a,triggerRef:o,contentId:s}=qt(Bw);let u=!1;const d=R=>{o.value=R},f=()=>{u=!1},h=$i(t.onMouseEnter,a),v=$i(t.onMouseLeave,n),y=$i(t.onMouseDown,()=>{n(),u=!0,document.addEventListener("mouseup",f,{once:!0})}),b=$i(t.onFocus,()=>{u||r()}),w=$i(t.onBlur,n),g=$i(t.onClick,R=>{R.detail===0&&n()}),x={blur:w,click:g,focus:b,mousedown:y,mouseenter:h,mouseleave:v},M=(R,A,T)=>{R&&Object.entries(A).forEach(([P,I])=>{R[T](P,I)})};return bt(o,(R,A)=>{M(R,x,"addEventListener"),M(A,x,"removeEventListener"),R&&R.setAttribute("aria-describedby",s.value)}),Yr(()=>{M(o.value,x,"removeEventListener"),document.removeEventListener("mouseup",f)}),(R,A)=>R.nowrap?(W(),tt(m(Zme),{key:0,"set-ref":d,"only-child":""},{default:be(()=>[Ue(R.$slots,"default")]),_:3})):(W(),ue("button",nr({key:1,ref_key:"triggerRef",ref:o},R.$attrs),[Ue(R.$slots,"default")],16))}});var eve=Ft(Qme,[["__file","trigger.vue"]]);const tve=we({name:"ElTooltipV2"}),nve=we({...tve,props:tme,setup(e){const n=ka(e),r=Ir(Pl(n,Object.keys(g2))),a=Ir(Pl(n,Object.keys(y2))),o=Ir(Pl(n,Object.keys(b2))),s=Ir(Pl(n,Object.keys(_2)));return(u,d)=>(W(),tt(ime,Ls(Lu(o)),{default:be(({open:f})=>[ce(eve,nr(s,{nowrap:""}),{default:be(()=>[Ue(u.$slots,"trigger")]),_:3},16),ce(m(Rm),{to:u.to,disabled:!u.teleported},{default:be(()=>[u.fullTransition?(W(),tt(Ia,Ls(nr({key:0},u.transitionProps)),{default:be(()=>[u.alwaysOn||f?(W(),tt(UR,Ls(nr({key:0},a)),{arrow:be(({style:h,side:v})=>[u.showArrow?(W(),tt(NR,nr({key:0},r,{style:h,side:v}),null,16,["style","side"])):Ye("v-if",!0)]),default:be(()=>[Ue(u.$slots,"default")]),_:3},16)):Ye("v-if",!0)]),_:2},1040)):(W(),ue(rn,{key:1},[u.alwaysOn||f?(W(),tt(UR,Ls(nr({key:0},a)),{arrow:be(({style:h,side:v})=>[u.showArrow?(W(),tt(NR,nr({key:0},r,{style:h,side:v}),null,16,["style","side"])):Ye("v-if",!0)]),default:be(()=>[Ue(u.$slots,"default")]),_:3},16)):Ye("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var rve=Ft(nve,[["__file","tooltip.vue"]]);const ive=On(rve),uB="left-check-change",cB="right-check-change",Tp=kt({data:{type:ze(Array),default:()=>[]},titles:{type:ze(Array),default:()=>[]},buttonTexts:{type:ze(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ze(Function)},leftDefaultChecked:{type:ze(Array),default:()=>[]},rightDefaultChecked:{type:ze(Array),default:()=>[]},renderContent:{type:ze(Function)},modelValue:{type:ze(Array),default:()=>[]},format:{type:ze(Object),default:()=>({})},filterable:Boolean,props:{type:ze(Object),default:()=>Pi({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),JM=(e,t)=>[e,t].every(Rt)||Rt(e)&&Sa(t),ave={[Qr]:(e,t,n)=>[e,n].every(Rt)&&["left","right"].includes(t),[Vn]:e=>Rt(e),[uB]:JM,[cB]:JM},QM="checked-change",ove=kt({data:Tp.data,optionRender:{type:ze(Function)},placeholder:String,title:String,filterable:Boolean,format:Tp.format,filterMethod:Tp.filterMethod,defaultChecked:Tp.leftDefaultChecked,props:Tp.props}),sve={[QM]:JM},$0=e=>{const t={label:"label",key:"key",disabled:"disabled"};return U(()=>({...t,...e.props}))},lve=(e,t,n)=>{const r=$0(e),a=U(()=>e.data.filter(h=>on(e.filterMethod)?e.filterMethod(t.query,h):String(h[r.value.label]||h[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),o=U(()=>a.value.filter(h=>!h[r.value.disabled])),s=U(()=>{const h=t.checked.length,v=e.data.length,{noChecked:y,hasChecked:b}=e.format;return y&&b?h>0?b.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,v.toString()):y.replace(/\${total}/g,v.toString()):"".concat(h,"/").concat(v)}),u=U(()=>{const h=t.checked.length;return h>0&&h<o.value.length}),d=()=>{const h=o.value.map(v=>v[r.value.key]);t.allChecked=h.length>0&&h.every(v=>t.checked.includes(v))},f=h=>{t.checked=h?o.value.map(v=>v[r.value.key]):[]};return bt(()=>t.checked,(h,v)=>{if(d(),t.checkChangeByUser){const y=h.concat(v).filter(b=>!h.includes(b)||!v.includes(b));n(QM,h,y)}else n(QM,h),t.checkChangeByUser=!0}),bt(o,()=>{d()}),bt(()=>e.data,()=>{const h=[],v=a.value.map(y=>y[r.value.key]);t.checked.forEach(y=>{v.includes(y)&&h.push(y)}),t.checkChangeByUser=!1,t.checked=h}),bt(()=>e.defaultChecked,(h,v)=>{if(v&&h.length===v.length&&h.every(w=>v.includes(w)))return;const y=[],b=o.value.map(w=>w[r.value.key]);h.forEach(w=>{b.includes(w)&&y.push(w)}),t.checkChangeByUser=!1,t.checked=y},{immediate:!0}),{filteredData:a,checkableData:o,checkedSummary:s,isIndeterminate:u,updateAllChecked:d,handleAllCheckedChange:f}},uve=we({name:"ElTransferPanel"}),cve=we({...uve,props:ove,emits:sve,setup(e,{expose:t,emit:n}){const r=e,a=ya(),o=({option:A})=>A,{t:s}=xr(),u=xt("transfer"),d=Ir({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=$0(r),{filteredData:h,checkedSummary:v,isIndeterminate:y,handleAllCheckedChange:b}=lve(r,d,n),w=U(()=>!As(d.query)&&As(h.value)),g=U(()=>!As(a.default()[0].children)),{checked:x,allChecked:M,query:R}=ka(d);return t({query:R}),(A,T)=>(W(),ue("div",{class:J(m(u).b("panel"))},[fe("p",{class:J(m(u).be("panel","header"))},[ce(m(sl),{modelValue:m(M),"onUpdate:modelValue":P=>vi(M)?M.value=P:null,indeterminate:m(y),"validate-event":!1,onChange:m(b)},{default:be(()=>[Pn(Pt(A.title)+" ",1),fe("span",null,Pt(m(v)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),fe("div",{class:J([m(u).be("panel","body"),m(u).is("with-footer",m(g))])},[A.filterable?(W(),tt(m(Mo),{key:0,modelValue:m(R),"onUpdate:modelValue":P=>vi(R)?R.value=P:null,class:J(m(u).be("panel","filter")),size:"default",placeholder:A.placeholder,"prefix-icon":m(d$),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Ye("v-if",!0),kn(ce(m(WN),{modelValue:m(x),"onUpdate:modelValue":P=>vi(x)?x.value=P:null,"validate-event":!1,class:J([m(u).is("filterable",A.filterable),m(u).be("panel","list")])},{default:be(()=>[(W(!0),ue(rn,null,ar(m(h),P=>(W(),tt(m(sl),{key:P[m(f).key],class:J(m(u).be("panel","item")),value:P[m(f).key],disabled:P[m(f).disabled],"validate-event":!1},{default:be(()=>{var I;return[ce(o,{option:(I=A.optionRender)==null?void 0:I.call(A,P)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[_r,!m(w)&&!m(As)(A.data)]]),kn(fe("div",{class:J(m(u).be("panel","empty"))},[Ue(A.$slots,"empty",{},()=>[Pn(Pt(m(w)?m(s)("el.transfer.noMatch"):m(s)("el.transfer.noData")),1)])],2),[[_r,m(w)||m(As)(A.data)]])],2),m(g)?(W(),ue("p",{key:0,class:J(m(u).be("panel","footer"))},[Ue(A.$slots,"default")],2)):Ye("v-if",!0)],2))}});var HR=Ft(cve,[["__file","transfer-panel.vue"]]);const dve=e=>{const t=$0(e),n=U(()=>e.data.reduce((o,s)=>(o[s[t.value.key]]=s)&&o,{})),r=U(()=>e.data.filter(o=>!e.modelValue.includes(o[t.value.key]))),a=U(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[t.value.key])):e.modelValue.reduce((o,s)=>{const u=n.value[s];return u&&o.push(u),o},[]));return{sourceData:r,targetData:a}},fve=(e,t,n)=>{const r=$0(e),a=(u,d,f)=>{n(Vn,u),n(Qr,u,d,f)};return{addToLeft:()=>{const u=e.modelValue.slice();t.rightChecked.forEach(d=>{const f=u.indexOf(d);f>-1&&u.splice(f,1)}),a(u,"left",t.rightChecked)},addToRight:()=>{let u=e.modelValue.slice();const d=e.data.filter(f=>{const h=f[r.value.key];return t.leftChecked.includes(h)&&!e.modelValue.includes(h)}).map(f=>f[r.value.key]);u=e.targetOrder==="unshift"?d.concat(u):u.concat(d),e.targetOrder==="original"&&(u=e.data.filter(f=>u.includes(f[r.value.key])).map(f=>f[r.value.key])),a(u,"right",t.leftChecked)}}},hve=(e,t)=>({onSourceCheckedChange:(a,o)=>{e.leftChecked=a,o&&t(uB,a,o)},onTargetCheckedChange:(a,o)=>{e.rightChecked=a,o&&t(cB,a,o)}}),pve=we({name:"ElTransfer"}),mve=we({...pve,props:Tp,emits:ave,setup(e,{expose:t,emit:n}){const r=e,a=ya(),{t:o}=xr(),s=xt("transfer"),{formItem:u}=lo(),d=Ir({leftChecked:[],rightChecked:[]}),f=$0(r),{sourceData:h,targetData:v}=dve(r),{onSourceCheckedChange:y,onTargetCheckedChange:b}=hve(d,n),{addToLeft:w,addToRight:g}=fve(r,d,n),x=re(),M=re(),R=D=>{switch(D){case"left":x.value.query="";break;case"right":M.value.query="";break}},A=U(()=>r.buttonTexts.length===2),T=U(()=>r.titles[0]||o("el.transfer.titles.0")),P=U(()=>r.titles[1]||o("el.transfer.titles.1")),I=U(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));bt(()=>r.modelValue,()=>{var D;r.validateEvent&&((D=u==null?void 0:u.validate)==null||D.call(u,"change").catch(N=>void 0))});const E=U(()=>D=>{var N;if(r.renderContent)return r.renderContent(mn,D);const B=(((N=a.default)==null?void 0:N.call(a,{option:D}))||[]).filter(G=>G.type!==La);return B.length?B:mn("span",D[f.value.label]||D[f.value.key])});return t({clearQuery:R,leftPanel:x,rightPanel:M}),(D,N)=>(W(),ue("div",{class:J(m(s).b())},[ce(HR,{ref_key:"leftPanel",ref:x,data:m(h),"option-render":m(E),placeholder:m(I),title:m(T),filterable:D.filterable,format:D.format,"filter-method":D.filterMethod,"default-checked":D.leftDefaultChecked,props:r.props,onCheckedChange:m(y)},{empty:be(()=>[Ue(D.$slots,"left-empty")]),default:be(()=>[Ue(D.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),fe("div",{class:J(m(s).e("buttons"))},[ce(m(Ra),{type:"primary",class:J([m(s).e("button"),m(s).is("with-texts",m(A))]),disabled:m(As)(d.rightChecked),onClick:m(w)},{default:be(()=>[ce(m(tn),null,{default:be(()=>[ce(m(mc))]),_:1}),m(Or)(D.buttonTexts[0])?Ye("v-if",!0):(W(),ue("span",{key:0},Pt(D.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ce(m(Ra),{type:"primary",class:J([m(s).e("button"),m(s).is("with-texts",m(A))]),disabled:m(As)(d.leftChecked),onClick:m(g)},{default:be(()=>[m(Or)(D.buttonTexts[1])?Ye("v-if",!0):(W(),ue("span",{key:0},Pt(D.buttonTexts[1]),1)),ce(m(tn),null,{default:be(()=>[ce(m(Eo))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ce(HR,{ref_key:"rightPanel",ref:M,data:m(v),"option-render":m(E),placeholder:m(I),filterable:D.filterable,format:D.format,"filter-method":D.filterMethod,title:m(P),"default-checked":D.rightDefaultChecked,props:r.props,onCheckedChange:m(b)},{empty:be(()=>[Ue(D.$slots,"right-empty")]),default:be(()=>[Ue(D.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var vve=Ft(mve,[["__file","transfer.vue"]]);const gve=On(vve),Wp="$treeNodeId",$R=function(e,t){!t||t[Wp]||Object.defineProperty(t,Wp,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},A2=function(e,t){return e?t[e]:t[Wp]},eE=(e,t,n)=>{const r=e.value.currentNode;n();const a=e.value.currentNode;r!==a&&t("current-change",a?a.data:null,a)},tE=e=>{let t=!0,n=!0,r=!0;for(let a=0,o=e.length;a<o;a++){const s=e[a];(s.checked!==!0||s.indeterminate)&&(t=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},vg=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=tE(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||vg(a)},tb=function(e,t){const n=e.store.props,r=e.data||{},a=n[t];if(on(a))return a(r,e);if(nn(a))return r[a];if(Or(a)){const o=r[t];return o===void 0?"":o}};let yve=0,nE=class r_{constructor(t){this.id=yve++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)kr(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const o=tb(this,"isLeaf");ri(o)&&(this.isLeafByUser=o)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Rt(this.data)||$R(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,a=t.key;a&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Rt(t)||$R(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Rt(this.data)?n=this.data:n=tb(this,"children")||[];for(let r=0,a=n.length;r<a;r++)this.insertChild({data:n[r]})}get label(){return tb(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return tb(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof r_)){if(!r){const a=this.getChildren(!0);a.includes(t.data)||(Or(n)||n<0?a.push(t.data):a.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ir(new r_(t)),t instanceof r_&&t.initialize()}t.level=this.level+1,Or(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Rt(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||vg(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:u}=tE(this.childNodes);!this.isLeaf&&!s&&u&&(this.checked=!1,t=!1);const d=()=>{if(n){const f=this.childNodes;for(let y=0,b=f.length;y<b;y++){const w=f[y];a=a||t!==!1;const g=w.disabled?w.checked:a;w.setChecked(g,n,!0,a)}const{half:h,all:v}=tE(f);v||(this.checked=v,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{d(),vg(this)},{checked:t!==!1});return}else d()}const o=this.parent;!o||o.level===0||r||vg(o)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let a="children";return r&&(a=r.children||"children"),n[a]===void 0&&(n[a]=null),t&&!n[a]&&(n[a]=[]),n[a]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},a=[];t.forEach((o,s)=>{const u=o[Wp];!!u&&n.findIndex(f=>f[Wp]===u)>=0?r[u]={index:s,data:o}:a.push({index:s,data:o})}),this.store.lazy||n.forEach(o=>{r[o[Wp]]||this.removeChildByData(o)}),a.forEach(({index:o,data:s})=>{this.insertChild({data:s},o)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)},a=()=>{this.loading=!1};this.store.load(this,r,a)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||vg(this)}};class bve{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)kr(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new nE({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,a=function(o){const s=o.root?o.root.childNodes:o.childNodes;if(s.forEach(u=>{u.visible=n.call(u,t,u.data,u),a(u)}),!o.visible&&s.length){let u=!0;u=!s.some(d=>d.visible),o.root?o.root.visible=u===!1:o.visible=u===!1}t&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};a(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof nE)return t;const n=jn(t)?A2(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=Dl(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const a=n[r];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],a=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(u=>{(u.checked||n&&u.indeterminate)&&(!t||t&&u.isLeaf)&&r.push(u.data),a(u)})};return a(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&t.push(o.data),n(o)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)kr(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const a=r.childNodes;for(let o=a.length-1;o>=0;o--){const s=a[o];this.remove(s.data)}for(let o=0,s=n.length;o<s;o++){const u=n[o];this.append(u,r.data)}}_setCheckedKeys(t,n=!1,r){const a=this._getAllNodes().sort((d,f)=>d.level-f.level),o=Object.create(null),s=Object.keys(r);a.forEach(d=>d.setChecked(!1,!1));const u=d=>{d.childNodes.forEach(f=>{var h;o[f.data[t]]=!0,(h=f.childNodes)!=null&&h.length&&u(f)})};for(let d=0,f=a.length;d<f;d++){const h=a[d],v=h.data[t].toString();if(!s.includes(v)){h.checked&&!o[v]&&h.setChecked(!1,!1);continue}if(h.childNodes.length&&u(h),h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),n){h.setChecked(!1,!1);const b=function(w){w.childNodes.forEach(x=>{x.isLeaf||x.setChecked(!1,!1),b(x)})};b(h)}}}setCheckedNodes(t,n=!1){const r=this.key,a={};t.forEach(o=>{a[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,a)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,a={};t.forEach(o=>{a[o]=!0}),this._setCheckedKeys(r,n,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const a=this.getNode(t);a&&a.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],a=this.nodesMap[r];this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _ve=we({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=xt("tree"),n=qt("NodeInstance"),r=qt("RootTree");return()=>{const a=e.node,{data:o,store:s}=a;return e.renderContent?e.renderContent(mn,{_self:n,node:a,data:o,store:s}):Ue(r.ctx.slots,"default",{node:a,data:o},()=>[mn("span",{class:t.be("node","label")},[a.label])])}}});var wve=Ft(_ve,[["__file","tree-node-content.vue"]]);function dB(e){const t=qt("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),or("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const a of n.children)a.treeNodeExpand(r)}}}const fB=Symbol("dragEvents");function xve({props:e,ctx:t,el$:n,dropIndicator$:r,store:a}){const o=xt("tree"),s=re({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return or(fB,{treeNodeDragStart:({event:h,treeNode:v})=>{if(on(e.allowDrag)&&!e.allowDrag(v.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch(y){}s.value.draggingNode=v,t.emit("node-drag-start",v.node,h)},treeNodeDragOver:({event:h,treeNode:v})=>{const y=v,b=s.value.dropNode;b&&b.node.id!==y.node.id&&Co(b.$el,o.is("drop-inner"));const w=s.value.draggingNode;if(!w||!y)return;let g=!0,x=!0,M=!0,R=!0;on(e.allowDrop)&&(g=e.allowDrop(w.node,y.node,"prev"),R=x=e.allowDrop(w.node,y.node,"inner"),M=e.allowDrop(w.node,y.node,"next")),h.dataTransfer.dropEffect=x||g||M?"move":"none",(g||x||M)&&(b==null?void 0:b.node.id)!==y.node.id&&(b&&t.emit("node-drag-leave",w.node,b.node,h),t.emit("node-drag-enter",w.node,y.node,h)),g||x||M?s.value.dropNode=y:s.value.dropNode=null,y.node.nextSibling===w.node&&(M=!1),y.node.previousSibling===w.node&&(g=!1),y.node.contains(w.node,!1)&&(x=!1),(w.node===y.node||w.node.contains(y.node))&&(g=!1,x=!1,M=!1);const A=y.$el.querySelector(".".concat(o.be("node","content"))).getBoundingClientRect(),T=n.value.getBoundingClientRect();let P;const I=g?x?.25:M?.45:1:-1,E=M?x?.75:g?.55:0:1;let D=-9999;const N=h.clientY-A.top;N<A.height*I?P="before":N>A.height*E?P="after":x?P="inner":P="none";const B=y.$el.querySelector(".".concat(o.be("node","expand-icon"))).getBoundingClientRect(),G=r.value;P==="before"?D=B.top-T.top:P==="after"&&(D=B.bottom-T.top),G.style.top="".concat(D,"px"),G.style.left="".concat(B.right-T.left,"px"),P==="inner"?el(y.$el,o.is("drop-inner")):Co(y.$el,o.is("drop-inner")),s.value.showDropIndicator=P==="before"||P==="after",s.value.allowDrop=s.value.showDropIndicator||R,s.value.dropType=P,t.emit("node-drag-over",w.node,y.node,h)},treeNodeDragEnd:h=>{const{draggingNode:v,dropType:y,dropNode:b}=s.value;if(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),v&&b){const w={data:v.node.data};y!=="none"&&v.node.remove(),y==="before"?b.node.parent.insertBefore(w,b.node):y==="after"?b.node.parent.insertAfter(w,b.node):y==="inner"&&b.node.insertChild(w),y!=="none"&&(a.value.registerNode(w),a.value.key&&v.node.eachNode(g=>{var x;(x=a.value.nodesMap[g.data[a.value.key]])==null||x.setChecked(g.checked,!a.value.checkStrictly)})),Co(b.$el,o.is("drop-inner")),t.emit("node-drag-end",v.node,b.node,y,h),y!=="none"&&t.emit("node-drop",v.node,b.node,y,h)}v&&!b&&t.emit("node-drag-end",v.node,null,y,h),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const Sve=we({name:"ElTreeNode",components:{ElCollapseTransition:Pw,ElCheckbox:sl,NodeContent:wve,ElIcon:tn,Loading:Ru},props:{node:{type:nE,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=xt("tree"),{broadcastExpanded:r}=dB(e),a=qt("RootTree"),o=re(!1),s=re(!1),u=re(null),d=re(null),f=re(null),h=qt(fB),v=Jn();or("NodeInstance",v),e.node.expanded&&(o.value=!0,s.value=!0);const y=a.props.props.children||"children";bt(()=>{const N=e.node.data[y];return N&&[...N]},()=>{e.node.updateChildren()}),bt(()=>e.node.indeterminate,N=>{g(e.node.checked,N)}),bt(()=>e.node.checked,N=>{g(N,e.node.indeterminate)}),bt(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),bt(()=>e.node.expanded,N=>{cn(()=>o.value=N),N&&(s.value=!0)});const b=N=>A2(a.props.nodeKey,N.data),w=N=>{const B=e.props.class;if(!B)return{};let G;if(on(B)){const{data:$}=N;G=B($,N)}else G=B;return nn(G)?{[G]:!0}:G},g=(N,B)=>{(u.value!==N||d.value!==B)&&a.ctx.emit("check-change",e.node.data,N,B),u.value=N,d.value=B},x=N=>{eE(a.store,a.ctx.emit,()=>{var B;if((B=a==null?void 0:a.props)==null?void 0:B.nodeKey){const $=b(e.node);a.store.value.setCurrentNodeKey($)}else a.store.value.setCurrentNode(e.node)}),a.currentNode.value=e.node,a.props.expandOnClickNode&&R(),a.props.checkOnClickNode&&!e.node.disabled&&A(!e.node.checked),a.ctx.emit("node-click",e.node.data,e.node,v,N)},M=N=>{a.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),a.ctx.emit("node-contextmenu",N,e.node.data,e.node,v)},R=()=>{e.node.isLeaf||(o.value?(a.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,v)}))},A=N=>{e.node.setChecked(N,!(a!=null&&a.props.checkStrictly)),cn(()=>{const B=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:B.getCheckedNodes(),checkedKeys:B.getCheckedKeys(),halfCheckedNodes:B.getHalfCheckedNodes(),halfCheckedKeys:B.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:a,expanded:o,childNodeRendered:s,oldChecked:u,oldIndeterminate:d,getNodeKey:b,getNodeClass:w,handleSelectChange:g,handleClick:x,handleContextMenu:M,handleExpandIconClick:R,handleCheckChange:A,handleChildNodeExpand:(N,B,G)=>{r(B),a.ctx.emit("node-expand",N,B,G)},handleDragStart:N=>{a.props.draggable&&h.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),a.props.draggable&&h.treeNodeDragOver({event:N,treeNode:{$el:f.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{a.props.draggable&&h.treeNodeDragEnd(N)},CaretRight:xO}}});function Mve(e,t,n,r,a,o){const s=Zt("el-icon"),u=Zt("el-checkbox"),d=Zt("loading"),f=Zt("node-content"),h=Zt("el-tree-node"),v=Zt("el-collapse-transition");return kn((W(),ue("div",{ref:"node$",class:J([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Sn(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:Sn(e.handleDragStart,["stop"]),onDragover:Sn(e.handleDragOver,["stop"]),onDragend:Sn(e.handleDragEnd,["stop"]),onDrop:Sn(e.handleDrop,["stop"])},[fe("div",{class:J(e.ns.be("node","content")),style:un({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(W(),tt(s,{key:0,class:J([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Sn(e.handleExpandIconClick,["stop"])},{default:be(()=>[(W(),tt(tr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.showCheckbox?(W(),tt(u,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Sn(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Ye("v-if",!0),e.node.loading?(W(),tt(s,{key:2,class:J([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:be(()=>[ce(d)]),_:1},8,["class"])):Ye("v-if",!0),ce(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ce(v,null,{default:be(()=>[!e.renderAfterExpand||e.childNodeRendered?kn((W(),ue("div",{key:0,class:J(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(W(!0),ue(rn,null,ar(e.node.childNodes,y=>(W(),tt(h,{key:e.getNodeKey(y),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:y,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[_r,e.expanded]]):Ye("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[_r,e.node.visible]])}var Eve=Ft(Sve,[["render",Mve],["__file","tree-node.vue"]]);function Cve({el$:e},t){const n=xt("tree"),r=hi([]),a=hi([]);Bn(()=>{s()}),Hl(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),bt(a,u=>{u.forEach(d=>{d.setAttribute("tabindex","-1")})}),Kr(e,"keydown",u=>{const d=u.target;if(!d.className.includes(n.b("node")))return;const f=u.code;r.value=Array.from(e.value.querySelectorAll(".".concat(n.is("focusable"),"[role=treeitem]")));const h=r.value.indexOf(d);let v;if([jt.up,jt.down].includes(f)){if(u.preventDefault(),f===jt.up){v=h===-1?0:h!==0?h-1:r.value.length-1;const b=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v--,v===b){v=-1;break}v<0&&(v=r.value.length-1)}}else{v=h===-1?0:h<r.value.length-1?h+1:0;const b=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v++,v===b){v=-1;break}v>=r.value.length&&(v=0)}}v!==-1&&r.value[v].focus()}[jt.left,jt.right].includes(f)&&(u.preventDefault(),d.click());const y=d.querySelector('[type="checkbox"]');[jt.enter,jt.numpadEnter,jt.space].includes(f)&&y&&(u.preventDefault(),y.click())});const s=()=>{var u;r.value=Array.from(e.value.querySelectorAll(".".concat(n.is("focusable"),"[role=treeitem]"))),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const d=e.value.querySelectorAll(".".concat(n.is("checked"),"[role=treeitem]"));if(d.length){d[0].setAttribute("tabindex","0");return}(u=r.value[0])==null||u.setAttribute("tabindex","0")}}const Tve=we({name:"ElTree",components:{ElTreeNode:Eve},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ei}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=xr(),r=xt("tree"),a=qt(km,null),o=re(new bve({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=re(o.value.root),u=re(null),d=re(null),f=re(null),{broadcastExpanded:h}=dB(e),{dragState:v}=xve({props:e,ctx:t,el$:d,dropIndicator$:f,store:o});Cve({el$:d},o);const y=U(()=>{const{childNodes:Z}=s.value,j=a?a.hasFilteredOptions!==0:!1;return(!Z||Z.length===0||Z.every(({visible:ie})=>!ie))&&!j});bt(()=>e.currentNodeKey,Z=>{o.value.setCurrentNodeKey(Z)}),bt(()=>e.defaultCheckedKeys,Z=>{o.value.setDefaultCheckedKey(Z)}),bt(()=>e.defaultExpandedKeys,Z=>{o.value.setDefaultExpandedKeys(Z)}),bt(()=>e.data,Z=>{o.value.setData(Z)},{deep:!0}),bt(()=>e.checkStrictly,Z=>{o.value.checkStrictly=Z});const b=Z=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(Z)},w=Z=>A2(e.nodeKey,Z.data),g=Z=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const j=o.value.getNode(Z);if(!j)return[];const ie=[j.data];let pe=j.parent;for(;pe&&pe!==s.value;)ie.push(pe.data),pe=pe.parent;return ie.reverse()},x=(Z,j)=>o.value.getCheckedNodes(Z,j),M=Z=>o.value.getCheckedKeys(Z),R=()=>{const Z=o.value.getCurrentNode();return Z?Z.data:null},A=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const Z=R();return Z?Z[e.nodeKey]:null},T=(Z,j)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(Z,j)},P=(Z,j)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(Z,j)},I=(Z,j,ie)=>{o.value.setChecked(Z,j,ie)},E=()=>o.value.getHalfCheckedNodes(),D=()=>o.value.getHalfCheckedKeys(),N=(Z,j=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");eE(o,t.emit,()=>{h(Z),o.value.setUserCurrentNode(Z,j)})},B=(Z,j=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");eE(o,t.emit,()=>{h(),o.value.setCurrentNodeKey(Z,j)})},G=Z=>o.value.getNode(Z),$=Z=>{o.value.remove(Z)},Q=(Z,j)=>{o.value.append(Z,j)},ae=(Z,j)=>{o.value.insertBefore(Z,j)},ee=(Z,j)=>{o.value.insertAfter(Z,j)},K=(Z,j,ie)=>{h(j),t.emit("node-expand",Z,j,ie)},X=(Z,j)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(Z,j)};return or("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:u,instance:Jn()}),or(ku,void 0),{ns:r,store:o,root:s,currentNode:u,dragState:v,el$:d,dropIndicator$:f,isEmpty:y,filter:b,getNodeKey:w,getNodePath:g,getCheckedNodes:x,getCheckedKeys:M,getCurrentNode:R,getCurrentKey:A,setCheckedNodes:T,setCheckedKeys:P,setChecked:I,getHalfCheckedNodes:E,getHalfCheckedKeys:D,setCurrentNode:N,setCurrentKey:B,t:n,getNode:G,remove:$,append:Q,insertBefore:ae,insertAfter:ee,handleNodeExpand:K,updateKeyChildren:X}}});function Ave(e,t,n,r,a,o){const s=Zt("el-tree-node");return W(),ue("div",{ref:"el$",class:J([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(W(!0),ue(rn,null,ar(e.root.childNodes,u=>(W(),tt(s,{key:e.getNodeKey(u),node:u,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(W(),ue("div",{key:0,class:J(e.ns.e("empty-block"))},[Ue(e.$slots,"empty",{},()=>{var u;return[fe("span",{class:J(e.ns.e("empty-text"))},Pt((u=e.emptyText)!=null?u:e.t("el.tree.emptyText")),3)]})],2)):Ye("v-if",!0),kn(fe("div",{ref:"dropIndicator$",class:J(e.ns.e("drop-indicator"))},null,2),[[_r,e.dragState.showDropIndicator]])],2)}var Lve=Ft(Tve,[["render",Ave],["__file","tree.vue"]]);const W_=On(Lve),Rve=(e,{attrs:t,emit:n},{select:r,tree:a,key:o})=>{const s=xt("tree-select");return bt(()=>e.data,()=>{e.filterable&&cn(()=>{var d,f;(f=a.value)==null||f.filter((d=r.value)==null?void 0:d.states.inputValue)})},{flush:"post"}),{...Pl(ka(e),Object.keys(Yf.props)),...t,"onUpdate:modelValue":d=>n(Vn,d),valueKey:o,popperClass:U(()=>{const d=[s.e("popper")];return e.popperClass&&d.push(e.popperClass),d.join(" ")}),filterMethod:(d="")=>{var f;e.filterMethod?e.filterMethod(d):e.remoteMethod?e.remoteMethod(d):(f=a.value)==null||f.filter(d)}}},Pve=we({extends:I_,setup(e,t){const n=I_.setup(e,t);delete n.selectOptionClick;const r=Jn().proxy;return cn(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),bt(()=>t.attrs.visible,a=>{n.states.visible=a},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function rE(e){return e||e===0}function L2(e){return Rt(e)&&e.length}function ip(e){return Rt(e)?e:rE(e)?[e]:[]}function i_(e,t,n,r,a){for(let o=0;o<e.length;o++){const s=e[o];if(t(s,o,e,a))return r?r(s,o,e,a):s;{const u=n(s);if(L2(u)){const d=i_(u,t,n,r,s);if(d)return d}}}}function a_(e,t,n,r){for(let a=0;a<e.length;a++){const o=e[a];t(o,a,e,r);const s=n(o);L2(s)&&a_(s,t,n,o)}}const kve=(e,{attrs:t,slots:n,emit:r},{select:a,tree:o,key:s})=>{bt(()=>e.modelValue,()=>{e.showCheckbox&&cn(()=>{const y=o.value;y&&!no(y.getCheckedKeys(),ip(e.modelValue))&&y.setCheckedKeys(ip(e.modelValue))})},{immediate:!0,deep:!0});const u=U(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),d=(y,b)=>{var w;const g=u.value[y];return on(g)?g(b,(w=o.value)==null?void 0:w.getNode(d("value",b))):b[g]},f=ip(e.modelValue).map(y=>i_(e.data||[],b=>d("value",b)===y,b=>d("children",b),(b,w,g,x)=>x&&d("value",x))).filter(y=>rE(y)),h=U(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const y=[];return a_(e.data.concat(e.cacheData),b=>{const w=d("value",b);y.push({value:w,currentLabel:d("label",b),isDisabled:d("disabled",b)})},b=>d("children",b)),y}),v=()=>{var y;return(y=o.value)==null?void 0:y.getCheckedKeys().filter(b=>{var w;const g=(w=o.value)==null?void 0:w.getNode(b);return!Sa(g)&&As(g.childNodes)})};return{...Pl(ka(e),Object.keys(W_.props)),...t,nodeKey:s,expandOnClickNode:U(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:U(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(f):f),renderContent:(y,{node:b,data:w,store:g})=>y(Pve,{value:d("value",w),label:d("label",w),disabled:d("disabled",w),visible:b.visible},e.renderContent?()=>e.renderContent(y,{node:b,data:w,store:g}):n.default?()=>n.default({node:b,data:w,store:g}):void 0),filterNodeMethod:(y,b,w)=>e.filterNodeMethod?e.filterNodeMethod(y,b,w):y?new RegExp(FC(y),"i").test(d("label",b)||""):!0,onNodeClick:(y,b,w)=>{var g,x,M,R;if((g=t.onNodeClick)==null||g.call(t,y,b,w),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||b.isLeaf)){if(!d("disabled",y)){const A=(x=a.value)==null?void 0:x.states.options.get(d("value",y));(M=a.value)==null||M.handleOptionSelect(A)}}else e.expandOnClickNode&&w.proxy.handleExpandIconClick();(R=a.value)==null||R.focus()}},onCheck:(y,b)=>{var w;if(!e.showCheckbox)return;const g=d("value",y),x={};a_([o.value.store.root],T=>x[T.key]=T,T=>T.childNodes);const M=b.checkedKeys,R=e.multiple?ip(e.modelValue).filter(T=>!(T in x)&&!M.includes(T)):[],A=R.concat(M);if(e.checkStrictly)r(Vn,e.multiple?A:A.includes(g)?g:void 0);else if(e.multiple){const T=v();r(Vn,R.concat(T))}else{const T=i_([y],E=>!L2(d("children",E))&&!d("disabled",E),E=>d("children",E)),P=T?d("value",T):void 0,I=rE(e.modelValue)&&!!i_([y],E=>d("value",E)===e.modelValue,E=>d("children",E));r(Vn,P===e.modelValue||I?void 0:P)}cn(()=>{var T;const P=ip(e.modelValue);o.value.setCheckedKeys(P),(T=t.onCheck)==null||T.call(t,y,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(w=a.value)==null||w.focus()},onNodeExpand:(y,b,w)=>{var g;(g=t.onNodeExpand)==null||g.call(t,y,b,w),cn(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&b.checked){const x={},M=o.value.getCheckedKeys();a_([o.value.store.root],T=>x[T.key]=T,T=>T.childNodes);const R=ip(e.modelValue).filter(T=>!(T in x)&&!M.includes(T)),A=v();r(Vn,R.concat(A))}})},cacheOptions:h}};var Ive=we({props:{data:{type:Array,default:()=>[]}},setup(e){const t=qt(km);return bt(()=>e.data,()=>{var n;e.data.forEach(a=>{t.states.cachedOptions.has(a.value)||t.states.cachedOptions.set(a.value,a)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];wr&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Ove=we({name:"ElTreeSelect",inheritAttrs:!1,props:{...Yf.props,...W_.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,a=re(),o=re(),s=U(()=>e.nodeKey||e.valueKey||"value"),u=Rve(e,t,{select:a,tree:o,key:s}),{cacheOptions:d,...f}=kve(e,t,{select:a,tree:o,key:s}),h=Ir({});return r(h),Bn(()=>{Object.assign(h,{...Pl(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Pl(a.value,["focus","blur","selectedLabel"])})}),()=>mn(Yf,Ir({...u,ref:v=>a.value=v}),{...n,default:()=>[mn(Ive,{data:d.value}),mn(W_,Ir({...f,ref:v=>o.value=v}))]})}});var Dve=Ft(Ove,[["__file","tree-select.vue"]]);const Nve=On(Dve),R2=Symbol(),Fve={key:-1,level:-1,data:{}};var gg=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(gg||{}),iE=(e=>(e.ADD="add",e.DELETE="delete",e))(iE||{});const hB={type:Number,default:26},Bve=kt({data:{type:ze(Array),default:()=>Pi([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ze(Object),default:()=>Pi({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ze(Array),default:()=>Pi([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ze(Array),default:()=>Pi([])},indent:{type:Number,default:16},itemSize:hB,icon:{type:ei},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ze([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ze(Function)},perfMode:{type:Boolean,default:!0}}),zve=kt({node:{type:ze(Object),default:()=>Pi(Fve)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:hB}),Vve=kt({node:{type:ze(Object),required:!0}}),pB="node-click",mB="node-drop",vB="node-expand",gB="node-collapse",yB="current-change",bB="check",_B="check-change",wB="node-contextmenu",Uve={[pB]:(e,t,n)=>e&&t&&n,[mB]:(e,t,n)=>e&&t&&n,[vB]:(e,t)=>e&&t,[gB]:(e,t)=>e&&t,[yB]:(e,t)=>e&&t,[bB]:(e,t)=>e&&t,[_B]:(e,t)=>e&&ri(t),[wB]:(e,t,n)=>e&&t&&n},Hve={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&ri(t)};function $ve(e,t){const n=re(new Set),r=re(new Set),{emit:a}=Jn();bt([()=>t.value,()=>e.defaultCheckedKeys],()=>cn(()=>{R(e.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:A,maxLevel:T}=t.value,P=n.value,I=new Set;for(let E=T-1;E>=1;--E){const D=A.get(E);D&&D.forEach(N=>{const B=N.children;if(B){let G=!0,$=!1;for(const Q of B){const ae=Q.key;if(P.has(ae))$=!0;else if(I.has(ae)){G=!1,$=!0;break}else G=!1}G?P.add(N.key):$?(I.add(N.key),P.delete(N.key)):(P.delete(N.key),I.delete(N.key))}})}r.value=I},s=A=>n.value.has(A.key),u=A=>r.value.has(A.key),d=(A,T,P=!0,I=!0)=>{const E=n.value,D=(N,B)=>{E[B?iE.ADD:iE.DELETE](N.key);const G=N.children;!e.checkStrictly&&G&&G.forEach($=>{$.disabled||D($,B)})};D(A,T),I&&o(),P&&f(A,T)},f=(A,T)=>{const{checkedNodes:P,checkedKeys:I}=w(),{halfCheckedNodes:E,halfCheckedKeys:D}=g();a(bB,A.data,{checkedKeys:I,checkedNodes:P,halfCheckedKeys:D,halfCheckedNodes:E}),a(_B,A.data,T)};function h(A=!1){return w(A).checkedKeys}function v(A=!1){return w(A).checkedNodes}function y(){return g().halfCheckedKeys}function b(){return g().halfCheckedNodes}function w(A=!1){const T=[],P=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:I}=t.value;n.value.forEach(E=>{const D=I.get(E);D&&(!A||A&&D.isLeaf)&&(P.push(E),T.push(D.data))})}return{checkedKeys:P,checkedNodes:T}}function g(){const A=[],T=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:P}=t.value;r.value.forEach(I=>{const E=P.get(I);E&&(T.push(I),A.push(E.data))})}return{halfCheckedNodes:A,halfCheckedKeys:T}}function x(A){n.value.clear(),r.value.clear(),cn(()=>{R(A)})}function M(A,T){if(t!=null&&t.value&&e.showCheckbox){const P=t.value.treeNodeMap.get(A);P&&d(P,T,!1)}}function R(A){if(t!=null&&t.value){const{treeNodeMap:T}=t.value;if(e.showCheckbox&&T&&(A==null?void 0:A.length)>0){for(const P of A){const I=T.get(P);I&&!s(I)&&d(I,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:d,isChecked:s,isIndeterminate:u,getCheckedKeys:h,getCheckedNodes:v,getHalfCheckedKeys:y,getHalfCheckedNodes:b,setChecked:M,setCheckedKeys:x}}function Gve(e,t){const n=re(new Set([])),r=re(new Set([])),a=U(()=>on(e.filterMethod));function o(u){var d;if(!a.value)return;const f=new Set,h=r.value,v=n.value,y=[],b=((d=t.value)==null?void 0:d.treeNodes)||[],w=e.filterMethod;v.clear();function g(x){x.forEach(M=>{y.push(M),w!=null&&w(u,M.data,M)?y.forEach(A=>{f.add(A.key)}):M.isLeaf&&v.add(M.key);const R=M.children;if(R&&g(R),!M.isLeaf){if(!f.has(M.key))v.add(M.key);else if(R){let A=!0;for(const T of R)if(!v.has(T.key)){A=!1;break}A?h.add(M.key):h.delete(M.key)}}y.pop()})}return g(b),f}function s(u){return r.value.has(u.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:s}}function Wve(e,t){const n=re(new Set(e.defaultExpandedKeys)),r=re(),a=hi(),o=re();bt(()=>e.currentNodeKey,se=>{r.value=se},{immediate:!0}),bt(()=>e.data,se=>{ke(se)},{immediate:!0});const{isIndeterminate:s,isChecked:u,toggleCheckbox:d,getCheckedKeys:f,getCheckedNodes:h,getHalfCheckedKeys:v,getHalfCheckedNodes:y,setChecked:b,setCheckedKeys:w}=$ve(e,a),{doFilter:g,hiddenNodeKeySet:x,isForceHiddenExpandIcon:M}=Gve(e,a),R=U(()=>{var se;return((se=e.props)==null?void 0:se.value)||gg.KEY}),A=U(()=>{var se;return((se=e.props)==null?void 0:se.children)||gg.CHILDREN}),T=U(()=>{var se;return((se=e.props)==null?void 0:se.disabled)||gg.DISABLED}),P=U(()=>{var se;return((se=e.props)==null?void 0:se.label)||gg.LABEL}),I=U(()=>{var se;const ye=n.value,He=x.value,dt=[],pt=((se=a.value)==null?void 0:se.treeNodes)||[],nt=[];for(let ot=pt.length-1;ot>=0;--ot)nt.push(pt[ot]);for(;nt.length;){const ot=nt.pop();if(!He.has(ot.key)&&(dt.push(ot),ot.children&&ye.has(ot.key)))for(let rt=ot.children.length-1;rt>=0;--rt)nt.push(ot.children[rt])}return dt}),E=U(()=>I.value.length>0);function D(se){const ye=new Map,He=new Map;let dt=1;function pt(ot,rt=1,At=void 0){var Mt;const Me=[];for(const ve of ot){const Fe=G(ve),qe={level:rt,key:Fe,data:ve};qe.label=Q(ve),qe.parent=At;const Et=B(ve);qe.disabled=$(ve),qe.isLeaf=!Et||Et.length===0,Et&&Et.length&&(qe.children=pt(Et,rt+1,qe)),Me.push(qe),ye.set(Fe,qe),He.has(rt)||He.set(rt,[]),(Mt=He.get(rt))==null||Mt.push(qe)}return rt>dt&&(dt=rt),Me}const nt=pt(se);return{treeNodeMap:ye,levelTreeNodeMap:He,maxLevel:dt,treeNodes:nt}}function N(se){const ye=g(se);ye&&(n.value=ye)}function B(se){return se[A.value]}function G(se){return se?se[R.value]:""}function $(se){return se[T.value]}function Q(se){return se[P.value]}function ae(se){n.value.has(se.key)?pe(se):ie(se)}function ee(se){const ye=new Set,He=a.value.treeNodeMap;se.forEach(dt=>{let pt=He.get(dt);for(;pt&&!ye.has(pt.key);)ye.add(pt.key),pt=pt.parent}),n.value=ye}function K(se,ye){t(pB,se.data,se,ye),Z(se),e.expandOnClickNode&&ae(se),e.showCheckbox&&e.checkOnClickNode&&!se.disabled&&d(se,!u(se),!0)}function X(se,ye){t(mB,se.data,se,ye)}function Z(se){Re(se)||(r.value=se.key,t(yB,se.data,se))}function j(se,ye){d(se,ye)}function ie(se){const ye=n.value;if(a.value&&e.accordion){const{treeNodeMap:He}=a.value;ye.forEach(dt=>{const pt=He.get(dt);se&&se.level===(pt==null?void 0:pt.level)&&ye.delete(dt)})}ye.add(se.key),t(vB,se.data,se)}function pe(se){n.value.delete(se.key),t(gB,se.data,se)}function he(se){return n.value.has(se.key)}function le(se){return!!se.disabled}function Re(se){const ye=r.value;return ye!==void 0&&ye===se.key}function De(){var se,ye;if(r.value)return(ye=(se=a.value)==null?void 0:se.treeNodeMap.get(r.value))==null?void 0:ye.data}function Te(){return r.value}function ge(se){r.value=se}function ke(se){cn(()=>a.value=D(se))}function Pe(se){var ye;const He=jn(se)?G(se):se;return(ye=a.value)==null?void 0:ye.treeNodeMap.get(He)}function Xe(se,ye="auto"){const He=Pe(se);He&&o.value&&o.value.scrollToItem(I.value.indexOf(He),ye)}function ct(se){var ye;(ye=o.value)==null||ye.scrollTo(se)}return{tree:a,flattenTree:I,isNotEmpty:E,listRef:o,getKey:G,getChildren:B,toggleExpand:ae,toggleCheckbox:d,isExpanded:he,isChecked:u,isIndeterminate:s,isDisabled:le,isCurrent:Re,isForceHiddenExpandIcon:M,handleNodeClick:K,handleNodeDrop:X,handleNodeCheck:j,getCurrentNode:De,getCurrentKey:Te,setCurrentKey:ge,getCheckedKeys:f,getCheckedNodes:h,getHalfCheckedKeys:v,getHalfCheckedNodes:y,setChecked:b,setCheckedKeys:w,filter:N,setData:ke,getNode:Pe,expandNode:ie,collapseNode:pe,setExpandedKeys:ee,scrollToNode:Xe,scrollTo:ct}}var jve=we({name:"ElTreeNodeContent",props:Vve,setup(e){const t=qt(R2),n=xt("tree");return()=>{const r=e.node,{data:a}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:a}):mn("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const qve=we({name:"ElTreeNode"}),Kve=we({...qve,props:zve,emits:Hve,setup(e,{emit:t}){const n=e,r=qt(R2),a=xt("tree"),o=U(()=>{var b;return(b=r==null?void 0:r.props.indent)!=null?b:16}),s=U(()=>{var b;return(b=r==null?void 0:r.props.icon)!=null?b:xO}),u=b=>{const w=r==null?void 0:r.props.props.class;if(!w)return{};let g;if(on(w)){const{data:x}=b;g=w(x,b)}else g=w;return nn(g)?{[g]:!0}:g},d=b=>{t("click",n.node,b)},f=b=>{t("drop",n.node,b)},h=()=>{t("toggle",n.node)},v=b=>{t("check",n.node,b)},y=b=>{var w,g,x,M;(x=(g=(w=r==null?void 0:r.instance)==null?void 0:w.vnode)==null?void 0:g.props)!=null&&x.onNodeContextmenu&&(b.stopPropagation(),b.preventDefault()),r==null||r.ctx.emit(wB,b,(M=n.node)==null?void 0:M.data,n.node)};return(b,w)=>{var g,x,M;return W(),ue("div",{ref:"node$",class:J([m(a).b("node"),m(a).is("expanded",b.expanded),m(a).is("current",b.current),m(a).is("focusable",!b.disabled),m(a).is("checked",!b.disabled&&b.checked),u(b.node)]),role:"treeitem",tabindex:"-1","aria-expanded":b.expanded,"aria-disabled":b.disabled,"aria-checked":b.checked,"data-key":(g=b.node)==null?void 0:g.key,onClick:Sn(d,["stop"]),onContextmenu:y,onDragover:Sn(()=>{},["prevent"]),onDragenter:Sn(()=>{},["prevent"]),onDrop:Sn(f,["stop"])},[fe("div",{class:J(m(a).be("node","content")),style:un({paddingLeft:"".concat((b.node.level-1)*m(o),"px"),height:b.itemSize+"px"})},[m(s)?(W(),tt(m(tn),{key:0,class:J([m(a).is("leaf",!!((x=b.node)!=null&&x.isLeaf)),m(a).is("hidden",b.hiddenExpandIcon),{expanded:!((M=b.node)!=null&&M.isLeaf)&&b.expanded},m(a).be("node","expand-icon")]),onClick:Sn(h,["stop"])},{default:be(()=>[(W(),tt(tr(m(s))))]),_:1},8,["class","onClick"])):Ye("v-if",!0),b.showCheckbox?(W(),tt(m(sl),{key:1,"model-value":b.checked,indeterminate:b.indeterminate,disabled:b.disabled,onChange:v,onClick:Sn(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Ye("v-if",!0),ce(m(jve),{node:b.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var Yve=Ft(Kve,[["__file","tree-node.vue"]]);const Xve=we({name:"ElTreeV2"}),Zve=we({...Xve,props:Bve,emits:Uve,setup(e,{expose:t,emit:n}){const r=e,a=ya(),o=U(()=>r.itemSize);or(R2,{ctx:{emit:n,slots:a},props:r,instance:Jn()}),or(ku,void 0);const{t:s}=xr(),u=xt("tree"),{flattenTree:d,isNotEmpty:f,listRef:h,toggleExpand:v,isExpanded:y,isIndeterminate:b,isChecked:w,isDisabled:g,isCurrent:x,isForceHiddenExpandIcon:M,handleNodeClick:R,handleNodeDrop:A,handleNodeCheck:T,toggleCheckbox:P,getCurrentNode:I,getCurrentKey:E,setCurrentKey:D,getCheckedKeys:N,getCheckedNodes:B,getHalfCheckedKeys:G,getHalfCheckedNodes:$,setChecked:Q,setCheckedKeys:ae,filter:ee,setData:K,getNode:X,expandNode:Z,collapseNode:j,setExpandedKeys:ie,scrollToNode:pe,scrollTo:he}=Wve(r,n);return t({toggleCheckbox:P,getCurrentNode:I,getCurrentKey:E,setCurrentKey:D,getCheckedKeys:N,getCheckedNodes:B,getHalfCheckedKeys:G,getHalfCheckedNodes:$,setChecked:Q,setCheckedKeys:ae,filter:ee,setData:K,getNode:X,expandNode:Z,collapseNode:j,setExpandedKeys:ie,scrollToNode:pe,scrollTo:he}),(le,Re)=>(W(),ue("div",{class:J([m(u).b(),{[m(u).m("highlight-current")]:le.highlightCurrent}]),role:"tree"},[m(f)?(W(),tt(m(iF),{key:0,ref_key:"listRef",ref:h,"class-name":m(u).b("virtual-list"),data:m(d),total:m(d).length,height:le.height,"item-size":m(o),"perf-mode":le.perfMode},{default:be(({data:De,index:Te,style:ge})=>[(W(),tt(Yve,{key:De[Te].key,style:un(ge),node:De[Te],expanded:m(y)(De[Te]),"show-checkbox":le.showCheckbox,checked:m(w)(De[Te]),indeterminate:m(b)(De[Te]),"item-size":m(o),disabled:m(g)(De[Te]),current:m(x)(De[Te]),"hidden-expand-icon":m(M)(De[Te]),onClick:m(R),onToggle:m(v),onCheck:m(T),onDrop:m(A)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(W(),ue("div",{key:1,class:J(m(u).e("empty-block"))},[Ue(le.$slots,"empty",{},()=>{var De;return[fe("span",{class:J(m(u).e("empty-text"))},Pt((De=le.emptyText)!=null?De:m(s)("el.tree.emptyText")),3)]})],2))],2))}});var Jve=Ft(Zve,[["__file","tree.vue"]]);const Qve=On(Jve),xB=Symbol("uploadContextKey"),ege="ElUpload";class tge extends Error{constructor(t,n,r,a){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=a}}function GR(e,t,n){let r;return n.response?r="".concat(n.response.error||n.response):n.responseText?r="".concat(n.responseText):r="fail to ".concat(t.method," ").concat(e," ").concat(n.status),new tge(r,n.status,t.method,e)}function nge(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}const rge=e=>{typeof XMLHttpRequest>"u"&&va(ege,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const s=o;s.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(s)});const r=new FormData;if(e.data)for(const[o,s]of Object.entries(e.data))Rt(s)&&s.length?r.append(o,...s):r.append(o,s);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(GR(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(GR(n,e,t));e.onSuccess(nge(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((o,s)=>t.setRequestHeader(s,o));else for(const[o,s]of Object.entries(a))Sa(s)||t.setRequestHeader(o,String(s));return t.send(r),t},SB=["text","picture","picture-card"];let ige=1;const aE=()=>Date.now()+ige++,MB=kt({action:{type:String,default:"#"},headers:{type:ze(Object)},method:{type:String,default:"post"},data:{type:ze([Object,Function,Promise]),default:()=>Pi({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ze(Array),default:()=>Pi([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:SB,default:"text"},httpRequest:{type:ze(Function),default:rge},disabled:Boolean,limit:Number}),age=kt({...MB,beforeUpload:{type:ze(Function),default:$r},beforeRemove:{type:ze(Function)},onRemove:{type:ze(Function),default:$r},onChange:{type:ze(Function),default:$r},onPreview:{type:ze(Function),default:$r},onSuccess:{type:ze(Function),default:$r},onProgress:{type:ze(Function),default:$r},onError:{type:ze(Function),default:$r},onExceed:{type:ze(Function),default:$r},crossorigin:{type:ze(String)}}),oge=kt({files:{type:ze(Array),default:()=>Pi([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ze(Function),default:$r},listType:{type:String,values:SB,default:"text"},crossorigin:{type:ze(String)}}),sge={remove:e=>!!e},lge=we({name:"ElUploadList"}),uge=we({...lge,props:oge,emits:sge,setup(e,{emit:t}){const n=e,{t:r}=xr(),a=xt("upload"),o=xt("icon"),s=xt("list"),u=uo(),d=re(!1),f=U(()=>[a.b("list"),a.bm("list",n.listType),a.is("disabled",n.disabled)]),h=v=>{t("remove",v)};return(v,y)=>(W(),tt(vO,{tag:"ul",class:J(m(f)),name:m(s).b()},{default:be(()=>[(W(!0),ue(rn,null,ar(v.files,(b,w)=>(W(),ue("li",{key:b.uid||b.name,class:J([m(a).be("list","item"),m(a).is(b.status),{focusing:d.value}]),tabindex:"0",onKeydown:Jr(g=>!m(u)&&h(b),["delete"]),onFocus:g=>d.value=!0,onBlur:g=>d.value=!1,onClick:g=>d.value=!1},[Ue(v.$slots,"default",{file:b,index:w},()=>[v.listType==="picture"||b.status!=="uploading"&&v.listType==="picture-card"?(W(),ue("img",{key:0,class:J(m(a).be("list","item-thumbnail")),src:b.url,crossorigin:v.crossorigin,alt:""},null,10,["src","crossorigin"])):Ye("v-if",!0),b.status==="uploading"||v.listType!=="picture-card"?(W(),ue("div",{key:1,class:J(m(a).be("list","item-info"))},[fe("a",{class:J(m(a).be("list","item-name")),onClick:Sn(g=>v.handlePreview(b),["prevent"])},[ce(m(tn),{class:J(m(o).m("document"))},{default:be(()=>[ce(m(MO))]),_:1},8,["class"]),fe("span",{class:J(m(a).be("list","item-file-name")),title:b.name},Pt(b.name),11,["title"])],10,["onClick"]),b.status==="uploading"?(W(),tt(m(K4),{key:0,type:v.listType==="picture-card"?"circle":"line","stroke-width":v.listType==="picture-card"?6:2,percentage:Number(b.percentage),style:un(v.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ye("v-if",!0)],2)):Ye("v-if",!0),fe("label",{class:J(m(a).be("list","item-status-label"))},[v.listType==="text"?(W(),tt(m(tn),{key:0,class:J([m(o).m("upload-success"),m(o).m("circle-check")])},{default:be(()=>[ce(m(KE))]),_:1},8,["class"])):["picture-card","picture"].includes(v.listType)?(W(),tt(m(tn),{key:1,class:J([m(o).m("upload-success"),m(o).m("check")])},{default:be(()=>[ce(m(T0))]),_:1},8,["class"])):Ye("v-if",!0)],2),m(u)?Ye("v-if",!0):(W(),tt(m(tn),{key:2,class:J(m(o).m("close")),onClick:g=>h(b)},{default:be(()=>[ce(m(Bl))]),_:2},1032,["class","onClick"])),Ye(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ye(" This is a bug which needs to be fixed "),Ye(" TODO: Fix the incorrect navigation interaction "),m(u)?Ye("v-if",!0):(W(),ue("i",{key:3,class:J(m(o).m("close-tip"))},Pt(m(r)("el.upload.deleteTip")),3)),v.listType==="picture-card"?(W(),ue("span",{key:4,class:J(m(a).be("list","item-actions"))},[fe("span",{class:J(m(a).be("list","item-preview")),onClick:g=>v.handlePreview(b)},[ce(m(tn),{class:J(m(o).m("zoom-in"))},{default:be(()=>[ce(m(LO))]),_:1},8,["class"])],10,["onClick"]),m(u)?Ye("v-if",!0):(W(),ue("span",{key:0,class:J(m(a).be("list","item-delete")),onClick:g=>h(b)},[ce(m(tn),{class:J(m(o).m("delete"))},{default:be(()=>[ce(m(R5))]),_:1},8,["class"])],10,["onClick"]))],2)):Ye("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Ue(v.$slots,"append")]),_:3},8,["class","name"]))}});var WR=Ft(uge,[["__file","upload-list.vue"]]);const cge=kt({disabled:{type:Boolean,default:!1}}),dge={file:e=>Rt(e)},EB="ElUploadDrag",fge=we({name:EB}),hge=we({...fge,props:cge,emits:dge,setup(e,{emit:t}){qt(xB)||va(EB,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=xt("upload"),a=re(!1),o=uo(),s=d=>{if(o.value)return;a.value=!1,d.stopPropagation();const f=Array.from(d.dataTransfer.files);t("file",f)},u=()=>{o.value||(a.value=!0)};return(d,f)=>(W(),ue("div",{class:J([m(r).b("dragger"),m(r).is("dragover",a.value)]),onDrop:Sn(s,["prevent"]),onDragover:Sn(u,["prevent"]),onDragleave:Sn(h=>a.value=!1,["prevent"])},[Ue(d.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var pge=Ft(hge,[["__file","upload-dragger.vue"]]);const mge=kt({...MB,beforeUpload:{type:ze(Function),default:$r},onRemove:{type:ze(Function),default:$r},onStart:{type:ze(Function),default:$r},onSuccess:{type:ze(Function),default:$r},onProgress:{type:ze(Function),default:$r},onError:{type:ze(Function),default:$r},onExceed:{type:ze(Function),default:$r}}),vge=we({name:"ElUploadContent",inheritAttrs:!1}),gge=we({...vge,props:mge,setup(e,{expose:t}){const n=e,r=xt("upload"),a=uo(),o=hi({}),s=hi(),u=g=>{if(g.length===0)return;const{autoUpload:x,limit:M,fileList:R,multiple:A,onStart:T,onExceed:P}=n;if(M&&R.length+g.length>M){P(g,R);return}A||(g=g.slice(0,1));for(const I of g){const E=I;E.uid=aE(),T(E),x&&d(E)}},d=async g=>{if(s.value.value="",!n.beforeUpload)return h(g);let x,M={};try{const A=n.data,T=n.beforeUpload(g);M=Ug(n.data)?C_(n.data):n.data,x=await T,Ug(n.data)&&no(A,M)&&(M=C_(n.data))}catch(A){x=!1}if(x===!1){n.onRemove(g);return}let R=g;x instanceof Blob&&(x instanceof File?R=x:R=new File([x],g.name,{type:g.type})),h(Object.assign(R,{uid:g.uid}),M)},f=async(g,x)=>on(g)?g(x):g,h=async(g,x)=>{const{headers:M,data:R,method:A,withCredentials:T,name:P,action:I,onProgress:E,onSuccess:D,onError:N,httpRequest:B}=n;try{x=await f(x!=null?x:R,g)}catch(ae){n.onRemove(g);return}const{uid:G}=g,$={headers:M||{},withCredentials:T,file:g,data:x,method:A,filename:P,action:I,onProgress:ae=>{E(ae,g)},onSuccess:ae=>{D(ae,g),delete o.value[G]},onError:ae=>{N(ae,g),delete o.value[G]}},Q=B($);o.value[G]=Q,Q instanceof Promise&&Q.then($.onSuccess,$.onError)},v=g=>{const x=g.target.files;x&&u(Array.from(x))},y=()=>{a.value||(s.value.value="",s.value.click())},b=()=>{y()};return t({abort:g=>{qD(o.value).filter(g?([M])=>String(g.uid)===M:()=>!0).forEach(([M,R])=>{R instanceof XMLHttpRequest&&R.abort(),delete o.value[M]})},upload:d}),(g,x)=>(W(),ue("div",{class:J([m(r).b(),m(r).m(g.listType),m(r).is("drag",g.drag),m(r).is("disabled",m(a))]),tabindex:m(a)?"-1":"0",onClick:y,onKeydown:Jr(Sn(b,["self"]),["enter","space"])},[g.drag?(W(),tt(pge,{key:0,disabled:m(a),onFile:u},{default:be(()=>[Ue(g.$slots,"default")]),_:3},8,["disabled"])):Ue(g.$slots,"default",{key:1}),fe("input",{ref_key:"inputRef",ref:s,class:J(m(r).e("input")),name:g.name,disabled:m(a),multiple:g.multiple,accept:g.accept,type:"file",onChange:v,onClick:Sn(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var jR=Ft(gge,[["__file","upload-content.vue"]]);const qR="ElUpload",KR=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},yge=(e,t)=>{const n=zD(e,"fileList",void 0,{passive:!0}),r=b=>n.value.find(w=>w.uid===b.uid);function a(b){var w;(w=t.value)==null||w.abort(b)}function o(b=["ready","uploading","success","fail"]){n.value=n.value.filter(w=>!b.includes(w.status))}function s(b){n.value=n.value.filter(w=>w.uid!==b.uid)}const u=(b,w)=>{const g=r(w);g&&(console.error(b),g.status="fail",s(g),e.onError(b,g,n.value),e.onChange(g,n.value))},d=(b,w)=>{const g=r(w);g&&(e.onProgress(b,g,n.value),g.status="uploading",g.percentage=Math.round(b.percent))},f=(b,w)=>{const g=r(w);g&&(g.status="success",g.response=b,e.onSuccess(b,g,n.value),e.onChange(g,n.value))},h=b=>{Sa(b.uid)&&(b.uid=aE());const w={name:b.name,percentage:0,status:"ready",size:b.size,raw:b,uid:b.uid};if(e.listType==="picture-card"||e.listType==="picture")try{w.url=URL.createObjectURL(b)}catch(g){g.message,e.onError(g,w,n.value)}n.value=[...n.value,w],e.onChange(w,n.value)},v=async b=>{const w=b instanceof File?r(b):b;w||va(qR,"file to be removed not found");const g=x=>{a(x),s(x),e.onRemove(x,n.value),KR(x)};e.beforeRemove?await e.beforeRemove(w,n.value)!==!1&&g(w):g(w)};function y(){n.value.filter(({status:b})=>b==="ready").forEach(({raw:b})=>{var w;return b&&((w=t.value)==null?void 0:w.upload(b))})}return bt(()=>e.listType,b=>{b!=="picture-card"&&b!=="picture"||(n.value=n.value.map(w=>{const{raw:g,url:x}=w;if(!x&&g)try{w.url=URL.createObjectURL(g)}catch(M){e.onError(M,w,n.value)}return w}))}),bt(n,b=>{for(const w of b)w.uid||(w.uid=aE()),w.status||(w.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:a,clearFiles:o,handleError:u,handleProgress:d,handleStart:h,handleSuccess:f,handleRemove:v,submit:y,revokeFileObjectURL:KR}},bge=we({name:"ElUpload"}),_ge=we({...bge,props:age,setup(e,{expose:t}){const n=e,r=uo(),a=hi(),{abort:o,submit:s,clearFiles:u,uploadFiles:d,handleStart:f,handleError:h,handleRemove:v,handleSuccess:y,handleProgress:b,revokeFileObjectURL:w}=yge(n,a),g=U(()=>n.listType==="picture-card"),x=U(()=>({...n,fileList:d.value,onStart:f,onProgress:b,onSuccess:y,onError:h,onRemove:v}));return Yr(()=>{d.value.forEach(w)}),or(xB,{accept:Hr(n,"accept")}),t({abort:o,submit:s,clearFiles:u,handleStart:f,handleRemove:v}),(M,R)=>(W(),ue("div",null,[m(g)&&M.showFileList?(W(),tt(WR,{key:0,disabled:m(r),"list-type":M.listType,files:m(d),crossorigin:M.crossorigin,"handle-preview":M.onPreview,onRemove:m(v)},Fs({append:be(()=>[ce(jR,nr({ref_key:"uploadRef",ref:a},m(x)),{default:be(()=>[M.$slots.trigger?Ue(M.$slots,"trigger",{key:0}):Ye("v-if",!0),!M.$slots.trigger&&M.$slots.default?Ue(M.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)]),_:2},[M.$slots.file?{name:"default",fn:be(({file:A,index:T})=>[Ue(M.$slots,"file",{file:A,index:T})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ye("v-if",!0),!m(g)||m(g)&&!M.showFileList?(W(),tt(jR,nr({key:1,ref_key:"uploadRef",ref:a},m(x)),{default:be(()=>[M.$slots.trigger?Ue(M.$slots,"trigger",{key:0}):Ye("v-if",!0),!M.$slots.trigger&&M.$slots.default?Ue(M.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)):Ye("v-if",!0),M.$slots.trigger?Ue(M.$slots,"default",{key:2}):Ye("v-if",!0),Ue(M.$slots,"tip"),!m(g)&&M.showFileList?(W(),tt(WR,{key:3,disabled:m(r),"list-type":M.listType,files:m(d),crossorigin:M.crossorigin,"handle-preview":M.onPreview,onRemove:m(v)},Fs({_:2},[M.$slots.file?{name:"default",fn:be(({file:A,index:T})=>[Ue(M.$slots,"file",{file:A,index:T})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ye("v-if",!0)]))}});var wge=Ft(_ge,[["__file","upload.vue"]]);const xge=On(wge),Sge=kt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ze([String,Array]),default:"Element Plus"},font:{type:ze(Object)},gap:{type:ze(Array),default:()=>[100,100]},offset:{type:ze(Array)}});function Mge(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Ege(e){return Object.keys(e).map(t=>"".concat(Mge(t),": ").concat(e[t],";")).join(" ")}function Cge(){return window.devicePixelRatio||1}const Tge=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},CB=3;function Gx(e,t,n=1){const r=document.createElement("canvas"),a=r.getContext("2d"),o=e*n,s=t*n;return r.setAttribute("width","".concat(o,"px")),r.setAttribute("height","".concat(s,"px")),a.save(),[a,r,o,s]}function Age(){function e(t,n,r,a,o,s,u,d){const[f,h,v,y]=Gx(a,o,r);if(t instanceof HTMLImageElement)f.drawImage(t,0,0,v,y);else{const{color:pe,fontSize:he,fontStyle:le,fontWeight:Re,fontFamily:De,textAlign:Te,textBaseline:ge}=s,ke=Number(he)*r;f.font="".concat(le," normal ").concat(Re," ").concat(ke,"px/").concat(o,"px ").concat(De),f.fillStyle=pe,f.textAlign=Te,f.textBaseline=ge;const Pe=Rt(t)?t:[t];Pe==null||Pe.forEach((Xe,ct)=>{f.fillText(Xe!=null?Xe:"",v/2,ct*(ke+CB*r))})}const b=Math.PI/180*Number(n),w=Math.max(a,o),[g,x,M]=Gx(w,w,r);g.translate(M/2,M/2),g.rotate(b),v>0&&y>0&&g.drawImage(h,-v/2,-y/2);function R(pe,he){const le=pe*Math.cos(b)-he*Math.sin(b),Re=pe*Math.sin(b)+he*Math.cos(b);return[le,Re]}let A=0,T=0,P=0,I=0;const E=v/2,D=y/2;[[0-E,0-D],[0+E,0-D],[0+E,0+D],[0-E,0+D]].forEach(([pe,he])=>{const[le,Re]=R(pe,he);A=Math.min(A,le),T=Math.max(T,le),P=Math.min(P,Re),I=Math.max(I,Re)});const B=A+M/2,G=P+M/2,$=T-A,Q=I-P,ae=u*r,ee=d*r,K=($+ae)*2,X=Q+ee,[Z,j]=Gx(K,X);function ie(pe=0,he=0){Z.drawImage(x,B,G,$,Q,pe,he,$,Q)}return ie(),ie($+ae,-Q/2-ee/2),ie($+ae,+Q/2+ee/2),[j.toDataURL(),K/r,X/r]}return e}const Lge=we({name:"ElWatermark"}),Rge=we({...Lge,props:Sge,setup(e){const t=e,n={position:"relative"},r=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.color)!=null?G:"rgba(0,0,0,.15)"}),a=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.fontSize)!=null?G:16}),o=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.fontWeight)!=null?G:"normal"}),s=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.fontStyle)!=null?G:"normal"}),u=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.fontFamily)!=null?G:"sans-serif"}),d=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.textAlign)!=null?G:"center"}),f=U(()=>{var B,G;return(G=(B=t.font)==null?void 0:B.textBaseline)!=null?G:"hanging"}),h=U(()=>t.gap[0]),v=U(()=>t.gap[1]),y=U(()=>h.value/2),b=U(()=>v.value/2),w=U(()=>{var B,G;return(G=(B=t.offset)==null?void 0:B[0])!=null?G:y.value}),g=U(()=>{var B,G;return(G=(B=t.offset)==null?void 0:B[1])!=null?G:b.value}),x=()=>{const B={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let G=w.value-y.value,$=g.value-b.value;return G>0&&(B.left="".concat(G,"px"),B.width="calc(100% - ".concat(G,"px)"),G=0),$>0&&(B.top="".concat($,"px"),B.height="calc(100% - ".concat($,"px)"),$=0),B.backgroundPosition="".concat(G,"px ").concat($,"px"),B},M=hi(null),R=hi(),A=re(!1),T=()=>{R.value&&(R.value.remove(),R.value=void 0)},P=(B,G)=>{var $;M.value&&R.value&&(A.value=!0,R.value.setAttribute("style",Ege({...x(),backgroundImage:"url('".concat(B,"')"),backgroundSize:"".concat(Math.floor(G),"px")})),($=M.value)==null||$.append(R.value),setTimeout(()=>{A.value=!1}))},I=B=>{let G=120,$=64;const Q=t.image,ae=t.content,ee=t.width,K=t.height;if(!Q&&B.measureText){B.font="".concat(Number(a.value),"px ").concat(u.value);const X=Rt(ae)?ae:[ae],Z=X.map(j=>{const ie=B.measureText(j);return[ie.width,ie.fontBoundingBoxAscent!==void 0?ie.fontBoundingBoxAscent+ie.fontBoundingBoxDescent:ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent]});G=Math.ceil(Math.max(...Z.map(j=>j[0]))),$=Math.ceil(Math.max(...Z.map(j=>j[1])))*X.length+(X.length-1)*CB}return[ee!=null?ee:G,K!=null?K:$]},E=Age(),D=()=>{const G=document.createElement("canvas").getContext("2d"),$=t.image,Q=t.content,ae=t.rotate;if(G){R.value||(R.value=document.createElement("div"));const ee=Cge(),[K,X]=I(G),Z=j=>{const[ie,pe]=E(j||"",ae,ee,K,X,{color:r.value,fontSize:a.value,fontStyle:s.value,fontWeight:o.value,fontFamily:u.value,textAlign:d.value,textBaseline:f.value},h.value,v.value);P(ie,pe)};if($){const j=new Image;j.onload=()=>{Z(j)},j.onerror=()=>{Z(Q)},j.crossOrigin="anonymous",j.referrerPolicy="no-referrer",j.src=$}else Z(Q)}};return Bn(()=>{D()}),bt(()=>t,()=>{D()},{deep:!0,flush:"post"}),Yr(()=>{T()}),BD(M,B=>{A.value||B.forEach(G=>{Tge(G,R.value)&&(T(),D())})},{attributes:!0,subtree:!0,childList:!0}),(B,G)=>(W(),ue("div",{ref_key:"containerRef",ref:M,style:un([n])},[Ue(B.$slots,"default")],4))}});var Pge=Ft(Rge,[["__file","watermark.vue"]]);const kge=On(Pge),Ige=kt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ze(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Oge=(e,t,n,r,a)=>{const o=re(null),s=()=>{let v;return nn(e.value)?v=document.querySelector(e.value):on(e.value)?v=e.value():v=e.value,v},u=()=>{const v=s();if(!v||!t.value){o.value=null;return}Dge(v)||v.scrollIntoView(a.value);const{left:y,top:b,width:w,height:g}=v.getBoundingClientRect();o.value={left:y,top:b,width:w,height:g,radius:0}};Bn(()=>{bt([t,e],()=>{u()},{immediate:!0}),window.addEventListener("resize",u)}),Yr(()=>{window.removeEventListener("resize",u)});const d=v=>{var y;return(y=Rt(n.value.offset)?n.value.offset[v]:n.value.offset)!=null?y:6},f=U(()=>{var v;if(!o.value)return o.value;const y=d(0),b=d(1),w=((v=n.value)==null?void 0:v.radius)||2;return{left:o.value.left-y,top:o.value.top-b,width:o.value.width+y*2,height:o.value.height+b*2,radius:w}}),h=U(()=>{const v=s();return!r.value||!v||!window.DOMRect?v||void 0:{getBoundingClientRect(){var y,b,w,g;return window.DOMRect.fromRect({width:((y=f.value)==null?void 0:y.width)||0,height:((b=f.value)==null?void 0:b.height)||0,x:((w=f.value)==null?void 0:w.left)||0,y:((g=f.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:f,triggerTarget:h}},Hw=Symbol("ElTour");function Dge(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:a,bottom:o,left:s}=e.getBoundingClientRect();return r>=0&&s>=0&&a<=t&&o<=n}const Nge=(e,t,n,r,a,o,s,u)=>{const d=re(),f=re(),h=re({}),v={x:d,y:f,placement:r,strategy:a,middlewareData:h},y=U(()=>{const M=[oB(m(o)),Vme(),zme(),Fge()];return m(u)&&m(n)&&M.push(sB({element:m(n)})),M}),b=async()=>{if(!wr)return;const M=m(e),R=m(t);if(!M||!R)return;const A=await lB(M,R,{placement:m(r),strategy:m(a),middleware:m(y)});tm(v).forEach(T=>{v[T].value=A[T]})},w=U(()=>{if(!m(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:m(s)};const{overflow:M}=m(h);return{position:m(a),zIndex:m(s),top:m(f)!=null?"".concat(m(f),"px"):"",left:m(d)!=null?"".concat(m(d),"px"):"",maxWidth:M!=null&&M.maxWidth?"".concat(M==null?void 0:M.maxWidth,"px"):""}}),g=U(()=>{if(!m(u))return{};const{arrow:M}=m(h);return{left:(M==null?void 0:M.x)!=null?"".concat(M==null?void 0:M.x,"px"):"",top:(M==null?void 0:M.y)!=null?"".concat(M==null?void 0:M.y,"px"):""}});let x;return Bn(()=>{const M=m(e),R=m(t);M&&R&&(x=Fme(M,R,b)),to(()=>{b()})}),Yr(()=>{x&&x()}),{update:b,contentStyle:w,arrowStyle:g}},Fge=()=>({name:"overflow",async fn(e){const t=await Bme(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),Bge=we({name:"ElTourMask",inheritAttrs:!1}),zge=we({...Bge,props:Ige,setup(e){const t=e,{ns:n}=qt(Hw),r=U(()=>{var u,d;return(d=(u=t.pos)==null?void 0:u.radius)!=null?d:2}),a=U(()=>{const u=r.value,d="a".concat(u,",").concat(u," 0 0 1");return{topRight:"".concat(d," ").concat(u,",").concat(u),bottomRight:"".concat(d," ").concat(-u,",").concat(u),bottomLeft:"".concat(d," ").concat(-u,",").concat(-u),topLeft:"".concat(d," ").concat(u,",").concat(-u)}}),o=U(()=>{const u=window.innerWidth,d=window.innerHeight,f=a.value,h="M".concat(u,",0 L0,0 L0,").concat(d," L").concat(u,",").concat(d," L").concat(u,",0 Z"),v=r.value;return t.pos?"".concat(h," M").concat(t.pos.left+v,",").concat(t.pos.top," h").concat(t.pos.width-v*2," ").concat(f.topRight," v").concat(t.pos.height-v*2," ").concat(f.bottomRight," h").concat(-t.pos.width+v*2," ").concat(f.bottomLeft," v").concat(-t.pos.height+v*2," ").concat(f.topLeft," z"):h}),s=U(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return YC(Hr(t,"visible"),{ns:n}),(u,d)=>u.visible?(W(),ue("div",nr({key:0,class:m(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:u.zIndex,pointerEvents:u.pos&&u.targetAreaClickable?"none":"auto"}},u.$attrs),[(W(),ue("svg",{style:{width:"100%",height:"100%"}},[fe("path",{class:J(m(n).e("hollow")),style:un(m(s)),d:m(o)},null,14,["d"])]))],16)):Ye("v-if",!0)}});var Vge=Ft(zge,[["__file","mask.vue"]]);const Uge=["absolute","fixed"],Hge=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],P2=kt({placement:{type:ze(String),values:Hge,default:"bottom"},reference:{type:ze(Object),default:null},strategy:{type:ze(String),values:Uge,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),$ge={close:()=>!0},Gge=we({name:"ElTourContent"}),Wge=we({...Gge,props:P2,emits:$ge,setup(e,{emit:t}){const n=e,r=re(n.placement),a=re(n.strategy),o=re(null),s=re(null);bt(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:u,arrowStyle:d}=Nge(Hr(n,"reference"),o,s,r,a,Hr(n,"offset"),Hr(n,"zIndex"),Hr(n,"showArrow")),f=U(()=>r.value.split("-")[0]),{ns:h}=qt(Hw),v=()=>{t("close")},y=b=>{b.detail.focusReason==="pointer"&&b.preventDefault()};return(b,w)=>(W(),ue("div",{ref_key:"contentRef",ref:o,style:un(m(u)),class:J(m(h).e("content")),"data-side":m(f),tabindex:"-1"},[ce(m(Lm),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:v,onFocusoutPrevented:y},{default:be(()=>[Ue(b.$slots,"default")]),_:3},8,["focus-trap-el"]),b.showArrow?(W(),ue("span",{key:0,ref_key:"arrowRef",ref:s,style:un(m(d)),class:J(m(h).e("arrow"))},null,6)):Ye("v-if",!0)],14,["data-side"]))}});var jge=Ft(Wge,[["__file","content.vue"]]),qge=we({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var a,o;const s=(a=t.default)==null?void 0:a.call(t),u=[];let d=0;function f(h){Rt(h)&&h.forEach(v=>{var y;((y=(v==null?void 0:v.type)||{})==null?void 0:y.name)==="ElTourStep"&&(u.push(v),d+=1)})}return s.length&&f(dd((o=s[0])==null?void 0:o.children)),r!==d&&(r=d,n("update-total",d)),u.length?u[e.current]:null}}});const Kge=kt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:ei},placement:P2.placement,contentStyle:{type:ze([Object])},mask:{type:ze([Boolean,Object]),default:!0},gap:{type:ze(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ze([Boolean,Object]),default:()=>({block:"center"})},type:{type:ze(String)},appendTo:{type:ze([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Yge={[Vn]:e=>ri(e),"update:current":e=>fn(e),close:e=>fn(e),finish:()=>!0,change:e=>fn(e)},Xge=we({name:"ElTour"}),Zge=we({...Xge,props:Kge,emits:Yge,setup(e,{emit:t}){const n=e,r=xt("tour"),a=re(0),o=re(),s=zD(n,"current",t,{passive:!0}),u=U(()=>{var N;return(N=o.value)==null?void 0:N.target}),d=U(()=>[r.b(),x.value==="primary"?r.m("primary"):""]),f=U(()=>{var N;return((N=o.value)==null?void 0:N.placement)||n.placement}),h=U(()=>{var N,B;return(B=(N=o.value)==null?void 0:N.contentStyle)!=null?B:n.contentStyle}),v=U(()=>{var N,B;return(B=(N=o.value)==null?void 0:N.mask)!=null?B:n.mask}),y=U(()=>!!v.value&&n.modelValue),b=U(()=>ri(v.value)?void 0:v.value),w=U(()=>{var N,B;return!!u.value&&((B=(N=o.value)==null?void 0:N.showArrow)!=null?B:n.showArrow)}),g=U(()=>{var N,B;return(B=(N=o.value)==null?void 0:N.scrollIntoViewOptions)!=null?B:n.scrollIntoViewOptions}),x=U(()=>{var N,B;return(B=(N=o.value)==null?void 0:N.type)!=null?B:n.type}),{nextZIndex:M}=Tm(),R=M(),A=U(()=>{var N;return(N=n.zIndex)!=null?N:R}),{mergedPosInfo:T,triggerTarget:P}=Oge(u,Hr(n,"modelValue"),Hr(n,"gap"),v,g);bt(()=>n.modelValue,N=>{N||(s.value=0)});const I=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",s.value))},E=N=>{a.value=N},D=ya();return or(Hw,{currentStep:o,current:s,total:a,showClose:Hr(n,"showClose"),closeIcon:Hr(n,"closeIcon"),mergedType:x,ns:r,slots:D,updateModelValue(N){t("update:modelValue",N)},onClose(){t("close",s.value)},onFinish(){t("finish")},onChange(){t("change",s.value)}}),(N,B)=>(W(),ue(rn,null,[ce(m(Rm),{to:N.appendTo},{default:be(()=>{var G,$;return[fe("div",nr({class:m(d)},N.$attrs),[ce(Vge,{visible:m(y),fill:(G=m(b))==null?void 0:G.color,style:un(($=m(b))==null?void 0:$.style),pos:m(T),"z-index":m(A),"target-area-clickable":N.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),N.modelValue?(W(),tt(jge,{key:m(s),reference:m(P),placement:m(f),"show-arrow":m(w),"z-index":m(A),style:un(m(h)),onClose:I},{default:be(()=>[ce(m(qge),{current:m(s),onUpdateTotal:E},{default:be(()=>[Ue(N.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Ye("v-if",!0)],16)]}),_:3},8,["to"]),Ye(" just for IDE "),Ye("v-if",!0)],64))}});var Jge=Ft(Zge,[["__file","tour.vue"]]);const Qge=kt({target:{type:ze([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:ei},showArrow:{type:Boolean,default:void 0},placement:P2.placement,mask:{type:ze([Boolean,Object]),default:void 0},contentStyle:{type:ze([Object])},prevButtonProps:{type:ze(Object)},nextButtonProps:{type:ze(Object)},scrollIntoViewOptions:{type:ze([Boolean,Object]),default:void 0},type:{type:ze(String)}}),e0e={close:()=>!0},t0e=we({name:"ElTourStep"}),n0e=we({...t0e,props:Qge,emits:e0e,setup(e,{emit:t}){const n=e,{Close:r}=yC,{t:a}=xr(),{currentStep:o,current:s,total:u,showClose:d,closeIcon:f,mergedType:h,ns:v,slots:y,updateModelValue:b,onClose:w,onFinish:g,onChange:x}=qt(Hw);bt(n,D=>{o.value=D},{immediate:!0});const M=U(()=>{var D;return(D=n.showClose)!=null?D:d.value}),R=U(()=>{var D,N;return(N=(D=n.closeIcon)!=null?D:f.value)!=null?N:r}),A=D=>{if(D)return vY(D,["children","onClick"])},T=()=>{var D,N;s.value-=1,(D=n.prevButtonProps)!=null&&D.onClick&&((N=n.prevButtonProps)==null||N.onClick()),x()},P=()=>{var D;s.value>=u.value-1?I():s.value+=1,(D=n.nextButtonProps)!=null&&D.onClick&&n.nextButtonProps.onClick(),x()},I=()=>{E(),g()},E=()=>{b(!1),w(),t("close")};return(D,N)=>(W(),ue(rn,null,[m(M)?(W(),ue("button",{key:0,"aria-label":"Close",class:J(m(v).e("closebtn")),type:"button",onClick:E},[ce(m(tn),{class:J(m(v).e("close"))},{default:be(()=>[(W(),tt(tr(m(R))))]),_:1},8,["class"])],2)):Ye("v-if",!0),fe("header",{class:J([m(v).e("header"),{"show-close":m(d)}])},[Ue(D.$slots,"header",{},()=>[fe("span",{role:"heading",class:J(m(v).e("title"))},Pt(D.title),3)])],2),fe("div",{class:J(m(v).e("body"))},[Ue(D.$slots,"default",{},()=>[fe("span",null,Pt(D.description),1)])],2),fe("footer",{class:J(m(v).e("footer"))},[fe("div",{class:J(m(v).b("indicators"))},[m(y).indicators?(W(),tt(tr(m(y).indicators),{key:0,current:m(s),total:m(u)},null,8,["current","total"])):(W(!0),ue(rn,{key:1},ar(m(u),(B,G)=>(W(),ue("span",{key:B,class:J([m(v).b("indicator"),G===m(s)?"is-active":""])},null,2))),128))],2),fe("div",{class:J(m(v).b("buttons"))},[m(s)>0?(W(),tt(m(Ra),nr({key:0,size:"small",type:m(h)},A(D.prevButtonProps),{onClick:T}),{default:be(()=>{var B,G;return[Pn(Pt((G=(B=D.prevButtonProps)==null?void 0:B.children)!=null?G:m(a)("el.tour.previous")),1)]}),_:1},16,["type"])):Ye("v-if",!0),m(s)<=m(u)-1?(W(),tt(m(Ra),nr({key:1,size:"small",type:m(h)==="primary"?"default":"primary"},A(D.nextButtonProps),{onClick:P}),{default:be(()=>{var B,G;return[Pn(Pt((G=(B=D.nextButtonProps)==null?void 0:B.children)!=null?G:m(s)===m(u)-1?m(a)("el.tour.finish"):m(a)("el.tour.next")),1)]}),_:1},16,["type"])):Ye("v-if",!0)],2)],2)],64))}});var TB=Ft(n0e,[["__file","step.vue"]]);const r0e=On(Jge,{TourStep:TB}),i0e=Ii(TB),a0e=kt({container:{type:ze([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ze(String),default:"default"},direction:{type:ze(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),o0e={change:e=>nn(e),click:(e,t)=>e instanceof MouseEvent&&(nn(t)||Or(t))},AB=Symbol("anchor"),nb=e=>{if(!wr||e==="")return null;if(nn(e))try{return document.querySelector(e)}catch(t){return null}return e};function s0e(e){let t=0;const n=(...r)=>{t&&Kf(t),t=yd(()=>{e(...r),t=0})};return n.cancel=()=>{Kf(t),t=0},n}const l0e=we({name:"ElAnchor"}),u0e=we({...l0e,props:a0e,emits:o0e,setup(e,{expose:t,emit:n}){const r=e,a=re(""),o=re(null),s=re(null),u=re(),d={};let f=!1,h=0;const v=xt("anchor"),y=U(()=>[v.b(),r.type==="underline"?v.m("underline"):"",v.m(r.direction)]),b=D=>{d[D.href]=D.el},w=D=>{delete d[D]},g=D=>{a.value!==D&&(a.value=D,n("change",D))};let x=null;const M=D=>{if(!u.value)return;const N=nb(D);if(!N)return;x&&x(),f=!0;const B=Z3(N,u.value),G=gM(N,B),$=B.scrollHeight-B.clientHeight,Q=Math.min(G-r.offset,$);x=bX(u.value,h,Q,r.duration,()=>{setTimeout(()=>{f=!1},20)})},R=D=>{D&&(g(D),M(D))},A=(D,N)=>{n("click",D,N),R(N)},T=s0e(()=>{u.value&&(h=J3(u.value));const D=P();f||Or(D)||g(D)}),P=()=>{if(!u.value)return;const D=J3(u.value),N=[];for(const B of Object.keys(d)){const G=nb(B);if(!G)continue;const $=Z3(G,u.value),Q=gM(G,$);N.push({top:Q-r.offset-r.bound,href:B})}N.sort((B,G)=>B.top-G.top);for(let B=0;B<N.length;B++){const G=N[B],$=N[B+1];if(B===0&&D===0)return r.selectScrollTop?G.href:"";if(G.top<=D&&(!$||$.top>D))return G.href}},I=()=>{const D=nb(r.container);!D||xw(D)?u.value=window:u.value=D};Kr(u,"scroll",T);const E=U(()=>{if(!o.value||!s.value||!a.value)return{};const D=d[a.value];if(!D)return{};const N=o.value.getBoundingClientRect(),B=s.value.getBoundingClientRect(),G=D.getBoundingClientRect();if(r.direction==="horizontal"){const $=G.left-N.left;return{left:"".concat($,"px"),width:"".concat(G.width,"px"),opacity:1}}else{const $=G.top-N.top+(G.height-B.height)/2;return{top:"".concat($,"px"),opacity:1}}});return Bn(()=>{I();const D=decodeURIComponent(window.location.hash);nb(D)?R(D):T()}),bt(()=>r.container,()=>{I()}),or(AB,{ns:v,direction:r.direction,currentAnchor:a,addLink:b,removeLink:w,handleClick:A}),t({scrollTo:R}),(D,N)=>(W(),ue("div",{ref_key:"anchorRef",ref:o,class:J(m(y))},[D.marker?(W(),ue("div",{key:0,ref_key:"markerRef",ref:s,class:J(m(v).e("marker")),style:un(m(E))},null,6)):Ye("v-if",!0),fe("div",{class:J(m(v).e("list"))},[Ue(D.$slots,"default")],2)],2))}});var c0e=Ft(u0e,[["__file","anchor.vue"]]);const d0e=kt({title:String,href:String}),f0e=we({name:"ElAnchorLink"}),h0e=we({...f0e,props:d0e,setup(e){const t=e,n=re(null),{ns:r,direction:a,currentAnchor:o,addLink:s,removeLink:u,handleClick:d}=qt(AB),f=U(()=>[r.e("link"),r.is("active",o.value===t.href)]),h=v=>{d(v,t.href)};return bt(()=>t.href,(v,y)=>{cn(()=>{y&&u(y),v&&s({href:v,el:n.value})})}),Bn(()=>{const{href:v}=t;v&&s({href:v,el:n.value})}),Yr(()=>{const{href:v}=t;v&&u(v)}),(v,y)=>(W(),ue("div",{class:J(m(r).e("item"))},[fe("a",{ref_key:"linkRef",ref:n,class:J(m(f)),href:v.href,onClick:h},[Ue(v.$slots,"default",{},()=>[Pn(Pt(v.title),1)])],10,["href"]),v.$slots["sub-link"]&&m(a)==="vertical"?(W(),ue("div",{key:0,class:J(m(r).e("list"))},[Ue(v.$slots,"sub-link")],2)):Ye("v-if",!0)],2))}});var LB=Ft(h0e,[["__file","anchor-link.vue"]]);const p0e=On(c0e,{AnchorLink:LB}),m0e=Ii(LB),v0e=kt({direction:{type:ze(String),default:"horizontal"},options:{type:ze(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:ca,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...qa(["ariaLabel"])}),g0e={[Vn]:e=>nn(e)||fn(e)||ri(e),[Qr]:e=>nn(e)||fn(e)||ri(e)},y0e=we({name:"ElSegmented"}),b0e=we({...y0e,props:v0e,emits:g0e,setup(e,{emit:t}){const n=e,r=xt("segmented"),a=ja(),o=ta(),s=uo(),{formItem:u}=lo(),{inputId:d,isLabeledByFormItem:f}=ul(n,{formItemContext:u}),h=re(null),v=HY(),y=Ir({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),b=N=>{const B=w(N);t(Vn,B),t(Qr,B)},w=N=>jn(N)?N.value:N,g=N=>jn(N)?N.label:N,x=N=>!!(s.value||jn(N)&&N.disabled),M=N=>n.modelValue===w(N),R=N=>n.options.find(B=>w(B)===N),A=N=>[r.e("item"),r.is("selected",M(N)),r.is("disabled",x(N))],T=()=>{if(!h.value)return;const N=h.value.querySelector(".is-selected"),B=h.value.querySelector(".is-selected input");if(!N||!B){y.width=0,y.height=0,y.translateX=0,y.translateY=0,y.focusVisible=!1;return}const G=N.getBoundingClientRect();y.isInit=!0,n.direction==="vertical"?(y.height=G.height,y.translateY=N.offsetTop):(y.width=G.width,y.translateX=N.offsetLeft);try{y.focusVisible=B.matches(":focus-visible")}catch($){}},P=U(()=>[r.b(),r.m(o.value),r.is("block",n.block)]),I=U(()=>({width:n.direction==="vertical"?"100%":"".concat(y.width,"px"),height:n.direction==="vertical"?"".concat(y.height,"px"):"100%",transform:n.direction==="vertical"?"translateY(".concat(y.translateY,"px)"):"translateX(".concat(y.translateX,"px)"),display:y.isInit?"block":"none"})),E=U(()=>[r.e("item-selected"),r.is("disabled",x(R(n.modelValue))),r.is("focus-visible",y.focusVisible)]),D=U(()=>n.name||a.value);return Ri(h,T),bt(v,T),bt(()=>n.modelValue,()=>{var N;T(),n.validateEvent&&((N=u==null?void 0:u.validate)==null||N.call(u,"change").catch(B=>void 0))},{flush:"post"}),(N,B)=>N.options.length?(W(),ue("div",{key:0,id:m(d),ref_key:"segmentedRef",ref:h,class:J(m(P)),role:"radiogroup","aria-label":m(f)?void 0:N.ariaLabel||"segmented","aria-labelledby":m(f)?m(u).labelId:void 0},[fe("div",{class:J([m(r).e("group"),m(r).m(n.direction)])},[fe("div",{style:un(m(I)),class:J(m(E))},null,6),(W(!0),ue(rn,null,ar(N.options,(G,$)=>(W(),ue("label",{key:$,class:J(A(G))},[fe("input",{class:J(m(r).e("item-input")),type:"radio",name:m(D),disabled:x(G),checked:M(G),onChange:Q=>b(G)},null,42,["name","disabled","checked","onChange"]),fe("div",{class:J(m(r).e("item-label"))},[Ue(N.$slots,"default",{item:G},()=>[Pn(Pt(g(G)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Ye("v-if",!0)}});var _0e=Ft(b0e,[["__file","segmented.vue"]]);const w0e=On(_0e),x0e=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},S0e=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const a=e.value,o=wo(t);let s=-1,u;for(let d=r-1;d>=0;--d){const f=a[d];if(f===n||f==="\n"||f==="\r"){s=d;continue}if(o.includes(f)){const h=s===-1?r:s;u={pattern:a.slice(d+1,h),start:d+1,end:h,prefix:f,prefixIndex:d,splitIndex:s,selectionEnd:r};break}}return u},M0e=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,a=t.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const y=document.querySelector("#input-textarea-caret-position-mirror-div");y!=null&&y.parentNode&&y.parentNode.removeChild(y)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const u=s.style,d=window.getComputedStyle(e),f=e.nodeName==="INPUT";u.whiteSpace=f?"nowrap":"pre-wrap",f||(u.wordWrap="break-word"),u.position="absolute",t.debug||(u.visibility="hidden"),o.forEach(y=>{if(f&&y==="lineHeight")if(d.boxSizing==="border-box"){const b=Number.parseInt(d.height),w=Number.parseInt(d.paddingTop)+Number.parseInt(d.paddingBottom)+Number.parseInt(d.borderTopWidth)+Number.parseInt(d.borderBottomWidth),g=w+Number.parseInt(d.lineHeight);b>g?u.lineHeight="".concat(b-w,"px"):b===g?u.lineHeight=d.lineHeight:u.lineHeight="0"}else u.lineHeight=d.height;else u[y]=d[y]}),Tw()?e.scrollHeight>Number.parseInt(d.height)&&(u.overflowY="scroll"):u.overflow="hidden",s.textContent=e.value.slice(0,Math.max(0,a)),f&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g,""));const h=document.createElement("span");h.textContent=e.value.slice(Math.max(0,a))||".",h.style.position="relative",h.style.left="".concat(-e.scrollLeft,"px"),h.style.top="".concat(-e.scrollTop,"px"),s.appendChild(h);const v={top:h.offsetTop+Number.parseInt(d.borderTopWidth),left:h.offsetLeft+Number.parseInt(d.borderLeftWidth),height:Number.parseInt(d.fontSize)*1.5};return t.debug?h.style.backgroundColor="#aaa":document.body.removeChild(s),v.left>=e.clientWidth&&(v.left=e.clientWidth),v},E0e=kt({..._C,options:{type:ze(Array),default:()=>[]},prefix:{type:ze([String,Array]),default:"@",validator:e=>nn(e)?e.length===1:e.every(t=>nn(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:ze([Boolean,Function]),default:()=>x0e,validator:e=>e===!1?!0:on(e)},placement:{type:ze(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:ze(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ze(Object),default:()=>({})}}),C0e={[Vn]:e=>nn(e),search:(e,t)=>nn(e)&&nn(t),select:(e,t)=>nn(e.value)&&nn(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},T0e=kt({options:{type:ze(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),A0e={select:e=>nn(e.value)},L0e=we({name:"ElMentionDropdown"}),R0e=we({...L0e,props:T0e,emits:A0e,setup(e,{expose:t,emit:n}){const r=e,a=xt("mention"),{t:o}=xr(),s=re(-1),u=re(),d=re(),f=re(),h=(A,T)=>[a.be("dropdown","item"),a.is("hovering",s.value===T),a.is("disabled",A.disabled||r.disabled)],v=A=>{A.disabled||r.disabled||n("select",A)},y=A=>{s.value=A},b=U(()=>r.disabled||r.options.every(A=>A.disabled)),w=U(()=>r.options[s.value]),g=()=>{w.value&&n("select",w.value)},x=A=>{const{options:T}=r;if(T.length===0||b.value)return;A==="next"?(s.value++,s.value===T.length&&(s.value=0)):A==="prev"&&(s.value--,s.value<0&&(s.value=T.length-1));const P=T[s.value];if(P.disabled){x(A);return}cn(()=>M(P))},M=A=>{var T,P,I,E;const{options:D}=r,N=D.findIndex(G=>G.value===A.value),B=(T=d.value)==null?void 0:T[N];if(B){const G=(I=(P=f.value)==null?void 0:P.querySelector)==null?void 0:I.call(P,".".concat(a.be("dropdown","wrap")));G&&gC(G,B)}(E=u.value)==null||E.handleScroll()};return bt(()=>r.options,()=>{b.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),t({hoveringIndex:s,navigateOptions:x,selectHoverOption:g,hoverOption:w}),(A,T)=>(W(),ue("div",{ref_key:"dropdownRef",ref:f,class:J(m(a).b("dropdown"))},[A.$slots.header?(W(),ue("div",{key:0,class:J(m(a).be("dropdown","header"))},[Ue(A.$slots,"header")],2)):Ye("v-if",!0),kn(ce(m(Nu),{id:A.contentId,ref_key:"scrollbarRef",ref:u,tag:"ul","wrap-class":m(a).be("dropdown","wrap"),"view-class":m(a).be("dropdown","list"),role:"listbox","aria-label":A.ariaLabel,"aria-orientation":"vertical"},{default:be(()=>[(W(!0),ue(rn,null,ar(A.options,(P,I)=>(W(),ue("li",{id:"".concat(A.contentId,"-").concat(I),ref_for:!0,ref_key:"optionRefs",ref:d,key:I,class:J(h(P,I)),role:"option","aria-disabled":P.disabled||A.disabled||void 0,"aria-selected":s.value===I,onMousemove:E=>y(I),onClick:Sn(E=>v(P),["stop"])},[Ue(A.$slots,"label",{item:P,index:I},()=>{var E;return[fe("span",null,Pt((E=P.label)!=null?E:P.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[_r,A.options.length>0&&!A.loading]]),A.loading?(W(),ue("div",{key:1,class:J(m(a).be("dropdown","loading"))},[Ue(A.$slots,"loading",{},()=>[Pn(Pt(m(o)("el.mention.loading")),1)])],2)):Ye("v-if",!0),A.$slots.footer?(W(),ue("div",{key:2,class:J(m(a).be("dropdown","footer"))},[Ue(A.$slots,"footer")],2)):Ye("v-if",!0)],2))}});var P0e=Ft(R0e,[["__file","mention-dropdown.vue"]]);const k0e=we({name:"ElMention",inheritAttrs:!1}),I0e=we({...k0e,props:E0e,emits:C0e,setup(e,{expose:t,emit:n}){const r=e,a=U(()=>Pl(r,Object.keys(_C))),o=xt("mention"),s=uo(),u=ja(),d=re(),f=re(),h=re(),v=re(!1),y=re(),b=re(),w=U(()=>r.showArrow?r.placement:"".concat(r.placement,"-start")),g=U(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),x=U(()=>{const{filterOption:$,options:Q}=r;return!b.value||!$?Q:Q.filter(ae=>$(b.value.pattern,ae))}),M=U(()=>v.value&&(!!x.value.length||r.loading)),R=U(()=>{var $;return"".concat(u.value,"-").concat(($=h.value)==null?void 0:$.hoveringIndex)}),A=$=>{n("update:modelValue",$),N()},T=$=>{var Q,ae,ee,K;if(!(!("code"in $)||(Q=d.value)!=null&&Q.isComposing))switch($.code){case jt.left:case jt.right:N();break;case jt.up:case jt.down:if(!v.value)return;$.preventDefault(),(ae=h.value)==null||ae.navigateOptions($.code===jt.up?"prev":"next");break;case jt.enter:case jt.numpadEnter:if(!v.value)return;$.preventDefault(),(ee=h.value)!=null&&ee.hoverOption?(K=h.value)==null||K.selectHoverOption():v.value=!1;break;case jt.esc:if(!v.value)return;$.preventDefault(),v.value=!1;break;case jt.backspace:if(r.whole&&b.value){const{splitIndex:X,selectionEnd:Z,pattern:j,prefixIndex:ie,prefix:pe}=b.value,he=D();if(!he)return;const le=he.value,Re=r.options.find(Te=>Te.value===j);if((on(r.checkIsWhole)?r.checkIsWhole(j,pe):Re)&&X!==-1&&X+1===Z){$.preventDefault();const Te=le.slice(0,ie)+le.slice(X+1);n(Vn,Te);const ge=ie;cn(()=>{he.selectionStart=ge,he.selectionEnd=ge,G()})}}}},{wrapperRef:P}=Td(d,{beforeFocus(){return s.value},afterFocus(){N()},beforeBlur($){var Q;return(Q=f.value)==null?void 0:Q.isFocusInsideContent($)},afterBlur(){v.value=!1}}),I=()=>{N()},E=$=>{if(!b.value)return;const Q=D();if(!Q)return;const ae=Q.value,{split:ee}=r,K=ae.slice(b.value.end),X=K.startsWith(ee),Z="".concat($.value).concat(X?"":ee),j=ae.slice(0,b.value.start)+Z+K;n(Vn,j),n("select",$,b.value.prefix);const ie=b.value.start+Z.length+(X?1:0);cn(()=>{Q.selectionStart=ie,Q.selectionEnd=ie,Q.focus(),G()})},D=()=>{var $,Q;return r.type==="textarea"?($=d.value)==null?void 0:$.textarea:(Q=d.value)==null?void 0:Q.input},N=()=>{setTimeout(()=>{B(),G(),cn(()=>{var $;return($=f.value)==null?void 0:$.updatePopper()})},0)},B=()=>{const $=D();if(!$)return;const Q=M0e($),ae=$.getBoundingClientRect(),ee=d.value.$el.getBoundingClientRect();y.value={position:"absolute",width:0,height:"".concat(Q.height,"px"),left:"".concat(Q.left+ae.left-ee.left,"px"),top:"".concat(Q.top+ae.top-ee.top,"px")}},G=()=>{const $=D();if(document.activeElement!==$){v.value=!1;return}const{prefix:Q,split:ae}=r;if(b.value=S0e($,Q,ae),b.value&&b.value.splitIndex===-1){v.value=!0,n("search",b.value.pattern,b.value.prefix);return}v.value=!1};return t({input:d,tooltip:f,dropdownVisible:M}),($,Q)=>(W(),ue("div",{ref_key:"wrapperRef",ref:P,class:J([m(o).b(),m(o).is("disabled",m(s))])},[ce(m(Mo),nr(nr(m(a),$.$attrs),{ref_key:"elInputRef",ref:d,"model-value":$.modelValue,disabled:m(s),role:m(M)?"combobox":void 0,"aria-activedescendant":m(M)?m(R)||"":void 0,"aria-controls":m(M)?m(u):void 0,"aria-expanded":m(M)||void 0,"aria-label":$.ariaLabel,"aria-autocomplete":m(M)?"none":void 0,"aria-haspopup":m(M)?"listbox":void 0,onInput:A,onKeydown:T,onMousedown:I}),Fs({_:2},[ar($.$slots,(ae,ee)=>({name:ee,fn:be(K=>[Ue($.$slots,ee,Ls(Lu(K)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ce(m(ao),{ref_key:"tooltipRef",ref:f,visible:m(M),"popper-class":[m(o).e("popper"),$.popperClass],"popper-options":$.popperOptions,placement:m(w),"fallback-placements":m(g),effect:"light",pure:"",offset:$.offset,"show-arrow":$.showArrow},{default:be(()=>[fe("div",{style:un(y.value)},null,4)]),content:be(()=>{var ae;return[ce(P0e,{ref_key:"dropdownRef",ref:h,options:m(x),disabled:m(s),loading:$.loading,"content-id":m(u),"aria-label":$.ariaLabel,onSelect:E,onClick:Sn((ae=d.value)==null?void 0:ae.focus,["stop"])},Fs({_:2},[ar($.$slots,(ee,K)=>({name:K,fn:be(X=>[Ue($.$slots,K,Ls(Lu(X)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var O0e=Ft(I0e,[["__file","mention.vue"]]);const D0e=On(O0e);var N0e=[MX,DX,LQ,gpe,DQ,HQ,TN,eee,tee,Ra,ON,Yee,ete,gte,yte,yne,e4,Mne,sl,kte,WN,Lne,Wne,jne,Pw,yre,wre,Ire,Ore,Dre,Nre,Fre,lae,yae,bae,Pae,C4,Uae,Roe,Poe,koe,D4,Pse,kse,tn,$se,B4,Mo,z4,ile,cle,Rle,Ple,kle,Ile,zle,Lue,Due,Gue,SN,K4,JN,Wte,Gte,ece,ace,fce,Nu,Yf,I_,uue,Gce,Qce,ede,bde,Mde,sF,Dde,Gde,Wde,Zde,she,lhe,vpe,kpe,Ipe,sm,Bpe,Aie,Gpe,Ype,Xpe,ao,ive,gve,W_,Nve,Qve,xge,kge,r0e,i0e,p0e,m0e,w0e,D0e];const Js="ElInfiniteScroll",F0e=50,B0e=200,z0e=0,V0e={delay:{type:Number,default:B0e},distance:{type:Number,default:z0e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},k2=(e,t)=>Object.entries(V0e).reduce((n,[r,a])=>{var o,s;const{type:u,default:d}=a,f=e.getAttribute("infinite-scroll-".concat(r));let h=(s=(o=t[f])!=null?o:f)!=null?s:d;return h=h==="false"?!1:h,h=u(h),n[r]=Number.isNaN(h)?d:h,n},{}),RB=e=>{const{observer:t}=e[Js];t&&(t.disconnect(),delete e[Js].observer)},U0e=(e,t)=>{const{container:n,containerEl:r,instance:a,observer:o,lastScrollTop:s}=e[Js],{disabled:u,distance:d}=k2(e,a),{clientHeight:f,scrollHeight:h,scrollTop:v}=r,y=v-s;if(e[Js].lastScrollTop=v,o||u||y<0)return;let b=!1;if(n===e)b=h-(f+v)<=d;else{const{clientTop:w,scrollHeight:g}=e,x=gM(e,r);b=v+f>=x+w+g-d}b&&t.call(a)};function Wx(e,t){const{containerEl:n,instance:r}=e[Js],{disabled:a}=k2(e,r);a||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):RB(e))}const H0e={async mounted(e,t){const{instance:n,value:r}=t;on(r)||va(Js,"'v-infinite-scroll' binding value must be a function"),await cn();const{delay:a,immediate:o}=k2(e,n),s=vC(e,!0),u=s===window?document.documentElement:s,d=Nf(U0e.bind(null,e,r),a);if(s){if(e[Js]={instance:n,container:s,containerEl:u,delay:a,cb:r,onScroll:d,lastScrollTop:u.scrollTop},o){const f=new MutationObserver(Nf(Wx.bind(null,e,r),F0e));e[Js].observer=f,f.observe(e,{childList:!0,subtree:!0}),Wx(e,r)}s.addEventListener("scroll",d)}},unmounted(e){if(!e[Js])return;const{container:t,onScroll:n}=e[Js];t==null||t.removeEventListener("scroll",n),RB(e)},async updated(e){if(!e[Js])await cn();else{const{containerEl:t,cb:n,observer:r}=e[Js];t.clientHeight&&r&&Wx(e,n)}}},oE=H0e;oE.install=e=>{e.directive("InfiniteScroll",oE)};const $0e=oE;function G0e(e){let t;const n=re(!1),r=Ir({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(y){r.text=y}function o(){const y=r.parent,b=v.ns;if(!y.vLoadingAddClassList){let w=y.getAttribute("loading-number");w=Number.parseInt(w)-1,w?y.setAttribute("loading-number",w.toString()):(Co(y,b.bm("parent","relative")),y.removeAttribute("loading-number")),Co(y,b.bm("parent","hidden"))}s(),h.unmount()}function s(){var y,b;(b=(y=v.$el)==null?void 0:y.parentNode)==null||b.removeChild(v.$el)}function u(){var y;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(d,400),r.visible=!1,(y=e.closed)==null||y.call(e))}function d(){if(!n.value)return;const y=r.parent;n.value=!1,y.vLoadingAddClassList=void 0,o()}const h=wO(we({name:"ElLoading",setup(y,{expose:b}){const{ns:w,zIndex:g}=Ew("loading");return b({ns:w,zIndex:g}),()=>{const x=r.spinner||r.svg,M=mn("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...x?{innerHTML:x}:{}},[mn("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),R=r.text?mn("p",{class:w.b("text")},[r.text]):void 0;return mn(Ia,{name:w.b("fade"),onAfterLeave:d},{default:be(()=>[kn(ce("div",{style:{backgroundColor:r.background||""},class:[w.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[mn("div",{class:w.b("spinner")},[M,R])]),[[_r,r.visible]])])})}}})),v=h.mount(document.createElement("div"));return{...ka(r),setText:a,removeElLoadingChild:s,close:u,handleAfterLeave:d,vm:v,get $el(){return v.$el}}}let rb;const sE=function(e={}){if(!wr)return;const t=W0e(e);if(t.fullscreen&&rb)return rb;const n=G0e({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(rb=void 0)}});j0e(t,t.parent,n),YR(t,t.parent,n),t.parent.vLoadingAddClassList=()=>YR(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r="".concat(Number.parseInt(r)+1):r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),cn(()=>n.visible.value=t.visible),t.fullscreen&&(rb=n),n},W0e=e=>{var t,n,r,a;let o;return nn(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,beforeClose:e.beforeClose,closed:e.closed,target:o}},j0e=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,a={};if(e.fullscreen)n.originalPosition.value=cc(document.body,"position"),n.originalOverflow.value=cc(document.body,"overflow"),a.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=cc(document.body,"position"),await cn();for(const o of["top","left"]){const s=o==="top"?"scrollTop":"scrollLeft";a[o]="".concat(e.target.getBoundingClientRect()[o]+document.body[s]+document.documentElement[s]-Number.parseInt(cc(document.body,"margin-".concat(o)),10),"px")}for(const o of["height","width"])a[o]="".concat(e.target.getBoundingClientRect()[o],"px")}else n.originalPosition.value=cc(t,"position");for(const[o,s]of Object.entries(a))n.$el.style[o]=s},YR=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Co(t,r.bm("parent","relative")):el(t,r.bm("parent","relative")),e.fullscreen&&e.lock?el(t,r.bm("parent","hidden")):Co(t,r.bm("parent","hidden"))},o_=Symbol("ElLoading"),XR=(e,t)=>{var n,r,a,o;const s=t.instance,u=y=>jn(t.value)?t.value[y]:void 0,d=y=>{const b=nn(y)&&(s==null?void 0:s[y])||y;return b&&re(b)},f=y=>d(u(y)||e.getAttribute("element-loading-".concat(bc(y)))),h=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,v={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:h,target:(r=u("target"))!=null?r:h?void 0:e,body:(a=u("body"))!=null?a:t.modifiers.body,lock:(o=u("lock"))!=null?o:t.modifiers.lock};e[o_]={options:v,instance:sE(v)}},q0e=(e,t)=>{for(const n of Object.keys(t))vi(t[n])&&(t[n].value=e[n])},ZR={mounted(e,t){t.value&&XR(e,t)},updated(e,t){const n=e[o_];t.oldValue!==t.value&&(t.value&&!t.oldValue?XR(e,t):t.value&&t.oldValue?jn(t.value)&&q0e(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[o_])==null||t.instance.close(),e[o_]=null}},K0e={install(e){e.directive("loading",ZR),e.config.globalProperties.$loading=sE},directive:ZR,service:sE},PB=["success","info","warning","error"],yo=Pi({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:wr?document.body:void 0}),Y0e=kt({customClass:{type:String,default:yo.customClass},center:{type:Boolean,default:yo.center},dangerouslyUseHTMLString:{type:Boolean,default:yo.dangerouslyUseHTMLString},duration:{type:Number,default:yo.duration},icon:{type:ei,default:yo.icon},id:{type:String,default:yo.id},message:{type:ze([String,Object,Function]),default:yo.message},onClose:{type:ze(Function),default:yo.onClose},showClose:{type:Boolean,default:yo.showClose},type:{type:String,values:PB,default:yo.type},plain:{type:Boolean,default:yo.plain},offset:{type:Number,default:yo.offset},zIndex:{type:Number,default:yo.zIndex},grouping:{type:Boolean,default:yo.grouping},repeatNum:{type:Number,default:yo.repeatNum}}),X0e={destroy:()=>!0},kl=DE([]),Z0e=e=>{const t=kl.findIndex(a=>a.id===e),n=kl[t];let r;return t>0&&(r=kl[t-1]),{current:n,prev:r}},J0e=e=>{const{prev:t}=Z0e(e);return t?t.vm.exposed.bottom.value:0},Q0e=(e,t)=>kl.findIndex(r=>r.id===e)>0?16:t,eye=we({name:"ElMessage"}),tye=we({...eye,props:Y0e,emits:X0e,setup(e,{expose:t}){const n=e,{Close:r}=bC,{ns:a,zIndex:o}=Ew("message"),{currentZIndex:s,nextZIndex:u}=o,d=re(),f=re(!1),h=re(0);let v;const y=U(()=>n.type?n.type==="error"?"danger":n.type:"info"),b=U(()=>{const E=n.type;return{[a.bm("icon",E)]:E&&bd[E]}}),w=U(()=>n.icon||bd[n.type]||""),g=U(()=>J0e(n.id)),x=U(()=>Q0e(n.id,n.offset)+g.value),M=U(()=>h.value+x.value),R=U(()=>({top:"".concat(x.value,"px"),zIndex:s.value}));function A(){n.duration!==0&&({stop:v}=qf(()=>{P()},n.duration))}function T(){v==null||v()}function P(){f.value=!1}function I({code:E}){E===jt.esc&&P()}return Bn(()=>{A(),u(),f.value=!0}),bt(()=>n.repeatNum,()=>{T(),A()}),Kr(document,"keydown",I),Ri(d,()=>{h.value=d.value.getBoundingClientRect().height}),t({visible:f,bottom:M,close:P}),(E,D)=>(W(),tt(Ia,{name:m(a).b("fade"),onBeforeLeave:E.onClose,onAfterLeave:N=>E.$emit("destroy"),persisted:""},{default:be(()=>[kn(fe("div",{id:E.id,ref_key:"messageRef",ref:d,class:J([m(a).b(),{[m(a).m(E.type)]:E.type},m(a).is("center",E.center),m(a).is("closable",E.showClose),m(a).is("plain",E.plain),E.customClass]),style:un(m(R)),role:"alert",onMouseenter:T,onMouseleave:A},[E.repeatNum>1?(W(),tt(m(TN),{key:0,value:E.repeatNum,type:m(y),class:J(m(a).e("badge"))},null,8,["value","type","class"])):Ye("v-if",!0),m(w)?(W(),tt(m(tn),{key:1,class:J([m(a).e("icon"),m(b)])},{default:be(()=>[(W(),tt(tr(m(w))))]),_:1},8,["class"])):Ye("v-if",!0),Ue(E.$slots,"default",{},()=>[E.dangerouslyUseHTMLString?(W(),ue(rn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),fe("p",{class:J(m(a).e("content")),innerHTML:E.message},null,10,["innerHTML"])],2112)):(W(),ue("p",{key:0,class:J(m(a).e("content"))},Pt(E.message),3))]),E.showClose?(W(),tt(m(tn),{key:2,class:J(m(a).e("closeBtn")),onClick:Sn(P,["stop"])},{default:be(()=>[ce(m(r))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],46,["id"]),[[_r,f.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var nye=Ft(tye,[["__file","message.vue"]]);let rye=1;const kB=e=>{const t=!e||nn(e)||Mi(e)||on(e)?{message:e}:e,n={...yo,...t};if(!n.appendTo)n.appendTo=document.body;else if(nn(n.appendTo)){let r=document.querySelector(n.appendTo);Ho(r)||(r=document.body),n.appendTo=r}return ri(Tl.grouping)&&!n.grouping&&(n.grouping=Tl.grouping),fn(Tl.duration)&&n.duration===3e3&&(n.duration=Tl.duration),fn(Tl.offset)&&n.offset===16&&(n.offset=Tl.offset),ri(Tl.showClose)&&!n.showClose&&(n.showClose=Tl.showClose),n},iye=e=>{const t=kl.indexOf(e);if(t===-1)return;kl.splice(t,1);const{handler:n}=e;n.close()},aye=({appendTo:e,...t},n)=>{const r="message_".concat(rye++),a=t.onClose,o=document.createElement("div"),s={...t,id:r,onClose:()=>{a==null||a(),iye(h)},onDestroy:()=>{pd(null,o)}},u=ce(nye,s,on(s.message)||Mi(s.message)?{default:on(s.message)?s.message:()=>s.message}:null);u.appContext=n||pm._context,pd(u,o),e.appendChild(o.firstElementChild);const d=u.component,h={id:r,vnode:u,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:u.component.props};return h},pm=(e={},t)=>{if(!wr)return{close:()=>{}};const n=kB(e);if(n.grouping&&kl.length){const a=kl.find(({vnode:o})=>{var s;return((s=o.props)==null?void 0:s.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(fn(Tl.max)&&kl.length>=Tl.max)return{close:()=>{}};const r=aye(n,t);return kl.push(r),r.handler};PB.forEach(e=>{pm[e]=(t={},n)=>{const r=kB(t);return pm({...r,type:e},n)}});function oye(e){for(const t of kl)(!e||e===t.props.type)&&t.handler.close()}pm.closeAll=oye;pm._context=null;const sye=JD(pm,"$message"),lE="_trap-focus-children",Pf=[],JR=e=>{if(Pf.length===0)return;const t=Pf[Pf.length-1][lE];if(t.length>0&&e.code===jt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],a=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),a&&!n&&(e.preventDefault(),t[0].focus())}},lye={beforeMount(e){e[lE]=nL(e),Pf.push(e),Pf.length<=1&&document.addEventListener("keydown",JR)},updated(e){cn(()=>{e[lE]=nL(e)})},unmounted(){Pf.shift(),Pf.length===0&&document.removeEventListener("keydown",JR)}},uye=we({name:"ElMessageBox",directives:{TrapFocus:lye},components:{ElButton:Ra,ElFocusTrap:Lm,ElInput:Mo,ElOverlay:KC,ElIcon:tn,...bC},inheritAttrs:!1,props:{buttonSize:{type:String,validator:uF},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:a,size:o}=Ew("message-box",U(()=>e.buttonSize)),{t:s}=n,{nextZIndex:u}=r,d=re(!1),f=Ir({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ld(Ru),cancelButtonLoadingIcon:ld(Ru),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),h=U(()=>{const K=f.type;return{[a.bm("icon",K)]:K&&bd[K]}}),v=ja(),y=ja(),b=U(()=>{const K=f.type;return f.icon||K&&bd[K]||""}),w=U(()=>!!f.message),g=re(),x=re(),M=re(),R=re(),A=re(),T=U(()=>f.confirmButtonClass);bt(()=>f.inputValue,async K=>{await cn(),e.boxType==="prompt"&&K!==null&&$()},{immediate:!0}),bt(()=>d.value,K=>{var X,Z;K&&(e.boxType!=="prompt"&&(f.autofocus?M.value=(Z=(X=A.value)==null?void 0:X.$el)!=null?Z:g.value:M.value=g.value),f.zIndex=u()),e.boxType==="prompt"&&(K?cn().then(()=>{var j;R.value&&R.value.$el&&(f.autofocus?M.value=(j=Q())!=null?j:g.value:M.value=g.value)}):(f.editorErrorMessage="",f.validateError=!1))});const P=U(()=>e.draggable),I=U(()=>e.overflow);x4(g,x,P,I),Bn(async()=>{await cn(),e.closeOnHashChange&&window.addEventListener("hashchange",E)}),Yr(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",E)});function E(){d.value&&(d.value=!1,cn(()=>{f.action&&t("action",f.action)}))}const D=()=>{e.closeOnClickModal&&G(f.distinguishCancelAndClose?"close":"cancel")},N=qC(D),B=K=>{if(f.inputType!=="textarea")return K.preventDefault(),G("confirm")},G=K=>{var X;e.boxType==="prompt"&&K==="confirm"&&!$()||(f.action=K,f.beforeClose?(X=f.beforeClose)==null||X.call(f,K,f,E):E())},$=()=>{if(e.boxType==="prompt"){const K=f.inputPattern;if(K&&!K.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||s("el.messagebox.error"),f.validateError=!0,!1;const X=f.inputValidator;if(on(X)){const Z=X(f.inputValue);if(Z===!1)return f.editorErrorMessage=f.inputErrorMessage||s("el.messagebox.error"),f.validateError=!0,!1;if(nn(Z))return f.editorErrorMessage=Z,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},Q=()=>{var K,X;const Z=(K=R.value)==null?void 0:K.$refs;return(X=Z==null?void 0:Z.input)!=null?X:Z==null?void 0:Z.textarea},ae=()=>{G("close")},ee=()=>{e.closeOnPressEscape&&ae()};return e.lockScroll&&YC(d),{...ka(f),ns:a,overlayEvent:N,visible:d,hasMessage:w,typeClass:h,contentId:v,inputId:y,btnSize:o,iconComponent:b,confirmButtonClasses:T,rootRef:g,focusStartRef:M,headerRef:x,inputRef:R,confirmRef:A,doClose:E,handleClose:ae,onCloseRequested:ee,handleWrapperClick:D,handleInputEnter:B,handleAction:G,t:s}}});function cye(e,t,n,r,a,o){const s=Zt("el-icon"),u=Zt("close"),d=Zt("el-input"),f=Zt("el-button"),h=Zt("el-focus-trap"),v=Zt("el-overlay");return W(),tt(Ia,{name:"fade-in-linear",onAfterLeave:y=>e.$emit("vanish"),persisted:""},{default:be(()=>[kn(ce(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:be(()=>[fe("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:J("".concat(e.ns.namespace.value,"-overlay-message-box")),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[ce(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:be(()=>[fe("div",{ref:"rootRef",class:J([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:un(e.customStyle),tabindex:"-1",onClick:Sn(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(W(),ue("div",{key:0,ref:"headerRef",class:J([e.ns.e("header"),{"show-close":e.showClose}])},[fe("div",{class:J(e.ns.e("title"))},[e.iconComponent&&e.center?(W(),tt(s,{key:0,class:J([e.ns.e("status"),e.typeClass])},{default:be(()=>[(W(),tt(tr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),fe("span",null,Pt(e.title),1)],2),e.showClose?(W(),ue("button",{key:0,type:"button",class:J(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:y=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Jr(Sn(y=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[ce(s,{class:J(e.ns.e("close"))},{default:be(()=>[ce(u)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Ye("v-if",!0)],2)):Ye("v-if",!0),fe("div",{id:e.contentId,class:J(e.ns.e("content"))},[fe("div",{class:J(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(W(),tt(s,{key:0,class:J([e.ns.e("status"),e.typeClass])},{default:be(()=>[(W(),tt(tr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.hasMessage?(W(),ue("div",{key:1,class:J(e.ns.e("message"))},[Ue(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(W(),tt(tr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(W(),tt(tr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:be(()=>[Pn(Pt(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ye("v-if",!0)],2),kn(fe("div",{class:J(e.ns.e("input"))},[ce(d,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":y=>e.inputValue=y,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:J({invalid:e.validateError}),onKeydown:Jr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),fe("div",{class:J(e.ns.e("errormsg")),style:un({visibility:e.editorErrorMessage?"visible":"hidden"})},Pt(e.editorErrorMessage),7)],2),[[_r,e.showInput]])],10,["id"]),fe("div",{class:J(e.ns.e("btns"))},[e.showCancelButton?(W(),tt(f,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:J([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:y=>e.handleAction("cancel"),onKeydown:Jr(Sn(y=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:be(()=>[Pn(Pt(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Ye("v-if",!0),kn(ce(f,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:J([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:y=>e.handleAction("confirm"),onKeydown:Jr(Sn(y=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:be(()=>[Pn(Pt(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[_r,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[_r,e.visible]])]),_:3},8,["onAfterLeave"])}var dye=Ft(uye,[["render",cye],["__file","index.vue"]]);const v0=new Map,fye=e=>{let t=document.body;return e.appendTo&&(nn(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ho(e.appendTo)&&(t=e.appendTo),Ho(t)||(t=document.body)),t},hye=(e,t,n=null)=>{const r=ce(dye,e,on(e.message)||Mi(e.message)?{default:on(e.message)?e.message:()=>e.message}:null);return r.appContext=n,pd(r,t),fye(e).appendChild(t.firstElementChild),r.component},pye=()=>document.createElement("div"),mye=(e,t)=>{const n=pye();e.onVanish=()=>{pd(null,n),v0.delete(a)},e.onAction=o=>{const s=v0.get(a);let u;e.showInput?u={value:a.inputValue,action:o}:u=o,e.callback?e.callback(u,r.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(u)};const r=hye(e,n,t),a=r.proxy;for(const o in e)kr(e,o)&&!kr(a.$props,o)&&(a[o]=e[o]);return a.visible=!0,a};function Om(e,t=null){if(!wr)return Promise.reject();let n;return nn(e)||Mi(e)?e={message:e}:n=e.callback,new Promise((r,a)=>{const o=mye(e,t!=null?t:Om._context);v0.set(o,{options:e,callback:n,resolve:r,reject:a})})}const vye=["alert","confirm","prompt"],gye={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};vye.forEach(e=>{Om[e]=yye(e)});function yye(e){return(t,n,r,a)=>{let o="";return jn(n)?(r=n,o=""):Or(n)?o="":o=n,Om(Object.assign({title:o,message:t,type:"",...gye[e]},r,{boxType:e}),a)}}Om.close=()=>{v0.forEach((e,t)=>{t.doClose()}),v0.clear()};Om._context=null;const Jc=Om;Jc.install=e=>{Jc._context=e._context,e.config.globalProperties.$msgbox=Jc,e.config.globalProperties.$messageBox=Jc,e.config.globalProperties.$alert=Jc.alert,e.config.globalProperties.$confirm=Jc.confirm,e.config.globalProperties.$prompt=Jc.prompt};const bye=Jc,IB=["success","info","warning","error"],_ye=kt({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:ei},id:{type:String,default:""},message:{type:ze([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:ze(Function),default:()=>{}},onClose:{type:ze(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...IB,""],default:""},zIndex:Number}),wye={destroy:()=>!0},xye=we({name:"ElNotification"}),Sye=we({...xye,props:_ye,emits:wye,setup(e,{expose:t}){const n=e,{ns:r,zIndex:a}=Ew("notification"),{nextZIndex:o,currentZIndex:s}=a,{Close:u}=yC,d=re(!1);let f;const h=U(()=>{const A=n.type;return A&&bd[n.type]?r.m(A):""}),v=U(()=>n.type&&bd[n.type]||n.icon),y=U(()=>n.position.endsWith("right")?"right":"left"),b=U(()=>n.position.startsWith("top")?"top":"bottom"),w=U(()=>{var A;return{[b.value]:"".concat(n.offset,"px"),zIndex:(A=n.zIndex)!=null?A:s.value}});function g(){n.duration>0&&({stop:f}=qf(()=>{d.value&&M()},n.duration))}function x(){f==null||f()}function M(){d.value=!1}function R({code:A}){A===jt.delete||A===jt.backspace?x():A===jt.esc?d.value&&M():g()}return Bn(()=>{g(),o(),d.value=!0}),Kr(document,"keydown",R),t({visible:d,close:M}),(A,T)=>(W(),tt(Ia,{name:m(r).b("fade"),onBeforeLeave:A.onClose,onAfterLeave:P=>A.$emit("destroy"),persisted:""},{default:be(()=>[kn(fe("div",{id:A.id,class:J([m(r).b(),A.customClass,m(y)]),style:un(m(w)),role:"alert",onMouseenter:x,onMouseleave:g,onClick:A.onClick},[m(v)?(W(),tt(m(tn),{key:0,class:J([m(r).e("icon"),m(h)])},{default:be(()=>[(W(),tt(tr(m(v))))]),_:1},8,["class"])):Ye("v-if",!0),fe("div",{class:J(m(r).e("group"))},[fe("h2",{class:J(m(r).e("title")),textContent:Pt(A.title)},null,10,["textContent"]),kn(fe("div",{class:J(m(r).e("content")),style:un(A.title?void 0:{margin:0})},[Ue(A.$slots,"default",{},()=>[A.dangerouslyUseHTMLString?(W(),ue(rn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),fe("p",{innerHTML:A.message},null,8,["innerHTML"])],2112)):(W(),ue("p",{key:0},Pt(A.message),1))])],6),[[_r,A.message]]),A.showClose?(W(),tt(m(tn),{key:0,class:J(m(r).e("closeBtn")),onClick:Sn(M,["stop"])},{default:be(()=>[ce(m(u))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],2)],46,["id","onClick"]),[[_r,d.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Mye=Ft(Sye,[["__file","notification.vue"]]);const j_={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},uE=16;let Eye=1;const mm=function(e={},t){if(!wr)return{close:()=>{}};(nn(e)||Mi(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;j_[n].forEach(({vm:h})=>{var v;r+=(((v=h.el)==null?void 0:v.offsetHeight)||0)+uE}),r+=uE;const a="notification_".concat(Eye++),o=e.onClose,s={...e,offset:r,id:a,onClose:()=>{Cye(a,n,o)}};let u=document.body;Ho(e.appendTo)?u=e.appendTo:nn(e.appendTo)&&(u=document.querySelector(e.appendTo)),Ho(u)||(u=document.body);const d=document.createElement("div"),f=ce(Mye,s,on(s.message)?s.message:Mi(s.message)?()=>s.message:null);return f.appContext=Or(t)?mm._context:t,f.props.onDestroy=()=>{pd(null,d)},pd(f,d),j_[n].push({vm:f}),u.appendChild(d.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};IB.forEach(e=>{mm[e]=(t={},n)=>((nn(t)||Mi(t))&&(t={message:t}),mm({...t,type:e},n))});function Cye(e,t,n){const r=j_[t],a=r.findIndex(({vm:f})=>{var h;return((h=f.component)==null?void 0:h.props.id)===e});if(a===-1)return;const{vm:o}=r[a];if(!o)return;n==null||n(o);const s=o.el.offsetHeight,u=t.split("-")[0];r.splice(a,1);const d=r.length;if(!(d<1))for(let f=a;f<d;f++){const{el:h,component:v}=r[f].vm,y=Number.parseInt(h.style[u],10)-s-uE;v.props.offset=y}}function Tye(){for(const e of Object.values(j_))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}mm.closeAll=Tye;mm._context=null;const Aye=JD(mm,"$notify");var Lye=[$0e,K0e,sye,bye,Aye,q4],Rye=pX([...N0e,...Lye]);function OB(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pye}=Object.prototype,{getPrototypeOf:I2}=Object,$w=(e=>t=>{const n=Pye.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kl=e=>(e=e.toLowerCase(),t=>$w(t)===e),Gw=e=>t=>typeof t===e,{isArray:Dm}=Array,g0=Gw("undefined");function kye(e){return e!==null&&!g0(e)&&e.constructor!==null&&!g0(e.constructor)&&Os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DB=Kl("ArrayBuffer");function Iye(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&DB(e.buffer),t}const Oye=Gw("string"),Os=Gw("function"),NB=Gw("number"),Ww=e=>e!==null&&typeof e=="object",Dye=e=>e===!0||e===!1,s_=e=>{if($w(e)!=="object")return!1;const t=I2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nye=Kl("Date"),Fye=Kl("File"),Bye=Kl("Blob"),zye=Kl("FileList"),Vye=e=>Ww(e)&&Os(e.pipe),Uye=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Os(e.append)&&((t=$w(e))==="formdata"||t==="object"&&Os(e.toString)&&e.toString()==="[object FormData]"))},Hye=Kl("URLSearchParams"),[$ye,Gye,Wye,jye]=["ReadableStream","Request","Response","Headers"].map(Kl),qye=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function G0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Dm(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let u;for(r=0;r<s;r++)u=o[r],t.call(null,e[u],u,e)}}function FB(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const kf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BB=e=>!g0(e)&&e!==kf;function cE(){const{caseless:e}=BB(this)&&this||{},t={},n=(r,a)=>{const o=e&&FB(t,a)||a;s_(t[o])&&s_(r)?t[o]=cE(t[o],r):s_(r)?t[o]=cE({},r):Dm(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&G0(arguments[r],n);return t}const Kye=(e,t,n,{allOwnKeys:r}={})=>(G0(t,(a,o)=>{n&&Os(a)?e[o]=OB(a,n):e[o]=a},{allOwnKeys:r}),e),Yye=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xye=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Zye=(e,t,n,r)=>{let a,o,s;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)s=a[o],(!r||r(s,e,t))&&!u[s]&&(t[s]=e[s],u[s]=!0);e=n!==!1&&I2(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Jye=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Qye=e=>{if(!e)return null;if(Dm(e))return e;let t=e.length;if(!NB(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ebe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&I2(Uint8Array)),tbe=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},nbe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},rbe=Kl("HTMLFormElement"),ibe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),QR=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),abe=Kl("RegExp"),zB=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};G0(n,(a,o)=>{let s;(s=t(a,o,e))!==!1&&(r[o]=s||a)}),Object.defineProperties(e,r)},obe=e=>{zB(e,(t,n)=>{if(Os(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Os(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sbe=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Dm(e)?r(e):r(String(e).split(t)),n},lbe=()=>{},ube=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,jx="abcdefghijklmnopqrstuvwxyz",eP="0123456789",VB={DIGIT:eP,ALPHA:jx,ALPHA_DIGIT:jx+jx.toUpperCase()+eP},cbe=(e=16,t=VB.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function dbe(e){return!!(e&&Os(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const fbe=e=>{const t=new Array(10),n=(r,a)=>{if(Ww(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const o=Dm(r)?[]:{};return G0(r,(s,u)=>{const d=n(s,a+1);!g0(d)&&(o[u]=d)}),t[a]=void 0,o}}return r};return n(e,0)},hbe=Kl("AsyncFunction"),pbe=e=>e&&(Ww(e)||Os(e))&&Os(e.then)&&Os(e.catch),UB=((e,t)=>e?setImmediate:t?((n,r)=>(kf.addEventListener("message",({source:a,data:o})=>{a===kf&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),kf.postMessage(n,"*")}))("axios@".concat(Math.random()),[]):n=>setTimeout(n))(typeof setImmediate=="function",Os(kf.postMessage)),mbe=typeof queueMicrotask<"u"?queueMicrotask.bind(kf):typeof process<"u"&&process.nextTick||UB,Wt={isArray:Dm,isArrayBuffer:DB,isBuffer:kye,isFormData:Uye,isArrayBufferView:Iye,isString:Oye,isNumber:NB,isBoolean:Dye,isObject:Ww,isPlainObject:s_,isReadableStream:$ye,isRequest:Gye,isResponse:Wye,isHeaders:jye,isUndefined:g0,isDate:Nye,isFile:Fye,isBlob:Bye,isRegExp:abe,isFunction:Os,isStream:Vye,isURLSearchParams:Hye,isTypedArray:ebe,isFileList:zye,forEach:G0,merge:cE,extend:Kye,trim:qye,stripBOM:Yye,inherits:Xye,toFlatObject:Zye,kindOf:$w,kindOfTest:Kl,endsWith:Jye,toArray:Qye,forEachEntry:tbe,matchAll:nbe,isHTMLForm:rbe,hasOwnProperty:QR,hasOwnProp:QR,reduceDescriptors:zB,freezeMethods:obe,toObjectSet:sbe,toCamelCase:ibe,noop:lbe,toFiniteNumber:ube,findKey:FB,global:kf,isContextDefined:BB,ALPHABET:VB,generateString:cbe,isSpecCompliantForm:dbe,toJSONObject:fbe,isAsyncFn:hbe,isThenable:pbe,setImmediate:UB,asap:mbe};function Vr(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Wt.inherits(Vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wt.toJSONObject(this.config),code:this.code,status:this.status}}});const HB=Vr.prototype,$B={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$B[e]={value:e}});Object.defineProperties(Vr,$B);Object.defineProperty(HB,"isAxiosError",{value:!0});Vr.from=(e,t,n,r,a,o)=>{const s=Object.create(HB);return Wt.toFlatObject(e,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Vr.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const vbe=null;function dE(e){return Wt.isPlainObject(e)||Wt.isArray(e)}function GB(e){return Wt.endsWith(e,"[]")?e.slice(0,-2):e}function tP(e,t,n){return e?e.concat(t).map(function(a,o){return a=GB(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function gbe(e){return Wt.isArray(e)&&!e.some(dE)}const ybe=Wt.toFlatObject(Wt,{},null,function(t){return/^is[A-Z]/.test(t)});function jw(e,t,n){if(!Wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!Wt.isUndefined(x[g])});const r=n.metaTokens,a=n.visitor||h,o=n.dots,s=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Wt.isSpecCompliantForm(t);if(!Wt.isFunction(a))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Wt.isDate(w))return w.toISOString();if(!d&&Wt.isBlob(w))throw new Vr("Blob is not supported. Use a Buffer instead.");return Wt.isArrayBuffer(w)||Wt.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,g,x){let M=w;if(w&&!x&&typeof w=="object"){if(Wt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),w=JSON.stringify(w);else if(Wt.isArray(w)&&gbe(w)||(Wt.isFileList(w)||Wt.endsWith(g,"[]"))&&(M=Wt.toArray(w)))return g=GB(g),M.forEach(function(A,T){!(Wt.isUndefined(A)||A===null)&&t.append(s===!0?tP([g],T,o):s===null?g:g+"[]",f(A))}),!1}return dE(w)?!0:(t.append(tP(x,g,o),f(w)),!1)}const v=[],y=Object.assign(ybe,{defaultVisitor:h,convertValue:f,isVisitable:dE});function b(w,g){if(!Wt.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+g.join("."));v.push(w),Wt.forEach(w,function(M,R){(!(Wt.isUndefined(M)||M===null)&&a.call(t,M,Wt.isString(R)?R.trim():R,g,y))===!0&&b(M,g?g.concat(R):[R])}),v.pop()}}if(!Wt.isObject(e))throw new TypeError("data must be an object");return b(e),t}function nP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function O2(e,t){this._pairs=[],e&&jw(e,this,t)}const WB=O2.prototype;WB.append=function(t,n){this._pairs.push([t,n])};WB.toString=function(t){const n=t?function(r){return t.call(this,r,nP)}:nP;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function bbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jB(e,t,n){if(!t)return e;const r=n&&n.encode||bbe;Wt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=Wt.isURLSearchParams(t)?t.toString():new O2(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class rP{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Wt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_be=typeof URLSearchParams<"u"?URLSearchParams:O2,wbe=typeof FormData<"u"?FormData:null,xbe=typeof Blob<"u"?Blob:null,Sbe={isBrowser:!0,classes:{URLSearchParams:_be,FormData:wbe,Blob:xbe},protocols:["http","https","file","blob","url","data"]},D2=typeof window<"u"&&typeof document<"u",fE=typeof navigator=="object"&&navigator||void 0,Mbe=D2&&(!fE||["ReactNative","NativeScript","NS"].indexOf(fE.product)<0),Ebe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cbe=D2&&window.location.href||"http://localhost",Tbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:D2,hasStandardBrowserEnv:Mbe,hasStandardBrowserWebWorkerEnv:Ebe,navigator:fE,origin:Cbe},Symbol.toStringTag,{value:"Module"})),So={...Tbe,...Sbe};function Abe(e,t){return jw(e,new So.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return So.isNode&&Wt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Lbe(e){return Wt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rbe(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function KB(e){function t(n,r,a,o){let s=n[o++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),d=o>=n.length;return s=!s&&Wt.isArray(a)?a.length:s,d?(Wt.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!u):((!a[s]||!Wt.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],o)&&Wt.isArray(a[s])&&(a[s]=Rbe(a[s])),!u)}if(Wt.isFormData(e)&&Wt.isFunction(e.entries)){const n={};return Wt.forEachEntry(e,(r,a)=>{t(Lbe(r),a,n,0)}),n}return null}function Pbe(e,t,n){if(Wt.isString(e))try{return(t||JSON.parse)(e),Wt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const W0={transitional:qB,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=Wt.isObject(t);if(o&&Wt.isHTMLForm(t)&&(t=new FormData(t)),Wt.isFormData(t))return a?JSON.stringify(KB(t)):t;if(Wt.isArrayBuffer(t)||Wt.isBuffer(t)||Wt.isStream(t)||Wt.isFile(t)||Wt.isBlob(t)||Wt.isReadableStream(t))return t;if(Wt.isArrayBufferView(t))return t.buffer;if(Wt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Abe(t,this.formSerializer).toString();if((u=Wt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return jw(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),Pbe(t)):t}],transformResponse:[function(t){const n=this.transitional||W0.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Wt.isResponse(t)||Wt.isReadableStream(t))return t;if(t&&Wt.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(s)throw u.name==="SyntaxError"?Vr.from(u,Vr.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:So.classes.FormData,Blob:So.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wt.forEach(["delete","get","head","post","put","patch"],e=>{W0.headers[e]={}});const kbe=Wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ibe=e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&kbe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},iP=Symbol("internals");function rg(e){return e&&String(e).trim().toLowerCase()}function l_(e){return e===!1||e==null?e:Wt.isArray(e)?e.map(l_):String(e)}function Obe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Dbe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qx(e,t,n,r,a){if(Wt.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Wt.isString(t)){if(Wt.isString(r))return t.indexOf(r)!==-1;if(Wt.isRegExp(r))return r.test(t)}}function Nbe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Fbe(e,t){const n=Wt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,s){return this[r].call(this,t,a,o,s)},configurable:!0})})}let hs=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(u,d,f){const h=rg(d);if(!h)throw new Error("header name must be a non-empty string");const v=Wt.findKey(a,h);(!v||a[v]===void 0||f===!0||f===void 0&&a[v]!==!1)&&(a[v||d]=l_(u))}const s=(u,d)=>Wt.forEach(u,(f,h)=>o(f,h,d));if(Wt.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Wt.isString(t)&&(t=t.trim())&&!Dbe(t))s(Ibe(t),n);else if(Wt.isHeaders(t))for(const[u,d]of t.entries())o(d,u,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=rg(t),t){const r=Wt.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Obe(a);if(Wt.isFunction(n))return n.call(this,a,r);if(Wt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=rg(t),t){const r=Wt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||qx(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(s){if(s=rg(s),s){const u=Wt.findKey(r,s);u&&(!n||qx(r,r[u],u,n))&&(delete r[u],a=!0)}}return Wt.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||qx(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return Wt.forEach(this,(a,o)=>{const s=Wt.findKey(r,o);if(s){n[s]=l_(a),delete n[o];return}const u=t?Nbe(o):String(o).trim();u!==o&&delete n[o],n[u]=l_(a),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Wt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Wt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[iP]=this[iP]={accessors:{}}).accessors,a=this.prototype;function o(s){const u=rg(s);r[u]||(Fbe(a,s),r[u]=!0)}return Wt.isArray(t)?t.forEach(o):o(t),this}};hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Wt.reduceDescriptors(hs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Wt.freezeMethods(hs);function Kx(e,t){const n=this||W0,r=t||n,a=hs.from(r.headers);let o=r.data;return Wt.forEach(e,function(u){o=u.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function YB(e){return!!(e&&e.__CANCEL__)}function Nm(e,t,n){Vr.call(this,e==null?"canceled":e,Vr.ERR_CANCELED,t,n),this.name="CanceledError"}Wt.inherits(Nm,Vr,{__CANCEL__:!0});function XB(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Vr("Request failed with status code "+n.status,[Vr.ERR_BAD_REQUEST,Vr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Bbe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zbe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,s;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),h=r[o];s||(s=f),n[a]=d,r[a]=f;let v=o,y=0;for(;v!==a;)y+=n[v++],v=v%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),f-s<t)return;const b=h&&f-h;return b?Math.round(y*1e3/b):void 0}}function Vbe(e,t){let n=0,r=1e3/t,a,o;const s=(f,h=Date.now())=>{n=h,a=null,o&&(clearTimeout(o),o=null),e.apply(null,f)};return[(...f)=>{const h=Date.now(),v=h-n;v>=r?s(f,h):(a=f,o||(o=setTimeout(()=>{o=null,s(a)},r-v)))},()=>a&&s(a)]}const q_=(e,t,n=3)=>{let r=0;const a=zbe(50,250);return Vbe(o=>{const s=o.loaded,u=o.lengthComputable?o.total:void 0,d=s-r,f=a(d),h=s<=u;r=s;const v={loaded:s,total:u,progress:u?s/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&h?(u-s)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(v)},n)},aP=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},oP=e=>(...t)=>Wt.asap(()=>e(...t)),Ube=So.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,So.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(So.origin),So.navigator&&/(msie|trident)/i.test(So.navigator.userAgent)):()=>!0,Hbe=So.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const s=[e+"="+encodeURIComponent(t)];Wt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Wt.isString(r)&&s.push("path="+r),Wt.isString(a)&&s.push("domain="+a),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $be(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gbe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ZB(e,t){return e&&!$be(t)?Gbe(e,t):t}const sP=e=>e instanceof hs?{...e}:e;function Qf(e,t){t=t||{};const n={};function r(f,h,v,y){return Wt.isPlainObject(f)&&Wt.isPlainObject(h)?Wt.merge.call({caseless:y},f,h):Wt.isPlainObject(h)?Wt.merge({},h):Wt.isArray(h)?h.slice():h}function a(f,h,v,y){if(Wt.isUndefined(h)){if(!Wt.isUndefined(f))return r(void 0,f,v,y)}else return r(f,h,v,y)}function o(f,h){if(!Wt.isUndefined(h))return r(void 0,h)}function s(f,h){if(Wt.isUndefined(h)){if(!Wt.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function u(f,h,v){if(v in t)return r(f,h);if(v in e)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(f,h,v)=>a(sP(f),sP(h),v,!0)};return Wt.forEach(Object.keys(Object.assign({},e,t)),function(h){const v=d[h]||a,y=v(e[h],t[h],h);Wt.isUndefined(y)&&v!==u||(n[h]=y)}),n}const JB=e=>{const t=Qf({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:s,auth:u}=t;t.headers=s=hs.from(s),t.url=jB(ZB(t.baseURL,t.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(Wt.isFormData(n)){if(So.hasStandardBrowserEnv||So.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((d=s.getContentType())!==!1){const[f,...h]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...h].join("; "))}}if(So.hasStandardBrowserEnv&&(r&&Wt.isFunction(r)&&(r=r(t)),r||r!==!1&&Ube(t.url))){const f=a&&o&&Hbe.read(o);f&&s.set(a,f)}return t},Wbe=typeof XMLHttpRequest<"u",jbe=Wbe&&function(e){return new Promise(function(n,r){const a=JB(e);let o=a.data;const s=hs.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=a,h,v,y,b,w;function g(){b&&b(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function M(){if(!x)return;const A=hs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:A,config:e,request:x};XB(function(E){n(E),g()},function(E){r(E),g()},P),x=null}"onloadend"in x?x.onloadend=M:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(M)},x.onabort=function(){x&&(r(new Vr("Request aborted",Vr.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new Vr("Network Error",Vr.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||qB;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),r(new Vr(T,P.clarifyTimeoutError?Vr.ETIMEDOUT:Vr.ECONNABORTED,e,x)),x=null},o===void 0&&s.setContentType(null),"setRequestHeader"in x&&Wt.forEach(s.toJSON(),function(T,P){x.setRequestHeader(P,T)}),Wt.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),u&&u!=="json"&&(x.responseType=a.responseType),f&&([y,w]=q_(f,!0),x.addEventListener("progress",y)),d&&x.upload&&([v,b]=q_(d),x.upload.addEventListener("progress",v),x.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(h=A=>{x&&(r(!A||A.type?new Nm(null,e,x):A),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const R=Bbe(a.url);if(R&&So.protocols.indexOf(R)===-1){r(new Vr("Unsupported protocol "+R+":",Vr.ERR_BAD_REQUEST,e));return}x.send(o||null)})},qbe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(f){if(!a){a=!0,u();const h=f instanceof Error?f:this.reason;r.abort(h instanceof Vr?h:new Nm(h instanceof Error?h.message:h))}};let s=t&&setTimeout(()=>{s=null,o(new Vr("timeout ".concat(t," of ms exceeded"),Vr.ETIMEDOUT))},t);const u=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),e=null)};e.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>Wt.asap(u),d}},Kbe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Ybe=async function*(e,t){for await(const n of Xbe(e))yield*Kbe(n,t)},Xbe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},lP=(e,t,n,r)=>{const a=Ybe(e,t);let o=0,s,u=d=>{s||(s=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await a.next();if(f){u(),d.close();return}let v=h.byteLength;if(n){let y=o+=v;n(y)}d.enqueue(new Uint8Array(h))}catch(f){throw u(f),f}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},qw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QB=qw&&typeof ReadableStream=="function",Zbe=qw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ez=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Jbe=QB&&ez(()=>{let e=!1;const t=new Request(So.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),uP=64*1024,hE=QB&&ez(()=>Wt.isReadableStream(new Response("").body)),K_={stream:hE&&(e=>e.body)};qw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!K_[t]&&(K_[t]=Wt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Vr("Response type '".concat(t,"' is not supported"),Vr.ERR_NOT_SUPPORT,r)})})})(new Response);const Qbe=async e=>{if(e==null)return 0;if(Wt.isBlob(e))return e.size;if(Wt.isSpecCompliantForm(e))return(await new Request(So.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Wt.isArrayBufferView(e)||Wt.isArrayBuffer(e))return e.byteLength;if(Wt.isURLSearchParams(e)&&(e=e+""),Wt.isString(e))return(await Zbe(e)).byteLength},e_e=async(e,t)=>{const n=Wt.toFiniteNumber(e.getContentLength());return n==null?Qbe(t):n},t_e=qw&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:s,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:h,withCredentials:v="same-origin",fetchOptions:y}=JB(e);f=f?(f+"").toLowerCase():"text";let b=qbe([a,o&&o.toAbortSignal()],s),w;const g=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let x;try{if(d&&Jbe&&n!=="get"&&n!=="head"&&(x=await e_e(h,r))!==0){let P=new Request(t,{method:"POST",body:r,duplex:"half"}),I;if(Wt.isFormData(r)&&(I=P.headers.get("content-type"))&&h.setContentType(I),P.body){const[E,D]=aP(x,q_(oP(d)));r=lP(P.body,uP,E,D)}}Wt.isString(v)||(v=v?"include":"omit");const M="credentials"in Request.prototype;w=new Request(t,{...y,signal:b,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:M?v:void 0});let R=await fetch(w);const A=hE&&(f==="stream"||f==="response");if(hE&&(u||A&&g)){const P={};["status","statusText","headers"].forEach(N=>{P[N]=R[N]});const I=Wt.toFiniteNumber(R.headers.get("content-length")),[E,D]=u&&aP(I,q_(oP(u),!0))||[];R=new Response(lP(R.body,uP,E,()=>{D&&D(),g&&g()}),P)}f=f||"text";let T=await K_[Wt.findKey(K_,f)||"text"](R,e);return!A&&g&&g(),await new Promise((P,I)=>{XB(P,I,{data:T,headers:hs.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:w})})}catch(M){throw g&&g(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Vr("Network Error",Vr.ERR_NETWORK,e,w),{cause:M.cause||M}):Vr.from(M,M&&M.code,e,w)}}),pE={http:vbe,xhr:jbe,fetch:t_e};Wt.forEach(pE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const cP=e=>"- ".concat(e),n_e=e=>Wt.isFunction(e)||e===null||e===!1,tz={getAdapter:e=>{e=Wt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!n_e(n)&&(r=pE[(s=String(n)).toLowerCase()],r===void 0))throw new Vr("Unknown adapter '".concat(s,"'"));if(r)break;a[s||"#"+o]=r}if(!r){const o=Object.entries(a).map(([u,d])=>"adapter ".concat(u," ")+(d===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?"since :\n"+o.map(cP).join("\n"):" "+cP(o[0]):"as no adapter specified";throw new Vr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:pE};function Yx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nm(null,e)}function dP(e){return Yx(e),e.headers=hs.from(e.headers),e.data=Kx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tz.getAdapter(e.adapter||W0.adapter)(e).then(function(r){return Yx(e),r.data=Kx.call(e,e.transformResponse,r),r.headers=hs.from(r.headers),r},function(r){return YB(r)||(Yx(e),r&&r.response&&(r.response.data=Kx.call(e,e.transformResponse,r.response),r.response.headers=hs.from(r.response.headers))),Promise.reject(r)})}const nz="1.7.9",Kw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const fP={};Kw.transitional=function(t,n,r){function a(o,s){return"[Axios v"+nz+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,u)=>{if(t===!1)throw new Vr(a(s," has been removed"+(n?" in "+n:"")),Vr.ERR_DEPRECATED);return n&&!fP[s]&&(fP[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,u):!0}};Kw.spelling=function(t){return(n,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(t)),!0)};function r_e(e,t,n){if(typeof e!="object")throw new Vr("options must be an object",Vr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],s=t[o];if(s){const u=e[o],d=u===void 0||s(u,o,e);if(d!==!0)throw new Vr("option "+o+" must be "+d,Vr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vr("Unknown option "+o,Vr.ERR_BAD_OPTION)}}const u_={assertOptions:r_e,validators:Kw},mu=u_.validators;let Vf=class{constructor(t){this.defaults=t,this.interceptors={request:new rP,response:new rP}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+o):r.stack=o}catch(s){}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Qf(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&u_.assertOptions(r,{silentJSONParsing:mu.transitional(mu.boolean),forcedJSONParsing:mu.transitional(mu.boolean),clarifyTimeoutError:mu.transitional(mu.boolean)},!1),a!=null&&(Wt.isFunction(a)?n.paramsSerializer={serialize:a}:u_.assertOptions(a,{encode:mu.function,serialize:mu.function},!0)),u_.assertOptions(n,{baseUrl:mu.spelling("baseURL"),withXsrfToken:mu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Wt.merge(o.common,o[n.method]);o&&Wt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=hs.concat(s,o);const u=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(d=d&&g.synchronous,u.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let h,v=0,y;if(!d){const w=[dP.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),y=w.length,h=Promise.resolve(n);v<y;)h=h.then(w[v++],w[v++]);return h}y=u.length;let b=n;for(v=0;v<y;){const w=u[v++],g=u[v++];try{b=w(b)}catch(x){g.call(this,x);break}}try{h=dP.call(this,b)}catch(w){return Promise.reject(w)}for(v=0,y=f.length;v<y;)h=h.then(f[v++],f[v++]);return h}getUri(t){t=Qf(this.defaults,t);const n=ZB(t.baseURL,t.url);return jB(n,t.params,t.paramsSerializer)}};Wt.forEach(["delete","get","head","options"],function(t){Vf.prototype[t]=function(n,r){return this.request(Qf(r||{},{method:t,url:n,data:(r||{}).data}))}});Wt.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,u){return this.request(Qf(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Vf.prototype[t]=n(),Vf.prototype[t+"Form"]=n(!0)});let i_e=class rz{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const s=new Promise(u=>{r.subscribe(u),o=u}).then(a);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,u){r.reason||(r.reason=new Nm(o,s,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rz(function(a){t=a}),cancel:t}}};function a_e(e){return function(n){return e.apply(null,n)}}function o_e(e){return Wt.isObject(e)&&e.isAxiosError===!0}const mE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mE).forEach(([e,t])=>{mE[t]=e});function iz(e){const t=new Vf(e),n=OB(Vf.prototype.request,t);return Wt.extend(n,Vf.prototype,t,{allOwnKeys:!0}),Wt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return iz(Qf(e,a))},n}const ga=iz(W0);ga.Axios=Vf;ga.CanceledError=Nm;ga.CancelToken=i_e;ga.isCancel=YB;ga.VERSION=nz;ga.toFormData=jw;ga.AxiosError=Vr;ga.Cancel=ga.CanceledError;ga.all=function(t){return Promise.all(t)};ga.spread=a_e;ga.isAxiosError=o_e;ga.mergeConfig=Qf;ga.AxiosHeaders=hs;ga.formToJSON=e=>KB(Wt.isHTMLForm(e)?new FormData(e):e);ga.getAdapter=tz.getAdapter;ga.HttpStatusCode=mE;ga.default=ga;const{Axios:s2e,AxiosError:l2e,CanceledError:u2e,isCancel:c2e,CancelToken:d2e,VERSION:f2e,all:h2e,Cancel:p2e,isAxiosError:m2e,spread:v2e,toFormData:g2e,AxiosHeaders:y2e,HttpStatusCode:b2e,formToJSON:_2e,getAdapter:w2e,mergeConfig:x2e}=ga,s_e={components:{},data(){return{dialogVisible:!1,fileName:"",file:null}},methods:{openDialog(){this.dialogVisible=!0,this.fileName="",this.file=null},handleClose(e){this.$confirm("").then(()=>{this.fileName="",this.file=null,e()}).catch(()=>{})},handleFileChange(e,t){this.fileName=e.name,this.file=e},beforeFileUpload(e){return e.name.toLowerCase().endsWith(".dxf")?!0:(this.$message.error(" DXF "),!1)},handleSubmit(){this.file?(console.log(":",this.file),this.$message.success(""),this.dialogVisible=!1):this.$message.warning("")}}},l_e={key:0,style:{"margin-top":"20px"}},u_e={class:"code-editor-wrapper"},c_e={id:"dxf-view",ref:"dxfView",class:"dxfView"};function d_e(e,t,n,r,a,o){const s=Zt("el-button"),u=Zt("el-upload"),d=Zt("el-tag"),f=Zt("el-dialog"),h=E0("loading");return W(),ue("div",null,[ce(s,{type:"primary",onClick:o.openDialog},{default:be(()=>t[2]||(t[2]=[Pn("")])),_:1},8,["onClick"]),ce(f,{title:"",modelValue:a.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=v=>a.dialogVisible=v),width:"30%","before-close":o.handleClose},{footer:be(()=>[ce(s,{onClick:t[0]||(t[0]=v=>a.dialogVisible=!1)},{default:be(()=>t[6]||(t[6]=[Pn("")])),_:1}),ce(s,{type:"primary",onClick:o.handleSubmit,disabled:!a.fileName},{default:be(()=>t[7]||(t[7]=[Pn("")])),_:1},8,["onClick","disabled"])]),default:be(()=>[ce(u,{"on-change":o.handleFileChange,"before-upload":o.beforeFileUpload,limit:1,"show-file-list":!1,accept:".dxf"},{tip:be(()=>t[4]||(t[4]=[fe("div",{class:"el-upload__tip"}," DXF ",-1)])),default:be(()=>[ce(s,{type:"primary"},{default:be(()=>t[3]||(t[3]=[Pn("")])),_:1})]),_:1},8,["on-change","before-upload"]),a.fileName?(W(),ue("div",l_e,[t[5]||(t[5]=fe("span",null,": ",-1)),ce(d,{type:"success"},{default:be(()=>[Pn(Pt(a.fileName),1)]),_:1})])):Ye("",!0),kn((W(),ue("div",u_e,[fe("div",c_e,null,512)])),[[h,e.dxfLoading]])]),_:1},8,["modelValue","before-close"])])}const f_e=ll(s_e,[["render",d_e],["__scopeId","data-v-b9f111b5"]]),h_e={class:"flex flex-wrap gap-4 p-4"},p_e={class:"action-bar"},m_e={key:0,class:"plan-content"},v_e={class:"thumbnail-container"},g_e={class:"details"},y_e={class:"name"},b_e={class:"area"},__e={class:"operators"},w_e={key:1},x_e={class:"operators"},S_e={__name:"FloorPlanSelect",emits:["select-plan"],setup(e,{emit:t}){const n=t,r=re([]);var a=re(!1);const o=re([{name:"T4-1209090120",area:"110-130",visibleEdit:!1},{name:"T4-130110110130",area:"130-150",visibleEdit:!1},{name:"T4-150110110150",area:"130-150",visibleEdit:!1},{name:"T4-909090120",area:"90-110",visibleEdit:!1}]),s=re([]);function u(v){v.visibleEdit=!v.visibleEdit,a=!0}function d(v){v&&s.value.push(v)}const f=v=>{if(a){a=!1;return}const y=r.value.indexOf(v);y===-1?r.value.push(v):r.value.splice(y,1),n("select-plan",r.value)},h=(v,y,b)=>{v.clearRect(0,0,y,b),v.fillStyle="#f5f7fa",v.fillRect(0,0,y,b),v.strokeStyle="#409EFF",v.lineWidth=2;const w=10,g=y-2*w,x=b-2*w;v.beginPath(),v.rect(w,w,g,x),v.stroke(),v.lineWidth=2,v.beginPath(),v.moveTo(w,b/2),v.lineTo(35-w,b/2),v.stroke(),v.beginPath(),v.moveTo(y/2,w),v.lineTo(y/2,b-w),v.stroke(),v.strokeStyle="#67C23A",v.lineWidth=2;const M=15;v.beginPath(),v.arc(w,b/2,M,0,Math.PI/2),v.stroke()};return Bn(()=>{s.value.forEach((v,y)=>{const b=v.getContext("2d"),w=v.width=160,g=v.height=160;h(b,w,g)})}),(v,y)=>{const b=Zt("el-icon"),w=Zt("el-button"),g=Zt("el-input"),x=Zt("el-form-item"),M=Zt("el-input-number"),R=Zt("el-form"),A=Zt("el-scrollbar"),T=Zt("el-card");return W(),ue("div",h_e,[fe("div",p_e,[ce(f_e)]),(W(!0),ue(rn,null,ar(o.value,(P,I)=>(W(),tt(T,{key:I,class:J(["plan-card",{selected:r.value.includes(P)}]),shadow:"hover",onClick:E=>f(P)},{default:be(()=>[P.visibleEdit?(W(),ue("div",w_e,[ce(A,{height:"260px",class:"form-scrollbar",always:""},{default:be(()=>[ce(R,{model:P,"label-position":"top"},{default:be(()=>[ce(x,{label:""},{default:be(()=>[ce(g,{modelValue:P.name,"onUpdate:modelValue":E=>P.name=E,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ce(x,{label:""},{default:be(()=>[ce(g,{modelValue:P.area,"onUpdate:modelValue":E=>P.area=E,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ce(x,{label:""},{default:be(()=>[ce(M,{modelValue:P.floorHeight,"onUpdate:modelValue":E=>P.floorHeight=E,min:1,max:30,step:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model"])]),_:2},1024),fe("div",x_e,[ce(w,{type:"primary",onClick:E=>u(P)},{default:be(()=>y[1]||(y[1]=[Pn("Back")])),_:2},1032,["onClick"])])])):(W(),ue("div",m_e,[fe("div",v_e,[fe("canvas",{ref_for:!0,ref:d,class:"thumbnail"}),r.value.includes(P)?(W(),tt(b,{key:0,style:{margin:"10px"},class:"selected-icon"},{default:be(()=>[ce(m(h$))]),_:1})):Ye("",!0)]),fe("div",g_e,[fe("p",y_e,"Apartment Layout Name: "+Pt(P.name),1),fe("p",b_e,"Area: "+Pt(P.area)+" sqm",1)]),fe("div",__e,[ce(w,{type:"primary",onClick:E=>u(P)},{default:be(()=>y[0]||(y[0]=[Pn("Edit")])),_:2},1032,["onClick"])])]))]),_:2},1032,["class","onClick"]))),128))])}}},M_e=ll(S_e,[["__scopeId","data-v-5e3cd9a0"]]);/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var az="store";function y0(e){return e===void 0&&(e=null),qt(e!==null?e:az)}function Fm(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function E_e(e){return e!==null&&typeof e=="object"}function C_e(e){return e&&typeof e.then=="function"}function T_e(e,t){return function(){return e(t)}}function oz(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function sz(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Yw(e,n,[],e._modules.root,!0),N2(e,n,t)}function N2(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,o={};Fm(a,function(s,u){o[u]=T_e(s,e),Object.defineProperty(e.getters,u,{get:function(){return o[u]()},enumerable:!0})}),e._state=Ir({data:t}),e.strict&&k_e(e),r&&n&&e._withCommit(function(){r.data=null})}function Yw(e,t,n,r,a){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!a){var u=F2(t,n.slice(0,-1)),d=n[n.length-1];e._withCommit(function(){u[d]=r.state})}var f=r.context=A_e(e,s,n);r.forEachMutation(function(h,v){var y=s+v;L_e(e,y,h,f)}),r.forEachAction(function(h,v){var y=h.root?v:s+v,b=h.handler||h;R_e(e,y,b,f)}),r.forEachGetter(function(h,v){var y=s+v;P_e(e,y,h,f)}),r.forEachChild(function(h,v){Yw(e,t,n.concat(v),h,a)})}function A_e(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(o,s,u){var d=Y_(o,s,u),f=d.payload,h=d.options,v=d.type;return(!h||!h.root)&&(v=t+v),e.dispatch(v,f)},commit:r?e.commit:function(o,s,u){var d=Y_(o,s,u),f=d.payload,h=d.options,v=d.type;(!h||!h.root)&&(v=t+v),e.commit(v,f,h)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return lz(e,t)}},state:{get:function(){return F2(e.state,n)}}}),a}function lz(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var o=a.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function L_e(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(s){n.call(e,r.state,s)})}function R_e(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(s){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return C_e(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(d){throw e._devtoolHook.emit("vuex:error",d),d}):u})}function P_e(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function k_e(e){bt(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function F2(e,t){return t.reduce(function(n,r){return n[r]},e)}function Y_(e,t,n){return E_e(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var I_e="vuex bindings",hP="vuex:mutations",Xx="vuex:actions",ap="vuex",O_e=0;function D_e(e,t){U$({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I_e]},function(n){n.addTimelineLayer({id:hP,label:"Vuex Mutations",color:pP}),n.addTimelineLayer({id:Xx,label:"Vuex Actions",color:pP}),n.addInspector({id:ap,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===ap)if(r.filter){var a=[];fz(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[dz(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===ap){var a=r.nodeId;lz(t,a),r.state=B_e(V_e(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===ap){var a=r.nodeId,o=r.path;a!=="root"&&(o=a.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,a){var o={};r.payload&&(o.payload=r.payload),o.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(ap),n.sendInspectorState(ap),n.addTimelineEvent({layerId:hP,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,a){var o={};r.payload&&(o.payload=r.payload),r._id=O_e++,r._time=Date.now(),o.state=a,n.addTimelineEvent({layerId:Xx,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,a){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=a,n.addTimelineEvent({layerId:Xx,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var pP=8702998,N_e=6710886,F_e=16777215,uz={label:"namespaced",textColor:F_e,backgroundColor:N_e};function cz(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function dz(e,t){return{id:t||"root",label:cz(t),tags:e.namespaced?[uz]:[],children:Object.keys(e._children).map(function(n){return dz(e._children[n],t+n+"/")})}}function fz(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[uz]:[]}),Object.keys(t._children).forEach(function(a){fz(e,t._children[a],n,r+a+"/")})}function B_e(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=z_e(t);a.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?cz(s):s,editable:!1,value:vE(function(){return o[s]})}})}return a}function z_e(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,o=r.pop();r.forEach(function(s){a[s]||(a[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),a=a[s]._custom.value}),a[o]=vE(function(){return e[n]})}else t[n]=vE(function(){return e[n]})}),t}function V_e(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,o){var s=r[a];if(!s)throw new Error('Missing module "'+a+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function vE(e){try{return e()}catch(t){return t}}var Yl=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},hz={namespaced:{configurable:!0}};hz.namespaced.get=function(){return!!this._rawModule.namespaced};Yl.prototype.addChild=function(t,n){this._children[t]=n};Yl.prototype.removeChild=function(t){delete this._children[t]};Yl.prototype.getChild=function(t){return this._children[t]};Yl.prototype.hasChild=function(t){return t in this._children};Yl.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Yl.prototype.forEachChild=function(t){Fm(this._children,t)};Yl.prototype.forEachGetter=function(t){this._rawModule.getters&&Fm(this._rawModule.getters,t)};Yl.prototype.forEachAction=function(t){this._rawModule.actions&&Fm(this._rawModule.actions,t)};Yl.prototype.forEachMutation=function(t){this._rawModule.mutations&&Fm(this._rawModule.mutations,t)};Object.defineProperties(Yl.prototype,hz);var lh=function(t){this.register([],t,!1)};lh.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};lh.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};lh.prototype.update=function(t){pz([],this.root,t)};lh.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var o=new Yl(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&Fm(n.modules,function(u,d){a.register(t.concat(d),u,r)})};lh.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);a&&a.runtime&&n.removeChild(r)};lh.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function pz(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;pz(e.concat(r),t.getChild(r),n.modules[r])}}function U_e(e){return new ms(e)}var ms=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new lh(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var s=this,u=this,d=u.dispatch,f=u.commit;this.dispatch=function(y,b){return d.call(s,y,b)},this.commit=function(y,b,w){return f.call(s,y,b,w)},this.strict=a;var h=this._modules.root.state;Yw(this,h,[],this._modules.root),N2(this,h),r.forEach(function(v){return v(n)})},B2={state:{configurable:!0}};ms.prototype.install=function(t,n){t.provide(n||az,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&D_e(t,this)};B2.state.get=function(){return this._state.data};B2.state.set=function(e){};ms.prototype.commit=function(t,n,r){var a=this,o=Y_(t,n,r),s=o.type,u=o.payload,d={type:s,payload:u},f=this._mutations[s];f&&(this._withCommit(function(){f.forEach(function(v){v(u)})}),this._subscribers.slice().forEach(function(h){return h(d,a.state)}))};ms.prototype.dispatch=function(t,n){var r=this,a=Y_(t,n),o=a.type,s=a.payload,u={type:o,payload:s},d=this._actions[o];if(d){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(u,r.state)})}catch(h){}var f=d.length>1?Promise.all(d.map(function(h){return h(s)})):d[0](s);return new Promise(function(h,v){f.then(function(y){try{r._actionSubscribers.filter(function(b){return b.after}).forEach(function(b){return b.after(u,r.state)})}catch(b){}h(y)},function(y){try{r._actionSubscribers.filter(function(b){return b.error}).forEach(function(b){return b.error(u,r.state,y)})}catch(b){}v(y)})})}};ms.prototype.subscribe=function(t,n){return oz(t,this._subscribers,n)};ms.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return oz(r,this._actionSubscribers,n)};ms.prototype.watch=function(t,n,r){var a=this;return bt(function(){return t(a.state,a.getters)},n,Object.assign({},r))};ms.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ms.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Yw(this,this.state,t,this._modules.get(t),r.preserveState),N2(this,this.state)};ms.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=F2(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),sz(this)};ms.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ms.prototype.hotUpdate=function(t){this._modules.update(t),sz(this,!0)};ms.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ms.prototype,B2);const H_e={components:{},setup(e,{emit:t}){const n=re(!1),r=re({lotNo:"",address:"",street1:"",street2:"",street3:"",siteArea:0,siteBoundary:"",abuttingStreet:0,ozpZone:"",maxPR:0,maxDomPR:0,maxNonDomPR:0,maxSC:0,overallDomGFA:0,overallNonDomGFA:0,bonusGFA:0,buildingHeight:0,openSpace:0,greeneryArea:0,gfaConcession:"N"}),a=re([]),o=re(""),s=re([]),u=re(!1),d=()=>{n.value=!n.value},f=()=>{t("calculate",r.value)},h=async()=>{if(!o.value.trim())return;a.value.push({sender:"user",text:o.value});const b=o.value;o.value="";const w={messages:[{role:"user",content:b}],model:"deepseek-chat",stream:!0},g="sk-eec6b132398d496abcea300fec4eeeb0";try{const x=await fetch("/api/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/json"},body:JSON.stringify(w)});if(!x.ok)throw new Error("Network response was not ok");const M=x.body.getReader(),R=new TextDecoder("utf-8");if(M)for(;;){const{done:A,value:T}=await M.read();if(A)break;const P=R.decode(T,{stream:!0});a.value.push({sender:"ai",text:P.choices[0].delta.content})}}catch(x){console.error("API :",x)}},v=()=>{u.value=!0;const{siteArea:b,maxPR:w}=r.value;s.value=[];for(let g=0;g<10;g++){const x=b*w*(.8+Math.random()*.4),M=20+Math.random()*30,R=w*(.8+Math.random()*.4);s.value.push({gfa:x.toFixed(2),height:M.toFixed(2),pr:R.toFixed(2)})}},y=b=>{r.value.overallDomGFA=b.gfa,r.value.buildingHeight=b.height,s.value=[],u.value=!1};return y0(),{isAIMode:n,formData:r,chatMessages:a,userInput:o,schemes:s,dialogVisible:u,toggleMode:d,submitForm:f,sendMessage:h,generateSchemes:v,selectScheme:y}}},$_e={class:"grid_container"},G_e={key:1,class:"ai-mode"},W_e={class:"chat-messages"};function j_e(e,t,n,r,a,o){const s=Zt("el-input"),u=Zt("el-form-item"),d=Zt("el-input-number"),f=Zt("el-radio"),h=Zt("el-radio-group"),v=Zt("el-row"),y=Zt("el-form"),b=Zt("el-text"),w=Zt("el-card");return W(),ue("div",$_e,[r.isAIMode?(W(),ue("div",G_e,[ce(w,{class:"chat-window"},{default:be(()=>[fe("div",W_e,[(W(!0),ue(rn,null,ar(r.chatMessages,(g,x)=>(W(),ue("div",{key:x,class:J(g.sender)},[ce(b,{type:g.sender==="user"?"success":"info"},{default:be(()=>[Pn(Pt(g.text),1)]),_:2},1032,["type"])],2))),128))]),ce(s,{modelValue:r.userInput,"onUpdate:modelValue":t[20]||(t[20]=g=>r.userInput=g),onKeyup:Jr(r.sendMessage,["enter"]),placeholder:"..."},null,8,["modelValue","onKeyup"])]),_:1})])):(W(),tt(y,{key:0,model:r.formData,"label-position":"top",onSubmit:Sn(r.submitForm,["prevent"])},{default:be(()=>[ce(v,null,{default:be(()=>[ce(u,{label:"Lot no.:",prop:"lotNo",class:"form-item"},{default:be(()=>[ce(s,{modelValue:r.formData.lotNo,"onUpdate:modelValue":t[0]||(t[0]=g=>r.formData.lotNo=g),required:""},null,8,["modelValue"])]),_:1}),ce(u,{label:":",prop:"address"},{default:be(()=>[ce(s,{modelValue:r.formData.address,"onUpdate:modelValue":t[1]||(t[1]=g=>r.formData.address=g),required:""},null,8,["modelValue"])]),_:1}),ce(u,{label:" 1:",prop:"street1"},{default:be(()=>[ce(s,{modelValue:r.formData.street1,"onUpdate:modelValue":t[2]||(t[2]=g=>r.formData.street1=g)},null,8,["modelValue"])]),_:1}),ce(u,{label:" 2:",prop:"street2"},{default:be(()=>[ce(s,{modelValue:r.formData.street2,"onUpdate:modelValue":t[3]||(t[3]=g=>r.formData.street2=g)},null,8,["modelValue"])]),_:1}),ce(u,{label:" 3:",prop:"street3"},{default:be(()=>[ce(s,{modelValue:r.formData.street3,"onUpdate:modelValue":t[4]||(t[4]=g=>r.formData.street3=g)},null,8,["modelValue"])]),_:1}),ce(u,{label:" (A):",prop:"siteArea"},{default:be(()=>[ce(d,{modelValue:r.formData.siteArea,"onUpdate:modelValue":t[5]||(t[5]=g=>r.formData.siteArea=g),min:0,required:""},null,8,["modelValue"])]),_:1}),ce(u,{label:" (W):",prop:"siteBoundary"},{default:be(()=>[ce(s,{modelValue:r.formData.siteBoundary,"onUpdate:modelValue":t[6]||(t[6]=g=>r.formData.siteBoundary=g)},null,8,["modelValue"])]),_:1}),ce(u,{label:" (X):",prop:"abuttingStreet"},{default:be(()=>[ce(d,{modelValue:r.formData.abuttingStreet,"onUpdate:modelValue":t[7]||(t[7]=g=>r.formData.abuttingStreet=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:"OZP :",prop:"ozpZone"},{default:be(()=>[ce(s,{modelValue:r.formData.ozpZone,"onUpdate:modelValue":t[8]||(t[8]=g=>r.formData.ozpZone=g)},null,8,["modelValue"])]),_:1}),ce(u,{label:"GFA :",prop:"gfaConcession"},{default:be(()=>[ce(h,{modelValue:r.formData.gfaConcession,"onUpdate:modelValue":t[9]||(t[9]=g=>r.formData.gfaConcession=g)},{default:be(()=>[ce(f,{label:"Y"},{default:be(()=>t[21]||(t[21]=[Pn("")])),_:1}),ce(f,{label:"N"},{default:be(()=>t[22]||(t[22]=[Pn("")])),_:1})]),_:1},8,["modelValue"])]),_:1}),ce(u,{label:" (B):",prop:"maxPR"},{default:be(()=>[ce(d,{modelValue:r.formData.maxPR,"onUpdate:modelValue":t[10]||(t[10]=g=>r.formData.maxPR=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (C):",prop:"maxDomPR"},{default:be(()=>[ce(d,{modelValue:r.formData.maxDomPR,"onUpdate:modelValue":t[11]||(t[11]=g=>r.formData.maxDomPR=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (D):",prop:"maxNonDomPR"},{default:be(()=>[ce(d,{modelValue:r.formData.maxNonDomPR,"onUpdate:modelValue":t[12]||(t[12]=g=>r.formData.maxNonDomPR=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (E):",prop:"maxSC"},{default:be(()=>[ce(d,{modelValue:r.formData.maxSC,"onUpdate:modelValue":t[13]||(t[13]=g=>r.formData.maxSC=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (F):",prop:"overallDomGFA"},{default:be(()=>[ce(d,{modelValue:r.formData.overallDomGFA,"onUpdate:modelValue":t[14]||(t[14]=g=>r.formData.overallDomGFA=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (G):",prop:"overallNonDomGFA"},{default:be(()=>[ce(d,{modelValue:r.formData.overallNonDomGFA,"onUpdate:modelValue":t[15]||(t[15]=g=>r.formData.overallNonDomGFA=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (H):",prop:"bonusGFA"},{default:be(()=>[ce(d,{modelValue:r.formData.bonusGFA,"onUpdate:modelValue":t[16]||(t[16]=g=>r.formData.bonusGFA=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:" (I):",prop:"buildingHeight"},{default:be(()=>[ce(d,{modelValue:r.formData.buildingHeight,"onUpdate:modelValue":t[17]||(t[17]=g=>r.formData.buildingHeight=g),min:0,readonly:""},null,8,["modelValue"])]),_:1}),ce(u,{label:":",prop:"openSpace"},{default:be(()=>[ce(d,{modelValue:r.formData.openSpace,"onUpdate:modelValue":t[18]||(t[18]=g=>r.formData.openSpace=g),min:0},null,8,["modelValue"])]),_:1}),ce(u,{label:":",prop:"greeneryArea"},{default:be(()=>[ce(d,{modelValue:r.formData.greeneryArea,"onUpdate:modelValue":t[19]||(t[19]=g=>r.formData.greeneryArea=g),min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","onSubmit"]))])}const q_e=ll(H_e,[["render",j_e]]),K_e={class:"mode-container"},Y_e={class:"action-bar"},X_e={class:"flex flex-wrap gap-4 p-4"},Z_e={class:"mode-content"},J_e={class:"icon-container"},Q_e={class:"details"},ewe={class:"name"},twe={class:"description"},nwe={__name:"GenerationModeSelect",emits:["select-mode","run"],setup(e,{emit:t}){const n=t,r=re(null),a=re([{name:"",description:"",icon:M5,color:"#409EFF"},{name:"",description:"AI",icon:C5,color:"#67C23A"},{name:"",description:"",icon:g$,color:"#E6A23C"}]),o=u=>{r.value=u,n("select-mode",u)},s=()=>{r.value&&n("run",r.value)};return(u,d)=>{const f=Zt("el-icon"),h=Zt("el-button"),v=Zt("el-card");return W(),ue("div",K_e,[fe("div",Y_e,[ce(h,{type:"primary",size:"large",disabled:!r.value,onClick:s},{default:be(()=>[ce(f,null,{default:be(()=>[ce(m(T$))]),_:1}),d[0]||(d[0]=Pn(" "))]),_:1},8,["disabled"])]),fe("div",X_e,[(W(!0),ue(rn,null,ar(a.value,(y,b)=>(W(),tt(v,{key:b,class:J(["mode-card",{selected:r.value===y}]),shadow:"hover",onClick:w=>o(y)},{default:be(()=>[fe("div",Z_e,[fe("div",J_e,[ce(f,{size:40,color:y.color},{default:be(()=>[(W(),tt(tr(y.icon)))]),_:2},1032,["color"])]),fe("div",Q_e,[fe("h3",ewe,Pt(y.name),1),fe("p",twe,Pt(y.description),1)])])]),_:2},1032,["class","onClick"]))),128))])])}}},rwe=ll(nwe,[["__scopeId","data-v-c26843a5"]]),iwe={components:{FloorPlanSelect:M_e,UserInputView:q_e,GenerationModeSelect:rwe,Grid:EO,Setting:m$,House:CO,Document:MO},setup(){const e=y0(),t=re("1"),n=re([]),r=re(null),a=()=>n.value.length===0?(ElMessage.warning(""),!1):!r.value||!r.value.lotNo?(ElMessage.warning(""),!1):!0;return{activeIndex:t,handleSelect:d=>{t.value=d,e.commit("cesium/updateShow",d==1)},handleModeSelect:d=>{},handleModeRun:d=>{a()}}}},awe={class:"operator-container"},owe={class:"component-container"},swe={class:"component-container"},lwe={class:"component-container"},uwe={class:"component-container"};function cwe(e,t,n,r,a,o){const s=Zt("House"),u=Zt("el-icon"),d=Zt("el-menu-item"),f=Zt("Setting"),h=Zt("Document"),v=Zt("el-menu"),y=Zt("el-aside"),b=Zt("UserInputView"),w=Zt("FloorPlanSelect"),g=Zt("GenerationModeSelect"),x=Zt("el-main"),M=Zt("el-container");return W(),ue("div",awe,[ce(M,null,{default:be(()=>[ce(y,{width:"64px",class:"menu-aside"},{default:be(()=>[ce(v,{collapse:!0,"default-active":"1",class:"operator-menu",onSelect:r.handleSelect,"background-color":"#1e1e2d","text-color":"#a2a3b7","active-text-color":"#ffffff"},{default:be(()=>[ce(d,{index:"1"},{title:be(()=>t[0]||(t[0]=[Pn("")])),default:be(()=>[ce(u,null,{default:be(()=>[ce(s)]),_:1})]),_:1}),ce(d,{index:"2"},{title:be(()=>t[1]||(t[1]=[Pn("")])),default:be(()=>[ce(u,null,{default:be(()=>[ce(f)]),_:1})]),_:1}),ce(d,{index:"3"},{title:be(()=>t[2]||(t[2]=[Pn("")])),default:be(()=>[ce(u,null,{default:be(()=>[ce(h)]),_:1})]),_:1})]),_:1},8,["onSelect"])]),_:1}),ce(x,{class:"content-main"},{default:be(()=>[kn(fe("div",owe,[ce(b)],512),[[_r,r.activeIndex==="1"]]),kn(fe("div",swe,[ce(w)],512),[[_r,r.activeIndex==="2"]]),kn(fe("div",lwe,[ce(g,{onSelectMode:r.handleModeSelect,onRun:r.handleModeRun},null,8,["onSelectMode","onRun"])],512),[[_r,r.activeIndex==="3"]]),kn(fe("div",uwe,null,512),[[_r,r.activeIndex==="4"]])]),_:1})]),_:1})])}const mz=ll(iwe,[["render",cwe]]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const z2="149",op={ROTATE:0,DOLLY:1,PAN:2},sp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dwe=0,mP=1,fwe=2,vz=1,hwe=2,yg=3,wd=0,Ds=1,Eu=2,fd=0,jp=1,vP=2,gP=3,yP=4,pwe=5,Ap=100,mwe=101,vwe=102,bP=103,_P=104,gwe=200,ywe=201,bwe=202,_we=203,gz=204,yz=205,wwe=206,xwe=207,Swe=208,Mwe=209,Ewe=210,Cwe=0,Twe=1,Awe=2,gE=3,Lwe=4,Rwe=5,Pwe=6,kwe=7,V2=0,Iwe=1,Owe=2,hc=0,Dwe=1,Nwe=2,Fwe=3,Bwe=4,zwe=5,bz=300,vm=301,gm=302,yE=303,bE=304,Xw=306,_E=1e3,Ll=1001,wE=1002,Bo=1003,wP=1004,Zx=1005,Qs=1006,Vwe=1007,b0=1008,eh=1009,Uwe=1010,Hwe=1011,_z=1012,$we=1013,If=1014,Of=1015,_0=1016,Gwe=1017,Wwe=1018,qp=1020,jwe=1021,Rl=1023,qwe=1024,Kwe=1025,Uf=1026,ym=1027,Ywe=1028,Xwe=1029,Zwe=1030,Jwe=1031,Qwe=1033,Jx=33776,Qx=33777,eS=33778,tS=33779,xP=35840,SP=35841,MP=35842,EP=35843,e1e=36196,CP=37492,TP=37496,AP=37808,LP=37809,RP=37810,PP=37811,kP=37812,IP=37813,OP=37814,DP=37815,NP=37816,FP=37817,BP=37818,zP=37819,VP=37820,UP=37821,nS=36492,t1e=36283,HP=36284,$P=36285,GP=36286,th=3e3,Wi=3001,n1e=3200,r1e=3201,U2=0,i1e=1,bu="srgb",w0="srgb-linear",rS=7680,a1e=519,WP=35044,jP="300 es",xE=1035;class uh{addEventListener(t,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n)}hasEventListener(t,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(n)!==-1}removeEventListener(t,n){if(this._listeners===void 0)return;const a=this._listeners[t];if(a!==void 0){const o=a.indexOf(n);o!==-1&&a.splice(o,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const a=r.slice(0);for(let o=0,s=a.length;o<s;o++)a[o].call(this,t);t.target=null}}}const go=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],c_=Math.PI/180,SE=180/Math.PI;function j0(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(go[e&255]+go[e>>8&255]+go[e>>16&255]+go[e>>24&255]+"-"+go[t&255]+go[t>>8&255]+"-"+go[t>>16&15|64]+go[t>>24&255]+"-"+go[n&63|128]+go[n>>8&255]+"-"+go[n>>16&255]+go[n>>24&255]+go[r&255]+go[r>>8&255]+go[r>>16&255]+go[r>>24&255]).toLowerCase()}function us(e,t,n){return Math.max(t,Math.min(n,e))}function o1e(e,t){return(e%t+t)%t}function iS(e,t,n){return(1-n)*e+n*t}function qP(e){return(e&e-1)===0&&e!==0}function ME(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function ib(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ss(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}class Dr{constructor(t=0,n=0){Dr.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,r=this.y,a=t.elements;return this.x=a[0]*n+a[3]*r+a[6],this.y=a[1]*n+a[4]*r+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y;return n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const r=Math.cos(n),a=Math.sin(n),o=this.x-t.x,s=this.y-t.y;return this.x=o*r-s*a+t.x,this.y=o*a+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ks{constructor(){ks.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,n,r,a,o,s,u,d,f){const h=this.elements;return h[0]=t,h[1]=a,h[2]=u,h[3]=n,h[4]=o,h[5]=d,h[6]=r,h[7]=s,h[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(t,n,r){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,a=n.elements,o=this.elements,s=r[0],u=r[3],d=r[6],f=r[1],h=r[4],v=r[7],y=r[2],b=r[5],w=r[8],g=a[0],x=a[3],M=a[6],R=a[1],A=a[4],T=a[7],P=a[2],I=a[5],E=a[8];return o[0]=s*g+u*R+d*P,o[3]=s*x+u*A+d*I,o[6]=s*M+u*T+d*E,o[1]=f*g+h*R+v*P,o[4]=f*x+h*A+v*I,o[7]=f*M+h*T+v*E,o[2]=y*g+b*R+w*P,o[5]=y*x+b*A+w*I,o[8]=y*M+b*T+w*E,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],u=t[5],d=t[6],f=t[7],h=t[8];return n*s*h-n*u*f-r*o*h+r*u*d+a*o*f-a*s*d}invert(){const t=this.elements,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],u=t[5],d=t[6],f=t[7],h=t[8],v=h*s-u*f,y=u*d-h*o,b=f*o-s*d,w=n*v+r*y+a*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/w;return t[0]=v*g,t[1]=(a*f-h*r)*g,t[2]=(u*r-a*s)*g,t[3]=y*g,t[4]=(h*n-a*d)*g,t[5]=(a*o-u*n)*g,t[6]=b*g,t[7]=(r*d-f*n)*g,t[8]=(s*n-r*o)*g,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,r,a,o,s,u){const d=Math.cos(o),f=Math.sin(o);return this.set(r*d,r*f,-r*(d*s+f*u)+s+t,-a*f,a*d,-a*(-f*s+d*u)+u+n,0,0,1),this}scale(t,n){return this.premultiply(aS.makeScale(t,n)),this}rotate(t){return this.premultiply(aS.makeRotation(-t)),this}translate(t,n){return this.premultiply(aS.makeTranslation(t,n)),this}makeTranslation(t,n){return this.set(1,0,t,0,1,n,0,0,1),this}makeRotation(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(t,n){return this.set(t,0,0,0,n,0,0,0,1),this}equals(t){const n=this.elements,r=t.elements;for(let a=0;a<9;a++)if(n[a]!==r[a])return!1;return!0}fromArray(t,n=0){for(let r=0;r<9;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const aS=new ks;function wz(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function X_(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Hf(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function d_(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}const oS={[bu]:{[w0]:Hf},[w0]:{[bu]:d_}},Io={legacyMode:!0,get workingColorSpace(){return w0},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(oS[t]&&oS[t][n]!==void 0){const r=oS[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},xz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ta={r:0,g:0,b:0},Sl={h:0,s:0,l:0},ab={h:0,s:0,l:0};function sS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function ob(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class fi{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(t):this.setRGB(t,n,r)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=bu){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Io.toWorkingColorSpace(this,n),this}setRGB(t,n,r,a=Io.workingColorSpace){return this.r=t,this.g=n,this.b=r,Io.toWorkingColorSpace(this,a),this}setHSL(t,n,r,a=Io.workingColorSpace){if(t=o1e(t,1),n=us(n,0,1),r=us(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=sS(s,o,t+1/3),this.g=sS(s,o,t),this.b=sS(s,o,t-1/3)}return Io.toWorkingColorSpace(this,a),this}setStyle(t,n=bu){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let o;const s=a[1],u=a[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,Io.toWorkingColorSpace(this,n),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,Io.toWorkingColorSpace(this,n),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const d=parseFloat(o[1])/360,f=parseFloat(o[2])/100,h=parseFloat(o[3])/100;return r(o[4]),this.setHSL(d,f,h,n)}break}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=a[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,Io.toWorkingColorSpace(this,n),this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,Io.toWorkingColorSpace(this,n),this}return t&&t.length>0?this.setColorName(t,n):this}setColorName(t,n=bu){const r=xz[t.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Hf(t.r),this.g=Hf(t.g),this.b=Hf(t.b),this}copyLinearToSRGB(t){return this.r=d_(t.r),this.g=d_(t.g),this.b=d_(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=bu){return Io.fromWorkingColorSpace(ob(this,Ta),t),us(Ta.r*255,0,255)<<16^us(Ta.g*255,0,255)<<8^us(Ta.b*255,0,255)<<0}getHexString(t=bu){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=Io.workingColorSpace){Io.fromWorkingColorSpace(ob(this,Ta),n);const r=Ta.r,a=Ta.g,o=Ta.b,s=Math.max(r,a,o),u=Math.min(r,a,o);let d,f;const h=(u+s)/2;if(u===s)d=0,f=0;else{const v=s-u;switch(f=h<=.5?v/(s+u):v/(2-s-u),s){case r:d=(a-o)/v+(a<o?6:0);break;case a:d=(o-r)/v+2;break;case o:d=(r-a)/v+4;break}d/=6}return t.h=d,t.s=f,t.l=h,t}getRGB(t,n=Io.workingColorSpace){return Io.fromWorkingColorSpace(ob(this,Ta),n),t.r=Ta.r,t.g=Ta.g,t.b=Ta.b,t}getStyle(t=bu){return Io.fromWorkingColorSpace(ob(this,Ta),t),t!==bu?"color(".concat(t," ").concat(Ta.r," ").concat(Ta.g," ").concat(Ta.b,")"):"rgb(".concat(Ta.r*255|0,",").concat(Ta.g*255|0,",").concat(Ta.b*255|0,")")}offsetHSL(t,n,r){return this.getHSL(Sl),Sl.h+=t,Sl.s+=n,Sl.l+=r,this.setHSL(Sl.h,Sl.s,Sl.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(Sl),t.getHSL(ab);const r=iS(Sl.h,ab.h,n),a=iS(Sl.s,ab.s,n),o=iS(Sl.l,ab.l,n);return this.setHSL(r,a,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}fi.NAMES=xz;let lp;class Sz{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{lp===void 0&&(lp=X_("canvas")),lp.width=t.width,lp.height=t.height;const r=lp.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=lp}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const n=X_("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const a=r.getImageData(0,0,t.width,t.height),o=a.data;for(let s=0;s<o.length;s++)o[s]=Hf(o[s]/255)*255;return r.putImageData(a,0,0),n}else if(t.data){const n=t.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Hf(n[r]/255)*255):n[r]=Hf(n[r]);return{data:n,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class Mz{constructor(t=null){this.isSource=!0,this.uuid=j0(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let s=0,u=a.length;s<u;s++)a[s].isDataTexture?o.push(lS(a[s].image)):o.push(lS(a[s]))}else o=lS(a);r.url=o}return n||(t.images[this.uuid]=r),r}}function lS(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Sz.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let s1e=0;class Ns extends uh{constructor(t=Ns.DEFAULT_IMAGE,n=Ns.DEFAULT_MAPPING,r=Ll,a=Ll,o=Qs,s=b0,u=Rl,d=eh,f=Ns.DEFAULT_ANISOTROPY,h=th){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:s1e++}),this.uuid=j0(),this.name="",this.source=new Mz(t),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=s,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Dr(0,0),this.repeat=new Dr(1,1),this.center=new Dr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ks,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==bz)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _E:t.x=t.x-Math.floor(t.x);break;case Ll:t.x=t.x<0?0:1;break;case wE:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case _E:t.y=t.y-Math.floor(t.y);break;case Ll:t.y=t.y<0?0:1;break;case wE:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Ns.DEFAULT_IMAGE=null;Ns.DEFAULT_MAPPING=bz;Ns.DEFAULT_ANISOTROPY=1;class Wa{constructor(t=0,n=0,r=0,a=1){Wa.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,r,a){return this.x=t,this.y=n,this.z=r,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,r=this.y,a=this.z,o=this.w,s=t.elements;return this.x=s[0]*n+s[4]*r+s[8]*a+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*a+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*a+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*a+s[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,r,a,o;const d=t.elements,f=d[0],h=d[4],v=d[8],y=d[1],b=d[5],w=d[9],g=d[2],x=d[6],M=d[10];if(Math.abs(h-y)<.01&&Math.abs(v-g)<.01&&Math.abs(w-x)<.01){if(Math.abs(h+y)<.1&&Math.abs(v+g)<.1&&Math.abs(w+x)<.1&&Math.abs(f+b+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(f+1)/2,T=(b+1)/2,P=(M+1)/2,I=(h+y)/4,E=(v+g)/4,D=(w+x)/4;return A>T&&A>P?A<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(A),a=I/r,o=E/r):T>P?T<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(T),r=I/a,o=D/a):P<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(P),r=E/o,a=D/o),this.set(r,a,o,n),this}let R=Math.sqrt((x-w)*(x-w)+(v-g)*(v-g)+(y-h)*(y-h));return Math.abs(R)<.001&&(R=1),this.x=(x-w)/R,this.y=(v-g)/R,this.z=(y-h)/R,this.w=Math.acos((f+b+M-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this.w=t.w+(n.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nh extends uh{constructor(t=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=n,this.depth=1,this.scissor=new Wa(0,0,t,n),this.scissorTest=!1,this.viewport=new Wa(0,0,t,n);const a={width:t,height:n,depth:1};this.texture=new Ns(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Qs,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(t,n,r=1){(this.width!==t||this.height!==n||this.depth!==r)&&(this.width=t,this.height=n,this.depth=r,this.texture.image.width=t,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},t.texture.image);return this.texture.source=new Mz(n),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ez extends Ns{constructor(t=null,n=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:n,height:r,depth:a},this.magFilter=Bo,this.minFilter=Bo,this.wrapR=Ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class l1e extends Ns{constructor(t=null,n=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:n,height:r,depth:a},this.magFilter=Bo,this.minFilter=Bo,this.wrapR=Ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qa{constructor(t=0,n=0,r=0,a=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=a}static slerpFlat(t,n,r,a,o,s,u){let d=r[a+0],f=r[a+1],h=r[a+2],v=r[a+3];const y=o[s+0],b=o[s+1],w=o[s+2],g=o[s+3];if(u===0){t[n+0]=d,t[n+1]=f,t[n+2]=h,t[n+3]=v;return}if(u===1){t[n+0]=y,t[n+1]=b,t[n+2]=w,t[n+3]=g;return}if(v!==g||d!==y||f!==b||h!==w){let x=1-u;const M=d*y+f*b+h*w+v*g,R=M>=0?1:-1,A=1-M*M;if(A>Number.EPSILON){const P=Math.sqrt(A),I=Math.atan2(P,M*R);x=Math.sin(x*I)/P,u=Math.sin(u*I)/P}const T=u*R;if(d=d*x+y*T,f=f*x+b*T,h=h*x+w*T,v=v*x+g*T,x===1-u){const P=1/Math.sqrt(d*d+f*f+h*h+v*v);d*=P,f*=P,h*=P,v*=P}}t[n]=d,t[n+1]=f,t[n+2]=h,t[n+3]=v}static multiplyQuaternionsFlat(t,n,r,a,o,s){const u=r[a],d=r[a+1],f=r[a+2],h=r[a+3],v=o[s],y=o[s+1],b=o[s+2],w=o[s+3];return t[n]=u*w+h*v+d*b-f*y,t[n+1]=d*w+h*y+f*v-u*b,t[n+2]=f*w+h*b+u*y-d*v,t[n+3]=h*w-u*v-d*y-f*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,r,a){return this._x=t,this._y=n,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){const r=t._x,a=t._y,o=t._z,s=t._order,u=Math.cos,d=Math.sin,f=u(r/2),h=u(a/2),v=u(o/2),y=d(r/2),b=d(a/2),w=d(o/2);switch(s){case"XYZ":this._x=y*h*v+f*b*w,this._y=f*b*v-y*h*w,this._z=f*h*w+y*b*v,this._w=f*h*v-y*b*w;break;case"YXZ":this._x=y*h*v+f*b*w,this._y=f*b*v-y*h*w,this._z=f*h*w-y*b*v,this._w=f*h*v+y*b*w;break;case"ZXY":this._x=y*h*v-f*b*w,this._y=f*b*v+y*h*w,this._z=f*h*w+y*b*v,this._w=f*h*v-y*b*w;break;case"ZYX":this._x=y*h*v-f*b*w,this._y=f*b*v+y*h*w,this._z=f*h*w-y*b*v,this._w=f*h*v+y*b*w;break;case"YZX":this._x=y*h*v+f*b*w,this._y=f*b*v+y*h*w,this._z=f*h*w-y*b*v,this._w=f*h*v-y*b*w;break;case"XZY":this._x=y*h*v-f*b*w,this._y=f*b*v-y*h*w,this._z=f*h*w+y*b*v,this._w=f*h*v+y*b*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const r=n/2,a=Math.sin(r);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,r=n[0],a=n[4],o=n[8],s=n[1],u=n[5],d=n[9],f=n[2],h=n[6],v=n[10],y=r+u+v;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(h-d)*b,this._y=(o-f)*b,this._z=(s-a)*b}else if(r>u&&r>v){const b=2*Math.sqrt(1+r-u-v);this._w=(h-d)/b,this._x=.25*b,this._y=(a+s)/b,this._z=(o+f)/b}else if(u>v){const b=2*Math.sqrt(1+u-r-v);this._w=(o-f)/b,this._x=(a+s)/b,this._y=.25*b,this._z=(d+h)/b}else{const b=2*Math.sqrt(1+v-r-u);this._w=(s-a)/b,this._x=(o+f)/b,this._y=(d+h)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(us(this.dot(t),-1,1)))}rotateTowards(t,n){const r=this.angleTo(t);if(r===0)return this;const a=Math.min(1,n/r);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const r=t._x,a=t._y,o=t._z,s=t._w,u=n._x,d=n._y,f=n._z,h=n._w;return this._x=r*h+s*u+a*f-o*d,this._y=a*h+s*d+o*u-r*f,this._z=o*h+s*f+r*d-a*u,this._w=s*h-r*u-a*d-o*f,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const r=this._x,a=this._y,o=this._z,s=this._w;let u=s*t._w+r*t._x+a*t._y+o*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=s,this._x=r,this._y=a,this._z=o,this;const d=1-u*u;if(d<=Number.EPSILON){const b=1-n;return this._w=b*s+n*this._w,this._x=b*r+n*this._x,this._y=b*a+n*this._y,this._z=b*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(d),h=Math.atan2(f,u),v=Math.sin((1-n)*h)/f,y=Math.sin(n*h)/f;return this._w=s*v+this._w*y,this._x=r*v+this._x*y,this._y=a*v+this._y*y,this._z=o*v+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,n,r){return this.copy(t).slerp(n,r)}random(){const t=Math.random(),n=Math.sqrt(1-t),r=Math.sqrt(t),a=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(a),r*Math.sin(o),r*Math.cos(o),n*Math.sin(a))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class yt{constructor(t=0,n=0,r=0){yt.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(t,n,r){return r===void 0&&(r=this.z),this.x=t,this.y=n,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(KP.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(KP.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,r=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[3]*r+o[6]*a,this.y=o[1]*n+o[4]*r+o[7]*a,this.z=o[2]*n+o[5]*r+o[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,r=this.y,a=this.z,o=t.elements,s=1/(o[3]*n+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*a+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*a+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*a+o[14])*s,this}applyQuaternion(t){const n=this.x,r=this.y,a=this.z,o=t.x,s=t.y,u=t.z,d=t.w,f=d*n+s*a-u*r,h=d*r+u*n-o*a,v=d*a+o*r-s*n,y=-o*n-s*r-u*a;return this.x=f*d+y*-o+h*-u-v*-s,this.y=h*d+y*-s+v*-o-f*-u,this.z=v*d+y*-u+f*-s-h*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,r=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[4]*r+o[8]*a,this.y=o[1]*n+o[5]*r+o[9]*a,this.z=o[2]*n+o[6]*r+o[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const r=t.x,a=t.y,o=t.z,s=n.x,u=n.y,d=n.z;return this.x=a*d-o*u,this.y=o*s-r*d,this.z=r*u-a*s,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return uS.copy(this).projectOnVector(t),this.sub(uS)}reflect(t){return this.sub(uS.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(us(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y,a=this.z-t.z;return n*n+r*r+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,r){const a=Math.sin(n)*t;return this.x=a*Math.sin(r),this.y=Math.cos(n)*t,this.z=a*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=a,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-t**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uS=new yt,KP=new Qa;class q0{constructor(t=new yt(1/0,1/0,1/0),n=new yt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,r=1/0,a=1/0,o=-1/0,s=-1/0,u=-1/0;for(let d=0,f=t.length;d<f;d+=3){const h=t[d],v=t[d+1],y=t[d+2];h<n&&(n=h),v<r&&(r=v),y<a&&(a=y),h>o&&(o=h),v>s&&(s=v),y>u&&(u=y)}return this.min.set(n,r,a),this.max.set(o,s,u),this}setFromBufferAttribute(t){let n=1/0,r=1/0,a=1/0,o=-1/0,s=-1/0,u=-1/0;for(let d=0,f=t.count;d<f;d++){const h=t.getX(d),v=t.getY(d),y=t.getZ(d);h<n&&(n=h),v<r&&(r=v),y<a&&(a=y),h>o&&(o=h),v>s&&(s=v),y>u&&(u=y)}return this.min.set(n,r,a),this.max.set(o,s,u),this}setFromPoints(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const r=pf.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,n=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const o=r.attributes.position;for(let s=0,u=o.count;s<u;s++)pf.fromBufferAttribute(o,s).applyMatrix4(t.matrixWorld),this.expandByPoint(pf)}else r.boundingBox===null&&r.computeBoundingBox(),cS.copy(r.boundingBox),cS.applyMatrix4(t.matrixWorld),this.union(cS);const a=t.children;for(let o=0,s=a.length;o<s;o++)this.expandByObject(a[o],n);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,pf),pf.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,r;return t.normal.x>0?(n=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),n<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ig),sb.subVectors(this.max,ig),up.subVectors(t.a,ig),cp.subVectors(t.b,ig),dp.subVectors(t.c,ig),Wc.subVectors(cp,up),jc.subVectors(dp,cp),mf.subVectors(up,dp);let n=[0,-Wc.z,Wc.y,0,-jc.z,jc.y,0,-mf.z,mf.y,Wc.z,0,-Wc.x,jc.z,0,-jc.x,mf.z,0,-mf.x,-Wc.y,Wc.x,0,-jc.y,jc.x,0,-mf.y,mf.x,0];return!dS(n,up,cp,dp,sb)||(n=[1,0,0,0,1,0,0,0,1],!dS(n,up,cp,dp,sb))?!1:(lb.crossVectors(Wc,jc),n=[lb.x,lb.y,lb.z],dS(n,up,cp,dp,sb))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return pf.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(pf).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Qu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Qu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Qu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Qu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Qu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Qu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Qu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Qu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Qu),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Qu=[new yt,new yt,new yt,new yt,new yt,new yt,new yt,new yt],pf=new yt,cS=new q0,up=new yt,cp=new yt,dp=new yt,Wc=new yt,jc=new yt,mf=new yt,ig=new yt,sb=new yt,lb=new yt,vf=new yt;function dS(e,t,n,r,a){for(let o=0,s=e.length-3;o<=s;o+=3){vf.fromArray(e,o);const u=a.x*Math.abs(vf.x)+a.y*Math.abs(vf.y)+a.z*Math.abs(vf.z),d=t.dot(vf),f=n.dot(vf),h=r.dot(vf);if(Math.max(-Math.max(d,f,h),Math.min(d,f,h))>u)return!1}return!0}const u1e=new q0,ag=new yt,fS=new yt;class Zw{constructor(t=new yt,n=-1){this.center=t,this.radius=n}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const r=this.center;n!==void 0?r.copy(n):u1e.setFromPoints(t).getCenter(r);let a=0;for(let o=0,s=t.length;o<s;o++)a=Math.max(a,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const r=this.center.distanceToSquared(t);return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ag.subVectors(t,this.center);const n=ag.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),a=(r-this.radius)*.5;this.center.addScaledVector(ag,a/r),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(fS.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ag.copy(t.center).add(fS)),this.expandByPoint(ag.copy(t.center).sub(fS))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ec=new yt,hS=new yt,ub=new yt,qc=new yt,pS=new yt,cb=new yt,mS=new yt;class H2{constructor(t=new yt,n=new yt(0,0,-1)){this.origin=t,this.direction=n}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ec)),this}closestPointToPoint(t,n){n.subVectors(t,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=ec.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(ec.copy(this.direction).multiplyScalar(n).add(this.origin),ec.distanceToSquared(t))}distanceSqToSegment(t,n,r,a){hS.copy(t).add(n).multiplyScalar(.5),ub.copy(n).sub(t).normalize(),qc.copy(this.origin).sub(hS);const o=t.distanceTo(n)*.5,s=-this.direction.dot(ub),u=qc.dot(this.direction),d=-qc.dot(ub),f=qc.lengthSq(),h=Math.abs(1-s*s);let v,y,b,w;if(h>0)if(v=s*d-u,y=s*u-d,w=o*h,v>=0)if(y>=-w)if(y<=w){const g=1/h;v*=g,y*=g,b=v*(v+s*y+2*u)+y*(s*v+y+2*d)+f}else y=o,v=Math.max(0,-(s*y+u)),b=-v*v+y*(y+2*d)+f;else y=-o,v=Math.max(0,-(s*y+u)),b=-v*v+y*(y+2*d)+f;else y<=-w?(v=Math.max(0,-(-s*o+u)),y=v>0?-o:Math.min(Math.max(-o,-d),o),b=-v*v+y*(y+2*d)+f):y<=w?(v=0,y=Math.min(Math.max(-o,-d),o),b=y*(y+2*d)+f):(v=Math.max(0,-(s*o+u)),y=v>0?o:Math.min(Math.max(-o,-d),o),b=-v*v+y*(y+2*d)+f);else y=s>0?-o:o,v=Math.max(0,-(s*y+u)),b=-v*v+y*(y+2*d)+f;return r&&r.copy(this.direction).multiplyScalar(v).add(this.origin),a&&a.copy(ub).multiplyScalar(y).add(hS),b}intersectSphere(t,n){ec.subVectors(t.center,this.origin);const r=ec.dot(this.direction),a=ec.dot(ec)-r*r,o=t.radius*t.radius;if(a>o)return null;const s=Math.sqrt(o-a),u=r-s,d=r+s;return u<0&&d<0?null:u<0?this.at(d,n):this.at(u,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/n;return r>=0?r:null}intersectPlane(t,n){const r=this.distanceToPlane(t);return r===null?null:this.at(r,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let r,a,o,s,u,d;const f=1/this.direction.x,h=1/this.direction.y,v=1/this.direction.z,y=this.origin;return f>=0?(r=(t.min.x-y.x)*f,a=(t.max.x-y.x)*f):(r=(t.max.x-y.x)*f,a=(t.min.x-y.x)*f),h>=0?(o=(t.min.y-y.y)*h,s=(t.max.y-y.y)*h):(o=(t.max.y-y.y)*h,s=(t.min.y-y.y)*h),r>s||o>a||((o>r||isNaN(r))&&(r=o),(s<a||isNaN(a))&&(a=s),v>=0?(u=(t.min.z-y.z)*v,d=(t.max.z-y.z)*v):(u=(t.max.z-y.z)*v,d=(t.min.z-y.z)*v),r>d||u>a)||((u>r||r!==r)&&(r=u),(d<a||a!==a)&&(a=d),a<0)?null:this.at(r>=0?r:a,n)}intersectsBox(t){return this.intersectBox(t,ec)!==null}intersectTriangle(t,n,r,a,o){pS.subVectors(n,t),cb.subVectors(r,t),mS.crossVectors(pS,cb);let s=this.direction.dot(mS),u;if(s>0){if(a)return null;u=1}else if(s<0)u=-1,s=-s;else return null;qc.subVectors(this.origin,t);const d=u*this.direction.dot(cb.crossVectors(qc,cb));if(d<0)return null;const f=u*this.direction.dot(pS.cross(qc));if(f<0||d+f>s)return null;const h=-u*qc.dot(mS);return h<0?null:this.at(h/s,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class la{constructor(){la.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,r,a,o,s,u,d,f,h,v,y,b,w,g,x){const M=this.elements;return M[0]=t,M[4]=n,M[8]=r,M[12]=a,M[1]=o,M[5]=s,M[9]=u,M[13]=d,M[2]=f,M[6]=h,M[10]=v,M[14]=y,M[3]=b,M[7]=w,M[11]=g,M[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new la().fromArray(this.elements)}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(t){const n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,r=t.elements,a=1/fp.setFromMatrixColumn(t,0).length(),o=1/fp.setFromMatrixColumn(t,1).length(),s=1/fp.setFromMatrixColumn(t,2).length();return n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,r=t.x,a=t.y,o=t.z,s=Math.cos(r),u=Math.sin(r),d=Math.cos(a),f=Math.sin(a),h=Math.cos(o),v=Math.sin(o);if(t.order==="XYZ"){const y=s*h,b=s*v,w=u*h,g=u*v;n[0]=d*h,n[4]=-d*v,n[8]=f,n[1]=b+w*f,n[5]=y-g*f,n[9]=-u*d,n[2]=g-y*f,n[6]=w+b*f,n[10]=s*d}else if(t.order==="YXZ"){const y=d*h,b=d*v,w=f*h,g=f*v;n[0]=y+g*u,n[4]=w*u-b,n[8]=s*f,n[1]=s*v,n[5]=s*h,n[9]=-u,n[2]=b*u-w,n[6]=g+y*u,n[10]=s*d}else if(t.order==="ZXY"){const y=d*h,b=d*v,w=f*h,g=f*v;n[0]=y-g*u,n[4]=-s*v,n[8]=w+b*u,n[1]=b+w*u,n[5]=s*h,n[9]=g-y*u,n[2]=-s*f,n[6]=u,n[10]=s*d}else if(t.order==="ZYX"){const y=s*h,b=s*v,w=u*h,g=u*v;n[0]=d*h,n[4]=w*f-b,n[8]=y*f+g,n[1]=d*v,n[5]=g*f+y,n[9]=b*f-w,n[2]=-f,n[6]=u*d,n[10]=s*d}else if(t.order==="YZX"){const y=s*d,b=s*f,w=u*d,g=u*f;n[0]=d*h,n[4]=g-y*v,n[8]=w*v+b,n[1]=v,n[5]=s*h,n[9]=-u*h,n[2]=-f*h,n[6]=b*v+w,n[10]=y-g*v}else if(t.order==="XZY"){const y=s*d,b=s*f,w=u*d,g=u*f;n[0]=d*h,n[4]=-v,n[8]=f*h,n[1]=y*v+g,n[5]=s*h,n[9]=b*v-w,n[2]=w*v-b,n[6]=u*h,n[10]=g*v+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(c1e,t,d1e)}lookAt(t,n,r){const a=this.elements;return Ms.subVectors(t,n),Ms.lengthSq()===0&&(Ms.z=1),Ms.normalize(),Kc.crossVectors(r,Ms),Kc.lengthSq()===0&&(Math.abs(r.z)===1?Ms.x+=1e-4:Ms.z+=1e-4,Ms.normalize(),Kc.crossVectors(r,Ms)),Kc.normalize(),db.crossVectors(Ms,Kc),a[0]=Kc.x,a[4]=db.x,a[8]=Ms.x,a[1]=Kc.y,a[5]=db.y,a[9]=Ms.y,a[2]=Kc.z,a[6]=db.z,a[10]=Ms.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,a=n.elements,o=this.elements,s=r[0],u=r[4],d=r[8],f=r[12],h=r[1],v=r[5],y=r[9],b=r[13],w=r[2],g=r[6],x=r[10],M=r[14],R=r[3],A=r[7],T=r[11],P=r[15],I=a[0],E=a[4],D=a[8],N=a[12],B=a[1],G=a[5],$=a[9],Q=a[13],ae=a[2],ee=a[6],K=a[10],X=a[14],Z=a[3],j=a[7],ie=a[11],pe=a[15];return o[0]=s*I+u*B+d*ae+f*Z,o[4]=s*E+u*G+d*ee+f*j,o[8]=s*D+u*$+d*K+f*ie,o[12]=s*N+u*Q+d*X+f*pe,o[1]=h*I+v*B+y*ae+b*Z,o[5]=h*E+v*G+y*ee+b*j,o[9]=h*D+v*$+y*K+b*ie,o[13]=h*N+v*Q+y*X+b*pe,o[2]=w*I+g*B+x*ae+M*Z,o[6]=w*E+g*G+x*ee+M*j,o[10]=w*D+g*$+x*K+M*ie,o[14]=w*N+g*Q+x*X+M*pe,o[3]=R*I+A*B+T*ae+P*Z,o[7]=R*E+A*G+T*ee+P*j,o[11]=R*D+A*$+T*K+P*ie,o[15]=R*N+A*Q+T*X+P*pe,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[4],a=t[8],o=t[12],s=t[1],u=t[5],d=t[9],f=t[13],h=t[2],v=t[6],y=t[10],b=t[14],w=t[3],g=t[7],x=t[11],M=t[15];return w*(+o*d*v-a*f*v-o*u*y+r*f*y+a*u*b-r*d*b)+g*(+n*d*b-n*f*y+o*s*y-a*s*b+a*f*h-o*d*h)+x*(+n*f*v-n*u*b-o*s*v+r*s*b+o*u*h-r*f*h)+M*(-a*u*h-n*d*v+n*u*y+a*s*v-r*s*y+r*d*h)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,r){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=n,a[14]=r),this}invert(){const t=this.elements,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],u=t[5],d=t[6],f=t[7],h=t[8],v=t[9],y=t[10],b=t[11],w=t[12],g=t[13],x=t[14],M=t[15],R=v*x*f-g*y*f+g*d*b-u*x*b-v*d*M+u*y*M,A=w*y*f-h*x*f-w*d*b+s*x*b+h*d*M-s*y*M,T=h*g*f-w*v*f+w*u*b-s*g*b-h*u*M+s*v*M,P=w*v*d-h*g*d-w*u*y+s*g*y+h*u*x-s*v*x,I=n*R+r*A+a*T+o*P;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/I;return t[0]=R*E,t[1]=(g*y*o-v*x*o-g*a*b+r*x*b+v*a*M-r*y*M)*E,t[2]=(u*x*o-g*d*o+g*a*f-r*x*f-u*a*M+r*d*M)*E,t[3]=(v*d*o-u*y*o-v*a*f+r*y*f+u*a*b-r*d*b)*E,t[4]=A*E,t[5]=(h*x*o-w*y*o+w*a*b-n*x*b-h*a*M+n*y*M)*E,t[6]=(w*d*o-s*x*o-w*a*f+n*x*f+s*a*M-n*d*M)*E,t[7]=(s*y*o-h*d*o+h*a*f-n*y*f-s*a*b+n*d*b)*E,t[8]=T*E,t[9]=(w*v*o-h*g*o-w*r*b+n*g*b+h*r*M-n*v*M)*E,t[10]=(s*g*o-w*u*o+w*r*f-n*g*f-s*r*M+n*u*M)*E,t[11]=(h*u*o-s*v*o-h*r*f+n*v*f+s*r*b-n*u*b)*E,t[12]=P*E,t[13]=(h*g*a-w*v*a+w*r*y-n*g*y-h*r*x+n*v*x)*E,t[14]=(w*u*a-s*g*a-w*r*d+n*g*d+s*r*x-n*u*x)*E,t[15]=(s*v*a-h*u*a+h*r*d-n*v*d-s*r*y+n*u*y)*E,this}scale(t){const n=this.elements,r=t.x,a=t.y,o=t.z;return n[0]*=r,n[4]*=a,n[8]*=o,n[1]*=r,n[5]*=a,n[9]*=o,n[2]*=r,n[6]*=a,n[10]*=o,n[3]*=r,n[7]*=a,n[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,a))}makeTranslation(t,n,r){return this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const r=Math.cos(n),a=Math.sin(n),o=1-r,s=t.x,u=t.y,d=t.z,f=o*s,h=o*u;return this.set(f*s+r,f*u-a*d,f*d+a*u,0,f*u+a*d,h*u+r,h*d-a*s,0,f*d-a*u,h*d+a*s,o*d*d+r,0,0,0,0,1),this}makeScale(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,n,r,a,o,s){return this.set(1,r,o,0,t,1,s,0,n,a,1,0,0,0,0,1),this}compose(t,n,r){const a=this.elements,o=n._x,s=n._y,u=n._z,d=n._w,f=o+o,h=s+s,v=u+u,y=o*f,b=o*h,w=o*v,g=s*h,x=s*v,M=u*v,R=d*f,A=d*h,T=d*v,P=r.x,I=r.y,E=r.z;return a[0]=(1-(g+M))*P,a[1]=(b+T)*P,a[2]=(w-A)*P,a[3]=0,a[4]=(b-T)*I,a[5]=(1-(y+M))*I,a[6]=(x+R)*I,a[7]=0,a[8]=(w+A)*E,a[9]=(x-R)*E,a[10]=(1-(y+g))*E,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,n,r){const a=this.elements;let o=fp.set(a[0],a[1],a[2]).length();const s=fp.set(a[4],a[5],a[6]).length(),u=fp.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),t.x=a[12],t.y=a[13],t.z=a[14],Ml.copy(this);const f=1/o,h=1/s,v=1/u;return Ml.elements[0]*=f,Ml.elements[1]*=f,Ml.elements[2]*=f,Ml.elements[4]*=h,Ml.elements[5]*=h,Ml.elements[6]*=h,Ml.elements[8]*=v,Ml.elements[9]*=v,Ml.elements[10]*=v,n.setFromRotationMatrix(Ml),r.x=o,r.y=s,r.z=u,this}makePerspective(t,n,r,a,o,s){const u=this.elements,d=2*o/(n-t),f=2*o/(r-a),h=(n+t)/(n-t),v=(r+a)/(r-a),y=-(s+o)/(s-o),b=-2*s*o/(s-o);return u[0]=d,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,n,r,a,o,s){const u=this.elements,d=1/(n-t),f=1/(r-a),h=1/(s-o),v=(n+t)*d,y=(r+a)*f,b=(s+o)*h;return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=-2*h,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const n=this.elements,r=t.elements;for(let a=0;a<16;a++)if(n[a]!==r[a])return!1;return!0}fromArray(t,n=0){for(let r=0;r<16;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t}}const fp=new yt,Ml=new la,c1e=new yt(0,0,0),d1e=new yt(1,1,1),Kc=new yt,db=new yt,Ms=new yt,YP=new la,XP=new Qa;class K0{constructor(t=0,n=0,r=0,a=K0.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,a=this._order){return this._x=t,this._y=n,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const a=t.elements,o=a[0],s=a[4],u=a[8],d=a[1],f=a[5],h=a[9],v=a[2],y=a[6],b=a[10];switch(n){case"XYZ":this._y=Math.asin(us(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,b),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-us(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(us(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-us(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(us(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-us(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-h,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return YP.makeRotationFromQuaternion(t),this.setFromRotationMatrix(YP,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return XP.setFromEuler(this),this.setFromQuaternion(XP,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}K0.DEFAULT_ORDER="XYZ";class $2{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let f1e=0;const ZP=new yt,hp=new Qa,tc=new la,fb=new yt,og=new yt,h1e=new yt,p1e=new Qa,JP=new yt(1,0,0),QP=new yt(0,1,0),ek=new yt(0,0,1),m1e={type:"added"},tk={type:"removed"};class ua extends uh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:f1e++}),this.uuid=j0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ua.DEFAULT_UP.clone();const t=new yt,n=new K0,r=new Qa,a=new yt(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new la},normalMatrix:{value:new ks}}),this.matrix=new la,this.matrixWorld=new la,this.matrixAutoUpdate=ua.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ua.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new $2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return hp.setFromAxisAngle(t,n),this.quaternion.multiply(hp),this}rotateOnWorldAxis(t,n){return hp.setFromAxisAngle(t,n),this.quaternion.premultiply(hp),this}rotateX(t){return this.rotateOnAxis(JP,t)}rotateY(t){return this.rotateOnAxis(QP,t)}rotateZ(t){return this.rotateOnAxis(ek,t)}translateOnAxis(t,n){return ZP.copy(t).applyQuaternion(this.quaternion),this.position.add(ZP.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(JP,t)}translateY(t){return this.translateOnAxis(QP,t)}translateZ(t){return this.translateOnAxis(ek,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(tc.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?fb.copy(t):fb.set(t,n,r);const a=this.parent;this.updateWorldMatrix(!0,!1),og.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?tc.lookAt(og,fb,this.up):tc.lookAt(fb,og,this.up),this.quaternion.setFromRotationMatrix(tc),a&&(tc.extractRotation(a.matrixWorld),hp.setFromRotationMatrix(tc),this.quaternion.premultiply(hp.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(m1e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return n!==-1&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(tk)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const n=this.children[t];n.parent=null,n.dispatchEvent(tk)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),tc.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),tc.multiply(t.parent.matrixWorld)),t.applyMatrix4(tc),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,a=this.children.length;r<a;r++){const s=this.children[r].getObjectByProperty(t,n);if(s!==void 0)return s}}getObjectsByProperty(t,n){let r=[];this[t]===n&&r.push(this);for(let a=0,o=this.children.length;a<o;a++){const s=this.children[a].getObjectsByProperty(t,n);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(og,t,h1e),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(og,p1e,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;n!==null&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,a=n.length;r<a;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||t===!0)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,n){const r=this.parent;if(t===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const a=this.children;for(let o=0,s=a.length;o<s;o++){const u=a[o];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(t){const n=t===void 0||typeof t=="string",r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON()));function o(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let f=0,h=d.length;f<h;f++){const v=d[f];o(t.shapes,v)}else o(t.shapes,d)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,f=this.material.length;d<f;d++)u.push(o(t.materials,this.material[d]));a.material=u}else a.material=o(t.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];a.animations.push(o(t.animations,d))}}if(n){const u=s(t.geometries),d=s(t.materials),f=s(t.textures),h=s(t.images),v=s(t.shapes),y=s(t.skeletons),b=s(t.animations),w=s(t.nodes);u.length>0&&(r.geometries=u),d.length>0&&(r.materials=d),f.length>0&&(r.textures=f),h.length>0&&(r.images=h),v.length>0&&(r.shapes=v),y.length>0&&(r.skeletons=y),b.length>0&&(r.animations=b),w.length>0&&(r.nodes=w)}return r.object=a,r;function s(u){const d=[];for(const f in u){const h=u[f];delete h.metadata,d.push(h)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),n===!0)for(let r=0;r<t.children.length;r++){const a=t.children[r];this.add(a.clone())}return this}}ua.DEFAULT_UP=new yt(0,1,0);ua.DEFAULT_MATRIX_AUTO_UPDATE=!0;ua.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const El=new yt,nc=new yt,vS=new yt,rc=new yt,pp=new yt,mp=new yt,nk=new yt,gS=new yt,yS=new yt,bS=new yt;class Su{constructor(t=new yt,n=new yt,r=new yt){this.a=t,this.b=n,this.c=r}static getNormal(t,n,r,a){a.subVectors(r,n),El.subVectors(t,n),a.cross(El);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(t,n,r,a,o){El.subVectors(a,n),nc.subVectors(r,n),vS.subVectors(t,n);const s=El.dot(El),u=El.dot(nc),d=El.dot(vS),f=nc.dot(nc),h=nc.dot(vS),v=s*f-u*u;if(v===0)return o.set(-2,-1,-1);const y=1/v,b=(f*d-u*h)*y,w=(s*h-u*d)*y;return o.set(1-b-w,w,b)}static containsPoint(t,n,r,a){return this.getBarycoord(t,n,r,a,rc),rc.x>=0&&rc.y>=0&&rc.x+rc.y<=1}static getUV(t,n,r,a,o,s,u,d){return this.getBarycoord(t,n,r,a,rc),d.set(0,0),d.addScaledVector(o,rc.x),d.addScaledVector(s,rc.y),d.addScaledVector(u,rc.z),d}static isFrontFacing(t,n,r,a){return El.subVectors(r,n),nc.subVectors(t,n),El.cross(nc).dot(a)<0}set(t,n,r){return this.a.copy(t),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(t,n,r,a){return this.a.copy(t[n]),this.b.copy(t[r]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,n,r,a){return this.a.fromBufferAttribute(t,n),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return El.subVectors(this.c,this.b),nc.subVectors(this.a,this.b),El.cross(nc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Su.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return Su.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,r,a,o){return Su.getUV(t,this.a,this.b,this.c,n,r,a,o)}containsPoint(t){return Su.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Su.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){const r=this.a,a=this.b,o=this.c;let s,u;pp.subVectors(a,r),mp.subVectors(o,r),gS.subVectors(t,r);const d=pp.dot(gS),f=mp.dot(gS);if(d<=0&&f<=0)return n.copy(r);yS.subVectors(t,a);const h=pp.dot(yS),v=mp.dot(yS);if(h>=0&&v<=h)return n.copy(a);const y=d*v-h*f;if(y<=0&&d>=0&&h<=0)return s=d/(d-h),n.copy(r).addScaledVector(pp,s);bS.subVectors(t,o);const b=pp.dot(bS),w=mp.dot(bS);if(w>=0&&b<=w)return n.copy(o);const g=b*f-d*w;if(g<=0&&f>=0&&w<=0)return u=f/(f-w),n.copy(r).addScaledVector(mp,u);const x=h*w-b*v;if(x<=0&&v-h>=0&&b-w>=0)return nk.subVectors(o,a),u=(v-h)/(v-h+(b-w)),n.copy(a).addScaledVector(nk,u);const M=1/(x+g+y);return s=g*M,u=y*M,n.copy(r).addScaledVector(pp,s).addScaledVector(mp,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let v1e=0;class ch extends uh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:v1e++}),this.uuid=j0(),this.name="",this.type="Material",this.blending=jp,this.side=wd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=gz,this.blendDst=yz,this.blendEquation=Ap,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=gE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=a1e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rS,this.stencilZFail=rS,this.stencilZPass=rS,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const n in t){const r=t[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const a=this[n];if(a===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[n]=r}}toJSON(t){const n=t===void 0||typeof t=="string";n&&(t={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==jp&&(r.blending=this.blending),this.side!==wd&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const s=[];for(const u in o){const d=o[u];delete d.metadata,s.push(d)}return s}if(n){const o=a(t.textures),s=a(t.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const n=t.clippingPlanes;let r=null;if(n!==null){const a=n.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Jw extends ch{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new fi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const xa=new yt,hb=new Dr;class Au{constructor(t,n,r=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=t!==void 0?t.length/n:0,this.normalized=r,this.usage=WP,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,n,r){t*=this.itemSize,r*=n.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[t+a]=n.array[r+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)hb.fromBufferAttribute(this,n),hb.applyMatrix3(t),this.setXY(n,hb.x,hb.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.applyMatrix3(t),this.setXYZ(n,xa.x,xa.y,xa.z);return this}applyMatrix4(t){for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.applyMatrix4(t),this.setXYZ(n,xa.x,xa.y,xa.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.applyNormalMatrix(t),this.setXYZ(n,xa.x,xa.y,xa.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.transformDirection(t),this.setXYZ(n,xa.x,xa.y,xa.z);return this}set(t,n=0){return this.array.set(t,n),this}getX(t){let n=this.array[t*this.itemSize];return this.normalized&&(n=ib(n,this.array)),n}setX(t,n){return this.normalized&&(n=Ss(n,this.array)),this.array[t*this.itemSize]=n,this}getY(t){let n=this.array[t*this.itemSize+1];return this.normalized&&(n=ib(n,this.array)),n}setY(t,n){return this.normalized&&(n=Ss(n,this.array)),this.array[t*this.itemSize+1]=n,this}getZ(t){let n=this.array[t*this.itemSize+2];return this.normalized&&(n=ib(n,this.array)),n}setZ(t,n){return this.normalized&&(n=Ss(n,this.array)),this.array[t*this.itemSize+2]=n,this}getW(t){let n=this.array[t*this.itemSize+3];return this.normalized&&(n=ib(n,this.array)),n}setW(t,n){return this.normalized&&(n=Ss(n,this.array)),this.array[t*this.itemSize+3]=n,this}setXY(t,n,r){return t*=this.itemSize,this.normalized&&(n=Ss(n,this.array),r=Ss(r,this.array)),this.array[t+0]=n,this.array[t+1]=r,this}setXYZ(t,n,r,a){return t*=this.itemSize,this.normalized&&(n=Ss(n,this.array),r=Ss(r,this.array),a=Ss(a,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=a,this}setXYZW(t,n,r,a,o){return t*=this.itemSize,this.normalized&&(n=Ss(n,this.array),r=Ss(r,this.array),a=Ss(a,this.array),o=Ss(o,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=a,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==WP&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Cz extends Au{constructor(t,n,r){super(new Uint16Array(t),n,r)}}class Tz extends Au{constructor(t,n,r){super(new Uint32Array(t),n,r)}}class ki extends Au{constructor(t,n,r){super(new Float32Array(t),n,r)}}let g1e=0;const Xs=new la,_S=new ua,vp=new yt,Es=new q0,sg=new q0,Ha=new yt;class oo extends uh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:g1e++}),this.uuid=j0(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(wz(t)?Tz:Cz)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,n){return this.attributes[t]=n,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,n,r=0){this.groups.push({start:t,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}applyMatrix4(t){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(t),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ks().getNormalMatrix(t);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Xs.makeRotationFromQuaternion(t),this.applyMatrix4(Xs),this}rotateX(t){return Xs.makeRotationX(t),this.applyMatrix4(Xs),this}rotateY(t){return Xs.makeRotationY(t),this.applyMatrix4(Xs),this}rotateZ(t){return Xs.makeRotationZ(t),this.applyMatrix4(Xs),this}translate(t,n,r){return Xs.makeTranslation(t,n,r),this.applyMatrix4(Xs),this}scale(t,n,r){return Xs.makeScale(t,n,r),this.applyMatrix4(Xs),this}lookAt(t){return _S.lookAt(t),_S.updateMatrix(),this.applyMatrix4(_S.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vp).negate(),this.translate(vp.x,vp.y,vp.z),this}setFromPoints(t){const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new ki(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new q0);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new yt(-1/0,-1/0,-1/0),new yt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),n)for(let r=0,a=n.length;r<a;r++){const o=n[r];Es.setFromBufferAttribute(o),this.morphTargetsRelative?(Ha.addVectors(this.boundingBox.min,Es.min),this.boundingBox.expandByPoint(Ha),Ha.addVectors(this.boundingBox.max,Es.max),this.boundingBox.expandByPoint(Ha)):(this.boundingBox.expandByPoint(Es.min),this.boundingBox.expandByPoint(Es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zw);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new yt,1/0);return}if(t){const r=this.boundingSphere.center;if(Es.setFromBufferAttribute(t),n)for(let o=0,s=n.length;o<s;o++){const u=n[o];sg.setFromBufferAttribute(u),this.morphTargetsRelative?(Ha.addVectors(Es.min,sg.min),Es.expandByPoint(Ha),Ha.addVectors(Es.max,sg.max),Es.expandByPoint(Ha)):(Es.expandByPoint(sg.min),Es.expandByPoint(sg.max))}Es.getCenter(r);let a=0;for(let o=0,s=t.count;o<s;o++)Ha.fromBufferAttribute(t,o),a=Math.max(a,r.distanceToSquared(Ha));if(n)for(let o=0,s=n.length;o<s;o++){const u=n[o],d=this.morphTargetsRelative;for(let f=0,h=u.count;f<h;f++)Ha.fromBufferAttribute(u,f),d&&(vp.fromBufferAttribute(t,f),Ha.add(vp)),a=Math.max(a,r.distanceToSquared(Ha))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,n=this.attributes;if(t===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.array,a=n.position.array,o=n.normal.array,s=n.uv.array,u=a.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Au(new Float32Array(4*u),4));const d=this.getAttribute("tangent").array,f=[],h=[];for(let B=0;B<u;B++)f[B]=new yt,h[B]=new yt;const v=new yt,y=new yt,b=new yt,w=new Dr,g=new Dr,x=new Dr,M=new yt,R=new yt;function A(B,G,$){v.fromArray(a,B*3),y.fromArray(a,G*3),b.fromArray(a,$*3),w.fromArray(s,B*2),g.fromArray(s,G*2),x.fromArray(s,$*2),y.sub(v),b.sub(v),g.sub(w),x.sub(w);const Q=1/(g.x*x.y-x.x*g.y);isFinite(Q)&&(M.copy(y).multiplyScalar(x.y).addScaledVector(b,-g.y).multiplyScalar(Q),R.copy(b).multiplyScalar(g.x).addScaledVector(y,-x.x).multiplyScalar(Q),f[B].add(M),f[G].add(M),f[$].add(M),h[B].add(R),h[G].add(R),h[$].add(R))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let B=0,G=T.length;B<G;++B){const $=T[B],Q=$.start,ae=$.count;for(let ee=Q,K=Q+ae;ee<K;ee+=3)A(r[ee+0],r[ee+1],r[ee+2])}const P=new yt,I=new yt,E=new yt,D=new yt;function N(B){E.fromArray(o,B*3),D.copy(E);const G=f[B];P.copy(G),P.sub(E.multiplyScalar(E.dot(G))).normalize(),I.crossVectors(D,G);const Q=I.dot(h[B])<0?-1:1;d[B*4]=P.x,d[B*4+1]=P.y,d[B*4+2]=P.z,d[B*4+3]=Q}for(let B=0,G=T.length;B<G;++B){const $=T[B],Q=$.start,ae=$.count;for(let ee=Q,K=Q+ae;ee<K;ee+=3)N(r[ee+0]),N(r[ee+1]),N(r[ee+2])}}computeVertexNormals(){const t=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Au(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let y=0,b=r.count;y<b;y++)r.setXYZ(y,0,0,0);const a=new yt,o=new yt,s=new yt,u=new yt,d=new yt,f=new yt,h=new yt,v=new yt;if(t)for(let y=0,b=t.count;y<b;y+=3){const w=t.getX(y+0),g=t.getX(y+1),x=t.getX(y+2);a.fromBufferAttribute(n,w),o.fromBufferAttribute(n,g),s.fromBufferAttribute(n,x),h.subVectors(s,o),v.subVectors(a,o),h.cross(v),u.fromBufferAttribute(r,w),d.fromBufferAttribute(r,g),f.fromBufferAttribute(r,x),u.add(h),d.add(h),f.add(h),r.setXYZ(w,u.x,u.y,u.z),r.setXYZ(g,d.x,d.y,d.z),r.setXYZ(x,f.x,f.y,f.z)}else for(let y=0,b=n.count;y<b;y+=3)a.fromBufferAttribute(n,y+0),o.fromBufferAttribute(n,y+1),s.fromBufferAttribute(n,y+2),h.subVectors(s,o),v.subVectors(a,o),h.cross(v),r.setXYZ(y+0,h.x,h.y,h.z),r.setXYZ(y+1,h.x,h.y,h.z),r.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const t=this.attributes.normal;for(let n=0,r=t.count;n<r;n++)Ha.fromBufferAttribute(t,n),Ha.normalize(),t.setXYZ(n,Ha.x,Ha.y,Ha.z)}toNonIndexed(){function t(u,d){const f=u.array,h=u.itemSize,v=u.normalized,y=new f.constructor(d.length*h);let b=0,w=0;for(let g=0,x=d.length;g<x;g++){u.isInterleavedBufferAttribute?b=d[g]*u.data.stride+u.offset:b=d[g]*h;for(let M=0;M<h;M++)y[w++]=f[b++]}return new Au(y,h,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new oo,r=this.index.array,a=this.attributes;for(const u in a){const d=a[u],f=t(d,r);n.setAttribute(u,f)}const o=this.morphAttributes;for(const u in o){const d=[],f=o[u];for(let h=0,v=f.length;h<v;h++){const y=f[h],b=t(y,r);d.push(b)}n.morphAttributes[u]=d}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let u=0,d=s.length;u<d;u++){const f=s[u];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(t[f]=d[f]);return t}t.data={attributes:{}};const n=this.index;n!==null&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const d in r){const f=r[d];t.data.attributes[d]=f.toJSON(t.data)}const a={};let o=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],h=[];for(let v=0,y=f.length;v<y;v++){const b=f[v];h.push(b.toJSON(t.data))}h.length>0&&(a[d]=h,o=!0)}o&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(n));const a=t.attributes;for(const f in a){const h=a[f];this.setAttribute(f,h.clone(n))}const o=t.morphAttributes;for(const f in o){const h=[],v=o[f];for(let y=0,b=v.length;y<b;y++)h.push(v[y].clone(n));this.morphAttributes[f]=h}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let f=0,h=s.length;f<h;f++){const v=s[f];this.addGroup(v.start,v.count,v.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const rk=new la,gp=new H2,wS=new Zw,lg=new yt,ug=new yt,cg=new yt,xS=new yt,pb=new yt,mb=new Dr,vb=new Dr,gb=new Dr,SS=new yt,yb=new yt;class Nn extends ua{constructor(t=new oo,n=new Jw){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const u=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(t,n){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(a,t);const u=this.morphTargetInfluences;if(o&&u){pb.set(0,0,0);for(let d=0,f=o.length;d<f;d++){const h=u[d],v=o[d];h!==0&&(xS.fromBufferAttribute(v,t),s?pb.addScaledVector(xS,h):pb.addScaledVector(xS.sub(n),h))}n.add(pb)}return this.isSkinnedMesh&&this.boneTransform(t,n),n}raycast(t,n){const r=this.geometry,a=this.material,o=this.matrixWorld;if(a===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),wS.copy(r.boundingSphere),wS.applyMatrix4(o),t.ray.intersectsSphere(wS)===!1)||(rk.copy(o).invert(),gp.copy(t.ray).applyMatrix4(rk),r.boundingBox!==null&&gp.intersectsBox(r.boundingBox)===!1))return;let s;const u=r.index,d=r.attributes.position,f=r.attributes.uv,h=r.attributes.uv2,v=r.groups,y=r.drawRange;if(u!==null)if(Array.isArray(a))for(let b=0,w=v.length;b<w;b++){const g=v[b],x=a[g.materialIndex],M=Math.max(g.start,y.start),R=Math.min(u.count,Math.min(g.start+g.count,y.start+y.count));for(let A=M,T=R;A<T;A+=3){const P=u.getX(A),I=u.getX(A+1),E=u.getX(A+2);s=bb(this,x,t,gp,f,h,P,I,E),s&&(s.faceIndex=Math.floor(A/3),s.face.materialIndex=g.materialIndex,n.push(s))}}else{const b=Math.max(0,y.start),w=Math.min(u.count,y.start+y.count);for(let g=b,x=w;g<x;g+=3){const M=u.getX(g),R=u.getX(g+1),A=u.getX(g+2);s=bb(this,a,t,gp,f,h,M,R,A),s&&(s.faceIndex=Math.floor(g/3),n.push(s))}}else if(d!==void 0)if(Array.isArray(a))for(let b=0,w=v.length;b<w;b++){const g=v[b],x=a[g.materialIndex],M=Math.max(g.start,y.start),R=Math.min(d.count,Math.min(g.start+g.count,y.start+y.count));for(let A=M,T=R;A<T;A+=3){const P=A,I=A+1,E=A+2;s=bb(this,x,t,gp,f,h,P,I,E),s&&(s.faceIndex=Math.floor(A/3),s.face.materialIndex=g.materialIndex,n.push(s))}}else{const b=Math.max(0,y.start),w=Math.min(d.count,y.start+y.count);for(let g=b,x=w;g<x;g+=3){const M=g,R=g+1,A=g+2;s=bb(this,a,t,gp,f,h,M,R,A),s&&(s.faceIndex=Math.floor(g/3),n.push(s))}}}}function y1e(e,t,n,r,a,o,s,u){let d;if(t.side===Ds?d=r.intersectTriangle(s,o,a,!0,u):d=r.intersectTriangle(a,o,s,t.side===wd,u),d===null)return null;yb.copy(u),yb.applyMatrix4(e.matrixWorld);const f=n.ray.origin.distanceTo(yb);return f<n.near||f>n.far?null:{distance:f,point:yb.clone(),object:e}}function bb(e,t,n,r,a,o,s,u,d){e.getVertexPosition(s,lg),e.getVertexPosition(u,ug),e.getVertexPosition(d,cg);const f=y1e(e,t,n,r,lg,ug,cg,SS);if(f){a&&(mb.fromBufferAttribute(a,s),vb.fromBufferAttribute(a,u),gb.fromBufferAttribute(a,d),f.uv=Su.getUV(SS,lg,ug,cg,mb,vb,gb,new Dr)),o&&(mb.fromBufferAttribute(o,s),vb.fromBufferAttribute(o,u),gb.fromBufferAttribute(o,d),f.uv2=Su.getUV(SS,lg,ug,cg,mb,vb,gb,new Dr));const h={a:s,b:u,c:d,normal:new yt,materialIndex:0};Su.getNormal(lg,ug,cg,h.normal),f.face=h}return f}class Xi extends oo{constructor(t=1,n=1,r=1,a=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:a,heightSegments:o,depthSegments:s};const u=this;a=Math.floor(a),o=Math.floor(o),s=Math.floor(s);const d=[],f=[],h=[],v=[];let y=0,b=0;w("z","y","x",-1,-1,r,n,t,s,o,0),w("z","y","x",1,-1,r,n,-t,s,o,1),w("x","z","y",1,1,t,r,n,a,s,2),w("x","z","y",1,-1,t,r,-n,a,s,3),w("x","y","z",1,-1,t,n,r,a,o,4),w("x","y","z",-1,-1,t,n,-r,a,o,5),this.setIndex(d),this.setAttribute("position",new ki(f,3)),this.setAttribute("normal",new ki(h,3)),this.setAttribute("uv",new ki(v,2));function w(g,x,M,R,A,T,P,I,E,D,N){const B=T/E,G=P/D,$=T/2,Q=P/2,ae=I/2,ee=E+1,K=D+1;let X=0,Z=0;const j=new yt;for(let ie=0;ie<K;ie++){const pe=ie*G-Q;for(let he=0;he<ee;he++){const le=he*B-$;j[g]=le*R,j[x]=pe*A,j[M]=ae,f.push(j.x,j.y,j.z),j[g]=0,j[x]=0,j[M]=I>0?1:-1,h.push(j.x,j.y,j.z),v.push(he/E),v.push(1-ie/D),X+=1}}for(let ie=0;ie<D;ie++)for(let pe=0;pe<E;pe++){const he=y+pe+ee*ie,le=y+pe+ee*(ie+1),Re=y+(pe+1)+ee*(ie+1),De=y+(pe+1)+ee*ie;d.push(he,le,De),d.push(le,Re,De),Z+=6}u.addGroup(b,Z,N),b+=Z,y+=X}}static fromJSON(t){return new Xi(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function bm(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}}return t}function Do(e){const t={};for(let n=0;n<e.length;n++){const r=bm(e[n]);for(const a in r)t[a]=r[a]}return t}function b1e(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function Az(e){return e.getRenderTarget()===null&&e.outputEncoding===Wi?bu:w0}const _1e={clone:bm,merge:Do};var w1e="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",x1e="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class rh extends ch{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=w1e,this.fragmentShader=x1e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=bm(t.uniforms),this.uniformsGroups=b1e(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const n=super.toJSON(t);n.glslVersion=this.glslVersion,n.uniforms={};for(const a in this.uniforms){const s=this.uniforms[a].value;s&&s.isTexture?n.uniforms[a]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?n.uniforms[a]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[a]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[a]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[a]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[a]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[a]={type:"m4",value:s.toArray()}:n.uniforms[a]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Lz extends ua{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new la,this.projectionMatrix=new la,this.projectionMatrixInverse=new la}copy(t,n){return super.copy(t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,n){super.updateWorldMatrix(t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ts extends Lz{constructor(t=50,n=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const n=.5*this.getFilmHeight()/t;this.fov=SE*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(c_*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return SE*2*Math.atan(Math.tan(c_*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,n,r,a,o,s){this.aspect=t/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let n=t*Math.tan(c_*.5*this.fov)/this.zoom,r=2*n,a=this.aspect*r,o=-.5*a;const s=this.view;if(this.view!==null&&this.view.enabled){const d=s.fullWidth,f=s.fullHeight;o+=s.offsetX*a/d,n-=s.offsetY*r/f,a*=s.width/d,r*=s.height/f}const u=this.filmOffset;u!==0&&(o+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,n,n-r,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const yp=-90,bp=1;class S1e extends ua{constructor(t,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const a=new Ts(yp,bp,t,n);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(1,0,0),this.add(a);const o=new Ts(yp,bp,t,n);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const s=new Ts(yp,bp,t,n);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(0,1,0),this.add(s);const u=new Ts(yp,bp,t,n);u.layers=this.layers,u.up.set(0,0,1),u.lookAt(0,-1,0),this.add(u);const d=new Ts(yp,bp,t,n);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,1),this.add(d);const f=new Ts(yp,bp,t,n);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(t,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[a,o,s,u,d,f]=this.children,h=t.getRenderTarget(),v=t.toneMapping,y=t.xr.enabled;t.toneMapping=hc,t.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(n,a),t.setRenderTarget(r,1),t.render(n,o),t.setRenderTarget(r,2),t.render(n,s),t.setRenderTarget(r,3),t.render(n,u),t.setRenderTarget(r,4),t.render(n,d),r.texture.generateMipmaps=b,t.setRenderTarget(r,5),t.render(n,f),t.setRenderTarget(h),t.toneMapping=v,t.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class Rz extends Ns{constructor(t,n,r,a,o,s,u,d,f,h){t=t!==void 0?t:[],n=n!==void 0?n:vm,super(t,n,r,a,o,s,u,d,f,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class M1e extends nh{constructor(t=1,n={}){super(t,t,n),this.isWebGLCubeRenderTarget=!0;const r={width:t,height:t,depth:1},a=[r,r,r,r,r,r];this.texture=new Rz(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Qs}fromEquirectangularTexture(t,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			",fragmentShader:"\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			"},a=new Xi(5,5,5),o=new rh({name:"CubemapFromEquirect",uniforms:bm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ds,blending:fd});o.uniforms.tEquirect.value=n;const s=new Nn(a,o),u=n.minFilter;return n.minFilter===b0&&(n.minFilter=Qs),new S1e(1,10,this).update(t,s),n.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}clear(t,n,r,a){const o=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(n,r,a);t.setRenderTarget(o)}}const MS=new yt,E1e=new yt,C1e=new ks;class bf{constructor(t=new yt(1,0,0),n=0){this.isPlane=!0,this.normal=t,this.constant=n}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,r,a){return this.normal.set(t,n,r),this.constant=a,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,r){const a=MS.subVectors(r,n).cross(E1e.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){const r=t.delta(MS),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:n.copy(r).multiplyScalar(o).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return n<0&&r>0||r<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const r=n||C1e.getNormalMatrix(t),a=this.coplanarPoint(MS).applyMatrix4(t),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _p=new Zw,_b=new yt;class G2{constructor(t=new bf,n=new bf,r=new bf,a=new bf,o=new bf,s=new bf){this.planes=[t,n,r,a,o,s]}set(t,n,r,a,o,s){const u=this.planes;return u[0].copy(t),u[1].copy(n),u[2].copy(r),u[3].copy(a),u[4].copy(o),u[5].copy(s),this}copy(t){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t){const n=this.planes,r=t.elements,a=r[0],o=r[1],s=r[2],u=r[3],d=r[4],f=r[5],h=r[6],v=r[7],y=r[8],b=r[9],w=r[10],g=r[11],x=r[12],M=r[13],R=r[14],A=r[15];return n[0].setComponents(u-a,v-d,g-y,A-x).normalize(),n[1].setComponents(u+a,v+d,g+y,A+x).normalize(),n[2].setComponents(u+o,v+f,g+b,A+M).normalize(),n[3].setComponents(u-o,v-f,g-b,A-M).normalize(),n[4].setComponents(u-s,v-h,g-w,A-R).normalize(),n[5].setComponents(u+s,v+h,g+w,A+R).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),_p.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(_p)}intersectsSprite(t){return _p.center.set(0,0,0),_p.radius=.7071067811865476,_p.applyMatrix4(t.matrixWorld),this.intersectsSphere(_p)}intersectsSphere(t){const n=this.planes,r=t.center,a=-t.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(t){const n=this.planes;for(let r=0;r<6;r++){const a=n[r];if(_b.x=a.normal.x>0?t.max.x:t.min.x,_b.y=a.normal.y>0?t.max.y:t.min.y,_b.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(_b)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Pz(){let e=null,t=!1,n=null,r=null;function a(o,s){n(o,s),r=e.requestAnimationFrame(a)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function T1e(e,t){const n=t.isWebGL2,r=new WeakMap;function a(f,h){const v=f.array,y=f.usage,b=e.createBuffer();e.bindBuffer(h,b),e.bufferData(h,v,y),f.onUploadCallback();let w;if(v instanceof Float32Array)w=5126;else if(v instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(n)w=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else w=5123;else if(v instanceof Int16Array)w=5122;else if(v instanceof Uint32Array)w=5125;else if(v instanceof Int32Array)w=5124;else if(v instanceof Int8Array)w=5120;else if(v instanceof Uint8Array)w=5121;else if(v instanceof Uint8ClampedArray)w=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:b,type:w,bytesPerElement:v.BYTES_PER_ELEMENT,version:f.version}}function o(f,h,v){const y=h.array,b=h.updateRange;e.bindBuffer(v,f),b.count===-1?e.bufferSubData(v,0,y):(n?e.bufferSubData(v,b.offset*y.BYTES_PER_ELEMENT,y,b.offset,b.count):e.bufferSubData(v,b.offset*y.BYTES_PER_ELEMENT,y.subarray(b.offset,b.offset+b.count)),b.count=-1),h.onUploadCallback()}function s(f){return f.isInterleavedBufferAttribute&&(f=f.data),r.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);const h=r.get(f);h&&(e.deleteBuffer(h.buffer),r.delete(f))}function d(f,h){if(f.isGLBufferAttribute){const y=r.get(f);(!y||y.version<f.version)&&r.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const v=r.get(f);v===void 0?r.set(f,a(f,h)):v.version<f.version&&(o(v.buffer,f,h),v.version=f.version)}return{get:s,remove:u,update:d}}class $f extends oo{constructor(t=1,n=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:r,heightSegments:a};const o=t/2,s=n/2,u=Math.floor(r),d=Math.floor(a),f=u+1,h=d+1,v=t/u,y=n/d,b=[],w=[],g=[],x=[];for(let M=0;M<h;M++){const R=M*y-s;for(let A=0;A<f;A++){const T=A*v-o;w.push(T,-R,0),g.push(0,0,1),x.push(A/u),x.push(1-M/d)}}for(let M=0;M<d;M++)for(let R=0;R<u;R++){const A=R+f*M,T=R+f*(M+1),P=R+1+f*(M+1),I=R+1+f*M;b.push(A,T,I),b.push(T,P,I)}this.setIndex(b),this.setAttribute("position",new ki(w,3)),this.setAttribute("normal",new ki(g,3)),this.setAttribute("uv",new ki(x,2))}static fromJSON(t){return new $f(t.width,t.height,t.widthSegments,t.heightSegments)}}var A1e="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",L1e="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",R1e="#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif",P1e="#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",k1e="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",I1e="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",O1e="vec3 transformed = vec3( position );",D1e="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",N1e="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif",F1e="#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",B1e="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",z1e="#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif",V1e="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",U1e="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",H1e="#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",$1e="#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",G1e="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",W1e="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",j1e="#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",q1e="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}",K1e="#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",Y1e="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",X1e="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",Z1e="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",J1e="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Q1e="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",exe="gl_FragColor = linearToOutputTexel( gl_FragColor );",txe="vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",nxe="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",rxe="#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",ixe="#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",axe="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",oxe="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",sxe="#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",lxe="#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",uxe="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",cxe="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",dxe="#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",fxe="#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",hxe="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",pxe="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",mxe="varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",vxe="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#else\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",gxe="#if defined( USE_ENVMAP )\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n#endif",yxe="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",bxe="varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",_xe="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",wxe="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",xxe="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULARINTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n		#endif\n		#ifdef USE_SPECULARCOLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEENCOLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEENROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n	#endif\n#endif",Sxe="struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	#ifdef USE_IRIDESCENCE\n		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n	#else\n		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Mxe="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Exe="#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",Cxe="#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",Txe="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Axe="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",Lxe="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif",Rxe="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif",Pxe="#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",kxe="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",Ixe="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Oxe="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	uniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",Dxe="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",Nxe="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",Fxe="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",Bxe="#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",zxe="#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",Vxe="#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",Uxe="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	#ifdef USE_TANGENT\n		vec3 tangent = normalize( vTangent );\n		vec3 bitangent = normalize( vBitangent );\n		#ifdef DOUBLE_SIDED\n			tangent = tangent * faceDirection;\n			bitangent = bitangent * faceDirection;\n		#endif\n		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n			mat3 vTBN = mat3( tangent, bitangent, normal );\n		#endif\n	#endif\n#endif\nvec3 geometryNormal = normal;",Hxe="#ifdef OBJECTSPACE_NORMALMAP\n	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	#ifdef USE_TANGENT\n		normal = normalize( vTBN * mapN );\n	#else\n		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n	#endif\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",$xe="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",Gxe="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",Wxe="#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",jxe="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n	}\n#endif",qxe="#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif",Kxe="#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	#ifdef USE_TANGENT\n		clearcoatNormal = normalize( vTBN * clearcoatMapN );\n	#else\n		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n	#endif\n#endif",Yxe="#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif",Xxe="#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",Zxe="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",Jxe="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n	return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Qxe="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",eSe="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",tSe="#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",nSe="#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",rSe="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",iSe="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",aSe="#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif",oSe="#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",sSe="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",lSe="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",uSe="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",cSe="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif",dSe="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",fSe="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",hSe="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",pSe="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",mSe="#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",vSe="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",gSe="#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmission = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",ySe="#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		#ifdef texture2DLodEXT\n			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n		#else\n			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n		#endif\n	}\n	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return radiance;\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n	}\n#endif",bSe="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n	varying vec2 vUv;\n#endif",_Se="#ifdef USE_UV\n	#ifdef UVS_VERTEX_ONLY\n		vec2 vUv;\n	#else\n		varying vec2 vUv;\n	#endif\n	uniform mat3 uvTransform;\n#endif",wSe="#ifdef USE_UV\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",xSe="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",SSe="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n	uniform mat3 uv2Transform;\n#endif",MSe="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",ESe="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif";const CSe="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",TSe="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",ASe="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",LSe="#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",RSe="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",PSe="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",kSe="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",ISe="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",OSe="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",DSe="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",NSe="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",FSe="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",BSe="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",zSe="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",VSe="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",USe="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",HSe="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",$Se="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",GSe="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",WSe="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",jSe="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",qSe="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",KSe="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",YSe="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",XSe="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",ZSe="#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULARINTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n	#ifdef USE_SPECULARCOLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEENCOLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEENROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",JSe="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",QSe="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",eMe="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",tMe="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",nMe="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",rMe="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",iMe="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",aMe="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",qr={alphamap_fragment:A1e,alphamap_pars_fragment:L1e,alphatest_fragment:R1e,alphatest_pars_fragment:P1e,aomap_fragment:k1e,aomap_pars_fragment:I1e,begin_vertex:O1e,beginnormal_vertex:D1e,bsdfs:N1e,iridescence_fragment:F1e,bumpmap_pars_fragment:B1e,clipping_planes_fragment:z1e,clipping_planes_pars_fragment:V1e,clipping_planes_pars_vertex:U1e,clipping_planes_vertex:H1e,color_fragment:$1e,color_pars_fragment:G1e,color_pars_vertex:W1e,color_vertex:j1e,common:q1e,cube_uv_reflection_fragment:K1e,defaultnormal_vertex:Y1e,displacementmap_pars_vertex:X1e,displacementmap_vertex:Z1e,emissivemap_fragment:J1e,emissivemap_pars_fragment:Q1e,encodings_fragment:exe,encodings_pars_fragment:txe,envmap_fragment:nxe,envmap_common_pars_fragment:rxe,envmap_pars_fragment:ixe,envmap_pars_vertex:axe,envmap_physical_pars_fragment:gxe,envmap_vertex:oxe,fog_vertex:sxe,fog_pars_vertex:lxe,fog_fragment:uxe,fog_pars_fragment:cxe,gradientmap_pars_fragment:dxe,lightmap_fragment:fxe,lightmap_pars_fragment:hxe,lights_lambert_fragment:pxe,lights_lambert_pars_fragment:mxe,lights_pars_begin:vxe,lights_toon_fragment:yxe,lights_toon_pars_fragment:bxe,lights_phong_fragment:_xe,lights_phong_pars_fragment:wxe,lights_physical_fragment:xxe,lights_physical_pars_fragment:Sxe,lights_fragment_begin:Mxe,lights_fragment_maps:Exe,lights_fragment_end:Cxe,logdepthbuf_fragment:Txe,logdepthbuf_pars_fragment:Axe,logdepthbuf_pars_vertex:Lxe,logdepthbuf_vertex:Rxe,map_fragment:Pxe,map_pars_fragment:kxe,map_particle_fragment:Ixe,map_particle_pars_fragment:Oxe,metalnessmap_fragment:Dxe,metalnessmap_pars_fragment:Nxe,morphcolor_vertex:Fxe,morphnormal_vertex:Bxe,morphtarget_pars_vertex:zxe,morphtarget_vertex:Vxe,normal_fragment_begin:Uxe,normal_fragment_maps:Hxe,normal_pars_fragment:$xe,normal_pars_vertex:Gxe,normal_vertex:Wxe,normalmap_pars_fragment:jxe,clearcoat_normal_fragment_begin:qxe,clearcoat_normal_fragment_maps:Kxe,clearcoat_pars_fragment:Yxe,iridescence_pars_fragment:Xxe,output_fragment:Zxe,packing:Jxe,premultiplied_alpha_fragment:Qxe,project_vertex:eSe,dithering_fragment:tSe,dithering_pars_fragment:nSe,roughnessmap_fragment:rSe,roughnessmap_pars_fragment:iSe,shadowmap_pars_fragment:aSe,shadowmap_pars_vertex:oSe,shadowmap_vertex:sSe,shadowmask_pars_fragment:lSe,skinbase_vertex:uSe,skinning_pars_vertex:cSe,skinning_vertex:dSe,skinnormal_vertex:fSe,specularmap_fragment:hSe,specularmap_pars_fragment:pSe,tonemapping_fragment:mSe,tonemapping_pars_fragment:vSe,transmission_fragment:gSe,transmission_pars_fragment:ySe,uv_pars_fragment:bSe,uv_pars_vertex:_Se,uv_vertex:wSe,uv2_pars_fragment:xSe,uv2_pars_vertex:SSe,uv2_vertex:MSe,worldpos_vertex:ESe,background_vert:CSe,background_frag:TSe,backgroundCube_vert:ASe,backgroundCube_frag:LSe,cube_vert:RSe,cube_frag:PSe,depth_vert:kSe,depth_frag:ISe,distanceRGBA_vert:OSe,distanceRGBA_frag:DSe,equirect_vert:NSe,equirect_frag:FSe,linedashed_vert:BSe,linedashed_frag:zSe,meshbasic_vert:VSe,meshbasic_frag:USe,meshlambert_vert:HSe,meshlambert_frag:$Se,meshmatcap_vert:GSe,meshmatcap_frag:WSe,meshnormal_vert:jSe,meshnormal_frag:qSe,meshphong_vert:KSe,meshphong_frag:YSe,meshphysical_vert:XSe,meshphysical_frag:ZSe,meshtoon_vert:JSe,meshtoon_frag:QSe,points_vert:eMe,points_frag:tMe,shadow_vert:nMe,shadow_frag:rMe,sprite_vert:iMe,sprite_frag:aMe},Fn={common:{diffuse:{value:new fi(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ks},uv2Transform:{value:new ks},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Dr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new fi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new fi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ks}},sprite:{diffuse:{value:new fi(16777215)},opacity:{value:1},center:{value:new Dr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ks}}},wu={basic:{uniforms:Do([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.fog]),vertexShader:qr.meshbasic_vert,fragmentShader:qr.meshbasic_frag},lambert:{uniforms:Do([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new fi(0)}}]),vertexShader:qr.meshlambert_vert,fragmentShader:qr.meshlambert_frag},phong:{uniforms:Do([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new fi(0)},specular:{value:new fi(1118481)},shininess:{value:30}}]),vertexShader:qr.meshphong_vert,fragmentShader:qr.meshphong_frag},standard:{uniforms:Do([Fn.common,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.roughnessmap,Fn.metalnessmap,Fn.fog,Fn.lights,{emissive:{value:new fi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qr.meshphysical_vert,fragmentShader:qr.meshphysical_frag},toon:{uniforms:Do([Fn.common,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.gradientmap,Fn.fog,Fn.lights,{emissive:{value:new fi(0)}}]),vertexShader:qr.meshtoon_vert,fragmentShader:qr.meshtoon_frag},matcap:{uniforms:Do([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,{matcap:{value:null}}]),vertexShader:qr.meshmatcap_vert,fragmentShader:qr.meshmatcap_frag},points:{uniforms:Do([Fn.points,Fn.fog]),vertexShader:qr.points_vert,fragmentShader:qr.points_frag},dashed:{uniforms:Do([Fn.common,Fn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qr.linedashed_vert,fragmentShader:qr.linedashed_frag},depth:{uniforms:Do([Fn.common,Fn.displacementmap]),vertexShader:qr.depth_vert,fragmentShader:qr.depth_frag},normal:{uniforms:Do([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,{opacity:{value:1}}]),vertexShader:qr.meshnormal_vert,fragmentShader:qr.meshnormal_frag},sprite:{uniforms:Do([Fn.sprite,Fn.fog]),vertexShader:qr.sprite_vert,fragmentShader:qr.sprite_frag},background:{uniforms:{uvTransform:{value:new ks},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qr.background_vert,fragmentShader:qr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:qr.backgroundCube_vert,fragmentShader:qr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qr.cube_vert,fragmentShader:qr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qr.equirect_vert,fragmentShader:qr.equirect_frag},distanceRGBA:{uniforms:Do([Fn.common,Fn.displacementmap,{referencePosition:{value:new yt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qr.distanceRGBA_vert,fragmentShader:qr.distanceRGBA_frag},shadow:{uniforms:Do([Fn.lights,Fn.fog,{color:{value:new fi(0)},opacity:{value:1}}]),vertexShader:qr.shadow_vert,fragmentShader:qr.shadow_frag}};wu.physical={uniforms:Do([wu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Dr(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new fi(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Dr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new fi(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new fi(1,1,1)},specularColorMap:{value:null}}]),vertexShader:qr.meshphysical_vert,fragmentShader:qr.meshphysical_frag};const wb={r:0,b:0,g:0};function oMe(e,t,n,r,a,o,s){const u=new fi(0);let d=o===!0?0:1,f,h,v=null,y=0,b=null;function w(x,M){let R=!1,A=M.isScene===!0?M.background:null;A&&A.isTexture&&(A=(M.backgroundBlurriness>0?n:t).get(A));const T=e.xr,P=T.getSession&&T.getSession();P&&P.environmentBlendMode==="additive"&&(A=null),A===null?g(u,d):A&&A.isColor&&(g(A,1),R=!0),(e.autoClear||R)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),A&&(A.isCubeTexture||A.mapping===Xw)?(h===void 0&&(h=new Nn(new Xi(1,1,1),new rh({name:"BackgroundCubeMaterial",uniforms:bm(wu.backgroundCube.uniforms),vertexShader:wu.backgroundCube.vertexShader,fragmentShader:wu.backgroundCube.fragmentShader,side:Ds,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(I,E,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(h)),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.toneMapped=A.encoding!==Wi,(v!==A||y!==A.version||b!==e.toneMapping)&&(h.material.needsUpdate=!0,v=A,y=A.version,b=e.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(f===void 0&&(f=new Nn(new $f(2,2),new rh({name:"BackgroundMaterial",uniforms:bm(wu.background.uniforms),vertexShader:wu.background.vertexShader,fragmentShader:wu.background.fragmentShader,side:wd,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(f)),f.material.uniforms.t2D.value=A,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=A.encoding!==Wi,A.matrixAutoUpdate===!0&&A.updateMatrix(),f.material.uniforms.uvTransform.value.copy(A.matrix),(v!==A||y!==A.version||b!==e.toneMapping)&&(f.material.needsUpdate=!0,v=A,y=A.version,b=e.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null))}function g(x,M){x.getRGB(wb,Az(e)),r.buffers.color.setClear(wb.r,wb.g,wb.b,M,s)}return{getClearColor:function(){return u},setClearColor:function(x,M=1){u.set(x),d=M,g(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(x){d=x,g(u,d)},render:w}}function sMe(e,t,n,r){const a=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,u={},d=x(null);let f=d,h=!1;function v(ae,ee,K,X,Z){let j=!1;if(s){const ie=g(X,K,ee);f!==ie&&(f=ie,b(f.object)),j=M(ae,X,K,Z),j&&R(ae,X,K,Z)}else{const ie=ee.wireframe===!0;(f.geometry!==X.id||f.program!==K.id||f.wireframe!==ie)&&(f.geometry=X.id,f.program=K.id,f.wireframe=ie,j=!0)}Z!==null&&n.update(Z,34963),(j||h)&&(h=!1,D(ae,ee,K,X),Z!==null&&e.bindBuffer(34963,n.get(Z).buffer))}function y(){return r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function b(ae){return r.isWebGL2?e.bindVertexArray(ae):o.bindVertexArrayOES(ae)}function w(ae){return r.isWebGL2?e.deleteVertexArray(ae):o.deleteVertexArrayOES(ae)}function g(ae,ee,K){const X=K.wireframe===!0;let Z=u[ae.id];Z===void 0&&(Z={},u[ae.id]=Z);let j=Z[ee.id];j===void 0&&(j={},Z[ee.id]=j);let ie=j[X];return ie===void 0&&(ie=x(y()),j[X]=ie),ie}function x(ae){const ee=[],K=[],X=[];for(let Z=0;Z<a;Z++)ee[Z]=0,K[Z]=0,X[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:K,attributeDivisors:X,object:ae,attributes:{},index:null}}function M(ae,ee,K,X){const Z=f.attributes,j=ee.attributes;let ie=0;const pe=K.getAttributes();for(const he in pe)if(pe[he].location>=0){const Re=Z[he];let De=j[he];if(De===void 0&&(he==="instanceMatrix"&&ae.instanceMatrix&&(De=ae.instanceMatrix),he==="instanceColor"&&ae.instanceColor&&(De=ae.instanceColor)),Re===void 0||Re.attribute!==De||De&&Re.data!==De.data)return!0;ie++}return f.attributesNum!==ie||f.index!==X}function R(ae,ee,K,X){const Z={},j=ee.attributes;let ie=0;const pe=K.getAttributes();for(const he in pe)if(pe[he].location>=0){let Re=j[he];Re===void 0&&(he==="instanceMatrix"&&ae.instanceMatrix&&(Re=ae.instanceMatrix),he==="instanceColor"&&ae.instanceColor&&(Re=ae.instanceColor));const De={};De.attribute=Re,Re&&Re.data&&(De.data=Re.data),Z[he]=De,ie++}f.attributes=Z,f.attributesNum=ie,f.index=X}function A(){const ae=f.newAttributes;for(let ee=0,K=ae.length;ee<K;ee++)ae[ee]=0}function T(ae){P(ae,0)}function P(ae,ee){const K=f.newAttributes,X=f.enabledAttributes,Z=f.attributeDivisors;K[ae]=1,X[ae]===0&&(e.enableVertexAttribArray(ae),X[ae]=1),Z[ae]!==ee&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ae,ee),Z[ae]=ee)}function I(){const ae=f.newAttributes,ee=f.enabledAttributes;for(let K=0,X=ee.length;K<X;K++)ee[K]!==ae[K]&&(e.disableVertexAttribArray(K),ee[K]=0)}function E(ae,ee,K,X,Z,j){r.isWebGL2===!0&&(K===5124||K===5125)?e.vertexAttribIPointer(ae,ee,K,Z,j):e.vertexAttribPointer(ae,ee,K,X,Z,j)}function D(ae,ee,K,X){if(r.isWebGL2===!1&&(ae.isInstancedMesh||X.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;A();const Z=X.attributes,j=K.getAttributes(),ie=ee.defaultAttributeValues;for(const pe in j){const he=j[pe];if(he.location>=0){let le=Z[pe];if(le===void 0&&(pe==="instanceMatrix"&&ae.instanceMatrix&&(le=ae.instanceMatrix),pe==="instanceColor"&&ae.instanceColor&&(le=ae.instanceColor)),le!==void 0){const Re=le.normalized,De=le.itemSize,Te=n.get(le);if(Te===void 0)continue;const ge=Te.buffer,ke=Te.type,Pe=Te.bytesPerElement;if(le.isInterleavedBufferAttribute){const Xe=le.data,ct=Xe.stride,se=le.offset;if(Xe.isInstancedInterleavedBuffer){for(let ye=0;ye<he.locationSize;ye++)P(he.location+ye,Xe.meshPerAttribute);ae.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let ye=0;ye<he.locationSize;ye++)T(he.location+ye);e.bindBuffer(34962,ge);for(let ye=0;ye<he.locationSize;ye++)E(he.location+ye,De/he.locationSize,ke,Re,ct*Pe,(se+De/he.locationSize*ye)*Pe)}else{if(le.isInstancedBufferAttribute){for(let Xe=0;Xe<he.locationSize;Xe++)P(he.location+Xe,le.meshPerAttribute);ae.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Xe=0;Xe<he.locationSize;Xe++)T(he.location+Xe);e.bindBuffer(34962,ge);for(let Xe=0;Xe<he.locationSize;Xe++)E(he.location+Xe,De/he.locationSize,ke,Re,De*Pe,De/he.locationSize*Xe*Pe)}}else if(ie!==void 0){const Re=ie[pe];if(Re!==void 0)switch(Re.length){case 2:e.vertexAttrib2fv(he.location,Re);break;case 3:e.vertexAttrib3fv(he.location,Re);break;case 4:e.vertexAttrib4fv(he.location,Re);break;default:e.vertexAttrib1fv(he.location,Re)}}}}I()}function N(){$();for(const ae in u){const ee=u[ae];for(const K in ee){const X=ee[K];for(const Z in X)w(X[Z].object),delete X[Z];delete ee[K]}delete u[ae]}}function B(ae){if(u[ae.id]===void 0)return;const ee=u[ae.id];for(const K in ee){const X=ee[K];for(const Z in X)w(X[Z].object),delete X[Z];delete ee[K]}delete u[ae.id]}function G(ae){for(const ee in u){const K=u[ee];if(K[ae.id]===void 0)continue;const X=K[ae.id];for(const Z in X)w(X[Z].object),delete X[Z];delete K[ae.id]}}function $(){Q(),h=!0,f!==d&&(f=d,b(f.object))}function Q(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:v,reset:$,resetDefaultState:Q,dispose:N,releaseStatesOfGeometry:B,releaseStatesOfProgram:G,initAttributes:A,enableAttribute:T,disableUnusedAttributes:I}}function lMe(e,t,n,r){const a=r.isWebGL2;let o;function s(f){o=f}function u(f,h){e.drawArrays(o,f,h),n.update(h,o,1)}function d(f,h,v){if(v===0)return;let y,b;if(a)y=e,b="drawArraysInstanced";else if(y=t.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](o,f,h,v),n.update(h,o,v)}this.setMode=s,this.render=u,this.renderInstances=d}function uMe(e,t,n){let r;function a(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const E=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){if(E==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext;let u=n.precision!==void 0?n.precision:"highp";const d=o(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=s||t.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,v=e.getParameter(34930),y=e.getParameter(35660),b=e.getParameter(3379),w=e.getParameter(34076),g=e.getParameter(34921),x=e.getParameter(36347),M=e.getParameter(36348),R=e.getParameter(36349),A=y>0,T=s||t.has("OES_texture_float"),P=A&&T,I=s?e.getParameter(36183):0;return{isWebGL2:s,drawBuffers:f,getMaxAnisotropy:a,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:h,maxTextures:v,maxVertexTextures:y,maxTextureSize:b,maxCubemapSize:w,maxAttributes:g,maxVertexUniforms:x,maxVaryings:M,maxFragmentUniforms:R,vertexTextures:A,floatFragmentTextures:T,floatVertexTextures:P,maxSamples:I}}function cMe(e){const t=this;let n=null,r=0,a=!1,o=!1;const s=new bf,u=new ks,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,y){const b=v.length!==0||y||r!==0||a;return a=y,r=v.length,b},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(v,y){n=h(v,y,0)},this.setState=function(v,y,b){const w=v.clippingPlanes,g=v.clipIntersection,x=v.clipShadows,M=e.get(v);if(!a||w===null||w.length===0||o&&!x)o?h(null):f();else{const R=o?0:r,A=R*4;let T=M.clippingState||null;d.value=T,T=h(w,y,A,b);for(let P=0;P!==A;++P)T[P]=n[P];M.clippingState=T,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=R}};function f(){d.value!==n&&(d.value=n,d.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function h(v,y,b,w){const g=v!==null?v.length:0;let x=null;if(g!==0){if(x=d.value,w!==!0||x===null){const M=b+g*4,R=y.matrixWorldInverse;u.getNormalMatrix(R),(x===null||x.length<M)&&(x=new Float32Array(M));for(let A=0,T=b;A!==g;++A,T+=4)s.copy(v[A]).applyMatrix4(R,u),s.normal.toArray(x,T),x[T+3]=s.constant}d.value=x,d.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,x}}function dMe(e){let t=new WeakMap;function n(s,u){return u===yE?s.mapping=vm:u===bE&&(s.mapping=gm),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const u=s.mapping;if(u===yE||u===bE)if(t.has(s)){const d=t.get(s).texture;return n(d,s.mapping)}else{const d=s.image;if(d&&d.height>0){const f=new M1e(d.height/2);return f.fromEquirectangularTexture(e,s),t.set(s,f),s.addEventListener("dispose",a),n(f.texture,s.mapping)}else return null}}return s}function a(s){const u=s.target;u.removeEventListener("dispose",a);const d=t.get(u);d!==void 0&&(t.delete(u),d.dispose())}function o(){t=new WeakMap}return{get:r,dispose:o}}class kz extends Lz{constructor(t=-1,n=1,r=1,a=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=n,this.top=r,this.bottom=a,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,n,r,a,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-t,s=r+t,u=a+n,d=a-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,s=o+f*this.view.width,u-=h*this.view.offsetY,d=u-h*this.view.height}this.projectionMatrix.makeOrthographic(o,s,u,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const kp=4,ik=[.125,.215,.35,.446,.526,.582],Ef=20,ES=new kz,ak=new fi;let CS=null;const _f=(1+Math.sqrt(5))/2,wp=1/_f,ok=[new yt(1,1,1),new yt(-1,1,1),new yt(1,1,-1),new yt(-1,1,-1),new yt(0,_f,wp),new yt(0,_f,-wp),new yt(wp,0,_f),new yt(-wp,0,_f),new yt(_f,wp,0),new yt(-_f,wp,0)];class sk{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,r=.1,a=100){CS=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,r,a,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,n=null){return this._fromTexture(t,n)}fromCubemap(t,n=null){return this._fromTexture(t,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ck(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(CS),t.scissorTest=!1,xb(t,0,0,t.width,t.height)}_fromTexture(t,n){t.mapping===vm||t.mapping===gm?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),CS=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Qs,minFilter:Qs,generateMipmaps:!1,type:_0,format:Rl,encoding:th,depthBuffer:!1},a=lk(t,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lk(t,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=fMe(o)),this._blurMaterial=hMe(o,t,n)}return a}_compileMaterial(t){const n=new Nn(this._lodPlanes[0],t);this._renderer.compile(n,ES)}_sceneToCubeUV(t,n,r,a){const u=new Ts(90,1,n,r),d=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],h=this._renderer,v=h.autoClear,y=h.toneMapping;h.getClearColor(ak),h.toneMapping=hc,h.autoClear=!1;const b=new Jw({name:"PMREM.Background",side:Ds,depthWrite:!1,depthTest:!1}),w=new Nn(new Xi,b);let g=!1;const x=t.background;x?x.isColor&&(b.color.copy(x),t.background=null,g=!0):(b.color.copy(ak),g=!0);for(let M=0;M<6;M++){const R=M%3;R===0?(u.up.set(0,d[M],0),u.lookAt(f[M],0,0)):R===1?(u.up.set(0,0,d[M]),u.lookAt(0,f[M],0)):(u.up.set(0,d[M],0),u.lookAt(0,0,f[M]));const A=this._cubeSize;xb(a,R*A,M>2?A:0,A,A),h.setRenderTarget(a),g&&h.render(w,u),h.render(t,u)}w.geometry.dispose(),w.material.dispose(),h.toneMapping=y,h.autoClear=v,t.background=x}_textureToCubeUV(t,n){const r=this._renderer,a=t.mapping===vm||t.mapping===gm;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=ck()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uk());const o=a?this._cubemapMaterial:this._equirectMaterial,s=new Nn(this._lodPlanes[0],o),u=o.uniforms;u.envMap.value=t;const d=this._cubeSize;xb(n,0,0,3*d,2*d),r.setRenderTarget(n),r.render(s,ES)}_applyPMREM(t){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let a=1;a<this._lodPlanes.length;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=ok[(a-1)%ok.length];this._blur(t,a-1,a,o,s)}n.autoClear=r}_blur(t,n,r,a,o){const s=this._pingPongRenderTarget;this._halfBlur(t,s,n,r,a,"latitudinal",o),this._halfBlur(s,t,r,r,a,"longitudinal",o)}_halfBlur(t,n,r,a,o,s,u){const d=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,v=new Nn(this._lodPlanes[a],f),y=f.uniforms,b=this._sizeLods[r]-1,w=isFinite(o)?Math.PI/(2*b):2*Math.PI/(2*Ef-1),g=o/w,x=isFinite(o)?1+Math.floor(h*g):Ef;x>Ef&&console.warn("sigmaRadians, ".concat(o,", is too large and will clip, as it requested ").concat(x," samples when the maximum is set to ").concat(Ef));const M=[];let R=0;for(let E=0;E<Ef;++E){const D=E/g,N=Math.exp(-D*D/2);M.push(N),E===0?R+=N:E<x&&(R+=2*N)}for(let E=0;E<M.length;E++)M[E]=M[E]/R;y.envMap.value=t.texture,y.samples.value=x,y.weights.value=M,y.latitudinal.value=s==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:A}=this;y.dTheta.value=w,y.mipInt.value=A-r;const T=this._sizeLods[a],P=3*T*(a>A-kp?a-A+kp:0),I=4*(this._cubeSize-T);xb(n,P,I,3*T,2*T),d.setRenderTarget(n),d.render(v,ES)}}function fMe(e){const t=[],n=[],r=[];let a=e;const o=e-kp+1+ik.length;for(let s=0;s<o;s++){const u=Math.pow(2,a);n.push(u);let d=1/u;s>e-kp?d=ik[s-e+kp-1]:s===0&&(d=0),r.push(d);const f=1/(u-2),h=-f,v=1+f,y=[h,h,v,h,v,v,h,h,v,v,h,v],b=6,w=6,g=3,x=2,M=1,R=new Float32Array(g*w*b),A=new Float32Array(x*w*b),T=new Float32Array(M*w*b);for(let I=0;I<b;I++){const E=I%3*2/3-1,D=I>2?0:-1,N=[E,D,0,E+2/3,D,0,E+2/3,D+1,0,E,D,0,E+2/3,D+1,0,E,D+1,0];R.set(N,g*w*I),A.set(y,x*w*I);const B=[I,I,I,I,I,I];T.set(B,M*w*I)}const P=new oo;P.setAttribute("position",new Au(R,g)),P.setAttribute("uv",new Au(A,x)),P.setAttribute("faceIndex",new Au(T,M)),t.push(P),a>kp&&a--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function lk(e,t,n){const r=new nh(e,t,n);return r.texture.mapping=Xw,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function xb(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function hMe(e,t,n){const r=new Float32Array(Ef),a=new yt(0,1,0);return new rh({name:"SphericalGaussianBlur",defines:{n:Ef,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:W2(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		",blending:fd,depthTest:!1,depthWrite:!1})}function uk(){return new rh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:W2(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		",blending:fd,depthTest:!1,depthWrite:!1})}function ck(){return new rh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:W2(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		",blending:fd,depthTest:!1,depthWrite:!1})}function W2(){return"\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	"}function pMe(e){let t=new WeakMap,n=null;function r(u){if(u&&u.isTexture){const d=u.mapping,f=d===yE||d===bE,h=d===vm||d===gm;if(f||h)if(u.isRenderTargetTexture&&u.needsPMREMUpdate===!0){u.needsPMREMUpdate=!1;let v=t.get(u);return n===null&&(n=new sk(e)),v=f?n.fromEquirectangular(u,v):n.fromCubemap(u,v),t.set(u,v),v.texture}else{if(t.has(u))return t.get(u).texture;{const v=u.image;if(f&&v&&v.height>0||h&&v&&a(v)){n===null&&(n=new sk(e));const y=f?n.fromEquirectangular(u):n.fromCubemap(u);return t.set(u,y),u.addEventListener("dispose",o),y.texture}else return null}}}return u}function a(u){let d=0;const f=6;for(let h=0;h<f;h++)u[h]!==void 0&&d++;return d===f}function o(u){const d=u.target;d.removeEventListener("dispose",o);const f=t.get(d);f!==void 0&&(t.delete(d),f.dispose())}function s(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function mMe(e){const t={};function n(r){if(t[r]!==void 0)return t[r];let a;switch(r){case"WEBGL_depth_texture":a=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=e.getExtension(r)}return t[r]=a,a}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const a=n(r);return a===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function vMe(e,t,n,r){const a={},o=new WeakMap;function s(v){const y=v.target;y.index!==null&&t.remove(y.index);for(const w in y.attributes)t.remove(y.attributes[w]);y.removeEventListener("dispose",s),delete a[y.id];const b=o.get(y);b&&(t.remove(b),o.delete(y)),r.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function u(v,y){return a[y.id]===!0||(y.addEventListener("dispose",s),a[y.id]=!0,n.memory.geometries++),y}function d(v){const y=v.attributes;for(const w in y)t.update(y[w],34962);const b=v.morphAttributes;for(const w in b){const g=b[w];for(let x=0,M=g.length;x<M;x++)t.update(g[x],34962)}}function f(v){const y=[],b=v.index,w=v.attributes.position;let g=0;if(b!==null){const R=b.array;g=b.version;for(let A=0,T=R.length;A<T;A+=3){const P=R[A+0],I=R[A+1],E=R[A+2];y.push(P,I,I,E,E,P)}}else{const R=w.array;g=w.version;for(let A=0,T=R.length/3-1;A<T;A+=3){const P=A+0,I=A+1,E=A+2;y.push(P,I,I,E,E,P)}}const x=new(wz(y)?Tz:Cz)(y,1);x.version=g;const M=o.get(v);M&&t.remove(M),o.set(v,x)}function h(v){const y=o.get(v);if(y){const b=v.index;b!==null&&y.version<b.version&&f(v)}else f(v);return o.get(v)}return{get:u,update:d,getWireframeAttribute:h}}function gMe(e,t,n,r){const a=r.isWebGL2;let o;function s(y){o=y}let u,d;function f(y){u=y.type,d=y.bytesPerElement}function h(y,b){e.drawElements(o,b,u,y*d),n.update(b,o,1)}function v(y,b,w){if(w===0)return;let g,x;if(a)g=e,x="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[x](o,b,u,y*d,w),n.update(b,o,w)}this.setMode=s,this.setIndex=f,this.render=h,this.renderInstances=v}function yMe(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,u){switch(n.calls++,s){case 4:n.triangles+=u*(o/3);break;case 1:n.lines+=u*(o/2);break;case 3:n.lines+=u*(o-1);break;case 2:n.lines+=u*o;break;case 0:n.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function a(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:a,update:r}}function bMe(e,t){return e[0]-t[0]}function _Me(e,t){return Math.abs(t[1])-Math.abs(e[1])}function wMe(e,t,n){const r={},a=new Float32Array(8),o=new WeakMap,s=new Wa,u=[];for(let f=0;f<8;f++)u[f]=[f,0];function d(f,h,v,y){const b=f.morphTargetInfluences;if(t.isWebGL2===!0){const w=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,g=w!==void 0?w.length:0;let x=o.get(h);if(x===void 0||x.count!==g){let ee=function(){Q.dispose(),o.delete(h),h.removeEventListener("dispose",ee)};x!==void 0&&x.texture.dispose();const A=h.morphAttributes.position!==void 0,T=h.morphAttributes.normal!==void 0,P=h.morphAttributes.color!==void 0,I=h.morphAttributes.position||[],E=h.morphAttributes.normal||[],D=h.morphAttributes.color||[];let N=0;A===!0&&(N=1),T===!0&&(N=2),P===!0&&(N=3);let B=h.attributes.position.count*N,G=1;B>t.maxTextureSize&&(G=Math.ceil(B/t.maxTextureSize),B=t.maxTextureSize);const $=new Float32Array(B*G*4*g),Q=new Ez($,B,G,g);Q.type=Of,Q.needsUpdate=!0;const ae=N*4;for(let K=0;K<g;K++){const X=I[K],Z=E[K],j=D[K],ie=B*G*4*K;for(let pe=0;pe<X.count;pe++){const he=pe*ae;A===!0&&(s.fromBufferAttribute(X,pe),$[ie+he+0]=s.x,$[ie+he+1]=s.y,$[ie+he+2]=s.z,$[ie+he+3]=0),T===!0&&(s.fromBufferAttribute(Z,pe),$[ie+he+4]=s.x,$[ie+he+5]=s.y,$[ie+he+6]=s.z,$[ie+he+7]=0),P===!0&&(s.fromBufferAttribute(j,pe),$[ie+he+8]=s.x,$[ie+he+9]=s.y,$[ie+he+10]=s.z,$[ie+he+11]=j.itemSize===4?s.w:1)}}x={count:g,texture:Q,size:new Dr(B,G)},o.set(h,x),h.addEventListener("dispose",ee)}let M=0;for(let A=0;A<b.length;A++)M+=b[A];const R=h.morphTargetsRelative?1:1-M;y.getUniforms().setValue(e,"morphTargetBaseInfluence",R),y.getUniforms().setValue(e,"morphTargetInfluences",b),y.getUniforms().setValue(e,"morphTargetsTexture",x.texture,n),y.getUniforms().setValue(e,"morphTargetsTextureSize",x.size)}else{const w=b===void 0?0:b.length;let g=r[h.id];if(g===void 0||g.length!==w){g=[];for(let T=0;T<w;T++)g[T]=[T,0];r[h.id]=g}for(let T=0;T<w;T++){const P=g[T];P[0]=T,P[1]=b[T]}g.sort(_Me);for(let T=0;T<8;T++)T<w&&g[T][1]?(u[T][0]=g[T][0],u[T][1]=g[T][1]):(u[T][0]=Number.MAX_SAFE_INTEGER,u[T][1]=0);u.sort(bMe);const x=h.morphAttributes.position,M=h.morphAttributes.normal;let R=0;for(let T=0;T<8;T++){const P=u[T],I=P[0],E=P[1];I!==Number.MAX_SAFE_INTEGER&&E?(x&&h.getAttribute("morphTarget"+T)!==x[I]&&h.setAttribute("morphTarget"+T,x[I]),M&&h.getAttribute("morphNormal"+T)!==M[I]&&h.setAttribute("morphNormal"+T,M[I]),a[T]=E,R+=E):(x&&h.hasAttribute("morphTarget"+T)===!0&&h.deleteAttribute("morphTarget"+T),M&&h.hasAttribute("morphNormal"+T)===!0&&h.deleteAttribute("morphNormal"+T),a[T]=0)}const A=h.morphTargetsRelative?1:1-R;y.getUniforms().setValue(e,"morphTargetBaseInfluence",A),y.getUniforms().setValue(e,"morphTargetInfluences",a)}}return{update:d}}function xMe(e,t,n,r){let a=new WeakMap;function o(d){const f=r.render.frame,h=d.geometry,v=t.get(d,h);return a.get(v)!==f&&(t.update(v),a.set(v,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),n.update(d.instanceMatrix,34962),d.instanceColor!==null&&n.update(d.instanceColor,34962)),v}function s(){a=new WeakMap}function u(d){const f=d.target;f.removeEventListener("dispose",u),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:o,dispose:s}}const Iz=new Ns,Oz=new Ez,Dz=new l1e,Nz=new Rz,dk=[],fk=[],hk=new Float32Array(16),pk=new Float32Array(9),mk=new Float32Array(4);function Bm(e,t,n){const r=e[0];if(r<=0||r>0)return e;const a=t*n;let o=dk[a];if(o===void 0&&(o=new Float32Array(a),dk[a]=o),t!==0){r.toArray(o,0);for(let s=1,u=0;s!==t;++s)u+=n,e[s].toArray(o,u)}return o}function Da(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Na(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Qw(e,t){let n=fk[t];n===void 0&&(n=new Int32Array(t),fk[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function SMe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function MMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Da(n,t))return;e.uniform2fv(this.addr,t),Na(n,t)}}function EMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Da(n,t))return;e.uniform3fv(this.addr,t),Na(n,t)}}function CMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Da(n,t))return;e.uniform4fv(this.addr,t),Na(n,t)}}function TMe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Da(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Na(n,t)}else{if(Da(n,r))return;mk.set(r),e.uniformMatrix2fv(this.addr,!1,mk),Na(n,r)}}function AMe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Da(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Na(n,t)}else{if(Da(n,r))return;pk.set(r),e.uniformMatrix3fv(this.addr,!1,pk),Na(n,r)}}function LMe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Da(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Na(n,t)}else{if(Da(n,r))return;hk.set(r),e.uniformMatrix4fv(this.addr,!1,hk),Na(n,r)}}function RMe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function PMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Da(n,t))return;e.uniform2iv(this.addr,t),Na(n,t)}}function kMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Da(n,t))return;e.uniform3iv(this.addr,t),Na(n,t)}}function IMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Da(n,t))return;e.uniform4iv(this.addr,t),Na(n,t)}}function OMe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function DMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Da(n,t))return;e.uniform2uiv(this.addr,t),Na(n,t)}}function NMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Da(n,t))return;e.uniform3uiv(this.addr,t),Na(n,t)}}function FMe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Da(n,t))return;e.uniform4uiv(this.addr,t),Na(n,t)}}function BMe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2D(t||Iz,a)}function zMe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||Dz,a)}function VMe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTextureCube(t||Nz,a)}function UMe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||Oz,a)}function HMe(e){switch(e){case 5126:return SMe;case 35664:return MMe;case 35665:return EMe;case 35666:return CMe;case 35674:return TMe;case 35675:return AMe;case 35676:return LMe;case 5124:case 35670:return RMe;case 35667:case 35671:return PMe;case 35668:case 35672:return kMe;case 35669:case 35673:return IMe;case 5125:return OMe;case 36294:return DMe;case 36295:return NMe;case 36296:return FMe;case 35678:case 36198:case 36298:case 36306:case 35682:return BMe;case 35679:case 36299:case 36307:return zMe;case 35680:case 36300:case 36308:case 36293:return VMe;case 36289:case 36303:case 36311:case 36292:return UMe}}function $Me(e,t){e.uniform1fv(this.addr,t)}function GMe(e,t){const n=Bm(t,this.size,2);e.uniform2fv(this.addr,n)}function WMe(e,t){const n=Bm(t,this.size,3);e.uniform3fv(this.addr,n)}function jMe(e,t){const n=Bm(t,this.size,4);e.uniform4fv(this.addr,n)}function qMe(e,t){const n=Bm(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function KMe(e,t){const n=Bm(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function YMe(e,t){const n=Bm(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function XMe(e,t){e.uniform1iv(this.addr,t)}function ZMe(e,t){e.uniform2iv(this.addr,t)}function JMe(e,t){e.uniform3iv(this.addr,t)}function QMe(e,t){e.uniform4iv(this.addr,t)}function eEe(e,t){e.uniform1uiv(this.addr,t)}function tEe(e,t){e.uniform2uiv(this.addr,t)}function nEe(e,t){e.uniform3uiv(this.addr,t)}function rEe(e,t){e.uniform4uiv(this.addr,t)}function iEe(e,t,n){const r=this.cache,a=t.length,o=Qw(n,a);Da(r,o)||(e.uniform1iv(this.addr,o),Na(r,o));for(let s=0;s!==a;++s)n.setTexture2D(t[s]||Iz,o[s])}function aEe(e,t,n){const r=this.cache,a=t.length,o=Qw(n,a);Da(r,o)||(e.uniform1iv(this.addr,o),Na(r,o));for(let s=0;s!==a;++s)n.setTexture3D(t[s]||Dz,o[s])}function oEe(e,t,n){const r=this.cache,a=t.length,o=Qw(n,a);Da(r,o)||(e.uniform1iv(this.addr,o),Na(r,o));for(let s=0;s!==a;++s)n.setTextureCube(t[s]||Nz,o[s])}function sEe(e,t,n){const r=this.cache,a=t.length,o=Qw(n,a);Da(r,o)||(e.uniform1iv(this.addr,o),Na(r,o));for(let s=0;s!==a;++s)n.setTexture2DArray(t[s]||Oz,o[s])}function lEe(e){switch(e){case 5126:return $Me;case 35664:return GMe;case 35665:return WMe;case 35666:return jMe;case 35674:return qMe;case 35675:return KMe;case 35676:return YMe;case 5124:case 35670:return XMe;case 35667:case 35671:return ZMe;case 35668:case 35672:return JMe;case 35669:case 35673:return QMe;case 5125:return eEe;case 36294:return tEe;case 36295:return nEe;case 36296:return rEe;case 35678:case 36198:case 36298:case 36306:case 35682:return iEe;case 35679:case 36299:case 36307:return aEe;case 35680:case 36300:case 36308:case 36293:return oEe;case 36289:case 36303:case 36311:case 36292:return sEe}}class uEe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.setValue=HMe(n.type)}}class cEe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=lEe(n.type)}}class dEe{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,n,r){const a=this.seq;for(let o=0,s=a.length;o!==s;++o){const u=a[o];u.setValue(t,n[u.id],r)}}}const TS=/(\w+)(\])?(\[|\.)?/g;function vk(e,t){e.seq.push(t),e.map[t.id]=t}function fEe(e,t,n){const r=e.name,a=r.length;for(TS.lastIndex=0;;){const o=TS.exec(r),s=TS.lastIndex;let u=o[1];const d=o[2]==="]",f=o[3];if(d&&(u=u|0),f===void 0||f==="["&&s+2===a){vk(n,f===void 0?new uEe(u,e,t):new cEe(u,e,t));break}else{let v=n.map[u];v===void 0&&(v=new dEe(u),vk(n,v)),n=v}}}class f_{constructor(t,n){this.seq=[],this.map={};const r=t.getProgramParameter(n,35718);for(let a=0;a<r;++a){const o=t.getActiveUniform(n,a),s=t.getUniformLocation(n,o.name);fEe(o,s,this)}}setValue(t,n,r,a){const o=this.map[n];o!==void 0&&o.setValue(t,r,a)}setOptional(t,n,r){const a=n[r];a!==void 0&&this.setValue(t,r,a)}static upload(t,n,r,a){for(let o=0,s=n.length;o!==s;++o){const u=n[o],d=r[u.id];d.needsUpdate!==!1&&u.setValue(t,d.value,a)}}static seqWithValue(t,n){const r=[];for(let a=0,o=t.length;a!==o;++a){const s=t[a];s.id in n&&r.push(s)}return r}}function gk(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let hEe=0;function pEe(e,t){const n=e.split("\n"),r=[],a=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=a;s<o;s++){const u=s+1;r.push("".concat(u===t?">":" "," ").concat(u,": ").concat(n[s]))}return r.join("\n")}function mEe(e){switch(e){case th:return["Linear","( value )"];case Wi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function yk(e,t,n){const r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+"\n\n"+a+"\n\n"+pEe(e.getShaderSource(t),s)}else return a}function vEe(e,t){const n=mEe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function gEe(e,t){let n;switch(t){case Dwe:n="Linear";break;case Nwe:n="Reinhard";break;case Fwe:n="OptimizedCineon";break;case Bwe:n="ACESFilmic";break;case zwe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yEe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bg).join("\n")}function bEe(e){const t=[];for(const n in e){const r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join("\n")}function _Ee(e,t){const n={},r=e.getProgramParameter(t,35721);for(let a=0;a<r;a++){const o=e.getActiveAttrib(t,a),s=o.name;let u=1;o.type===35674&&(u=2),o.type===35675&&(u=3),o.type===35676&&(u=4),n[s]={type:o.type,location:e.getAttribLocation(t,s),locationSize:u}}return n}function bg(e){return e!==""}function bk(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _k(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const wEe=/^[ \t]*#include +<([\w\d./]+)>/gm;function EE(e){return e.replace(wEe,xEe)}function xEe(e,t){const n=qr[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return EE(n)}const SEe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wk(e){return e.replace(SEe,MEe)}function MEe(e,t,n,r){let a="";for(let o=parseInt(t);o<parseInt(n);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function xk(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return e.precision==="highp"?t+="\n#define HIGH_PRECISION":e.precision==="mediump"?t+="\n#define MEDIUM_PRECISION":e.precision==="lowp"&&(t+="\n#define LOW_PRECISION"),t}function EEe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===vz?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===hwe?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===yg&&(t="SHADOWMAP_TYPE_VSM"),t}function CEe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case vm:case gm:t="ENVMAP_TYPE_CUBE";break;case Xw:t="ENVMAP_TYPE_CUBE_UV";break}return t}function TEe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case gm:t="ENVMAP_MODE_REFRACTION";break}return t}function AEe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case V2:t="ENVMAP_BLENDING_MULTIPLY";break;case Iwe:t="ENVMAP_BLENDING_MIX";break;case Owe:t="ENVMAP_BLENDING_ADD";break}return t}function LEe(e){const t=e.envMapCubeUVHeight;if(t===null)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function REe(e,t,n,r){const a=e.getContext(),o=n.defines;let s=n.vertexShader,u=n.fragmentShader;const d=EEe(n),f=CEe(n),h=TEe(n),v=AEe(n),y=LEe(n),b=n.isWebGL2?"":yEe(n),w=bEe(o),g=a.createProgram();let x,M,R=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(x=[w].filter(bg).join("\n"),x.length>0&&(x+="\n"),M=[b,w].filter(bg).join("\n"),M.length>0&&(M+="\n")):(x=[xk(n),"#define SHADER_NAME "+n.shaderName,w,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(bg).join("\n"),M=[b,xk(n),"#define SHADER_NAME "+n.shaderName,w,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==hc?"#define TONE_MAPPING":"",n.toneMapping!==hc?qr.tonemapping_pars_fragment:"",n.toneMapping!==hc?gEe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",qr.encodings_pars_fragment,vEe("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(bg).join("\n")),s=EE(s),s=bk(s,n),s=_k(s,n),u=EE(u),u=bk(u,n),u=_k(u,n),s=wk(s),u=wk(u),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(R="#version 300 es\n",x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+x,M=["#define varying in",n.glslVersion===jP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+M);const A=R+x+s,T=R+M+u,P=gk(a,35633,A),I=gk(a,35632,T);if(a.attachShader(g,P),a.attachShader(g,I),n.index0AttributeName!==void 0?a.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g),e.debug.checkShaderErrors){const N=a.getProgramInfoLog(g).trim(),B=a.getShaderInfoLog(P).trim(),G=a.getShaderInfoLog(I).trim();let $=!0,Q=!0;if(a.getProgramParameter(g,35714)===!1){$=!1;const ae=yk(a,P,"vertex"),ee=yk(a,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+N+"\n"+ae+"\n"+ee)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(B===""||G==="")&&(Q=!1);Q&&(this.diagnostics={runnable:$,programLog:N,vertexShader:{log:B,prefix:x},fragmentShader:{log:G,prefix:M}})}a.deleteShader(P),a.deleteShader(I);let E;this.getUniforms=function(){return E===void 0&&(E=new f_(a,g)),E};let D;return this.getAttributes=function(){return D===void 0&&(D=_Ee(a,g)),D},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=hEe++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=P,this.fragmentShader=I,this}let PEe=0;class kEe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.vertexShader,r=t.fragmentShader,a=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(t);return s.has(a)===!1&&(s.add(a),a.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(t){const n=this.materialCache.get(t);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const n=this.materialCache;let r=n.get(t);return r===void 0&&(r=new Set,n.set(t,r)),r}_getShaderStage(t){const n=this.shaderCache;let r=n.get(t);return r===void 0&&(r=new IEe(t),n.set(t,r)),r}}class IEe{constructor(t){this.id=PEe++,this.code=t,this.usedTimes=0}}function OEe(e,t,n,r,a,o,s){const u=new $2,d=new kEe,f=[],h=a.isWebGL2,v=a.logarithmicDepthBuffer,y=a.vertexTextures;let b=a.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(D,N,B,G,$){const Q=G.fog,ae=$.geometry,ee=D.isMeshStandardMaterial?G.environment:null,K=(D.isMeshStandardMaterial?n:t).get(D.envMap||ee),X=K&&K.mapping===Xw?K.image.height:null,Z=w[D.type];D.precision!==null&&(b=a.getMaxPrecision(D.precision),b!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",b,"instead."));const j=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,ie=j!==void 0?j.length:0;let pe=0;ae.morphAttributes.position!==void 0&&(pe=1),ae.morphAttributes.normal!==void 0&&(pe=2),ae.morphAttributes.color!==void 0&&(pe=3);let he,le,Re,De;if(Z){const ct=wu[Z];he=ct.vertexShader,le=ct.fragmentShader}else he=D.vertexShader,le=D.fragmentShader,d.update(D),Re=d.getVertexShaderID(D),De=d.getFragmentShaderID(D);const Te=e.getRenderTarget(),ge=D.alphaTest>0,ke=D.clearcoat>0,Pe=D.iridescence>0;return{isWebGL2:h,shaderID:Z,shaderName:D.type,vertexShader:he,fragmentShader:le,defines:D.defines,customVertexShaderID:Re,customFragmentShaderID:De,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:b,instancing:$.isInstancedMesh===!0,instancingColor:$.isInstancedMesh===!0&&$.instanceColor!==null,supportsVertexTextures:y,outputEncoding:Te===null?e.outputEncoding:Te.isXRRenderTarget===!0?Te.texture.encoding:th,map:!!D.map,matcap:!!D.matcap,envMap:!!K,envMapMode:K&&K.mapping,envMapCubeUVHeight:X,lightMap:!!D.lightMap,aoMap:!!D.aoMap,emissiveMap:!!D.emissiveMap,bumpMap:!!D.bumpMap,normalMap:!!D.normalMap,objectSpaceNormalMap:D.normalMapType===i1e,tangentSpaceNormalMap:D.normalMapType===U2,decodeVideoTexture:!!D.map&&D.map.isVideoTexture===!0&&D.map.encoding===Wi,clearcoat:ke,clearcoatMap:ke&&!!D.clearcoatMap,clearcoatRoughnessMap:ke&&!!D.clearcoatRoughnessMap,clearcoatNormalMap:ke&&!!D.clearcoatNormalMap,iridescence:Pe,iridescenceMap:Pe&&!!D.iridescenceMap,iridescenceThicknessMap:Pe&&!!D.iridescenceThicknessMap,displacementMap:!!D.displacementMap,roughnessMap:!!D.roughnessMap,metalnessMap:!!D.metalnessMap,specularMap:!!D.specularMap,specularIntensityMap:!!D.specularIntensityMap,specularColorMap:!!D.specularColorMap,opaque:D.transparent===!1&&D.blending===jp,alphaMap:!!D.alphaMap,alphaTest:ge,gradientMap:!!D.gradientMap,sheen:D.sheen>0,sheenColorMap:!!D.sheenColorMap,sheenRoughnessMap:!!D.sheenRoughnessMap,transmission:D.transmission>0,transmissionMap:!!D.transmissionMap,thicknessMap:!!D.thicknessMap,combine:D.combine,vertexTangents:!!D.normalMap&&!!ae.attributes.tangent,vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,vertexUvs:!!D.map||!!D.bumpMap||!!D.normalMap||!!D.specularMap||!!D.alphaMap||!!D.emissiveMap||!!D.roughnessMap||!!D.metalnessMap||!!D.clearcoatMap||!!D.clearcoatRoughnessMap||!!D.clearcoatNormalMap||!!D.iridescenceMap||!!D.iridescenceThicknessMap||!!D.displacementMap||!!D.transmissionMap||!!D.thicknessMap||!!D.specularIntensityMap||!!D.specularColorMap||!!D.sheenColorMap||!!D.sheenRoughnessMap,uvsVertexOnly:!(D.map||D.bumpMap||D.normalMap||D.specularMap||D.alphaMap||D.emissiveMap||D.roughnessMap||D.metalnessMap||D.clearcoatNormalMap||D.iridescenceMap||D.iridescenceThicknessMap||D.transmission>0||D.transmissionMap||D.thicknessMap||D.specularIntensityMap||D.specularColorMap||D.sheen>0||D.sheenColorMap||D.sheenRoughnessMap)&&!!D.displacementMap,fog:!!Q,useFog:D.fog===!0,fogExp2:Q&&Q.isFogExp2,flatShading:!!D.flatShading,sizeAttenuation:D.sizeAttenuation,logarithmicDepthBuffer:v,skinning:$.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:pe,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:D.dithering,shadowMapEnabled:e.shadowMap.enabled&&B.length>0,shadowMapType:e.shadowMap.type,toneMapping:D.toneMapped?e.toneMapping:hc,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Eu,flipSided:D.side===Ds,useDepthPacking:!!D.depthPacking,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:D.extensions&&D.extensions.derivatives,extensionFragDepth:D.extensions&&D.extensions.fragDepth,extensionDrawBuffers:D.extensions&&D.extensions.drawBuffers,extensionShaderTextureLOD:D.extensions&&D.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:D.customProgramCacheKey()}}function x(D){const N=[];if(D.shaderID?N.push(D.shaderID):(N.push(D.customVertexShaderID),N.push(D.customFragmentShaderID)),D.defines!==void 0)for(const B in D.defines)N.push(B),N.push(D.defines[B]);return D.isRawShaderMaterial===!1&&(M(N,D),R(N,D),N.push(e.outputEncoding)),N.push(D.customProgramCacheKey),N.join()}function M(D,N){D.push(N.precision),D.push(N.outputEncoding),D.push(N.envMapMode),D.push(N.envMapCubeUVHeight),D.push(N.combine),D.push(N.vertexUvs),D.push(N.fogExp2),D.push(N.sizeAttenuation),D.push(N.morphTargetsCount),D.push(N.morphAttributeCount),D.push(N.numDirLights),D.push(N.numPointLights),D.push(N.numSpotLights),D.push(N.numSpotLightMaps),D.push(N.numHemiLights),D.push(N.numRectAreaLights),D.push(N.numDirLightShadows),D.push(N.numPointLightShadows),D.push(N.numSpotLightShadows),D.push(N.numSpotLightShadowsWithMaps),D.push(N.shadowMapType),D.push(N.toneMapping),D.push(N.numClippingPlanes),D.push(N.numClipIntersection),D.push(N.depthPacking)}function R(D,N){u.disableAll(),N.isWebGL2&&u.enable(0),N.supportsVertexTextures&&u.enable(1),N.instancing&&u.enable(2),N.instancingColor&&u.enable(3),N.map&&u.enable(4),N.matcap&&u.enable(5),N.envMap&&u.enable(6),N.lightMap&&u.enable(7),N.aoMap&&u.enable(8),N.emissiveMap&&u.enable(9),N.bumpMap&&u.enable(10),N.normalMap&&u.enable(11),N.objectSpaceNormalMap&&u.enable(12),N.tangentSpaceNormalMap&&u.enable(13),N.clearcoat&&u.enable(14),N.clearcoatMap&&u.enable(15),N.clearcoatRoughnessMap&&u.enable(16),N.clearcoatNormalMap&&u.enable(17),N.iridescence&&u.enable(18),N.iridescenceMap&&u.enable(19),N.iridescenceThicknessMap&&u.enable(20),N.displacementMap&&u.enable(21),N.specularMap&&u.enable(22),N.roughnessMap&&u.enable(23),N.metalnessMap&&u.enable(24),N.gradientMap&&u.enable(25),N.alphaMap&&u.enable(26),N.alphaTest&&u.enable(27),N.vertexColors&&u.enable(28),N.vertexAlphas&&u.enable(29),N.vertexUvs&&u.enable(30),N.vertexTangents&&u.enable(31),N.uvsVertexOnly&&u.enable(32),D.push(u.mask),u.disableAll(),N.fog&&u.enable(0),N.useFog&&u.enable(1),N.flatShading&&u.enable(2),N.logarithmicDepthBuffer&&u.enable(3),N.skinning&&u.enable(4),N.morphTargets&&u.enable(5),N.morphNormals&&u.enable(6),N.morphColors&&u.enable(7),N.premultipliedAlpha&&u.enable(8),N.shadowMapEnabled&&u.enable(9),N.physicallyCorrectLights&&u.enable(10),N.doubleSided&&u.enable(11),N.flipSided&&u.enable(12),N.useDepthPacking&&u.enable(13),N.dithering&&u.enable(14),N.specularIntensityMap&&u.enable(15),N.specularColorMap&&u.enable(16),N.transmission&&u.enable(17),N.transmissionMap&&u.enable(18),N.thicknessMap&&u.enable(19),N.sheen&&u.enable(20),N.sheenColorMap&&u.enable(21),N.sheenRoughnessMap&&u.enable(22),N.decodeVideoTexture&&u.enable(23),N.opaque&&u.enable(24),D.push(u.mask)}function A(D){const N=w[D.type];let B;if(N){const G=wu[N];B=_1e.clone(G.uniforms)}else B=D.uniforms;return B}function T(D,N){let B;for(let G=0,$=f.length;G<$;G++){const Q=f[G];if(Q.cacheKey===N){B=Q,++B.usedTimes;break}}return B===void 0&&(B=new REe(e,N,D,o),f.push(B)),B}function P(D){if(--D.usedTimes===0){const N=f.indexOf(D);f[N]=f[f.length-1],f.pop(),D.destroy()}}function I(D){d.remove(D)}function E(){d.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:A,acquireProgram:T,releaseProgram:P,releaseShaderCache:I,programs:f,dispose:E}}function DEe(){let e=new WeakMap;function t(o){let s=e.get(o);return s===void 0&&(s={},e.set(o,s)),s}function n(o){e.delete(o)}function r(o,s,u){e.get(o)[s]=u}function a(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:a}}function NEe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Sk(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Mk(){const e=[];let t=0;const n=[],r=[],a=[];function o(){t=0,n.length=0,r.length=0,a.length=0}function s(v,y,b,w,g,x){let M=e[t];return M===void 0?(M={id:v.id,object:v,geometry:y,material:b,groupOrder:w,renderOrder:v.renderOrder,z:g,group:x},e[t]=M):(M.id=v.id,M.object=v,M.geometry=y,M.material=b,M.groupOrder=w,M.renderOrder=v.renderOrder,M.z=g,M.group=x),t++,M}function u(v,y,b,w,g,x){const M=s(v,y,b,w,g,x);b.transmission>0?r.push(M):b.transparent===!0?a.push(M):n.push(M)}function d(v,y,b,w,g,x){const M=s(v,y,b,w,g,x);b.transmission>0?r.unshift(M):b.transparent===!0?a.unshift(M):n.unshift(M)}function f(v,y){n.length>1&&n.sort(v||NEe),r.length>1&&r.sort(y||Sk),a.length>1&&a.sort(y||Sk)}function h(){for(let v=t,y=e.length;v<y;v++){const b=e[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:n,transmissive:r,transparent:a,init:o,push:u,unshift:d,finish:h,sort:f}}function FEe(){let e=new WeakMap;function t(r,a){const o=e.get(r);let s;return o===void 0?(s=new Mk,e.set(r,[s])):a>=o.length?(s=new Mk,o.push(s)):s=o[a],s}function n(){e=new WeakMap}return{get:t,dispose:n}}function BEe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new yt,color:new fi};break;case"SpotLight":n={position:new yt,direction:new yt,color:new fi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new yt,color:new fi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new yt,skyColor:new fi,groundColor:new fi};break;case"RectAreaLight":n={color:new fi,position:new yt,halfWidth:new yt,halfHeight:new yt};break}return e[t.id]=n,n}}}function zEe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dr};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dr,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let VEe=0;function UEe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function HEe(e,t){const n=new BEe,r=zEe(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)a.probe.push(new yt);const o=new yt,s=new la,u=new la;function d(h,v){let y=0,b=0,w=0;for(let G=0;G<9;G++)a.probe[G].set(0,0,0);let g=0,x=0,M=0,R=0,A=0,T=0,P=0,I=0,E=0,D=0;h.sort(UEe);const N=v!==!0?Math.PI:1;for(let G=0,$=h.length;G<$;G++){const Q=h[G],ae=Q.color,ee=Q.intensity,K=Q.distance,X=Q.shadow&&Q.shadow.map?Q.shadow.map.texture:null;if(Q.isAmbientLight)y+=ae.r*ee*N,b+=ae.g*ee*N,w+=ae.b*ee*N;else if(Q.isLightProbe)for(let Z=0;Z<9;Z++)a.probe[Z].addScaledVector(Q.sh.coefficients[Z],ee);else if(Q.isDirectionalLight){const Z=n.get(Q);if(Z.color.copy(Q.color).multiplyScalar(Q.intensity*N),Q.castShadow){const j=Q.shadow,ie=r.get(Q);ie.shadowBias=j.bias,ie.shadowNormalBias=j.normalBias,ie.shadowRadius=j.radius,ie.shadowMapSize=j.mapSize,a.directionalShadow[g]=ie,a.directionalShadowMap[g]=X,a.directionalShadowMatrix[g]=Q.shadow.matrix,T++}a.directional[g]=Z,g++}else if(Q.isSpotLight){const Z=n.get(Q);Z.position.setFromMatrixPosition(Q.matrixWorld),Z.color.copy(ae).multiplyScalar(ee*N),Z.distance=K,Z.coneCos=Math.cos(Q.angle),Z.penumbraCos=Math.cos(Q.angle*(1-Q.penumbra)),Z.decay=Q.decay,a.spot[M]=Z;const j=Q.shadow;if(Q.map&&(a.spotLightMap[E]=Q.map,E++,j.updateMatrices(Q),Q.castShadow&&D++),a.spotLightMatrix[M]=j.matrix,Q.castShadow){const ie=r.get(Q);ie.shadowBias=j.bias,ie.shadowNormalBias=j.normalBias,ie.shadowRadius=j.radius,ie.shadowMapSize=j.mapSize,a.spotShadow[M]=ie,a.spotShadowMap[M]=X,I++}M++}else if(Q.isRectAreaLight){const Z=n.get(Q);Z.color.copy(ae).multiplyScalar(ee),Z.halfWidth.set(Q.width*.5,0,0),Z.halfHeight.set(0,Q.height*.5,0),a.rectArea[R]=Z,R++}else if(Q.isPointLight){const Z=n.get(Q);if(Z.color.copy(Q.color).multiplyScalar(Q.intensity*N),Z.distance=Q.distance,Z.decay=Q.decay,Q.castShadow){const j=Q.shadow,ie=r.get(Q);ie.shadowBias=j.bias,ie.shadowNormalBias=j.normalBias,ie.shadowRadius=j.radius,ie.shadowMapSize=j.mapSize,ie.shadowCameraNear=j.camera.near,ie.shadowCameraFar=j.camera.far,a.pointShadow[x]=ie,a.pointShadowMap[x]=X,a.pointShadowMatrix[x]=Q.shadow.matrix,P++}a.point[x]=Z,x++}else if(Q.isHemisphereLight){const Z=n.get(Q);Z.skyColor.copy(Q.color).multiplyScalar(ee*N),Z.groundColor.copy(Q.groundColor).multiplyScalar(ee*N),a.hemi[A]=Z,A++}}R>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=Fn.LTC_FLOAT_1,a.rectAreaLTC2=Fn.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(a.rectAreaLTC1=Fn.LTC_HALF_1,a.rectAreaLTC2=Fn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=y,a.ambient[1]=b,a.ambient[2]=w;const B=a.hash;(B.directionalLength!==g||B.pointLength!==x||B.spotLength!==M||B.rectAreaLength!==R||B.hemiLength!==A||B.numDirectionalShadows!==T||B.numPointShadows!==P||B.numSpotShadows!==I||B.numSpotMaps!==E)&&(a.directional.length=g,a.spot.length=M,a.rectArea.length=R,a.point.length=x,a.hemi.length=A,a.directionalShadow.length=T,a.directionalShadowMap.length=T,a.pointShadow.length=P,a.pointShadowMap.length=P,a.spotShadow.length=I,a.spotShadowMap.length=I,a.directionalShadowMatrix.length=T,a.pointShadowMatrix.length=P,a.spotLightMatrix.length=I+E-D,a.spotLightMap.length=E,a.numSpotLightShadowsWithMaps=D,B.directionalLength=g,B.pointLength=x,B.spotLength=M,B.rectAreaLength=R,B.hemiLength=A,B.numDirectionalShadows=T,B.numPointShadows=P,B.numSpotShadows=I,B.numSpotMaps=E,a.version=VEe++)}function f(h,v){let y=0,b=0,w=0,g=0,x=0;const M=v.matrixWorldInverse;for(let R=0,A=h.length;R<A;R++){const T=h[R];if(T.isDirectionalLight){const P=a.directional[y];P.direction.setFromMatrixPosition(T.matrixWorld),o.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(M),y++}else if(T.isSpotLight){const P=a.spot[w];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(M),P.direction.setFromMatrixPosition(T.matrixWorld),o.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(M),w++}else if(T.isRectAreaLight){const P=a.rectArea[g];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(M),u.identity(),s.copy(T.matrixWorld),s.premultiply(M),u.extractRotation(s),P.halfWidth.set(T.width*.5,0,0),P.halfHeight.set(0,T.height*.5,0),P.halfWidth.applyMatrix4(u),P.halfHeight.applyMatrix4(u),g++}else if(T.isPointLight){const P=a.point[b];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(M),b++}else if(T.isHemisphereLight){const P=a.hemi[x];P.direction.setFromMatrixPosition(T.matrixWorld),P.direction.transformDirection(M),x++}}}return{setup:d,setupView:f,state:a}}function Ek(e,t){const n=new HEe(e,t),r=[],a=[];function o(){r.length=0,a.length=0}function s(v){r.push(v)}function u(v){a.push(v)}function d(v){n.setup(r,v)}function f(v){n.setupView(r,v)}return{init:o,state:{lightsArray:r,shadowsArray:a,lights:n},setupLights:d,setupLightsView:f,pushLight:s,pushShadow:u}}function $Ee(e,t){let n=new WeakMap;function r(o,s=0){const u=n.get(o);let d;return u===void 0?(d=new Ek(e,t),n.set(o,[d])):s>=u.length?(d=new Ek(e,t),u.push(d)):d=u[s],d}function a(){n=new WeakMap}return{get:r,dispose:a}}class GEe extends ch{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=n1e,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class WEe extends ch{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new yt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const jEe="void main() {\n	gl_Position = vec4( position, 1.0 );\n}",qEe="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function KEe(e,t,n){let r=new G2;const a=new Dr,o=new Dr,s=new Wa,u=new GEe({depthPacking:r1e}),d=new WEe,f={},h=n.maxTextureSize,v={[wd]:Ds,[Ds]:wd,[Eu]:Eu},y=new rh({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Dr},radius:{value:4}},vertexShader:jEe,fragmentShader:qEe}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const w=new oo;w.setAttribute("position",new Au(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Nn(w,y),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vz,this.render=function(T,P,I){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||T.length===0)return;const E=e.getRenderTarget(),D=e.getActiveCubeFace(),N=e.getActiveMipmapLevel(),B=e.state;B.setBlending(fd),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let G=0,$=T.length;G<$;G++){const Q=T[G],ae=Q.shadow;if(ae===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(ae.autoUpdate===!1&&ae.needsUpdate===!1)continue;a.copy(ae.mapSize);const ee=ae.getFrameExtents();if(a.multiply(ee),o.copy(ae.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/ee.x),a.x=o.x*ee.x,ae.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/ee.y),a.y=o.y*ee.y,ae.mapSize.y=o.y)),ae.map===null){const X=this.type!==yg?{minFilter:Bo,magFilter:Bo}:{};ae.map=new nh(a.x,a.y,X),ae.map.texture.name=Q.name+".shadowMap",ae.camera.updateProjectionMatrix()}e.setRenderTarget(ae.map),e.clear();const K=ae.getViewportCount();for(let X=0;X<K;X++){const Z=ae.getViewport(X);s.set(o.x*Z.x,o.y*Z.y,o.x*Z.z,o.y*Z.w),B.viewport(s),ae.updateMatrices(Q,X),r=ae.getFrustum(),A(P,I,ae.camera,Q,this.type)}ae.isPointLightShadow!==!0&&this.type===yg&&M(ae,I),ae.needsUpdate=!1}x.needsUpdate=!1,e.setRenderTarget(E,D,N)};function M(T,P){const I=t.update(g);y.defines.VSM_SAMPLES!==T.blurSamples&&(y.defines.VSM_SAMPLES=T.blurSamples,b.defines.VSM_SAMPLES=T.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new nh(a.x,a.y)),y.uniforms.shadow_pass.value=T.map.texture,y.uniforms.resolution.value=T.mapSize,y.uniforms.radius.value=T.radius,e.setRenderTarget(T.mapPass),e.clear(),e.renderBufferDirect(P,null,I,y,g,null),b.uniforms.shadow_pass.value=T.mapPass.texture,b.uniforms.resolution.value=T.mapSize,b.uniforms.radius.value=T.radius,e.setRenderTarget(T.map),e.clear(),e.renderBufferDirect(P,null,I,b,g,null)}function R(T,P,I,E,D,N){let B=null;const G=I.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(G!==void 0)B=G;else if(B=I.isPointLight===!0?d:u,e.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const $=B.uuid,Q=P.uuid;let ae=f[$];ae===void 0&&(ae={},f[$]=ae);let ee=ae[Q];ee===void 0&&(ee=B.clone(),ae[Q]=ee),B=ee}return B.visible=P.visible,B.wireframe=P.wireframe,N===yg?B.side=P.shadowSide!==null?P.shadowSide:P.side:B.side=P.shadowSide!==null?P.shadowSide:v[P.side],B.alphaMap=P.alphaMap,B.alphaTest=P.alphaTest,B.map=P.map,B.clipShadows=P.clipShadows,B.clippingPlanes=P.clippingPlanes,B.clipIntersection=P.clipIntersection,B.displacementMap=P.displacementMap,B.displacementScale=P.displacementScale,B.displacementBias=P.displacementBias,B.wireframeLinewidth=P.wireframeLinewidth,B.linewidth=P.linewidth,I.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(I.matrixWorld),B.nearDistance=E,B.farDistance=D),B}function A(T,P,I,E,D){if(T.visible===!1)return;if(T.layers.test(P.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&D===yg)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,T.matrixWorld);const G=t.update(T),$=T.material;if(Array.isArray($)){const Q=G.groups;for(let ae=0,ee=Q.length;ae<ee;ae++){const K=Q[ae],X=$[K.materialIndex];if(X&&X.visible){const Z=R(T,X,E,I.near,I.far,D);e.renderBufferDirect(I,null,G,Z,T,K)}}}else if($.visible){const Q=R(T,$,E,I.near,I.far,D);e.renderBufferDirect(I,null,G,Q,T,null)}}const B=T.children;for(let G=0,$=B.length;G<$;G++)A(B[G],P,I,E,D)}}function YEe(e,t,n){const r=n.isWebGL2;function a(){let Je=!1;const Dt=new Wa;let en=null;const _n=new Wa(0,0,0,0);return{setMask:function(wn){en!==wn&&!Je&&(e.colorMask(wn,wn,wn,wn),en=wn)},setLocked:function(wn){Je=wn},setClear:function(wn,hr,Yn,vr,Ji){Ji===!0&&(wn*=vr,hr*=vr,Yn*=vr),Dt.set(wn,hr,Yn,vr),_n.equals(Dt)===!1&&(e.clearColor(wn,hr,Yn,vr),_n.copy(Dt))},reset:function(){Je=!1,en=null,_n.set(-1,0,0,0)}}}function o(){let Je=!1,Dt=null,en=null,_n=null;return{setTest:function(wn){wn?ge(2929):ke(2929)},setMask:function(wn){Dt!==wn&&!Je&&(e.depthMask(wn),Dt=wn)},setFunc:function(wn){if(en!==wn){switch(wn){case Cwe:e.depthFunc(512);break;case Twe:e.depthFunc(519);break;case Awe:e.depthFunc(513);break;case gE:e.depthFunc(515);break;case Lwe:e.depthFunc(514);break;case Rwe:e.depthFunc(518);break;case Pwe:e.depthFunc(516);break;case kwe:e.depthFunc(517);break;default:e.depthFunc(515)}en=wn}},setLocked:function(wn){Je=wn},setClear:function(wn){_n!==wn&&(e.clearDepth(wn),_n=wn)},reset:function(){Je=!1,Dt=null,en=null,_n=null}}}function s(){let Je=!1,Dt=null,en=null,_n=null,wn=null,hr=null,Yn=null,vr=null,Ji=null;return{setTest:function(pi){Je||(pi?ge(2960):ke(2960))},setMask:function(pi){Dt!==pi&&!Je&&(e.stencilMask(pi),Dt=pi)},setFunc:function(pi,Qi,na){(en!==pi||_n!==Qi||wn!==na)&&(e.stencilFunc(pi,Qi,na),en=pi,_n=Qi,wn=na)},setOp:function(pi,Qi,na){(hr!==pi||Yn!==Qi||vr!==na)&&(e.stencilOp(pi,Qi,na),hr=pi,Yn=Qi,vr=na)},setLocked:function(pi){Je=pi},setClear:function(pi){Ji!==pi&&(e.clearStencil(pi),Ji=pi)},reset:function(){Je=!1,Dt=null,en=null,_n=null,wn=null,hr=null,Yn=null,vr=null,Ji=null}}}const u=new a,d=new o,f=new s,h=new WeakMap,v=new WeakMap;let y={},b={},w=new WeakMap,g=[],x=null,M=!1,R=null,A=null,T=null,P=null,I=null,E=null,D=null,N=!1,B=null,G=null,$=null,Q=null,ae=null;const ee=e.getParameter(35661);let K=!1,X=0;const Z=e.getParameter(7938);Z.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(Z)[1]),K=X>=1):Z.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),K=X>=2);let j=null,ie={};const pe=e.getParameter(3088),he=e.getParameter(2978),le=new Wa().fromArray(pe),Re=new Wa().fromArray(he);function De(Je,Dt,en){const _n=new Uint8Array(4),wn=e.createTexture();e.bindTexture(Je,wn),e.texParameteri(Je,10241,9728),e.texParameteri(Je,10240,9728);for(let hr=0;hr<en;hr++)e.texImage2D(Dt+hr,0,6408,1,1,0,6408,5121,_n);return wn}const Te={};Te[3553]=De(3553,3553,1),Te[34067]=De(34067,34069,6),u.setClear(0,0,0,1),d.setClear(1),f.setClear(0),ge(2929),d.setFunc(gE),pt(!1),nt(mP),ge(2884),He(fd);function ge(Je){y[Je]!==!0&&(e.enable(Je),y[Je]=!0)}function ke(Je){y[Je]!==!1&&(e.disable(Je),y[Je]=!1)}function Pe(Je,Dt){return b[Je]!==Dt?(e.bindFramebuffer(Je,Dt),b[Je]=Dt,r&&(Je===36009&&(b[36160]=Dt),Je===36160&&(b[36009]=Dt)),!0):!1}function Xe(Je,Dt){let en=g,_n=!1;if(Je)if(en=w.get(Dt),en===void 0&&(en=[],w.set(Dt,en)),Je.isWebGLMultipleRenderTargets){const wn=Je.texture;if(en.length!==wn.length||en[0]!==36064){for(let hr=0,Yn=wn.length;hr<Yn;hr++)en[hr]=36064+hr;en.length=wn.length,_n=!0}}else en[0]!==36064&&(en[0]=36064,_n=!0);else en[0]!==1029&&(en[0]=1029,_n=!0);_n&&(n.isWebGL2?e.drawBuffers(en):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(en))}function ct(Je){return x!==Je?(e.useProgram(Je),x=Je,!0):!1}const se={[Ap]:32774,[mwe]:32778,[vwe]:32779};if(r)se[bP]=32775,se[_P]=32776;else{const Je=t.get("EXT_blend_minmax");Je!==null&&(se[bP]=Je.MIN_EXT,se[_P]=Je.MAX_EXT)}const ye={[gwe]:0,[ywe]:1,[bwe]:768,[gz]:770,[Ewe]:776,[Swe]:774,[wwe]:772,[_we]:769,[yz]:771,[Mwe]:775,[xwe]:773};function He(Je,Dt,en,_n,wn,hr,Yn,vr){if(Je===fd){M===!0&&(ke(3042),M=!1);return}if(M===!1&&(ge(3042),M=!0),Je!==pwe){if(Je!==R||vr!==N){if((A!==Ap||I!==Ap)&&(e.blendEquation(32774),A=Ap,I=Ap),vr)switch(Je){case jp:e.blendFuncSeparate(1,771,1,771);break;case vP:e.blendFunc(1,1);break;case gP:e.blendFuncSeparate(0,769,0,1);break;case yP:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Je);break}else switch(Je){case jp:e.blendFuncSeparate(770,771,1,771);break;case vP:e.blendFunc(770,1);break;case gP:e.blendFuncSeparate(0,769,0,1);break;case yP:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Je);break}T=null,P=null,E=null,D=null,R=Je,N=vr}return}wn=wn||Dt,hr=hr||en,Yn=Yn||_n,(Dt!==A||wn!==I)&&(e.blendEquationSeparate(se[Dt],se[wn]),A=Dt,I=wn),(en!==T||_n!==P||hr!==E||Yn!==D)&&(e.blendFuncSeparate(ye[en],ye[_n],ye[hr],ye[Yn]),T=en,P=_n,E=hr,D=Yn),R=Je,N=!1}function dt(Je,Dt){Je.side===Eu?ke(2884):ge(2884);let en=Je.side===Ds;Dt&&(en=!en),pt(en),Je.blending===jp&&Je.transparent===!1?He(fd):He(Je.blending,Je.blendEquation,Je.blendSrc,Je.blendDst,Je.blendEquationAlpha,Je.blendSrcAlpha,Je.blendDstAlpha,Je.premultipliedAlpha),d.setFunc(Je.depthFunc),d.setTest(Je.depthTest),d.setMask(Je.depthWrite),u.setMask(Je.colorWrite);const _n=Je.stencilWrite;f.setTest(_n),_n&&(f.setMask(Je.stencilWriteMask),f.setFunc(Je.stencilFunc,Je.stencilRef,Je.stencilFuncMask),f.setOp(Je.stencilFail,Je.stencilZFail,Je.stencilZPass)),rt(Je.polygonOffset,Je.polygonOffsetFactor,Je.polygonOffsetUnits),Je.alphaToCoverage===!0?ge(32926):ke(32926)}function pt(Je){B!==Je&&(Je?e.frontFace(2304):e.frontFace(2305),B=Je)}function nt(Je){Je!==dwe?(ge(2884),Je!==G&&(Je===mP?e.cullFace(1029):Je===fwe?e.cullFace(1028):e.cullFace(1032))):ke(2884),G=Je}function ot(Je){Je!==$&&(K&&e.lineWidth(Je),$=Je)}function rt(Je,Dt,en){Je?(ge(32823),(Q!==Dt||ae!==en)&&(e.polygonOffset(Dt,en),Q=Dt,ae=en)):ke(32823)}function At(Je){Je?ge(3089):ke(3089)}function Mt(Je){Je===void 0&&(Je=33984+ee-1),j!==Je&&(e.activeTexture(Je),j=Je)}function Me(Je,Dt,en){en===void 0&&(j===null?en=33984+ee-1:en=j);let _n=ie[en];_n===void 0&&(_n={type:void 0,texture:void 0},ie[en]=_n),(_n.type!==Je||_n.texture!==Dt)&&(j!==en&&(e.activeTexture(en),j=en),e.bindTexture(Je,Dt||Te[Je]),_n.type=Je,_n.texture=Dt)}function ve(){const Je=ie[j];Je!==void 0&&Je.type!==void 0&&(e.bindTexture(Je.type,null),Je.type=void 0,Je.texture=void 0)}function Fe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function qe(){try{e.compressedTexImage3D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function Et(){try{e.texSubImage2D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function $t(){try{e.texSubImage3D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function Yt(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function We(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function lt(){try{e.texStorage2D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function sn(){try{e.texStorage3D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function Tt(){try{e.texImage2D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function je(){try{e.texImage3D.apply(e,arguments)}catch(Je){console.error("THREE.WebGLState:",Je)}}function xe(Je){le.equals(Je)===!1&&(e.scissor(Je.x,Je.y,Je.z,Je.w),le.copy(Je))}function Ke(Je){Re.equals(Je)===!1&&(e.viewport(Je.x,Je.y,Je.z,Je.w),Re.copy(Je))}function Ee(Je,Dt){let en=v.get(Dt);en===void 0&&(en=new WeakMap,v.set(Dt,en));let _n=en.get(Je);_n===void 0&&(_n=e.getUniformBlockIndex(Dt,Je.name),en.set(Je,_n))}function wt(Je,Dt){const _n=v.get(Dt).get(Je);h.get(Dt)!==_n&&(e.uniformBlockBinding(Dt,_n,Je.__bindingPointIndex),h.set(Dt,_n))}function an(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),r===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),y={},j=null,ie={},b={},w=new WeakMap,g=[],x=null,M=!1,R=null,A=null,T=null,P=null,I=null,E=null,D=null,N=!1,B=null,G=null,$=null,Q=null,ae=null,le.set(0,0,e.canvas.width,e.canvas.height),Re.set(0,0,e.canvas.width,e.canvas.height),u.reset(),d.reset(),f.reset()}return{buffers:{color:u,depth:d,stencil:f},enable:ge,disable:ke,bindFramebuffer:Pe,drawBuffers:Xe,useProgram:ct,setBlending:He,setMaterial:dt,setFlipSided:pt,setCullFace:nt,setLineWidth:ot,setPolygonOffset:rt,setScissorTest:At,activeTexture:Mt,bindTexture:Me,unbindTexture:ve,compressedTexImage2D:Fe,compressedTexImage3D:qe,texImage2D:Tt,texImage3D:je,updateUBOMapping:Ee,uniformBlockBinding:wt,texStorage2D:lt,texStorage3D:sn,texSubImage2D:Et,texSubImage3D:$t,compressedTexSubImage2D:Yt,compressedTexSubImage3D:We,scissor:xe,viewport:Ke,reset:an}}function XEe(e,t,n,r,a,o,s){const u=a.isWebGL2,d=a.maxTextures,f=a.maxCubemapSize,h=a.maxTextureSize,v=a.maxSamples,y=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,b=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let g;const x=new WeakMap;let M=!1;try{M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Me){}function R(Me,ve){return M?new OffscreenCanvas(Me,ve):X_("canvas")}function A(Me,ve,Fe,qe){let Et=1;if((Me.width>qe||Me.height>qe)&&(Et=qe/Math.max(Me.width,Me.height)),Et<1||ve===!0)if(typeof HTMLImageElement<"u"&&Me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Me instanceof ImageBitmap){const $t=ve?ME:Math.floor,Yt=$t(Et*Me.width),We=$t(Et*Me.height);g===void 0&&(g=R(Yt,We));const lt=Fe?R(Yt,We):g;return lt.width=Yt,lt.height=We,lt.getContext("2d").drawImage(Me,0,0,Yt,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+Yt+"x"+We+")."),lt}else return"data"in Me&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),Me;return Me}function T(Me){return qP(Me.width)&&qP(Me.height)}function P(Me){return u?!1:Me.wrapS!==Ll||Me.wrapT!==Ll||Me.minFilter!==Bo&&Me.minFilter!==Qs}function I(Me,ve){return Me.generateMipmaps&&ve&&Me.minFilter!==Bo&&Me.minFilter!==Qs}function E(Me){e.generateMipmap(Me)}function D(Me,ve,Fe,qe,Et=!1){if(u===!1)return ve;if(Me!==null){if(e[Me]!==void 0)return e[Me];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Me+"'")}let $t=ve;return ve===6403&&(Fe===5126&&($t=33326),Fe===5131&&($t=33325),Fe===5121&&($t=33321)),ve===33319&&(Fe===5126&&($t=33328),Fe===5131&&($t=33327),Fe===5121&&($t=33323)),ve===6408&&(Fe===5126&&($t=34836),Fe===5131&&($t=34842),Fe===5121&&($t=qe===Wi&&Et===!1?35907:32856),Fe===32819&&($t=32854),Fe===32820&&($t=32855)),($t===33325||$t===33326||$t===33327||$t===33328||$t===34842||$t===34836)&&t.get("EXT_color_buffer_float"),$t}function N(Me,ve,Fe){return I(Me,Fe)===!0||Me.isFramebufferTexture&&Me.minFilter!==Bo&&Me.minFilter!==Qs?Math.log2(Math.max(ve.width,ve.height))+1:Me.mipmaps!==void 0&&Me.mipmaps.length>0?Me.mipmaps.length:Me.isCompressedTexture&&Array.isArray(Me.image)?ve.mipmaps.length:1}function B(Me){return Me===Bo||Me===wP||Me===Zx?9728:9729}function G(Me){const ve=Me.target;ve.removeEventListener("dispose",G),Q(ve),ve.isVideoTexture&&w.delete(ve)}function $(Me){const ve=Me.target;ve.removeEventListener("dispose",$),ee(ve)}function Q(Me){const ve=r.get(Me);if(ve.__webglInit===void 0)return;const Fe=Me.source,qe=x.get(Fe);if(qe){const Et=qe[ve.__cacheKey];Et.usedTimes--,Et.usedTimes===0&&ae(Me),Object.keys(qe).length===0&&x.delete(Fe)}r.remove(Me)}function ae(Me){const ve=r.get(Me);e.deleteTexture(ve.__webglTexture);const Fe=Me.source,qe=x.get(Fe);delete qe[ve.__cacheKey],s.memory.textures--}function ee(Me){const ve=Me.texture,Fe=r.get(Me),qe=r.get(ve);if(qe.__webglTexture!==void 0&&(e.deleteTexture(qe.__webglTexture),s.memory.textures--),Me.depthTexture&&Me.depthTexture.dispose(),Me.isWebGLCubeRenderTarget)for(let Et=0;Et<6;Et++)e.deleteFramebuffer(Fe.__webglFramebuffer[Et]),Fe.__webglDepthbuffer&&e.deleteRenderbuffer(Fe.__webglDepthbuffer[Et]);else{if(e.deleteFramebuffer(Fe.__webglFramebuffer),Fe.__webglDepthbuffer&&e.deleteRenderbuffer(Fe.__webglDepthbuffer),Fe.__webglMultisampledFramebuffer&&e.deleteFramebuffer(Fe.__webglMultisampledFramebuffer),Fe.__webglColorRenderbuffer)for(let Et=0;Et<Fe.__webglColorRenderbuffer.length;Et++)Fe.__webglColorRenderbuffer[Et]&&e.deleteRenderbuffer(Fe.__webglColorRenderbuffer[Et]);Fe.__webglDepthRenderbuffer&&e.deleteRenderbuffer(Fe.__webglDepthRenderbuffer)}if(Me.isWebGLMultipleRenderTargets)for(let Et=0,$t=ve.length;Et<$t;Et++){const Yt=r.get(ve[Et]);Yt.__webglTexture&&(e.deleteTexture(Yt.__webglTexture),s.memory.textures--),r.remove(ve[Et])}r.remove(ve),r.remove(Me)}let K=0;function X(){K=0}function Z(){const Me=K;return Me>=d&&console.warn("THREE.WebGLTextures: Trying to use "+Me+" texture units while this GPU supports only "+d),K+=1,Me}function j(Me){const ve=[];return ve.push(Me.wrapS),ve.push(Me.wrapT),ve.push(Me.wrapR||0),ve.push(Me.magFilter),ve.push(Me.minFilter),ve.push(Me.anisotropy),ve.push(Me.internalFormat),ve.push(Me.format),ve.push(Me.type),ve.push(Me.generateMipmaps),ve.push(Me.premultiplyAlpha),ve.push(Me.flipY),ve.push(Me.unpackAlignment),ve.push(Me.encoding),ve.join()}function ie(Me,ve){const Fe=r.get(Me);if(Me.isVideoTexture&&At(Me),Me.isRenderTargetTexture===!1&&Me.version>0&&Fe.__version!==Me.version){const qe=Me.image;if(qe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(qe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(Fe,Me,ve);return}}n.bindTexture(3553,Fe.__webglTexture,33984+ve)}function pe(Me,ve){const Fe=r.get(Me);if(Me.version>0&&Fe.__version!==Me.version){ke(Fe,Me,ve);return}n.bindTexture(35866,Fe.__webglTexture,33984+ve)}function he(Me,ve){const Fe=r.get(Me);if(Me.version>0&&Fe.__version!==Me.version){ke(Fe,Me,ve);return}n.bindTexture(32879,Fe.__webglTexture,33984+ve)}function le(Me,ve){const Fe=r.get(Me);if(Me.version>0&&Fe.__version!==Me.version){Pe(Fe,Me,ve);return}n.bindTexture(34067,Fe.__webglTexture,33984+ve)}const Re={[_E]:10497,[Ll]:33071,[wE]:33648},De={[Bo]:9728,[wP]:9984,[Zx]:9986,[Qs]:9729,[Vwe]:9985,[b0]:9987};function Te(Me,ve,Fe){if(Fe?(e.texParameteri(Me,10242,Re[ve.wrapS]),e.texParameteri(Me,10243,Re[ve.wrapT]),(Me===32879||Me===35866)&&e.texParameteri(Me,32882,Re[ve.wrapR]),e.texParameteri(Me,10240,De[ve.magFilter]),e.texParameteri(Me,10241,De[ve.minFilter])):(e.texParameteri(Me,10242,33071),e.texParameteri(Me,10243,33071),(Me===32879||Me===35866)&&e.texParameteri(Me,32882,33071),(ve.wrapS!==Ll||ve.wrapT!==Ll)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Me,10240,B(ve.magFilter)),e.texParameteri(Me,10241,B(ve.minFilter)),ve.minFilter!==Bo&&ve.minFilter!==Qs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const qe=t.get("EXT_texture_filter_anisotropic");if(ve.magFilter===Bo||ve.minFilter!==Zx&&ve.minFilter!==b0||ve.type===Of&&t.has("OES_texture_float_linear")===!1||u===!1&&ve.type===_0&&t.has("OES_texture_half_float_linear")===!1)return;(ve.anisotropy>1||r.get(ve).__currentAnisotropy)&&(e.texParameterf(Me,qe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ve.anisotropy,a.getMaxAnisotropy())),r.get(ve).__currentAnisotropy=ve.anisotropy)}}function ge(Me,ve){let Fe=!1;Me.__webglInit===void 0&&(Me.__webglInit=!0,ve.addEventListener("dispose",G));const qe=ve.source;let Et=x.get(qe);Et===void 0&&(Et={},x.set(qe,Et));const $t=j(ve);if($t!==Me.__cacheKey){Et[$t]===void 0&&(Et[$t]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,Fe=!0),Et[$t].usedTimes++;const Yt=Et[Me.__cacheKey];Yt!==void 0&&(Et[Me.__cacheKey].usedTimes--,Yt.usedTimes===0&&ae(ve)),Me.__cacheKey=$t,Me.__webglTexture=Et[$t].texture}return Fe}function ke(Me,ve,Fe){let qe=3553;(ve.isDataArrayTexture||ve.isCompressedArrayTexture)&&(qe=35866),ve.isData3DTexture&&(qe=32879);const Et=ge(Me,ve),$t=ve.source;n.bindTexture(qe,Me.__webglTexture,33984+Fe);const Yt=r.get($t);if($t.version!==Yt.__version||Et===!0){n.activeTexture(33984+Fe),e.pixelStorei(37440,ve.flipY),e.pixelStorei(37441,ve.premultiplyAlpha),e.pixelStorei(3317,ve.unpackAlignment),e.pixelStorei(37443,0);const We=P(ve)&&T(ve.image)===!1;let lt=A(ve.image,We,!1,h);lt=Mt(ve,lt);const sn=T(lt)||u,Tt=o.convert(ve.format,ve.encoding);let je=o.convert(ve.type),xe=D(ve.internalFormat,Tt,je,ve.encoding,ve.isVideoTexture);Te(qe,ve,sn);let Ke;const Ee=ve.mipmaps,wt=u&&ve.isVideoTexture!==!0,an=Yt.__version===void 0||Et===!0,Je=N(ve,lt,sn);if(ve.isDepthTexture)xe=6402,u?ve.type===Of?xe=36012:ve.type===If?xe=33190:ve.type===qp?xe=35056:xe=33189:ve.type===Of&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ve.format===Uf&&xe===6402&&ve.type!==_z&&ve.type!==If&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ve.type=If,je=o.convert(ve.type)),ve.format===ym&&xe===6402&&(xe=34041,ve.type!==qp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ve.type=qp,je=o.convert(ve.type))),an&&(wt?n.texStorage2D(3553,1,xe,lt.width,lt.height):n.texImage2D(3553,0,xe,lt.width,lt.height,0,Tt,je,null));else if(ve.isDataTexture)if(Ee.length>0&&sn){wt&&an&&n.texStorage2D(3553,Je,xe,Ee[0].width,Ee[0].height);for(let Dt=0,en=Ee.length;Dt<en;Dt++)Ke=Ee[Dt],wt?n.texSubImage2D(3553,Dt,0,0,Ke.width,Ke.height,Tt,je,Ke.data):n.texImage2D(3553,Dt,xe,Ke.width,Ke.height,0,Tt,je,Ke.data);ve.generateMipmaps=!1}else wt?(an&&n.texStorage2D(3553,Je,xe,lt.width,lt.height),n.texSubImage2D(3553,0,0,0,lt.width,lt.height,Tt,je,lt.data)):n.texImage2D(3553,0,xe,lt.width,lt.height,0,Tt,je,lt.data);else if(ve.isCompressedTexture)if(ve.isCompressedArrayTexture){wt&&an&&n.texStorage3D(35866,Je,xe,Ee[0].width,Ee[0].height,lt.depth);for(let Dt=0,en=Ee.length;Dt<en;Dt++)Ke=Ee[Dt],ve.format!==Rl?Tt!==null?wt?n.compressedTexSubImage3D(35866,Dt,0,0,0,Ke.width,Ke.height,lt.depth,Tt,Ke.data,0,0):n.compressedTexImage3D(35866,Dt,xe,Ke.width,Ke.height,lt.depth,0,Ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?n.texSubImage3D(35866,Dt,0,0,0,Ke.width,Ke.height,lt.depth,Tt,je,Ke.data):n.texImage3D(35866,Dt,xe,Ke.width,Ke.height,lt.depth,0,Tt,je,Ke.data)}else{wt&&an&&n.texStorage2D(3553,Je,xe,Ee[0].width,Ee[0].height);for(let Dt=0,en=Ee.length;Dt<en;Dt++)Ke=Ee[Dt],ve.format!==Rl?Tt!==null?wt?n.compressedTexSubImage2D(3553,Dt,0,0,Ke.width,Ke.height,Tt,Ke.data):n.compressedTexImage2D(3553,Dt,xe,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?n.texSubImage2D(3553,Dt,0,0,Ke.width,Ke.height,Tt,je,Ke.data):n.texImage2D(3553,Dt,xe,Ke.width,Ke.height,0,Tt,je,Ke.data)}else if(ve.isDataArrayTexture)wt?(an&&n.texStorage3D(35866,Je,xe,lt.width,lt.height,lt.depth),n.texSubImage3D(35866,0,0,0,0,lt.width,lt.height,lt.depth,Tt,je,lt.data)):n.texImage3D(35866,0,xe,lt.width,lt.height,lt.depth,0,Tt,je,lt.data);else if(ve.isData3DTexture)wt?(an&&n.texStorage3D(32879,Je,xe,lt.width,lt.height,lt.depth),n.texSubImage3D(32879,0,0,0,0,lt.width,lt.height,lt.depth,Tt,je,lt.data)):n.texImage3D(32879,0,xe,lt.width,lt.height,lt.depth,0,Tt,je,lt.data);else if(ve.isFramebufferTexture){if(an)if(wt)n.texStorage2D(3553,Je,xe,lt.width,lt.height);else{let Dt=lt.width,en=lt.height;for(let _n=0;_n<Je;_n++)n.texImage2D(3553,_n,xe,Dt,en,0,Tt,je,null),Dt>>=1,en>>=1}}else if(Ee.length>0&&sn){wt&&an&&n.texStorage2D(3553,Je,xe,Ee[0].width,Ee[0].height);for(let Dt=0,en=Ee.length;Dt<en;Dt++)Ke=Ee[Dt],wt?n.texSubImage2D(3553,Dt,0,0,Tt,je,Ke):n.texImage2D(3553,Dt,xe,Tt,je,Ke);ve.generateMipmaps=!1}else wt?(an&&n.texStorage2D(3553,Je,xe,lt.width,lt.height),n.texSubImage2D(3553,0,0,0,Tt,je,lt)):n.texImage2D(3553,0,xe,Tt,je,lt);I(ve,sn)&&E(qe),Yt.__version=$t.version,ve.onUpdate&&ve.onUpdate(ve)}Me.__version=ve.version}function Pe(Me,ve,Fe){if(ve.image.length!==6)return;const qe=ge(Me,ve),Et=ve.source;n.bindTexture(34067,Me.__webglTexture,33984+Fe);const $t=r.get(Et);if(Et.version!==$t.__version||qe===!0){n.activeTexture(33984+Fe),e.pixelStorei(37440,ve.flipY),e.pixelStorei(37441,ve.premultiplyAlpha),e.pixelStorei(3317,ve.unpackAlignment),e.pixelStorei(37443,0);const Yt=ve.isCompressedTexture||ve.image[0].isCompressedTexture,We=ve.image[0]&&ve.image[0].isDataTexture,lt=[];for(let Dt=0;Dt<6;Dt++)!Yt&&!We?lt[Dt]=A(ve.image[Dt],!1,!0,f):lt[Dt]=We?ve.image[Dt].image:ve.image[Dt],lt[Dt]=Mt(ve,lt[Dt]);const sn=lt[0],Tt=T(sn)||u,je=o.convert(ve.format,ve.encoding),xe=o.convert(ve.type),Ke=D(ve.internalFormat,je,xe,ve.encoding),Ee=u&&ve.isVideoTexture!==!0,wt=$t.__version===void 0||qe===!0;let an=N(ve,sn,Tt);Te(34067,ve,Tt);let Je;if(Yt){Ee&&wt&&n.texStorage2D(34067,an,Ke,sn.width,sn.height);for(let Dt=0;Dt<6;Dt++){Je=lt[Dt].mipmaps;for(let en=0;en<Je.length;en++){const _n=Je[en];ve.format!==Rl?je!==null?Ee?n.compressedTexSubImage2D(34069+Dt,en,0,0,_n.width,_n.height,je,_n.data):n.compressedTexImage2D(34069+Dt,en,Ke,_n.width,_n.height,0,_n.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ee?n.texSubImage2D(34069+Dt,en,0,0,_n.width,_n.height,je,xe,_n.data):n.texImage2D(34069+Dt,en,Ke,_n.width,_n.height,0,je,xe,_n.data)}}}else{Je=ve.mipmaps,Ee&&wt&&(Je.length>0&&an++,n.texStorage2D(34067,an,Ke,lt[0].width,lt[0].height));for(let Dt=0;Dt<6;Dt++)if(We){Ee?n.texSubImage2D(34069+Dt,0,0,0,lt[Dt].width,lt[Dt].height,je,xe,lt[Dt].data):n.texImage2D(34069+Dt,0,Ke,lt[Dt].width,lt[Dt].height,0,je,xe,lt[Dt].data);for(let en=0;en<Je.length;en++){const wn=Je[en].image[Dt].image;Ee?n.texSubImage2D(34069+Dt,en+1,0,0,wn.width,wn.height,je,xe,wn.data):n.texImage2D(34069+Dt,en+1,Ke,wn.width,wn.height,0,je,xe,wn.data)}}else{Ee?n.texSubImage2D(34069+Dt,0,0,0,je,xe,lt[Dt]):n.texImage2D(34069+Dt,0,Ke,je,xe,lt[Dt]);for(let en=0;en<Je.length;en++){const _n=Je[en];Ee?n.texSubImage2D(34069+Dt,en+1,0,0,je,xe,_n.image[Dt]):n.texImage2D(34069+Dt,en+1,Ke,je,xe,_n.image[Dt])}}}I(ve,Tt)&&E(34067),$t.__version=Et.version,ve.onUpdate&&ve.onUpdate(ve)}Me.__version=ve.version}function Xe(Me,ve,Fe,qe,Et){const $t=o.convert(Fe.format,Fe.encoding),Yt=o.convert(Fe.type),We=D(Fe.internalFormat,$t,Yt,Fe.encoding);r.get(ve).__hasExternalTextures||(Et===32879||Et===35866?n.texImage3D(Et,0,We,ve.width,ve.height,ve.depth,0,$t,Yt,null):n.texImage2D(Et,0,We,ve.width,ve.height,0,$t,Yt,null)),n.bindFramebuffer(36160,Me),rt(ve)?y.framebufferTexture2DMultisampleEXT(36160,qe,Et,r.get(Fe).__webglTexture,0,ot(ve)):(Et===3553||Et>=34069&&Et<=34074)&&e.framebufferTexture2D(36160,qe,Et,r.get(Fe).__webglTexture,0),n.bindFramebuffer(36160,null)}function ct(Me,ve,Fe){if(e.bindRenderbuffer(36161,Me),ve.depthBuffer&&!ve.stencilBuffer){let qe=33189;if(Fe||rt(ve)){const Et=ve.depthTexture;Et&&Et.isDepthTexture&&(Et.type===Of?qe=36012:Et.type===If&&(qe=33190));const $t=ot(ve);rt(ve)?y.renderbufferStorageMultisampleEXT(36161,$t,qe,ve.width,ve.height):e.renderbufferStorageMultisample(36161,$t,qe,ve.width,ve.height)}else e.renderbufferStorage(36161,qe,ve.width,ve.height);e.framebufferRenderbuffer(36160,36096,36161,Me)}else if(ve.depthBuffer&&ve.stencilBuffer){const qe=ot(ve);Fe&&rt(ve)===!1?e.renderbufferStorageMultisample(36161,qe,35056,ve.width,ve.height):rt(ve)?y.renderbufferStorageMultisampleEXT(36161,qe,35056,ve.width,ve.height):e.renderbufferStorage(36161,34041,ve.width,ve.height),e.framebufferRenderbuffer(36160,33306,36161,Me)}else{const qe=ve.isWebGLMultipleRenderTargets===!0?ve.texture:[ve.texture];for(let Et=0;Et<qe.length;Et++){const $t=qe[Et],Yt=o.convert($t.format,$t.encoding),We=o.convert($t.type),lt=D($t.internalFormat,Yt,We,$t.encoding),sn=ot(ve);Fe&&rt(ve)===!1?e.renderbufferStorageMultisample(36161,sn,lt,ve.width,ve.height):rt(ve)?y.renderbufferStorageMultisampleEXT(36161,sn,lt,ve.width,ve.height):e.renderbufferStorage(36161,lt,ve.width,ve.height)}}e.bindRenderbuffer(36161,null)}function se(Me,ve){if(ve&&ve.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Me),!(ve.depthTexture&&ve.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(ve.depthTexture).__webglTexture||ve.depthTexture.image.width!==ve.width||ve.depthTexture.image.height!==ve.height)&&(ve.depthTexture.image.width=ve.width,ve.depthTexture.image.height=ve.height,ve.depthTexture.needsUpdate=!0),ie(ve.depthTexture,0);const qe=r.get(ve.depthTexture).__webglTexture,Et=ot(ve);if(ve.depthTexture.format===Uf)rt(ve)?y.framebufferTexture2DMultisampleEXT(36160,36096,3553,qe,0,Et):e.framebufferTexture2D(36160,36096,3553,qe,0);else if(ve.depthTexture.format===ym)rt(ve)?y.framebufferTexture2DMultisampleEXT(36160,33306,3553,qe,0,Et):e.framebufferTexture2D(36160,33306,3553,qe,0);else throw new Error("Unknown depthTexture format")}function ye(Me){const ve=r.get(Me),Fe=Me.isWebGLCubeRenderTarget===!0;if(Me.depthTexture&&!ve.__autoAllocateDepthBuffer){if(Fe)throw new Error("target.depthTexture not supported in Cube render targets");se(ve.__webglFramebuffer,Me)}else if(Fe){ve.__webglDepthbuffer=[];for(let qe=0;qe<6;qe++)n.bindFramebuffer(36160,ve.__webglFramebuffer[qe]),ve.__webglDepthbuffer[qe]=e.createRenderbuffer(),ct(ve.__webglDepthbuffer[qe],Me,!1)}else n.bindFramebuffer(36160,ve.__webglFramebuffer),ve.__webglDepthbuffer=e.createRenderbuffer(),ct(ve.__webglDepthbuffer,Me,!1);n.bindFramebuffer(36160,null)}function He(Me,ve,Fe){const qe=r.get(Me);ve!==void 0&&Xe(qe.__webglFramebuffer,Me,Me.texture,36064,3553),Fe!==void 0&&ye(Me)}function dt(Me){const ve=Me.texture,Fe=r.get(Me),qe=r.get(ve);Me.addEventListener("dispose",$),Me.isWebGLMultipleRenderTargets!==!0&&(qe.__webglTexture===void 0&&(qe.__webglTexture=e.createTexture()),qe.__version=ve.version,s.memory.textures++);const Et=Me.isWebGLCubeRenderTarget===!0,$t=Me.isWebGLMultipleRenderTargets===!0,Yt=T(Me)||u;if(Et){Fe.__webglFramebuffer=[];for(let We=0;We<6;We++)Fe.__webglFramebuffer[We]=e.createFramebuffer()}else{if(Fe.__webglFramebuffer=e.createFramebuffer(),$t)if(a.drawBuffers){const We=Me.texture;for(let lt=0,sn=We.length;lt<sn;lt++){const Tt=r.get(We[lt]);Tt.__webglTexture===void 0&&(Tt.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Me.samples>0&&rt(Me)===!1){const We=$t?ve:[ve];Fe.__webglMultisampledFramebuffer=e.createFramebuffer(),Fe.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,Fe.__webglMultisampledFramebuffer);for(let lt=0;lt<We.length;lt++){const sn=We[lt];Fe.__webglColorRenderbuffer[lt]=e.createRenderbuffer(),e.bindRenderbuffer(36161,Fe.__webglColorRenderbuffer[lt]);const Tt=o.convert(sn.format,sn.encoding),je=o.convert(sn.type),xe=D(sn.internalFormat,Tt,je,sn.encoding,Me.isXRRenderTarget===!0),Ke=ot(Me);e.renderbufferStorageMultisample(36161,Ke,xe,Me.width,Me.height),e.framebufferRenderbuffer(36160,36064+lt,36161,Fe.__webglColorRenderbuffer[lt])}e.bindRenderbuffer(36161,null),Me.depthBuffer&&(Fe.__webglDepthRenderbuffer=e.createRenderbuffer(),ct(Fe.__webglDepthRenderbuffer,Me,!0)),n.bindFramebuffer(36160,null)}}if(Et){n.bindTexture(34067,qe.__webglTexture),Te(34067,ve,Yt);for(let We=0;We<6;We++)Xe(Fe.__webglFramebuffer[We],Me,ve,36064,34069+We);I(ve,Yt)&&E(34067),n.unbindTexture()}else if($t){const We=Me.texture;for(let lt=0,sn=We.length;lt<sn;lt++){const Tt=We[lt],je=r.get(Tt);n.bindTexture(3553,je.__webglTexture),Te(3553,Tt,Yt),Xe(Fe.__webglFramebuffer,Me,Tt,36064+lt,3553),I(Tt,Yt)&&E(3553)}n.unbindTexture()}else{let We=3553;(Me.isWebGL3DRenderTarget||Me.isWebGLArrayRenderTarget)&&(u?We=Me.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(We,qe.__webglTexture),Te(We,ve,Yt),Xe(Fe.__webglFramebuffer,Me,ve,36064,We),I(ve,Yt)&&E(We),n.unbindTexture()}Me.depthBuffer&&ye(Me)}function pt(Me){const ve=T(Me)||u,Fe=Me.isWebGLMultipleRenderTargets===!0?Me.texture:[Me.texture];for(let qe=0,Et=Fe.length;qe<Et;qe++){const $t=Fe[qe];if(I($t,ve)){const Yt=Me.isWebGLCubeRenderTarget?34067:3553,We=r.get($t).__webglTexture;n.bindTexture(Yt,We),E(Yt),n.unbindTexture()}}}function nt(Me){if(u&&Me.samples>0&&rt(Me)===!1){const ve=Me.isWebGLMultipleRenderTargets?Me.texture:[Me.texture],Fe=Me.width,qe=Me.height;let Et=16384;const $t=[],Yt=Me.stencilBuffer?33306:36096,We=r.get(Me),lt=Me.isWebGLMultipleRenderTargets===!0;if(lt)for(let sn=0;sn<ve.length;sn++)n.bindFramebuffer(36160,We.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+sn,36161,null),n.bindFramebuffer(36160,We.__webglFramebuffer),e.framebufferTexture2D(36009,36064+sn,3553,null,0);n.bindFramebuffer(36008,We.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,We.__webglFramebuffer);for(let sn=0;sn<ve.length;sn++){$t.push(36064+sn),Me.depthBuffer&&$t.push(Yt);const Tt=We.__ignoreDepthValues!==void 0?We.__ignoreDepthValues:!1;if(Tt===!1&&(Me.depthBuffer&&(Et|=256),Me.stencilBuffer&&(Et|=1024)),lt&&e.framebufferRenderbuffer(36008,36064,36161,We.__webglColorRenderbuffer[sn]),Tt===!0&&(e.invalidateFramebuffer(36008,[Yt]),e.invalidateFramebuffer(36009,[Yt])),lt){const je=r.get(ve[sn]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,je,0)}e.blitFramebuffer(0,0,Fe,qe,0,0,Fe,qe,Et,9728),b&&e.invalidateFramebuffer(36008,$t)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),lt)for(let sn=0;sn<ve.length;sn++){n.bindFramebuffer(36160,We.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+sn,36161,We.__webglColorRenderbuffer[sn]);const Tt=r.get(ve[sn]).__webglTexture;n.bindFramebuffer(36160,We.__webglFramebuffer),e.framebufferTexture2D(36009,36064+sn,3553,Tt,0)}n.bindFramebuffer(36009,We.__webglMultisampledFramebuffer)}}function ot(Me){return Math.min(v,Me.samples)}function rt(Me){const ve=r.get(Me);return u&&Me.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&ve.__useRenderToTexture!==!1}function At(Me){const ve=s.render.frame;w.get(Me)!==ve&&(w.set(Me,ve),Me.update())}function Mt(Me,ve){const Fe=Me.encoding,qe=Me.format,Et=Me.type;return Me.isCompressedTexture===!0||Me.isVideoTexture===!0||Me.format===xE||Fe!==th&&(Fe===Wi?u===!1?t.has("EXT_sRGB")===!0&&qe===Rl?(Me.format=xE,Me.minFilter=Qs,Me.generateMipmaps=!1):ve=Sz.sRGBToLinear(ve):(qe!==Rl||Et!==eh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Fe)),ve}this.allocateTextureUnit=Z,this.resetTextureUnits=X,this.setTexture2D=ie,this.setTexture2DArray=pe,this.setTexture3D=he,this.setTextureCube=le,this.rebindTextures=He,this.setupRenderTarget=dt,this.updateRenderTargetMipmap=pt,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=rt}function ZEe(e,t,n){const r=n.isWebGL2;function a(o,s=null){let u;if(o===eh)return 5121;if(o===Gwe)return 32819;if(o===Wwe)return 32820;if(o===Uwe)return 5120;if(o===Hwe)return 5122;if(o===_z)return 5123;if(o===$we)return 5124;if(o===If)return 5125;if(o===Of)return 5126;if(o===_0)return r?5131:(u=t.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(o===jwe)return 6406;if(o===Rl)return 6408;if(o===qwe)return 6409;if(o===Kwe)return 6410;if(o===Uf)return 6402;if(o===ym)return 34041;if(o===xE)return u=t.get("EXT_sRGB"),u!==null?u.SRGB_ALPHA_EXT:null;if(o===Ywe)return 6403;if(o===Xwe)return 36244;if(o===Zwe)return 33319;if(o===Jwe)return 33320;if(o===Qwe)return 36249;if(o===Jx||o===Qx||o===eS||o===tS)if(s===Wi)if(u=t.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(o===Jx)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Qx)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===eS)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===tS)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=t.get("WEBGL_compressed_texture_s3tc"),u!==null){if(o===Jx)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Qx)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===eS)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===tS)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===xP||o===SP||o===MP||o===EP)if(u=t.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(o===xP)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===SP)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===MP)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===EP)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===e1e)return u=t.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===CP||o===TP)if(u=t.get("WEBGL_compressed_texture_etc"),u!==null){if(o===CP)return s===Wi?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(o===TP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===AP||o===LP||o===RP||o===PP||o===kP||o===IP||o===OP||o===DP||o===NP||o===FP||o===BP||o===zP||o===VP||o===UP)if(u=t.get("WEBGL_compressed_texture_astc"),u!==null){if(o===AP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===LP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===RP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===PP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===kP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===IP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===OP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===DP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===NP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===FP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===BP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===zP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===VP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===UP)return s===Wi?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===nS)if(u=t.get("EXT_texture_compression_bptc"),u!==null){if(o===nS)return s===Wi?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===t1e||o===HP||o===$P||o===GP)if(u=t.get("EXT_texture_compression_rgtc"),u!==null){if(o===nS)return u.COMPRESSED_RED_RGTC1_EXT;if(o===HP)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===$P)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===GP)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===qp?r?34042:(u=t.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null):e[o]!==void 0?e[o]:null}return{convert:a}}class JEe extends Ts{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class od extends ua{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QEe={type:"move"};class AS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new od,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new od,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new yt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new yt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new od,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new yt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new yt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const n=this._hand;if(n)for(const r of t.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,n,r){let a=null,o=null,s=null;const u=this._targetRay,d=this._grip,f=this._hand;if(t&&n.session.visibilityState!=="visible-blurred"){if(f&&t.hand){s=!0;for(const g of t.hand.values()){const x=n.getJointPose(g,r),M=this._getHandJoint(f,g);x!==null&&(M.matrix.fromArray(x.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.jointRadius=x.radius),M.visible=x!==null}const h=f.joints["index-finger-tip"],v=f.joints["thumb-tip"],y=h.position.distanceTo(v.position),b=.02,w=.005;f.inputState.pinching&&y>b+w?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!f.inputState.pinching&&y<=b-w&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&&t.gripSpace&&(o=n.getPose(t.gripSpace,r),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(a=n.getPose(t.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(QEe)))}return u!==null&&(u.visible=a!==null),d!==null&&(d.visible=o!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(t,n){if(t.joints[n.jointName]===void 0){const r=new od;r.matrixAutoUpdate=!1,r.visible=!1,t.joints[n.jointName]=r,t.add(r)}return t.joints[n.jointName]}}class eCe extends Ns{constructor(t,n,r,a,o,s,u,d,f,h){if(h=h!==void 0?h:Uf,h!==Uf&&h!==ym)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Uf&&(r=If),r===void 0&&h===ym&&(r=qp),super(null,a,o,s,u,d,h,r,f),this.isDepthTexture=!0,this.image={width:t,height:n},this.magFilter=u!==void 0?u:Bo,this.minFilter=d!==void 0?d:Bo,this.flipY=!1,this.generateMipmaps=!1}}class tCe extends uh{constructor(t,n){super();const r=this;let a=null,o=1,s=null,u="local-floor",d=1,f=null,h=null,v=null,y=null,b=null,w=null;const g=n.getContextAttributes();let x=null,M=null;const R=[],A=[],T=new Set,P=new Map,I=new Ts;I.layers.enable(1),I.viewport=new Wa;const E=new Ts;E.layers.enable(2),E.viewport=new Wa;const D=[I,E],N=new JEe;N.layers.enable(1),N.layers.enable(2);let B=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let le=R[he];return le===void 0&&(le=new AS,R[he]=le),le.getTargetRaySpace()},this.getControllerGrip=function(he){let le=R[he];return le===void 0&&(le=new AS,R[he]=le),le.getGripSpace()},this.getHand=function(he){let le=R[he];return le===void 0&&(le=new AS,R[he]=le),le.getHandSpace()};function $(he){const le=A.indexOf(he.inputSource);if(le===-1)return;const Re=R[le];Re!==void 0&&Re.dispatchEvent({type:he.type,data:he.inputSource})}function Q(){a.removeEventListener("select",$),a.removeEventListener("selectstart",$),a.removeEventListener("selectend",$),a.removeEventListener("squeeze",$),a.removeEventListener("squeezestart",$),a.removeEventListener("squeezeend",$),a.removeEventListener("end",Q),a.removeEventListener("inputsourceschange",ae);for(let he=0;he<R.length;he++){const le=A[he];le!==null&&(A[he]=null,R[he].disconnect(le))}B=null,G=null,t.setRenderTarget(x),b=null,y=null,v=null,a=null,M=null,pe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){o=he,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){u=he,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(he){f=he},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return v},this.getFrame=function(){return w},this.getSession=function(){return a},this.setSession=async function(he){if(a=he,a!==null){if(x=t.getRenderTarget(),a.addEventListener("select",$),a.addEventListener("selectstart",$),a.addEventListener("selectend",$),a.addEventListener("squeeze",$),a.addEventListener("squeezestart",$),a.addEventListener("squeezeend",$),a.addEventListener("end",Q),a.addEventListener("inputsourceschange",ae),g.xrCompatible!==!0&&await n.makeXRCompatible(),a.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const le={antialias:a.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};b=new XRWebGLLayer(a,n,le),a.updateRenderState({baseLayer:b}),M=new nh(b.framebufferWidth,b.framebufferHeight,{format:Rl,type:eh,encoding:t.outputEncoding,stencilBuffer:g.stencil})}else{let le=null,Re=null,De=null;g.depth&&(De=g.stencil?35056:33190,le=g.stencil?ym:Uf,Re=g.stencil?qp:If);const Te={colorFormat:32856,depthFormat:De,scaleFactor:o};v=new XRWebGLBinding(a,n),y=v.createProjectionLayer(Te),a.updateRenderState({layers:[y]}),M=new nh(y.textureWidth,y.textureHeight,{format:Rl,type:eh,depthTexture:new eCe(y.textureWidth,y.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:g.stencil,encoding:t.outputEncoding,samples:g.antialias?4:0});const ge=t.properties.get(M);ge.__ignoreDepthValues=y.ignoreDepthValues}M.isXRRenderTarget=!0,this.setFoveation(d),f=null,s=await a.requestReferenceSpace(u),pe.setContext(a),pe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function ae(he){for(let le=0;le<he.removed.length;le++){const Re=he.removed[le],De=A.indexOf(Re);De>=0&&(A[De]=null,R[De].disconnect(Re))}for(let le=0;le<he.added.length;le++){const Re=he.added[le];let De=A.indexOf(Re);if(De===-1){for(let ge=0;ge<R.length;ge++)if(ge>=A.length){A.push(Re),De=ge;break}else if(A[ge]===null){A[ge]=Re,De=ge;break}if(De===-1)break}const Te=R[De];Te&&Te.connect(Re)}}const ee=new yt,K=new yt;function X(he,le,Re){ee.setFromMatrixPosition(le.matrixWorld),K.setFromMatrixPosition(Re.matrixWorld);const De=ee.distanceTo(K),Te=le.projectionMatrix.elements,ge=Re.projectionMatrix.elements,ke=Te[14]/(Te[10]-1),Pe=Te[14]/(Te[10]+1),Xe=(Te[9]+1)/Te[5],ct=(Te[9]-1)/Te[5],se=(Te[8]-1)/Te[0],ye=(ge[8]+1)/ge[0],He=ke*se,dt=ke*ye,pt=De/(-se+ye),nt=pt*-se;le.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(nt),he.translateZ(pt),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert();const ot=ke+pt,rt=Pe+pt,At=He-nt,Mt=dt+(De-nt),Me=Xe*Pe/rt*ot,ve=ct*Pe/rt*ot;he.projectionMatrix.makePerspective(At,Mt,Me,ve,ot,rt)}function Z(he,le){le===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(le.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(a===null)return;N.near=E.near=I.near=he.near,N.far=E.far=I.far=he.far,(B!==N.near||G!==N.far)&&(a.updateRenderState({depthNear:N.near,depthFar:N.far}),B=N.near,G=N.far);const le=he.parent,Re=N.cameras;Z(N,le);for(let Te=0;Te<Re.length;Te++)Z(Re[Te],le);N.matrixWorld.decompose(N.position,N.quaternion,N.scale),he.matrix.copy(N.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale);const De=he.children;for(let Te=0,ge=De.length;Te<ge;Te++)De[Te].updateMatrixWorld(!0);Re.length===2?X(N,I,E):N.projectionMatrix.copy(I.projectionMatrix)},this.getCamera=function(){return N},this.getFoveation=function(){if(!(y===null&&b===null))return d},this.setFoveation=function(he){d=he,y!==null&&(y.fixedFoveation=he),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=he)},this.getPlanes=function(){return T};let j=null;function ie(he,le){if(h=le.getViewerPose(f||s),w=le,h!==null){const Re=h.views;b!==null&&(t.setRenderTargetFramebuffer(M,b.framebuffer),t.setRenderTarget(M));let De=!1;Re.length!==N.cameras.length&&(N.cameras.length=0,De=!0);for(let Te=0;Te<Re.length;Te++){const ge=Re[Te];let ke=null;if(b!==null)ke=b.getViewport(ge);else{const Xe=v.getViewSubImage(y,ge);ke=Xe.viewport,Te===0&&(t.setRenderTargetTextures(M,Xe.colorTexture,y.ignoreDepthValues?void 0:Xe.depthStencilTexture),t.setRenderTarget(M))}let Pe=D[Te];Pe===void 0&&(Pe=new Ts,Pe.layers.enable(Te),Pe.viewport=new Wa,D[Te]=Pe),Pe.matrix.fromArray(ge.transform.matrix),Pe.projectionMatrix.fromArray(ge.projectionMatrix),Pe.viewport.set(ke.x,ke.y,ke.width,ke.height),Te===0&&N.matrix.copy(Pe.matrix),De===!0&&N.cameras.push(Pe)}}for(let Re=0;Re<R.length;Re++){const De=A[Re],Te=R[Re];De!==null&&Te!==void 0&&Te.update(De,le,f||s)}if(j&&j(he,le),le.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:le.detectedPlanes});let Re=null;for(const De of T)le.detectedPlanes.has(De)||(Re===null&&(Re=[]),Re.push(De));if(Re!==null)for(const De of Re)T.delete(De),P.delete(De),r.dispatchEvent({type:"planeremoved",data:De});for(const De of le.detectedPlanes)if(!T.has(De))T.add(De),P.set(De,le.lastChangedTime),r.dispatchEvent({type:"planeadded",data:De});else{const Te=P.get(De);De.lastChangedTime>Te&&(P.set(De,De.lastChangedTime),r.dispatchEvent({type:"planechanged",data:De}))}}w=null}const pe=new Pz;pe.setAnimationLoop(ie),this.setAnimationLoop=function(he){j=he},this.dispose=function(){}}}function nCe(e,t){function n(g,x){x.color.getRGB(g.fogColor.value,Az(e)),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function r(g,x,M,R,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(g,x):x.isMeshToonMaterial?(a(g,x),h(g,x)):x.isMeshPhongMaterial?(a(g,x),f(g,x)):x.isMeshStandardMaterial?(a(g,x),v(g,x),x.isMeshPhysicalMaterial&&y(g,x,A)):x.isMeshMatcapMaterial?(a(g,x),b(g,x)):x.isMeshDepthMaterial?a(g,x):x.isMeshDistanceMaterial?(a(g,x),w(g,x)):x.isMeshNormalMaterial?a(g,x):x.isLineBasicMaterial?(o(g,x),x.isLineDashedMaterial&&s(g,x)):x.isPointsMaterial?u(g,x,M,R):x.isSpriteMaterial?d(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Ds&&(g.bumpScale.value*=-1)),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Ds&&g.normalScale.value.negate()),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const M=t.get(x).envMap;if(M&&(g.envMap.value=M,g.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio),x.lightMap){g.lightMap.value=x.lightMap;const T=e.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=x.lightMapIntensity*T}x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let R;x.map?R=x.map:x.specularMap?R=x.specularMap:x.displacementMap?R=x.displacementMap:x.normalMap?R=x.normalMap:x.bumpMap?R=x.bumpMap:x.roughnessMap?R=x.roughnessMap:x.metalnessMap?R=x.metalnessMap:x.alphaMap?R=x.alphaMap:x.emissiveMap?R=x.emissiveMap:x.clearcoatMap?R=x.clearcoatMap:x.clearcoatNormalMap?R=x.clearcoatNormalMap:x.clearcoatRoughnessMap?R=x.clearcoatRoughnessMap:x.iridescenceMap?R=x.iridescenceMap:x.iridescenceThicknessMap?R=x.iridescenceThicknessMap:x.specularIntensityMap?R=x.specularIntensityMap:x.specularColorMap?R=x.specularColorMap:x.transmissionMap?R=x.transmissionMap:x.thicknessMap?R=x.thicknessMap:x.sheenColorMap?R=x.sheenColorMap:x.sheenRoughnessMap&&(R=x.sheenRoughnessMap),R!==void 0&&(R.isWebGLRenderTarget&&(R=R.texture),R.matrixAutoUpdate===!0&&R.updateMatrix(),g.uvTransform.value.copy(R.matrix));let A;x.aoMap?A=x.aoMap:x.lightMap&&(A=x.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uv2Transform.value.copy(A.matrix))}function o(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function s(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function u(g,x,M,R){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*M,g.scale.value=R*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uvTransform.value.copy(A.matrix))}function d(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uvTransform.value.copy(M.matrix))}function f(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4)}function h(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap)}function v(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),t.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function y(g,x,M){g.ior.value=x.ior,x.sheen>0&&(g.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),g.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(g.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(g.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Ds&&g.clearcoatNormalScale.value.negate())),x.iridescence>0&&(g.iridescence.value=x.iridescence,g.iridescenceIOR.value=x.iridescenceIOR,g.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(g.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=M.texture,g.transmissionSamplerSize.value.set(M.width,M.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)),g.specularIntensity.value=x.specularIntensity,g.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(g.specularColorMap.value=x.specularColorMap)}function b(g,x){x.matcap&&(g.matcap.value=x.matcap)}function w(g,x){g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function rCe(e,t,n,r){let a={},o={},s=[];const u=n.isWebGL2?e.getParameter(35375):0;function d(R,A){const T=A.program;r.uniformBlockBinding(R,T)}function f(R,A){let T=a[R.id];T===void 0&&(w(R),T=h(R),a[R.id]=T,R.addEventListener("dispose",x));const P=A.program;r.updateUBOMapping(R,P);const I=t.render.frame;o[R.id]!==I&&(y(R),o[R.id]=I)}function h(R){const A=v();R.__bindingPointIndex=A;const T=e.createBuffer(),P=R.__size,I=R.usage;return e.bindBuffer(35345,T),e.bufferData(35345,P,I),e.bindBuffer(35345,null),e.bindBufferBase(35345,A,T),T}function v(){for(let R=0;R<u;R++)if(s.indexOf(R)===-1)return s.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const A=a[R.id],T=R.uniforms,P=R.__cache;e.bindBuffer(35345,A);for(let I=0,E=T.length;I<E;I++){const D=T[I];if(b(D,I,P)===!0){const N=D.__offset,B=Array.isArray(D.value)?D.value:[D.value];let G=0;for(let $=0;$<B.length;$++){const Q=B[$],ae=g(Q);typeof Q=="number"?(D.__data[0]=Q,e.bufferSubData(35345,N+G,D.__data)):Q.isMatrix3?(D.__data[0]=Q.elements[0],D.__data[1]=Q.elements[1],D.__data[2]=Q.elements[2],D.__data[3]=Q.elements[0],D.__data[4]=Q.elements[3],D.__data[5]=Q.elements[4],D.__data[6]=Q.elements[5],D.__data[7]=Q.elements[0],D.__data[8]=Q.elements[6],D.__data[9]=Q.elements[7],D.__data[10]=Q.elements[8],D.__data[11]=Q.elements[0]):(Q.toArray(D.__data,G),G+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,N,D.__data)}}e.bindBuffer(35345,null)}function b(R,A,T){const P=R.value;if(T[A]===void 0){if(typeof P=="number")T[A]=P;else{const I=Array.isArray(P)?P:[P],E=[];for(let D=0;D<I.length;D++)E.push(I[D].clone());T[A]=E}return!0}else if(typeof P=="number"){if(T[A]!==P)return T[A]=P,!0}else{const I=Array.isArray(T[A])?T[A]:[T[A]],E=Array.isArray(P)?P:[P];for(let D=0;D<I.length;D++){const N=I[D];if(N.equals(E[D])===!1)return N.copy(E[D]),!0}}return!1}function w(R){const A=R.uniforms;let T=0;const P=16;let I=0;for(let E=0,D=A.length;E<D;E++){const N=A[E],B={boundary:0,storage:0},G=Array.isArray(N.value)?N.value:[N.value];for(let $=0,Q=G.length;$<Q;$++){const ae=G[$],ee=g(ae);B.boundary+=ee.boundary,B.storage+=ee.storage}if(N.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=T,E>0){I=T%P;const $=P-I;I!==0&&$-B.boundary<0&&(T+=P-I,N.__offset=T)}T+=B.storage}return I=T%P,I>0&&(T+=P-I),R.__size=T,R.__cache={},this}function g(R){const A={boundary:0,storage:0};return typeof R=="number"?(A.boundary=4,A.storage=4):R.isVector2?(A.boundary=8,A.storage=8):R.isVector3||R.isColor?(A.boundary=16,A.storage=12):R.isVector4?(A.boundary=16,A.storage=16):R.isMatrix3?(A.boundary=48,A.storage=48):R.isMatrix4?(A.boundary=64,A.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),A}function x(R){const A=R.target;A.removeEventListener("dispose",x);const T=s.indexOf(A.__bindingPointIndex);s.splice(T,1),e.deleteBuffer(a[A.id]),delete a[A.id],delete o[A.id]}function M(){for(const R in a)e.deleteBuffer(a[R]);s=[],a={},o={}}return{bind:d,update:f,dispose:M}}function iCe(){const e=X_("canvas");return e.style.display="block",e}function Fz(e={}){this.isWebGLRenderer=!0;const t=e.canvas!==void 0?e.canvas:iCe(),n=e.context!==void 0?e.context:null,r=e.depth!==void 0?e.depth:!0,a=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,s=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,u=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,d=e.powerPreference!==void 0?e.powerPreference:"default",f=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let h;n!==null?h=n.getContextAttributes().alpha:h=e.alpha!==void 0?e.alpha:!1;let v=null,y=null;const b=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=th,this.physicallyCorrectLights=!1,this.toneMapping=hc,this.toneMappingExposure=1;const g=this;let x=!1,M=0,R=0,A=null,T=-1,P=null;const I=new Wa,E=new Wa;let D=null,N=t.width,B=t.height,G=1,$=null,Q=null;const ae=new Wa(0,0,N,B),ee=new Wa(0,0,N,B);let K=!1;const X=new G2;let Z=!1,j=!1,ie=null;const pe=new la,he=new Dr,le=new yt,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function De(){return A===null?G:1}let Te=n;function ge($e,zt){for(let Kt=0;Kt<$e.length;Kt++){const Be=$e[Kt],vt=t.getContext(Be,zt);if(vt!==null)return vt}return null}try{const $e={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(z2)),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",Ke,!1),t.addEventListener("webglcontextcreationerror",Ee,!1),Te===null){const zt=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&zt.shift(),Te=ge(zt,$e),Te===null)throw ge(zt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Te.getShaderPrecisionFormat===void 0&&(Te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($e){throw console.error("THREE.WebGLRenderer: "+$e.message),$e}let ke,Pe,Xe,ct,se,ye,He,dt,pt,nt,ot,rt,At,Mt,Me,ve,Fe,qe,Et,$t,Yt,We,lt,sn;function Tt(){ke=new mMe(Te),Pe=new uMe(Te,ke,e),ke.init(Pe),We=new ZEe(Te,ke,Pe),Xe=new YEe(Te,ke,Pe),ct=new yMe,se=new DEe,ye=new XEe(Te,ke,Xe,se,Pe,We,ct),He=new dMe(g),dt=new pMe(g),pt=new T1e(Te,Pe),lt=new sMe(Te,ke,pt,Pe),nt=new vMe(Te,pt,ct,lt),ot=new xMe(Te,nt,pt,ct),Et=new wMe(Te,Pe,ye),ve=new cMe(se),rt=new OEe(g,He,dt,ke,Pe,lt,ve),At=new nCe(g,se),Mt=new FEe,Me=new $Ee(ke,Pe),qe=new oMe(g,He,dt,Xe,ot,h,s),Fe=new KEe(g,ot,Pe),sn=new rCe(Te,ct,Pe,Xe),$t=new lMe(Te,ke,ct,Pe),Yt=new gMe(Te,ke,ct,Pe),ct.programs=rt.programs,g.capabilities=Pe,g.extensions=ke,g.properties=se,g.renderLists=Mt,g.shadowMap=Fe,g.state=Xe,g.info=ct}Tt();const je=new tCe(g,Te);this.xr=je,this.getContext=function(){return Te},this.getContextAttributes=function(){return Te.getContextAttributes()},this.forceContextLoss=function(){const $e=ke.get("WEBGL_lose_context");$e&&$e.loseContext()},this.forceContextRestore=function(){const $e=ke.get("WEBGL_lose_context");$e&&$e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function($e){$e!==void 0&&(G=$e,this.setSize(N,B,!1))},this.getSize=function($e){return $e.set(N,B)},this.setSize=function($e,zt,Kt){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=$e,B=zt,t.width=Math.floor($e*G),t.height=Math.floor(zt*G),Kt!==!1&&(t.style.width=$e+"px",t.style.height=zt+"px"),this.setViewport(0,0,$e,zt)},this.getDrawingBufferSize=function($e){return $e.set(N*G,B*G).floor()},this.setDrawingBufferSize=function($e,zt,Kt){N=$e,B=zt,G=Kt,t.width=Math.floor($e*Kt),t.height=Math.floor(zt*Kt),this.setViewport(0,0,$e,zt)},this.getCurrentViewport=function($e){return $e.copy(I)},this.getViewport=function($e){return $e.copy(ae)},this.setViewport=function($e,zt,Kt,Be){$e.isVector4?ae.set($e.x,$e.y,$e.z,$e.w):ae.set($e,zt,Kt,Be),Xe.viewport(I.copy(ae).multiplyScalar(G).floor())},this.getScissor=function($e){return $e.copy(ee)},this.setScissor=function($e,zt,Kt,Be){$e.isVector4?ee.set($e.x,$e.y,$e.z,$e.w):ee.set($e,zt,Kt,Be),Xe.scissor(E.copy(ee).multiplyScalar(G).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function($e){Xe.setScissorTest(K=$e)},this.setOpaqueSort=function($e){$=$e},this.setTransparentSort=function($e){Q=$e},this.getClearColor=function($e){return $e.copy(qe.getClearColor())},this.setClearColor=function(){qe.setClearColor.apply(qe,arguments)},this.getClearAlpha=function(){return qe.getClearAlpha()},this.setClearAlpha=function(){qe.setClearAlpha.apply(qe,arguments)},this.clear=function($e=!0,zt=!0,Kt=!0){let Be=0;$e&&(Be|=16384),zt&&(Be|=256),Kt&&(Be|=1024),Te.clear(Be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",Ke,!1),t.removeEventListener("webglcontextcreationerror",Ee,!1),Mt.dispose(),Me.dispose(),se.dispose(),He.dispose(),dt.dispose(),ot.dispose(),lt.dispose(),sn.dispose(),rt.dispose(),je.dispose(),je.removeEventListener("sessionstart",_n),je.removeEventListener("sessionend",wn),ie&&(ie.dispose(),ie=null),hr.stop()};function xe($e){$e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Ke(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const $e=ct.autoReset,zt=Fe.enabled,Kt=Fe.autoUpdate,Be=Fe.needsUpdate,vt=Fe.type;Tt(),ct.autoReset=$e,Fe.enabled=zt,Fe.autoUpdate=Kt,Fe.needsUpdate=Be,Fe.type=vt}function Ee($e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$e.statusMessage)}function wt($e){const zt=$e.target;zt.removeEventListener("dispose",wt),an(zt)}function an($e){Je($e),se.remove($e)}function Je($e){const zt=se.get($e).programs;zt!==void 0&&(zt.forEach(function(Kt){rt.releaseProgram(Kt)}),$e.isShaderMaterial&&rt.releaseShaderCache($e))}this.renderBufferDirect=function($e,zt,Kt,Be,vt,vn){zt===null&&(zt=Re);const Un=vt.isMesh&&vt.matrixWorld.determinant()<0,sr=To($e,zt,Kt,Be,vt);Xe.setMaterial(Be,Un);let dr=Kt.index,yr=1;Be.wireframe===!0&&(dr=nt.getWireframeAttribute(Kt),yr=2);const Ar=Kt.drawRange,br=Kt.attributes.position;let Lt=Ar.start*yr,hn=(Ar.start+Ar.count)*yr;vn!==null&&(Lt=Math.max(Lt,vn.start*yr),hn=Math.min(hn,(vn.start+vn.count)*yr)),dr!==null?(Lt=Math.max(Lt,0),hn=Math.min(hn,dr.count)):br!=null&&(Lt=Math.max(Lt,0),hn=Math.min(hn,br.count));const Gn=hn-Lt;if(Gn<0||Gn===1/0)return;lt.setup(vt,Be,sr,Kt,dr);let Qn,Nr=$t;if(dr!==null&&(Qn=pt.get(dr),Nr=Yt,Nr.setIndex(Qn)),vt.isMesh)Be.wireframe===!0?(Xe.setLineWidth(Be.wireframeLinewidth*De()),Nr.setMode(1)):Nr.setMode(4);else if(vt.isLine){let Sr=Be.linewidth;Sr===void 0&&(Sr=1),Xe.setLineWidth(Sr*De()),vt.isLineSegments?Nr.setMode(1):vt.isLineLoop?Nr.setMode(2):Nr.setMode(3)}else vt.isPoints?Nr.setMode(0):vt.isSprite&&Nr.setMode(4);if(vt.isInstancedMesh)Nr.renderInstances(Lt,Gn,vt.count);else if(Kt.isInstancedBufferGeometry){const Sr=Kt._maxInstanceCount!==void 0?Kt._maxInstanceCount:1/0,Bs=Math.min(Kt.instanceCount,Sr);Nr.renderInstances(Lt,Gn,Bs)}else Nr.render(Lt,Gn)},this.compile=function($e,zt){function Kt(Be,vt,vn){Be.transparent===!0&&Be.side===Eu&&Be.forceSinglePass===!1?(Be.side=Ds,Be.needsUpdate=!0,na(Be,vt,vn),Be.side=wd,Be.needsUpdate=!0,na(Be,vt,vn),Be.side=Eu):na(Be,vt,vn)}y=Me.get($e),y.init(),w.push(y),$e.traverseVisible(function(Be){Be.isLight&&Be.layers.test(zt.layers)&&(y.pushLight(Be),Be.castShadow&&y.pushShadow(Be))}),y.setupLights(g.physicallyCorrectLights),$e.traverse(function(Be){const vt=Be.material;if(vt)if(Array.isArray(vt))for(let vn=0;vn<vt.length;vn++){const Un=vt[vn];Kt(Un,$e,Be)}else Kt(vt,$e,Be)}),w.pop(),y=null};let Dt=null;function en($e){Dt&&Dt($e)}function _n(){hr.stop()}function wn(){hr.start()}const hr=new Pz;hr.setAnimationLoop(en),typeof self<"u"&&hr.setContext(self),this.setAnimationLoop=function($e){Dt=$e,je.setAnimationLoop($e),$e===null?hr.stop():hr.start()},je.addEventListener("sessionstart",_n),je.addEventListener("sessionend",wn),this.render=function($e,zt){if(zt!==void 0&&zt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;$e.matrixWorldAutoUpdate===!0&&$e.updateMatrixWorld(),zt.parent===null&&zt.matrixWorldAutoUpdate===!0&&zt.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(zt),zt=je.getCamera()),$e.isScene===!0&&$e.onBeforeRender(g,$e,zt,A),y=Me.get($e,w.length),y.init(),w.push(y),pe.multiplyMatrices(zt.projectionMatrix,zt.matrixWorldInverse),X.setFromProjectionMatrix(pe),j=this.localClippingEnabled,Z=ve.init(this.clippingPlanes,j),v=Mt.get($e,b.length),v.init(),b.push(v),Yn($e,zt,0,g.sortObjects),v.finish(),g.sortObjects===!0&&v.sort($,Q),Z===!0&&ve.beginShadows();const Kt=y.state.shadowsArray;if(Fe.render(Kt,$e,zt),Z===!0&&ve.endShadows(),this.info.autoReset===!0&&this.info.reset(),qe.render(v,$e),y.setupLights(g.physicallyCorrectLights),zt.isArrayCamera){const Be=zt.cameras;for(let vt=0,vn=Be.length;vt<vn;vt++){const Un=Be[vt];vr(v,$e,Un,Un.viewport)}}else vr(v,$e,zt);A!==null&&(ye.updateMultisampleRenderTarget(A),ye.updateRenderTargetMipmap(A)),$e.isScene===!0&&$e.onAfterRender(g,$e,zt),lt.resetDefaultState(),T=-1,P=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,b.pop(),b.length>0?v=b[b.length-1]:v=null};function Yn($e,zt,Kt,Be){if($e.visible===!1)return;if($e.layers.test(zt.layers)){if($e.isGroup)Kt=$e.renderOrder;else if($e.isLOD)$e.autoUpdate===!0&&$e.update(zt);else if($e.isLight)y.pushLight($e),$e.castShadow&&y.pushShadow($e);else if($e.isSprite){if(!$e.frustumCulled||X.intersectsSprite($e)){Be&&le.setFromMatrixPosition($e.matrixWorld).applyMatrix4(pe);const Un=ot.update($e),sr=$e.material;sr.visible&&v.push($e,Un,sr,Kt,le.z,null)}}else if(($e.isMesh||$e.isLine||$e.isPoints)&&($e.isSkinnedMesh&&$e.skeleton.frame!==ct.render.frame&&($e.skeleton.update(),$e.skeleton.frame=ct.render.frame),!$e.frustumCulled||X.intersectsObject($e))){Be&&le.setFromMatrixPosition($e.matrixWorld).applyMatrix4(pe);const Un=ot.update($e),sr=$e.material;if(Array.isArray(sr)){const dr=Un.groups;for(let yr=0,Ar=dr.length;yr<Ar;yr++){const br=dr[yr],Lt=sr[br.materialIndex];Lt&&Lt.visible&&v.push($e,Un,Lt,Kt,le.z,br)}}else sr.visible&&v.push($e,Un,sr,Kt,le.z,null)}}const vn=$e.children;for(let Un=0,sr=vn.length;Un<sr;Un++)Yn(vn[Un],zt,Kt,Be)}function vr($e,zt,Kt,Be){const vt=$e.opaque,vn=$e.transmissive,Un=$e.transparent;y.setupLightsView(Kt),Z===!0&&ve.setGlobalState(g.clippingPlanes,Kt),vn.length>0&&Ji(vt,zt,Kt),Be&&Xe.viewport(I.copy(Be)),vt.length>0&&pi(vt,zt,Kt),vn.length>0&&pi(vn,zt,Kt),Un.length>0&&pi(Un,zt,Kt),Xe.buffers.depth.setTest(!0),Xe.buffers.depth.setMask(!0),Xe.buffers.color.setMask(!0),Xe.setPolygonOffset(!1)}function Ji($e,zt,Kt){const Be=Pe.isWebGL2;ie===null&&(ie=new nh(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?_0:eh,minFilter:b0,samples:Be&&o===!0?4:0})),g.getDrawingBufferSize(he),Be?ie.setSize(he.x,he.y):ie.setSize(ME(he.x),ME(he.y));const vt=g.getRenderTarget();g.setRenderTarget(ie),g.clear();const vn=g.toneMapping;g.toneMapping=hc,pi($e,zt,Kt),g.toneMapping=vn,ye.updateMultisampleRenderTarget(ie),ye.updateRenderTargetMipmap(ie),g.setRenderTarget(vt)}function pi($e,zt,Kt){const Be=zt.isScene===!0?zt.overrideMaterial:null;for(let vt=0,vn=$e.length;vt<vn;vt++){const Un=$e[vt],sr=Un.object,dr=Un.geometry,yr=Be===null?Un.material:Be,Ar=Un.group;sr.layers.test(Kt.layers)&&Qi(sr,zt,Kt,dr,yr,Ar)}}function Qi($e,zt,Kt,Be,vt,vn){$e.onBeforeRender(g,zt,Kt,Be,vt,vn),$e.modelViewMatrix.multiplyMatrices(Kt.matrixWorldInverse,$e.matrixWorld),$e.normalMatrix.getNormalMatrix($e.modelViewMatrix),vt.onBeforeRender(g,zt,Kt,Be,$e,vn),vt.transparent===!0&&vt.side===Eu&&vt.forceSinglePass===!1?(vt.side=Ds,vt.needsUpdate=!0,g.renderBufferDirect(Kt,zt,Be,vt,$e,vn),vt.side=wd,vt.needsUpdate=!0,g.renderBufferDirect(Kt,zt,Be,vt,$e,vn),vt.side=Eu):g.renderBufferDirect(Kt,zt,Be,vt,$e,vn),$e.onAfterRender(g,zt,Kt,Be,vt,vn)}function na($e,zt,Kt){zt.isScene!==!0&&(zt=Re);const Be=se.get($e),vt=y.state.lights,vn=y.state.shadowsArray,Un=vt.state.version,sr=rt.getParameters($e,vt.state,vn,zt,Kt),dr=rt.getProgramCacheKey(sr);let yr=Be.programs;Be.environment=$e.isMeshStandardMaterial?zt.environment:null,Be.fog=zt.fog,Be.envMap=($e.isMeshStandardMaterial?dt:He).get($e.envMap||Be.environment),yr===void 0&&($e.addEventListener("dispose",wt),yr=new Map,Be.programs=yr);let Ar=yr.get(dr);if(Ar!==void 0){if(Be.currentProgram===Ar&&Be.lightsStateVersion===Un)return ra($e,sr),Ar}else sr.uniforms=rt.getUniforms($e),$e.onBuild(Kt,sr,g),$e.onBeforeCompile(sr,g),Ar=rt.acquireProgram(sr,dr),yr.set(dr,Ar),Be.uniforms=sr.uniforms;const br=Be.uniforms;(!$e.isShaderMaterial&&!$e.isRawShaderMaterial||$e.clipping===!0)&&(br.clippingPlanes=ve.uniform),ra($e,sr),Be.needsLights=da($e),Be.lightsStateVersion=Un,Be.needsLights&&(br.ambientLightColor.value=vt.state.ambient,br.lightProbe.value=vt.state.probe,br.directionalLights.value=vt.state.directional,br.directionalLightShadows.value=vt.state.directionalShadow,br.spotLights.value=vt.state.spot,br.spotLightShadows.value=vt.state.spotShadow,br.rectAreaLights.value=vt.state.rectArea,br.ltc_1.value=vt.state.rectAreaLTC1,br.ltc_2.value=vt.state.rectAreaLTC2,br.pointLights.value=vt.state.point,br.pointLightShadows.value=vt.state.pointShadow,br.hemisphereLights.value=vt.state.hemi,br.directionalShadowMap.value=vt.state.directionalShadowMap,br.directionalShadowMatrix.value=vt.state.directionalShadowMatrix,br.spotShadowMap.value=vt.state.spotShadowMap,br.spotLightMatrix.value=vt.state.spotLightMatrix,br.spotLightMap.value=vt.state.spotLightMap,br.pointShadowMap.value=vt.state.pointShadowMap,br.pointShadowMatrix.value=vt.state.pointShadowMatrix);const Lt=Ar.getUniforms(),hn=f_.seqWithValue(Lt.seq,br);return Be.currentProgram=Ar,Be.uniformsList=hn,Ar}function ra($e,zt){const Kt=se.get($e);Kt.outputEncoding=zt.outputEncoding,Kt.instancing=zt.instancing,Kt.skinning=zt.skinning,Kt.morphTargets=zt.morphTargets,Kt.morphNormals=zt.morphNormals,Kt.morphColors=zt.morphColors,Kt.morphTargetsCount=zt.morphTargetsCount,Kt.numClippingPlanes=zt.numClippingPlanes,Kt.numIntersection=zt.numClipIntersection,Kt.vertexAlphas=zt.vertexAlphas,Kt.vertexTangents=zt.vertexTangents,Kt.toneMapping=zt.toneMapping}function To($e,zt,Kt,Be,vt){zt.isScene!==!0&&(zt=Re),ye.resetTextureUnits();const vn=zt.fog,Un=Be.isMeshStandardMaterial?zt.environment:null,sr=A===null?g.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:th,dr=(Be.isMeshStandardMaterial?dt:He).get(Be.envMap||Un),yr=Be.vertexColors===!0&&!!Kt.attributes.color&&Kt.attributes.color.itemSize===4,Ar=!!Be.normalMap&&!!Kt.attributes.tangent,br=!!Kt.morphAttributes.position,Lt=!!Kt.morphAttributes.normal,hn=!!Kt.morphAttributes.color,Gn=Be.toneMapped?g.toneMapping:hc,Qn=Kt.morphAttributes.position||Kt.morphAttributes.normal||Kt.morphAttributes.color,Nr=Qn!==void 0?Qn.length:0,Sr=se.get(Be),Bs=y.state.lights;if(Z===!0&&(j===!0||$e!==P)){const Ma=$e===P&&Be.id===T;ve.setState(Be,$e,Ma)}let Ti=!1;Be.version===Sr.__version?(Sr.needsLights&&Sr.lightsStateVersion!==Bs.state.version||Sr.outputEncoding!==sr||vt.isInstancedMesh&&Sr.instancing===!1||!vt.isInstancedMesh&&Sr.instancing===!0||vt.isSkinnedMesh&&Sr.skinning===!1||!vt.isSkinnedMesh&&Sr.skinning===!0||Sr.envMap!==dr||Be.fog===!0&&Sr.fog!==vn||Sr.numClippingPlanes!==void 0&&(Sr.numClippingPlanes!==ve.numPlanes||Sr.numIntersection!==ve.numIntersection)||Sr.vertexAlphas!==yr||Sr.vertexTangents!==Ar||Sr.morphTargets!==br||Sr.morphNormals!==Lt||Sr.morphColors!==hn||Sr.toneMapping!==Gn||Pe.isWebGL2===!0&&Sr.morphTargetsCount!==Nr)&&(Ti=!0):(Ti=!0,Sr.__version=Be.version);let jo=Sr.currentProgram;Ti===!0&&(jo=na(Be,zt,vt));let Xl=!1,zs=!1,Zl=!1;const ea=jo.getUniforms(),vs=Sr.uniforms;if(Xe.useProgram(jo.program)&&(Xl=!0,zs=!0,Zl=!0),Be.id!==T&&(T=Be.id,zs=!0),Xl||P!==$e){if(ea.setValue(Te,"projectionMatrix",$e.projectionMatrix),Pe.logarithmicDepthBuffer&&ea.setValue(Te,"logDepthBufFC",2/(Math.log($e.far+1)/Math.LN2)),P!==$e&&(P=$e,zs=!0,Zl=!0),Be.isShaderMaterial||Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshStandardMaterial||Be.envMap){const Ma=ea.map.cameraPosition;Ma!==void 0&&Ma.setValue(Te,le.setFromMatrixPosition($e.matrixWorld))}(Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshLambertMaterial||Be.isMeshBasicMaterial||Be.isMeshStandardMaterial||Be.isShaderMaterial)&&ea.setValue(Te,"isOrthographic",$e.isOrthographicCamera===!0),(Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshLambertMaterial||Be.isMeshBasicMaterial||Be.isMeshStandardMaterial||Be.isShaderMaterial||Be.isShadowMaterial||vt.isSkinnedMesh)&&ea.setValue(Te,"viewMatrix",$e.matrixWorldInverse)}if(vt.isSkinnedMesh){ea.setOptional(Te,vt,"bindMatrix"),ea.setOptional(Te,vt,"bindMatrixInverse");const Ma=vt.skeleton;Ma&&(Pe.floatVertexTextures?(Ma.boneTexture===null&&Ma.computeBoneTexture(),ea.setValue(Te,"boneTexture",Ma.boneTexture,ye),ea.setValue(Te,"boneTextureSize",Ma.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jl=Kt.morphAttributes;if((Jl.position!==void 0||Jl.normal!==void 0||Jl.color!==void 0&&Pe.isWebGL2===!0)&&Et.update(vt,Kt,Be,jo),(zs||Sr.receiveShadow!==vt.receiveShadow)&&(Sr.receiveShadow=vt.receiveShadow,ea.setValue(Te,"receiveShadow",vt.receiveShadow)),Be.isMeshGouraudMaterial&&Be.envMap!==null&&(vs.envMap.value=dr,vs.flipEnvMap.value=dr.isCubeTexture&&dr.isRenderTargetTexture===!1?-1:1),zs&&(ea.setValue(Te,"toneMappingExposure",g.toneMappingExposure),Sr.needsLights&&Ka(vs,Zl),vn&&Be.fog===!0&&At.refreshFogUniforms(vs,vn),At.refreshMaterialUniforms(vs,Be,G,B,ie),f_.upload(Te,Sr.uniformsList,vs,ye)),Be.isShaderMaterial&&Be.uniformsNeedUpdate===!0&&(f_.upload(Te,Sr.uniformsList,vs,ye),Be.uniformsNeedUpdate=!1),Be.isSpriteMaterial&&ea.setValue(Te,"center",vt.center),ea.setValue(Te,"modelViewMatrix",vt.modelViewMatrix),ea.setValue(Te,"normalMatrix",vt.normalMatrix),ea.setValue(Te,"modelMatrix",vt.matrixWorld),Be.isShaderMaterial||Be.isRawShaderMaterial){const Ma=Be.uniformsGroups;for(let fa=0,cl=Ma.length;fa<cl;fa++)if(Pe.isWebGL2){const Ql=Ma[fa];sn.update(Ql,jo),sn.bind(Ql,jo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return jo}function Ka($e,zt){$e.ambientLightColor.needsUpdate=zt,$e.lightProbe.needsUpdate=zt,$e.directionalLights.needsUpdate=zt,$e.directionalLightShadows.needsUpdate=zt,$e.pointLights.needsUpdate=zt,$e.pointLightShadows.needsUpdate=zt,$e.spotLights.needsUpdate=zt,$e.spotLightShadows.needsUpdate=zt,$e.rectAreaLights.needsUpdate=zt,$e.hemisphereLights.needsUpdate=zt}function da($e){return $e.isMeshLambertMaterial||$e.isMeshToonMaterial||$e.isMeshPhongMaterial||$e.isMeshStandardMaterial||$e.isShadowMaterial||$e.isShaderMaterial&&$e.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function($e,zt,Kt){se.get($e.texture).__webglTexture=zt,se.get($e.depthTexture).__webglTexture=Kt;const Be=se.get($e);Be.__hasExternalTextures=!0,Be.__hasExternalTextures&&(Be.__autoAllocateDepthBuffer=Kt===void 0,Be.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Be.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($e,zt){const Kt=se.get($e);Kt.__webglFramebuffer=zt,Kt.__useDefaultFramebuffer=zt===void 0},this.setRenderTarget=function($e,zt=0,Kt=0){A=$e,M=zt,R=Kt;let Be=!0,vt=null,vn=!1,Un=!1;if($e){const dr=se.get($e);dr.__useDefaultFramebuffer!==void 0?(Xe.bindFramebuffer(36160,null),Be=!1):dr.__webglFramebuffer===void 0?ye.setupRenderTarget($e):dr.__hasExternalTextures&&ye.rebindTextures($e,se.get($e.texture).__webglTexture,se.get($e.depthTexture).__webglTexture);const yr=$e.texture;(yr.isData3DTexture||yr.isDataArrayTexture||yr.isCompressedArrayTexture)&&(Un=!0);const Ar=se.get($e).__webglFramebuffer;$e.isWebGLCubeRenderTarget?(vt=Ar[zt],vn=!0):Pe.isWebGL2&&$e.samples>0&&ye.useMultisampledRTT($e)===!1?vt=se.get($e).__webglMultisampledFramebuffer:vt=Ar,I.copy($e.viewport),E.copy($e.scissor),D=$e.scissorTest}else I.copy(ae).multiplyScalar(G).floor(),E.copy(ee).multiplyScalar(G).floor(),D=K;if(Xe.bindFramebuffer(36160,vt)&&Pe.drawBuffers&&Be&&Xe.drawBuffers($e,vt),Xe.viewport(I),Xe.scissor(E),Xe.setScissorTest(D),vn){const dr=se.get($e.texture);Te.framebufferTexture2D(36160,36064,34069+zt,dr.__webglTexture,Kt)}else if(Un){const dr=se.get($e.texture),yr=zt||0;Te.framebufferTextureLayer(36160,36064,dr.__webglTexture,Kt||0,yr)}T=-1},this.readRenderTargetPixels=function($e,zt,Kt,Be,vt,vn,Un){if(!($e&&$e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let sr=se.get($e).__webglFramebuffer;if($e.isWebGLCubeRenderTarget&&Un!==void 0&&(sr=sr[Un]),sr){Xe.bindFramebuffer(36160,sr);try{const dr=$e.texture,yr=dr.format,Ar=dr.type;if(yr!==Rl&&We.convert(yr)!==Te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const br=Ar===_0&&(ke.has("EXT_color_buffer_half_float")||Pe.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Ar!==eh&&We.convert(Ar)!==Te.getParameter(35738)&&!(Ar===Of&&(Pe.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!br){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}zt>=0&&zt<=$e.width-Be&&Kt>=0&&Kt<=$e.height-vt&&Te.readPixels(zt,Kt,Be,vt,We.convert(yr),We.convert(Ar),vn)}finally{const dr=A!==null?se.get(A).__webglFramebuffer:null;Xe.bindFramebuffer(36160,dr)}}},this.copyFramebufferToTexture=function($e,zt,Kt=0){const Be=Math.pow(2,-Kt),vt=Math.floor(zt.image.width*Be),vn=Math.floor(zt.image.height*Be);ye.setTexture2D(zt,0),Te.copyTexSubImage2D(3553,Kt,0,0,$e.x,$e.y,vt,vn),Xe.unbindTexture()},this.copyTextureToTexture=function($e,zt,Kt,Be=0){const vt=zt.image.width,vn=zt.image.height,Un=We.convert(Kt.format),sr=We.convert(Kt.type);ye.setTexture2D(Kt,0),Te.pixelStorei(37440,Kt.flipY),Te.pixelStorei(37441,Kt.premultiplyAlpha),Te.pixelStorei(3317,Kt.unpackAlignment),zt.isDataTexture?Te.texSubImage2D(3553,Be,$e.x,$e.y,vt,vn,Un,sr,zt.image.data):zt.isCompressedTexture?Te.compressedTexSubImage2D(3553,Be,$e.x,$e.y,zt.mipmaps[0].width,zt.mipmaps[0].height,Un,zt.mipmaps[0].data):Te.texSubImage2D(3553,Be,$e.x,$e.y,Un,sr,zt.image),Be===0&&Kt.generateMipmaps&&Te.generateMipmap(3553),Xe.unbindTexture()},this.copyTextureToTexture3D=function($e,zt,Kt,Be,vt=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const vn=$e.max.x-$e.min.x+1,Un=$e.max.y-$e.min.y+1,sr=$e.max.z-$e.min.z+1,dr=We.convert(Be.format),yr=We.convert(Be.type);let Ar;if(Be.isData3DTexture)ye.setTexture3D(Be,0),Ar=32879;else if(Be.isDataArrayTexture)ye.setTexture2DArray(Be,0),Ar=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Te.pixelStorei(37440,Be.flipY),Te.pixelStorei(37441,Be.premultiplyAlpha),Te.pixelStorei(3317,Be.unpackAlignment);const br=Te.getParameter(3314),Lt=Te.getParameter(32878),hn=Te.getParameter(3316),Gn=Te.getParameter(3315),Qn=Te.getParameter(32877),Nr=Kt.isCompressedTexture?Kt.mipmaps[0]:Kt.image;Te.pixelStorei(3314,Nr.width),Te.pixelStorei(32878,Nr.height),Te.pixelStorei(3316,$e.min.x),Te.pixelStorei(3315,$e.min.y),Te.pixelStorei(32877,$e.min.z),Kt.isDataTexture||Kt.isData3DTexture?Te.texSubImage3D(Ar,vt,zt.x,zt.y,zt.z,vn,Un,sr,dr,yr,Nr.data):Kt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Te.compressedTexSubImage3D(Ar,vt,zt.x,zt.y,zt.z,vn,Un,sr,dr,Nr.data)):Te.texSubImage3D(Ar,vt,zt.x,zt.y,zt.z,vn,Un,sr,dr,yr,Nr),Te.pixelStorei(3314,br),Te.pixelStorei(32878,Lt),Te.pixelStorei(3316,hn),Te.pixelStorei(3315,Gn),Te.pixelStorei(32877,Qn),vt===0&&Be.generateMipmaps&&Te.generateMipmap(Ar),Xe.unbindTexture()},this.initTexture=function($e){$e.isCubeTexture?ye.setTextureCube($e,0):$e.isData3DTexture?ye.setTexture3D($e,0):$e.isDataArrayTexture||$e.isCompressedArrayTexture?ye.setTexture2DArray($e,0):ye.setTexture2D($e,0),Xe.unbindTexture()},this.resetState=function(){M=0,R=0,A=null,Xe.reset(),lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class aCe extends Fz{}aCe.prototype.isWebGL1Renderer=!0;class oCe extends ua{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}class _m extends ch{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new fi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Ck=new yt,Tk=new yt,Ak=new la,LS=new H2,Sb=new Zw;class ic extends ua{constructor(t=new oo,n=new _m){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const n=t.attributes.position,r=[0];for(let a=1,o=n.count;a<o;a++)Ck.fromBufferAttribute(n,a-1),Tk.fromBufferAttribute(n,a),r[a]=r[a-1],r[a]+=Ck.distanceTo(Tk);t.setAttribute("lineDistance",new ki(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,n){const r=this.geometry,a=this.matrixWorld,o=t.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Sb.copy(r.boundingSphere),Sb.applyMatrix4(a),Sb.radius+=o,t.ray.intersectsSphere(Sb)===!1)return;Ak.copy(a).invert(),LS.copy(t.ray).applyMatrix4(Ak);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,f=new yt,h=new yt,v=new yt,y=new yt,b=this.isLineSegments?2:1,w=r.index,x=r.attributes.position;if(w!==null){const M=Math.max(0,s.start),R=Math.min(w.count,s.start+s.count);for(let A=M,T=R-1;A<T;A+=b){const P=w.getX(A),I=w.getX(A+1);if(f.fromBufferAttribute(x,P),h.fromBufferAttribute(x,I),LS.distanceSqToSegment(f,h,y,v)>d)continue;y.applyMatrix4(this.matrixWorld);const D=t.ray.origin.distanceTo(y);D<t.near||D>t.far||n.push({distance:D,point:v.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const M=Math.max(0,s.start),R=Math.min(x.count,s.start+s.count);for(let A=M,T=R-1;A<T;A+=b){if(f.fromBufferAttribute(x,A),h.fromBufferAttribute(x,A+1),LS.distanceSqToSegment(f,h,y,v)>d)continue;y.applyMatrix4(this.matrixWorld);const I=t.ray.origin.distanceTo(y);I<t.near||I>t.far||n.push({distance:I,point:v.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const u=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}const Lk=new yt,Rk=new yt;class Z_ extends ic{constructor(t,n){super(t,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const n=t.attributes.position,r=[];for(let a=0,o=n.count;a<o;a+=2)Lk.fromBufferAttribute(n,a),Rk.fromBufferAttribute(n,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+Lk.distanceTo(Rk);t.setAttribute("lineDistance",new ki(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $a extends oo{constructor(t=1,n=1,r=1,a=32,o=1,s=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:d};const f=this;a=Math.floor(a),o=Math.floor(o);const h=[],v=[],y=[],b=[];let w=0;const g=[],x=r/2;let M=0;R(),s===!1&&(t>0&&A(!0),n>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new ki(v,3)),this.setAttribute("normal",new ki(y,3)),this.setAttribute("uv",new ki(b,2));function R(){const T=new yt,P=new yt;let I=0;const E=(n-t)/r;for(let D=0;D<=o;D++){const N=[],B=D/o,G=B*(n-t)+t;for(let $=0;$<=a;$++){const Q=$/a,ae=Q*d+u,ee=Math.sin(ae),K=Math.cos(ae);P.x=G*ee,P.y=-B*r+x,P.z=G*K,v.push(P.x,P.y,P.z),T.set(ee,E,K).normalize(),y.push(T.x,T.y,T.z),b.push(Q,1-B),N.push(w++)}g.push(N)}for(let D=0;D<a;D++)for(let N=0;N<o;N++){const B=g[N][D],G=g[N+1][D],$=g[N+1][D+1],Q=g[N][D+1];h.push(B,G,Q),h.push(G,$,Q),I+=6}f.addGroup(M,I,0),M+=I}function A(T){const P=w,I=new Dr,E=new yt;let D=0;const N=T===!0?t:n,B=T===!0?1:-1;for(let $=1;$<=a;$++)v.push(0,x*B,0),y.push(0,B,0),b.push(.5,.5),w++;const G=w;for(let $=0;$<=a;$++){const ae=$/a*d+u,ee=Math.cos(ae),K=Math.sin(ae);E.x=N*K,E.y=x*B,E.z=N*ee,v.push(E.x,E.y,E.z),y.push(0,B,0),I.x=ee*.5+.5,I.y=K*.5*B+.5,b.push(I.x,I.y),w++}for(let $=0;$<a;$++){const Q=P+$,ae=G+$;T===!0?h.push(ae,ae+1,Q):h.push(ae+1,ae,Q),D+=3}f.addGroup(M,D,T===!0?1:2),M+=D}}static fromJSON(t){return new $a(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class j2 extends $a{constructor(t=1,n=1,r=32,a=1,o=!1,s=0,u=Math.PI*2){super(0,t,n,r,a,o,s,u),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u}}static fromJSON(t){return new j2(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class q2 extends oo{constructor(t=[],n=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:n,radius:r,detail:a};const o=[],s=[];u(a),f(r),h(),this.setAttribute("position",new ki(o,3)),this.setAttribute("normal",new ki(o.slice(),3)),this.setAttribute("uv",new ki(s,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const A=new yt,T=new yt,P=new yt;for(let I=0;I<n.length;I+=3)b(n[I+0],A),b(n[I+1],T),b(n[I+2],P),d(A,T,P,R)}function d(R,A,T,P){const I=P+1,E=[];for(let D=0;D<=I;D++){E[D]=[];const N=R.clone().lerp(T,D/I),B=A.clone().lerp(T,D/I),G=I-D;for(let $=0;$<=G;$++)$===0&&D===I?E[D][$]=N:E[D][$]=N.clone().lerp(B,$/G)}for(let D=0;D<I;D++)for(let N=0;N<2*(I-D)-1;N++){const B=Math.floor(N/2);N%2===0?(y(E[D][B+1]),y(E[D+1][B]),y(E[D][B])):(y(E[D][B+1]),y(E[D+1][B+1]),y(E[D+1][B]))}}function f(R){const A=new yt;for(let T=0;T<o.length;T+=3)A.x=o[T+0],A.y=o[T+1],A.z=o[T+2],A.normalize().multiplyScalar(R),o[T+0]=A.x,o[T+1]=A.y,o[T+2]=A.z}function h(){const R=new yt;for(let A=0;A<o.length;A+=3){R.x=o[A+0],R.y=o[A+1],R.z=o[A+2];const T=x(R)/2/Math.PI+.5,P=M(R)/Math.PI+.5;s.push(T,1-P)}w(),v()}function v(){for(let R=0;R<s.length;R+=6){const A=s[R+0],T=s[R+2],P=s[R+4],I=Math.max(A,T,P),E=Math.min(A,T,P);I>.9&&E<.1&&(A<.2&&(s[R+0]+=1),T<.2&&(s[R+2]+=1),P<.2&&(s[R+4]+=1))}}function y(R){o.push(R.x,R.y,R.z)}function b(R,A){const T=R*3;A.x=t[T+0],A.y=t[T+1],A.z=t[T+2]}function w(){const R=new yt,A=new yt,T=new yt,P=new yt,I=new Dr,E=new Dr,D=new Dr;for(let N=0,B=0;N<o.length;N+=9,B+=6){R.set(o[N+0],o[N+1],o[N+2]),A.set(o[N+3],o[N+4],o[N+5]),T.set(o[N+6],o[N+7],o[N+8]),I.set(s[B+0],s[B+1]),E.set(s[B+2],s[B+3]),D.set(s[B+4],s[B+5]),P.copy(R).add(A).add(T).divideScalar(3);const G=x(P);g(I,B+0,R,G),g(E,B+2,A,G),g(D,B+4,T,G)}}function g(R,A,T,P){P<0&&R.x===1&&(s[A]=R.x-1),T.x===0&&T.z===0&&(s[A]=P/2/Math.PI+.5)}function x(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}static fromJSON(t){return new q2(t.vertices,t.indices,t.radius,t.details)}}const Mb=new yt,Eb=new yt,RS=new yt,Cb=new Su;class Pk extends oo{constructor(t=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:n},t!==null){const a=Math.pow(10,4),o=Math.cos(c_*n),s=t.getIndex(),u=t.getAttribute("position"),d=s?s.count:u.count,f=[0,0,0],h=["a","b","c"],v=new Array(3),y={},b=[];for(let w=0;w<d;w+=3){s?(f[0]=s.getX(w),f[1]=s.getX(w+1),f[2]=s.getX(w+2)):(f[0]=w,f[1]=w+1,f[2]=w+2);const{a:g,b:x,c:M}=Cb;if(g.fromBufferAttribute(u,f[0]),x.fromBufferAttribute(u,f[1]),M.fromBufferAttribute(u,f[2]),Cb.getNormal(RS),v[0]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),v[1]="".concat(Math.round(x.x*a),",").concat(Math.round(x.y*a),",").concat(Math.round(x.z*a)),v[2]="".concat(Math.round(M.x*a),",").concat(Math.round(M.y*a),",").concat(Math.round(M.z*a)),!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const A=(R+1)%3,T=v[R],P=v[A],I=Cb[h[R]],E=Cb[h[A]],D="".concat(T,"_").concat(P),N="".concat(P,"_").concat(T);N in y&&y[N]?(RS.dot(y[N].normal)<=o&&(b.push(I.x,I.y,I.z),b.push(E.x,E.y,E.z)),y[N]=null):D in y||(y[D]={index0:f[R],index1:f[A],normal:RS.clone()})}}for(const w in y)if(y[w]){const{index0:g,index1:x}=y[w];Mb.fromBufferAttribute(u,g),Eb.fromBufferAttribute(u,x),b.push(Mb.x,Mb.y,Mb.z),b.push(Eb.x,Eb.y,Eb.z)}this.setAttribute("position",new ki(b,3))}}}class Ip extends q2{constructor(t=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,t,n),this.type="OctahedronGeometry",this.parameters={radius:t,detail:n}}static fromJSON(t){return new Ip(t.radius,t.detail)}}class K2 extends oo{constructor(t=1,n=32,r=16,a=0,o=Math.PI*2,s=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:a,phiLength:o,thetaStart:s,thetaLength:u},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const d=Math.min(s+u,Math.PI);let f=0;const h=[],v=new yt,y=new yt,b=[],w=[],g=[],x=[];for(let M=0;M<=r;M++){const R=[],A=M/r;let T=0;M==0&&s==0?T=.5/n:M==r&&d==Math.PI&&(T=-.5/n);for(let P=0;P<=n;P++){const I=P/n;v.x=-t*Math.cos(a+I*o)*Math.sin(s+A*u),v.y=t*Math.cos(s+A*u),v.z=t*Math.sin(a+I*o)*Math.sin(s+A*u),w.push(v.x,v.y,v.z),y.copy(v).normalize(),g.push(y.x,y.y,y.z),x.push(I+T,1-A),R.push(f++)}h.push(R)}for(let M=0;M<r;M++)for(let R=0;R<n;R++){const A=h[M][R+1],T=h[M][R],P=h[M+1][R],I=h[M+1][R+1];(M!==0||s>0)&&b.push(A,T,I),(M!==r-1||d<Math.PI)&&b.push(T,P,I)}this.setIndex(b),this.setAttribute("position",new ki(w,3)),this.setAttribute("normal",new ki(g,3)),this.setAttribute("uv",new ki(x,2))}static fromJSON(t){return new K2(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Cf extends oo{constructor(t=1,n=.4,r=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:n,radialSegments:r,tubularSegments:a,arc:o},r=Math.floor(r),a=Math.floor(a);const s=[],u=[],d=[],f=[],h=new yt,v=new yt,y=new yt;for(let b=0;b<=r;b++)for(let w=0;w<=a;w++){const g=w/a*o,x=b/r*Math.PI*2;v.x=(t+n*Math.cos(x))*Math.cos(g),v.y=(t+n*Math.cos(x))*Math.sin(g),v.z=n*Math.sin(x),u.push(v.x,v.y,v.z),h.x=t*Math.cos(g),h.y=t*Math.sin(g),y.subVectors(v,h).normalize(),d.push(y.x,y.y,y.z),f.push(w/a),f.push(b/r)}for(let b=1;b<=r;b++)for(let w=1;w<=a;w++){const g=(a+1)*b+w-1,x=(a+1)*(b-1)+w-1,M=(a+1)*(b-1)+w,R=(a+1)*b+w;s.push(g,x,R),s.push(x,M,R)}this.setIndex(s),this.setAttribute("position",new ki(u,3)),this.setAttribute("normal",new ki(d,3)),this.setAttribute("uv",new ki(f,2))}static fromJSON(t){return new Cf(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class kk extends ch{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new fi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=U2,this.normalScale=new Dr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class dg extends ch{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new fi(16777215),this.specular=new fi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=U2,this.normalScale=new Dr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Y2 extends ua{constructor(t,n=1){super(),this.isLight=!0,this.type="Light",this.color=new fi(t),this.intensity=n}dispose(){}copy(t,n){return super.copy(t,n),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const n=super.toJSON(t);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const PS=new la,Ik=new yt,Ok=new yt;class Bz{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Dr(512,512),this.map=null,this.mapPass=null,this.matrix=new la,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new G2,this._frameExtents=new Dr(1,1),this._viewportCount=1,this._viewports=[new Wa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const n=this.camera,r=this.matrix;Ik.setFromMatrixPosition(t.matrixWorld),n.position.copy(Ik),Ok.setFromMatrixPosition(t.target.matrixWorld),n.lookAt(Ok),n.updateMatrixWorld(),PS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(PS)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class sCe extends Bz{constructor(){super(new Ts(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const n=this.camera,r=SE*2*t.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=t.distance||n.far;(r!==n.fov||a!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=a,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class lCe extends Y2{constructor(t,n,r=0,a=Math.PI/3,o=0,s=2){super(t,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ua.DEFAULT_UP),this.updateMatrix(),this.target=new ua,this.distance=r,this.angle=a,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new sCe}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,n){return super.copy(t,n),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class uCe extends Bz{constructor(){super(new kz(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class cCe extends Y2{constructor(t,n){super(t,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ua.DEFAULT_UP),this.updateMatrix(),this.target=new ua,this.shadow=new uCe}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Dk extends Y2{constructor(t,n){super(t,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class zz{constructor(t,n,r=0,a=1/0){this.ray=new H2(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new $2,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,n){this.ray.set(t,n)}setFromCamera(t,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(t,n=!0,r=[]){return CE(t,this,r,n),r.sort(Nk),r}intersectObjects(t,n=!0,r=[]){for(let a=0,o=t.length;a<o;a++)CE(t[a],this,r,n);return r.sort(Nk),r}}function Nk(e,t){return e.distance-t.distance}function CE(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),r===!0){const a=e.children;for(let o=0,s=a.length;o<s;o++)CE(a[o],t,n,!0)}}class Fk{constructor(t=1,n=0,r=0){return this.radius=t,this.phi=n,this.theta=r,this}set(t,n,r){return this.radius=t,this.phi=n,this.theta=r,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,r){return this.radius=Math.sqrt(t*t+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,r),this.phi=Math.acos(us(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Vz extends Z_{constructor(t=10,n=10,r=4473924,a=8947848){r=new fi(r),a=new fi(a);const o=n/2,s=t/n,u=t/2,d=[],f=[];for(let y=0,b=0,w=-u;y<=n;y++,w+=s){d.push(-u,0,w,u,0,w),d.push(w,0,-u,w,0,u);const g=y===o?r:a;g.toArray(f,b),b+=3,g.toArray(f,b),b+=3,g.toArray(f,b),b+=3,g.toArray(f,b),b+=3}const h=new oo;h.setAttribute("position",new ki(d,3)),h.setAttribute("color",new ki(f,3));const v=new _m({vertexColors:!0,toneMapped:!1});super(h,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uz extends Z_{constructor(t=1){const n=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new oo;a.setAttribute("position",new ki(n,3)),a.setAttribute("color",new ki(r,3));const o=new _m({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(t,n,r){const a=new fi,o=this.geometry.attributes.color.array;return a.set(t),a.toArray(o,0),a.toArray(o,3),a.set(n),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:z2}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=z2);const Bk={type:"change"},kS={type:"start"},zk={type:"end"};class dCe extends uh{constructor(t,n){super(),this.object=t,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new yt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:op.ROTATE,MIDDLE:op.DOLLY,RIGHT:op.PAN},this.touches={ONE:sp.ROTATE,TWO:sp.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(We){We.addEventListener("keydown",Mt),this._domElementKeyEvents=We},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Bk),r.update(),o=a.NONE},this.update=function(){const We=new yt,lt=new Qa().setFromUnitVectors(t.up,new yt(0,1,0)),sn=lt.clone().invert(),Tt=new yt,je=new Qa,xe=2*Math.PI;return function(){const Ee=r.object.position;We.copy(Ee).sub(r.target),We.applyQuaternion(lt),u.setFromVector3(We),r.autoRotate&&o===a.NONE&&N(E()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let wt=r.minAzimuthAngle,an=r.maxAzimuthAngle;return isFinite(wt)&&isFinite(an)&&(wt<-Math.PI?wt+=xe:wt>Math.PI&&(wt-=xe),an<-Math.PI?an+=xe:an>Math.PI&&(an-=xe),wt<=an?u.theta=Math.max(wt,Math.min(an,u.theta)):u.theta=u.theta>(wt+an)/2?Math.max(wt,u.theta):Math.min(an,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),We.setFromSpherical(u),We.applyQuaternion(sn),Ee.copy(r.target).add(We),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),h.set(0,0,0)),f=1,v||Tt.distanceToSquared(r.object.position)>s||8*(1-je.dot(r.object.quaternion))>s?(r.dispatchEvent(Bk),Tt.copy(r.object.position),je.copy(r.object.quaternion),v=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Fe),r.domElement.removeEventListener("pointerdown",He),r.domElement.removeEventListener("pointercancel",nt),r.domElement.removeEventListener("wheel",At),r.domElement.removeEventListener("pointermove",dt),r.domElement.removeEventListener("pointerup",pt),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Mt)};const r=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=a.NONE;const s=1e-6,u=new Fk,d=new Fk;let f=1;const h=new yt;let v=!1;const y=new Dr,b=new Dr,w=new Dr,g=new Dr,x=new Dr,M=new Dr,R=new Dr,A=new Dr,T=new Dr,P=[],I={};function E(){return 2*Math.PI/60/60*r.autoRotateSpeed}function D(){return Math.pow(.95,r.zoomSpeed)}function N(We){d.theta-=We}function B(We){d.phi-=We}const G=function(){const We=new yt;return function(sn,Tt){We.setFromMatrixColumn(Tt,0),We.multiplyScalar(-sn),h.add(We)}}(),$=function(){const We=new yt;return function(sn,Tt){r.screenSpacePanning===!0?We.setFromMatrixColumn(Tt,1):(We.setFromMatrixColumn(Tt,0),We.crossVectors(r.object.up,We)),We.multiplyScalar(sn),h.add(We)}}(),Q=function(){const We=new yt;return function(sn,Tt){const je=r.domElement;if(r.object.isPerspectiveCamera){const xe=r.object.position;We.copy(xe).sub(r.target);let Ke=We.length();Ke*=Math.tan(r.object.fov/2*Math.PI/180),G(2*sn*Ke/je.clientHeight,r.object.matrix),$(2*Tt*Ke/je.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(G(sn*(r.object.right-r.object.left)/r.object.zoom/je.clientWidth,r.object.matrix),$(Tt*(r.object.top-r.object.bottom)/r.object.zoom/je.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function ae(We){r.object.isPerspectiveCamera?f/=We:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*We)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ee(We){r.object.isPerspectiveCamera?f*=We:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/We)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(We){y.set(We.clientX,We.clientY)}function X(We){R.set(We.clientX,We.clientY)}function Z(We){g.set(We.clientX,We.clientY)}function j(We){b.set(We.clientX,We.clientY),w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const lt=r.domElement;N(2*Math.PI*w.x/lt.clientHeight),B(2*Math.PI*w.y/lt.clientHeight),y.copy(b),r.update()}function ie(We){A.set(We.clientX,We.clientY),T.subVectors(A,R),T.y>0?ae(D()):T.y<0&&ee(D()),R.copy(A),r.update()}function pe(We){x.set(We.clientX,We.clientY),M.subVectors(x,g).multiplyScalar(r.panSpeed),Q(M.x,M.y),g.copy(x),r.update()}function he(We){We.deltaY<0?ee(D()):We.deltaY>0&&ae(D()),r.update()}function le(We){let lt=!1;switch(We.code){case r.keys.UP:We.ctrlKey||We.metaKey||We.shiftKey?B(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Q(0,r.keyPanSpeed),lt=!0;break;case r.keys.BOTTOM:We.ctrlKey||We.metaKey||We.shiftKey?B(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Q(0,-r.keyPanSpeed),lt=!0;break;case r.keys.LEFT:We.ctrlKey||We.metaKey||We.shiftKey?N(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Q(r.keyPanSpeed,0),lt=!0;break;case r.keys.RIGHT:We.ctrlKey||We.metaKey||We.shiftKey?N(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Q(-r.keyPanSpeed,0),lt=!0;break}lt&&(We.preventDefault(),r.update())}function Re(){if(P.length===1)y.set(P[0].pageX,P[0].pageY);else{const We=.5*(P[0].pageX+P[1].pageX),lt=.5*(P[0].pageY+P[1].pageY);y.set(We,lt)}}function De(){if(P.length===1)g.set(P[0].pageX,P[0].pageY);else{const We=.5*(P[0].pageX+P[1].pageX),lt=.5*(P[0].pageY+P[1].pageY);g.set(We,lt)}}function Te(){const We=P[0].pageX-P[1].pageX,lt=P[0].pageY-P[1].pageY,sn=Math.sqrt(We*We+lt*lt);R.set(0,sn)}function ge(){r.enableZoom&&Te(),r.enablePan&&De()}function ke(){r.enableZoom&&Te(),r.enableRotate&&Re()}function Pe(We){if(P.length==1)b.set(We.pageX,We.pageY);else{const sn=Yt(We),Tt=.5*(We.pageX+sn.x),je=.5*(We.pageY+sn.y);b.set(Tt,je)}w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const lt=r.domElement;N(2*Math.PI*w.x/lt.clientHeight),B(2*Math.PI*w.y/lt.clientHeight),y.copy(b)}function Xe(We){if(P.length===1)x.set(We.pageX,We.pageY);else{const lt=Yt(We),sn=.5*(We.pageX+lt.x),Tt=.5*(We.pageY+lt.y);x.set(sn,Tt)}M.subVectors(x,g).multiplyScalar(r.panSpeed),Q(M.x,M.y),g.copy(x)}function ct(We){const lt=Yt(We),sn=We.pageX-lt.x,Tt=We.pageY-lt.y,je=Math.sqrt(sn*sn+Tt*Tt);A.set(0,je),T.set(0,Math.pow(A.y/R.y,r.zoomSpeed)),ae(T.y),R.copy(A)}function se(We){r.enableZoom&&ct(We),r.enablePan&&Xe(We)}function ye(We){r.enableZoom&&ct(We),r.enableRotate&&Pe(We)}function He(We){r.enabled!==!1&&(P.length===0&&(r.domElement.setPointerCapture(We.pointerId),r.domElement.addEventListener("pointermove",dt),r.domElement.addEventListener("pointerup",pt)),qe(We),We.pointerType==="touch"?Me(We):ot(We))}function dt(We){r.enabled!==!1&&(We.pointerType==="touch"?ve(We):rt(We))}function pt(We){Et(We),P.length===0&&(r.domElement.releasePointerCapture(We.pointerId),r.domElement.removeEventListener("pointermove",dt),r.domElement.removeEventListener("pointerup",pt)),r.dispatchEvent(zk),o=a.NONE}function nt(We){Et(We)}function ot(We){let lt;switch(We.button){case 0:lt=r.mouseButtons.LEFT;break;case 1:lt=r.mouseButtons.MIDDLE;break;case 2:lt=r.mouseButtons.RIGHT;break;default:lt=-1}switch(lt){case op.DOLLY:if(r.enableZoom===!1)return;X(We),o=a.DOLLY;break;case op.ROTATE:if(We.ctrlKey||We.metaKey||We.shiftKey){if(r.enablePan===!1)return;Z(We),o=a.PAN}else{if(r.enableRotate===!1)return;K(We),o=a.ROTATE}break;case op.PAN:if(We.ctrlKey||We.metaKey||We.shiftKey){if(r.enableRotate===!1)return;K(We),o=a.ROTATE}else{if(r.enablePan===!1)return;Z(We),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(kS)}function rt(We){switch(o){case a.ROTATE:if(r.enableRotate===!1)return;j(We);break;case a.DOLLY:if(r.enableZoom===!1)return;ie(We);break;case a.PAN:if(r.enablePan===!1)return;pe(We);break}}function At(We){r.enabled===!1||r.enableZoom===!1||o!==a.NONE||(We.preventDefault(),r.dispatchEvent(kS),he(We),r.dispatchEvent(zk))}function Mt(We){r.enabled===!1||r.enablePan===!1||le(We)}function Me(We){switch($t(We),P.length){case 1:switch(r.touches.ONE){case sp.ROTATE:if(r.enableRotate===!1)return;Re(),o=a.TOUCH_ROTATE;break;case sp.PAN:if(r.enablePan===!1)return;De(),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(r.touches.TWO){case sp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ge(),o=a.TOUCH_DOLLY_PAN;break;case sp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ke(),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(kS)}function ve(We){switch($t(We),o){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Pe(We),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Xe(We),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;se(We),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ye(We),r.update();break;default:o=a.NONE}}function Fe(We){r.enabled!==!1&&We.preventDefault()}function qe(We){P.push(We)}function Et(We){delete I[We.pointerId];for(let lt=0;lt<P.length;lt++)if(P[lt].pointerId==We.pointerId){P.splice(lt,1);return}}function $t(We){let lt=I[We.pointerId];lt===void 0&&(lt=new Dr,I[We.pointerId]=lt),lt.set(We.pageX,We.pageY)}function Yt(We){const lt=We.pointerId===P[0].pointerId?P[1]:P[0];return I[lt.pointerId]}r.domElement.addEventListener("contextmenu",Fe),r.domElement.addEventListener("pointerdown",He),r.domElement.addEventListener("pointercancel",nt),r.domElement.addEventListener("wheel",At,{passive:!1}),this.update()}}const gf=new zz,ls=new yt,Yc=new yt,Yi=new Qa,Vk={X:new yt(1,0,0),Y:new yt(0,1,0),Z:new yt(0,0,1)},IS={type:"change"},Uk={type:"mouseDown"},Hk={type:"mouseUp",mode:null},$k={type:"objectChange"};class fCe extends ua{constructor(t,n){super(),n===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.isTransformControls=!0,this.visible=!1,this.domElement=n,this.domElement.style.touchAction="none";const r=new yCe;this._gizmo=r,this.add(r);const a=new bCe;this._plane=a,this.add(a);const o=this;function s(R,A){let T=A;Object.defineProperty(o,R,{get:function(){return T!==void 0?T:A},set:function(P){T!==P&&(T=P,a[R]=P,r[R]=P,o.dispatchEvent({type:R+"-changed",value:P}),o.dispatchEvent(IS))}}),o[R]=A,a[R]=A,r[R]=A}s("camera",t),s("object",void 0),s("enabled",!0),s("axis",null),s("mode","translate"),s("translationSnap",null),s("rotationSnap",null),s("scaleSnap",null),s("space","world"),s("size",1),s("dragging",!1),s("showX",!0),s("showY",!0),s("showZ",!0);const u=new yt,d=new yt,f=new Qa,h=new Qa,v=new yt,y=new Qa,b=new yt,w=new yt,g=new yt,x=0,M=new yt;s("worldPosition",u),s("worldPositionStart",d),s("worldQuaternion",f),s("worldQuaternionStart",h),s("cameraPosition",v),s("cameraQuaternion",y),s("pointStart",b),s("pointEnd",w),s("rotationAxis",g),s("rotationAngle",x),s("eye",M),this._offset=new yt,this._startNorm=new yt,this._endNorm=new yt,this._cameraScale=new yt,this._parentPosition=new yt,this._parentQuaternion=new Qa,this._parentQuaternionInv=new Qa,this._parentScale=new yt,this._worldScaleStart=new yt,this._worldQuaternionInv=new Qa,this._worldScale=new yt,this._positionStart=new yt,this._quaternionStart=new Qa,this._scaleStart=new yt,this._getPointer=hCe.bind(this),this._onPointerDown=mCe.bind(this),this._onPointerHover=pCe.bind(this),this._onPointerMove=vCe.bind(this),this._onPointerUp=gCe.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.camera.isOrthographicCamera?this.camera.getWorldDirection(this.eye).negate():this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(t){if(this.object===void 0||this.dragging===!0)return;gf.setFromCamera(t,this.camera);const n=OS(this._gizmo.picker[this.mode],gf);n?this.axis=n.object.name:this.axis=null}pointerDown(t){if(!(this.object===void 0||this.dragging===!0||t.button!==0)&&this.axis!==null){gf.setFromCamera(t,this.camera);const n=OS(this._plane,gf,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,Uk.mode=this.mode,this.dispatchEvent(Uk)}}pointerMove(t){const n=this.axis,r=this.mode,a=this.object;let o=this.space;if(r==="scale"?o="local":(n==="E"||n==="XYZE"||n==="XYZ")&&(o="world"),a===void 0||n===null||this.dragging===!1||t.button!==-1)return;gf.setFromCamera(t,this.camera);const s=OS(this._plane,gf,!0);if(s){if(this.pointEnd.copy(s.point).sub(this.worldPositionStart),r==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),o==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),o==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),a.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(o==="local"&&(a.position.applyQuaternion(Yi.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.position.applyQuaternion(this._quaternionStart)),o==="world"&&(a.parent&&a.position.add(ls.setFromMatrixPosition(a.parent.matrixWorld)),n.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.parent&&a.position.sub(ls.setFromMatrixPosition(a.parent.matrixWorld))));else if(r==="scale"){if(n.search("XYZ")!==-1){let u=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(u*=-1),Yc.set(u,u,u)}else ls.copy(this.pointStart),Yc.copy(this.pointEnd),ls.applyQuaternion(this._worldQuaternionInv),Yc.applyQuaternion(this._worldQuaternionInv),Yc.divide(ls),n.search("X")===-1&&(Yc.x=1),n.search("Y")===-1&&(Yc.y=1),n.search("Z")===-1&&(Yc.z=1);a.scale.copy(this._scaleStart).multiply(Yc),this.scaleSnap&&(n.search("X")!==-1&&(a.scale.x=Math.round(a.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(a.scale.y=Math.round(a.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(a.scale.z=Math.round(a.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(r==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const u=20/this.worldPosition.distanceTo(ls.setFromMatrixPosition(this.camera.matrixWorld));n==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(ls.copy(this.rotationAxis).cross(this.eye))*u):(n==="X"||n==="Y"||n==="Z")&&(this.rotationAxis.copy(Vk[n]),ls.copy(Vk[n]),o==="local"&&ls.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(ls.cross(this.eye).normalize())*u),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),o==="local"&&n!=="E"&&n!=="XYZE"?(a.quaternion.copy(this._quaternionStart),a.quaternion.multiply(Yi.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),a.quaternion.copy(Yi.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),a.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(IS),this.dispatchEvent($k)}}pointerUp(t){t.button===0&&(this.dragging&&this.axis!==null&&(Hk.mode=this.mode,this.dispatchEvent(Hk)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}attach(t){return this.object=t,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(IS),this.dispatchEvent($k),this.pointStart.copy(this.pointEnd))}getRaycaster(){return gf}getMode(){return this.mode}setMode(t){this.mode=t}setTranslationSnap(t){this.translationSnap=t}setRotationSnap(t){this.rotationSnap=t}setScaleSnap(t){this.scaleSnap=t}setSize(t){this.size=t}setSpace(t){this.space=t}}function hCe(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}}function pCe(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e));break}}function mCe(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function vCe(e){this.enabled&&this.pointerMove(this._getPointer(e))}function gCe(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function OS(e,t,n){const r=t.intersectObject(e,!0);for(let a=0;a<r.length;a++)if(r[a].object.visible||n)return r[a];return!1}const Tb=new K0,Ni=new yt(0,1,0),Gk=new yt(0,0,0),Wk=new la,Ab=new Qa,h_=new Qa,vu=new yt,jk=new la,_g=new yt(1,0,0),wf=new yt(0,1,0),wg=new yt(0,0,1),Lb=new yt,fg=new yt,hg=new yt;class yCe extends ua{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const t=new Jw({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new _m({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=t.clone();r.opacity=.15;const a=n.clone();a.opacity=.5;const o=t.clone();o.color.setHex(16711680);const s=t.clone();s.color.setHex(65280);const u=t.clone();u.color.setHex(255);const d=t.clone();d.color.setHex(16711680),d.opacity=.5;const f=t.clone();f.color.setHex(65280),f.opacity=.5;const h=t.clone();h.color.setHex(255),h.opacity=.5;const v=t.clone();v.opacity=.25;const y=t.clone();y.color.setHex(16776960),y.opacity=.25,t.clone().color.setHex(16776960);const w=t.clone();w.color.setHex(7895160);const g=new $a(0,.04,.1,12);g.translate(0,.05,0);const x=new Xi(.08,.08,.08);x.translate(0,.04,0);const M=new oo;M.setAttribute("position",new ki([0,0,0,1,0,0],3));const R=new $a(.0075,.0075,.5,3);R.translate(0,.25,0);function A(ee,K){const X=new Cf(ee,.0075,3,64,K*Math.PI*2);return X.rotateY(Math.PI/2),X.rotateX(Math.PI/2),X}function T(){const ee=new oo;return ee.setAttribute("position",new ki([0,0,0,1,1,1],3)),ee}const P={X:[[new Nn(g,o),[.5,0,0],[0,0,-Math.PI/2]],[new Nn(g,o),[-.5,0,0],[0,0,Math.PI/2]],[new Nn(R,o),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Nn(g,s),[0,.5,0]],[new Nn(g,s),[0,-.5,0],[Math.PI,0,0]],[new Nn(R,s)]],Z:[[new Nn(g,u),[0,0,.5],[Math.PI/2,0,0]],[new Nn(g,u),[0,0,-.5],[-Math.PI/2,0,0]],[new Nn(R,u),null,[Math.PI/2,0,0]]],XYZ:[[new Nn(new Ip(.1,0),v.clone()),[0,0,0]]],XY:[[new Nn(new Xi(.15,.15,.01),h.clone()),[.15,.15,0]]],YZ:[[new Nn(new Xi(.15,.15,.01),d.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Nn(new Xi(.15,.15,.01),f.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},I={X:[[new Nn(new $a(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new Nn(new $a(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Nn(new $a(.2,0,.6,4),r),[0,.3,0]],[new Nn(new $a(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Nn(new $a(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new Nn(new $a(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Nn(new Ip(.2,0),r)]],XY:[[new Nn(new Xi(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new Nn(new Xi(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Nn(new Xi(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]]},E={START:[[new Nn(new Ip(.01,2),a),null,null,null,"helper"]],END:[[new Nn(new Ip(.01,2),a),null,null,null,"helper"]],DELTA:[[new ic(T(),a),null,null,null,"helper"]],X:[[new ic(M,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ic(M,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ic(M,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},D={XYZE:[[new Nn(A(.5,1),w),null,[0,Math.PI/2,0]]],X:[[new Nn(A(.5,.5),o)]],Y:[[new Nn(A(.5,.5),s),null,[0,0,-Math.PI/2]]],Z:[[new Nn(A(.5,.5),u),null,[0,Math.PI/2,0]]],E:[[new Nn(A(.75,1),y),null,[0,Math.PI/2,0]]]},N={AXIS:[[new ic(M,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},B={XYZE:[[new Nn(new K2(.25,10,8),r)]],X:[[new Nn(new Cf(.5,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Nn(new Cf(.5,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Nn(new Cf(.5,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Nn(new Cf(.75,.1,2,24),r)]]},G={X:[[new Nn(x,o),[.5,0,0],[0,0,-Math.PI/2]],[new Nn(R,o),[0,0,0],[0,0,-Math.PI/2]],[new Nn(x,o),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Nn(x,s),[0,.5,0]],[new Nn(R,s)],[new Nn(x,s),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Nn(x,u),[0,0,.5],[Math.PI/2,0,0]],[new Nn(R,u),[0,0,0],[Math.PI/2,0,0]],[new Nn(x,u),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Nn(new Xi(.15,.15,.01),h),[.15,.15,0]]],YZ:[[new Nn(new Xi(.15,.15,.01),d),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Nn(new Xi(.15,.15,.01),f),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Nn(new Xi(.1,.1,.1),v.clone())]]},$={X:[[new Nn(new $a(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new Nn(new $a(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Nn(new $a(.2,0,.6,4),r),[0,.3,0]],[new Nn(new $a(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Nn(new $a(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new Nn(new $a(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Nn(new Xi(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new Nn(new Xi(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Nn(new Xi(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Nn(new Xi(.2,.2,.2),r),[0,0,0]]]},Q={X:[[new ic(M,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ic(M,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ic(M,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function ae(ee){const K=new ua;for(const X in ee)for(let Z=ee[X].length;Z--;){const j=ee[X][Z][0].clone(),ie=ee[X][Z][1],pe=ee[X][Z][2],he=ee[X][Z][3],le=ee[X][Z][4];j.name=X,j.tag=le,ie&&j.position.set(ie[0],ie[1],ie[2]),pe&&j.rotation.set(pe[0],pe[1],pe[2]),he&&j.scale.set(he[0],he[1],he[2]),j.updateMatrix();const Re=j.geometry.clone();Re.applyMatrix4(j.matrix),j.geometry=Re,j.renderOrder=1/0,j.position.set(0,0,0),j.rotation.set(0,0,0),j.scale.set(1,1,1),K.add(j)}return K}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=ae(P)),this.add(this.gizmo.rotate=ae(D)),this.add(this.gizmo.scale=ae(G)),this.add(this.picker.translate=ae(I)),this.add(this.picker.rotate=ae(B)),this.add(this.picker.scale=ae($)),this.add(this.helper.translate=ae(E)),this.add(this.helper.rotate=ae(N)),this.add(this.helper.scale=ae(Q)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(t){const r=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:h_;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let a=[];a=a.concat(this.picker[this.mode].children),a=a.concat(this.gizmo[this.mode].children),a=a.concat(this.helper[this.mode].children);for(let o=0;o<a.length;o++){const s=a[o];s.visible=!0,s.rotation.set(0,0,0),s.position.copy(this.worldPosition);let u;if(this.camera.isOrthographicCamera?u=(this.camera.top-this.camera.bottom)/this.camera.zoom:u=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),s.scale.set(1,1,1).multiplyScalar(u*this.size/4),s.tag==="helper"){s.visible=!1,s.name==="AXIS"?(s.visible=!!this.axis,this.axis==="X"&&(Yi.setFromEuler(Tb.set(0,0,0)),s.quaternion.copy(r).multiply(Yi),Math.abs(Ni.copy(_g).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Y"&&(Yi.setFromEuler(Tb.set(0,0,Math.PI/2)),s.quaternion.copy(r).multiply(Yi),Math.abs(Ni.copy(wf).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Z"&&(Yi.setFromEuler(Tb.set(0,Math.PI/2,0)),s.quaternion.copy(r).multiply(Yi),Math.abs(Ni.copy(wg).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="XYZE"&&(Yi.setFromEuler(Tb.set(0,Math.PI/2,0)),Ni.copy(this.rotationAxis),s.quaternion.setFromRotationMatrix(Wk.lookAt(Gk,Ni,wf)),s.quaternion.multiply(Yi),s.visible=this.dragging),this.axis==="E"&&(s.visible=!1)):s.name==="START"?(s.position.copy(this.worldPositionStart),s.visible=this.dragging):s.name==="END"?(s.position.copy(this.worldPosition),s.visible=this.dragging):s.name==="DELTA"?(s.position.copy(this.worldPositionStart),s.quaternion.copy(this.worldQuaternionStart),ls.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),ls.applyQuaternion(this.worldQuaternionStart.clone().invert()),s.scale.copy(ls),s.visible=this.dragging):(s.quaternion.copy(r),this.dragging?s.position.copy(this.worldPositionStart):s.position.copy(this.worldPosition),this.axis&&(s.visible=this.axis.search(s.name)!==-1));continue}s.quaternion.copy(r),this.mode==="translate"||this.mode==="scale"?(s.name==="X"&&Math.abs(Ni.copy(_g).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Y"&&Math.abs(Ni.copy(wf).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Z"&&Math.abs(Ni.copy(wg).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XY"&&Math.abs(Ni.copy(wg).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="YZ"&&Math.abs(Ni.copy(_g).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XZ"&&Math.abs(Ni.copy(wf).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1)):this.mode==="rotate"&&(Ab.copy(r),Ni.copy(this.eye).applyQuaternion(Yi.copy(r).invert()),s.name.search("E")!==-1&&s.quaternion.setFromRotationMatrix(Wk.lookAt(this.eye,Gk,wf)),s.name==="X"&&(Yi.setFromAxisAngle(_g,Math.atan2(-Ni.y,Ni.z)),Yi.multiplyQuaternions(Ab,Yi),s.quaternion.copy(Yi)),s.name==="Y"&&(Yi.setFromAxisAngle(wf,Math.atan2(Ni.x,Ni.z)),Yi.multiplyQuaternions(Ab,Yi),s.quaternion.copy(Yi)),s.name==="Z"&&(Yi.setFromAxisAngle(wg,Math.atan2(Ni.y,Ni.x)),Yi.multiplyQuaternions(Ab,Yi),s.quaternion.copy(Yi))),s.visible=s.visible&&(s.name.indexOf("X")===-1||this.showX),s.visible=s.visible&&(s.name.indexOf("Y")===-1||this.showY),s.visible=s.visible&&(s.name.indexOf("Z")===-1||this.showZ),s.visible=s.visible&&(s.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),s.material._color=s.material._color||s.material.color.clone(),s.material._opacity=s.material._opacity||s.material.opacity,s.material.color.copy(s.material._color),s.material.opacity=s.material._opacity,this.enabled&&this.axis&&(s.name===this.axis||this.axis.split("").some(function(d){return s.name===d}))&&(s.material.color.setHex(16776960),s.material.opacity=1)}super.updateMatrixWorld(t)}}class bCe extends Nn{constructor(){super(new $f(1e5,1e5,2,2),new Jw({visible:!1,wireframe:!0,side:Eu,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(t){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),Lb.copy(_g).applyQuaternion(n==="local"?this.worldQuaternion:h_),fg.copy(wf).applyQuaternion(n==="local"?this.worldQuaternion:h_),hg.copy(wg).applyQuaternion(n==="local"?this.worldQuaternion:h_),Ni.copy(fg),this.mode){case"translate":case"scale":switch(this.axis){case"X":Ni.copy(this.eye).cross(Lb),vu.copy(Lb).cross(Ni);break;case"Y":Ni.copy(this.eye).cross(fg),vu.copy(fg).cross(Ni);break;case"Z":Ni.copy(this.eye).cross(hg),vu.copy(hg).cross(Ni);break;case"XY":vu.copy(hg);break;case"YZ":vu.copy(Lb);break;case"XZ":Ni.copy(hg),vu.copy(fg);break;case"XYZ":case"E":vu.set(0,0,0);break}break;case"rotate":default:vu.set(0,0,0)}vu.length()===0?this.quaternion.copy(this.cameraQuaternion):(jk.lookAt(ls.set(0,0,0),vu,Ni),this.quaternion.setFromRotationMatrix(jk)),super.updateMatrixWorld(t)}}const _Ce={class:"scene-container"},wCe={__name:"SceneViewer",setup(e){const t=y0(),n=re(null);re(!1);const r=re(null),a=re(new Map);re(!1);var o=re({}),s=re({}),u=re({}),d=re({}),f=re({}),h=re({});let v,y;const b=B=>{let G=B;for(;G&&!(G instanceof Nn);)G=G.parent;return G},w=()=>{s.traverse(B=>{B instanceof Nn&&B!==r.value&&(a.value.get(B.uuid)||(B.material=B.material.clone()))})},g=B=>{if(!a.value.has(B.uuid)){const G=B.material.clone();B.material=G}},x=B=>{h={area:Math.round(B.geometry.parameters.width*B.geometry.parameters.depth),height:B.geometry.parameters.height,far:B.geometry.parameters.width*B.geometry.parameters.depth*B.geometry.parameters.height/1e4},t.commit("threejsMainView/updateMainViewBuildingData",h)},M=()=>{if(r.value){const B=a.value.get(r.value.uuid);B&&(r.value.material=B,a.value.delete(r.value.uuid)),r.value=null,o.detach()}},R=B=>{M(),a.value.set(B.uuid,B.material.clone()),B.material=B.material.clone(),B.material.color.set(new fi("#073e6c")),r.value=B,x(B),o.attach(B)},A=B=>{const G=d.domElement,$=G.getBoundingClientRect();y.x=(B.clientX-$.left)/G.clientWidth*2-1,y.y=-((B.clientY-$.top)/G.clientHeight)*2+1,v.setFromCamera(y,u);const Q=v.intersectObjects(s.children,!0);if(w(),Q.length>0){const ae=b(Q[0].object);ae&&ae!==r.value&&g(ae)}},T=B=>{const G=d.domElement,$=G.getBoundingClientRect();y.x=(B.clientX-$.left)/G.clientWidth*2-1,y.y=-((B.clientY-$.top)/G.clientHeight)*2+1,v.setFromCamera(y,u);var Q=v.intersectObjects(s.children,!0);if(Q=Q.filter(ae=>{const ee=b(ae.object);return ee&&(!ee.children||ee.children.length>0)}),Q.length>0){const ae=b(Q[0].object);ae&&(r.value===ae&&ae.children.length>0?M():R(ae))}else M()},P=()=>{const B=n.value.clientWidth,G=n.value.clientHeight;u.aspect=B/G,u.updateProjectionMatrix(),d.setSize(B,G)},I=()=>{const B=new od;return[[-30,-30],[-30,30],[30,-30],[30,30],[-10,-30],[-10,30],[10,-30],[10,30],[-30,-10],[-30,10],[30,-10],[30,10]].forEach($=>{const Q=new $a(.5,.5,4,8),ae=new dg({color:9127187}),ee=new Nn(Q,ae),K=new j2(3,6,8),X=new dg({color:2263842}),Z=new Nn(K,X);Z.position.y=5;const j=new od;j.add(ee),j.add(Z),j.position.set($[0],2,$[1]),j.castShadow=!0,B.add(j)}),B},E=()=>{const B=new od,G=Z=>{const{x:j,z:ie,podiumSize:pe,towerSize:he,podiumHeight:le,towerHeight:Re,rotation:De=0}=Z,Te=new od,ge=new Xi(pe.width,le,pe.depth),ke=new dg({color:11917014,transparent:!0,opacity:.9}),Pe=new Nn(ge,ke);Pe.position.y=le/2;const Xe=Math.floor(le/4);for(let ot=1;ot<Xe;ot++){const rt=new Z_(new Pk(new Xi(pe.width+.1,.1,pe.depth+.1)),new _m({color:0}));rt.position.y=ot*4-le/2,Pe.add(rt)}const ct=new Xi(he.width,Re,he.depth),se=new dg({color:7512271,transparent:!0,opacity:.8}),ye=new Nn(ct,se);ye.position.y=le+Re/2;const He=Math.floor(Re/4);for(let ot=1;ot<He;ot++){const rt=new Z_(new Pk(new Xi(he.width+.1,.1,he.depth+.1)),new _m({color:0}));rt.position.y=ot*4-Re/2,ye.add(rt)}const dt=(ot,rt,At)=>{const Mt=new $f(ot,rt),Me=new dg({color:8965375,transparent:!0,opacity:.3,side:Eu});return new Nn(Mt,Me)},pt=dt(he.width,Re);pt.position.set(0,le+Re/2,he.depth/2+.1);const nt=dt(he.width,Re);return nt.position.set(0,le+Re/2,-he.depth/2-.1),Te.add(Pe),Te.add(ye),Te.add(pt),Te.add(nt),Te.position.set(j,0,ie),Te.rotation.y=De,Te};[{x:-30,z:-30,podiumSize:{width:40,depth:40},towerSize:{width:20,depth:20},podiumHeight:20,towerHeight:80,rotation:Math.PI/6},{x:30,z:-30,podiumSize:{width:35,depth:35},towerSize:{width:15,depth:15},podiumHeight:15,towerHeight:100,rotation:-Math.PI/8},{x:-30,z:30,podiumSize:{width:45,depth:45},towerSize:{width:25,depth:25},podiumHeight:25,towerHeight:60,rotation:Math.PI/4},{x:30,z:30,podiumSize:{width:50,depth:50},towerSize:{width:30,depth:30},podiumHeight:30,towerHeight:120,rotation:-Math.PI/5}].forEach(Z=>{const j=G(Z);B.add(j)});const Q=new $f(120,15),ae=new kk({color:3355443,roughness:.9}),ee=new Nn(Q,ae);ee.rotation.x=-Math.PI/2,ee.position.y=.1;const K=new Nn(Q,ae);K.rotation.x=-Math.PI/2,K.rotation.z=Math.PI/2,K.position.y=.1,B.add(ee),B.add(K);const X=I();B.add(X),s.add(B)},D=()=>{requestAnimationFrame(D),f.update(),d.render(s,u)},N=()=>{const B=n.value;s=new oCe,s.background=new fi(15790837);const G=B.clientWidth,$=B.clientHeight;s.add(new Dk(15790320,3));const Q=new lCe(16777215,4.5);Q.position.set(0,1500,200),Q.angle=Math.PI*.2,Q.decay=0,Q.castShadow=!0,Q.shadow.camera.near=200,Q.shadow.camera.far=2e3,Q.shadow.bias=-222e-6,Q.shadow.mapSize.width=1024,Q.shadow.mapSize.height=1024,u=new Ts(80,G/$,1,1e4),d=new Fz({antialias:!0}),d.setSize(G,$),d.shadowMap.enabled=!0,B.appendChild(d.domElement),u.position.set(100,60,200),u.lookAt(0,0,0),f=new dCe(u,d.domElement),f.enableDamping=!0,f.dampingFactor=.05,f.screenSpacePanning=!0,f.minDistance=10,f.maxDistance=300,o=new fCe(u,d.domElement),o.showY=!1,o.size=.5,s.add(o),o.addEventListener("dragging-changed",he=>{f.enabled=!he.value}),o.addEventListener("change",()=>{d.render(s,u)});const ae=new Dk(16777215,.6);s.add(ae);const ee=new cCe(16777215,.8);ee.position.set(50,50,50),ee.castShadow=!0,ee.shadow.mapSize.width=2048,ee.shadow.mapSize.height=2048,s.add(ee);const K=new $f(200,200),X=new kk({color:10066329,roughness:.8}),Z=new Nn(K,X);Z.rotation.x=-Math.PI/2,Z.receiveShadow=!0,s.add(Z),v=new zz,y=new Dr;const j=d.domElement;j.addEventListener("click",T),j.addEventListener("mousemove",A);const ie=new Vz(200,20);s.add(ie);const pe=new Uz(100);s.add(pe),window.addEventListener("resize",P),D()};return Yr(()=>{o&&o.dispose()}),Bn(()=>{N(),E(),t.commit("threejsMainView/updateMainViewData",{scene:s,camera:u,renderer:d,controls:f,buildingData:h})}),Yr(()=>{const B=d.domElement;B.removeEventListener("click",T),B.removeEventListener("mousemove",A),window.removeEventListener("resize",P)}),(B,G)=>(W(),ue("div",_Ce,[fe("div",{ref_key:"canvasContainer",ref:n,class:"full-screen"},null,512)]))}},xCe=ll(wCe,[["__scopeId","data-v-cc839e63"]]),SCe={class:"panel-header"},MCe={class:"control-section"},ECe={class:"control-section"},CCe={class:"building-info"},TCe={class:"building-info"},ACe={__name:"SceneControls",setup(e){const t=y0();var n=re({scene:Object,camera:Object,controls:Object,renderer:Object,buildingData:Object});const r=re(!1),a=re("perspective"),o=re(!0),s=re(!0),u=re(!1),d=()=>{r.value=!r.value},f=async()=>{await t.dispatch("threejsMainView/exportToIFC")},h=()=>{n.camera.position.set(5,5,5),n.camera.lookAt(0,0,0),n.controls.reset()},v=x=>{switch(x){case"top":n.camera.position.set(0,10,0),n.camera.lookAt(0,0,0);break;case"front":n.camera.position.set(0,0,10),n.camera.lookAt(0,0,0);break;case"perspective":n.camera.position.set(5,5,5),n.camera.lookAt(0,0,0);break}},y=()=>{u.value=!u.value,n.scene.traverse(x=>{x instanceof Nn&&(x.material.wireframe=u.value)})},b=()=>{n.scene.traverse(x=>{x instanceof Vz&&(x.visible=o.value)})},w=()=>{n.scene.traverse(x=>{x instanceof Uz&&(x.visible=s.value)})},g=()=>{const x=n.renderer.domElement.toDataURL("image/png"),M=document.createElement("a");M.download="building-screenshot.png",M.href=x,M.click()};return Bn(()=>{n=y0().state.threejsMainView.mainViewData}),(x,M)=>{const R=Zt("el-icon"),A=Zt("el-button"),T=Zt("el-button-group"),P=Zt("el-radio-button"),I=Zt("el-radio-group"),E=Zt("el-switch"),D=Zt("el-descriptions-item"),N=Zt("el-descriptions"),B=Zt("el-card");return W(),ue("div",{class:J(["control-panel",{collapsed:r.value}])},[fe("div",{class:"panel-toggle",onClick:d},[ce(R,{size:20},{default:be(()=>[r.value?(W(),tt(R,{key:0},{default:be(()=>[ce(m(mc))]),_:1})):(W(),tt(R,{key:1},{default:be(()=>[ce(m(Eo))]),_:1}))]),_:1})]),kn(ce(B,null,{header:be(()=>[fe("div",SCe,[M[4]||(M[4]=fe("span",null,"",-1)),ce(T,null,{default:be(()=>[ce(A,{size:"small",onClick:h},{default:be(()=>[ce(R,null,{default:be(()=>[ce(m(s$))]),_:1})]),_:1}),ce(A,{size:"small",onClick:y},{default:be(()=>[ce(R,null,{default:be(()=>[ce(m(EO))]),_:1})]),_:1}),ce(A,{size:"small",onClick:g},{default:be(()=>[ce(R,null,{default:be(()=>[ce(m(d5))]),_:1})]),_:1})]),_:1})])]),default:be(()=>[fe("div",MCe,[M[8]||(M[8]=fe("h4",null,"",-1)),ce(I,{modelValue:a.value,"onUpdate:modelValue":M[0]||(M[0]=G=>a.value=G),onChange:M[1]||(M[1]=G=>v(a.value))},{default:be(()=>[ce(P,{label:"perspective"},{default:be(()=>M[5]||(M[5]=[Pn("")])),_:1}),ce(P,{label:"top"},{default:be(()=>M[6]||(M[6]=[Pn("")])),_:1}),ce(P,{label:"front"},{default:be(()=>M[7]||(M[7]=[Pn("")])),_:1})]),_:1},8,["modelValue"])]),fe("div",ECe,[M[9]||(M[9]=fe("h4",null,"",-1)),ce(E,{modelValue:o.value,"onUpdate:modelValue":M[2]||(M[2]=G=>o.value=G),onChange:b,"active-text":""},null,8,["modelValue"]),ce(E,{modelValue:s.value,"onUpdate:modelValue":M[3]||(M[3]=G=>s.value=G),onChange:w,"active-text":""},null,8,["modelValue"])]),fe("div",CCe,[ce(N,{column:1,border:""},{default:be(()=>[ce(D,{label:""},{default:be(()=>[Pn(Pt(m(t).state.threejsMainView.mainViewData.buildingData.area||0)+" m ",1)]),_:1}),ce(D,{label:""},{default:be(()=>[Pn(Pt(m(t).state.threejsMainView.mainViewData.buildingData.height||0)+" m ",1)]),_:1}),ce(D,{label:""},{default:be(()=>[Pn(Pt(m(t).state.threejsMainView.mainViewData.buildingData.far||0),1)]),_:1})]),_:1})]),fe("div",TCe,[ce(A,{type:"primary",onClick:f},{default:be(()=>[ce(R,{style:{"margin-right":"5px"}},{default:be(()=>[ce(m(I5))]),_:1}),M[10]||(M[10]=Pn(" Export Result IFC "))]),_:1})])]),_:1},512),[[_r,!r.value]])],2)}}},LCe=ll(ACe,[["__scopeId","data-v-6f6f9913"]]),RCe={class:"scene-viewer-container"},PCe={__name:"index",setup(e){const t=re(null);Bn(()=>{});const n=async()=>{var r;await((r=t.value)==null?void 0:r.exportToIFC())};return(r,a)=>(W(),ue("div",RCe,[ce(xCe,{ref_key:"sceneViewer",ref:t},null,512),ce(LCe,{onExportIfc:n})]))}},kCe=ll(PCe,[["__scopeId","data-v-74309c40"]]),ICe={id:"cesiumContainer",style:{width:"100%",height:"100%"}},qk="3d11fc44de47d8ea00f4da5803de0995",OCe={__name:"HongKongViewer",setup(e){var t=re({});t=new Cesium.WebMapTileServiceImageryProvider({url:"http://t0.tianditu.gov.cn/cia_c/wmts?tk=".concat(qk),layer:"cia",style:"default",format:"tiles",tileMatrixSetID:"w",subdomains:["0","1","2","3","4","5","6","7"],maximumLevel:18}),re({}),new Cesium.WebMapTileServiceImageryProvider({url:"http://t0.tianditu.gov.cn/img_c/wmts?tk=".concat(qk),layer:"img",style:"default",format:"tiles",tileMatrixSetID:"w",subdomains:["0","1","2","3","4","5","6","7"],maximumLevel:18});const n=re(null);Bn(()=>{Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0Mjk3ZTgyOS1mZDJiLTRlNTktOGViNS1lN2YzYWRmZDcxZDciLCJpZCI6Mjc4NTE0LCJpYXQiOjE3NDAzNjExMTl9.2o6StRE_D5qV4BZ5w8Kr0jDQLodBma4bZtL51UaJ1f0",n.value=new Cesium.Viewer("cesiumContainer",r()),n.value.imageryLayers.addImageryProvider(t),n.value.scene.globe.depthTestAgainstTerrain=!0});const r=()=>({infoBox:!0,selectionIndicator:!0,scene3DOnly:!0,timeline:!0,animation:!0,geocoder:!0,homeButton:!0,sceneModePicker:!1,baseLayerPicker:!0,navigationHelpButton:!0,fullscreenButton:!0});return(a,o)=>(W(),ue("div",ICe))}},DCe={class:"hk-viewer-container"},NCe={__name:"index",setup(e){return(t,n)=>(W(),ue("div",DCe,[ce(OCe)]))}},FCe=ll(NCe,[["__scopeId","data-v-dd885ea3"]]),BCe={components:{UserOperator:mz,SceneViewer:kCe,HongKongViewer:FCe},setup(){const e=re({});return{currentBuildingData:e,handlePlanSelected:n=>{console.log(n),e.value={...n,width:10,height:30,depth:10}}}}},zCe={class:"main-container"};function VCe(e,t,n,r,a,o){const s=Zt("UserOperator"),u=Zt("el-aside"),d=Zt("SceneViewer"),f=Zt("el-main"),h=Zt("HongKongViewer"),v=Zt("el-container");return W(),ue("div",zCe,[ce(v,null,{default:be(()=>[ce(u,{width:"400px",class:"operator-container"},{default:be(()=>[ce(s)]),_:1}),this.$store.state.cesium.isShow?(W(),tt(f,{key:1,class:"viewer-container",style:{height:"100%",width:"100%"}},{default:be(()=>[ce(h)]),_:1})):(W(),tt(f,{key:0,class:"viewer-container"},{default:be(()=>[ce(d,{"building-data":r.currentBuildingData},null,8,["building-data"])]),_:1}))]),_:1})])}const UCe=ll(BCe,[["render",VCe]]),HCe=[{path:"/mainview",name:"MainView",component:UCe},{path:"/userInput",component:mz}],$Ce=GG({history:bG(),routes:HCe}),GCe={namespaced:!0,state:()=>({mainViewData:{scene:{},camera:{},renderer:{},controls:{},buildingData:{}}}),getters:{getMainViewData(e){return e.mainViewData}},mutations:{updateMainViewData(e,t){e.mainViewData=t},updateMainViewBuildingData(e,t){e.mainViewData.buildingData=t},exportToIFC(e,t){console.log("export")}},actions:{exportToIFC({commit:e},t){console.log("export1")}}},WCe={namespaced:!0,state:()=>({isShow:!0}),getters:{},mutations:{updateShow(e,t){e.isShow=t}},actions:{}},jCe={},qCe={},KCe={},YCe={},Hz=U_e({state:jCe,getters:qCe,mutations:KCe,actions:YCe,modules:{threejsMainView:GCe,cesium:WCe}}),zm=wO(QW);zm.use(Hz);zm.use(Rye);zm.use($Ce);zm.config.globalProperties.$axios=ga;zm.config.globalProperties.$store=Hz;zm.mount("#app");export{XCe as __vite_legacy_guard};
