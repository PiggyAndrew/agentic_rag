const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./raw-DTCrsnwH.js","./basedecoder-laCz7dC9.js","./lzw-Dtfsdd-5.js","./jpeg-CDE96Qi0.js","./deflate-DgMDiqs6.js","./pako.esm-BD4xm73N.js","./packbits-BZuScxhq.js","./lerc-VAi92YdH.js","./webimage-C9qktcoi.js"])))=>i.map(i=>d[i]);
var H1e=Object.defineProperty;var G1e=(t,e,n)=>e in t?H1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pj=(t,e,n)=>G1e(t,typeof e!="symbol"?e+"":e,n);function d3t(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cz(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const yo={},uE=[],Os=()=>{},V1e=()=>!1,NN=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uz=t=>t.startsWith("onUpdate:"),Cc=Object.assign,hz=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},z1e=Object.prototype.hasOwnProperty,us=(t,e)=>z1e.call(t,e),an=Array.isArray,hE=t=>cL(t)==="[object Map]",DN=t=>cL(t)==="[object Set]",dy=t=>cL(t)==="[object Date]",Kn=t=>typeof t=="function",Qn=t=>typeof t=="string",yp=t=>typeof t=="symbol",qr=t=>t!==null&&typeof t=="object",rM=t=>(qr(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),Sse=Object.prototype.toString,cL=t=>Sse.call(t),$1e=t=>cL(t).slice(8,-1),iM=t=>cL(t)==="[object Object]",dz=t=>Qn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mT=cz(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kN=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Q1e=/-(\w)/g,$h=kN(t=>t.replace(Q1e,(e,n)=>n?n.toUpperCase():"")),W1e=/\B([A-Z])/g,Dv=kN(t=>t.replace(W1e,"-$1").toLowerCase()),uL=kN(t=>t.charAt(0).toUpperCase()+t.slice(1)),vT=kN(t=>t?"on".concat(uL(t)):""),ny=(t,e)=>!Object.is(t,e),MP=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cse=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},a8=t=>{const e=parseFloat(t);return isNaN(e)?t:e},j1e=t=>{const e=Qn(t)?Number(t):NaN;return isNaN(e)?t:e};let gj;const UN=()=>gj||(gj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xn(t){if(an(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Qn(r)?Y1e(r):Xn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Qn(t)||qr(t))return t}const K1e=/;(?![^(]*\))/g,q1e=/:([^]+)/,X1e=/\/\*[^]*?\*\//g;function Y1e(t){const e={};return t.replace(X1e,"").split(K1e).forEach(n=>{if(n){const r=n.split(q1e);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function de(t){let e="";if(Qn(t))e=t;else if(an(t))for(let n=0;n<t.length;n++){const r=de(t[n]);r&&(e+=r+" ")}else if(qr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function gf(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Qn(e)&&(t.class=de(e)),n&&(t.style=Xn(n)),t}const Z1e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J1e=cz(Z1e);function Tse(t){return!!t||t===""}function ewe(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=GE(t[r],e[r]);return n}function GE(t,e){if(t===e)return!0;let n=dy(t),r=dy(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=yp(t),r=yp(e),n||r)return t===e;if(n=an(t),r=an(e),n||r)return n&&r?ewe(t,e):!1;if(n=qr(t),r=qr(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!GE(t[a],e[a]))return!1}}return String(t)===String(e)}function Mse(t,e){return t.findIndex(n=>GE(n,e))}const Lse=t=>!!(t&&t.__v_isRef===!0),cn=t=>Qn(t)?t:t==null?"":an(t)||qr(t)&&(t.toString===Sse||!Kn(t.toString))?Lse(t)?cn(t.value):JSON.stringify(t,Bse,2):String(t),Bse=(t,e)=>Lse(e)?Bse(t,e.value):hE(e)?{["Map(".concat(e.size,")")]:[...e.entries()].reduce((n,[r,i],s)=>(n[aU(r,s)+" =>"]=i,n),{})}:DN(e)?{["Set(".concat(e.size,")")]:[...e.values()].map(n=>aU(n))}:yp(e)?aU(e):qr(e)&&!an(e)&&!iM(e)?String(e):e,aU=(t,e="")=>{var n;return yp(t)?"Symbol(".concat((n=t.description)!=null?n:e,")"):t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oh;class Rse{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oh,!e&&Oh&&(this.index=(Oh.scopes||(Oh.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Oh;try{return Oh=this,e()}finally{Oh=n}}}on(){Oh=this}off(){Oh=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function twe(t){return new Rse(t)}function Ise(){return Oh}function Pse(t,e=!1){Oh&&Oh.cleanups.push(t)}let Bo;const oU=new WeakSet;class Fse{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oh&&Oh.active&&Oh.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oU.has(this)&&(oU.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nse(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mj(this),Dse(this);const e=Bo,n=Ap;Bo=this,Ap=!0;try{return this.fn()}finally{kse(this),Bo=e,Ap=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pz(e);this.deps=this.depsTail=void 0,mj(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oU.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){o8(this)&&this.run()}get dirty(){return o8(this)}}let Ose=0,yT,_T;function Nse(t,e=!1){if(t.flags|=8,e){t.next=_T,_T=t;return}t.next=yT,yT=t}function fz(){Ose++}function Az(){if(--Ose>0)return;if(_T){let e=_T;for(_T=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;yT;){let e=yT;for(yT=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Dse(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function kse(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),pz(r),nwe(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function o8(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Use(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Use(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===sM))return;t.globalVersion=sM;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!o8(t)){t.flags&=-3;return}const n=Bo,r=Ap;Bo=t,Ap=!0;try{Dse(t);const i=t.fn(t._value);(e.version===0||ny(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Bo=n,Ap=r,kse(t),t.flags&=-3}}function pz(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)pz(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function nwe(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ap=!0;const Hse=[];function By(){Hse.push(Ap),Ap=!1}function Ry(){const t=Hse.pop();Ap=t===void 0?!0:t}function mj(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Bo;Bo=void 0;try{e()}finally{Bo=n}}}let sM=0,rwe=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class HN{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Bo||!Ap||Bo===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Bo)n=this.activeLink=new rwe(Bo,this),Bo.deps?(n.prevDep=Bo.depsTail,Bo.depsTail.nextDep=n,Bo.depsTail=n):Bo.deps=Bo.depsTail=n,Gse(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Bo.depsTail,n.nextDep=void 0,Bo.depsTail.nextDep=n,Bo.depsTail=n,Bo.deps===n&&(Bo.deps=r)}return n}trigger(e){this.version++,sM++,this.notify(e)}notify(e){fz();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Az()}}}function Gse(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Gse(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const UF=new WeakMap,w1=Symbol(""),l8=Symbol(""),aM=Symbol("");function Yu(t,e,n){if(Ap&&Bo){let r=UF.get(t);r||UF.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new HN),i.map=r,i.key=n),i.track()}}function ov(t,e,n,r,i,s){const a=UF.get(t);if(!a){sM++;return}const o=l=>{l&&l.trigger()};if(fz(),e==="clear")a.forEach(o);else{const l=an(t),u=l&&dz(n);if(l&&n==="length"){const h=Number(r);a.forEach((d,f)=>{(f==="length"||f===aM||!yp(f)&&f>=h)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(aM)),e){case"add":l?u&&o(a.get("length")):(o(a.get(w1)),hE(t)&&o(a.get(l8)));break;case"delete":l||(o(a.get(w1)),hE(t)&&o(a.get(l8)));break;case"set":hE(t)&&o(a.get(w1));break}}Az()}function iwe(t,e){const n=UF.get(t);return n&&n.get(e)}function Tb(t){const e=Ys(t);return e===t?e:(Yu(e,"iterate",aM),pA(t)?e:e.map(Zu))}function GN(t){return Yu(t=Ys(t),"iterate",aM),t}const swe={__proto__:null,[Symbol.iterator](){return lU(this,Symbol.iterator,Zu)},concat(...t){return Tb(this).concat(...t.map(e=>an(e)?Tb(e):e))},entries(){return lU(this,"entries",t=>(t[1]=Zu(t[1]),t))},every(t,e){return Hm(this,"every",t,e,void 0,arguments)},filter(t,e){return Hm(this,"filter",t,e,n=>n.map(Zu),arguments)},find(t,e){return Hm(this,"find",t,e,Zu,arguments)},findIndex(t,e){return Hm(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Hm(this,"findLast",t,e,Zu,arguments)},findLastIndex(t,e){return Hm(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Hm(this,"forEach",t,e,void 0,arguments)},includes(...t){return cU(this,"includes",t)},indexOf(...t){return cU(this,"indexOf",t)},join(t){return Tb(this).join(t)},lastIndexOf(...t){return cU(this,"lastIndexOf",t)},map(t,e){return Hm(this,"map",t,e,void 0,arguments)},pop(){return r2(this,"pop")},push(...t){return r2(this,"push",t)},reduce(t,...e){return vj(this,"reduce",t,e)},reduceRight(t,...e){return vj(this,"reduceRight",t,e)},shift(){return r2(this,"shift")},some(t,e){return Hm(this,"some",t,e,void 0,arguments)},splice(...t){return r2(this,"splice",t)},toReversed(){return Tb(this).toReversed()},toSorted(t){return Tb(this).toSorted(t)},toSpliced(...t){return Tb(this).toSpliced(...t)},unshift(...t){return r2(this,"unshift",t)},values(){return lU(this,"values",Zu)}};function lU(t,e,n){const r=GN(t),i=r[e]();return r!==t&&!pA(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const awe=Array.prototype;function Hm(t,e,n,r,i,s){const a=GN(t),o=a!==t&&!pA(t),l=a[e];if(l!==awe[e]){const d=l.apply(t,s);return o?Zu(d):d}let u=n;a!==t&&(o?u=function(d,f){return n.call(this,Zu(d),f,t)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,t)}));const h=l.call(a,u,r);return o&&i?i(h):h}function vj(t,e,n,r){const i=GN(t);let s=n;return i!==t&&(pA(t)?n.length>3&&(s=function(a,o,l){return n.call(this,a,o,l,t)}):s=function(a,o,l){return n.call(this,a,Zu(o),l,t)}),i[e](s,...r)}function cU(t,e,n){const r=Ys(t);Yu(r,"iterate",aM);const i=r[e](...n);return(i===-1||i===!1)&&yz(n[0])?(n[0]=Ys(n[0]),r[e](...n)):i}function r2(t,e,n=[]){By(),fz();const r=Ys(t)[e].apply(t,n);return Az(),Ry(),r}const owe=cz("__proto__,__v_isRef,__isVue"),Vse=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yp));function lwe(t){yp(t)||(t=String(t));const e=Ys(this);return Yu(e,"has",t),e.hasOwnProperty(t)}class zse{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?vwe:jse:s?Wse:Qse).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=an(e);if(!i){let l;if(a&&(l=swe[n]))return l;if(n==="hasOwnProperty")return lwe}const o=Reflect.get(e,n,ga(e)?e:r);return(yp(n)?Vse.has(n):owe(n))||(i||Yu(e,"get",n),s)?o:ga(o)?a&&dz(n)?o:o.value:qr(o)?i?FS(o):as(o):o}}class $se extends zse{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=G1(s);if(!pA(r)&&!G1(r)&&(s=Ys(s),r=Ys(r)),!an(e)&&ga(s)&&!ga(r))return l?!1:(s.value=r,!0)}const a=an(e)&&dz(n)?Number(n)<e.length:us(e,n),o=Reflect.set(e,n,r,ga(e)?e:i);return e===Ys(i)&&(a?ny(r,s)&&ov(e,"set",n,r):ov(e,"add",n,r)),o}deleteProperty(e,n){const r=us(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ov(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!yp(n)||!Vse.has(n))&&Yu(e,"has",n),r}ownKeys(e){return Yu(e,"iterate",an(e)?"length":w1),Reflect.ownKeys(e)}}class cwe extends zse{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const uwe=new $se,hwe=new cwe,dwe=new $se(!0);const c8=t=>t,oR=t=>Reflect.getPrototypeOf(t);function fwe(t,e,n){return function(...r){const i=this.__v_raw,s=Ys(i),a=hE(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),h=n?c8:e?u8:Zu;return!e&&Yu(s,"iterate",l?l8:w1),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function lR(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Awe(t,e){const n={get(i){const s=this.__v_raw,a=Ys(s),o=Ys(i);t||(ny(i,o)&&Yu(a,"get",i),Yu(a,"get",o));const{has:l}=oR(a),u=e?c8:t?u8:Zu;if(l.call(a,i))return u(s.get(i));if(l.call(a,o))return u(s.get(o));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Yu(Ys(i),"iterate",w1),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,a=Ys(s),o=Ys(i);return t||(ny(i,o)&&Yu(a,"has",i),Yu(a,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const a=this,o=a.__v_raw,l=Ys(o),u=e?c8:t?u8:Zu;return!t&&Yu(l,"iterate",w1),o.forEach((h,d)=>i.call(s,u(h),u(d),a))}};return Cc(n,t?{add:lR("add"),set:lR("set"),delete:lR("delete"),clear:lR("clear")}:{add(i){!e&&!pA(i)&&!G1(i)&&(i=Ys(i));const s=Ys(this);return oR(s).has.call(s,i)||(s.add(i),ov(s,"add",i,i)),this},set(i,s){!e&&!pA(s)&&!G1(s)&&(s=Ys(s));const a=Ys(this),{has:o,get:l}=oR(a);let u=o.call(a,i);u||(i=Ys(i),u=o.call(a,i));const h=l.call(a,i);return a.set(i,s),u?ny(s,h)&&ov(a,"set",i,s):ov(a,"add",i,s),this},delete(i){const s=Ys(this),{has:a,get:o}=oR(s);let l=a.call(s,i);l||(i=Ys(i),l=a.call(s,i)),o&&o.call(s,i);const u=s.delete(i);return l&&ov(s,"delete",i,void 0),u},clear(){const i=Ys(this),s=i.size!==0,a=i.clear();return s&&ov(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=fwe(i,t,e)}),n}function gz(t,e){const n=Awe(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(us(n,i)&&i in r?n:r,i,s)}const pwe={get:gz(!1,!1)},gwe={get:gz(!1,!0)},mwe={get:gz(!0,!1)};const Qse=new WeakMap,Wse=new WeakMap,jse=new WeakMap,vwe=new WeakMap;function ywe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _we(t){return t.__v_skip||!Object.isExtensible(t)?0:ywe($1e(t))}function as(t){return G1(t)?t:vz(t,!1,uwe,pwe,Qse)}function mz(t){return vz(t,!1,dwe,gwe,Wse)}function FS(t){return vz(t,!0,hwe,mwe,jse)}function vz(t,e,n,r,i){if(!qr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=_we(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function dE(t){return G1(t)?dE(t.__v_raw):!!(t&&t.__v_isReactive)}function G1(t){return!!(t&&t.__v_isReadonly)}function pA(t){return!!(t&&t.__v_isShallow)}function yz(t){return t?!!t.__v_raw:!1}function Ys(t){const e=t&&t.__v_raw;return e?Ys(e):t}function ry(t){return!us(t,"__v_skip")&&Object.isExtensible(t)&&Cse(t,"__v_skip",!0),t}const Zu=t=>qr(t)?as(t):t,u8=t=>qr(t)?FS(t):t;function ga(t){return t?t.__v_isRef===!0:!1}function ge(t){return Kse(t,!1)}function Cs(t){return Kse(t,!0)}function Kse(t,e){return ga(t)?t:new wwe(t,e)}class wwe{constructor(e,n){this.dep=new HN,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ys(e),this._value=n?e:Zu(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||pA(e)||G1(e);e=r?e:Ys(e),ny(e,n)&&(this._rawValue=e,this._value=r?e:Zu(e),this.dep.trigger())}}function b(t){return ga(t)?t.value:t}const bwe={get:(t,e,n)=>e==="__v_raw"?t:b(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ga(i)&&!ga(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function qse(t){return dE(t)?t:new Proxy(t,bwe)}class xwe{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new HN,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ewe(t){return new xwe(t)}function Yo(t){const e=an(t)?new Array(t.length):{};for(const n in t)e[n]=Xse(t,n);return e}class Swe{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return iwe(Ys(this._object),this._key)}}class Cwe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Is(t,e,n){return ga(t)?t:Kn(t)?new Cwe(t):qr(t)&&arguments.length>1?Xse(t,e,n):ge(t)}function Xse(t,e,n){const r=t[e];return ga(r)?r:new Swe(t,e,n)}class Twe{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new HN(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sM-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Bo!==this)return Nse(this,!0),!0}get value(){const e=this.dep.track();return Use(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Mwe(t,e,n=!1){let r,i;return Kn(t)?r=t:(r=t.get,i=t.set),new Twe(r,i,n)}const cR={},HF=new WeakMap;let Q_;function Lwe(t,e=!1,n=Q_){if(n){let r=HF.get(n);r||HF.set(n,r=[]),r.push(t)}}function Bwe(t,e,n=yo){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:o,call:l}=n,u=C=>i?C:pA(C)||i===!1||i===0?lv(C,1):lv(C);let h,d,f,A,m=!1,g=!1;if(ga(t)?(d=()=>t.value,m=pA(t)):dE(t)?(d=()=>u(t),m=!0):an(t)?(g=!0,m=t.some(C=>dE(C)||pA(C)),d=()=>t.map(C=>{if(ga(C))return C.value;if(dE(C))return u(C);if(Kn(C))return l?l(C,2):C()})):Kn(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){By();try{f()}finally{Ry()}}const C=Q_;Q_=h;try{return l?l(t,3,[A]):t(A)}finally{Q_=C}}:d=Os,e&&i){const C=d,M=i===!0?1/0:i;d=()=>lv(C(),M)}const y=Ise(),_=()=>{h.stop(),y&&y.active&&hz(y.effects,h)};if(s&&e){const C=e;e=(...M)=>{C(...M),_()}}let x=g?new Array(t.length).fill(cR):cR;const S=C=>{if(!(!(h.flags&1)||!h.dirty&&!C))if(e){const M=h.run();if(i||m||(g?M.some((B,E)=>ny(B,x[E])):ny(M,x))){f&&f();const B=Q_;Q_=h;try{const E=[M,x===cR?void 0:g&&x[0]===cR?[]:x,A];l?l(e,3,E):e(...E),x=M}finally{Q_=B}}}else h.run()};return o&&o(S),h=new Fse(d),h.scheduler=a?()=>a(S,!1):S,A=C=>Lwe(C,!1,h),f=h.onStop=()=>{const C=HF.get(h);if(C){if(l)l(C,4);else for(const M of C)M();HF.delete(h)}},e?r?S(!0):x=h.run():a?a(S.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function lv(t,e=1/0,n){if(e<=0||!qr(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ga(t))lv(t.value,e,n);else if(an(t))for(let r=0;r<t.length;r++)lv(t[r],e,n);else if(DN(t)||hE(t))t.forEach(r=>{lv(r,e,n)});else if(iM(t)){for(const r in t)lv(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&lv(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hL(t,e,n,r){try{return r?t(...r):t()}catch(i){VN(i,e,n)}}function _p(t,e,n,r){if(Kn(t)){const i=hL(t,e,n,r);return i&&rM(i)&&i.catch(s=>{VN(s,e,n)}),i}if(an(t)){const i=[];for(let s=0;s<t.length;s++)i.push(_p(t[s],e,n,r));return i}}function VN(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||yo;if(e){let o=e.parent;const l=e.proxy,u="https://vuejs.org/error-reference/#runtime-".concat(n);for(;o;){const h=o.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,u)===!1)return}o=o.parent}if(s){By(),hL(s,null,10,[t,l,u]),Ry();return}}Rwe(t,n,i,r,a)}function Rwe(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const kh=[];let Og=-1;const fE=[];let F0=null,xx=0;const Yse=Promise.resolve();let GF=null;function Zn(t){const e=GF||Yse;return t?e.then(this?t.bind(this):t):e}function Iwe(t){let e=Og+1,n=kh.length;for(;e<n;){const r=e+n>>>1,i=kh[r],s=oM(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function _z(t){if(!(t.flags&1)){const e=oM(t),n=kh[kh.length-1];!n||!(t.flags&2)&&e>=oM(n)?kh.push(t):kh.splice(Iwe(e),0,t),t.flags|=1,Zse()}}function Zse(){GF||(GF=Yse.then(eae))}function Pwe(t){an(t)?fE.push(...t):F0&&t.id===-1?F0.splice(xx+1,0,t):t.flags&1||(fE.push(t),t.flags|=1),Zse()}function yj(t,e,n=Og+1){for(;n<kh.length;n++){const r=kh[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;kh.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Jse(t){if(fE.length){const e=[...new Set(fE)].sort((n,r)=>oM(n)-oM(r));if(fE.length=0,F0){F0.push(...e);return}for(F0=e,xx=0;xx<F0.length;xx++){const n=F0[xx];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}F0=null,xx=0}}const oM=t=>t.id==null?t.flags&2?-1:1/0:t.id;function eae(t){try{for(Og=0;Og<kh.length;Og++){const e=kh[Og];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hL(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Og<kh.length;Og++){const e=kh[Og];e&&(e.flags&=-2)}Og=-1,kh.length=0,Jse(),GF=null,(kh.length||fE.length)&&eae()}}let qc=null,tae=null;function VF(t){const e=qc;return qc=t,tae=t&&t.type.__scopeId||null,e}function De(t,e=qc,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ij(-1);const s=VF(e);let a;try{a=t(...i)}finally{VF(s),r._d&&Ij(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Br(t,e){if(qc===null)return t;const n=jN(qc),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=yo]=e[i];s&&(Kn(s)&&(s={mounted:s,updated:s}),s.deep&&lv(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function S_(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(By(),_p(l,n,8,[t.el,o,t,e]),Ry())}}const nae=Symbol("_vte"),rae=t=>t.__isTeleport,wT=t=>t&&(t.disabled||t.disabled===""),_j=t=>t&&(t.defer||t.defer===""),wj=t=>typeof SVGElement<"u"&&t instanceof SVGElement,bj=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,h8=(t,e)=>{const n=t&&t.to;return Qn(n)?e?e(n):null:n},iae={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:h,pc:d,pbc:f,o:{insert:A,querySelector:m,createText:g,createComment:y}}=u,_=wT(e.props);let{shapeFlag:x,children:S,dynamicChildren:C}=e;if(t==null){const M=e.el=g(""),B=e.anchor=g("");A(M,n,r),A(B,n,r);const E=(I,k)=>{x&16&&(i&&i.isCE&&(i.ce._teleportTarget=I),h(S,I,k,i,s,a,o,l))},L=()=>{const I=e.target=h8(e.props,m),k=sae(I,e,g,A);I&&(a!=="svg"&&wj(I)?a="svg":a!=="mathml"&&bj(I)&&(a="mathml"),_||(E(I,k),LP(e,!1)))};_&&(E(n,B),LP(e,!0)),_j(e.props)?Rh(()=>{L(),e.el.__isMounted=!0},s):L()}else{if(_j(e.props)&&!t.el.__isMounted){Rh(()=>{iae.process(t,e,n,r,i,s,a,o,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,B=e.target=t.target,E=e.targetAnchor=t.targetAnchor,L=wT(t.props),I=L?n:B,k=L?M:E;if(a==="svg"||wj(B)?a="svg":(a==="mathml"||bj(B))&&(a="mathml"),C?(f(t.dynamicChildren,C,I,i,s,a,o),Cz(t,e,!0)):l||d(t,e,I,k,i,s,a,o,!1),_)L?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):uR(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const O=e.target=h8(e.props,m);O&&uR(e,O,null,u,0)}else L&&uR(e,B,E,u,1);LP(e,_)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:h,target:d,props:f}=t;if(d&&(i(u),i(h)),s&&i(l),a&16){const A=s||!wT(f);for(let m=0;m<o.length;m++){const g=o[m];r(g,e,n,A,!!g.dynamicChildren)}}},move:uR,hydrate:Fwe};function uR(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:h}=t,d=s===2;if(d&&r(a,e,n),(!d||wT(h))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(o,e,n)}function Fwe(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:h}},d){const f=e.target=h8(e.props,l);if(f){const A=wT(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(A)e.anchor=d(a(t),e,o(t),n,r,i,s),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||sae(f,e,h,u),d(m&&a(m),e,f,n,r,i,s)}LP(e,A)}return e.anchor&&a(e.anchor)}const Owe=iae;function LP(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function sae(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[nae]=s,t&&(r(i,t),r(s,t)),s}const O0=Symbol("_leaveCb"),hR=Symbol("_enterCb");function aae(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rr(()=>{t.isMounted=!0}),Hs(()=>{t.isUnmounting=!0}),t}const qf=[Function,Array],oae={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qf,onEnter:qf,onAfterEnter:qf,onEnterCancelled:qf,onBeforeLeave:qf,onLeave:qf,onAfterLeave:qf,onLeaveCancelled:qf,onBeforeAppear:qf,onAppear:qf,onAfterAppear:qf,onAppearCancelled:qf},lae=t=>{const e=t.subTree;return e.component?lae(e.component):e},Nwe={name:"BaseTransition",props:oae,setup(t,{slots:e}){const n=ni(),r=aae();return()=>{const i=e.default&&wz(e.default(),!0);if(!i||!i.length)return;const s=cae(i),a=Ys(t),{mode:o}=a;if(r.isLeaving)return uU(s);const l=xj(s);if(!l)return uU(s);let u=lM(l,a,r,n,d=>u=d);l.type!==xc&&V1(l,u);let h=n.subTree&&xj(n.subTree);if(h&&h.type!==xc&&!Y_(l,h)&&lae(n).type!==xc){let d=lM(h,a,r,n);if(V1(h,d),o==="out-in"&&l.type!==xc)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},uU(s);o==="in-out"&&l.type!==xc?d.delayLeave=(f,A,m)=>{const g=uae(r,h);g[String(h.key)]=h,f[O0]=()=>{A(),f[O0]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return s}}};function cae(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==xc){e=n;break}}return e}const Dwe=Nwe;function uae(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function lM(t,e,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:A,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:_,onAfterAppear:x,onAppearCancelled:S}=e,C=String(t.key),M=uae(n,t),B=(I,k)=>{I&&_p(I,r,9,k)},E=(I,k)=>{const O=k[1];B(I,k),an(I)?I.every(F=>F.length<=1)&&O():I.length<=1&&O()},L={mode:a,persisted:o,beforeEnter(I){let k=l;if(!n.isMounted)if(s)k=y||l;else return;I[O0]&&I[O0](!0);const O=M[C];O&&Y_(t,O)&&O.el[O0]&&O.el[O0](),B(k,[I])},enter(I){let k=u,O=h,F=d;if(!n.isMounted)if(s)k=_||u,O=x||h,F=S||d;else return;let U=!1;const $=I[hR]=K=>{U||(U=!0,K?B(F,[I]):B(O,[I]),L.delayedLeave&&L.delayedLeave(),I[hR]=void 0)};k?E(k,[I,$]):$()},leave(I,k){const O=String(t.key);if(I[hR]&&I[hR](!0),n.isUnmounting)return k();B(f,[I]);let F=!1;const U=I[O0]=$=>{F||(F=!0,k(),$?B(g,[I]):B(m,[I]),I[O0]=void 0,M[O]===t&&delete M[O])};M[O]=t,A?E(A,[I,U]):U()},clone(I){const k=lM(I,e,n,r,i);return i&&i(k),k}};return L}function uU(t){if(zN(t))return t=xv(t),t.children=null,t}function xj(t){if(!zN(t))return rae(t.type)&&t.children?cae(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Kn(n.default))return n.default()}}function V1(t,e){t.shapeFlag&6&&t.component?(t.transition=e,V1(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wz(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Wn?(a.patchFlag&128&&i++,r=r.concat(wz(a.children,e,o))):(e||a.type!==xc)&&r.push(o!=null?xv(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Me(t,e){return Kn(t)?Cc({name:t.name},e,{setup:t}):t}function hae(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function zF(t,e,n,r,i=!1){if(an(t)){t.forEach((m,g)=>zF(m,e&&(an(e)?e[g]:e),n,r,i));return}if(AE(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&zF(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?jN(r.component):r.el,a=i?null:s,{i:o,r:l}=t,u=e&&e.r,h=o.refs===yo?o.refs={}:o.refs,d=o.setupState,f=Ys(d),A=d===yo?()=>!1:m=>us(f,m);if(u!=null&&u!==l&&(Qn(u)?(h[u]=null,A(u)&&(d[u]=null)):ga(u)&&(u.value=null)),Kn(l))hL(l,o,12,[a,h]);else{const m=Qn(l),g=ga(l);if(m||g){const y=()=>{if(t.f){const _=m?A(l)?d[l]:h[l]:l.value;i?an(_)&&hz(_,s):an(_)?_.includes(s)||_.push(s):m?(h[l]=[s],A(l)&&(d[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else m?(h[l]=a,A(l)&&(d[l]=a)):g&&(l.value=a,t.k&&(h[t.k]=a))};a?(y.id=-1,Rh(y,n)):y()}}}UN().requestIdleCallback;UN().cancelIdleCallback;const AE=t=>!!t.type.__asyncLoader,zN=t=>t.type.__isKeepAlive;function bz(t,e){fae(t,"a",e)}function dae(t,e){fae(t,"da",e)}function fae(t,e,n=yu){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if($N(e,r,n),n){let i=n.parent;for(;i&&i.parent;)zN(i.parent.vnode)&&kwe(r,e,n,i),i=i.parent}}function kwe(t,e,n,r){const i=$N(e,t,r,!0);ca(()=>{hz(r[e],i)},n)}function $N(t,e,n=yu,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{By();const o=fL(n),l=_p(e,n,t,a);return o(),Ry(),l});return r?i.unshift(s):i.push(s),s}}const kv=t=>(e,n=yu)=>{(!uM||t==="sp")&&$N(t,(...r)=>e(...r),n)},QN=kv("bm"),rr=kv("m"),Aae=kv("bu"),Bp=kv("u"),Hs=kv("bum"),ca=kv("um"),Uwe=kv("sp"),Hwe=kv("rtg"),Gwe=kv("rtc");function Vwe(t,e=yu){$N("ec",t,e)}const xz="components",zwe="directives";function Nn(t,e){return Ez(xz,t,!0,e)||t}const pae=Symbol.for("v-ndc");function li(t){return Qn(t)?Ez(xz,t,!1)||t:t||pae}function dL(t){return Ez(zwe,t)}function Ez(t,e,n=!0,r=!1){const i=qc||yu;if(i){const s=i.type;if(t===xz){const o=Tbe(s,!1);if(o&&(o===e||o===$h(e)||o===uL($h(e))))return s}const a=Ej(i[t]||s[t],e)||Ej(i.appContext[t],e);return!a&&r?s:a}}function Ej(t,e){return t&&(t[e]||t[$h(e)]||t[uL($h(e))])}function wi(t,e,n,r){let i;const s=n,a=an(t);if(a||Qn(t)){const o=a&&dE(t);let l=!1;o&&(l=!pA(t),t=GN(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(l?Zu(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(qr(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const h=o[l];i[l]=e(t[h],h,l,s)}}else i=[];return i}function Lf(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(an(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function tt(t,e,n={},r,i){if(qc.ce||qc.parent&&AE(qc.parent)&&qc.parent.ce)return e!=="default"&&(n.name=e),ie(),St(Wn,null,[Ce("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),ie();const a=s&&gae(s(n)),o=n.key||a&&a.key,l=St(Wn,{key:(o&&!yp(o)?o:"_".concat(e))+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function gae(t){return t.some(e=>ka(e)?!(e.type===xc||e.type===Wn&&!gae(e.children)):!0)?t:null}function $we(t,e){const n={};for(const r in t)n[vT(r)]=t[r];return n}const d8=t=>t?Nae(t)?jN(t):d8(t.parent):null,bT=Cc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>d8(t.parent),$root:t=>d8(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>yae(t),$forceUpdate:t=>t.f||(t.f=()=>{_z(t.update)}),$nextTick:t=>t.n||(t.n=Zn.bind(t.proxy)),$watch:t=>hbe.bind(t)}),hU=(t,e)=>t!==yo&&!t.__isScriptSetup&&us(t,e),Qwe={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const A=a[e];if(A!==void 0)switch(A){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(hU(r,e))return a[e]=1,r[e];if(i!==yo&&us(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&us(u,e))return a[e]=3,s[e];if(n!==yo&&us(n,e))return a[e]=4,n[e];A8&&(a[e]=0)}}const h=bT[e];let d,f;if(h)return e==="$attrs"&&Yu(t.attrs,"get",""),h(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==yo&&us(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,us(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return hU(i,e)?(i[e]=n,!0):r!==yo&&us(r,e)?(r[e]=n,!0):us(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==yo&&us(t,a)||hU(e,a)||(o=s[0])&&us(o,a)||us(r,a)||us(bT,a)||us(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:us(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Cl(){return mae().slots}function Ya(){return mae().attrs}function mae(){const t=ni();return t.setupContext||(t.setupContext=kae(t))}function f8(t){return an(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Xh(t,e){const n=f8(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?an(i)||Kn(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e["__skip_".concat(r)]&&(i.skipFactory=!0)}return n}let A8=!0;function Wwe(t){const e=yae(t),n=t.proxy,r=t.ctx;A8=!1,e.beforeCreate&&Sj(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:h,beforeMount:d,mounted:f,beforeUpdate:A,updated:m,activated:g,deactivated:y,beforeDestroy:_,beforeUnmount:x,destroyed:S,unmounted:C,render:M,renderTracked:B,renderTriggered:E,errorCaptured:L,serverPrefetch:I,expose:k,inheritAttrs:O,components:F,directives:U,filters:$}=e;if(u&&jwe(u,r,null),a)for(const Q in a){const X=a[Q];Kn(X)&&(r[Q]=X.bind(n))}if(i){const Q=i.call(n,n);qr(Q)&&(t.data=as(Q))}if(A8=!0,s)for(const Q in s){const X=s[Q],z=Kn(X)?X.bind(n,n):Kn(X.get)?X.get.bind(n,n):Os,ne=!Kn(X)&&Kn(X.set)?X.set.bind(n):Os,he=J({get:z,set:ne});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>he.value,set:W=>he.value=W})}if(o)for(const Q in o)vae(o[Q],r,n,Q);if(l){const Q=Kn(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(X=>{dr(X,Q[X])})}h&&Sj(h,t,"c");function V(Q,X){an(X)?X.forEach(z=>Q(z.bind(n))):X&&Q(X.bind(n))}if(V(QN,d),V(rr,f),V(Aae,A),V(Bp,m),V(bz,g),V(dae,y),V(Vwe,L),V(Gwe,B),V(Hwe,E),V(Hs,x),V(ca,C),V(Uwe,I),an(k))if(k.length){const Q=t.exposed||(t.exposed={});k.forEach(X=>{Object.defineProperty(Q,X,{get:()=>n[X],set:z=>n[X]=z})})}else t.exposed||(t.exposed={});M&&t.render===Os&&(t.render=M),O!=null&&(t.inheritAttrs=O),F&&(t.components=F),U&&(t.directives=U),I&&hae(t)}function jwe(t,e,n=Os){an(t)&&(t=p8(t));for(const r in t){const i=t[r];let s;qr(i)?"default"in i?s=qt(i.from||r,i.default,!0):s=qt(i.from||r):s=qt(i),ga(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function Sj(t,e,n){_p(an(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vae(t,e,n,r){let i=r.includes(".")?Rae(n,r):()=>n[r];if(Qn(t)){const s=e[t];Kn(s)&&Ct(i,s)}else if(Kn(t))Ct(i,t.bind(n));else if(qr(t))if(an(t))t.forEach(s=>vae(s,e,n,r));else{const s=Kn(t.handler)?t.handler.bind(n):e[t.handler];Kn(s)&&Ct(i,s,t)}}function yae(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>$F(l,u,a,!0)),$F(l,e,a)),qr(e)&&s.set(e,l),l}function $F(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&$F(t,s,n,!0),i&&i.forEach(a=>$F(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=Kwe[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Kwe={data:Cj,props:Tj,emits:Tj,methods:$2,computed:$2,beforeCreate:Lh,created:Lh,beforeMount:Lh,mounted:Lh,beforeUpdate:Lh,updated:Lh,beforeDestroy:Lh,beforeUnmount:Lh,destroyed:Lh,unmounted:Lh,activated:Lh,deactivated:Lh,errorCaptured:Lh,serverPrefetch:Lh,components:$2,directives:$2,watch:Xwe,provide:Cj,inject:qwe};function Cj(t,e){return e?t?function(){return Cc(Kn(t)?t.call(this,this):t,Kn(e)?e.call(this,this):e)}:e:t}function qwe(t,e){return $2(p8(t),p8(e))}function p8(t){if(an(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Lh(t,e){return t?[...new Set([].concat(t,e))]:e}function $2(t,e){return t?Cc(Object.create(null),t,e):e}function Tj(t,e){return t?an(t)&&an(e)?[...new Set([...t,...e])]:Cc(Object.create(null),f8(t),f8(e!=null?e:{})):e}function Xwe(t,e){if(!t)return e;if(!e)return t;const n=Cc(Object.create(null),t);for(const r in e)n[r]=Lh(t[r],e[r]);return n}function _ae(){return{app:null,config:{isNativeTag:V1e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ywe=0;function Zwe(t,e){return function(r,i=null){Kn(r)||(r=Cc({},r)),i!=null&&!qr(i)&&(i=null);const s=_ae(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:Ywe++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Lbe,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&Kn(h.install)?(a.add(h),h.install(u,...d)):Kn(h)&&(a.add(h),h(u,...d))),u},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),u},component(h,d){return d?(s.components[h]=d,u):s.components[h]},directive(h,d){return d?(s.directives[h]=d,u):s.directives[h]},mount(h,d,f){if(!l){const A=u._ceVNode||Ce(r,i);return A.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),t(A,h,f),l=!0,u._container=h,h.__vue_app__=u,jN(A.component)}},onUnmount(h){o.push(h)},unmount(){l&&(_p(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,d){return s.provides[h]=d,u},runWithContext(h){const d=pE;pE=u;try{return h()}finally{pE=d}}};return u}}let pE=null;function dr(t,e){if(yu){let n=yu.provides;const r=yu.parent&&yu.parent.provides;r===n&&(n=yu.provides=Object.create(r)),n[t]=e}}function qt(t,e,n=!1){const r=yu||qc;if(r||pE){const i=pE?pE._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Kn(e)?e.call(r&&r.proxy):e}}const wae={},bae=()=>Object.create(wae),xae=t=>Object.getPrototypeOf(t)===wae;function Jwe(t,e,n,r=!1){const i={},s=bae();t.propsDefaults=Object.create(null),Eae(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:mz(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function ebe(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Ys(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(WN(t.emitsOptions,f))continue;const A=e[f];if(l)if(us(s,f))A!==s[f]&&(s[f]=A,u=!0);else{const m=$h(f);i[m]=g8(l,o,m,A,t,!1)}else A!==s[f]&&(s[f]=A,u=!0)}}}else{Eae(t,e,i,s)&&(u=!0);let h;for(const d in o)(!e||!us(e,d)&&((h=Dv(d))===d||!us(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(i[d]=g8(l,o,d,void 0,t,!0)):delete i[d]);if(s!==o)for(const d in s)(!e||!us(e,d))&&(delete s[d],u=!0)}u&&ov(t.attrs,"set","")}function Eae(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(mT(l))continue;const u=e[l];let h;i&&us(i,h=$h(l))?!s||!s.includes(h)?n[h]=u:(o||(o={}))[h]=u:WN(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=Ys(n),u=o||yo;for(let h=0;h<s.length;h++){const d=s[h];n[d]=g8(i,l,d,u[d],t,!us(u,d))}}return a}function g8(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=us(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Kn(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const h=fL(i);r=u[n]=l.call(null,e),h()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Dv(n))&&(r=!0))}return r}const tbe=new WeakMap;function Sae(t,e,n=!1){const r=n?tbe:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!Kn(t)){const h=d=>{l=!0;const[f,A]=Sae(d,e,!0);Cc(a,f),A&&o.push(...A)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return qr(t)&&r.set(t,uE),uE;if(an(s))for(let h=0;h<s.length;h++){const d=$h(s[h]);Mj(d)&&(a[d]=yo)}else if(s)for(const h in s){const d=$h(h);if(Mj(d)){const f=s[h],A=a[d]=an(f)||Kn(f)?{type:f}:Cc({},f),m=A.type;let g=!1,y=!0;if(an(m))for(let _=0;_<m.length;++_){const x=m[_],S=Kn(x)&&x.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(y=!1)}else g=Kn(m)&&m.name==="Boolean";A[0]=g,A[1]=y,(g||us(A,"default"))&&o.push(d)}}const u=[a,o];return qr(t)&&r.set(t,u),u}function Mj(t){return t[0]!=="$"&&!mT(t)}const Cae=t=>t[0]==="_"||t==="$stable",Sz=t=>an(t)?t.map(Hg):[Hg(t)],nbe=(t,e,n)=>{if(e._n)return e;const r=De((...i)=>Sz(e(...i)),n);return r._c=!1,r},Tae=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Cae(i))continue;const s=t[i];if(Kn(s))e[i]=nbe(i,s,r);else if(s!=null){const a=Sz(s);e[i]=()=>a}}},Mae=(t,e)=>{const n=Sz(e);t.slots.default=()=>n},Lae=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},rbe=(t,e,n)=>{const r=t.slots=bae();if(t.vnode.shapeFlag&32){const i=e._;i?(Lae(r,e,n),n&&Cse(r,"_",i,!0)):Tae(e,r)}else e&&Mae(t,e)},ibe=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=yo;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:Lae(i,e,n):(s=!e.$stable,Tae(e,i)),a=e}else e&&(Mae(t,e),a={default:1});if(s)for(const o in i)!Cae(o)&&a[o]==null&&delete i[o]},Rh=vbe;function sbe(t){return abe(t)}function abe(t,e){const n=UN();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:f,setScopeId:A=Os,insertStaticContent:m}=t,g=(ue,ye,$e,Ve=null,Se=null,at=null,ft=void 0,je=null,gt=!!ye.dynamicChildren)=>{if(ue===ye)return;ue&&!Y_(ue,ye)&&(Ve=ce(ue),W(ue,Se,at,!0),ue=null),ye.patchFlag===-2&&(gt=!1,ye.dynamicChildren=null);const{type:vt,ref:Te,shapeFlag:we}=ye;switch(vt){case OS:y(ue,ye,$e,Ve);break;case xc:_(ue,ye,$e,Ve);break;case fU:ue==null&&x(ye,$e,Ve,ft);break;case Wn:F(ue,ye,$e,Ve,Se,at,ft,je,gt);break;default:we&1?M(ue,ye,$e,Ve,Se,at,ft,je,gt):we&6?U(ue,ye,$e,Ve,Se,at,ft,je,gt):(we&64||we&128)&&vt.process(ue,ye,$e,Ve,Se,at,ft,je,gt,Ie)}Te!=null&&Se&&zF(Te,ue&&ue.ref,at,ye||ue,!ye)},y=(ue,ye,$e,Ve)=>{if(ue==null)r(ye.el=o(ye.children),$e,Ve);else{const Se=ye.el=ue.el;ye.children!==ue.children&&u(Se,ye.children)}},_=(ue,ye,$e,Ve)=>{ue==null?r(ye.el=l(ye.children||""),$e,Ve):ye.el=ue.el},x=(ue,ye,$e,Ve)=>{[ue.el,ue.anchor]=m(ue.children,ye,$e,Ve,ue.el,ue.anchor)},S=({el:ue,anchor:ye},$e,Ve)=>{let Se;for(;ue&&ue!==ye;)Se=f(ue),r(ue,$e,Ve),ue=Se;r(ye,$e,Ve)},C=({el:ue,anchor:ye})=>{let $e;for(;ue&&ue!==ye;)$e=f(ue),i(ue),ue=$e;i(ye)},M=(ue,ye,$e,Ve,Se,at,ft,je,gt)=>{ye.type==="svg"?ft="svg":ye.type==="math"&&(ft="mathml"),ue==null?B(ye,$e,Ve,Se,at,ft,je,gt):I(ue,ye,Se,at,ft,je,gt)},B=(ue,ye,$e,Ve,Se,at,ft,je)=>{let gt,vt;const{props:Te,shapeFlag:we,transition:Ne,dirs:Ze}=ue;if(gt=ue.el=a(ue.type,at,Te&&Te.is,Te),we&8?h(gt,ue.children):we&16&&L(ue.children,gt,null,Ve,Se,dU(ue,at),ft,je),Ze&&S_(ue,null,Ve,"created"),E(gt,ue,ue.scopeId,ft,Ve),Te){for(const Zt in Te)Zt!=="value"&&!mT(Zt)&&s(gt,Zt,null,Te[Zt],at,Ve);"value"in Te&&s(gt,"value",null,Te.value,at),(vt=Te.onVnodeBeforeMount)&&_g(vt,Ve,ue)}Ze&&S_(ue,null,Ve,"beforeMount");const Tt=obe(Se,Ne);Tt&&Ne.beforeEnter(gt),r(gt,ye,$e),((vt=Te&&Te.onVnodeMounted)||Tt||Ze)&&Rh(()=>{vt&&_g(vt,Ve,ue),Tt&&Ne.enter(gt),Ze&&S_(ue,null,Ve,"mounted")},Se)},E=(ue,ye,$e,Ve,Se)=>{if($e&&A(ue,$e),Ve)for(let at=0;at<Ve.length;at++)A(ue,Ve[at]);if(Se){let at=Se.subTree;if(ye===at||Pae(at.type)&&(at.ssContent===ye||at.ssFallback===ye)){const ft=Se.vnode;E(ue,ft,ft.scopeId,ft.slotScopeIds,Se.parent)}}},L=(ue,ye,$e,Ve,Se,at,ft,je,gt=0)=>{for(let vt=gt;vt<ue.length;vt++){const Te=ue[vt]=je?N0(ue[vt]):Hg(ue[vt]);g(null,Te,ye,$e,Ve,Se,at,ft,je)}},I=(ue,ye,$e,Ve,Se,at,ft)=>{const je=ye.el=ue.el;let{patchFlag:gt,dynamicChildren:vt,dirs:Te}=ye;gt|=ue.patchFlag&16;const we=ue.props||yo,Ne=ye.props||yo;let Ze;if($e&&C_($e,!1),(Ze=Ne.onVnodeBeforeUpdate)&&_g(Ze,$e,ye,ue),Te&&S_(ye,ue,$e,"beforeUpdate"),$e&&C_($e,!0),(we.innerHTML&&Ne.innerHTML==null||we.textContent&&Ne.textContent==null)&&h(je,""),vt?k(ue.dynamicChildren,vt,je,$e,Ve,dU(ye,Se),at):ft||X(ue,ye,je,null,$e,Ve,dU(ye,Se),at,!1),gt>0){if(gt&16)O(je,we,Ne,$e,Se);else if(gt&2&&we.class!==Ne.class&&s(je,"class",null,Ne.class,Se),gt&4&&s(je,"style",we.style,Ne.style,Se),gt&8){const Tt=ye.dynamicProps;for(let Zt=0;Zt<Tt.length;Zt++){const ln=Tt[Zt],Ye=we[ln],yt=Ne[ln];(yt!==Ye||ln==="value")&&s(je,ln,Ye,yt,Se,$e)}}gt&1&&ue.children!==ye.children&&h(je,ye.children)}else!ft&&vt==null&&O(je,we,Ne,$e,Se);((Ze=Ne.onVnodeUpdated)||Te)&&Rh(()=>{Ze&&_g(Ze,$e,ye,ue),Te&&S_(ye,ue,$e,"updated")},Ve)},k=(ue,ye,$e,Ve,Se,at,ft)=>{for(let je=0;je<ye.length;je++){const gt=ue[je],vt=ye[je],Te=gt.el&&(gt.type===Wn||!Y_(gt,vt)||gt.shapeFlag&70)?d(gt.el):$e;g(gt,vt,Te,null,Ve,Se,at,ft,!0)}},O=(ue,ye,$e,Ve,Se)=>{if(ye!==$e){if(ye!==yo)for(const at in ye)!mT(at)&&!(at in $e)&&s(ue,at,ye[at],null,Se,Ve);for(const at in $e){if(mT(at))continue;const ft=$e[at],je=ye[at];ft!==je&&at!=="value"&&s(ue,at,je,ft,Se,Ve)}"value"in $e&&s(ue,"value",ye.value,$e.value,Se)}},F=(ue,ye,$e,Ve,Se,at,ft,je,gt)=>{const vt=ye.el=ue?ue.el:o(""),Te=ye.anchor=ue?ue.anchor:o("");let{patchFlag:we,dynamicChildren:Ne,slotScopeIds:Ze}=ye;Ze&&(je=je?je.concat(Ze):Ze),ue==null?(r(vt,$e,Ve),r(Te,$e,Ve),L(ye.children||[],$e,Te,Se,at,ft,je,gt)):we>0&&we&64&&Ne&&ue.dynamicChildren?(k(ue.dynamicChildren,Ne,$e,Se,at,ft,je),(ye.key!=null||Se&&ye===Se.subTree)&&Cz(ue,ye,!0)):X(ue,ye,$e,Te,Se,at,ft,je,gt)},U=(ue,ye,$e,Ve,Se,at,ft,je,gt)=>{ye.slotScopeIds=je,ue==null?ye.shapeFlag&512?Se.ctx.activate(ye,$e,Ve,ft,gt):$(ye,$e,Ve,Se,at,ft,gt):K(ue,ye,gt)},$=(ue,ye,$e,Ve,Se,at,ft)=>{const je=ue.component=xbe(ue,Ve,Se);if(zN(ue)&&(je.ctx.renderer=Ie),Ebe(je,!1,ft),je.asyncDep){if(Se&&Se.registerDep(je,V,ft),!ue.el){const gt=je.subTree=Ce(xc);_(null,gt,ye,$e)}}else V(je,ue,ye,$e,Se,at,ft)},K=(ue,ye,$e)=>{const Ve=ye.component=ue.component;if(gbe(ue,ye,$e))if(Ve.asyncDep&&!Ve.asyncResolved){Q(Ve,ye,$e);return}else Ve.next=ye,Ve.update();else ye.el=ue.el,Ve.vnode=ye},V=(ue,ye,$e,Ve,Se,at,ft)=>{const je=()=>{if(ue.isMounted){let{next:we,bu:Ne,u:Ze,parent:Tt,vnode:Zt}=ue;{const Dt=Bae(ue);if(Dt){we&&(we.el=Zt.el,Q(ue,we,ft)),Dt.asyncDep.then(()=>{ue.isUnmounted||je()});return}}let ln=we,Ye;C_(ue,!1),we?(we.el=Zt.el,Q(ue,we,ft)):we=Zt,Ne&&MP(Ne),(Ye=we.props&&we.props.onVnodeBeforeUpdate)&&_g(Ye,Tt,we,Zt),C_(ue,!0);const yt=Bj(ue),Qt=ue.subTree;ue.subTree=yt,g(Qt,yt,d(Qt.el),ce(Qt),ue,Se,at),we.el=yt.el,ln===null&&mbe(ue,yt.el),Ze&&Rh(Ze,Se),(Ye=we.props&&we.props.onVnodeUpdated)&&Rh(()=>_g(Ye,Tt,we,Zt),Se)}else{let we;const{el:Ne,props:Ze}=ye,{bm:Tt,m:Zt,parent:ln,root:Ye,type:yt}=ue,Qt=AE(ye);C_(ue,!1),Tt&&MP(Tt),!Qt&&(we=Ze&&Ze.onVnodeBeforeMount)&&_g(we,ln,ye),C_(ue,!0);{Ye.ce&&Ye.ce._injectChildStyle(yt);const Dt=ue.subTree=Bj(ue);g(null,Dt,$e,Ve,ue,Se,at),ye.el=Dt.el}if(Zt&&Rh(Zt,Se),!Qt&&(we=Ze&&Ze.onVnodeMounted)){const Dt=ye;Rh(()=>_g(we,ln,Dt),Se)}(ye.shapeFlag&256||ln&&AE(ln.vnode)&&ln.vnode.shapeFlag&256)&&ue.a&&Rh(ue.a,Se),ue.isMounted=!0,ye=$e=Ve=null}};ue.scope.on();const gt=ue.effect=new Fse(je);ue.scope.off();const vt=ue.update=gt.run.bind(gt),Te=ue.job=gt.runIfDirty.bind(gt);Te.i=ue,Te.id=ue.uid,gt.scheduler=()=>_z(Te),C_(ue,!0),vt()},Q=(ue,ye,$e)=>{ye.component=ue;const Ve=ue.vnode.props;ue.vnode=ye,ue.next=null,ebe(ue,ye.props,Ve,$e),ibe(ue,ye.children,$e),By(),yj(ue),Ry()},X=(ue,ye,$e,Ve,Se,at,ft,je,gt=!1)=>{const vt=ue&&ue.children,Te=ue?ue.shapeFlag:0,we=ye.children,{patchFlag:Ne,shapeFlag:Ze}=ye;if(Ne>0){if(Ne&128){ne(vt,we,$e,Ve,Se,at,ft,je,gt);return}else if(Ne&256){z(vt,we,$e,Ve,Se,at,ft,je,gt);return}}Ze&8?(Te&16&&me(vt,Se,at),we!==vt&&h($e,we)):Te&16?Ze&16?ne(vt,we,$e,Ve,Se,at,ft,je,gt):me(vt,Se,at,!0):(Te&8&&h($e,""),Ze&16&&L(we,$e,Ve,Se,at,ft,je,gt))},z=(ue,ye,$e,Ve,Se,at,ft,je,gt)=>{ue=ue||uE,ye=ye||uE;const vt=ue.length,Te=ye.length,we=Math.min(vt,Te);let Ne;for(Ne=0;Ne<we;Ne++){const Ze=ye[Ne]=gt?N0(ye[Ne]):Hg(ye[Ne]);g(ue[Ne],Ze,$e,null,Se,at,ft,je,gt)}vt>Te?me(ue,Se,at,!0,!1,we):L(ye,$e,Ve,Se,at,ft,je,gt,we)},ne=(ue,ye,$e,Ve,Se,at,ft,je,gt)=>{let vt=0;const Te=ye.length;let we=ue.length-1,Ne=Te-1;for(;vt<=we&&vt<=Ne;){const Ze=ue[vt],Tt=ye[vt]=gt?N0(ye[vt]):Hg(ye[vt]);if(Y_(Ze,Tt))g(Ze,Tt,$e,null,Se,at,ft,je,gt);else break;vt++}for(;vt<=we&&vt<=Ne;){const Ze=ue[we],Tt=ye[Ne]=gt?N0(ye[Ne]):Hg(ye[Ne]);if(Y_(Ze,Tt))g(Ze,Tt,$e,null,Se,at,ft,je,gt);else break;we--,Ne--}if(vt>we){if(vt<=Ne){const Ze=Ne+1,Tt=Ze<Te?ye[Ze].el:Ve;for(;vt<=Ne;)g(null,ye[vt]=gt?N0(ye[vt]):Hg(ye[vt]),$e,Tt,Se,at,ft,je,gt),vt++}}else if(vt>Ne)for(;vt<=we;)W(ue[vt],Se,at,!0),vt++;else{const Ze=vt,Tt=vt,Zt=new Map;for(vt=Tt;vt<=Ne;vt++){const ct=ye[vt]=gt?N0(ye[vt]):Hg(ye[vt]);ct.key!=null&&Zt.set(ct.key,vt)}let ln,Ye=0;const yt=Ne-Tt+1;let Qt=!1,Dt=0;const st=new Array(yt);for(vt=0;vt<yt;vt++)st[vt]=0;for(vt=Ze;vt<=we;vt++){const ct=ue[vt];if(Ye>=yt){W(ct,Se,at,!0);continue}let Oe;if(ct.key!=null)Oe=Zt.get(ct.key);else for(ln=Tt;ln<=Ne;ln++)if(st[ln-Tt]===0&&Y_(ct,ye[ln])){Oe=ln;break}Oe===void 0?W(ct,Se,at,!0):(st[Oe-Tt]=vt+1,Oe>=Dt?Dt=Oe:Qt=!0,g(ct,ye[Oe],$e,null,Se,at,ft,je,gt),Ye++)}const ke=Qt?lbe(st):uE;for(ln=ke.length-1,vt=yt-1;vt>=0;vt--){const ct=Tt+vt,Oe=ye[ct],kt=ct+1<Te?ye[ct+1].el:Ve;st[vt]===0?g(null,Oe,$e,kt,Se,at,ft,je,gt):Qt&&(ln<0||vt!==ke[ln]?he(Oe,$e,kt,2):ln--)}}},he=(ue,ye,$e,Ve,Se=null)=>{const{el:at,type:ft,transition:je,children:gt,shapeFlag:vt}=ue;if(vt&6){he(ue.component.subTree,ye,$e,Ve);return}if(vt&128){ue.suspense.move(ye,$e,Ve);return}if(vt&64){ft.move(ue,ye,$e,Ie);return}if(ft===Wn){r(at,ye,$e);for(let we=0;we<gt.length;we++)he(gt[we],ye,$e,Ve);r(ue.anchor,ye,$e);return}if(ft===fU){S(ue,ye,$e);return}if(Ve!==2&&vt&1&&je)if(Ve===0)je.beforeEnter(at),r(at,ye,$e),Rh(()=>je.enter(at),Se);else{const{leave:we,delayLeave:Ne,afterLeave:Ze}=je,Tt=()=>r(at,ye,$e),Zt=()=>{we(at,()=>{Tt(),Ze&&Ze()})};Ne?Ne(at,Tt,Zt):Zt()}else r(at,ye,$e)},W=(ue,ye,$e,Ve=!1,Se=!1)=>{const{type:at,props:ft,ref:je,children:gt,dynamicChildren:vt,shapeFlag:Te,patchFlag:we,dirs:Ne,cacheIndex:Ze}=ue;if(we===-2&&(Se=!1),je!=null&&zF(je,null,$e,ue,!0),Ze!=null&&(ye.renderCache[Ze]=void 0),Te&256){ye.ctx.deactivate(ue);return}const Tt=Te&1&&Ne,Zt=!AE(ue);let ln;if(Zt&&(ln=ft&&ft.onVnodeBeforeUnmount)&&_g(ln,ye,ue),Te&6)fe(ue.component,$e,Ve);else{if(Te&128){ue.suspense.unmount($e,Ve);return}Tt&&S_(ue,null,ye,"beforeUnmount"),Te&64?ue.type.remove(ue,ye,$e,Ie,Ve):vt&&!vt.hasOnce&&(at!==Wn||we>0&&we&64)?me(vt,ye,$e,!1,!0):(at===Wn&&we&384||!Se&&Te&16)&&me(gt,ye,$e),Ve&&Y(ue)}(Zt&&(ln=ft&&ft.onVnodeUnmounted)||Tt)&&Rh(()=>{ln&&_g(ln,ye,ue),Tt&&S_(ue,null,ye,"unmounted")},$e)},Y=ue=>{const{type:ye,el:$e,anchor:Ve,transition:Se}=ue;if(ye===Wn){oe($e,Ve);return}if(ye===fU){C(ue);return}const at=()=>{i($e),Se&&!Se.persisted&&Se.afterLeave&&Se.afterLeave()};if(ue.shapeFlag&1&&Se&&!Se.persisted){const{leave:ft,delayLeave:je}=Se,gt=()=>ft($e,at);je?je(ue.el,at,gt):gt()}else at()},oe=(ue,ye)=>{let $e;for(;ue!==ye;)$e=f(ue),i(ue),ue=$e;i(ye)},fe=(ue,ye,$e)=>{const{bum:Ve,scope:Se,job:at,subTree:ft,um:je,m:gt,a:vt}=ue;Lj(gt),Lj(vt),Ve&&MP(Ve),Se.stop(),at&&(at.flags|=8,W(ft,ue,ye,$e)),je&&Rh(je,ye),Rh(()=>{ue.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&ue.asyncDep&&!ue.asyncResolved&&ue.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},me=(ue,ye,$e,Ve=!1,Se=!1,at=0)=>{for(let ft=at;ft<ue.length;ft++)W(ue[ft],ye,$e,Ve,Se)},ce=ue=>{if(ue.shapeFlag&6)return ce(ue.component.subTree);if(ue.shapeFlag&128)return ue.suspense.next();const ye=f(ue.anchor||ue.el),$e=ye&&ye[nae];return $e?f($e):ye};let be=!1;const xe=(ue,ye,$e)=>{ue==null?ye._vnode&&W(ye._vnode,null,null,!0):g(ye._vnode||null,ue,ye,null,null,null,$e),ye._vnode=ue,be||(be=!0,yj(),Jse(),be=!1)},Ie={p:g,um:W,m:he,r:Y,mt:$,mc:L,pc:X,pbc:k,n:ce,o:t};return{render:xe,hydrate:void 0,createApp:Zwe(xe)}}function dU({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function C_({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function obe(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cz(t,e,n=!1){const r=t.children,i=e.children;if(an(r)&&an(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=N0(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&Cz(a,o)),o.type===OS&&(o.el=a.el)}}function lbe(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function Bae(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Bae(e)}function Lj(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cbe=Symbol.for("v-scx"),ube=()=>qt(cbe);function Zc(t,e){return Tz(t,null,e)}function Ct(t,e,n){return Tz(t,e,n)}function Tz(t,e,n=yo){const{immediate:r,deep:i,flush:s,once:a}=n,o=Cc({},n),l=e&&r||!e&&s!=="post";let u;if(uM){if(s==="sync"){const A=ube();u=A.__watcherHandles||(A.__watcherHandles=[])}else if(!l){const A=()=>{};return A.stop=Os,A.resume=Os,A.pause=Os,A}}const h=yu;o.call=(A,m,g)=>_p(A,h,m,g);let d=!1;s==="post"?o.scheduler=A=>{Rh(A,h&&h.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(A,m)=>{m?A():_z(A)}),o.augmentJob=A=>{e&&(A.flags|=4),d&&(A.flags|=2,h&&(A.id=h.uid,A.i=h))};const f=Bwe(t,e,o);return uM&&(u?u.push(f):l&&f()),f}function hbe(t,e,n){const r=this.proxy,i=Qn(t)?t.includes(".")?Rae(r,t):()=>r[t]:t.bind(r,r);let s;Kn(e)?s=e:(s=e.handler,n=e);const a=fL(this),o=Tz(i,s.bind(r),n);return a(),o}function Rae(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const dbe=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t["".concat(e,"Modifiers")]||t["".concat($h(e),"Modifiers")]||t["".concat(Dv(e),"Modifiers")];function fbe(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||yo;let i=n;const s=e.startsWith("update:"),a=s&&dbe(r,e.slice(7));a&&(a.trim&&(i=n.map(h=>Qn(h)?h.trim():h)),a.number&&(i=n.map(a8)));let o,l=r[o=vT(e)]||r[o=vT($h(e))];!l&&s&&(l=r[o=vT(Dv(e))]),l&&_p(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,_p(u,t,6,i)}}function Iae(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!Kn(t)){const l=u=>{const h=Iae(u,e,!0);h&&(o=!0,Cc(a,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(qr(t)&&r.set(t,null),null):(an(s)?s.forEach(l=>a[l]=null):Cc(a,s),qr(t)&&r.set(t,a),a)}function WN(t,e){return!t||!NN(e)?!1:(e=e.slice(2).replace(/Once$/,""),us(t,e[0].toLowerCase()+e.slice(1))||us(t,Dv(e))||us(t,e))}function Bj(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:h,props:d,data:f,setupState:A,ctx:m,inheritAttrs:g}=t,y=VF(t);let _,x;try{if(n.shapeFlag&4){const C=i||r,M=C;_=Hg(u.call(M,C,h,d,A,f,m)),x=o}else{const C=e;_=Hg(C.length>1?C(d,{attrs:o,slots:a,emit:l}):C(d,null)),x=e.props?o:Abe(o)}}catch(C){xT.length=0,VN(C,t,1),_=Ce(xc)}let S=_;if(x&&g!==!1){const C=Object.keys(x),{shapeFlag:M}=S;C.length&&M&7&&(s&&C.some(uz)&&(x=pbe(x,s)),S=xv(S,x,!1,!0))}return n.dirs&&(S=xv(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&V1(S,n.transition),_=S,VF(y),_}const Abe=t=>{let e;for(const n in t)(n==="class"||n==="style"||NN(n))&&((e||(e={}))[n]=t[n]);return e},pbe=(t,e)=>{const n={};for(const r in t)(!uz(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function gbe(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Rj(r,a,u):!!a;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(a[f]!==r[f]&&!WN(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Rj(r,a,u):!0:!!a;return!1}function Rj(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!WN(n,s))return!0}return!1}function mbe({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Pae=t=>t.__isSuspense;function vbe(t,e){e&&e.pendingBranch?an(t)?e.effects.push(...t):e.effects.push(t):Pwe(t)}const Wn=Symbol.for("v-fgt"),OS=Symbol.for("v-txt"),xc=Symbol.for("v-cmt"),fU=Symbol.for("v-stc"),xT=[];let mf=null;function ie(t=!1){xT.push(mf=t?null:[])}function ybe(){xT.pop(),mf=xT[xT.length-1]||null}let cM=1;function Ij(t,e=!1){cM+=t,t<0&&mf&&e&&(mf.hasOnce=!0)}function Fae(t){return t.dynamicChildren=cM>0?mf||uE:null,ybe(),cM>0&&mf&&mf.push(t),t}function Ee(t,e,n,r,i,s){return Fae(Be(t,e,n,r,i,s,!0))}function St(t,e,n,r,i){return Fae(Ce(t,e,n,r,i,!0))}function ka(t){return t?t.__v_isVNode===!0:!1}function Y_(t,e){return t.type===e.type&&t.key===e.key}const Oae=({key:t})=>t!=null?t:null,BP=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qn(t)||ga(t)||Kn(t)?{i:qc,r:t,k:e,f:!!n}:t:null);function Be(t,e=null,n=null,r=0,i=null,s=t===Wn?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Oae(e),ref:e&&BP(e),scopeId:tae,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qc};return o?(Mz(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Qn(n)?8:16),cM>0&&!a&&mf&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&mf.push(l),l}const Ce=_be;function _be(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===pae)&&(t=xc),ka(t)){const o=xv(t,e,!0);return n&&Mz(o,n),cM>0&&!s&&mf&&(o.shapeFlag&6?mf[mf.indexOf(t)]=o:mf.push(o)),o.patchFlag=-2,o}if(Mbe(t)&&(t=t.__vccOpts),e){e=sm(e);let{class:o,style:l}=e;o&&!Qn(o)&&(e.class=de(o)),qr(l)&&(yz(l)&&!an(l)&&(l=Cc({},l)),e.style=Xn(l))}const a=Qn(t)?1:Pae(t)?128:rae(t)?64:qr(t)?4:Kn(t)?2:0;return Be(t,e,n,r,i,a,s,!0)}function sm(t){return t?yz(t)||xae(t)?Cc({},t):t:null}function xv(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?hi(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Oae(u),ref:e&&e.ref?n&&s?an(s)?s.concat(BP(e)):[s,BP(e)]:BP(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xv(t.ssContent),ssFallback:t.ssFallback&&xv(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&V1(h,l.clone(h)),h}function Mr(t=" ",e=0){return Ce(OS,null,t,e)}function lt(t="",e=!1){return e?(ie(),St(xc,null,t)):Ce(xc,null,t)}function Hg(t){return t==null||typeof t=="boolean"?Ce(xc):an(t)?Ce(Wn,null,t.slice()):ka(t)?N0(t):Ce(OS,null,String(t))}function N0(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xv(t)}function Mz(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(an(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Mz(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!xae(e)?e._ctx=qc:i===3&&qc&&(qc.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Kn(e)?(e={default:e,_ctx:qc},n=32):(e=String(e),r&64?(n=16,e=[Mr(e)]):n=8);t.children=e,t.shapeFlag|=n}function hi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=de([e.class,r.class]));else if(i==="style")e.style=Xn([e.style,r.style]);else if(NN(i)){const s=e[i],a=r[i];a&&s!==a&&!(an(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function _g(t,e,n,r=null){_p(t,e,7,[n,r])}const wbe=_ae();let bbe=0;function xbe(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||wbe,s={uid:bbe++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rse(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sae(r,i),emitsOptions:Iae(r,i),emit:null,emitted:null,propsDefaults:yo,inheritAttrs:r.inheritAttrs,ctx:yo,data:yo,props:yo,attrs:yo,slots:yo,refs:yo,setupState:yo,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=fbe.bind(null,s),t.ce&&t.ce(s),s}let yu=null;const ni=()=>yu||qc;let QF,m8;{const t=UN(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};QF=e("__VUE_INSTANCE_SETTERS__",n=>yu=n),m8=e("__VUE_SSR_SETTERS__",n=>uM=n)}const fL=t=>{const e=yu;return QF(t),t.scope.on(),()=>{t.scope.off(),QF(e)}},Pj=()=>{yu&&yu.scope.off(),QF(null)};function Nae(t){return t.vnode.shapeFlag&4}let uM=!1;function Ebe(t,e=!1,n=!1){e&&m8(e);const{props:r,children:i}=t.vnode,s=Nae(t);Jwe(t,r,s,e),rbe(t,i,n);const a=s?Sbe(t,e):void 0;return e&&m8(!1),a}function Sbe(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Qwe);const{setup:r}=n;if(r){By();const i=t.setupContext=r.length>1?kae(t):null,s=fL(t),a=hL(r,t,0,[t.props,i]),o=rM(a);if(Ry(),s(),(o||t.sp)&&!AE(t)&&hae(t),o){if(a.then(Pj,Pj),e)return a.then(l=>{Fj(t,l)}).catch(l=>{VN(l,t,0)});t.asyncDep=a}else Fj(t,a)}else Dae(t)}function Fj(t,e,n){Kn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qr(e)&&(t.setupState=qse(e)),Dae(t)}function Dae(t,e,n){const r=t.type;t.render||(t.render=r.render||Os);{const i=fL(t);By();try{Wwe(t)}finally{Ry(),i()}}}const Cbe={get(t,e){return Yu(t,"get",""),t[e]}};function kae(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Cbe),slots:t.slots,emit:t.emit,expose:e}}function jN(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qse(ry(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in bT)return bT[n](t)},has(e,n){return n in e||n in bT}})):t.proxy}function Tbe(t,e=!0){return Kn(t)?t.displayName||t.name:t.name||e&&t.__name}function Mbe(t){return Kn(t)&&"__vccOpts"in t}const J=(t,e)=>Mwe(t,e,uM);function lr(t,e,n){const r=arguments.length;return r===2?qr(e)&&!an(e)?ka(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ka(n)&&(n=[n]),Ce(t,e,n))}const Lbe="3.5.13",Bbe=Os;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let v8;const Oj=typeof window<"u"&&window.trustedTypes;if(Oj)try{v8=Oj.createPolicy("vue",{createHTML:t=>t})}catch(t){}const Uae=v8?t=>v8.createHTML(t):t=>t,Rbe="http://www.w3.org/2000/svg",Ibe="http://www.w3.org/1998/Math/MathML",nv=typeof document<"u"?document:null,Nj=nv&&nv.createElement("template"),Pbe={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?nv.createElementNS(Rbe,t):e==="mathml"?nv.createElementNS(Ibe,t):n?nv.createElement(t,{is:n}):nv.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>nv.createTextNode(t),createComment:t=>nv.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nv.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Nj.innerHTML=Uae(r==="svg"?"<svg>".concat(t,"</svg>"):r==="mathml"?"<math>".concat(t,"</math>"):t);const o=Nj.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},f0="transition",i2="animation",VE=Symbol("_vtc"),Hae={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Gae=Cc({},oae,Hae),Fbe=t=>(t.displayName="Transition",t.props=Gae,t),Tc=Fbe((t,{slots:e})=>lr(Dwe,Vae(t),e)),T_=(t,e=[])=>{an(t)?t.forEach(n=>n(...e)):t&&t(...e)},Dj=t=>t?an(t)?t.some(e=>e.length>1):t.length>1:!1;function Vae(t){const e={};for(const F in t)F in Hae||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s="".concat(n,"-enter-from"),enterActiveClass:a="".concat(n,"-enter-active"),enterToClass:o="".concat(n,"-enter-to"),appearFromClass:l=s,appearActiveClass:u=a,appearToClass:h=o,leaveFromClass:d="".concat(n,"-leave-from"),leaveActiveClass:f="".concat(n,"-leave-active"),leaveToClass:A="".concat(n,"-leave-to")}=t,m=Obe(i),g=m&&m[0],y=m&&m[1],{onBeforeEnter:_,onEnter:x,onEnterCancelled:S,onLeave:C,onLeaveCancelled:M,onBeforeAppear:B=_,onAppear:E=x,onAppearCancelled:L=S}=e,I=(F,U,$,K)=>{F._enterCancelled=K,M0(F,U?h:o),M0(F,U?u:a),$&&$()},k=(F,U)=>{F._isLeaving=!1,M0(F,d),M0(F,A),M0(F,f),U&&U()},O=F=>(U,$)=>{const K=F?E:x,V=()=>I(U,F,$);T_(K,[U,V]),kj(()=>{M0(U,F?l:s),Rg(U,F?h:o),Dj(K)||Uj(U,r,g,V)})};return Cc(e,{onBeforeEnter(F){T_(_,[F]),Rg(F,s),Rg(F,a)},onBeforeAppear(F){T_(B,[F]),Rg(F,l),Rg(F,u)},onEnter:O(!1),onAppear:O(!0),onLeave(F,U){F._isLeaving=!0;const $=()=>k(F,U);Rg(F,d),F._enterCancelled?(Rg(F,f),y8()):(y8(),Rg(F,f)),kj(()=>{F._isLeaving&&(M0(F,d),Rg(F,A),Dj(C)||Uj(F,r,y,$))}),T_(C,[F,$])},onEnterCancelled(F){I(F,!1,void 0,!0),T_(S,[F])},onAppearCancelled(F){I(F,!0,void 0,!0),T_(L,[F])},onLeaveCancelled(F){k(F),T_(M,[F])}})}function Obe(t){if(t==null)return null;if(qr(t))return[AU(t.enter),AU(t.leave)];{const e=AU(t);return[e,e]}}function AU(t){return j1e(t)}function Rg(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[VE]||(t[VE]=new Set)).add(e)}function M0(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[VE];n&&(n.delete(e),n.size||(t[VE]=void 0))}function kj(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nbe=0;function Uj(t,e,n,r){const i=t._endId=++Nbe,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=zae(t,e);if(!a)return r();const u=a+"end";let h=0;const d=()=>{t.removeEventListener(u,f),s()},f=A=>{A.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},o+1),t.addEventListener(u,f)}function zae(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r("".concat(f0,"Delay")),s=r("".concat(f0,"Duration")),a=Hj(i,s),o=r("".concat(i2,"Delay")),l=r("".concat(i2,"Duration")),u=Hj(o,l);let h=null,d=0,f=0;e===f0?a>0&&(h=f0,d=a,f=s.length):e===i2?u>0&&(h=i2,d=u,f=l.length):(d=Math.max(a,u),h=d>0?a>u?f0:i2:null,f=h?h===f0?s.length:l.length:0);const A=h===f0&&/\b(transform|all)(,|$)/.test(r("".concat(f0,"Property")).toString());return{type:h,timeout:d,propCount:f,hasTransform:A}}function Hj(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Gj(n)+Gj(t[r])))}function Gj(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function y8(){return document.body.offsetHeight}function Dbe(t,e,n){const r=t[VE];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const WF=Symbol("_vod"),$ae=Symbol("_vsh"),Qi={beforeMount(t,{value:e},{transition:n}){t[WF]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):s2(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),s2(t,!0),r.enter(t)):r.leave(t,()=>{s2(t,!1)}):s2(t,e))},beforeUnmount(t,{value:e}){s2(t,e)}};function s2(t,e){t.style.display=e?t[WF]:"none",t[$ae]=!e}const kbe=Symbol(""),Ube=/(^|;)\s*display\s*:/;function Hbe(t,e,n){const r=t.style,i=Qn(n);let s=!1;if(n&&!i){if(e)if(Qn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&RP(r,o,"")}else for(const a in e)n[a]==null&&RP(r,a,"");for(const a in n)a==="display"&&(s=!0),RP(r,a,n[a])}else if(i){if(e!==n){const a=r[kbe];a&&(n+=";"+a),r.cssText=n,s=Ube.test(n)}}else e&&t.removeAttribute("style");WF in t&&(t[WF]=s?r.display:"",t[$ae]&&(r.display="none"))}const Vj=/\s*!important$/;function RP(t,e,n){if(an(n))n.forEach(r=>RP(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Gbe(t,e);Vj.test(n)?t.setProperty(Dv(r),n.replace(Vj,""),"important"):t[r]=n}}const zj=["Webkit","Moz","ms"],pU={};function Gbe(t,e){const n=pU[e];if(n)return n;let r=$h(e);if(r!=="filter"&&r in t)return pU[e]=r;r=uL(r);for(let i=0;i<zj.length;i++){const s=zj[i]+r;if(s in t)return pU[e]=s}return e}const $j="http://www.w3.org/1999/xlink";function Qj(t,e,n,r,i,s=J1e(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS($j,e.slice(6,e.length)):t.setAttributeNS($j,e,n):n==null||s&&!Tse(n)?t.removeAttribute(e):t.setAttribute(e,s?"":yp(n)?String(n):n)}function Wj(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Uae(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Tse(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch(o){}a&&t.removeAttribute(i||e)}function G0(t,e,n,r){t.addEventListener(e,n,r)}function Vbe(t,e,n,r){t.removeEventListener(e,n,r)}const jj=Symbol("_vei");function zbe(t,e,n,r,i=null){const s=t[jj]||(t[jj]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=$be(e);if(r){const u=s[e]=jbe(r,i);G0(t,o,u,l)}else a&&(Vbe(t,o,a,l),s[e]=void 0)}}const Kj=/(?:Once|Passive|Capture)$/;function $be(t){let e;if(Kj.test(t)){e={};let r;for(;r=t.match(Kj);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Dv(t.slice(2)),e]}let gU=0;const Qbe=Promise.resolve(),Wbe=()=>gU||(Qbe.then(()=>gU=0),gU=Date.now());function jbe(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_p(Kbe(r,n.value),e,5,[r])};return n.value=t,n.attached=Wbe(),n}function Kbe(t,e){if(an(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const qj=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qbe=(t,e,n,r,i,s)=>{const a=i==="svg";e==="class"?Dbe(t,r,a):e==="style"?Hbe(t,n,r):NN(e)?uz(e)||zbe(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Xbe(t,e,r,a))?(Wj(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qj(t,e,r,a,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qn(r))?Wj(t,$h(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qj(t,e,r,a))};function Xbe(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&qj(e)&&Kn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return qj(e)&&Qn(n)?!1:e in t}const Qae=new WeakMap,Wae=new WeakMap,jF=Symbol("_moveCb"),Xj=Symbol("_enterCb"),Ybe=t=>(delete t.props.mode,t),Zbe=Ybe({name:"TransitionGroup",props:Cc({},Gae,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ni(),r=aae();let i,s;return Bp(()=>{if(!i.length)return;const a=t.moveClass||"".concat(t.name||"v","-move");if(!nxe(i[0].el,n.vnode.el,a))return;i.forEach(Jbe),i.forEach(exe);const o=i.filter(txe);y8(),o.forEach(l=>{const u=l.el,h=u.style;Rg(u,a),h.transform=h.webkitTransform=h.transitionDuration="";const d=u[jF]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[jF]=null,M0(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=Ys(t),o=Vae(a);let l=a.tag||Wn;if(i=[],s)for(let u=0;u<s.length;u++){const h=s[u];h.el&&h.el instanceof Element&&(i.push(h),V1(h,lM(h,o,r,n)),Qae.set(h,h.el.getBoundingClientRect()))}s=e.default?wz(e.default()):[];for(let u=0;u<s.length;u++){const h=s[u];h.key!=null&&V1(h,lM(h,o,r,n))}return Ce(l,null,s)}}}),jae=Zbe;function Jbe(t){const e=t.el;e[jF]&&e[jF](),e[Xj]&&e[Xj]()}function exe(t){Wae.set(t,t.el.getBoundingClientRect())}function txe(t){const e=Qae.get(t),n=Wae.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform="translate(".concat(r,"px,").concat(i,"px)"),s.transitionDuration="0s",t}}function nxe(t,e,n){const r=t.cloneNode(),i=t[VE];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=zae(r);return s.removeChild(r),a}const zE=t=>{const e=t.props["onUpdate:modelValue"]||!1;return an(e)?n=>MP(e,n):e};function rxe(t){t.target.composing=!0}function Yj(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fv=Symbol("_assign"),KN={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[fv]=zE(i);const s=r||i.props&&i.props.type==="number";G0(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=a8(o)),t[fv](o)}),n&&G0(t,"change",()=>{t.value=t.value.trim()}),e||(G0(t,"compositionstart",rxe),G0(t,"compositionend",Yj),G0(t,"change",Yj))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[fv]=zE(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?a8(t.value):t.value,l=e==null?"":e;o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},KF={deep:!0,created(t,e,n){t[fv]=zE(n),G0(t,"change",()=>{const r=t._modelValue,i=qae(t),s=t.checked,a=t[fv];if(an(r)){const o=Mse(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const u=[...r];u.splice(o,1),a(u)}}else if(DN(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(Xae(t,s))})},mounted:Zj,beforeUpdate(t,e,n){t[fv]=zE(n),Zj(t,e,n)}};function Zj(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(an(e))i=Mse(e,r.props.value)>-1;else if(DN(e))i=e.has(r.props.value);else{if(e===n)return;i=GE(e,Xae(t,!0))}t.checked!==i&&(t.checked=i)}const Kae={created(t,{value:e},n){t.checked=GE(e,n.props.value),t[fv]=zE(n),G0(t,"change",()=>{t[fv](qae(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[fv]=zE(r),e!==n&&(t.checked=GE(e,r.props.value))}};function qae(t){return"_value"in t?t._value:t.value}function Xae(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ixe=["ctrl","shift","alt","meta"],sxe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ixe.some(n=>t["".concat(n,"Key")]&&!e.includes(n))},mr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=sxe[e[a]];if(o&&o(i,e))return}return t(i,...s)})},axe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$s=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Dv(i.key);if(e.some(a=>a===s||axe[a]===s))return t(i)})},oxe=Cc({patchProp:qbe},Pbe);let Jj;function Yae(){return Jj||(Jj=sbe(oxe))}const fy=(...t)=>{Yae().render(...t)},Zae=(...t)=>{const e=Yae().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=cxe(r);if(!i)return;const s=e._component;!Kn(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,lxe(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function lxe(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cxe(t){return Qn(t)?document.querySelector(t):t}/*! Element Plus Icons Vue v2.3.1 */var uxe=Me({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Uv=uxe,hxe=Me({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Ev=hxe,dxe=Me({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),oh=dxe,fxe=Me({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Lz=fxe,Axe=Me({name:"Back",__name:"back",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Be("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),pxe=Axe,gxe=Me({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),mxe=gxe,vxe=Me({name:"Camera",__name:"camera",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}}),yxe=vxe,_xe=Me({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Jae=_xe,wxe=Me({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),bxe=wxe,xxe=Me({name:"Check",__name:"check",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),AL=xxe,Exe=Me({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Sxe=Exe,Cxe=Me({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Be("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Bz=Cxe,Txe=Me({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Rz=Txe,Mxe=Me({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Hv=Mxe,Lxe=Me({name:"Clock",__name:"clock",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Be("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Be("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),eoe=Lxe,Bxe=Me({name:"Close",__name:"close",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),wp=Bxe,Rxe=Me({name:"Connection",__name:"connection",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),Be("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}}),Ixe=Rxe,Pxe=Me({name:"Cpu",__name:"cpu",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),Be("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}}),Fxe=Pxe,Oxe=Me({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Ay=Oxe,Nxe=Me({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),py=Nxe,Dxe=Me({name:"Delete",__name:"delete",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),kxe=Dxe,Uxe=Me({name:"Document",__name:"document",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),toe=Uxe,Hxe=Me({name:"Download",__name:"download",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),Gxe=Hxe,Vxe=Me({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),zxe=Vxe,$xe=Me({name:"Grid",__name:"grid",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}}),noe=$xe,Qxe=Me({name:"Hide",__name:"hide",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Be("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),Wxe=Qxe,jxe=Me({name:"House",__name:"house",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}}),roe=jxe,Kxe=Me({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),qN=Kxe,qxe=Me({name:"List",__name:"list",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}}),Xxe=qxe,Yxe=Me({name:"Loading",__name:"loading",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),am=Yxe,Zxe=Me({name:"Message",__name:"message",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),Be("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),Jxe=Zxe,eEe=Me({name:"Minus",__name:"minus",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),tEe=eEe,nEe=Me({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),eK=nEe,rEe=Me({name:"More",__name:"more",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),iEe=rEe,sEe=Me({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),aEe=sEe,oEe=Me({name:"Plus",__name:"plus",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),ioe=oEe,lEe=Me({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),cEe=lEe,uEe=Me({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),hEe=uEe,dEe=Me({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),fEe=dEe,AEe=Me({name:"Refresh",__name:"refresh",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),pEe=AEe,gEe=Me({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),mEe=gEe,vEe=Me({name:"Search",__name:"search",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),yEe=vEe,_Ee=Me({name:"Select",__name:"select",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}}),wEe=_Ee,bEe=Me({name:"Setting",__name:"setting",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),xEe=bEe,EEe=Me({name:"Share",__name:"share",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),SEe=EEe,CEe=Me({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),TEe=CEe,MEe=Me({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),LEe=MEe,BEe=Me({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),dR=BEe,REe=Me({name:"Star",__name:"star",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),IEe=REe,PEe=Me({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),soe=PEe,FEe=Me({name:"VideoPlay",__name:"video-play",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),OEe=FEe,NEe=Me({name:"View",__name:"view",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),DEe=NEe,kEe=Me({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),XN=kEe,UEe=Me({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),aoe=UEe,HEe=Me({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(ie(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Be("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),GEe=HEe;function VEe(){return ooe().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ooe(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const zEe=typeof Proxy=="function",$Ee="devtools-plugin:setup",QEe="plugin:settings:set";let Mb,_8;function WEe(){var t;return Mb!==void 0||(typeof window<"u"&&window.performance?(Mb=!0,_8=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Mb=!0,_8=globalThis.perf_hooks.performance):Mb=!1),Mb}function jEe(){return WEe()?_8.now():Date.now()}class KEe{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i="__vue-devtools-plugin-settings__".concat(e.id);let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch(a){}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch(o){}s=a},now(){return jEe()}},n&&n.on(QEe,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function qEe(t,e){const n=t,r=ooe(),i=VEe(),s=zEe&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit($Ee,t,e);else{const a=s?new KEe(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ex=typeof document<"u";function loe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function XEe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&loe(t.default)}const Wa=Object.assign;function mU(t,e){const n={};for(const r in e){const i=e[r];n[r]=bp(i)?i.map(t):t(i)}return n}const ET=()=>{},bp=Array.isArray,coe=/#/g,YEe=/&/g,ZEe=/\//g,JEe=/=/g,eSe=/\?/g,uoe=/\+/g,tSe=/%5B/g,nSe=/%5D/g,hoe=/%5E/g,rSe=/%60/g,doe=/%7B/g,iSe=/%7C/g,foe=/%7D/g,sSe=/%20/g;function Iz(t){return encodeURI(""+t).replace(iSe,"|").replace(tSe,"[").replace(nSe,"]")}function aSe(t){return Iz(t).replace(doe,"{").replace(foe,"}").replace(hoe,"^")}function w8(t){return Iz(t).replace(uoe,"%2B").replace(sSe,"+").replace(coe,"%23").replace(YEe,"%26").replace(rSe,"`").replace(doe,"{").replace(foe,"}").replace(hoe,"^")}function oSe(t){return w8(t).replace(JEe,"%3D")}function lSe(t){return Iz(t).replace(coe,"%23").replace(eSe,"%3F")}function cSe(t){return t==null?"":lSe(t).replace(ZEe,"%2F")}function hM(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const uSe=/\/$/,hSe=t=>t.replace(uSe,"");function vU(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=pSe(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:hM(a)}}function dSe(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function tK(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fSe(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&$E(e.matched[r],n.matched[i])&&Aoe(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function $E(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Aoe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ASe(t[n],e[n]))return!1;return!0}function ASe(t,e){return bp(t)?nK(t,e):bp(e)?nK(e,t):t===e}function nK(t,e){return bp(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function pSe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const A0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var dM;(function(t){t.pop="pop",t.push="push"})(dM||(dM={}));var ST;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ST||(ST={}));function gSe(t){if(!t)if(Ex){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hSe(t)}const mSe=/^[^#]+#/;function vSe(t,e){return t.replace(mSe,"#")+e}function ySe(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const YN=()=>({left:window.scrollX,top:window.scrollY});function _Se(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=ySe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rK(t,e){return(history.state?history.state.position-e:-1)+t}const b8=new Map;function wSe(t,e){b8.set(t,e)}function bSe(t){const e=b8.get(t);return b8.delete(t),e}let xSe=()=>location.protocol+"//"+location.host;function poe(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),tK(l,"")}return tK(n,t)+r+i}function ESe(t,e,n,r){let i=[],s=[],a=null;const o=({state:f})=>{const A=poe(t,location),m=n.value,g=e.value;let y=0;if(f){if(n.value=A,e.value=f,a&&a===m){a=null;return}y=g?f.position-g.position:0}else r(A);i.forEach(_=>{_(n.value,m,{delta:y,type:dM.pop,direction:y?y>0?ST.forward:ST.back:ST.unknown})})};function l(){a=n.value}function u(f){i.push(f);const A=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return s.push(A),A}function h(){const{history:f}=window;f.state&&f.replaceState(Wa({},f.state,{scroll:YN()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function iK(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?YN():null}}function SSe(t){const{history:e,location:n}=window,r={value:poe(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,h){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:xSe()+t+l;try{e[h?"replaceState":"pushState"](u,"",f),i.value=u}catch(A){console.error(A),n[h?"replace":"assign"](f)}}function a(l,u){const h=Wa({},e.state,iK(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,h,!0),r.value=l}function o(l,u){const h=Wa({},i.value,e.state,{forward:l,scroll:YN()});s(h.current,h,!0);const d=Wa({},iK(r.value,l,null),{position:h.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function CSe(t){t=gSe(t);const e=SSe(t),n=ESe(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Wa({location:"",base:t,go:r,createHref:vSe.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function TSe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),CSe(t)}function MSe(t){return typeof t=="string"||t&&typeof t=="object"}function goe(t){return typeof t=="string"||typeof t=="symbol"}const moe=Symbol("");var sK;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sK||(sK={}));function QE(t,e){return Wa(new Error,{type:t,[moe]:!0},e)}function Gm(t,e){return t instanceof Error&&moe in t&&(e==null||!!(t.type&e))}const aK="[^/]+?",LSe={sensitive:!1,strict:!1,start:!0,end:!0},BSe=/[.+*?^${}()[\]/\\]/g;function RSe(t,e){const n=Wa({},LSe,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let A=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(BSe,"\\$&"),A+=40;else if(f.type===1){const{value:m,repeatable:g,optional:y,regexp:_}=f;s.push({name:m,repeatable:g,optional:y});const x=_||aK;if(x!==aK){A+=10;try{new RegExp("(".concat(x,")"))}catch(C){throw new Error('Invalid custom RegExp for param "'.concat(m,'" (').concat(x,"): ")+C.message)}}let S=g?"((?:".concat(x,")(?:/(?:").concat(x,"))*)"):"(".concat(x,")");d||(S=y&&u.length<2?"(?:/".concat(S,")"):"/"+S),y&&(S+="?"),i+=S,A+=20,y&&(A+=-8),g&&(A+=-20),x===".*"&&(A+=-50)}h.push(A)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(u){const h=u.match(a),d={};if(!h)return null;for(let f=1;f<h.length;f++){const A=h[f]||"",m=s[f-1];d[m.name]=A&&m.repeatable?A.split("/"):A}return d}function l(u){let h="",d=!1;for(const f of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const A of f)if(A.type===0)h+=A.value;else if(A.type===1){const{value:m,repeatable:g,optional:y}=A,_=m in u?u[m]:"";if(bp(_)&&!g)throw new Error('Provided param "'.concat(m,'" is an array but it is not repeatable (* or + modifiers)'));const x=bp(_)?_.join("/"):_;if(!x)if(y)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error('Missing required param "'.concat(m,'"'));h+=x}}return h||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function ISe(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function voe(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=ISe(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(oK(r))return 1;if(oK(i))return-1}return i.length-r.length}function oK(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const PSe={type:0,value:""},FSe=/[a-zA-Z0-9_]/;function OSe(t){if(!t)return[[]];if(t==="/")return[[PSe]];if(!t.startsWith("/"))throw new Error('Invalid path "'.concat(t,'"'));function e(A){throw new Error("ERR (".concat(n,')/"').concat(u,'": ').concat(A))}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,u="",h="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e("A repeatable param (".concat(u,") must be alone in its segment. eg: '/:ids+.")),s.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:FSe.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return n===2&&e('Unfinished custom RegExp for param "'.concat(u,'"')),d(),a(),i}function NSe(t,e,n){const r=RSe(OSe(t.path),n),i=Wa(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function DSe(t,e){const n=[],r=new Map;e=hK({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,f,A){const m=!A,g=cK(d);g.aliasOf=A&&A.record;const y=hK(e,d),_=[g];if("alias"in d){const C=typeof d.alias=="string"?[d.alias]:d.alias;for(const M of C)_.push(cK(Wa({},g,{components:A?A.record.components:g.components,path:M,aliasOf:A?A.record:g})))}let x,S;for(const C of _){const{path:M}=C;if(f&&M[0]!=="/"){const B=f.record.path,E=B[B.length-1]==="/"?"":"/";C.path=f.record.path+(M&&E+M)}if(x=NSe(C,f,y),A?A.alias.push(x):(S=S||x,S!==x&&S.alias.push(x),m&&d.name&&!uK(x)&&a(d.name)),yoe(x)&&l(x),g.children){const B=g.children;for(let E=0;E<B.length;E++)s(B[E],x,A&&A.children[E])}A=A||x}return S?()=>{a(S)}:ET}function a(d){if(goe(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return n}function l(d){const f=HSe(d,n);n.splice(f,0,d),d.record.name&&!uK(d)&&r.set(d.record.name,d)}function u(d,f){let A,m={},g,y;if("name"in d&&d.name){if(A=r.get(d.name),!A)throw QE(1,{location:d});y=A.record.name,m=Wa(lK(f.params,A.keys.filter(S=>!S.optional).concat(A.parent?A.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&lK(d.params,A.keys.map(S=>S.name))),g=A.stringify(m)}else if(d.path!=null)g=d.path,A=n.find(S=>S.re.test(g)),A&&(m=A.parse(g),y=A.record.name);else{if(A=f.name?r.get(f.name):n.find(S=>S.re.test(f.path)),!A)throw QE(1,{location:d,currentLocation:f});y=A.record.name,m=Wa({},f.params,d.params),g=A.stringify(m)}const _=[];let x=A;for(;x;)_.unshift(x.record),x=x.parent;return{name:y,path:g,params:m,matched:_,meta:USe(_)}}t.forEach(d=>s(d));function h(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:h,getRoutes:o,getRecordMatcher:i}}function lK(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function cK(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:kSe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function kSe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function uK(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function USe(t){return t.reduce((e,n)=>Wa(e,n.meta),{})}function hK(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function HSe(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;voe(t,e[s])<0?r=s:n=s+1}const i=GSe(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function GSe(t){let e=t;for(;e=e.parent;)if(yoe(e)&&voe(t,e)===0)return e}function yoe({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function VSe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(uoe," "),a=s.indexOf("="),o=hM(a<0?s:s.slice(0,a)),l=a<0?null:hM(s.slice(a+1));if(o in e){let u=e[o];bp(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function dK(t){let e="";for(let n in t){const r=t[n];if(n=oSe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(bp(r)?r.map(s=>s&&w8(s)):[r&&w8(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function zSe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=bp(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const $Se=Symbol(""),fK=Symbol(""),ZN=Symbol(""),_oe=Symbol(""),x8=Symbol("");function a2(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function D0(t,e,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(QE(4,{from:n,to:e})):f instanceof Error?l(f):MSe(f)?l(QE(2,{from:e,to:f})):(a&&r.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),o())},h=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(h);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function yU(t,e,n,r,i=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(loe(l)){const h=(l.__vccOpts||l)[e];h&&s.push(D0(h,n,r,a,o,i))}else{let u=l();s.push(()=>u.then(h=>{if(!h)throw new Error("Couldn't resolve component \"".concat(o,'" at "').concat(a.path,'"'));const d=XEe(h)?h.default:h;a.mods[o]=h,a.components[o]=d;const A=(d.__vccOpts||d)[e];return A&&D0(A,n,r,a,o,i)()}))}}return s}function AK(t){const e=qt(ZN),n=qt(_oe),r=J(()=>{const l=b(t.to);return e.resolve(l)}),i=J(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],d=n.matched;if(!h||!d.length)return-1;const f=d.findIndex($E.bind(null,h));if(f>-1)return f;const A=pK(l[u-2]);return u>1&&pK(h)===A&&d[d.length-1].path!==A?d.findIndex($E.bind(null,l[u-2])):f}),s=J(()=>i.value>-1&&qSe(n.params,r.value.params)),a=J(()=>i.value>-1&&i.value===n.matched.length-1&&Aoe(n.params,r.value.params));function o(l={}){if(KSe(l)){const u=e[b(t.replace)?"replace":"push"](b(t.to)).catch(ET);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:J(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}function QSe(t){return t.length===1?t[0]:t}const WSe=Me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:AK,setup(t,{slots:e}){const n=as(AK(t)),{options:r}=qt(ZN),i=J(()=>({[gK(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[gK(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&QSe(e.default(n));return t.custom?s:lr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),jSe=WSe;function KSe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qSe(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!bp(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function pK(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const gK=(t,e,n)=>t!=null?t:e!=null?e:n,XSe=Me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=qt(x8),i=J(()=>t.route||r.value),s=qt(fK,0),a=J(()=>{let u=b(s);const{matched:h}=i.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),o=J(()=>i.value.matched[a.value]);dr(fK,J(()=>a.value+1)),dr($Se,o),dr(x8,i);const l=ge();return Ct(()=>[l.value,o.value,t.name],([u,h,d],[f,A,m])=>{h&&(h.instances[d]=u,A&&A!==h&&u&&u===f&&(h.leaveGuards.size||(h.leaveGuards=A.leaveGuards),h.updateGuards.size||(h.updateGuards=A.updateGuards))),u&&h&&(!A||!$E(h,A)||!f)&&(h.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,h=t.name,d=o.value,f=d&&d.components[h];if(!f)return mK(n.default,{Component:f,route:u});const A=d.props[h],m=A?A===!0?u.params:typeof A=="function"?A(u):A:null,y=lr(f,Wa({},m,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return mK(n.default,{Component:y,route:u})||y}}});function mK(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const YSe=XSe;function ZSe(t){const e=DSe(t.routes,t),n=t.parseQuery||VSe,r=t.stringifyQuery||dK,i=t.history,s=a2(),a=a2(),o=a2(),l=Cs(A0);let u=A0;Ex&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=mU.bind(null,ce=>""+ce),d=mU.bind(null,cSe),f=mU.bind(null,hM);function A(ce,be){let xe,Ie;return goe(ce)?(xe=e.getRecordMatcher(ce),Ie=be):Ie=ce,e.addRoute(Ie,xe)}function m(ce){const be=e.getRecordMatcher(ce);be&&e.removeRoute(be)}function g(){return e.getRoutes().map(ce=>ce.record)}function y(ce){return!!e.getRecordMatcher(ce)}function _(ce,be){if(be=Wa({},be||l.value),typeof ce=="string"){const $e=vU(n,ce,be.path),Ve=e.resolve({path:$e.path},be),Se=i.createHref($e.fullPath);return Wa($e,Ve,{params:f(Ve.params),hash:hM($e.hash),redirectedFrom:void 0,href:Se})}let xe;if(ce.path!=null)xe=Wa({},ce,{path:vU(n,ce.path,be.path).path});else{const $e=Wa({},ce.params);for(const Ve in $e)$e[Ve]==null&&delete $e[Ve];xe=Wa({},ce,{params:d($e)}),be.params=d(be.params)}const Ie=e.resolve(xe,be),Qe=ce.hash||"";Ie.params=h(f(Ie.params));const ue=dSe(r,Wa({},ce,{hash:aSe(Qe),path:Ie.path})),ye=i.createHref(ue);return Wa({fullPath:ue,hash:Qe,query:r===dK?zSe(ce.query):ce.query||{}},Ie,{redirectedFrom:void 0,href:ye})}function x(ce){return typeof ce=="string"?vU(n,ce,l.value.path):Wa({},ce)}function S(ce,be){if(u!==ce)return QE(8,{from:be,to:ce})}function C(ce){return E(ce)}function M(ce){return C(Wa(x(ce),{replace:!0}))}function B(ce){const be=ce.matched[ce.matched.length-1];if(be&&be.redirect){const{redirect:xe}=be;let Ie=typeof xe=="function"?xe(ce):xe;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=x(Ie):{path:Ie},Ie.params={}),Wa({query:ce.query,hash:ce.hash,params:Ie.path!=null?{}:ce.params},Ie)}}function E(ce,be){const xe=u=_(ce),Ie=l.value,Qe=ce.state,ue=ce.force,ye=ce.replace===!0,$e=B(xe);if($e)return E(Wa(x($e),{state:typeof $e=="object"?Wa({},Qe,$e.state):Qe,force:ue,replace:ye}),be||xe);const Ve=xe;Ve.redirectedFrom=be;let Se;return!ue&&fSe(r,Ie,xe)&&(Se=QE(16,{to:Ve,from:Ie}),he(Ie,Ie,!0,!1)),(Se?Promise.resolve(Se):k(Ve,Ie)).catch(at=>Gm(at)?Gm(at,2)?at:ne(at):X(at,Ve,Ie)).then(at=>{if(at){if(Gm(at,2))return E(Wa({replace:ye},x(at.to),{state:typeof at.to=="object"?Wa({},Qe,at.to.state):Qe,force:ue}),be||Ve)}else at=F(Ve,Ie,!0,ye,Qe);return O(Ve,Ie,at),at})}function L(ce,be){const xe=S(ce,be);return xe?Promise.reject(xe):Promise.resolve()}function I(ce){const be=oe.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(ce):ce()}function k(ce,be){let xe;const[Ie,Qe,ue]=JSe(ce,be);xe=yU(Ie.reverse(),"beforeRouteLeave",ce,be);for(const $e of Ie)$e.leaveGuards.forEach(Ve=>{xe.push(D0(Ve,ce,be))});const ye=L.bind(null,ce,be);return xe.push(ye),me(xe).then(()=>{xe=[];for(const $e of s.list())xe.push(D0($e,ce,be));return xe.push(ye),me(xe)}).then(()=>{xe=yU(Qe,"beforeRouteUpdate",ce,be);for(const $e of Qe)$e.updateGuards.forEach(Ve=>{xe.push(D0(Ve,ce,be))});return xe.push(ye),me(xe)}).then(()=>{xe=[];for(const $e of ue)if($e.beforeEnter)if(bp($e.beforeEnter))for(const Ve of $e.beforeEnter)xe.push(D0(Ve,ce,be));else xe.push(D0($e.beforeEnter,ce,be));return xe.push(ye),me(xe)}).then(()=>(ce.matched.forEach($e=>$e.enterCallbacks={}),xe=yU(ue,"beforeRouteEnter",ce,be,I),xe.push(ye),me(xe))).then(()=>{xe=[];for(const $e of a.list())xe.push(D0($e,ce,be));return xe.push(ye),me(xe)}).catch($e=>Gm($e,8)?$e:Promise.reject($e))}function O(ce,be,xe){o.list().forEach(Ie=>I(()=>Ie(ce,be,xe)))}function F(ce,be,xe,Ie,Qe){const ue=S(ce,be);if(ue)return ue;const ye=be===A0,$e=Ex?history.state:{};xe&&(Ie||ye?i.replace(ce.fullPath,Wa({scroll:ye&&$e&&$e.scroll},Qe)):i.push(ce.fullPath,Qe)),l.value=ce,he(ce,be,xe,ye),ne()}let U;function $(){U||(U=i.listen((ce,be,xe)=>{if(!fe.listening)return;const Ie=_(ce),Qe=B(Ie);if(Qe){E(Wa(Qe,{replace:!0,force:!0}),Ie).catch(ET);return}u=Ie;const ue=l.value;Ex&&wSe(rK(ue.fullPath,xe.delta),YN()),k(Ie,ue).catch(ye=>Gm(ye,12)?ye:Gm(ye,2)?(E(Wa(x(ye.to),{force:!0}),Ie).then($e=>{Gm($e,20)&&!xe.delta&&xe.type===dM.pop&&i.go(-1,!1)}).catch(ET),Promise.reject()):(xe.delta&&i.go(-xe.delta,!1),X(ye,Ie,ue))).then(ye=>{ye=ye||F(Ie,ue,!1),ye&&(xe.delta&&!Gm(ye,8)?i.go(-xe.delta,!1):xe.type===dM.pop&&Gm(ye,20)&&i.go(-1,!1)),O(Ie,ue,ye)}).catch(ET)}))}let K=a2(),V=a2(),Q;function X(ce,be,xe){ne(ce);const Ie=V.list();return Ie.length?Ie.forEach(Qe=>Qe(ce,be,xe)):console.error(ce),Promise.reject(ce)}function z(){return Q&&l.value!==A0?Promise.resolve():new Promise((ce,be)=>{K.add([ce,be])})}function ne(ce){return Q||(Q=!ce,$(),K.list().forEach(([be,xe])=>ce?xe(ce):be()),K.reset()),ce}function he(ce,be,xe,Ie){const{scrollBehavior:Qe}=t;if(!Ex||!Qe)return Promise.resolve();const ue=!xe&&bSe(rK(ce.fullPath,0))||(Ie||!xe)&&history.state&&history.state.scroll||null;return Zn().then(()=>Qe(ce,be,ue)).then(ye=>ye&&_Se(ye)).catch(ye=>X(ye,ce,be))}const W=ce=>i.go(ce);let Y;const oe=new Set,fe={currentRoute:l,listening:!0,addRoute:A,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:_,options:t,push:C,replace:M,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:V.add,isReady:z,install(ce){const be=this;ce.component("RouterLink",jSe),ce.component("RouterView",YSe),ce.config.globalProperties.$router=be,Object.defineProperty(ce.config.globalProperties,"$route",{enumerable:!0,get:()=>b(l)}),Ex&&!Y&&l.value===A0&&(Y=!0,C(i.location).catch(Qe=>{}));const xe={};for(const Qe in A0)Object.defineProperty(xe,Qe,{get:()=>l.value[Qe],enumerable:!0});ce.provide(ZN,be),ce.provide(_oe,mz(xe)),ce.provide(x8,l);const Ie=ce.unmount;oe.add(ce),ce.unmount=function(){oe.delete(ce),oe.size<1&&(u=A0,U&&U(),U=null,l.value=A0,Y=!1,Q=!1),Ie()}}};function me(ce){return ce.reduce((be,xe)=>be.then(()=>I(xe)),Promise.resolve())}return fe}function JSe(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>$E(u,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>$E(u,l))||i.push(l))}return[n,r,i]}function eCe(){return qt(ZN)}class tCe{constructor(e){this._pointer=0,this._eof=!1,this._data=e}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return this._pointer++,e.value=vK(e.code,this._data[this._pointer].trim()),this._pointer++,e.code===0&&e.value==="EOF"&&(this._eof=!0),this.lastReadGroup=e,e}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return e.value=vK(e.code,this._data[this._pointer+1].trim()),e}rewind(e=1){this._pointer=this._pointer-e*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function vK(t,e){return t<=9?e:t>=10&&t<=59?parseFloat(e):t>=60&&t<=99?parseInt(e):t>=100&&t<=109?e:t>=110&&t<=149?parseFloat(e):t>=160&&t<=179?parseInt(e):t>=210&&t<=239?parseFloat(e):t>=270&&t<=289?parseInt(e):t>=290&&t<=299?nCe(e):t>=300&&t<=369?e:t>=370&&t<=389?parseInt(e):t>=390&&t<=399?e:t>=400&&t<=409?parseInt(e):t>=410&&t<=419?e:t>=420&&t<=429?parseInt(e):t>=430&&t<=439?e:t>=440&&t<=459?parseInt(e):t>=460&&t<=469?parseFloat(e):t>=470&&t<=481||t===999||t>=1e3&&t<=1009?e:t>=1010&&t<=1059?parseFloat(e):t>=1060&&t<=1071?parseInt(e):(console.log("WARNING: Group code does not have a defined type: %j",{code:t,value:e}),e)}function nCe(t){if(t==="0")return!1;if(t==="1")return!0;throw TypeError("String '"+t+"' cannot be cast to Boolean type")}const woe=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function rCe(t){return woe[t]}function pa(t){const e={};t.rewind();let n=t.next(),r=n.code;if(e.x=n.value,r+=10,n=t.next(),n.code!=r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return e.y=n.value,r+=10,n=t.next(),n.code!=r?(t.rewind(),e):(e.z=n.value,e)}function Su(t,e,n){switch(e.code){case 0:t.type=e.value;break;case 5:t.handle=e.value;break;case 6:t.lineType=e.value;break;case 8:t.layer=e.value;break;case 48:t.lineTypeScale=e.value;break;case 60:t.visible=e.value===0;break;case 62:t.colorIndex=e.value,t.color=rCe(Math.abs(e.value));break;case 67:t.inPaperSpace=e.value!==0;break;case 100:break;case 101:for(;e.code!=0;)e=n.next();n.rewind();break;case 330:t.ownerHandle=e.value;break;case 347:t.materialObjectHandle=e.value;break;case 370:t.lineweight=e.value;break;case 420:t.color=e.value;break;case 1e3:t.extendedData=t.extendedData||{},t.extendedData.customStrings=t.extendedData.customStrings||[],t.extendedData.customStrings.push(e.value);break;case 1001:t.extendedData=t.extendedData||{},t.extendedData.applicationName=e.value;break;default:return!1}return!0}class iCe{constructor(){this.ForEntityName="3DFACE"}parseEntity(e,n){const r={type:n.value,vertices:[]};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 70:r.shape=(n.value&1)===1,r.hasContinuousLinetypePattern=(n.value&128)===128;break;case 10:r.vertices=sCe(e,n),n=e.lastReadGroup;break;default:Su(r,n,e);break}n=e.next()}return r}}function sCe(t,e){var n=[],r=!1,i=!1,s=4;for(let o=0;o<=s;o++){for(var a={};!t.isEOF()&&!(e.code===0||i);){switch(e.code){case 10:case 11:case 12:case 13:if(r){i=!0;continue}a.x=e.value,r=!0;break;case 20:case 21:case 22:case 23:a.y=e.value;break;case 30:case 31:case 32:case 33:a.z=e.value;break;default:return n}e=t.next()}n.push(a),r=!1,i=!1}return t.rewind(),n}class aCe{constructor(){this.ForEntityName="ARC"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=pa(e);break;case 40:r.radius=n.value;break;case 50:r.startAngle=Math.PI/180*n.value;break;case 51:r.endAngle=Math.PI/180*n.value,r.angleLength=r.endAngle-r.startAngle;break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}class oCe{constructor(){this.ForEntityName="ATTDEF"}parseEntity(e,n){var r={type:n.value,scale:1,textStyle:"STANDARD"};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 1:r.text=n.value;break;case 2:r.tag=n.value;break;case 3:r.prompt=n.value;break;case 7:r.textStyle=n.value;break;case 10:r.startPoint=pa(e);break;case 11:r.endPoint=pa(e);break;case 39:r.thickness=n.value;break;case 40:r.textHeight=n.value;break;case 41:r.scale=n.value;break;case 50:r.rotation=n.value;break;case 51:r.obliqueAngle=n.value;break;case 70:r.invisible=!!(n.value&1),r.constant=!!(n.value&2),r.verificationRequired=!!(n.value&4),r.preset=!!(n.value&8);break;case 71:r.backwards=!!(n.value&2),r.mirrored=!!(n.value&4);break;case 72:r.horizontalJustification=n.value;break;case 73:r.fieldLength=n.value;break;case 74:r.verticalJustification=n.value;break;case 100:break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}let lCe=class{constructor(){this.ForEntityName="CIRCLE"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=pa(e);break;case 40:r.radius=n.value;break;case 50:r.startAngle=Math.PI/180*n.value;break;case 51:const i=Math.PI/180*n.value;i<r.startAngle?r.angleLength=i+2*Math.PI-r.startAngle:r.angleLength=i-r.startAngle,r.endAngle=i;break;default:Su(r,n,e);break}n=e.next()}return r}};class cCe{constructor(){this.ForEntityName="DIMENSION"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 2:r.block=n.value;break;case 10:r.anchorPoint=pa(e);break;case 11:r.middleOfText=pa(e);break;case 12:r.insertionPoint=pa(e);break;case 13:r.linearOrAngularPoint1=pa(e);break;case 14:r.linearOrAngularPoint2=pa(e);break;case 15:r.diameterOrRadiusPoint=pa(e);break;case 16:r.arcPoint=pa(e);break;case 70:r.dimensionType=n.value;break;case 71:r.attachmentPoint=n.value;break;case 42:r.actualMeasurement=n.value;break;case 1:r.text=n.value;break;case 50:r.angle=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}class uCe{constructor(){this.ForEntityName="ELLIPSE"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.center=pa(e);break;case 11:r.majorAxisEndPoint=pa(e);break;case 40:r.axisRatio=n.value;break;case 41:r.startAngle=n.value;break;case 42:r.endAngle=n.value;break;case 2:r.name=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}class hCe{constructor(){this.ForEntityName="INSERT"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 2:r.name=n.value;break;case 41:r.xScale=n.value;break;case 42:r.yScale=n.value;break;case 43:r.zScale=n.value;break;case 10:r.position=pa(e);break;case 50:r.rotation=n.value;break;case 70:r.columnCount=n.value;break;case 71:r.rowCount=n.value;break;case 44:r.columnSpacing=n.value;break;case 45:r.rowSpacing=n.value;break;case 210:r.extrusionDirection=pa(e);break;default:Su(r,n,e);break}n=e.next()}return r}}let dCe=class{constructor(){this.ForEntityName="LINE"}parseEntity(e,n){const r={type:n.value,vertices:[]};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.vertices.unshift(pa(e));break;case 11:r.vertices.push(pa(e));break;case 210:r.extrusionDirection=pa(e);break;case 100:break;default:Su(r,n,e);break}n=e.next()}return r}};class fCe{constructor(){this.ForEntityName="LWPOLYLINE"}parseEntity(e,n){const r={type:n.value,vertices:[]};let i=0;for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 38:r.elevation=n.value;break;case 39:r.depth=n.value;break;case 70:r.shape=(n.value&1)===1,r.hasContinuousLinetypePattern=(n.value&128)===128;break;case 90:i=n.value;break;case 10:r.vertices=ACe(i,e);break;case 43:n.value!==0&&(r.width=n.value);break;case 210:r.extrusionDirectionX=n.value;break;case 220:r.extrusionDirectionY=n.value;break;case 230:r.extrusionDirectionZ=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}function ACe(t,e){if(!t||t<=0)throw Error("n must be greater than 0 verticies");const n=[];let r=!1,i=!1,s=e.lastReadGroup;for(let a=0;a<t;a++){const o={};for(;!e.isEOF()&&!(s.code===0||i);){switch(s.code){case 10:if(r){i=!0;continue}o.x=s.value,r=!0;break;case 20:o.y=s.value;break;case 30:o.z=s.value;break;case 40:o.startWidth=s.value;break;case 41:o.endWidth=s.value;break;case 42:s.value!=0&&(o.bulge=s.value);break;default:return e.rewind(),r&&n.push(o),e.rewind(),n}s=e.next()}n.push(o),r=!1,i=!1}return e.rewind(),n}class pCe{constructor(){this.ForEntityName="MTEXT"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 3:r.text?r.text+=n.value:r.text=n.value;break;case 1:r.text?r.text+=n.value:r.text=n.value;break;case 10:r.position=pa(e);break;case 11:r.directionVector=pa(e);break;case 40:r.height=n.value;break;case 41:r.width=n.value;break;case 50:r.rotation=n.value;break;case 71:r.attachmentPoint=n.value;break;case 72:r.drawingDirection=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}let gCe=class{constructor(){this.ForEntityName="POINT"}parseEntity(e,n){const i={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:i.position=pa(e);break;case 39:i.thickness=n.value;break;case 210:i.extrusionDirection=pa(e);break;case 100:break;default:Su(i,n,e);break}n=e.next()}return i}};class mCe{constructor(){this.ForEntityName="VERTEX"}parseEntity(e,n){var r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.x=n.value;break;case 20:r.y=n.value;break;case 30:r.z=n.value;break;case 40:break;case 41:break;case 42:n.value!=0&&(r.bulge=n.value);break;case 70:r.curveFittingVertex=(n.value&1)!==0,r.curveFitTangent=(n.value&2)!==0,r.splineVertex=(n.value&8)!==0,r.splineControlPoint=(n.value&16)!==0,r.threeDPolylineVertex=(n.value&32)!==0,r.threeDPolylineMesh=(n.value&64)!==0,r.polyfaceMeshVertex=(n.value&128)!==0;break;case 50:break;case 71:r.faceA=n.value;break;case 72:r.faceB=n.value;break;case 73:r.faceC=n.value;break;case 74:r.faceD=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}}let vCe=class{constructor(){this.ForEntityName="POLYLINE"}parseEntity(e,n){var r={type:n.value,vertices:[]};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:break;case 20:break;case 30:break;case 39:r.thickness=n.value;break;case 40:break;case 41:break;case 70:r.shape=(n.value&1)!==0,r.includesCurveFitVertices=(n.value&2)!==0,r.includesSplineFitVertices=(n.value&4)!==0,r.is3dPolyline=(n.value&8)!==0,r.is3dPolygonMesh=(n.value&16)!==0,r.is3dPolygonMeshClosed=(n.value&32)!==0,r.isPolyfaceMesh=(n.value&64)!==0,r.hasContinuousLinetypePattern=(n.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:r.extrusionDirection=pa(e);break;default:Su(r,n,e);break}n=e.next()}return r.vertices=yCe(e,n),r}};function yCe(t,e){const n=new mCe,r=[];for(;!t.isEOF();)if(e.code===0){if(e.value==="VERTEX")r.push(n.parseEntity(t,e)),e=t.lastReadGroup;else if(e.value==="SEQEND"){_Ce(t,e);break}}return r}function _Ce(t,e){const n={type:e.value};for(e=t.next();!t.isEOF()&&e.code!=0;)Su(n,e,t),e=t.next();return n}class wCe{constructor(){this.ForEntityName="SOLID"}parseEntity(e,n){const r={type:n.value,points:[]};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.points[0]=pa(e);break;case 11:r.points[1]=pa(e);break;case 12:r.points[2]=pa(e);break;case 13:r.points[3]=pa(e);break;case 210:r.extrusionDirection=pa(e);break;default:Su(r,n,e);break}n=e.next()}return r}}class bCe{constructor(){this.ForEntityName="SPLINE"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.controlPoints||(r.controlPoints=[]),r.controlPoints.push(pa(e));break;case 11:r.fitPoints||(r.fitPoints=[]),r.fitPoints.push(pa(e));break;case 12:r.startTangent=pa(e);break;case 13:r.endTangent=pa(e);break;case 40:r.knotValues||(r.knotValues=[]),r.knotValues.push(n.value);break;case 70:(n.value&1)!=0&&(r.closed=!0),(n.value&2)!=0&&(r.periodic=!0),(n.value&4)!=0&&(r.rational=!0),(n.value&8)!=0&&(r.planar=!0),(n.value&16)!=0&&(r.planar=!0,r.linear=!0);break;case 71:r.degreeOfSplineCurve=n.value;break;case 72:r.numberOfKnots=n.value;break;case 73:r.numberOfControlPoints=n.value;break;case 74:r.numberOfFitPoints=n.value;break;case 210:r.normalVector=pa(e);break;default:Su(r,n,e);break}n=e.next()}return r}}let xCe=class{constructor(){this.ForEntityName="TEXT"}parseEntity(e,n){const r={type:n.value};for(n=e.next();!e.isEOF()&&n.code!==0;){switch(n.code){case 10:r.startPoint=pa(e);break;case 11:r.endPoint=pa(e);break;case 40:r.textHeight=n.value;break;case 41:r.xScale=n.value;break;case 50:r.rotation=n.value;break;case 1:r.text=n.value;break;case 72:r.halign=n.value;break;case 73:r.valign=n.value;break;default:Su(r,n,e);break}n=e.next()}return r}};function Pf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IP={exports:{}},ECe=IP.exports,yK;function SCe(){return yK||(yK=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(ECe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},a=null;function o(g,y){var _=g[y];if(typeof _.bind=="function")return _.bind(g);try{return Function.prototype.bind.call(_,g)}catch(x){return function(){return Function.prototype.apply.apply(_,[g,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?l:console[g]!==void 0?o(console,g):console.log!==void 0?o(console,"log"):e}function h(){for(var g=this.getLevel(),y=0;y<i.length;y++){var _=i[y];this[_]=y<g?e:this.methodFactory(_,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function d(g){return function(){typeof console!==n&&(h.call(this),this[g].apply(this,arguments))}}function f(g,y,_){return u(g)||d.apply(this,arguments)}function A(g,y){var _=this,x,S,C,M="loglevel";typeof g=="string"?M+=":"+g:typeof g=="symbol"&&(M=void 0);function B(O){var F=(i[O]||"silent").toUpperCase();if(!(typeof window===n||!M)){try{window.localStorage[M]=F;return}catch(U){}try{window.document.cookie=encodeURIComponent(M)+"="+F+";"}catch(U){}}}function E(){var O;if(!(typeof window===n||!M)){try{O=window.localStorage[M]}catch(K){}if(typeof O===n)try{var F=window.document.cookie,U=encodeURIComponent(M),$=F.indexOf(U+"=");$!==-1&&(O=/^([^;]+)/.exec(F.slice($+U.length+1))[1])}catch(K){}return _.levels[O]===void 0&&(O=void 0),O}}function L(){if(!(typeof window===n||!M)){try{window.localStorage.removeItem(M)}catch(O){}try{window.document.cookie=encodeURIComponent(M)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(O){}}}function I(O){var F=O;if(typeof F=="string"&&_.levels[F.toUpperCase()]!==void 0&&(F=_.levels[F.toUpperCase()]),typeof F=="number"&&F>=0&&F<=_.levels.SILENT)return F;throw new TypeError("log.setLevel() called with invalid level: "+O)}_.name=g,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=y||f,_.getLevel=function(){return C!=null?C:S!=null?S:x},_.setLevel=function(O,F){return C=I(O),F!==!1&&B(C),h.call(_)},_.setDefaultLevel=function(O){S=I(O),E()||_.setLevel(O,!1)},_.resetLevel=function(){C=null,L(),h.call(_)},_.enableAll=function(O){_.setLevel(_.levels.TRACE,O)},_.disableAll=function(O){_.setLevel(_.levels.SILENT,O)},_.rebuild=function(){if(a!==_&&(x=I(a.getLevel())),h.call(_),a===_)for(var O in s)s[O].rebuild()},x=I(a?a.getLevel():"WARN");var k=E();k!=null&&(C=I(k)),h.call(_)}a=new A,a.getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var _=s[y];return _||(_=s[y]=new A(y,a.methodFactory)),_};var m=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=m),a},a.getLoggers=function(){return s},a.default=a,a})}(IP)),IP.exports}var CCe=SCe();const Aa=Pf(CCe);Aa.setLevel("error");function TCe(t){t.registerEntityHandler(iCe),t.registerEntityHandler(aCe),t.registerEntityHandler(oCe),t.registerEntityHandler(lCe),t.registerEntityHandler(cCe),t.registerEntityHandler(uCe),t.registerEntityHandler(hCe),t.registerEntityHandler(dCe),t.registerEntityHandler(fCe),t.registerEntityHandler(pCe),t.registerEntityHandler(gCe),t.registerEntityHandler(vCe),t.registerEntityHandler(wCe),t.registerEntityHandler(bCe),t.registerEntityHandler(xCe)}class MCe{constructor(){this._entityHandlers={},TCe(this)}parse(e){return typeof e=="string"?this._parse(e):(console.error("Cannot read dxf source of type `"+typeof e),null)}registerEntityHandler(e){const n=new e;this._entityHandlers[n.ForEntityName]=n}parseSync(e){return this.parse(e)}parseStream(e){let n="";const r=this;return new Promise((i,s)=>{e.on("data",a=>{n+=a}),e.on("end",()=>{try{i(r._parse(n))}catch(a){s(a)}}),e.on("error",a=>{s(a)})})}_parse(e){const n={};let r=0;const i=e.split(/\r\n|\r|\n/g),s=new tCe(i);if(!s.hasNext())throw Error("Empty file");const a=this;let o;function l(){for(o=s.next();!s.isEOF();)if(o.code===0&&o.value==="SECTION"){if(o=s.next(),o.code!==2){console.error("Unexpected code %s after 0:SECTION",boe(o)),o=s.next();continue}o.value==="HEADER"?(Aa.debug("> HEADER"),n.header=u(),Aa.debug("<")):o.value==="BLOCKS"?(Aa.debug("> BLOCKS"),n.blocks=h(),Aa.debug("<")):o.value==="ENTITIES"?(Aa.debug("> ENTITIES"),n.entities=S(!1),Aa.debug("<")):o.value==="TABLES"?(Aa.debug("> TABLES"),n.tables=f(),Aa.debug("<")):o.value==="EOF"?Aa.debug("EOF"):Aa.warn("Skipping section '%s'",o.value)}else o=s.next()}function u(){let B=null,E=null;const L={};for(o=s.next();;){if(wg(o,0,"ENDSEC")){B&&(L[B]=E);break}else o.code===9?(B&&(L[B]=E),B=o.value):o.code===10?E={x:o.value}:o.code===20?E.y=o.value:o.code===30?E.z=o.value:E=o.value;o=s.next()}return o=s.next(),L}function h(){const B={};for(o=s.next();o.value!=="EOF"&&!wg(o,0,"ENDSEC");)if(wg(o,0,"BLOCK")){Aa.debug("block {");const E=d();Aa.debug("}"),M(E),E.name?B[E.name]=E:Aa.error('block with handle "'+E.handle+'" is missing a name.')}else M_(o),o=s.next();return B}function d(){const B={};for(o=s.next();o.value!=="EOF";){switch(o.code){case 1:B.xrefPath=o.value,o=s.next();break;case 2:B.name=o.value,o=s.next();break;case 3:B.name2=o.value,o=s.next();break;case 5:B.handle=o.value,o=s.next();break;case 8:B.layer=o.value,o=s.next();break;case 10:B.position=C(o),o=s.next();break;case 67:B.paperSpace=!!(o.value&&o.value==1),o=s.next();break;case 70:o.value!=0&&(B.type=o.value),o=s.next();break;case 100:o=s.next();break;case 330:B.ownerHandle=o.value,o=s.next();break;case 0:if(o.value=="ENDBLK")break;B.entities=S(!0);break;default:M_(o),o=s.next()}if(wg(o,0,"ENDBLK")){o=s.next();break}}return B}function f(){const B={};for(o=s.next();o.value!=="EOF"&&!wg(o,0,"ENDSEC");)wg(o,0,"TABLE")?(o=s.next(),x[o.value]?(Aa.debug(o.value+" Table {"),B[x[o.value].tableName]=m(o),Aa.debug("}")):Aa.debug("Unhandled Table "+o.value)):o=s.next();return o=s.next(),B}const A="ENDTAB";function m(B){const E=x[B.value],L={};let I=0;for(o=s.next();!wg(o,0,A);)switch(o.code){case 5:L.handle=o.value,o=s.next();break;case 330:L.ownerHandle=o.value,o=s.next();break;case 100:o.value==="AcDbSymbolTable"||M_(o),o=s.next();break;case 70:I=o.value,o=s.next();break;case 0:o.value===E.dxfSymbolName?L[E.tableRecordsProperty]=E.parseTableRecords():(M_(o),o=s.next());break;default:M_(o),o=s.next()}const k=L[E.tableRecordsProperty];if(k){let O=(()=>{if(k.constructor===Array)return k.length;if(typeof k=="object")return Object.keys(k).length})();I!==O&&Aa.warn("Parsed "+O+" "+E.dxfSymbolName+"'s but expected "+I)}return o=s.next(),L}function g(){const B=[];let E={};for(Aa.debug("ViewPort {"),o=s.next();!wg(o,0,A);)switch(o.code){case 2:E.name=o.value,o=s.next();break;case 10:E.lowerLeftCorner=C(o),o=s.next();break;case 11:E.upperRightCorner=C(o),o=s.next();break;case 12:E.center=C(o),o=s.next();break;case 13:E.snapBasePoint=C(o),o=s.next();break;case 14:E.snapSpacing=C(o),o=s.next();break;case 15:E.gridSpacing=C(o),o=s.next();break;case 16:E.viewDirectionFromTarget=C(o),o=s.next();break;case 17:E.viewTarget=C(o),o=s.next();break;case 42:E.lensLength=o.value,o=s.next();break;case 43:E.frontClippingPlane=o.value,o=s.next();break;case 44:E.backClippingPlane=o.value,o=s.next();break;case 45:E.viewHeight=o.value,o=s.next();break;case 50:E.snapRotationAngle=o.value,o=s.next();break;case 51:E.viewTwistAngle=o.value,o=s.next();break;case 79:E.orthographicType=o.value,o=s.next();break;case 110:E.ucsOrigin=C(o),o=s.next();break;case 111:E.ucsXAxis=C(o),o=s.next();break;case 112:E.ucsYAxis=C(o),o=s.next();break;case 110:E.ucsOrigin=C(o),o=s.next();break;case 281:E.renderMode=o.value,o=s.next();break;case 281:E.defaultLightingType=o.value,o=s.next();break;case 292:E.defaultLightingOn=o.value,o=s.next();break;case 330:E.ownerHandle=o.value,o=s.next();break;case 63:case 421:case 431:E.ambientColor=o.value,o=s.next();break;case 0:o.value==="VPORT"&&(Aa.debug("}"),B.push(E),Aa.debug("ViewPort {"),E={},o=s.next());break;default:M_(o),o=s.next();break}return Aa.debug("}"),B.push(E),B}function y(){const B={};let E={},L=0,I;for(Aa.debug("LType {"),o=s.next();!wg(o,0,"ENDTAB");)switch(o.code){case 2:E.name=o.value,I=o.value,o=s.next();break;case 3:E.description=o.value,o=s.next();break;case 73:L=o.value,L>0&&(E.pattern=[]),o=s.next();break;case 40:E.patternLength=o.value,o=s.next();break;case 49:E.pattern.push(o.value),o=s.next();break;case 0:Aa.debug("}"),L>0&&L!==E.pattern.length&&Aa.warn("lengths do not match on LTYPE pattern"),B[I]=E,E={},Aa.debug("LType {"),o=s.next();break;default:o=s.next()}return Aa.debug("}"),B[I]=E,B}function _(){const B={};let E={},L;for(Aa.debug("Layer {"),o=s.next();!wg(o,0,"ENDTAB");)switch(o.code){case 2:E.name=o.value,L=o.value,o=s.next();break;case 62:E.visible=o.value>=0,E.colorIndex=Math.abs(o.value),E.color=LCe(E.colorIndex),o=s.next();break;case 70:E.frozen=(o.value&1)!=0||(o.value&2)!=0,o=s.next();break;case 0:o.value==="LAYER"&&(Aa.debug("}"),B[L]=E,Aa.debug("Layer {"),E={},L=void 0,o=s.next());break;default:M_(o),o=s.next();break}return Aa.debug("}"),B[L]=E,B}const x={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:g},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:y},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:_}};function S(B){const E=[],L=B?"ENDBLK":"ENDSEC";for(B||(o=s.next());;)if(o.code===0){if(o.value===L)break;const I=a._entityHandlers[o.value];if(I!=null){Aa.debug(o.value+" {");const k=I.parseEntity(s,o);o=s.lastReadGroup,Aa.debug("}"),M(k),E.push(k)}else{Aa.warn("Unhandled entity "+o.value),o=s.next();continue}}else o=s.next();return L=="ENDSEC"&&(o=s.next()),E}function C(B){const E={};let L=B.code;if(E.x=B.value,L+=10,B=s.next(),B.code!=L)throw new Error("Expected code for point value to be "+L+" but got "+B.code+".");return E.y=B.value,L+=10,B=s.next(),B.code!=L?(s.rewind(),E):(E.z=B.value,E)}function M(B){if(!B)throw new TypeError("entity cannot be undefined or null");B.handle||(B.handle=r++)}return l(),n}}function wg(t,e,n){return t.code===e&&t.value===n}function M_(t){Aa.debug("unhandled group "+boe(t))}function boe(t){return t.code+":"+t.value}function LCe(t){return woe[t]}const gr=function(t,e){if(typeof exports=="object"&&typeof module<"u")e(exports);else if(typeof define=="function"&&define.amd)define(["exports"],e);else if(typeof t=="object")e(t.THREE={});else{const n={};return e(n),n}}(void 0,function(t){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c}),Math.sign===void 0&&(Math.sign=function(c){return c<0?-1:c>0?1:+c}),"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&function(){Object.assign=function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(c),v=1;v<arguments.length;v++){var w=arguments[v];if(w!=null)for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(p[T]=w[T])}return p}}();function e(){}Object.assign(e.prototype,{addEventListener:function(c,p){this._listeners===void 0&&(this._listeners={});var v=this._listeners;v[c]===void 0&&(v[c]=[]),v[c].indexOf(p)===-1&&v[c].push(p)},hasEventListener:function(c,p){if(this._listeners===void 0)return!1;var v=this._listeners;return v[c]!==void 0&&v[c].indexOf(p)!==-1},removeEventListener:function(c,p){if(this._listeners!==void 0){var v=this._listeners,w=v[c];if(w!==void 0){var T=w.indexOf(p);T!==-1&&w.splice(T,1)}}},dispatchEvent:function(c){if(this._listeners!==void 0){var p=this._listeners,v=p[c.type];if(v!==void 0&&v[0]!==void 0){c.target=this;for(var w=v.slice(0),T=0,R=w.length;T<R;T++)w[T]!==void 0&&w[T].call(this,c)}}}});var n="96",r={LEFT:0,MIDDLE:1,RIGHT:2},i=0,s=1,a=2,o=3,l=0,u=1,h=0,d=1,f=2,A=0,m=1,g=2,y=1,_=2,x=0,S=1,C=2,M=0,B=1,E=2,L=3,I=4,k=5,O=100,F=101,U=102,$=103,K=104,V=200,Q=201,X=202,z=203,ne=204,he=205,W=206,Y=207,oe=208,fe=209,me=210,ce=0,be=1,xe=2,Ie=3,Qe=4,ue=5,ye=6,$e=7,Ve=0,Se=1,at=2,ft=0,je=1,gt=2,vt=3,Te=4,we=300,Ne=301,Ze=302,Tt=303,Zt=304,ln=305,Ye=306,yt=307,Qt=1e3,Dt=1001,st=1002,ke=1003,ct=1004,Oe=1005,kt=1006,wn=1007,mt=1008,Kt=1009,bn=1010,Rn=1011,On=1012,Dn=1013,Un=1014,jr=1015,Mi=1016,bi=1017,Ji=1018,br=1019,fs=1020,Di=1021,Hi=1022,ki=1023,ot=1024,sn=1025,Cn=ki,it=1026,Ft=1027,Gn=33776,fr=33777,Gr=33778,$r=33779,oi=35840,xi=35841,mi=35842,Lt=35843,ut=36196,on=37808,xn=37809,Rr=37810,Xr=37811,ta=37812,Ki=37813,Eo=37814,na=37815,Kl=37816,Ic=37817,to=37818,ql=37819,ed=37820,Ls=37821,So=2200,Ru=2201,hh=2202,jd=2300,TA=2301,Xl=2302,iu=2400,fo=2401,td=2402,Qp=0,Zv=1,Ac=2,Of=3e3,Kd=3001,Mm=3007,Wp=3002,qd=3003,nd=3004,jp=3005,rd=3006,dh=3200,Nf=3201,Xd=0,cl=1,qi={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var c=[],p=0;p<256;p++)c[p]=(p<16?"0":"")+p.toString(16);return function(){var w=Math.random()*4294967295|0,T=Math.random()*4294967295|0,R=Math.random()*4294967295|0,P=Math.random()*4294967295|0,H=c[w&255]+c[w>>8&255]+c[w>>16&255]+c[w>>24&255]+"-"+c[T&255]+c[T>>8&255]+"-"+c[T>>16&15|64]+c[T>>24&255]+"-"+c[R&63|128]+c[R>>8&255]+"-"+c[R>>16&255]+c[R>>24&255]+c[P&255]+c[P>>8&255]+c[P>>16&255]+c[P>>24&255];return H.toUpperCase()}}(),clamp:function(c,p,v){return Math.max(p,Math.min(v,c))},euclideanModulo:function(c,p){return(c%p+p)%p},mapLinear:function(c,p,v,w,T){return w+(c-p)*(T-w)/(v-p)},lerp:function(c,p,v){return(1-v)*c+v*p},smoothstep:function(c,p,v){return c<=p?0:c>=v?1:(c=(c-p)/(v-p),c*c*(3-2*c))},smootherstep:function(c,p,v){return c<=p?0:c>=v?1:(c=(c-p)/(v-p),c*c*c*(c*(c*6-15)+10))},randInt:function(c,p){return c+Math.floor(Math.random()*(p-c+1))},randFloat:function(c,p){return c+Math.random()*(p-c)},randFloatSpread:function(c){return c*(.5-Math.random())},degToRad:function(c){return c*qi.DEG2RAD},radToDeg:function(c){return c*qi.RAD2DEG},isPowerOfTwo:function(c){return(c&c-1)===0&&c!==0},ceilPowerOfTwo:function(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},floorPowerOfTwo:function(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}};function ir(c,p){this.x=c||0,this.y=p||0}Object.defineProperties(ir.prototype,{width:{get:function(){return this.x},set:function(c){this.x=c}},height:{get:function(){return this.y},set:function(c){this.y=c}}}),Object.assign(ir.prototype,{isVector2:!0,set:function(c,p){return this.x=c,this.y=p,this},setScalar:function(c){return this.x=c,this.y=c,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setComponent:function(c,p){switch(c){case 0:this.x=p;break;case 1:this.y=p;break;default:throw new Error("index is out of range: "+c)}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+c)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(c){return this.x=c.x,this.y=c.y,this},add:function(c,p){return p!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,p)):(this.x+=c.x,this.y+=c.y,this)},addScalar:function(c){return this.x+=c,this.y+=c,this},addVectors:function(c,p){return this.x=c.x+p.x,this.y=c.y+p.y,this},addScaledVector:function(c,p){return this.x+=c.x*p,this.y+=c.y*p,this},sub:function(c,p){return p!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,p)):(this.x-=c.x,this.y-=c.y,this)},subScalar:function(c){return this.x-=c,this.y-=c,this},subVectors:function(c,p){return this.x=c.x-p.x,this.y=c.y-p.y,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this},multiplyScalar:function(c){return this.x*=c,this.y*=c,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this},divideScalar:function(c){return this.multiplyScalar(1/c)},applyMatrix3:function(c){var p=this.x,v=this.y,w=c.elements;return this.x=w[0]*p+w[3]*v+w[6],this.y=w[1]*p+w[4]*v+w[7],this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this},clamp:function(c,p){return this.x=Math.max(c.x,Math.min(p.x,this.x)),this.y=Math.max(c.y,Math.min(p.y,this.y)),this},clampScalar:function(){var c=new ir,p=new ir;return function(w,T){return c.set(w,w),p.set(T,T),this.clamp(c,p)}}(),clampLength:function(c,p){var v=this.length();return this.divideScalar(v||1).multiplyScalar(Math.max(c,Math.min(p,v)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var c=Math.atan2(this.y,this.x);return c<0&&(c+=2*Math.PI),c},distanceTo:function(c){return Math.sqrt(this.distanceToSquared(c))},distanceToSquared:function(c){var p=this.x-c.x,v=this.y-c.y;return p*p+v*v},manhattanDistanceTo:function(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)},setLength:function(c){return this.normalize().multiplyScalar(c)},lerp:function(c,p){return this.x+=(c.x-this.x)*p,this.y+=(c.y-this.y)*p,this},lerpVectors:function(c,p,v){return this.subVectors(p,c).multiplyScalar(v).add(c)},equals:function(c){return c.x===this.x&&c.y===this.y},fromArray:function(c,p){return p===void 0&&(p=0),this.x=c[p],this.y=c[p+1],this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this.x,c[p+1]=this.y,c},fromBufferAttribute:function(c,p,v){return v!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(p),this.y=c.getY(p),this},rotateAround:function(c,p){var v=Math.cos(p),w=Math.sin(p),T=this.x-c.x,R=this.y-c.y;return this.x=T*v-R*w+c.x,this.y=T*w+R*v+c.y,this}});function ur(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ur.prototype,{isMatrix4:!0,set:function(c,p,v,w,T,R,P,H,G,Z,ee,re,se,Ae,_e,Ue){var We=this.elements;return We[0]=c,We[4]=p,We[8]=v,We[12]=w,We[1]=T,We[5]=R,We[9]=P,We[13]=H,We[2]=G,We[6]=Z,We[10]=ee,We[14]=re,We[3]=se,We[7]=Ae,We[11]=_e,We[15]=Ue,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ur().fromArray(this.elements)},copy:function(c){var p=this.elements,v=c.elements;return p[0]=v[0],p[1]=v[1],p[2]=v[2],p[3]=v[3],p[4]=v[4],p[5]=v[5],p[6]=v[6],p[7]=v[7],p[8]=v[8],p[9]=v[9],p[10]=v[10],p[11]=v[11],p[12]=v[12],p[13]=v[13],p[14]=v[14],p[15]=v[15],this},copyPosition:function(c){var p=this.elements,v=c.elements;return p[12]=v[12],p[13]=v[13],p[14]=v[14],this},extractBasis:function(c,p,v){return c.setFromMatrixColumn(this,0),p.setFromMatrixColumn(this,1),v.setFromMatrixColumn(this,2),this},makeBasis:function(c,p,v){return this.set(c.x,p.x,v.x,0,c.y,p.y,v.y,0,c.z,p.z,v.z,0,0,0,0,1),this},extractRotation:function(){var c=new dt;return function(v){var w=this.elements,T=v.elements,R=1/c.setFromMatrixColumn(v,0).length(),P=1/c.setFromMatrixColumn(v,1).length(),H=1/c.setFromMatrixColumn(v,2).length();return w[0]=T[0]*R,w[1]=T[1]*R,w[2]=T[2]*R,w[3]=0,w[4]=T[4]*P,w[5]=T[5]*P,w[6]=T[6]*P,w[7]=0,w[8]=T[8]*H,w[9]=T[9]*H,w[10]=T[10]*H,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,this}}(),makeRotationFromEuler:function(c){c&&c.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var p=this.elements,v=c.x,w=c.y,T=c.z,R=Math.cos(v),P=Math.sin(v),H=Math.cos(w),G=Math.sin(w),Z=Math.cos(T),ee=Math.sin(T);if(c.order==="XYZ"){var re=R*Z,se=R*ee,Ae=P*Z,_e=P*ee;p[0]=H*Z,p[4]=-H*ee,p[8]=G,p[1]=se+Ae*G,p[5]=re-_e*G,p[9]=-P*H,p[2]=_e-re*G,p[6]=Ae+se*G,p[10]=R*H}else if(c.order==="YXZ"){var Ue=H*Z,We=H*ee,Ke=G*Z,rt=G*ee;p[0]=Ue+rt*P,p[4]=Ke*P-We,p[8]=R*G,p[1]=R*ee,p[5]=R*Z,p[9]=-P,p[2]=We*P-Ke,p[6]=rt+Ue*P,p[10]=R*H}else if(c.order==="ZXY"){var Ue=H*Z,We=H*ee,Ke=G*Z,rt=G*ee;p[0]=Ue-rt*P,p[4]=-R*ee,p[8]=Ke+We*P,p[1]=We+Ke*P,p[5]=R*Z,p[9]=rt-Ue*P,p[2]=-R*G,p[6]=P,p[10]=R*H}else if(c.order==="ZYX"){var re=R*Z,se=R*ee,Ae=P*Z,_e=P*ee;p[0]=H*Z,p[4]=Ae*G-se,p[8]=re*G+_e,p[1]=H*ee,p[5]=_e*G+re,p[9]=se*G-Ae,p[2]=-G,p[6]=P*H,p[10]=R*H}else if(c.order==="YZX"){var et=R*H,qe=R*G,It=P*H,Nt=P*G;p[0]=H*Z,p[4]=Nt-et*ee,p[8]=It*ee+qe,p[1]=ee,p[5]=R*Z,p[9]=-P*Z,p[2]=-G*Z,p[6]=qe*ee+It,p[10]=et-Nt*ee}else if(c.order==="XZY"){var et=R*H,qe=R*G,It=P*H,Nt=P*G;p[0]=H*Z,p[4]=-ee,p[8]=G*Z,p[1]=et*ee+Nt,p[5]=R*Z,p[9]=qe*ee-It,p[2]=It*ee-qe,p[6]=P*Z,p[10]=Nt*ee+et}return p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,this},makeRotationFromQuaternion:function(){var c=new dt(0,0,0),p=new dt(1,1,1);return function(w){return this.compose(c,w,p)}}(),lookAt:function(){var c=new dt,p=new dt,v=new dt;return function(T,R,P){var H=this.elements;return v.subVectors(T,R),v.lengthSq()===0&&(v.z=1),v.normalize(),c.crossVectors(P,v),c.lengthSq()===0&&(Math.abs(P.z)===1?v.x+=1e-4:v.z+=1e-4,v.normalize(),c.crossVectors(P,v)),c.normalize(),p.crossVectors(v,c),H[0]=c.x,H[4]=p.x,H[8]=v.x,H[1]=c.y,H[5]=p.y,H[9]=v.y,H[2]=c.z,H[6]=p.z,H[10]=v.z,this}}(),multiply:function(c,p){return p!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(c,p)):this.multiplyMatrices(this,c)},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var v=c.elements,w=p.elements,T=this.elements,R=v[0],P=v[4],H=v[8],G=v[12],Z=v[1],ee=v[5],re=v[9],se=v[13],Ae=v[2],_e=v[6],Ue=v[10],We=v[14],Ke=v[3],rt=v[7],et=v[11],qe=v[15],It=w[0],Nt=w[4],Ot=w[8],en=w[12],Ut=w[1],fn=w[5],gn=w[9],qn=w[13],xr=w[2],sr=w[6],hr=w[10],Or=w[14],Mt=w[3],xt=w[7],kn=w[11],En=w[15];return T[0]=R*It+P*Ut+H*xr+G*Mt,T[4]=R*Nt+P*fn+H*sr+G*xt,T[8]=R*Ot+P*gn+H*hr+G*kn,T[12]=R*en+P*qn+H*Or+G*En,T[1]=Z*It+ee*Ut+re*xr+se*Mt,T[5]=Z*Nt+ee*fn+re*sr+se*xt,T[9]=Z*Ot+ee*gn+re*hr+se*kn,T[13]=Z*en+ee*qn+re*Or+se*En,T[2]=Ae*It+_e*Ut+Ue*xr+We*Mt,T[6]=Ae*Nt+_e*fn+Ue*sr+We*xt,T[10]=Ae*Ot+_e*gn+Ue*hr+We*kn,T[14]=Ae*en+_e*qn+Ue*Or+We*En,T[3]=Ke*It+rt*Ut+et*xr+qe*Mt,T[7]=Ke*Nt+rt*fn+et*sr+qe*xt,T[11]=Ke*Ot+rt*gn+et*hr+qe*kn,T[15]=Ke*en+rt*qn+et*Or+qe*En,this},multiplyScalar:function(c){var p=this.elements;return p[0]*=c,p[4]*=c,p[8]*=c,p[12]*=c,p[1]*=c,p[5]*=c,p[9]*=c,p[13]*=c,p[2]*=c,p[6]*=c,p[10]*=c,p[14]*=c,p[3]*=c,p[7]*=c,p[11]*=c,p[15]*=c,this},applyToBufferAttribute:function(){var c=new dt;return function(v){for(var w=0,T=v.count;w<T;w++)c.x=v.getX(w),c.y=v.getY(w),c.z=v.getZ(w),c.applyMatrix4(this),v.setXYZ(w,c.x,c.y,c.z);return v}}(),determinant:function(){var c=this.elements,p=c[0],v=c[4],w=c[8],T=c[12],R=c[1],P=c[5],H=c[9],G=c[13],Z=c[2],ee=c[6],re=c[10],se=c[14],Ae=c[3],_e=c[7],Ue=c[11],We=c[15];return Ae*(+T*H*ee-w*G*ee-T*P*re+v*G*re+w*P*se-v*H*se)+_e*(+p*H*se-p*G*re+T*R*re-w*R*se+w*G*Z-T*H*Z)+Ue*(+p*G*ee-p*P*se-T*R*ee+v*R*se+T*P*Z-v*G*Z)+We*(-w*P*Z-p*H*ee+p*P*re+w*R*ee-v*R*re+v*H*Z)},transpose:function(){var c=this.elements,p;return p=c[1],c[1]=c[4],c[4]=p,p=c[2],c[2]=c[8],c[8]=p,p=c[6],c[6]=c[9],c[9]=p,p=c[3],c[3]=c[12],c[12]=p,p=c[7],c[7]=c[13],c[13]=p,p=c[11],c[11]=c[14],c[14]=p,this},setPosition:function(c){var p=this.elements;return p[12]=c.x,p[13]=c.y,p[14]=c.z,this},getInverse:function(c,p){var v=this.elements,w=c.elements,T=w[0],R=w[1],P=w[2],H=w[3],G=w[4],Z=w[5],ee=w[6],re=w[7],se=w[8],Ae=w[9],_e=w[10],Ue=w[11],We=w[12],Ke=w[13],rt=w[14],et=w[15],qe=Ae*rt*re-Ke*_e*re+Ke*ee*Ue-Z*rt*Ue-Ae*ee*et+Z*_e*et,It=We*_e*re-se*rt*re-We*ee*Ue+G*rt*Ue+se*ee*et-G*_e*et,Nt=se*Ke*re-We*Ae*re+We*Z*Ue-G*Ke*Ue-se*Z*et+G*Ae*et,Ot=We*Ae*ee-se*Ke*ee-We*Z*_e+G*Ke*_e+se*Z*rt-G*Ae*rt,en=T*qe+R*It+P*Nt+H*Ot;if(en===0){var Ut="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(p===!0)throw new Error(Ut);return console.warn(Ut),this.identity()}var fn=1/en;return v[0]=qe*fn,v[1]=(Ke*_e*H-Ae*rt*H-Ke*P*Ue+R*rt*Ue+Ae*P*et-R*_e*et)*fn,v[2]=(Z*rt*H-Ke*ee*H+Ke*P*re-R*rt*re-Z*P*et+R*ee*et)*fn,v[3]=(Ae*ee*H-Z*_e*H-Ae*P*re+R*_e*re+Z*P*Ue-R*ee*Ue)*fn,v[4]=It*fn,v[5]=(se*rt*H-We*_e*H+We*P*Ue-T*rt*Ue-se*P*et+T*_e*et)*fn,v[6]=(We*ee*H-G*rt*H-We*P*re+T*rt*re+G*P*et-T*ee*et)*fn,v[7]=(G*_e*H-se*ee*H+se*P*re-T*_e*re-G*P*Ue+T*ee*Ue)*fn,v[8]=Nt*fn,v[9]=(We*Ae*H-se*Ke*H-We*R*Ue+T*Ke*Ue+se*R*et-T*Ae*et)*fn,v[10]=(G*Ke*H-We*Z*H+We*R*re-T*Ke*re-G*R*et+T*Z*et)*fn,v[11]=(se*Z*H-G*Ae*H-se*R*re+T*Ae*re+G*R*Ue-T*Z*Ue)*fn,v[12]=Ot*fn,v[13]=(se*Ke*P-We*Ae*P+We*R*_e-T*Ke*_e-se*R*rt+T*Ae*rt)*fn,v[14]=(We*Z*P-G*Ke*P-We*R*ee+T*Ke*ee+G*R*rt-T*Z*rt)*fn,v[15]=(G*Ae*P-se*Z*P+se*R*ee-T*Ae*ee-G*R*_e+T*Z*_e)*fn,this},scale:function(c){var p=this.elements,v=c.x,w=c.y,T=c.z;return p[0]*=v,p[4]*=w,p[8]*=T,p[1]*=v,p[5]*=w,p[9]*=T,p[2]*=v,p[6]*=w,p[10]*=T,p[3]*=v,p[7]*=w,p[11]*=T,this},getMaxScaleOnAxis:function(){var c=this.elements,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],v=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],w=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,v,w))},makeTranslation:function(c,p,v){return this.set(1,0,0,c,0,1,0,p,0,0,1,v,0,0,0,1),this},makeRotationX:function(c){var p=Math.cos(c),v=Math.sin(c);return this.set(1,0,0,0,0,p,-v,0,0,v,p,0,0,0,0,1),this},makeRotationY:function(c){var p=Math.cos(c),v=Math.sin(c);return this.set(p,0,v,0,0,1,0,0,-v,0,p,0,0,0,0,1),this},makeRotationZ:function(c){var p=Math.cos(c),v=Math.sin(c);return this.set(p,-v,0,0,v,p,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(c,p){var v=Math.cos(p),w=Math.sin(p),T=1-v,R=c.x,P=c.y,H=c.z,G=T*R,Z=T*P;return this.set(G*R+v,G*P-w*H,G*H+w*P,0,G*P+w*H,Z*P+v,Z*H-w*R,0,G*H-w*P,Z*H+w*R,T*H*H+v,0,0,0,0,1),this},makeScale:function(c,p,v){return this.set(c,0,0,0,0,p,0,0,0,0,v,0,0,0,0,1),this},makeShear:function(c,p,v){return this.set(1,p,v,0,c,1,v,0,c,p,1,0,0,0,0,1),this},compose:function(c,p,v){var w=this.elements,T=p._x,R=p._y,P=p._z,H=p._w,G=T+T,Z=R+R,ee=P+P,re=T*G,se=T*Z,Ae=T*ee,_e=R*Z,Ue=R*ee,We=P*ee,Ke=H*G,rt=H*Z,et=H*ee,qe=v.x,It=v.y,Nt=v.z;return w[0]=(1-(_e+We))*qe,w[1]=(se+et)*qe,w[2]=(Ae-rt)*qe,w[3]=0,w[4]=(se-et)*It,w[5]=(1-(re+We))*It,w[6]=(Ue+Ke)*It,w[7]=0,w[8]=(Ae+rt)*Nt,w[9]=(Ue-Ke)*Nt,w[10]=(1-(re+_e))*Nt,w[11]=0,w[12]=c.x,w[13]=c.y,w[14]=c.z,w[15]=1,this},decompose:function(){var c=new dt,p=new ur;return function(w,T,R){var P=this.elements,H=c.set(P[0],P[1],P[2]).length(),G=c.set(P[4],P[5],P[6]).length(),Z=c.set(P[8],P[9],P[10]).length(),ee=this.determinant();ee<0&&(H=-H),w.x=P[12],w.y=P[13],w.z=P[14],p.copy(this);var re=1/H,se=1/G,Ae=1/Z;return p.elements[0]*=re,p.elements[1]*=re,p.elements[2]*=re,p.elements[4]*=se,p.elements[5]*=se,p.elements[6]*=se,p.elements[8]*=Ae,p.elements[9]*=Ae,p.elements[10]*=Ae,T.setFromRotationMatrix(p),R.x=H,R.y=G,R.z=Z,this}}(),makePerspective:function(c,p,v,w,T,R){R===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var P=this.elements,H=2*T/(p-c),G=2*T/(v-w),Z=(p+c)/(p-c),ee=(v+w)/(v-w),re=-(R+T)/(R-T),se=-2*R*T/(R-T);return P[0]=H,P[4]=0,P[8]=Z,P[12]=0,P[1]=0,P[5]=G,P[9]=ee,P[13]=0,P[2]=0,P[6]=0,P[10]=re,P[14]=se,P[3]=0,P[7]=0,P[11]=-1,P[15]=0,this},makeOrthographic:function(c,p,v,w,T,R){var P=this.elements,H=1/(p-c),G=1/(v-w),Z=1/(R-T),ee=(p+c)*H,re=(v+w)*G,se=(R+T)*Z;return P[0]=2*H,P[4]=0,P[8]=0,P[12]=-ee,P[1]=0,P[5]=2*G,P[9]=0,P[13]=-re,P[2]=0,P[6]=0,P[10]=-2*Z,P[14]=-se,P[3]=0,P[7]=0,P[11]=0,P[15]=1,this},equals:function(c){for(var p=this.elements,v=c.elements,w=0;w<16;w++)if(p[w]!==v[w])return!1;return!0},fromArray:function(c,p){p===void 0&&(p=0);for(var v=0;v<16;v++)this.elements[v]=c[v+p];return this},toArray:function(c,p){c===void 0&&(c=[]),p===void 0&&(p=0);var v=this.elements;return c[p]=v[0],c[p+1]=v[1],c[p+2]=v[2],c[p+3]=v[3],c[p+4]=v[4],c[p+5]=v[5],c[p+6]=v[6],c[p+7]=v[7],c[p+8]=v[8],c[p+9]=v[9],c[p+10]=v[10],c[p+11]=v[11],c[p+12]=v[12],c[p+13]=v[13],c[p+14]=v[14],c[p+15]=v[15],c}});function Fo(c,p,v,w){this._x=c||0,this._y=p||0,this._z=v||0,this._w=w!==void 0?w:1}Object.assign(Fo,{slerp:function(c,p,v,w){return v.copy(c).slerp(p,w)},slerpFlat:function(c,p,v,w,T,R,P){var H=v[w+0],G=v[w+1],Z=v[w+2],ee=v[w+3],re=T[R+0],se=T[R+1],Ae=T[R+2],_e=T[R+3];if(ee!==_e||H!==re||G!==se||Z!==Ae){var Ue=1-P,We=H*re+G*se+Z*Ae+ee*_e,Ke=We>=0?1:-1,rt=1-We*We;if(rt>Number.EPSILON){var et=Math.sqrt(rt),qe=Math.atan2(et,We*Ke);Ue=Math.sin(Ue*qe)/et,P=Math.sin(P*qe)/et}var It=P*Ke;if(H=H*Ue+re*It,G=G*Ue+se*It,Z=Z*Ue+Ae*It,ee=ee*Ue+_e*It,Ue===1-P){var Nt=1/Math.sqrt(H*H+G*G+Z*Z+ee*ee);H*=Nt,G*=Nt,Z*=Nt,ee*=Nt}}c[p]=H,c[p+1]=G,c[p+2]=Z,c[p+3]=ee}}),Object.defineProperties(Fo.prototype,{x:{get:function(){return this._x},set:function(c){this._x=c,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(c){this._z=c,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(c){this._w=c,this.onChangeCallback()}}}),Object.assign(Fo.prototype,{set:function(c,p,v,w){return this._x=c,this._y=p,this._z=v,this._w=w,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(c){return this._x=c.x,this._y=c.y,this._z=c.z,this._w=c.w,this.onChangeCallback(),this},setFromEuler:function(c,p){if(!(c&&c.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var v=c._x,w=c._y,T=c._z,R=c.order,P=Math.cos,H=Math.sin,G=P(v/2),Z=P(w/2),ee=P(T/2),re=H(v/2),se=H(w/2),Ae=H(T/2);return R==="XYZ"?(this._x=re*Z*ee+G*se*Ae,this._y=G*se*ee-re*Z*Ae,this._z=G*Z*Ae+re*se*ee,this._w=G*Z*ee-re*se*Ae):R==="YXZ"?(this._x=re*Z*ee+G*se*Ae,this._y=G*se*ee-re*Z*Ae,this._z=G*Z*Ae-re*se*ee,this._w=G*Z*ee+re*se*Ae):R==="ZXY"?(this._x=re*Z*ee-G*se*Ae,this._y=G*se*ee+re*Z*Ae,this._z=G*Z*Ae+re*se*ee,this._w=G*Z*ee-re*se*Ae):R==="ZYX"?(this._x=re*Z*ee-G*se*Ae,this._y=G*se*ee+re*Z*Ae,this._z=G*Z*Ae-re*se*ee,this._w=G*Z*ee+re*se*Ae):R==="YZX"?(this._x=re*Z*ee+G*se*Ae,this._y=G*se*ee+re*Z*Ae,this._z=G*Z*Ae-re*se*ee,this._w=G*Z*ee-re*se*Ae):R==="XZY"&&(this._x=re*Z*ee-G*se*Ae,this._y=G*se*ee-re*Z*Ae,this._z=G*Z*Ae+re*se*ee,this._w=G*Z*ee+re*se*Ae),p!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(c,p){var v=p/2,w=Math.sin(v);return this._x=c.x*w,this._y=c.y*w,this._z=c.z*w,this._w=Math.cos(v),this.onChangeCallback(),this},setFromRotationMatrix:function(c){var p=c.elements,v=p[0],w=p[4],T=p[8],R=p[1],P=p[5],H=p[9],G=p[2],Z=p[6],ee=p[10],re=v+P+ee,se;return re>0?(se=.5/Math.sqrt(re+1),this._w=.25/se,this._x=(Z-H)*se,this._y=(T-G)*se,this._z=(R-w)*se):v>P&&v>ee?(se=2*Math.sqrt(1+v-P-ee),this._w=(Z-H)/se,this._x=.25*se,this._y=(w+R)/se,this._z=(T+G)/se):P>ee?(se=2*Math.sqrt(1+P-v-ee),this._w=(T-G)/se,this._x=(w+R)/se,this._y=.25*se,this._z=(H+Z)/se):(se=2*Math.sqrt(1+ee-v-P),this._w=(R-w)/se,this._x=(T+G)/se,this._y=(H+Z)/se,this._z=.25*se),this.onChangeCallback(),this},setFromUnitVectors:function(){var c=new dt,p,v=1e-6;return function(T,R){return c===void 0&&(c=new dt),p=T.dot(R)+1,p<v?(p=0,Math.abs(T.x)>Math.abs(T.z)?c.set(-T.y,T.x,0):c.set(0,-T.z,T.y)):c.crossVectors(T,R),this._x=c.x,this._y=c.y,this._z=c.z,this._w=p,this.normalize()}}(),angleTo:function(c){return 2*Math.acos(Math.abs(qi.clamp(this.dot(c),-1,1)))},rotateTowards:function(c,p){var v=this.angleTo(c);if(v===0)return this;var w=Math.min(1,p/v);return this.slerp(c,w),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(c){return this._x*c._x+this._y*c._y+this._z*c._z+this._w*c._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var c=this.length();return c===0?(this._x=0,this._y=0,this._z=0,this._w=1):(c=1/c,this._x=this._x*c,this._y=this._y*c,this._z=this._z*c,this._w=this._w*c),this.onChangeCallback(),this},multiply:function(c,p){return p!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(c,p)):this.multiplyQuaternions(this,c)},premultiply:function(c){return this.multiplyQuaternions(c,this)},multiplyQuaternions:function(c,p){var v=c._x,w=c._y,T=c._z,R=c._w,P=p._x,H=p._y,G=p._z,Z=p._w;return this._x=v*Z+R*P+w*G-T*H,this._y=w*Z+R*H+T*P-v*G,this._z=T*Z+R*G+v*H-w*P,this._w=R*Z-v*P-w*H-T*G,this.onChangeCallback(),this},slerp:function(c,p){if(p===0)return this;if(p===1)return this.copy(c);var v=this._x,w=this._y,T=this._z,R=this._w,P=R*c._w+v*c._x+w*c._y+T*c._z;if(P<0?(this._w=-c._w,this._x=-c._x,this._y=-c._y,this._z=-c._z,P=-P):this.copy(c),P>=1)return this._w=R,this._x=v,this._y=w,this._z=T,this;var H=1-P*P;if(H<=Number.EPSILON){var G=1-p;return this._w=G*R+p*this._w,this._x=G*v+p*this._x,this._y=G*w+p*this._y,this._z=G*T+p*this._z,this.normalize()}var Z=Math.sqrt(H),ee=Math.atan2(Z,P),re=Math.sin((1-p)*ee)/Z,se=Math.sin(p*ee)/Z;return this._w=R*re+this._w*se,this._x=v*re+this._x*se,this._y=w*re+this._y*se,this._z=T*re+this._z*se,this.onChangeCallback(),this},equals:function(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._w===this._w},fromArray:function(c,p){return p===void 0&&(p=0),this._x=c[p],this._y=c[p+1],this._z=c[p+2],this._w=c[p+3],this.onChangeCallback(),this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this._x,c[p+1]=this._y,c[p+2]=this._z,c[p+3]=this._w,c},onChange:function(c){return this.onChangeCallback=c,this},onChangeCallback:function(){}});function dt(c,p,v){this.x=c||0,this.y=p||0,this.z=v||0}Object.assign(dt.prototype,{isVector3:!0,set:function(c,p,v){return this.x=c,this.y=p,this.z=v,this},setScalar:function(c){return this.x=c,this.y=c,this.z=c,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setZ:function(c){return this.z=c,this},setComponent:function(c,p){switch(c){case 0:this.x=p;break;case 1:this.y=p;break;case 2:this.z=p;break;default:throw new Error("index is out of range: "+c)}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+c)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z,this},add:function(c,p){return p!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,p)):(this.x+=c.x,this.y+=c.y,this.z+=c.z,this)},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addVectors:function(c,p){return this.x=c.x+p.x,this.y=c.y+p.y,this.z=c.z+p.z,this},addScaledVector:function(c,p){return this.x+=c.x*p,this.y+=c.y*p,this.z+=c.z*p,this},sub:function(c,p){return p!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,p)):(this.x-=c.x,this.y-=c.y,this.z-=c.z,this)},subScalar:function(c){return this.x-=c,this.y-=c,this.z-=c,this},subVectors:function(c,p){return this.x=c.x-p.x,this.y=c.y-p.y,this.z=c.z-p.z,this},multiply:function(c,p){return p!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(c,p)):(this.x*=c.x,this.y*=c.y,this.z*=c.z,this)},multiplyScalar:function(c){return this.x*=c,this.y*=c,this.z*=c,this},multiplyVectors:function(c,p){return this.x=c.x*p.x,this.y=c.y*p.y,this.z=c.z*p.z,this},applyEuler:function(){var c=new Fo;return function(v){return v&&v.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(c.setFromEuler(v))}}(),applyAxisAngle:function(){var c=new Fo;return function(v,w){return this.applyQuaternion(c.setFromAxisAngle(v,w))}}(),applyMatrix3:function(c){var p=this.x,v=this.y,w=this.z,T=c.elements;return this.x=T[0]*p+T[3]*v+T[6]*w,this.y=T[1]*p+T[4]*v+T[7]*w,this.z=T[2]*p+T[5]*v+T[8]*w,this},applyMatrix4:function(c){var p=this.x,v=this.y,w=this.z,T=c.elements,R=1/(T[3]*p+T[7]*v+T[11]*w+T[15]);return this.x=(T[0]*p+T[4]*v+T[8]*w+T[12])*R,this.y=(T[1]*p+T[5]*v+T[9]*w+T[13])*R,this.z=(T[2]*p+T[6]*v+T[10]*w+T[14])*R,this},applyQuaternion:function(c){var p=this.x,v=this.y,w=this.z,T=c.x,R=c.y,P=c.z,H=c.w,G=H*p+R*w-P*v,Z=H*v+P*p-T*w,ee=H*w+T*v-R*p,re=-T*p-R*v-P*w;return this.x=G*H+re*-T+Z*-P-ee*-R,this.y=Z*H+re*-R+ee*-T-G*-P,this.z=ee*H+re*-P+G*-R-Z*-T,this},project:function(c){return this.applyMatrix4(c.matrixWorldInverse).applyMatrix4(c.projectionMatrix)},unproject:function(){var c=new ur;return function(v){return this.applyMatrix4(c.getInverse(v.projectionMatrix)).applyMatrix4(v.matrixWorld)}}(),transformDirection:function(c){var p=this.x,v=this.y,w=this.z,T=c.elements;return this.x=T[0]*p+T[4]*v+T[8]*w,this.y=T[1]*p+T[5]*v+T[9]*w,this.z=T[2]*p+T[6]*v+T[10]*w,this.normalize()},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z,this},divideScalar:function(c){return this.multiplyScalar(1/c)},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clamp:function(c,p){return this.x=Math.max(c.x,Math.min(p.x,this.x)),this.y=Math.max(c.y,Math.min(p.y,this.y)),this.z=Math.max(c.z,Math.min(p.z,this.z)),this},clampScalar:function(){var c=new dt,p=new dt;return function(w,T){return c.set(w,w,w),p.set(T,T,T),this.clamp(c,p)}}(),clampLength:function(c,p){var v=this.length();return this.divideScalar(v||1).multiplyScalar(Math.max(c,Math.min(p,v)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(c){return this.normalize().multiplyScalar(c)},lerp:function(c,p){return this.x+=(c.x-this.x)*p,this.y+=(c.y-this.y)*p,this.z+=(c.z-this.z)*p,this},lerpVectors:function(c,p,v){return this.subVectors(p,c).multiplyScalar(v).add(c)},cross:function(c,p){return p!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(c,p)):this.crossVectors(this,c)},crossVectors:function(c,p){var v=c.x,w=c.y,T=c.z,R=p.x,P=p.y,H=p.z;return this.x=w*H-T*P,this.y=T*R-v*H,this.z=v*P-w*R,this},projectOnVector:function(c){var p=c.dot(this)/c.lengthSq();return this.copy(c).multiplyScalar(p)},projectOnPlane:function(){var c=new dt;return function(v){return c.copy(this).projectOnVector(v),this.sub(c)}}(),reflect:function(){var c=new dt;return function(v){return this.sub(c.copy(v).multiplyScalar(2*this.dot(v)))}}(),angleTo:function(c){var p=this.dot(c)/Math.sqrt(this.lengthSq()*c.lengthSq());return Math.acos(qi.clamp(p,-1,1))},distanceTo:function(c){return Math.sqrt(this.distanceToSquared(c))},distanceToSquared:function(c){var p=this.x-c.x,v=this.y-c.y,w=this.z-c.z;return p*p+v*v+w*w},manhattanDistanceTo:function(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)+Math.abs(this.z-c.z)},setFromSpherical:function(c){return this.setFromSphericalCoords(c.radius,c.phi,c.theta)},setFromSphericalCoords:function(c,p,v){var w=Math.sin(p)*c;return this.x=w*Math.sin(v),this.y=Math.cos(p)*c,this.z=w*Math.cos(v),this},setFromCylindrical:function(c){return this.setFromCylindricalCoords(c.radius,c.theta,c.y)},setFromCylindricalCoords:function(c,p,v){return this.x=c*Math.sin(p),this.y=v,this.z=c*Math.cos(p),this},setFromMatrixPosition:function(c){var p=c.elements;return this.x=p[12],this.y=p[13],this.z=p[14],this},setFromMatrixScale:function(c){var p=this.setFromMatrixColumn(c,0).length(),v=this.setFromMatrixColumn(c,1).length(),w=this.setFromMatrixColumn(c,2).length();return this.x=p,this.y=v,this.z=w,this},setFromMatrixColumn:function(c,p){return this.fromArray(c.elements,p*4)},equals:function(c){return c.x===this.x&&c.y===this.y&&c.z===this.z},fromArray:function(c,p){return p===void 0&&(p=0),this.x=c[p],this.y=c[p+1],this.z=c[p+2],this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this.x,c[p+1]=this.y,c[p+2]=this.z,c},fromBufferAttribute:function(c,p,v){return v!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(p),this.y=c.getY(p),this.z=c.getZ(p),this}});function Ua(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ua.prototype,{isMatrix3:!0,set:function(c,p,v,w,T,R,P,H,G){var Z=this.elements;return Z[0]=c,Z[1]=w,Z[2]=P,Z[3]=p,Z[4]=T,Z[5]=H,Z[6]=v,Z[7]=R,Z[8]=G,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(c){var p=this.elements,v=c.elements;return p[0]=v[0],p[1]=v[1],p[2]=v[2],p[3]=v[3],p[4]=v[4],p[5]=v[5],p[6]=v[6],p[7]=v[7],p[8]=v[8],this},setFromMatrix4:function(c){var p=c.elements;return this.set(p[0],p[4],p[8],p[1],p[5],p[9],p[2],p[6],p[10]),this},applyToBufferAttribute:function(){var c=new dt;return function(v){for(var w=0,T=v.count;w<T;w++)c.x=v.getX(w),c.y=v.getY(w),c.z=v.getZ(w),c.applyMatrix3(this),v.setXYZ(w,c.x,c.y,c.z);return v}}(),multiply:function(c){return this.multiplyMatrices(this,c)},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var v=c.elements,w=p.elements,T=this.elements,R=v[0],P=v[3],H=v[6],G=v[1],Z=v[4],ee=v[7],re=v[2],se=v[5],Ae=v[8],_e=w[0],Ue=w[3],We=w[6],Ke=w[1],rt=w[4],et=w[7],qe=w[2],It=w[5],Nt=w[8];return T[0]=R*_e+P*Ke+H*qe,T[3]=R*Ue+P*rt+H*It,T[6]=R*We+P*et+H*Nt,T[1]=G*_e+Z*Ke+ee*qe,T[4]=G*Ue+Z*rt+ee*It,T[7]=G*We+Z*et+ee*Nt,T[2]=re*_e+se*Ke+Ae*qe,T[5]=re*Ue+se*rt+Ae*It,T[8]=re*We+se*et+Ae*Nt,this},multiplyScalar:function(c){var p=this.elements;return p[0]*=c,p[3]*=c,p[6]*=c,p[1]*=c,p[4]*=c,p[7]*=c,p[2]*=c,p[5]*=c,p[8]*=c,this},determinant:function(){var c=this.elements,p=c[0],v=c[1],w=c[2],T=c[3],R=c[4],P=c[5],H=c[6],G=c[7],Z=c[8];return p*R*Z-p*P*G-v*T*Z+v*P*H+w*T*G-w*R*H},getInverse:function(c,p){c&&c.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var v=c.elements,w=this.elements,T=v[0],R=v[1],P=v[2],H=v[3],G=v[4],Z=v[5],ee=v[6],re=v[7],se=v[8],Ae=se*G-Z*re,_e=Z*ee-se*H,Ue=re*H-G*ee,We=T*Ae+R*_e+P*Ue;if(We===0){var Ke="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(p===!0)throw new Error(Ke);return console.warn(Ke),this.identity()}var rt=1/We;return w[0]=Ae*rt,w[1]=(P*re-se*R)*rt,w[2]=(Z*R-P*G)*rt,w[3]=_e*rt,w[4]=(se*T-P*ee)*rt,w[5]=(P*H-Z*T)*rt,w[6]=Ue*rt,w[7]=(R*ee-re*T)*rt,w[8]=(G*T-R*H)*rt,this},transpose:function(){var c,p=this.elements;return c=p[1],p[1]=p[3],p[3]=c,c=p[2],p[2]=p[6],p[6]=c,c=p[5],p[5]=p[7],p[7]=c,this},getNormalMatrix:function(c){return this.setFromMatrix4(c).getInverse(this).transpose()},transposeIntoArray:function(c){var p=this.elements;return c[0]=p[0],c[1]=p[3],c[2]=p[6],c[3]=p[1],c[4]=p[4],c[5]=p[7],c[6]=p[2],c[7]=p[5],c[8]=p[8],this},setUvTransform:function(c,p,v,w,T,R,P){var H=Math.cos(T),G=Math.sin(T);this.set(v*H,v*G,-v*(H*R+G*P)+R+c,-w*G,w*H,-w*(-G*R+H*P)+P+p,0,0,1)},scale:function(c,p){var v=this.elements;return v[0]*=c,v[3]*=c,v[6]*=c,v[1]*=p,v[4]*=p,v[7]*=p,this},rotate:function(c){var p=Math.cos(c),v=Math.sin(c),w=this.elements,T=w[0],R=w[3],P=w[6],H=w[1],G=w[4],Z=w[7];return w[0]=p*T+v*H,w[3]=p*R+v*G,w[6]=p*P+v*Z,w[1]=-v*T+p*H,w[4]=-v*R+p*G,w[7]=-v*P+p*Z,this},translate:function(c,p){var v=this.elements;return v[0]+=c*v[2],v[3]+=c*v[5],v[6]+=c*v[8],v[1]+=p*v[2],v[4]+=p*v[5],v[7]+=p*v[8],this},equals:function(c){for(var p=this.elements,v=c.elements,w=0;w<9;w++)if(p[w]!==v[w])return!1;return!0},fromArray:function(c,p){p===void 0&&(p=0);for(var v=0;v<9;v++)this.elements[v]=c[v+p];return this},toArray:function(c,p){c===void 0&&(c=[]),p===void 0&&(p=0);var v=this.elements;return c[p]=v[0],c[p+1]=v[1],c[p+2]=v[2],c[p+3]=v[3],c[p+4]=v[4],c[p+5]=v[5],c[p+6]=v[6],c[p+7]=v[7],c[p+8]=v[8],c}});var fh={getDataURL:function(c){var p;if(c instanceof HTMLCanvasElement)p=c;else{p=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),p.width=c.width,p.height=c.height;var v=p.getContext("2d");c instanceof ImageData?v.putImageData(c,0,0):v.drawImage(c,0,0,c.width,c.height)}return p.width>2048||p.height>2048?p.toDataURL("image/jpeg",.6):p.toDataURL("image/png")}},Jv=0;function wa(c,p,v,w,T,R,P,H,G,Z){Object.defineProperty(this,"id",{value:Jv++}),this.uuid=qi.generateUUID(),this.name="",this.image=c!==void 0?c:wa.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=p!==void 0?p:wa.DEFAULT_MAPPING,this.wrapS=v!==void 0?v:Dt,this.wrapT=w!==void 0?w:Dt,this.magFilter=T!==void 0?T:kt,this.minFilter=R!==void 0?R:mt,this.anisotropy=G!==void 0?G:1,this.format=P!==void 0?P:ki,this.type=H!==void 0?H:Kt,this.offset=new ir(0,0),this.repeat=new ir(1,1),this.center=new ir(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ua,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Z!==void 0?Z:Of,this.version=0,this.onUpdate=null}wa.DEFAULT_IMAGE=void 0,wa.DEFAULT_MAPPING=we,wa.prototype=Object.assign(Object.create(e.prototype),{constructor:wa,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.name=c.name,this.image=c.image,this.mipmaps=c.mipmaps.slice(0),this.mapping=c.mapping,this.wrapS=c.wrapS,this.wrapT=c.wrapT,this.magFilter=c.magFilter,this.minFilter=c.minFilter,this.anisotropy=c.anisotropy,this.format=c.format,this.type=c.type,this.offset.copy(c.offset),this.repeat.copy(c.repeat),this.center.copy(c.center),this.rotation=c.rotation,this.matrixAutoUpdate=c.matrixAutoUpdate,this.matrix.copy(c.matrix),this.generateMipmaps=c.generateMipmaps,this.premultiplyAlpha=c.premultiplyAlpha,this.flipY=c.flipY,this.unpackAlignment=c.unpackAlignment,this.encoding=c.encoding,this},toJSON:function(c){var p=c===void 0||typeof c=="string";if(!p&&c.textures[this.uuid]!==void 0)return c.textures[this.uuid];var v={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==void 0){var w=this.image;if(w.uuid===void 0&&(w.uuid=qi.generateUUID()),!p&&c.images[w.uuid]===void 0){var T;if(Array.isArray(w)){T=[];for(var R=0,P=w.length;R<P;R++)T.push(fh.getDataURL(w[R]))}else T=fh.getDataURL(w);c.images[w.uuid]={uuid:w.uuid,url:T}}v.image=w.uuid}return p||(c.textures[this.uuid]=v),v},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(c){if(this.mapping!==we)return c;if(c.applyMatrix3(this.matrix),c.x<0||c.x>1)switch(this.wrapS){case Qt:c.x=c.x-Math.floor(c.x);break;case Dt:c.x=c.x<0?0:1;break;case st:Math.abs(Math.floor(c.x)%2)===1?c.x=Math.ceil(c.x)-c.x:c.x=c.x-Math.floor(c.x);break}if(c.y<0||c.y>1)switch(this.wrapT){case Qt:c.y=c.y-Math.floor(c.y);break;case Dt:c.y=c.y<0?0:1;break;case st:Math.abs(Math.floor(c.y)%2)===1?c.y=Math.ceil(c.y)-c.y:c.y=c.y-Math.floor(c.y);break}return this.flipY&&(c.y=1-c.y),c}}),Object.defineProperty(wa.prototype,"needsUpdate",{set:function(c){c===!0&&this.version++}});function Gs(c,p,v,w){this.x=c||0,this.y=p||0,this.z=v||0,this.w=w!==void 0?w:1}Object.assign(Gs.prototype,{isVector4:!0,set:function(c,p,v,w){return this.x=c,this.y=p,this.z=v,this.w=w,this},setScalar:function(c){return this.x=c,this.y=c,this.z=c,this.w=c,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setZ:function(c){return this.z=c,this},setW:function(c){return this.w=c,this},setComponent:function(c,p){switch(c){case 0:this.x=p;break;case 1:this.y=p;break;case 2:this.z=p;break;case 3:this.w=p;break;default:throw new Error("index is out of range: "+c)}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+c)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z,this.w=c.w!==void 0?c.w:1,this},add:function(c,p){return p!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,p)):(this.x+=c.x,this.y+=c.y,this.z+=c.z,this.w+=c.w,this)},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this.w+=c,this},addVectors:function(c,p){return this.x=c.x+p.x,this.y=c.y+p.y,this.z=c.z+p.z,this.w=c.w+p.w,this},addScaledVector:function(c,p){return this.x+=c.x*p,this.y+=c.y*p,this.z+=c.z*p,this.w+=c.w*p,this},sub:function(c,p){return p!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,p)):(this.x-=c.x,this.y-=c.y,this.z-=c.z,this.w-=c.w,this)},subScalar:function(c){return this.x-=c,this.y-=c,this.z-=c,this.w-=c,this},subVectors:function(c,p){return this.x=c.x-p.x,this.y=c.y-p.y,this.z=c.z-p.z,this.w=c.w-p.w,this},multiplyScalar:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},applyMatrix4:function(c){var p=this.x,v=this.y,w=this.z,T=this.w,R=c.elements;return this.x=R[0]*p+R[4]*v+R[8]*w+R[12]*T,this.y=R[1]*p+R[5]*v+R[9]*w+R[13]*T,this.z=R[2]*p+R[6]*v+R[10]*w+R[14]*T,this.w=R[3]*p+R[7]*v+R[11]*w+R[15]*T,this},divideScalar:function(c){return this.multiplyScalar(1/c)},setAxisAngleFromQuaternion:function(c){this.w=2*Math.acos(c.w);var p=Math.sqrt(1-c.w*c.w);return p<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=c.x/p,this.y=c.y/p,this.z=c.z/p),this},setAxisAngleFromRotationMatrix:function(c){var p,v,w,T,R=.01,P=.1,H=c.elements,G=H[0],Z=H[4],ee=H[8],re=H[1],se=H[5],Ae=H[9],_e=H[2],Ue=H[6],We=H[10];if(Math.abs(Z-re)<R&&Math.abs(ee-_e)<R&&Math.abs(Ae-Ue)<R){if(Math.abs(Z+re)<P&&Math.abs(ee+_e)<P&&Math.abs(Ae+Ue)<P&&Math.abs(G+se+We-3)<P)return this.set(1,0,0,0),this;p=Math.PI;var Ke=(G+1)/2,rt=(se+1)/2,et=(We+1)/2,qe=(Z+re)/4,It=(ee+_e)/4,Nt=(Ae+Ue)/4;return Ke>rt&&Ke>et?Ke<R?(v=0,w=.707106781,T=.707106781):(v=Math.sqrt(Ke),w=qe/v,T=It/v):rt>et?rt<R?(v=.707106781,w=0,T=.707106781):(w=Math.sqrt(rt),v=qe/w,T=Nt/w):et<R?(v=.707106781,w=.707106781,T=0):(T=Math.sqrt(et),v=It/T,w=Nt/T),this.set(v,w,T,p),this}var Ot=Math.sqrt((Ue-Ae)*(Ue-Ae)+(ee-_e)*(ee-_e)+(re-Z)*(re-Z));return Math.abs(Ot)<.001&&(Ot=1),this.x=(Ue-Ae)/Ot,this.y=(ee-_e)/Ot,this.z=(re-Z)/Ot,this.w=Math.acos((G+se+We-1)/2),this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this.w=Math.min(this.w,c.w),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this.w=Math.max(this.w,c.w),this},clamp:function(c,p){return this.x=Math.max(c.x,Math.min(p.x,this.x)),this.y=Math.max(c.y,Math.min(p.y,this.y)),this.z=Math.max(c.z,Math.min(p.z,this.z)),this.w=Math.max(c.w,Math.min(p.w,this.w)),this},clampScalar:function(){var c,p;return function(w,T){return c===void 0&&(c=new Gs,p=new Gs),c.set(w,w,w,w),p.set(T,T,T,T),this.clamp(c,p)}}(),clampLength:function(c,p){var v=this.length();return this.divideScalar(v||1).multiplyScalar(Math.max(c,Math.min(p,v)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(c){return this.normalize().multiplyScalar(c)},lerp:function(c,p){return this.x+=(c.x-this.x)*p,this.y+=(c.y-this.y)*p,this.z+=(c.z-this.z)*p,this.w+=(c.w-this.w)*p,this},lerpVectors:function(c,p,v){return this.subVectors(p,c).multiplyScalar(v).add(c)},equals:function(c){return c.x===this.x&&c.y===this.y&&c.z===this.z&&c.w===this.w},fromArray:function(c,p){return p===void 0&&(p=0),this.x=c[p],this.y=c[p+1],this.z=c[p+2],this.w=c[p+3],this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this.x,c[p+1]=this.y,c[p+2]=this.z,c[p+3]=this.w,c},fromBufferAttribute:function(c,p,v){return v!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=c.getX(p),this.y=c.getY(p),this.z=c.getZ(p),this.w=c.getW(p),this}});function Yd(c,p,v){this.width=c,this.height=p,this.scissor=new Gs(0,0,c,p),this.scissorTest=!1,this.viewport=new Gs(0,0,c,p),v=v||{},v.minFilter===void 0&&(v.minFilter=kt),this.texture=new wa(void 0,void 0,v.wrapS,v.wrapT,v.magFilter,v.minFilter,v.format,v.type,v.anisotropy,v.encoding),this.texture.generateMipmaps=v.generateMipmaps!==void 0?v.generateMipmaps:!0,this.depthBuffer=v.depthBuffer!==void 0?v.depthBuffer:!0,this.stencilBuffer=v.stencilBuffer!==void 0?v.stencilBuffer:!0,this.depthTexture=v.depthTexture!==void 0?v.depthTexture:null}Yd.prototype=Object.assign(Object.create(e.prototype),{constructor:Yd,isWebGLRenderTarget:!0,setSize:function(c,p){(this.width!==c||this.height!==p)&&(this.width=c,this.height=p,this.dispose()),this.viewport.set(0,0,c,p),this.scissor.set(0,0,c,p)},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.width=c.width,this.height=c.height,this.viewport.copy(c.viewport),this.texture=c.texture.clone(),this.depthBuffer=c.depthBuffer,this.stencilBuffer=c.stencilBuffer,this.depthTexture=c.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Df(c,p,v){Yd.call(this,c,p,v),this.activeCubeFace=0,this.activeMipMapLevel=0}Df.prototype=Object.create(Yd.prototype),Df.prototype.constructor=Df,Df.prototype.isWebGLRenderTargetCube=!0;function Zd(c,p,v,w,T,R,P,H,G,Z,ee,re){wa.call(this,null,R,P,H,G,Z,w,T,ee,re),this.image={data:c,width:p,height:v},this.magFilter=G!==void 0?G:ke,this.minFilter=Z!==void 0?Z:ke,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Zd.prototype=Object.create(wa.prototype),Zd.prototype.constructor=Zd,Zd.prototype.isDataTexture=!0;function Pc(c,p){this.min=c!==void 0?c:new dt(1/0,1/0,1/0),this.max=p!==void 0?p:new dt(-1/0,-1/0,-1/0)}Object.assign(Pc.prototype,{isBox3:!0,set:function(c,p){return this.min.copy(c),this.max.copy(p),this},setFromArray:function(c){for(var p=1/0,v=1/0,w=1/0,T=-1/0,R=-1/0,P=-1/0,H=0,G=c.length;H<G;H+=3){var Z=c[H],ee=c[H+1],re=c[H+2];Z<p&&(p=Z),ee<v&&(v=ee),re<w&&(w=re),Z>T&&(T=Z),ee>R&&(R=ee),re>P&&(P=re)}return this.min.set(p,v,w),this.max.set(T,R,P),this},setFromBufferAttribute:function(c){for(var p=1/0,v=1/0,w=1/0,T=-1/0,R=-1/0,P=-1/0,H=0,G=c.count;H<G;H++){var Z=c.getX(H),ee=c.getY(H),re=c.getZ(H);Z<p&&(p=Z),ee<v&&(v=ee),re<w&&(w=re),Z>T&&(T=Z),ee>R&&(R=ee),re>P&&(P=re)}return this.min.set(p,v,w),this.max.set(T,R,P),this},setFromPoints:function(c){this.makeEmpty();for(var p=0,v=c.length;p<v;p++)this.expandByPoint(c[p]);return this},setFromCenterAndSize:function(){var c=new dt;return function(v,w){var T=c.copy(w).multiplyScalar(.5);return this.min.copy(v).sub(T),this.max.copy(v).add(T),this}}(),setFromObject:function(c){return this.makeEmpty(),this.expandByObject(c)},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.min.copy(c.min),this.max.copy(c.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(c){return c===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),c=new dt),this.isEmpty()?c.set(0,0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(c){return c===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),c=new dt),this.isEmpty()?c.set(0,0,0):c.subVectors(this.max,this.min)},expandByPoint:function(c){return this.min.min(c),this.max.max(c),this},expandByVector:function(c){return this.min.sub(c),this.max.add(c),this},expandByScalar:function(c){return this.min.addScalar(-c),this.max.addScalar(c),this},expandByObject:function(){var c,p,v,w=new dt;function T(R){var P=R.geometry;if(P!==void 0){if(P.isGeometry){var H=P.vertices;for(p=0,v=H.length;p<v;p++)w.copy(H[p]),w.applyMatrix4(R.matrixWorld),c.expandByPoint(w)}else if(P.isBufferGeometry){var G=P.attributes.position;if(G!==void 0)for(p=0,v=G.count;p<v;p++)w.fromBufferAttribute(G,p).applyMatrix4(R.matrixWorld),c.expandByPoint(w)}}}return function(P){return c=this,P.updateMatrixWorld(!0),P.traverse(T),this}}(),containsPoint:function(c){return!(c.x<this.min.x||c.x>this.max.x||c.y<this.min.y||c.y>this.max.y||c.z<this.min.z||c.z>this.max.z)},containsBox:function(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y&&this.min.z<=c.min.z&&c.max.z<=this.max.z},getParameter:function(c,p){return p===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),p=new dt),p.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y),(c.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(c){return!(c.max.x<this.min.x||c.min.x>this.max.x||c.max.y<this.min.y||c.min.y>this.max.y||c.max.z<this.min.z||c.min.z>this.max.z)},intersectsSphere:function(){var c=new dt;return function(v){return this.clampPoint(v.center,c),c.distanceToSquared(v.center)<=v.radius*v.radius}}(),intersectsPlane:function(c){var p,v;return c.normal.x>0?(p=c.normal.x*this.min.x,v=c.normal.x*this.max.x):(p=c.normal.x*this.max.x,v=c.normal.x*this.min.x),c.normal.y>0?(p+=c.normal.y*this.min.y,v+=c.normal.y*this.max.y):(p+=c.normal.y*this.max.y,v+=c.normal.y*this.min.y),c.normal.z>0?(p+=c.normal.z*this.min.z,v+=c.normal.z*this.max.z):(p+=c.normal.z*this.max.z,v+=c.normal.z*this.min.z),p<=c.constant&&v>=c.constant},intersectsTriangle:function(){var c=new dt,p=new dt,v=new dt,w=new dt,T=new dt,R=new dt,P=new dt,H=new dt,G=new dt,Z=new dt;function ee(re){var se,Ae;for(se=0,Ae=re.length-3;se<=Ae;se+=3){P.fromArray(re,se);var _e=G.x*Math.abs(P.x)+G.y*Math.abs(P.y)+G.z*Math.abs(P.z),Ue=c.dot(P),We=p.dot(P),Ke=v.dot(P);if(Math.max(-Math.max(Ue,We,Ke),Math.min(Ue,We,Ke))>_e)return!1}return!0}return function(se){if(this.isEmpty())return!1;this.getCenter(H),G.subVectors(this.max,H),c.subVectors(se.a,H),p.subVectors(se.b,H),v.subVectors(se.c,H),w.subVectors(p,c),T.subVectors(v,p),R.subVectors(c,v);var Ae=[0,-w.z,w.y,0,-T.z,T.y,0,-R.z,R.y,w.z,0,-w.x,T.z,0,-T.x,R.z,0,-R.x,-w.y,w.x,0,-T.y,T.x,0,-R.y,R.x,0];return!ee(Ae)||(Ae=[1,0,0,0,1,0,0,0,1],!ee(Ae))?!1:(Z.crossVectors(w,T),Ae=[Z.x,Z.y,Z.z],ee(Ae))}}(),clampPoint:function(c,p){return p===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),p=new dt),p.copy(c).clamp(this.min,this.max)},distanceToPoint:function(){var c=new dt;return function(v){var w=c.copy(v).clamp(this.min,this.max);return w.sub(v).length()}}(),getBoundingSphere:function(){var c=new dt;return function(v){return v===void 0&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),v=new Zo),this.getCenter(v.center),v.radius=this.getSize(c).length()*.5,v}}(),intersect:function(c){return this.min.max(c.min),this.max.min(c.max),this.isEmpty()&&this.makeEmpty(),this},union:function(c){return this.min.min(c.min),this.max.max(c.max),this},applyMatrix4:function(){var c=[new dt,new dt,new dt,new dt,new dt,new dt,new dt,new dt];return function(v){return this.isEmpty()?this:(c[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(v),c[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(v),c[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(v),c[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(v),c[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(v),c[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(v),c[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(v),c[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(v),this.setFromPoints(c),this)}}(),translate:function(c){return this.min.add(c),this.max.add(c),this},equals:function(c){return c.min.equals(this.min)&&c.max.equals(this.max)}});function Zo(c,p){this.center=c!==void 0?c:new dt,this.radius=p!==void 0?p:0}Object.assign(Zo.prototype,{set:function(c,p){return this.center.copy(c),this.radius=p,this},setFromPoints:function(){var c=new Pc;return function(v,w){var T=this.center;w!==void 0?T.copy(w):c.setFromPoints(v).getCenter(T);for(var R=0,P=0,H=v.length;P<H;P++)R=Math.max(R,T.distanceToSquared(v[P]));return this.radius=Math.sqrt(R),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.center.copy(c.center),this.radius=c.radius,this},empty:function(){return this.radius<=0},containsPoint:function(c){return c.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(c){return c.distanceTo(this.center)-this.radius},intersectsSphere:function(c){var p=this.radius+c.radius;return c.center.distanceToSquared(this.center)<=p*p},intersectsBox:function(c){return c.intersectsSphere(this)},intersectsPlane:function(c){return Math.abs(c.distanceToPoint(this.center))<=this.radius},clampPoint:function(c,p){var v=this.center.distanceToSquared(c);return p===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),p=new dt),p.copy(c),v>this.radius*this.radius&&(p.sub(this.center).normalize(),p.multiplyScalar(this.radius).add(this.center)),p},getBoundingBox:function(c){return c===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),c=new Pc),c.set(this.center,this.center),c.expandByScalar(this.radius),c},applyMatrix4:function(c){return this.center.applyMatrix4(c),this.radius=this.radius*c.getMaxScaleOnAxis(),this},translate:function(c){return this.center.add(c),this},equals:function(c){return c.center.equals(this.center)&&c.radius===this.radius}});function ul(c,p){this.normal=c!==void 0?c:new dt(1,0,0),this.constant=p!==void 0?p:0}Object.assign(ul.prototype,{set:function(c,p){return this.normal.copy(c),this.constant=p,this},setComponents:function(c,p,v,w){return this.normal.set(c,p,v),this.constant=w,this},setFromNormalAndCoplanarPoint:function(c,p){return this.normal.copy(c),this.constant=-p.dot(this.normal),this},setFromCoplanarPoints:function(){var c=new dt,p=new dt;return function(w,T,R){var P=c.subVectors(R,T).cross(p.subVectors(w,T)).normalize();return this.setFromNormalAndCoplanarPoint(P,w),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.normal.copy(c.normal),this.constant=c.constant,this},normalize:function(){var c=1/this.normal.length();return this.normal.multiplyScalar(c),this.constant*=c,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(c){return this.normal.dot(c)+this.constant},distanceToSphere:function(c){return this.distanceToPoint(c.center)-c.radius},projectPoint:function(c,p){return p===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),p=new dt),p.copy(this.normal).multiplyScalar(-this.distanceToPoint(c)).add(c)},intersectLine:function(){var c=new dt;return function(v,w){w===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),w=new dt);var T=v.delta(c),R=this.normal.dot(T);if(R===0)return this.distanceToPoint(v.start)===0?w.copy(v.start):void 0;var P=-(v.start.dot(this.normal)+this.constant)/R;if(!(P<0||P>1))return w.copy(T).multiplyScalar(P).add(v.start)}}(),intersectsLine:function(c){var p=this.distanceToPoint(c.start),v=this.distanceToPoint(c.end);return p<0&&v>0||v<0&&p>0},intersectsBox:function(c){return c.intersectsPlane(this)},intersectsSphere:function(c){return c.intersectsPlane(this)},coplanarPoint:function(c){return c===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),c=new dt),c.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var c=new dt,p=new Ua;return function(w,T){var R=T||p.getNormalMatrix(w),P=this.coplanarPoint(c).applyMatrix4(w),H=this.normal.applyMatrix3(R).normalize();return this.constant=-P.dot(H),this}}(),translate:function(c){return this.constant-=c.dot(this.normal),this},equals:function(c){return c.normal.equals(this.normal)&&c.constant===this.constant}});function kf(c,p,v,w,T,R){this.planes=[c!==void 0?c:new ul,p!==void 0?p:new ul,v!==void 0?v:new ul,w!==void 0?w:new ul,T!==void 0?T:new ul,R!==void 0?R:new ul]}Object.assign(kf.prototype,{set:function(c,p,v,w,T,R){var P=this.planes;return P[0].copy(c),P[1].copy(p),P[2].copy(v),P[3].copy(w),P[4].copy(T),P[5].copy(R),this},clone:function(){return new this.constructor().copy(this)},copy:function(c){for(var p=this.planes,v=0;v<6;v++)p[v].copy(c.planes[v]);return this},setFromMatrix:function(c){var p=this.planes,v=c.elements,w=v[0],T=v[1],R=v[2],P=v[3],H=v[4],G=v[5],Z=v[6],ee=v[7],re=v[8],se=v[9],Ae=v[10],_e=v[11],Ue=v[12],We=v[13],Ke=v[14],rt=v[15];return p[0].setComponents(P-w,ee-H,_e-re,rt-Ue).normalize(),p[1].setComponents(P+w,ee+H,_e+re,rt+Ue).normalize(),p[2].setComponents(P+T,ee+G,_e+se,rt+We).normalize(),p[3].setComponents(P-T,ee-G,_e-se,rt-We).normalize(),p[4].setComponents(P-R,ee-Z,_e-Ae,rt-Ke).normalize(),p[5].setComponents(P+R,ee+Z,_e+Ae,rt+Ke).normalize(),this},intersectsObject:function(){var c=new Zo;return function(v){var w=v.geometry;return w.boundingSphere===null&&w.computeBoundingSphere(),c.copy(w.boundingSphere).applyMatrix4(v.matrixWorld),this.intersectsSphere(c)}}(),intersectsSprite:function(){var c=new Zo;return function(v){return c.center.set(0,0,0),c.radius=.7071067811865476,c.applyMatrix4(v.matrixWorld),this.intersectsSphere(c)}}(),intersectsSphere:function(c){for(var p=this.planes,v=c.center,w=-c.radius,T=0;T<6;T++){var R=p[T].distanceToPoint(v);if(R<w)return!1}return!0},intersectsBox:function(){var c=new dt;return function(v){for(var w=this.planes,T=0;T<6;T++){var R=w[T];if(c.x=R.normal.x>0?v.max.x:v.min.x,c.y=R.normal.y>0?v.max.y:v.min.y,c.z=R.normal.z>0?v.max.z:v.min.z,R.distanceToPoint(c)<0)return!1}return!0}}(),containsPoint:function(c){for(var p=this.planes,v=0;v<6;v++)if(p[v].distanceToPoint(c)<0)return!1;return!0}});var Uf="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Kp="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n",Hf="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",e0="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n	#endif\n#endif\n",t0="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",n0="\nvec3 transformed = vec3( position );\n",Gf="\nvec3 objectNormal = vec3( normal );\n",Ah="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	if( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		return distanceFalloff * maxDistanceCutoffFactor;\n#else\n		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n	}\n	return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	return 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE  = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS  = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",ph="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n",Qy="#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		if ( clipped ) discard;\n	#endif\n#endif\n",Vf="#if NUM_CLIPPING_PLANES > 0\n	#if ! defined( PHYSICAL ) && ! defined( PHONG )\n		varying vec3 vViewPosition;\n	#endif\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",gh="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n",D="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	vViewPosition = - mvPosition.xyz;\n#endif\n",q="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif",le="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n",pe="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",Le="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif",Re="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract(sin(sn) * c);\n}\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n	return dot( weights, color.rgb );\n}\n",Ge="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n	vec3 absDirection = abs(direction);\n	int face = -1;\n	if( absDirection.x > absDirection.z ) {\n		if(absDirection.x > absDirection.y )\n			face = direction.x > 0.0 ? 0 : 3;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	else {\n		if(absDirection.z > absDirection.y )\n			face = direction.z > 0.0 ? 2 : 5;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	return face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n	float dxRoughness = dFdx(roughness);\n	float dyRoughness = dFdy(roughness);\n	vec3 dx = dFdx( vec * scale * dxRoughness );\n	vec3 dy = dFdy( vec * scale * dyRoughness );\n	float d = max( dot( dx, dx ), dot( dy, dy ) );\n	d = clamp(d, 1.0, cubeUV_rangeClamp);\n	float mipLevel = 0.5 * log2(d);\n	return vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n	float a = 16.0 * cubeUV_rcpTextureSize;\n	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n	float powScale = exp2_packed.x * exp2_packed.y;\n	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n	bool bRes = mipLevel == 0.0;\n	scale =  bRes && (scale < a) ? a : scale;\n	vec3 r;\n	vec2 offset;\n	int face = getFaceFromDirection(direction);\n	float rcpPowScale = 1.0 / powScale;\n	if( face == 0) {\n		r = vec3(direction.x, -direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 1) {\n		r = vec3(direction.y, direction.x, direction.z);\n		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 2) {\n		r = vec3(direction.z, direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 3) {\n		r = vec3(direction.x, direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else if( face == 4) {\n		r = vec3(direction.y, direction.x, -direction.z);\n		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else {\n		r = vec3(direction.z, -direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	r = normalize(r);\n	float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n	vec2 base = offset + vec2( texelOffset );\n	return base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n	float roughnessVal = roughness* cubeUV_maxLods3;\n	float r1 = floor(roughnessVal);\n	float r2 = r1 + 1.0;\n	float t = fract(roughnessVal);\n	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n	float s = mipInfo.y;\n	float level0 = mipInfo.x;\n	float level1 = level0 + 1.0;\n	level1 = level1 > 5.0 ? 5.0 : level1;\n	level0 += min( floor( s + 0.5 ), 5.0 );\n	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n	vec4 result = mix(color10, color20, t);\n	return vec4(result.rgb, 1.0);\n}\n#endif\n",Rt="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n",bt="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n",Xt="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",Sn="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Pn="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n",yn="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",nr="\nvec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n	float maxComponent = max( max( value.r, value.g ), value.b );\n	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.r, max( value.g, value.b ) );\n	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n	M = ceil( M * 255.0 ) / 255.0;\n	return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.r, max( value.g, value.b ) );\n	float D = max( maxRange / maxRGB, 1.0 );\n	D = min( floor( D ) / 255.0, 1.0 );\n	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n	vec4 vResult;\n	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n	vResult.w = fract( Le );\n	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n	return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n	float Le = value.z * 255.0 + value.w;\n	vec3 Xp_Y_XYZp;\n	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n	return vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",Ri="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		reflectVec = normalize( reflectVec );\n		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		reflectVec = normalize( reflectVec );\n		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	envColor = envMapTexelToLinear( envColor );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n",Ts="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n	uniform float reflectivity;\n	uniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n		varying vec3 vWorldPosition;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	uniform int maxMipLevel;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n",Xi="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif\n",Oo="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif\n",te="#ifdef USE_FOG\n	fogDepth = -mvPosition.z;\n#endif\n",Pe="#ifdef USE_FOG\n	varying float fogDepth;\n#endif\n",_t="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Et="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float fogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif\n",nn="#ifdef TOON\n	uniform sampler2D gradientMap;\n	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n		float dotNL = dot( normal, lightDirection );\n		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n		#ifdef USE_GRADIENTMAP\n			return texture2D( gradientMap, coord ).rgb;\n		#else\n			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n		#endif\n	}\n#endif\n",dn="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Fn="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",Pr="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n",vi="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	return irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		directLight.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n		float shadowCameraNear;\n		float shadowCameraFar;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		directLight.color = pointLight.color;\n		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n		directLight.visible = ( directLight.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		float angleCos = dot( directLight.direction, spotLight.direction );\n		if ( angleCos > spotLight.coneCos ) {\n			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n			directLight.color = spotLight.color;\n			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			irradiance *= PI;\n		#endif\n		return irradiance;\n	}\n#endif\n",Ii="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n		#else\n			vec4 envMapColor = vec4( 0.0 );\n		#endif\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#endif\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n",Gi="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",os="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifdef TOON\n		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	#else\n		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n		vec3 irradiance = dotNL * directLight.color;\n	#endif\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n",ma="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",ba="struct PhysicalMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n	#ifndef STANDARD\n		float clearCoat;\n		float clearCoatRoughness;\n	#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.specularRoughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos - halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	#ifndef STANDARD\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	#ifndef STANDARD\n		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifndef STANDARD\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		float dotNL = dotNV;\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n	#ifndef STANDARD\n		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",ua="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointDirectLightIrradiance( pointLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",hl="#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			lightMapIrradiance *= PI;\n		#endif\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n		irradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n	#ifndef STANDARD\n		clearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n	#endif\n#endif\n",Ha="#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Jo="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",su="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n#endif\n",id="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif\n",r0="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n		gl_Position.z *= gl_Position.w;\n	#endif\n#endif\n",js="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor = mapTexelToLinear( texelColor );\n	diffuseColor *= texelColor;\n#endif\n",zf="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n",Yl="#ifdef USE_MAP\n	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	vec4 mapTexel = texture2D( map, uv );\n	diffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",sd="#ifdef USE_MAP\n	uniform mat3 uvTransform;\n	uniform sampler2D map;\n#endif\n",Lm="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.b;\n#endif\n",qp="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",dl="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Iu="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif",$f="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n",au="#ifdef FLAT_SHADED\n	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#endif\n#endif\n",Xp="#ifdef USE_NORMALMAP\n	#ifdef OBJECTSPACE_NORMALMAP\n		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		#ifdef FLIP_SIDED\n			normal = - normal;\n		#endif\n		#ifdef DOUBLE_SIDED\n			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#endif\n		normal = normalize( normalMatrix * normal );\n	#else\n		normal = perturbNormal2Arb( -vViewPosition, normal );\n	#endif\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",fl="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	#ifdef OBJECTSPACE_NORMALMAP\n		uniform mat3 normalMatrix;\n	#else\n		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n			vec2 st0 = dFdx( vUv.st );\n			vec2 st1 = dFdy( vUv.st );\n			float scale = sign( st1.t * st0.s - st0.t * st1.s );\n			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n			vec3 N = normalize( surf_norm );\n			mat3 tsn = mat3( S, T, N );\n			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n			mapN.xy *= normalScale;\n			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n			return normalize( tsn * mapN );\n		}\n	#endif\n#endif\n",Yp="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n	return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Qf="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Zp="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",Pu="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",Jd="#if defined( DITHERING )\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif\n",Jp="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.g;\n#endif\n",eg="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",Wf="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n		const vec2 offset = vec2( 0.0, 1.0 );\n		vec2 texelSize = vec2( 1.0 ) / size;\n		vec2 centroidUV = floor( uv * size + 0.5 ) / size;\n		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n		vec2 f = fract( uv * size + 0.5 );\n		float a = mix( lb, lt, f.y );\n		float b = mix( rb, rt, f.y );\n		float c = mix( a, b, f.x );\n		return c;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n		bool frustumTest = all( frustumTestVec );\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif\n",ef="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n",pc="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n",At="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	#pragma unroll_loop\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n",Vt="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",un="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureSize;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureSize ) );\n			float y = floor( j / float( boneTextureSize ) );\n			float dx = 1.0 / float( boneTextureSize );\n			float dy = 1.0 / float( boneTextureSize );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n",_n="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",Bn="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Ar="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",pr="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",ri="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",_r="#ifndef saturate\n	#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Vi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif",Li="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\n",zi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",gs="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",di="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif",ra="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif",No="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",Co="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n	gl_FragColor.a *= opacity;\n}\n",Ml="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}\n",Zl="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n	#endif\n}\n",ou="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n",el="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}\n",ad="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}\n",od="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",no="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}\n",ro="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",tl="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}\n",Ll="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",MA="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_ENVMAP\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}\n",Wy="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <emissivemap_fragment>\n	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n	#include <lightmap_fragment>\n	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n	#ifdef DOUBLE_SIDED\n		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n	#else\n		reflectedLight.directDiffuse = vLightFront;\n	#endif\n	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",i0="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <lights_lambert_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Hw="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",mC="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Gw="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n	uniform float clearCoat;\n	uniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",mh="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",ld="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Vw="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}\n",zw="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",xB="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}\n",$w="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <fog_fragment>\n}\n",Qw="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <begin_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",vC="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",EB="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}\n",ia={alphamap_fragment:Uf,alphamap_pars_fragment:Kp,alphatest_fragment:Hf,aomap_fragment:e0,aomap_pars_fragment:t0,begin_vertex:n0,beginnormal_vertex:Gf,bsdfs:Ah,bumpmap_pars_fragment:ph,clipping_planes_fragment:Qy,clipping_planes_pars_fragment:Vf,clipping_planes_pars_vertex:gh,clipping_planes_vertex:D,color_fragment:q,color_pars_fragment:le,color_pars_vertex:pe,color_vertex:Le,common:Re,cube_uv_reflection_fragment:Ge,defaultnormal_vertex:Rt,displacementmap_pars_vertex:bt,displacementmap_vertex:Xt,emissivemap_fragment:Sn,emissivemap_pars_fragment:Pn,encodings_fragment:yn,encodings_pars_fragment:nr,envmap_fragment:Ri,envmap_pars_fragment:Ts,envmap_pars_vertex:Xi,envmap_physical_pars_fragment:Ii,envmap_vertex:Oo,fog_vertex:te,fog_pars_vertex:Pe,fog_fragment:_t,fog_pars_fragment:Et,gradientmap_pars_fragment:nn,lightmap_fragment:dn,lightmap_pars_fragment:Fn,lights_lambert_vertex:Pr,lights_pars_begin:vi,lights_phong_fragment:Gi,lights_phong_pars_fragment:os,lights_physical_fragment:ma,lights_physical_pars_fragment:ba,lights_fragment_begin:ua,lights_fragment_maps:hl,lights_fragment_end:Ha,logdepthbuf_fragment:Jo,logdepthbuf_pars_fragment:su,logdepthbuf_pars_vertex:id,logdepthbuf_vertex:r0,map_fragment:js,map_pars_fragment:zf,map_particle_fragment:Yl,map_particle_pars_fragment:sd,metalnessmap_fragment:Lm,metalnessmap_pars_fragment:qp,morphnormal_vertex:dl,morphtarget_pars_vertex:Iu,morphtarget_vertex:$f,normal_fragment_begin:au,normal_fragment_maps:Xp,normalmap_pars_fragment:fl,packing:Yp,premultiplied_alpha_fragment:Qf,project_vertex:Zp,dithering_fragment:Pu,dithering_pars_fragment:Jd,roughnessmap_fragment:Jp,roughnessmap_pars_fragment:eg,shadowmap_pars_fragment:Wf,shadowmap_pars_vertex:ef,shadowmap_vertex:pc,shadowmask_pars_fragment:At,skinbase_vertex:Vt,skinning_pars_vertex:un,skinning_vertex:_n,skinnormal_vertex:Bn,specularmap_fragment:Ar,specularmap_pars_fragment:pr,tonemapping_fragment:ri,tonemapping_pars_fragment:_r,uv_pars_fragment:Vi,uv_pars_vertex:Li,uv_vertex:zi,uv2_pars_fragment:gs,uv2_pars_vertex:di,uv2_vertex:ra,worldpos_vertex:No,cube_frag:Co,cube_vert:Ml,depth_frag:Zl,depth_vert:ou,distanceRGBA_frag:el,distanceRGBA_vert:ad,equirect_frag:od,equirect_vert:no,linedashed_frag:ro,linedashed_vert:tl,meshbasic_frag:Ll,meshbasic_vert:MA,meshlambert_frag:Wy,meshlambert_vert:i0,meshphong_frag:Hw,meshphong_vert:mC,meshphysical_frag:Gw,meshphysical_vert:mh,normal_frag:ld,normal_vert:Vw,points_frag:zw,points_vert:xB,shadow_frag:$w,shadow_vert:Qw,sprite_frag:vC,sprite_vert:EB},gc={merge:function(c){for(var p={},v=0;v<c.length;v++){var w=this.clone(c[v]);for(var T in w)p[T]=w[T]}return p},clone:function(c){var p={};for(var v in c){p[v]={};for(var w in c[v]){var T=c[v][w];T&&(T.isColor||T.isMatrix3||T.isMatrix4||T.isVector2||T.isVector3||T.isVector4||T.isTexture)?p[v][w]=T.clone():Array.isArray(T)?p[v][w]=T.slice():p[v][w]=T}}return p}},Ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fi(c,p,v){return p===void 0&&v===void 0?this.set(c):this.setRGB(c,p,v)}Object.assign(fi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(c){return c&&c.isColor?this.copy(c):typeof c=="number"?this.setHex(c):typeof c=="string"&&this.setStyle(c),this},setScalar:function(c){return this.r=c,this.g=c,this.b=c,this},setHex:function(c){return c=Math.floor(c),this.r=(c>>16&255)/255,this.g=(c>>8&255)/255,this.b=(c&255)/255,this},setRGB:function(c,p,v){return this.r=c,this.g=p,this.b=v,this},setHSL:function(){function c(p,v,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?p+(v-p)*6*w:w<1/2?v:w<2/3?p+(v-p)*6*(2/3-w):p}return function(v,w,T){if(v=qi.euclideanModulo(v,1),w=qi.clamp(w,0,1),T=qi.clamp(T,0,1),w===0)this.r=this.g=this.b=T;else{var R=T<=.5?T*(1+w):T+w-T*w,P=2*T-R;this.r=c(P,R,v+1/3),this.g=c(P,R,v),this.b=c(P,R,v-1/3)}return this}}(),setStyle:function(c){function p(re){re!==void 0&&parseFloat(re)<1&&console.warn("THREE.Color: Alpha component of "+c+" will be ignored.")}var v;if(v=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(c)){var w,T=v[1],R=v[2];switch(T){case"rgb":case"rgba":if(w=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(R))return this.r=Math.min(255,parseInt(w[1],10))/255,this.g=Math.min(255,parseInt(w[2],10))/255,this.b=Math.min(255,parseInt(w[3],10))/255,p(w[5]),this;if(w=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(R))return this.r=Math.min(100,parseInt(w[1],10))/100,this.g=Math.min(100,parseInt(w[2],10))/100,this.b=Math.min(100,parseInt(w[3],10))/100,p(w[5]),this;break;case"hsl":case"hsla":if(w=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(R)){var P=parseFloat(w[1])/360,H=parseInt(w[2],10)/100,G=parseInt(w[3],10)/100;return p(w[5]),this.setHSL(P,H,G)}break}}else if(v=/^\#([A-Fa-f0-9]+)$/.exec(c)){var Z=v[1],ee=Z.length;if(ee===3)return this.r=parseInt(Z.charAt(0)+Z.charAt(0),16)/255,this.g=parseInt(Z.charAt(1)+Z.charAt(1),16)/255,this.b=parseInt(Z.charAt(2)+Z.charAt(2),16)/255,this;if(ee===6)return this.r=parseInt(Z.charAt(0)+Z.charAt(1),16)/255,this.g=parseInt(Z.charAt(2)+Z.charAt(3),16)/255,this.b=parseInt(Z.charAt(4)+Z.charAt(5),16)/255,this}if(c&&c.length>0){var Z=Ww[c];Z!==void 0?this.setHex(Z):console.warn("THREE.Color: Unknown color "+c)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(c){return this.r=c.r,this.g=c.g,this.b=c.b,this},copyGammaToLinear:function(c,p){return p===void 0&&(p=2),this.r=Math.pow(c.r,p),this.g=Math.pow(c.g,p),this.b=Math.pow(c.b,p),this},copyLinearToGamma:function(c,p){p===void 0&&(p=2);var v=p>0?1/p:1;return this.r=Math.pow(c.r,v),this.g=Math.pow(c.g,v),this.b=Math.pow(c.b,v),this},convertGammaToLinear:function(c){return this.copyGammaToLinear(this,c),this},convertLinearToGamma:function(c){return this.copyLinearToGamma(this,c),this},copySRGBToLinear:function(){function c(p){return p<.04045?p*.0773993808:Math.pow(p*.9478672986+.0521327014,2.4)}return function(v){return this.r=c(v.r),this.g=c(v.g),this.b=c(v.b),this}}(),copyLinearToSRGB:function(){function c(p){return p<.0031308?p*12.92:1.055*Math.pow(p,.41666)-.055}return function(v){return this.r=c(v.r),this.g=c(v.g),this.b=c(v.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(c){c===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),c={h:0,s:0,l:0});var p=this.r,v=this.g,w=this.b,T=Math.max(p,v,w),R=Math.min(p,v,w),P,H,G=(R+T)/2;if(R===T)P=0,H=0;else{var Z=T-R;switch(H=G<=.5?Z/(T+R):Z/(2-T-R),T){case p:P=(v-w)/Z+(v<w?6:0);break;case v:P=(w-p)/Z+2;break;case w:P=(p-v)/Z+4;break}P/=6}return c.h=P,c.s=H,c.l=G,c},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(){var c={};return function(p,v,w){return this.getHSL(c),c.h+=p,c.s+=v,c.l+=w,this.setHSL(c.h,c.s,c.l),this}}(),add:function(c){return this.r+=c.r,this.g+=c.g,this.b+=c.b,this},addColors:function(c,p){return this.r=c.r+p.r,this.g=c.g+p.g,this.b=c.b+p.b,this},addScalar:function(c){return this.r+=c,this.g+=c,this.b+=c,this},sub:function(c){return this.r=Math.max(0,this.r-c.r),this.g=Math.max(0,this.g-c.g),this.b=Math.max(0,this.b-c.b),this},multiply:function(c){return this.r*=c.r,this.g*=c.g,this.b*=c.b,this},multiplyScalar:function(c){return this.r*=c,this.g*=c,this.b*=c,this},lerp:function(c,p){return this.r+=(c.r-this.r)*p,this.g+=(c.g-this.g)*p,this.b+=(c.b-this.b)*p,this},lerpHSL:function(){var c={h:0,s:0,l:0},p={h:0,s:0,l:0};return function(w,T){this.getHSL(c),w.getHSL(p);var R=qi.lerp(c.h,p.h,T),P=qi.lerp(c.s,p.s,T),H=qi.lerp(c.l,p.l,T);return this.setHSL(R,P,H),this}}(),equals:function(c){return c.r===this.r&&c.g===this.g&&c.b===this.b},fromArray:function(c,p){return p===void 0&&(p=0),this.r=c[p],this.g=c[p+1],this.b=c[p+2],this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this.r,c[p+1]=this.g,c[p+2]=this.b,c},toJSON:function(){return this.getHex()}});var Ei={common:{diffuse:{value:new fi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ua},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ir(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new fi(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new fi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ua}},sprite:{diffuse:{value:new fi(15658734)},opacity:{value:1},center:{value:new ir(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ua}}},Bm={basic:{uniforms:gc.merge([Ei.common,Ei.specularmap,Ei.envmap,Ei.aomap,Ei.lightmap,Ei.fog]),vertexShader:ia.meshbasic_vert,fragmentShader:ia.meshbasic_frag},lambert:{uniforms:gc.merge([Ei.common,Ei.specularmap,Ei.envmap,Ei.aomap,Ei.lightmap,Ei.emissivemap,Ei.fog,Ei.lights,{emissive:{value:new fi(0)}}]),vertexShader:ia.meshlambert_vert,fragmentShader:ia.meshlambert_frag},phong:{uniforms:gc.merge([Ei.common,Ei.specularmap,Ei.envmap,Ei.aomap,Ei.lightmap,Ei.emissivemap,Ei.bumpmap,Ei.normalmap,Ei.displacementmap,Ei.gradientmap,Ei.fog,Ei.lights,{emissive:{value:new fi(0)},specular:{value:new fi(1118481)},shininess:{value:30}}]),vertexShader:ia.meshphong_vert,fragmentShader:ia.meshphong_frag},standard:{uniforms:gc.merge([Ei.common,Ei.envmap,Ei.aomap,Ei.lightmap,Ei.emissivemap,Ei.bumpmap,Ei.normalmap,Ei.displacementmap,Ei.roughnessmap,Ei.metalnessmap,Ei.fog,Ei.lights,{emissive:{value:new fi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ia.meshphysical_vert,fragmentShader:ia.meshphysical_frag},points:{uniforms:gc.merge([Ei.points,Ei.fog]),vertexShader:ia.points_vert,fragmentShader:ia.points_frag},dashed:{uniforms:gc.merge([Ei.common,Ei.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ia.linedashed_vert,fragmentShader:ia.linedashed_frag},depth:{uniforms:gc.merge([Ei.common,Ei.displacementmap]),vertexShader:ia.depth_vert,fragmentShader:ia.depth_frag},normal:{uniforms:gc.merge([Ei.common,Ei.bumpmap,Ei.normalmap,Ei.displacementmap,{opacity:{value:1}}]),vertexShader:ia.normal_vert,fragmentShader:ia.normal_frag},sprite:{uniforms:gc.merge([Ei.sprite,Ei.fog]),vertexShader:ia.sprite_vert,fragmentShader:ia.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ia.cube_vert,fragmentShader:ia.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ia.equirect_vert,fragmentShader:ia.equirect_frag},distanceRGBA:{uniforms:gc.merge([Ei.common,Ei.displacementmap,{referencePosition:{value:new dt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ia.distanceRGBA_vert,fragmentShader:ia.distanceRGBA_frag},shadow:{uniforms:gc.merge([Ei.lights,Ei.fog,{color:{value:new fi(0)},opacity:{value:1}}]),vertexShader:ia.shadow_vert,fragmentShader:ia.shadow_frag}};Bm.physical={uniforms:gc.merge([Bm.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ia.meshphysical_vert,fragmentShader:ia.meshphysical_frag};function jw(){var c=null,p=!1,v=null;function w(T,R){p!==!1&&(v(T,R),c.requestAnimationFrame(w))}return{start:function(){p!==!0&&v!==null&&(c.requestAnimationFrame(w),p=!0)},stop:function(){p=!1},setAnimationLoop:function(T){v=T},setContext:function(T){c=T}}}function ck(c){var p=new WeakMap;function v(H,G){var Z=H.array,ee=H.dynamic?c.DYNAMIC_DRAW:c.STATIC_DRAW,re=c.createBuffer();c.bindBuffer(G,re),c.bufferData(G,Z,ee),H.onUploadCallback();var se=c.FLOAT;return Z instanceof Float32Array?se=c.FLOAT:Z instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):Z instanceof Uint16Array?se=c.UNSIGNED_SHORT:Z instanceof Int16Array?se=c.SHORT:Z instanceof Uint32Array?se=c.UNSIGNED_INT:Z instanceof Int32Array?se=c.INT:Z instanceof Int8Array?se=c.BYTE:Z instanceof Uint8Array&&(se=c.UNSIGNED_BYTE),{buffer:re,type:se,bytesPerElement:Z.BYTES_PER_ELEMENT,version:H.version}}function w(H,G,Z){var ee=G.array,re=G.updateRange;c.bindBuffer(Z,H),G.dynamic===!1?c.bufferData(Z,ee,c.STATIC_DRAW):re.count===-1?c.bufferSubData(Z,0,ee):re.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(c.bufferSubData(Z,re.offset*ee.BYTES_PER_ELEMENT,ee.subarray(re.offset,re.offset+re.count)),re.count=-1)}function T(H){return H.isInterleavedBufferAttribute&&(H=H.data),p.get(H)}function R(H){H.isInterleavedBufferAttribute&&(H=H.data);var G=p.get(H);G&&(c.deleteBuffer(G.buffer),p.delete(H))}function P(H,G){H.isInterleavedBufferAttribute&&(H=H.data);var Z=p.get(H);Z===void 0?p.set(H,v(H,G)):Z.version<H.version&&(w(Z.buffer,H,G),Z.version=H.version)}return{get:T,remove:R,update:P}}function Rm(c,p,v,w){this._x=c||0,this._y=p||0,this._z=v||0,this._order=w||Rm.DefaultOrder}Rm.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Rm.DefaultOrder="XYZ",Object.defineProperties(Rm.prototype,{x:{get:function(){return this._x},set:function(c){this._x=c,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(c){this._z=c,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(c){this._order=c,this.onChangeCallback()}}}),Object.assign(Rm.prototype,{isEuler:!0,set:function(c,p,v,w){return this._x=c,this._y=p,this._z=v,this._order=w||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(c){return this._x=c._x,this._y=c._y,this._z=c._z,this._order=c._order,this.onChangeCallback(),this},setFromRotationMatrix:function(c,p,v){var w=qi.clamp,T=c.elements,R=T[0],P=T[4],H=T[8],G=T[1],Z=T[5],ee=T[9],re=T[2],se=T[6],Ae=T[10];return p=p||this._order,p==="XYZ"?(this._y=Math.asin(w(H,-1,1)),Math.abs(H)<.99999?(this._x=Math.atan2(-ee,Ae),this._z=Math.atan2(-P,R)):(this._x=Math.atan2(se,Z),this._z=0)):p==="YXZ"?(this._x=Math.asin(-w(ee,-1,1)),Math.abs(ee)<.99999?(this._y=Math.atan2(H,Ae),this._z=Math.atan2(G,Z)):(this._y=Math.atan2(-re,R),this._z=0)):p==="ZXY"?(this._x=Math.asin(w(se,-1,1)),Math.abs(se)<.99999?(this._y=Math.atan2(-re,Ae),this._z=Math.atan2(-P,Z)):(this._y=0,this._z=Math.atan2(G,R))):p==="ZYX"?(this._y=Math.asin(-w(re,-1,1)),Math.abs(re)<.99999?(this._x=Math.atan2(se,Ae),this._z=Math.atan2(G,R)):(this._x=0,this._z=Math.atan2(-P,Z))):p==="YZX"?(this._z=Math.asin(w(G,-1,1)),Math.abs(G)<.99999?(this._x=Math.atan2(-ee,Z),this._y=Math.atan2(-re,R)):(this._x=0,this._y=Math.atan2(H,Ae))):p==="XZY"?(this._z=Math.asin(-w(P,-1,1)),Math.abs(P)<.99999?(this._x=Math.atan2(se,Z),this._y=Math.atan2(H,R)):(this._x=Math.atan2(-ee,Ae),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+p),this._order=p,v!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var c=new ur;return function(v,w,T){return c.makeRotationFromQuaternion(v),this.setFromRotationMatrix(c,w,T)}}(),setFromVector3:function(c,p){return this.set(c.x,c.y,c.z,p||this._order)},reorder:function(){var c=new Fo;return function(v){return c.setFromEuler(this),this.setFromQuaternion(c,v)}}(),equals:function(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._order===this._order},fromArray:function(c){return this._x=c[0],this._y=c[1],this._z=c[2],c[3]!==void 0&&(this._order=c[3]),this.onChangeCallback(),this},toArray:function(c,p){return c===void 0&&(c=[]),p===void 0&&(p=0),c[p]=this._x,c[p+1]=this._y,c[p+2]=this._z,c[p+3]=this._order,c},toVector3:function(c){return c?c.set(this._x,this._y,this._z):new dt(this._x,this._y,this._z)},onChange:function(c){return this.onChangeCallback=c,this},onChangeCallback:function(){}});function yC(){this.mask=1}Object.assign(yC.prototype,{set:function(c){this.mask=1<<c|0},enable:function(c){this.mask|=1<<c|0},toggle:function(c){this.mask^=1<<c|0},disable:function(c){this.mask&=~(1<<c|0)},test:function(c){return(this.mask&c.mask)!==0}});var uk=0;function Vr(){Object.defineProperty(this,"id",{value:uk++}),this.uuid=qi.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vr.DefaultUp.clone();var c=new dt,p=new Rm,v=new Fo,w=new dt(1,1,1);function T(){v.setFromEuler(p,!1)}function R(){p.setFromQuaternion(v,void 0,!1)}p.onChange(T),v.onChange(R),Object.defineProperties(this,{position:{enumerable:!0,value:c},rotation:{enumerable:!0,value:p},quaternion:{enumerable:!0,value:v},scale:{enumerable:!0,value:w},modelViewMatrix:{value:new ur},normalMatrix:{value:new Ua}}),this.matrix=new ur,this.matrixWorld=new ur,this.matrixAutoUpdate=Vr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new yC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Vr.DefaultUp=new dt(0,1,0),Vr.DefaultMatrixAutoUpdate=!0,Vr.prototype=Object.assign(Object.create(e.prototype),{constructor:Vr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(c){this.matrix.multiplyMatrices(c,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(c){return this.quaternion.premultiply(c),this},setRotationFromAxisAngle:function(c,p){this.quaternion.setFromAxisAngle(c,p)},setRotationFromEuler:function(c){this.quaternion.setFromEuler(c,!0)},setRotationFromMatrix:function(c){this.quaternion.setFromRotationMatrix(c)},setRotationFromQuaternion:function(c){this.quaternion.copy(c)},rotateOnAxis:function(){var c=new Fo;return function(v,w){return c.setFromAxisAngle(v,w),this.quaternion.multiply(c),this}}(),rotateOnWorldAxis:function(){var c=new Fo;return function(v,w){return c.setFromAxisAngle(v,w),this.quaternion.premultiply(c),this}}(),rotateX:function(){var c=new dt(1,0,0);return function(v){return this.rotateOnAxis(c,v)}}(),rotateY:function(){var c=new dt(0,1,0);return function(v){return this.rotateOnAxis(c,v)}}(),rotateZ:function(){var c=new dt(0,0,1);return function(v){return this.rotateOnAxis(c,v)}}(),translateOnAxis:function(){var c=new dt;return function(v,w){return c.copy(v).applyQuaternion(this.quaternion),this.position.add(c.multiplyScalar(w)),this}}(),translateX:function(){var c=new dt(1,0,0);return function(v){return this.translateOnAxis(c,v)}}(),translateY:function(){var c=new dt(0,1,0);return function(v){return this.translateOnAxis(c,v)}}(),translateZ:function(){var c=new dt(0,0,1);return function(v){return this.translateOnAxis(c,v)}}(),localToWorld:function(c){return c.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var c=new ur;return function(v){return v.applyMatrix4(c.getInverse(this.matrixWorld))}}(),lookAt:function(){var c=new Fo,p=new ur,v=new dt,w=new dt;return function(R,P,H){R.isVector3?v.copy(R):v.set(R,P,H);var G=this.parent;this.updateWorldMatrix(!0,!1),w.setFromMatrixPosition(this.matrixWorld),this.isCamera?p.lookAt(w,v,this.up):p.lookAt(v,w,this.up),this.quaternion.setFromRotationMatrix(p),G&&(p.extractRotation(G.matrixWorld),c.setFromRotationMatrix(p),this.quaternion.premultiply(c.inverse()))}}(),add:function(c){if(arguments.length>1){for(var p=0;p<arguments.length;p++)this.add(arguments[p]);return this}return c===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",c),this):(c&&c.isObject3D?(c.parent!==null&&c.parent.remove(c),c.parent=this,c.dispatchEvent({type:"added"}),this.children.push(c)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",c),this)},remove:function(c){if(arguments.length>1){for(var p=0;p<arguments.length;p++)this.remove(arguments[p]);return this}var v=this.children.indexOf(c);return v!==-1&&(c.parent=null,c.dispatchEvent({type:"removed"}),this.children.splice(v,1)),this},getObjectById:function(c){return this.getObjectByProperty("id",c)},getObjectByName:function(c){return this.getObjectByProperty("name",c)},getObjectByProperty:function(c,p){if(this[c]===p)return this;for(var v=0,w=this.children.length;v<w;v++){var T=this.children[v],R=T.getObjectByProperty(c,p);if(R!==void 0)return R}},getWorldPosition:function(c){return c===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),c=new dt),this.updateMatrixWorld(!0),c.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var c=new dt,p=new dt;return function(w){return w===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),w=new Fo),this.updateMatrixWorld(!0),this.matrixWorld.decompose(c,w,p),w}}(),getWorldScale:function(){var c=new dt,p=new Fo;return function(w){return w===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),w=new dt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(c,p,w),w}}(),getWorldDirection:function(c){c===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),c=new dt),this.updateMatrixWorld(!0);var p=this.matrixWorld.elements;return c.set(p[8],p[9],p[10]).normalize()},raycast:function(){},traverse:function(c){c(this);for(var p=this.children,v=0,w=p.length;v<w;v++)p[v].traverse(c)},traverseVisible:function(c){if(this.visible!==!1){c(this);for(var p=this.children,v=0,w=p.length;v<w;v++)p[v].traverseVisible(c)}},traverseAncestors:function(c){var p=this.parent;p!==null&&(c(p),p.traverseAncestors(c))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(c){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||c)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,c=!0);for(var p=this.children,v=0,w=p.length;v<w;v++)p[v].updateMatrixWorld(c)},updateWorldMatrix:function(c,p){var v=this.parent;if(c===!0&&v!==null&&v.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),p===!0)for(var w=this.children,T=0,R=w.length;T<R;T++)w[T].updateWorldMatrix(!1,!0)},toJSON:function(c){var p=c===void 0||typeof c=="string",v={};p&&(c={geometries:{},materials:{},textures:{},images:{},shapes:{}},v.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var w={};w.uuid=this.uuid,w.type=this.type,this.name!==""&&(w.name=this.name),this.castShadow===!0&&(w.castShadow=!0),this.receiveShadow===!0&&(w.receiveShadow=!0),this.visible===!1&&(w.visible=!1),this.frustumCulled===!1&&(w.frustumCulled=!1),this.renderOrder!==0&&(w.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(w.userData=this.userData),w.layers=this.layers.mask,w.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(w.matrixAutoUpdate=!1);function T(We,Ke){return We[Ke.uuid]===void 0&&(We[Ke.uuid]=Ke.toJSON(c)),Ke.uuid}if(this.isMesh||this.isLine||this.isPoints){w.geometry=T(c.geometries,this.geometry);var R=this.geometry.parameters;if(R!==void 0&&R.shapes!==void 0){var P=R.shapes;if(Array.isArray(P))for(var H=0,G=P.length;H<G;H++){var Z=P[H];T(c.shapes,Z)}else T(c.shapes,P)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var ee=[],H=0,G=this.material.length;H<G;H++)ee.push(T(c.materials,this.material[H]));w.material=ee}else w.material=T(c.materials,this.material);if(this.children.length>0){w.children=[];for(var H=0;H<this.children.length;H++)w.children.push(this.children[H].toJSON(c).object)}if(p){var re=Ue(c.geometries),se=Ue(c.materials),Ae=Ue(c.textures),_e=Ue(c.images),P=Ue(c.shapes);re.length>0&&(v.geometries=re),se.length>0&&(v.materials=se),Ae.length>0&&(v.textures=Ae),_e.length>0&&(v.images=_e),P.length>0&&(v.shapes=P)}return v.object=w,v;function Ue(We){var Ke=[];for(var rt in We){var et=We[rt];delete et.metadata,Ke.push(et)}return Ke}},clone:function(c){return new this.constructor().copy(this,c)},copy:function(c,p){if(p===void 0&&(p=!0),this.name=c.name,this.up.copy(c.up),this.position.copy(c.position),this.quaternion.copy(c.quaternion),this.scale.copy(c.scale),this.matrix.copy(c.matrix),this.matrixWorld.copy(c.matrixWorld),this.matrixAutoUpdate=c.matrixAutoUpdate,this.matrixWorldNeedsUpdate=c.matrixWorldNeedsUpdate,this.layers.mask=c.layers.mask,this.visible=c.visible,this.castShadow=c.castShadow,this.receiveShadow=c.receiveShadow,this.frustumCulled=c.frustumCulled,this.renderOrder=c.renderOrder,this.userData=JSON.parse(JSON.stringify(c.userData)),p===!0)for(var v=0;v<c.children.length;v++){var w=c.children[v];this.add(w.clone())}return this}});function cd(){Vr.call(this),this.type="Camera",this.matrixWorldInverse=new ur,this.projectionMatrix=new ur,this.projectionMatrixInverse=new ur}cd.prototype=Object.assign(Object.create(Vr.prototype),{constructor:cd,isCamera:!0,copy:function(c,p){return Vr.prototype.copy.call(this,c,p),this.matrixWorldInverse.copy(c.matrixWorldInverse),this.projectionMatrix.copy(c.projectionMatrix),this.projectionMatrixInverse.copy(c.projectionMatrixInverse),this},getWorldDirection:function(c){c===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),c=new dt),this.updateMatrixWorld(!0);var p=this.matrixWorld.elements;return c.set(-p[8],-p[9],-p[10]).normalize()},updateMatrixWorld:function(c){Vr.prototype.updateMatrixWorld.call(this,c),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function tg(c,p,v,w,T,R){cd.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=c,this.right=p,this.top=v,this.bottom=w,this.near=T!==void 0?T:.1,this.far=R!==void 0?R:2e3,this.updateProjectionMatrix()}tg.prototype=Object.assign(Object.create(cd.prototype),{constructor:tg,isOrthographicCamera:!0,copy:function(c,p){return cd.prototype.copy.call(this,c,p),this.left=c.left,this.right=c.right,this.top=c.top,this.bottom=c.bottom,this.near=c.near,this.far=c.far,this.zoom=c.zoom,this.view=c.view===null?null:Object.assign({},c.view),this},setViewOffset:function(c,p,v,w,T,R){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=c,this.view.fullHeight=p,this.view.offsetX=v,this.view.offsetY=w,this.view.width=T,this.view.height=R,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var c=(this.right-this.left)/(2*this.zoom),p=(this.top-this.bottom)/(2*this.zoom),v=(this.right+this.left)/2,w=(this.top+this.bottom)/2,T=v-c,R=v+c,P=w+p,H=w-p;if(this.view!==null&&this.view.enabled){var G=this.zoom/(this.view.width/this.view.fullWidth),Z=this.zoom/(this.view.height/this.view.fullHeight),ee=(this.right-this.left)/this.view.width,re=(this.top-this.bottom)/this.view.height;T+=ee*(this.view.offsetX/G),R=T+ee*(this.view.width/G),P-=re*(this.view.offsetY/Z),H=P-re*(this.view.height/Z)}this.projectionMatrix.makeOrthographic(T,R,P,H,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(c){var p=Vr.prototype.toJSON.call(this,c);return p.object.zoom=this.zoom,p.object.left=this.left,p.object.right=this.right,p.object.top=this.top,p.object.bottom=this.bottom,p.object.near=this.near,p.object.far=this.far,this.view!==null&&(p.object.view=Object.assign({},this.view)),p}});function vh(c,p,v,w,T,R){this.a=c,this.b=p,this.c=v,this.normal=w&&w.isVector3?w:new dt,this.vertexNormals=Array.isArray(w)?w:[],this.color=T&&T.isColor?T:new fi,this.vertexColors=Array.isArray(T)?T:[],this.materialIndex=R!==void 0?R:0}Object.assign(vh.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(c){this.a=c.a,this.b=c.b,this.c=c.c,this.normal.copy(c.normal),this.color.copy(c.color),this.materialIndex=c.materialIndex;for(var p=0,v=c.vertexNormals.length;p<v;p++)this.vertexNormals[p]=c.vertexNormals[p].clone();for(var p=0,v=c.vertexColors.length;p<v;p++)this.vertexColors[p]=c.vertexColors[p].clone();return this}});var hk=0;function $i(){Object.defineProperty(this,"id",{value:hk+=2}),this.uuid=qi.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}$i.prototype=Object.assign(Object.create(e.prototype),{constructor:$i,isGeometry:!0,applyMatrix:function(c){for(var p=new Ua().getNormalMatrix(c),v=0,w=this.vertices.length;v<w;v++){var T=this.vertices[v];T.applyMatrix4(c)}for(var v=0,w=this.faces.length;v<w;v++){var R=this.faces[v];R.normal.applyMatrix3(p).normalize();for(var P=0,H=R.vertexNormals.length;P<H;P++)R.vertexNormals[P].applyMatrix3(p).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var c=new ur;return function(v){return c.makeRotationX(v),this.applyMatrix(c),this}}(),rotateY:function(){var c=new ur;return function(v){return c.makeRotationY(v),this.applyMatrix(c),this}}(),rotateZ:function(){var c=new ur;return function(v){return c.makeRotationZ(v),this.applyMatrix(c),this}}(),translate:function(){var c=new ur;return function(v,w,T){return c.makeTranslation(v,w,T),this.applyMatrix(c),this}}(),scale:function(){var c=new ur;return function(v,w,T){return c.makeScale(v,w,T),this.applyMatrix(c),this}}(),lookAt:function(){var c=new Vr;return function(v){c.lookAt(v),c.updateMatrix(),this.applyMatrix(c.matrix)}}(),fromBufferGeometry:function(c){var p=this,v=c.index!==null?c.index.array:void 0,w=c.attributes,T=w.position.array,R=w.normal!==void 0?w.normal.array:void 0,P=w.color!==void 0?w.color.array:void 0,H=w.uv!==void 0?w.uv.array:void 0,G=w.uv2!==void 0?w.uv2.array:void 0;G!==void 0&&(this.faceVertexUvs[1]=[]);for(var Z=[],ee=[],re=[],se=0,Ae=0;se<T.length;se+=3,Ae+=2)p.vertices.push(new dt(T[se],T[se+1],T[se+2])),R!==void 0&&Z.push(new dt(R[se],R[se+1],R[se+2])),P!==void 0&&p.colors.push(new fi(P[se],P[se+1],P[se+2])),H!==void 0&&ee.push(new ir(H[Ae],H[Ae+1])),G!==void 0&&re.push(new ir(G[Ae],G[Ae+1]));function _e(qe,It,Nt,Ot){var en=R!==void 0?[Z[qe].clone(),Z[It].clone(),Z[Nt].clone()]:[],Ut=P!==void 0?[p.colors[qe].clone(),p.colors[It].clone(),p.colors[Nt].clone()]:[],fn=new vh(qe,It,Nt,en,Ut,Ot);p.faces.push(fn),H!==void 0&&p.faceVertexUvs[0].push([ee[qe].clone(),ee[It].clone(),ee[Nt].clone()]),G!==void 0&&p.faceVertexUvs[1].push([re[qe].clone(),re[It].clone(),re[Nt].clone()])}var Ue=c.groups;if(Ue.length>0)for(var se=0;se<Ue.length;se++)for(var We=Ue[se],Ke=We.start,rt=We.count,Ae=Ke,et=Ke+rt;Ae<et;Ae+=3)v!==void 0?_e(v[Ae],v[Ae+1],v[Ae+2],We.materialIndex):_e(Ae,Ae+1,Ae+2,We.materialIndex);else if(v!==void 0)for(var se=0;se<v.length;se+=3)_e(v[se],v[se+1],v[se+2]);else for(var se=0;se<T.length/3;se+=3)_e(se,se+1,se+2);return this.computeFaceNormals(),c.boundingBox!==null&&(this.boundingBox=c.boundingBox.clone()),c.boundingSphere!==null&&(this.boundingSphere=c.boundingSphere.clone()),this},center:function(){var c=new dt;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(c).negate(),this.translate(c.x,c.y,c.z),this}}(),normalize:function(){this.computeBoundingSphere();var c=this.boundingSphere.center,p=this.boundingSphere.radius,v=p===0?1:1/p,w=new ur;return w.set(v,0,0,-v*c.x,0,v,0,-v*c.y,0,0,v,-v*c.z,0,0,0,1),this.applyMatrix(w),this},computeFaceNormals:function(){for(var c=new dt,p=new dt,v=0,w=this.faces.length;v<w;v++){var T=this.faces[v],R=this.vertices[T.a],P=this.vertices[T.b],H=this.vertices[T.c];c.subVectors(H,P),p.subVectors(R,P),c.cross(p),c.normalize(),T.normal.copy(c)}},computeVertexNormals:function(c){c===void 0&&(c=!0);var p,v,w,T,R,P;for(P=new Array(this.vertices.length),p=0,v=this.vertices.length;p<v;p++)P[p]=new dt;if(c){var H,G,Z,ee=new dt,re=new dt;for(w=0,T=this.faces.length;w<T;w++)R=this.faces[w],H=this.vertices[R.a],G=this.vertices[R.b],Z=this.vertices[R.c],ee.subVectors(Z,G),re.subVectors(H,G),ee.cross(re),P[R.a].add(ee),P[R.b].add(ee),P[R.c].add(ee)}else for(this.computeFaceNormals(),w=0,T=this.faces.length;w<T;w++)R=this.faces[w],P[R.a].add(R.normal),P[R.b].add(R.normal),P[R.c].add(R.normal);for(p=0,v=this.vertices.length;p<v;p++)P[p].normalize();for(w=0,T=this.faces.length;w<T;w++){R=this.faces[w];var se=R.vertexNormals;se.length===3?(se[0].copy(P[R.a]),se[1].copy(P[R.b]),se[2].copy(P[R.c])):(se[0]=P[R.a].clone(),se[1]=P[R.b].clone(),se[2]=P[R.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var c,p,v;for(this.computeFaceNormals(),c=0,p=this.faces.length;c<p;c++){v=this.faces[c];var w=v.vertexNormals;w.length===3?(w[0].copy(v.normal),w[1].copy(v.normal),w[2].copy(v.normal)):(w[0]=v.normal.clone(),w[1]=v.normal.clone(),w[2]=v.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var c,p,v,w,T;for(v=0,w=this.faces.length;v<w;v++)for(T=this.faces[v],T.__originalFaceNormal?T.__originalFaceNormal.copy(T.normal):T.__originalFaceNormal=T.normal.clone(),T.__originalVertexNormals||(T.__originalVertexNormals=[]),c=0,p=T.vertexNormals.length;c<p;c++)T.__originalVertexNormals[c]?T.__originalVertexNormals[c].copy(T.vertexNormals[c]):T.__originalVertexNormals[c]=T.vertexNormals[c].clone();var R=new $i;for(R.faces=this.faces,c=0,p=this.morphTargets.length;c<p;c++){if(!this.morphNormals[c]){this.morphNormals[c]={},this.morphNormals[c].faceNormals=[],this.morphNormals[c].vertexNormals=[];var P=this.morphNormals[c].faceNormals,H=this.morphNormals[c].vertexNormals,Z,ee;for(v=0,w=this.faces.length;v<w;v++)Z=new dt,ee={a:new dt,b:new dt,c:new dt},P.push(Z),H.push(ee)}var G=this.morphNormals[c];R.vertices=this.morphTargets[c].vertices,R.computeFaceNormals(),R.computeVertexNormals();var Z,ee;for(v=0,w=this.faces.length;v<w;v++)T=this.faces[v],Z=G.faceNormals[v],ee=G.vertexNormals[v],Z.copy(T.normal),ee.a.copy(T.vertexNormals[0]),ee.b.copy(T.vertexNormals[1]),ee.c.copy(T.vertexNormals[2])}for(v=0,w=this.faces.length;v<w;v++)T=this.faces[v],T.normal=T.__originalFaceNormal,T.vertexNormals=T.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Pc),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Zo),this.boundingSphere.setFromPoints(this.vertices)},merge:function(c,p,v){if(!(c&&c.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",c);return}var w,T=this.vertices.length,R=this.vertices,P=c.vertices,H=this.faces,G=c.faces,Z=this.faceVertexUvs[0],ee=c.faceVertexUvs[0],re=this.colors,se=c.colors;v===void 0&&(v=0),p!==void 0&&(w=new Ua().getNormalMatrix(p));for(var Ae=0,_e=P.length;Ae<_e;Ae++){var Ue=P[Ae],We=Ue.clone();p!==void 0&&We.applyMatrix4(p),R.push(We)}for(var Ae=0,_e=se.length;Ae<_e;Ae++)re.push(se[Ae].clone());for(Ae=0,_e=G.length;Ae<_e;Ae++){var Ke=G[Ae],rt,et,qe,It=Ke.vertexNormals,Nt=Ke.vertexColors;rt=new vh(Ke.a+T,Ke.b+T,Ke.c+T),rt.normal.copy(Ke.normal),w!==void 0&&rt.normal.applyMatrix3(w).normalize();for(var Ot=0,en=It.length;Ot<en;Ot++)et=It[Ot].clone(),w!==void 0&&et.applyMatrix3(w).normalize(),rt.vertexNormals.push(et);rt.color.copy(Ke.color);for(var Ot=0,en=Nt.length;Ot<en;Ot++)qe=Nt[Ot],rt.vertexColors.push(qe.clone());rt.materialIndex=Ke.materialIndex+v,H.push(rt)}for(Ae=0,_e=ee.length;Ae<_e;Ae++){var Ut=ee[Ae],fn=[];if(Ut!==void 0){for(var Ot=0,en=Ut.length;Ot<en;Ot++)fn.push(Ut[Ot].clone());Z.push(fn)}}},mergeMesh:function(c){if(!(c&&c.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",c);return}c.matrixAutoUpdate&&c.updateMatrix(),this.merge(c.geometry,c.matrix)},mergeVertices:function(){var c={},p=[],v=[],w,T,R=4,P=Math.pow(10,R),H,G,Z,ee,re,se;for(H=0,G=this.vertices.length;H<G;H++)w=this.vertices[H],T=Math.round(w.x*P)+"_"+Math.round(w.y*P)+"_"+Math.round(w.z*P),c[T]===void 0?(c[T]=H,p.push(this.vertices[H]),v[H]=p.length-1):v[H]=v[c[T]];var Ae=[];for(H=0,G=this.faces.length;H<G;H++){Z=this.faces[H],Z.a=v[Z.a],Z.b=v[Z.b],Z.c=v[Z.c],ee=[Z.a,Z.b,Z.c];for(var _e=0;_e<3;_e++)if(ee[_e]===ee[(_e+1)%3]){Ae.push(H);break}}for(H=Ae.length-1;H>=0;H--){var Ue=Ae[H];for(this.faces.splice(Ue,1),re=0,se=this.faceVertexUvs.length;re<se;re++)this.faceVertexUvs[re].splice(Ue,1)}var We=this.vertices.length-p.length;return this.vertices=p,We},setFromPoints:function(c){this.vertices=[];for(var p=0,v=c.length;p<v;p++){var w=c[p];this.vertices.push(new dt(w.x,w.y,w.z||0))}return this},sortFacesByMaterialIndex:function(){for(var c=this.faces,p=c.length,v=0;v<p;v++)c[v]._id=v;function w(Z,ee){return Z.materialIndex-ee.materialIndex}c.sort(w);var T=this.faceVertexUvs[0],R=this.faceVertexUvs[1],P,H;T&&T.length===p&&(P=[]),R&&R.length===p&&(H=[]);for(var v=0;v<p;v++){var G=c[v]._id;P&&P.push(T[G]),H&&H.push(R[G])}P&&(this.faceVertexUvs[0]=P),H&&(this.faceVertexUvs[1]=H)},toJSON:function(){var c={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.parameters!==void 0){var p=this.parameters;for(var v in p)p[v]!==void 0&&(c[v]=p[v]);return c}for(var w=[],T=0;T<this.vertices.length;T++){var R=this.vertices[T];w.push(R.x,R.y,R.z)}for(var P=[],H=[],G={},Z=[],ee={},re=[],se={},T=0;T<this.faces.length;T++){var Ae=this.faces[T],_e=!0,Ue=!1,We=this.faceVertexUvs[0][T]!==void 0,Ke=Ae.normal.length()>0,rt=Ae.vertexNormals.length>0,et=Ae.color.r!==1||Ae.color.g!==1||Ae.color.b!==1,qe=Ae.vertexColors.length>0,It=0;if(It=Ut(It,0,0),It=Ut(It,1,_e),It=Ut(It,2,Ue),It=Ut(It,3,We),It=Ut(It,4,Ke),It=Ut(It,5,rt),It=Ut(It,6,et),It=Ut(It,7,qe),P.push(It),P.push(Ae.a,Ae.b,Ae.c),P.push(Ae.materialIndex),We){var Nt=this.faceVertexUvs[0][T];P.push(qn(Nt[0]),qn(Nt[1]),qn(Nt[2]))}if(Ke&&P.push(fn(Ae.normal)),rt){var Ot=Ae.vertexNormals;P.push(fn(Ot[0]),fn(Ot[1]),fn(Ot[2]))}if(et&&P.push(gn(Ae.color)),qe){var en=Ae.vertexColors;P.push(gn(en[0]),gn(en[1]),gn(en[2]))}}function Ut(xr,sr,hr){return hr?xr|1<<sr:xr&~(1<<sr)}function fn(xr){var sr=xr.x.toString()+xr.y.toString()+xr.z.toString();return G[sr]!==void 0||(G[sr]=H.length/3,H.push(xr.x,xr.y,xr.z)),G[sr]}function gn(xr){var sr=xr.r.toString()+xr.g.toString()+xr.b.toString();return ee[sr]!==void 0||(ee[sr]=Z.length,Z.push(xr.getHex())),ee[sr]}function qn(xr){var sr=xr.x.toString()+xr.y.toString();return se[sr]!==void 0||(se[sr]=re.length/2,re.push(xr.x,xr.y)),se[sr]}return c.data={},c.data.vertices=w,c.data.normals=H,Z.length>0&&(c.data.colors=Z),re.length>0&&(c.data.uvs=[re]),c.data.faces=P,c},clone:function(){return new $i().copy(this)},copy:function(c){var p,v,w,T,R,P;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=c.name;var H=c.vertices;for(p=0,v=H.length;p<v;p++)this.vertices.push(H[p].clone());var G=c.colors;for(p=0,v=G.length;p<v;p++)this.colors.push(G[p].clone());var Z=c.faces;for(p=0,v=Z.length;p<v;p++)this.faces.push(Z[p].clone());for(p=0,v=c.faceVertexUvs.length;p<v;p++){var ee=c.faceVertexUvs[p];for(this.faceVertexUvs[p]===void 0&&(this.faceVertexUvs[p]=[]),w=0,T=ee.length;w<T;w++){var re=ee[w],se=[];for(R=0,P=re.length;R<P;R++){var Ae=re[R];se.push(Ae.clone())}this.faceVertexUvs[p].push(se)}}var _e=c.morphTargets;for(p=0,v=_e.length;p<v;p++){var Ue={};if(Ue.name=_e[p].name,_e[p].vertices!==void 0)for(Ue.vertices=[],w=0,T=_e[p].vertices.length;w<T;w++)Ue.vertices.push(_e[p].vertices[w].clone());if(_e[p].normals!==void 0)for(Ue.normals=[],w=0,T=_e[p].normals.length;w<T;w++)Ue.normals.push(_e[p].normals[w].clone());this.morphTargets.push(Ue)}var We=c.morphNormals;for(p=0,v=We.length;p<v;p++){var Ke={};if(We[p].vertexNormals!==void 0)for(Ke.vertexNormals=[],w=0,T=We[p].vertexNormals.length;w<T;w++){var rt=We[p].vertexNormals[w],et={};et.a=rt.a.clone(),et.b=rt.b.clone(),et.c=rt.c.clone(),Ke.vertexNormals.push(et)}if(We[p].faceNormals!==void 0)for(Ke.faceNormals=[],w=0,T=We[p].faceNormals.length;w<T;w++)Ke.faceNormals.push(We[p].faceNormals[w].clone());this.morphNormals.push(Ke)}var qe=c.skinWeights;for(p=0,v=qe.length;p<v;p++)this.skinWeights.push(qe[p].clone());var It=c.skinIndices;for(p=0,v=It.length;p<v;p++)this.skinIndices.push(It[p].clone());var Nt=c.lineDistances;for(p=0,v=Nt.length;p<v;p++)this.lineDistances.push(Nt[p]);var Ot=c.boundingBox;Ot!==null&&(this.boundingBox=Ot.clone());var en=c.boundingSphere;return en!==null&&(this.boundingSphere=en.clone()),this.elementsNeedUpdate=c.elementsNeedUpdate,this.verticesNeedUpdate=c.verticesNeedUpdate,this.uvsNeedUpdate=c.uvsNeedUpdate,this.normalsNeedUpdate=c.normalsNeedUpdate,this.colorsNeedUpdate=c.colorsNeedUpdate,this.lineDistancesNeedUpdate=c.lineDistancesNeedUpdate,this.groupsNeedUpdate=c.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function _s(c,p,v){if(Array.isArray(c))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=c,this.itemSize=p,this.count=c!==void 0?c.length/p:0,this.normalized=v===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(_s.prototype,"needsUpdate",{set:function(c){c===!0&&this.version++}}),Object.assign(_s.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(c){if(Array.isArray(c))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=c!==void 0?c.length/this.itemSize:0,this.array=c,this},setDynamic:function(c){return this.dynamic=c,this},copy:function(c){return this.name=c.name,this.array=new c.array.constructor(c.array),this.itemSize=c.itemSize,this.count=c.count,this.normalized=c.normalized,this.dynamic=c.dynamic,this},copyAt:function(c,p,v){c*=this.itemSize,v*=p.itemSize;for(var w=0,T=this.itemSize;w<T;w++)this.array[c+w]=p.array[v+w];return this},copyArray:function(c){return this.array.set(c),this},copyColorsArray:function(c){for(var p=this.array,v=0,w=0,T=c.length;w<T;w++){var R=c[w];R===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",w),R=new fi),p[v++]=R.r,p[v++]=R.g,p[v++]=R.b}return this},copyVector2sArray:function(c){for(var p=this.array,v=0,w=0,T=c.length;w<T;w++){var R=c[w];R===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",w),R=new ir),p[v++]=R.x,p[v++]=R.y}return this},copyVector3sArray:function(c){for(var p=this.array,v=0,w=0,T=c.length;w<T;w++){var R=c[w];R===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",w),R=new dt),p[v++]=R.x,p[v++]=R.y,p[v++]=R.z}return this},copyVector4sArray:function(c){for(var p=this.array,v=0,w=0,T=c.length;w<T;w++){var R=c[w];R===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",w),R=new Gs),p[v++]=R.x,p[v++]=R.y,p[v++]=R.z,p[v++]=R.w}return this},set:function(c,p){return p===void 0&&(p=0),this.array.set(c,p),this},getX:function(c){return this.array[c*this.itemSize]},setX:function(c,p){return this.array[c*this.itemSize]=p,this},getY:function(c){return this.array[c*this.itemSize+1]},setY:function(c,p){return this.array[c*this.itemSize+1]=p,this},getZ:function(c){return this.array[c*this.itemSize+2]},setZ:function(c,p){return this.array[c*this.itemSize+2]=p,this},getW:function(c){return this.array[c*this.itemSize+3]},setW:function(c,p){return this.array[c*this.itemSize+3]=p,this},setXY:function(c,p,v){return c*=this.itemSize,this.array[c+0]=p,this.array[c+1]=v,this},setXYZ:function(c,p,v,w){return c*=this.itemSize,this.array[c+0]=p,this.array[c+1]=v,this.array[c+2]=w,this},setXYZW:function(c,p,v,w,T){return c*=this.itemSize,this.array[c+0]=p,this.array[c+1]=v,this.array[c+2]=w,this.array[c+3]=T,this},onUpload:function(c){return this.onUploadCallback=c,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function jy(c,p,v){_s.call(this,new Int8Array(c),p,v)}jy.prototype=Object.create(_s.prototype),jy.prototype.constructor=jy;function Ky(c,p,v){_s.call(this,new Uint8Array(c),p,v)}Ky.prototype=Object.create(_s.prototype),Ky.prototype.constructor=Ky;function qy(c,p,v){_s.call(this,new Uint8ClampedArray(c),p,v)}qy.prototype=Object.create(_s.prototype),qy.prototype.constructor=qy;function Xy(c,p,v){_s.call(this,new Int16Array(c),p,v)}Xy.prototype=Object.create(_s.prototype),Xy.prototype.constructor=Xy;function Fu(c,p,v){_s.call(this,new Uint16Array(c),p,v)}Fu.prototype=Object.create(_s.prototype),Fu.prototype.constructor=Fu;function lu(c,p,v){_s.call(this,new Int32Array(c),p,v)}lu.prototype=Object.create(_s.prototype),lu.prototype.constructor=lu;function cu(c,p,v){_s.call(this,new Uint32Array(c),p,v)}cu.prototype=Object.create(_s.prototype),cu.prototype.constructor=cu;function kr(c,p,v){_s.call(this,new Float32Array(c),p,v)}kr.prototype=Object.create(_s.prototype),kr.prototype.constructor=kr;function s0(c,p,v){_s.call(this,new Float64Array(c),p,v)}s0.prototype=Object.create(_s.prototype),s0.prototype.constructor=s0;function LA(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(LA.prototype,{computeGroups:function(c){for(var p,v=[],w=void 0,T=c.faces,R=0;R<T.length;R++){var P=T[R];P.materialIndex!==w&&(w=P.materialIndex,p!==void 0&&(p.count=R*3-p.start,v.push(p)),p={start:R*3,materialIndex:w})}p!==void 0&&(p.count=R*3-p.start,v.push(p)),this.groups=v},fromGeometry:function(c){var p=c.faces,v=c.vertices,w=c.faceVertexUvs,T=w[0]&&w[0].length>0,R=w[1]&&w[1].length>0,P=c.morphTargets,H=P.length,G;if(H>0){G=[];for(var Z=0;Z<H;Z++)G[Z]={name:P[Z].name,data:[]};this.morphTargets.position=G}var ee=c.morphNormals,re=ee.length,se;if(re>0){se=[];for(var Z=0;Z<re;Z++)se[Z]={name:ee[Z].name,data:[]};this.morphTargets.normal=se}var Ae=c.skinIndices,_e=c.skinWeights,Ue=Ae.length===v.length,We=_e.length===v.length;v.length>0&&p.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var Z=0;Z<p.length;Z++){var Ke=p[Z];this.vertices.push(v[Ke.a],v[Ke.b],v[Ke.c]);var rt=Ke.vertexNormals;if(rt.length===3)this.normals.push(rt[0],rt[1],rt[2]);else{var et=Ke.normal;this.normals.push(et,et,et)}var qe=Ke.vertexColors;if(qe.length===3)this.colors.push(qe[0],qe[1],qe[2]);else{var It=Ke.color;this.colors.push(It,It,It)}if(T===!0){var Nt=w[0][Z];Nt!==void 0?this.uvs.push(Nt[0],Nt[1],Nt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",Z),this.uvs.push(new ir,new ir,new ir))}if(R===!0){var Nt=w[1][Z];Nt!==void 0?this.uvs2.push(Nt[0],Nt[1],Nt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",Z),this.uvs2.push(new ir,new ir,new ir))}for(var Ot=0;Ot<H;Ot++){var en=P[Ot].vertices;G[Ot].data.push(en[Ke.a],en[Ke.b],en[Ke.c])}for(var Ot=0;Ot<re;Ot++){var Ut=ee[Ot].vertexNormals[Z];se[Ot].data.push(Ut.a,Ut.b,Ut.c)}Ue&&this.skinIndices.push(Ae[Ke.a],Ae[Ke.b],Ae[Ke.c]),We&&this.skinWeights.push(_e[Ke.a],_e[Ke.b],_e[Ke.c])}return this.computeGroups(c),this.verticesNeedUpdate=c.verticesNeedUpdate,this.normalsNeedUpdate=c.normalsNeedUpdate,this.colorsNeedUpdate=c.colorsNeedUpdate,this.uvsNeedUpdate=c.uvsNeedUpdate,this.groupsNeedUpdate=c.groupsNeedUpdate,this}});function yh(c){if(c.length===0)return-1/0;for(var p=c[0],v=1,w=c.length;v<w;++v)c[v]>p&&(p=c[v]);return p}var dk=1;function ii(){Object.defineProperty(this,"id",{value:dk+=2}),this.uuid=qi.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}ii.prototype=Object.assign(Object.create(e.prototype),{constructor:ii,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(c){Array.isArray(c)?this.index=new(yh(c)>65535?cu:Fu)(c,1):this.index=c},addAttribute:function(c,p){return!(p&&p.isBufferAttribute)&&!(p&&p.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(c,new _s(arguments[1],arguments[2]))):c==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(p),this):(this.attributes[c]=p,this)},getAttribute:function(c){return this.attributes[c]},removeAttribute:function(c){return delete this.attributes[c],this},addGroup:function(c,p,v){this.groups.push({start:c,count:p,materialIndex:v!==void 0?v:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(c,p){this.drawRange.start=c,this.drawRange.count=p},applyMatrix:function(c){var p=this.attributes.position;p!==void 0&&(c.applyToBufferAttribute(p),p.needsUpdate=!0);var v=this.attributes.normal;if(v!==void 0){var w=new Ua().getNormalMatrix(c);w.applyToBufferAttribute(v),v.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var c=new ur;return function(v){return c.makeRotationX(v),this.applyMatrix(c),this}}(),rotateY:function(){var c=new ur;return function(v){return c.makeRotationY(v),this.applyMatrix(c),this}}(),rotateZ:function(){var c=new ur;return function(v){return c.makeRotationZ(v),this.applyMatrix(c),this}}(),translate:function(){var c=new ur;return function(v,w,T){return c.makeTranslation(v,w,T),this.applyMatrix(c),this}}(),scale:function(){var c=new ur;return function(v,w,T){return c.makeScale(v,w,T),this.applyMatrix(c),this}}(),lookAt:function(){var c=new Vr;return function(v){c.lookAt(v),c.updateMatrix(),this.applyMatrix(c.matrix)}}(),center:function(){var c=new dt;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(c).negate(),this.translate(c.x,c.y,c.z),this}}(),setFromObject:function(c){var p=c.geometry;if(c.isPoints||c.isLine){var v=new kr(p.vertices.length*3,3),w=new kr(p.colors.length*3,3);if(this.addAttribute("position",v.copyVector3sArray(p.vertices)),this.addAttribute("color",w.copyColorsArray(p.colors)),p.lineDistances&&p.lineDistances.length===p.vertices.length){var T=new kr(p.lineDistances.length,1);this.addAttribute("lineDistance",T.copyArray(p.lineDistances))}p.boundingSphere!==null&&(this.boundingSphere=p.boundingSphere.clone()),p.boundingBox!==null&&(this.boundingBox=p.boundingBox.clone())}else c.isMesh&&p&&p.isGeometry&&this.fromGeometry(p);return this},setFromPoints:function(c){for(var p=[],v=0,w=c.length;v<w;v++){var T=c[v];p.push(T.x,T.y,T.z||0)}return this.addAttribute("position",new kr(p,3)),this},updateFromObject:function(c){var p=c.geometry;if(c.isMesh){var v=p.__directGeometry;if(p.elementsNeedUpdate===!0&&(v=void 0,p.elementsNeedUpdate=!1),v===void 0)return this.fromGeometry(p);v.verticesNeedUpdate=p.verticesNeedUpdate,v.normalsNeedUpdate=p.normalsNeedUpdate,v.colorsNeedUpdate=p.colorsNeedUpdate,v.uvsNeedUpdate=p.uvsNeedUpdate,v.groupsNeedUpdate=p.groupsNeedUpdate,p.verticesNeedUpdate=!1,p.normalsNeedUpdate=!1,p.colorsNeedUpdate=!1,p.uvsNeedUpdate=!1,p.groupsNeedUpdate=!1,p=v}var w;return p.verticesNeedUpdate===!0&&(w=this.attributes.position,w!==void 0&&(w.copyVector3sArray(p.vertices),w.needsUpdate=!0),p.verticesNeedUpdate=!1),p.normalsNeedUpdate===!0&&(w=this.attributes.normal,w!==void 0&&(w.copyVector3sArray(p.normals),w.needsUpdate=!0),p.normalsNeedUpdate=!1),p.colorsNeedUpdate===!0&&(w=this.attributes.color,w!==void 0&&(w.copyColorsArray(p.colors),w.needsUpdate=!0),p.colorsNeedUpdate=!1),p.uvsNeedUpdate&&(w=this.attributes.uv,w!==void 0&&(w.copyVector2sArray(p.uvs),w.needsUpdate=!0),p.uvsNeedUpdate=!1),p.lineDistancesNeedUpdate&&(w=this.attributes.lineDistance,w!==void 0&&(w.copyArray(p.lineDistances),w.needsUpdate=!0),p.lineDistancesNeedUpdate=!1),p.groupsNeedUpdate&&(p.computeGroups(c.geometry),this.groups=p.groups,p.groupsNeedUpdate=!1),this},fromGeometry:function(c){return c.__directGeometry=new LA().fromGeometry(c),this.fromDirectGeometry(c.__directGeometry)},fromDirectGeometry:function(c){var p=new Float32Array(c.vertices.length*3);if(this.addAttribute("position",new _s(p,3).copyVector3sArray(c.vertices)),c.normals.length>0){var v=new Float32Array(c.normals.length*3);this.addAttribute("normal",new _s(v,3).copyVector3sArray(c.normals))}if(c.colors.length>0){var w=new Float32Array(c.colors.length*3);this.addAttribute("color",new _s(w,3).copyColorsArray(c.colors))}if(c.uvs.length>0){var T=new Float32Array(c.uvs.length*2);this.addAttribute("uv",new _s(T,2).copyVector2sArray(c.uvs))}if(c.uvs2.length>0){var R=new Float32Array(c.uvs2.length*2);this.addAttribute("uv2",new _s(R,2).copyVector2sArray(c.uvs2))}this.groups=c.groups;for(var P in c.morphTargets){for(var H=[],G=c.morphTargets[P],Z=0,ee=G.length;Z<ee;Z++){var re=G[Z],se=new kr(re.data.length*3,3);se.name=re.name,H.push(se.copyVector3sArray(re.data))}this.morphAttributes[P]=H}if(c.skinIndices.length>0){var Ae=new kr(c.skinIndices.length*4,4);this.addAttribute("skinIndex",Ae.copyVector4sArray(c.skinIndices))}if(c.skinWeights.length>0){var _e=new kr(c.skinWeights.length*4,4);this.addAttribute("skinWeight",_e.copyVector4sArray(c.skinWeights))}return c.boundingSphere!==null&&(this.boundingSphere=c.boundingSphere.clone()),c.boundingBox!==null&&(this.boundingBox=c.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Pc);var c=this.attributes.position;c!==void 0?this.boundingBox.setFromBufferAttribute(c):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var c=new Pc,p=new dt;return function(){this.boundingSphere===null&&(this.boundingSphere=new Zo);var w=this.attributes.position;if(w){var T=this.boundingSphere.center;c.setFromBufferAttribute(w),c.getCenter(T);for(var R=0,P=0,H=w.count;P<H;P++)p.x=w.getX(P),p.y=w.getY(P),p.z=w.getZ(P),R=Math.max(R,T.distanceToSquared(p));this.boundingSphere.radius=Math.sqrt(R),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var c=this.index,p=this.attributes;if(p.position){var v=p.position.array;if(p.normal===void 0)this.addAttribute("normal",new _s(new Float32Array(v.length),3));else for(var w=p.normal.array,T=0,R=w.length;T<R;T++)w[T]=0;var P=p.normal.array,H,G,Z,ee=new dt,re=new dt,se=new dt,Ae=new dt,_e=new dt;if(c)for(var Ue=c.array,T=0,R=c.count;T<R;T+=3)H=Ue[T+0]*3,G=Ue[T+1]*3,Z=Ue[T+2]*3,ee.fromArray(v,H),re.fromArray(v,G),se.fromArray(v,Z),Ae.subVectors(se,re),_e.subVectors(ee,re),Ae.cross(_e),P[H]+=Ae.x,P[H+1]+=Ae.y,P[H+2]+=Ae.z,P[G]+=Ae.x,P[G+1]+=Ae.y,P[G+2]+=Ae.z,P[Z]+=Ae.x,P[Z+1]+=Ae.y,P[Z+2]+=Ae.z;else for(var T=0,R=v.length;T<R;T+=9)ee.fromArray(v,T),re.fromArray(v,T+3),se.fromArray(v,T+6),Ae.subVectors(se,re),_e.subVectors(ee,re),Ae.cross(_e),P[T]=Ae.x,P[T+1]=Ae.y,P[T+2]=Ae.z,P[T+3]=Ae.x,P[T+4]=Ae.y,P[T+5]=Ae.z,P[T+6]=Ae.x,P[T+7]=Ae.y,P[T+8]=Ae.z;this.normalizeNormals(),p.normal.needsUpdate=!0}},merge:function(c,p){if(!(c&&c.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",c);return}p===void 0&&(p=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var v=this.attributes;for(var w in v)if(c.attributes[w]!==void 0)for(var T=v[w],R=T.array,P=c.attributes[w],H=P.array,G=P.itemSize,Z=0,ee=G*p;Z<H.length;Z++,ee++)R[ee]=H[Z];return this},normalizeNormals:function(){var c=new dt;return function(){for(var v=this.attributes.normal,w=0,T=v.count;w<T;w++)c.x=v.getX(w),c.y=v.getY(w),c.z=v.getZ(w),c.normalize(),v.setXYZ(w,c.x,c.y,c.z)}}(),toNonIndexed:function(){if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var c=new ii,p=this.index.array,v=this.attributes;for(var w in v){for(var T=v[w],R=T.array,P=T.itemSize,H=new R.constructor(p.length*P),G=0,Z=0,ee=0,re=p.length;ee<re;ee++){G=p[ee]*P;for(var se=0;se<P;se++)H[Z++]=R[G++]}c.addAttribute(w,new _s(H,P))}for(var Ae=this.groups,ee=0,re=Ae.length;ee<re;ee++){var _e=Ae[ee];c.addGroup(_e.start,_e.count,_e.materialIndex)}return c},toJSON:function(){var c={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),Object.keys(this.userData).length>0&&(c.userData=this.userData),this.parameters!==void 0){var p=this.parameters;for(var v in p)p[v]!==void 0&&(c[v]=p[v]);return c}c.data={attributes:{}};var w=this.index;if(w!==null){var T=Array.prototype.slice.call(w.array);c.data.index={type:w.array.constructor.name,array:T}}var R=this.attributes;for(var v in R){var P=R[v],T=Array.prototype.slice.call(P.array);c.data.attributes[v]={itemSize:P.itemSize,type:P.array.constructor.name,array:T,normalized:P.normalized}}var H=this.groups;H.length>0&&(c.data.groups=JSON.parse(JSON.stringify(H)));var G=this.boundingSphere;return G!==null&&(c.data.boundingSphere={center:G.center.toArray(),radius:G.radius}),c},clone:function(){return new ii().copy(this)},copy:function(c){var p,v,w;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=c.name;var T=c.index;T!==null&&this.setIndex(T.clone());var R=c.attributes;for(p in R){var P=R[p];this.addAttribute(p,P.clone())}var H=c.morphAttributes;for(p in H){var G=[],Z=H[p];for(v=0,w=Z.length;v<w;v++)G.push(Z[v].clone());this.morphAttributes[p]=G}var ee=c.groups;for(v=0,w=ee.length;v<w;v++){var re=ee[v];this.addGroup(re.start,re.count,re.materialIndex)}var se=c.boundingBox;se!==null&&(this.boundingBox=se.clone());var Ae=c.boundingSphere;return Ae!==null&&(this.boundingSphere=Ae.clone()),this.drawRange.start=c.drawRange.start,this.drawRange.count=c.drawRange.count,this.userData=c.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Im(c,p,v,w,T,R){$i.call(this),this.type="BoxGeometry",this.parameters={width:c,height:p,depth:v,widthSegments:w,heightSegments:T,depthSegments:R},this.fromBufferGeometry(new ng(c,p,v,w,T,R)),this.mergeVertices()}Im.prototype=Object.create($i.prototype),Im.prototype.constructor=Im;function ng(c,p,v,w,T,R){ii.call(this),this.type="BoxBufferGeometry",this.parameters={width:c,height:p,depth:v,widthSegments:w,heightSegments:T,depthSegments:R};var P=this;c=c||1,p=p||1,v=v||1,w=Math.floor(w)||1,T=Math.floor(T)||1,R=Math.floor(R)||1;var H=[],G=[],Z=[],ee=[],re=0,se=0;Ae("z","y","x",-1,-1,v,p,c,R,T,0),Ae("z","y","x",1,-1,v,p,-c,R,T,1),Ae("x","z","y",1,1,c,v,p,w,R,2),Ae("x","z","y",1,-1,c,v,-p,w,R,3),Ae("x","y","z",1,-1,c,p,v,w,T,4),Ae("x","y","z",-1,-1,c,p,-v,w,T,5),this.setIndex(H),this.addAttribute("position",new kr(G,3)),this.addAttribute("normal",new kr(Z,3)),this.addAttribute("uv",new kr(ee,2));function Ae(_e,Ue,We,Ke,rt,et,qe,It,Nt,Ot,en){var Ut=et/Nt,fn=qe/Ot,gn=et/2,qn=qe/2,xr=It/2,sr=Nt+1,hr=Ot+1,Or=0,Mt=0,xt,kn,En=new dt;for(kn=0;kn<hr;kn++){var Dr=kn*fn-qn;for(xt=0;xt<sr;xt++){var jt=xt*Ut-gn;En[_e]=jt*Ke,En[Ue]=Dr*rt,En[We]=xr,G.push(En.x,En.y,En.z),En[_e]=0,En[Ue]=0,En[We]=It>0?1:-1,Z.push(En.x,En.y,En.z),ee.push(xt/Nt),ee.push(1-kn/Ot),Or+=1}}for(kn=0;kn<Ot;kn++)for(xt=0;xt<Nt;xt++){var Cr=re+xt+sr*kn,er=re+xt+sr*(kn+1),Zr=re+(xt+1)+sr*(kn+1),wr=re+(xt+1)+sr*kn;H.push(Cr,er,wr),H.push(er,Zr,wr),Mt+=6}P.addGroup(se,Mt,en),se+=Mt,re+=Or}}ng.prototype=Object.create(ii.prototype),ng.prototype.constructor=ng;function a0(c,p,v,w){$i.call(this),this.type="PlaneGeometry",this.parameters={width:c,height:p,widthSegments:v,heightSegments:w},this.fromBufferGeometry(new rg(c,p,v,w)),this.mergeVertices()}a0.prototype=Object.create($i.prototype),a0.prototype.constructor=a0;function rg(c,p,v,w){ii.call(this),this.type="PlaneBufferGeometry",this.parameters={width:c,height:p,widthSegments:v,heightSegments:w},c=c||1,p=p||1;var T=c/2,R=p/2,P=Math.floor(v)||1,H=Math.floor(w)||1,G=P+1,Z=H+1,ee=c/P,re=p/H,se,Ae,_e=[],Ue=[],We=[],Ke=[];for(Ae=0;Ae<Z;Ae++){var rt=Ae*re-R;for(se=0;se<G;se++){var et=se*ee-T;Ue.push(et,-rt,0),We.push(0,0,1),Ke.push(se/P),Ke.push(1-Ae/H)}}for(Ae=0;Ae<H;Ae++)for(se=0;se<P;se++){var qe=se+G*Ae,It=se+G*(Ae+1),Nt=se+1+G*(Ae+1),Ot=se+1+G*Ae;_e.push(qe,It,Ot),_e.push(It,Nt,Ot)}this.setIndex(_e),this.addAttribute("position",new kr(Ue,3)),this.addAttribute("normal",new kr(We,3)),this.addAttribute("uv",new kr(Ke,2))}rg.prototype=Object.create(ii.prototype),rg.prototype.constructor=rg;var fk=0;function ls(){Object.defineProperty(this,"id",{value:fk++}),this.uuid=qi.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=B,this.side=A,this.flatShading=!1,this.vertexColors=x,this.opacity=1,this.transparent=!1,this.blendSrc=ne,this.blendDst=he,this.blendEquation=O,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ie,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}ls.prototype=Object.assign(Object.create(e.prototype),{constructor:ls,isMaterial:!0,onBeforeCompile:function(){},setValues:function(c){if(c!==void 0)for(var p in c){var v=c[p];if(v===void 0){console.warn("THREE.Material: '"+p+"' parameter is undefined.");continue}if(p==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=v===y;continue}var w=this[p];if(w===void 0){console.warn("THREE."+this.type+": '"+p+"' is not a property of this material.");continue}w&&w.isColor?w.set(v):w&&w.isVector3&&v&&v.isVector3?w.copy(v):p==="overdraw"?this[p]=Number(v):this[p]=v}},toJSON:function(c){var p=c===void 0||typeof c=="string";p&&(c={textures:{},images:{}});var v={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};v.uuid=this.uuid,v.type=this.type,this.name!==""&&(v.name=this.name),this.color&&this.color.isColor&&(v.color=this.color.getHex()),this.roughness!==void 0&&(v.roughness=this.roughness),this.metalness!==void 0&&(v.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(v.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(v.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(v.specular=this.specular.getHex()),this.shininess!==void 0&&(v.shininess=this.shininess),this.clearCoat!==void 0&&(v.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(v.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(v.map=this.map.toJSON(c).uuid),this.alphaMap&&this.alphaMap.isTexture&&(v.alphaMap=this.alphaMap.toJSON(c).uuid),this.lightMap&&this.lightMap.isTexture&&(v.lightMap=this.lightMap.toJSON(c).uuid),this.aoMap&&this.aoMap.isTexture&&(v.aoMap=this.aoMap.toJSON(c).uuid,v.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(v.bumpMap=this.bumpMap.toJSON(c).uuid,v.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(v.normalMap=this.normalMap.toJSON(c).uuid,v.normalMapType=this.normalMapType,v.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(v.displacementMap=this.displacementMap.toJSON(c).uuid,v.displacementScale=this.displacementScale,v.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(v.roughnessMap=this.roughnessMap.toJSON(c).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(v.metalnessMap=this.metalnessMap.toJSON(c).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(v.emissiveMap=this.emissiveMap.toJSON(c).uuid),this.specularMap&&this.specularMap.isTexture&&(v.specularMap=this.specularMap.toJSON(c).uuid),this.envMap&&this.envMap.isTexture&&(v.envMap=this.envMap.toJSON(c).uuid,v.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(v.gradientMap=this.gradientMap.toJSON(c).uuid),this.size!==void 0&&(v.size=this.size),this.sizeAttenuation!==void 0&&(v.sizeAttenuation=this.sizeAttenuation),this.blending!==B&&(v.blending=this.blending),this.flatShading===!0&&(v.flatShading=this.flatShading),this.side!==A&&(v.side=this.side),this.vertexColors!==x&&(v.vertexColors=this.vertexColors),this.opacity<1&&(v.opacity=this.opacity),this.transparent===!0&&(v.transparent=this.transparent),v.depthFunc=this.depthFunc,v.depthTest=this.depthTest,v.depthWrite=this.depthWrite,this.rotation!==0&&(v.rotation=this.rotation),this.polygonOffset===!0&&(v.polygonOffset=!0),this.polygonOffsetFactor!==0&&(v.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(v.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(v.linewidth=this.linewidth),this.dashSize!==void 0&&(v.dashSize=this.dashSize),this.gapSize!==void 0&&(v.gapSize=this.gapSize),this.scale!==void 0&&(v.scale=this.scale),this.dithering===!0&&(v.dithering=!0),this.alphaTest>0&&(v.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(v.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(v.wireframe=this.wireframe),this.wireframeLinewidth>1&&(v.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(v.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(v.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(v.morphTargets=!0),this.skinning===!0&&(v.skinning=!0),this.visible===!1&&(v.visible=!1),JSON.stringify(this.userData)!=="{}"&&(v.userData=this.userData);function w(P){var H=[];for(var G in P){var Z=P[G];delete Z.metadata,H.push(Z)}return H}if(p){var T=w(c.textures),R=w(c.images);T.length>0&&(v.textures=T),R.length>0&&(v.images=R)}return v},clone:function(){return new this.constructor().copy(this)},copy:function(c){this.name=c.name,this.fog=c.fog,this.lights=c.lights,this.blending=c.blending,this.side=c.side,this.flatShading=c.flatShading,this.vertexColors=c.vertexColors,this.opacity=c.opacity,this.transparent=c.transparent,this.blendSrc=c.blendSrc,this.blendDst=c.blendDst,this.blendEquation=c.blendEquation,this.blendSrcAlpha=c.blendSrcAlpha,this.blendDstAlpha=c.blendDstAlpha,this.blendEquationAlpha=c.blendEquationAlpha,this.depthFunc=c.depthFunc,this.depthTest=c.depthTest,this.depthWrite=c.depthWrite,this.colorWrite=c.colorWrite,this.precision=c.precision,this.polygonOffset=c.polygonOffset,this.polygonOffsetFactor=c.polygonOffsetFactor,this.polygonOffsetUnits=c.polygonOffsetUnits,this.dithering=c.dithering,this.alphaTest=c.alphaTest,this.premultipliedAlpha=c.premultipliedAlpha,this.overdraw=c.overdraw,this.visible=c.visible,this.userData=JSON.parse(JSON.stringify(c.userData)),this.clipShadows=c.clipShadows,this.clipIntersection=c.clipIntersection;var p=c.clippingPlanes,v=null;if(p!==null){var w=p.length;v=new Array(w);for(var T=0;T!==w;++T)v[T]=p[T].clone()}return this.clippingPlanes=v,this.shadowSide=c.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Fc(c){ls.call(this),this.type="MeshBasicMaterial",this.color=new fi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(c)}Fc.prototype=Object.create(ls.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isMeshBasicMaterial=!0,Fc.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this};function Oc(c){ls.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,c!==void 0&&(c.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(c))}Oc.prototype=Object.create(ls.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isShaderMaterial=!0,Oc.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.fragmentShader=c.fragmentShader,this.vertexShader=c.vertexShader,this.uniforms=gc.clone(c.uniforms),this.defines=Object.assign({},c.defines),this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.lights=c.lights,this.clipping=c.clipping,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.morphNormals=c.morphNormals,this.extensions=c.extensions,this},Oc.prototype.toJSON=function(c){var p=ls.prototype.toJSON.call(this,c);p.uniforms={};for(var v in this.uniforms){var w=this.uniforms[v],T=w.value;T.isTexture?p.uniforms[v]={type:"t",value:T.toJSON(c).uuid}:T.isColor?p.uniforms[v]={type:"c",value:T.getHex()}:T.isVector2?p.uniforms[v]={type:"v2",value:T.toArray()}:T.isVector3?p.uniforms[v]={type:"v3",value:T.toArray()}:T.isVector4?p.uniforms[v]={type:"v4",value:T.toArray()}:T.isMatrix4?p.uniforms[v]={type:"m4",value:T.toArray()}:p.uniforms[v]={value:T}}return Object.keys(this.defines).length>0&&(p.defines=this.defines),p.vertexShader=this.vertexShader,p.fragmentShader=this.fragmentShader,p};function BA(c,p){this.origin=c!==void 0?c:new dt,this.direction=p!==void 0?p:new dt}Object.assign(BA.prototype,{set:function(c,p){return this.origin.copy(c),this.direction.copy(p),this},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this},at:function(c,p){return p===void 0&&(console.warn("THREE.Ray: .at() target is now required"),p=new dt),p.copy(this.direction).multiplyScalar(c).add(this.origin)},lookAt:function(c){return this.direction.copy(c).sub(this.origin).normalize(),this},recast:function(){var c=new dt;return function(v){return this.origin.copy(this.at(v,c)),this}}(),closestPointToPoint:function(c,p){p===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),p=new dt),p.subVectors(c,this.origin);var v=p.dot(this.direction);return v<0?p.copy(this.origin):p.copy(this.direction).multiplyScalar(v).add(this.origin)},distanceToPoint:function(c){return Math.sqrt(this.distanceSqToPoint(c))},distanceSqToPoint:function(){var c=new dt;return function(v){var w=c.subVectors(v,this.origin).dot(this.direction);return w<0?this.origin.distanceToSquared(v):(c.copy(this.direction).multiplyScalar(w).add(this.origin),c.distanceToSquared(v))}}(),distanceSqToSegment:function(){var c=new dt,p=new dt,v=new dt;return function(T,R,P,H){c.copy(T).add(R).multiplyScalar(.5),p.copy(R).sub(T).normalize(),v.copy(this.origin).sub(c);var G=T.distanceTo(R)*.5,Z=-this.direction.dot(p),ee=v.dot(this.direction),re=-v.dot(p),se=v.lengthSq(),Ae=Math.abs(1-Z*Z),_e,Ue,We,Ke;if(Ae>0)if(_e=Z*re-ee,Ue=Z*ee-re,Ke=G*Ae,_e>=0)if(Ue>=-Ke)if(Ue<=Ke){var rt=1/Ae;_e*=rt,Ue*=rt,We=_e*(_e+Z*Ue+2*ee)+Ue*(Z*_e+Ue+2*re)+se}else Ue=G,_e=Math.max(0,-(Z*Ue+ee)),We=-_e*_e+Ue*(Ue+2*re)+se;else Ue=-G,_e=Math.max(0,-(Z*Ue+ee)),We=-_e*_e+Ue*(Ue+2*re)+se;else Ue<=-Ke?(_e=Math.max(0,-(-Z*G+ee)),Ue=_e>0?-G:Math.min(Math.max(-G,-re),G),We=-_e*_e+Ue*(Ue+2*re)+se):Ue<=Ke?(_e=0,Ue=Math.min(Math.max(-G,-re),G),We=Ue*(Ue+2*re)+se):(_e=Math.max(0,-(Z*G+ee)),Ue=_e>0?G:Math.min(Math.max(-G,-re),G),We=-_e*_e+Ue*(Ue+2*re)+se);else Ue=Z>0?-G:G,_e=Math.max(0,-(Z*Ue+ee)),We=-_e*_e+Ue*(Ue+2*re)+se;return P&&P.copy(this.direction).multiplyScalar(_e).add(this.origin),H&&H.copy(p).multiplyScalar(Ue).add(c),We}}(),intersectSphere:function(){var c=new dt;return function(v,w){c.subVectors(v.center,this.origin);var T=c.dot(this.direction),R=c.dot(c)-T*T,P=v.radius*v.radius;if(R>P)return null;var H=Math.sqrt(P-R),G=T-H,Z=T+H;return G<0&&Z<0?null:G<0?this.at(Z,w):this.at(G,w)}}(),intersectsSphere:function(c){return this.distanceSqToPoint(c.center)<=c.radius*c.radius},distanceToPlane:function(c){var p=c.normal.dot(this.direction);if(p===0)return c.distanceToPoint(this.origin)===0?0:null;var v=-(this.origin.dot(c.normal)+c.constant)/p;return v>=0?v:null},intersectPlane:function(c,p){var v=this.distanceToPlane(c);return v===null?null:this.at(v,p)},intersectsPlane:function(c){var p=c.distanceToPoint(this.origin);if(p===0)return!0;var v=c.normal.dot(this.direction);return v*p<0},intersectBox:function(c,p){var v,w,T,R,P,H,G=1/this.direction.x,Z=1/this.direction.y,ee=1/this.direction.z,re=this.origin;return G>=0?(v=(c.min.x-re.x)*G,w=(c.max.x-re.x)*G):(v=(c.max.x-re.x)*G,w=(c.min.x-re.x)*G),Z>=0?(T=(c.min.y-re.y)*Z,R=(c.max.y-re.y)*Z):(T=(c.max.y-re.y)*Z,R=(c.min.y-re.y)*Z),v>R||T>w||((T>v||v!==v)&&(v=T),(R<w||w!==w)&&(w=R),ee>=0?(P=(c.min.z-re.z)*ee,H=(c.max.z-re.z)*ee):(P=(c.max.z-re.z)*ee,H=(c.min.z-re.z)*ee),v>H||P>w)||((P>v||v!==v)&&(v=P),(H<w||w!==w)&&(w=H),w<0)?null:this.at(v>=0?v:w,p)},intersectsBox:function(){var c=new dt;return function(v){return this.intersectBox(v,c)!==null}}(),intersectTriangle:function(){var c=new dt,p=new dt,v=new dt,w=new dt;return function(R,P,H,G,Z){p.subVectors(P,R),v.subVectors(H,R),w.crossVectors(p,v);var ee=this.direction.dot(w),re;if(ee>0){if(G)return null;re=1}else if(ee<0)re=-1,ee=-ee;else return null;c.subVectors(this.origin,R);var se=re*this.direction.dot(v.crossVectors(c,v));if(se<0)return null;var Ae=re*this.direction.dot(p.cross(c));if(Ae<0||se+Ae>ee)return null;var _e=-re*c.dot(w);return _e<0?null:this.at(_e/ee,Z)}}(),applyMatrix4:function(c){return this.origin.applyMatrix4(c),this.direction.transformDirection(c),this},equals:function(c){return c.origin.equals(this.origin)&&c.direction.equals(this.direction)}});function Nc(c,p,v){this.a=c!==void 0?c:new dt,this.b=p!==void 0?p:new dt,this.c=v!==void 0?v:new dt}Object.assign(Nc,{getNormal:function(){var c=new dt;return function(v,w,T,R){R===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),R=new dt),R.subVectors(T,w),c.subVectors(v,w),R.cross(c);var P=R.lengthSq();return P>0?R.multiplyScalar(1/Math.sqrt(P)):R.set(0,0,0)}}(),getBarycoord:function(){var c=new dt,p=new dt,v=new dt;return function(T,R,P,H,G){c.subVectors(H,R),p.subVectors(P,R),v.subVectors(T,R);var Z=c.dot(c),ee=c.dot(p),re=c.dot(v),se=p.dot(p),Ae=p.dot(v),_e=Z*se-ee*ee;if(G===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),G=new dt),_e===0)return G.set(-2,-1,-1);var Ue=1/_e,We=(se*re-ee*Ae)*Ue,Ke=(Z*Ae-ee*re)*Ue;return G.set(1-We-Ke,Ke,We)}}(),containsPoint:function(){var c=new dt;return function(v,w,T,R){return Nc.getBarycoord(v,w,T,R,c),c.x>=0&&c.y>=0&&c.x+c.y<=1}}(),getUV:function(){var c=new dt;return function(v,w,T,R,P,H,G,Z){return this.getBarycoord(v,w,T,R,c),Z.set(0,0),Z.addScaledVector(P,c.x),Z.addScaledVector(H,c.y),Z.addScaledVector(G,c.z),Z}}()}),Object.assign(Nc.prototype,{set:function(c,p,v){return this.a.copy(c),this.b.copy(p),this.c.copy(v),this},setFromPointsAndIndices:function(c,p,v,w){return this.a.copy(c[p]),this.b.copy(c[v]),this.c.copy(c[w]),this},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.a.copy(c.a),this.b.copy(c.b),this.c.copy(c.c),this},getArea:function(){var c=new dt,p=new dt;return function(){return c.subVectors(this.c,this.b),p.subVectors(this.a,this.b),c.cross(p).length()*.5}}(),getMidpoint:function(c){return c===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),c=new dt),c.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(c){return Nc.getNormal(this.a,this.b,this.c,c)},getPlane:function(c){return c===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),c=new dt),c.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(c,p){return Nc.getBarycoord(c,this.a,this.b,this.c,p)},containsPoint:function(c){return Nc.containsPoint(c,this.a,this.b,this.c)},getUV:function(c,p,v,w,T){return Nc.getUV(c,this.a,this.b,this.c,p,v,w,T)},intersectsBox:function(c){return c.intersectsTriangle(this)},closestPointToPoint:function(){var c=new dt,p=new dt,v=new dt,w=new dt,T=new dt,R=new dt;return function(H,G){G===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),G=new dt);var Z=this.a,ee=this.b,re=this.c,se,Ae;c.subVectors(ee,Z),p.subVectors(re,Z),w.subVectors(H,Z);var _e=c.dot(w),Ue=p.dot(w);if(_e<=0&&Ue<=0)return G.copy(Z);T.subVectors(H,ee);var We=c.dot(T),Ke=p.dot(T);if(We>=0&&Ke<=We)return G.copy(ee);var rt=_e*Ke-We*Ue;if(rt<=0&&_e>=0&&We<=0)return se=_e/(_e-We),G.copy(Z).addScaledVector(c,se);R.subVectors(H,re);var et=c.dot(R),qe=p.dot(R);if(qe>=0&&et<=qe)return G.copy(re);var It=et*Ue-_e*qe;if(It<=0&&Ue>=0&&qe<=0)return Ae=Ue/(Ue-qe),G.copy(Z).addScaledVector(p,Ae);var Nt=We*qe-et*Ke;if(Nt<=0&&Ke-We>=0&&et-qe>=0)return v.subVectors(re,ee),Ae=(Ke-We)/(Ke-We+(et-qe)),G.copy(ee).addScaledVector(v,Ae);var Ot=1/(Nt+It+rt);return se=It*Ot,Ae=rt*Ot,G.copy(Z).addScaledVector(c,se).addScaledVector(p,Ae)}}(),equals:function(c){return c.a.equals(this.a)&&c.b.equals(this.b)&&c.c.equals(this.c)}});function uu(c,p){Vr.call(this),this.type="Mesh",this.geometry=c!==void 0?c:new ii,this.material=p!==void 0?p:new Fc({color:Math.random()*16777215}),this.drawMode=Qp,this.updateMorphTargets()}uu.prototype=Object.assign(Object.create(Vr.prototype),{constructor:uu,isMesh:!0,setDrawMode:function(c){this.drawMode=c},copy:function(c){return Vr.prototype.copy.call(this,c),this.drawMode=c.drawMode,c.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=c.morphTargetInfluences.slice()),c.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},c.morphTargetDictionary)),this},updateMorphTargets:function(){var c=this.geometry,p,v,w;if(c.isBufferGeometry){var T=c.morphAttributes,R=Object.keys(T);if(R.length>0){var P=T[R[0]];if(P!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},p=0,v=P.length;p<v;p++)w=P[p].name||String(p),this.morphTargetInfluences.push(0),this.morphTargetDictionary[w]=p}}else{var H=c.morphTargets;if(H!==void 0&&H.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},p=0,v=H.length;p<v;p++)w=H[p].name||String(p),this.morphTargetInfluences.push(0),this.morphTargetDictionary[w]=p}},raycast:function(){var c=new ur,p=new BA,v=new Zo,w=new dt,T=new dt,R=new dt,P=new dt,H=new dt,G=new dt,Z=new ir,ee=new ir,re=new ir,se=new dt,Ae=new dt;function _e(We,Ke,rt,et,qe,It,Nt,Ot){var en;if(Ke.side===m?en=et.intersectTriangle(Nt,It,qe,!0,Ot):en=et.intersectTriangle(qe,It,Nt,Ke.side!==g,Ot),en===null)return null;Ae.copy(Ot),Ae.applyMatrix4(We.matrixWorld);var Ut=rt.ray.origin.distanceTo(Ae);return Ut<rt.near||Ut>rt.far?null:{distance:Ut,point:Ae.clone(),object:We}}function Ue(We,Ke,rt,et,qe,It,Nt,Ot,en){w.fromBufferAttribute(qe,Nt),T.fromBufferAttribute(qe,Ot),R.fromBufferAttribute(qe,en);var Ut=_e(We,Ke,rt,et,w,T,R,se);if(Ut){It&&(Z.fromBufferAttribute(It,Nt),ee.fromBufferAttribute(It,Ot),re.fromBufferAttribute(It,en),Ut.uv=Nc.getUV(se,w,T,R,Z,ee,re,new ir));var fn=new vh(Nt,Ot,en);Nc.getNormal(w,T,R,fn.normal),Ut.face=fn}return Ut}return function(Ke,rt){var et=this.geometry,qe=this.material,It=this.matrixWorld;if(qe!==void 0&&(et.boundingSphere===null&&et.computeBoundingSphere(),v.copy(et.boundingSphere),v.applyMatrix4(It),Ke.ray.intersectsSphere(v)!==!1&&(c.getInverse(It),p.copy(Ke.ray).applyMatrix4(c),!(et.boundingBox!==null&&p.intersectsBox(et.boundingBox)===!1)))){var Nt;if(et.isBufferGeometry){var Ot,en,Ut,fn=et.index,gn=et.attributes.position,qn=et.attributes.uv,xr=et.groups,sr=et.drawRange,hr,Or,Mt,xt,kn,En,Dr,jt;if(fn!==null)if(Array.isArray(qe))for(hr=0,Mt=xr.length;hr<Mt;hr++)for(kn=xr[hr],En=qe[kn.materialIndex],Dr=Math.max(kn.start,sr.start),jt=Math.min(kn.start+kn.count,sr.start+sr.count),Or=Dr,xt=jt;Or<xt;Or+=3)Ot=fn.getX(Or),en=fn.getX(Or+1),Ut=fn.getX(Or+2),Nt=Ue(this,En,Ke,p,gn,qn,Ot,en,Ut),Nt&&(Nt.faceIndex=Math.floor(Or/3),rt.push(Nt));else for(Dr=Math.max(0,sr.start),jt=Math.min(fn.count,sr.start+sr.count),hr=Dr,Mt=jt;hr<Mt;hr+=3)Ot=fn.getX(hr),en=fn.getX(hr+1),Ut=fn.getX(hr+2),Nt=Ue(this,qe,Ke,p,gn,qn,Ot,en,Ut),Nt&&(Nt.faceIndex=Math.floor(hr/3),rt.push(Nt));else if(gn!==void 0)if(Array.isArray(qe))for(hr=0,Mt=xr.length;hr<Mt;hr++)for(kn=xr[hr],En=qe[kn.materialIndex],Dr=Math.max(kn.start,sr.start),jt=Math.min(kn.start+kn.count,sr.start+sr.count),Or=Dr,xt=jt;Or<xt;Or+=3)Ot=Or,en=Or+1,Ut=Or+2,Nt=Ue(this,En,Ke,p,gn,qn,Ot,en,Ut),Nt&&(Nt.faceIndex=Math.floor(Or/3),rt.push(Nt));else for(Dr=Math.max(0,sr.start),jt=Math.min(gn.count,sr.start+sr.count),hr=Dr,Mt=jt;hr<Mt;hr+=3)Ot=hr,en=hr+1,Ut=hr+2,Nt=Ue(this,qe,Ke,p,gn,qn,Ot,en,Ut),Nt&&(Nt.faceIndex=Math.floor(hr/3),rt.push(Nt))}else if(et.isGeometry){var Cr,er,Zr,wr=Array.isArray(qe),Yi=et.vertices,Ns=et.faces,zs,Er=et.faceVertexUvs[0];Er.length>0&&(zs=Er);for(var sa=0,ml=Ns.length;sa<ml;sa++){var Pa=Ns[sa],gd=wr?qe[Pa.materialIndex]:qe;if(gd!==void 0){if(Cr=Yi[Pa.a],er=Yi[Pa.b],Zr=Yi[Pa.c],gd.morphTargets===!0){var vl=et.morphTargets,kc=this.morphTargetInfluences;w.set(0,0,0),T.set(0,0,0),R.set(0,0,0);for(var du=0,km=vl.length;du<km;du++){var zA=kc[du];if(zA!==0){var tc=vl[du].vertices;w.addScaledVector(P.subVectors(tc[Pa.a],Cr),zA),T.addScaledVector(H.subVectors(tc[Pa.b],er),zA),R.addScaledVector(G.subVectors(tc[Pa.c],Zr),zA)}}w.add(Cr),T.add(er),R.add(Zr),Cr=w,er=T,Zr=R}if(Nt=_e(this,gd,Ke,p,Cr,er,Zr,se),Nt){if(zs&&zs[sa]){var Uc=zs[sa];Z.copy(Uc[0]),ee.copy(Uc[1]),re.copy(Uc[2]),Nt.uv=Nc.getUV(se,Cr,er,Zr,Z,ee,re,new ir)}Nt.face=Pa,Nt.faceIndex=sa,rt.push(Nt)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Ak(c,p,v,w){var T=new fi(0),R=0,P,H,G;function Z(re,se,Ae,_e){var Ue=se.background;Ue===null?ee(T,R):Ue&&Ue.isColor&&(ee(Ue,1),_e=!0),(c.autoClear||_e)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil),Ue&&Ue.isCubeTexture?(G===void 0&&(G=new uu(new ng(1,1,1),new Oc({uniforms:Bm.cube.uniforms,vertexShader:Bm.cube.vertexShader,fragmentShader:Bm.cube.fragmentShader,side:m,depthTest:!0,depthWrite:!1,fog:!1})),G.geometry.removeAttribute("normal"),G.geometry.removeAttribute("uv"),G.onBeforeRender=function(We,Ke,rt){this.matrixWorld.copyPosition(rt.matrixWorld)},v.update(G)),G.material.uniforms.tCube.value=Ue,re.push(G,G.geometry,G.material,0,null)):Ue&&Ue.isTexture&&(P===void 0&&(P=new tg(-1,1,1,-1,0,1),H=new uu(new rg(2,2),new Fc({depthTest:!1,depthWrite:!1,fog:!1})),v.update(H)),H.material.map=Ue,c.renderBufferDirect(P,null,H.geometry,H.material,H,null))}function ee(re,se){p.buffers.color.setClear(re.r,re.g,re.b,se,w)}return{getClearColor:function(){return T},setClearColor:function(re,se){T.set(re),R=se!==void 0?se:1,ee(T,R)},getClearAlpha:function(){return R},setClearAlpha:function(re){R=re,ee(T,R)},render:Z}}function pk(c,p,v,w){var T;function R(G){T=G}function P(G,Z){c.drawArrays(T,G,Z),v.update(Z,T)}function H(G,Z,ee){var re;if(w.isWebGL2)re=c;else if(re=p.get("ANGLE_instanced_arrays"),re===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}re[w.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](T,Z,ee,G.maxInstancedCount),v.update(ee,T,G.maxInstancedCount)}this.setMode=R,this.render=P,this.renderInstances=H}function gk(c,p,v){var w;function T(){if(w!==void 0)return w;var It=p.get("EXT_texture_filter_anisotropic");return It!==null?w=c.getParameter(It.MAX_TEXTURE_MAX_ANISOTROPY_EXT):w=0,w}function R(It){if(It==="highp"){if(c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision>0)return"highp";It="mediump"}return It==="mediump"&&c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var P=typeof WebGL2RenderingContext<"u"&&c instanceof WebGL2RenderingContext,H=v.precision!==void 0?v.precision:"highp",G=R(H);G!==H&&(console.warn("THREE.WebGLRenderer:",H,"not supported, using",G,"instead."),H=G);var Z=v.logarithmicDepthBuffer===!0,ee=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),re=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS),se=c.getParameter(c.MAX_TEXTURE_SIZE),Ae=c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),_e=c.getParameter(c.MAX_VERTEX_ATTRIBS),Ue=c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),We=c.getParameter(c.MAX_VARYING_VECTORS),Ke=c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),rt=re>0,et=P||!!p.get("OES_texture_float"),qe=rt&&et;return{isWebGL2:P,getMaxAnisotropy:T,getMaxPrecision:R,precision:H,logarithmicDepthBuffer:Z,maxTextures:ee,maxVertexTextures:re,maxTextureSize:se,maxCubemapSize:Ae,maxAttributes:_e,maxVertexUniforms:Ue,maxVaryings:We,maxFragmentUniforms:Ke,vertexTextures:rt,floatFragmentTextures:et,floatVertexTextures:qe}}function mk(){var c=this,p=null,v=0,w=!1,T=!1,R=new ul,P=new Ua,H={value:null,needsUpdate:!1};this.uniform=H,this.numPlanes=0,this.numIntersection=0,this.init=function(ee,re,se){var Ae=ee.length!==0||re||v!==0||w;return w=re,p=Z(ee,se,0),v=ee.length,Ae},this.beginShadows=function(){T=!0,Z(null)},this.endShadows=function(){T=!1,G()},this.setState=function(ee,re,se,Ae,_e,Ue){if(!w||ee===null||ee.length===0||T&&!se)T?Z(null):G();else{var We=T?0:v,Ke=We*4,rt=_e.clippingState||null;H.value=rt,rt=Z(ee,Ae,Ke,Ue);for(var et=0;et!==Ke;++et)rt[et]=p[et];_e.clippingState=rt,this.numIntersection=re?this.numPlanes:0,this.numPlanes+=We}};function G(){H.value!==p&&(H.value=p,H.needsUpdate=v>0),c.numPlanes=v,c.numIntersection=0}function Z(ee,re,se,Ae){var _e=ee!==null?ee.length:0,Ue=null;if(_e!==0){if(Ue=H.value,Ae!==!0||Ue===null){var We=se+_e*4,Ke=re.matrixWorldInverse;P.getNormalMatrix(Ke),(Ue===null||Ue.length<We)&&(Ue=new Float32Array(We));for(var rt=0,et=se;rt!==_e;++rt,et+=4)R.copy(ee[rt]).applyMatrix4(Ke,P),R.normal.toArray(Ue,et),Ue[et+3]=R.constant}H.value=Ue,H.needsUpdate=!0}return c.numPlanes=_e,Ue}}function vk(c){var p={};return{get:function(v){if(p[v]!==void 0)return p[v];var w;switch(v){case"WEBGL_depth_texture":w=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":w=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":w=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":w=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:w=c.getExtension(v)}return w===null&&console.warn("THREE.WebGLRenderer: "+v+" extension not supported."),p[v]=w,w}}}function yk(c,p,v){var w={},T={};function R(Z){var ee=Z.target,re=w[ee.id];re.index!==null&&p.remove(re.index);for(var se in re.attributes)p.remove(re.attributes[se]);ee.removeEventListener("dispose",R),delete w[ee.id];var Ae=T[re.id];Ae&&(p.remove(Ae),delete T[re.id]),v.memory.geometries--}function P(Z,ee){var re=w[ee.id];return re||(ee.addEventListener("dispose",R),ee.isBufferGeometry?re=ee:ee.isGeometry&&(ee._bufferGeometry===void 0&&(ee._bufferGeometry=new ii().setFromObject(Z)),re=ee._bufferGeometry),w[ee.id]=re,v.memory.geometries++,re)}function H(Z){var ee=Z.index,re=Z.attributes;ee!==null&&p.update(ee,c.ELEMENT_ARRAY_BUFFER);for(var se in re)p.update(re[se],c.ARRAY_BUFFER);var Ae=Z.morphAttributes;for(var se in Ae)for(var _e=Ae[se],Ue=0,We=_e.length;Ue<We;Ue++)p.update(_e[Ue],c.ARRAY_BUFFER)}function G(Z){var ee=T[Z.id];if(ee)return ee;var re=[],se=Z.index,Ae=Z.attributes;if(se!==null)for(var _e=se.array,Ue=0,We=_e.length;Ue<We;Ue+=3){var Ke=_e[Ue+0],rt=_e[Ue+1],et=_e[Ue+2];re.push(Ke,rt,rt,et,et,Ke)}else for(var _e=Ae.position.array,Ue=0,We=_e.length/3-1;Ue<We;Ue+=3){var Ke=Ue+0,rt=Ue+1,et=Ue+2;re.push(Ke,rt,rt,et,et,Ke)}return ee=new(yh(re)>65535?cu:Fu)(re,1),p.update(ee,c.ELEMENT_ARRAY_BUFFER),T[Z.id]=ee,ee}return{get:P,update:H,getWireframeAttribute:G}}function SB(c,p,v,w){var T;function R(re){T=re}var P,H;function G(re){P=re.type,H=re.bytesPerElement}function Z(re,se){c.drawElements(T,se,P,re*H),v.update(se,T)}function ee(re,se,Ae){var _e;if(w.isWebGL2)_e=c;else{var _e=p.get("ANGLE_instanced_arrays");if(_e===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}_e[w.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](T,Ae,P,se*H,re.maxInstancedCount),v.update(Ae,T,re.maxInstancedCount)}this.setMode=R,this.setIndex=G,this.render=Z,this.renderInstances=ee}function Kw(c){var p={geometries:0,textures:0},v={frame:0,calls:0,triangles:0,points:0,lines:0};function w(R,P,H){switch(H=H||1,v.calls++,P){case c.TRIANGLES:v.triangles+=H*(R/3);break;case c.TRIANGLE_STRIP:case c.TRIANGLE_FAN:v.triangles+=H*(R-2);break;case c.LINES:v.lines+=H*(R/2);break;case c.LINE_STRIP:v.lines+=H*(R-1);break;case c.LINE_LOOP:v.lines+=H*R;break;case c.POINTS:v.points+=H*R;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",P);break}}function T(){v.frame++,v.calls=0,v.triangles=0,v.points=0,v.lines=0}return{memory:p,render:v,programs:null,autoReset:!0,reset:T,update:w}}function _k(c,p){return Math.abs(p[1])-Math.abs(c[1])}function wk(c){var p={},v=new Float32Array(8);function w(T,R,P,H){var G=T.morphTargetInfluences,Z=G.length,ee=p[R.id];if(ee===void 0){ee=[];for(var re=0;re<Z;re++)ee[re]=[re,0];p[R.id]=ee}for(var se=P.morphTargets&&R.morphAttributes.position,Ae=P.morphNormals&&R.morphAttributes.normal,re=0;re<Z;re++){var _e=ee[re];_e[1]!==0&&(se&&R.removeAttribute("morphTarget"+re),Ae&&R.removeAttribute("morphNormal"+re))}for(var re=0;re<Z;re++){var _e=ee[re];_e[0]=re,_e[1]=G[re]}ee.sort(_k);for(var re=0;re<8;re++){var _e=ee[re];if(_e){var Ue=_e[0],We=_e[1];if(We){se&&R.addAttribute("morphTarget"+re,se[Ue]),Ae&&R.addAttribute("morphNormal"+re,Ae[Ue]),v[re]=We;continue}}v[re]=0}H.getUniforms().setValue(c,"morphTargetInfluences",v)}return{update:w}}function CB(c,p){var v={};function w(R){var P=p.render.frame,H=R.geometry,G=c.get(R,H);return v[G.id]!==P&&(H.isGeometry&&G.updateFromObject(R),c.update(G),v[G.id]=P),G}function T(){v={}}return{update:w,dispose:T}}function N(c,p,v,w,T,R,P,H,G,Z){c=c!==void 0?c:[],p=p!==void 0?p:Ne,wa.call(this,c,p,v,w,T,R,P,H,G,Z),this.flipY=!1}N.prototype=Object.create(wa.prototype),N.prototype.constructor=N,N.prototype.isCubeTexture=!0,Object.defineProperty(N.prototype,"images",{get:function(){return this.image},set:function(c){this.image=c}});var j=new wa,ae=new N;function ve(){this.seq=[],this.map={}}var Fe=[],He=[],ze=new Float32Array(16),Xe=new Float32Array(9),Je=new Float32Array(4);function pt(c,p,v){var w=c[0];if(w<=0||w>0)return c;var T=p*v,R=Fe[T];if(R===void 0&&(R=new Float32Array(T),Fe[T]=R),p!==0){w.toArray(R,0);for(var P=1,H=0;P!==p;++P)H+=v,c[P].toArray(R,H)}return R}function Pt(c,p){if(c.length!==p.length)return!1;for(var v=0,w=c.length;v<w;v++)if(c[v]!==p[v])return!1;return!0}function rn(c,p){for(var v=0,w=p.length;v<w;v++)c[v]=p[v]}function pn(c,p){var v=He[p];v===void 0&&(v=new Int32Array(p),He[p]=v);for(var w=0;w!==p;++w)v[w]=c.allocTextureUnit();return v}function tn(c,p){var v=this.cache;v[0]!==p&&(c.uniform1f(this.addr,p),v[0]=p)}function $n(c,p){var v=this.cache;v[0]!==p&&(c.uniform1i(this.addr,p),v[0]=p)}function Tn(c,p){var v=this.cache;if(p.x!==void 0)(v[0]!==p.x||v[1]!==p.y)&&(c.uniform2f(this.addr,p.x,p.y),v[0]=p.x,v[1]=p.y);else{if(Pt(v,p))return;c.uniform2fv(this.addr,p),rn(v,p)}}function Wt(c,p){var v=this.cache;if(p.x!==void 0)(v[0]!==p.x||v[1]!==p.y||v[2]!==p.z)&&(c.uniform3f(this.addr,p.x,p.y,p.z),v[0]=p.x,v[1]=p.y,v[2]=p.z);else if(p.r!==void 0)(v[0]!==p.r||v[1]!==p.g||v[2]!==p.b)&&(c.uniform3f(this.addr,p.r,p.g,p.b),v[0]=p.r,v[1]=p.g,v[2]=p.b);else{if(Pt(v,p))return;c.uniform3fv(this.addr,p),rn(v,p)}}function Yt(c,p){var v=this.cache;if(p.x!==void 0)(v[0]!==p.x||v[1]!==p.y||v[2]!==p.z||v[3]!==p.w)&&(c.uniform4f(this.addr,p.x,p.y,p.z,p.w),v[0]=p.x,v[1]=p.y,v[2]=p.z,v[3]=p.w);else{if(Pt(v,p))return;c.uniform4fv(this.addr,p),rn(v,p)}}function Hn(c,p){var v=this.cache,w=p.elements;if(w===void 0){if(Pt(v,p))return;c.uniformMatrix2fv(this.addr,!1,p),rn(v,p)}else{if(Pt(v,w))return;Je.set(w),c.uniformMatrix2fv(this.addr,!1,Je),rn(v,w)}}function Yn(c,p){var v=this.cache,w=p.elements;if(w===void 0){if(Pt(v,p))return;c.uniformMatrix3fv(this.addr,!1,p),rn(v,p)}else{if(Pt(v,w))return;Xe.set(w),c.uniformMatrix3fv(this.addr,!1,Xe),rn(v,w)}}function zn(c,p){var v=this.cache,w=p.elements;if(w===void 0){if(Pt(v,p))return;c.uniformMatrix4fv(this.addr,!1,p),rn(v,p)}else{if(Pt(v,w))return;ze.set(w),c.uniformMatrix4fv(this.addr,!1,ze),rn(v,w)}}function Qr(c,p,v){var w=this.cache,T=v.allocTextureUnit();w[0]!==T&&(c.uniform1i(this.addr,T),w[0]=T),v.setTexture2D(p||j,T)}function Lr(c,p,v){var w=this.cache,T=v.allocTextureUnit();w[0]!==T&&(c.uniform1i(this.addr,T),w[0]=T),v.setTextureCube(p||ae,T)}function Fi(c,p){var v=this.cache;Pt(v,p)||(c.uniform2iv(this.addr,p),rn(v,p))}function Fr(c,p){var v=this.cache;Pt(v,p)||(c.uniform3iv(this.addr,p),rn(v,p))}function va(c,p){var v=this.cache;Pt(v,p)||(c.uniform4iv(this.addr,p),rn(v,p))}function Ra(c){switch(c){case 5126:return tn;case 35664:return Tn;case 35665:return Wt;case 35666:return Yt;case 35674:return Hn;case 35675:return Yn;case 35676:return zn;case 35678:case 36198:return Qr;case 35680:return Lr;case 5124:case 35670:return $n;case 35667:case 35671:return Fi;case 35668:case 35672:return Fr;case 35669:case 35673:return va}}function ha(c,p){var v=this.cache;Pt(v,p)||(c.uniform1fv(this.addr,p),rn(v,p))}function Vs(c,p){var v=this.cache;Pt(v,p)||(c.uniform1iv(this.addr,p),rn(v,p))}function Za(c,p){var v=this.cache,w=pt(p,this.size,2);Pt(v,w)||(c.uniform2fv(this.addr,w),this.updateCache(w))}function Ga(c,p){var v=this.cache,w=pt(p,this.size,3);Pt(v,w)||(c.uniform3fv(this.addr,w),this.updateCache(w))}function ws(c,p){var v=this.cache,w=pt(p,this.size,4);Pt(v,w)||(c.uniform4fv(this.addr,w),this.updateCache(w))}function Al(c,p){var v=this.cache,w=pt(p,this.size,4);Pt(v,w)||(c.uniformMatrix2fv(this.addr,!1,w),this.updateCache(w))}function Ou(c,p){var v=this.cache,w=pt(p,this.size,9);Pt(v,w)||(c.uniformMatrix3fv(this.addr,!1,w),this.updateCache(w))}function pl(c,p){var v=this.cache,w=pt(p,this.size,16);Pt(v,w)||(c.uniformMatrix4fv(this.addr,!1,w),this.updateCache(w))}function Nu(c,p,v){var w=this.cache,T=p.length,R=pn(v,T);Pt(w,R)===!1&&(c.uniform1iv(this.addr,R),rn(w,R));for(var P=0;P!==T;++P)v.setTexture2D(p[P]||j,R[P])}function Ia(c,p,v){var w=this.cache,T=p.length,R=pn(v,T);Pt(w,R)===!1&&(c.uniform1iv(this.addr,R),rn(w,R));for(var P=0;P!==T;++P)v.setTextureCube(p[P]||ae,R[P])}function _h(c){switch(c){case 5126:return ha;case 35664:return Za;case 35665:return Ga;case 35666:return ws;case 35674:return Al;case 35675:return Ou;case 35676:return pl;case 35678:return Nu;case 35680:return Ia;case 5124:case 35670:return Vs;case 35667:case 35671:return Fi;case 35668:case 35672:return Fr;case 35669:case 35673:return va}}function wh(c,p,v){this.id=c,this.addr=v,this.cache=[],this.setValue=Ra(p.type)}function Bl(c,p,v){this.id=c,this.addr=v,this.cache=[],this.size=p.size,this.setValue=_h(p.type)}Bl.prototype.updateCache=function(c){var p=this.cache;c instanceof Float32Array&&p.length!==c.length&&(this.cache=new Float32Array(c.length)),rn(p,c)};function Jl(c){this.id=c,ve.call(this)}Jl.prototype.setValue=function(c,p,v){for(var w=this.seq,T=0,R=w.length;T!==R;++T){var P=w[T];P.setValue(c,p[P.id],v)}};var mc=/([\w\d_]+)(\])?(\[|\.)?/g;function bh(c,p){c.seq.push(p),c.map[p.id]=p}function jf(c,p,v){var w=c.name,T=w.length;for(mc.lastIndex=0;;){var R=mc.exec(w),P=mc.lastIndex,H=R[1],G=R[2]==="]",Z=R[3];if(G&&(H=H|0),Z===void 0||Z==="["&&P+2===T){bh(v,Z===void 0?new wh(H,c,p):new Bl(H,c,p));break}else{var ee=v.map,re=ee[H];re===void 0&&(re=new Jl(H),bh(v,re)),v=re}}}function Ao(c,p,v){ve.call(this),this.renderer=v;for(var w=c.getProgramParameter(p,c.ACTIVE_UNIFORMS),T=0;T<w;++T){var R=c.getActiveUniform(p,T),P=c.getUniformLocation(p,R.name);jf(R,P,this)}}Ao.prototype.setValue=function(c,p,v){var w=this.map[p];w!==void 0&&w.setValue(c,v,this.renderer)},Ao.prototype.setOptional=function(c,p,v){var w=p[v];w!==void 0&&this.setValue(c,v,w)},Ao.upload=function(c,p,v,w){for(var T=0,R=p.length;T!==R;++T){var P=p[T],H=v[P.id];H.needsUpdate!==!1&&P.setValue(c,H.value,w)}},Ao.seqWithValue=function(c,p){for(var v=[],w=0,T=c.length;w!==T;++w){var R=c[w];R.id in p&&v.push(R)}return v};function RA(c){for(var p=c.split("\n"),v=0;v<p.length;v++)p[v]=v+1+": "+p[v];return p.join("\n")}function ig(c,p,v){var w=c.createShader(p);return c.shaderSource(w,v),c.compileShader(w),c.getShaderParameter(w,c.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),c.getShaderInfoLog(w)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",p===c.VERTEX_SHADER?"vertex":"fragment",c.getShaderInfoLog(w),RA(v)),w}var o0=0;function IA(c){switch(c){case Of:return["Linear","( value )"];case Kd:return["sRGB","( value )"];case Wp:return["RGBE","( value )"];case nd:return["RGBM","( value, 7.0 )"];case jp:return["RGBM","( value, 16.0 )"];case rd:return["RGBD","( value, 256.0 )"];case Mm:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+c)}}function To(c,p){var v=IA(p);return"vec4 "+c+"( vec4 value ) { return "+v[0]+"ToLinear"+v[1]+"; }"}function _C(c,p){var v=IA(p);return"vec4 "+c+"( vec4 value ) { return LinearTo"+v[0]+v[1]+"; }"}function TB(c,p){var v;switch(p){case je:v="Linear";break;case gt:v="Reinhard";break;case vt:v="Uncharted2";break;case Te:v="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+p)}return"vec3 "+c+"( vec3 color ) { return "+v+"ToneMapping( color ); }"}function MB(c,p,v){c=c||{};var w=[c.derivatives||p.envMapCubeUV||p.bumpMap||p.normalMap&&!p.objectSpaceNormalMap||p.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(c.fragDepth||p.logarithmicDepthBuffer)&&v.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",c.drawBuffers&&v.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(c.shaderTextureLOD||p.envMap)&&v.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return w.filter(sg).join("\n")}function qw(c){var p=[];for(var v in c){var w=c[v];w!==!1&&p.push("#define "+v+" "+w)}return p.join("\n")}function Yy(c,p){for(var v={},w=c.getProgramParameter(p,c.ACTIVE_ATTRIBUTES),T=0;T<w;T++){var R=c.getActiveAttrib(p,T),P=R.name;v[P]=c.getAttribLocation(p,P)}return v}function sg(c){return c!==""}function ud(c,p){return c.replace(/NUM_DIR_LIGHTS/g,p.numDirLights).replace(/NUM_SPOT_LIGHTS/g,p.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,p.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,p.numPointLights).replace(/NUM_HEMI_LIGHTS/g,p.numHemiLights)}function Pm(c,p){return c.replace(/NUM_CLIPPING_PLANES/g,p.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,p.numClippingPlanes-p.numClipIntersection)}function ag(c){var p=/^[ \t]*#include +<([\w\d./]+)>/gm;function v(w,T){var R=ia[T];if(R===void 0)throw new Error("Can not resolve #include <"+T+">");return ag(R)}return c.replace(p,v)}function wC(c){var p=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function v(w,T,R,P){for(var H="",G=parseInt(T);G<parseInt(R);G++)H+=P.replace(/\[ i \]/g,"[ "+G+" ]");return H}return c.replace(p,v)}function Xw(c,p,v,w,T,R,P){var H=c.context,G=w.defines,Z=T.vertexShader,ee=T.fragmentShader,re="SHADOWMAP_TYPE_BASIC";R.shadowMapType===d?re="SHADOWMAP_TYPE_PCF":R.shadowMapType===f&&(re="SHADOWMAP_TYPE_PCF_SOFT");var se="ENVMAP_TYPE_CUBE",Ae="ENVMAP_MODE_REFLECTION",_e="ENVMAP_BLENDING_MULTIPLY";if(R.envMap){switch(w.envMap.mapping){case Ne:case Ze:se="ENVMAP_TYPE_CUBE";break;case Ye:case yt:se="ENVMAP_TYPE_CUBE_UV";break;case Tt:case Zt:se="ENVMAP_TYPE_EQUIREC";break;case ln:se="ENVMAP_TYPE_SPHERE";break}switch(w.envMap.mapping){case Ze:case Zt:Ae="ENVMAP_MODE_REFRACTION";break}switch(w.combine){case Ve:_e="ENVMAP_BLENDING_MULTIPLY";break;case Se:_e="ENVMAP_BLENDING_MIX";break;case at:_e="ENVMAP_BLENDING_ADD";break}}var Ue=c.gammaFactor>0?c.gammaFactor:1,We=P.isWebGL2?"":MB(w.extensions,R,p),Ke=qw(G),rt=H.createProgram(),et,qe;if(w.isRawShaderMaterial?(et=[Ke].filter(sg).join("\n"),et.length>0&&(et+="\n"),qe=[We,Ke].filter(sg).join("\n"),qe.length>0&&(qe+="\n")):(et=["precision "+R.precision+" float;","precision "+R.precision+" int;","#define SHADER_NAME "+T.name,Ke,R.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Ue,"#define MAX_BONES "+R.maxBones,R.useFog&&R.fog?"#define USE_FOG":"",R.useFog&&R.fogExp?"#define FOG_EXP2":"",R.map?"#define USE_MAP":"",R.envMap?"#define USE_ENVMAP":"",R.envMap?"#define "+Ae:"",R.lightMap?"#define USE_LIGHTMAP":"",R.aoMap?"#define USE_AOMAP":"",R.emissiveMap?"#define USE_EMISSIVEMAP":"",R.bumpMap?"#define USE_BUMPMAP":"",R.normalMap?"#define USE_NORMALMAP":"",R.normalMap&&R.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",R.displacementMap&&R.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",R.specularMap?"#define USE_SPECULARMAP":"",R.roughnessMap?"#define USE_ROUGHNESSMAP":"",R.metalnessMap?"#define USE_METALNESSMAP":"",R.alphaMap?"#define USE_ALPHAMAP":"",R.vertexColors?"#define USE_COLOR":"",R.flatShading?"#define FLAT_SHADED":"",R.skinning?"#define USE_SKINNING":"",R.useVertexTexture?"#define BONE_TEXTURE":"",R.morphTargets?"#define USE_MORPHTARGETS":"",R.morphNormals&&R.flatShading===!1?"#define USE_MORPHNORMALS":"",R.doubleSided?"#define DOUBLE_SIDED":"",R.flipSided?"#define FLIP_SIDED":"",R.shadowMapEnabled?"#define USE_SHADOWMAP":"",R.shadowMapEnabled?"#define "+re:"",R.sizeAttenuation?"#define USE_SIZEATTENUATION":"",R.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",R.logarithmicDepthBuffer&&(P.isWebGL2||p.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(sg).join("\n"),qe=[We,"precision "+R.precision+" float;","precision "+R.precision+" int;","#define SHADER_NAME "+T.name,Ke,R.alphaTest?"#define ALPHATEST "+R.alphaTest+(R.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+Ue,R.useFog&&R.fog?"#define USE_FOG":"",R.useFog&&R.fogExp?"#define FOG_EXP2":"",R.map?"#define USE_MAP":"",R.envMap?"#define USE_ENVMAP":"",R.envMap?"#define "+se:"",R.envMap?"#define "+Ae:"",R.envMap?"#define "+_e:"",R.lightMap?"#define USE_LIGHTMAP":"",R.aoMap?"#define USE_AOMAP":"",R.emissiveMap?"#define USE_EMISSIVEMAP":"",R.bumpMap?"#define USE_BUMPMAP":"",R.normalMap?"#define USE_NORMALMAP":"",R.normalMap&&R.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",R.specularMap?"#define USE_SPECULARMAP":"",R.roughnessMap?"#define USE_ROUGHNESSMAP":"",R.metalnessMap?"#define USE_METALNESSMAP":"",R.alphaMap?"#define USE_ALPHAMAP":"",R.vertexColors?"#define USE_COLOR":"",R.gradientMap?"#define USE_GRADIENTMAP":"",R.flatShading?"#define FLAT_SHADED":"",R.doubleSided?"#define DOUBLE_SIDED":"",R.flipSided?"#define FLIP_SIDED":"",R.shadowMapEnabled?"#define USE_SHADOWMAP":"",R.shadowMapEnabled?"#define "+re:"",R.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",R.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",R.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",R.logarithmicDepthBuffer&&(P.isWebGL2||p.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",R.envMap&&(P.isWebGL2||p.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",R.toneMapping!==ft?"#define TONE_MAPPING":"",R.toneMapping!==ft?ia.tonemapping_pars_fragment:"",R.toneMapping!==ft?TB("toneMapping",R.toneMapping):"",R.dithering?"#define DITHERING":"",R.outputEncoding||R.mapEncoding||R.envMapEncoding||R.emissiveMapEncoding?ia.encodings_pars_fragment:"",R.mapEncoding?To("mapTexelToLinear",R.mapEncoding):"",R.envMapEncoding?To("envMapTexelToLinear",R.envMapEncoding):"",R.emissiveMapEncoding?To("emissiveMapTexelToLinear",R.emissiveMapEncoding):"",R.outputEncoding?_C("linearToOutputTexel",R.outputEncoding):"",R.depthPacking?"#define DEPTH_PACKING "+w.depthPacking:"","\n"].filter(sg).join("\n")),Z=ag(Z),Z=ud(Z,R),Z=Pm(Z,R),ee=ag(ee),ee=ud(ee,R),ee=Pm(ee,R),Z=wC(Z),ee=wC(ee),P.isWebGL2&&!w.isRawShaderMaterial){var It=!1,Nt=/^\s*#version\s+300\s+es\s*\n/;w.isShaderMaterial&&Z.match(Nt)!==null&&ee.match(Nt)!==null&&(It=!0,Z=Z.replace(Nt,""),ee=ee.replace(Nt,"")),et=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+et,qe=["#version 300 es\n","#define varying in",It?"":"out highp vec4 pc_fragColor;",It?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+qe}var Ot=et+Z,en=qe+ee,Ut=ig(H,H.VERTEX_SHADER,Ot),fn=ig(H,H.FRAGMENT_SHADER,en);H.attachShader(rt,Ut),H.attachShader(rt,fn),w.index0AttributeName!==void 0?H.bindAttribLocation(rt,0,w.index0AttributeName):R.morphTargets===!0&&H.bindAttribLocation(rt,0,"position"),H.linkProgram(rt);var gn=H.getProgramInfoLog(rt).trim(),qn=H.getShaderInfoLog(Ut).trim(),xr=H.getShaderInfoLog(fn).trim(),sr=!0,hr=!0;H.getProgramParameter(rt,H.LINK_STATUS)===!1?(sr=!1,console.error("THREE.WebGLProgram: shader error: ",H.getError(),"gl.VALIDATE_STATUS",H.getProgramParameter(rt,H.VALIDATE_STATUS),"gl.getProgramInfoLog",gn,qn,xr)):gn!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",gn):(qn===""||xr==="")&&(hr=!1),hr&&(this.diagnostics={runnable:sr,material:w,programLog:gn,vertexShader:{log:qn,prefix:et},fragmentShader:{log:xr,prefix:qe}}),H.deleteShader(Ut),H.deleteShader(fn);var Or;this.getUniforms=function(){return Or===void 0&&(Or=new Ao(H,rt,c)),Or};var Mt;return this.getAttributes=function(){return Mt===void 0&&(Mt=Yy(H,rt)),Mt},this.destroy=function(){H.deleteProgram(rt),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=T.name,this.id=o0++,this.code=v,this.usedTimes=1,this.program=rt,this.vertexShader=Ut,this.fragmentShader=fn,this}function LB(c,p,v){var w=[],T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},R=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function P(G){var Z=G.skeleton,ee=Z.bones;if(v.floatVertexTextures)return 1024;var re=v.maxVertexUniforms,se=Math.floor((re-20)/4),Ae=Math.min(se,ee.length);return Ae<ee.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+ee.length+" bones. This GPU supports "+Ae+"."),0):Ae}function H(G,Z){var ee;return G?G.isTexture?ee=G.encoding:G.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ee=G.texture.encoding):ee=Of,ee===Of&&Z&&(ee=Mm),ee}this.getParameters=function(G,Z,ee,re,se,Ae,_e){var Ue=T[G.type],We=_e.isSkinnedMesh?P(_e):0,Ke=v.precision;G.precision!==null&&(Ke=v.getMaxPrecision(G.precision),Ke!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",Ke,"instead."));var rt=c.getRenderTarget(),et={shaderID:Ue,precision:Ke,supportsVertexTextures:v.vertexTextures,outputEncoding:H(rt?rt.texture:null,c.gammaOutput),map:!!G.map,mapEncoding:H(G.map,c.gammaInput),envMap:!!G.envMap,envMapMode:G.envMap&&G.envMap.mapping,envMapEncoding:H(G.envMap,c.gammaInput),envMapCubeUV:!!G.envMap&&(G.envMap.mapping===Ye||G.envMap.mapping===yt),lightMap:!!G.lightMap,aoMap:!!G.aoMap,emissiveMap:!!G.emissiveMap,emissiveMapEncoding:H(G.emissiveMap,c.gammaInput),bumpMap:!!G.bumpMap,normalMap:!!G.normalMap,objectSpaceNormalMap:G.normalMapType===cl,displacementMap:!!G.displacementMap,roughnessMap:!!G.roughnessMap,metalnessMap:!!G.metalnessMap,specularMap:!!G.specularMap,alphaMap:!!G.alphaMap,gradientMap:!!G.gradientMap,combine:G.combine,vertexColors:G.vertexColors,fog:!!re,useFog:G.fog,fogExp:re&&re.isFogExp2,flatShading:G.flatShading,sizeAttenuation:G.sizeAttenuation,logarithmicDepthBuffer:v.logarithmicDepthBuffer,skinning:G.skinning&&We>0,maxBones:We,useVertexTexture:v.floatVertexTextures,morphTargets:G.morphTargets,morphNormals:G.morphNormals,maxMorphTargets:c.maxMorphTargets,maxMorphNormals:c.maxMorphNormals,numDirLights:Z.directional.length,numPointLights:Z.point.length,numSpotLights:Z.spot.length,numRectAreaLights:Z.rectArea.length,numHemiLights:Z.hemi.length,numClippingPlanes:se,numClipIntersection:Ae,dithering:G.dithering,shadowMapEnabled:c.shadowMap.enabled&&_e.receiveShadow&&ee.length>0,shadowMapType:c.shadowMap.type,toneMapping:c.toneMapping,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:G.premultipliedAlpha,alphaTest:G.alphaTest,doubleSided:G.side===g,flipSided:G.side===m,depthPacking:G.depthPacking!==void 0?G.depthPacking:!1};return et},this.getProgramCode=function(G,Z){var ee=[];if(Z.shaderID?ee.push(Z.shaderID):(ee.push(G.fragmentShader),ee.push(G.vertexShader)),G.defines!==void 0)for(var re in G.defines)ee.push(re),ee.push(G.defines[re]);for(var se=0;se<R.length;se++)ee.push(Z[R[se]]);return ee.push(G.onBeforeCompile.toString()),ee.push(c.gammaOutput),ee.join()},this.acquireProgram=function(G,Z,ee,re){for(var se,Ae=0,_e=w.length;Ae<_e;Ae++){var Ue=w[Ae];if(Ue.code===re){se=Ue,++se.usedTimes;break}}return se===void 0&&(se=new Xw(c,p,re,G,Z,ee,v),w.push(se)),se},this.releaseProgram=function(G){if(--G.usedTimes===0){var Z=w.indexOf(G);w[Z]=w[w.length-1],w.pop(),G.destroy()}},this.programs=w}function Yw(){var c=new WeakMap;function p(R){var P=c.get(R);return P===void 0&&(P={},c.set(R,P)),P}function v(R){c.delete(R)}function w(R,P,H){c.get(R)[P]=H}function T(){c=new WeakMap}return{get:p,remove:v,update:w,dispose:T}}function bC(c,p){return c.renderOrder!==p.renderOrder?c.renderOrder-p.renderOrder:c.program&&p.program&&c.program!==p.program?c.program.id-p.program.id:c.material.id!==p.material.id?c.material.id-p.material.id:c.z!==p.z?c.z-p.z:c.id-p.id}function Zw(c,p){return c.renderOrder!==p.renderOrder?c.renderOrder-p.renderOrder:c.z!==p.z?p.z-c.z:c.id-p.id}function Zy(){var c=[],p=0,v=[],w=[];function T(){p=0,v.length=0,w.length=0}function R(H,G,Z,ee,re){var se=c[p];se===void 0?(se={id:H.id,object:H,geometry:G,material:Z,program:Z.program,renderOrder:H.renderOrder,z:ee,group:re},c[p]=se):(se.id=H.id,se.object=H,se.geometry=G,se.material=Z,se.program=Z.program,se.renderOrder=H.renderOrder,se.z=ee,se.group=re),(Z.transparent===!0?w:v).push(se),p++}function P(){v.length>1&&v.sort(bC),w.length>1&&w.sort(Zw)}return{opaque:v,transparent:w,init:T,push:R,sort:P}}function bk(){var c={};function p(w,T){var R=w.id+","+T.id,P=c[R];return P===void 0&&(P=new Zy,c[R]=P),P}function v(){c={}}return{get:p,dispose:v}}function xk(){var c={};return{get:function(p){if(c[p.id]!==void 0)return c[p.id];var v;switch(p.type){case"DirectionalLight":v={direction:new dt,color:new fi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ir};break;case"SpotLight":v={position:new dt,direction:new dt,color:new fi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ir};break;case"PointLight":v={position:new dt,color:new fi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ir,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":v={direction:new dt,skyColor:new fi,groundColor:new fi};break;case"RectAreaLight":v={color:new fi,position:new dt,halfWidth:new dt,halfHeight:new dt};break}return c[p.id]=v,v}}}var xC=0;function og(){var c=new xk,p={id:xC++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},v=new dt,w=new ur,T=new ur;function R(P,H,G){for(var Z=0,ee=0,re=0,se=0,Ae=0,_e=0,Ue=0,We=0,Ke=G.matrixWorldInverse,rt=0,et=P.length;rt<et;rt++){var qe=P[rt],It=qe.color,Nt=qe.intensity,Ot=qe.distance,en=qe.shadow&&qe.shadow.map?qe.shadow.map.texture:null;if(qe.isAmbientLight)Z+=It.r*Nt,ee+=It.g*Nt,re+=It.b*Nt;else if(qe.isDirectionalLight){var Ut=c.get(qe);if(Ut.color.copy(qe.color).multiplyScalar(qe.intensity),Ut.direction.setFromMatrixPosition(qe.matrixWorld),v.setFromMatrixPosition(qe.target.matrixWorld),Ut.direction.sub(v),Ut.direction.transformDirection(Ke),Ut.shadow=qe.castShadow,qe.castShadow){var fn=qe.shadow;Ut.shadowBias=fn.bias,Ut.shadowRadius=fn.radius,Ut.shadowMapSize=fn.mapSize}p.directionalShadowMap[se]=en,p.directionalShadowMatrix[se]=qe.shadow.matrix,p.directional[se]=Ut,se++}else if(qe.isSpotLight){var Ut=c.get(qe);if(Ut.position.setFromMatrixPosition(qe.matrixWorld),Ut.position.applyMatrix4(Ke),Ut.color.copy(It).multiplyScalar(Nt),Ut.distance=Ot,Ut.direction.setFromMatrixPosition(qe.matrixWorld),v.setFromMatrixPosition(qe.target.matrixWorld),Ut.direction.sub(v),Ut.direction.transformDirection(Ke),Ut.coneCos=Math.cos(qe.angle),Ut.penumbraCos=Math.cos(qe.angle*(1-qe.penumbra)),Ut.decay=qe.distance===0?0:qe.decay,Ut.shadow=qe.castShadow,qe.castShadow){var fn=qe.shadow;Ut.shadowBias=fn.bias,Ut.shadowRadius=fn.radius,Ut.shadowMapSize=fn.mapSize}p.spotShadowMap[_e]=en,p.spotShadowMatrix[_e]=qe.shadow.matrix,p.spot[_e]=Ut,_e++}else if(qe.isRectAreaLight){var Ut=c.get(qe);Ut.color.copy(It).multiplyScalar(Nt),Ut.position.setFromMatrixPosition(qe.matrixWorld),Ut.position.applyMatrix4(Ke),T.identity(),w.copy(qe.matrixWorld),w.premultiply(Ke),T.extractRotation(w),Ut.halfWidth.set(qe.width*.5,0,0),Ut.halfHeight.set(0,qe.height*.5,0),Ut.halfWidth.applyMatrix4(T),Ut.halfHeight.applyMatrix4(T),p.rectArea[Ue]=Ut,Ue++}else if(qe.isPointLight){var Ut=c.get(qe);if(Ut.position.setFromMatrixPosition(qe.matrixWorld),Ut.position.applyMatrix4(Ke),Ut.color.copy(qe.color).multiplyScalar(qe.intensity),Ut.distance=qe.distance,Ut.decay=qe.distance===0?0:qe.decay,Ut.shadow=qe.castShadow,qe.castShadow){var fn=qe.shadow;Ut.shadowBias=fn.bias,Ut.shadowRadius=fn.radius,Ut.shadowMapSize=fn.mapSize,Ut.shadowCameraNear=fn.camera.near,Ut.shadowCameraFar=fn.camera.far}p.pointShadowMap[Ae]=en,p.pointShadowMatrix[Ae]=qe.shadow.matrix,p.point[Ae]=Ut,Ae++}else if(qe.isHemisphereLight){var Ut=c.get(qe);Ut.direction.setFromMatrixPosition(qe.matrixWorld),Ut.direction.transformDirection(Ke),Ut.direction.normalize(),Ut.skyColor.copy(qe.color).multiplyScalar(Nt),Ut.groundColor.copy(qe.groundColor).multiplyScalar(Nt),p.hemi[We]=Ut,We++}}p.ambient[0]=Z,p.ambient[1]=ee,p.ambient[2]=re,p.directional.length=se,p.spot.length=_e,p.rectArea.length=Ue,p.point.length=Ae,p.hemi.length=We,p.hash.stateID=p.id,p.hash.directionalLength=se,p.hash.pointLength=Ae,p.hash.spotLength=_e,p.hash.rectAreaLength=Ue,p.hash.hemiLength=We,p.hash.shadowsLength=H.length}return{setup:R,state:p}}function BB(){var c=new og,p=[],v=[];function w(){p.length=0,v.length=0}function T(G){p.push(G)}function R(G){v.push(G)}function P(G){c.setup(p,v,G)}var H={lightsArray:p,shadowsArray:v,lights:c};return{init:w,state:H,setupLights:P,pushLight:T,pushShadow:R}}function Ek(){var c={};function p(w,T){var R;return c[w.id]===void 0?(R=new BB,c[w.id]={},c[w.id][T.id]=R):c[w.id][T.id]===void 0?(R=new BB,c[w.id][T.id]=R):R=c[w.id][T.id],R}function v(){c={}}return{get:p,dispose:v}}function lg(c){ls.call(this),this.type="MeshDepthMaterial",this.depthPacking=dh,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(c)}lg.prototype=Object.create(ls.prototype),lg.prototype.constructor=lg,lg.prototype.isMeshDepthMaterial=!0,lg.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.depthPacking=c.depthPacking,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.map=c.map,this.alphaMap=c.alphaMap,this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this};function PA(c){ls.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new dt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(c)}PA.prototype=Object.create(ls.prototype),PA.prototype.constructor=PA,PA.prototype.isMeshDistanceMaterial=!0,PA.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.referencePosition.copy(c.referencePosition),this.nearDistance=c.nearDistance,this.farDistance=c.farDistance,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.map=c.map,this.alphaMap=c.alphaMap,this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this};function Jy(c,p,v){for(var w=new kf,T=new ur,R=new ir,P=new ir(v,v),H=new dt,G=new dt,Z=1,ee=2,re=(Z|ee)+1,se=new Array(re),Ae=new Array(re),_e={},Ue={0:m,1:A,2:g},We=[new dt(1,0,0),new dt(-1,0,0),new dt(0,0,1),new dt(0,0,-1),new dt(0,1,0),new dt(0,-1,0)],Ke=[new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,1,0),new dt(0,0,1),new dt(0,0,-1)],rt=[new Gs,new Gs,new Gs,new Gs,new Gs,new Gs],et=0;et!==re;++et){var qe=(et&Z)!==0,It=(et&ee)!==0,Nt=new lg({depthPacking:Nf,morphTargets:qe,skinning:It});se[et]=Nt;var Ot=new PA({morphTargets:qe,skinning:It});Ae[et]=Ot}var en=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d,this.render=function(gn,qn,xr){if(en.enabled!==!1&&!(en.autoUpdate===!1&&en.needsUpdate===!1)&&gn.length!==0){var sr=c.context,hr=c.state;hr.disable(sr.BLEND),hr.buffers.color.setClear(1,1,1,1),hr.buffers.depth.setTest(!0),hr.setScissorTest(!1);for(var Or,Mt=0,xt=gn.length;Mt<xt;Mt++){var kn=gn[Mt],En=kn.shadow,Dr=kn&&kn.isPointLight;if(En===void 0){console.warn("THREE.WebGLShadowMap:",kn,"has no shadow.");continue}var jt=En.camera;if(R.copy(En.mapSize),R.min(P),Dr){var Cr=R.x,er=R.y;rt[0].set(Cr*2,er,Cr,er),rt[1].set(0,er,Cr,er),rt[2].set(Cr*3,er,Cr,er),rt[3].set(Cr,er,Cr,er),rt[4].set(Cr*3,0,Cr,er),rt[5].set(Cr,0,Cr,er),R.x*=4,R.y*=2}if(En.map===null){var Zr={minFilter:ke,magFilter:ke,format:ki};En.map=new Yd(R.x,R.y,Zr),En.map.texture.name=kn.name+".shadowMap",jt.updateProjectionMatrix()}En.isSpotLightShadow&&En.update(kn);var wr=En.map,Yi=En.matrix;G.setFromMatrixPosition(kn.matrixWorld),jt.position.copy(G),Dr?(Or=6,Yi.makeTranslation(-G.x,-G.y,-G.z)):(Or=1,H.setFromMatrixPosition(kn.target.matrixWorld),jt.lookAt(H),jt.updateMatrixWorld(),Yi.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Yi.multiply(jt.projectionMatrix),Yi.multiply(jt.matrixWorldInverse)),c.setRenderTarget(wr),c.clear();for(var Ns=0;Ns<Or;Ns++){if(Dr){H.copy(jt.position),H.add(We[Ns]),jt.up.copy(Ke[Ns]),jt.lookAt(H),jt.updateMatrixWorld();var zs=rt[Ns];hr.viewport(zs)}T.multiplyMatrices(jt.projectionMatrix,jt.matrixWorldInverse),w.setFromMatrix(T),fn(qn,xr,jt,Dr)}}en.needsUpdate=!1}};function Ut(gn,qn,xr,sr,hr,Or){var Mt=gn.geometry,xt=null,kn=se,En=gn.customDepthMaterial;if(xr&&(kn=Ae,En=gn.customDistanceMaterial),En)xt=En;else{var Dr=!1;qn.morphTargets&&(Mt&&Mt.isBufferGeometry?Dr=Mt.morphAttributes&&Mt.morphAttributes.position&&Mt.morphAttributes.position.length>0:Mt&&Mt.isGeometry&&(Dr=Mt.morphTargets&&Mt.morphTargets.length>0)),gn.isSkinnedMesh&&qn.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",gn);var jt=gn.isSkinnedMesh&&qn.skinning,Cr=0;Dr&&(Cr|=Z),jt&&(Cr|=ee),xt=kn[Cr]}if(c.localClippingEnabled&&qn.clipShadows===!0&&qn.clippingPlanes.length!==0){var er=xt.uuid,Zr=qn.uuid,wr=_e[er];wr===void 0&&(wr={},_e[er]=wr);var Yi=wr[Zr];Yi===void 0&&(Yi=xt.clone(),wr[Zr]=Yi),xt=Yi}return xt.visible=qn.visible,xt.wireframe=qn.wireframe,xt.side=qn.shadowSide!=null?qn.shadowSide:Ue[qn.side],xt.clipShadows=qn.clipShadows,xt.clippingPlanes=qn.clippingPlanes,xt.clipIntersection=qn.clipIntersection,xt.wireframeLinewidth=qn.wireframeLinewidth,xt.linewidth=qn.linewidth,xr&&xt.isMeshDistanceMaterial&&(xt.referencePosition.copy(sr),xt.nearDistance=hr,xt.farDistance=Or),xt}function fn(gn,qn,xr,sr){if(gn.visible!==!1){var hr=gn.layers.test(qn.layers);if(hr&&(gn.isMesh||gn.isLine||gn.isPoints)&&gn.castShadow&&(!gn.frustumCulled||w.intersectsObject(gn))){gn.modelViewMatrix.multiplyMatrices(xr.matrixWorldInverse,gn.matrixWorld);var Or=p.update(gn),Mt=gn.material;if(Array.isArray(Mt))for(var xt=Or.groups,kn=0,En=xt.length;kn<En;kn++){var Dr=xt[kn],jt=Mt[Dr.materialIndex];if(jt&&jt.visible){var Cr=Ut(gn,jt,sr,G,xr.near,xr.far);c.renderBufferDirect(xr,null,Or,Cr,gn,Dr)}}else if(Mt.visible){var Cr=Ut(gn,Mt,sr,G,xr.near,xr.far);c.renderBufferDirect(xr,null,Or,Cr,gn,null)}}for(var er=gn.children,Zr=0,wr=er.length;Zr<wr;Zr++)fn(er[Zr],qn,xr,sr)}}}function RB(c,p,v,w){function T(){var An=!1,si=new Gs,Si=null,xs=new Gs(0,0,0,0);return{setMask:function(yi){Si!==yi&&!An&&(c.colorMask(yi,yi,yi,yi),Si=yi)},setLocked:function(yi){An=yi},setClear:function(yi,Ea,Fa,go,nc){nc===!0&&(yi*=go,Ea*=go,Fa*=go),si.set(yi,Ea,Fa,go),xs.equals(si)===!1&&(c.clearColor(yi,Ea,Fa,go),xs.copy(si))},reset:function(){An=!1,Si=null,xs.set(-1,0,0,0)}}}function R(){var An=!1,si=null,Si=null,xs=null;return{setTest:function(yi){yi?zs(c.DEPTH_TEST):Er(c.DEPTH_TEST)},setMask:function(yi){si!==yi&&!An&&(c.depthMask(yi),si=yi)},setFunc:function(yi){if(Si!==yi){if(yi)switch(yi){case ce:c.depthFunc(c.NEVER);break;case be:c.depthFunc(c.ALWAYS);break;case xe:c.depthFunc(c.LESS);break;case Ie:c.depthFunc(c.LEQUAL);break;case Qe:c.depthFunc(c.EQUAL);break;case ue:c.depthFunc(c.GEQUAL);break;case ye:c.depthFunc(c.GREATER);break;case $e:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}else c.depthFunc(c.LEQUAL);Si=yi}},setLocked:function(yi){An=yi},setClear:function(yi){xs!==yi&&(c.clearDepth(yi),xs=yi)},reset:function(){An=!1,si=null,Si=null,xs=null}}}function P(){var An=!1,si=null,Si=null,xs=null,yi=null,Ea=null,Fa=null,go=null,nc=null;return{setTest:function(io){io?zs(c.STENCIL_TEST):Er(c.STENCIL_TEST)},setMask:function(io){si!==io&&!An&&(c.stencilMask(io),si=io)},setFunc:function(io,Ch,sf){(Si!==io||xs!==Ch||yi!==sf)&&(c.stencilFunc(io,Ch,sf),Si=io,xs=Ch,yi=sf)},setOp:function(io,Ch,sf){(Ea!==io||Fa!==Ch||go!==sf)&&(c.stencilOp(io,Ch,sf),Ea=io,Fa=Ch,go=sf)},setLocked:function(io){An=io},setClear:function(io){nc!==io&&(c.clearStencil(io),nc=io)},reset:function(){An=!1,si=null,Si=null,xs=null,yi=null,Ea=null,Fa=null,go=null,nc=null}}}var H=new T,G=new R,Z=new P,ee=c.getParameter(c.MAX_VERTEX_ATTRIBS),re=new Uint8Array(ee),se=new Uint8Array(ee),Ae=new Uint8Array(ee),_e={},Ue=null,We=null,Ke=null,rt=null,et=null,qe=null,It=null,Nt=null,Ot=null,en=null,Ut=!1,fn=null,gn=null,qn=null,xr=null,sr=null,hr=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS),Or=!1,Mt=0,xt=c.getParameter(c.VERSION);xt.indexOf("WebGL")!==-1?(Mt=parseFloat(/^WebGL\ ([0-9])/.exec(xt)[1]),Or=Mt>=1):xt.indexOf("OpenGL ES")!==-1&&(Mt=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(xt)[1]),Or=Mt>=2);var kn=null,En={},Dr=new Gs,jt=new Gs;function Cr(An,si,Si){var xs=new Uint8Array(4),yi=c.createTexture();c.bindTexture(An,yi),c.texParameteri(An,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(An,c.TEXTURE_MAG_FILTER,c.NEAREST);for(var Ea=0;Ea<Si;Ea++)c.texImage2D(si+Ea,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,xs);return yi}var er={};er[c.TEXTURE_2D]=Cr(c.TEXTURE_2D,c.TEXTURE_2D,1),er[c.TEXTURE_CUBE_MAP]=Cr(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),H.setClear(0,0,0,1),G.setClear(1),Z.setClear(0),zs(c.DEPTH_TEST),G.setFunc(Ie),vl(!1),kc(s),zs(c.CULL_FACE),Pa(M);function Zr(){for(var An=0,si=re.length;An<si;An++)re[An]=0}function wr(An){Yi(An,0)}function Yi(An,si){if(re[An]=1,se[An]===0&&(c.enableVertexAttribArray(An),se[An]=1),Ae[An]!==si){var Si=w.isWebGL2?c:p.get("ANGLE_instanced_arrays");Si[w.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](An,si),Ae[An]=si}}function Ns(){for(var An=0,si=se.length;An!==si;++An)se[An]!==re[An]&&(c.disableVertexAttribArray(An),se[An]=0)}function zs(An){_e[An]!==!0&&(c.enable(An),_e[An]=!0)}function Er(An){_e[An]!==!1&&(c.disable(An),_e[An]=!1)}function sa(){if(Ue===null&&(Ue=[],p.get("WEBGL_compressed_texture_pvrtc")||p.get("WEBGL_compressed_texture_s3tc")||p.get("WEBGL_compressed_texture_etc1")||p.get("WEBGL_compressed_texture_astc")))for(var An=c.getParameter(c.COMPRESSED_TEXTURE_FORMATS),si=0;si<An.length;si++)Ue.push(An[si]);return Ue}function ml(An){return We!==An?(c.useProgram(An),We=An,!0):!1}function Pa(An,si,Si,xs,yi,Ea,Fa,go){if(An===M){Ke&&(Er(c.BLEND),Ke=!1);return}if(Ke||(zs(c.BLEND),Ke=!0),An!==k){if(An!==rt||go!==Ut){if((et!==O||Nt!==O)&&(c.blendEquation(c.FUNC_ADD),et=O,Nt=O),go)switch(An){case B:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case E:c.blendFunc(c.ONE,c.ONE);break;case L:c.blendFuncSeparate(c.ZERO,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case I:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",An);break}else switch(An){case B:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case E:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case L:c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_COLOR);break;case I:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",An);break}qe=null,It=null,Ot=null,en=null,rt=An,Ut=go}return}yi=yi||si,Ea=Ea||Si,Fa=Fa||xs,(si!==et||yi!==Nt)&&(c.blendEquationSeparate(v.convert(si),v.convert(yi)),et=si,Nt=yi),(Si!==qe||xs!==It||Ea!==Ot||Fa!==en)&&(c.blendFuncSeparate(v.convert(Si),v.convert(xs),v.convert(Ea),v.convert(Fa)),qe=Si,It=xs,Ot=Ea,en=Fa),rt=An,Ut=null}function gd(An,si){An.side===g?Er(c.CULL_FACE):zs(c.CULL_FACE);var Si=An.side===m;si&&(Si=!Si),vl(Si),An.blending===B&&An.transparent===!1?Pa(M):Pa(An.blending,An.blendEquation,An.blendSrc,An.blendDst,An.blendEquationAlpha,An.blendSrcAlpha,An.blendDstAlpha,An.premultipliedAlpha),G.setFunc(An.depthFunc),G.setTest(An.depthTest),G.setMask(An.depthWrite),H.setMask(An.colorWrite),km(An.polygonOffset,An.polygonOffsetFactor,An.polygonOffsetUnits)}function vl(An){fn!==An&&(An?c.frontFace(c.CW):c.frontFace(c.CCW),fn=An)}function kc(An){An!==i?(zs(c.CULL_FACE),An!==gn&&(An===s?c.cullFace(c.BACK):An===a?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):Er(c.CULL_FACE),gn=An}function du(An){An!==qn&&(Or&&c.lineWidth(An),qn=An)}function km(An,si,Si){An?(zs(c.POLYGON_OFFSET_FILL),(xr!==si||sr!==Si)&&(c.polygonOffset(si,Si),xr=si,sr=Si)):Er(c.POLYGON_OFFSET_FILL)}function zA(An){An?zs(c.SCISSOR_TEST):Er(c.SCISSOR_TEST)}function tc(An){An===void 0&&(An=c.TEXTURE0+hr-1),kn!==An&&(c.activeTexture(An),kn=An)}function Uc(An,si){kn===null&&tc();var Si=En[kn];Si===void 0&&(Si={type:void 0,texture:void 0},En[kn]=Si),(Si.type!==An||Si.texture!==si)&&(c.bindTexture(An,si||er[An]),Si.type=An,Si.texture=si)}function Hu(){try{c.compressedTexImage2D.apply(c,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function Cb(){try{c.texImage2D.apply(c,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function md(An){Dr.equals(An)===!1&&(c.scissor(An.x,An.y,An.z,An.w),Dr.copy(An))}function vd(An){jt.equals(An)===!1&&(c.viewport(An.x,An.y,An.z,An.w),jt.copy(An))}function da(){for(var An=0;An<se.length;An++)se[An]===1&&(c.disableVertexAttribArray(An),se[An]=0);_e={},Ue=null,kn=null,En={},We=null,rt=null,fn=null,gn=null,H.reset(),G.reset(),Z.reset()}return{buffers:{color:H,depth:G,stencil:Z},initAttributes:Zr,enableAttribute:wr,enableAttributeAndDivisor:Yi,disableUnusedAttributes:Ns,enable:zs,disable:Er,getCompressedTextureFormats:sa,useProgram:ml,setBlending:Pa,setMaterial:gd,setFlipSided:vl,setCullFace:kc,setLineWidth:du,setPolygonOffset:km,setScissorTest:zA,activeTexture:tc,bindTexture:Uc,compressedTexImage2D:Hu,texImage2D:Cb,scissor:md,viewport:vd,reset:da}}function IB(c,p,v,w,T,R,P){var H={},G;function Z(Mt,xt){if(Mt.width>xt||Mt.height>xt){if("data"in Mt){console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+Mt.width+"x"+Mt.height+").");return}var kn=xt/Math.max(Mt.width,Mt.height),En=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");En.width=Math.floor(Mt.width*kn),En.height=Math.floor(Mt.height*kn);var Dr=En.getContext("2d");return Dr.drawImage(Mt,0,0,Mt.width,Mt.height,0,0,En.width,En.height),console.warn("THREE.WebGLRenderer: image is too big ("+Mt.width+"x"+Mt.height+"). Resized to "+En.width+"x"+En.height),En}return Mt}function ee(Mt){return qi.isPowerOfTwo(Mt.width)&&qi.isPowerOfTwo(Mt.height)}function re(Mt){if(Mt instanceof HTMLImageElement||Mt instanceof HTMLCanvasElement||Mt instanceof ImageBitmap){G===void 0&&(G=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),G.width=qi.floorPowerOfTwo(Mt.width),G.height=qi.floorPowerOfTwo(Mt.height);var xt=G.getContext("2d");return xt.drawImage(Mt,0,0,G.width,G.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+Mt.width+"x"+Mt.height+"). Resized to "+G.width+"x"+G.height),G}return Mt}function se(Mt){return T.isWebGL2?!1:Mt.wrapS!==Dt||Mt.wrapT!==Dt||Mt.minFilter!==ke&&Mt.minFilter!==kt}function Ae(Mt,xt){return Mt.generateMipmaps&&xt&&Mt.minFilter!==ke&&Mt.minFilter!==kt}function _e(Mt,xt,kn,En){c.generateMipmap(Mt);var Dr=w.get(xt);Dr.__maxMipLevel=Math.log(Math.max(kn,En))*Math.LOG2E}function Ue(Mt,xt){if(!T.isWebGL2)return Mt;if(Mt===c.RGB){if(xt===c.FLOAT)return c.RGB32F;if(xt===c.HALF_FLOAT)return c.RGB16F;if(xt===c.UNSIGNED_BYTE)return c.RGB8}if(Mt===c.RGBA){if(xt===c.FLOAT)return c.RGBA32F;if(xt===c.HALF_FLOAT)return c.RGBA16F;if(xt===c.UNSIGNED_BYTE)return c.RGBA8}return Mt}function We(Mt){return Mt===ke||Mt===ct||Mt===Oe?c.NEAREST:c.LINEAR}function Ke(Mt){var xt=Mt.target;xt.removeEventListener("dispose",Ke),et(xt),xt.isVideoTexture&&delete H[xt.id],P.memory.textures--}function rt(Mt){var xt=Mt.target;xt.removeEventListener("dispose",rt),qe(xt),P.memory.textures--}function et(Mt){var xt=w.get(Mt);if(Mt.image&&xt.__image__webglTextureCube)c.deleteTexture(xt.__image__webglTextureCube);else{if(xt.__webglInit===void 0)return;c.deleteTexture(xt.__webglTexture)}w.remove(Mt)}function qe(Mt){var xt=w.get(Mt),kn=w.get(Mt.texture);if(Mt){if(kn.__webglTexture!==void 0&&c.deleteTexture(kn.__webglTexture),Mt.depthTexture&&Mt.depthTexture.dispose(),Mt.isWebGLRenderTargetCube)for(var En=0;En<6;En++)c.deleteFramebuffer(xt.__webglFramebuffer[En]),xt.__webglDepthbuffer&&c.deleteRenderbuffer(xt.__webglDepthbuffer[En]);else c.deleteFramebuffer(xt.__webglFramebuffer),xt.__webglDepthbuffer&&c.deleteRenderbuffer(xt.__webglDepthbuffer);w.remove(Mt.texture),w.remove(Mt)}}function It(Mt,xt){var kn=w.get(Mt);if(Mt.isVideoTexture&&Or(Mt),Mt.version>0&&kn.__version!==Mt.version){var En=Mt.image;if(En===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(En.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ut(kn,Mt,xt);return}}v.activeTexture(c.TEXTURE0+xt),v.bindTexture(c.TEXTURE_2D,kn.__webglTexture)}function Nt(Mt,xt){var kn=w.get(Mt);if(Mt.image.length===6)if(Mt.version>0&&kn.__version!==Mt.version){kn.__image__webglTextureCube||(Mt.addEventListener("dispose",Ke),kn.__image__webglTextureCube=c.createTexture(),P.memory.textures++),v.activeTexture(c.TEXTURE0+xt),v.bindTexture(c.TEXTURE_CUBE_MAP,kn.__image__webglTextureCube),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Mt.flipY);for(var En=Mt&&Mt.isCompressedTexture,Dr=Mt.image[0]&&Mt.image[0].isDataTexture,jt=[],Cr=0;Cr<6;Cr++)!En&&!Dr?jt[Cr]=Z(Mt.image[Cr],T.maxCubemapSize):jt[Cr]=Dr?Mt.image[Cr].image:Mt.image[Cr];var er=jt[0],Zr=ee(er),wr=R.convert(Mt.format),Yi=R.convert(Mt.type),Ns=Ue(wr,Yi);en(c.TEXTURE_CUBE_MAP,Mt,Zr);for(var Cr=0;Cr<6;Cr++)if(!En)Dr?v.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Cr,0,Ns,jt[Cr].width,jt[Cr].height,0,wr,Yi,jt[Cr].data):v.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Cr,0,Ns,wr,Yi,jt[Cr]);else for(var zs,Er=jt[Cr].mipmaps,sa=0,ml=Er.length;sa<ml;sa++)zs=Er[sa],Mt.format!==ki&&Mt.format!==Hi?v.getCompressedTextureFormats().indexOf(wr)>-1?v.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Cr,sa,Ns,zs.width,zs.height,0,zs.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Cr,sa,Ns,zs.width,zs.height,0,wr,Yi,zs.data);En?kn.__maxMipLevel=Er.length-1:kn.__maxMipLevel=0,Ae(Mt,Zr)&&_e(c.TEXTURE_CUBE_MAP,Mt,er.width,er.height),kn.__version=Mt.version,Mt.onUpdate&&Mt.onUpdate(Mt)}else v.activeTexture(c.TEXTURE0+xt),v.bindTexture(c.TEXTURE_CUBE_MAP,kn.__image__webglTextureCube)}function Ot(Mt,xt){v.activeTexture(c.TEXTURE0+xt),v.bindTexture(c.TEXTURE_CUBE_MAP,w.get(Mt).__webglTexture)}function en(Mt,xt,kn){var En;if(kn?(c.texParameteri(Mt,c.TEXTURE_WRAP_S,R.convert(xt.wrapS)),c.texParameteri(Mt,c.TEXTURE_WRAP_T,R.convert(xt.wrapT)),c.texParameteri(Mt,c.TEXTURE_MAG_FILTER,R.convert(xt.magFilter)),c.texParameteri(Mt,c.TEXTURE_MIN_FILTER,R.convert(xt.minFilter))):(c.texParameteri(Mt,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(Mt,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),(xt.wrapS!==Dt||xt.wrapT!==Dt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),c.texParameteri(Mt,c.TEXTURE_MAG_FILTER,We(xt.magFilter)),c.texParameteri(Mt,c.TEXTURE_MIN_FILTER,We(xt.minFilter)),xt.minFilter!==ke&&xt.minFilter!==kt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),En=p.get("EXT_texture_filter_anisotropic"),En){if(xt.type===jr&&p.get("OES_texture_float_linear")===null||xt.type===Mi&&(T.isWebGL2||p.get("OES_texture_half_float_linear"))===null)return;(xt.anisotropy>1||w.get(xt).__currentAnisotropy)&&(c.texParameterf(Mt,En.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(xt.anisotropy,T.getMaxAnisotropy())),w.get(xt).__currentAnisotropy=xt.anisotropy)}}function Ut(Mt,xt,kn){Mt.__webglInit===void 0&&(Mt.__webglInit=!0,xt.addEventListener("dispose",Ke),Mt.__webglTexture=c.createTexture(),P.memory.textures++),v.activeTexture(c.TEXTURE0+kn),v.bindTexture(c.TEXTURE_2D,Mt.__webglTexture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,xt.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xt.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,xt.unpackAlignment);var En=Z(xt.image,T.maxTextureSize);se(xt)&&ee(En)===!1&&(En=re(En));var Dr=ee(En),jt=R.convert(xt.format),Cr=R.convert(xt.type),er=Ue(jt,Cr);en(c.TEXTURE_2D,xt,Dr);var Zr,wr=xt.mipmaps;if(xt.isDepthTexture){if(er=c.DEPTH_COMPONENT,xt.type===jr){if(!T.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");er=c.DEPTH_COMPONENT32F}else T.isWebGL2&&(er=c.DEPTH_COMPONENT16);xt.format===it&&er===c.DEPTH_COMPONENT&&xt.type!==On&&xt.type!==Un&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),xt.type=On,Cr=R.convert(xt.type)),xt.format===Ft&&(er=c.DEPTH_STENCIL,xt.type!==fs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),xt.type=fs,Cr=R.convert(xt.type))),v.texImage2D(c.TEXTURE_2D,0,er,En.width,En.height,0,jt,Cr,null)}else if(xt.isDataTexture)if(wr.length>0&&Dr){for(var Yi=0,Ns=wr.length;Yi<Ns;Yi++)Zr=wr[Yi],v.texImage2D(c.TEXTURE_2D,Yi,er,Zr.width,Zr.height,0,jt,Cr,Zr.data);xt.generateMipmaps=!1,Mt.__maxMipLevel=wr.length-1}else v.texImage2D(c.TEXTURE_2D,0,er,En.width,En.height,0,jt,Cr,En.data),Mt.__maxMipLevel=0;else if(xt.isCompressedTexture){for(var Yi=0,Ns=wr.length;Yi<Ns;Yi++)Zr=wr[Yi],xt.format!==ki&&xt.format!==Hi?v.getCompressedTextureFormats().indexOf(jt)>-1?v.compressedTexImage2D(c.TEXTURE_2D,Yi,er,Zr.width,Zr.height,0,Zr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v.texImage2D(c.TEXTURE_2D,Yi,er,Zr.width,Zr.height,0,jt,Cr,Zr.data);Mt.__maxMipLevel=wr.length-1}else if(wr.length>0&&Dr){for(var Yi=0,Ns=wr.length;Yi<Ns;Yi++)Zr=wr[Yi],v.texImage2D(c.TEXTURE_2D,Yi,er,jt,Cr,Zr);xt.generateMipmaps=!1,Mt.__maxMipLevel=wr.length-1}else v.texImage2D(c.TEXTURE_2D,0,er,jt,Cr,En),Mt.__maxMipLevel=0;Ae(xt,Dr)&&_e(c.TEXTURE_2D,xt,En.width,En.height),Mt.__version=xt.version,xt.onUpdate&&xt.onUpdate(xt)}function fn(Mt,xt,kn,En){var Dr=R.convert(xt.texture.format),jt=R.convert(xt.texture.type),Cr=Ue(Dr,jt);v.texImage2D(En,0,Cr,xt.width,xt.height,0,Dr,jt,null),c.bindFramebuffer(c.FRAMEBUFFER,Mt),c.framebufferTexture2D(c.FRAMEBUFFER,kn,En,w.get(xt.texture).__webglTexture,0),c.bindFramebuffer(c.FRAMEBUFFER,null)}function gn(Mt,xt){c.bindRenderbuffer(c.RENDERBUFFER,Mt),xt.depthBuffer&&!xt.stencilBuffer?(c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,xt.width,xt.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,Mt)):xt.depthBuffer&&xt.stencilBuffer?(c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,xt.width,xt.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,Mt)):c.renderbufferStorage(c.RENDERBUFFER,c.RGBA4,xt.width,xt.height),c.bindRenderbuffer(c.RENDERBUFFER,null)}function qn(Mt,xt){var kn=xt&&xt.isWebGLRenderTargetCube;if(kn)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(c.FRAMEBUFFER,Mt),!(xt.depthTexture&&xt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!w.get(xt.depthTexture).__webglTexture||xt.depthTexture.image.width!==xt.width||xt.depthTexture.image.height!==xt.height)&&(xt.depthTexture.image.width=xt.width,xt.depthTexture.image.height=xt.height,xt.depthTexture.needsUpdate=!0),It(xt.depthTexture,0);var En=w.get(xt.depthTexture).__webglTexture;if(xt.depthTexture.format===it)c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,En,0);else if(xt.depthTexture.format===Ft)c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,En,0);else throw new Error("Unknown depthTexture format")}function xr(Mt){var xt=w.get(Mt),kn=Mt.isWebGLRenderTargetCube===!0;if(Mt.depthTexture){if(kn)throw new Error("target.depthTexture not supported in Cube render targets");qn(xt.__webglFramebuffer,Mt)}else if(kn){xt.__webglDepthbuffer=[];for(var En=0;En<6;En++)c.bindFramebuffer(c.FRAMEBUFFER,xt.__webglFramebuffer[En]),xt.__webglDepthbuffer[En]=c.createRenderbuffer(),gn(xt.__webglDepthbuffer[En],Mt)}else c.bindFramebuffer(c.FRAMEBUFFER,xt.__webglFramebuffer),xt.__webglDepthbuffer=c.createRenderbuffer(),gn(xt.__webglDepthbuffer,Mt);c.bindFramebuffer(c.FRAMEBUFFER,null)}function sr(Mt){var xt=w.get(Mt),kn=w.get(Mt.texture);Mt.addEventListener("dispose",rt),kn.__webglTexture=c.createTexture(),P.memory.textures++;var En=Mt.isWebGLRenderTargetCube===!0,Dr=ee(Mt);if(En){xt.__webglFramebuffer=[];for(var jt=0;jt<6;jt++)xt.__webglFramebuffer[jt]=c.createFramebuffer()}else xt.__webglFramebuffer=c.createFramebuffer();if(En){v.bindTexture(c.TEXTURE_CUBE_MAP,kn.__webglTexture),en(c.TEXTURE_CUBE_MAP,Mt.texture,Dr);for(var jt=0;jt<6;jt++)fn(xt.__webglFramebuffer[jt],Mt,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+jt);Ae(Mt.texture,Dr)&&_e(c.TEXTURE_CUBE_MAP,Mt.texture,Mt.width,Mt.height),v.bindTexture(c.TEXTURE_CUBE_MAP,null)}else v.bindTexture(c.TEXTURE_2D,kn.__webglTexture),en(c.TEXTURE_2D,Mt.texture,Dr),fn(xt.__webglFramebuffer,Mt,c.COLOR_ATTACHMENT0,c.TEXTURE_2D),Ae(Mt.texture,Dr)&&_e(c.TEXTURE_2D,Mt.texture,Mt.width,Mt.height),v.bindTexture(c.TEXTURE_2D,null);Mt.depthBuffer&&xr(Mt)}function hr(Mt){var xt=Mt.texture,kn=ee(Mt);if(Ae(xt,kn)){var En=Mt.isWebGLRenderTargetCube?c.TEXTURE_CUBE_MAP:c.TEXTURE_2D,Dr=w.get(xt).__webglTexture;v.bindTexture(En,Dr),_e(En,xt,Mt.width,Mt.height),v.bindTexture(En,null)}}function Or(Mt){var xt=Mt.id,kn=P.render.frame;H[xt]!==kn&&(H[xt]=kn,Mt.update())}this.setTexture2D=It,this.setTextureCube=Nt,this.setTextureCubeDynamic=Ot,this.setupRenderTarget=sr,this.updateRenderTargetMipmap=hr}function e_(c,p,v){function w(T){var R;if(T===Qt)return c.REPEAT;if(T===Dt)return c.CLAMP_TO_EDGE;if(T===st)return c.MIRRORED_REPEAT;if(T===ke)return c.NEAREST;if(T===ct)return c.NEAREST_MIPMAP_NEAREST;if(T===Oe)return c.NEAREST_MIPMAP_LINEAR;if(T===kt)return c.LINEAR;if(T===wn)return c.LINEAR_MIPMAP_NEAREST;if(T===mt)return c.LINEAR_MIPMAP_LINEAR;if(T===Kt)return c.UNSIGNED_BYTE;if(T===bi)return c.UNSIGNED_SHORT_4_4_4_4;if(T===Ji)return c.UNSIGNED_SHORT_5_5_5_1;if(T===br)return c.UNSIGNED_SHORT_5_6_5;if(T===bn)return c.BYTE;if(T===Rn)return c.SHORT;if(T===On)return c.UNSIGNED_SHORT;if(T===Dn)return c.INT;if(T===Un)return c.UNSIGNED_INT;if(T===jr)return c.FLOAT;if(T===Mi){if(v.isWebGL2)return c.HALF_FLOAT;if(R=p.get("OES_texture_half_float"),R!==null)return R.HALF_FLOAT_OES}if(T===Di)return c.ALPHA;if(T===Hi)return c.RGB;if(T===ki)return c.RGBA;if(T===ot)return c.LUMINANCE;if(T===sn)return c.LUMINANCE_ALPHA;if(T===it)return c.DEPTH_COMPONENT;if(T===Ft)return c.DEPTH_STENCIL;if(T===O)return c.FUNC_ADD;if(T===F)return c.FUNC_SUBTRACT;if(T===U)return c.FUNC_REVERSE_SUBTRACT;if(T===V)return c.ZERO;if(T===Q)return c.ONE;if(T===X)return c.SRC_COLOR;if(T===z)return c.ONE_MINUS_SRC_COLOR;if(T===ne)return c.SRC_ALPHA;if(T===he)return c.ONE_MINUS_SRC_ALPHA;if(T===W)return c.DST_ALPHA;if(T===Y)return c.ONE_MINUS_DST_ALPHA;if(T===oe)return c.DST_COLOR;if(T===fe)return c.ONE_MINUS_DST_COLOR;if(T===me)return c.SRC_ALPHA_SATURATE;if((T===Gn||T===fr||T===Gr||T===$r)&&(R=p.get("WEBGL_compressed_texture_s3tc"),R!==null)){if(T===Gn)return R.COMPRESSED_RGB_S3TC_DXT1_EXT;if(T===fr)return R.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(T===Gr)return R.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(T===$r)return R.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((T===oi||T===xi||T===mi||T===Lt)&&(R=p.get("WEBGL_compressed_texture_pvrtc"),R!==null)){if(T===oi)return R.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(T===xi)return R.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(T===mi)return R.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(T===Lt)return R.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(T===ut&&(R=p.get("WEBGL_compressed_texture_etc1"),R!==null))return R.COMPRESSED_RGB_ETC1_WEBGL;if((T===on||T===xn||T===Rr||T===Xr||T===ta||T===Ki||T===Eo||T===na||T===Kl||T===Ic||T===to||T===ql||T===ed||T===Ls)&&(R=p.get("WEBGL_compressed_texture_astc"),R!==null))return T;if(T===$||T===K){if(v.isWebGL2){if(T===$)return c.MIN;if(T===K)return c.MAX}if(R=p.get("EXT_blend_minmax"),R!==null){if(T===$)return R.MIN_EXT;if(T===K)return R.MAX_EXT}}if(T===fs){if(v.isWebGL2)return c.UNSIGNED_INT_24_8;if(R=p.get("WEBGL_depth_texture"),R!==null)return R.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:w}}function cg(){Vr.call(this),this.type="Group"}cg.prototype=Object.assign(Object.create(Vr.prototype),{constructor:cg,isGroup:!0});function po(c,p,v,w){cd.call(this),this.type="PerspectiveCamera",this.fov=c!==void 0?c:50,this.zoom=1,this.near=v!==void 0?v:.1,this.far=w!==void 0?w:2e3,this.focus=10,this.aspect=p!==void 0?p:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}po.prototype=Object.assign(Object.create(cd.prototype),{constructor:po,isPerspectiveCamera:!0,copy:function(c,p){return cd.prototype.copy.call(this,c,p),this.fov=c.fov,this.zoom=c.zoom,this.near=c.near,this.far=c.far,this.focus=c.focus,this.aspect=c.aspect,this.view=c.view===null?null:Object.assign({},c.view),this.filmGauge=c.filmGauge,this.filmOffset=c.filmOffset,this},setFocalLength:function(c){var p=.5*this.getFilmHeight()/c;this.fov=qi.RAD2DEG*2*Math.atan(p),this.updateProjectionMatrix()},getFocalLength:function(){var c=Math.tan(qi.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/c},getEffectiveFOV:function(){return qi.RAD2DEG*2*Math.atan(Math.tan(qi.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(c,p,v,w,T,R){this.aspect=c/p,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=c,this.view.fullHeight=p,this.view.offsetX=v,this.view.offsetY=w,this.view.width=T,this.view.height=R,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var c=this.near,p=c*Math.tan(qi.DEG2RAD*.5*this.fov)/this.zoom,v=2*p,w=this.aspect*v,T=-.5*w,R=this.view;if(this.view!==null&&this.view.enabled){var P=R.fullWidth,H=R.fullHeight;T+=R.offsetX*w/P,p-=R.offsetY*v/H,w*=R.width/P,v*=R.height/H}var G=this.filmOffset;G!==0&&(T+=c*G/this.getFilmWidth()),this.projectionMatrix.makePerspective(T,T+w,p,p-v,c,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(c){var p=Vr.prototype.toJSON.call(this,c);return p.object.fov=this.fov,p.object.zoom=this.zoom,p.object.near=this.near,p.object.far=this.far,p.object.focus=this.focus,p.object.aspect=this.aspect,this.view!==null&&(p.object.view=Object.assign({},this.view)),p.object.filmGauge=this.filmGauge,p.object.filmOffset=this.filmOffset,p}});function l0(c){po.call(this),this.cameras=c||[]}l0.prototype=Object.assign(Object.create(po.prototype),{constructor:l0,isArrayCamera:!0});function PB(c){var p=this,v=null,w=null,T=null,R=[],P=new ur,H=new ur,G="stage";typeof window<"u"&&"VRFrameData"in window&&(w=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",rt,!1));var Z=new ur,ee=new Fo,re=new dt,se=new po;se.bounds=new Gs(0,0,.5,1),se.layers.enable(1);var Ae=new po;Ae.bounds=new Gs(.5,0,.5,1),Ae.layers.enable(2);var _e=new l0([se,Ae]);_e.layers.enable(1),_e.layers.enable(2);function Ue(){return v!==null&&v.isPresenting===!0}var We,Ke;function rt(){if(Ue()){var Ot=v.getEyeParameters("left"),en=Ot.renderWidth,Ut=Ot.renderHeight;Ke=c.getPixelRatio(),We=c.getSize(),c.setDrawingBufferSize(en*2,Ut,1),Nt.start()}else p.enabled&&c.setDrawingBufferSize(We.width,We.height,Ke),Nt.stop()}var et=[];function qe(Ot){for(var en=navigator.getGamepads&&navigator.getGamepads(),Ut=0,fn=0,gn=en.length;Ut<gn;Ut++){var qn=en[Ut];if(qn&&(qn.id==="Daydream Controller"||qn.id==="Gear VR Controller"||qn.id==="Oculus Go Controller"||qn.id==="OpenVR Gamepad"||qn.id.startsWith("Oculus Touch")||qn.id.startsWith("Spatial Controller"))){if(fn===Ot)return qn;fn++}}}function It(){for(var Ot=0;Ot<R.length;Ot++){var en=R[Ot],Ut=qe(Ot);if(Ut!==void 0&&Ut.pose!==void 0){if(Ut.pose===null)return;var fn=Ut.pose;fn.hasPosition===!1&&en.position.set(.2,-.6,-.05),fn.position!==null&&en.position.fromArray(fn.position),fn.orientation!==null&&en.quaternion.fromArray(fn.orientation),en.matrix.compose(en.position,en.quaternion,en.scale),en.matrix.premultiply(P),en.matrix.decompose(en.position,en.quaternion,en.scale),en.matrixWorldNeedsUpdate=!0,en.visible=!0;var gn=Ut.id==="Daydream Controller"?0:1;et[Ot]!==Ut.buttons[gn].pressed&&(et[Ot]=Ut.buttons[gn].pressed,et[Ot]===!0?en.dispatchEvent({type:"selectstart"}):(en.dispatchEvent({type:"selectend"}),en.dispatchEvent({type:"select"})))}else en.visible=!1}}this.enabled=!1,this.getController=function(Ot){var en=R[Ot];return en===void 0&&(en=new cg,en.matrixAutoUpdate=!1,en.visible=!1,R[Ot]=en),en},this.getDevice=function(){return v},this.setDevice=function(Ot){Ot!==void 0&&(v=Ot),Nt.setContext(Ot)},this.setFrameOfReferenceType=function(Ot){G=Ot},this.setPoseTarget=function(Ot){Ot!==void 0&&(T=Ot)},this.getCamera=function(Ot){var en=G==="stage"?1.6:0;if(v===null)return Ot.position.set(0,en,0),Ot;if(v.depthNear=Ot.near,v.depthFar=Ot.far,v.getFrameData(w),G==="stage"){var Ut=v.stageParameters;Ut?P.fromArray(Ut.sittingToStandingTransform):P.makeTranslation(0,en,0)}var fn=w.pose,gn=T!==null?T:Ot;if(gn.matrix.copy(P),gn.matrix.decompose(gn.position,gn.quaternion,gn.scale),fn.orientation!==null&&(ee.fromArray(fn.orientation),gn.quaternion.multiply(ee)),fn.position!==null&&(ee.setFromRotationMatrix(P),re.fromArray(fn.position),re.applyQuaternion(ee),gn.position.add(re)),gn.updateMatrixWorld(),v.isPresenting===!1)return Ot;se.near=Ot.near,Ae.near=Ot.near,se.far=Ot.far,Ae.far=Ot.far,_e.matrixWorld.copy(Ot.matrixWorld),_e.matrixWorldInverse.copy(Ot.matrixWorldInverse),se.matrixWorldInverse.fromArray(w.leftViewMatrix),Ae.matrixWorldInverse.fromArray(w.rightViewMatrix),H.getInverse(P),G==="stage"&&(se.matrixWorldInverse.multiply(H),Ae.matrixWorldInverse.multiply(H));var qn=gn.parent;qn!==null&&(Z.getInverse(qn.matrixWorld),se.matrixWorldInverse.multiply(Z),Ae.matrixWorldInverse.multiply(Z)),se.matrixWorld.getInverse(se.matrixWorldInverse),Ae.matrixWorld.getInverse(Ae.matrixWorldInverse),se.projectionMatrix.fromArray(w.leftProjectionMatrix),Ae.projectionMatrix.fromArray(w.rightProjectionMatrix),_e.projectionMatrix.copy(se.projectionMatrix);var xr=v.getLayers();if(xr.length){var sr=xr[0];sr.leftBounds!==null&&sr.leftBounds.length===4&&se.bounds.fromArray(sr.leftBounds),sr.rightBounds!==null&&sr.rightBounds.length===4&&Ae.bounds.fromArray(sr.rightBounds)}return It(),_e},this.getStandingMatrix=function(){return P},this.isPresenting=Ue;var Nt=new jw;this.setAnimationLoop=function(Ot){Nt.setAnimationLoop(Ot)},this.submitFrame=function(){Ue()&&v.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",rt)}}function Jw(c){var p=c.context,v=null,w=null,T=null,R="stage",P=null,H=[],G=[];function Z(){return w!==null&&T!==null}var ee=new po;ee.layers.enable(1),ee.viewport=new Gs;var re=new po;re.layers.enable(2),re.viewport=new Gs;var se=new l0([ee,re]);se.layers.enable(1),se.layers.enable(2),this.enabled=!1,this.getController=function(et){var qe=H[et];return qe===void 0&&(qe=new cg,qe.matrixAutoUpdate=!1,qe.visible=!1,H[et]=qe),qe},this.getDevice=function(){return v},this.setDevice=function(et){et!==void 0&&(v=et),et instanceof XRDevice&&p.setCompatibleXRDevice(et)};function Ae(et){var qe=H[G.indexOf(et.inputSource)];qe&&qe.dispatchEvent({type:et.type})}function _e(){c.setFramebuffer(null),rt.stop()}this.setFrameOfReferenceType=function(et){R=et},this.setSession=function(et){w=et,w!==null&&(w.addEventListener("select",Ae),w.addEventListener("selectstart",Ae),w.addEventListener("selectend",Ae),w.addEventListener("end",_e),w.baseLayer=new XRWebGLLayer(w,p),w.requestFrameOfReference(R).then(function(qe){T=qe,c.setFramebuffer(w.baseLayer.framebuffer),rt.setContext(w),rt.start()}),G=w.getInputSources(),w.addEventListener("inputsourceschange",function(){G=w.getInputSources(),console.log(G)}))};function Ue(et,qe){qe===null?et.matrixWorld.copy(et.matrix):et.matrixWorld.multiplyMatrices(qe.matrixWorld,et.matrix),et.matrixWorldInverse.getInverse(et.matrixWorld)}this.getCamera=function(et){if(Z()){var qe=et.parent,It=se.cameras;Ue(se,qe);for(var Nt=0;Nt<It.length;Nt++)Ue(It[Nt],qe);et.matrixWorld.copy(se.matrixWorld);for(var Ot=et.children,Nt=0,en=Ot.length;Nt<en;Nt++)Ot[Nt].updateMatrixWorld(!0);return se}return et},this.isPresenting=Z;var We=null;function Ke(et,qe){if(P=qe.getDevicePose(T),P!==null)for(var It=w.baseLayer,Nt=qe.views,Ot=0;Ot<Nt.length;Ot++){var en=Nt[Ot],Ut=It.getViewport(en),fn=P.getViewMatrix(en),gn=se.cameras[Ot];gn.matrix.fromArray(fn).getInverse(gn.matrix),gn.projectionMatrix.fromArray(en.projectionMatrix),gn.viewport.set(Ut.x,Ut.y,Ut.width,Ut.height),Ot===0&&(se.matrix.copy(gn.matrix),se.projectionMatrix.copy(gn.projectionMatrix))}for(var Ot=0;Ot<H.length;Ot++){var qn=H[Ot],xr=G[Ot];if(xr){var sr=qe.getInputPose(xr,T);if(sr!==null){"targetRay"in sr?qn.matrix.elements=sr.targetRay.transformMatrix:"pointerMatrix"in sr&&(qn.matrix.elements=sr.pointerMatrix),qn.matrix.decompose(qn.position,qn.rotation,qn.scale),qn.visible=!0;continue}}qn.visible=!1}We&&We(et)}var rt=new jw;rt.setAnimationLoop(Ke),this.setAnimationLoop=function(et){We=et},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function eb(c){c=c||{};var p=c.canvas!==void 0?c.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),v=c.context!==void 0?c.context:null,w=c.alpha!==void 0?c.alpha:!1,T=c.depth!==void 0?c.depth:!0,R=c.stencil!==void 0?c.stencil:!0,P=c.antialias!==void 0?c.antialias:!1,H=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,G=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,Z=c.powerPreference!==void 0?c.powerPreference:"default",ee=null,re=null;this.domElement=p,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=je,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var se=this,Ae=!1,_e=null,Ue=null,We=null,Ke=-1,rt={geometry:null,program:null,wireframe:!1},et=null,qe=null,It=new Gs,Nt=new Gs,Ot=null,en=0,Ut=p.width,fn=p.height,gn=1,qn=new Gs(0,0,Ut,fn),xr=new Gs(0,0,Ut,fn),sr=!1,hr=new kf,Or=new mk,Mt=!1,xt=!1,kn=new ur,En=new dt;function Dr(){return Ue===null?gn:1}var jt;try{var Cr={alpha:w,depth:T,stencil:R,antialias:P,premultipliedAlpha:H,preserveDrawingBuffer:G,powerPreference:Z};if(p.addEventListener("webglcontextlost",md,!1),p.addEventListener("webglcontextrestored",vd,!1),jt=v||p.getContext("webgl",Cr)||p.getContext("experimental-webgl",Cr),jt===null)throw p.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");jt.getShaderPrecisionFormat===void 0&&(jt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(nt){console.error("THREE.WebGLRenderer: "+nt.message)}var er,Zr,wr,Yi,Ns,zs,Er,sa,ml,Pa,gd,vl,kc,du,km,zA,tc;function Uc(){er=new vk(jt),Zr=new gk(jt,er,c),Zr.isWebGL2||(er.get("WEBGL_depth_texture"),er.get("OES_texture_float"),er.get("OES_texture_half_float"),er.get("OES_texture_half_float_linear"),er.get("OES_standard_derivatives"),er.get("OES_element_index_uint"),er.get("ANGLE_instanced_arrays")),er.get("OES_texture_float_linear"),tc=new e_(jt,er,Zr),wr=new RB(jt,er,tc,Zr),wr.scissor(Nt.copy(xr).multiplyScalar(gn)),wr.viewport(It.copy(qn).multiplyScalar(gn)),Yi=new Kw(jt),Ns=new Yw,zs=new IB(jt,er,wr,Ns,Zr,tc,Yi),Er=new ck(jt),sa=new yk(jt,Er,Yi),ml=new CB(sa,Yi),du=new wk(jt),Pa=new LB(se,er,Zr),gd=new bk,vl=new Ek,kc=new Ak(se,wr,ml,H),km=new pk(jt,er,Yi,Zr),zA=new SB(jt,er,Yi,Zr),Yi.programs=Pa.programs,se.context=jt,se.capabilities=Zr,se.extensions=er,se.properties=Ns,se.renderLists=gd,se.state=wr,se.info=Yi}Uc();var Hu="xr"in navigator?new Jw(se):new PB(se);this.vr=Hu;var Cb=new Jy(se,ml,Zr.maxTextureSize);this.shadowMap=Cb,this.getContext=function(){return jt},this.getContextAttributes=function(){return jt.getContextAttributes()},this.forceContextLoss=function(){var nt=er.get("WEBGL_lose_context");nt&&nt.loseContext()},this.forceContextRestore=function(){var nt=er.get("WEBGL_lose_context");nt&&nt.restoreContext()},this.getPixelRatio=function(){return gn},this.setPixelRatio=function(nt){nt!==void 0&&(gn=nt,this.setSize(Ut,fn,!1))},this.getSize=function(){return{width:Ut,height:fn}},this.setSize=function(nt,wt,$t){if(Hu.isPresenting()){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ut=nt,fn=wt,p.width=nt*gn,p.height=wt*gn,$t!==!1&&(p.style.width=nt+"px",p.style.height=wt+"px"),this.setViewport(0,0,nt,wt)},this.getDrawingBufferSize=function(){return{width:Ut*gn,height:fn*gn}},this.setDrawingBufferSize=function(nt,wt,$t){Ut=nt,fn=wt,gn=$t,p.width=nt*$t,p.height=wt*$t,this.setViewport(0,0,nt,wt)},this.getCurrentViewport=function(){return It},this.setViewport=function(nt,wt,$t,yr){qn.set(nt,fn-wt-yr,$t,yr),wr.viewport(It.copy(qn).multiplyScalar(gn))},this.setScissor=function(nt,wt,$t,yr){xr.set(nt,fn-wt-yr,$t,yr),wr.scissor(Nt.copy(xr).multiplyScalar(gn))},this.setScissorTest=function(nt){wr.setScissorTest(sr=nt)},this.getClearColor=function(){return kc.getClearColor()},this.setClearColor=function(){kc.setClearColor.apply(kc,arguments)},this.getClearAlpha=function(){return kc.getClearAlpha()},this.setClearAlpha=function(){kc.setClearAlpha.apply(kc,arguments)},this.clear=function(nt,wt,$t){var yr=0;(nt===void 0||nt)&&(yr|=jt.COLOR_BUFFER_BIT),(wt===void 0||wt)&&(yr|=jt.DEPTH_BUFFER_BIT),($t===void 0||$t)&&(yr|=jt.STENCIL_BUFFER_BIT),jt.clear(yr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(nt,wt,$t,yr){this.setRenderTarget(nt),this.clear(wt,$t,yr)},this.dispose=function(){p.removeEventListener("webglcontextlost",md,!1),p.removeEventListener("webglcontextrestored",vd,!1),gd.dispose(),vl.dispose(),Ns.dispose(),ml.dispose(),Hu.dispose(),Fa.stop()};function md(nt){nt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ae=!0}function vd(){console.log("THREE.WebGLRenderer: Context Restored."),Ae=!1,Uc()}function da(nt){var wt=nt.target;wt.removeEventListener("dispose",da),An(wt)}function An(nt){si(nt),Ns.remove(nt)}function si(nt){var wt=Ns.get(nt).program;nt.program=void 0,wt!==void 0&&Pa.releaseProgram(wt)}function Si(nt,wt){nt.render(function($t){se.renderBufferImmediate($t,wt)})}this.renderBufferImmediate=function(nt,wt){wr.initAttributes();var $t=Ns.get(nt);nt.hasPositions&&!$t.position&&($t.position=jt.createBuffer()),nt.hasNormals&&!$t.normal&&($t.normal=jt.createBuffer()),nt.hasUvs&&!$t.uv&&($t.uv=jt.createBuffer()),nt.hasColors&&!$t.color&&($t.color=jt.createBuffer());var yr=wt.getAttributes();nt.hasPositions&&(jt.bindBuffer(jt.ARRAY_BUFFER,$t.position),jt.bufferData(jt.ARRAY_BUFFER,nt.positionArray,jt.DYNAMIC_DRAW),wr.enableAttribute(yr.position),jt.vertexAttribPointer(yr.position,3,jt.FLOAT,!1,0,0)),nt.hasNormals&&(jt.bindBuffer(jt.ARRAY_BUFFER,$t.normal),jt.bufferData(jt.ARRAY_BUFFER,nt.normalArray,jt.DYNAMIC_DRAW),wr.enableAttribute(yr.normal),jt.vertexAttribPointer(yr.normal,3,jt.FLOAT,!1,0,0)),nt.hasUvs&&(jt.bindBuffer(jt.ARRAY_BUFFER,$t.uv),jt.bufferData(jt.ARRAY_BUFFER,nt.uvArray,jt.DYNAMIC_DRAW),wr.enableAttribute(yr.uv),jt.vertexAttribPointer(yr.uv,2,jt.FLOAT,!1,0,0)),nt.hasColors&&(jt.bindBuffer(jt.ARRAY_BUFFER,$t.color),jt.bufferData(jt.ARRAY_BUFFER,nt.colorArray,jt.DYNAMIC_DRAW),wr.enableAttribute(yr.color),jt.vertexAttribPointer(yr.color,3,jt.FLOAT,!1,0,0)),wr.disableUnusedAttributes(),jt.drawArrays(jt.TRIANGLES,0,nt.count),nt.count=0},this.renderBufferDirect=function(nt,wt,$t,yr,Jr,fa){var Ci=Jr.isMesh&&Jr.normalMatrix.determinant()<0;wr.setMaterial(yr,Ci);var ai=sf(nt,wt,yr,Jr),ya=!1;(rt.geometry!==$t.id||rt.program!==ai.id||rt.wireframe!==(yr.wireframe===!0))&&(rt.geometry=$t.id,rt.program=ai.id,rt.wireframe=yr.wireframe===!0,ya=!0),Jr.morphTargetInfluences&&(du.update(Jr,$t,yr,ai),ya=!0);var Mo=$t.index,za=$t.attributes.position,$o=1;yr.wireframe===!0&&(Mo=sa.getWireframeAttribute($t),$o=2);var Hc,Ks=km;Mo!==null&&(Hc=Er.get(Mo),Ks=zA,Ks.setIndex(Hc)),ya&&(xs(yr,ai,$t),Mo!==null&&jt.bindBuffer(jt.ELEMENT_ARRAY_BUFFER,Hc.buffer));var Zi=1/0;Mo!==null?Zi=Mo.count:za!==void 0&&(Zi=za.count);var Ta=$t.drawRange.start*$o,Gc=$t.drawRange.count*$o,yg=fa!==null?fa.start*$o:0,rc=fa!==null?fa.count*$o:1/0,Um=Math.max(Ta,yg),aR=Math.min(Zi,Ta+Gc,yg+rc)-1,iU=Math.max(0,aR-Um+1);if(iU!==0){if(Jr.isMesh)if(yr.wireframe===!0)wr.setLineWidth(yr.wireframeLinewidth*Dr()),Ks.setMode(jt.LINES);else switch(Jr.drawMode){case Qp:Ks.setMode(jt.TRIANGLES);break;case Zv:Ks.setMode(jt.TRIANGLE_STRIP);break;case Ac:Ks.setMode(jt.TRIANGLE_FAN);break}else if(Jr.isLine){var sU=yr.linewidth;sU===void 0&&(sU=1),wr.setLineWidth(sU*Dr()),Jr.isLineSegments?Ks.setMode(jt.LINES):Jr.isLineLoop?Ks.setMode(jt.LINE_LOOP):Ks.setMode(jt.LINE_STRIP)}else Jr.isPoints?Ks.setMode(jt.POINTS):Jr.isSprite&&Ks.setMode(jt.TRIANGLES);$t&&$t.isInstancedBufferGeometry?$t.maxInstancedCount>0&&Ks.renderInstances($t,Um,iU):Ks.render(Um,iU)}};function xs(nt,wt,$t){if($t&&$t.isInstancedBufferGeometry&!Zr.isWebGL2&&er.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}wr.initAttributes();var yr=$t.attributes,Jr=wt.getAttributes(),fa=nt.defaultAttributeValues;for(var Ci in Jr){var ai=Jr[Ci];if(ai>=0){var ya=yr[Ci];if(ya!==void 0){var Mo=ya.normalized,za=ya.itemSize,$o=Er.get(ya);if($o===void 0)continue;var Hc=$o.buffer,Ks=$o.type,Zi=$o.bytesPerElement;if(ya.isInterleavedBufferAttribute){var Ta=ya.data,Gc=Ta.stride,yg=ya.offset;Ta&&Ta.isInstancedInterleavedBuffer?(wr.enableAttributeAndDivisor(ai,Ta.meshPerAttribute),$t.maxInstancedCount===void 0&&($t.maxInstancedCount=Ta.meshPerAttribute*Ta.count)):wr.enableAttribute(ai),jt.bindBuffer(jt.ARRAY_BUFFER,Hc),jt.vertexAttribPointer(ai,za,Ks,Mo,Gc*Zi,yg*Zi)}else ya.isInstancedBufferAttribute?(wr.enableAttributeAndDivisor(ai,ya.meshPerAttribute),$t.maxInstancedCount===void 0&&($t.maxInstancedCount=ya.meshPerAttribute*ya.count)):wr.enableAttribute(ai),jt.bindBuffer(jt.ARRAY_BUFFER,Hc),jt.vertexAttribPointer(ai,za,Ks,Mo,0,0)}else if(fa!==void 0){var rc=fa[Ci];if(rc!==void 0)switch(rc.length){case 2:jt.vertexAttrib2fv(ai,rc);break;case 3:jt.vertexAttrib3fv(ai,rc);break;case 4:jt.vertexAttrib4fv(ai,rc);break;default:jt.vertexAttrib1fv(ai,rc)}}}}wr.disableUnusedAttributes()}this.compile=function(nt,wt){re=vl.get(nt,wt),re.init(),nt.traverse(function($t){$t.isLight&&(re.pushLight($t),$t.castShadow&&re.pushShadow($t))}),re.setupLights(wt),nt.traverse(function($t){if($t.material)if(Array.isArray($t.material))for(var yr=0;yr<$t.material.length;yr++)Ch($t.material[yr],nt.fog,$t);else Ch($t.material,nt.fog,$t)})};var yi=null;function Ea(nt){Hu.isPresenting()||yi&&yi(nt)}var Fa=new jw;Fa.setAnimationLoop(Ea),typeof window<"u"&&Fa.setContext(window),this.setAnimationLoop=function(nt){yi=nt,Hu.setAnimationLoop(nt),Fa.start()},this.render=function(nt,wt,$t,yr){if(!(wt&&wt.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!Ae){rt.geometry=null,rt.program=null,rt.wireframe=!1,Ke=-1,et=null,nt.autoUpdate===!0&&nt.updateMatrixWorld(),wt.parent===null&&wt.updateMatrixWorld(),Hu.enabled&&(wt=Hu.getCamera(wt)),re=vl.get(nt,wt),re.init(),nt.onBeforeRender(se,nt,wt,$t),kn.multiplyMatrices(wt.projectionMatrix,wt.matrixWorldInverse),hr.setFromMatrix(kn),xt=this.localClippingEnabled,Mt=Or.init(this.clippingPlanes,xt,wt),ee=gd.get(nt,wt),ee.init(),go(nt,wt,se.sortObjects),se.sortObjects===!0&&ee.sort(),Mt&&Or.beginShadows();var Jr=re.state.shadowsArray;Cb.render(Jr,nt,wt),re.setupLights(wt),Mt&&Or.endShadows(),this.info.autoReset&&this.info.reset(),$t===void 0&&($t=null),this.setRenderTarget($t),kc.render(ee,nt,wt,yr);var fa=ee.opaque,Ci=ee.transparent;if(nt.overrideMaterial){var ai=nt.overrideMaterial;fa.length&&nc(fa,nt,wt,ai),Ci.length&&nc(Ci,nt,wt,ai)}else fa.length&&nc(fa,nt,wt),Ci.length&&nc(Ci,nt,wt);$t&&zs.updateRenderTargetMipmap($t),wr.buffers.depth.setTest(!0),wr.buffers.depth.setMask(!0),wr.buffers.color.setMask(!0),wr.setPolygonOffset(!1),nt.onAfterRender(se,nt,wt),Hu.enabled&&Hu.submitFrame(),ee=null,re=null}};function go(nt,wt,$t){if(nt.visible!==!1){var yr=nt.layers.test(wt.layers);if(yr){if(nt.isLight)re.pushLight(nt),nt.castShadow&&re.pushShadow(nt);else if(nt.isSprite){if(!nt.frustumCulled||hr.intersectsSprite(nt)){$t&&En.setFromMatrixPosition(nt.matrixWorld).applyMatrix4(kn);var Jr=ml.update(nt),fa=nt.material;ee.push(nt,Jr,fa,En.z,null)}}else if(nt.isImmediateRenderObject)$t&&En.setFromMatrixPosition(nt.matrixWorld).applyMatrix4(kn),ee.push(nt,null,nt.material,En.z,null);else if((nt.isMesh||nt.isLine||nt.isPoints)&&(nt.isSkinnedMesh&&nt.skeleton.update(),!nt.frustumCulled||hr.intersectsObject(nt))){$t&&En.setFromMatrixPosition(nt.matrixWorld).applyMatrix4(kn);var Jr=ml.update(nt),fa=nt.material;if(Array.isArray(fa))for(var Ci=Jr.groups,ai=0,ya=Ci.length;ai<ya;ai++){var Mo=Ci[ai],za=fa[Mo.materialIndex];za&&za.visible&&ee.push(nt,Jr,za,En.z,Mo)}else fa.visible&&ee.push(nt,Jr,fa,En.z,null)}}for(var $o=nt.children,ai=0,ya=$o.length;ai<ya;ai++)go($o[ai],wt,$t)}}function nc(nt,wt,$t,yr){for(var Jr=0,fa=nt.length;Jr<fa;Jr++){var Ci=nt[Jr],ai=Ci.object,ya=Ci.geometry,Mo=yr===void 0?Ci.material:yr,za=Ci.group;if($t.isArrayCamera){qe=$t;for(var $o=$t.cameras,Hc=0,Ks=$o.length;Hc<Ks;Hc++){var Zi=$o[Hc];if(ai.layers.test(Zi.layers)){if("viewport"in Zi)wr.viewport(It.copy(Zi.viewport));else{var Ta=Zi.bounds,Gc=Ta.x*Ut,yg=Ta.y*fn,rc=Ta.z*Ut,Um=Ta.w*fn;wr.viewport(It.set(Gc,yg,rc,Um).multiplyScalar(gn))}re.setupLights(Zi),io(ai,wt,Zi,ya,Mo,za)}}}else qe=null,io(ai,wt,$t,ya,Mo,za)}}function io(nt,wt,$t,yr,Jr,fa){if(nt.onBeforeRender(se,wt,$t,yr,Jr,fa),re=vl.get(wt,qe||$t),nt.modelViewMatrix.multiplyMatrices($t.matrixWorldInverse,nt.matrixWorld),nt.normalMatrix.getNormalMatrix(nt.modelViewMatrix),nt.isImmediateRenderObject){wr.setMaterial(Jr);var Ci=sf($t,wt.fog,Jr,nt);rt.geometry=null,rt.program=null,rt.wireframe=!1,Si(nt,Ci)}else se.renderBufferDirect($t,wt.fog,yr,Jr,nt,fa);nt.onAfterRender(se,wt,$t,yr,Jr,fa),re=vl.get(wt,qe||$t)}function Ch(nt,wt,$t){var yr=Ns.get(nt),Jr=re.state.lights,fa=re.state.shadowsArray,Ci=yr.lightsHash,ai=Jr.state.hash,ya=Pa.getParameters(nt,Jr.state,fa,wt,Or.numPlanes,Or.numIntersection,$t),Mo=Pa.getProgramCode(nt,ya),za=yr.program,$o=!0;if(za===void 0)nt.addEventListener("dispose",da);else if(za.code!==Mo)si(nt);else if(Ci.stateID!==ai.stateID||Ci.directionalLength!==ai.directionalLength||Ci.pointLength!==ai.pointLength||Ci.spotLength!==ai.spotLength||Ci.rectAreaLength!==ai.rectAreaLength||Ci.hemiLength!==ai.hemiLength||Ci.shadowsLength!==ai.shadowsLength)Ci.stateID=ai.stateID,Ci.directionalLength=ai.directionalLength,Ci.pointLength=ai.pointLength,Ci.spotLength=ai.spotLength,Ci.rectAreaLength=ai.rectAreaLength,Ci.hemiLength=ai.hemiLength,Ci.shadowsLength=ai.shadowsLength,$o=!1;else{if(ya.shaderID!==void 0)return;$o=!1}if($o){if(ya.shaderID){var Hc=Bm[ya.shaderID];yr.shader={name:nt.type,uniforms:gc.clone(Hc.uniforms),vertexShader:Hc.vertexShader,fragmentShader:Hc.fragmentShader}}else yr.shader={name:nt.type,uniforms:nt.uniforms,vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader};nt.onBeforeCompile(yr.shader,se),Mo=Pa.getProgramCode(nt,ya),za=Pa.acquireProgram(nt,yr.shader,ya,Mo),yr.program=za,nt.program=za}var Ks=za.getAttributes();if(nt.morphTargets){nt.numSupportedMorphTargets=0;for(var Zi=0;Zi<se.maxMorphTargets;Zi++)Ks["morphTarget"+Zi]>=0&&nt.numSupportedMorphTargets++}if(nt.morphNormals){nt.numSupportedMorphNormals=0;for(var Zi=0;Zi<se.maxMorphNormals;Zi++)Ks["morphNormal"+Zi]>=0&&nt.numSupportedMorphNormals++}var Ta=yr.shader.uniforms;(!nt.isShaderMaterial&&!nt.isRawShaderMaterial||nt.clipping===!0)&&(yr.numClippingPlanes=Or.numPlanes,yr.numIntersection=Or.numIntersection,Ta.clippingPlanes=Or.uniform),yr.fog=wt,Ci===void 0&&(yr.lightsHash=Ci={}),Ci.stateID=ai.stateID,Ci.directionalLength=ai.directionalLength,Ci.pointLength=ai.pointLength,Ci.spotLength=ai.spotLength,Ci.rectAreaLength=ai.rectAreaLength,Ci.hemiLength=ai.hemiLength,Ci.shadowsLength=ai.shadowsLength,nt.lights&&(Ta.ambientLightColor.value=Jr.state.ambient,Ta.directionalLights.value=Jr.state.directional,Ta.spotLights.value=Jr.state.spot,Ta.rectAreaLights.value=Jr.state.rectArea,Ta.pointLights.value=Jr.state.point,Ta.hemisphereLights.value=Jr.state.hemi,Ta.directionalShadowMap.value=Jr.state.directionalShadowMap,Ta.directionalShadowMatrix.value=Jr.state.directionalShadowMatrix,Ta.spotShadowMap.value=Jr.state.spotShadowMap,Ta.spotShadowMatrix.value=Jr.state.spotShadowMatrix,Ta.pointShadowMap.value=Jr.state.pointShadowMap,Ta.pointShadowMatrix.value=Jr.state.pointShadowMatrix);var Gc=yr.program.getUniforms(),yg=Ao.seqWithValue(Gc.seq,Ta);yr.uniformsList=yg}function sf(nt,wt,$t,yr){en=0;var Jr=Ns.get($t),fa=re.state.lights,Ci=Jr.lightsHash,ai=fa.state.hash;if(Mt&&(xt||nt!==et)){var ya=nt===et&&$t.id===Ke;Or.setState($t.clippingPlanes,$t.clipIntersection,$t.clipShadows,nt,Jr,ya)}$t.needsUpdate===!1&&(Jr.program===void 0||$t.fog&&Jr.fog!==wt||$t.lights&&(Ci.stateID!==ai.stateID||Ci.directionalLength!==ai.directionalLength||Ci.pointLength!==ai.pointLength||Ci.spotLength!==ai.spotLength||Ci.rectAreaLength!==ai.rectAreaLength||Ci.hemiLength!==ai.hemiLength||Ci.shadowsLength!==ai.shadowsLength)||Jr.numClippingPlanes!==void 0&&(Jr.numClippingPlanes!==Or.numPlanes||Jr.numIntersection!==Or.numIntersection))&&($t.needsUpdate=!0),$t.needsUpdate&&(Ch($t,wt,yr),$t.needsUpdate=!1);var Mo=!1,za=!1,$o=!1,Hc=Jr.program,Ks=Hc.getUniforms(),Zi=Jr.shader.uniforms;if(wr.useProgram(Hc.program)&&(Mo=!0,za=!0,$o=!0),$t.id!==Ke&&(Ke=$t.id,za=!0),Mo||et!==nt){if(Ks.setValue(jt,"projectionMatrix",nt.projectionMatrix),Zr.logarithmicDepthBuffer&&Ks.setValue(jt,"logDepthBufFC",2/(Math.log(nt.far+1)/Math.LN2)),et!==nt&&(et=nt,za=!0,$o=!0),$t.isShaderMaterial||$t.isMeshPhongMaterial||$t.isMeshStandardMaterial||$t.envMap){var Ta=Ks.map.cameraPosition;Ta!==void 0&&Ta.setValue(jt,En.setFromMatrixPosition(nt.matrixWorld))}($t.isMeshPhongMaterial||$t.isMeshLambertMaterial||$t.isMeshBasicMaterial||$t.isMeshStandardMaterial||$t.isShaderMaterial||$t.skinning)&&Ks.setValue(jt,"viewMatrix",nt.matrixWorldInverse)}if($t.skinning){Ks.setOptional(jt,yr,"bindMatrix"),Ks.setOptional(jt,yr,"bindMatrixInverse");var Gc=yr.skeleton;if(Gc){var yg=Gc.bones;if(Zr.floatVertexTextures){if(Gc.boneTexture===void 0){var rc=Math.sqrt(yg.length*4);rc=qi.ceilPowerOfTwo(rc),rc=Math.max(rc,4);var Um=new Float32Array(rc*rc*4);Um.set(Gc.boneMatrices);var aR=new Zd(Um,rc,rc,ki,jr);aR.needsUpdate=!0,Gc.boneMatrices=Um,Gc.boneTexture=aR,Gc.boneTextureSize=rc}Ks.setValue(jt,"boneTexture",Gc.boneTexture),Ks.setValue(jt,"boneTextureSize",Gc.boneTextureSize)}else Ks.setOptional(jt,Gc,"boneMatrices")}}return za&&(Ks.setValue(jt,"toneMappingExposure",se.toneMappingExposure),Ks.setValue(jt,"toneMappingWhitePoint",se.toneMappingWhitePoint),$t.lights&&k1e(Zi,$o),wt&&$t.fog&&iR(Zi,wt),$t.isMeshBasicMaterial?vg(Zi,$t):$t.isMeshLambertMaterial?(vg(Zi,$t),sR(Zi,$t)):$t.isMeshPhongMaterial?(vg(Zi,$t),$t.isMeshToonMaterial?P1e(Zi,$t):E_(Zi,$t)):$t.isMeshStandardMaterial?(vg(Zi,$t),$t.isMeshPhysicalMaterial?F1e(Zi,$t):Aj(Zi,$t)):$t.isMeshDepthMaterial?(vg(Zi,$t),O1e(Zi,$t)):$t.isMeshDistanceMaterial?(vg(Zi,$t),N1e(Zi,$t)):$t.isMeshNormalMaterial?(vg(Zi,$t),D1e(Zi,$t)):$t.isLineBasicMaterial?(nR(Zi,$t),$t.isLineDashedMaterial&&rR(Zi,$t)):$t.isPointsMaterial?nU(Zi,$t):$t.isSpriteMaterial?rU(Zi,$t):$t.isShadowMaterial&&(Zi.color.value=$t.color,Zi.opacity.value=$t.opacity),Zi.ltc_1!==void 0&&(Zi.ltc_1.value=Ei.LTC_1),Zi.ltc_2!==void 0&&(Zi.ltc_2.value=Ei.LTC_2),Ao.upload(jt,Jr.uniformsList,Zi,se)),$t.isShaderMaterial&&$t.uniformsNeedUpdate===!0&&(Ao.upload(jt,Jr.uniformsList,Zi,se),$t.uniformsNeedUpdate=!1),$t.isSpriteMaterial&&Ks.setValue(jt,"center",yr.center),Ks.setValue(jt,"modelViewMatrix",yr.modelViewMatrix),Ks.setValue(jt,"normalMatrix",yr.normalMatrix),Ks.setValue(jt,"modelMatrix",yr.matrixWorld),Hc}function vg(nt,wt){nt.opacity.value=wt.opacity,wt.color&&(nt.diffuse.value=wt.color),wt.emissive&&nt.emissive.value.copy(wt.emissive).multiplyScalar(wt.emissiveIntensity),wt.map&&(nt.map.value=wt.map),wt.alphaMap&&(nt.alphaMap.value=wt.alphaMap),wt.specularMap&&(nt.specularMap.value=wt.specularMap),wt.envMap&&(nt.envMap.value=wt.envMap,nt.flipEnvMap.value=wt.envMap&&wt.envMap.isCubeTexture?-1:1,nt.reflectivity.value=wt.reflectivity,nt.refractionRatio.value=wt.refractionRatio,nt.maxMipLevel.value=Ns.get(wt.envMap).__maxMipLevel),wt.lightMap&&(nt.lightMap.value=wt.lightMap,nt.lightMapIntensity.value=wt.lightMapIntensity),wt.aoMap&&(nt.aoMap.value=wt.aoMap,nt.aoMapIntensity.value=wt.aoMapIntensity);var $t;wt.map?$t=wt.map:wt.specularMap?$t=wt.specularMap:wt.displacementMap?$t=wt.displacementMap:wt.normalMap?$t=wt.normalMap:wt.bumpMap?$t=wt.bumpMap:wt.roughnessMap?$t=wt.roughnessMap:wt.metalnessMap?$t=wt.metalnessMap:wt.alphaMap?$t=wt.alphaMap:wt.emissiveMap&&($t=wt.emissiveMap),$t!==void 0&&($t.isWebGLRenderTarget&&($t=$t.texture),$t.matrixAutoUpdate===!0&&$t.updateMatrix(),nt.uvTransform.value.copy($t.matrix))}function nR(nt,wt){nt.diffuse.value=wt.color,nt.opacity.value=wt.opacity}function rR(nt,wt){nt.dashSize.value=wt.dashSize,nt.totalSize.value=wt.dashSize+wt.gapSize,nt.scale.value=wt.scale}function nU(nt,wt){nt.diffuse.value=wt.color,nt.opacity.value=wt.opacity,nt.size.value=wt.size*gn,nt.scale.value=fn*.5,nt.map.value=wt.map,wt.map!==null&&(wt.map.matrixAutoUpdate===!0&&wt.map.updateMatrix(),nt.uvTransform.value.copy(wt.map.matrix))}function rU(nt,wt){nt.diffuse.value=wt.color,nt.opacity.value=wt.opacity,nt.rotation.value=wt.rotation,nt.map.value=wt.map,wt.map!==null&&(wt.map.matrixAutoUpdate===!0&&wt.map.updateMatrix(),nt.uvTransform.value.copy(wt.map.matrix))}function iR(nt,wt){nt.fogColor.value=wt.color,wt.isFog?(nt.fogNear.value=wt.near,nt.fogFar.value=wt.far):wt.isFogExp2&&(nt.fogDensity.value=wt.density)}function sR(nt,wt){wt.emissiveMap&&(nt.emissiveMap.value=wt.emissiveMap)}function E_(nt,wt){nt.specular.value=wt.specular,nt.shininess.value=Math.max(wt.shininess,1e-4),wt.emissiveMap&&(nt.emissiveMap.value=wt.emissiveMap),wt.bumpMap&&(nt.bumpMap.value=wt.bumpMap,nt.bumpScale.value=wt.bumpScale,wt.side===m&&(nt.bumpScale.value*=-1)),wt.normalMap&&(nt.normalMap.value=wt.normalMap,nt.normalScale.value.copy(wt.normalScale),wt.side===m&&nt.normalScale.value.negate()),wt.displacementMap&&(nt.displacementMap.value=wt.displacementMap,nt.displacementScale.value=wt.displacementScale,nt.displacementBias.value=wt.displacementBias)}function P1e(nt,wt){E_(nt,wt),wt.gradientMap&&(nt.gradientMap.value=wt.gradientMap)}function Aj(nt,wt){nt.roughness.value=wt.roughness,nt.metalness.value=wt.metalness,wt.roughnessMap&&(nt.roughnessMap.value=wt.roughnessMap),wt.metalnessMap&&(nt.metalnessMap.value=wt.metalnessMap),wt.emissiveMap&&(nt.emissiveMap.value=wt.emissiveMap),wt.bumpMap&&(nt.bumpMap.value=wt.bumpMap,nt.bumpScale.value=wt.bumpScale,wt.side===m&&(nt.bumpScale.value*=-1)),wt.normalMap&&(nt.normalMap.value=wt.normalMap,nt.normalScale.value.copy(wt.normalScale),wt.side===m&&nt.normalScale.value.negate()),wt.displacementMap&&(nt.displacementMap.value=wt.displacementMap,nt.displacementScale.value=wt.displacementScale,nt.displacementBias.value=wt.displacementBias),wt.envMap&&(nt.envMapIntensity.value=wt.envMapIntensity)}function F1e(nt,wt){Aj(nt,wt),nt.reflectivity.value=wt.reflectivity,nt.clearCoat.value=wt.clearCoat,nt.clearCoatRoughness.value=wt.clearCoatRoughness}function O1e(nt,wt){wt.displacementMap&&(nt.displacementMap.value=wt.displacementMap,nt.displacementScale.value=wt.displacementScale,nt.displacementBias.value=wt.displacementBias)}function N1e(nt,wt){wt.displacementMap&&(nt.displacementMap.value=wt.displacementMap,nt.displacementScale.value=wt.displacementScale,nt.displacementBias.value=wt.displacementBias),nt.referencePosition.value.copy(wt.referencePosition),nt.nearDistance.value=wt.nearDistance,nt.farDistance.value=wt.farDistance}function D1e(nt,wt){wt.bumpMap&&(nt.bumpMap.value=wt.bumpMap,nt.bumpScale.value=wt.bumpScale,wt.side===m&&(nt.bumpScale.value*=-1)),wt.normalMap&&(nt.normalMap.value=wt.normalMap,nt.normalScale.value.copy(wt.normalScale),wt.side===m&&nt.normalScale.value.negate()),wt.displacementMap&&(nt.displacementMap.value=wt.displacementMap,nt.displacementScale.value=wt.displacementScale,nt.displacementBias.value=wt.displacementBias)}function k1e(nt,wt){nt.ambientLightColor.needsUpdate=wt,nt.directionalLights.needsUpdate=wt,nt.pointLights.needsUpdate=wt,nt.spotLights.needsUpdate=wt,nt.rectAreaLights.needsUpdate=wt,nt.hemisphereLights.needsUpdate=wt}function U1e(){var nt=en;return nt>=Zr.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+nt+" texture units while this GPU supports only "+Zr.maxTextures),en+=1,nt}this.allocTextureUnit=U1e,this.setTexture2D=function(){var nt=!1;return function($t,yr){$t&&$t.isWebGLRenderTarget&&(nt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),nt=!0),$t=$t.texture),zs.setTexture2D($t,yr)}}(),this.setTexture=function(){var nt=!1;return function($t,yr){nt||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),nt=!0),zs.setTexture2D($t,yr)}}(),this.setTextureCube=function(){var nt=!1;return function($t,yr){$t&&$t.isWebGLRenderTargetCube&&(nt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),nt=!0),$t=$t.texture),$t&&$t.isCubeTexture||Array.isArray($t.image)&&$t.image.length===6?zs.setTextureCube($t,yr):zs.setTextureCubeDynamic($t,yr)}}(),this.setFramebuffer=function(nt){_e=nt},this.getRenderTarget=function(){return Ue},this.setRenderTarget=function(nt){Ue=nt,nt&&Ns.get(nt).__webglFramebuffer===void 0&&zs.setupRenderTarget(nt);var wt=_e,$t=!1;if(nt){var yr=Ns.get(nt).__webglFramebuffer;nt.isWebGLRenderTargetCube?(wt=yr[nt.activeCubeFace],$t=!0):wt=yr,It.copy(nt.viewport),Nt.copy(nt.scissor),Ot=nt.scissorTest}else It.copy(qn).multiplyScalar(gn),Nt.copy(xr).multiplyScalar(gn),Ot=sr;if(We!==wt&&(jt.bindFramebuffer(jt.FRAMEBUFFER,wt),We=wt),wr.viewport(It),wr.scissor(Nt),wr.setScissorTest(Ot),$t){var Jr=Ns.get(nt.texture);jt.framebufferTexture2D(jt.FRAMEBUFFER,jt.COLOR_ATTACHMENT0,jt.TEXTURE_CUBE_MAP_POSITIVE_X+nt.activeCubeFace,Jr.__webglTexture,nt.activeMipMapLevel)}},this.readRenderTargetPixels=function(nt,wt,$t,yr,Jr,fa){if(!(nt&&nt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var Ci=Ns.get(nt).__webglFramebuffer;if(Ci){var ai=!1;Ci!==We&&(jt.bindFramebuffer(jt.FRAMEBUFFER,Ci),ai=!0);try{var ya=nt.texture,Mo=ya.format,za=ya.type;if(Mo!==ki&&tc.convert(Mo)!==jt.getParameter(jt.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(za!==Kt&&tc.convert(za)!==jt.getParameter(jt.IMPLEMENTATION_COLOR_READ_TYPE)&&!(za===jr&&(Zr.isWebGL2||er.get("OES_texture_float")||er.get("WEBGL_color_buffer_float")))&&!(za===Mi&&(Zr.isWebGL2?er.get("EXT_color_buffer_float"):er.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}jt.checkFramebufferStatus(jt.FRAMEBUFFER)===jt.FRAMEBUFFER_COMPLETE?wt>=0&&wt<=nt.width-yr&&$t>=0&&$t<=nt.height-Jr&&jt.readPixels(wt,$t,yr,Jr,tc.convert(Mo),tc.convert(za),fa):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{ai&&jt.bindFramebuffer(jt.FRAMEBUFFER,We)}}},this.copyFramebufferToTexture=function(nt,wt,$t){var yr=wt.image.width,Jr=wt.image.height,fa=tc.convert(wt.format);this.setTexture2D(wt,0),jt.copyTexImage2D(jt.TEXTURE_2D,$t||0,fa,nt.x,nt.y,yr,Jr,0)},this.copyTextureToTexture=function(nt,wt,$t,yr){var Jr=wt.image.width,fa=wt.image.height,Ci=tc.convert($t.format),ai=tc.convert($t.type);this.setTexture2D($t,0),wt.isDataTexture?jt.texSubImage2D(jt.TEXTURE_2D,yr||0,nt.x,nt.y,Jr,fa,Ci,ai,wt.image.data):jt.texSubImage2D(jt.TEXTURE_2D,yr||0,nt.x,nt.y,Ci,ai,wt.image)}}function ug(c,p){this.name="",this.color=new fi(c),this.density=p!==void 0?p:25e-5}ug.prototype.isFogExp2=!0,ug.prototype.clone=function(){return new ug(this.color,this.density)},ug.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function xh(c,p,v){this.name="",this.color=new fi(c),this.near=p!==void 0?p:1,this.far=v!==void 0?v:1e3}xh.prototype.isFog=!0,xh.prototype.clone=function(){return new xh(this.color,this.near,this.far)},xh.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function t_(){Vr.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}t_.prototype=Object.assign(Object.create(Vr.prototype),{constructor:t_,copy:function(c,p){return Vr.prototype.copy.call(this,c,p),c.background!==null&&(this.background=c.background.clone()),c.fog!==null&&(this.fog=c.fog.clone()),c.overrideMaterial!==null&&(this.overrideMaterial=c.overrideMaterial.clone()),this.autoUpdate=c.autoUpdate,this.matrixAutoUpdate=c.matrixAutoUpdate,this},toJSON:function(c){var p=Vr.prototype.toJSON.call(this,c);return this.background!==null&&(p.object.background=this.background.toJSON(c)),this.fog!==null&&(p.object.fog=this.fog.toJSON()),p}});function hg(c,p){this.array=c,this.stride=p,this.count=c!==void 0?c.length/p:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(hg.prototype,"needsUpdate",{set:function(c){c===!0&&this.version++}}),Object.assign(hg.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(c){if(Array.isArray(c))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=c!==void 0?c.length/this.stride:0,this.array=c,this},setDynamic:function(c){return this.dynamic=c,this},copy:function(c){return this.array=new c.array.constructor(c.array),this.count=c.count,this.stride=c.stride,this.dynamic=c.dynamic,this},copyAt:function(c,p,v){c*=this.stride,v*=p.stride;for(var w=0,T=this.stride;w<T;w++)this.array[c+w]=p.array[v+w];return this},set:function(c,p){return p===void 0&&(p=0),this.array.set(c,p),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(c){return this.onUploadCallback=c,this}});function n_(c,p,v,w){this.data=c,this.itemSize=p,this.offset=v,this.normalized=w===!0}Object.defineProperties(n_.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(n_.prototype,{isInterleavedBufferAttribute:!0,setX:function(c,p){return this.data.array[c*this.data.stride+this.offset]=p,this},setY:function(c,p){return this.data.array[c*this.data.stride+this.offset+1]=p,this},setZ:function(c,p){return this.data.array[c*this.data.stride+this.offset+2]=p,this},setW:function(c,p){return this.data.array[c*this.data.stride+this.offset+3]=p,this},getX:function(c){return this.data.array[c*this.data.stride+this.offset]},getY:function(c){return this.data.array[c*this.data.stride+this.offset+1]},getZ:function(c){return this.data.array[c*this.data.stride+this.offset+2]},getW:function(c){return this.data.array[c*this.data.stride+this.offset+3]},setXY:function(c,p,v){return c=c*this.data.stride+this.offset,this.data.array[c+0]=p,this.data.array[c+1]=v,this},setXYZ:function(c,p,v,w){return c=c*this.data.stride+this.offset,this.data.array[c+0]=p,this.data.array[c+1]=v,this.data.array[c+2]=w,this},setXYZW:function(c,p,v,w,T){return c=c*this.data.stride+this.offset,this.data.array[c+0]=p,this.data.array[c+1]=v,this.data.array[c+2]=w,this.data.array[c+3]=T,this}});function FA(c){ls.call(this),this.type="SpriteMaterial",this.color=new fi(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(c)}FA.prototype=Object.create(ls.prototype),FA.prototype.constructor=FA,FA.prototype.isSpriteMaterial=!0,FA.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.map=c.map,this.rotation=c.rotation,this.sizeAttenuation=c.sizeAttenuation,this};var tf;function r_(c){if(Vr.call(this),this.type="Sprite",tf===void 0){tf=new ii;var p=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),v=new hg(p,5);tf.setIndex([0,1,2,0,2,3]),tf.addAttribute("position",new n_(v,3,0,!1)),tf.addAttribute("uv",new n_(v,2,3,!1))}this.geometry=tf,this.material=c!==void 0?c:new FA,this.center=new ir(.5,.5)}r_.prototype=Object.assign(Object.create(Vr.prototype),{constructor:r_,isSprite:!0,raycast:function(){var c=new dt,p=new dt,v=new dt,w=new ir,T=new ir,R=new ur,P=new dt,H=new dt,G=new dt,Z=new ir,ee=new ir,re=new ir;function se(Ae,_e,Ue,We,Ke,rt){w.subVectors(Ae,Ue).addScalar(.5).multiply(We),Ke!==void 0?(T.x=rt*w.x-Ke*w.y,T.y=Ke*w.x+rt*w.y):T.copy(w),Ae.copy(_e),Ae.x+=T.x,Ae.y+=T.y,Ae.applyMatrix4(R)}return function(_e,Ue){p.setFromMatrixScale(this.matrixWorld),R.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),v.setFromMatrixPosition(this.modelViewMatrix);var We=this.material.rotation,Ke,rt;We!==0&&(rt=Math.cos(We),Ke=Math.sin(We));var et=this.center;se(P.set(-.5,-.5,0),v,et,p,Ke,rt),se(H.set(.5,-.5,0),v,et,p,Ke,rt),se(G.set(.5,.5,0),v,et,p,Ke,rt),Z.set(0,0),ee.set(1,0),re.set(1,1);var qe=_e.ray.intersectTriangle(P,H,G,!1,c);if(!(qe===null&&(se(H.set(-.5,.5,0),v,et,p,Ke,rt),ee.set(0,1),qe=_e.ray.intersectTriangle(P,G,H,!1,c),qe===null))){var It=_e.ray.origin.distanceTo(c);It<_e.near||It>_e.far||Ue.push({distance:It,point:c.clone(),uv:Nc.getUV(c,P,H,G,Z,ee,re,new ir),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(c){return Vr.prototype.copy.call(this,c),c.center!==void 0&&this.center.copy(c.center),this}});function c0(){Vr.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}c0.prototype=Object.assign(Object.create(Vr.prototype),{constructor:c0,copy:function(c){Vr.prototype.copy.call(this,c,!1);for(var p=c.levels,v=0,w=p.length;v<w;v++){var T=p[v];this.addLevel(T.object.clone(),T.distance)}return this},addLevel:function(c,p){p===void 0&&(p=0),p=Math.abs(p);for(var v=this.levels,w=0;w<v.length&&!(p<v[w].distance);w++);v.splice(w,0,{distance:p,object:c}),this.add(c)},getObjectForDistance:function(c){for(var p=this.levels,v=1,w=p.length;v<w&&!(c<p[v].distance);v++);return p[v-1].object},raycast:function(){var c=new dt;return function(v,w){c.setFromMatrixPosition(this.matrixWorld);var T=v.ray.origin.distanceTo(c);this.getObjectForDistance(T).raycast(v,w)}}(),update:function(){var c=new dt,p=new dt;return function(w){var T=this.levels;if(T.length>1){c.setFromMatrixPosition(w.matrixWorld),p.setFromMatrixPosition(this.matrixWorld);var R=c.distanceTo(p);T[0].object.visible=!0;for(var P=1,H=T.length;P<H&&R>=T[P].distance;P++)T[P-1].object.visible=!1,T[P].object.visible=!0;for(;P<H;P++)T[P].object.visible=!1}}}(),toJSON:function(c){var p=Vr.prototype.toJSON.call(this,c);p.object.levels=[];for(var v=this.levels,w=0,T=v.length;w<T;w++){var R=v[w];p.object.levels.push({object:R.object.uuid,distance:R.distance})}return p}});function i_(c,p){if(c=c||[],this.bones=c.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),p===void 0)this.calculateInverses();else if(this.bones.length===p.length)this.boneInverses=p.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var v=0,w=this.bones.length;v<w;v++)this.boneInverses.push(new ur)}}Object.assign(i_.prototype,{calculateInverses:function(){this.boneInverses=[];for(var c=0,p=this.bones.length;c<p;c++){var v=new ur;this.bones[c]&&v.getInverse(this.bones[c].matrixWorld),this.boneInverses.push(v)}},pose:function(){var c,p,v;for(p=0,v=this.bones.length;p<v;p++)c=this.bones[p],c&&c.matrixWorld.getInverse(this.boneInverses[p]);for(p=0,v=this.bones.length;p<v;p++)c=this.bones[p],c&&(c.parent&&c.parent.isBone?(c.matrix.getInverse(c.parent.matrixWorld),c.matrix.multiply(c.matrixWorld)):c.matrix.copy(c.matrixWorld),c.matrix.decompose(c.position,c.quaternion,c.scale))},update:function(){var c=new ur,p=new ur;return function(){for(var w=this.bones,T=this.boneInverses,R=this.boneMatrices,P=this.boneTexture,H=0,G=w.length;H<G;H++){var Z=w[H]?w[H].matrixWorld:p;c.multiplyMatrices(Z,T[H]),c.toArray(R,H*16)}P!==void 0&&(P.needsUpdate=!0)}}(),clone:function(){return new i_(this.bones,this.boneInverses)},getBoneByName:function(c){for(var p=0,v=this.bones.length;p<v;p++){var w=this.bones[p];if(w.name===c)return w}}});function s_(){Vr.call(this),this.type="Bone"}s_.prototype=Object.assign(Object.create(Vr.prototype),{constructor:s_,isBone:!0});function tb(c,p){uu.call(this,c,p),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ur,this.bindMatrixInverse=new ur;var v=this.initBones(),w=new i_(v);this.bind(w,this.matrixWorld),this.normalizeSkinWeights()}tb.prototype=Object.assign(Object.create(uu.prototype),{constructor:tb,isSkinnedMesh:!0,initBones:function(){var c=[],p,v,w,T;if(this.geometry&&this.geometry.bones!==void 0){for(w=0,T=this.geometry.bones.length;w<T;w++)v=this.geometry.bones[w],p=new s_,c.push(p),p.name=v.name,p.position.fromArray(v.pos),p.quaternion.fromArray(v.rotq),v.scl!==void 0&&p.scale.fromArray(v.scl);for(w=0,T=this.geometry.bones.length;w<T;w++)v=this.geometry.bones[w],v.parent!==-1&&v.parent!==null&&c[v.parent]!==void 0?c[v.parent].add(c[w]):this.add(c[w])}return this.updateMatrixWorld(!0),c},bind:function(c,p){this.skeleton=c,p===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),p=this.matrixWorld),this.bindMatrix.copy(p),this.bindMatrixInverse.getInverse(p)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var c,p;if(this.geometry&&this.geometry.isGeometry)for(p=0;p<this.geometry.skinWeights.length;p++){var v=this.geometry.skinWeights[p];c=1/v.manhattanLength(),c!==1/0?v.multiplyScalar(c):v.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var w=new Gs,T=this.geometry.attributes.skinWeight;for(p=0;p<T.count;p++)w.x=T.getX(p),w.y=T.getY(p),w.z=T.getZ(p),w.w=T.getW(p),c=1/w.manhattanLength(),c!==1/0?w.multiplyScalar(c):w.set(1,0,0,0),T.setXYZW(p,w.x,w.y,w.z,w.w)}},updateMatrixWorld:function(c){uu.prototype.updateMatrixWorld.call(this,c),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function xa(c){ls.call(this),this.type="LineBasicMaterial",this.color=new fi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(c)}xa.prototype=Object.create(ls.prototype),xa.prototype.constructor=xa,xa.prototype.isLineBasicMaterial=!0,xa.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.linewidth=c.linewidth,this.linecap=c.linecap,this.linejoin=c.linejoin,this};function Dc(c,p,v){v===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Vr.call(this),this.type="Line",this.geometry=c!==void 0?c:new ii,this.material=p!==void 0?p:new xa({color:Math.random()*16777215})}Dc.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Dc,isLine:!0,computeLineDistances:function(){var c=new dt,p=new dt;return function(){var w=this.geometry;if(w.isBufferGeometry)if(w.index===null){for(var T=w.attributes.position,R=[0],P=1,H=T.count;P<H;P++)c.fromBufferAttribute(T,P-1),p.fromBufferAttribute(T,P),R[P]=R[P-1],R[P]+=c.distanceTo(p);w.addAttribute("lineDistance",new kr(R,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(w.isGeometry){var G=w.vertices,R=w.lineDistances;R[0]=0;for(var P=1,H=G.length;P<H;P++)R[P]=R[P-1],R[P]+=G[P-1].distanceTo(G[P])}return this}}(),raycast:function(){var c=new ur,p=new BA,v=new Zo;return function(T,R){var P=T.linePrecision,H=this.geometry,G=this.matrixWorld;if(H.boundingSphere===null&&H.computeBoundingSphere(),v.copy(H.boundingSphere),v.applyMatrix4(G),v.radius+=P,T.ray.intersectsSphere(v)!==!1){c.getInverse(G),p.copy(T.ray).applyMatrix4(c);var Z=P/((this.scale.x+this.scale.y+this.scale.z)/3),ee=Z*Z,re=new dt,se=new dt,Ae=new dt,_e=new dt,Ue=this&&this.isLineSegments?2:1;if(H.isBufferGeometry){var We=H.index,Ke=H.attributes,rt=Ke.position.array;if(We!==null)for(var et=We.array,qe=0,It=et.length-1;qe<It;qe+=Ue){var Nt=et[qe],Ot=et[qe+1];re.fromArray(rt,Nt*3),se.fromArray(rt,Ot*3);var en=p.distanceSqToSegment(re,se,_e,Ae);if(!(en>ee)){_e.applyMatrix4(this.matrixWorld);var Ut=T.ray.origin.distanceTo(_e);Ut<T.near||Ut>T.far||R.push({distance:Ut,point:Ae.clone().applyMatrix4(this.matrixWorld),index:qe,face:null,faceIndex:null,object:this})}}else for(var qe=0,It=rt.length/3-1;qe<It;qe+=Ue){re.fromArray(rt,3*qe),se.fromArray(rt,3*qe+3);var en=p.distanceSqToSegment(re,se,_e,Ae);if(!(en>ee)){_e.applyMatrix4(this.matrixWorld);var Ut=T.ray.origin.distanceTo(_e);Ut<T.near||Ut>T.far||R.push({distance:Ut,point:Ae.clone().applyMatrix4(this.matrixWorld),index:qe,face:null,faceIndex:null,object:this})}}}else if(H.isGeometry)for(var fn=H.vertices,gn=fn.length,qe=0;qe<gn-1;qe+=Ue){var en=p.distanceSqToSegment(fn[qe],fn[qe+1],_e,Ae);if(!(en>ee)){_e.applyMatrix4(this.matrixWorld);var Ut=T.ray.origin.distanceTo(_e);Ut<T.near||Ut>T.far||R.push({distance:Ut,point:Ae.clone().applyMatrix4(this.matrixWorld),index:qe,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Va(c,p){Dc.call(this,c,p),this.type="LineSegments"}Va.prototype=Object.assign(Object.create(Dc.prototype),{constructor:Va,isLineSegments:!0,computeLineDistances:function(){var c=new dt,p=new dt;return function(){var w=this.geometry;if(w.isBufferGeometry)if(w.index===null){for(var T=w.attributes.position,R=[],P=0,H=T.count;P<H;P+=2)c.fromBufferAttribute(T,P),p.fromBufferAttribute(T,P+1),R[P]=P===0?0:R[P-1],R[P+1]=R[P]+c.distanceTo(p);w.addAttribute("lineDistance",new kr(R,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(w.isGeometry)for(var G=w.vertices,R=w.lineDistances,P=0,H=G.length;P<H;P+=2)c.copy(G[P]),p.copy(G[P+1]),R[P]=P===0?0:R[P-1],R[P+1]=R[P]+c.distanceTo(p);return this}}()});function hd(c,p){Dc.call(this,c,p),this.type="LineLoop"}hd.prototype=Object.assign(Object.create(Dc.prototype),{constructor:hd,isLineLoop:!0});function ec(c){ls.call(this),this.type="PointsMaterial",this.color=new fi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(c)}ec.prototype=Object.create(ls.prototype),ec.prototype.constructor=ec,ec.prototype.isPointsMaterial=!0,ec.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.map=c.map,this.size=c.size,this.sizeAttenuation=c.sizeAttenuation,this.morphTargets=c.morphTargets,this};function Eh(c,p){Vr.call(this),this.type="Points",this.geometry=c!==void 0?c:new ii,this.material=p!==void 0?p:new ec({color:Math.random()*16777215})}Eh.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Eh,isPoints:!0,raycast:function(){var c=new ur,p=new BA,v=new Zo;return function(T,R){var P=this,H=this.geometry,G=this.matrixWorld,Z=T.params.Points.threshold;if(H.boundingSphere===null&&H.computeBoundingSphere(),v.copy(H.boundingSphere),v.applyMatrix4(G),v.radius+=Z,T.ray.intersectsSphere(v)===!1)return;c.getInverse(G),p.copy(T.ray).applyMatrix4(c);var ee=Z/((this.scale.x+this.scale.y+this.scale.z)/3),re=ee*ee,se=new dt,Ae=new dt;function _e(en,Ut){var fn=p.distanceSqToPoint(en);if(fn<re){p.closestPointToPoint(en,Ae),Ae.applyMatrix4(G);var gn=T.ray.origin.distanceTo(Ae);if(gn<T.near||gn>T.far)return;R.push({distance:gn,distanceToRay:Math.sqrt(fn),point:Ae.clone(),index:Ut,face:null,object:P})}}if(H.isBufferGeometry){var Ue=H.index,We=H.attributes,Ke=We.position.array;if(Ue!==null)for(var rt=Ue.array,et=0,qe=rt.length;et<qe;et++){var It=rt[et];se.fromArray(Ke,It*3),_e(se,It)}else for(var et=0,Nt=Ke.length/3;et<Nt;et++)se.fromArray(Ke,et*3),_e(se,et)}else for(var Ot=H.vertices,et=0,Nt=Ot.length;et<Nt;et++)_e(Ot[et],et)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function u0(c,p,v,w,T,R,P,H,G){wa.call(this,c,p,v,w,T,R,P,H,G),this.generateMipmaps=!1}u0.prototype=Object.assign(Object.create(wa.prototype),{constructor:u0,isVideoTexture:!0,update:function(){var c=this.image;c.readyState>=c.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function dg(c,p,v,w,T,R,P,H,G,Z,ee,re){wa.call(this,null,R,P,H,G,Z,w,T,ee,re),this.image={width:p,height:v},this.mipmaps=c,this.flipY=!1,this.generateMipmaps=!1}dg.prototype=Object.create(wa.prototype),dg.prototype.constructor=dg,dg.prototype.isCompressedTexture=!0;function h0(c,p,v,w,T,R,P,H,G){wa.call(this,c,p,v,w,T,R,P,H,G),this.needsUpdate=!0}h0.prototype=Object.create(wa.prototype),h0.prototype.constructor=h0,h0.prototype.isCanvasTexture=!0;function a_(c,p,v,w,T,R,P,H,G,Z){if(Z=Z!==void 0?Z:it,Z!==it&&Z!==Ft)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");v===void 0&&Z===it&&(v=On),v===void 0&&Z===Ft&&(v=fs),wa.call(this,null,w,T,R,P,H,Z,v,G),this.image={width:c,height:p},this.magFilter=P!==void 0?P:ke,this.minFilter=H!==void 0?H:ke,this.flipY=!1,this.generateMipmaps=!1}a_.prototype=Object.create(wa.prototype),a_.prototype.constructor=a_,a_.prototype.isDepthTexture=!0;function fg(c){ii.call(this),this.type="WireframeGeometry";var p=[],v,w,T,R,P,H=[0,0],G={},Z,ee,re,se,Ae=["a","b","c"],_e;if(c&&c.isGeometry){var Ue=c.faces;for(v=0,T=Ue.length;v<T;v++){var We=Ue[v];for(w=0;w<3;w++)ee=We[Ae[w]],re=We[Ae[(w+1)%3]],H[0]=Math.min(ee,re),H[1]=Math.max(ee,re),se=H[0]+","+H[1],G[se]===void 0&&(G[se]={index1:H[0],index2:H[1]})}for(se in G)Z=G[se],_e=c.vertices[Z.index1],p.push(_e.x,_e.y,_e.z),_e=c.vertices[Z.index2],p.push(_e.x,_e.y,_e.z)}else if(c&&c.isBufferGeometry){var Ke,rt,et,qe,It,Nt,Ot,en;if(_e=new dt,c.index!==null){for(Ke=c.attributes.position,rt=c.index,et=c.groups,et.length===0&&(et=[{start:0,count:rt.count,materialIndex:0}]),R=0,P=et.length;R<P;++R)for(qe=et[R],It=qe.start,Nt=qe.count,v=It,T=It+Nt;v<T;v+=3)for(w=0;w<3;w++)ee=rt.getX(v+w),re=rt.getX(v+(w+1)%3),H[0]=Math.min(ee,re),H[1]=Math.max(ee,re),se=H[0]+","+H[1],G[se]===void 0&&(G[se]={index1:H[0],index2:H[1]});for(se in G)Z=G[se],_e.fromBufferAttribute(Ke,Z.index1),p.push(_e.x,_e.y,_e.z),_e.fromBufferAttribute(Ke,Z.index2),p.push(_e.x,_e.y,_e.z)}else for(Ke=c.attributes.position,v=0,T=Ke.count/3;v<T;v++)for(w=0;w<3;w++)Ot=3*v+w,_e.fromBufferAttribute(Ke,Ot),p.push(_e.x,_e.y,_e.z),en=3*v+(w+1)%3,_e.fromBufferAttribute(Ke,en),p.push(_e.x,_e.y,_e.z)}this.addAttribute("position",new kr(p,3))}fg.prototype=Object.create(ii.prototype),fg.prototype.constructor=fg;function Fm(c,p,v){$i.call(this),this.type="ParametricGeometry",this.parameters={func:c,slices:p,stacks:v},this.fromBufferGeometry(new nb(c,p,v)),this.mergeVertices()}Fm.prototype=Object.create($i.prototype),Fm.prototype.constructor=Fm;function nb(c,p,v){ii.call(this),this.type="ParametricBufferGeometry",this.parameters={func:c,slices:p,stacks:v};var w=[],T=[],R=[],P=[],H=1e-5,G=new dt,Z=new dt,ee=new dt,re=new dt,se=new dt,Ae,_e;c.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var Ue=p+1;for(Ae=0;Ae<=v;Ae++){var We=Ae/v;for(_e=0;_e<=p;_e++){var Ke=_e/p;c(Ke,We,Z),T.push(Z.x,Z.y,Z.z),Ke-H>=0?(c(Ke-H,We,ee),re.subVectors(Z,ee)):(c(Ke+H,We,ee),re.subVectors(ee,Z)),We-H>=0?(c(Ke,We-H,ee),se.subVectors(Z,ee)):(c(Ke,We+H,ee),se.subVectors(ee,Z)),G.crossVectors(re,se).normalize(),R.push(G.x,G.y,G.z),P.push(Ke,We)}}for(Ae=0;Ae<v;Ae++)for(_e=0;_e<p;_e++){var rt=Ae*Ue+_e,et=Ae*Ue+_e+1,qe=(Ae+1)*Ue+_e+1,It=(Ae+1)*Ue+_e;w.push(rt,et,It),w.push(et,qe,It)}this.setIndex(w),this.addAttribute("position",new kr(T,3)),this.addAttribute("normal",new kr(R,3)),this.addAttribute("uv",new kr(P,2))}nb.prototype=Object.create(ii.prototype),nb.prototype.constructor=nb;function EC(c,p,v,w){$i.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:c,indices:p,radius:v,detail:w},this.fromBufferGeometry(new dd(c,p,v,w)),this.mergeVertices()}EC.prototype=Object.create($i.prototype),EC.prototype.constructor=EC;function dd(c,p,v,w){ii.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:c,indices:p,radius:v,detail:w},v=v||1,w=w||0;var T=[],R=[];P(w),G(v),Z(),this.addAttribute("position",new kr(T,3)),this.addAttribute("normal",new kr(T.slice(),3)),this.addAttribute("uv",new kr(R,2)),w===0?this.computeVertexNormals():this.normalizeNormals();function P(Ke){for(var rt=new dt,et=new dt,qe=new dt,It=0;It<p.length;It+=3)se(p[It+0],rt),se(p[It+1],et),se(p[It+2],qe),H(rt,et,qe,Ke)}function H(Ke,rt,et,qe){var It=Math.pow(2,qe),Nt=[],Ot,en;for(Ot=0;Ot<=It;Ot++){Nt[Ot]=[];var Ut=Ke.clone().lerp(et,Ot/It),fn=rt.clone().lerp(et,Ot/It),gn=It-Ot;for(en=0;en<=gn;en++)en===0&&Ot===It?Nt[Ot][en]=Ut:Nt[Ot][en]=Ut.clone().lerp(fn,en/gn)}for(Ot=0;Ot<It;Ot++)for(en=0;en<2*(It-Ot)-1;en++){var qn=Math.floor(en/2);en%2===0?(re(Nt[Ot][qn+1]),re(Nt[Ot+1][qn]),re(Nt[Ot][qn])):(re(Nt[Ot][qn+1]),re(Nt[Ot+1][qn+1]),re(Nt[Ot+1][qn]))}}function G(Ke){for(var rt=new dt,et=0;et<T.length;et+=3)rt.x=T[et+0],rt.y=T[et+1],rt.z=T[et+2],rt.normalize().multiplyScalar(Ke),T[et+0]=rt.x,T[et+1]=rt.y,T[et+2]=rt.z}function Z(){for(var Ke=new dt,rt=0;rt<T.length;rt+=3){Ke.x=T[rt+0],Ke.y=T[rt+1],Ke.z=T[rt+2];var et=Ue(Ke)/2/Math.PI+.5,qe=We(Ke)/Math.PI+.5;R.push(et,1-qe)}Ae(),ee()}function ee(){for(var Ke=0;Ke<R.length;Ke+=6){var rt=R[Ke+0],et=R[Ke+2],qe=R[Ke+4],It=Math.max(rt,et,qe),Nt=Math.min(rt,et,qe);It>.9&&Nt<.1&&(rt<.2&&(R[Ke+0]+=1),et<.2&&(R[Ke+2]+=1),qe<.2&&(R[Ke+4]+=1))}}function re(Ke){T.push(Ke.x,Ke.y,Ke.z)}function se(Ke,rt){var et=Ke*3;rt.x=c[et+0],rt.y=c[et+1],rt.z=c[et+2]}function Ae(){for(var Ke=new dt,rt=new dt,et=new dt,qe=new dt,It=new ir,Nt=new ir,Ot=new ir,en=0,Ut=0;en<T.length;en+=9,Ut+=6){Ke.set(T[en+0],T[en+1],T[en+2]),rt.set(T[en+3],T[en+4],T[en+5]),et.set(T[en+6],T[en+7],T[en+8]),It.set(R[Ut+0],R[Ut+1]),Nt.set(R[Ut+2],R[Ut+3]),Ot.set(R[Ut+4],R[Ut+5]),qe.copy(Ke).add(rt).add(et).divideScalar(3);var fn=Ue(qe);_e(It,Ut+0,Ke,fn),_e(Nt,Ut+2,rt,fn),_e(Ot,Ut+4,et,fn)}}function _e(Ke,rt,et,qe){qe<0&&Ke.x===1&&(R[rt]=Ke.x-1),et.x===0&&et.z===0&&(R[rt]=qe/2/Math.PI+.5)}function Ue(Ke){return Math.atan2(Ke.z,-Ke.x)}function We(Ke){return Math.atan2(-Ke.y,Math.sqrt(Ke.x*Ke.x+Ke.z*Ke.z))}}dd.prototype=Object.create(ii.prototype),dd.prototype.constructor=dd;function SC(c,p){$i.call(this),this.type="TetrahedronGeometry",this.parameters={radius:c,detail:p},this.fromBufferGeometry(new rb(c,p)),this.mergeVertices()}SC.prototype=Object.create($i.prototype),SC.prototype.constructor=SC;function rb(c,p){var v=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],w=[2,1,0,0,3,2,1,3,0,2,3,1];dd.call(this,v,w,c,p),this.type="TetrahedronBufferGeometry",this.parameters={radius:c,detail:p}}rb.prototype=Object.create(dd.prototype),rb.prototype.constructor=rb;function CC(c,p){$i.call(this),this.type="OctahedronGeometry",this.parameters={radius:c,detail:p},this.fromBufferGeometry(new o_(c,p)),this.mergeVertices()}CC.prototype=Object.create($i.prototype),CC.prototype.constructor=CC;function o_(c,p){var v=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],w=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];dd.call(this,v,w,c,p),this.type="OctahedronBufferGeometry",this.parameters={radius:c,detail:p}}o_.prototype=Object.create(dd.prototype),o_.prototype.constructor=o_;function TC(c,p){$i.call(this),this.type="IcosahedronGeometry",this.parameters={radius:c,detail:p},this.fromBufferGeometry(new ib(c,p)),this.mergeVertices()}TC.prototype=Object.create($i.prototype),TC.prototype.constructor=TC;function ib(c,p){var v=(1+Math.sqrt(5))/2,w=[-1,v,0,1,v,0,-1,-v,0,1,-v,0,0,-1,v,0,1,v,0,-1,-v,0,1,-v,v,0,-1,v,0,1,-v,0,-1,-v,0,1],T=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];dd.call(this,w,T,c,p),this.type="IcosahedronBufferGeometry",this.parameters={radius:c,detail:p}}ib.prototype=Object.create(dd.prototype),ib.prototype.constructor=ib;function MC(c,p){$i.call(this),this.type="DodecahedronGeometry",this.parameters={radius:c,detail:p},this.fromBufferGeometry(new sb(c,p)),this.mergeVertices()}MC.prototype=Object.create($i.prototype),MC.prototype.constructor=MC;function sb(c,p){var v=(1+Math.sqrt(5))/2,w=1/v,T=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-w,-v,0,-w,v,0,w,-v,0,w,v,-w,-v,0,-w,v,0,w,-v,0,w,v,0,-v,0,-w,v,0,-w,-v,0,w,v,0,w],R=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];dd.call(this,T,R,c,p),this.type="DodecahedronBufferGeometry",this.parameters={radius:c,detail:p}}sb.prototype=Object.create(dd.prototype),sb.prototype.constructor=sb;function LC(c,p,v,w,T,R){$i.call(this),this.type="TubeGeometry",this.parameters={path:c,tubularSegments:p,radius:v,radialSegments:w,closed:T},R!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var P=new ab(c,p,v,w,T);this.tangents=P.tangents,this.normals=P.normals,this.binormals=P.binormals,this.fromBufferGeometry(P),this.mergeVertices()}LC.prototype=Object.create($i.prototype),LC.prototype.constructor=LC;function ab(c,p,v,w,T){ii.call(this),this.type="TubeBufferGeometry",this.parameters={path:c,tubularSegments:p,radius:v,radialSegments:w,closed:T},p=p||64,v=v||1,w=w||8,T=T||!1;var R=c.computeFrenetFrames(p,T);this.tangents=R.tangents,this.normals=R.normals,this.binormals=R.binormals;var P=new dt,H=new dt,G=new ir,Z=new dt,ee,re,se=[],Ae=[],_e=[],Ue=[];We(),this.setIndex(Ue),this.addAttribute("position",new kr(se,3)),this.addAttribute("normal",new kr(Ae,3)),this.addAttribute("uv",new kr(_e,2));function We(){for(ee=0;ee<p;ee++)Ke(ee);Ke(T===!1?p:0),et(),rt()}function Ke(qe){Z=c.getPointAt(qe/p,Z);var It=R.normals[qe],Nt=R.binormals[qe];for(re=0;re<=w;re++){var Ot=re/w*Math.PI*2,en=Math.sin(Ot),Ut=-Math.cos(Ot);H.x=Ut*It.x+en*Nt.x,H.y=Ut*It.y+en*Nt.y,H.z=Ut*It.z+en*Nt.z,H.normalize(),Ae.push(H.x,H.y,H.z),P.x=Z.x+v*H.x,P.y=Z.y+v*H.y,P.z=Z.z+v*H.z,se.push(P.x,P.y,P.z)}}function rt(){for(re=1;re<=p;re++)for(ee=1;ee<=w;ee++){var qe=(w+1)*(re-1)+(ee-1),It=(w+1)*re+(ee-1),Nt=(w+1)*re+ee,Ot=(w+1)*(re-1)+ee;Ue.push(qe,It,Ot),Ue.push(It,Nt,Ot)}}function et(){for(ee=0;ee<=p;ee++)for(re=0;re<=w;re++)G.x=ee/p,G.y=re/w,_e.push(G.x,G.y)}}ab.prototype=Object.create(ii.prototype),ab.prototype.constructor=ab;function BC(c,p,v,w,T,R,P){$i.call(this),this.type="TorusKnotGeometry",this.parameters={radius:c,tube:p,tubularSegments:v,radialSegments:w,p:T,q:R},P!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ob(c,p,v,w,T,R)),this.mergeVertices()}BC.prototype=Object.create($i.prototype),BC.prototype.constructor=BC;function ob(c,p,v,w,T,R){ii.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:c,tube:p,tubularSegments:v,radialSegments:w,p:T,q:R},c=c||1,p=p||.4,v=Math.floor(v)||64,w=Math.floor(w)||8,T=T||2,R=R||3;var P=[],H=[],G=[],Z=[],ee,re,se=new dt,Ae=new dt,_e=new dt,Ue=new dt,We=new dt,Ke=new dt,rt=new dt;for(ee=0;ee<=v;++ee){var et=ee/v*T*Math.PI*2;for(gn(et,T,R,c,_e),gn(et+.01,T,R,c,Ue),Ke.subVectors(Ue,_e),rt.addVectors(Ue,_e),We.crossVectors(Ke,rt),rt.crossVectors(We,Ke),We.normalize(),rt.normalize(),re=0;re<=w;++re){var qe=re/w*Math.PI*2,It=-p*Math.cos(qe),Nt=p*Math.sin(qe);se.x=_e.x+(It*rt.x+Nt*We.x),se.y=_e.y+(It*rt.y+Nt*We.y),se.z=_e.z+(It*rt.z+Nt*We.z),H.push(se.x,se.y,se.z),Ae.subVectors(se,_e).normalize(),G.push(Ae.x,Ae.y,Ae.z),Z.push(ee/v),Z.push(re/w)}}for(re=1;re<=v;re++)for(ee=1;ee<=w;ee++){var Ot=(w+1)*(re-1)+(ee-1),en=(w+1)*re+(ee-1),Ut=(w+1)*re+ee,fn=(w+1)*(re-1)+ee;P.push(Ot,en,fn),P.push(en,Ut,fn)}this.setIndex(P),this.addAttribute("position",new kr(H,3)),this.addAttribute("normal",new kr(G,3)),this.addAttribute("uv",new kr(Z,2));function gn(qn,xr,sr,hr,Or){var Mt=Math.cos(qn),xt=Math.sin(qn),kn=sr/xr*qn,En=Math.cos(kn);Or.x=hr*(2+En)*.5*Mt,Or.y=hr*(2+En)*xt*.5,Or.z=hr*Math.sin(kn)*.5}}ob.prototype=Object.create(ii.prototype),ob.prototype.constructor=ob;function RC(c,p,v,w,T){$i.call(this),this.type="TorusGeometry",this.parameters={radius:c,tube:p,radialSegments:v,tubularSegments:w,arc:T},this.fromBufferGeometry(new lb(c,p,v,w,T)),this.mergeVertices()}RC.prototype=Object.create($i.prototype),RC.prototype.constructor=RC;function lb(c,p,v,w,T){ii.call(this),this.type="TorusBufferGeometry",this.parameters={radius:c,tube:p,radialSegments:v,tubularSegments:w,arc:T},c=c||1,p=p||.4,v=Math.floor(v)||8,w=Math.floor(w)||6,T=T||Math.PI*2;var R=[],P=[],H=[],G=[],Z=new dt,ee=new dt,re=new dt,se,Ae;for(se=0;se<=v;se++)for(Ae=0;Ae<=w;Ae++){var _e=Ae/w*T,Ue=se/v*Math.PI*2;ee.x=(c+p*Math.cos(Ue))*Math.cos(_e),ee.y=(c+p*Math.cos(Ue))*Math.sin(_e),ee.z=p*Math.sin(Ue),P.push(ee.x,ee.y,ee.z),Z.x=c*Math.cos(_e),Z.y=c*Math.sin(_e),re.subVectors(ee,Z).normalize(),H.push(re.x,re.y,re.z),G.push(Ae/w),G.push(se/v)}for(se=1;se<=v;se++)for(Ae=1;Ae<=w;Ae++){var We=(w+1)*se+Ae-1,Ke=(w+1)*(se-1)+Ae-1,rt=(w+1)*(se-1)+Ae,et=(w+1)*se+Ae;R.push(We,Ke,et),R.push(Ke,rt,et)}this.setIndex(R),this.addAttribute("position",new kr(P,3)),this.addAttribute("normal",new kr(H,3)),this.addAttribute("uv",new kr(G,2))}lb.prototype=Object.create(ii.prototype),lb.prototype.constructor=lb;var E_e={triangulate:function(c,p,v){v=v||2;var w=p&&p.length,T=w?p[0]*v:c.length,R=HW(c,0,T,v,!0),P=[];if(!R)return P;var H,G,Z,ee,re,se,Ae;if(w&&(R=L_e(c,p,R,v)),c.length>80*v){H=Z=c[0],G=ee=c[1];for(var _e=v;_e<T;_e+=v)re=c[_e],se=c[_e+1],re<H&&(H=re),se<G&&(G=se),re>Z&&(Z=re),se>ee&&(ee=se);Ae=Math.max(Z-H,ee-G),Ae=Ae!==0?1/Ae:0}return PC(R,P,v,H,G,Ae),P}};function HW(c,p,v,w,T){var R,P;if(T===U_e(c,p,v,w)>0)for(R=p;R<v;R+=w)P=zW(R,c[R],c[R+1],P);else for(R=v-w;R>=p;R-=w)P=zW(R,c[R],c[R+1],P);return P&&l_(P,P.next)&&(OC(P),P=P.next),P}function IC(c,p){if(!c)return c;p||(p=c);var v=c,w;do if(w=!1,!v.steiner&&(l_(v,v.next)||Sh(v.prev,v,v.next)===0)){if(OC(v),v=p=v.prev,v===v.next)break;w=!0}else v=v.next;while(w||v!==p);return p}function PC(c,p,v,w,T,R,P){if(c){!P&&R&&P_e(c,w,T,R);for(var H=c,G,Z;c.prev!==c.next;){if(G=c.prev,Z=c.next,R?C_e(c,w,T,R):S_e(c)){p.push(G.i/v),p.push(c.i/v),p.push(Z.i/v),OC(c),c=Z.next,H=Z.next;continue}if(c=Z,c===H){P?P===1?(c=T_e(c,p,v),PC(c,p,v,w,T,R,2)):P===2&&M_e(c,p,v,w,T,R):PC(IC(c),p,v,w,T,R,1);break}}}}function S_e(c){var p=c.prev,v=c,w=c.next;if(Sh(p,v,w)>=0)return!1;for(var T=c.next.next;T!==c.prev;){if(FB(p.x,p.y,v.x,v.y,w.x,w.y,T.x,T.y)&&Sh(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function C_e(c,p,v,w){var T=c.prev,R=c,P=c.next;if(Sh(T,R,P)>=0)return!1;for(var H=T.x<R.x?T.x<P.x?T.x:P.x:R.x<P.x?R.x:P.x,G=T.y<R.y?T.y<P.y?T.y:P.y:R.y<P.y?R.y:P.y,Z=T.x>R.x?T.x>P.x?T.x:P.x:R.x>P.x?R.x:P.x,ee=T.y>R.y?T.y>P.y?T.y:P.y:R.y>P.y?R.y:P.y,re=Sk(H,G,p,v,w),se=Sk(Z,ee,p,v,w),Ae=c.nextZ;Ae&&Ae.z<=se;){if(Ae!==c.prev&&Ae!==c.next&&FB(T.x,T.y,R.x,R.y,P.x,P.y,Ae.x,Ae.y)&&Sh(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}for(Ae=c.prevZ;Ae&&Ae.z>=re;){if(Ae!==c.prev&&Ae!==c.next&&FB(T.x,T.y,R.x,R.y,P.x,P.y,Ae.x,Ae.y)&&Sh(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}return!0}function T_e(c,p,v){var w=c;do{var T=w.prev,R=w.next.next;!l_(T,R)&&GW(T,w,w.next,R)&&FC(T,R)&&FC(R,T)&&(p.push(T.i/v),p.push(w.i/v),p.push(R.i/v),OC(w),OC(w.next),w=c=R),w=w.next}while(w!==c);return w}function M_e(c,p,v,w,T,R){var P=c;do{for(var H=P.next.next;H!==P.prev;){if(P.i!==H.i&&N_e(P,H)){var G=VW(P,H);P=IC(P,P.next),G=IC(G,G.next),PC(P,p,v,w,T,R),PC(G,p,v,w,T,R);return}H=H.next}P=P.next}while(P!==c)}function L_e(c,p,v,w){var T=[],R,P,H,G,Z;for(R=0,P=p.length;R<P;R++)H=p[R]*w,G=R<P-1?p[R+1]*w:c.length,Z=HW(c,H,G,w,!1),Z===Z.next&&(Z.steiner=!0),T.push(O_e(Z));for(T.sort(B_e),R=0;R<T.length;R++)R_e(T[R],v),v=IC(v,v.next);return v}function B_e(c,p){return c.x-p.x}function R_e(c,p){if(p=I_e(c,p),p){var v=VW(p,c);IC(v,v.next)}}function I_e(c,p){var v=p,w=c.x,T=c.y,R=-1/0,P;do{if(T<=v.y&&T>=v.next.y&&v.next.y!==v.y){var H=v.x+(T-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(H<=w&&H>R){if(R=H,H===w){if(T===v.y)return v;if(T===v.next.y)return v.next}P=v.x<v.next.x?v:v.next}}v=v.next}while(v!==p);if(!P)return null;if(w===R)return P.prev;var G=P,Z=P.x,ee=P.y,re=1/0,se;for(v=P.next;v!==G;)w>=v.x&&v.x>=Z&&w!==v.x&&FB(T<ee?w:R,T,Z,ee,T<ee?R:w,T,v.x,v.y)&&(se=Math.abs(T-v.y)/(w-v.x),(se<re||se===re&&v.x>P.x)&&FC(v,c)&&(P=v,re=se)),v=v.next;return P}function P_e(c,p,v,w){var T=c;do T.z===null&&(T.z=Sk(T.x,T.y,p,v,w)),T.prevZ=T.prev,T.nextZ=T.next,T=T.next;while(T!==c);T.prevZ.nextZ=null,T.prevZ=null,F_e(T)}function F_e(c){var p,v,w,T,R,P,H,G,Z=1;do{for(v=c,c=null,R=null,P=0;v;){for(P++,w=v,H=0,p=0;p<Z&&(H++,w=w.nextZ,!!w);p++);for(G=Z;H>0||G>0&&w;)H!==0&&(G===0||!w||v.z<=w.z)?(T=v,v=v.nextZ,H--):(T=w,w=w.nextZ,G--),R?R.nextZ=T:c=T,T.prevZ=R,R=T;v=w}R.nextZ=null,Z*=2}while(P>1);return c}function Sk(c,p,v,w,T){return c=32767*(c-v)*T,p=32767*(p-w)*T,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,p=(p|p<<8)&16711935,p=(p|p<<4)&252645135,p=(p|p<<2)&858993459,p=(p|p<<1)&1431655765,c|p<<1}function O_e(c){var p=c,v=c;do p.x<v.x&&(v=p),p=p.next;while(p!==c);return v}function FB(c,p,v,w,T,R,P,H){return(T-P)*(p-H)-(c-P)*(R-H)>=0&&(c-P)*(w-H)-(v-P)*(p-H)>=0&&(v-P)*(R-H)-(T-P)*(w-H)>=0}function N_e(c,p){return c.next.i!==p.i&&c.prev.i!==p.i&&!D_e(c,p)&&FC(c,p)&&FC(p,c)&&k_e(c,p)}function Sh(c,p,v){return(p.y-c.y)*(v.x-p.x)-(p.x-c.x)*(v.y-p.y)}function l_(c,p){return c.x===p.x&&c.y===p.y}function GW(c,p,v,w){return l_(c,p)&&l_(v,w)||l_(c,w)&&l_(v,p)?!0:Sh(c,p,v)>0!=Sh(c,p,w)>0&&Sh(v,w,c)>0!=Sh(v,w,p)>0}function D_e(c,p){var v=c;do{if(v.i!==c.i&&v.next.i!==c.i&&v.i!==p.i&&v.next.i!==p.i&&GW(v,v.next,c,p))return!0;v=v.next}while(v!==c);return!1}function FC(c,p){return Sh(c.prev,c,c.next)<0?Sh(c,p,c.next)>=0&&Sh(c,c.prev,p)>=0:Sh(c,p,c.prev)<0||Sh(c,c.next,p)<0}function k_e(c,p){var v=c,w=!1,T=(c.x+p.x)/2,R=(c.y+p.y)/2;do v.y>R!=v.next.y>R&&v.next.y!==v.y&&T<(v.next.x-v.x)*(R-v.y)/(v.next.y-v.y)+v.x&&(w=!w),v=v.next;while(v!==c);return w}function VW(c,p){var v=new Ck(c.i,c.x,c.y),w=new Ck(p.i,p.x,p.y),T=c.next,R=p.prev;return c.next=p,p.prev=c,v.next=T,T.prev=v,w.next=v,v.prev=w,R.next=w,w.prev=R,w}function zW(c,p,v,w){var T=new Ck(c,p,v);return w?(T.next=w.next,T.prev=w,w.next.prev=T,w.next=T):(T.prev=T,T.next=T),T}function OC(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Ck(c,p,v){this.i=c,this.x=p,this.y=v,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function U_e(c,p,v,w){for(var T=0,R=p,P=v-w;R<v;R+=w)T+=(c[P]-c[R])*(c[R+1]+c[P+1]),P=R;return T}var Om={area:function(c){for(var p=c.length,v=0,w=p-1,T=0;T<p;w=T++)v+=c[w].x*c[T].y-c[T].x*c[w].y;return v*.5},isClockWise:function(c){return Om.area(c)<0},triangulateShape:function(c,p){var v=[],w=[],T=[];$W(c),QW(v,c);var R=c.length;p.forEach($W);for(var P=0;P<p.length;P++)w.push(R),R+=p[P].length,QW(v,p[P]);for(var H=E_e.triangulate(v,w),P=0;P<H.length;P+=3)T.push(H.slice(P,P+3));return T}};function $W(c){var p=c.length;p>2&&c[p-1].equals(c[0])&&c.pop()}function QW(c,p){for(var v=0;v<p.length;v++)c.push(p[v].x),c.push(p[v].y)}function c_(c,p){$i.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:c,options:p},this.fromBufferGeometry(new Ag(c,p)),this.mergeVertices()}c_.prototype=Object.create($i.prototype),c_.prototype.constructor=c_,c_.prototype.toJSON=function(){var c=$i.prototype.toJSON.call(this),p=this.parameters.shapes,v=this.parameters.options;return WW(p,v,c)};function Ag(c,p){ii.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:c,options:p},c=Array.isArray(c)?c:[c];for(var v=this,w=[],T=[],R=0,P=c.length;R<P;R++){var H=c[R];G(H)}this.addAttribute("position",new kr(w,3)),this.addAttribute("uv",new kr(T,2)),this.computeVertexNormals();function G(Z){var ee=[],re=p.curveSegments!==void 0?p.curveSegments:12,se=p.steps!==void 0?p.steps:1,Ae=p.depth!==void 0?p.depth:100,_e=p.bevelEnabled!==void 0?p.bevelEnabled:!0,Ue=p.bevelThickness!==void 0?p.bevelThickness:6,We=p.bevelSize!==void 0?p.bevelSize:Ue-2,Ke=p.bevelSegments!==void 0?p.bevelSegments:3,rt=p.extrudePath,et=p.UVGenerator!==void 0?p.UVGenerator:H_e;p.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),Ae=p.amount);var qe,It=!1,Nt,Ot,en,Ut;rt&&(qe=rt.getSpacedPoints(se),It=!0,_e=!1,Nt=rt.computeFrenetFrames(se,!1),Ot=new dt,en=new dt,Ut=new dt),_e||(Ke=0,Ue=0,We=0);var fn,gn,qn,xr=Z.extractPoints(re),sr=xr.shape,hr=xr.holes,Or=!Om.isClockWise(sr);if(Or)for(sr=sr.reverse(),gn=0,qn=hr.length;gn<qn;gn++)fn=hr[gn],Om.isClockWise(fn)&&(hr[gn]=fn.reverse());var Mt=Om.triangulateShape(sr,hr),xt=sr;for(gn=0,qn=hr.length;gn<qn;gn++)fn=hr[gn],sr=sr.concat(fn);function kn(da,An,si){return An||console.error("THREE.ExtrudeGeometry: vec does not exist"),An.clone().multiplyScalar(si).add(da)}var En,Dr,jt,Cr,er,Zr=sr.length,wr,Yi=Mt.length;function Ns(da,An,si){var Si,xs,yi,Ea=da.x-An.x,Fa=da.y-An.y,go=si.x-da.x,nc=si.y-da.y,io=Ea*Ea+Fa*Fa,Ch=Ea*nc-Fa*go;if(Math.abs(Ch)>Number.EPSILON){var sf=Math.sqrt(io),vg=Math.sqrt(go*go+nc*nc),nR=An.x-Fa/sf,rR=An.y+Ea/sf,nU=si.x-nc/vg,rU=si.y+go/vg,iR=((nU-nR)*nc-(rU-rR)*go)/(Ea*nc-Fa*go);Si=nR+Ea*iR-da.x,xs=rR+Fa*iR-da.y;var sR=Si*Si+xs*xs;if(sR<=2)return new ir(Si,xs);yi=Math.sqrt(sR/2)}else{var E_=!1;Ea>Number.EPSILON?go>Number.EPSILON&&(E_=!0):Ea<-Number.EPSILON?go<-Number.EPSILON&&(E_=!0):Math.sign(Fa)===Math.sign(nc)&&(E_=!0),E_?(Si=-Fa,xs=Ea,yi=Math.sqrt(io)):(Si=Ea,xs=Fa,yi=Math.sqrt(io/2))}return new ir(Si/yi,xs/yi)}for(var zs=[],Er=0,sa=xt.length,ml=sa-1,Pa=Er+1;Er<sa;Er++,ml++,Pa++)ml===sa&&(ml=0),Pa===sa&&(Pa=0),zs[Er]=Ns(xt[Er],xt[ml],xt[Pa]);var gd=[],vl,kc=zs.concat();for(gn=0,qn=hr.length;gn<qn;gn++){for(fn=hr[gn],vl=[],Er=0,sa=fn.length,ml=sa-1,Pa=Er+1;Er<sa;Er++,ml++,Pa++)ml===sa&&(ml=0),Pa===sa&&(Pa=0),vl[Er]=Ns(fn[Er],fn[ml],fn[Pa]);gd.push(vl),kc=kc.concat(vl)}for(En=0;En<Ke;En++){for(jt=En/Ke,Cr=Ue*Math.cos(jt*Math.PI/2),Dr=We*Math.sin(jt*Math.PI/2),Er=0,sa=xt.length;Er<sa;Er++)er=kn(xt[Er],zs[Er],Dr),Uc(er.x,er.y,-Cr);for(gn=0,qn=hr.length;gn<qn;gn++)for(fn=hr[gn],vl=gd[gn],Er=0,sa=fn.length;Er<sa;Er++)er=kn(fn[Er],vl[Er],Dr),Uc(er.x,er.y,-Cr)}for(Dr=We,Er=0;Er<Zr;Er++)er=_e?kn(sr[Er],kc[Er],Dr):sr[Er],It?(en.copy(Nt.normals[0]).multiplyScalar(er.x),Ot.copy(Nt.binormals[0]).multiplyScalar(er.y),Ut.copy(qe[0]).add(en).add(Ot),Uc(Ut.x,Ut.y,Ut.z)):Uc(er.x,er.y,0);var du;for(du=1;du<=se;du++)for(Er=0;Er<Zr;Er++)er=_e?kn(sr[Er],kc[Er],Dr):sr[Er],It?(en.copy(Nt.normals[du]).multiplyScalar(er.x),Ot.copy(Nt.binormals[du]).multiplyScalar(er.y),Ut.copy(qe[du]).add(en).add(Ot),Uc(Ut.x,Ut.y,Ut.z)):Uc(er.x,er.y,Ae/se*du);for(En=Ke-1;En>=0;En--){for(jt=En/Ke,Cr=Ue*Math.cos(jt*Math.PI/2),Dr=We*Math.sin(jt*Math.PI/2),Er=0,sa=xt.length;Er<sa;Er++)er=kn(xt[Er],zs[Er],Dr),Uc(er.x,er.y,Ae+Cr);for(gn=0,qn=hr.length;gn<qn;gn++)for(fn=hr[gn],vl=gd[gn],Er=0,sa=fn.length;Er<sa;Er++)er=kn(fn[Er],vl[Er],Dr),It?Uc(er.x,er.y+qe[se-1].y,qe[se-1].x+Cr):Uc(er.x,er.y,Ae+Cr)}km(),zA();function km(){var da=w.length/3;if(_e){var An=0,si=Zr*An;for(Er=0;Er<Yi;Er++)wr=Mt[Er],Hu(wr[2]+si,wr[1]+si,wr[0]+si);for(An=se+Ke*2,si=Zr*An,Er=0;Er<Yi;Er++)wr=Mt[Er],Hu(wr[0]+si,wr[1]+si,wr[2]+si)}else{for(Er=0;Er<Yi;Er++)wr=Mt[Er],Hu(wr[2],wr[1],wr[0]);for(Er=0;Er<Yi;Er++)wr=Mt[Er],Hu(wr[0]+Zr*se,wr[1]+Zr*se,wr[2]+Zr*se)}v.addGroup(da,w.length/3-da,0)}function zA(){var da=w.length/3,An=0;for(tc(xt,An),An+=xt.length,gn=0,qn=hr.length;gn<qn;gn++)fn=hr[gn],tc(fn,An),An+=fn.length;v.addGroup(da,w.length/3-da,1)}function tc(da,An){var si,Si;for(Er=da.length;--Er>=0;){si=Er,Si=Er-1,Si<0&&(Si=da.length-1);var xs=0,yi=se+Ke*2;for(xs=0;xs<yi;xs++){var Ea=Zr*xs,Fa=Zr*(xs+1),go=An+si+Ea,nc=An+Si+Ea,io=An+Si+Fa,Ch=An+si+Fa;Cb(go,nc,io,Ch)}}}function Uc(da,An,si){ee.push(da),ee.push(An),ee.push(si)}function Hu(da,An,si){md(da),md(An),md(si);var Si=w.length/3,xs=et.generateTopUV(v,w,Si-3,Si-2,Si-1);vd(xs[0]),vd(xs[1]),vd(xs[2])}function Cb(da,An,si,Si){md(da),md(An),md(Si),md(An),md(si),md(Si);var xs=w.length/3,yi=et.generateSideWallUV(v,w,xs-6,xs-3,xs-2,xs-1);vd(yi[0]),vd(yi[1]),vd(yi[3]),vd(yi[1]),vd(yi[2]),vd(yi[3])}function md(da){w.push(ee[da*3+0]),w.push(ee[da*3+1]),w.push(ee[da*3+2])}function vd(da){T.push(da.x),T.push(da.y)}}}Ag.prototype=Object.create(ii.prototype),Ag.prototype.constructor=Ag,Ag.prototype.toJSON=function(){var c=ii.prototype.toJSON.call(this),p=this.parameters.shapes,v=this.parameters.options;return WW(p,v,c)};var H_e={generateTopUV:function(c,p,v,w,T){var R=p[v*3],P=p[v*3+1],H=p[w*3],G=p[w*3+1],Z=p[T*3],ee=p[T*3+1];return[new ir(R,P),new ir(H,G),new ir(Z,ee)]},generateSideWallUV:function(c,p,v,w,T,R){var P=p[v*3],H=p[v*3+1],G=p[v*3+2],Z=p[w*3],ee=p[w*3+1],re=p[w*3+2],se=p[T*3],Ae=p[T*3+1],_e=p[T*3+2],Ue=p[R*3],We=p[R*3+1],Ke=p[R*3+2];return Math.abs(H-ee)<.01?[new ir(P,1-G),new ir(Z,1-re),new ir(se,1-_e),new ir(Ue,1-Ke)]:[new ir(H,1-G),new ir(ee,1-re),new ir(Ae,1-_e),new ir(We,1-Ke)]}};function WW(c,p,v){if(v.shapes=[],Array.isArray(c))for(var w=0,T=c.length;w<T;w++){var R=c[w];v.shapes.push(R.uuid)}else v.shapes.push(c.uuid);return p.extrudePath!==void 0&&(v.options.extrudePath=p.extrudePath.toJSON()),v}function NC(c,p){$i.call(this),this.type="TextGeometry",this.parameters={text:c,parameters:p},this.fromBufferGeometry(new cb(c,p)),this.mergeVertices()}NC.prototype=Object.create($i.prototype),NC.prototype.constructor=NC;function cb(c,p){p=p||{};var v=p.font;if(!(v&&v.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new $i;var w=v.generateShapes(c,p.size);p.depth=p.height!==void 0?p.height:50,p.bevelThickness===void 0&&(p.bevelThickness=10),p.bevelSize===void 0&&(p.bevelSize=8),p.bevelEnabled===void 0&&(p.bevelEnabled=!1),Ag.call(this,w,p),this.type="TextBufferGeometry"}cb.prototype=Object.create(Ag.prototype),cb.prototype.constructor=cb;function DC(c,p,v,w,T,R,P){$i.call(this),this.type="SphereGeometry",this.parameters={radius:c,widthSegments:p,heightSegments:v,phiStart:w,phiLength:T,thetaStart:R,thetaLength:P},this.fromBufferGeometry(new u_(c,p,v,w,T,R,P)),this.mergeVertices()}DC.prototype=Object.create($i.prototype),DC.prototype.constructor=DC;function u_(c,p,v,w,T,R,P){ii.call(this),this.type="SphereBufferGeometry",this.parameters={radius:c,widthSegments:p,heightSegments:v,phiStart:w,phiLength:T,thetaStart:R,thetaLength:P},c=c||1,p=Math.max(3,Math.floor(p)||8),v=Math.max(2,Math.floor(v)||6),w=w!==void 0?w:0,T=T!==void 0?T:Math.PI*2,R=R!==void 0?R:0,P=P!==void 0?P:Math.PI;var H=R+P,G,Z,ee=0,re=[],se=new dt,Ae=new dt,_e=[],Ue=[],We=[],Ke=[];for(Z=0;Z<=v;Z++){var rt=[],et=Z/v;for(G=0;G<=p;G++){var qe=G/p;se.x=-c*Math.cos(w+qe*T)*Math.sin(R+et*P),se.y=c*Math.cos(R+et*P),se.z=c*Math.sin(w+qe*T)*Math.sin(R+et*P),Ue.push(se.x,se.y,se.z),Ae.set(se.x,se.y,se.z).normalize(),We.push(Ae.x,Ae.y,Ae.z),Ke.push(qe,1-et),rt.push(ee++)}re.push(rt)}for(Z=0;Z<v;Z++)for(G=0;G<p;G++){var It=re[Z][G+1],Nt=re[Z][G],Ot=re[Z+1][G],en=re[Z+1][G+1];(Z!==0||R>0)&&_e.push(It,Nt,en),(Z!==v-1||H<Math.PI)&&_e.push(Nt,Ot,en)}this.setIndex(_e),this.addAttribute("position",new kr(Ue,3)),this.addAttribute("normal",new kr(We,3)),this.addAttribute("uv",new kr(Ke,2))}u_.prototype=Object.create(ii.prototype),u_.prototype.constructor=u_;function kC(c,p,v,w,T,R){$i.call(this),this.type="RingGeometry",this.parameters={innerRadius:c,outerRadius:p,thetaSegments:v,phiSegments:w,thetaStart:T,thetaLength:R},this.fromBufferGeometry(new ub(c,p,v,w,T,R)),this.mergeVertices()}kC.prototype=Object.create($i.prototype),kC.prototype.constructor=kC;function ub(c,p,v,w,T,R){ii.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:c,outerRadius:p,thetaSegments:v,phiSegments:w,thetaStart:T,thetaLength:R},c=c||.5,p=p||1,T=T!==void 0?T:0,R=R!==void 0?R:Math.PI*2,v=v!==void 0?Math.max(3,v):8,w=w!==void 0?Math.max(1,w):1;var P=[],H=[],G=[],Z=[],ee,re=c,se=(p-c)/w,Ae=new dt,_e=new ir,Ue,We;for(Ue=0;Ue<=w;Ue++){for(We=0;We<=v;We++)ee=T+We/v*R,Ae.x=re*Math.cos(ee),Ae.y=re*Math.sin(ee),H.push(Ae.x,Ae.y,Ae.z),G.push(0,0,1),_e.x=(Ae.x/p+1)/2,_e.y=(Ae.y/p+1)/2,Z.push(_e.x,_e.y);re+=se}for(Ue=0;Ue<w;Ue++){var Ke=Ue*(v+1);for(We=0;We<v;We++){ee=We+Ke;var rt=ee,et=ee+v+1,qe=ee+v+2,It=ee+1;P.push(rt,et,It),P.push(et,qe,It)}}this.setIndex(P),this.addAttribute("position",new kr(H,3)),this.addAttribute("normal",new kr(G,3)),this.addAttribute("uv",new kr(Z,2))}ub.prototype=Object.create(ii.prototype),ub.prototype.constructor=ub;function UC(c,p,v,w){$i.call(this),this.type="LatheGeometry",this.parameters={points:c,segments:p,phiStart:v,phiLength:w},this.fromBufferGeometry(new hb(c,p,v,w)),this.mergeVertices()}UC.prototype=Object.create($i.prototype),UC.prototype.constructor=UC;function hb(c,p,v,w){ii.call(this),this.type="LatheBufferGeometry",this.parameters={points:c,segments:p,phiStart:v,phiLength:w},p=Math.floor(p)||12,v=v||0,w=w||Math.PI*2,w=qi.clamp(w,0,Math.PI*2);var T=[],R=[],P=[],H,G=1/p,Z=new dt,ee=new ir,re,se;for(re=0;re<=p;re++){var Ae=v+re*G*w,_e=Math.sin(Ae),Ue=Math.cos(Ae);for(se=0;se<=c.length-1;se++)Z.x=c[se].x*_e,Z.y=c[se].y,Z.z=c[se].x*Ue,R.push(Z.x,Z.y,Z.z),ee.x=re/p,ee.y=se/(c.length-1),P.push(ee.x,ee.y)}for(re=0;re<p;re++)for(se=0;se<c.length-1;se++){H=se+re*c.length;var We=H,Ke=H+c.length,rt=H+c.length+1,et=H+1;T.push(We,Ke,et),T.push(Ke,rt,et)}if(this.setIndex(T),this.addAttribute("position",new kr(R,3)),this.addAttribute("uv",new kr(P,2)),this.computeVertexNormals(),w===Math.PI*2){var qe=this.attributes.normal.array,It=new dt,Nt=new dt,Ot=new dt;for(H=p*c.length*3,re=0,se=0;re<c.length;re++,se+=3)It.x=qe[se+0],It.y=qe[se+1],It.z=qe[se+2],Nt.x=qe[H+se+0],Nt.y=qe[H+se+1],Nt.z=qe[H+se+2],Ot.addVectors(It,Nt).normalize(),qe[se+0]=qe[H+se+0]=Ot.x,qe[se+1]=qe[H+se+1]=Ot.y,qe[se+2]=qe[H+se+2]=Ot.z}}hb.prototype=Object.create(ii.prototype),hb.prototype.constructor=hb;function h_(c,p){$i.call(this),this.type="ShapeGeometry",typeof p=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),p=p.curveSegments),this.parameters={shapes:c,curveSegments:p},this.fromBufferGeometry(new d_(c,p)),this.mergeVertices()}h_.prototype=Object.create($i.prototype),h_.prototype.constructor=h_,h_.prototype.toJSON=function(){var c=$i.prototype.toJSON.call(this),p=this.parameters.shapes;return jW(p,c)};function d_(c,p){ii.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:c,curveSegments:p},p=p||12;var v=[],w=[],T=[],R=[],P=0,H=0;if(Array.isArray(c)===!1)Z(c);else for(var G=0;G<c.length;G++)Z(c[G]),this.addGroup(P,H,G),P+=H,H=0;this.setIndex(v),this.addAttribute("position",new kr(w,3)),this.addAttribute("normal",new kr(T,3)),this.addAttribute("uv",new kr(R,2));function Z(ee){var re,se,Ae,_e=w.length/3,Ue=ee.extractPoints(p),We=Ue.shape,Ke=Ue.holes;if(Om.isClockWise(We)===!1)for(We=We.reverse(),re=0,se=Ke.length;re<se;re++)Ae=Ke[re],Om.isClockWise(Ae)===!0&&(Ke[re]=Ae.reverse());var rt=Om.triangulateShape(We,Ke);for(re=0,se=Ke.length;re<se;re++)Ae=Ke[re],We=We.concat(Ae);for(re=0,se=We.length;re<se;re++){var et=We[re];w.push(et.x,et.y,0),T.push(0,0,1),R.push(et.x,et.y)}for(re=0,se=rt.length;re<se;re++){var qe=rt[re],It=qe[0]+_e,Nt=qe[1]+_e,Ot=qe[2]+_e;v.push(It,Nt,Ot),H+=3}}}d_.prototype=Object.create(ii.prototype),d_.prototype.constructor=d_,d_.prototype.toJSON=function(){var c=ii.prototype.toJSON.call(this),p=this.parameters.shapes;return jW(p,c)};function jW(c,p){if(p.shapes=[],Array.isArray(c))for(var v=0,w=c.length;v<w;v++){var T=c[v];p.shapes.push(T.uuid)}else p.shapes.push(c.uuid);return p}function db(c,p){ii.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:p},p=p!==void 0?p:1;var v=[],w=Math.cos(qi.DEG2RAD*p),T=[0,0],R={},P,H,G,Z=["a","b","c"],ee;c.isBufferGeometry?(ee=new $i,ee.fromBufferGeometry(c)):ee=c.clone(),ee.mergeVertices(),ee.computeFaceNormals();for(var re=ee.vertices,se=ee.faces,Ae=0,_e=se.length;Ae<_e;Ae++)for(var Ue=se[Ae],We=0;We<3;We++)P=Ue[Z[We]],H=Ue[Z[(We+1)%3]],T[0]=Math.min(P,H),T[1]=Math.max(P,H),G=T[0]+","+T[1],R[G]===void 0?R[G]={index1:T[0],index2:T[1],face1:Ae,face2:void 0}:R[G].face2=Ae;for(G in R){var Ke=R[G];if(Ke.face2===void 0||se[Ke.face1].normal.dot(se[Ke.face2].normal)<=w){var rt=re[Ke.index1];v.push(rt.x,rt.y,rt.z),rt=re[Ke.index2],v.push(rt.x,rt.y,rt.z)}}this.addAttribute("position",new kr(v,3))}db.prototype=Object.create(ii.prototype),db.prototype.constructor=db;function f_(c,p,v,w,T,R,P,H){$i.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:c,radiusBottom:p,height:v,radialSegments:w,heightSegments:T,openEnded:R,thetaStart:P,thetaLength:H},this.fromBufferGeometry(new Nm(c,p,v,w,T,R,P,H)),this.mergeVertices()}f_.prototype=Object.create($i.prototype),f_.prototype.constructor=f_;function Nm(c,p,v,w,T,R,P,H){ii.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:c,radiusBottom:p,height:v,radialSegments:w,heightSegments:T,openEnded:R,thetaStart:P,thetaLength:H};var G=this;c=c!==void 0?c:1,p=p!==void 0?p:1,v=v||1,w=Math.floor(w)||8,T=Math.floor(T)||1,R=R!==void 0?R:!1,P=P!==void 0?P:0,H=H!==void 0?H:Math.PI*2;var Z=[],ee=[],re=[],se=[],Ae=0,_e=[],Ue=v/2,We=0;Ke(),R===!1&&(c>0&&rt(!0),p>0&&rt(!1)),this.setIndex(Z),this.addAttribute("position",new kr(ee,3)),this.addAttribute("normal",new kr(re,3)),this.addAttribute("uv",new kr(se,2));function Ke(){var et,qe,It=new dt,Nt=new dt,Ot=0,en=(p-c)/v;for(qe=0;qe<=T;qe++){var Ut=[],fn=qe/T,gn=fn*(p-c)+c;for(et=0;et<=w;et++){var qn=et/w,xr=qn*H+P,sr=Math.sin(xr),hr=Math.cos(xr);Nt.x=gn*sr,Nt.y=-fn*v+Ue,Nt.z=gn*hr,ee.push(Nt.x,Nt.y,Nt.z),It.set(sr,en,hr).normalize(),re.push(It.x,It.y,It.z),se.push(qn,1-fn),Ut.push(Ae++)}_e.push(Ut)}for(et=0;et<w;et++)for(qe=0;qe<T;qe++){var Or=_e[qe][et],Mt=_e[qe+1][et],xt=_e[qe+1][et+1],kn=_e[qe][et+1];Z.push(Or,Mt,kn),Z.push(Mt,xt,kn),Ot+=6}G.addGroup(We,Ot,0),We+=Ot}function rt(et){var qe,It,Nt,Ot=new ir,en=new dt,Ut=0,fn=et===!0?c:p,gn=et===!0?1:-1;for(It=Ae,qe=1;qe<=w;qe++)ee.push(0,Ue*gn,0),re.push(0,gn,0),se.push(.5,.5),Ae++;for(Nt=Ae,qe=0;qe<=w;qe++){var qn=qe/w,xr=qn*H+P,sr=Math.cos(xr),hr=Math.sin(xr);en.x=fn*hr,en.y=Ue*gn,en.z=fn*sr,ee.push(en.x,en.y,en.z),re.push(0,gn,0),Ot.x=sr*.5+.5,Ot.y=hr*.5*gn+.5,se.push(Ot.x,Ot.y),Ae++}for(qe=0;qe<w;qe++){var Or=It+qe,Mt=Nt+qe;et===!0?Z.push(Mt,Mt+1,Or):Z.push(Mt+1,Mt,Or),Ut+=3}G.addGroup(We,Ut,et===!0?1:2),We+=Ut}}Nm.prototype=Object.create(ii.prototype),Nm.prototype.constructor=Nm;function HC(c,p,v,w,T,R,P){f_.call(this,0,c,p,v,w,T,R,P),this.type="ConeGeometry",this.parameters={radius:c,height:p,radialSegments:v,heightSegments:w,openEnded:T,thetaStart:R,thetaLength:P}}HC.prototype=Object.create(f_.prototype),HC.prototype.constructor=HC;function GC(c,p,v,w,T,R,P){Nm.call(this,0,c,p,v,w,T,R,P),this.type="ConeBufferGeometry",this.parameters={radius:c,height:p,radialSegments:v,heightSegments:w,openEnded:T,thetaStart:R,thetaLength:P}}GC.prototype=Object.create(Nm.prototype),GC.prototype.constructor=GC;function VC(c,p,v,w){$i.call(this),this.type="CircleGeometry",this.parameters={radius:c,segments:p,thetaStart:v,thetaLength:w},this.fromBufferGeometry(new fb(c,p,v,w)),this.mergeVertices()}VC.prototype=Object.create($i.prototype),VC.prototype.constructor=VC;function fb(c,p,v,w){ii.call(this),this.type="CircleBufferGeometry",this.parameters={radius:c,segments:p,thetaStart:v,thetaLength:w},c=c||1,p=p!==void 0?Math.max(3,p):8,v=v!==void 0?v:0,w=w!==void 0?w:Math.PI*2;var T=[],R=[],P=[],H=[],G,Z,ee=new dt,re=new ir;for(R.push(0,0,0),P.push(0,0,1),H.push(.5,.5),Z=0,G=3;Z<=p;Z++,G+=3){var se=v+Z/p*w;ee.x=c*Math.cos(se),ee.y=c*Math.sin(se),R.push(ee.x,ee.y,ee.z),P.push(0,0,1),re.x=(R[G]/c+1)/2,re.y=(R[G+1]/c+1)/2,H.push(re.x,re.y)}for(G=1;G<=p;G++)T.push(G,G+1,0);this.setIndex(T),this.addAttribute("position",new kr(R,3)),this.addAttribute("normal",new kr(P,3)),this.addAttribute("uv",new kr(H,2))}fb.prototype=Object.create(ii.prototype),fb.prototype.constructor=fb;var fd=Object.freeze({WireframeGeometry:fg,ParametricGeometry:Fm,ParametricBufferGeometry:nb,TetrahedronGeometry:SC,TetrahedronBufferGeometry:rb,OctahedronGeometry:CC,OctahedronBufferGeometry:o_,IcosahedronGeometry:TC,IcosahedronBufferGeometry:ib,DodecahedronGeometry:MC,DodecahedronBufferGeometry:sb,PolyhedronGeometry:EC,PolyhedronBufferGeometry:dd,TubeGeometry:LC,TubeBufferGeometry:ab,TorusKnotGeometry:BC,TorusKnotBufferGeometry:ob,TorusGeometry:RC,TorusBufferGeometry:lb,TextGeometry:NC,TextBufferGeometry:cb,SphereGeometry:DC,SphereBufferGeometry:u_,RingGeometry:kC,RingBufferGeometry:ub,PlaneGeometry:a0,PlaneBufferGeometry:rg,LatheGeometry:UC,LatheBufferGeometry:hb,ShapeGeometry:h_,ShapeBufferGeometry:d_,ExtrudeGeometry:c_,ExtrudeBufferGeometry:Ag,EdgesGeometry:db,ConeGeometry:HC,ConeBufferGeometry:GC,CylinderGeometry:f_,CylinderBufferGeometry:Nm,CircleGeometry:VC,CircleBufferGeometry:fb,BoxGeometry:Im,BoxBufferGeometry:ng});function A_(c){ls.call(this),this.type="ShadowMaterial",this.color=new fi(0),this.transparent=!0,this.setValues(c)}A_.prototype=Object.create(ls.prototype),A_.prototype.constructor=A_,A_.prototype.isShadowMaterial=!0,A_.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this};function Ab(c){Oc.call(this,c),this.type="RawShaderMaterial"}Ab.prototype=Object.create(Oc.prototype),Ab.prototype.constructor=Ab,Ab.prototype.isRawShaderMaterial=!0;function pg(c){ls.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new fi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new ir(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(c)}pg.prototype=Object.create(ls.prototype),pg.prototype.constructor=pg,pg.prototype.isMeshStandardMaterial=!0,pg.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.defines={STANDARD:""},this.color.copy(c.color),this.roughness=c.roughness,this.metalness=c.metalness,this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.roughnessMap=c.roughnessMap,this.metalnessMap=c.metalnessMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.envMapIntensity=c.envMapIntensity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.morphNormals=c.morphNormals,this};function p_(c){pg.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(c)}p_.prototype=Object.create(pg.prototype),p_.prototype.constructor=p_,p_.prototype.isMeshPhysicalMaterial=!0,p_.prototype.copy=function(c){return pg.prototype.copy.call(this,c),this.defines={PHYSICAL:""},this.reflectivity=c.reflectivity,this.clearCoat=c.clearCoat,this.clearCoatRoughness=c.clearCoatRoughness,this};function OA(c){ls.call(this),this.type="MeshPhongMaterial",this.color=new fi(16777215),this.specular=new fi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new ir(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(c)}OA.prototype=Object.create(ls.prototype),OA.prototype.constructor=OA,OA.prototype.isMeshPhongMaterial=!0,OA.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.specular.copy(c.specular),this.shininess=c.shininess,this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.morphNormals=c.morphNormals,this};function g_(c){OA.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(c)}g_.prototype=Object.create(OA.prototype),g_.prototype.constructor=g_,g_.prototype.isMeshToonMaterial=!0,g_.prototype.copy=function(c){return OA.prototype.copy.call(this,c),this.gradientMap=c.gradientMap,this};function m_(c){ls.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new ir(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(c)}m_.prototype=Object.create(ls.prototype),m_.prototype.constructor=m_,m_.prototype.isMeshNormalMaterial=!0,m_.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.morphNormals=c.morphNormals,this};function v_(c){ls.call(this),this.type="MeshLambertMaterial",this.color=new fi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(c)}v_.prototype=Object.create(ls.prototype),v_.prototype.constructor=v_,v_.prototype.isMeshLambertMaterial=!0,v_.prototype.copy=function(c){return ls.prototype.copy.call(this,c),this.color.copy(c.color),this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.skinning=c.skinning,this.morphTargets=c.morphTargets,this.morphNormals=c.morphNormals,this};function y_(c){xa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(c)}y_.prototype=Object.create(xa.prototype),y_.prototype.constructor=y_,y_.prototype.isLineDashedMaterial=!0,y_.prototype.copy=function(c){return xa.prototype.copy.call(this,c),this.scale=c.scale,this.dashSize=c.dashSize,this.gapSize=c.gapSize,this};var G_e=Object.freeze({ShadowMaterial:A_,SpriteMaterial:FA,RawShaderMaterial:Ab,ShaderMaterial:Oc,PointsMaterial:ec,MeshPhysicalMaterial:p_,MeshStandardMaterial:pg,MeshPhongMaterial:OA,MeshToonMaterial:g_,MeshNormalMaterial:m_,MeshLambertMaterial:v_,MeshDepthMaterial:lg,MeshDistanceMaterial:PA,MeshBasicMaterial:Fc,LineDashedMaterial:y_,LineBasicMaterial:xa,Material:ls}),__={enabled:!1,files:{},add:function(c,p){this.enabled!==!1&&(this.files[c]=p)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};function Tk(c,p,v){var w=this,T=!1,R=0,P=0,H=void 0;this.onStart=void 0,this.onLoad=c,this.onProgress=p,this.onError=v,this.itemStart=function(G){P++,T===!1&&w.onStart!==void 0&&w.onStart(G,R,P),T=!0},this.itemEnd=function(G){R++,w.onProgress!==void 0&&w.onProgress(G,R,P),R===P&&(T=!1,w.onLoad!==void 0&&w.onLoad())},this.itemError=function(G){w.onError!==void 0&&w.onError(G)},this.resolveURL=function(G){return H?H(G):G},this.setURLModifier=function(G){return H=G,this}}var Ad=new Tk,NA={};function DA(c){this.manager=c!==void 0?c:Ad}Object.assign(DA.prototype,{load:function(c,p,v,w){c===void 0&&(c=""),this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);var T=this,R=__.get(c);if(R!==void 0)return T.manager.itemStart(c),setTimeout(function(){p&&p(R),T.manager.itemEnd(c)},0),R;if(NA[c]!==void 0){NA[c].push({onLoad:p,onProgress:v,onError:w});return}var P=/^data:(.*?)(;base64)?,(.*)$/,H=c.match(P);if(H){var G=H[1],Z=!!H[2],ee=H[3];ee=window.decodeURIComponent(ee),Z&&(ee=window.atob(ee));try{var re,se=(this.responseType||"").toLowerCase();switch(se){case"arraybuffer":case"blob":for(var Ae=new Uint8Array(ee.length),_e=0;_e<ee.length;_e++)Ae[_e]=ee.charCodeAt(_e);se==="blob"?re=new Blob([Ae.buffer],{type:G}):re=Ae.buffer;break;case"document":var Ue=new DOMParser;re=Ue.parseFromString(ee,G);break;case"json":re=JSON.parse(ee);break;default:re=ee;break}window.setTimeout(function(){p&&p(re),T.manager.itemEnd(c)},0)}catch(rt){window.setTimeout(function(){w&&w(rt),T.manager.itemEnd(c),T.manager.itemError(c)},0)}}else{NA[c]=[],NA[c].push({onLoad:p,onProgress:v,onError:w});var We=new XMLHttpRequest;We.open("GET",c,!0),We.addEventListener("load",function(rt){var et=this.response;__.add(c,et);var qe=NA[c];if(delete NA[c],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var It=0,Nt=qe.length;It<Nt;It++){var Ot=qe[It];Ot.onLoad&&Ot.onLoad(et)}T.manager.itemEnd(c)}else{for(var It=0,Nt=qe.length;It<Nt;It++){var Ot=qe[It];Ot.onError&&Ot.onError(rt)}T.manager.itemEnd(c),T.manager.itemError(c)}},!1),We.addEventListener("progress",function(rt){for(var et=NA[c],qe=0,It=et.length;qe<It;qe++){var Nt=et[qe];Nt.onProgress&&Nt.onProgress(rt)}},!1),We.addEventListener("error",function(rt){var et=NA[c];delete NA[c];for(var qe=0,It=et.length;qe<It;qe++){var Nt=et[qe];Nt.onError&&Nt.onError(rt)}T.manager.itemEnd(c),T.manager.itemError(c)},!1),We.addEventListener("abort",function(rt){var et=NA[c];delete NA[c];for(var qe=0,It=et.length;qe<It;qe++){var Nt=et[qe];Nt.onError&&Nt.onError(rt)}T.manager.itemEnd(c),T.manager.itemError(c)},!1),this.responseType!==void 0&&(We.responseType=this.responseType),this.withCredentials!==void 0&&(We.withCredentials=this.withCredentials),We.overrideMimeType&&We.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var Ke in this.requestHeader)We.setRequestHeader(Ke,this.requestHeader[Ke]);We.send(null)}return T.manager.itemStart(c),We},setPath:function(c){return this.path=c,this},setResponseType:function(c){return this.responseType=c,this},setWithCredentials:function(c){return this.withCredentials=c,this},setMimeType:function(c){return this.mimeType=c,this},setRequestHeader:function(c){return this.requestHeader=c,this}});function KW(c){this.manager=c!==void 0?c:Ad,this._parser=null}Object.assign(KW.prototype,{load:function(c,p,v,w){var T=this,R=[],P=new dg;P.image=R;var H=new DA(this.manager);H.setPath(this.path),H.setResponseType("arraybuffer");function G(se){H.load(c[se],function(Ae){var _e=T._parser(Ae,!0);R[se]={width:_e.width,height:_e.height,format:_e.format,mipmaps:_e.mipmaps},Z+=1,Z===6&&(_e.mipmapCount===1&&(P.minFilter=kt),P.format=_e.format,P.needsUpdate=!0,p&&p(P))},v,w)}if(Array.isArray(c))for(var Z=0,ee=0,re=c.length;ee<re;++ee)G(ee);else H.load(c,function(se){var Ae=T._parser(se,!0);if(Ae.isCubemap)for(var _e=Ae.mipmaps.length/Ae.mipmapCount,Ue=0;Ue<_e;Ue++){R[Ue]={mipmaps:[]};for(var We=0;We<Ae.mipmapCount;We++)R[Ue].mipmaps.push(Ae.mipmaps[Ue*Ae.mipmapCount+We]),R[Ue].format=Ae.format,R[Ue].width=Ae.width,R[Ue].height=Ae.height}else P.image.width=Ae.width,P.image.height=Ae.height,P.mipmaps=Ae.mipmaps;Ae.mipmapCount===1&&(P.minFilter=kt),P.format=Ae.format,P.needsUpdate=!0,p&&p(P)},v,w);return P},setPath:function(c){return this.path=c,this}});function Mk(c){this.manager=c!==void 0?c:Ad,this._parser=null}Object.assign(Mk.prototype,{load:function(c,p,v,w){var T=this,R=new Zd,P=new DA(this.manager);return P.setResponseType("arraybuffer"),P.load(c,function(H){var G=T._parser(H);G&&(G.image!==void 0?R.image=G.image:G.data!==void 0&&(R.image.width=G.width,R.image.height=G.height,R.image.data=G.data),R.wrapS=G.wrapS!==void 0?G.wrapS:Dt,R.wrapT=G.wrapT!==void 0?G.wrapT:Dt,R.magFilter=G.magFilter!==void 0?G.magFilter:kt,R.minFilter=G.minFilter!==void 0?G.minFilter:mt,R.anisotropy=G.anisotropy!==void 0?G.anisotropy:1,G.format!==void 0&&(R.format=G.format),G.type!==void 0&&(R.type=G.type),G.mipmaps!==void 0&&(R.mipmaps=G.mipmaps),G.mipmapCount===1&&(R.minFilter=kt),R.needsUpdate=!0,p&&p(R,G))},v,w),R}});function zC(c){this.manager=c!==void 0?c:Ad}Object.assign(zC.prototype,{crossOrigin:"anonymous",load:function(c,p,v,w){c===void 0&&(c=""),this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);var T=this,R=__.get(c);if(R!==void 0)return T.manager.itemStart(c),setTimeout(function(){p&&p(R),T.manager.itemEnd(c)},0),R;var P=document.createElementNS("http://www.w3.org/1999/xhtml","img");function H(){P.removeEventListener("load",H,!1),P.removeEventListener("error",G,!1),__.add(c,this),p&&p(this),T.manager.itemEnd(c)}function G(Z){P.removeEventListener("load",H,!1),P.removeEventListener("error",G,!1),w&&w(Z),T.manager.itemEnd(c),T.manager.itemError(c)}return P.addEventListener("load",H,!1),P.addEventListener("error",G,!1),c.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(P.crossOrigin=this.crossOrigin),T.manager.itemStart(c),P.src=c,P},setCrossOrigin:function(c){return this.crossOrigin=c,this},setPath:function(c){return this.path=c,this}});function Lk(c){this.manager=c!==void 0?c:Ad}Object.assign(Lk.prototype,{crossOrigin:"anonymous",load:function(c,p,v,w){var T=new N,R=new zC(this.manager);R.setCrossOrigin(this.crossOrigin),R.setPath(this.path);var P=0;function H(Z){R.load(c[Z],function(ee){T.images[Z]=ee,P++,P===6&&(T.needsUpdate=!0,p&&p(T))},void 0,w)}for(var G=0;G<c.length;++G)H(G);return T},setCrossOrigin:function(c){return this.crossOrigin=c,this},setPath:function(c){return this.path=c,this}});function OB(c){this.manager=c!==void 0?c:Ad}Object.assign(OB.prototype,{crossOrigin:"anonymous",load:function(c,p,v,w){var T=new wa,R=new zC(this.manager);return R.setCrossOrigin(this.crossOrigin),R.setPath(this.path),R.load(c,function(P){T.image=P;var H=c.search(/\.jpe?g$/i)>0||c.search(/^data\:image\/jpeg/)===0;T.format=H?Hi:ki,T.needsUpdate=!0,p!==void 0&&p(T)},v,w),T},setCrossOrigin:function(c){return this.crossOrigin=c,this},setPath:function(c){return this.path=c,this}});function Oi(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Oi.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(c,p){var v=this.getUtoTmapping(c);return this.getPoint(v,p)},getPoints:function(c){c===void 0&&(c=5);for(var p=[],v=0;v<=c;v++)p.push(this.getPoint(v/c));return p},getSpacedPoints:function(c){c===void 0&&(c=5);for(var p=[],v=0;v<=c;v++)p.push(this.getPointAt(v/c));return p},getLength:function(){var c=this.getLengths();return c[c.length-1]},getLengths:function(c){if(c===void 0&&(c=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===c+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var p=[],v,w=this.getPoint(0),T,R=0;for(p.push(0),T=1;T<=c;T++)v=this.getPoint(T/c),R+=v.distanceTo(w),p.push(R),w=v;return this.cacheArcLengths=p,p},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(c,p){var v=this.getLengths(),w=0,T=v.length,R;p?R=p:R=c*v[T-1];for(var P=0,H=T-1,G;P<=H;)if(w=Math.floor(P+(H-P)/2),G=v[w]-R,G<0)P=w+1;else if(G>0)H=w-1;else{H=w;break}if(w=H,v[w]===R)return w/(T-1);var Z=v[w],ee=v[w+1],re=ee-Z,se=(R-Z)/re,Ae=(w+se)/(T-1);return Ae},getTangent:function(c){var p=1e-4,v=c-p,w=c+p;v<0&&(v=0),w>1&&(w=1);var T=this.getPoint(v),R=this.getPoint(w),P=R.clone().sub(T);return P.normalize()},getTangentAt:function(c){var p=this.getUtoTmapping(c);return this.getTangent(p)},computeFrenetFrames:function(c,p){var v=new dt,w=[],T=[],R=[],P=new dt,H=new ur,G,Z,ee;for(G=0;G<=c;G++)Z=G/c,w[G]=this.getTangentAt(Z),w[G].normalize();T[0]=new dt,R[0]=new dt;var re=Number.MAX_VALUE,se=Math.abs(w[0].x),Ae=Math.abs(w[0].y),_e=Math.abs(w[0].z);for(se<=re&&(re=se,v.set(1,0,0)),Ae<=re&&(re=Ae,v.set(0,1,0)),_e<=re&&v.set(0,0,1),P.crossVectors(w[0],v).normalize(),T[0].crossVectors(w[0],P),R[0].crossVectors(w[0],T[0]),G=1;G<=c;G++)T[G]=T[G-1].clone(),R[G]=R[G-1].clone(),P.crossVectors(w[G-1],w[G]),P.length()>Number.EPSILON&&(P.normalize(),ee=Math.acos(qi.clamp(w[G-1].dot(w[G]),-1,1)),T[G].applyMatrix4(H.makeRotationAxis(P,ee))),R[G].crossVectors(w[G],T[G]);if(p===!0)for(ee=Math.acos(qi.clamp(T[0].dot(T[c]),-1,1)),ee/=c,w[0].dot(P.crossVectors(T[0],T[c]))>0&&(ee=-ee),G=1;G<=c;G++)T[G].applyMatrix4(H.makeRotationAxis(w[G],ee*G)),R[G].crossVectors(w[G],T[G]);return{tangents:w,normals:T,binormals:R}},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.arcLengthDivisions=c.arcLengthDivisions,this},toJSON:function(){var c={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return c.arcLengthDivisions=this.arcLengthDivisions,c.type=this.type,c},fromJSON:function(c){return this.arcLengthDivisions=c.arcLengthDivisions,this}});function nf(c,p,v,w,T,R,P,H){Oi.call(this),this.type="EllipseCurve",this.aX=c||0,this.aY=p||0,this.xRadius=v||1,this.yRadius=w||1,this.aStartAngle=T||0,this.aEndAngle=R||2*Math.PI,this.aClockwise=P||!1,this.aRotation=H||0}nf.prototype=Object.create(Oi.prototype),nf.prototype.constructor=nf,nf.prototype.isEllipseCurve=!0,nf.prototype.getPoint=function(c,p){for(var v=p||new ir,w=Math.PI*2,T=this.aEndAngle-this.aStartAngle,R=Math.abs(T)<Number.EPSILON;T<0;)T+=w;for(;T>w;)T-=w;T<Number.EPSILON&&(R?T=0:T=w),this.aClockwise===!0&&!R&&(T===w?T=-w:T=T-w);var P=this.aStartAngle+c*T,H=this.aX+this.xRadius*Math.cos(P),G=this.aY+this.yRadius*Math.sin(P);if(this.aRotation!==0){var Z=Math.cos(this.aRotation),ee=Math.sin(this.aRotation),re=H-this.aX,se=G-this.aY;H=re*Z-se*ee+this.aX,G=re*ee+se*Z+this.aY}return v.set(H,G)},nf.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.aX=c.aX,this.aY=c.aY,this.xRadius=c.xRadius,this.yRadius=c.yRadius,this.aStartAngle=c.aStartAngle,this.aEndAngle=c.aEndAngle,this.aClockwise=c.aClockwise,this.aRotation=c.aRotation,this},nf.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.aX=this.aX,c.aY=this.aY,c.xRadius=this.xRadius,c.yRadius=this.yRadius,c.aStartAngle=this.aStartAngle,c.aEndAngle=this.aEndAngle,c.aClockwise=this.aClockwise,c.aRotation=this.aRotation,c},nf.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.aX=c.aX,this.aY=c.aY,this.xRadius=c.xRadius,this.yRadius=c.yRadius,this.aStartAngle=c.aStartAngle,this.aEndAngle=c.aEndAngle,this.aClockwise=c.aClockwise,this.aRotation=c.aRotation,this};function pb(c,p,v,w,T,R){nf.call(this,c,p,v,v,w,T,R),this.type="ArcCurve"}pb.prototype=Object.create(nf.prototype),pb.prototype.constructor=pb,pb.prototype.isArcCurve=!0;function Bk(){var c=0,p=0,v=0,w=0;function T(R,P,H,G){c=R,p=H,v=-3*R+3*P-2*H-G,w=2*R-2*P+H+G}return{initCatmullRom:function(R,P,H,G,Z){T(P,H,Z*(H-R),Z*(G-P))},initNonuniformCatmullRom:function(R,P,H,G,Z,ee,re){var se=(P-R)/Z-(H-R)/(Z+ee)+(H-P)/ee,Ae=(H-P)/ee-(G-P)/(ee+re)+(G-H)/re;se*=ee,Ae*=ee,T(P,H,se,Ae)},calc:function(R){var P=R*R,H=P*R;return c+p*R+v*P+w*H}}}var NB=new dt,Rk=new Bk,Ik=new Bk,Pk=new Bk;function Du(c,p,v,w){Oi.call(this),this.type="CatmullRomCurve3",this.points=c||[],this.closed=p||!1,this.curveType=v||"centripetal",this.tension=w||.5}Du.prototype=Object.create(Oi.prototype),Du.prototype.constructor=Du,Du.prototype.isCatmullRomCurve3=!0,Du.prototype.getPoint=function(c,p){var v=p||new dt,w=this.points,T=w.length,R=(T-(this.closed?0:1))*c,P=Math.floor(R),H=R-P;this.closed?P+=P>0?0:(Math.floor(Math.abs(P)/T)+1)*T:H===0&&P===T-1&&(P=T-2,H=1);var G,Z,ee,re;if(this.closed||P>0?G=w[(P-1)%T]:(NB.subVectors(w[0],w[1]).add(w[0]),G=NB),Z=w[P%T],ee=w[(P+1)%T],this.closed||P+2<T?re=w[(P+2)%T]:(NB.subVectors(w[T-1],w[T-2]).add(w[T-1]),re=NB),this.curveType==="centripetal"||this.curveType==="chordal"){var se=this.curveType==="chordal"?.5:.25,Ae=Math.pow(G.distanceToSquared(Z),se),_e=Math.pow(Z.distanceToSquared(ee),se),Ue=Math.pow(ee.distanceToSquared(re),se);_e<1e-4&&(_e=1),Ae<1e-4&&(Ae=_e),Ue<1e-4&&(Ue=_e),Rk.initNonuniformCatmullRom(G.x,Z.x,ee.x,re.x,Ae,_e,Ue),Ik.initNonuniformCatmullRom(G.y,Z.y,ee.y,re.y,Ae,_e,Ue),Pk.initNonuniformCatmullRom(G.z,Z.z,ee.z,re.z,Ae,_e,Ue)}else this.curveType==="catmullrom"&&(Rk.initCatmullRom(G.x,Z.x,ee.x,re.x,this.tension),Ik.initCatmullRom(G.y,Z.y,ee.y,re.y,this.tension),Pk.initCatmullRom(G.z,Z.z,ee.z,re.z,this.tension));return v.set(Rk.calc(H),Ik.calc(H),Pk.calc(H)),v},Du.prototype.copy=function(c){Oi.prototype.copy.call(this,c),this.points=[];for(var p=0,v=c.points.length;p<v;p++){var w=c.points[p];this.points.push(w.clone())}return this.closed=c.closed,this.curveType=c.curveType,this.tension=c.tension,this},Du.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);c.points=[];for(var p=0,v=this.points.length;p<v;p++){var w=this.points[p];c.points.push(w.toArray())}return c.closed=this.closed,c.curveType=this.curveType,c.tension=this.tension,c},Du.prototype.fromJSON=function(c){Oi.prototype.fromJSON.call(this,c),this.points=[];for(var p=0,v=c.points.length;p<v;p++){var w=c.points[p];this.points.push(new dt().fromArray(w))}return this.closed=c.closed,this.curveType=c.curveType,this.tension=c.tension,this};function qW(c,p,v,w,T){var R=(w-p)*.5,P=(T-v)*.5,H=c*c,G=c*H;return(2*v-2*w+R+P)*G+(-3*v+3*w-2*R-P)*H+R*c+v}function V_e(c,p){var v=1-c;return v*v*p}function z_e(c,p){return 2*(1-c)*c*p}function $_e(c,p){return c*c*p}function $C(c,p,v,w){return V_e(c,p)+z_e(c,v)+$_e(c,w)}function Q_e(c,p){var v=1-c;return v*v*v*p}function W_e(c,p){var v=1-c;return 3*v*v*c*p}function j_e(c,p){return 3*(1-c)*c*c*p}function K_e(c,p){return c*c*c*p}function QC(c,p,v,w,T){return Q_e(c,p)+W_e(c,v)+j_e(c,w)+K_e(c,T)}function kA(c,p,v,w){Oi.call(this),this.type="CubicBezierCurve",this.v0=c||new ir,this.v1=p||new ir,this.v2=v||new ir,this.v3=w||new ir}kA.prototype=Object.create(Oi.prototype),kA.prototype.constructor=kA,kA.prototype.isCubicBezierCurve=!0,kA.prototype.getPoint=function(c,p){var v=p||new ir,w=this.v0,T=this.v1,R=this.v2,P=this.v3;return v.set(QC(c,w.x,T.x,R.x,P.x),QC(c,w.y,T.y,R.y,P.y)),v},kA.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this.v3.copy(c.v3),this},kA.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c.v3=this.v3.toArray(),c},kA.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this.v3.fromArray(c.v3),this};function gg(c,p,v,w){Oi.call(this),this.type="CubicBezierCurve3",this.v0=c||new dt,this.v1=p||new dt,this.v2=v||new dt,this.v3=w||new dt}gg.prototype=Object.create(Oi.prototype),gg.prototype.constructor=gg,gg.prototype.isCubicBezierCurve3=!0,gg.prototype.getPoint=function(c,p){var v=p||new dt,w=this.v0,T=this.v1,R=this.v2,P=this.v3;return v.set(QC(c,w.x,T.x,R.x,P.x),QC(c,w.y,T.y,R.y,P.y),QC(c,w.z,T.z,R.z,P.z)),v},gg.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this.v3.copy(c.v3),this},gg.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c.v3=this.v3.toArray(),c},gg.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this.v3.fromArray(c.v3),this};function pd(c,p){Oi.call(this),this.type="LineCurve",this.v1=c||new ir,this.v2=p||new ir}pd.prototype=Object.create(Oi.prototype),pd.prototype.constructor=pd,pd.prototype.isLineCurve=!0,pd.prototype.getPoint=function(c,p){var v=p||new ir;return c===1?v.copy(this.v2):(v.copy(this.v2).sub(this.v1),v.multiplyScalar(c).add(this.v1)),v},pd.prototype.getPointAt=function(c,p){return this.getPoint(c,p)},pd.prototype.getTangent=function(){var c=this.v2.clone().sub(this.v1);return c.normalize()},pd.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v1.copy(c.v1),this.v2.copy(c.v2),this},pd.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c},pd.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this};function UA(c,p){Oi.call(this),this.type="LineCurve3",this.v1=c||new dt,this.v2=p||new dt}UA.prototype=Object.create(Oi.prototype),UA.prototype.constructor=UA,UA.prototype.isLineCurve3=!0,UA.prototype.getPoint=function(c,p){var v=p||new dt;return c===1?v.copy(this.v2):(v.copy(this.v2).sub(this.v1),v.multiplyScalar(c).add(this.v1)),v},UA.prototype.getPointAt=function(c,p){return this.getPoint(c,p)},UA.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v1.copy(c.v1),this.v2.copy(c.v2),this},UA.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c},UA.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this};function HA(c,p,v){Oi.call(this),this.type="QuadraticBezierCurve",this.v0=c||new ir,this.v1=p||new ir,this.v2=v||new ir}HA.prototype=Object.create(Oi.prototype),HA.prototype.constructor=HA,HA.prototype.isQuadraticBezierCurve=!0,HA.prototype.getPoint=function(c,p){var v=p||new ir,w=this.v0,T=this.v1,R=this.v2;return v.set($C(c,w.x,T.x,R.x),$C(c,w.y,T.y,R.y)),v},HA.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this},HA.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c},HA.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this};function mg(c,p,v){Oi.call(this),this.type="QuadraticBezierCurve3",this.v0=c||new dt,this.v1=p||new dt,this.v2=v||new dt}mg.prototype=Object.create(Oi.prototype),mg.prototype.constructor=mg,mg.prototype.isQuadraticBezierCurve3=!0,mg.prototype.getPoint=function(c,p){var v=p||new dt,w=this.v0,T=this.v1,R=this.v2;return v.set($C(c,w.x,T.x,R.x),$C(c,w.y,T.y,R.y),$C(c,w.z,T.z,R.z)),v},mg.prototype.copy=function(c){return Oi.prototype.copy.call(this,c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this},mg.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c},mg.prototype.fromJSON=function(c){return Oi.prototype.fromJSON.call(this,c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this};function GA(c){Oi.call(this),this.type="SplineCurve",this.points=c||[]}GA.prototype=Object.create(Oi.prototype),GA.prototype.constructor=GA,GA.prototype.isSplineCurve=!0,GA.prototype.getPoint=function(c,p){var v=p||new ir,w=this.points,T=(w.length-1)*c,R=Math.floor(T),P=T-R,H=w[R===0?R:R-1],G=w[R],Z=w[R>w.length-2?w.length-1:R+1],ee=w[R>w.length-3?w.length-1:R+2];return v.set(qW(P,H.x,G.x,Z.x,ee.x),qW(P,H.y,G.y,Z.y,ee.y)),v},GA.prototype.copy=function(c){Oi.prototype.copy.call(this,c),this.points=[];for(var p=0,v=c.points.length;p<v;p++){var w=c.points[p];this.points.push(w.clone())}return this},GA.prototype.toJSON=function(){var c=Oi.prototype.toJSON.call(this);c.points=[];for(var p=0,v=this.points.length;p<v;p++){var w=this.points[p];c.points.push(w.toArray())}return c},GA.prototype.fromJSON=function(c){Oi.prototype.fromJSON.call(this,c),this.points=[];for(var p=0,v=c.points.length;p<v;p++){var w=c.points[p];this.points.push(new ir().fromArray(w))}return this};var XW=Object.freeze({ArcCurve:pb,CatmullRomCurve3:Du,CubicBezierCurve:kA,CubicBezierCurve3:gg,EllipseCurve:nf,LineCurve:pd,LineCurve3:UA,QuadraticBezierCurve:HA,QuadraticBezierCurve3:mg,SplineCurve:GA});function Dm(){Oi.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Dm.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Dm,add:function(c){this.curves.push(c)},closePath:function(){var c=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);c.equals(p)||this.curves.push(new pd(p,c))},getPoint:function(c){for(var p=c*this.getLength(),v=this.getCurveLengths(),w=0;w<v.length;){if(v[w]>=p){var T=v[w]-p,R=this.curves[w],P=R.getLength(),H=P===0?0:1-T/P;return R.getPointAt(H)}w++}return null},getLength:function(){var c=this.getCurveLengths();return c[c.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var c=[],p=0,v=0,w=this.curves.length;v<w;v++)p+=this.curves[v].getLength(),c.push(p);return this.cacheLengths=c,c},getSpacedPoints:function(c){c===void 0&&(c=40);for(var p=[],v=0;v<=c;v++)p.push(this.getPoint(v/c));return this.autoClose&&p.push(p[0]),p},getPoints:function(c){c=c||12;for(var p=[],v,w=0,T=this.curves;w<T.length;w++)for(var R=T[w],P=R&&R.isEllipseCurve?c*2:R&&(R.isLineCurve||R.isLineCurve3)?1:R&&R.isSplineCurve?c*R.points.length:c,H=R.getPoints(P),G=0;G<H.length;G++){var Z=H[G];v&&v.equals(Z)||(p.push(Z),v=Z)}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},copy:function(c){Oi.prototype.copy.call(this,c),this.curves=[];for(var p=0,v=c.curves.length;p<v;p++){var w=c.curves[p];this.curves.push(w.clone())}return this.autoClose=c.autoClose,this},toJSON:function(){var c=Oi.prototype.toJSON.call(this);c.autoClose=this.autoClose,c.curves=[];for(var p=0,v=this.curves.length;p<v;p++){var w=this.curves[p];c.curves.push(w.toJSON())}return c},fromJSON:function(c){Oi.prototype.fromJSON.call(this,c),this.autoClose=c.autoClose,this.curves=[];for(var p=0,v=c.curves.length;p<v;p++){var w=c.curves[p];this.curves.push(new XW[w.type]().fromJSON(w))}return this}});function VA(c){Dm.call(this),this.type="Path",this.currentPoint=new ir,c&&this.setFromPoints(c)}VA.prototype=Object.assign(Object.create(Dm.prototype),{constructor:VA,setFromPoints:function(c){this.moveTo(c[0].x,c[0].y);for(var p=1,v=c.length;p<v;p++)this.lineTo(c[p].x,c[p].y)},moveTo:function(c,p){this.currentPoint.set(c,p)},lineTo:function(c,p){var v=new pd(this.currentPoint.clone(),new ir(c,p));this.curves.push(v),this.currentPoint.set(c,p)},quadraticCurveTo:function(c,p,v,w){var T=new HA(this.currentPoint.clone(),new ir(c,p),new ir(v,w));this.curves.push(T),this.currentPoint.set(v,w)},bezierCurveTo:function(c,p,v,w,T,R){var P=new kA(this.currentPoint.clone(),new ir(c,p),new ir(v,w),new ir(T,R));this.curves.push(P),this.currentPoint.set(T,R)},splineThru:function(c){var p=[this.currentPoint.clone()].concat(c),v=new GA(p);this.curves.push(v),this.currentPoint.copy(c[c.length-1])},arc:function(c,p,v,w,T,R){var P=this.currentPoint.x,H=this.currentPoint.y;this.absarc(c+P,p+H,v,w,T,R)},absarc:function(c,p,v,w,T,R){this.absellipse(c,p,v,v,w,T,R)},ellipse:function(c,p,v,w,T,R,P,H){var G=this.currentPoint.x,Z=this.currentPoint.y;this.absellipse(c+G,p+Z,v,w,T,R,P,H)},absellipse:function(c,p,v,w,T,R,P,H){var G=new nf(c,p,v,w,T,R,P,H);if(this.curves.length>0){var Z=G.getPoint(0);Z.equals(this.currentPoint)||this.lineTo(Z.x,Z.y)}this.curves.push(G);var ee=G.getPoint(1);this.currentPoint.copy(ee)},copy:function(c){return Dm.prototype.copy.call(this,c),this.currentPoint.copy(c.currentPoint),this},toJSON:function(){var c=Dm.prototype.toJSON.call(this);return c.currentPoint=this.currentPoint.toArray(),c},fromJSON:function(c){return Dm.prototype.fromJSON.call(this,c),this.currentPoint.fromArray(c.currentPoint),this}});function d0(c){VA.call(this,c),this.uuid=qi.generateUUID(),this.type="Shape",this.holes=[]}d0.prototype=Object.assign(Object.create(VA.prototype),{constructor:d0,getPointsHoles:function(c){for(var p=[],v=0,w=this.holes.length;v<w;v++)p[v]=this.holes[v].getPoints(c);return p},extractPoints:function(c){return{shape:this.getPoints(c),holes:this.getPointsHoles(c)}},copy:function(c){VA.prototype.copy.call(this,c),this.holes=[];for(var p=0,v=c.holes.length;p<v;p++){var w=c.holes[p];this.holes.push(w.clone())}return this},toJSON:function(){var c=VA.prototype.toJSON.call(this);c.uuid=this.uuid,c.holes=[];for(var p=0,v=this.holes.length;p<v;p++){var w=this.holes[p];c.holes.push(w.toJSON())}return c},fromJSON:function(c){VA.prototype.fromJSON.call(this,c),this.uuid=c.uuid,this.holes=[];for(var p=0,v=c.holes.length;p<v;p++){var w=c.holes[p];this.holes.push(new VA().fromJSON(w))}return this}});function gl(c,p){Vr.call(this),this.type="Light",this.color=new fi(c),this.intensity=p!==void 0?p:1,this.receiveShadow=void 0}gl.prototype=Object.assign(Object.create(Vr.prototype),{constructor:gl,isLight:!0,copy:function(c){return Vr.prototype.copy.call(this,c),this.color.copy(c.color),this.intensity=c.intensity,this},toJSON:function(c){var p=Vr.prototype.toJSON.call(this,c);return p.object.color=this.color.getHex(),p.object.intensity=this.intensity,this.groundColor!==void 0&&(p.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(p.object.distance=this.distance),this.angle!==void 0&&(p.object.angle=this.angle),this.decay!==void 0&&(p.object.decay=this.decay),this.penumbra!==void 0&&(p.object.penumbra=this.penumbra),this.shadow!==void 0&&(p.object.shadow=this.shadow.toJSON()),p}});function DB(c,p,v){gl.call(this,c,v),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Vr.DefaultUp),this.updateMatrix(),this.groundColor=new fi(p)}DB.prototype=Object.assign(Object.create(gl.prototype),{constructor:DB,isHemisphereLight:!0,copy:function(c){return gl.prototype.copy.call(this,c),this.groundColor.copy(c.groundColor),this}});function w_(c){this.camera=c,this.bias=0,this.radius=1,this.mapSize=new ir(512,512),this.map=null,this.matrix=new ur}Object.assign(w_.prototype,{copy:function(c){return this.camera=c.camera.clone(),this.bias=c.bias,this.radius=c.radius,this.mapSize.copy(c.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var c={};return this.bias!==0&&(c.bias=this.bias),this.radius!==1&&(c.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(c.mapSize=this.mapSize.toArray()),c.camera=this.camera.toJSON(!1).object,delete c.camera.matrix,c}});function kB(){w_.call(this,new po(50,1,.5,500))}kB.prototype=Object.assign(Object.create(w_.prototype),{constructor:kB,isSpotLightShadow:!0,update:function(c){var p=this.camera,v=qi.RAD2DEG*2*c.angle,w=this.mapSize.width/this.mapSize.height,T=c.distance||p.far;(v!==p.fov||w!==p.aspect||T!==p.far)&&(p.fov=v,p.aspect=w,p.far=T,p.updateProjectionMatrix())}});function UB(c,p,v,w,T,R){gl.call(this,c,p),this.type="SpotLight",this.position.copy(Vr.DefaultUp),this.updateMatrix(),this.target=new Vr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(P){this.intensity=P/Math.PI}}),this.distance=v!==void 0?v:0,this.angle=w!==void 0?w:Math.PI/3,this.penumbra=T!==void 0?T:0,this.decay=R!==void 0?R:1,this.shadow=new kB}UB.prototype=Object.assign(Object.create(gl.prototype),{constructor:UB,isSpotLight:!0,copy:function(c){return gl.prototype.copy.call(this,c),this.distance=c.distance,this.angle=c.angle,this.penumbra=c.penumbra,this.decay=c.decay,this.target=c.target.clone(),this.shadow=c.shadow.clone(),this}});function HB(c,p,v,w){gl.call(this,c,p),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(T){this.intensity=T/(4*Math.PI)}}),this.distance=v!==void 0?v:0,this.decay=w!==void 0?w:1,this.shadow=new w_(new po(90,1,.5,500))}HB.prototype=Object.assign(Object.create(gl.prototype),{constructor:HB,isPointLight:!0,copy:function(c){return gl.prototype.copy.call(this,c),this.distance=c.distance,this.decay=c.decay,this.shadow=c.shadow.clone(),this}});function GB(){w_.call(this,new tg(-5,5,5,-5,.5,500))}GB.prototype=Object.assign(Object.create(w_.prototype),{constructor:GB});function VB(c,p){gl.call(this,c,p),this.type="DirectionalLight",this.position.copy(Vr.DefaultUp),this.updateMatrix(),this.target=new Vr,this.shadow=new GB}VB.prototype=Object.assign(Object.create(gl.prototype),{constructor:VB,isDirectionalLight:!0,copy:function(c){return gl.prototype.copy.call(this,c),this.target=c.target.clone(),this.shadow=c.shadow.clone(),this}});function zB(c,p){gl.call(this,c,p),this.type="AmbientLight",this.castShadow=void 0}zB.prototype=Object.assign(Object.create(gl.prototype),{constructor:zB,isAmbientLight:!0});function $B(c,p,v,w){gl.call(this,c,p),this.type="RectAreaLight",this.width=v!==void 0?v:10,this.height=w!==void 0?w:10}$B.prototype=Object.assign(Object.create(gl.prototype),{constructor:$B,isRectAreaLight:!0,copy:function(c){return gl.prototype.copy.call(this,c),this.width=c.width,this.height=c.height,this},toJSON:function(c){var p=gl.prototype.toJSON.call(this,c);return p.object.width=this.width,p.object.height=this.height,p}});var ku={arraySlice:function(c,p,v){return ku.isTypedArray(c)?new c.constructor(c.subarray(p,v!==void 0?v:c.length)):c.slice(p,v)},convertArray:function(c,p,v){return!c||!v&&c.constructor===p?c:typeof p.BYTES_PER_ELEMENT=="number"?new p(c):Array.prototype.slice.call(c)},isTypedArray:function(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)},getKeyframeOrder:function(c){function p(R,P){return c[R]-c[P]}for(var v=c.length,w=new Array(v),T=0;T!==v;++T)w[T]=T;return w.sort(p),w},sortedArray:function(c,p,v){for(var w=c.length,T=new c.constructor(w),R=0,P=0;P!==w;++R)for(var H=v[R]*p,G=0;G!==p;++G)T[P++]=c[H+G];return T},flattenJSON:function(c,p,v,w){for(var T=1,R=c[0];R!==void 0&&R[w]===void 0;)R=c[T++];if(R!==void 0){var P=R[w];if(P!==void 0)if(Array.isArray(P))do P=R[w],P!==void 0&&(p.push(R.time),v.push.apply(v,P)),R=c[T++];while(R!==void 0);else if(P.toArray!==void 0)do P=R[w],P!==void 0&&(p.push(R.time),P.toArray(v,v.length)),R=c[T++];while(R!==void 0);else do P=R[w],P!==void 0&&(p.push(R.time),v.push(P)),R=c[T++];while(R!==void 0)}}};function rf(c,p,v,w){this.parameterPositions=c,this._cachedIndex=0,this.resultBuffer=w!==void 0?w:new p.constructor(v),this.sampleValues=p,this.valueSize=v}Object.assign(rf.prototype,{evaluate:function(c){var p=this.parameterPositions,v=this._cachedIndex,w=p[v],T=p[v-1];e:{t:{var R;n:{i:if(!(c<w)){for(var P=v+2;;){if(w===void 0){if(c<T)break i;return v=p.length,this._cachedIndex=v,this.afterEnd_(v-1,c,T)}if(v===P)break;if(T=w,w=p[++v],c<w)break t}R=p.length;break n}if(!(c>=T)){var H=p[1];c<H&&(v=2,T=H);for(var P=v-2;;){if(T===void 0)return this._cachedIndex=0,this.beforeStart_(0,c,w);if(v===P)break;if(w=T,T=p[--v-1],c>=T)break t}R=v,v=0;break n}break e}for(;v<R;){var G=v+R>>>1;c<p[G]?R=G:v=G+1}if(w=p[v],T=p[v-1],T===void 0)return this._cachedIndex=0,this.beforeStart_(0,c,w);if(w===void 0)return v=p.length,this._cachedIndex=v,this.afterEnd_(v-1,T,c)}this._cachedIndex=v,this.intervalChanged_(v,T,w)}return this.interpolate_(v,T,c,w)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(c){for(var p=this.resultBuffer,v=this.sampleValues,w=this.valueSize,T=c*w,R=0;R!==w;++R)p[R]=v[T+R];return p},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(rf.prototype,{beforeStart_:rf.prototype.copySampleValue_,afterEnd_:rf.prototype.copySampleValue_});function QB(c,p,v,w){rf.call(this,c,p,v,w),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}QB.prototype=Object.assign(Object.create(rf.prototype),{constructor:QB,DefaultSettings_:{endingStart:iu,endingEnd:iu},intervalChanged_:function(c,p,v){var w=this.parameterPositions,T=c-2,R=c+1,P=w[T],H=w[R];if(P===void 0)switch(this.getSettings_().endingStart){case fo:T=c,P=2*p-v;break;case td:T=w.length-2,P=p+w[T]-w[T+1];break;default:T=c,P=v}if(H===void 0)switch(this.getSettings_().endingEnd){case fo:R=c,H=2*v-p;break;case td:R=1,H=v+w[1]-w[0];break;default:R=c-1,H=p}var G=(v-p)*.5,Z=this.valueSize;this._weightPrev=G/(p-P),this._weightNext=G/(H-v),this._offsetPrev=T*Z,this._offsetNext=R*Z},interpolate_:function(c,p,v,w){for(var T=this.resultBuffer,R=this.sampleValues,P=this.valueSize,H=c*P,G=H-P,Z=this._offsetPrev,ee=this._offsetNext,re=this._weightPrev,se=this._weightNext,Ae=(v-p)/(w-p),_e=Ae*Ae,Ue=_e*Ae,We=-re*Ue+2*re*_e-re*Ae,Ke=(1+re)*Ue+(-1.5-2*re)*_e+(-.5+re)*Ae+1,rt=(-1-se)*Ue+(1.5+se)*_e+.5*Ae,et=se*Ue-se*_e,qe=0;qe!==P;++qe)T[qe]=We*R[Z+qe]+Ke*R[G+qe]+rt*R[H+qe]+et*R[ee+qe];return T}});function WC(c,p,v,w){rf.call(this,c,p,v,w)}WC.prototype=Object.assign(Object.create(rf.prototype),{constructor:WC,interpolate_:function(c,p,v,w){for(var T=this.resultBuffer,R=this.sampleValues,P=this.valueSize,H=c*P,G=H-P,Z=(v-p)/(w-p),ee=1-Z,re=0;re!==P;++re)T[re]=R[G+re]*ee+R[H+re]*Z;return T}});function WB(c,p,v,w){rf.call(this,c,p,v,w)}WB.prototype=Object.assign(Object.create(rf.prototype),{constructor:WB,interpolate_:function(c){return this.copySampleValue_(c-1)}});function hu(c,p,v,w){if(c===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(p===void 0||p.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+c);this.name=c,this.times=ku.convertArray(p,this.TimeBufferType),this.values=ku.convertArray(v,this.ValueBufferType),this.setInterpolation(w||this.DefaultInterpolation)}Object.assign(hu,{toJSON:function(c){var p=c.constructor,v;if(p.toJSON!==void 0)v=p.toJSON(c);else{v={name:c.name,times:ku.convertArray(c.times,Array),values:ku.convertArray(c.values,Array)};var w=c.getInterpolation();w!==c.DefaultInterpolation&&(v.interpolation=w)}return v.type=c.ValueTypeName,v}}),Object.assign(hu.prototype,{constructor:hu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:TA,InterpolantFactoryMethodDiscrete:function(c){return new WB(this.times,this.values,this.getValueSize(),c)},InterpolantFactoryMethodLinear:function(c){return new WC(this.times,this.values,this.getValueSize(),c)},InterpolantFactoryMethodSmooth:function(c){return new QB(this.times,this.values,this.getValueSize(),c)},setInterpolation:function(c){var p;switch(c){case jd:p=this.InterpolantFactoryMethodDiscrete;break;case TA:p=this.InterpolantFactoryMethodLinear;break;case Xl:p=this.InterpolantFactoryMethodSmooth;break}if(p===void 0){var v="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(c!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(v);return console.warn("THREE.KeyframeTrack:",v),this}return this.createInterpolant=p,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jd;case this.InterpolantFactoryMethodLinear:return TA;case this.InterpolantFactoryMethodSmooth:return Xl}},getValueSize:function(){return this.values.length/this.times.length},shift:function(c){if(c!==0)for(var p=this.times,v=0,w=p.length;v!==w;++v)p[v]+=c;return this},scale:function(c){if(c!==1)for(var p=this.times,v=0,w=p.length;v!==w;++v)p[v]*=c;return this},trim:function(c,p){for(var v=this.times,w=v.length,T=0,R=w-1;T!==w&&v[T]<c;)++T;for(;R!==-1&&v[R]>p;)--R;if(++R,T!==0||R!==w){T>=R&&(R=Math.max(R,1),T=R-1);var P=this.getValueSize();this.times=ku.arraySlice(v,T,R),this.values=ku.arraySlice(this.values,T*P,R*P)}return this},validate:function(){var c=!0,p=this.getValueSize();p-Math.floor(p)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),c=!1);var v=this.times,w=this.values,T=v.length;T===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),c=!1);for(var R=null,P=0;P!==T;P++){var H=v[P];if(typeof H=="number"&&isNaN(H)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,P,H),c=!1;break}if(R!==null&&R>H){console.error("THREE.KeyframeTrack: Out of order keys.",this,P,H,R),c=!1;break}R=H}if(w!==void 0&&ku.isTypedArray(w))for(var P=0,G=w.length;P!==G;++P){var Z=w[P];if(isNaN(Z)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,P,Z),c=!1;break}}return c},optimize:function(){for(var c=this.times,p=this.values,v=this.getValueSize(),w=this.getInterpolation()===Xl,T=1,R=c.length-1,P=1;P<R;++P){var H=!1,G=c[P],Z=c[P+1];if(G!==Z&&(P!==1||G!==G[0]))if(w)H=!0;else for(var ee=P*v,re=ee-v,se=ee+v,Ae=0;Ae!==v;++Ae){var _e=p[ee+Ae];if(_e!==p[re+Ae]||_e!==p[se+Ae]){H=!0;break}}if(H){if(P!==T){c[T]=c[P];for(var Ue=P*v,We=T*v,Ae=0;Ae!==v;++Ae)p[We+Ae]=p[Ue+Ae]}++T}}if(R>0){c[T]=c[R];for(var Ue=R*v,We=T*v,Ae=0;Ae!==v;++Ae)p[We+Ae]=p[Ue+Ae];++T}return T!==c.length&&(this.times=ku.arraySlice(c,0,T),this.values=ku.arraySlice(p,0,T*v)),this}});function jB(c,p,v){hu.call(this,c,p,v)}jB.prototype=Object.assign(Object.create(hu.prototype),{constructor:jB,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:jd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function KB(c,p,v,w){hu.call(this,c,p,v,w)}KB.prototype=Object.assign(Object.create(hu.prototype),{constructor:KB,ValueTypeName:"color"});function gb(c,p,v,w){hu.call(this,c,p,v,w)}gb.prototype=Object.assign(Object.create(hu.prototype),{constructor:gb,ValueTypeName:"number"});function qB(c,p,v,w){rf.call(this,c,p,v,w)}qB.prototype=Object.assign(Object.create(rf.prototype),{constructor:qB,interpolate_:function(c,p,v,w){for(var T=this.resultBuffer,R=this.sampleValues,P=this.valueSize,H=c*P,G=(v-p)/(w-p),Z=H+P;H!==Z;H+=4)Fo.slerpFlat(T,0,R,H-P,R,H,G);return T}});function jC(c,p,v,w){hu.call(this,c,p,v,w)}jC.prototype=Object.assign(Object.create(hu.prototype),{constructor:jC,ValueTypeName:"quaternion",DefaultInterpolation:TA,InterpolantFactoryMethodLinear:function(c){return new qB(this.times,this.values,this.getValueSize(),c)},InterpolantFactoryMethodSmooth:void 0});function XB(c,p,v,w){hu.call(this,c,p,v,w)}XB.prototype=Object.assign(Object.create(hu.prototype),{constructor:XB,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:jd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function mb(c,p,v,w){hu.call(this,c,p,v,w)}mb.prototype=Object.assign(Object.create(hu.prototype),{constructor:mb,ValueTypeName:"vector"});function Kf(c,p,v){this.name=c,this.tracks=v,this.duration=p!==void 0?p:-1,this.uuid=qi.generateUUID(),this.duration<0&&this.resetDuration()}function q_e(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gb;case"vector":case"vector2":case"vector3":case"vector4":return mb;case"color":return KB;case"quaternion":return jC;case"bool":case"boolean":return jB;case"string":return XB}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function X_e(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var p=q_e(c.type);if(c.times===void 0){var v=[],w=[];ku.flattenJSON(c.keys,v,w,"value"),c.times=v,c.values=w}return p.parse!==void 0?p.parse(c):new p(c.name,c.times,c.values,c.interpolation)}Object.assign(Kf,{parse:function(c){for(var p=[],v=c.tracks,w=1/(c.fps||1),T=0,R=v.length;T!==R;++T)p.push(X_e(v[T]).scale(w));return new Kf(c.name,c.duration,p)},toJSON:function(c){for(var p=[],v=c.tracks,w={name:c.name,duration:c.duration,tracks:p,uuid:c.uuid},T=0,R=v.length;T!==R;++T)p.push(hu.toJSON(v[T]));return w},CreateFromMorphTargetSequence:function(c,p,v,w){for(var T=p.length,R=[],P=0;P<T;P++){var H=[],G=[];H.push((P+T-1)%T,P,(P+1)%T),G.push(0,1,0);var Z=ku.getKeyframeOrder(H);H=ku.sortedArray(H,1,Z),G=ku.sortedArray(G,1,Z),!w&&H[0]===0&&(H.push(T),G.push(G[0])),R.push(new gb(".morphTargetInfluences["+p[P].name+"]",H,G).scale(1/v))}return new Kf(c,-1,R)},findByName:function(c,p){var v=c;if(!Array.isArray(c)){var w=c;v=w.geometry&&w.geometry.animations||w.animations}for(var T=0;T<v.length;T++)if(v[T].name===p)return v[T];return null},CreateClipsFromMorphTargetSequences:function(c,p,v){for(var w={},T=/^([\w-]*?)([\d]+)$/,R=0,P=c.length;R<P;R++){var H=c[R],G=H.name.match(T);if(G&&G.length>1){var Z=G[1],ee=w[Z];ee||(w[Z]=ee=[]),ee.push(H)}}var re=[];for(var Z in w)re.push(Kf.CreateFromMorphTargetSequence(Z,w[Z],p,v));return re},parseAnimation:function(c,p){if(!c)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var v=function(et,qe,It,Nt,Ot){if(It.length!==0){var en=[],Ut=[];ku.flattenJSON(It,en,Ut,Nt),en.length!==0&&Ot.push(new et(qe,en,Ut))}},w=[],T=c.name||"default",R=c.length||-1,P=c.fps||30,H=c.hierarchy||[],G=0;G<H.length;G++){var Z=H[G].keys;if(!(!Z||Z.length===0))if(Z[0].morphTargets){for(var ee={},re=0;re<Z.length;re++)if(Z[re].morphTargets)for(var se=0;se<Z[re].morphTargets.length;se++)ee[Z[re].morphTargets[se]]=-1;for(var Ae in ee){for(var _e=[],Ue=[],se=0;se!==Z[re].morphTargets.length;++se){var We=Z[re];_e.push(We.time),Ue.push(We.morphTarget===Ae?1:0)}w.push(new gb(".morphTargetInfluence["+Ae+"]",_e,Ue))}R=ee.length*P}else{var Ke=".bones["+p[G].name+"]";v(mb,Ke+".position",Z,"pos",w),v(jC,Ke+".quaternion",Z,"rot",w),v(mb,Ke+".scale",Z,"scl",w)}}if(w.length===0)return null;var rt=new Kf(T,R,w);return rt}}),Object.assign(Kf.prototype,{resetDuration:function(){for(var c=this.tracks,p=0,v=0,w=c.length;v!==w;++v){var T=this.tracks[v];p=Math.max(p,T.times[T.times.length-1])}return this.duration=p,this},trim:function(){for(var c=0;c<this.tracks.length;c++)this.tracks[c].trim(0,this.duration);return this},validate:function(){for(var c=!0,p=0;p<this.tracks.length;p++)c=c&&this.tracks[p].validate();return c},optimize:function(){for(var c=0;c<this.tracks.length;c++)this.tracks[c].optimize();return this}});function YB(c){this.manager=c!==void 0?c:Ad,this.textures={}}Object.assign(YB.prototype,{load:function(c,p,v,w){var T=this,R=new DA(T.manager);R.load(c,function(P){p(T.parse(JSON.parse(P)))},v,w)},setTextures:function(c){this.textures=c},parse:function(c){var p=this.textures;function v(H){return p[H]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",H),p[H]}var w=new G_e[c.type];if(c.uuid!==void 0&&(w.uuid=c.uuid),c.name!==void 0&&(w.name=c.name),c.color!==void 0&&w.color.setHex(c.color),c.roughness!==void 0&&(w.roughness=c.roughness),c.metalness!==void 0&&(w.metalness=c.metalness),c.emissive!==void 0&&w.emissive.setHex(c.emissive),c.specular!==void 0&&w.specular.setHex(c.specular),c.shininess!==void 0&&(w.shininess=c.shininess),c.clearCoat!==void 0&&(w.clearCoat=c.clearCoat),c.clearCoatRoughness!==void 0&&(w.clearCoatRoughness=c.clearCoatRoughness),c.vertexColors!==void 0&&(w.vertexColors=c.vertexColors),c.fog!==void 0&&(w.fog=c.fog),c.flatShading!==void 0&&(w.flatShading=c.flatShading),c.blending!==void 0&&(w.blending=c.blending),c.side!==void 0&&(w.side=c.side),c.opacity!==void 0&&(w.opacity=c.opacity),c.transparent!==void 0&&(w.transparent=c.transparent),c.alphaTest!==void 0&&(w.alphaTest=c.alphaTest),c.depthTest!==void 0&&(w.depthTest=c.depthTest),c.depthWrite!==void 0&&(w.depthWrite=c.depthWrite),c.colorWrite!==void 0&&(w.colorWrite=c.colorWrite),c.wireframe!==void 0&&(w.wireframe=c.wireframe),c.wireframeLinewidth!==void 0&&(w.wireframeLinewidth=c.wireframeLinewidth),c.wireframeLinecap!==void 0&&(w.wireframeLinecap=c.wireframeLinecap),c.wireframeLinejoin!==void 0&&(w.wireframeLinejoin=c.wireframeLinejoin),c.rotation!==void 0&&(w.rotation=c.rotation),c.linewidth!==1&&(w.linewidth=c.linewidth),c.dashSize!==void 0&&(w.dashSize=c.dashSize),c.gapSize!==void 0&&(w.gapSize=c.gapSize),c.scale!==void 0&&(w.scale=c.scale),c.polygonOffset!==void 0&&(w.polygonOffset=c.polygonOffset),c.polygonOffsetFactor!==void 0&&(w.polygonOffsetFactor=c.polygonOffsetFactor),c.polygonOffsetUnits!==void 0&&(w.polygonOffsetUnits=c.polygonOffsetUnits),c.skinning!==void 0&&(w.skinning=c.skinning),c.morphTargets!==void 0&&(w.morphTargets=c.morphTargets),c.dithering!==void 0&&(w.dithering=c.dithering),c.visible!==void 0&&(w.visible=c.visible),c.userData!==void 0&&(w.userData=c.userData),c.uniforms!==void 0)for(var T in c.uniforms){var R=c.uniforms[T];switch(w.uniforms[T]={},R.type){case"t":w.uniforms[T].value=v(R.value);break;case"c":w.uniforms[T].value=new fi().setHex(R.value);break;case"v2":w.uniforms[T].value=new ir().fromArray(R.value);break;case"v3":w.uniforms[T].value=new dt().fromArray(R.value);break;case"v4":w.uniforms[T].value=new Gs().fromArray(R.value);break;case"m4":w.uniforms[T].value=new ur().fromArray(R.value);break;default:w.uniforms[T].value=R.value}}if(c.defines!==void 0&&(w.defines=c.defines),c.vertexShader!==void 0&&(w.vertexShader=c.vertexShader),c.fragmentShader!==void 0&&(w.fragmentShader=c.fragmentShader),c.shading!==void 0&&(w.flatShading=c.shading===1),c.size!==void 0&&(w.size=c.size),c.sizeAttenuation!==void 0&&(w.sizeAttenuation=c.sizeAttenuation),c.map!==void 0&&(w.map=v(c.map)),c.alphaMap!==void 0&&(w.alphaMap=v(c.alphaMap),w.transparent=!0),c.bumpMap!==void 0&&(w.bumpMap=v(c.bumpMap)),c.bumpScale!==void 0&&(w.bumpScale=c.bumpScale),c.normalMap!==void 0&&(w.normalMap=v(c.normalMap)),c.normalMapType!==void 0&&(w.normalMapType=c.normalMapType),c.normalScale!==void 0){var P=c.normalScale;Array.isArray(P)===!1&&(P=[P,P]),w.normalScale=new ir().fromArray(P)}return c.displacementMap!==void 0&&(w.displacementMap=v(c.displacementMap)),c.displacementScale!==void 0&&(w.displacementScale=c.displacementScale),c.displacementBias!==void 0&&(w.displacementBias=c.displacementBias),c.roughnessMap!==void 0&&(w.roughnessMap=v(c.roughnessMap)),c.metalnessMap!==void 0&&(w.metalnessMap=v(c.metalnessMap)),c.emissiveMap!==void 0&&(w.emissiveMap=v(c.emissiveMap)),c.emissiveIntensity!==void 0&&(w.emissiveIntensity=c.emissiveIntensity),c.specularMap!==void 0&&(w.specularMap=v(c.specularMap)),c.envMap!==void 0&&(w.envMap=v(c.envMap)),c.reflectivity!==void 0&&(w.reflectivity=c.reflectivity),c.lightMap!==void 0&&(w.lightMap=v(c.lightMap)),c.lightMapIntensity!==void 0&&(w.lightMapIntensity=c.lightMapIntensity),c.aoMap!==void 0&&(w.aoMap=v(c.aoMap)),c.aoMapIntensity!==void 0&&(w.aoMapIntensity=c.aoMapIntensity),c.gradientMap!==void 0&&(w.gradientMap=v(c.gradientMap)),w}});function Fk(c){this.manager=c!==void 0?c:Ad}Object.assign(Fk.prototype,{load:function(c,p,v,w){var T=this,R=new DA(T.manager);R.load(c,function(P){p(T.parse(JSON.parse(P)))},v,w)},parse:function(c){var p=new ii,v=c.data.index;if(v!==void 0){var w=new YW[v.type](v.array);p.setIndex(new _s(w,1))}var T=c.data.attributes;for(var R in T){var P=T[R],w=new YW[P.type](P.array);p.addAttribute(R,new _s(w,P.itemSize,P.normalized))}var H=c.data.groups||c.data.drawcalls||c.data.offsets;if(H!==void 0)for(var G=0,Z=H.length;G!==Z;++G){var ee=H[G];p.addGroup(ee.start,ee.count,ee.materialIndex)}var re=c.data.boundingSphere;if(re!==void 0){var se=new dt;re.center!==void 0&&se.fromArray(re.center),p.boundingSphere=new Zo(se,re.radius)}return p}});var YW={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function vb(){}vb.Handlers={handlers:[],add:function(c,p){this.handlers.push(c,p)},get:function(c){for(var p=this.handlers,v=0,w=p.length;v<w;v+=2){var T=p[v],R=p[v+1];if(T.test(c))return R}return null}},Object.assign(vb.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(c,p,v){for(var w=[],T=0;T<c.length;++T)w[T]=this.createMaterial(c[T],p,v);return w},createMaterial:function(){var c={NoBlending:M,NormalBlending:B,AdditiveBlending:E,SubtractiveBlending:L,MultiplyBlending:I,CustomBlending:k},p=new fi,v=new OB,w=new YB;return function(R,P,H){var G={};function Z(Ae,_e,Ue,We,Ke){var rt=P+Ae,et=vb.Handlers.get(rt),qe;et!==null?qe=et.load(rt):(v.setCrossOrigin(H),qe=v.load(rt)),_e!==void 0&&(qe.repeat.fromArray(_e),_e[0]!==1&&(qe.wrapS=Qt),_e[1]!==1&&(qe.wrapT=Qt)),Ue!==void 0&&qe.offset.fromArray(Ue),We!==void 0&&(We[0]==="repeat"&&(qe.wrapS=Qt),We[0]==="mirror"&&(qe.wrapS=st),We[1]==="repeat"&&(qe.wrapT=Qt),We[1]==="mirror"&&(qe.wrapT=st)),Ke!==void 0&&(qe.anisotropy=Ke);var It=qi.generateUUID();return G[It]=qe,It}var ee={uuid:qi.generateUUID(),type:"MeshLambertMaterial"};for(var re in R){var se=R[re];switch(re){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":ee.name=se;break;case"blending":ee.blending=c[se];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",re,"is no longer supported.");break;case"colorDiffuse":ee.color=p.fromArray(se).getHex();break;case"colorSpecular":ee.specular=p.fromArray(se).getHex();break;case"colorEmissive":ee.emissive=p.fromArray(se).getHex();break;case"specularCoef":ee.shininess=se;break;case"shading":se.toLowerCase()==="basic"&&(ee.type="MeshBasicMaterial"),se.toLowerCase()==="phong"&&(ee.type="MeshPhongMaterial"),se.toLowerCase()==="standard"&&(ee.type="MeshStandardMaterial");break;case"mapDiffuse":ee.map=Z(se,R.mapDiffuseRepeat,R.mapDiffuseOffset,R.mapDiffuseWrap,R.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":ee.emissiveMap=Z(se,R.mapEmissiveRepeat,R.mapEmissiveOffset,R.mapEmissiveWrap,R.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":ee.lightMap=Z(se,R.mapLightRepeat,R.mapLightOffset,R.mapLightWrap,R.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":ee.aoMap=Z(se,R.mapAORepeat,R.mapAOOffset,R.mapAOWrap,R.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":ee.bumpMap=Z(se,R.mapBumpRepeat,R.mapBumpOffset,R.mapBumpWrap,R.mapBumpAnisotropy);break;case"mapBumpScale":ee.bumpScale=se;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":ee.normalMap=Z(se,R.mapNormalRepeat,R.mapNormalOffset,R.mapNormalWrap,R.mapNormalAnisotropy);break;case"mapNormalFactor":ee.normalScale=se;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":ee.specularMap=Z(se,R.mapSpecularRepeat,R.mapSpecularOffset,R.mapSpecularWrap,R.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":ee.metalnessMap=Z(se,R.mapMetalnessRepeat,R.mapMetalnessOffset,R.mapMetalnessWrap,R.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":ee.roughnessMap=Z(se,R.mapRoughnessRepeat,R.mapRoughnessOffset,R.mapRoughnessWrap,R.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":ee.alphaMap=Z(se,R.mapAlphaRepeat,R.mapAlphaOffset,R.mapAlphaWrap,R.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":ee.side=m;break;case"doubleSided":ee.side=g;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),ee.opacity=se;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":ee[re]=se;break;case"vertexColors":se===!0&&(ee.vertexColors=C),se==="face"&&(ee.vertexColors=S);break;default:console.error("THREE.Loader.createMaterial: Unsupported",re,se);break}}return ee.type==="MeshBasicMaterial"&&delete ee.emissive,ee.type!=="MeshPhongMaterial"&&delete ee.specular,ee.opacity<1&&(ee.transparent=!0),w.setTextures(G),w.parse(ee)}}()});var Ok={decodeText:function(c){if(typeof TextDecoder<"u")return new TextDecoder().decode(c);for(var p="",v=0,w=c.length;v<w;v++)p+=String.fromCharCode(c[v]);return decodeURIComponent(escape(p))},extractUrlBase:function(c){var p=c.lastIndexOf("/");return p===-1?"./":c.substr(0,p+1)}};function Nk(c){typeof c=="boolean"&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),c=void 0),this.manager=c!==void 0?c:Ad,this.withCredentials=!1}Object.assign(Nk.prototype,{crossOrigin:"anonymous",load:function(c,p,v,w){var T=this,R=this.texturePath&&typeof this.texturePath=="string"?this.texturePath:Ok.extractUrlBase(c),P=new DA(this.manager);P.setWithCredentials(this.withCredentials),P.load(c,function(H){var G=JSON.parse(H),Z=G.metadata;if(Z!==void 0){var ee=Z.type;if(ee!==void 0&&ee.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+c+" should be loaded with THREE.ObjectLoader instead.");return}}var re=T.parse(G,R);p(re.geometry,re.materials)},v,w)},setCrossOrigin:function(c){return this.crossOrigin=c,this},setTexturePath:function(c){return this.texturePath=c,this},parse:function(){function c(T,R){function P(er,Zr){return er&1<<Zr}var H,G,Z,ee,re,se,Ae,_e,Ue,We,Ke,rt,et,qe,It,Nt,Ot,en,Ut,fn,gn,qn,xr,sr,hr,Or,Mt,xt=T.faces,kn=T.vertices,En=T.normals,Dr=T.colors,jt=T.scale,Cr=0;if(T.uvs!==void 0){for(H=0;H<T.uvs.length;H++)T.uvs[H].length&&Cr++;for(H=0;H<Cr;H++)R.faceVertexUvs[H]=[]}for(ee=0,re=kn.length;ee<re;)en=new dt,en.x=kn[ee++]*jt,en.y=kn[ee++]*jt,en.z=kn[ee++]*jt,R.vertices.push(en);for(ee=0,re=xt.length;ee<re;)if(We=xt[ee++],Ke=P(We,0),rt=P(We,1),et=P(We,3),qe=P(We,4),It=P(We,5),Nt=P(We,6),Ot=P(We,7),Ke){if(fn=new vh,fn.a=xt[ee],fn.b=xt[ee+1],fn.c=xt[ee+3],gn=new vh,gn.a=xt[ee+1],gn.b=xt[ee+2],gn.c=xt[ee+3],ee+=4,rt&&(Ue=xt[ee++],fn.materialIndex=Ue,gn.materialIndex=Ue),Z=R.faces.length,et)for(H=0;H<Cr;H++)for(sr=T.uvs[H],R.faceVertexUvs[H][Z]=[],R.faceVertexUvs[H][Z+1]=[],G=0;G<4;G++)_e=xt[ee++],Or=sr[_e*2],Mt=sr[_e*2+1],hr=new ir(Or,Mt),G!==2&&R.faceVertexUvs[H][Z].push(hr),G!==0&&R.faceVertexUvs[H][Z+1].push(hr);if(qe&&(Ae=xt[ee++]*3,fn.normal.set(En[Ae++],En[Ae++],En[Ae]),gn.normal.copy(fn.normal)),It)for(H=0;H<4;H++)Ae=xt[ee++]*3,xr=new dt(En[Ae++],En[Ae++],En[Ae]),H!==2&&fn.vertexNormals.push(xr),H!==0&&gn.vertexNormals.push(xr);if(Nt&&(se=xt[ee++],qn=Dr[se],fn.color.setHex(qn),gn.color.setHex(qn)),Ot)for(H=0;H<4;H++)se=xt[ee++],qn=Dr[se],H!==2&&fn.vertexColors.push(new fi(qn)),H!==0&&gn.vertexColors.push(new fi(qn));R.faces.push(fn),R.faces.push(gn)}else{if(Ut=new vh,Ut.a=xt[ee++],Ut.b=xt[ee++],Ut.c=xt[ee++],rt&&(Ue=xt[ee++],Ut.materialIndex=Ue),Z=R.faces.length,et)for(H=0;H<Cr;H++)for(sr=T.uvs[H],R.faceVertexUvs[H][Z]=[],G=0;G<3;G++)_e=xt[ee++],Or=sr[_e*2],Mt=sr[_e*2+1],hr=new ir(Or,Mt),R.faceVertexUvs[H][Z].push(hr);if(qe&&(Ae=xt[ee++]*3,Ut.normal.set(En[Ae++],En[Ae++],En[Ae])),It)for(H=0;H<3;H++)Ae=xt[ee++]*3,xr=new dt(En[Ae++],En[Ae++],En[Ae]),Ut.vertexNormals.push(xr);if(Nt&&(se=xt[ee++],Ut.color.setHex(Dr[se])),Ot)for(H=0;H<3;H++)se=xt[ee++],Ut.vertexColors.push(new fi(Dr[se]));R.faces.push(Ut)}}function p(T,R){var P=T.influencesPerVertex!==void 0?T.influencesPerVertex:2;if(T.skinWeights)for(var H=0,G=T.skinWeights.length;H<G;H+=P){var Z=T.skinWeights[H],ee=P>1?T.skinWeights[H+1]:0,re=P>2?T.skinWeights[H+2]:0,se=P>3?T.skinWeights[H+3]:0;R.skinWeights.push(new Gs(Z,ee,re,se))}if(T.skinIndices)for(var H=0,G=T.skinIndices.length;H<G;H+=P){var Ae=T.skinIndices[H],_e=P>1?T.skinIndices[H+1]:0,Ue=P>2?T.skinIndices[H+2]:0,We=P>3?T.skinIndices[H+3]:0;R.skinIndices.push(new Gs(Ae,_e,Ue,We))}R.bones=T.bones,R.bones&&R.bones.length>0&&(R.skinWeights.length!==R.skinIndices.length||R.skinIndices.length!==R.vertices.length)&&console.warn("When skinning, number of vertices ("+R.vertices.length+"), skinIndices ("+R.skinIndices.length+"), and skinWeights ("+R.skinWeights.length+") should match.")}function v(T,R){var P=T.scale;if(T.morphTargets!==void 0)for(var H=0,G=T.morphTargets.length;H<G;H++){R.morphTargets[H]={},R.morphTargets[H].name=T.morphTargets[H].name,R.morphTargets[H].vertices=[];for(var Z=R.morphTargets[H].vertices,ee=T.morphTargets[H].vertices,re=0,se=ee.length;re<se;re+=3){var Ae=new dt;Ae.x=ee[re]*P,Ae.y=ee[re+1]*P,Ae.z=ee[re+2]*P,Z.push(Ae)}}if(T.morphColors!==void 0&&T.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var _e=R.faces,Ue=T.morphColors[0].colors,H=0,G=_e.length;H<G;H++)_e[H].color.fromArray(Ue,H*3)}}function w(T,R){var P=[],H=[];T.animation!==void 0&&H.push(T.animation),T.animations!==void 0&&(T.animations.length?H=H.concat(T.animations):H.push(T.animations));for(var G=0;G<H.length;G++){var Z=Kf.parseAnimation(H[G],R.bones);Z&&P.push(Z)}if(R.morphTargets){var ee=Kf.CreateClipsFromMorphTargetSequences(R.morphTargets,10);P=P.concat(ee)}P.length>0&&(R.animations=P)}return function(R,P){R.data!==void 0&&(R=R.data),R.scale!==void 0?R.scale=1/R.scale:R.scale=1;var H=new $i;if(c(R,H),p(R,H),v(R,H),w(R,H),H.computeFaceNormals(),H.computeBoundingSphere(),R.materials===void 0||R.materials.length===0)return{geometry:H};var G=vb.prototype.initMaterials(R.materials,P,this.crossOrigin);return{geometry:H,materials:G}}}()});function ZW(c){this.manager=c!==void 0?c:Ad,this.texturePath=""}Object.assign(ZW.prototype,{crossOrigin:"anonymous",load:function(c,p,v,w){this.texturePath===""&&(this.texturePath=c.substring(0,c.lastIndexOf("/")+1));var T=this,R=new DA(T.manager);R.load(c,function(P){var H=null;try{H=JSON.parse(P)}catch(Z){w!==void 0&&w(Z),console.error("THREE:ObjectLoader: Can't parse "+c+".",Z.message);return}var G=H.metadata;if(G===void 0||G.type===void 0||G.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+c+". Use THREE.JSONLoader instead.");return}T.parse(H,p)},v,w)},setTexturePath:function(c){return this.texturePath=c,this},setCrossOrigin:function(c){return this.crossOrigin=c,this},parse:function(c,p){var v=this.parseShape(c.shapes),w=this.parseGeometries(c.geometries,v),T=this.parseImages(c.images,function(){p!==void 0&&p(H)}),R=this.parseTextures(c.textures,T),P=this.parseMaterials(c.materials,R),H=this.parseObject(c.object,w,P);return c.animations&&(H.animations=this.parseAnimations(c.animations)),(c.images===void 0||c.images.length===0)&&p!==void 0&&p(H),H},parseShape:function(c){var p={};if(c!==void 0)for(var v=0,w=c.length;v<w;v++){var T=new d0().fromJSON(c[v]);p[T.uuid]=T}return p},parseGeometries:function(c,p){var v={};if(c!==void 0)for(var w=new Nk,T=new Fk,R=0,P=c.length;R<P;R++){var H,G=c[R];switch(G.type){case"PlaneGeometry":case"PlaneBufferGeometry":H=new fd[G.type](G.width,G.height,G.widthSegments,G.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":H=new fd[G.type](G.width,G.height,G.depth,G.widthSegments,G.heightSegments,G.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":H=new fd[G.type](G.radius,G.segments,G.thetaStart,G.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":H=new fd[G.type](G.radiusTop,G.radiusBottom,G.height,G.radialSegments,G.heightSegments,G.openEnded,G.thetaStart,G.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":H=new fd[G.type](G.radius,G.height,G.radialSegments,G.heightSegments,G.openEnded,G.thetaStart,G.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":H=new fd[G.type](G.radius,G.widthSegments,G.heightSegments,G.phiStart,G.phiLength,G.thetaStart,G.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":H=new fd[G.type](G.radius,G.detail);break;case"RingGeometry":case"RingBufferGeometry":H=new fd[G.type](G.innerRadius,G.outerRadius,G.thetaSegments,G.phiSegments,G.thetaStart,G.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":H=new fd[G.type](G.radius,G.tube,G.radialSegments,G.tubularSegments,G.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":H=new fd[G.type](G.radius,G.tube,G.tubularSegments,G.radialSegments,G.p,G.q);break;case"LatheGeometry":case"LatheBufferGeometry":H=new fd[G.type](G.points,G.segments,G.phiStart,G.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":H=new fd[G.type](G.vertices,G.indices,G.radius,G.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var se=[],Z=0,ee=G.shapes.length;Z<ee;Z++){var re=p[G.shapes[Z]];se.push(re)}H=new fd[G.type](se,G.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var se=[],Z=0,ee=G.shapes.length;Z<ee;Z++){var re=p[G.shapes[Z]];se.push(re)}var Ae=G.options.extrudePath;Ae!==void 0&&(G.options.extrudePath=new XW[Ae.type]().fromJSON(Ae)),H=new fd[G.type](se,G.options);break;case"BufferGeometry":H=T.parse(G);break;case"Geometry":H=w.parse(G,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+G.type+'"');continue}H.uuid=G.uuid,G.name!==void 0&&(H.name=G.name),H.isBufferGeometry===!0&&G.userData!==void 0&&(H.userData=G.userData),v[G.uuid]=H}return v},parseMaterials:function(c,p){var v={};if(c!==void 0){var w=new YB;w.setTextures(p);for(var T=0,R=c.length;T<R;T++){var P=c[T];if(P.type==="MultiMaterial"){for(var H=[],G=0;G<P.materials.length;G++)H.push(w.parse(P.materials[G]));v[P.uuid]=H}else v[P.uuid]=w.parse(P)}}return v},parseAnimations:function(c){for(var p=[],v=0;v<c.length;v++){var w=c[v],T=Kf.parse(w);w.uuid!==void 0&&(T.uuid=w.uuid),p.push(T)}return p},parseImages:function(c,p){var v=this,w={};function T(Ue){return v.manager.itemStart(Ue),P.load(Ue,function(){v.manager.itemEnd(Ue)},void 0,function(){v.manager.itemEnd(Ue),v.manager.itemError(Ue)})}if(c!==void 0&&c.length>0){var R=new Tk(p),P=new zC(R);P.setCrossOrigin(this.crossOrigin);for(var H=0,G=c.length;H<G;H++){var Z=c[H],ee=Z.url;if(Array.isArray(ee)){w[Z.uuid]=[];for(var re=0,se=ee.length;re<se;re++){var Ae=ee[re],_e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Ae)?Ae:v.texturePath+Ae;w[Z.uuid].push(T(_e))}}else{var _e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Z.url)?Z.url:v.texturePath+Z.url;w[Z.uuid]=T(_e)}}}return w},parseTextures:function(c,p){function v(G,Z){return typeof G=="number"?G:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",G),Z[G])}var w={};if(c!==void 0)for(var T=0,R=c.length;T<R;T++){var P=c[T];P.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',P.uuid),p[P.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",P.image);var H;Array.isArray(p[P.image])?H=new N(p[P.image]):H=new wa(p[P.image]),H.needsUpdate=!0,H.uuid=P.uuid,P.name!==void 0&&(H.name=P.name),P.mapping!==void 0&&(H.mapping=v(P.mapping,Y_e)),P.offset!==void 0&&H.offset.fromArray(P.offset),P.repeat!==void 0&&H.repeat.fromArray(P.repeat),P.center!==void 0&&H.center.fromArray(P.center),P.rotation!==void 0&&(H.rotation=P.rotation),P.wrap!==void 0&&(H.wrapS=v(P.wrap[0],JW),H.wrapT=v(P.wrap[1],JW)),P.format!==void 0&&(H.format=P.format),P.minFilter!==void 0&&(H.minFilter=v(P.minFilter,ej)),P.magFilter!==void 0&&(H.magFilter=v(P.magFilter,ej)),P.anisotropy!==void 0&&(H.anisotropy=P.anisotropy),P.flipY!==void 0&&(H.flipY=P.flipY),w[P.uuid]=H}return w},parseObject:function(c,p,v){var w;function T(_e){return p[_e]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_e),p[_e]}function R(_e){if(_e!==void 0){if(Array.isArray(_e)){for(var Ue=[],We=0,Ke=_e.length;We<Ke;We++){var rt=_e[We];v[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",rt),Ue.push(v[rt])}return Ue}return v[_e]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_e),v[_e]}}switch(c.type){case"Scene":w=new t_,c.background!==void 0&&Number.isInteger(c.background)&&(w.background=new fi(c.background)),c.fog!==void 0&&(c.fog.type==="Fog"?w.fog=new xh(c.fog.color,c.fog.near,c.fog.far):c.fog.type==="FogExp2"&&(w.fog=new ug(c.fog.color,c.fog.density)));break;case"PerspectiveCamera":w=new po(c.fov,c.aspect,c.near,c.far),c.focus!==void 0&&(w.focus=c.focus),c.zoom!==void 0&&(w.zoom=c.zoom),c.filmGauge!==void 0&&(w.filmGauge=c.filmGauge),c.filmOffset!==void 0&&(w.filmOffset=c.filmOffset),c.view!==void 0&&(w.view=Object.assign({},c.view));break;case"OrthographicCamera":w=new tg(c.left,c.right,c.top,c.bottom,c.near,c.far),c.zoom!==void 0&&(w.zoom=c.zoom),c.view!==void 0&&(w.view=Object.assign({},c.view));break;case"AmbientLight":w=new zB(c.color,c.intensity);break;case"DirectionalLight":w=new VB(c.color,c.intensity);break;case"PointLight":w=new HB(c.color,c.intensity,c.distance,c.decay);break;case"RectAreaLight":w=new $B(c.color,c.intensity,c.width,c.height);break;case"SpotLight":w=new UB(c.color,c.intensity,c.distance,c.angle,c.penumbra,c.decay);break;case"HemisphereLight":w=new DB(c.color,c.groundColor,c.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var P=T(c.geometry),H=R(c.material);P.bones&&P.bones.length>0?w=new tb(P,H):w=new uu(P,H);break;case"LOD":w=new c0;break;case"Line":w=new Dc(T(c.geometry),R(c.material),c.mode);break;case"LineLoop":w=new hd(T(c.geometry),R(c.material));break;case"LineSegments":w=new Va(T(c.geometry),R(c.material));break;case"PointCloud":case"Points":w=new Eh(T(c.geometry),R(c.material));break;case"Sprite":w=new r_(R(c.material));break;case"Group":w=new cg;break;default:w=new Vr}if(w.uuid=c.uuid,c.name!==void 0&&(w.name=c.name),c.matrix!==void 0?(w.matrix.fromArray(c.matrix),c.matrixAutoUpdate!==void 0&&(w.matrixAutoUpdate=c.matrixAutoUpdate),w.matrixAutoUpdate&&w.matrix.decompose(w.position,w.quaternion,w.scale)):(c.position!==void 0&&w.position.fromArray(c.position),c.rotation!==void 0&&w.rotation.fromArray(c.rotation),c.quaternion!==void 0&&w.quaternion.fromArray(c.quaternion),c.scale!==void 0&&w.scale.fromArray(c.scale)),c.castShadow!==void 0&&(w.castShadow=c.castShadow),c.receiveShadow!==void 0&&(w.receiveShadow=c.receiveShadow),c.shadow&&(c.shadow.bias!==void 0&&(w.shadow.bias=c.shadow.bias),c.shadow.radius!==void 0&&(w.shadow.radius=c.shadow.radius),c.shadow.mapSize!==void 0&&w.shadow.mapSize.fromArray(c.shadow.mapSize),c.shadow.camera!==void 0&&(w.shadow.camera=this.parseObject(c.shadow.camera))),c.visible!==void 0&&(w.visible=c.visible),c.frustumCulled!==void 0&&(w.frustumCulled=c.frustumCulled),c.renderOrder!==void 0&&(w.renderOrder=c.renderOrder),c.userData!==void 0&&(w.userData=c.userData),c.layers!==void 0&&(w.layers.mask=c.layers),c.children!==void 0)for(var G=c.children,Z=0;Z<G.length;Z++)w.add(this.parseObject(G[Z],p,v));if(c.type==="LOD")for(var ee=c.levels,re=0;re<ee.length;re++){var se=ee[re],Ae=w.getObjectByProperty("uuid",se.object);Ae!==void 0&&w.addLevel(Ae,se.distance)}return w}});var Y_e={UVMapping:we,CubeReflectionMapping:Ne,CubeRefractionMapping:Ze,EquirectangularReflectionMapping:Tt,EquirectangularRefractionMapping:Zt,SphericalReflectionMapping:ln,CubeUVReflectionMapping:Ye,CubeUVRefractionMapping:yt},JW={RepeatWrapping:Qt,ClampToEdgeWrapping:Dt,MirroredRepeatWrapping:st},ej={NearestFilter:ke,NearestMipMapNearestFilter:ct,NearestMipMapLinearFilter:Oe,LinearFilter:kt,LinearMipMapNearestFilter:wn,LinearMipMapLinearFilter:mt};function Dk(c){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=c!==void 0?c:Ad,this.options=void 0}Dk.prototype={constructor:Dk,setOptions:function(p){return this.options=p,this},load:function(c,p,v,w){c===void 0&&(c=""),this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);var T=this,R=__.get(c);if(R!==void 0)return T.manager.itemStart(c),setTimeout(function(){p&&p(R),T.manager.itemEnd(c)},0),R;fetch(c).then(function(P){return P.blob()}).then(function(P){return createImageBitmap(P,T.options)}).then(function(P){__.add(c,P),p&&p(P),T.manager.itemEnd(c)}).catch(function(P){w&&w(P),T.manager.itemEnd(c),T.manager.itemError(c)})},setCrossOrigin:function(){return this},setPath:function(c){return this.path=c,this}};function kk(){this.type="ShapePath",this.color=new fi,this.subPaths=[],this.currentPath=null}Object.assign(kk.prototype,{moveTo:function(c,p){this.currentPath=new VA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(c,p)},lineTo:function(c,p){this.currentPath.lineTo(c,p)},quadraticCurveTo:function(c,p,v,w){this.currentPath.quadraticCurveTo(c,p,v,w)},bezierCurveTo:function(c,p,v,w,T,R){this.currentPath.bezierCurveTo(c,p,v,w,T,R)},splineThru:function(c){this.currentPath.splineThru(c)},toShapes:function(c,p){function v(hr){for(var Or=[],Mt=0,xt=hr.length;Mt<xt;Mt++){var kn=hr[Mt],En=new d0;En.curves=kn.curves,Or.push(En)}return Or}function w(hr,Or){for(var Mt=Or.length,xt=!1,kn=Mt-1,En=0;En<Mt;kn=En++){var Dr=Or[kn],jt=Or[En],Cr=jt.x-Dr.x,er=jt.y-Dr.y;if(Math.abs(er)>Number.EPSILON){if(er<0&&(Dr=Or[En],Cr=-Cr,jt=Or[kn],er=-er),hr.y<Dr.y||hr.y>jt.y)continue;if(hr.y===Dr.y){if(hr.x===Dr.x)return!0}else{var Zr=er*(hr.x-Dr.x)-Cr*(hr.y-Dr.y);if(Zr===0)return!0;if(Zr<0)continue;xt=!xt}}else{if(hr.y!==Dr.y)continue;if(jt.x<=hr.x&&hr.x<=Dr.x||Dr.x<=hr.x&&hr.x<=jt.x)return!0}}return xt}var T=Om.isClockWise,R=this.subPaths;if(R.length===0)return[];if(p===!0)return v(R);var P,H,G,Z=[];if(R.length===1)return H=R[0],G=new d0,G.curves=H.curves,Z.push(G),Z;var ee=!T(R[0].getPoints());ee=c?!ee:ee;var re=[],se=[],Ae=[],_e=0,Ue;se[_e]=void 0,Ae[_e]=[];for(var We=0,Ke=R.length;We<Ke;We++)H=R[We],Ue=H.getPoints(),P=T(Ue),P=c?!P:P,P?(!ee&&se[_e]&&_e++,se[_e]={s:new d0,p:Ue},se[_e].s.curves=H.curves,ee&&_e++,Ae[_e]=[]):Ae[_e].push({h:H,p:Ue[0]});if(!se[0])return v(R);if(se.length>1){for(var rt=!1,et=[],qe=0,It=se.length;qe<It;qe++)re[qe]=[];for(var qe=0,It=se.length;qe<It;qe++)for(var Nt=Ae[qe],Ot=0;Ot<Nt.length;Ot++){for(var en=Nt[Ot],Ut=!0,fn=0;fn<se.length;fn++)w(en.p,se[fn].p)&&(qe!==fn&&et.push({froms:qe,tos:fn,hole:Ot}),Ut?(Ut=!1,re[fn].push(en)):rt=!0);Ut&&re[qe].push(en)}et.length>0&&(rt||(Ae=re))}for(var gn,We=0,qn=se.length;We<qn;We++){G=se[We].s,Z.push(G),gn=Ae[We];for(var xr=0,sr=gn.length;xr<sr;xr++)G.holes.push(gn[xr].h)}return Z}});function Uk(c){this.type="Font",this.data=c}Object.assign(Uk.prototype,{isFont:!0,generateShapes:function(c,p){p===void 0&&(p=100);for(var v=[],w=Z_e(c,p,this.data),T=0,R=w.length;T<R;T++)Array.prototype.push.apply(v,w[T].toShapes());return v}});function Z_e(c,p,v){for(var w=Array.from?Array.from(c):String(c).split(""),T=p/v.resolution,R=(v.boundingBox.yMax-v.boundingBox.yMin+v.underlineThickness)*T,P=[],H=0,G=0,Z=0;Z<w.length;Z++){var ee=w[Z];if(ee==="\n")H=0,G-=R;else{var re=J_e(ee,T,H,G,v);H+=re.offsetX,P.push(re.path)}}return P}function J_e(c,p,v,w,T){var R=T.glyphs[c]||T.glyphs["?"];if(R){var P=new kk,H,G,Z,ee,re,se,Ae,_e;if(R.o)for(var Ue=R._cachedOutline||(R._cachedOutline=R.o.split(" ")),We=0,Ke=Ue.length;We<Ke;){var rt=Ue[We++];switch(rt){case"m":H=Ue[We++]*p+v,G=Ue[We++]*p+w,P.moveTo(H,G);break;case"l":H=Ue[We++]*p+v,G=Ue[We++]*p+w,P.lineTo(H,G);break;case"q":Z=Ue[We++]*p+v,ee=Ue[We++]*p+w,re=Ue[We++]*p+v,se=Ue[We++]*p+w,P.quadraticCurveTo(re,se,Z,ee);break;case"b":Z=Ue[We++]*p+v,ee=Ue[We++]*p+w,re=Ue[We++]*p+v,se=Ue[We++]*p+w,Ae=Ue[We++]*p+v,_e=Ue[We++]*p+w,P.bezierCurveTo(re,se,Ae,_e,Z,ee);break}}return{offsetX:R.ha*p,path:P}}}function tj(c){this.manager=c!==void 0?c:Ad}Object.assign(tj.prototype,{load:function(c,p,v,w){var T=this,R=new DA(this.manager);R.setPath(this.path),R.load(c,function(P){var H;try{H=JSON.parse(P)}catch(Z){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),H=JSON.parse(P.substring(65,P.length-2))}var G=T.parse(H);p&&p(G)},v,w)},parse:function(c){return new Uk(c)},setPath:function(c){return this.path=c,this}});var ZB,Hk={getContext:function(){return ZB===void 0&&(ZB=new(window.AudioContext||window.webkitAudioContext)),ZB},setContext:function(c){ZB=c}};function Gk(c){this.manager=c!==void 0?c:Ad}Object.assign(Gk.prototype,{load:function(c,p,v,w){var T=new DA(this.manager);T.setResponseType("arraybuffer"),T.load(c,function(R){var P=R.slice(0),H=Hk.getContext();H.decodeAudioData(P,function(G){p(G)})},v,w)}});function nj(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new po,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new po,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(nj.prototype,{update:function(){var c,p,v,w,T,R,P,H,G=new ur,Z=new ur;return function(re){var se=c!==this||p!==re.focus||v!==re.fov||w!==re.aspect*this.aspect||T!==re.near||R!==re.far||P!==re.zoom||H!==this.eyeSep;if(se){c=this,p=re.focus,v=re.fov,w=re.aspect*this.aspect,T=re.near,R=re.far,P=re.zoom;var Ae=re.projectionMatrix.clone();H=this.eyeSep/2;var _e=H*T/p,Ue=T*Math.tan(qi.DEG2RAD*v*.5)/P,We,Ke;Z.elements[12]=-H,G.elements[12]=H,We=-Ue*w+_e,Ke=Ue*w+_e,Ae.elements[0]=2*T/(Ke-We),Ae.elements[8]=(Ke+We)/(Ke-We),this.cameraL.projectionMatrix.copy(Ae),We=-Ue*w-_e,Ke=Ue*w-_e,Ae.elements[0]=2*T/(Ke-We),Ae.elements[8]=(Ke+We)/(Ke-We),this.cameraR.projectionMatrix.copy(Ae)}this.cameraL.matrixWorld.copy(re.matrixWorld).multiply(Z),this.cameraR.matrixWorld.copy(re.matrixWorld).multiply(G)}}()});function KC(c,p,v){Vr.call(this),this.type="CubeCamera";var w=90,T=1,R=new po(w,T,c,p);R.up.set(0,-1,0),R.lookAt(new dt(1,0,0)),this.add(R);var P=new po(w,T,c,p);P.up.set(0,-1,0),P.lookAt(new dt(-1,0,0)),this.add(P);var H=new po(w,T,c,p);H.up.set(0,0,1),H.lookAt(new dt(0,1,0)),this.add(H);var G=new po(w,T,c,p);G.up.set(0,0,-1),G.lookAt(new dt(0,-1,0)),this.add(G);var Z=new po(w,T,c,p);Z.up.set(0,-1,0),Z.lookAt(new dt(0,0,1)),this.add(Z);var ee=new po(w,T,c,p);ee.up.set(0,-1,0),ee.lookAt(new dt(0,0,-1)),this.add(ee);var re={format:Hi,magFilter:kt,minFilter:kt};this.renderTarget=new Df(v,v,re),this.renderTarget.texture.name="CubeCamera",this.update=function(se,Ae){this.parent===null&&this.updateMatrixWorld();var _e=this.renderTarget,Ue=_e.texture.generateMipmaps;_e.texture.generateMipmaps=!1,_e.activeCubeFace=0,se.render(Ae,R,_e),_e.activeCubeFace=1,se.render(Ae,P,_e),_e.activeCubeFace=2,se.render(Ae,H,_e),_e.activeCubeFace=3,se.render(Ae,G,_e),_e.activeCubeFace=4,se.render(Ae,Z,_e),_e.texture.generateMipmaps=Ue,_e.activeCubeFace=5,se.render(Ae,ee,_e),se.setRenderTarget(null)},this.clear=function(se,Ae,_e,Ue){for(var We=this.renderTarget,Ke=0;Ke<6;Ke++)We.activeCubeFace=Ke,se.setRenderTarget(We),se.clear(Ae,_e,Ue);se.setRenderTarget(null)}}KC.prototype=Object.create(Vr.prototype),KC.prototype.constructor=KC;function Vk(){Vr.call(this),this.type="AudioListener",this.context=Hk.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}Vk.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Vk,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(c){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=c,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(c){return this.gain.gain.setTargetAtTime(c,this.context.currentTime,.01),this},updateMatrixWorld:function(){var c=new dt,p=new Fo,v=new dt,w=new dt;return function(R){Vr.prototype.updateMatrixWorld.call(this,R);var P=this.context.listener,H=this.up;this.matrixWorld.decompose(c,p,v),w.set(0,0,-1).applyQuaternion(p),P.positionX?(P.positionX.setValueAtTime(c.x,this.context.currentTime),P.positionY.setValueAtTime(c.y,this.context.currentTime),P.positionZ.setValueAtTime(c.z,this.context.currentTime),P.forwardX.setValueAtTime(w.x,this.context.currentTime),P.forwardY.setValueAtTime(w.y,this.context.currentTime),P.forwardZ.setValueAtTime(w.z,this.context.currentTime),P.upX.setValueAtTime(H.x,this.context.currentTime),P.upY.setValueAtTime(H.y,this.context.currentTime),P.upZ.setValueAtTime(H.z,this.context.currentTime)):(P.setPosition(c.x,c.y,c.z),P.setOrientation(w.x,w.y,w.z,H.x,H.y,H.z))}}()});function yb(c){Vr.call(this),this.type="Audio",this.context=c.context,this.gain=this.context.createGain(),this.gain.connect(c.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}yb.prototype=Object.assign(Object.create(Vr.prototype),{constructor:yb,getOutput:function(){return this.gain},setNodeSource:function(c){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=c,this.connect(),this},setMediaElementSource:function(c){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(c),this.connect(),this},setBuffer:function(c){return this.buffer=c,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var c=this.context.createBufferSource();return c.buffer=this.buffer,c.loop=this.loop,c.onended=this.onEnded.bind(this),c.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,c.start(this.startTime,this.offset),this.isPlaying=!0,this.source=c,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var c=1,p=this.filters.length;c<p;c++)this.filters[c-1].connect(this.filters[c]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var c=1,p=this.filters.length;c<p;c++)this.filters[c-1].disconnect(this.filters[c]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(c){return c||(c=[]),this.isPlaying===!0?(this.disconnect(),this.filters=c,this.connect()):this.filters=c,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(c){return this.setFilters(c?[c]:[])},setPlaybackRate:function(c){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=c,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(c){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=c,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(c){return this.gain.gain.setTargetAtTime(c,this.context.currentTime,.01),this}});function zk(c){yb.call(this,c),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}zk.prototype=Object.assign(Object.create(yb.prototype),{constructor:zk,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(c){return this.panner.refDistance=c,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(c){return this.panner.rolloffFactor=c,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(c){return this.panner.distanceModel=c,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(c){return this.panner.maxDistance=c,this},setDirectionalCone:function(c,p,v){return this.panner.coneInnerAngle=c,this.panner.coneOuterAngle=p,this.panner.coneOuterGain=v,this},updateMatrixWorld:function(){var c=new dt,p=new Fo,v=new dt,w=new dt;return function(R){Vr.prototype.updateMatrixWorld.call(this,R);var P=this.panner;this.matrixWorld.decompose(c,p,v),w.set(0,0,1).applyQuaternion(p),P.setPosition(c.x,c.y,c.z),P.setOrientation(w.x,w.y,w.z)}}()});function $k(c,p){this.analyser=c.context.createAnalyser(),this.analyser.fftSize=p!==void 0?p:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),c.getOutput().connect(this.analyser)}Object.assign($k.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var c=0,p=this.getFrequencyData(),v=0;v<p.length;v++)c+=p[v];return c/p.length}});function Qk(c,p,v){this.binding=c,this.valueSize=v;var w=Float64Array,T;switch(p){case"quaternion":T=this._slerp;break;case"string":case"bool":w=Array,T=this._select;break;default:T=this._lerp}this.buffer=new w(v*4),this._mixBufferRegion=T,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Qk.prototype,{accumulate:function(c,p){var v=this.buffer,w=this.valueSize,T=c*w+w,R=this.cumulativeWeight;if(R===0){for(var P=0;P!==w;++P)v[T+P]=v[P];R=p}else{R+=p;var H=p/R;this._mixBufferRegion(v,T,0,H,w)}this.cumulativeWeight=R},apply:function(c){var p=this.valueSize,v=this.buffer,w=c*p+p,T=this.cumulativeWeight,R=this.binding;if(this.cumulativeWeight=0,T<1){var P=p*3;this._mixBufferRegion(v,w,P,1-T,p)}for(var H=p,G=p+p;H!==G;++H)if(v[H]!==v[H+p]){R.setValue(v,w);break}},saveOriginalState:function(){var c=this.binding,p=this.buffer,v=this.valueSize,w=v*3;c.getValue(p,w);for(var T=v,R=w;T!==R;++T)p[T]=p[w+T%v];this.cumulativeWeight=0},restoreOriginalState:function(){var c=this.valueSize*3;this.binding.setValue(this.buffer,c)},_select:function(c,p,v,w,T){if(w>=.5)for(var R=0;R!==T;++R)c[p+R]=c[v+R]},_slerp:function(c,p,v,w){Fo.slerpFlat(c,p,c,p,c,v,w)},_lerp:function(c,p,v,w,T){for(var R=1-w,P=0;P!==T;++P){var H=p+P;c[H]=c[H]*R+c[v+P]*w}}});var Wk="\\[\\]\\.:\\/";function rj(c,p,v){var w=v||Uu.parseTrackName(p);this._targetGroup=c,this._bindings=c.subscribe_(p,w)}Object.assign(rj.prototype,{getValue:function(c,p){this.bind();var v=this._targetGroup.nCachedObjects_,w=this._bindings[v];w!==void 0&&w.getValue(c,p)},setValue:function(c,p){for(var v=this._bindings,w=this._targetGroup.nCachedObjects_,T=v.length;w!==T;++w)v[w].setValue(c,p)},bind:function(){for(var c=this._bindings,p=this._targetGroup.nCachedObjects_,v=c.length;p!==v;++p)c[p].bind()},unbind:function(){for(var c=this._bindings,p=this._targetGroup.nCachedObjects_,v=c.length;p!==v;++p)c[p].unbind()}});function Uu(c,p,v){this.path=p,this.parsedPath=v||Uu.parseTrackName(p),this.node=Uu.findNode(c,this.parsedPath.nodeName)||c,this.rootNode=c}Object.assign(Uu,{Composite:rj,create:function(c,p,v){return c&&c.isAnimationObjectGroup?new Uu.Composite(c,p,v):new Uu(c,p,v)},sanitizeNodeName:function(){var c=new RegExp("["+Wk+"]","g");return function(v){return v.replace(/\s/g,"_").replace(c,"")}}(),parseTrackName:function(){var c="[^"+Wk+"]",p="[^"+Wk.replace("\\.","")+"]",v=/((?:WC+[\/:])*)/.source.replace("WC",c),w=/(WCOD+)?/.source.replace("WCOD",p),T=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",c),R=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",c),P=new RegExp("^"+v+w+T+R+"$"),H=["material","materials","bones"];return function(Z){var ee=P.exec(Z);if(!ee)throw new Error("PropertyBinding: Cannot parse trackName: "+Z);var re={nodeName:ee[2],objectName:ee[3],objectIndex:ee[4],propertyName:ee[5],propertyIndex:ee[6]},se=re.nodeName&&re.nodeName.lastIndexOf(".");if(se!==void 0&&se!==-1){var Ae=re.nodeName.substring(se+1);H.indexOf(Ae)!==-1&&(re.nodeName=re.nodeName.substring(0,se),re.objectName=Ae)}if(re.propertyName===null||re.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+Z);return re}}(),findNode:function(c,p){if(!p||p===""||p==="root"||p==="."||p===-1||p===c.name||p===c.uuid)return c;if(c.skeleton){var v=c.skeleton.getBoneByName(p);if(v!==void 0)return v}if(c.children){var w=function(R){for(var P=0;P<R.length;P++){var H=R[P];if(H.name===p||H.uuid===p)return H;var G=w(H.children);if(G)return G}return null},T=w(c.children);if(T)return T}return null}}),Object.assign(Uu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(p,v){p[v]=this.node[this.propertyName]},function(p,v){for(var w=this.resolvedProperty,T=0,R=w.length;T!==R;++T)p[v++]=w[T]},function(p,v){p[v]=this.resolvedProperty[this.propertyIndex]},function(p,v){this.resolvedProperty.toArray(p,v)}],SetterByBindingTypeAndVersioning:[[function(p,v){this.targetObject[this.propertyName]=p[v]},function(p,v){this.targetObject[this.propertyName]=p[v],this.targetObject.needsUpdate=!0},function(p,v){this.targetObject[this.propertyName]=p[v],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(p,v){for(var w=this.resolvedProperty,T=0,R=w.length;T!==R;++T)w[T]=p[v++]},function(p,v){for(var w=this.resolvedProperty,T=0,R=w.length;T!==R;++T)w[T]=p[v++];this.targetObject.needsUpdate=!0},function(p,v){for(var w=this.resolvedProperty,T=0,R=w.length;T!==R;++T)w[T]=p[v++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(p,v){this.resolvedProperty[this.propertyIndex]=p[v]},function(p,v){this.resolvedProperty[this.propertyIndex]=p[v],this.targetObject.needsUpdate=!0},function(p,v){this.resolvedProperty[this.propertyIndex]=p[v],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(p,v){this.resolvedProperty.fromArray(p,v)},function(p,v){this.resolvedProperty.fromArray(p,v),this.targetObject.needsUpdate=!0},function(p,v){this.resolvedProperty.fromArray(p,v),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(p,v){this.bind(),this.getValue(p,v)},setValue:function(p,v){this.bind(),this.setValue(p,v)},bind:function(){var c=this.node,p=this.parsedPath,v=p.objectName,w=p.propertyName,T=p.propertyIndex;if(c||(c=Uu.findNode(this.rootNode,p.nodeName)||this.rootNode,this.node=c),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!c){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(v){var R=p.objectIndex;switch(v){case"materials":if(!c.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!c.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}c=c.material.materials;break;case"bones":if(!c.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}c=c.skeleton.bones;for(var P=0;P<c.length;P++)if(c[P].name===R){R=P;break}break;default:if(c[v]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}c=c[v]}if(R!==void 0){if(c[R]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,c);return}c=c[R]}}var H=c[w];if(H===void 0){var G=p.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+G+"."+w+" but it wasn't found.",c);return}var Z=this.Versioning.None;this.targetObject=c,c.needsUpdate!==void 0?Z=this.Versioning.NeedsUpdate:c.matrixWorldNeedsUpdate!==void 0&&(Z=this.Versioning.MatrixWorldNeedsUpdate);var ee=this.BindingType.Direct;if(T!==void 0){if(w==="morphTargetInfluences"){if(!c.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(c.geometry.isBufferGeometry){if(!c.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var P=0;P<this.node.geometry.morphAttributes.position.length;P++)if(c.geometry.morphAttributes.position[P].name===T){T=P;break}}else{if(!c.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var P=0;P<this.node.geometry.morphTargets.length;P++)if(c.geometry.morphTargets[P].name===T){T=P;break}}}ee=this.BindingType.ArrayElement,this.resolvedProperty=H,this.propertyIndex=T}else H.fromArray!==void 0&&H.toArray!==void 0?(ee=this.BindingType.HasFromToArray,this.resolvedProperty=H):Array.isArray(H)?(ee=this.BindingType.EntireArray,this.resolvedProperty=H):this.propertyName=w;this.getValue=this.GetterByBindingType[ee],this.setValue=this.SetterByBindingTypeAndVersioning[ee][Z]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Uu.prototype,{_getValue_unbound:Uu.prototype.getValue,_setValue_unbound:Uu.prototype.setValue});function ij(){this.uuid=qi.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var c={};this._indicesByUUID=c;for(var p=0,v=arguments.length;p!==v;++p)c[arguments[p].uuid]=p;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var w=this;this.stats={objects:{get total(){return w._objects.length},get inUse(){return this.total-w.nCachedObjects_}},get bindingsPerObject(){return w._bindings.length}}}Object.assign(ij.prototype,{isAnimationObjectGroup:!0,add:function(){for(var c=this._objects,p=c.length,v=this.nCachedObjects_,w=this._indicesByUUID,T=this._paths,R=this._parsedPaths,P=this._bindings,H=P.length,G=void 0,Z=0,ee=arguments.length;Z!==ee;++Z){var re=arguments[Z],se=re.uuid,Ae=w[se];if(Ae===void 0){Ae=p++,w[se]=Ae,c.push(re);for(var _e=0,Ue=H;_e!==Ue;++_e)P[_e].push(new Uu(re,T[_e],R[_e]))}else if(Ae<v){G=c[Ae];var We=--v,Ke=c[We];w[Ke.uuid]=Ae,c[Ae]=Ke,w[se]=We,c[We]=re;for(var _e=0,Ue=H;_e!==Ue;++_e){var rt=P[_e],et=rt[We],qe=rt[Ae];rt[Ae]=et,qe===void 0&&(qe=new Uu(re,T[_e],R[_e])),rt[We]=qe}}else c[Ae]!==G&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=v},remove:function(){for(var c=this._objects,p=this.nCachedObjects_,v=this._indicesByUUID,w=this._bindings,T=w.length,R=0,P=arguments.length;R!==P;++R){var H=arguments[R],G=H.uuid,Z=v[G];if(Z!==void 0&&Z>=p){var ee=p++,re=c[ee];v[re.uuid]=Z,c[Z]=re,v[G]=ee,c[ee]=H;for(var se=0,Ae=T;se!==Ae;++se){var _e=w[se],Ue=_e[ee],We=_e[Z];_e[Z]=Ue,_e[ee]=We}}}this.nCachedObjects_=p},uncache:function(){for(var c=this._objects,p=c.length,v=this.nCachedObjects_,w=this._indicesByUUID,T=this._bindings,R=T.length,P=0,H=arguments.length;P!==H;++P){var G=arguments[P],Z=G.uuid,ee=w[Z];if(ee!==void 0)if(delete w[Z],ee<v){var re=--v,se=c[re],Ae=--p,_e=c[Ae];w[se.uuid]=ee,c[ee]=se,w[_e.uuid]=re,c[re]=_e,c.pop();for(var Ue=0,We=R;Ue!==We;++Ue){var Ke=T[Ue],rt=Ke[re],et=Ke[Ae];Ke[ee]=rt,Ke[re]=et,Ke.pop()}}else{var Ae=--p,_e=c[Ae];w[_e.uuid]=ee,c[ee]=_e,c.pop();for(var Ue=0,We=R;Ue!==We;++Ue){var Ke=T[Ue];Ke[ee]=Ke[Ae],Ke.pop()}}}this.nCachedObjects_=v},subscribe_:function(c,p){var v=this._bindingsIndicesByPath,w=v[c],T=this._bindings;if(w!==void 0)return T[w];var R=this._paths,P=this._parsedPaths,H=this._objects,G=H.length,Z=this.nCachedObjects_,ee=new Array(G);w=T.length,v[c]=w,R.push(c),P.push(p),T.push(ee);for(var re=Z,se=H.length;re!==se;++re){var Ae=H[re];ee[re]=new Uu(Ae,c,p)}return ee},unsubscribe_:function(c){var p=this._bindingsIndicesByPath,v=p[c];if(v!==void 0){var w=this._paths,T=this._parsedPaths,R=this._bindings,P=R.length-1,H=R[P],G=c[P];p[G]=v,R[v]=H,R.pop(),T[v]=T[P],T.pop(),w[v]=w[P],w.pop()}}});function sj(c,p,v){this._mixer=c,this._clip=p,this._localRoot=v||null;for(var w=p.tracks,T=w.length,R=new Array(T),P={endingStart:iu,endingEnd:iu},H=0;H!==T;++H){var G=w[H].createInterpolant(null);R[H]=G,G.settings=P}this._interpolantSettings=P,this._interpolants=R,this._propertyBindings=new Array(T),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ru,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(sj.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(c){return this._startTime=c,this},setLoop:function(c,p){return this.loop=c,this.repetitions=p,this},setEffectiveWeight:function(c){return this.weight=c,this._effectiveWeight=this.enabled?c:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(c){return this._scheduleFading(c,0,1)},fadeOut:function(c){return this._scheduleFading(c,1,0)},crossFadeFrom:function(c,p,v){if(c.fadeOut(p),this.fadeIn(p),v){var w=this._clip.duration,T=c._clip.duration,R=T/w,P=w/T;c.warp(1,R,p),this.warp(P,1,p)}return this},crossFadeTo:function(c,p,v){return c.crossFadeFrom(this,p,v)},stopFading:function(){var c=this._weightInterpolant;return c!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this},setEffectiveTimeScale:function(c){return this.timeScale=c,this._effectiveTimeScale=this.paused?0:c,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(c){return this.timeScale=this._clip.duration/c,this.stopWarping()},syncWith:function(c){return this.time=c.time,this.timeScale=c.timeScale,this.stopWarping()},halt:function(c){return this.warp(this._effectiveTimeScale,0,c)},warp:function(c,p,v){var w=this._mixer,T=w.time,R=this._timeScaleInterpolant,P=this.timeScale;R===null&&(R=w._lendControlInterpolant(),this._timeScaleInterpolant=R);var H=R.parameterPositions,G=R.sampleValues;return H[0]=T,H[1]=T+v,G[0]=c/P,G[1]=p/P,this},stopWarping:function(){var c=this._timeScaleInterpolant;return c!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(c,p,v,w){if(!this.enabled){this._updateWeight(c);return}var T=this._startTime;if(T!==null){var R=(c-T)*v;if(R<0||v===0)return;this._startTime=null,p=v*R}p*=this._updateTimeScale(c);var P=this._updateTime(p),H=this._updateWeight(c);if(H>0)for(var G=this._interpolants,Z=this._propertyBindings,ee=0,re=G.length;ee!==re;++ee)G[ee].evaluate(P),Z[ee].accumulate(w,H)},_updateWeight:function(c){var p=0;if(this.enabled){p=this.weight;var v=this._weightInterpolant;if(v!==null){var w=v.evaluate(c)[0];p*=w,c>v.parameterPositions[1]&&(this.stopFading(),w===0&&(this.enabled=!1))}}return this._effectiveWeight=p,p},_updateTimeScale:function(c){var p=0;if(!this.paused){p=this.timeScale;var v=this._timeScaleInterpolant;if(v!==null){var w=v.evaluate(c)[0];p*=w,c>v.parameterPositions[1]&&(this.stopWarping(),p===0?this.paused=!0:this.timeScale=p)}}return this._effectiveTimeScale=p,p},_updateTime:function(c){var p=this.time+c,v=this._clip.duration,w=this.loop,T=this._loopCount,R=w===hh;if(c===0)return T===-1?p:R&&(T&1)===1?v-p:p;if(w===So){T===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(p>=v)p=v;else if(p<0)p=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:c<0?-1:1})}}else{if(T===-1&&(c>=0?(T=0,this._setEndings(!0,this.repetitions===0,R)):this._setEndings(this.repetitions===0,!0,R)),p>=v||p<0){var P=Math.floor(p/v);p-=v*P,T+=Math.abs(P);var H=this.repetitions-T;if(H<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,p=c>0?v:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:c>0?1:-1});else{if(H===1){var G=c<0;this._setEndings(G,!G,R)}else this._setEndings(!1,!1,R);this._loopCount=T,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:P})}}if(R&&(T&1)===1)return this.time=p,v-p}return this.time=p,p},_setEndings:function(c,p,v){var w=this._interpolantSettings;v?(w.endingStart=fo,w.endingEnd=fo):(c?w.endingStart=this.zeroSlopeAtStart?fo:iu:w.endingStart=td,p?w.endingEnd=this.zeroSlopeAtEnd?fo:iu:w.endingEnd=td)},_scheduleFading:function(c,p,v){var w=this._mixer,T=w.time,R=this._weightInterpolant;R===null&&(R=w._lendControlInterpolant(),this._weightInterpolant=R);var P=R.parameterPositions,H=R.sampleValues;return P[0]=T,H[0]=p,P[1]=T+c,H[1]=v,this}});function jk(c){this._root=c,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}jk.prototype=Object.assign(Object.create(e.prototype),{constructor:jk,_bindAction:function(c,p){var v=c._localRoot||this._root,w=c._clip.tracks,T=w.length,R=c._propertyBindings,P=c._interpolants,H=v.uuid,G=this._bindingsByRootAndName,Z=G[H];Z===void 0&&(Z={},G[H]=Z);for(var ee=0;ee!==T;++ee){var re=w[ee],se=re.name,Ae=Z[se];if(Ae!==void 0)R[ee]=Ae;else{if(Ae=R[ee],Ae!==void 0){Ae._cacheIndex===null&&(++Ae.referenceCount,this._addInactiveBinding(Ae,H,se));continue}var _e=p&&p._propertyBindings[ee].binding.parsedPath;Ae=new Qk(Uu.create(v,se,_e),re.ValueTypeName,re.getValueSize()),++Ae.referenceCount,this._addInactiveBinding(Ae,H,se),R[ee]=Ae}P[ee].resultBuffer=Ae.buffer}},_activateAction:function(c){if(!this._isActiveAction(c)){if(c._cacheIndex===null){var p=(c._localRoot||this._root).uuid,v=c._clip.uuid,w=this._actionsByClip[v];this._bindAction(c,w&&w.knownActions[0]),this._addInactiveAction(c,v,p)}for(var T=c._propertyBindings,R=0,P=T.length;R!==P;++R){var H=T[R];H.useCount++===0&&(this._lendBinding(H),H.saveOriginalState())}this._lendAction(c)}},_deactivateAction:function(c){if(this._isActiveAction(c)){for(var p=c._propertyBindings,v=0,w=p.length;v!==w;++v){var T=p[v];--T.useCount===0&&(T.restoreOriginalState(),this._takeBackBinding(T))}this._takeBackAction(c)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var c=this;this.stats={actions:{get total(){return c._actions.length},get inUse(){return c._nActiveActions}},bindings:{get total(){return c._bindings.length},get inUse(){return c._nActiveBindings}},controlInterpolants:{get total(){return c._controlInterpolants.length},get inUse(){return c._nActiveControlInterpolants}}}},_isActiveAction:function(c){var p=c._cacheIndex;return p!==null&&p<this._nActiveActions},_addInactiveAction:function(c,p,v){var w=this._actions,T=this._actionsByClip,R=T[p];if(R===void 0)R={knownActions:[c],actionByRoot:{}},c._byClipCacheIndex=0,T[p]=R;else{var P=R.knownActions;c._byClipCacheIndex=P.length,P.push(c)}c._cacheIndex=w.length,w.push(c),R.actionByRoot[v]=c},_removeInactiveAction:function(c){var p=this._actions,v=p[p.length-1],w=c._cacheIndex;v._cacheIndex=w,p[w]=v,p.pop(),c._cacheIndex=null;var T=c._clip.uuid,R=this._actionsByClip,P=R[T],H=P.knownActions,G=H[H.length-1],Z=c._byClipCacheIndex;G._byClipCacheIndex=Z,H[Z]=G,H.pop(),c._byClipCacheIndex=null;var ee=P.actionByRoot,re=(c._localRoot||this._root).uuid;delete ee[re],H.length===0&&delete R[T],this._removeInactiveBindingsForAction(c)},_removeInactiveBindingsForAction:function(c){for(var p=c._propertyBindings,v=0,w=p.length;v!==w;++v){var T=p[v];--T.referenceCount===0&&this._removeInactiveBinding(T)}},_lendAction:function(c){var p=this._actions,v=c._cacheIndex,w=this._nActiveActions++,T=p[w];c._cacheIndex=w,p[w]=c,T._cacheIndex=v,p[v]=T},_takeBackAction:function(c){var p=this._actions,v=c._cacheIndex,w=--this._nActiveActions,T=p[w];c._cacheIndex=w,p[w]=c,T._cacheIndex=v,p[v]=T},_addInactiveBinding:function(c,p,v){var w=this._bindingsByRootAndName,T=w[p],R=this._bindings;T===void 0&&(T={},w[p]=T),T[v]=c,c._cacheIndex=R.length,R.push(c)},_removeInactiveBinding:function(c){var p=this._bindings,v=c.binding,w=v.rootNode.uuid,T=v.path,R=this._bindingsByRootAndName,P=R[w],H=p[p.length-1],G=c._cacheIndex;H._cacheIndex=G,p[G]=H,p.pop(),delete P[T];e:{for(var Z in P)break e;delete R[w]}},_lendBinding:function(c){var p=this._bindings,v=c._cacheIndex,w=this._nActiveBindings++,T=p[w];c._cacheIndex=w,p[w]=c,T._cacheIndex=v,p[v]=T},_takeBackBinding:function(c){var p=this._bindings,v=c._cacheIndex,w=--this._nActiveBindings,T=p[w];c._cacheIndex=w,p[w]=c,T._cacheIndex=v,p[v]=T},_lendControlInterpolant:function(){var c=this._controlInterpolants,p=this._nActiveControlInterpolants++,v=c[p];return v===void 0&&(v=new WC(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),v.__cacheIndex=p,c[p]=v),v},_takeBackControlInterpolant:function(c){var p=this._controlInterpolants,v=c.__cacheIndex,w=--this._nActiveControlInterpolants,T=p[w];c.__cacheIndex=w,p[w]=c,T.__cacheIndex=v,p[v]=T},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(c,p){var v=p||this._root,w=v.uuid,T=typeof c=="string"?Kf.findByName(v,c):c,R=T!==null?T.uuid:c,P=this._actionsByClip[R],H=null;if(P!==void 0){var G=P.actionByRoot[w];if(G!==void 0)return G;H=P.knownActions[0],T===null&&(T=H._clip)}if(T===null)return null;var Z=new sj(this,T,p);return this._bindAction(Z,H),this._addInactiveAction(Z,R,w),Z},existingAction:function(c,p){var v=p||this._root,w=v.uuid,T=typeof c=="string"?Kf.findByName(v,c):c,R=T?T.uuid:c,P=this._actionsByClip[R];return P!==void 0&&P.actionByRoot[w]||null},stopAllAction:function(){var c=this._actions,p=this._nActiveActions,v=this._bindings,w=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var T=0;T!==p;++T)c[T].reset();for(var T=0;T!==w;++T)v[T].useCount=0;return this},update:function(c){c*=this.timeScale;for(var p=this._actions,v=this._nActiveActions,w=this.time+=c,T=Math.sign(c),R=this._accuIndex^=1,P=0;P!==v;++P){var H=p[P];H._update(w,c,T,R)}for(var G=this._bindings,Z=this._nActiveBindings,P=0;P!==Z;++P)G[P].apply(R);return this},getRoot:function(){return this._root},uncacheClip:function(c){var p=this._actions,v=c.uuid,w=this._actionsByClip,T=w[v];if(T!==void 0){for(var R=T.knownActions,P=0,H=R.length;P!==H;++P){var G=R[P];this._deactivateAction(G);var Z=G._cacheIndex,ee=p[p.length-1];G._cacheIndex=null,G._byClipCacheIndex=null,ee._cacheIndex=Z,p[Z]=ee,p.pop(),this._removeInactiveBindingsForAction(G)}delete w[v]}},uncacheRoot:function(c){var p=c.uuid,v=this._actionsByClip;for(var w in v){var T=v[w].actionByRoot,R=T[p];R!==void 0&&(this._deactivateAction(R),this._removeInactiveAction(R))}var P=this._bindingsByRootAndName,H=P[p];if(H!==void 0)for(var G in H){var Z=H[G];Z.restoreOriginalState(),this._removeInactiveBinding(Z)}},uncacheAction:function(c,p){var v=this.existingAction(c,p);v!==null&&(this._deactivateAction(v),this._removeInactiveAction(v))}});function JB(c){typeof c=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),c=arguments[1]),this.value=c}JB.prototype.clone=function(){return new JB(this.value.clone===void 0?this.value:this.value.clone())};function Kk(){ii.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}Kk.prototype=Object.assign(Object.create(ii.prototype),{constructor:Kk,isInstancedBufferGeometry:!0,copy:function(c){return ii.prototype.copy.call(this,c),this.maxInstancedCount=c.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}});function qk(c,p,v){hg.call(this,c,p),this.meshPerAttribute=v||1}qk.prototype=Object.assign(Object.create(hg.prototype),{constructor:qk,isInstancedInterleavedBuffer:!0,copy:function(c){return hg.prototype.copy.call(this,c),this.meshPerAttribute=c.meshPerAttribute,this}});function Xk(c,p,v,w){typeof v=="number"&&(w=v,v=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),_s.call(this,c,p,v),this.meshPerAttribute=w||1}Xk.prototype=Object.assign(Object.create(_s.prototype),{constructor:Xk,isInstancedBufferAttribute:!0,copy:function(c){return _s.prototype.copy.call(this,c),this.meshPerAttribute=c.meshPerAttribute,this}});function aj(c,p,v,w){this.ray=new BA(c,p),this.near=v||0,this.far=w||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function oj(c,p){return c.distance-p.distance}function Yk(c,p,v,w){if(c.visible!==!1&&(c.raycast(p,v),w===!0))for(var T=c.children,R=0,P=T.length;R<P;R++)Yk(T[R],p,v,!0)}Object.assign(aj.prototype,{linePrecision:1,set:function(c,p){this.ray.set(c,p)},setFromCamera:function(c,p){p&&p.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(p.matrixWorld),this.ray.direction.set(c.x,c.y,.5).unproject(p).sub(this.ray.origin).normalize()):p&&p.isOrthographicCamera?(this.ray.origin.set(c.x,c.y,(p.near+p.far)/(p.near-p.far)).unproject(p),this.ray.direction.set(0,0,-1).transformDirection(p.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(c,p,v){var w=v||[];return Yk(c,this,w,p),w.sort(oj),w},intersectObjects:function(c,p,v){var w=v||[];if(Array.isArray(c)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),w;for(var T=0,R=c.length;T<R;T++)Yk(c[T],this,w,p);return w.sort(oj),w}});function lj(c){this.autoStart=c!==void 0?c:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(lj.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var c=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var p=(typeof performance>"u"?Date:performance).now();c=(p-this.oldTime)/1e3,this.oldTime=p,this.elapsedTime+=c}return c}});function cj(c,p,v){return this.radius=c!==void 0?c:1,this.phi=p!==void 0?p:0,this.theta=v!==void 0?v:0,this}Object.assign(cj.prototype,{set:function(c,p,v){return this.radius=c,this.phi=p,this.theta=v,this},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.radius=c.radius,this.phi=c.phi,this.theta=c.theta,this},makeSafe:function(){var c=1e-6;return this.phi=Math.max(c,Math.min(Math.PI-c,this.phi)),this},setFromVector3:function(c){return this.setFromCartesianCoords(c.x,c.y,c.z)},setFromCartesianCoords:function(c,p,v){return this.radius=Math.sqrt(c*c+p*p+v*v),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(c,v),this.phi=Math.acos(qi.clamp(p/this.radius,-1,1))),this}});function uj(c,p,v){return this.radius=c!==void 0?c:1,this.theta=p!==void 0?p:0,this.y=v!==void 0?v:0,this}Object.assign(uj.prototype,{set:function(c,p,v){return this.radius=c,this.theta=p,this.y=v,this},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.radius=c.radius,this.theta=c.theta,this.y=c.y,this},setFromVector3:function(c){return this.setFromCartesianCoords(c.x,c.y,c.z)},setFromCartesianCoords:function(c,p,v){return this.radius=Math.sqrt(c*c+v*v),this.theta=Math.atan2(c,v),this.y=p,this}});function Zk(c,p){this.min=c!==void 0?c:new ir(1/0,1/0),this.max=p!==void 0?p:new ir(-1/0,-1/0)}Object.assign(Zk.prototype,{set:function(c,p){return this.min.copy(c),this.max.copy(p),this},setFromPoints:function(c){this.makeEmpty();for(var p=0,v=c.length;p<v;p++)this.expandByPoint(c[p]);return this},setFromCenterAndSize:function(){var c=new ir;return function(v,w){var T=c.copy(w).multiplyScalar(.5);return this.min.copy(v).sub(T),this.max.copy(v).add(T),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.min.copy(c.min),this.max.copy(c.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(c){return c===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),c=new ir),this.isEmpty()?c.set(0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(c){return c===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),c=new ir),this.isEmpty()?c.set(0,0):c.subVectors(this.max,this.min)},expandByPoint:function(c){return this.min.min(c),this.max.max(c),this},expandByVector:function(c){return this.min.sub(c),this.max.add(c),this},expandByScalar:function(c){return this.min.addScalar(-c),this.max.addScalar(c),this},containsPoint:function(c){return!(c.x<this.min.x||c.x>this.max.x||c.y<this.min.y||c.y>this.max.y)},containsBox:function(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y},getParameter:function(c,p){return p===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),p=new ir),p.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(c){return!(c.max.x<this.min.x||c.min.x>this.max.x||c.max.y<this.min.y||c.min.y>this.max.y)},clampPoint:function(c,p){return p===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),p=new ir),p.copy(c).clamp(this.min,this.max)},distanceToPoint:function(){var c=new ir;return function(v){var w=c.copy(v).clamp(this.min,this.max);return w.sub(v).length()}}(),intersect:function(c){return this.min.max(c.min),this.max.min(c.max),this},union:function(c){return this.min.min(c.min),this.max.max(c.max),this},translate:function(c){return this.min.add(c),this.max.add(c),this},equals:function(c){return c.min.equals(this.min)&&c.max.equals(this.max)}});function Jk(c,p){this.start=c!==void 0?c:new dt,this.end=p!==void 0?p:new dt}Object.assign(Jk.prototype,{set:function(c,p){return this.start.copy(c),this.end.copy(p),this},clone:function(){return new this.constructor().copy(this)},copy:function(c){return this.start.copy(c.start),this.end.copy(c.end),this},getCenter:function(c){return c===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),c=new dt),c.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(c){return c===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),c=new dt),c.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(c,p){return p===void 0&&(console.warn("THREE.Line3: .at() target is now required"),p=new dt),this.delta(p).multiplyScalar(c).add(this.start)},closestPointToPointParameter:function(){var c=new dt,p=new dt;return function(w,T){c.subVectors(w,this.start),p.subVectors(this.end,this.start);var R=p.dot(p),P=p.dot(c),H=P/R;return T&&(H=qi.clamp(H,0,1)),H}}(),closestPointToPoint:function(c,p,v){var w=this.closestPointToPointParameter(c,p);return v===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),v=new dt),this.delta(v).multiplyScalar(w).add(this.start)},applyMatrix4:function(c){return this.start.applyMatrix4(c),this.end.applyMatrix4(c),this},equals:function(c){return c.start.equals(this.start)&&c.end.equals(this.end)}});function qC(c){Vr.call(this),this.material=c,this.render=function(){}}qC.prototype=Object.create(Vr.prototype),qC.prototype.constructor=qC,qC.prototype.isImmediateRenderObject=!0;function XC(c,p,v,w){this.object=c,this.size=p!==void 0?p:1;var T=v!==void 0?v:16711680,R=w!==void 0?w:1,P=0,H=this.object.geometry;H&&H.isGeometry?P=H.faces.length*3:H&&H.isBufferGeometry&&(P=H.attributes.normal.count);var G=new ii,Z=new kr(P*2*3,3);G.addAttribute("position",Z),Va.call(this,G,new xa({color:T,linewidth:R})),this.matrixAutoUpdate=!1,this.update()}XC.prototype=Object.create(Va.prototype),XC.prototype.constructor=XC,XC.prototype.update=function(){var c=new dt,p=new dt,v=new Ua;return function(){var T=["a","b","c"];this.object.updateMatrixWorld(!0),v.getNormalMatrix(this.object.matrixWorld);var R=this.object.matrixWorld,P=this.geometry.attributes.position,H=this.object.geometry;if(H&&H.isGeometry)for(var G=H.vertices,Z=H.faces,ee=0,re=0,se=Z.length;re<se;re++)for(var Ae=Z[re],_e=0,Ue=Ae.vertexNormals.length;_e<Ue;_e++){var We=G[Ae[T[_e]]],Ke=Ae.vertexNormals[_e];c.copy(We).applyMatrix4(R),p.copy(Ke).applyMatrix3(v).normalize().multiplyScalar(this.size).add(c),P.setXYZ(ee,c.x,c.y,c.z),ee=ee+1,P.setXYZ(ee,p.x,p.y,p.z),ee=ee+1}else if(H&&H.isBufferGeometry)for(var rt=H.attributes.position,et=H.attributes.normal,ee=0,_e=0,Ue=rt.count;_e<Ue;_e++)c.set(rt.getX(_e),rt.getY(_e),rt.getZ(_e)).applyMatrix4(R),p.set(et.getX(_e),et.getY(_e),et.getZ(_e)),p.applyMatrix3(v).normalize().multiplyScalar(this.size).add(c),P.setXYZ(ee,c.x,c.y,c.z),ee=ee+1,P.setXYZ(ee,p.x,p.y,p.z),ee=ee+1;P.needsUpdate=!0}}();function _b(c,p){Vr.call(this),this.light=c,this.light.updateMatrixWorld(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=p;for(var v=new ii,w=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],T=0,R=1,P=32;T<P;T++,R++){var H=T/P*Math.PI*2,G=R/P*Math.PI*2;w.push(Math.cos(H),Math.sin(H),1,Math.cos(G),Math.sin(G),1)}v.addAttribute("position",new kr(w,3));var Z=new xa({fog:!1});this.cone=new Va(v,Z),this.add(this.cone),this.update()}_b.prototype=Object.create(Vr.prototype),_b.prototype.constructor=_b,_b.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},_b.prototype.update=function(){var c=new dt,p=new dt;return function(){this.light.updateMatrixWorld();var w=this.light.distance?this.light.distance:1e3,T=w*Math.tan(this.light.angle);this.cone.scale.set(T,T,w),c.setFromMatrixPosition(this.light.matrixWorld),p.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(p.sub(c)),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();function hj(c){var p=[];c&&c.isBone&&p.push(c);for(var v=0;v<c.children.length;v++)p.push.apply(p,hj(c.children[v]));return p}function wb(c){for(var p=hj(c),v=new ii,w=[],T=[],R=new fi(0,0,1),P=new fi(0,1,0),H=0;H<p.length;H++){var G=p[H];G.parent&&G.parent.isBone&&(w.push(0,0,0),w.push(0,0,0),T.push(R.r,R.g,R.b),T.push(P.r,P.g,P.b))}v.addAttribute("position",new kr(w,3)),v.addAttribute("color",new kr(T,3));var Z=new xa({vertexColors:C,depthTest:!1,depthWrite:!1,transparent:!0});Va.call(this,v,Z),this.root=c,this.bones=p,this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1}wb.prototype=Object.create(Va.prototype),wb.prototype.constructor=wb,wb.prototype.updateMatrixWorld=function(){var c=new dt,p=new ur,v=new ur;return function(T){var R=this.bones,P=this.geometry,H=P.getAttribute("position");v.getInverse(this.root.matrixWorld);for(var G=0,Z=0;G<R.length;G++){var ee=R[G];ee.parent&&ee.parent.isBone&&(p.multiplyMatrices(v,ee.matrixWorld),c.setFromMatrixPosition(p),H.setXYZ(Z,c.x,c.y,c.z),p.multiplyMatrices(v,ee.parent.matrixWorld),c.setFromMatrixPosition(p),H.setXYZ(Z+1,c.x,c.y,c.z),Z+=2)}P.getAttribute("position").needsUpdate=!0,Vr.prototype.updateMatrixWorld.call(this,T)}}();function bb(c,p,v){this.light=c,this.light.updateMatrixWorld(),this.color=v;var w=new u_(p,4,2),T=new Fc({wireframe:!0,fog:!1});uu.call(this,w,T),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}bb.prototype=Object.create(uu.prototype),bb.prototype.constructor=bb,bb.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},bb.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};function xb(c,p){Vr.call(this),this.light=c,this.light.updateMatrixWorld(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=p;var v=new xa({fog:!1}),w=new ii;w.addAttribute("position",new _s(new Float32Array(5*3),3)),this.line=new Dc(w,v),this.add(this.line),this.update()}xb.prototype=Object.create(Vr.prototype),xb.prototype.constructor=xb,xb.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xb.prototype.update=function(){var c=this.light.width*.5,p=this.light.height*.5,v=this.line.geometry.attributes.position,w=v.array;w[0]=c,w[1]=-p,w[2]=0,w[3]=c,w[4]=p,w[5]=0,w[6]=-c,w[7]=p,w[8]=0,w[9]=-c,w[10]=-p,w[11]=0,w[12]=c,w[13]=-p,w[14]=0,v.needsUpdate=!0,this.color!==void 0?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)};function Eb(c,p,v){Vr.call(this),this.light=c,this.light.updateMatrixWorld(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=v;var w=new o_(p);w.rotateY(Math.PI*.5),this.material=new Fc({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=C);var T=w.getAttribute("position"),R=new Float32Array(T.count*3);w.addAttribute("color",new _s(R,3)),this.add(new uu(w,this.material)),this.update()}Eb.prototype=Object.create(Vr.prototype),Eb.prototype.constructor=Eb,Eb.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Eb.prototype.update=function(){var c=new dt,p=new fi,v=new fi;return function(){var T=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var R=T.geometry.getAttribute("color");p.copy(this.light.color),v.copy(this.light.groundColor);for(var P=0,H=R.count;P<H;P++){var G=P<H/2?p:v;R.setXYZ(P,G.r,G.g,G.b)}R.needsUpdate=!0}T.lookAt(c.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function YC(c,p,v,w){c=c||10,p=p||10,v=new fi(v!==void 0?v:4473924),w=new fi(w!==void 0?w:8947848);for(var T=p/2,R=c/p,P=c/2,H=[],G=[],Z=0,ee=0,re=-P;Z<=p;Z++,re+=R){H.push(-P,0,re,P,0,re),H.push(re,0,-P,re,0,P);var se=Z===T?v:w;se.toArray(G,ee),ee+=3,se.toArray(G,ee),ee+=3,se.toArray(G,ee),ee+=3,se.toArray(G,ee),ee+=3}var Ae=new ii;Ae.addAttribute("position",new kr(H,3)),Ae.addAttribute("color",new kr(G,3));var _e=new xa({vertexColors:C});Va.call(this,Ae,_e)}YC.prototype=Object.create(Va.prototype),YC.prototype.constructor=YC;function eR(c,p,v,w,T,R){c=c||10,p=p||16,v=v||8,w=w||64,T=new fi(T!==void 0?T:4473924),R=new fi(R!==void 0?R:8947848);var P=[],H=[],G,Z,ee,re,se,Ae,_e;for(re=0;re<=p;re++)ee=re/p*(Math.PI*2),G=Math.sin(ee)*c,Z=Math.cos(ee)*c,P.push(0,0,0),P.push(G,0,Z),_e=re&1?T:R,H.push(_e.r,_e.g,_e.b),H.push(_e.r,_e.g,_e.b);for(re=0;re<=v;re++)for(_e=re&1?T:R,Ae=c-c/v*re,se=0;se<w;se++)ee=se/w*(Math.PI*2),G=Math.sin(ee)*Ae,Z=Math.cos(ee)*Ae,P.push(G,0,Z),H.push(_e.r,_e.g,_e.b),ee=(se+1)/w*(Math.PI*2),G=Math.sin(ee)*Ae,Z=Math.cos(ee)*Ae,P.push(G,0,Z),H.push(_e.r,_e.g,_e.b);var Ue=new ii;Ue.addAttribute("position",new kr(P,3)),Ue.addAttribute("color",new kr(H,3));var We=new xa({vertexColors:C});Va.call(this,Ue,We)}eR.prototype=Object.create(Va.prototype),eR.prototype.constructor=eR;function ZC(c,p,v,w){this.object=c,this.size=p!==void 0?p:1;var T=v!==void 0?v:16776960,R=w!==void 0?w:1,P=0,H=this.object.geometry;H&&H.isGeometry?P=H.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var G=new ii,Z=new kr(P*2*3,3);G.addAttribute("position",Z),Va.call(this,G,new xa({color:T,linewidth:R})),this.matrixAutoUpdate=!1,this.update()}ZC.prototype=Object.create(Va.prototype),ZC.prototype.constructor=ZC,ZC.prototype.update=function(){var c=new dt,p=new dt,v=new Ua;return function(){this.object.updateMatrixWorld(!0),v.getNormalMatrix(this.object.matrixWorld);for(var T=this.object.matrixWorld,R=this.geometry.attributes.position,P=this.object.geometry,H=P.vertices,G=P.faces,Z=0,ee=0,re=G.length;ee<re;ee++){var se=G[ee],Ae=se.normal;c.copy(H[se.a]).add(H[se.b]).add(H[se.c]).divideScalar(3).applyMatrix4(T),p.copy(Ae).applyMatrix3(v).normalize().multiplyScalar(this.size).add(c),R.setXYZ(Z,c.x,c.y,c.z),Z=Z+1,R.setXYZ(Z,p.x,p.y,p.z),Z=Z+1}R.needsUpdate=!0}}();function Sb(c,p,v){Vr.call(this),this.light=c,this.light.updateMatrixWorld(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=v,p===void 0&&(p=1);var w=new ii;w.addAttribute("position",new kr([-p,p,0,p,p,0,p,-p,0,-p,-p,0,-p,p,0],3));var T=new xa({fog:!1});this.lightPlane=new Dc(w,T),this.add(this.lightPlane),w=new ii,w.addAttribute("position",new kr([0,0,0,0,0,1],3)),this.targetLine=new Dc(w,T),this.add(this.targetLine),this.update()}Sb.prototype=Object.create(Vr.prototype),Sb.prototype.constructor=Sb,Sb.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Sb.prototype.update=function(){var c=new dt,p=new dt,v=new dt;return function(){c.setFromMatrixPosition(this.light.matrixWorld),p.setFromMatrixPosition(this.light.target.matrixWorld),v.subVectors(p,c),this.lightPlane.lookAt(v),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(v),this.targetLine.scale.z=v.length()}}();function JC(c){var p=new ii,v=new xa({color:16777215,vertexColors:S}),w=[],T=[],R={},P=new fi(16755200),H=new fi(16711680),G=new fi(43775),Z=new fi(16777215),ee=new fi(3355443);re("n1","n2",P),re("n2","n4",P),re("n4","n3",P),re("n3","n1",P),re("f1","f2",P),re("f2","f4",P),re("f4","f3",P),re("f3","f1",P),re("n1","f1",P),re("n2","f2",P),re("n3","f3",P),re("n4","f4",P),re("p","n1",H),re("p","n2",H),re("p","n3",H),re("p","n4",H),re("u1","u2",G),re("u2","u3",G),re("u3","u1",G),re("c","t",Z),re("p","c",ee),re("cn1","cn2",ee),re("cn3","cn4",ee),re("cf1","cf2",ee),re("cf3","cf4",ee);function re(Ae,_e,Ue){se(Ae,Ue),se(_e,Ue)}function se(Ae,_e){w.push(0,0,0),T.push(_e.r,_e.g,_e.b),R[Ae]===void 0&&(R[Ae]=[]),R[Ae].push(w.length/3-1)}p.addAttribute("position",new kr(w,3)),p.addAttribute("color",new kr(T,3)),Va.call(this,p,v),this.camera=c,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=R,this.update()}JC.prototype=Object.create(Va.prototype),JC.prototype.constructor=JC,JC.prototype.update=function(){var c,p,v=new dt,w=new cd;function T(R,P,H,G){v.set(P,H,G).unproject(w);var Z=p[R];if(Z!==void 0)for(var ee=c.getAttribute("position"),re=0,se=Z.length;re<se;re++)ee.setXYZ(Z[re],v.x,v.y,v.z)}return function(){c=this.geometry,p=this.pointMap;var P=1,H=1;w.projectionMatrix.copy(this.camera.projectionMatrix),T("c",0,0,-1),T("t",0,0,1),T("n1",-1,-1,-1),T("n2",P,-1,-1),T("n3",-1,H,-1),T("n4",P,H,-1),T("f1",-1,-1,1),T("f2",P,-1,1),T("f3",-1,H,1),T("f4",P,H,1),T("u1",P*.7,H*1.1,-1),T("u2",-1*.7,H*1.1,-1),T("u3",0,H*2,-1),T("cf1",-1,0,1),T("cf2",P,0,1),T("cf3",0,-1,1),T("cf4",0,H,1),T("cn1",-1,0,-1),T("cn2",P,0,-1),T("cn3",0,-1,-1),T("cn4",0,H,-1),c.getAttribute("position").needsUpdate=!0}}();function b_(c,p){this.object=c,p===void 0&&(p=16776960);var v=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),w=new Float32Array(8*3),T=new ii;T.setIndex(new _s(v,1)),T.addAttribute("position",new _s(w,3)),Va.call(this,T,new xa({color:p})),this.matrixAutoUpdate=!1,this.update()}b_.prototype=Object.create(Va.prototype),b_.prototype.constructor=b_,b_.prototype.update=function(){var c=new Pc;return function(v){if(v!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&c.setFromObject(this.object),!c.isEmpty()){var w=c.min,T=c.max,R=this.geometry.attributes.position,P=R.array;P[0]=T.x,P[1]=T.y,P[2]=T.z,P[3]=w.x,P[4]=T.y,P[5]=T.z,P[6]=w.x,P[7]=w.y,P[8]=T.z,P[9]=T.x,P[10]=w.y,P[11]=T.z,P[12]=T.x,P[13]=T.y,P[14]=w.z,P[15]=w.x,P[16]=T.y,P[17]=w.z,P[18]=w.x,P[19]=w.y,P[20]=w.z,P[21]=T.x,P[22]=w.y,P[23]=w.z,R.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),b_.prototype.setFromObject=function(c){return this.object=c,this.update(),this};function e2(c,p){this.type="Box3Helper",this.box=c;var v=p!==void 0?p:16776960,w=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),T=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],R=new ii;R.setIndex(new _s(w,1)),R.addAttribute("position",new kr(T,3)),Va.call(this,R,new xa({color:v})),this.geometry.computeBoundingSphere()}e2.prototype=Object.create(Va.prototype),e2.prototype.constructor=e2,e2.prototype.updateMatrixWorld=function(c){var p=this.box;p.isEmpty()||(p.getCenter(this.position),p.getSize(this.scale),this.scale.multiplyScalar(.5),Vr.prototype.updateMatrixWorld.call(this,c))};function t2(c,p,v){this.type="PlaneHelper",this.plane=c,this.size=p===void 0?1:p;var w=v!==void 0?v:16776960,T=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],R=new ii;R.addAttribute("position",new kr(T,3)),R.computeBoundingSphere(),Dc.call(this,R,new xa({color:w}));var P=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],H=new ii;H.addAttribute("position",new kr(P,3)),H.computeBoundingSphere(),this.add(new uu(H,new Fc({color:w,opacity:.2,transparent:!0,depthWrite:!1})))}t2.prototype=Object.create(Dc.prototype),t2.prototype.constructor=t2,t2.prototype.updateMatrixWorld=function(c){var p=-this.plane.constant;Math.abs(p)<1e-8&&(p=1e-8),this.scale.set(.5*this.size,.5*this.size,p),this.children[0].material.side=p<0?m:A,this.lookAt(this.plane.normal),Vr.prototype.updateMatrixWorld.call(this,c)};var tR,eU;function x_(c,p,v,w,T,R){Vr.call(this),w===void 0&&(w=16776960),v===void 0&&(v=1),T===void 0&&(T=.2*v),R===void 0&&(R=.2*T),tR===void 0&&(tR=new ii,tR.addAttribute("position",new kr([0,0,0,0,1,0],3)),eU=new Nm(0,.5,1,5,1),eU.translate(0,-.5,0)),this.position.copy(p),this.line=new Dc(tR,new xa({color:w})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new uu(eU,new Fc({color:w})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(c),this.setLength(v,T,R)}x_.prototype=Object.create(Vr.prototype),x_.prototype.constructor=x_,x_.prototype.setDirection=function(){var c=new dt,p;return function(w){w.y>.99999?this.quaternion.set(0,0,0,1):w.y<-.99999?this.quaternion.set(1,0,0,0):(c.set(w.z,0,-w.x).normalize(),p=Math.acos(w.y),this.quaternion.setFromAxisAngle(c,p))}}(),x_.prototype.setLength=function(c,p,v){p===void 0&&(p=.2*c),v===void 0&&(v=.2*p),this.line.scale.set(1,Math.max(0,c-p),1),this.line.updateMatrix(),this.cone.scale.set(v,p,v),this.cone.position.y=c,this.cone.updateMatrix()},x_.prototype.setColor=function(c){this.line.material.color.copy(c),this.cone.material.color.copy(c)};function n2(c){c=c||1;var p=[0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,c],v=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],w=new ii;w.addAttribute("position",new kr(p,3)),w.addAttribute("color",new kr(v,3));var T=new xa({vertexColors:C});Va.call(this,w,T)}n2.prototype=Object.create(Va.prototype),n2.prototype.constructor=n2;function e1e(c,p,v,w,T,R,P){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new vh(c,p,v,T,R,P)}var t1e=0,n1e=1;function r1e(c){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),c}function i1e(c){return c===void 0&&(c=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),c.isMultiMaterial=!0,c.materials=c,c.clone=function(){return c.slice()},c}function s1e(c,p){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Eh(c,p)}function a1e(c){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new r_(c)}function o1e(c,p){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Eh(c,p)}function l1e(c){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ec(c)}function c1e(c){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ec(c)}function u1e(c){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ec(c)}function h1e(c,p,v){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new dt(c,p,v)}function d1e(c,p){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new _s(c,p).setDynamic(!0)}function f1e(c,p){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new jy(c,p)}function A1e(c,p){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ky(c,p)}function p1e(c,p){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new qy(c,p)}function g1e(c,p){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Xy(c,p)}function m1e(c,p){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Fu(c,p)}function v1e(c,p){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new lu(c,p)}function y1e(c,p){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new cu(c,p)}function _1e(c,p){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new kr(c,p)}function w1e(c,p){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new s0(c,p)}Oi.create=function(c,p){return console.log("THREE.Curve.create() has been deprecated"),c.prototype=Object.create(Oi.prototype),c.prototype.constructor=c,c.prototype.getPoint=p,c},Object.assign(Dm.prototype,{createPointsGeometry:function(c){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var p=this.getPoints(c);return this.createGeometry(p)},createSpacedPointsGeometry:function(c){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var p=this.getSpacedPoints(c);return this.createGeometry(p)},createGeometry:function(c){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var p=new $i,v=0,w=c.length;v<w;v++){var T=c[v];p.vertices.push(new dt(T.x,T.y,T.z||0))}return p}}),Object.assign(VA.prototype,{fromPoints:function(c){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(c)}});function dj(c){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Du.call(this,c),this.type="catmullrom",this.closed=!0}dj.prototype=Object.create(Du.prototype);function fj(c){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Du.call(this,c),this.type="catmullrom"}fj.prototype=Object.create(Du.prototype);function tU(c){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Du.call(this,c),this.type="catmullrom"}tU.prototype=Object.create(Du.prototype),Object.assign(tU.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function b1e(c){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new n2(c)}function x1e(c,p){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new b_(c,p)}function E1e(c,p){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Va(new db(c.geometry),new xa({color:p!==void 0?p:16777215}))}YC.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},wb.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function S1e(c,p){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Va(new fg(c.geometry),new xa({color:p!==void 0?p:16777215}))}Object.assign(vb.prototype,{extractUrlBase:function(c){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ok.extractUrlBase(c)}});function C1e(c){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new DA(c)}function T1e(c){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Mk(c)}Object.assign(Zk.prototype,{center:function(c){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(c)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(c){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(c)},size:function(c){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(c)}}),Object.assign(Pc.prototype,{center:function(c){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(c)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(c){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(c)},isIntersectionSphere:function(c){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(c)},size:function(c){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(c)}}),Jk.prototype.center=function(c){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(c)},Object.assign(qi,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(c){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),qi.floorPowerOfTwo(c)},nextPowerOfTwo:function(c){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),qi.ceilPowerOfTwo(c)}}),Object.assign(Ua.prototype,{flattenToArrayOffset:function(c,p){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(c,p)},multiplyVector3:function(c){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),c.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(c){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(c)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ur.prototype,{extractPosition:function(c){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(c)},flattenToArrayOffset:function(c,p){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(c,p)},getPosition:function(){var c;return function(){return c===void 0&&(c=new dt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),c.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(c){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(c)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(c){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),c.applyMatrix4(this)},multiplyVector4:function(c){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),c.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(c){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),c.transformDirection(this)},crossVector:function(c){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),c.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(c){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(c)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(c,p,v,w,T,R){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(c,p,w,v,T,R)}}),ul.prototype.isIntersectionLine=function(c){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(c)},Fo.prototype.multiplyVector3=function(c){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),c.applyQuaternion(this)},Object.assign(BA.prototype,{isIntersectionBox:function(c){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(c)},isIntersectionPlane:function(c){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(c)},isIntersectionSphere:function(c){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(c)}}),Object.assign(Nc.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(c,p){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(c,p)},midpoint:function(c){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(c)},normal:function(c){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(c)},plane:function(c){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(c)}}),Object.assign(Nc,{barycoordFromPoint:function(c,p,v,w,T){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Nc.getBarycoord(c,p,v,w,T)},normal:function(c,p,v,w){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Nc.getNormal(c,p,v,w)}}),Object.assign(d0.prototype,{extractAllPoints:function(c){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(c)},extrude:function(c){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new c_(this,c)},makeGeometry:function(c){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new h_(this,c)}}),Object.assign(ir.prototype,{fromAttribute:function(c,p,v){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(c,p,v)},distanceToManhattan:function(c){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(c)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(c){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(c)},getScaleFromMatrix:function(c){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(c)},getColumnFromMatrix:function(c,p){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(p,c)},applyProjection:function(c){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(c)},fromAttribute:function(c,p,v){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(c,p,v)},distanceToManhattan:function(c){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(c)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Gs.prototype,{fromAttribute:function(c,p,v){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(c,p,v)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign($i.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Vr.prototype,{getChildByName:function(c){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(c)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(c,p){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(p,c)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Vr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(c){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=c}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(c0.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(i_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Oi.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(c){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=c}}),po.prototype.setLens=function(c,p){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),p!==void 0&&(this.filmGauge=p),this.setFocalLength(c)},Object.defineProperties(gl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(c){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=c}},shadowCameraLeft:{set:function(c){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=c}},shadowCameraRight:{set:function(c){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=c}},shadowCameraTop:{set:function(c){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=c}},shadowCameraBottom:{set:function(c){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=c}},shadowCameraNear:{set:function(c){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=c}},shadowCameraFar:{set:function(c){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=c}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(c){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=c}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(c){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=c}},shadowMapHeight:{set:function(c){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=c}}}),Object.defineProperties(_s.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(ii.prototype,{addIndex:function(c){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(c)},addDrawCall:function(c,p,v){v!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(c,p)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ii.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Ag.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(JB.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ls.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new fi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(c){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=c===y}}}),Object.defineProperties(OA.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Oc.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(c){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=c}}}),Object.assign(eb.prototype,{animate:function(c){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(c)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(c){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(c)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(eb.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(c){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=c}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(c){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=c}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Jy.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Yd.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(c){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=c}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(c){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=c}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(c){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=c}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(c){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=c}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(c){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=c}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(c){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=c}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(c){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=c}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(c){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=c}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(c){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=c}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(c){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=c}}}),Object.defineProperties(PB.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),yb.prototype.load=function(c){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var p=this,v=new Gk;return v.load(c,function(w){p.setBuffer(w)}),this},$k.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},KC.prototype.updateCubeMap=function(c,p){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(c,p)};var M1e={merge:function(c,p,v){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var w;p.isMesh&&(p.matrixAutoUpdate&&p.updateMatrix(),w=p.matrix,p=p.geometry),c.merge(p,w,v)},center:function(c){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),c.center()}};fh.crossOrigin=void 0,fh.loadTexture=function(c,p,v,w){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var T=new OB;T.setCrossOrigin(this.crossOrigin);var R=T.load(c,v,void 0,w);return p&&(R.mapping=p),R},fh.loadTextureCube=function(c,p,v,w){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var T=new Lk;T.setCrossOrigin(this.crossOrigin);var R=T.load(c,v,void 0,w);return p&&(R.mapping=p),R},fh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},fh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function L1e(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(c,p){console.warn("THREE.Projector: .projectVector() is now vector.project()."),c.project(p)},this.unprojectVector=function(c,p){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),c.unproject(p)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function B1e(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var R1e={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function I1e(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}t.WebGLRenderTargetCube=Df,t.WebGLRenderTarget=Yd,t.WebGLRenderer=eb,t.ShaderLib=Bm,t.UniformsLib=Ei,t.UniformsUtils=gc,t.ShaderChunk=ia,t.FogExp2=ug,t.Fog=xh,t.Scene=t_,t.Sprite=r_,t.LOD=c0,t.SkinnedMesh=tb,t.Skeleton=i_,t.Bone=s_,t.Mesh=uu,t.LineSegments=Va,t.LineLoop=hd,t.Line=Dc,t.Points=Eh,t.Group=cg,t.VideoTexture=u0,t.DataTexture=Zd,t.CompressedTexture=dg,t.CubeTexture=N,t.CanvasTexture=h0,t.DepthTexture=a_,t.Texture=wa,t.CompressedTextureLoader=KW,t.DataTextureLoader=Mk,t.CubeTextureLoader=Lk,t.TextureLoader=OB,t.ObjectLoader=ZW,t.MaterialLoader=YB,t.BufferGeometryLoader=Fk,t.DefaultLoadingManager=Ad,t.LoadingManager=Tk,t.JSONLoader=Nk,t.ImageLoader=zC,t.ImageBitmapLoader=Dk,t.FontLoader=tj,t.FileLoader=DA,t.Loader=vb,t.LoaderUtils=Ok,t.Cache=__,t.AudioLoader=Gk,t.SpotLightShadow=kB,t.SpotLight=UB,t.PointLight=HB,t.RectAreaLight=$B,t.HemisphereLight=DB,t.DirectionalLightShadow=GB,t.DirectionalLight=VB,t.AmbientLight=zB,t.LightShadow=w_,t.Light=gl,t.StereoCamera=nj,t.PerspectiveCamera=po,t.OrthographicCamera=tg,t.CubeCamera=KC,t.ArrayCamera=l0,t.Camera=cd,t.AudioListener=Vk,t.PositionalAudio=zk,t.AudioContext=Hk,t.AudioAnalyser=$k,t.Audio=yb,t.VectorKeyframeTrack=mb,t.StringKeyframeTrack=XB,t.QuaternionKeyframeTrack=jC,t.NumberKeyframeTrack=gb,t.ColorKeyframeTrack=KB,t.BooleanKeyframeTrack=jB,t.PropertyMixer=Qk,t.PropertyBinding=Uu,t.KeyframeTrack=hu,t.AnimationUtils=ku,t.AnimationObjectGroup=ij,t.AnimationMixer=jk,t.AnimationClip=Kf,t.Uniform=JB,t.InstancedBufferGeometry=Kk,t.BufferGeometry=ii,t.Geometry=$i,t.InterleavedBufferAttribute=n_,t.InstancedInterleavedBuffer=qk,t.InterleavedBuffer=hg,t.InstancedBufferAttribute=Xk,t.Face3=vh,t.Object3D=Vr,t.Raycaster=aj,t.Layers=yC,t.EventDispatcher=e,t.Clock=lj,t.QuaternionLinearInterpolant=qB,t.LinearInterpolant=WC,t.DiscreteInterpolant=WB,t.CubicInterpolant=QB,t.Interpolant=rf,t.Triangle=Nc,t.Math=qi,t.Spherical=cj,t.Cylindrical=uj,t.Plane=ul,t.Frustum=kf,t.Sphere=Zo,t.Ray=BA,t.Matrix4=ur,t.Matrix3=Ua,t.Box3=Pc,t.Box2=Zk,t.Line3=Jk,t.Euler=Rm,t.Vector4=Gs,t.Vector3=dt,t.Vector2=ir,t.Quaternion=Fo,t.Color=fi,t.ImmediateRenderObject=qC,t.VertexNormalsHelper=XC,t.SpotLightHelper=_b,t.SkeletonHelper=wb,t.PointLightHelper=bb,t.RectAreaLightHelper=xb,t.HemisphereLightHelper=Eb,t.GridHelper=YC,t.PolarGridHelper=eR,t.FaceNormalsHelper=ZC,t.DirectionalLightHelper=Sb,t.CameraHelper=JC,t.BoxHelper=b_,t.Box3Helper=e2,t.PlaneHelper=t2,t.ArrowHelper=x_,t.AxesHelper=n2,t.Shape=d0,t.Path=VA,t.ShapePath=kk,t.Font=Uk,t.CurvePath=Dm,t.Curve=Oi,t.ImageUtils=fh,t.ShapeUtils=Om,t.WebGLUtils=e_,t.WireframeGeometry=fg,t.ParametricGeometry=Fm,t.ParametricBufferGeometry=nb,t.TetrahedronGeometry=SC,t.TetrahedronBufferGeometry=rb,t.OctahedronGeometry=CC,t.OctahedronBufferGeometry=o_,t.IcosahedronGeometry=TC,t.IcosahedronBufferGeometry=ib,t.DodecahedronGeometry=MC,t.DodecahedronBufferGeometry=sb,t.PolyhedronGeometry=EC,t.PolyhedronBufferGeometry=dd,t.TubeGeometry=LC,t.TubeBufferGeometry=ab,t.TorusKnotGeometry=BC,t.TorusKnotBufferGeometry=ob,t.TorusGeometry=RC,t.TorusBufferGeometry=lb,t.TextGeometry=NC,t.TextBufferGeometry=cb,t.SphereGeometry=DC,t.SphereBufferGeometry=u_,t.RingGeometry=kC,t.RingBufferGeometry=ub,t.PlaneGeometry=a0,t.PlaneBufferGeometry=rg,t.LatheGeometry=UC,t.LatheBufferGeometry=hb,t.ShapeGeometry=h_,t.ShapeBufferGeometry=d_,t.ExtrudeGeometry=c_,t.ExtrudeBufferGeometry=Ag,t.EdgesGeometry=db,t.ConeGeometry=HC,t.ConeBufferGeometry=GC,t.CylinderGeometry=f_,t.CylinderBufferGeometry=Nm,t.CircleGeometry=VC,t.CircleBufferGeometry=fb,t.BoxGeometry=Im,t.BoxBufferGeometry=ng,t.ShadowMaterial=A_,t.SpriteMaterial=FA,t.RawShaderMaterial=Ab,t.ShaderMaterial=Oc,t.PointsMaterial=ec,t.MeshPhysicalMaterial=p_,t.MeshStandardMaterial=pg,t.MeshPhongMaterial=OA,t.MeshToonMaterial=g_,t.MeshNormalMaterial=m_,t.MeshLambertMaterial=v_,t.MeshDepthMaterial=lg,t.MeshDistanceMaterial=PA,t.MeshBasicMaterial=Fc,t.LineDashedMaterial=y_,t.LineBasicMaterial=xa,t.Material=ls,t.Float64BufferAttribute=s0,t.Float32BufferAttribute=kr,t.Uint32BufferAttribute=cu,t.Int32BufferAttribute=lu,t.Uint16BufferAttribute=Fu,t.Int16BufferAttribute=Xy,t.Uint8ClampedBufferAttribute=qy,t.Uint8BufferAttribute=Ky,t.Int8BufferAttribute=jy,t.BufferAttribute=_s,t.ArcCurve=pb,t.CatmullRomCurve3=Du,t.CubicBezierCurve=kA,t.CubicBezierCurve3=gg,t.EllipseCurve=nf,t.LineCurve=pd,t.LineCurve3=UA,t.QuadraticBezierCurve=HA,t.QuadraticBezierCurve3=mg,t.SplineCurve=GA,t.REVISION=n,t.MOUSE=r,t.CullFaceNone=i,t.CullFaceBack=s,t.CullFaceFront=a,t.CullFaceFrontBack=o,t.FrontFaceDirectionCW=l,t.FrontFaceDirectionCCW=u,t.BasicShadowMap=h,t.PCFShadowMap=d,t.PCFSoftShadowMap=f,t.FrontSide=A,t.BackSide=m,t.DoubleSide=g,t.FlatShading=y,t.SmoothShading=_,t.NoColors=x,t.FaceColors=S,t.VertexColors=C,t.NoBlending=M,t.NormalBlending=B,t.AdditiveBlending=E,t.SubtractiveBlending=L,t.MultiplyBlending=I,t.CustomBlending=k,t.AddEquation=O,t.SubtractEquation=F,t.ReverseSubtractEquation=U,t.MinEquation=$,t.MaxEquation=K,t.ZeroFactor=V,t.OneFactor=Q,t.SrcColorFactor=X,t.OneMinusSrcColorFactor=z,t.SrcAlphaFactor=ne,t.OneMinusSrcAlphaFactor=he,t.DstAlphaFactor=W,t.OneMinusDstAlphaFactor=Y,t.DstColorFactor=oe,t.OneMinusDstColorFactor=fe,t.SrcAlphaSaturateFactor=me,t.NeverDepth=ce,t.AlwaysDepth=be,t.LessDepth=xe,t.LessEqualDepth=Ie,t.EqualDepth=Qe,t.GreaterEqualDepth=ue,t.GreaterDepth=ye,t.NotEqualDepth=$e,t.MultiplyOperation=Ve,t.MixOperation=Se,t.AddOperation=at,t.NoToneMapping=ft,t.LinearToneMapping=je,t.ReinhardToneMapping=gt,t.Uncharted2ToneMapping=vt,t.CineonToneMapping=Te,t.UVMapping=we,t.CubeReflectionMapping=Ne,t.CubeRefractionMapping=Ze,t.EquirectangularReflectionMapping=Tt,t.EquirectangularRefractionMapping=Zt,t.SphericalReflectionMapping=ln,t.CubeUVReflectionMapping=Ye,t.CubeUVRefractionMapping=yt,t.RepeatWrapping=Qt,t.ClampToEdgeWrapping=Dt,t.MirroredRepeatWrapping=st,t.NearestFilter=ke,t.NearestMipMapNearestFilter=ct,t.NearestMipMapLinearFilter=Oe,t.LinearFilter=kt,t.LinearMipMapNearestFilter=wn,t.LinearMipMapLinearFilter=mt,t.UnsignedByteType=Kt,t.ByteType=bn,t.ShortType=Rn,t.UnsignedShortType=On,t.IntType=Dn,t.UnsignedIntType=Un,t.FloatType=jr,t.HalfFloatType=Mi,t.UnsignedShort4444Type=bi,t.UnsignedShort5551Type=Ji,t.UnsignedShort565Type=br,t.UnsignedInt248Type=fs,t.AlphaFormat=Di,t.RGBFormat=Hi,t.RGBAFormat=ki,t.LuminanceFormat=ot,t.LuminanceAlphaFormat=sn,t.RGBEFormat=Cn,t.DepthFormat=it,t.DepthStencilFormat=Ft,t.RGB_S3TC_DXT1_Format=Gn,t.RGBA_S3TC_DXT1_Format=fr,t.RGBA_S3TC_DXT3_Format=Gr,t.RGBA_S3TC_DXT5_Format=$r,t.RGB_PVRTC_4BPPV1_Format=oi,t.RGB_PVRTC_2BPPV1_Format=xi,t.RGBA_PVRTC_4BPPV1_Format=mi,t.RGBA_PVRTC_2BPPV1_Format=Lt,t.RGB_ETC1_Format=ut,t.RGBA_ASTC_4x4_Format=on,t.RGBA_ASTC_5x4_Format=xn,t.RGBA_ASTC_5x5_Format=Rr,t.RGBA_ASTC_6x5_Format=Xr,t.RGBA_ASTC_6x6_Format=ta,t.RGBA_ASTC_8x5_Format=Ki,t.RGBA_ASTC_8x6_Format=Eo,t.RGBA_ASTC_8x8_Format=na,t.RGBA_ASTC_10x5_Format=Kl,t.RGBA_ASTC_10x6_Format=Ic,t.RGBA_ASTC_10x8_Format=to,t.RGBA_ASTC_10x10_Format=ql,t.RGBA_ASTC_12x10_Format=ed,t.RGBA_ASTC_12x12_Format=Ls,t.LoopOnce=So,t.LoopRepeat=Ru,t.LoopPingPong=hh,t.InterpolateDiscrete=jd,t.InterpolateLinear=TA,t.InterpolateSmooth=Xl,t.ZeroCurvatureEnding=iu,t.ZeroSlopeEnding=fo,t.WrapAroundEnding=td,t.TrianglesDrawMode=Qp,t.TriangleStripDrawMode=Zv,t.TriangleFanDrawMode=Ac,t.LinearEncoding=Of,t.sRGBEncoding=Kd,t.GammaEncoding=Mm,t.RGBEEncoding=Wp,t.LogLuvEncoding=qd,t.RGBM7Encoding=nd,t.RGBM16Encoding=jp,t.RGBDEncoding=rd,t.BasicDepthPacking=dh,t.RGBADepthPacking=Nf,t.TangentSpaceNormalMap=Xd,t.ObjectSpaceNormalMap=cl,t.CubeGeometry=Im,t.Face4=e1e,t.LineStrip=t1e,t.LinePieces=n1e,t.MeshFaceMaterial=r1e,t.MultiMaterial=i1e,t.PointCloud=s1e,t.Particle=a1e,t.ParticleSystem=o1e,t.PointCloudMaterial=l1e,t.ParticleBasicMaterial=c1e,t.ParticleSystemMaterial=u1e,t.Vertex=h1e,t.DynamicBufferAttribute=d1e,t.Int8Attribute=f1e,t.Uint8Attribute=A1e,t.Uint8ClampedAttribute=p1e,t.Int16Attribute=g1e,t.Uint16Attribute=m1e,t.Int32Attribute=v1e,t.Uint32Attribute=y1e,t.Float32Attribute=_1e,t.Float64Attribute=w1e,t.ClosedSplineCurve3=dj,t.SplineCurve3=fj,t.Spline=tU,t.AxisHelper=b1e,t.BoundingBoxHelper=x1e,t.EdgesHelper=E1e,t.WireframeHelper=S1e,t.XHRLoader=C1e,t.BinaryTextureLoader=T1e,t.GeometryUtils=M1e,t.Projector=L1e,t.CanvasRenderer=B1e,t.SceneUtils=R1e,t.LensFlare=I1e,Object.defineProperty(t,"__esModule",{value:!0})});function BCe(t){function e(n,r){console.log(this),this.object=n,this.domElement=r!==void 0?r:document,this.enabled=!0,this.target=new t.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var i=this,s=new t.Vector2,a=new t.Vector2,o=new t.Vector2,l=new t.Vector2,u=new t.Vector2,h=new t.Vector2,d=new t.Vector3,f=new t.Vector3,A=new t.Vector2,m=new t.Vector2,g=new t.Vector2,y=1,_=new t.Vector3;new t.Vector3;var x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},S=x.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var C={type:"change"},M={type:"start"},B={type:"end"};this.rotateLeft=function(Q){Q===void 0&&(Q=E())},this.rotateUp=function(Q){Q===void 0&&(Q=E())},this.panLeft=function(Q){var X=this.object.matrix.elements;d.set(X[0],X[1],X[2]),d.multiplyScalar(-Q),_.add(d)},this.panUp=function(Q){var X=this.object.matrix.elements;d.set(X[4],X[5],X[6]),d.multiplyScalar(Q),_.add(d)},this.pan=function(Q,X){var z=i.domElement===document?i.domElement.body:i.domElement;if(i.object.fov!==void 0){var ne=i.object.position,he=ne.clone().sub(i.target),W=he.length();W*=Math.tan(i.object.fov/2*Math.PI/180),i.panLeft(2*Q*W/z.clientHeight),i.panUp(2*X*W/z.clientHeight)}else i.object.top!==void 0?(i.panLeft(Q*(i.object.right-i.object.left)/z.clientWidth),i.panUp(X*(i.object.top-i.object.bottom)/z.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(Q){Q===void 0&&(Q=L()),y/=Q},this.dollyOut=function(Q){Q===void 0&&(Q=L()),y*=Q},this.update=function(){i.object.top!==void 0&&(this.object.top=y*this.object.top,this.object.bottom=y*this.object.bottom,this.object.left=y*this.object.left,this.object.right=y*this.object.right,this.object.updateProjectionMatrix());var Q=this.object.position;f.copy(Q).sub(this.target),this.target.add(_),Q.copy(this.target).add(f),this.object.lookAt(this.target),this.dispatchEvent(C),y=1,_.set(0,0,0)},this.reset=function(){S=x.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()};function E(){return 2*Math.PI/60/60*i.autoRotateSpeed}function L(){return Math.pow(.95,i.zoomSpeed)}function I(Q){if(i.enabled!==!1){if(Q.preventDefault(),Q.button===0){if(i.noPan===!0)return;S=x.PAN,l.set(Q.clientX,Q.clientY)}else if(Q.button===1){if(i.noZoom===!0)return;S=x.DOLLY,A.set(Q.clientX,Q.clientY)}else if(Q.button===2){if(i.noPan===!0)return;S=x.PAN,l.set(Q.clientX,Q.clientY)}i.domElement.addEventListener("mousemove",k,!1),i.domElement.addEventListener("mouseup",O,!1),i.dispatchEvent(M)}}function k(Q){if(i.enabled!==!1){Q.preventDefault();var X=i.domElement===document?i.domElement.body:i.domElement;if(S===x.ROTATE){if(i.noRotate===!0)return;a.set(Q.clientX,Q.clientY),o.subVectors(a,s),i.rotateLeft(2*Math.PI*o.x/X.clientWidth*i.rotateSpeed),i.rotateUp(2*Math.PI*o.y/X.clientHeight*i.rotateSpeed),s.copy(a)}else if(S===x.DOLLY){if(i.noZoom===!0)return;m.set(Q.clientX,Q.clientY),g.subVectors(m,A),g.y>0?i.dollyIn():i.dollyOut(),A.copy(m)}else if(S===x.PAN){if(i.noPan===!0)return;u.set(Q.clientX,Q.clientY),h.subVectors(u,l),i.pan(h.x,h.y),l.copy(u)}i.update()}}function O(){i.enabled!==!1&&(i.domElement.removeEventListener("mousemove",k,!1),i.domElement.removeEventListener("mouseup",O,!1),i.dispatchEvent(B),S=x.NONE)}function F(Q){if(!(i.enabled===!1||i.noZoom===!0)){Q.preventDefault();var X=0;Q.wheelDelta!==void 0?X=Q.wheelDelta:Q.detail!==void 0&&(X=-Q.detail),X>0?i.dollyOut():i.dollyIn(),i.update(),i.dispatchEvent(M),i.dispatchEvent(B)}}function U(Q){if(!(i.enabled===!1||i.noKeys===!0||i.noPan===!0))switch(Q.keyCode){case i.keys.UP:i.pan(0,i.keyPanSpeed),i.update();break;case i.keys.BOTTOM:i.pan(0,-i.keyPanSpeed),i.update();break;case i.keys.LEFT:i.pan(i.keyPanSpeed,0),i.update();break;case i.keys.RIGHT:i.pan(-i.keyPanSpeed,0),i.update();break}}function $(Q){if(i.enabled!==!1){switch(Q.touches.length){case 1:if(i.noRotate===!0)return;S=x.TOUCH_ROTATE,s.set(Q.touches[0].pageX,Q.touches[0].pageY);break;case 2:if(i.noZoom===!0)return;S=x.TOUCH_DOLLY;var X=Q.touches[0].pageX-Q.touches[1].pageX,z=Q.touches[0].pageY-Q.touches[1].pageY,ne=Math.sqrt(X*X+z*z);A.set(0,ne);break;case 3:if(i.noPan===!0)return;S=x.TOUCH_PAN,l.set(Q.touches[0].pageX,Q.touches[0].pageY);break;default:S=x.NONE}i.dispatchEvent(M)}}function K(Q){if(i.enabled!==!1){Q.preventDefault(),Q.stopPropagation();var X=i.domElement===document?i.domElement.body:i.domElement;switch(Q.touches.length){case 1:if(i.noRotate===!0||S!==x.TOUCH_ROTATE)return;a.set(Q.touches[0].pageX,Q.touches[0].pageY),o.subVectors(a,s),i.rotateLeft(2*Math.PI*o.x/X.clientWidth*i.rotateSpeed),i.rotateUp(2*Math.PI*o.y/X.clientHeight*i.rotateSpeed),s.copy(a),i.update();break;case 2:if(i.noZoom===!0||S!==x.TOUCH_DOLLY)return;var z=Q.touches[0].pageX-Q.touches[1].pageX,ne=Q.touches[0].pageY-Q.touches[1].pageY,he=Math.sqrt(z*z+ne*ne);m.set(0,he),g.subVectors(m,A),g.y>0?i.dollyOut():i.dollyIn(),A.copy(m),i.update();break;case 3:if(i.noPan===!0||S!==x.TOUCH_PAN)return;u.set(Q.touches[0].pageX,Q.touches[0].pageY),h.subVectors(u,l),i.pan(h.x,h.y),l.copy(u),i.update();break;default:S=x.NONE}}}function V(){i.enabled!==!1&&(i.dispatchEvent(B),S=x.NONE)}this.domElement.addEventListener("contextmenu",function(Q){Q.preventDefault()},!1),this.domElement.addEventListener("mousedown",I,!1),this.domElement.addEventListener("mousewheel",F,!1),this.domElement.addEventListener("DOMMouseScroll",F,!1),this.domElement.addEventListener("touchstart",$,!1),this.domElement.addEventListener("touchend",V,!1),this.domElement.addEventListener("touchmove",K,!1),window.addEventListener("keydown",U,!1)}return console.log(t),e.prototype=Object.create(t.EventDispatcher.prototype),e}var PP={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var RCe=PP.exports,_K;function ICe(){return _K||(_K=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:RCe,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,a=r.flat?function(D){return r.flat.call(D)}:function(D){return r.concat.apply([],D)},o=r.push,l=r.indexOf,u={},h=u.toString,d=u.hasOwnProperty,f=d.toString,A=f.call(Object),m={},g=function(q){return typeof q=="function"&&typeof q.nodeType!="number"&&typeof q.item!="function"},y=function(q){return q!=null&&q===q.window},_=e.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function S(D,q,le){le=le||_;var pe,Le,Re=le.createElement("script");if(Re.text=D,q)for(pe in x)Le=q[pe]||q.getAttribute&&q.getAttribute(pe),Le&&Re.setAttribute(pe,Le);le.head.appendChild(Re).parentNode.removeChild(Re)}function C(D){return D==null?D+"":typeof D=="object"||typeof D=="function"?u[h.call(D)]||"object":typeof D}var M="3.7.1",B=/HTML$/i,E=function(D,q){return new E.fn.init(D,q)};E.fn=E.prototype={jquery:M,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(D){return D==null?s.call(this):D<0?this[D+this.length]:this[D]},pushStack:function(D){var q=E.merge(this.constructor(),D);return q.prevObject=this,q},each:function(D){return E.each(this,D)},map:function(D){return this.pushStack(E.map(this,function(q,le){return D.call(q,le,q)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(D,q){return(q+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(D,q){return q%2}))},eq:function(D){var q=this.length,le=+D+(D<0?q:0);return this.pushStack(le>=0&&le<q?[this[le]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var D,q,le,pe,Le,Re,Ge=arguments[0]||{},Rt=1,bt=arguments.length,Xt=!1;for(typeof Ge=="boolean"&&(Xt=Ge,Ge=arguments[Rt]||{},Rt++),typeof Ge!="object"&&!g(Ge)&&(Ge={}),Rt===bt&&(Ge=this,Rt--);Rt<bt;Rt++)if((D=arguments[Rt])!=null)for(q in D)pe=D[q],!(q==="__proto__"||Ge===pe)&&(Xt&&pe&&(E.isPlainObject(pe)||(Le=Array.isArray(pe)))?(le=Ge[q],Le&&!Array.isArray(le)?Re=[]:!Le&&!E.isPlainObject(le)?Re={}:Re=le,Le=!1,Ge[q]=E.extend(Xt,Re,pe)):pe!==void 0&&(Ge[q]=pe));return Ge},E.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(D){throw new Error(D)},noop:function(){},isPlainObject:function(D){var q,le;return!D||h.call(D)!=="[object Object]"?!1:(q=i(D),q?(le=d.call(q,"constructor")&&q.constructor,typeof le=="function"&&f.call(le)===A):!0)},isEmptyObject:function(D){var q;for(q in D)return!1;return!0},globalEval:function(D,q,le){S(D,{nonce:q&&q.nonce},le)},each:function(D,q){var le,pe=0;if(L(D))for(le=D.length;pe<le&&q.call(D[pe],pe,D[pe])!==!1;pe++);else for(pe in D)if(q.call(D[pe],pe,D[pe])===!1)break;return D},text:function(D){var q,le="",pe=0,Le=D.nodeType;if(!Le)for(;q=D[pe++];)le+=E.text(q);return Le===1||Le===11?D.textContent:Le===9?D.documentElement.textContent:Le===3||Le===4?D.nodeValue:le},makeArray:function(D,q){var le=q||[];return D!=null&&(L(Object(D))?E.merge(le,typeof D=="string"?[D]:D):o.call(le,D)),le},inArray:function(D,q,le){return q==null?-1:l.call(q,D,le)},isXMLDoc:function(D){var q=D&&D.namespaceURI,le=D&&(D.ownerDocument||D).documentElement;return!B.test(q||le&&le.nodeName||"HTML")},merge:function(D,q){for(var le=+q.length,pe=0,Le=D.length;pe<le;pe++)D[Le++]=q[pe];return D.length=Le,D},grep:function(D,q,le){for(var pe,Le=[],Re=0,Ge=D.length,Rt=!le;Re<Ge;Re++)pe=!q(D[Re],Re),pe!==Rt&&Le.push(D[Re]);return Le},map:function(D,q,le){var pe,Le,Re=0,Ge=[];if(L(D))for(pe=D.length;Re<pe;Re++)Le=q(D[Re],Re,le),Le!=null&&Ge.push(Le);else for(Re in D)Le=q(D[Re],Re,le),Le!=null&&Ge.push(Le);return a(Ge)},guid:1,support:m}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(D,q){u["[object "+q+"]"]=q.toLowerCase()});function L(D){var q=!!D&&"length"in D&&D.length,le=C(D);return g(D)||y(D)?!1:le==="array"||q===0||typeof q=="number"&&q>0&&q-1 in D}function I(D,q){return D.nodeName&&D.nodeName.toLowerCase()===q.toLowerCase()}var k=r.pop,O=r.sort,F=r.splice,U="[\\x20\\t\\r\\n\\f]",$=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g");E.contains=function(D,q){var le=q&&q.parentNode;return D===le||!!(le&&le.nodeType===1&&(D.contains?D.contains(le):D.compareDocumentPosition&&D.compareDocumentPosition(le)&16))};var K=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function V(D,q){return q?D==="\0"?"":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D}E.escapeSelector=function(D){return(D+"").replace(K,V)};var Q=_,X=o;(function(){var D,q,le,pe,Le,Re=X,Ge,Rt,bt,Xt,Sn,Pn=E.expando,yn=0,nr=0,Ri=zf(),Ts=zf(),Xi=zf(),Oo=zf(),te=function(At,Vt){return At===Vt&&(Le=!0),0},Pe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_t="(?:\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Et="\\["+U+"*("+_t+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_t+"))|)"+U+"*\\]",nn=":("+_t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Et+")*)|.*)\\)|)",dn=new RegExp(U+"+","g"),Fn=new RegExp("^"+U+"*,"+U+"*"),Pr=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),vi=new RegExp(U+"|>"),Ii=new RegExp(nn),Gi=new RegExp("^"+_t+"$"),os={ID:new RegExp("^#("+_t+")"),CLASS:new RegExp("^\\.("+_t+")"),TAG:new RegExp("^("+_t+"|[*])"),ATTR:new RegExp("^"+Et),PSEUDO:new RegExp("^"+nn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+Pe+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,ba=/^h\d$/i,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hl=/[+~]/,Ha=new RegExp("\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\([^\\r\\n\\f])","g"),Jo=function(At,Vt){var un="0x"+At.slice(1)-65536;return Vt||(un<0?String.fromCharCode(un+65536):String.fromCharCode(un>>10|55296,un&1023|56320))},su=function(){au()},id=Qf(function(At){return At.disabled===!0&&I(At,"fieldset")},{dir:"parentNode",next:"legend"});function r0(){try{return Ge.activeElement}catch(At){}}try{Re.apply(r=s.call(Q.childNodes),Q.childNodes),r[Q.childNodes.length].nodeType}catch(At){Re={apply:function(Vt,un){X.apply(Vt,s.call(un))},call:function(Vt){X.apply(Vt,s.call(arguments,1))}}}function js(At,Vt,un,_n){var Bn,Ar,pr,ri,_r,Vi,Li,zi=Vt&&Vt.ownerDocument,gs=Vt?Vt.nodeType:9;if(un=un||[],typeof At!="string"||!At||gs!==1&&gs!==9&&gs!==11)return un;if(!_n&&(au(Vt),Vt=Vt||Ge,bt)){if(gs!==11&&(_r=ua.exec(At)))if(Bn=_r[1]){if(gs===9)if(pr=Vt.getElementById(Bn)){if(pr.id===Bn)return Re.call(un,pr),un}else return un;else if(zi&&(pr=zi.getElementById(Bn))&&js.contains(Vt,pr)&&pr.id===Bn)return Re.call(un,pr),un}else{if(_r[2])return Re.apply(un,Vt.getElementsByTagName(At)),un;if((Bn=_r[3])&&Vt.getElementsByClassName)return Re.apply(un,Vt.getElementsByClassName(Bn)),un}if(!Oo[At+" "]&&(!Xt||!Xt.test(At))){if(Li=At,zi=Vt,gs===1&&(vi.test(At)||Pr.test(At))){for(zi=hl.test(At)&&$f(Vt.parentNode)||Vt,(zi!=Vt||!m.scope)&&((ri=Vt.getAttribute("id"))?ri=E.escapeSelector(ri):Vt.setAttribute("id",ri=Pn)),Vi=fl(At),Ar=Vi.length;Ar--;)Vi[Ar]=(ri?"#"+ri:":scope")+" "+Yp(Vi[Ar]);Li=Vi.join(",")}try{return Re.apply(un,zi.querySelectorAll(Li)),un}catch(di){Oo(At,!0)}finally{ri===Pn&&Vt.removeAttribute("id")}}}return pc(At.replace($,"$1"),Vt,un,_n)}function zf(){var At=[];function Vt(un,_n){return At.push(un+" ")>q.cacheLength&&delete Vt[At.shift()],Vt[un+" "]=_n}return Vt}function Yl(At){return At[Pn]=!0,At}function sd(At){var Vt=Ge.createElement("fieldset");try{return!!At(Vt)}catch(un){return!1}finally{Vt.parentNode&&Vt.parentNode.removeChild(Vt),Vt=null}}function Lm(At){return function(Vt){return I(Vt,"input")&&Vt.type===At}}function qp(At){return function(Vt){return(I(Vt,"input")||I(Vt,"button"))&&Vt.type===At}}function dl(At){return function(Vt){return"form"in Vt?Vt.parentNode&&Vt.disabled===!1?"label"in Vt?"label"in Vt.parentNode?Vt.parentNode.disabled===At:Vt.disabled===At:Vt.isDisabled===At||Vt.isDisabled!==!At&&id(Vt)===At:Vt.disabled===At:"label"in Vt?Vt.disabled===At:!1}}function Iu(At){return Yl(function(Vt){return Vt=+Vt,Yl(function(un,_n){for(var Bn,Ar=At([],un.length,Vt),pr=Ar.length;pr--;)un[Bn=Ar[pr]]&&(un[Bn]=!(_n[Bn]=un[Bn]))})})}function $f(At){return At&&typeof At.getElementsByTagName<"u"&&At}function au(At){var Vt,un=At?At.ownerDocument||At:Q;return un==Ge||un.nodeType!==9||!un.documentElement||(Ge=un,Rt=Ge.documentElement,bt=!E.isXMLDoc(Ge),Sn=Rt.matches||Rt.webkitMatchesSelector||Rt.msMatchesSelector,Rt.msMatchesSelector&&Q!=Ge&&(Vt=Ge.defaultView)&&Vt.top!==Vt&&Vt.addEventListener("unload",su),m.getById=sd(function(_n){return Rt.appendChild(_n).id=E.expando,!Ge.getElementsByName||!Ge.getElementsByName(E.expando).length}),m.disconnectedMatch=sd(function(_n){return Sn.call(_n,"*")}),m.scope=sd(function(){return Ge.querySelectorAll(":scope")}),m.cssHas=sd(function(){try{return Ge.querySelector(":has(*,:jqfake)"),!1}catch(_n){return!0}}),m.getById?(q.filter.ID=function(_n){var Bn=_n.replace(Ha,Jo);return function(Ar){return Ar.getAttribute("id")===Bn}},q.find.ID=function(_n,Bn){if(typeof Bn.getElementById<"u"&&bt){var Ar=Bn.getElementById(_n);return Ar?[Ar]:[]}}):(q.filter.ID=function(_n){var Bn=_n.replace(Ha,Jo);return function(Ar){var pr=typeof Ar.getAttributeNode<"u"&&Ar.getAttributeNode("id");return pr&&pr.value===Bn}},q.find.ID=function(_n,Bn){if(typeof Bn.getElementById<"u"&&bt){var Ar,pr,ri,_r=Bn.getElementById(_n);if(_r){if(Ar=_r.getAttributeNode("id"),Ar&&Ar.value===_n)return[_r];for(ri=Bn.getElementsByName(_n),pr=0;_r=ri[pr++];)if(Ar=_r.getAttributeNode("id"),Ar&&Ar.value===_n)return[_r]}return[]}}),q.find.TAG=function(_n,Bn){return typeof Bn.getElementsByTagName<"u"?Bn.getElementsByTagName(_n):Bn.querySelectorAll(_n)},q.find.CLASS=function(_n,Bn){if(typeof Bn.getElementsByClassName<"u"&&bt)return Bn.getElementsByClassName(_n)},Xt=[],sd(function(_n){var Bn;Rt.appendChild(_n).innerHTML="<a id='"+Pn+"' href='' disabled='disabled'></a><select id='"+Pn+"-\r\\' disabled='disabled'><option selected=''></option></select>",_n.querySelectorAll("[selected]").length||Xt.push("\\["+U+"*(?:value|"+Pe+")"),_n.querySelectorAll("[id~="+Pn+"-]").length||Xt.push("~="),_n.querySelectorAll("a#"+Pn+"+*").length||Xt.push(".#.+[+~]"),_n.querySelectorAll(":checked").length||Xt.push(":checked"),Bn=Ge.createElement("input"),Bn.setAttribute("type","hidden"),_n.appendChild(Bn).setAttribute("name","D"),Rt.appendChild(_n).disabled=!0,_n.querySelectorAll(":disabled").length!==2&&Xt.push(":enabled",":disabled"),Bn=Ge.createElement("input"),Bn.setAttribute("name",""),_n.appendChild(Bn),_n.querySelectorAll("[name='']").length||Xt.push("\\["+U+"*name"+U+"*="+U+"*(?:''|\"\")")}),m.cssHas||Xt.push(":has"),Xt=Xt.length&&new RegExp(Xt.join("|")),te=function(_n,Bn){if(_n===Bn)return Le=!0,0;var Ar=!_n.compareDocumentPosition-!Bn.compareDocumentPosition;return Ar||(Ar=(_n.ownerDocument||_n)==(Bn.ownerDocument||Bn)?_n.compareDocumentPosition(Bn):1,Ar&1||!m.sortDetached&&Bn.compareDocumentPosition(_n)===Ar?_n===Ge||_n.ownerDocument==Q&&js.contains(Q,_n)?-1:Bn===Ge||Bn.ownerDocument==Q&&js.contains(Q,Bn)?1:pe?l.call(pe,_n)-l.call(pe,Bn):0:Ar&4?-1:1)}),Ge}js.matches=function(At,Vt){return js(At,null,null,Vt)},js.matchesSelector=function(At,Vt){if(au(At),bt&&!Oo[Vt+" "]&&(!Xt||!Xt.test(Vt)))try{var un=Sn.call(At,Vt);if(un||m.disconnectedMatch||At.document&&At.document.nodeType!==11)return un}catch(_n){Oo(Vt,!0)}return js(Vt,Ge,null,[At]).length>0},js.contains=function(At,Vt){return(At.ownerDocument||At)!=Ge&&au(At),E.contains(At,Vt)},js.attr=function(At,Vt){(At.ownerDocument||At)!=Ge&&au(At);var un=q.attrHandle[Vt.toLowerCase()],_n=un&&d.call(q.attrHandle,Vt.toLowerCase())?un(At,Vt,!bt):void 0;return _n!==void 0?_n:At.getAttribute(Vt)},js.error=function(At){throw new Error("Syntax error, unrecognized expression: "+At)},E.uniqueSort=function(At){var Vt,un=[],_n=0,Bn=0;if(Le=!m.sortStable,pe=!m.sortStable&&s.call(At,0),O.call(At,te),Le){for(;Vt=At[Bn++];)Vt===At[Bn]&&(_n=un.push(Bn));for(;_n--;)F.call(At,un[_n],1)}return pe=null,At},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},q=E.expr={cacheLength:50,createPseudo:Yl,match:os,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(At){return At[1]=At[1].replace(Ha,Jo),At[3]=(At[3]||At[4]||At[5]||"").replace(Ha,Jo),At[2]==="~="&&(At[3]=" "+At[3]+" "),At.slice(0,4)},CHILD:function(At){return At[1]=At[1].toLowerCase(),At[1].slice(0,3)==="nth"?(At[3]||js.error(At[0]),At[4]=+(At[4]?At[5]+(At[6]||1):2*(At[3]==="even"||At[3]==="odd")),At[5]=+(At[7]+At[8]||At[3]==="odd")):At[3]&&js.error(At[0]),At},PSEUDO:function(At){var Vt,un=!At[6]&&At[2];return os.CHILD.test(At[0])?null:(At[3]?At[2]=At[4]||At[5]||"":un&&Ii.test(un)&&(Vt=fl(un,!0))&&(Vt=un.indexOf(")",un.length-Vt)-un.length)&&(At[0]=At[0].slice(0,Vt),At[2]=un.slice(0,Vt)),At.slice(0,3))}},filter:{TAG:function(At){var Vt=At.replace(Ha,Jo).toLowerCase();return At==="*"?function(){return!0}:function(un){return I(un,Vt)}},CLASS:function(At){var Vt=Ri[At+" "];return Vt||(Vt=new RegExp("(^|"+U+")"+At+"("+U+"|$)"))&&Ri(At,function(un){return Vt.test(typeof un.className=="string"&&un.className||typeof un.getAttribute<"u"&&un.getAttribute("class")||"")})},ATTR:function(At,Vt,un){return function(_n){var Bn=js.attr(_n,At);return Bn==null?Vt==="!=":Vt?(Bn+="",Vt==="="?Bn===un:Vt==="!="?Bn!==un:Vt==="^="?un&&Bn.indexOf(un)===0:Vt==="*="?un&&Bn.indexOf(un)>-1:Vt==="$="?un&&Bn.slice(-un.length)===un:Vt==="~="?(" "+Bn.replace(dn," ")+" ").indexOf(un)>-1:Vt==="|="?Bn===un||Bn.slice(0,un.length+1)===un+"-":!1):!0}},CHILD:function(At,Vt,un,_n,Bn){var Ar=At.slice(0,3)!=="nth",pr=At.slice(-4)!=="last",ri=Vt==="of-type";return _n===1&&Bn===0?function(_r){return!!_r.parentNode}:function(_r,Vi,Li){var zi,gs,di,ra,No,Co=Ar!==pr?"nextSibling":"previousSibling",Ml=_r.parentNode,Zl=ri&&_r.nodeName.toLowerCase(),ou=!Li&&!ri,el=!1;if(Ml){if(Ar){for(;Co;){for(di=_r;di=di[Co];)if(ri?I(di,Zl):di.nodeType===1)return!1;No=Co=At==="only"&&!No&&"nextSibling"}return!0}if(No=[pr?Ml.firstChild:Ml.lastChild],pr&&ou){for(gs=Ml[Pn]||(Ml[Pn]={}),zi=gs[At]||[],ra=zi[0]===yn&&zi[1],el=ra&&zi[2],di=ra&&Ml.childNodes[ra];di=++ra&&di&&di[Co]||(el=ra=0)||No.pop();)if(di.nodeType===1&&++el&&di===_r){gs[At]=[yn,ra,el];break}}else if(ou&&(gs=_r[Pn]||(_r[Pn]={}),zi=gs[At]||[],ra=zi[0]===yn&&zi[1],el=ra),el===!1)for(;(di=++ra&&di&&di[Co]||(el=ra=0)||No.pop())&&!((ri?I(di,Zl):di.nodeType===1)&&++el&&(ou&&(gs=di[Pn]||(di[Pn]={}),gs[At]=[yn,el]),di===_r)););return el-=Bn,el===_n||el%_n===0&&el/_n>=0}}},PSEUDO:function(At,Vt){var un,_n=q.pseudos[At]||q.setFilters[At.toLowerCase()]||js.error("unsupported pseudo: "+At);return _n[Pn]?_n(Vt):_n.length>1?(un=[At,At,"",Vt],q.setFilters.hasOwnProperty(At.toLowerCase())?Yl(function(Bn,Ar){for(var pr,ri=_n(Bn,Vt),_r=ri.length;_r--;)pr=l.call(Bn,ri[_r]),Bn[pr]=!(Ar[pr]=ri[_r])}):function(Bn){return _n(Bn,0,un)}):_n}},pseudos:{not:Yl(function(At){var Vt=[],un=[],_n=ef(At.replace($,"$1"));return _n[Pn]?Yl(function(Bn,Ar,pr,ri){for(var _r,Vi=_n(Bn,null,ri,[]),Li=Bn.length;Li--;)(_r=Vi[Li])&&(Bn[Li]=!(Ar[Li]=_r))}):function(Bn,Ar,pr){return Vt[0]=Bn,_n(Vt,null,pr,un),Vt[0]=null,!un.pop()}}),has:Yl(function(At){return function(Vt){return js(At,Vt).length>0}}),contains:Yl(function(At){return At=At.replace(Ha,Jo),function(Vt){return(Vt.textContent||E.text(Vt)).indexOf(At)>-1}}),lang:Yl(function(At){return Gi.test(At||"")||js.error("unsupported lang: "+At),At=At.replace(Ha,Jo).toLowerCase(),function(Vt){var un;do if(un=bt?Vt.lang:Vt.getAttribute("xml:lang")||Vt.getAttribute("lang"))return un=un.toLowerCase(),un===At||un.indexOf(At+"-")===0;while((Vt=Vt.parentNode)&&Vt.nodeType===1);return!1}}),target:function(At){var Vt=e.location&&e.location.hash;return Vt&&Vt.slice(1)===At.id},root:function(At){return At===Rt},focus:function(At){return At===r0()&&Ge.hasFocus()&&!!(At.type||At.href||~At.tabIndex)},enabled:dl(!1),disabled:dl(!0),checked:function(At){return I(At,"input")&&!!At.checked||I(At,"option")&&!!At.selected},selected:function(At){return At.parentNode&&At.parentNode.selectedIndex,At.selected===!0},empty:function(At){for(At=At.firstChild;At;At=At.nextSibling)if(At.nodeType<6)return!1;return!0},parent:function(At){return!q.pseudos.empty(At)},header:function(At){return ba.test(At.nodeName)},input:function(At){return ma.test(At.nodeName)},button:function(At){return I(At,"input")&&At.type==="button"||I(At,"button")},text:function(At){var Vt;return I(At,"input")&&At.type==="text"&&((Vt=At.getAttribute("type"))==null||Vt.toLowerCase()==="text")},first:Iu(function(){return[0]}),last:Iu(function(At,Vt){return[Vt-1]}),eq:Iu(function(At,Vt,un){return[un<0?un+Vt:un]}),even:Iu(function(At,Vt){for(var un=0;un<Vt;un+=2)At.push(un);return At}),odd:Iu(function(At,Vt){for(var un=1;un<Vt;un+=2)At.push(un);return At}),lt:Iu(function(At,Vt,un){var _n;for(un<0?_n=un+Vt:un>Vt?_n=Vt:_n=un;--_n>=0;)At.push(_n);return At}),gt:Iu(function(At,Vt,un){for(var _n=un<0?un+Vt:un;++_n<Vt;)At.push(_n);return At})}},q.pseudos.nth=q.pseudos.eq;for(D in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[D]=Lm(D);for(D in{submit:!0,reset:!0})q.pseudos[D]=qp(D);function Xp(){}Xp.prototype=q.filters=q.pseudos,q.setFilters=new Xp;function fl(At,Vt){var un,_n,Bn,Ar,pr,ri,_r,Vi=Ts[At+" "];if(Vi)return Vt?0:Vi.slice(0);for(pr=At,ri=[],_r=q.preFilter;pr;){(!un||(_n=Fn.exec(pr)))&&(_n&&(pr=pr.slice(_n[0].length)||pr),ri.push(Bn=[])),un=!1,(_n=Pr.exec(pr))&&(un=_n.shift(),Bn.push({value:un,type:_n[0].replace($," ")}),pr=pr.slice(un.length));for(Ar in q.filter)(_n=os[Ar].exec(pr))&&(!_r[Ar]||(_n=_r[Ar](_n)))&&(un=_n.shift(),Bn.push({value:un,type:Ar,matches:_n}),pr=pr.slice(un.length));if(!un)break}return Vt?pr.length:pr?js.error(At):Ts(At,ri).slice(0)}function Yp(At){for(var Vt=0,un=At.length,_n="";Vt<un;Vt++)_n+=At[Vt].value;return _n}function Qf(At,Vt,un){var _n=Vt.dir,Bn=Vt.next,Ar=Bn||_n,pr=un&&Ar==="parentNode",ri=nr++;return Vt.first?function(_r,Vi,Li){for(;_r=_r[_n];)if(_r.nodeType===1||pr)return At(_r,Vi,Li);return!1}:function(_r,Vi,Li){var zi,gs,di=[yn,ri];if(Li){for(;_r=_r[_n];)if((_r.nodeType===1||pr)&&At(_r,Vi,Li))return!0}else for(;_r=_r[_n];)if(_r.nodeType===1||pr)if(gs=_r[Pn]||(_r[Pn]={}),Bn&&I(_r,Bn))_r=_r[_n]||_r;else{if((zi=gs[Ar])&&zi[0]===yn&&zi[1]===ri)return di[2]=zi[2];if(gs[Ar]=di,di[2]=At(_r,Vi,Li))return!0}return!1}}function Zp(At){return At.length>1?function(Vt,un,_n){for(var Bn=At.length;Bn--;)if(!At[Bn](Vt,un,_n))return!1;return!0}:At[0]}function Pu(At,Vt,un){for(var _n=0,Bn=Vt.length;_n<Bn;_n++)js(At,Vt[_n],un);return un}function Jd(At,Vt,un,_n,Bn){for(var Ar,pr=[],ri=0,_r=At.length,Vi=Vt!=null;ri<_r;ri++)(Ar=At[ri])&&(!un||un(Ar,_n,Bn))&&(pr.push(Ar),Vi&&Vt.push(ri));return pr}function Jp(At,Vt,un,_n,Bn,Ar){return _n&&!_n[Pn]&&(_n=Jp(_n)),Bn&&!Bn[Pn]&&(Bn=Jp(Bn,Ar)),Yl(function(pr,ri,_r,Vi){var Li,zi,gs,di,ra=[],No=[],Co=ri.length,Ml=pr||Pu(Vt||"*",_r.nodeType?[_r]:_r,[]),Zl=At&&(pr||!Vt)?Jd(Ml,ra,At,_r,Vi):Ml;if(un?(di=Bn||(pr?At:Co||_n)?[]:ri,un(Zl,di,_r,Vi)):di=Zl,_n)for(Li=Jd(di,No),_n(Li,[],_r,Vi),zi=Li.length;zi--;)(gs=Li[zi])&&(di[No[zi]]=!(Zl[No[zi]]=gs));if(pr){if(Bn||At){if(Bn){for(Li=[],zi=di.length;zi--;)(gs=di[zi])&&Li.push(Zl[zi]=gs);Bn(null,di=[],Li,Vi)}for(zi=di.length;zi--;)(gs=di[zi])&&(Li=Bn?l.call(pr,gs):ra[zi])>-1&&(pr[Li]=!(ri[Li]=gs))}}else di=Jd(di===ri?di.splice(Co,di.length):di),Bn?Bn(null,ri,di,Vi):Re.apply(ri,di)})}function eg(At){for(var Vt,un,_n,Bn=At.length,Ar=q.relative[At[0].type],pr=Ar||q.relative[" "],ri=Ar?1:0,_r=Qf(function(zi){return zi===Vt},pr,!0),Vi=Qf(function(zi){return l.call(Vt,zi)>-1},pr,!0),Li=[function(zi,gs,di){var ra=!Ar&&(di||gs!=le)||((Vt=gs).nodeType?_r(zi,gs,di):Vi(zi,gs,di));return Vt=null,ra}];ri<Bn;ri++)if(un=q.relative[At[ri].type])Li=[Qf(Zp(Li),un)];else{if(un=q.filter[At[ri].type].apply(null,At[ri].matches),un[Pn]){for(_n=++ri;_n<Bn&&!q.relative[At[_n].type];_n++);return Jp(ri>1&&Zp(Li),ri>1&&Yp(At.slice(0,ri-1).concat({value:At[ri-2].type===" "?"*":""})).replace($,"$1"),un,ri<_n&&eg(At.slice(ri,_n)),_n<Bn&&eg(At=At.slice(_n)),_n<Bn&&Yp(At))}Li.push(un)}return Zp(Li)}function Wf(At,Vt){var un=Vt.length>0,_n=At.length>0,Bn=function(Ar,pr,ri,_r,Vi){var Li,zi,gs,di=0,ra="0",No=Ar&&[],Co=[],Ml=le,Zl=Ar||_n&&q.find.TAG("*",Vi),ou=yn+=Ml==null?1:Math.random()||.1,el=Zl.length;for(Vi&&(le=pr==Ge||pr||Vi);ra!==el&&(Li=Zl[ra])!=null;ra++){if(_n&&Li){for(zi=0,!pr&&Li.ownerDocument!=Ge&&(au(Li),ri=!bt);gs=At[zi++];)if(gs(Li,pr||Ge,ri)){Re.call(_r,Li);break}Vi&&(yn=ou)}un&&((Li=!gs&&Li)&&di--,Ar&&No.push(Li))}if(di+=ra,un&&ra!==di){for(zi=0;gs=Vt[zi++];)gs(No,Co,pr,ri);if(Ar){if(di>0)for(;ra--;)No[ra]||Co[ra]||(Co[ra]=k.call(_r));Co=Jd(Co)}Re.apply(_r,Co),Vi&&!Ar&&Co.length>0&&di+Vt.length>1&&E.uniqueSort(_r)}return Vi&&(yn=ou,le=Ml),No};return un?Yl(Bn):Bn}function ef(At,Vt){var un,_n=[],Bn=[],Ar=Xi[At+" "];if(!Ar){for(Vt||(Vt=fl(At)),un=Vt.length;un--;)Ar=eg(Vt[un]),Ar[Pn]?_n.push(Ar):Bn.push(Ar);Ar=Xi(At,Wf(Bn,_n)),Ar.selector=At}return Ar}function pc(At,Vt,un,_n){var Bn,Ar,pr,ri,_r,Vi=typeof At=="function"&&At,Li=!_n&&fl(At=Vi.selector||At);if(un=un||[],Li.length===1){if(Ar=Li[0]=Li[0].slice(0),Ar.length>2&&(pr=Ar[0]).type==="ID"&&Vt.nodeType===9&&bt&&q.relative[Ar[1].type]){if(Vt=(q.find.ID(pr.matches[0].replace(Ha,Jo),Vt)||[])[0],Vt)Vi&&(Vt=Vt.parentNode);else return un;At=At.slice(Ar.shift().value.length)}for(Bn=os.needsContext.test(At)?0:Ar.length;Bn--&&(pr=Ar[Bn],!q.relative[ri=pr.type]);)if((_r=q.find[ri])&&(_n=_r(pr.matches[0].replace(Ha,Jo),hl.test(Ar[0].type)&&$f(Vt.parentNode)||Vt))){if(Ar.splice(Bn,1),At=_n.length&&Yp(Ar),!At)return Re.apply(un,_n),un;break}}return(Vi||ef(At,Li))(_n,Vt,!bt,un,!Vt||hl.test(At)&&$f(Vt.parentNode)||Vt),un}m.sortStable=Pn.split("").sort(te).join("")===Pn,au(),m.sortDetached=sd(function(At){return At.compareDocumentPosition(Ge.createElement("fieldset"))&1}),E.find=js,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,js.compile=ef,js.select=pc,js.setDocument=au,js.tokenize=fl,js.escape=E.escapeSelector,js.getText=E.text,js.isXML=E.isXMLDoc,js.selectors=E.expr,js.support=E.support,js.uniqueSort=E.uniqueSort})();var z=function(D,q,le){for(var pe=[],Le=le!==void 0;(D=D[q])&&D.nodeType!==9;)if(D.nodeType===1){if(Le&&E(D).is(le))break;pe.push(D)}return pe},ne=function(D,q){for(var le=[];D;D=D.nextSibling)D.nodeType===1&&D!==q&&le.push(D);return le},he=E.expr.match.needsContext,W=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Y(D,q,le){return g(q)?E.grep(D,function(pe,Le){return!!q.call(pe,Le,pe)!==le}):q.nodeType?E.grep(D,function(pe){return pe===q!==le}):typeof q!="string"?E.grep(D,function(pe){return l.call(q,pe)>-1!==le}):E.filter(q,D,le)}E.filter=function(D,q,le){var pe=q[0];return le&&(D=":not("+D+")"),q.length===1&&pe.nodeType===1?E.find.matchesSelector(pe,D)?[pe]:[]:E.find.matches(D,E.grep(q,function(Le){return Le.nodeType===1}))},E.fn.extend({find:function(D){var q,le,pe=this.length,Le=this;if(typeof D!="string")return this.pushStack(E(D).filter(function(){for(q=0;q<pe;q++)if(E.contains(Le[q],this))return!0}));for(le=this.pushStack([]),q=0;q<pe;q++)E.find(D,Le[q],le);return pe>1?E.uniqueSort(le):le},filter:function(D){return this.pushStack(Y(this,D||[],!1))},not:function(D){return this.pushStack(Y(this,D||[],!0))},is:function(D){return!!Y(this,typeof D=="string"&&he.test(D)?E(D):D||[],!1).length}});var oe,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,me=E.fn.init=function(D,q,le){var pe,Le;if(!D)return this;if(le=le||oe,typeof D=="string")if(D[0]==="<"&&D[D.length-1]===">"&&D.length>=3?pe=[null,D,null]:pe=fe.exec(D),pe&&(pe[1]||!q))if(pe[1]){if(q=q instanceof E?q[0]:q,E.merge(this,E.parseHTML(pe[1],q&&q.nodeType?q.ownerDocument||q:_,!0)),W.test(pe[1])&&E.isPlainObject(q))for(pe in q)g(this[pe])?this[pe](q[pe]):this.attr(pe,q[pe]);return this}else return Le=_.getElementById(pe[2]),Le&&(this[0]=Le,this.length=1),this;else return!q||q.jquery?(q||le).find(D):this.constructor(q).find(D);else{if(D.nodeType)return this[0]=D,this.length=1,this;if(g(D))return le.ready!==void 0?le.ready(D):D(E)}return E.makeArray(D,this)};me.prototype=E.fn,oe=E(_);var ce=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(D){var q=E(D,this),le=q.length;return this.filter(function(){for(var pe=0;pe<le;pe++)if(E.contains(this,q[pe]))return!0})},closest:function(D,q){var le,pe=0,Le=this.length,Re=[],Ge=typeof D!="string"&&E(D);if(!he.test(D)){for(;pe<Le;pe++)for(le=this[pe];le&&le!==q;le=le.parentNode)if(le.nodeType<11&&(Ge?Ge.index(le)>-1:le.nodeType===1&&E.find.matchesSelector(le,D))){Re.push(le);break}}return this.pushStack(Re.length>1?E.uniqueSort(Re):Re)},index:function(D){return D?typeof D=="string"?l.call(E(D),this[0]):l.call(this,D.jquery?D[0]:D):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(D,q){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(D,q))))},addBack:function(D){return this.add(D==null?this.prevObject:this.prevObject.filter(D))}});function xe(D,q){for(;(D=D[q])&&D.nodeType!==1;);return D}E.each({parent:function(D){var q=D.parentNode;return q&&q.nodeType!==11?q:null},parents:function(D){return z(D,"parentNode")},parentsUntil:function(D,q,le){return z(D,"parentNode",le)},next:function(D){return xe(D,"nextSibling")},prev:function(D){return xe(D,"previousSibling")},nextAll:function(D){return z(D,"nextSibling")},prevAll:function(D){return z(D,"previousSibling")},nextUntil:function(D,q,le){return z(D,"nextSibling",le)},prevUntil:function(D,q,le){return z(D,"previousSibling",le)},siblings:function(D){return ne((D.parentNode||{}).firstChild,D)},children:function(D){return ne(D.firstChild)},contents:function(D){return D.contentDocument!=null&&i(D.contentDocument)?D.contentDocument:(I(D,"template")&&(D=D.content||D),E.merge([],D.childNodes))}},function(D,q){E.fn[D]=function(le,pe){var Le=E.map(this,q,le);return D.slice(-5)!=="Until"&&(pe=le),pe&&typeof pe=="string"&&(Le=E.filter(pe,Le)),this.length>1&&(be[D]||E.uniqueSort(Le),ce.test(D)&&Le.reverse()),this.pushStack(Le)}});var Ie=/[^\x20\t\r\n\f]+/g;function Qe(D){var q={};return E.each(D.match(Ie)||[],function(le,pe){q[pe]=!0}),q}E.Callbacks=function(D){D=typeof D=="string"?Qe(D):E.extend({},D);var q,le,pe,Le,Re=[],Ge=[],Rt=-1,bt=function(){for(Le=Le||D.once,pe=q=!0;Ge.length;Rt=-1)for(le=Ge.shift();++Rt<Re.length;)Re[Rt].apply(le[0],le[1])===!1&&D.stopOnFalse&&(Rt=Re.length,le=!1);D.memory||(le=!1),q=!1,Le&&(le?Re=[]:Re="")},Xt={add:function(){return Re&&(le&&!q&&(Rt=Re.length-1,Ge.push(le)),function Sn(Pn){E.each(Pn,function(yn,nr){g(nr)?(!D.unique||!Xt.has(nr))&&Re.push(nr):nr&&nr.length&&C(nr)!=="string"&&Sn(nr)})}(arguments),le&&!q&&bt()),this},remove:function(){return E.each(arguments,function(Sn,Pn){for(var yn;(yn=E.inArray(Pn,Re,yn))>-1;)Re.splice(yn,1),yn<=Rt&&Rt--}),this},has:function(Sn){return Sn?E.inArray(Sn,Re)>-1:Re.length>0},empty:function(){return Re&&(Re=[]),this},disable:function(){return Le=Ge=[],Re=le="",this},disabled:function(){return!Re},lock:function(){return Le=Ge=[],!le&&!q&&(Re=le=""),this},locked:function(){return!!Le},fireWith:function(Sn,Pn){return Le||(Pn=Pn||[],Pn=[Sn,Pn.slice?Pn.slice():Pn],Ge.push(Pn),q||bt()),this},fire:function(){return Xt.fireWith(this,arguments),this},fired:function(){return!!pe}};return Xt};function ue(D){return D}function ye(D){throw D}function $e(D,q,le,pe){var Le;try{D&&g(Le=D.promise)?Le.call(D).done(q).fail(le):D&&g(Le=D.then)?Le.call(D,q,le):q.apply(void 0,[D].slice(pe))}catch(Re){le.apply(void 0,[Re])}}E.extend({Deferred:function(D){var q=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],le="pending",pe={state:function(){return le},always:function(){return Le.done(arguments).fail(arguments),this},catch:function(Re){return pe.then(null,Re)},pipe:function(){var Re=arguments;return E.Deferred(function(Ge){E.each(q,function(Rt,bt){var Xt=g(Re[bt[4]])&&Re[bt[4]];Le[bt[1]](function(){var Sn=Xt&&Xt.apply(this,arguments);Sn&&g(Sn.promise)?Sn.promise().progress(Ge.notify).done(Ge.resolve).fail(Ge.reject):Ge[bt[0]+"With"](this,Xt?[Sn]:arguments)})}),Re=null}).promise()},then:function(Re,Ge,Rt){var bt=0;function Xt(Sn,Pn,yn,nr){return function(){var Ri=this,Ts=arguments,Xi=function(){var te,Pe;if(!(Sn<bt)){if(te=yn.apply(Ri,Ts),te===Pn.promise())throw new TypeError("Thenable self-resolution");Pe=te&&(typeof te=="object"||typeof te=="function")&&te.then,g(Pe)?nr?Pe.call(te,Xt(bt,Pn,ue,nr),Xt(bt,Pn,ye,nr)):(bt++,Pe.call(te,Xt(bt,Pn,ue,nr),Xt(bt,Pn,ye,nr),Xt(bt,Pn,ue,Pn.notifyWith))):(yn!==ue&&(Ri=void 0,Ts=[te]),(nr||Pn.resolveWith)(Ri,Ts))}},Oo=nr?Xi:function(){try{Xi()}catch(te){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(te,Oo.error),Sn+1>=bt&&(yn!==ye&&(Ri=void 0,Ts=[te]),Pn.rejectWith(Ri,Ts))}};Sn?Oo():(E.Deferred.getErrorHook?Oo.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(Oo.error=E.Deferred.getStackHook()),e.setTimeout(Oo))}}return E.Deferred(function(Sn){q[0][3].add(Xt(0,Sn,g(Rt)?Rt:ue,Sn.notifyWith)),q[1][3].add(Xt(0,Sn,g(Re)?Re:ue)),q[2][3].add(Xt(0,Sn,g(Ge)?Ge:ye))}).promise()},promise:function(Re){return Re!=null?E.extend(Re,pe):pe}},Le={};return E.each(q,function(Re,Ge){var Rt=Ge[2],bt=Ge[5];pe[Ge[1]]=Rt.add,bt&&Rt.add(function(){le=bt},q[3-Re][2].disable,q[3-Re][3].disable,q[0][2].lock,q[0][3].lock),Rt.add(Ge[3].fire),Le[Ge[0]]=function(){return Le[Ge[0]+"With"](this===Le?void 0:this,arguments),this},Le[Ge[0]+"With"]=Rt.fireWith}),pe.promise(Le),D&&D.call(Le,Le),Le},when:function(D){var q=arguments.length,le=q,pe=Array(le),Le=s.call(arguments),Re=E.Deferred(),Ge=function(Rt){return function(bt){pe[Rt]=this,Le[Rt]=arguments.length>1?s.call(arguments):bt,--q||Re.resolveWith(pe,Le)}};if(q<=1&&($e(D,Re.done(Ge(le)).resolve,Re.reject,!q),Re.state()==="pending"||g(Le[le]&&Le[le].then)))return Re.then();for(;le--;)$e(Le[le],Ge(le),Re.reject);return Re.promise()}});var Ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(D,q){e.console&&e.console.warn&&D&&Ve.test(D.name)&&e.console.warn("jQuery.Deferred exception: "+D.message,D.stack,q)},E.readyException=function(D){e.setTimeout(function(){throw D})};var Se=E.Deferred();E.fn.ready=function(D){return Se.then(D).catch(function(q){E.readyException(q)}),this},E.extend({isReady:!1,readyWait:1,ready:function(D){(D===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(D!==!0&&--E.readyWait>0)&&Se.resolveWith(_,[E]))}}),E.ready.then=Se.then;function at(){_.removeEventListener("DOMContentLoaded",at),e.removeEventListener("load",at),E.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(E.ready):(_.addEventListener("DOMContentLoaded",at),e.addEventListener("load",at));var ft=function(D,q,le,pe,Le,Re,Ge){var Rt=0,bt=D.length,Xt=le==null;if(C(le)==="object"){Le=!0;for(Rt in le)ft(D,q,Rt,le[Rt],!0,Re,Ge)}else if(pe!==void 0&&(Le=!0,g(pe)||(Ge=!0),Xt&&(Ge?(q.call(D,pe),q=null):(Xt=q,q=function(Sn,Pn,yn){return Xt.call(E(Sn),yn)})),q))for(;Rt<bt;Rt++)q(D[Rt],le,Ge?pe:pe.call(D[Rt],Rt,q(D[Rt],le)));return Le?D:Xt?q.call(D):bt?q(D[0],le):Re},je=/^-ms-/,gt=/-([a-z])/g;function vt(D,q){return q.toUpperCase()}function Te(D){return D.replace(je,"ms-").replace(gt,vt)}var we=function(D){return D.nodeType===1||D.nodeType===9||!+D.nodeType};function Ne(){this.expando=E.expando+Ne.uid++}Ne.uid=1,Ne.prototype={cache:function(D){var q=D[this.expando];return q||(q={},we(D)&&(D.nodeType?D[this.expando]=q:Object.defineProperty(D,this.expando,{value:q,configurable:!0}))),q},set:function(D,q,le){var pe,Le=this.cache(D);if(typeof q=="string")Le[Te(q)]=le;else for(pe in q)Le[Te(pe)]=q[pe];return Le},get:function(D,q){return q===void 0?this.cache(D):D[this.expando]&&D[this.expando][Te(q)]},access:function(D,q,le){return q===void 0||q&&typeof q=="string"&&le===void 0?this.get(D,q):(this.set(D,q,le),le!==void 0?le:q)},remove:function(D,q){var le,pe=D[this.expando];if(pe!==void 0){if(q!==void 0)for(Array.isArray(q)?q=q.map(Te):(q=Te(q),q=q in pe?[q]:q.match(Ie)||[]),le=q.length;le--;)delete pe[q[le]];(q===void 0||E.isEmptyObject(pe))&&(D.nodeType?D[this.expando]=void 0:delete D[this.expando])}},hasData:function(D){var q=D[this.expando];return q!==void 0&&!E.isEmptyObject(q)}};var Ze=new Ne,Tt=new Ne,Zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ln=/[A-Z]/g;function Ye(D){return D==="true"?!0:D==="false"?!1:D==="null"?null:D===+D+""?+D:Zt.test(D)?JSON.parse(D):D}function yt(D,q,le){var pe;if(le===void 0&&D.nodeType===1)if(pe="data-"+q.replace(ln,"-$&").toLowerCase(),le=D.getAttribute(pe),typeof le=="string"){try{le=Ye(le)}catch(Le){}Tt.set(D,q,le)}else le=void 0;return le}E.extend({hasData:function(D){return Tt.hasData(D)||Ze.hasData(D)},data:function(D,q,le){return Tt.access(D,q,le)},removeData:function(D,q){Tt.remove(D,q)},_data:function(D,q,le){return Ze.access(D,q,le)},_removeData:function(D,q){Ze.remove(D,q)}}),E.fn.extend({data:function(D,q){var le,pe,Le,Re=this[0],Ge=Re&&Re.attributes;if(D===void 0){if(this.length&&(Le=Tt.get(Re),Re.nodeType===1&&!Ze.get(Re,"hasDataAttrs"))){for(le=Ge.length;le--;)Ge[le]&&(pe=Ge[le].name,pe.indexOf("data-")===0&&(pe=Te(pe.slice(5)),yt(Re,pe,Le[pe])));Ze.set(Re,"hasDataAttrs",!0)}return Le}return typeof D=="object"?this.each(function(){Tt.set(this,D)}):ft(this,function(Rt){var bt;if(Re&&Rt===void 0)return bt=Tt.get(Re,D),bt!==void 0||(bt=yt(Re,D),bt!==void 0)?bt:void 0;this.each(function(){Tt.set(this,D,Rt)})},null,q,arguments.length>1,null,!0)},removeData:function(D){return this.each(function(){Tt.remove(this,D)})}}),E.extend({queue:function(D,q,le){var pe;if(D)return q=(q||"fx")+"queue",pe=Ze.get(D,q),le&&(!pe||Array.isArray(le)?pe=Ze.access(D,q,E.makeArray(le)):pe.push(le)),pe||[]},dequeue:function(D,q){q=q||"fx";var le=E.queue(D,q),pe=le.length,Le=le.shift(),Re=E._queueHooks(D,q),Ge=function(){E.dequeue(D,q)};Le==="inprogress"&&(Le=le.shift(),pe--),Le&&(q==="fx"&&le.unshift("inprogress"),delete Re.stop,Le.call(D,Ge,Re)),!pe&&Re&&Re.empty.fire()},_queueHooks:function(D,q){var le=q+"queueHooks";return Ze.get(D,le)||Ze.access(D,le,{empty:E.Callbacks("once memory").add(function(){Ze.remove(D,[q+"queue",le])})})}}),E.fn.extend({queue:function(D,q){var le=2;return typeof D!="string"&&(q=D,D="fx",le--),arguments.length<le?E.queue(this[0],D):q===void 0?this:this.each(function(){var pe=E.queue(this,D,q);E._queueHooks(this,D),D==="fx"&&pe[0]!=="inprogress"&&E.dequeue(this,D)})},dequeue:function(D){return this.each(function(){E.dequeue(this,D)})},clearQueue:function(D){return this.queue(D||"fx",[])},promise:function(D,q){var le,pe=1,Le=E.Deferred(),Re=this,Ge=this.length,Rt=function(){--pe||Le.resolveWith(Re,[Re])};for(typeof D!="string"&&(q=D,D=void 0),D=D||"fx";Ge--;)le=Ze.get(Re[Ge],D+"queueHooks"),le&&le.empty&&(pe++,le.empty.add(Rt));return Rt(),Le.promise(q)}});var Qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+Qt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],ke=_.documentElement,ct=function(D){return E.contains(D.ownerDocument,D)},Oe={composed:!0};ke.getRootNode&&(ct=function(D){return E.contains(D.ownerDocument,D)||D.getRootNode(Oe)===D.ownerDocument});var kt=function(D,q){return D=q||D,D.style.display==="none"||D.style.display===""&&ct(D)&&E.css(D,"display")==="none"};function wn(D,q,le,pe){var Le,Re,Ge=20,Rt=pe?function(){return pe.cur()}:function(){return E.css(D,q,"")},bt=Rt(),Xt=le&&le[3]||(E.cssNumber[q]?"":"px"),Sn=D.nodeType&&(E.cssNumber[q]||Xt!=="px"&&+bt)&&Dt.exec(E.css(D,q));if(Sn&&Sn[3]!==Xt){for(bt=bt/2,Xt=Xt||Sn[3],Sn=+bt||1;Ge--;)E.style(D,q,Sn+Xt),(1-Re)*(1-(Re=Rt()/bt||.5))<=0&&(Ge=0),Sn=Sn/Re;Sn=Sn*2,E.style(D,q,Sn+Xt),le=le||[]}return le&&(Sn=+Sn||+bt||0,Le=le[1]?Sn+(le[1]+1)*le[2]:+le[2],pe&&(pe.unit=Xt,pe.start=Sn,pe.end=Le)),Le}var mt={};function Kt(D){var q,le=D.ownerDocument,pe=D.nodeName,Le=mt[pe];return Le||(q=le.body.appendChild(le.createElement(pe)),Le=E.css(q,"display"),q.parentNode.removeChild(q),Le==="none"&&(Le="block"),mt[pe]=Le,Le)}function bn(D,q){for(var le,pe,Le=[],Re=0,Ge=D.length;Re<Ge;Re++)pe=D[Re],pe.style&&(le=pe.style.display,q?(le==="none"&&(Le[Re]=Ze.get(pe,"display")||null,Le[Re]||(pe.style.display="")),pe.style.display===""&&kt(pe)&&(Le[Re]=Kt(pe))):le!=="none"&&(Le[Re]="none",Ze.set(pe,"display",le)));for(Re=0;Re<Ge;Re++)Le[Re]!=null&&(D[Re].style.display=Le[Re]);return D}E.fn.extend({show:function(){return bn(this,!0)},hide:function(){return bn(this)},toggle:function(D){return typeof D=="boolean"?D?this.show():this.hide():this.each(function(){kt(this)?E(this).show():E(this).hide()})}});var Rn=/^(?:checkbox|radio)$/i,On=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Dn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var D=_.createDocumentFragment(),q=D.appendChild(_.createElement("div")),le=_.createElement("input");le.setAttribute("type","radio"),le.setAttribute("checked","checked"),le.setAttribute("name","t"),q.appendChild(le),m.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue,q.innerHTML="<option></option>",m.option=!!q.lastChild})();var Un={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Un.tbody=Un.tfoot=Un.colgroup=Un.caption=Un.thead,Un.th=Un.td,m.option||(Un.optgroup=Un.option=[1,"<select multiple='multiple'>","</select>"]);function jr(D,q){var le;return typeof D.getElementsByTagName<"u"?le=D.getElementsByTagName(q||"*"):typeof D.querySelectorAll<"u"?le=D.querySelectorAll(q||"*"):le=[],q===void 0||q&&I(D,q)?E.merge([D],le):le}function Mi(D,q){for(var le=0,pe=D.length;le<pe;le++)Ze.set(D[le],"globalEval",!q||Ze.get(q[le],"globalEval"))}var bi=/<|&#?\w+;/;function Ji(D,q,le,pe,Le){for(var Re,Ge,Rt,bt,Xt,Sn,Pn=q.createDocumentFragment(),yn=[],nr=0,Ri=D.length;nr<Ri;nr++)if(Re=D[nr],Re||Re===0)if(C(Re)==="object")E.merge(yn,Re.nodeType?[Re]:Re);else if(!bi.test(Re))yn.push(q.createTextNode(Re));else{for(Ge=Ge||Pn.appendChild(q.createElement("div")),Rt=(On.exec(Re)||["",""])[1].toLowerCase(),bt=Un[Rt]||Un._default,Ge.innerHTML=bt[1]+E.htmlPrefilter(Re)+bt[2],Sn=bt[0];Sn--;)Ge=Ge.lastChild;E.merge(yn,Ge.childNodes),Ge=Pn.firstChild,Ge.textContent=""}for(Pn.textContent="",nr=0;Re=yn[nr++];){if(pe&&E.inArray(Re,pe)>-1){Le&&Le.push(Re);continue}if(Xt=ct(Re),Ge=jr(Pn.appendChild(Re),"script"),Xt&&Mi(Ge),le)for(Sn=0;Re=Ge[Sn++];)Dn.test(Re.type||"")&&le.push(Re)}return Pn}var br=/^([^.]*)(?:\.(.+)|)/;function fs(){return!0}function Di(){return!1}function Hi(D,q,le,pe,Le,Re){var Ge,Rt;if(typeof q=="object"){typeof le!="string"&&(pe=pe||le,le=void 0);for(Rt in q)Hi(D,Rt,le,pe,q[Rt],Re);return D}if(pe==null&&Le==null?(Le=le,pe=le=void 0):Le==null&&(typeof le=="string"?(Le=pe,pe=void 0):(Le=pe,pe=le,le=void 0)),Le===!1)Le=Di;else if(!Le)return D;return Re===1&&(Ge=Le,Le=function(bt){return E().off(bt),Ge.apply(this,arguments)},Le.guid=Ge.guid||(Ge.guid=E.guid++)),D.each(function(){E.event.add(this,q,Le,pe,le)})}E.event={global:{},add:function(D,q,le,pe,Le){var Re,Ge,Rt,bt,Xt,Sn,Pn,yn,nr,Ri,Ts,Xi=Ze.get(D);if(we(D))for(le.handler&&(Re=le,le=Re.handler,Le=Re.selector),Le&&E.find.matchesSelector(ke,Le),le.guid||(le.guid=E.guid++),(bt=Xi.events)||(bt=Xi.events=Object.create(null)),(Ge=Xi.handle)||(Ge=Xi.handle=function(Oo){return typeof E<"u"&&E.event.triggered!==Oo.type?E.event.dispatch.apply(D,arguments):void 0}),q=(q||"").match(Ie)||[""],Xt=q.length;Xt--;)Rt=br.exec(q[Xt])||[],nr=Ts=Rt[1],Ri=(Rt[2]||"").split(".").sort(),nr&&(Pn=E.event.special[nr]||{},nr=(Le?Pn.delegateType:Pn.bindType)||nr,Pn=E.event.special[nr]||{},Sn=E.extend({type:nr,origType:Ts,data:pe,handler:le,guid:le.guid,selector:Le,needsContext:Le&&E.expr.match.needsContext.test(Le),namespace:Ri.join(".")},Re),(yn=bt[nr])||(yn=bt[nr]=[],yn.delegateCount=0,(!Pn.setup||Pn.setup.call(D,pe,Ri,Ge)===!1)&&D.addEventListener&&D.addEventListener(nr,Ge)),Pn.add&&(Pn.add.call(D,Sn),Sn.handler.guid||(Sn.handler.guid=le.guid)),Le?yn.splice(yn.delegateCount++,0,Sn):yn.push(Sn),E.event.global[nr]=!0)},remove:function(D,q,le,pe,Le){var Re,Ge,Rt,bt,Xt,Sn,Pn,yn,nr,Ri,Ts,Xi=Ze.hasData(D)&&Ze.get(D);if(!(!Xi||!(bt=Xi.events))){for(q=(q||"").match(Ie)||[""],Xt=q.length;Xt--;){if(Rt=br.exec(q[Xt])||[],nr=Ts=Rt[1],Ri=(Rt[2]||"").split(".").sort(),!nr){for(nr in bt)E.event.remove(D,nr+q[Xt],le,pe,!0);continue}for(Pn=E.event.special[nr]||{},nr=(pe?Pn.delegateType:Pn.bindType)||nr,yn=bt[nr]||[],Rt=Rt[2]&&new RegExp("(^|\\.)"+Ri.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ge=Re=yn.length;Re--;)Sn=yn[Re],(Le||Ts===Sn.origType)&&(!le||le.guid===Sn.guid)&&(!Rt||Rt.test(Sn.namespace))&&(!pe||pe===Sn.selector||pe==="**"&&Sn.selector)&&(yn.splice(Re,1),Sn.selector&&yn.delegateCount--,Pn.remove&&Pn.remove.call(D,Sn));Ge&&!yn.length&&((!Pn.teardown||Pn.teardown.call(D,Ri,Xi.handle)===!1)&&E.removeEvent(D,nr,Xi.handle),delete bt[nr])}E.isEmptyObject(bt)&&Ze.remove(D,"handle events")}},dispatch:function(D){var q,le,pe,Le,Re,Ge,Rt=new Array(arguments.length),bt=E.event.fix(D),Xt=(Ze.get(this,"events")||Object.create(null))[bt.type]||[],Sn=E.event.special[bt.type]||{};for(Rt[0]=bt,q=1;q<arguments.length;q++)Rt[q]=arguments[q];if(bt.delegateTarget=this,!(Sn.preDispatch&&Sn.preDispatch.call(this,bt)===!1)){for(Ge=E.event.handlers.call(this,bt,Xt),q=0;(Le=Ge[q++])&&!bt.isPropagationStopped();)for(bt.currentTarget=Le.elem,le=0;(Re=Le.handlers[le++])&&!bt.isImmediatePropagationStopped();)(!bt.rnamespace||Re.namespace===!1||bt.rnamespace.test(Re.namespace))&&(bt.handleObj=Re,bt.data=Re.data,pe=((E.event.special[Re.origType]||{}).handle||Re.handler).apply(Le.elem,Rt),pe!==void 0&&(bt.result=pe)===!1&&(bt.preventDefault(),bt.stopPropagation()));return Sn.postDispatch&&Sn.postDispatch.call(this,bt),bt.result}},handlers:function(D,q){var le,pe,Le,Re,Ge,Rt=[],bt=q.delegateCount,Xt=D.target;if(bt&&Xt.nodeType&&!(D.type==="click"&&D.button>=1)){for(;Xt!==this;Xt=Xt.parentNode||this)if(Xt.nodeType===1&&!(D.type==="click"&&Xt.disabled===!0)){for(Re=[],Ge={},le=0;le<bt;le++)pe=q[le],Le=pe.selector+" ",Ge[Le]===void 0&&(Ge[Le]=pe.needsContext?E(Le,this).index(Xt)>-1:E.find(Le,this,null,[Xt]).length),Ge[Le]&&Re.push(pe);Re.length&&Rt.push({elem:Xt,handlers:Re})}}return Xt=this,bt<q.length&&Rt.push({elem:Xt,handlers:q.slice(bt)}),Rt},addProp:function(D,q){Object.defineProperty(E.Event.prototype,D,{enumerable:!0,configurable:!0,get:g(q)?function(){if(this.originalEvent)return q(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[D]},set:function(le){Object.defineProperty(this,D,{enumerable:!0,configurable:!0,writable:!0,value:le})}})},fix:function(D){return D[E.expando]?D:new E.Event(D)},special:{load:{noBubble:!0},click:{setup:function(D){var q=this||D;return Rn.test(q.type)&&q.click&&I(q,"input")&&ki(q,"click",!0),!1},trigger:function(D){var q=this||D;return Rn.test(q.type)&&q.click&&I(q,"input")&&ki(q,"click"),!0},_default:function(D){var q=D.target;return Rn.test(q.type)&&q.click&&I(q,"input")&&Ze.get(q,"click")||I(q,"a")}},beforeunload:{postDispatch:function(D){D.result!==void 0&&D.originalEvent&&(D.originalEvent.returnValue=D.result)}}}};function ki(D,q,le){if(!le){Ze.get(D,q)===void 0&&E.event.add(D,q,fs);return}Ze.set(D,q,!1),E.event.add(D,q,{namespace:!1,handler:function(pe){var Le,Re=Ze.get(this,q);if(pe.isTrigger&1&&this[q]){if(Re)(E.event.special[q]||{}).delegateType&&pe.stopPropagation();else if(Re=s.call(arguments),Ze.set(this,q,Re),this[q](),Le=Ze.get(this,q),Ze.set(this,q,!1),Re!==Le)return pe.stopImmediatePropagation(),pe.preventDefault(),Le}else Re&&(Ze.set(this,q,E.event.trigger(Re[0],Re.slice(1),this)),pe.stopPropagation(),pe.isImmediatePropagationStopped=fs)}})}E.removeEvent=function(D,q,le){D.removeEventListener&&D.removeEventListener(q,le)},E.Event=function(D,q){if(!(this instanceof E.Event))return new E.Event(D,q);D&&D.type?(this.originalEvent=D,this.type=D.type,this.isDefaultPrevented=D.defaultPrevented||D.defaultPrevented===void 0&&D.returnValue===!1?fs:Di,this.target=D.target&&D.target.nodeType===3?D.target.parentNode:D.target,this.currentTarget=D.currentTarget,this.relatedTarget=D.relatedTarget):this.type=D,q&&E.extend(this,q),this.timeStamp=D&&D.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Di,isPropagationStopped:Di,isImmediatePropagationStopped:Di,isSimulated:!1,preventDefault:function(){var D=this.originalEvent;this.isDefaultPrevented=fs,D&&!this.isSimulated&&D.preventDefault()},stopPropagation:function(){var D=this.originalEvent;this.isPropagationStopped=fs,D&&!this.isSimulated&&D.stopPropagation()},stopImmediatePropagation:function(){var D=this.originalEvent;this.isImmediatePropagationStopped=fs,D&&!this.isSimulated&&D.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(D,q){function le(pe){if(_.documentMode){var Le=Ze.get(this,"handle"),Re=E.event.fix(pe);Re.type=pe.type==="focusin"?"focus":"blur",Re.isSimulated=!0,Le(pe),Re.target===Re.currentTarget&&Le(Re)}else E.event.simulate(q,pe.target,E.event.fix(pe))}E.event.special[D]={setup:function(){var pe;if(ki(this,D,!0),_.documentMode)pe=Ze.get(this,q),pe||this.addEventListener(q,le),Ze.set(this,q,(pe||0)+1);else return!1},trigger:function(){return ki(this,D),!0},teardown:function(){var pe;if(_.documentMode)pe=Ze.get(this,q)-1,pe?Ze.set(this,q,pe):(this.removeEventListener(q,le),Ze.remove(this,q));else return!1},_default:function(pe){return Ze.get(pe.target,D)},delegateType:q},E.event.special[q]={setup:function(){var pe=this.ownerDocument||this.document||this,Le=_.documentMode?this:pe,Re=Ze.get(Le,q);Re||(_.documentMode?this.addEventListener(q,le):pe.addEventListener(D,le,!0)),Ze.set(Le,q,(Re||0)+1)},teardown:function(){var pe=this.ownerDocument||this.document||this,Le=_.documentMode?this:pe,Re=Ze.get(Le,q)-1;Re?Ze.set(Le,q,Re):(_.documentMode?this.removeEventListener(q,le):pe.removeEventListener(D,le,!0),Ze.remove(Le,q))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(D,q){E.event.special[D]={delegateType:q,bindType:q,handle:function(le){var pe,Le=this,Re=le.relatedTarget,Ge=le.handleObj;return(!Re||Re!==Le&&!E.contains(Le,Re))&&(le.type=Ge.origType,pe=Ge.handler.apply(this,arguments),le.type=q),pe}}}),E.fn.extend({on:function(D,q,le,pe){return Hi(this,D,q,le,pe)},one:function(D,q,le,pe){return Hi(this,D,q,le,pe,1)},off:function(D,q,le){var pe,Le;if(D&&D.preventDefault&&D.handleObj)return pe=D.handleObj,E(D.delegateTarget).off(pe.namespace?pe.origType+"."+pe.namespace:pe.origType,pe.selector,pe.handler),this;if(typeof D=="object"){for(Le in D)this.off(Le,q,D[Le]);return this}return(q===!1||typeof q=="function")&&(le=q,q=void 0),le===!1&&(le=Di),this.each(function(){E.event.remove(this,D,le,q)})}});var ot=/<script|<style|<link/i,sn=/checked\s*(?:[^=]|=\s*.checked.)/i,Cn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function it(D,q){return I(D,"table")&&I(q.nodeType!==11?q:q.firstChild,"tr")&&E(D).children("tbody")[0]||D}function Ft(D){return D.type=(D.getAttribute("type")!==null)+"/"+D.type,D}function Gn(D){return(D.type||"").slice(0,5)==="true/"?D.type=D.type.slice(5):D.removeAttribute("type"),D}function fr(D,q){var le,pe,Le,Re,Ge,Rt,bt;if(q.nodeType===1){if(Ze.hasData(D)&&(Re=Ze.get(D),bt=Re.events,bt)){Ze.remove(q,"handle events");for(Le in bt)for(le=0,pe=bt[Le].length;le<pe;le++)E.event.add(q,Le,bt[Le][le])}Tt.hasData(D)&&(Ge=Tt.access(D),Rt=E.extend({},Ge),Tt.set(q,Rt))}}function Gr(D,q){var le=q.nodeName.toLowerCase();le==="input"&&Rn.test(D.type)?q.checked=D.checked:(le==="input"||le==="textarea")&&(q.defaultValue=D.defaultValue)}function $r(D,q,le,pe){q=a(q);var Le,Re,Ge,Rt,bt,Xt,Sn=0,Pn=D.length,yn=Pn-1,nr=q[0],Ri=g(nr);if(Ri||Pn>1&&typeof nr=="string"&&!m.checkClone&&sn.test(nr))return D.each(function(Ts){var Xi=D.eq(Ts);Ri&&(q[0]=nr.call(this,Ts,Xi.html())),$r(Xi,q,le,pe)});if(Pn&&(Le=Ji(q,D[0].ownerDocument,!1,D,pe),Re=Le.firstChild,Le.childNodes.length===1&&(Le=Re),Re||pe)){for(Ge=E.map(jr(Le,"script"),Ft),Rt=Ge.length;Sn<Pn;Sn++)bt=Le,Sn!==yn&&(bt=E.clone(bt,!0,!0),Rt&&E.merge(Ge,jr(bt,"script"))),le.call(D[Sn],bt,Sn);if(Rt)for(Xt=Ge[Ge.length-1].ownerDocument,E.map(Ge,Gn),Sn=0;Sn<Rt;Sn++)bt=Ge[Sn],Dn.test(bt.type||"")&&!Ze.access(bt,"globalEval")&&E.contains(Xt,bt)&&(bt.src&&(bt.type||"").toLowerCase()!=="module"?E._evalUrl&&!bt.noModule&&E._evalUrl(bt.src,{nonce:bt.nonce||bt.getAttribute("nonce")},Xt):S(bt.textContent.replace(Cn,""),bt,Xt))}return D}function oi(D,q,le){for(var pe,Le=q?E.filter(q,D):D,Re=0;(pe=Le[Re])!=null;Re++)!le&&pe.nodeType===1&&E.cleanData(jr(pe)),pe.parentNode&&(le&&ct(pe)&&Mi(jr(pe,"script")),pe.parentNode.removeChild(pe));return D}E.extend({htmlPrefilter:function(D){return D},clone:function(D,q,le){var pe,Le,Re,Ge,Rt=D.cloneNode(!0),bt=ct(D);if(!m.noCloneChecked&&(D.nodeType===1||D.nodeType===11)&&!E.isXMLDoc(D))for(Ge=jr(Rt),Re=jr(D),pe=0,Le=Re.length;pe<Le;pe++)Gr(Re[pe],Ge[pe]);if(q)if(le)for(Re=Re||jr(D),Ge=Ge||jr(Rt),pe=0,Le=Re.length;pe<Le;pe++)fr(Re[pe],Ge[pe]);else fr(D,Rt);return Ge=jr(Rt,"script"),Ge.length>0&&Mi(Ge,!bt&&jr(D,"script")),Rt},cleanData:function(D){for(var q,le,pe,Le=E.event.special,Re=0;(le=D[Re])!==void 0;Re++)if(we(le)){if(q=le[Ze.expando]){if(q.events)for(pe in q.events)Le[pe]?E.event.remove(le,pe):E.removeEvent(le,pe,q.handle);le[Ze.expando]=void 0}le[Tt.expando]&&(le[Tt.expando]=void 0)}}}),E.fn.extend({detach:function(D){return oi(this,D,!0)},remove:function(D){return oi(this,D)},text:function(D){return ft(this,function(q){return q===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=q)})},null,D,arguments.length)},append:function(){return $r(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var q=it(this,D);q.appendChild(D)}})},prepend:function(){return $r(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var q=it(this,D);q.insertBefore(D,q.firstChild)}})},before:function(){return $r(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this)})},after:function(){return $r(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this.nextSibling)})},empty:function(){for(var D,q=0;(D=this[q])!=null;q++)D.nodeType===1&&(E.cleanData(jr(D,!1)),D.textContent="");return this},clone:function(D,q){return D=D==null?!1:D,q=q==null?D:q,this.map(function(){return E.clone(this,D,q)})},html:function(D){return ft(this,function(q){var le=this[0]||{},pe=0,Le=this.length;if(q===void 0&&le.nodeType===1)return le.innerHTML;if(typeof q=="string"&&!ot.test(q)&&!Un[(On.exec(q)||["",""])[1].toLowerCase()]){q=E.htmlPrefilter(q);try{for(;pe<Le;pe++)le=this[pe]||{},le.nodeType===1&&(E.cleanData(jr(le,!1)),le.innerHTML=q);le=0}catch(Re){}}le&&this.empty().append(q)},null,D,arguments.length)},replaceWith:function(){var D=[];return $r(this,arguments,function(q){var le=this.parentNode;E.inArray(this,D)<0&&(E.cleanData(jr(this)),le&&le.replaceChild(q,this))},D)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,q){E.fn[D]=function(le){for(var pe,Le=[],Re=E(le),Ge=Re.length-1,Rt=0;Rt<=Ge;Rt++)pe=Rt===Ge?this:this.clone(!0),E(Re[Rt])[q](pe),o.apply(Le,pe.get());return this.pushStack(Le)}});var xi=new RegExp("^("+Qt+")(?!px)[a-z%]+$","i"),mi=/^--/,Lt=function(D){var q=D.ownerDocument.defaultView;return(!q||!q.opener)&&(q=e),q.getComputedStyle(D)},ut=function(D,q,le){var pe,Le,Re={};for(Le in q)Re[Le]=D.style[Le],D.style[Le]=q[Le];pe=le.call(D);for(Le in q)D.style[Le]=Re[Le];return pe},on=new RegExp(st.join("|"),"i");(function(){function D(){if(Xt){bt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ke.appendChild(bt).appendChild(Xt);var Sn=e.getComputedStyle(Xt);le=Sn.top!=="1%",Rt=q(Sn.marginLeft)===12,Xt.style.right="60%",Re=q(Sn.right)===36,pe=q(Sn.width)===36,Xt.style.position="absolute",Le=q(Xt.offsetWidth/3)===12,ke.removeChild(bt),Xt=null}}function q(Sn){return Math.round(parseFloat(Sn))}var le,pe,Le,Re,Ge,Rt,bt=_.createElement("div"),Xt=_.createElement("div");Xt.style&&(Xt.style.backgroundClip="content-box",Xt.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=Xt.style.backgroundClip==="content-box",E.extend(m,{boxSizingReliable:function(){return D(),pe},pixelBoxStyles:function(){return D(),Re},pixelPosition:function(){return D(),le},reliableMarginLeft:function(){return D(),Rt},scrollboxSize:function(){return D(),Le},reliableTrDimensions:function(){var Sn,Pn,yn,nr;return Ge==null&&(Sn=_.createElement("table"),Pn=_.createElement("tr"),yn=_.createElement("div"),Sn.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Pn.style.cssText="box-sizing:content-box;border:1px solid",Pn.style.height="1px",yn.style.height="9px",yn.style.display="block",ke.appendChild(Sn).appendChild(Pn).appendChild(yn),nr=e.getComputedStyle(Pn),Ge=parseInt(nr.height,10)+parseInt(nr.borderTopWidth,10)+parseInt(nr.borderBottomWidth,10)===Pn.offsetHeight,ke.removeChild(Sn)),Ge}}))})();function xn(D,q,le){var pe,Le,Re,Ge,Rt=mi.test(q),bt=D.style;return le=le||Lt(D),le&&(Ge=le.getPropertyValue(q)||le[q],Rt&&Ge&&(Ge=Ge.replace($,"$1")||void 0),Ge===""&&!ct(D)&&(Ge=E.style(D,q)),!m.pixelBoxStyles()&&xi.test(Ge)&&on.test(q)&&(pe=bt.width,Le=bt.minWidth,Re=bt.maxWidth,bt.minWidth=bt.maxWidth=bt.width=Ge,Ge=le.width,bt.width=pe,bt.minWidth=Le,bt.maxWidth=Re)),Ge!==void 0?Ge+"":Ge}function Rr(D,q){return{get:function(){if(D()){delete this.get;return}return(this.get=q).apply(this,arguments)}}}var Xr=["Webkit","Moz","ms"],ta=_.createElement("div").style,Ki={};function Eo(D){for(var q=D[0].toUpperCase()+D.slice(1),le=Xr.length;le--;)if(D=Xr[le]+q,D in ta)return D}function na(D){var q=E.cssProps[D]||Ki[D];return q||(D in ta?D:Ki[D]=Eo(D)||D)}var Kl=/^(none|table(?!-c[ea]).+)/,Ic={position:"absolute",visibility:"hidden",display:"block"},to={letterSpacing:"0",fontWeight:"400"};function ql(D,q,le){var pe=Dt.exec(q);return pe?Math.max(0,pe[2]-(le||0))+(pe[3]||"px"):q}function ed(D,q,le,pe,Le,Re){var Ge=q==="width"?1:0,Rt=0,bt=0,Xt=0;if(le===(pe?"border":"content"))return 0;for(;Ge<4;Ge+=2)le==="margin"&&(Xt+=E.css(D,le+st[Ge],!0,Le)),pe?(le==="content"&&(bt-=E.css(D,"padding"+st[Ge],!0,Le)),le!=="margin"&&(bt-=E.css(D,"border"+st[Ge]+"Width",!0,Le))):(bt+=E.css(D,"padding"+st[Ge],!0,Le),le!=="padding"?bt+=E.css(D,"border"+st[Ge]+"Width",!0,Le):Rt+=E.css(D,"border"+st[Ge]+"Width",!0,Le));return!pe&&Re>=0&&(bt+=Math.max(0,Math.ceil(D["offset"+q[0].toUpperCase()+q.slice(1)]-Re-bt-Rt-.5))||0),bt+Xt}function Ls(D,q,le){var pe=Lt(D),Le=!m.boxSizingReliable()||le,Re=Le&&E.css(D,"boxSizing",!1,pe)==="border-box",Ge=Re,Rt=xn(D,q,pe),bt="offset"+q[0].toUpperCase()+q.slice(1);if(xi.test(Rt)){if(!le)return Rt;Rt="auto"}return(!m.boxSizingReliable()&&Re||!m.reliableTrDimensions()&&I(D,"tr")||Rt==="auto"||!parseFloat(Rt)&&E.css(D,"display",!1,pe)==="inline")&&D.getClientRects().length&&(Re=E.css(D,"boxSizing",!1,pe)==="border-box",Ge=bt in D,Ge&&(Rt=D[bt])),Rt=parseFloat(Rt)||0,Rt+ed(D,q,le||(Re?"border":"content"),Ge,pe,Rt)+"px"}E.extend({cssHooks:{opacity:{get:function(D,q){if(q){var le=xn(D,"opacity");return le===""?"1":le}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(D,q,le,pe){if(!(!D||D.nodeType===3||D.nodeType===8||!D.style)){var Le,Re,Ge,Rt=Te(q),bt=mi.test(q),Xt=D.style;if(bt||(q=na(Rt)),Ge=E.cssHooks[q]||E.cssHooks[Rt],le!==void 0){if(Re=typeof le,Re==="string"&&(Le=Dt.exec(le))&&Le[1]&&(le=wn(D,q,Le),Re="number"),le==null||le!==le)return;Re==="number"&&!bt&&(le+=Le&&Le[3]||(E.cssNumber[Rt]?"":"px")),!m.clearCloneStyle&&le===""&&q.indexOf("background")===0&&(Xt[q]="inherit"),(!Ge||!("set"in Ge)||(le=Ge.set(D,le,pe))!==void 0)&&(bt?Xt.setProperty(q,le):Xt[q]=le)}else return Ge&&"get"in Ge&&(Le=Ge.get(D,!1,pe))!==void 0?Le:Xt[q]}},css:function(D,q,le,pe){var Le,Re,Ge,Rt=Te(q),bt=mi.test(q);return bt||(q=na(Rt)),Ge=E.cssHooks[q]||E.cssHooks[Rt],Ge&&"get"in Ge&&(Le=Ge.get(D,!0,le)),Le===void 0&&(Le=xn(D,q,pe)),Le==="normal"&&q in to&&(Le=to[q]),le===""||le?(Re=parseFloat(Le),le===!0||isFinite(Re)?Re||0:Le):Le}}),E.each(["height","width"],function(D,q){E.cssHooks[q]={get:function(le,pe,Le){if(pe)return Kl.test(E.css(le,"display"))&&(!le.getClientRects().length||!le.getBoundingClientRect().width)?ut(le,Ic,function(){return Ls(le,q,Le)}):Ls(le,q,Le)},set:function(le,pe,Le){var Re,Ge=Lt(le),Rt=!m.scrollboxSize()&&Ge.position==="absolute",bt=Rt||Le,Xt=bt&&E.css(le,"boxSizing",!1,Ge)==="border-box",Sn=Le?ed(le,q,Le,Xt,Ge):0;return Xt&&Rt&&(Sn-=Math.ceil(le["offset"+q[0].toUpperCase()+q.slice(1)]-parseFloat(Ge[q])-ed(le,q,"border",!1,Ge)-.5)),Sn&&(Re=Dt.exec(pe))&&(Re[3]||"px")!=="px"&&(le.style[q]=pe,pe=E.css(le,q)),ql(le,pe,Sn)}}}),E.cssHooks.marginLeft=Rr(m.reliableMarginLeft,function(D,q){if(q)return(parseFloat(xn(D,"marginLeft"))||D.getBoundingClientRect().left-ut(D,{marginLeft:0},function(){return D.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(D,q){E.cssHooks[D+q]={expand:function(le){for(var pe=0,Le={},Re=typeof le=="string"?le.split(" "):[le];pe<4;pe++)Le[D+st[pe]+q]=Re[pe]||Re[pe-2]||Re[0];return Le}},D!=="margin"&&(E.cssHooks[D+q].set=ql)}),E.fn.extend({css:function(D,q){return ft(this,function(le,pe,Le){var Re,Ge,Rt={},bt=0;if(Array.isArray(pe)){for(Re=Lt(le),Ge=pe.length;bt<Ge;bt++)Rt[pe[bt]]=E.css(le,pe[bt],!1,Re);return Rt}return Le!==void 0?E.style(le,pe,Le):E.css(le,pe)},D,q,arguments.length>1)}});function So(D,q,le,pe,Le){return new So.prototype.init(D,q,le,pe,Le)}E.Tween=So,So.prototype={constructor:So,init:function(D,q,le,pe,Le,Re){this.elem=D,this.prop=le,this.easing=Le||E.easing._default,this.options=q,this.start=this.now=this.cur(),this.end=pe,this.unit=Re||(E.cssNumber[le]?"":"px")},cur:function(){var D=So.propHooks[this.prop];return D&&D.get?D.get(this):So.propHooks._default.get(this)},run:function(D){var q,le=So.propHooks[this.prop];return this.options.duration?this.pos=q=E.easing[this.easing](D,this.options.duration*D,0,1,this.options.duration):this.pos=q=D,this.now=(this.end-this.start)*q+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),le&&le.set?le.set(this):So.propHooks._default.set(this),this}},So.prototype.init.prototype=So.prototype,So.propHooks={_default:{get:function(D){var q;return D.elem.nodeType!==1||D.elem[D.prop]!=null&&D.elem.style[D.prop]==null?D.elem[D.prop]:(q=E.css(D.elem,D.prop,""),!q||q==="auto"?0:q)},set:function(D){E.fx.step[D.prop]?E.fx.step[D.prop](D):D.elem.nodeType===1&&(E.cssHooks[D.prop]||D.elem.style[na(D.prop)]!=null)?E.style(D.elem,D.prop,D.now+D.unit):D.elem[D.prop]=D.now}}},So.propHooks.scrollTop=So.propHooks.scrollLeft={set:function(D){D.elem.nodeType&&D.elem.parentNode&&(D.elem[D.prop]=D.now)}},E.easing={linear:function(D){return D},swing:function(D){return .5-Math.cos(D*Math.PI)/2},_default:"swing"},E.fx=So.prototype.init,E.fx.step={};var Ru,hh,jd=/^(?:toggle|show|hide)$/,TA=/queueHooks$/;function Xl(){hh&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Xl):e.setTimeout(Xl,E.fx.interval),E.fx.tick())}function iu(){return e.setTimeout(function(){Ru=void 0}),Ru=Date.now()}function fo(D,q){var le,pe=0,Le={height:D};for(q=q?1:0;pe<4;pe+=2-q)le=st[pe],Le["margin"+le]=Le["padding"+le]=D;return q&&(Le.opacity=Le.width=D),Le}function td(D,q,le){for(var pe,Le=(Ac.tweeners[q]||[]).concat(Ac.tweeners["*"]),Re=0,Ge=Le.length;Re<Ge;Re++)if(pe=Le[Re].call(le,q,D))return pe}function Qp(D,q,le){var pe,Le,Re,Ge,Rt,bt,Xt,Sn,Pn="width"in q||"height"in q,yn=this,nr={},Ri=D.style,Ts=D.nodeType&&kt(D),Xi=Ze.get(D,"fxshow");le.queue||(Ge=E._queueHooks(D,"fx"),Ge.unqueued==null&&(Ge.unqueued=0,Rt=Ge.empty.fire,Ge.empty.fire=function(){Ge.unqueued||Rt()}),Ge.unqueued++,yn.always(function(){yn.always(function(){Ge.unqueued--,E.queue(D,"fx").length||Ge.empty.fire()})}));for(pe in q)if(Le=q[pe],jd.test(Le)){if(delete q[pe],Re=Re||Le==="toggle",Le===(Ts?"hide":"show"))if(Le==="show"&&Xi&&Xi[pe]!==void 0)Ts=!0;else continue;nr[pe]=Xi&&Xi[pe]||E.style(D,pe)}if(bt=!E.isEmptyObject(q),!(!bt&&E.isEmptyObject(nr))){Pn&&D.nodeType===1&&(le.overflow=[Ri.overflow,Ri.overflowX,Ri.overflowY],Xt=Xi&&Xi.display,Xt==null&&(Xt=Ze.get(D,"display")),Sn=E.css(D,"display"),Sn==="none"&&(Xt?Sn=Xt:(bn([D],!0),Xt=D.style.display||Xt,Sn=E.css(D,"display"),bn([D]))),(Sn==="inline"||Sn==="inline-block"&&Xt!=null)&&E.css(D,"float")==="none"&&(bt||(yn.done(function(){Ri.display=Xt}),Xt==null&&(Sn=Ri.display,Xt=Sn==="none"?"":Sn)),Ri.display="inline-block")),le.overflow&&(Ri.overflow="hidden",yn.always(function(){Ri.overflow=le.overflow[0],Ri.overflowX=le.overflow[1],Ri.overflowY=le.overflow[2]})),bt=!1;for(pe in nr)bt||(Xi?"hidden"in Xi&&(Ts=Xi.hidden):Xi=Ze.access(D,"fxshow",{display:Xt}),Re&&(Xi.hidden=!Ts),Ts&&bn([D],!0),yn.done(function(){Ts||bn([D]),Ze.remove(D,"fxshow");for(pe in nr)E.style(D,pe,nr[pe])})),bt=td(Ts?Xi[pe]:0,pe,yn),pe in Xi||(Xi[pe]=bt.start,Ts&&(bt.end=bt.start,bt.start=0))}}function Zv(D,q){var le,pe,Le,Re,Ge;for(le in D)if(pe=Te(le),Le=q[pe],Re=D[le],Array.isArray(Re)&&(Le=Re[1],Re=D[le]=Re[0]),le!==pe&&(D[pe]=Re,delete D[le]),Ge=E.cssHooks[pe],Ge&&"expand"in Ge){Re=Ge.expand(Re),delete D[pe];for(le in Re)le in D||(D[le]=Re[le],q[le]=Le)}else q[pe]=Le}function Ac(D,q,le){var pe,Le,Re=0,Ge=Ac.prefilters.length,Rt=E.Deferred().always(function(){delete bt.elem}),bt=function(){if(Le)return!1;for(var Pn=Ru||iu(),yn=Math.max(0,Xt.startTime+Xt.duration-Pn),nr=yn/Xt.duration||0,Ri=1-nr,Ts=0,Xi=Xt.tweens.length;Ts<Xi;Ts++)Xt.tweens[Ts].run(Ri);return Rt.notifyWith(D,[Xt,Ri,yn]),Ri<1&&Xi?yn:(Xi||Rt.notifyWith(D,[Xt,1,0]),Rt.resolveWith(D,[Xt]),!1)},Xt=Rt.promise({elem:D,props:E.extend({},q),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},le),originalProperties:q,originalOptions:le,startTime:Ru||iu(),duration:le.duration,tweens:[],createTween:function(Pn,yn){var nr=E.Tween(D,Xt.opts,Pn,yn,Xt.opts.specialEasing[Pn]||Xt.opts.easing);return Xt.tweens.push(nr),nr},stop:function(Pn){var yn=0,nr=Pn?Xt.tweens.length:0;if(Le)return this;for(Le=!0;yn<nr;yn++)Xt.tweens[yn].run(1);return Pn?(Rt.notifyWith(D,[Xt,1,0]),Rt.resolveWith(D,[Xt,Pn])):Rt.rejectWith(D,[Xt,Pn]),this}}),Sn=Xt.props;for(Zv(Sn,Xt.opts.specialEasing);Re<Ge;Re++)if(pe=Ac.prefilters[Re].call(Xt,D,Sn,Xt.opts),pe)return g(pe.stop)&&(E._queueHooks(Xt.elem,Xt.opts.queue).stop=pe.stop.bind(pe)),pe;return E.map(Sn,td,Xt),g(Xt.opts.start)&&Xt.opts.start.call(D,Xt),Xt.progress(Xt.opts.progress).done(Xt.opts.done,Xt.opts.complete).fail(Xt.opts.fail).always(Xt.opts.always),E.fx.timer(E.extend(bt,{elem:D,anim:Xt,queue:Xt.opts.queue})),Xt}E.Animation=E.extend(Ac,{tweeners:{"*":[function(D,q){var le=this.createTween(D,q);return wn(le.elem,D,Dt.exec(q),le),le}]},tweener:function(D,q){g(D)?(q=D,D=["*"]):D=D.match(Ie);for(var le,pe=0,Le=D.length;pe<Le;pe++)le=D[pe],Ac.tweeners[le]=Ac.tweeners[le]||[],Ac.tweeners[le].unshift(q)},prefilters:[Qp],prefilter:function(D,q){q?Ac.prefilters.unshift(D):Ac.prefilters.push(D)}}),E.speed=function(D,q,le){var pe=D&&typeof D=="object"?E.extend({},D):{complete:le||!le&&q||g(D)&&D,duration:D,easing:le&&q||q&&!g(q)&&q};return E.fx.off?pe.duration=0:typeof pe.duration!="number"&&(pe.duration in E.fx.speeds?pe.duration=E.fx.speeds[pe.duration]:pe.duration=E.fx.speeds._default),(pe.queue==null||pe.queue===!0)&&(pe.queue="fx"),pe.old=pe.complete,pe.complete=function(){g(pe.old)&&pe.old.call(this),pe.queue&&E.dequeue(this,pe.queue)},pe},E.fn.extend({fadeTo:function(D,q,le,pe){return this.filter(kt).css("opacity",0).show().end().animate({opacity:q},D,le,pe)},animate:function(D,q,le,pe){var Le=E.isEmptyObject(D),Re=E.speed(q,le,pe),Ge=function(){var Rt=Ac(this,E.extend({},D),Re);(Le||Ze.get(this,"finish"))&&Rt.stop(!0)};return Ge.finish=Ge,Le||Re.queue===!1?this.each(Ge):this.queue(Re.queue,Ge)},stop:function(D,q,le){var pe=function(Le){var Re=Le.stop;delete Le.stop,Re(le)};return typeof D!="string"&&(le=q,q=D,D=void 0),q&&this.queue(D||"fx",[]),this.each(function(){var Le=!0,Re=D!=null&&D+"queueHooks",Ge=E.timers,Rt=Ze.get(this);if(Re)Rt[Re]&&Rt[Re].stop&&pe(Rt[Re]);else for(Re in Rt)Rt[Re]&&Rt[Re].stop&&TA.test(Re)&&pe(Rt[Re]);for(Re=Ge.length;Re--;)Ge[Re].elem===this&&(D==null||Ge[Re].queue===D)&&(Ge[Re].anim.stop(le),Le=!1,Ge.splice(Re,1));(Le||!le)&&E.dequeue(this,D)})},finish:function(D){return D!==!1&&(D=D||"fx"),this.each(function(){var q,le=Ze.get(this),pe=le[D+"queue"],Le=le[D+"queueHooks"],Re=E.timers,Ge=pe?pe.length:0;for(le.finish=!0,E.queue(this,D,[]),Le&&Le.stop&&Le.stop.call(this,!0),q=Re.length;q--;)Re[q].elem===this&&Re[q].queue===D&&(Re[q].anim.stop(!0),Re.splice(q,1));for(q=0;q<Ge;q++)pe[q]&&pe[q].finish&&pe[q].finish.call(this);delete le.finish})}}),E.each(["toggle","show","hide"],function(D,q){var le=E.fn[q];E.fn[q]=function(pe,Le,Re){return pe==null||typeof pe=="boolean"?le.apply(this,arguments):this.animate(fo(q,!0),pe,Le,Re)}}),E.each({slideDown:fo("show"),slideUp:fo("hide"),slideToggle:fo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(D,q){E.fn[D]=function(le,pe,Le){return this.animate(q,le,pe,Le)}}),E.timers=[],E.fx.tick=function(){var D,q=0,le=E.timers;for(Ru=Date.now();q<le.length;q++)D=le[q],!D()&&le[q]===D&&le.splice(q--,1);le.length||E.fx.stop(),Ru=void 0},E.fx.timer=function(D){E.timers.push(D),E.fx.start()},E.fx.interval=13,E.fx.start=function(){hh||(hh=!0,Xl())},E.fx.stop=function(){hh=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(D,q){return D=E.fx&&E.fx.speeds[D]||D,q=q||"fx",this.queue(q,function(le,pe){var Le=e.setTimeout(le,D);pe.stop=function(){e.clearTimeout(Le)}})},function(){var D=_.createElement("input"),q=_.createElement("select"),le=q.appendChild(_.createElement("option"));D.type="checkbox",m.checkOn=D.value!=="",m.optSelected=le.selected,D=_.createElement("input"),D.value="t",D.type="radio",m.radioValue=D.value==="t"}();var Of,Kd=E.expr.attrHandle;E.fn.extend({attr:function(D,q){return ft(this,E.attr,D,q,arguments.length>1)},removeAttr:function(D){return this.each(function(){E.removeAttr(this,D)})}}),E.extend({attr:function(D,q,le){var pe,Le,Re=D.nodeType;if(!(Re===3||Re===8||Re===2)){if(typeof D.getAttribute>"u")return E.prop(D,q,le);if((Re!==1||!E.isXMLDoc(D))&&(Le=E.attrHooks[q.toLowerCase()]||(E.expr.match.bool.test(q)?Of:void 0)),le!==void 0){if(le===null){E.removeAttr(D,q);return}return Le&&"set"in Le&&(pe=Le.set(D,le,q))!==void 0?pe:(D.setAttribute(q,le+""),le)}return Le&&"get"in Le&&(pe=Le.get(D,q))!==null?pe:(pe=E.find.attr(D,q),pe==null?void 0:pe)}},attrHooks:{type:{set:function(D,q){if(!m.radioValue&&q==="radio"&&I(D,"input")){var le=D.value;return D.setAttribute("type",q),le&&(D.value=le),q}}}},removeAttr:function(D,q){var le,pe=0,Le=q&&q.match(Ie);if(Le&&D.nodeType===1)for(;le=Le[pe++];)D.removeAttribute(le)}}),Of={set:function(D,q,le){return q===!1?E.removeAttr(D,le):D.setAttribute(le,le),le}},E.each(E.expr.match.bool.source.match(/\w+/g),function(D,q){var le=Kd[q]||E.find.attr;Kd[q]=function(pe,Le,Re){var Ge,Rt,bt=Le.toLowerCase();return Re||(Rt=Kd[bt],Kd[bt]=Ge,Ge=le(pe,Le,Re)!=null?bt:null,Kd[bt]=Rt),Ge}});var Mm=/^(?:input|select|textarea|button)$/i,Wp=/^(?:a|area)$/i;E.fn.extend({prop:function(D,q){return ft(this,E.prop,D,q,arguments.length>1)},removeProp:function(D){return this.each(function(){delete this[E.propFix[D]||D]})}}),E.extend({prop:function(D,q,le){var pe,Le,Re=D.nodeType;if(!(Re===3||Re===8||Re===2))return(Re!==1||!E.isXMLDoc(D))&&(q=E.propFix[q]||q,Le=E.propHooks[q]),le!==void 0?Le&&"set"in Le&&(pe=Le.set(D,le,q))!==void 0?pe:D[q]=le:Le&&"get"in Le&&(pe=Le.get(D,q))!==null?pe:D[q]},propHooks:{tabIndex:{get:function(D){var q=E.find.attr(D,"tabindex");return q?parseInt(q,10):Mm.test(D.nodeName)||Wp.test(D.nodeName)&&D.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(D){var q=D.parentNode;return q&&q.parentNode&&q.parentNode.selectedIndex,null},set:function(D){var q=D.parentNode;q&&(q.selectedIndex,q.parentNode&&q.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function qd(D){var q=D.match(Ie)||[];return q.join(" ")}function nd(D){return D.getAttribute&&D.getAttribute("class")||""}function jp(D){return Array.isArray(D)?D:typeof D=="string"?D.match(Ie)||[]:[]}E.fn.extend({addClass:function(D){var q,le,pe,Le,Re,Ge;return g(D)?this.each(function(Rt){E(this).addClass(D.call(this,Rt,nd(this)))}):(q=jp(D),q.length?this.each(function(){if(pe=nd(this),le=this.nodeType===1&&" "+qd(pe)+" ",le){for(Re=0;Re<q.length;Re++)Le=q[Re],le.indexOf(" "+Le+" ")<0&&(le+=Le+" ");Ge=qd(le),pe!==Ge&&this.setAttribute("class",Ge)}}):this)},removeClass:function(D){var q,le,pe,Le,Re,Ge;return g(D)?this.each(function(Rt){E(this).removeClass(D.call(this,Rt,nd(this)))}):arguments.length?(q=jp(D),q.length?this.each(function(){if(pe=nd(this),le=this.nodeType===1&&" "+qd(pe)+" ",le){for(Re=0;Re<q.length;Re++)for(Le=q[Re];le.indexOf(" "+Le+" ")>-1;)le=le.replace(" "+Le+" "," ");Ge=qd(le),pe!==Ge&&this.setAttribute("class",Ge)}}):this):this.attr("class","")},toggleClass:function(D,q){var le,pe,Le,Re,Ge=typeof D,Rt=Ge==="string"||Array.isArray(D);return g(D)?this.each(function(bt){E(this).toggleClass(D.call(this,bt,nd(this),q),q)}):typeof q=="boolean"&&Rt?q?this.addClass(D):this.removeClass(D):(le=jp(D),this.each(function(){if(Rt)for(Re=E(this),Le=0;Le<le.length;Le++)pe=le[Le],Re.hasClass(pe)?Re.removeClass(pe):Re.addClass(pe);else(D===void 0||Ge==="boolean")&&(pe=nd(this),pe&&Ze.set(this,"__className__",pe),this.setAttribute&&this.setAttribute("class",pe||D===!1?"":Ze.get(this,"__className__")||""))}))},hasClass:function(D){var q,le,pe=0;for(q=" "+D+" ";le=this[pe++];)if(le.nodeType===1&&(" "+qd(nd(le))+" ").indexOf(q)>-1)return!0;return!1}});var rd=/\r/g;E.fn.extend({val:function(D){var q,le,pe,Le=this[0];return arguments.length?(pe=g(D),this.each(function(Re){var Ge;this.nodeType===1&&(pe?Ge=D.call(this,Re,E(this).val()):Ge=D,Ge==null?Ge="":typeof Ge=="number"?Ge+="":Array.isArray(Ge)&&(Ge=E.map(Ge,function(Rt){return Rt==null?"":Rt+""})),q=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!q||!("set"in q)||q.set(this,Ge,"value")===void 0)&&(this.value=Ge))})):Le?(q=E.valHooks[Le.type]||E.valHooks[Le.nodeName.toLowerCase()],q&&"get"in q&&(le=q.get(Le,"value"))!==void 0?le:(le=Le.value,typeof le=="string"?le.replace(rd,""):le==null?"":le)):void 0}}),E.extend({valHooks:{option:{get:function(D){var q=E.find.attr(D,"value");return q!=null?q:qd(E.text(D))}},select:{get:function(D){var q,le,pe,Le=D.options,Re=D.selectedIndex,Ge=D.type==="select-one",Rt=Ge?null:[],bt=Ge?Re+1:Le.length;for(Re<0?pe=bt:pe=Ge?Re:0;pe<bt;pe++)if(le=Le[pe],(le.selected||pe===Re)&&!le.disabled&&(!le.parentNode.disabled||!I(le.parentNode,"optgroup"))){if(q=E(le).val(),Ge)return q;Rt.push(q)}return Rt},set:function(D,q){for(var le,pe,Le=D.options,Re=E.makeArray(q),Ge=Le.length;Ge--;)pe=Le[Ge],(pe.selected=E.inArray(E.valHooks.option.get(pe),Re)>-1)&&(le=!0);return le||(D.selectedIndex=-1),Re}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(D,q){if(Array.isArray(q))return D.checked=E.inArray(E(D).val(),q)>-1}},m.checkOn||(E.valHooks[this].get=function(D){return D.getAttribute("value")===null?"on":D.value})});var dh=e.location,Nf={guid:Date.now()},Xd=/\?/;E.parseXML=function(D){var q,le;if(!D||typeof D!="string")return null;try{q=new e.DOMParser().parseFromString(D,"text/xml")}catch(pe){}return le=q&&q.getElementsByTagName("parsererror")[0],(!q||le)&&E.error("Invalid XML: "+(le?E.map(le.childNodes,function(pe){return pe.textContent}).join("\n"):D)),q};var cl=/^(?:focusinfocus|focusoutblur)$/,qi=function(D){D.stopPropagation()};E.extend(E.event,{trigger:function(D,q,le,pe){var Le,Re,Ge,Rt,bt,Xt,Sn,Pn,yn=[le||_],nr=d.call(D,"type")?D.type:D,Ri=d.call(D,"namespace")?D.namespace.split("."):[];if(Re=Pn=Ge=le=le||_,!(le.nodeType===3||le.nodeType===8)&&!cl.test(nr+E.event.triggered)&&(nr.indexOf(".")>-1&&(Ri=nr.split("."),nr=Ri.shift(),Ri.sort()),bt=nr.indexOf(":")<0&&"on"+nr,D=D[E.expando]?D:new E.Event(nr,typeof D=="object"&&D),D.isTrigger=pe?2:3,D.namespace=Ri.join("."),D.rnamespace=D.namespace?new RegExp("(^|\\.)"+Ri.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,D.result=void 0,D.target||(D.target=le),q=q==null?[D]:E.makeArray(q,[D]),Sn=E.event.special[nr]||{},!(!pe&&Sn.trigger&&Sn.trigger.apply(le,q)===!1))){if(!pe&&!Sn.noBubble&&!y(le)){for(Rt=Sn.delegateType||nr,cl.test(Rt+nr)||(Re=Re.parentNode);Re;Re=Re.parentNode)yn.push(Re),Ge=Re;Ge===(le.ownerDocument||_)&&yn.push(Ge.defaultView||Ge.parentWindow||e)}for(Le=0;(Re=yn[Le++])&&!D.isPropagationStopped();)Pn=Re,D.type=Le>1?Rt:Sn.bindType||nr,Xt=(Ze.get(Re,"events")||Object.create(null))[D.type]&&Ze.get(Re,"handle"),Xt&&Xt.apply(Re,q),Xt=bt&&Re[bt],Xt&&Xt.apply&&we(Re)&&(D.result=Xt.apply(Re,q),D.result===!1&&D.preventDefault());return D.type=nr,!pe&&!D.isDefaultPrevented()&&(!Sn._default||Sn._default.apply(yn.pop(),q)===!1)&&we(le)&&bt&&g(le[nr])&&!y(le)&&(Ge=le[bt],Ge&&(le[bt]=null),E.event.triggered=nr,D.isPropagationStopped()&&Pn.addEventListener(nr,qi),le[nr](),D.isPropagationStopped()&&Pn.removeEventListener(nr,qi),E.event.triggered=void 0,Ge&&(le[bt]=Ge)),D.result}},simulate:function(D,q,le){var pe=E.extend(new E.Event,le,{type:D,isSimulated:!0});E.event.trigger(pe,null,q)}}),E.fn.extend({trigger:function(D,q){return this.each(function(){E.event.trigger(D,q,this)})},triggerHandler:function(D,q){var le=this[0];if(le)return E.event.trigger(D,q,le,!0)}});var ir=/\[\]$/,ur=/\r?\n/g,Fo=/^(?:submit|button|image|reset|file)$/i,dt=/^(?:input|select|textarea|keygen)/i;function Ua(D,q,le,pe){var Le;if(Array.isArray(q))E.each(q,function(Re,Ge){le||ir.test(D)?pe(D,Ge):Ua(D+"["+(typeof Ge=="object"&&Ge!=null?Re:"")+"]",Ge,le,pe)});else if(!le&&C(q)==="object")for(Le in q)Ua(D+"["+Le+"]",q[Le],le,pe);else pe(D,q)}E.param=function(D,q){var le,pe=[],Le=function(Re,Ge){var Rt=g(Ge)?Ge():Ge;pe[pe.length]=encodeURIComponent(Re)+"="+encodeURIComponent(Rt==null?"":Rt)};if(D==null)return"";if(Array.isArray(D)||D.jquery&&!E.isPlainObject(D))E.each(D,function(){Le(this.name,this.value)});else for(le in D)Ua(le,D[le],q,Le);return pe.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var D=E.prop(this,"elements");return D?E.makeArray(D):this}).filter(function(){var D=this.type;return this.name&&!E(this).is(":disabled")&&dt.test(this.nodeName)&&!Fo.test(D)&&(this.checked||!Rn.test(D))}).map(function(D,q){var le=E(this).val();return le==null?null:Array.isArray(le)?E.map(le,function(pe){return{name:q.name,value:pe.replace(ur,"\r\n")}}):{name:q.name,value:le.replace(ur,"\r\n")}}).get()}});var fh=/%20/g,Jv=/#.*$/,wa=/([?&])_=[^&]*/,Gs=/^(.*?):[ \t]*([^\r\n]*)$/mg,Yd=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Df=/^(?:GET|HEAD)$/,Zd=/^\/\//,Pc={},Zo={},ul="*/".concat("*"),kf=_.createElement("a");kf.href=dh.href;function Uf(D){return function(q,le){typeof q!="string"&&(le=q,q="*");var pe,Le=0,Re=q.toLowerCase().match(Ie)||[];if(g(le))for(;pe=Re[Le++];)pe[0]==="+"?(pe=pe.slice(1)||"*",(D[pe]=D[pe]||[]).unshift(le)):(D[pe]=D[pe]||[]).push(le)}}function Kp(D,q,le,pe){var Le={},Re=D===Zo;function Ge(Rt){var bt;return Le[Rt]=!0,E.each(D[Rt]||[],function(Xt,Sn){var Pn=Sn(q,le,pe);if(typeof Pn=="string"&&!Re&&!Le[Pn])return q.dataTypes.unshift(Pn),Ge(Pn),!1;if(Re)return!(bt=Pn)}),bt}return Ge(q.dataTypes[0])||!Le["*"]&&Ge("*")}function Hf(D,q){var le,pe,Le=E.ajaxSettings.flatOptions||{};for(le in q)q[le]!==void 0&&((Le[le]?D:pe||(pe={}))[le]=q[le]);return pe&&E.extend(!0,D,pe),D}function e0(D,q,le){for(var pe,Le,Re,Ge,Rt=D.contents,bt=D.dataTypes;bt[0]==="*";)bt.shift(),pe===void 0&&(pe=D.mimeType||q.getResponseHeader("Content-Type"));if(pe){for(Le in Rt)if(Rt[Le]&&Rt[Le].test(pe)){bt.unshift(Le);break}}if(bt[0]in le)Re=bt[0];else{for(Le in le){if(!bt[0]||D.converters[Le+" "+bt[0]]){Re=Le;break}Ge||(Ge=Le)}Re=Re||Ge}if(Re)return Re!==bt[0]&&bt.unshift(Re),le[Re]}function t0(D,q,le,pe){var Le,Re,Ge,Rt,bt,Xt={},Sn=D.dataTypes.slice();if(Sn[1])for(Ge in D.converters)Xt[Ge.toLowerCase()]=D.converters[Ge];for(Re=Sn.shift();Re;)if(D.responseFields[Re]&&(le[D.responseFields[Re]]=q),!bt&&pe&&D.dataFilter&&(q=D.dataFilter(q,D.dataType)),bt=Re,Re=Sn.shift(),Re){if(Re==="*")Re=bt;else if(bt!=="*"&&bt!==Re){if(Ge=Xt[bt+" "+Re]||Xt["* "+Re],!Ge){for(Le in Xt)if(Rt=Le.split(" "),Rt[1]===Re&&(Ge=Xt[bt+" "+Rt[0]]||Xt["* "+Rt[0]],Ge)){Ge===!0?Ge=Xt[Le]:Xt[Le]!==!0&&(Re=Rt[0],Sn.unshift(Rt[1]));break}}if(Ge!==!0)if(Ge&&D.throws)q=Ge(q);else try{q=Ge(q)}catch(Pn){return{state:"parsererror",error:Ge?Pn:"No conversion from "+bt+" to "+Re}}}}return{state:"success",data:q}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dh.href,type:"GET",isLocal:Yd.test(dh.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ul,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(D,q){return q?Hf(Hf(D,E.ajaxSettings),q):Hf(E.ajaxSettings,D)},ajaxPrefilter:Uf(Pc),ajaxTransport:Uf(Zo),ajax:function(D,q){typeof D=="object"&&(q=D,D=void 0),q=q||{};var le,pe,Le,Re,Ge,Rt,bt,Xt,Sn,Pn,yn=E.ajaxSetup({},q),nr=yn.context||yn,Ri=yn.context&&(nr.nodeType||nr.jquery)?E(nr):E.event,Ts=E.Deferred(),Xi=E.Callbacks("once memory"),Oo=yn.statusCode||{},te={},Pe={},_t="canceled",Et={readyState:0,getResponseHeader:function(dn){var Fn;if(bt){if(!Re)for(Re={};Fn=Gs.exec(Le);)Re[Fn[1].toLowerCase()+" "]=(Re[Fn[1].toLowerCase()+" "]||[]).concat(Fn[2]);Fn=Re[dn.toLowerCase()+" "]}return Fn==null?null:Fn.join(", ")},getAllResponseHeaders:function(){return bt?Le:null},setRequestHeader:function(dn,Fn){return bt==null&&(dn=Pe[dn.toLowerCase()]=Pe[dn.toLowerCase()]||dn,te[dn]=Fn),this},overrideMimeType:function(dn){return bt==null&&(yn.mimeType=dn),this},statusCode:function(dn){var Fn;if(dn)if(bt)Et.always(dn[Et.status]);else for(Fn in dn)Oo[Fn]=[Oo[Fn],dn[Fn]];return this},abort:function(dn){var Fn=dn||_t;return le&&le.abort(Fn),nn(0,Fn),this}};if(Ts.promise(Et),yn.url=((D||yn.url||dh.href)+"").replace(Zd,dh.protocol+"//"),yn.type=q.method||q.type||yn.method||yn.type,yn.dataTypes=(yn.dataType||"*").toLowerCase().match(Ie)||[""],yn.crossDomain==null){Rt=_.createElement("a");try{Rt.href=yn.url,Rt.href=Rt.href,yn.crossDomain=kf.protocol+"//"+kf.host!=Rt.protocol+"//"+Rt.host}catch(dn){yn.crossDomain=!0}}if(yn.data&&yn.processData&&typeof yn.data!="string"&&(yn.data=E.param(yn.data,yn.traditional)),Kp(Pc,yn,q,Et),bt)return Et;Xt=E.event&&yn.global,Xt&&E.active++===0&&E.event.trigger("ajaxStart"),yn.type=yn.type.toUpperCase(),yn.hasContent=!Df.test(yn.type),pe=yn.url.replace(Jv,""),yn.hasContent?yn.data&&yn.processData&&(yn.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(yn.data=yn.data.replace(fh,"+")):(Pn=yn.url.slice(pe.length),yn.data&&(yn.processData||typeof yn.data=="string")&&(pe+=(Xd.test(pe)?"&":"?")+yn.data,delete yn.data),yn.cache===!1&&(pe=pe.replace(wa,"$1"),Pn=(Xd.test(pe)?"&":"?")+"_="+Nf.guid+++Pn),yn.url=pe+Pn),yn.ifModified&&(E.lastModified[pe]&&Et.setRequestHeader("If-Modified-Since",E.lastModified[pe]),E.etag[pe]&&Et.setRequestHeader("If-None-Match",E.etag[pe])),(yn.data&&yn.hasContent&&yn.contentType!==!1||q.contentType)&&Et.setRequestHeader("Content-Type",yn.contentType),Et.setRequestHeader("Accept",yn.dataTypes[0]&&yn.accepts[yn.dataTypes[0]]?yn.accepts[yn.dataTypes[0]]+(yn.dataTypes[0]!=="*"?", "+ul+"; q=0.01":""):yn.accepts["*"]);for(Sn in yn.headers)Et.setRequestHeader(Sn,yn.headers[Sn]);if(yn.beforeSend&&(yn.beforeSend.call(nr,Et,yn)===!1||bt))return Et.abort();if(_t="abort",Xi.add(yn.complete),Et.done(yn.success),Et.fail(yn.error),le=Kp(Zo,yn,q,Et),!le)nn(-1,"No Transport");else{if(Et.readyState=1,Xt&&Ri.trigger("ajaxSend",[Et,yn]),bt)return Et;yn.async&&yn.timeout>0&&(Ge=e.setTimeout(function(){Et.abort("timeout")},yn.timeout));try{bt=!1,le.send(te,nn)}catch(dn){if(bt)throw dn;nn(-1,dn)}}function nn(dn,Fn,Pr,vi){var Ii,Gi,os,ma,ba,ua=Fn;bt||(bt=!0,Ge&&e.clearTimeout(Ge),le=void 0,Le=vi||"",Et.readyState=dn>0?4:0,Ii=dn>=200&&dn<300||dn===304,Pr&&(ma=e0(yn,Et,Pr)),!Ii&&E.inArray("script",yn.dataTypes)>-1&&E.inArray("json",yn.dataTypes)<0&&(yn.converters["text script"]=function(){}),ma=t0(yn,ma,Et,Ii),Ii?(yn.ifModified&&(ba=Et.getResponseHeader("Last-Modified"),ba&&(E.lastModified[pe]=ba),ba=Et.getResponseHeader("etag"),ba&&(E.etag[pe]=ba)),dn===204||yn.type==="HEAD"?ua="nocontent":dn===304?ua="notmodified":(ua=ma.state,Gi=ma.data,os=ma.error,Ii=!os)):(os=ua,(dn||!ua)&&(ua="error",dn<0&&(dn=0))),Et.status=dn,Et.statusText=(Fn||ua)+"",Ii?Ts.resolveWith(nr,[Gi,ua,Et]):Ts.rejectWith(nr,[Et,ua,os]),Et.statusCode(Oo),Oo=void 0,Xt&&Ri.trigger(Ii?"ajaxSuccess":"ajaxError",[Et,yn,Ii?Gi:os]),Xi.fireWith(nr,[Et,ua]),Xt&&(Ri.trigger("ajaxComplete",[Et,yn]),--E.active||E.event.trigger("ajaxStop")))}return Et},getJSON:function(D,q,le){return E.get(D,q,le,"json")},getScript:function(D,q){return E.get(D,void 0,q,"script")}}),E.each(["get","post"],function(D,q){E[q]=function(le,pe,Le,Re){return g(pe)&&(Re=Re||Le,Le=pe,pe=void 0),E.ajax(E.extend({url:le,type:q,dataType:Re,data:pe,success:Le},E.isPlainObject(le)&&le))}}),E.ajaxPrefilter(function(D){var q;for(q in D.headers)q.toLowerCase()==="content-type"&&(D.contentType=D.headers[q]||"")}),E._evalUrl=function(D,q,le){return E.ajax({url:D,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(pe){E.globalEval(pe,q,le)}})},E.fn.extend({wrapAll:function(D){var q;return this[0]&&(g(D)&&(D=D.call(this[0])),q=E(D,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&q.insertBefore(this[0]),q.map(function(){for(var le=this;le.firstElementChild;)le=le.firstElementChild;return le}).append(this)),this},wrapInner:function(D){return g(D)?this.each(function(q){E(this).wrapInner(D.call(this,q))}):this.each(function(){var q=E(this),le=q.contents();le.length?le.wrapAll(D):q.append(D)})},wrap:function(D){var q=g(D);return this.each(function(le){E(this).wrapAll(q?D.call(this,le):D)})},unwrap:function(D){return this.parent(D).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(D){return!E.expr.pseudos.visible(D)},E.expr.pseudos.visible=function(D){return!!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(D){}};var n0={0:200,1223:204},Gf=E.ajaxSettings.xhr();m.cors=!!Gf&&"withCredentials"in Gf,m.ajax=Gf=!!Gf,E.ajaxTransport(function(D){var q,le;if(m.cors||Gf&&!D.crossDomain)return{send:function(pe,Le){var Re,Ge=D.xhr();if(Ge.open(D.type,D.url,D.async,D.username,D.password),D.xhrFields)for(Re in D.xhrFields)Ge[Re]=D.xhrFields[Re];D.mimeType&&Ge.overrideMimeType&&Ge.overrideMimeType(D.mimeType),!D.crossDomain&&!pe["X-Requested-With"]&&(pe["X-Requested-With"]="XMLHttpRequest");for(Re in pe)Ge.setRequestHeader(Re,pe[Re]);q=function(Rt){return function(){q&&(q=le=Ge.onload=Ge.onerror=Ge.onabort=Ge.ontimeout=Ge.onreadystatechange=null,Rt==="abort"?Ge.abort():Rt==="error"?typeof Ge.status!="number"?Le(0,"error"):Le(Ge.status,Ge.statusText):Le(n0[Ge.status]||Ge.status,Ge.statusText,(Ge.responseType||"text")!=="text"||typeof Ge.responseText!="string"?{binary:Ge.response}:{text:Ge.responseText},Ge.getAllResponseHeaders()))}},Ge.onload=q(),le=Ge.onerror=Ge.ontimeout=q("error"),Ge.onabort!==void 0?Ge.onabort=le:Ge.onreadystatechange=function(){Ge.readyState===4&&e.setTimeout(function(){q&&le()})},q=q("abort");try{Ge.send(D.hasContent&&D.data||null)}catch(Rt){if(q)throw Rt}},abort:function(){q&&q()}}}),E.ajaxPrefilter(function(D){D.crossDomain&&(D.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(D){return E.globalEval(D),D}}}),E.ajaxPrefilter("script",function(D){D.cache===void 0&&(D.cache=!1),D.crossDomain&&(D.type="GET")}),E.ajaxTransport("script",function(D){if(D.crossDomain||D.scriptAttrs){var q,le;return{send:function(pe,Le){q=E("<script>").attr(D.scriptAttrs||{}).prop({charset:D.scriptCharset,src:D.url}).on("load error",le=function(Re){q.remove(),le=null,Re&&Le(Re.type==="error"?404:200,Re.type)}),_.head.appendChild(q[0])},abort:function(){le&&le()}}}});var Ah=[],ph=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var D=Ah.pop()||E.expando+"_"+Nf.guid++;return this[D]=!0,D}}),E.ajaxPrefilter("json jsonp",function(D,q,le){var pe,Le,Re,Ge=D.jsonp!==!1&&(ph.test(D.url)?"url":typeof D.data=="string"&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ph.test(D.data)&&"data");if(Ge||D.dataTypes[0]==="jsonp")return pe=D.jsonpCallback=g(D.jsonpCallback)?D.jsonpCallback():D.jsonpCallback,Ge?D[Ge]=D[Ge].replace(ph,"$1"+pe):D.jsonp!==!1&&(D.url+=(Xd.test(D.url)?"&":"?")+D.jsonp+"="+pe),D.converters["script json"]=function(){return Re||E.error(pe+" was not called"),Re[0]},D.dataTypes[0]="json",Le=e[pe],e[pe]=function(){Re=arguments},le.always(function(){Le===void 0?E(e).removeProp(pe):e[pe]=Le,D[pe]&&(D.jsonpCallback=q.jsonpCallback,Ah.push(pe)),Re&&g(Le)&&Le(Re[0]),Re=Le=void 0}),"script"}),m.createHTMLDocument=function(){var D=_.implementation.createHTMLDocument("").body;return D.innerHTML="<form></form><form></form>",D.childNodes.length===2}(),E.parseHTML=function(D,q,le){if(typeof D!="string")return[];typeof q=="boolean"&&(le=q,q=!1);var pe,Le,Re;return q||(m.createHTMLDocument?(q=_.implementation.createHTMLDocument(""),pe=q.createElement("base"),pe.href=_.location.href,q.head.appendChild(pe)):q=_),Le=W.exec(D),Re=!le&&[],Le?[q.createElement(Le[1])]:(Le=Ji([D],q,Re),Re&&Re.length&&E(Re).remove(),E.merge([],Le.childNodes))},E.fn.load=function(D,q,le){var pe,Le,Re,Ge=this,Rt=D.indexOf(" ");return Rt>-1&&(pe=qd(D.slice(Rt)),D=D.slice(0,Rt)),g(q)?(le=q,q=void 0):q&&typeof q=="object"&&(Le="POST"),Ge.length>0&&E.ajax({url:D,type:Le||"GET",dataType:"html",data:q}).done(function(bt){Re=arguments,Ge.html(pe?E("<div>").append(E.parseHTML(bt)).find(pe):bt)}).always(le&&function(bt,Xt){Ge.each(function(){le.apply(this,Re||[bt.responseText,Xt,bt])})}),this},E.expr.pseudos.animated=function(D){return E.grep(E.timers,function(q){return D===q.elem}).length},E.offset={setOffset:function(D,q,le){var pe,Le,Re,Ge,Rt,bt,Xt,Sn=E.css(D,"position"),Pn=E(D),yn={};Sn==="static"&&(D.style.position="relative"),Rt=Pn.offset(),Re=E.css(D,"top"),bt=E.css(D,"left"),Xt=(Sn==="absolute"||Sn==="fixed")&&(Re+bt).indexOf("auto")>-1,Xt?(pe=Pn.position(),Ge=pe.top,Le=pe.left):(Ge=parseFloat(Re)||0,Le=parseFloat(bt)||0),g(q)&&(q=q.call(D,le,E.extend({},Rt))),q.top!=null&&(yn.top=q.top-Rt.top+Ge),q.left!=null&&(yn.left=q.left-Rt.left+Le),"using"in q?q.using.call(D,yn):Pn.css(yn)}},E.fn.extend({offset:function(D){if(arguments.length)return D===void 0?this:this.each(function(Le){E.offset.setOffset(this,D,Le)});var q,le,pe=this[0];if(pe)return pe.getClientRects().length?(q=pe.getBoundingClientRect(),le=pe.ownerDocument.defaultView,{top:q.top+le.pageYOffset,left:q.left+le.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var D,q,le,pe=this[0],Le={top:0,left:0};if(E.css(pe,"position")==="fixed")q=pe.getBoundingClientRect();else{for(q=this.offset(),le=pe.ownerDocument,D=pe.offsetParent||le.documentElement;D&&(D===le.body||D===le.documentElement)&&E.css(D,"position")==="static";)D=D.parentNode;D&&D!==pe&&D.nodeType===1&&(Le=E(D).offset(),Le.top+=E.css(D,"borderTopWidth",!0),Le.left+=E.css(D,"borderLeftWidth",!0))}return{top:q.top-Le.top-E.css(pe,"marginTop",!0),left:q.left-Le.left-E.css(pe,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var D=this.offsetParent;D&&E.css(D,"position")==="static";)D=D.offsetParent;return D||ke})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(D,q){var le=q==="pageYOffset";E.fn[D]=function(pe){return ft(this,function(Le,Re,Ge){var Rt;if(y(Le)?Rt=Le:Le.nodeType===9&&(Rt=Le.defaultView),Ge===void 0)return Rt?Rt[q]:Le[Re];Rt?Rt.scrollTo(le?Rt.pageXOffset:Ge,le?Ge:Rt.pageYOffset):Le[Re]=Ge},D,pe,arguments.length)}}),E.each(["top","left"],function(D,q){E.cssHooks[q]=Rr(m.pixelPosition,function(le,pe){if(pe)return pe=xn(le,q),xi.test(pe)?E(le).position()[q]+"px":pe})}),E.each({Height:"height",Width:"width"},function(D,q){E.each({padding:"inner"+D,content:q,"":"outer"+D},function(le,pe){E.fn[pe]=function(Le,Re){var Ge=arguments.length&&(le||typeof Le!="boolean"),Rt=le||(Le===!0||Re===!0?"margin":"border");return ft(this,function(bt,Xt,Sn){var Pn;return y(bt)?pe.indexOf("outer")===0?bt["inner"+D]:bt.document.documentElement["client"+D]:bt.nodeType===9?(Pn=bt.documentElement,Math.max(bt.body["scroll"+D],Pn["scroll"+D],bt.body["offset"+D],Pn["offset"+D],Pn["client"+D])):Sn===void 0?E.css(bt,Xt,Rt):E.style(bt,Xt,Sn,Rt)},q,Ge?Le:void 0,Ge)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(D,q){E.fn[q]=function(le){return this.on(q,le)}}),E.fn.extend({bind:function(D,q,le){return this.on(D,null,q,le)},unbind:function(D,q){return this.off(D,null,q)},delegate:function(D,q,le,pe){return this.on(q,D,le,pe)},undelegate:function(D,q,le){return arguments.length===1?this.off(D,"**"):this.off(q,D||"**",le)},hover:function(D,q){return this.on("mouseenter",D).on("mouseleave",q||D)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(D,q){E.fn[q]=function(le,pe){return arguments.length>0?this.on(q,null,le,pe):this.trigger(q)}});var Qy=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(D,q){var le,pe,Le;if(typeof q=="string"&&(le=D[q],q=D,D=le),!!g(D))return pe=s.call(arguments,2),Le=function(){return D.apply(q||this,pe.concat(s.call(arguments)))},Le.guid=D.guid=D.guid||E.guid++,Le},E.holdReady=function(D){D?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=I,E.isFunction=g,E.isWindow=y,E.camelCase=Te,E.type=C,E.now=Date.now,E.isNumeric=function(D){var q=E.type(D);return(q==="number"||q==="string")&&!isNaN(D-parseFloat(D))},E.trim=function(D){return D==null?"":(D+"").replace(Qy,"$1")};var Vf=e.jQuery,gh=e.$;return E.noConflict=function(D){return e.$===E&&(e.$=gh),D&&e.jQuery===E&&(e.jQuery=Vf),E},typeof n>"u"&&(e.jQuery=e.$=E),E})}(PP)),PP.exports}var PCe=ICe();const FCe=Pf(PCe),OCe=BCe(gr);gr.Math.angle2=function(t,e){var n=new gr.Vector2(t.x,t.y),r=new gr.Vector2(e.x,e.y);return r.sub(n),r.normalize(),r.y<0?-Math.acos(r.x):Math.acos(r.x)};gr.Math.polar=function(t,e,n){var r={};return r.x=t.x+e*Math.cos(n),r.y=t.y+e*Math.sin(n),r};gr.BulgeGeometry=function(t,e,n,r){var i,s,a,o,l,u,h,d,f;for(gr.Geometry.call(this),this.startPoint=o=t?new gr.Vector2(t.x,t.y):new gr.Vector2(0,0),this.endPoint=l=e?new gr.Vector2(e.x,e.y):new gr.Vector2(1,0),this.bulge=n=n||1,u=4*Math.atan(n),h=o.distanceTo(l)/2/Math.sin(u/2),a=gr.Math.polar(t,h,gr.Math.angle2(o,l)+(Math.PI/2-u/2)),this.segments=r=r||Math.max(Math.abs(Math.ceil(u/(Math.PI/18))),6),d=gr.Math.angle2(a,o),f=u/r,this.vertices.push(new gr.Vector3(o.x,o.y,0)),s=1;s<=r-1;s++)i=gr.Math.polar(a,Math.abs(h),d+f*s),this.vertices.push(new gr.Vector3(i.x,i.y,0))};gr.BulgeGeometry.prototype=Object.create(gr.Geometry.prototype);function NCe(t,e,n,r,i){var s=FCe(e),a,o=new gr.FontLoader;o.load("../fonts/zhongsong_regular.typeface.json",function(l){a=l,WCe(t);var u=new gr.Scene,h={},d={};new gr.Group;var f,A,m,g={min:{x:!1,y:!1,z:!1},max:{x:!1,y:!1,z:!1}};for(f=0;f<t.entities.length;f++){if(A=t.entities[f],A.type==="DIMENSION")if(A.block){var y=t.blocks[A.block];if(!y)continue;for(var _=0;_<6;_++){if(m=E8(y.entities[_],t,a,u),m){var x=new gr.Box3().setFromObject(m);x.min.x&&(g.min.x===!1||g.min.x>x.min.x)&&(g.min.x=x.min.x),x.min.y&&(g.min.y===!1||g.min.y>x.min.y)&&(g.min.y=x.min.y),x.min.z&&(g.min.z===!1||g.min.z>x.min.z)&&(g.min.z=x.min.z),x.max.x&&(g.max.x===!1||g.max.x<x.max.x)&&(g.max.x=x.max.x),x.max.y&&(g.max.y===!1||g.max.y<x.max.y)&&(g.max.y=x.max.y),x.max.z&&(g.max.z===!1||g.max.z<x.max.z)&&(g.max.z=x.max.z),wK(m,d,h,u)}m=void 0}}else console.log("WARNING: No block for DIMENSION entity");else m=E8(A,t,a,u);if(m){var x=new gr.Box3().setFromObject(m);x.min.x&&(g.min.x===!1||g.min.x>x.min.x)&&(g.min.x=x.min.x),x.min.y&&(g.min.y===!1||g.min.y>x.min.y)&&(g.min.y=x.min.y),x.min.z&&(g.min.z===!1||g.min.z>x.min.z)&&(g.min.z=x.min.z),x.max.x&&(g.max.x===!1||g.max.x<x.max.x)&&(g.max.x=x.max.x),x.max.y&&(g.max.y===!1||g.max.y<x.max.y)&&(g.max.y=x.max.y),x.max.z&&(g.max.z===!1||g.max.z<x.max.z)&&(g.max.z=x.max.z),wK(m,d,h,u)}m=null}var S=new gr.LineBasicMaterial({vertexColors:gr.VertexColors}),C=new gr.LineDashedMaterial({vertexColors:gr.VertexColors,dashSize:3,gapSize:1,linewidth:2});for(var M in h){h[M];var B,E=new gr.BufferGeometry;M=="Dashed"?(E.setIndex(h[M].indices),E.addAttribute("position",new gr.Float32BufferAttribute(h[M].points,3)),E.addAttribute("color",new gr.Float32BufferAttribute(h[M].colors,3)),E.computeBoundingBox(),B=new gr.LineSegments(E,C),B.computeLineDistances()):(E.setIndex(h[M].indices),E.addAttribute("position",new gr.Float32BufferAttribute(h[M].points,3)),E.addAttribute("color",new gr.Float32BufferAttribute(h[M].colors,3)),B=new gr.LineSegments(E,S)),B.userData={layer:M},u.add(B)}n=n||s.innerWidth(),r=r||s.innerHeight();var L=n/r,I={x:g.max.x,y:g.max.y},k={x:g.min.x,y:g.min.y},O=I.x-k.x,F=I.y-k.y,U=U||{x:O/2+k.x,y:F/2+k.y},$=Math.abs(O/F);L>$?O=F*L:F=O/L;var K={bottom:-F/2,left:-O/2,top:F/2,right:O/2,center:{x:U.x,y:U.y}},V=new gr.OrthographicCamera(K.left,K.right,K.top,K.bottom,1,19);V.position.z=10,V.position.x=K.center.x,V.position.y=K.center.y;var Q=new gr.WebGLRenderer({antialias:!0,devicePixelRatio:X}),X=window.devicePixelRatio||1;Q.setSize(n,r),Q.setClearColor(268435455,1),s.append(Q.domElement),s.show(),i();var z=new OCe(V,e);z.target.x=V.position.x,z.target.y=V.position.y,z.target.z=0,z.zoomSpeed=3,z.addEventListener("change",()=>{Q.render(u,V)}),Q.render(u,V),z.update(),s.on("click",oe=>{oe.preventDefault();var fe=new gr.Vector2;fe.x=oe.clientX/n*2-1,fe.y=-(oe.clientY/r)*2+1;var me=new gr.Raycaster;me.setFromCamera(fe,V);var ce=me.intersectObjects(u.children,!0);if(console.log(ce),console.log(u.children),ce.length>0){var be=ce[0].object;u.traverse(function(xe){xe.userData.originalColor&&(xe.material.color.set(xe.userData.originalColor),delete xe.userData.originalColor)}),be.userData.originalColor=be.material.color.getHex(),be.material.color.set(16711680)}});var ne=Q.domElement.width,he=Q.domElement.height,W=n/ne,Y=r/he;return V.top=Y*V.top,V.bottom=Y*V.bottom,V.left=W*V.left,V.right=W*V.right,Q.setSize(n,r),Q.setClearColor(268435455,1),Q.render(u,V),!1})}function E8(t,e,n,r){var i;return t.type==="CIRCLE"||t.type==="ARC"?i=GCe(t,e):t.type==="LWPOLYLINE"||t.type==="LINE"||t.type==="POLYLINE"?i=HCe(t,e,r):t.type==="TEXT"?i=zCe(t,e,n):t.type==="SOLID"?i=VCe(t,e):t.type==="POINT"?i=$Ce(t,e,r):t.type==="INSERT"?i=QCe(t,e,r):t.type==="SPLINE"?i=UCe(t,e):t.type==="MTEXT"?(i=kCe(t,e,n),i.userData.text=t.text):t.type==="ELLIPSE"?i=DCe(t,e):console.log("Unsupported Entity Type: "+t.type),i&&(i.userData.layer=t.layer,i.userData.type=t.type,t.color&&(i.userData.color=t.color)),i}function DCe(t,e){var n=Iy(t,e),r=Math.sqrt(Math.pow(t.majorAxisEndPoint.x,2)+Math.pow(t.majorAxisEndPoint.y,2)),i=r*t.axisRatio,s=Math.atan2(t.majorAxisEndPoint.y,t.majorAxisEndPoint.x),a=new gr.EllipseCurve(t.center.x,t.center.y,r,i,t.startAngle,t.endAngle,!1,s),o=a.getPoints(50),l=new gr.BufferGeometry().setFromPoints(o),u=new gr.LineBasicMaterial({linewidth:1,color:n}),h=new gr.Line(l,u);return h}function kCe(t,e,n){var r=Iy(t,e),i=t.text.split("{").map(function(d){var f=d.split(";");return f[f.length-1].replace("}","")}).join(" ");i||(i=t.text);var s=0;t.rotate?s=t.rotate:t.tan&&(s=Math.atan(t.atan/t.tan));var a=new gr.TextBufferGeometry(i,{font:n,size:t.height*(4/5),curveSegments:1,height:1}),o=new gr.MeshBasicMaterial({color:r}),l=new gr.Mesh(a,o),u=new gr.Box3;u.setFromObject(l);var h=u.max.x-u.min.x;switch(h>t.width&&(l.position.x=t.position.x,l.position.y=t.position.y),l.position.z=0,l.rotation.z=s,t.attachmentPoint){case 1:l.position.x=t.position.x,l.position.y=t.position.y-t.height;break;case 2:l.position.x=t.position.x-h/2,l.position.y=t.position.y-t.height;break;case 3:l.position.x=t.position.x-h,l.position.y=t.position.y-t.height;break;case 4:l.position.x=t.position.x,l.position.y=t.position.y-t.height/2;break;case 5:l.position.x=t.position.x-h/2,l.position.y=t.position.y-t.height/2;break;case 6:l.position.x=t.position.x-h,l.position.y=t.position.y-t.height/2;break;case 7:l.position.x=t.position.x,l.position.y=t.position.y;break;case 8:l.position.x=t.position.x-h/2,l.position.y=t.position.y;break;case 9:l.position.x=t.position.x-h,l.position.y=t.position.y;break;default:return}return l}function UCe(t,e){var n=Iy(t,e),r=t.controlPoints.map(function(u){return new gr.Vector2(u.x,u.y)}),i=[];if(t.degreeOfSplineCurve===2||t.degreeOfSplineCurve===3)for(var s=0;s+2<r.length;s=s+2)t.degreeOfSplineCurve===2?curve=new gr.QuadraticBezierCurve(r[s],r[s+1],r[s+2]):curve=new gr.QuadraticBezierCurve3(r[s],r[s+1],r[s+2]),i.push.apply(i,curve.getPoints(50));else curve=new gr.SplineCurve(r),i=curve.getPoints(100);var a=new gr.BufferGeometry().setFromPoints(i),o=new gr.LineBasicMaterial({linewidth:1,color:n}),l=new gr.Line(a,o);return l}function HCe(t,e,n){var r=new gr.Geometry,i=Iy(t,e),s,a,o,l,u,h,d,f,A;for(f=0;f<t.vertices.length;f++)t.vertices[f].bulge?(d=t.vertices[f].bulge,l=t.vertices[f],u=f+1<t.vertices.length?t.vertices[f+1]:r.vertices[0],h=new gr.BulgeGeometry(l,u,d),r.vertices.push.apply(r.vertices,h.vertices)):(o=t.vertices[f],r.vertices.push(new gr.Vector3(o.x,o.y,0)));return t.shape&&r.vertices.push(r.vertices[0]),t.lineType&&(a=e.tables.lineType.lineTypes[t.lineType]),a&&a.pattern&&a.pattern.length!==0?s=new gr.LineDashedMaterial({color:i,gapSize:1,dashSize:2}):s=new gr.LineBasicMaterial({linewidth:1,color:i}),A=new gr.Line(r,s),n.add(A),A}function GCe(t,e){var n,r;t.type==="CIRCLE"?(r=t.startAngle||0,n=r+2*Math.PI):(r=t.startAngle,n=t.endAngle);var i=new gr.ArcCurve(0,0,t.radius,r,n),s=i.getPoints(15),a=new gr.BufferGeometry().setFromPoints(s),o=new gr.LineBasicMaterial({color:Iy(t,e)}),l=new gr.Line(a,o);return l.position.x=t.center.x,l.position.y=t.center.y,l.position.z=t.center.z,l}function VCe(t,e){var n,r,i=new gr.Geometry;r=i.vertices,r.push(new gr.Vector3(t.points[0].x,t.points[0].y,t.points[0].z)),r.push(new gr.Vector3(t.points[1].x,t.points[1].y,t.points[1].z)),r.push(new gr.Vector3(t.points[2].x,t.points[2].y,t.points[2].z)),r.push(new gr.Vector3(t.points[3].x,t.points[3].y,t.points[3].z));var s=new gr.Vector3,a=new gr.Vector3;return s.subVectors(r[1],r[0]),a.subVectors(r[2],r[0]),s.cross(a),s.z<0?(i.faces.push(new gr.Face3(2,1,0)),i.faces.push(new gr.Face3(2,3,1))):(i.faces.push(new gr.Face3(0,1,2)),i.faces.push(new gr.Face3(1,3,2))),n=new gr.MeshBasicMaterial({color:Iy(t,e)}),new gr.Mesh(i,n)}function zCe(t,e,n){var r,i;if(!n)return console.warn("Text is not supported without a Three.js font loaded with THREE.FontLoader! Load a font of your choice and pass this into the constructor. See the sample for this repository or Three.js examples at http://threejs.org/examples/?q=text#webgl_geometry_text for more details.");var s=new gr.TextGeometry(t.text,{font:n,height:0,curveSegments:1,size:t.textHeight||12});return r=new gr.MeshBasicMaterial({color:Iy(t,e)}),i=new gr.Mesh(s,r),i.position.x=t.startPoint.x,i.position.y=t.startPoint.y,i.position.z=t.startPoint.z,i}function $Ce(t,e,n){var r,i,s;r=new gr.Geometry,r.vertices.push(new gr.Vector3(t.position.x,t.position.y,t.position.z));var a=1,o=Iy(t,e),l=new Float32Array(a*3);l[0]=o.r,l[1]=o.g,l[2]=o.b,r.colors=l,r.computeBoundingBox(),i=new gr.PointsMaterial({size:.05,vertexColors:gr.VertexColors}),s=new gr.Points(r,i),n.add(s)}function QCe(t,e,n){var r=e.blocks[t.name];if(!r.entities)return null;var i=new gr.Object3D;t.xScale&&(i.scale.x=t.xScale),t.yScale&&(i.scale.y=t.yScale),t.rotation&&(i.rotation.z=t.rotation*Math.PI/180),t.position&&(i.position.x=t.position.x,i.position.y=t.position.y,i.position.z=t.position.z);for(var s=0;s<r.entities.length;s++){var a=E8(r.entities[s],e,i,n);a&&i.add(a)}return i}function Iy(t,e){var n=0;return t.color?n=t.color:e.tables&&e.tables.layer&&e.tables.layer.layers[t.layer]&&(n=e.tables.layer.layers[t.layer].color),(n==null||n===16777215)&&(n=0),n}function WCe(t){var e,n;if(!(!t.tables||!t.tables.lineType)){var r=t.tables.lineType.lineTypes;for(n in r)e=r[n],e.pattern&&(e.material=jCe(e.pattern))}}function jCe(t){var e,n={},r=0;for(e=0;e<t.length;e++)r+=Math.abs(t[e]);return n.uniforms=gr.UniformsUtils.merge([gr.UniformsLib.common,gr.UniformsLib.fog,{pattern:{type:"fv1",value:t},patternLength:{type:"f",value:r}}]),n.vertexShader=["attribute float lineDistance;","varying float vLineDistance;",gr.ShaderChunk.color_pars_vertex,"void main() {",gr.ShaderChunk.color_vertex,"vLineDistance = lineDistance;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),n.fragmentShader=["uniform vec3 diffuse;","uniform float opacity;","uniform float pattern["+t.length+"];","uniform float patternLength;","varying float vLineDistance;",gr.ShaderChunk.color_pars_fragment,gr.ShaderChunk.fog_pars_fragment,"void main() {","float pos = mod(vLineDistance, patternLength);","for ( int i = 0; i < "+t.length+"; i++ ) {","pos = pos - abs(pattern[i]);","if( pos < 0.0 ) {","if( pattern[i] > 0.0 ) {","gl_FragColor = vec4(1.0, 0.0, 0.0, opacity );","break;","}","discard;","}","}",gr.ShaderChunk.color_fragment,gr.ShaderChunk.fog_fragment,"}"].join("\n"),n}function wK(t,e,n,r){switch(e[t.userData.type]||(e[t.userData.type]=0),e[t.userData.type]++,t.userData.type){case"LINE":case"LWPOLYLINE":case"POLYLINE":t.userData.lineType&&t.userData.lineType.pattern&&t.userData.lineType.pattern.length!==0||(n[t.userData.layer]||(n[t.userData.layer]={points:[],colors:[],indices:[]}),t.geometry.vertices.map(function(i,s){s==0||s==t.geometry.vertices.length-1?n[t.userData.layer].indices.push(n[t.userData.layer].points.length/3):n[t.userData.layer].indices.push(n[t.userData.layer].points.length/3,n[t.userData.layer].points.length/3),n[t.userData.layer].points.push(i.x,i.y,i.z),n[t.userData.layer].colors.push(t.material.color.r,t.material.color.g,t.material.color.b)}));break;case"MTEXT":case"TEXT":case"CIRCLE":case"SOLID":case"ARC":r.add(t);break}}const Ff=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},KCe={name:"ThreeDXF",data(){return{dxfLoading:!1}},methods:{onFileSelected(t){let e=this;var n=t.target.files[0],r=new FileReader;r.onprogress=e.updateProgress,r.onloadend=e.onSuccess,r.onabort=e.abortUpload,r.onerror=e.errorHandler,r.readAsText(n)},errorHandler(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case t.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case t.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}},onSuccess(t){this.dxfLoading=!0;var e=t.target;if(e.error)return console.log("error onloadend!?");var n=new MCe,r=n.parseSync(e.result);let i=document.getElementById("dxf-content");r?i.innerHTML=JSON.stringify(r,null,2):i.innerHTML="No data.",document.getElementById("dxf-view").innerHTML="";let s=this.$refs.dxfView.offsetWidth,a=this.$refs.dxfView.offsetHeight;NCe(r,document.getElementById("dxf-view"),s,a,this.LoadingClose)},LoadingClose(){this.dxfLoading=!1},handleDragOver(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}}},qCe={class:"container"},XCe={role:"form"},YCe={class:"form-group"},ZCe={id:"dxf-view",ref:"dxfView",class:"dxfView"};function JCe(t,e,n,r,i,s){return ie(),Ee("div",qCe,[Be("div",XCe,[e[4]||(e[4]=Be("p",null,"ThreeDXF",-1)),Be("div",YCe,[e[1]||(e[1]=Be("label",{for:"exampleInputFile"},"DXF",-1)),Be("input",{type:"file",accept:".dxf",id:"dxf",name:"file",onChange:e[0]||(e[0]=(...a)=>s.onFileSelected&&s.onFileSelected(...a))},null,32),e[2]||(e[2]=Be("div",{class:"progress progress-striped",style:{width:"300px"}},[Be("div",{id:"file-progress-bar",class:"progress-bar progress-bar-success",role:"progressbar",style:{width:"0"}})],-1)),e[3]||(e[3]=Be("div",{id:"file-description",class:"help-block"},null,-1))]),e[5]||(e[5]=Be("p",null,"",-1)),Be("div",ZCe,null,512)]),e[6]||(e[6]=Be("div",{id:"dxf-content-container"},[Be("pre",{id:"dxf-content"},"            ")],-1))])}const e2e=Ff(KCe,[["render",JCe],["__scopeId","data-v-8e165918"]]),t2e={mounted(){},components:{FabricCanvas:e2e,InfoFilled:qN,Message:Jxe,List:Xxe,House:roe},setup(){eCe().push("/mainview");const e=ge(0),n=ge({height:10,area:0,levels:0});return{buildingData:n,active:e,handleCalculate:i=>{n.value={area:i.siteArea,levels:Math.floor(i.siteArea/10)}}}}},n2e={class:"app"},r2e={class:"navbar"},i2e={class:"navbar-content"},s2e={class:"logo"};function a2e(t,e,n,r,i,s){const a=Nn("House"),o=Nn("el-icon"),l=Nn("el-header"),u=Nn("router-view"),h=Nn("el-row"),d=Nn("el-main"),f=Nn("el-container");return ie(),Ee("div",n2e,[Ce(f,null,{default:De(()=>[Ce(l,{style:{height:"100%"}},{default:De(()=>[Be("div",null,[Be("nav",r2e,[Be("div",i2e,[Be("div",s2e,[Ce(o,{class:"logo-icon"},{default:De(()=>[Ce(a)]),_:1}),e[0]||(e[0]=Mr(" Architectural Planning Platform "))])])])])]),_:1}),Ce(d,{style:{height:"100%"}},{default:De(()=>[Ce(h,null,{default:De(()=>[Ce(u)]),_:1})]),_:1})]),_:1})])}const o2e=Ff(t2e,[["render",a2e]]),l2e="2.9.4",bK=Symbol("INSTALLED_KEY"),xoe=Symbol(),CT="el",c2e="is-",L_=(t,e,n,r,i)=>{let s="".concat(t,"-").concat(e);return n&&(s+="-".concat(n)),r&&(s+="__".concat(r)),i&&(s+="--".concat(i)),s},Eoe=Symbol("namespaceContextKey"),Pz=t=>{const e=t||(ni()?qt(Eoe,ge(CT)):ge(CT));return J(()=>b(e)||CT)},Jt=(t,e)=>{const n=Pz(e);return{namespace:n,b:(g="")=>L_(n.value,t,g,"",""),e:g=>g?L_(n.value,t,"",g,""):"",m:g=>g?L_(n.value,t,"","",g):"",be:(g,y)=>g&&y?L_(n.value,t,g,y,""):"",em:(g,y)=>g&&y?L_(n.value,t,"",g,y):"",bm:(g,y)=>g&&y?L_(n.value,t,g,"",y):"",bem:(g,y,_)=>g&&y&&_?L_(n.value,t,g,y,_):"",is:(g,...y)=>{const _=y.length>=1?y[0]:!0;return g&&_?"".concat(c2e).concat(g):""},cssVar:g=>{const y={};for(const _ in g)g[_]&&(y["--".concat(n.value,"-").concat(_)]=g[_]);return y},cssVarName:g=>"--".concat(n.value,"-").concat(g),cssVarBlock:g=>{const y={};for(const _ in g)g[_]&&(y["--".concat(n.value,"-").concat(t,"-").concat(_)]=g[_]);return y},cssVarBlockName:g=>"--".concat(n.value,"-").concat(t,"-").concat(g)}};var Soe=typeof global=="object"&&global&&global.Object===Object&&global,u2e=typeof self=="object"&&self&&self.Object===Object&&self,Rp=Soe||u2e||Function("return this")(),yA=Rp.Symbol,Coe=Object.prototype,h2e=Coe.hasOwnProperty,d2e=Coe.toString,o2=yA?yA.toStringTag:void 0;function f2e(t){var e=h2e.call(t,o2),n=t[o2];try{t[o2]=void 0;var r=!0}catch(s){}var i=d2e.call(t);return r&&(e?t[o2]=n:delete t[o2]),i}var A2e=Object.prototype,p2e=A2e.toString;function g2e(t){return p2e.call(t)}var m2e="[object Null]",v2e="[object Undefined]",xK=yA?yA.toStringTag:void 0;function hw(t){return t==null?t===void 0?v2e:m2e:xK&&xK in Object(t)?f2e(t):g2e(t)}function om(t){return t!=null&&typeof t=="object"}var y2e="[object Symbol]";function JN(t){return typeof t=="symbol"||om(t)&&hw(t)==y2e}function Fz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Qh=Array.isArray,EK=yA?yA.prototype:void 0,SK=EK?EK.toString:void 0;function Toe(t){if(typeof t=="string")return t;if(Qh(t))return Fz(t,Toe)+"";if(JN(t))return SK?SK.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _2e=/\s/;function w2e(t){for(var e=t.length;e--&&_2e.test(t.charAt(e)););return e}var b2e=/^\s+/;function x2e(t){return t&&t.slice(0,w2e(t)+1).replace(b2e,"")}function Wh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var CK=NaN,E2e=/^[-+]0x[0-9a-f]+$/i,S2e=/^0b[01]+$/i,C2e=/^0o[0-7]+$/i,T2e=parseInt;function TK(t){if(typeof t=="number")return t;if(JN(t))return CK;if(Wh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=x2e(t);var n=S2e.test(t);return n||C2e.test(t)?T2e(t.slice(2),n?2:8):E2e.test(t)?CK:+t}function Oz(t){return t}var M2e="[object AsyncFunction]",L2e="[object Function]",B2e="[object GeneratorFunction]",R2e="[object Proxy]";function Nz(t){if(!Wh(t))return!1;var e=hw(t);return e==L2e||e==B2e||e==M2e||e==R2e}var _U=Rp["__core-js_shared__"],MK=function(){var t=/[^.]+$/.exec(_U&&_U.keys&&_U.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function I2e(t){return!!MK&&MK in t}var P2e=Function.prototype,F2e=P2e.toString;function dw(t){if(t!=null){try{return F2e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var O2e=/[\\^$.*+?()[\]{}|]/g,N2e=/^\[object .+?Constructor\]$/,D2e=Function.prototype,k2e=Object.prototype,U2e=D2e.toString,H2e=k2e.hasOwnProperty,G2e=RegExp("^"+U2e.call(H2e).replace(O2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V2e(t){if(!Wh(t)||I2e(t))return!1;var e=Nz(t)?G2e:N2e;return e.test(dw(t))}function z2e(t,e){return t==null?void 0:t[e]}function fw(t,e){var n=z2e(t,e);return V2e(n)?n:void 0}var S8=fw(Rp,"WeakMap"),LK=Object.create,$2e=function(){function t(){}return function(e){if(!Wh(e))return{};if(LK)return LK(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Q2e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function W2e(){}function Moe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var j2e=800,K2e=16,q2e=Date.now;function X2e(t){var e=0,n=0;return function(){var r=q2e(),i=K2e-(r-n);if(n=r,i>0){if(++e>=j2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Y2e(t){return function(){return t}}var qF=function(){try{var t=fw(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Z2e=qF?function(t,e){return qF(t,"toString",{configurable:!0,enumerable:!1,value:Y2e(e),writable:!0})}:Oz,Loe=X2e(Z2e);function J2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Boe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function eTe(t){return t!==t}function tTe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function nTe(t,e,n){return e===e?tTe(t,e,n):Boe(t,eTe,n)}function rTe(t,e){var n=t==null?0:t.length;return!!n&&nTe(t,e,0)>-1}var iTe=9007199254740991,sTe=/^(?:0|[1-9]\d*)$/;function e5(t,e){var n=typeof t;return e=e==null?iTe:e,!!e&&(n=="number"||n!="symbol"&&sTe.test(t))&&t>-1&&t%1==0&&t<e}function Dz(t,e,n){e=="__proto__"&&qF?qF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function pL(t,e){return t===e||t!==t&&e!==e}var aTe=Object.prototype,oTe=aTe.hasOwnProperty;function kz(t,e,n){var r=t[e];(!(oTe.call(t,e)&&pL(r,n))||n===void 0&&!(e in t))&&Dz(t,e,n)}function NS(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?Dz(n,o,l):kz(n,o,l)}return n}var BK=Math.max;function Roe(t,e,n){return e=BK(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=BK(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),Q2e(t,this,o)}}function Ioe(t,e){return Loe(Roe(t,e,Oz),t+"")}var lTe=9007199254740991;function Uz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lTe}function DS(t){return t!=null&&Uz(t.length)&&!Nz(t)}function cTe(t,e,n){if(!Wh(n))return!1;var r=typeof e;return(r=="number"?DS(n)&&e5(e,n.length):r=="string"&&e in n)?pL(n[e],t):!1}function uTe(t){return Ioe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&cTe(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var hTe=Object.prototype;function Hz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hTe;return t===n}function dTe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fTe="[object Arguments]";function RK(t){return om(t)&&hw(t)==fTe}var Poe=Object.prototype,ATe=Poe.hasOwnProperty,pTe=Poe.propertyIsEnumerable,fM=RK(function(){return arguments}())?RK:function(t){return om(t)&&ATe.call(t,"callee")&&!pTe.call(t,"callee")};function gTe(){return!1}var Foe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IK=Foe&&typeof module=="object"&&module&&!module.nodeType&&module,mTe=IK&&IK.exports===Foe,PK=mTe?Rp.Buffer:void 0,vTe=PK?PK.isBuffer:void 0,AM=vTe||gTe,yTe="[object Arguments]",_Te="[object Array]",wTe="[object Boolean]",bTe="[object Date]",xTe="[object Error]",ETe="[object Function]",STe="[object Map]",CTe="[object Number]",TTe="[object Object]",MTe="[object RegExp]",LTe="[object Set]",BTe="[object String]",RTe="[object WeakMap]",ITe="[object ArrayBuffer]",PTe="[object DataView]",FTe="[object Float32Array]",OTe="[object Float64Array]",NTe="[object Int8Array]",DTe="[object Int16Array]",kTe="[object Int32Array]",UTe="[object Uint8Array]",HTe="[object Uint8ClampedArray]",GTe="[object Uint16Array]",VTe="[object Uint32Array]",ko={};ko[FTe]=ko[OTe]=ko[NTe]=ko[DTe]=ko[kTe]=ko[UTe]=ko[HTe]=ko[GTe]=ko[VTe]=!0;ko[yTe]=ko[_Te]=ko[ITe]=ko[wTe]=ko[PTe]=ko[bTe]=ko[xTe]=ko[ETe]=ko[STe]=ko[CTe]=ko[TTe]=ko[MTe]=ko[LTe]=ko[BTe]=ko[RTe]=!1;function zTe(t){return om(t)&&Uz(t.length)&&!!ko[hw(t)]}function Gz(t){return function(e){return t(e)}}var Ooe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,TT=Ooe&&typeof module=="object"&&module&&!module.nodeType&&module,$Te=TT&&TT.exports===Ooe,wU=$Te&&Soe.process,WE=function(){try{var t=TT&&TT.require&&TT.require("util").types;return t||wU&&wU.binding&&wU.binding("util")}catch(e){}}(),FK=WE&&WE.isTypedArray,Vz=FK?Gz(FK):zTe,QTe=Object.prototype,WTe=QTe.hasOwnProperty;function Noe(t,e){var n=Qh(t),r=!n&&fM(t),i=!n&&!r&&AM(t),s=!n&&!r&&!i&&Vz(t),a=n||r||i||s,o=a?dTe(t.length,String):[],l=o.length;for(var u in t)(e||WTe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||e5(u,l)))&&o.push(u);return o}function Doe(t,e){return function(n){return t(e(n))}}var jTe=Doe(Object.keys,Object),KTe=Object.prototype,qTe=KTe.hasOwnProperty;function XTe(t){if(!Hz(t))return jTe(t);var e=[];for(var n in Object(t))qTe.call(t,n)&&n!="constructor"&&e.push(n);return e}function gL(t){return DS(t)?Noe(t):XTe(t)}function YTe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ZTe=Object.prototype,JTe=ZTe.hasOwnProperty;function eMe(t){if(!Wh(t))return YTe(t);var e=Hz(t),n=[];for(var r in t)r=="constructor"&&(e||!JTe.call(t,r))||n.push(r);return n}function mL(t){return DS(t)?Noe(t,!0):eMe(t)}var tMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nMe=/^\w*$/;function zz(t,e){if(Qh(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||JN(t)?!0:nMe.test(t)||!tMe.test(t)||e!=null&&t in Object(e)}var pM=fw(Object,"create");function rMe(){this.__data__=pM?pM(null):{},this.size=0}function iMe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sMe="__lodash_hash_undefined__",aMe=Object.prototype,oMe=aMe.hasOwnProperty;function lMe(t){var e=this.__data__;if(pM){var n=e[t];return n===sMe?void 0:n}return oMe.call(e,t)?e[t]:void 0}var cMe=Object.prototype,uMe=cMe.hasOwnProperty;function hMe(t){var e=this.__data__;return pM?e[t]!==void 0:uMe.call(e,t)}var dMe="__lodash_hash_undefined__";function fMe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pM&&e===void 0?dMe:e,this}function z1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}z1.prototype.clear=rMe;z1.prototype.delete=iMe;z1.prototype.get=lMe;z1.prototype.has=hMe;z1.prototype.set=fMe;function AMe(){this.__data__=[],this.size=0}function t5(t,e){for(var n=t.length;n--;)if(pL(t[n][0],e))return n;return-1}var pMe=Array.prototype,gMe=pMe.splice;function mMe(t){var e=this.__data__,n=t5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():gMe.call(e,n,1),--this.size,!0}function vMe(t){var e=this.__data__,n=t5(e,t);return n<0?void 0:e[n][1]}function yMe(t){return t5(this.__data__,t)>-1}function _Me(t,e){var n=this.__data__,r=t5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Gv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gv.prototype.clear=AMe;Gv.prototype.delete=mMe;Gv.prototype.get=vMe;Gv.prototype.has=yMe;Gv.prototype.set=_Me;var gM=fw(Rp,"Map");function wMe(){this.size=0,this.__data__={hash:new z1,map:new(gM||Gv),string:new z1}}function bMe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function n5(t,e){var n=t.__data__;return bMe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function xMe(t){var e=n5(this,t).delete(t);return this.size-=e?1:0,e}function EMe(t){return n5(this,t).get(t)}function SMe(t){return n5(this,t).has(t)}function CMe(t,e){var n=n5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Vv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vv.prototype.clear=wMe;Vv.prototype.delete=xMe;Vv.prototype.get=EMe;Vv.prototype.has=SMe;Vv.prototype.set=CMe;var TMe="Expected a function";function r5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(TMe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(r5.Cache||Vv),n}r5.Cache=Vv;var MMe=500;function LMe(t){var e=r5(t,function(r){return n.size===MMe&&n.clear(),r}),n=e.cache;return e}var BMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RMe=/\\(\\)?/g,IMe=LMe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BMe,function(n,r,i,s){e.push(i?s.replace(RMe,"$1"):r||n)}),e});function PMe(t){return t==null?"":Toe(t)}function kS(t,e){return Qh(t)?t:zz(t,e)?[t]:IMe(PMe(t))}function US(t){if(typeof t=="string"||JN(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function i5(t,e){e=kS(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[US(e[n++])];return n&&n==r?t:void 0}function qo(t,e,n){var r=t==null?void 0:i5(t,e);return r===void 0?n:r}function $z(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var OK=yA?yA.isConcatSpreadable:void 0;function FMe(t){return Qh(t)||fM(t)||!!(OK&&t&&t[OK])}function vL(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=FMe),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?vL(o,e-1,n,r,i):$z(i,o):r||(i[i.length]=o)}return i}function koe(t){var e=t==null?0:t.length;return e?vL(t,1):[]}function Uoe(t){return Loe(Roe(t,void 0,koe),t+"")}var Qz=Doe(Object.getPrototypeOf,Object),OMe="[object Object]",NMe=Function.prototype,DMe=Object.prototype,Hoe=NMe.toString,kMe=DMe.hasOwnProperty,UMe=Hoe.call(Object);function Goe(t){if(!om(t)||hw(t)!=OMe)return!1;var e=Qz(t);if(e===null)return!0;var n=kMe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Hoe.call(n)==UMe}function HMe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function eh(){if(!arguments.length)return[];var t=arguments[0];return Qh(t)?t:[t]}function GMe(){this.__data__=new Gv,this.size=0}function VMe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function zMe(t){return this.__data__.get(t)}function $Me(t){return this.__data__.has(t)}var QMe=200;function WMe(t,e){var n=this.__data__;if(n instanceof Gv){var r=n.__data__;if(!gM||r.length<QMe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vv(r)}return n.set(t,e),this.size=n.size,this}function pp(t){var e=this.__data__=new Gv(t);this.size=e.size}pp.prototype.clear=GMe;pp.prototype.delete=VMe;pp.prototype.get=zMe;pp.prototype.has=$Me;pp.prototype.set=WMe;function jMe(t,e){return t&&NS(e,gL(e),t)}function KMe(t,e){return t&&NS(e,mL(e),t)}var Voe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NK=Voe&&typeof module=="object"&&module&&!module.nodeType&&module,qMe=NK&&NK.exports===Voe,DK=qMe?Rp.Buffer:void 0,kK=DK?DK.allocUnsafe:void 0;function zoe(t,e){if(e)return t.slice();var n=t.length,r=kK?kK(n):new t.constructor(n);return t.copy(r),r}function XMe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function $oe(){return[]}var YMe=Object.prototype,ZMe=YMe.propertyIsEnumerable,UK=Object.getOwnPropertySymbols,Wz=UK?function(t){return t==null?[]:(t=Object(t),XMe(UK(t),function(e){return ZMe.call(t,e)}))}:$oe;function JMe(t,e){return NS(t,Wz(t),e)}var eLe=Object.getOwnPropertySymbols,Qoe=eLe?function(t){for(var e=[];t;)$z(e,Wz(t)),t=Qz(t);return e}:$oe;function tLe(t,e){return NS(t,Qoe(t),e)}function Woe(t,e,n){var r=e(t);return Qh(t)?r:$z(r,n(t))}function C8(t){return Woe(t,gL,Wz)}function joe(t){return Woe(t,mL,Qoe)}var T8=fw(Rp,"DataView"),M8=fw(Rp,"Promise"),gE=fw(Rp,"Set"),HK="[object Map]",nLe="[object Object]",GK="[object Promise]",VK="[object Set]",zK="[object WeakMap]",$K="[object DataView]",rLe=dw(T8),iLe=dw(gM),sLe=dw(M8),aLe=dw(gE),oLe=dw(S8),sp=hw;(T8&&sp(new T8(new ArrayBuffer(1)))!=$K||gM&&sp(new gM)!=HK||M8&&sp(M8.resolve())!=GK||gE&&sp(new gE)!=VK||S8&&sp(new S8)!=zK)&&(sp=function(t){var e=hw(t),n=e==nLe?t.constructor:void 0,r=n?dw(n):"";if(r)switch(r){case rLe:return $K;case iLe:return HK;case sLe:return GK;case aLe:return VK;case oLe:return zK}return e});var lLe=Object.prototype,cLe=lLe.hasOwnProperty;function uLe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&cLe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var XF=Rp.Uint8Array;function jz(t){var e=new t.constructor(t.byteLength);return new XF(e).set(new XF(t)),e}function hLe(t,e){var n=e?jz(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var dLe=/\w*$/;function fLe(t){var e=new t.constructor(t.source,dLe.exec(t));return e.lastIndex=t.lastIndex,e}var QK=yA?yA.prototype:void 0,WK=QK?QK.valueOf:void 0;function ALe(t){return WK?Object(WK.call(t)):{}}function Koe(t,e){var n=e?jz(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var pLe="[object Boolean]",gLe="[object Date]",mLe="[object Map]",vLe="[object Number]",yLe="[object RegExp]",_Le="[object Set]",wLe="[object String]",bLe="[object Symbol]",xLe="[object ArrayBuffer]",ELe="[object DataView]",SLe="[object Float32Array]",CLe="[object Float64Array]",TLe="[object Int8Array]",MLe="[object Int16Array]",LLe="[object Int32Array]",BLe="[object Uint8Array]",RLe="[object Uint8ClampedArray]",ILe="[object Uint16Array]",PLe="[object Uint32Array]";function FLe(t,e,n){var r=t.constructor;switch(e){case xLe:return jz(t);case pLe:case gLe:return new r(+t);case ELe:return hLe(t,n);case SLe:case CLe:case TLe:case MLe:case LLe:case BLe:case RLe:case ILe:case PLe:return Koe(t,n);case mLe:return new r;case vLe:case wLe:return new r(t);case yLe:return fLe(t);case _Le:return new r;case bLe:return ALe(t)}}function qoe(t){return typeof t.constructor=="function"&&!Hz(t)?$2e(Qz(t)):{}}var OLe="[object Map]";function NLe(t){return om(t)&&sp(t)==OLe}var jK=WE&&WE.isMap,DLe=jK?Gz(jK):NLe,kLe="[object Set]";function ULe(t){return om(t)&&sp(t)==kLe}var KK=WE&&WE.isSet,HLe=KK?Gz(KK):ULe,GLe=1,VLe=2,zLe=4,Xoe="[object Arguments]",$Le="[object Array]",QLe="[object Boolean]",WLe="[object Date]",jLe="[object Error]",Yoe="[object Function]",KLe="[object GeneratorFunction]",qLe="[object Map]",XLe="[object Number]",Zoe="[object Object]",YLe="[object RegExp]",ZLe="[object Set]",JLe="[object String]",eBe="[object Symbol]",tBe="[object WeakMap]",nBe="[object ArrayBuffer]",rBe="[object DataView]",iBe="[object Float32Array]",sBe="[object Float64Array]",aBe="[object Int8Array]",oBe="[object Int16Array]",lBe="[object Int32Array]",cBe="[object Uint8Array]",uBe="[object Uint8ClampedArray]",hBe="[object Uint16Array]",dBe="[object Uint32Array]",Lo={};Lo[Xoe]=Lo[$Le]=Lo[nBe]=Lo[rBe]=Lo[QLe]=Lo[WLe]=Lo[iBe]=Lo[sBe]=Lo[aBe]=Lo[oBe]=Lo[lBe]=Lo[qLe]=Lo[XLe]=Lo[Zoe]=Lo[YLe]=Lo[ZLe]=Lo[JLe]=Lo[eBe]=Lo[cBe]=Lo[uBe]=Lo[hBe]=Lo[dBe]=!0;Lo[jLe]=Lo[Yoe]=Lo[tBe]=!1;function mE(t,e,n,r,i,s){var a,o=e&GLe,l=e&VLe,u=e&zLe;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!Wh(t))return t;var h=Qh(t);if(h){if(a=uLe(t),!o)return Moe(t,a)}else{var d=sp(t),f=d==Yoe||d==KLe;if(AM(t))return zoe(t,o);if(d==Zoe||d==Xoe||f&&!i){if(a=l||f?{}:qoe(t),!o)return l?tLe(t,KMe(a,t)):JMe(t,jMe(a,t))}else{if(!Lo[d])return i?t:{};a=FLe(t,d,o)}}s||(s=new pp);var A=s.get(t);if(A)return A;s.set(t,a),HLe(t)?t.forEach(function(y){a.add(mE(y,e,n,y,t,s))}):DLe(t)&&t.forEach(function(y,_){a.set(_,mE(y,e,n,_,t,s))});var m=u?l?joe:C8:l?mL:gL,g=h?void 0:m(t);return J2e(g||t,function(y,_){g&&(_=y,y=t[_]),kz(a,_,mE(y,e,n,_,t,s))}),a}var fBe=4;function qK(t){return mE(t,fBe)}var ABe=1,pBe=4;function YF(t){return mE(t,ABe|pBe)}var gBe="__lodash_hash_undefined__";function mBe(t){return this.__data__.set(t,gBe),this}function vBe(t){return this.__data__.has(t)}function mM(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Vv;++e<n;)this.add(t[e])}mM.prototype.add=mM.prototype.push=mBe;mM.prototype.has=vBe;function yBe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Joe(t,e){return t.has(e)}var _Be=1,wBe=2;function ele(t,e,n,r,i,s){var a=n&_Be,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,A=n&wBe?new mM:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var m=t[d],g=e[d];if(r)var y=a?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(A){if(!yBe(e,function(_,x){if(!Joe(A,x)&&(m===_||i(m,_,n,r,s)))return A.push(x)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function bBe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Kz(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var xBe=1,EBe=2,SBe="[object Boolean]",CBe="[object Date]",TBe="[object Error]",MBe="[object Map]",LBe="[object Number]",BBe="[object RegExp]",RBe="[object Set]",IBe="[object String]",PBe="[object Symbol]",FBe="[object ArrayBuffer]",OBe="[object DataView]",XK=yA?yA.prototype:void 0,bU=XK?XK.valueOf:void 0;function NBe(t,e,n,r,i,s,a){switch(n){case OBe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case FBe:return!(t.byteLength!=e.byteLength||!s(new XF(t),new XF(e)));case SBe:case CBe:case LBe:return pL(+t,+e);case TBe:return t.name==e.name&&t.message==e.message;case BBe:case IBe:return t==e+"";case MBe:var o=bBe;case RBe:var l=r&xBe;if(o||(o=Kz),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=EBe,a.set(t,e);var h=ele(o(t),o(e),r,i,s,a);return a.delete(t),h;case PBe:if(bU)return bU.call(t)==bU.call(e)}return!1}var DBe=1,kBe=Object.prototype,UBe=kBe.hasOwnProperty;function HBe(t,e,n,r,i,s){var a=n&DBe,o=C8(t),l=o.length,u=C8(e),h=u.length;if(l!=h&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in e:UBe.call(e,f)))return!1}var A=s.get(t),m=s.get(e);if(A&&m)return A==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=a;++d<l;){f=o[d];var _=t[f],x=e[f];if(r)var S=a?r(x,_,f,e,t,s):r(_,x,f,t,e,s);if(!(S===void 0?_===x||i(_,x,n,r,s):S)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var C=t.constructor,M=e.constructor;C!=M&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(g=!1)}return s.delete(t),s.delete(e),g}var GBe=1,YK="[object Arguments]",ZK="[object Array]",fR="[object Object]",VBe=Object.prototype,JK=VBe.hasOwnProperty;function zBe(t,e,n,r,i,s){var a=Qh(t),o=Qh(e),l=a?ZK:sp(t),u=o?ZK:sp(e);l=l==YK?fR:l,u=u==YK?fR:u;var h=l==fR,d=u==fR,f=l==u;if(f&&AM(t)){if(!AM(e))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new pp),a||Vz(t)?ele(t,e,n,r,i,s):NBe(t,e,l,n,r,i,s);if(!(n&GBe)){var A=h&&JK.call(t,"__wrapped__"),m=d&&JK.call(e,"__wrapped__");if(A||m){var g=A?t.value():t,y=m?e.value():e;return s||(s=new pp),i(g,y,n,r,s)}}return f?(s||(s=new pp),HBe(t,e,n,r,i,s)):!1}function s5(t,e,n,r,i){return t===e?!0:t==null||e==null||!om(t)&&!om(e)?t!==t&&e!==e:zBe(t,e,n,r,s5,i)}var $Be=1,QBe=2;function WBe(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var o=a[0],l=t[o],u=a[1];if(a[2]){if(l===void 0&&!(o in t))return!1}else{var h=new pp,d;if(!(d===void 0?s5(u,l,$Be|QBe,r,h):d))return!1}}return!0}function tle(t){return t===t&&!Wh(t)}function jBe(t){for(var e=gL(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tle(i)]}return e}function nle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function KBe(t){var e=jBe(t);return e.length==1&&e[0][2]?nle(e[0][0],e[0][1]):function(n){return n===t||WBe(n,t,e)}}function qBe(t,e){return t!=null&&e in Object(t)}function XBe(t,e,n){e=kS(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=US(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Uz(i)&&e5(a,i)&&(Qh(t)||fM(t)))}function rle(t,e){return t!=null&&XBe(t,e,qBe)}var YBe=1,ZBe=2;function JBe(t,e){return zz(t)&&tle(e)?nle(US(t),e):function(n){var r=qo(n,t);return r===void 0&&r===e?rle(n,t):s5(e,r,YBe|ZBe)}}function eRe(t){return function(e){return e==null?void 0:e[t]}}function tRe(t){return function(e){return i5(e,t)}}function nRe(t){return zz(t)?eRe(US(t)):tRe(t)}function ile(t){return typeof t=="function"?t:t==null?Oz:typeof t=="object"?Qh(t)?JBe(t[0],t[1]):KBe(t):nRe(t)}function rRe(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[++i];if(n(s[l],l,s)===!1)break}return e}}var sle=rRe();function iRe(t,e){return t&&sle(t,e,gL)}function sRe(t,e){return function(n,r){if(n==null)return n;if(!DS(n))return t(n,r);for(var i=n.length,s=-1,a=Object(n);++s<i&&r(a[s],s,a)!==!1;);return n}}var aRe=sRe(iRe),xU=function(){return Rp.Date.now()},oRe="Expected a function",lRe=Math.max,cRe=Math.min;function Dd(t,e,n){var r,i,s,a,o,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(oRe);e=TK(e)||0,Wh(n)&&(h=!!n.leading,d="maxWait"in n,s=d?lRe(TK(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function A(B){var E=r,L=i;return r=i=void 0,u=B,a=t.apply(L,E),a}function m(B){return u=B,o=setTimeout(_,e),h?A(B):a}function g(B){var E=B-l,L=B-u,I=e-E;return d?cRe(I,s-L):I}function y(B){var E=B-l,L=B-u;return l===void 0||E>=e||E<0||d&&L>=s}function _(){var B=xU();if(y(B))return x(B);o=setTimeout(_,g(B))}function x(B){return o=void 0,f&&r?A(B):(r=i=void 0,a)}function S(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function C(){return o===void 0?a:x(xU())}function M(){var B=xU(),E=y(B);if(r=arguments,i=this,l=B,E){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(_,e),A(l)}return o===void 0&&(o=setTimeout(_,e)),a}return M.cancel=S,M.flush=C,M}function L8(t,e,n){(n!==void 0&&!pL(t[e],n)||n===void 0&&!(e in t))&&Dz(t,e,n)}function ale(t){return om(t)&&DS(t)}function B8(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function uRe(t){return NS(t,mL(t))}function hRe(t,e,n,r,i,s,a){var o=B8(t,n),l=B8(e,n),u=a.get(l);if(u){L8(t,n,u);return}var h=s?s(o,l,n+"",t,e,a):void 0,d=h===void 0;if(d){var f=Qh(l),A=!f&&AM(l),m=!f&&!A&&Vz(l);h=l,f||A||m?Qh(o)?h=o:ale(o)?h=Moe(o):A?(d=!1,h=zoe(l,!0)):m?(d=!1,h=Koe(l,!0)):h=[]:Goe(l)||fM(l)?(h=o,fM(o)?h=uRe(o):(!Wh(o)||Nz(o))&&(h=qoe(l))):d=!1}d&&(a.set(l,h),i(h,l,r,s,a),a.delete(l)),L8(t,n,h)}function ole(t,e,n,r,i){t!==e&&sle(e,function(s,a){if(i||(i=new pp),Wh(s))hRe(t,e,a,n,ole,r,i);else{var o=r?r(B8(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),L8(t,a,o)}},mL)}function dRe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function lle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return Boe(t,ile(e),i,!0)}function fRe(t,e){var n=-1,r=DS(t)?Array(t.length):[];return aRe(t,function(i,s,a){r[++n]=e(i,s,a)}),r}function ARe(t,e){var n=Qh(t)?Fz:fRe;return n(t,ile(e))}function pRe(t,e){return vL(ARe(t,e),1)}var gRe=1/0;function mRe(t){var e=t==null?0:t.length;return e?vL(t,gRe):[]}function vM(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function vRe(t,e){return e.length<2?t:i5(t,HMe(e,0,-1))}function wu(t,e){return s5(t,e)}function lc(t){return t==null}function yL(t){return t===null}function cle(t){return t===void 0}var ule=uTe(function(t,e,n){ole(t,e,n)});function yRe(t,e){return e=kS(e,t),t=vRe(t,e),t==null||delete t[US(dRe(e))]}function _Re(t){return Goe(t)?void 0:t}var wRe=1,bRe=2,xRe=4,ERe=Uoe(function(t,e){var n={};if(t==null)return n;var r=!1;e=Fz(e,function(s){return s=kS(s,t),r||(r=s.length>1),s}),NS(t,joe(t),n),r&&(n=mE(n,wRe|bRe|xRe,_Re));for(var i=e.length;i--;)yRe(n,e[i]);return n});function hle(t,e,n,r){if(!Wh(t))return t;e=kS(e,t);for(var i=-1,s=e.length,a=s-1,o=t;o!=null&&++i<s;){var l=US(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var h=o[l];u=void 0,u===void 0&&(u=Wh(h)?h:e5(e[i+1])?[]:{})}kz(o,l,u),o=o[l]}return t}function SRe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var a=e[r],o=i5(t,a);n(o,a)&&hle(s,kS(a,t),o)}return s}function CRe(t,e){return SRe(t,e,function(n,r){return rle(t,r)})}var up=Uoe(function(t,e){return t==null?{}:CRe(t,e)});function TRe(t,e,n){return t==null?t:hle(t,e,n)}var MRe="Expected a function";function b1(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(MRe);return Wh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Dd(t,e,{leading:r,maxWait:e,trailing:i})}var LRe=1/0,BRe=gE&&1/Kz(new gE([,-0]))[1]==LRe?function(t){return new gE(t)}:W2e,RRe=200;function IRe(t,e,n){var r=-1,i=rTe,s=t.length,a=!0,o=[],l=o;if(s>=RRe){var u=BRe(t);if(u)return Kz(u);a=!1,i=Joe,l=new mM}else l=o;e:for(;++r<s;){var h=t[r],d=h;if(h=h!==0?h:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;o.push(h)}else i(l,d,n)||(l!==o&&l.push(d),o.push(h))}return o}var EU=Ioe(function(t){return IRe(vL(t,1,ale,!0))});const ps=t=>t===void 0,Js=t=>typeof t=="boolean",tr=t=>typeof t=="number",Af=t=>!t&&t!==0||an(t)&&t.length===0||qr(t)&&!Object.keys(t).length,zh=t=>typeof Element>"u"?!1:t instanceof Element,gp=t=>lc(t),PRe=t=>Qn(t)?!Number.isNaN(Number(t)):!1,a5=t=>t===window;var FRe=Object.defineProperty,ORe=Object.defineProperties,NRe=Object.getOwnPropertyDescriptors,eq=Object.getOwnPropertySymbols,DRe=Object.prototype.hasOwnProperty,kRe=Object.prototype.propertyIsEnumerable,tq=(t,e,n)=>e in t?FRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,URe=(t,e)=>{for(var n in e||(e={}))DRe.call(e,n)&&tq(t,n,e[n]);if(eq)for(var n of eq(e))kRe.call(e,n)&&tq(t,n,e[n]);return t},HRe=(t,e)=>ORe(t,NRe(e));function R8(t,e){var n;const r=Cs();return Zc(()=>{r.value=t()},HRe(URe({},e),{flush:(n=void 0)!=null?n:"sync"})),FS(r)}var nq;const Wi=typeof window<"u",GRe=t=>typeof t<"u",I8=t=>typeof t=="function",VRe=t=>typeof t=="string",jE=()=>{},P8=Wi&&((nq=window==null?void 0:window.navigator)==null?void 0:nq.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gy(t){return typeof t=="function"?t():b(t)}function dle(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function zRe(t,e={}){let n,r,i=jE;const s=o=>{clearTimeout(o),i(),i=jE};return o=>{const l=gy(t),u=gy(e.maxWait);return n&&s(n),l<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(o())):new Promise((h,d)=>{i=e.rejectOnCancel?d:h,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,h(o())},u)),n=setTimeout(()=>{r&&s(r),r=null,h(o())},l)})}}function $Re(t,e=!0,n=!0,r=!1){let i=0,s,a=!0,o=jE,l;const u=()=>{s&&(clearTimeout(s),s=void 0,o(),o=jE)};return d=>{const f=gy(t),A=Date.now()-i,m=()=>l=d();return u(),f<=0?(i=Date.now(),m()):(A>f&&(n||!a)?(i=Date.now(),m()):e&&(l=new Promise((g,y)=>{o=r?y:g,s=setTimeout(()=>{i=Date.now(),a=!0,g(m()),u()},Math.max(0,f-A))})),!n&&!s&&(s=setTimeout(()=>a=!0,f)),a=!1,l)}}function QRe(t){return t}function WRe(t,e){let n,r,i;const s=ge(!0),a=()=>{s.value=!0,i()};Ct(t,a,{flush:"sync"});const o=I8(e)?e:e.get,l=I8(e)?void 0:e.set,u=Ewe((h,d)=>(r=h,i=d,{get(){return s.value&&(n=o(),s.value=!1),r(),n},set(f){l==null||l(f)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function _L(t){return Ise()?(Pse(t),!0):!1}function jRe(t,e=200,n={}){return dle(zRe(e,n),t)}function KRe(t,e=200,n={}){const r=ge(t.value),i=jRe(()=>{r.value=t.value},e,n);return Ct(t,()=>i()),r}function fle(t,e=200,n=!1,r=!0,i=!1){return dle($Re(e,n,r,i),t)}function qz(t,e=!0){ni()?rr(t):e?t():Zn(t)}function $1(t,e,n={}){const{immediate:r=!0}=n,i=ge(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function o(){i.value=!1,a()}function l(...u){a(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...u)},gy(e))}return r&&(i.value=!0,Wi&&l()),_L(o),{isPending:FS(i),start:l,stop:o}}function Hh(t){var e;const n=gy(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Py=Wi?window:void 0,qRe=Wi?window.document:void 0;function Us(...t){let e,n,r,i;if(VRe(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=Py):[e,n,r,i]=t,!e)return jE;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(h=>h()),s.length=0},o=(h,d,f,A)=>(h.addEventListener(d,f,A),()=>h.removeEventListener(d,f,A)),l=Ct(()=>[Hh(e),gy(i)],([h,d])=>{a(),h&&s.push(...n.flatMap(f=>r.map(A=>o(h,f,A,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return _L(u),u}let rq=!1;function Xz(t,e,n={}){const{window:r=Py,ignore:i=[],capture:s=!0,detectIframe:a=!1}=n;if(!r)return;P8&&!rq&&(rq=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",jE)));let o=!0;const l=f=>i.some(A=>{if(typeof A=="string")return Array.from(r.document.querySelectorAll(A)).some(m=>m===f.target||f.composedPath().includes(m));{const m=Hh(A);return m&&(f.target===m||f.composedPath().includes(m))}}),h=[Us(r,"click",f=>{const A=Hh(t);if(!(!A||A===f.target||f.composedPath().includes(A))){if(f.detail===0&&(o=!l(f)),!o){o=!0;return}e(f)}},{passive:!0,capture:s}),Us(r,"pointerdown",f=>{const A=Hh(t);A&&(o=!f.composedPath().includes(A)&&!l(f))},{passive:!0}),a&&Us(r,"blur",f=>{var A;const m=Hh(t);((A=r.document.activeElement)==null?void 0:A.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>h.forEach(f=>f())}function XRe(t={}){var e;const{window:n=Py}=t,r=(e=t.document)!=null?e:n==null?void 0:n.document,i=WRe(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Us(n,"blur",s=>{s.relatedTarget===null&&i.trigger()},!0),Us(n,"focus",i.trigger,!0)),i}function Ale(t,e=!1){const n=ge(),r=()=>n.value=!!t();return r(),qz(r,e),n}function YRe(t){return JSON.parse(JSON.stringify(t))}const iq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sq="__vueuse_ssr_handlers__";iq[sq]=iq[sq]||{};function ZRe(t,e,{window:n=Py,initialValue:r=""}={}){const i=ge(r),s=J(()=>{var a;return Hh(e)||((a=n==null?void 0:n.document)==null?void 0:a.documentElement)});return Ct([s,()=>gy(t)],([a,o])=>{var l;if(a&&n){const u=(l=n.getComputedStyle(a).getPropertyValue(o))==null?void 0:l.trim();i.value=u||r}},{immediate:!0}),Ct(i,a=>{var o;(o=s.value)!=null&&o.style&&s.value.style.setProperty(gy(t),a)}),i}function JRe({document:t=qRe}={}){if(!t)return ge("visible");const e=ge(t.visibilityState);return Us(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var aq=Object.getOwnPropertySymbols,eIe=Object.prototype.hasOwnProperty,tIe=Object.prototype.propertyIsEnumerable,nIe=(t,e)=>{var n={};for(var r in t)eIe.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&aq)for(var r of aq(t))e.indexOf(r)<0&&tIe.call(t,r)&&(n[r]=t[r]);return n};function so(t,e,n={}){const r=n,{window:i=Py}=r,s=nIe(r,["window"]);let a;const o=Ale(()=>i&&"ResizeObserver"in i),l=()=>{a&&(a.disconnect(),a=void 0)},u=Ct(()=>Hh(t),d=>{l(),o.value&&i&&d&&(a=new ResizeObserver(e),a.observe(d,s))},{immediate:!0,flush:"post"}),h=()=>{l(),u()};return _L(h),{isSupported:o,stop:h}}function oq(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0}=e,a=ge(0),o=ge(0),l=ge(0),u=ge(0),h=ge(0),d=ge(0),f=ge(0),A=ge(0);function m(){const g=Hh(t);if(!g){n&&(a.value=0,o.value=0,l.value=0,u.value=0,h.value=0,d.value=0,f.value=0,A.value=0);return}const y=g.getBoundingClientRect();a.value=y.height,o.value=y.bottom,l.value=y.left,u.value=y.right,h.value=y.top,d.value=y.width,f.value=y.x,A.value=y.y}return so(t,m),Ct(()=>Hh(t),g=>!g&&m()),i&&Us("scroll",m,{capture:!0,passive:!0}),r&&Us("resize",m,{passive:!0}),qz(()=>{s&&m()}),{height:a,bottom:o,left:l,right:u,top:h,width:d,x:f,y:A,update:m}}var lq=Object.getOwnPropertySymbols,rIe=Object.prototype.hasOwnProperty,iIe=Object.prototype.propertyIsEnumerable,sIe=(t,e)=>{var n={};for(var r in t)rIe.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&lq)for(var r of lq(t))e.indexOf(r)<0&&iIe.call(t,r)&&(n[r]=t[r]);return n};function ple(t,e,n={}){const r=n,{window:i=Py}=r,s=sIe(r,["window"]);let a;const o=Ale(()=>i&&"MutationObserver"in i),l=()=>{a&&(a.disconnect(),a=void 0)},u=Ct(()=>Hh(t),d=>{l(),o.value&&i&&d&&(a=new MutationObserver(e),a.observe(d,s))},{immediate:!0}),h=()=>{l(),u()};return _L(h),{isSupported:o,stop:h}}var cq;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(cq||(cq={}));var aIe=Object.defineProperty,uq=Object.getOwnPropertySymbols,oIe=Object.prototype.hasOwnProperty,lIe=Object.prototype.propertyIsEnumerable,hq=(t,e,n)=>e in t?aIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cIe=(t,e)=>{for(var n in e||(e={}))oIe.call(e,n)&&hq(t,n,e[n]);if(uq)for(var n of uq(e))lIe.call(e,n)&&hq(t,n,e[n]);return t};const uIe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};cIe({linear:QRe},uIe);function gle(t,e,n,r={}){var i,s,a;const{clone:o=!1,passive:l=!1,eventName:u,deep:h=!1,defaultValue:d}=r,f=ni(),A=n||(f==null?void 0:f.emit)||((i=f==null?void 0:f.$emit)==null?void 0:i.bind(f))||((a=(s=f==null?void 0:f.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(f==null?void 0:f.proxy));let m=u;e||(e="modelValue"),m=u||m||"update:".concat(e.toString());const g=_=>o?I8(o)?o(_):YRe(_):_,y=()=>GRe(t[e])?g(t[e]):d;if(l){const _=y(),x=ge(_);return Ct(()=>t[e],S=>x.value=g(S)),Ct(x,S=>{(S!==t[e]||h)&&A(m,S)},{deep:h}),x}else return J({get(){return y()},set(_){A(m,_)}})}function hIe({window:t=Py}={}){if(!t)return ge(!1);const e=ge(t.document.hasFocus());return Us(t,"blur",()=>{e.value=!1}),Us(t,"focus",()=>{e.value=!0}),e}function dIe(t={}){const{window:e=Py,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:s=!0}=t,a=ge(n),o=ge(r),l=()=>{e&&(s?(a.value=e.innerWidth,o.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return l(),qz(l),Us("resize",l,{passive:!0}),i&&Us("orientationchange",l,{passive:!0}),{width:a,height:o}}class fIe extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Gl(t,e){throw new fIe("[".concat(t,"] ").concat(e))}const dq={current:0},fq=ge(0),mle=2e3,Aq=Symbol("elZIndexContextKey"),vle=Symbol("zIndexContextKey"),HS=t=>{const e=ni()?qt(Aq,dq):dq,n=t||(ni()?qt(vle,void 0):void 0),r=J(()=>{const a=b(n);return tr(a)?a:mle}),i=J(()=>r.value+fq.value),s=()=>(e.current++,fq.value=e.current,i.value);return!Wi&&qt(Aq),{initialZIndex:r,currentZIndex:i,nextZIndex:s}};var AIe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const pIe=t=>(e,n)=>gIe(e,n,b(t)),gIe=(t,e,n)=>qo(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var s;return"".concat((s=e==null?void 0:e[i])!=null?s:"{".concat(i,"}"))}),mIe=t=>{const e=J(()=>b(t).name),n=ga(t)?t:ge(t);return{lang:e,locale:n,t:pIe(t)}},yle=Symbol("localeContextKey"),ji=t=>{const e=t||qt(yle,ge());return mIe(J(()=>e.value||AIe))},_le="__epPropKey",ht=t=>t,vIe=t=>qr(t)&&!!t[_le],Ip=(t,e)=>{if(!qr(t)||vIe(t))return t;const{values:n,required:r,default:i,type:s,validator:a}=t,l={type:s,required:!!r,validator:n||a?u=>{let h=!1,d=[];if(n&&(d=Array.from(n),us(t,"default")&&d.push(i),h||(h=d.includes(u))),a&&(h||(h=a(u))),!h&&d.length>0){const f=[...new Set(d)].map(A=>JSON.stringify(A)).join(", ");Bbe("Invalid prop: validation failed".concat(e?' for prop "'.concat(e,'"'):"",". Expected one of [").concat(f,"], got value ").concat(JSON.stringify(u),"."))}return h}:void 0,[_le]:!0};return us(t,"default")&&(l.default=i),l},hn=t=>vM(Object.entries(t).map(([e,n])=>[e,Ip(n,e)])),pm=["","default","small","large"],Sl=Ip({type:String,values:pm,required:!1}),wle=Symbol("size"),ble=()=>{const t=qt(wle,{});return J(()=>b(t.size)||"")},xle=Symbol("emptyValuesContextKey"),yIe=["",void 0,null],_Ie=void 0,GS=hn({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Kn(t)?!t():!t}}),o5=(t,e)=>{const n=ni()?qt(xle,ge({})):ge({}),r=J(()=>t.emptyValues||n.value.emptyValues||yIe),i=J(()=>Kn(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:Kn(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:_Ie),s=a=>r.value.includes(a);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:s}},KE=t=>Object.keys(t),Ele=t=>Object.entries(t),MT=(t,e,n)=>({get value(){return qo(t,e,n)},set value(r){TRe(t,e,r)}}),ZF=ge();function l5(t,e=void 0){const n=ni()?qt(xoe,ZF):ZF;return t?J(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}function c5(t,e){const n=l5(),r=Jt(t,J(()=>{var o;return((o=n.value)==null?void 0:o.namespace)||CT})),i=ji(J(()=>{var o;return(o=n.value)==null?void 0:o.locale})),s=HS(J(()=>{var o;return((o=n.value)==null?void 0:o.zIndex)||mle})),a=J(()=>{var o;return b(e)||((o=n.value)==null?void 0:o.size)||""});return Yz(J(()=>b(n)||{})),{ns:r,locale:i,zIndex:s,size:a}}const Yz=(t,e,n=!1)=>{var r;const i=!!ni(),s=i?l5():void 0,a=(r=e==null?void 0:e.provide)!=null?r:i?dr:void 0;if(!a)return;const o=J(()=>{const l=b(t);return s!=null&&s.value?wIe(s.value,l):l});return a(xoe,o),a(yle,J(()=>o.value.locale)),a(Eoe,J(()=>o.value.namespace)),a(vle,J(()=>o.value.zIndex)),a(wle,{size:J(()=>o.value.size||"")}),a(xle,J(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!ZF.value)&&(ZF.value=o.value),o},wIe=(t,e)=>{const n=[...new Set([...KE(t),...KE(e)])],r={};for(const i of n)r[i]=e[i]!==void 0?e[i]:t[i];return r},bIe=(t=[])=>({version:l2e,install:(n,r)=>{n[bK]||(n[bK]=!0,t.forEach(i=>n.use(i)),r&&Yz(r,n,!0))}}),zr="update:modelValue",Qs="change",bu="input",xIe=hn({zIndex:{type:ht([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),EIe={scroll:({scrollTop:t,fixed:e})=>tr(t)&&Js(e),[Qs]:t=>Js(t)};var mn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};function SIe(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}const my=t=>Wi?window.requestAnimationFrame(t):setTimeout(t,16),Q1=t=>Wi?window.cancelAnimationFrame(t):clearTimeout(t),Sle=(t="")=>t.split(" ").filter(e=>!!e.trim()),Rd=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},oA=(t,e)=>{!t||!e.trim()||t.classList.add(...Sle(e))},lh=(t,e)=>{!t||!e.trim()||t.classList.remove(...Sle(e))},cv=(t,e)=>{var n;if(!Wi||!t||!e)return"";let r=$h(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[r]:""}catch(i){return t.style[r]}},Cle=(t,e,n)=>{if(!(!t||!e))if(qr(e))Ele(e).forEach(([r,i])=>Cle(t,r,i));else{const r=$h(e);t.style[r]=n}};function xo(t,e="px"){if(!t)return"";if(tr(t)||PRe(t))return"".concat(t).concat(e);if(Qn(t))return t}const CIe=(t,e)=>{if(!Wi)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=cv(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},Zz=(t,e)=>{if(!Wi)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(CIe(n,e))return n;n=n.parentNode}return n};let AR;const Tle=t=>{var e;if(!Wi)return 0;if(AR!==void 0)return AR;const n=document.createElement("div");n.className="".concat(t,"-scrollbar__wrap"),n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const s=i.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),AR=r-s,AR};function Jz(t,e){if(!Wi)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),s=i+e.offsetHeight,a=t.scrollTop,o=a+t.clientHeight;i<a?t.scrollTop=i:s>o&&(t.scrollTop=s-t.clientHeight)}function TIe(t,e,n,r,i){const s=Date.now();let a;const o=()=>{const u=Date.now()-s,h=SIe(u>r?r:u,e,n,r);a5(t)?t.scrollTo(window.pageXOffset,h):t.scrollTop=h,u<r?a=my(o):Kn(i)&&i()};return o(),()=>{a&&Q1(a)}}const pq=(t,e)=>a5(e)?t.ownerDocument.documentElement:e,gq=t=>a5(t)?window.scrollY:t.scrollTop,Mle="ElAffix",MIe=Me({name:Mle}),LIe=Me({...MIe,props:xIe,emits:EIe,setup(t,{expose:e,emit:n}){const r=t,i=Jt("affix"),s=Cs(),a=Cs(),o=Cs(),{height:l}=dIe(),{height:u,width:h,top:d,bottom:f,update:A}=oq(a,{windowScroll:!1}),m=oq(s),g=ge(!1),y=ge(0),_=ge(0),x=J(()=>({height:g.value?"".concat(u.value,"px"):"",width:g.value?"".concat(h.value,"px"):""})),S=J(()=>{if(!g.value)return{};const B=r.offset?xo(r.offset):0;return{height:"".concat(u.value,"px"),width:"".concat(h.value,"px"),top:r.position==="top"?B:"",bottom:r.position==="bottom"?B:"",transform:_.value?"translateY(".concat(_.value,"px)"):"",zIndex:r.zIndex}}),C=()=>{if(!o.value)return;y.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:B,target:E,offset:L}=r,I=L+u.value;if(B==="top")if(E){const k=m.bottom.value-I;g.value=L>d.value&&m.bottom.value>0,_.value=k<0?k:0}else g.value=L>d.value;else if(E){const k=l.value-m.top.value-I;g.value=l.value-L<f.value&&l.value>m.top.value,_.value=k<0?-k:0}else g.value=l.value-L<f.value},M=()=>{A(),n("scroll",{scrollTop:y.value,fixed:g.value})};return Ct(g,B=>n("change",B)),rr(()=>{var B;r.target?(s.value=(B=document.querySelector(r.target))!=null?B:void 0,s.value||Gl(Mle,"Target does not exist: ".concat(r.target))):s.value=document.documentElement,o.value=Zz(a.value,!0),A()}),Us(o,"scroll",M),Zc(C),e({update:C,updateRoot:A}),(B,E)=>(ie(),Ee("div",{ref_key:"root",ref:a,class:de(b(i).b()),style:Xn(b(x))},[Be("div",{class:de({[b(i).m("fixed")]:g.value}),style:Xn(b(S))},[tt(B.$slots,"default")],6)],6))}});var BIe=mn(LIe,[["__file","affix.vue"]]);const Nr=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e!=null?e:{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},Lle=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),RIe=(t,e)=>(t.install=n=>{n.directive(e,t)},t),ho=t=>(t.install=Os,t),IIe=Nr(BIe),PIe=hn({size:{type:ht([Number,String])},color:{type:String}}),FIe=Me({name:"ElIcon",inheritAttrs:!1}),OIe=Me({...FIe,props:PIe,setup(t){const e=t,n=Jt("icon"),r=J(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:ps(i)?void 0:xo(i),"--color":s}});return(i,s)=>(ie(),Ee("i",hi({class:b(n).b(),style:b(r)},i.$attrs),[tt(i.$slots,"default")],16))}});var NIe=mn(OIe,[["__file","icon.vue"]]);const Vn=Nr(NIe),Ws=ht([String,Object,Function]),e$={Close:wp},t$={Close:wp,SuccessFilled:soe,InfoFilled:qN,WarningFilled:XN,CircleCloseFilled:Rz},vy={success:soe,warning:XN,error:Rz,info:qN},u5={validating:am,success:Bz,error:Hv},DIe=["light","dark"],kIe=hn({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:KE(vy),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:DIe,default:"light"}}),UIe={close:t=>t instanceof MouseEvent},HIe=Me({name:"ElAlert"}),GIe=Me({...HIe,props:kIe,emits:UIe,setup(t,{emit:e}){const n=t,{Close:r}=t$,i=Cl(),s=Jt("alert"),a=ge(!0),o=J(()=>vy[n.type]),l=J(()=>!!(n.description||i.default)),u=h=>{a.value=!1,e("close",h)};return(h,d)=>(ie(),St(Tc,{name:b(s).b("fade"),persisted:""},{default:De(()=>[Br(Be("div",{class:de([b(s).b(),b(s).m(h.type),b(s).is("center",h.center),b(s).is(h.effect)]),role:"alert"},[h.showIcon&&b(o)?(ie(),St(b(Vn),{key:0,class:de([b(s).e("icon"),{[b(s).is("big")]:b(l)}])},{default:De(()=>[(ie(),St(li(b(o))))]),_:1},8,["class"])):lt("v-if",!0),Be("div",{class:de(b(s).e("content"))},[h.title||h.$slots.title?(ie(),Ee("span",{key:0,class:de([b(s).e("title"),{"with-description":b(l)}])},[tt(h.$slots,"title",{},()=>[Mr(cn(h.title),1)])],2)):lt("v-if",!0),b(l)?(ie(),Ee("p",{key:1,class:de(b(s).e("description"))},[tt(h.$slots,"default",{},()=>[Mr(cn(h.description),1)])],2)):lt("v-if",!0),h.closable?(ie(),Ee(Wn,{key:2},[h.closeText?(ie(),Ee("div",{key:0,class:de([b(s).e("close-btn"),b(s).is("customed")]),onClick:u},cn(h.closeText),3)):(ie(),St(b(Vn),{key:1,class:de(b(s).e("close-btn")),onClick:u},{default:De(()=>[Ce(b(r))]),_:1},8,["class"]))],64)):lt("v-if",!0)],2)],2),[[Qi,a.value]])]),_:3},8,["name"]))}});var VIe=mn(GIe,[["__file","alert.vue"]]);const zIe=Nr(VIe),h5=()=>Wi&&/firefox/i.test(window.navigator.userAgent);let yd;const $Ie={height:"0",visibility:"hidden",overflow:h5()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},QIe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function WIe(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:QIe.map(a=>[a,e.getPropertyValue(a)]),paddingSize:r,borderSize:i,boxSizing:n}}function mq(t,e=1,n){var r;yd||(yd=document.createElement("textarea"),document.body.appendChild(yd));const{paddingSize:i,borderSize:s,boxSizing:a,contextStyle:o}=WIe(t);o.forEach(([d,f])=>yd==null?void 0:yd.style.setProperty(d,f)),Object.entries($Ie).forEach(([d,f])=>yd==null?void 0:yd.style.setProperty(d,f,"important")),yd.value=t.value||t.placeholder||"";let l=yd.scrollHeight;const u={};a==="border-box"?l=l+s:a==="content-box"&&(l=l-i),yd.value="";const h=yd.scrollHeight-i;if(tr(e)){let d=h*e;a==="border-box"&&(d=d+i+s),l=Math.max(d,l),u.minHeight="".concat(d,"px")}if(tr(n)){let d=h*n;a==="border-box"&&(d=d+i+s),l=Math.min(d,l)}return u.height="".concat(l,"px"),(r=yd.parentNode)==null||r.removeChild(yd),yd=void 0,u}const ao=t=>t,jIe=hn({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),nu=t=>up(jIe,t),n$=hn({id:{type:String,default:void 0},size:Sl,disabled:Boolean,modelValue:{type:ht([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ht([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ws},prefixIcon:{type:Ws},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ht([Object,Array,String]),default:()=>ao({})},autofocus:Boolean,rows:{type:Number,default:2},...nu(["ariaLabel"])}),KIe={[zr]:t=>Qn(t),input:t=>Qn(t),change:t=>Qn(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},qIe=["class","style"],XIe=/^on[A-Z]/,wL=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=J(()=>((n==null?void 0:n.value)||[]).concat(qIe)),i=ni();return J(i?()=>{var s;return vM(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([a])=>!r.value.includes(a)&&!(e&&XIe.test(a))))}:()=>({}))},Aw=Symbol("formContextKey"),lm=Symbol("formItemContextKey"),vq={prefix:Math.floor(Math.random()*1e4),current:0},YIe=Symbol("elIdInjection"),r$=()=>ni()?qt(YIe,vq):vq,tu=t=>{const e=r$(),n=Pz();return R8(()=>b(t)||"".concat(n.value,"-id-").concat(e.prefix,"-").concat(e.current++))},Cu=()=>{const t=qt(Aw,void 0),e=qt(lm,void 0);return{form:t,formItem:e}},SA=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ge(!1)),r||(r=ge(!1));const i=ge();let s;const a=J(()=>{var o;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return rr(()=>{s=Ct([Is(t,"id"),n],([o,l])=>{const u=o!=null?o:l?void 0:tu().value;u!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!l&&u&&e.addInputId(u)),i.value=u)},{immediate:!0})}),ca(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:a,inputId:i}},Ble=t=>{const e=ni();return J(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},al=(t,e={})=>{const n=ge(void 0),r=e.prop?n:Ble("size"),i=e.global?n:ble(),s=e.form?{size:void 0}:qt(Aw,void 0),a=e.formItem?{size:void 0}:qt(lm,void 0);return J(()=>r.value||b(t)||(a==null?void 0:a.size)||(s==null?void 0:s.size)||i.value||"")},Tu=t=>{const e=Ble("disabled"),n=qt(Aw,void 0);return J(()=>e.value||b(t)||(n==null?void 0:n.disabled)||!1)};function Fy(t,{beforeFocus:e,afterFocus:n,beforeBlur:r,afterBlur:i}={}){const s=ni(),{emit:a}=s,o=Cs(),l=ge(!1),u=f=>{Kn(e)&&e(f)||l.value||(l.value=!0,a("focus",f),n==null||n())},h=f=>{var A;Kn(r)&&r(f)||f.relatedTarget&&((A=o.value)!=null&&A.contains(f.relatedTarget))||(l.value=!1,a("blur",f),i==null||i())},d=()=>{var f,A;(f=o.value)!=null&&f.contains(document.activeElement)&&o.value!==document.activeElement||(A=t.value)==null||A.focus()};return Ct(o,f=>{f&&f.setAttribute("tabindex","-1")}),Us(o,"focus",u,!0),Us(o,"blur",h,!0),Us(o,"click",d,!0),{isFocused:l,wrapperRef:o,handleFocus:u,handleBlur:h}}const ZIe=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function bL({afterComposition:t,emit:e}){const n=ge(!1),r=o=>{e==null||e("compositionstart",o),n.value=!0},i=o=>{var l;e==null||e("compositionupdate",o);const u=(l=o.target)==null?void 0:l.value,h=u[u.length-1]||"";n.value=!ZIe(h)},s=o=>{e==null||e("compositionend",o),n.value&&(n.value=!1,Zn(()=>t(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?s(o):i(o)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:s}}function JIe(t){let e;function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:a}=t.value;if(i==null||s==null)return;const o=a.slice(0,Math.max(0,i)),l=a.slice(Math.max(0,s));e={selectionStart:i,selectionEnd:s,value:a,beforeTxt:o,afterTxt:l}}function r(){if(t.value==null||e==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:a,selectionStart:o}=e;if(s==null||a==null||o==null)return;let l=i.length;if(i.endsWith(a))l=i.length-a.length;else if(i.startsWith(s))l=s.length;else{const u=s[o-1],h=i.indexOf(u,o-1);h!==-1&&(l=h+1)}t.value.setSelectionRange(l,l)}return[n,r]}const ePe=Me({name:"ElInput",inheritAttrs:!1}),tPe=Me({...ePe,props:n$,emits:KIe,setup(t,{expose:e,emit:n}){const r=t,i=Ya(),s=wL(),a=Cl(),o=J(()=>[r.type==="textarea"?g.b():m.b(),m.m(f.value),m.is("disabled",A.value),m.is("exceed",W.value),{[m.b("group")]:a.prepend||a.append,[m.m("prefix")]:a.prefix||r.prefixIcon,[m.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[m.bm("suffix","password-clear")]:X.value&&z.value,[m.b("hidden")]:r.type==="hidden"},i.class]),l=J(()=>[m.e("wrapper"),m.is("focus",L.value)]),{form:u,formItem:h}=Cu(),{inputId:d}=SA(r,{formItemContext:h}),f=al(),A=Tu(),m=Jt("input"),g=Jt("textarea"),y=Cs(),_=Cs(),x=ge(!1),S=ge(!1),C=ge(),M=Cs(r.inputStyle),B=J(()=>y.value||_.value),{wrapperRef:E,isFocused:L,handleFocus:I,handleBlur:k}=Fy(B,{beforeFocus(){return A.value},afterBlur(){var Ne;r.validateEvent&&((Ne=h==null?void 0:h.validate)==null||Ne.call(h,"blur").catch(Ze=>void 0))}}),O=J(()=>{var Ne;return(Ne=u==null?void 0:u.statusIcon)!=null?Ne:!1}),F=J(()=>(h==null?void 0:h.validateState)||""),U=J(()=>F.value&&u5[F.value]),$=J(()=>S.value?DEe:Wxe),K=J(()=>[i.style]),V=J(()=>[r.inputStyle,M.value,{resize:r.resize}]),Q=J(()=>lc(r.modelValue)?"":String(r.modelValue)),X=J(()=>r.clearable&&!A.value&&!r.readonly&&!!Q.value&&(L.value||x.value)),z=J(()=>r.showPassword&&!A.value&&!!Q.value&&(!!Q.value||L.value)),ne=J(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!A.value&&!r.readonly&&!r.showPassword),he=J(()=>Q.value.length),W=J(()=>!!ne.value&&he.value>Number(r.maxlength)),Y=J(()=>!!a.suffix||!!r.suffixIcon||X.value||r.showPassword||ne.value||!!F.value&&O.value),[oe,fe]=JIe(y);so(_,Ne=>{if(be(),!ne.value||r.resize!=="both")return;const Ze=Ne[0],{width:Tt}=Ze.contentRect;C.value={right:"calc(100% - ".concat(Tt+15+6,"px)")}});const me=()=>{const{type:Ne,autosize:Ze}=r;if(!(!Wi||Ne!=="textarea"||!_.value))if(Ze){const Tt=qr(Ze)?Ze.minRows:void 0,Zt=qr(Ze)?Ze.maxRows:void 0,ln=mq(_.value,Tt,Zt);M.value={overflowY:"hidden",...ln},Zn(()=>{_.value.offsetHeight,M.value=ln})}else M.value={minHeight:mq(_.value).minHeight}},be=(Ne=>{let Ze=!1;return()=>{var Tt;if(Ze||!r.autosize)return;((Tt=_.value)==null?void 0:Tt.offsetParent)===null||(Ne(),Ze=!0)}})(me),xe=()=>{const Ne=B.value,Ze=r.formatter?r.formatter(Q.value):Q.value;!Ne||Ne.value===Ze||(Ne.value=Ze)},Ie=async Ne=>{oe();let{value:Ze}=Ne.target;if(r.formatter&&(Ze=r.parser?r.parser(Ze):Ze),!ue.value){if(Ze===Q.value){xe();return}n(zr,Ze),n("input",Ze),await Zn(),xe(),fe()}},Qe=Ne=>{n("change",Ne.target.value)},{isComposing:ue,handleCompositionStart:ye,handleCompositionUpdate:$e,handleCompositionEnd:Ve}=bL({emit:n,afterComposition:Ie}),Se=()=>{oe(),S.value=!S.value,setTimeout(fe)},at=()=>{var Ne;return(Ne=B.value)==null?void 0:Ne.focus()},ft=()=>{var Ne;return(Ne=B.value)==null?void 0:Ne.blur()},je=Ne=>{x.value=!1,n("mouseleave",Ne)},gt=Ne=>{x.value=!0,n("mouseenter",Ne)},vt=Ne=>{n("keydown",Ne)},Te=()=>{var Ne;(Ne=B.value)==null||Ne.select()},we=()=>{n(zr,""),n("change",""),n("clear"),n("input","")};return Ct(()=>r.modelValue,()=>{var Ne;Zn(()=>me()),r.validateEvent&&((Ne=h==null?void 0:h.validate)==null||Ne.call(h,"change").catch(Ze=>void 0))}),Ct(Q,()=>xe()),Ct(()=>r.type,async()=>{await Zn(),xe(),me()}),rr(()=>{!r.formatter&&r.parser,xe(),Zn(me)}),e({input:y,textarea:_,ref:B,textareaStyle:V,autosize:Is(r,"autosize"),isComposing:ue,focus:at,blur:ft,select:Te,clear:we,resizeTextarea:me}),(Ne,Ze)=>(ie(),Ee("div",{class:de([b(o),{[b(m).bm("group","append")]:Ne.$slots.append,[b(m).bm("group","prepend")]:Ne.$slots.prepend}]),style:Xn(b(K)),onMouseenter:gt,onMouseleave:je},[lt(" input "),Ne.type!=="textarea"?(ie(),Ee(Wn,{key:0},[lt(" prepend slot "),Ne.$slots.prepend?(ie(),Ee("div",{key:0,class:de(b(m).be("group","prepend"))},[tt(Ne.$slots,"prepend")],2)):lt("v-if",!0),Be("div",{ref_key:"wrapperRef",ref:E,class:de(b(l))},[lt(" prefix slot "),Ne.$slots.prefix||Ne.prefixIcon?(ie(),Ee("span",{key:0,class:de(b(m).e("prefix"))},[Be("span",{class:de(b(m).e("prefix-inner"))},[tt(Ne.$slots,"prefix"),Ne.prefixIcon?(ie(),St(b(Vn),{key:0,class:de(b(m).e("icon"))},{default:De(()=>[(ie(),St(li(Ne.prefixIcon)))]),_:1},8,["class"])):lt("v-if",!0)],2)],2)):lt("v-if",!0),Be("input",hi({id:b(d),ref_key:"input",ref:y,class:b(m).e("inner")},b(s),{minlength:Ne.minlength,maxlength:Ne.maxlength,type:Ne.showPassword?S.value?"text":"password":Ne.type,disabled:b(A),readonly:Ne.readonly,autocomplete:Ne.autocomplete,tabindex:Ne.tabindex,"aria-label":Ne.ariaLabel,placeholder:Ne.placeholder,style:Ne.inputStyle,form:Ne.form,autofocus:Ne.autofocus,role:Ne.containerRole,onCompositionstart:b(ye),onCompositionupdate:b($e),onCompositionend:b(Ve),onInput:Ie,onChange:Qe,onKeydown:vt}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),lt(" suffix slot "),b(Y)?(ie(),Ee("span",{key:1,class:de(b(m).e("suffix"))},[Be("span",{class:de(b(m).e("suffix-inner"))},[!b(X)||!b(z)||!b(ne)?(ie(),Ee(Wn,{key:0},[tt(Ne.$slots,"suffix"),Ne.suffixIcon?(ie(),St(b(Vn),{key:0,class:de(b(m).e("icon"))},{default:De(()=>[(ie(),St(li(Ne.suffixIcon)))]),_:1},8,["class"])):lt("v-if",!0)],64)):lt("v-if",!0),b(X)?(ie(),St(b(Vn),{key:1,class:de([b(m).e("icon"),b(m).e("clear")]),onMousedown:mr(b(Os),["prevent"]),onClick:we},{default:De(()=>[Ce(b(Hv))]),_:1},8,["class","onMousedown"])):lt("v-if",!0),b(z)?(ie(),St(b(Vn),{key:2,class:de([b(m).e("icon"),b(m).e("password")]),onClick:Se},{default:De(()=>[(ie(),St(li(b($))))]),_:1},8,["class"])):lt("v-if",!0),b(ne)?(ie(),Ee("span",{key:3,class:de(b(m).e("count"))},[Be("span",{class:de(b(m).e("count-inner"))},cn(b(he))+" / "+cn(Ne.maxlength),3)],2)):lt("v-if",!0),b(F)&&b(U)&&b(O)?(ie(),St(b(Vn),{key:4,class:de([b(m).e("icon"),b(m).e("validateIcon"),b(m).is("loading",b(F)==="validating")])},{default:De(()=>[(ie(),St(li(b(U))))]),_:1},8,["class"])):lt("v-if",!0)],2)],2)):lt("v-if",!0)],2),lt(" append slot "),Ne.$slots.append?(ie(),Ee("div",{key:1,class:de(b(m).be("group","append"))},[tt(Ne.$slots,"append")],2)):lt("v-if",!0)],64)):(ie(),Ee(Wn,{key:1},[lt(" textarea "),Be("textarea",hi({id:b(d),ref_key:"textarea",ref:_,class:[b(g).e("inner"),b(m).is("focus",b(L))]},b(s),{minlength:Ne.minlength,maxlength:Ne.maxlength,tabindex:Ne.tabindex,disabled:b(A),readonly:Ne.readonly,autocomplete:Ne.autocomplete,style:b(V),"aria-label":Ne.ariaLabel,placeholder:Ne.placeholder,form:Ne.form,autofocus:Ne.autofocus,rows:Ne.rows,role:Ne.containerRole,onCompositionstart:b(ye),onCompositionupdate:b($e),onCompositionend:b(Ve),onInput:Ie,onFocus:b(I),onBlur:b(k),onChange:Qe,onKeydown:vt}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),b(ne)?(ie(),Ee("span",{key:0,style:Xn(C.value),class:de(b(m).e("count"))},cn(b(he))+" / "+cn(Ne.maxlength),7)):lt("v-if",!0)],64))],38))}});var nPe=mn(tPe,[["__file","input.vue"]]);const sh=Nr(nPe),Lb=4,Rle={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},rPe=({move:t,size:e,bar:n})=>({[n.size]:e,transform:"translate".concat(n.axis,"(").concat(t,"%)")}),i$=Symbol("scrollbarContextKey"),iPe=hn({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),sPe="Thumb",aPe=Me({__name:"thumb",props:iPe,setup(t){const e=t,n=qt(i$),r=Jt("scrollbar");n||Gl(sPe,"can not inject scrollbar context");const i=ge(),s=ge(),a=ge({}),o=ge(!1);let l=!1,u=!1,h=Wi?document.onselectstart:null;const d=J(()=>Rle[e.vertical?"vertical":"horizontal"]),f=J(()=>rPe({size:e.size,move:e.move,bar:d.value})),A=J(()=>i.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/s.value[d.value.offset]),m=B=>{var E;if(B.stopPropagation(),B.ctrlKey||[1,2].includes(B.button))return;(E=window.getSelection())==null||E.removeAllRanges(),y(B);const L=B.currentTarget;L&&(a.value[d.value.axis]=L[d.value.offset]-(B[d.value.client]-L.getBoundingClientRect()[d.value.direction]))},g=B=>{if(!s.value||!i.value||!n.wrapElement)return;const E=Math.abs(B.target.getBoundingClientRect()[d.value.direction]-B[d.value.client]),L=s.value[d.value.offset]/2,I=(E-L)*100*A.value/i.value[d.value.offset];n.wrapElement[d.value.scroll]=I*n.wrapElement[d.value.scrollSize]/100},y=B=>{B.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",_),document.addEventListener("mouseup",x),h=document.onselectstart,document.onselectstart=()=>!1},_=B=>{if(!i.value||!s.value||l===!1)return;const E=a.value[d.value.axis];if(!E)return;const L=(i.value.getBoundingClientRect()[d.value.direction]-B[d.value.client])*-1,I=s.value[d.value.offset]-E,k=(L-I)*100*A.value/i.value[d.value.offset];n.wrapElement[d.value.scroll]=k*n.wrapElement[d.value.scrollSize]/100},x=()=>{l=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",x),M(),u&&(o.value=!1)},S=()=>{u=!1,o.value=!!e.size},C=()=>{u=!0,o.value=l};Hs(()=>{M(),document.removeEventListener("mouseup",x)});const M=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return Us(Is(n,"scrollbarElement"),"mousemove",S),Us(Is(n,"scrollbarElement"),"mouseleave",C),(B,E)=>(ie(),St(Tc,{name:b(r).b("fade"),persisted:""},{default:De(()=>[Br(Be("div",{ref_key:"instance",ref:i,class:de([b(r).e("bar"),b(r).is(b(d).key)]),onMousedown:g},[Be("div",{ref_key:"thumb",ref:s,class:de(b(r).e("thumb")),style:Xn(b(f)),onMousedown:m},null,38)],34),[[Qi,B.always||o.value]])]),_:1},8,["name"]))}});var yq=mn(aPe,[["__file","thumb.vue"]]);const oPe=hn({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),lPe=Me({__name:"bar",props:oPe,setup(t,{expose:e}){const n=t,r=qt(i$),i=ge(0),s=ge(0),a=ge(""),o=ge(""),l=ge(1),u=ge(1);return e({handleScroll:f=>{if(f){const A=f.offsetHeight-Lb,m=f.offsetWidth-Lb;s.value=f.scrollTop*100/A*l.value,i.value=f.scrollLeft*100/m*u.value}},update:()=>{const f=r==null?void 0:r.wrapElement;if(!f)return;const A=f.offsetHeight-Lb,m=f.offsetWidth-Lb,g=A**2/f.scrollHeight,y=m**2/f.scrollWidth,_=Math.max(g,n.minSize),x=Math.max(y,n.minSize);l.value=g/(A-g)/(_/(A-_)),u.value=y/(m-y)/(x/(m-x)),o.value=_+Lb<A?"".concat(_,"px"):"",a.value=x+Lb<m?"".concat(x,"px"):""}}),(f,A)=>(ie(),Ee(Wn,null,[Ce(yq,{move:i.value,ratio:u.value,size:a.value,always:f.always},null,8,["move","ratio","size","always"]),Ce(yq,{move:s.value,ratio:l.value,size:o.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var cPe=mn(lPe,[["__file","bar.vue"]]);const uPe=hn({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ht([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...nu(["ariaLabel","ariaOrientation"])}),hPe={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(tr)},dPe="ElScrollbar",fPe=Me({name:dPe}),APe=Me({...fPe,props:uPe,emits:hPe,setup(t,{expose:e,emit:n}){const r=t,i=Jt("scrollbar");let s,a,o=0,l=0;const u=ge(),h=ge(),d=ge(),f=ge(),A=J(()=>{const M={};return r.height&&(M.height=xo(r.height)),r.maxHeight&&(M.maxHeight=xo(r.maxHeight)),[r.wrapStyle,M]}),m=J(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),g=J(()=>[i.e("view"),r.viewClass]),y=()=>{var M;h.value&&((M=f.value)==null||M.handleScroll(h.value),o=h.value.scrollTop,l=h.value.scrollLeft,n("scroll",{scrollTop:h.value.scrollTop,scrollLeft:h.value.scrollLeft}))};function _(M,B){qr(M)?h.value.scrollTo(M):tr(M)&&tr(B)&&h.value.scrollTo(M,B)}const x=M=>{tr(M)&&(h.value.scrollTop=M)},S=M=>{tr(M)&&(h.value.scrollLeft=M)},C=()=>{var M;(M=f.value)==null||M.update()};return Ct(()=>r.noresize,M=>{M?(s==null||s(),a==null||a()):({stop:s}=so(d,C),a=Us("resize",C))},{immediate:!0}),Ct(()=>[r.maxHeight,r.height],()=>{r.native||Zn(()=>{var M;C(),h.value&&((M=f.value)==null||M.handleScroll(h.value))})}),dr(i$,as({scrollbarElement:u,wrapElement:h})),bz(()=>{h.value&&(h.value.scrollTop=o,h.value.scrollLeft=l)}),rr(()=>{r.native||Zn(()=>{C()})}),Bp(()=>C()),e({wrapRef:h,update:C,scrollTo:_,setScrollTop:x,setScrollLeft:S,handleScroll:y}),(M,B)=>(ie(),Ee("div",{ref_key:"scrollbarRef",ref:u,class:de(b(i).b())},[Be("div",{ref_key:"wrapRef",ref:h,class:de(b(m)),style:Xn(b(A)),tabindex:M.tabindex,onScroll:y},[(ie(),St(li(M.tag),{id:M.id,ref_key:"resizeRef",ref:d,class:de(b(g)),style:Xn(M.viewStyle),role:M.role,"aria-label":M.ariaLabel,"aria-orientation":M.ariaOrientation},{default:De(()=>[tt(M.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),M.native?lt("v-if",!0):(ie(),St(cPe,{key:0,ref_key:"barRef",ref:f,always:M.always,"min-size":M.minSize},null,8,["always","min-size"]))],2))}});var pPe=mn(APe,[["__file","scrollbar.vue"]]);const gm=Nr(pPe),s$=Symbol("popper"),Ile=Symbol("popperContent"),gPe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Ple=hn({role:{type:String,values:gPe,default:"tooltip"}}),mPe=Me({name:"ElPopper",inheritAttrs:!1}),vPe=Me({...mPe,props:Ple,setup(t,{expose:e}){const n=t,r=ge(),i=ge(),s=ge(),a=ge(),o=J(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:s,referenceRef:a,role:o};return e(l),dr(s$,l),(u,h)=>tt(u.$slots,"default")}});var yPe=mn(vPe,[["__file","popper.vue"]]);const Fle=hn({arrowOffset:{type:Number,default:5}}),_Pe=Me({name:"ElPopperArrow",inheritAttrs:!1}),wPe=Me({..._Pe,props:Fle,setup(t,{expose:e}){const n=t,r=Jt("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:a}=qt(Ile,void 0);return Ct(()=>n.arrowOffset,o=>{i.value=o}),Hs(()=>{s.value=void 0}),e({arrowRef:s}),(o,l)=>(ie(),Ee("span",{ref_key:"arrowRef",ref:s,class:de(b(r).e("arrow")),style:Xn(b(a)),"data-popper-arrow":""},null,6))}});var bPe=mn(wPe,[["__file","arrow.vue"]]);const Ole=hn({virtualRef:{type:ht(Object)},virtualTriggering:Boolean,onMouseenter:{type:ht(Function)},onMouseleave:{type:ht(Function)},onClick:{type:ht(Function)},onKeydown:{type:ht(Function)},onFocus:{type:ht(Function)},onBlur:{type:ht(Function)},onContextmenu:{type:ht(Function)},id:String,open:Boolean}),Nle=Symbol("elForwardRef"),xPe=t=>{dr(Nle,{setForwardRef:n=>{t.value=n}})},EPe=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),SPe='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',CPe=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,_q=t=>Array.from(t.querySelectorAll(SPe)).filter(e=>JF(e)&&CPe(e)),JF=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},FP=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},Dle=t=>!t.getAttribute("aria-owns"),kle=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},OP=t=>{t&&(t.focus(),!Dle(t)&&t.click())},TPe="ElOnlyChild",Ule=Me({name:TPe,setup(t,{slots:e,attrs:n}){var r;const i=qt(Nle),s=EPe((r=i==null?void 0:i.setForwardRef)!=null?r:Os);return()=>{var a;const o=(a=e.default)==null?void 0:a.call(e,n);if(!o||o.length>1)return null;const l=Hle(o);return l?Br(xv(l,n),[[s]]):null}}});function Hle(t){if(!t)return null;const e=t;for(const n of e){if(qr(n))switch(n.type){case xc:continue;case OS:case"svg":return wq(n);case Wn:return Hle(n.children);default:return n}return wq(n)}return null}function wq(t){const e=Jt("only-child");return Ce("span",{class:e.e("content")},[t])}const MPe=Me({name:"ElPopperTrigger",inheritAttrs:!1}),LPe=Me({...MPe,props:Ole,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=qt(s$,void 0);xPe(i);const s=J(()=>o.value?n.id:void 0),a=J(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=J(()=>{if(r&&r.value!=="tooltip")return r.value}),l=J(()=>o.value?"".concat(n.open):void 0);let u;const h=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return rr(()=>{Ct(()=>n.virtualRef,d=>{d&&(i.value=Hh(d))},{immediate:!0}),Ct(i,(d,f)=>{u==null||u(),u=void 0,zh(d)&&(h.forEach(A=>{var m;const g=n[A];g&&(d.addEventListener(A.slice(2).toLowerCase(),g),(m=f==null?void 0:f.removeEventListener)==null||m.call(f,A.slice(2).toLowerCase(),g))}),JF(d)&&(u=Ct([s,a,o,l],A=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,g)=>{lc(A[g])?d.removeAttribute(m):d.setAttribute(m,A[g])})},{immediate:!0}))),zh(f)&&JF(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(A=>f.removeAttribute(A))},{immediate:!0})}),Hs(()=>{if(u==null||u(),u=void 0,i.value&&zh(i.value)){const d=i.value;h.forEach(f=>{const A=n[f];A&&d.removeEventListener(f.slice(2).toLowerCase(),A)}),i.value=void 0}}),e({triggerRef:i}),(d,f)=>d.virtualTriggering?lt("v-if",!0):(ie(),St(b(Ule),hi({key:0},d.$attrs,{"aria-controls":b(s),"aria-describedby":b(a),"aria-expanded":b(l),"aria-haspopup":b(o)}),{default:De(()=>[tt(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var BPe=mn(LPe,[["__file","trigger.vue"]]);const SU="focus-trap.focus-after-trapped",CU="focus-trap.focus-after-released",RPe="focus-trap.focusout-prevented",bq={cancelable:!0,bubbles:!1},IPe={cancelable:!0,bubbles:!1},xq="focusAfterTrapped",Eq="focusAfterReleased",a$=Symbol("elFocusTrap"),o$=ge(),d5=ge(0),l$=ge(0);let pR=0;const Gle=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},Sq=(t,e)=>{for(const n of t)if(!PPe(n,e))return n},PPe=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},FPe=t=>{const e=Gle(t),n=Sq(e,t),r=Sq(e.reverse(),t);return[n,r]},OPe=t=>t instanceof HTMLInputElement&&"select"in t,rv=(t,e)=>{if(t&&t.focus){const n=document.activeElement;let r=!1;zh(t)&&!JF(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),r=!0),t.focus({preventScroll:!0}),l$.value=window.performance.now(),t!==n&&OPe(t)&&e&&t.select(),zh(t)&&r&&t.removeAttribute("tabindex")}};function Cq(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const NPe=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=Cq(t,r),t.unshift(r)},remove:r=>{var i,s;t=Cq(t,r),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},DPe=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(rv(r,e),document.activeElement!==n)return},Tq=NPe(),kPe=()=>d5.value>l$.value,gR=()=>{o$.value="pointer",d5.value=window.performance.now()},Mq=()=>{o$.value="keyboard",d5.value=window.performance.now()},UPe=()=>(rr(()=>{pR===0&&(document.addEventListener("mousedown",gR),document.addEventListener("touchstart",gR),document.addEventListener("keydown",Mq)),pR++}),Hs(()=>{pR--,pR<=0&&(document.removeEventListener("mousedown",gR),document.removeEventListener("touchstart",gR),document.removeEventListener("keydown",Mq))}),{focusReason:o$,lastUserFocusTimestamp:d5,lastAutomatedFocusTimestamp:l$}),mR=t=>new CustomEvent(RPe,{...IPe,detail:t}),Ln={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Sx=[];const Lq=t=>{t.code===Ln.esc&&Sx.forEach(e=>e(t))},HPe=t=>{rr(()=>{Sx.length===0&&document.addEventListener("keydown",Lq),Wi&&Sx.push(t)}),Hs(()=>{Sx=Sx.filter(e=>e!==t),Sx.length===0&&Wi&&document.removeEventListener("keydown",Lq)})},GPe=Me({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[xq,Eq,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=ge();let r,i;const{focusReason:s}=UPe();HPe(m=>{t.trapped&&!a.paused&&e("release-requested",m)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=m=>{if(!t.loop&&!t.trapped||a.paused)return;const{code:g,altKey:y,ctrlKey:_,metaKey:x,currentTarget:S,shiftKey:C}=m,{loop:M}=t,B=g===Ln.tab&&!y&&!_&&!x,E=document.activeElement;if(B&&E){const L=S,[I,k]=FPe(L);if(I&&k){if(!C&&E===k){const F=mR({focusReason:s.value});e("focusout-prevented",F),F.defaultPrevented||(m.preventDefault(),M&&rv(I,!0))}else if(C&&[I,L].includes(E)){const F=mR({focusReason:s.value});e("focusout-prevented",F),F.defaultPrevented||(m.preventDefault(),M&&rv(k,!0))}}else if(E===L){const F=mR({focusReason:s.value});e("focusout-prevented",F),F.defaultPrevented||m.preventDefault()}}};dr(a$,{focusTrapRef:n,onKeydown:o}),Ct(()=>t.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),Ct([n],([m],[g])=>{m&&(m.addEventListener("keydown",o),m.addEventListener("focusin",h),m.addEventListener("focusout",d)),g&&(g.removeEventListener("keydown",o),g.removeEventListener("focusin",h),g.removeEventListener("focusout",d))});const l=m=>{e(xq,m)},u=m=>e(Eq,m),h=m=>{const g=b(n);if(!g)return;const y=m.target,_=m.relatedTarget,x=y&&g.contains(y);t.trapped||_&&g.contains(_)||(r=_),x&&e("focusin",m),!a.paused&&t.trapped&&(x?i=y:rv(i,!0))},d=m=>{const g=b(n);if(!(a.paused||!g))if(t.trapped){const y=m.relatedTarget;!lc(y)&&!g.contains(y)&&setTimeout(()=>{if(!a.paused&&t.trapped){const _=mR({focusReason:s.value});e("focusout-prevented",_),_.defaultPrevented||rv(i,!0)}},0)}else{const y=m.target;y&&g.contains(y)||e("focusout",m)}};async function f(){await Zn();const m=b(n);if(m){Tq.push(a);const g=m.contains(document.activeElement)?r:document.activeElement;if(r=g,!m.contains(g)){const _=new Event(SU,bq);m.addEventListener(SU,l),m.dispatchEvent(_),_.defaultPrevented||Zn(()=>{let x=t.focusStartEl;Qn(x)||(rv(x),document.activeElement!==x&&(x="first")),x==="first"&&DPe(Gle(m),!0),(document.activeElement===g||x==="container")&&rv(m)})}}}function A(){const m=b(n);if(m){m.removeEventListener(SU,l);const g=new CustomEvent(CU,{...bq,detail:{focusReason:s.value}});m.addEventListener(CU,u),m.dispatchEvent(g),!g.defaultPrevented&&(s.value=="keyboard"||!kPe()||m.contains(document.activeElement))&&rv(r!=null?r:document.body),m.removeEventListener(CU,u),Tq.remove(a)}}return rr(()=>{t.trapped&&f(),Ct(()=>t.trapped,m=>{m?f():A()})}),Hs(()=>{t.trapped&&A(),n.value&&(n.value.removeEventListener("keydown",o),n.value.removeEventListener("focusin",h),n.value.removeEventListener("focusout",d),n.value=void 0)}),{onKeydown:o}}});function VPe(t,e,n,r,i,s){return tt(t.$slots,"default",{handleKeydown:t.onKeydown})}var VS=mn(GPe,[["render",VPe],["__file","focus-trap.vue"]]),Id="top",_A="bottom",wA="right",Pd="left",c$="auto",xL=[Id,_A,wA,Pd],qE="start",yM="end",zPe="clippingParents",Vle="viewport",l2="popper",$Pe="reference",Bq=xL.reduce(function(t,e){return t.concat([e+"-"+qE,e+"-"+yM])},[]),zv=[].concat(xL,[c$]).reduce(function(t,e){return t.concat([e,e+"-"+qE,e+"-"+yM])},[]),QPe="beforeRead",WPe="read",jPe="afterRead",KPe="beforeMain",qPe="main",XPe="afterMain",YPe="beforeWrite",ZPe="write",JPe="afterWrite",eFe=[QPe,WPe,jPe,KPe,qPe,XPe,YPe,ZPe,JPe];function cm(t){return t?(t.nodeName||"").toLowerCase():null}function Pp(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function XE(t){var e=Pp(t).Element;return t instanceof e||t instanceof Element}function gA(t){var e=Pp(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function u$(t){if(typeof ShadowRoot>"u")return!1;var e=Pp(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tFe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!gA(s)||!cm(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function nFe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=a.reduce(function(l,u){return l[u]="",l},{});!gA(i)||!cm(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var zle={name:"applyStyles",enabled:!0,phase:"write",fn:tFe,effect:nFe,requires:["computeStyles"]};function Yg(t){return t.split("-")[0]}var x1=Math.max,eO=Math.min,YE=Math.round;function ZE(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(gA(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(r=YE(n.width)/a||1),s>0&&(i=YE(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function h$(t){var e=ZE(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function $le(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&u$(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Sv(t){return Pp(t).getComputedStyle(t)}function rFe(t){return["table","td","th"].indexOf(cm(t))>=0}function Oy(t){return((XE(t)?t.ownerDocument:t.document)||window.document).documentElement}function f5(t){return cm(t)==="html"?t:t.assignedSlot||t.parentNode||(u$(t)?t.host:null)||Oy(t)}function Rq(t){return!gA(t)||Sv(t).position==="fixed"?null:t.offsetParent}function iFe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&gA(t)){var r=Sv(t);if(r.position==="fixed")return null}var i=f5(t);for(u$(i)&&(i=i.host);gA(i)&&["html","body"].indexOf(cm(i))<0;){var s=Sv(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function EL(t){for(var e=Pp(t),n=Rq(t);n&&rFe(n)&&Sv(n).position==="static";)n=Rq(n);return n&&(cm(n)==="html"||cm(n)==="body"&&Sv(n).position==="static")?e:n||iFe(t)||e}function d$(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function LT(t,e,n){return x1(t,eO(e,n))}function sFe(t,e,n){var r=LT(t,e,n);return r>n?n:r}function Qle(){return{top:0,right:0,bottom:0,left:0}}function Wle(t){return Object.assign({},Qle(),t)}function jle(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var aFe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Wle(typeof t!="number"?t:jle(t,xL))};function oFe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Yg(n.placement),l=d$(o),u=[Pd,wA].indexOf(o)>=0,h=u?"height":"width";if(!(!s||!a)){var d=aFe(i.padding,n),f=h$(s),A=l==="y"?Id:Pd,m=l==="y"?_A:wA,g=n.rects.reference[h]+n.rects.reference[l]-a[l]-n.rects.popper[h],y=a[l]-n.rects.reference[l],_=EL(s),x=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,S=g/2-y/2,C=d[A],M=x-f[h]-d[m],B=x/2-f[h]/2+S,E=LT(C,B,M),L=l;n.modifiersData[r]=(e={},e[L]=E,e.centerOffset=E-B,e)}}function lFe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!$le(e.elements.popper,i)||(e.elements.arrow=i))}var cFe={name:"arrow",enabled:!0,phase:"main",fn:oFe,effect:lFe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function JE(t){return t.split("-")[1]}var uFe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hFe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:YE(e*i)/i||0,y:YE(n*i)/i||0}}function Iq(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=a.x,A=f===void 0?0:f,m=a.y,g=m===void 0?0:m,y=typeof h=="function"?h({x:A,y:g}):{x:A,y:g};A=y.x,g=y.y;var _=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),S=Pd,C=Id,M=window;if(u){var B=EL(n),E="clientHeight",L="clientWidth";if(B===Pp(n)&&(B=Oy(n),Sv(B).position!=="static"&&o==="absolute"&&(E="scrollHeight",L="scrollWidth")),B=B,i===Id||(i===Pd||i===wA)&&s===yM){C=_A;var I=d&&B===M&&M.visualViewport?M.visualViewport.height:B[E];g-=I-r.height,g*=l?1:-1}if(i===Pd||(i===Id||i===_A)&&s===yM){S=wA;var k=d&&B===M&&M.visualViewport?M.visualViewport.width:B[L];A-=k-r.width,A*=l?1:-1}}var O=Object.assign({position:o},u&&uFe),F=h===!0?hFe({x:A,y:g}):{x:A,y:g};if(A=F.x,g=F.y,l){var U;return Object.assign({},O,(U={},U[C]=x?"0":"",U[S]=_?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+A+"px, "+g+"px)":"translate3d("+A+"px, "+g+"px, 0)",U))}return Object.assign({},O,(e={},e[C]=x?g+"px":"",e[S]=_?A+"px":"",e.transform="",e))}function dFe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:Yg(e.placement),variation:JE(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Iq(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Iq(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Kle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dFe,data:{}},vR={passive:!0};function fFe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=Pp(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",n.update,vR)}),o&&l.addEventListener("resize",n.update,vR),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",n.update,vR)}),o&&l.removeEventListener("resize",n.update,vR)}}var qle={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fFe,data:{}},AFe={left:"right",right:"left",bottom:"top",top:"bottom"};function NP(t){return t.replace(/left|right|bottom|top/g,function(e){return AFe[e]})}var pFe={start:"end",end:"start"};function Pq(t){return t.replace(/start|end/g,function(e){return pFe[e]})}function f$(t){var e=Pp(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function A$(t){return ZE(Oy(t)).left+f$(t).scrollLeft}function gFe(t){var e=Pp(t),n=Oy(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,o=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,o=r.offsetTop)),{width:i,height:s,x:a+A$(t),y:o}}function mFe(t){var e,n=Oy(t),r=f$(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=x1(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=x1(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+A$(t),l=-r.scrollTop;return Sv(i||n).direction==="rtl"&&(o+=x1(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function p$(t){var e=Sv(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xle(t){return["html","body","#document"].indexOf(cm(t))>=0?t.ownerDocument.body:gA(t)&&p$(t)?t:Xle(f5(t))}function BT(t,e){var n;e===void 0&&(e=[]);var r=Xle(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Pp(r),a=i?[s].concat(s.visualViewport||[],p$(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(BT(f5(a)))}function F8(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vFe(t){var e=ZE(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Fq(t,e){return e===Vle?F8(gFe(t)):XE(e)?vFe(e):F8(mFe(Oy(t)))}function yFe(t){var e=BT(f5(t)),n=["absolute","fixed"].indexOf(Sv(t).position)>=0,r=n&&gA(t)?EL(t):t;return XE(r)?e.filter(function(i){return XE(i)&&$le(i,r)&&cm(i)!=="body"}):[]}function _Fe(t,e,n){var r=e==="clippingParents"?yFe(t):[].concat(e),i=[].concat(r,[n]),s=i[0],a=i.reduce(function(o,l){var u=Fq(t,l);return o.top=x1(u.top,o.top),o.right=eO(u.right,o.right),o.bottom=eO(u.bottom,o.bottom),o.left=x1(u.left,o.left),o},Fq(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Yle(t){var e=t.reference,n=t.element,r=t.placement,i=r?Yg(r):null,s=r?JE(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case Id:l={x:a,y:e.y-n.height};break;case _A:l={x:a,y:e.y+e.height};break;case wA:l={x:e.x+e.width,y:o};break;case Pd:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?d$(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case qE:l[u]=l[u]-(e[h]/2-n[h]/2);break;case yM:l[u]=l[u]+(e[h]/2-n[h]/2);break}}return l}function _M(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,a=s===void 0?zPe:s,o=n.rootBoundary,l=o===void 0?Vle:o,u=n.elementContext,h=u===void 0?l2:u,d=n.altBoundary,f=d===void 0?!1:d,A=n.padding,m=A===void 0?0:A,g=Wle(typeof m!="number"?m:jle(m,xL)),y=h===l2?$Pe:l2,_=t.rects.popper,x=t.elements[f?y:h],S=_Fe(XE(x)?x:x.contextElement||Oy(t.elements.popper),a,l),C=ZE(t.elements.reference),M=Yle({reference:C,element:_,placement:i}),B=F8(Object.assign({},_,M)),E=h===l2?B:C,L={top:S.top-E.top+g.top,bottom:E.bottom-S.bottom+g.bottom,left:S.left-E.left+g.left,right:E.right-S.right+g.right},I=t.modifiersData.offset;if(h===l2&&I){var k=I[i];Object.keys(L).forEach(function(O){var F=[wA,_A].indexOf(O)>=0?1:-1,U=[Id,_A].indexOf(O)>=0?"y":"x";L[O]+=k[U]*F})}return L}function wFe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?zv:l,h=JE(r),d=h?o?Bq:Bq.filter(function(m){return JE(m)===h}):xL,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var A=f.reduce(function(m,g){return m[g]=_M(t,{placement:g,boundary:i,rootBoundary:s,padding:a})[Yg(g)],m},{});return Object.keys(A).sort(function(m,g){return A[m]-A[g]})}function bFe(t){if(Yg(t)===c$)return[];var e=NP(t);return[Pq(t),e,Pq(e)]}function xFe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,A=n.flipVariations,m=A===void 0?!0:A,g=n.allowedAutoPlacements,y=e.options.placement,_=Yg(y),x=_===y,S=l||(x||!m?[NP(y)]:bFe(y)),C=[y].concat(S).reduce(function(oe,fe){return oe.concat(Yg(fe)===c$?wFe(e,{placement:fe,boundary:h,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):fe)},[]),M=e.rects.reference,B=e.rects.popper,E=new Map,L=!0,I=C[0],k=0;k<C.length;k++){var O=C[k],F=Yg(O),U=JE(O)===qE,$=[Id,_A].indexOf(F)>=0,K=$?"width":"height",V=_M(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:f,padding:u}),Q=$?U?wA:Pd:U?_A:Id;M[K]>B[K]&&(Q=NP(Q));var X=NP(Q),z=[];if(s&&z.push(V[F]<=0),o&&z.push(V[Q]<=0,V[X]<=0),z.every(function(oe){return oe})){I=O,L=!1;break}E.set(O,z)}if(L)for(var ne=m?3:1,he=function(oe){var fe=C.find(function(me){var ce=E.get(me);if(ce)return ce.slice(0,oe).every(function(be){return be})});if(fe)return I=fe,"break"},W=ne;W>0;W--){var Y=he(W);if(Y==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}var EFe={name:"flip",enabled:!0,phase:"main",fn:xFe,requiresIfExists:["offset"],data:{_skip:!1}};function Oq(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Nq(t){return[Id,wA,_A,Pd].some(function(e){return t[e]>=0})}function SFe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=_M(e,{elementContext:"reference"}),o=_M(e,{altBoundary:!0}),l=Oq(a,r),u=Oq(o,i,s),h=Nq(l),d=Nq(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}var CFe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SFe};function TFe(t,e,n){var r=Yg(t),i=[Pd,Id].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Pd,wA].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function MFe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=zv.reduce(function(h,d){return h[d]=TFe(d,e.rects,s),h},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}var LFe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MFe};function BFe(t){var e=t.state,n=t.name;e.modifiersData[n]=Yle({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var Zle={name:"popperOffsets",enabled:!0,phase:"read",fn:BFe,data:{}};function RFe(t){return t==="x"?"y":"x"}function IFe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,A=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,y=_M(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:h}),_=Yg(e.placement),x=JE(e.placement),S=!x,C=d$(_),M=RFe(C),B=e.modifiersData.popperOffsets,E=e.rects.reference,L=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,k=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(B){if(s){var U,$=C==="y"?Id:Pd,K=C==="y"?_A:wA,V=C==="y"?"height":"width",Q=B[C],X=Q+y[$],z=Q-y[K],ne=A?-L[V]/2:0,he=x===qE?E[V]:L[V],W=x===qE?-L[V]:-E[V],Y=e.elements.arrow,oe=A&&Y?h$(Y):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qle(),me=fe[$],ce=fe[K],be=LT(0,E[V],oe[V]),xe=S?E[V]/2-ne-be-me-k.mainAxis:he-be-me-k.mainAxis,Ie=S?-E[V]/2+ne+be+ce+k.mainAxis:W+be+ce+k.mainAxis,Qe=e.elements.arrow&&EL(e.elements.arrow),ue=Qe?C==="y"?Qe.clientTop||0:Qe.clientLeft||0:0,ye=(U=O==null?void 0:O[C])!=null?U:0,$e=Q+xe-ye-ue,Ve=Q+Ie-ye,Se=LT(A?eO(X,$e):X,Q,A?x1(z,Ve):z);B[C]=Se,F[C]=Se-Q}if(o){var at,ft=C==="x"?Id:Pd,je=C==="x"?_A:wA,gt=B[M],vt=M==="y"?"height":"width",Te=gt+y[ft],we=gt-y[je],Ne=[Id,Pd].indexOf(_)!==-1,Ze=(at=O==null?void 0:O[M])!=null?at:0,Tt=Ne?Te:gt-E[vt]-L[vt]-Ze+k.altAxis,Zt=Ne?gt+E[vt]+L[vt]-Ze-k.altAxis:we,ln=A&&Ne?sFe(Tt,gt,Zt):LT(A?Tt:Te,gt,A?Zt:we);B[M]=ln,F[M]=ln-gt}e.modifiersData[r]=F}}var PFe={name:"preventOverflow",enabled:!0,phase:"main",fn:IFe,requiresIfExists:["offset"]};function FFe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function OFe(t){return t===Pp(t)||!gA(t)?f$(t):FFe(t)}function NFe(t){var e=t.getBoundingClientRect(),n=YE(e.width)/t.offsetWidth||1,r=YE(e.height)/t.offsetHeight||1;return n!==1||r!==1}function DFe(t,e,n){n===void 0&&(n=!1);var r=gA(e),i=gA(e)&&NFe(e),s=Oy(e),a=ZE(t,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((cm(e)!=="body"||p$(s))&&(o=OFe(e)),gA(e)?(l=ZE(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=A$(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function kFe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function UFe(t){var e=kFe(t);return eFe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function HFe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function GFe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Dq={placement:"bottom",modifiers:[],strategy:"absolute"};function kq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function g$(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Dq:i;return function(a,o,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dq,s),modifiersData:{},elements:{reference:a,popper:o},attributes:{},styles:{}},h=[],d=!1,f={state:u,setOptions:function(g){var y=typeof g=="function"?g(u.options):g;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:XE(a)?BT(a):a.contextElement?BT(a.contextElement):[],popper:BT(o)};var _=UFe(GFe([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(x){return x.enabled}),A(),f.update()},forceUpdate:function(){if(!d){var g=u.elements,y=g.reference,_=g.popper;if(kq(y,_)){u.rects={reference:DFe(y,EL(_),u.options.strategy==="fixed"),popper:h$(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var S=u.orderedModifiers[x],C=S.fn,M=S.options,B=M===void 0?{}:M,E=S.name;typeof C=="function"&&(u=C({state:u,options:B,name:E,instance:f})||u)}}}},update:HFe(function(){return new Promise(function(g){f.forceUpdate(),g(u)})}),destroy:function(){m(),d=!0}};if(!kq(a,o))return f;f.setOptions(l).then(function(g){!d&&l.onFirstUpdate&&l.onFirstUpdate(g)});function A(){u.orderedModifiers.forEach(function(g){var y=g.name,_=g.options,x=_===void 0?{}:_,S=g.effect;if(typeof S=="function"){var C=S({state:u,name:y,instance:f,options:x}),M=function(){};h.push(C||M)}})}function m(){h.forEach(function(g){return g()}),h=[]}return f}}g$();var VFe=[qle,Zle,Kle,zle];g$({defaultModifiers:VFe});var zFe=[qle,Zle,Kle,zle,LFe,EFe,PFe,cFe,CFe],$Fe=g$({defaultModifiers:zFe});const QFe=["fixed","absolute"],WFe=hn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ht(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:zv,default:"bottom"},popperOptions:{type:ht(Object),default:()=>({})},strategy:{type:String,values:QFe,default:"absolute"}}),Jle=hn({...WFe,id:String,style:{type:ht([String,Array,Object])},className:{type:ht([String,Array,Object])},effect:{type:ht(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ht([String,Array,Object])},popperStyle:{type:ht([String,Array,Object])},referenceEl:{type:ht(Object)},triggerTargetEl:{type:ht(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...nu(["ariaLabel"])}),jFe={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},KFe=(t,e)=>{const n=ge(!1),r=ge();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var h;((h=u.detail)==null?void 0:h.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{t.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},qFe=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,s={placement:n,strategy:r,...i,modifiers:[...YFe(t),...e]};return ZFe(s,i==null?void 0:i.modifiers),s},XFe=t=>{if(Wi)return Hh(t)};function YFe(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e!=null?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function ZFe(t,e){e&&(t.modifiers=[...t.modifiers,...e!=null?e:[]])}const JFe=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=eOe(l);Object.assign(a.value,u)},requires:["computeStyles"]},i=J(()=>{const{onFirstUpdate:l,placement:u,strategy:h,modifiers:d}=b(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:h||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),s=Cs(),a=ge({styles:{popper:{position:b(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Ct(i,l=>{const u=b(s);u&&u.setOptions(l)},{deep:!0}),Ct([t,e],([l,u])=>{o(),!(!l||!u)&&(s.value=$Fe(l,u,b(i)))}),Hs(()=>{o()}),{state:J(()=>{var l;return{...((l=b(s))==null?void 0:l.state)||{}}}),styles:J(()=>b(a).styles),attributes:J(()=>b(a).attributes),update:()=>{var l;return(l=b(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=b(s))==null?void 0:l.forceUpdate()},instanceRef:J(()=>b(s))}};function eOe(t){const e=Object.keys(t.elements),n=vM(e.map(i=>[i,t.styles[i]||{}])),r=vM(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}const tOe=0,nOe=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=qt(s$,void 0),s=ge(),a=ge(),o=J(()=>({name:"eventListeners",enabled:!!t.visible})),l=J(()=>{var _;const x=b(s),S=(_=b(a))!=null?_:tOe;return{name:"arrow",enabled:!cle(x),options:{element:x,padding:S}}}),u=J(()=>({onFirstUpdate:()=>{m()},...qFe(t,[b(l),b(o)])})),h=J(()=>XFe(t.referenceEl)||b(r)),{attributes:d,state:f,styles:A,update:m,forceUpdate:g,instanceRef:y}=JFe(h,n,u);return Ct(y,_=>e.value=_),rr(()=>{Ct(()=>{var _;return(_=b(h))==null?void 0:_.getBoundingClientRect()},()=>{m()})}),{attributes:d,arrowRef:s,contentRef:n,instanceRef:y,state:f,styles:A,role:i,forceUpdate:g,update:m}},rOe=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=HS(),s=Jt("popper"),a=J(()=>b(e).popper),o=ge(tr(t.zIndex)?t.zIndex:i()),l=J(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),u=J(()=>[{zIndex:b(o)},b(n).popper,t.popperStyle||{}]),h=J(()=>r.value==="dialog"?"false":void 0),d=J(()=>b(n).arrow||{});return{ariaModal:h,arrowStyle:d,contentAttrs:a,contentClass:l,contentStyle:u,contentZIndex:o,updateZIndex:()=>{o.value=tr(t.zIndex)?t.zIndex:i()}}},iOe=Me({name:"ElPopperContent"}),sOe=Me({...iOe,props:Jle,emits:jFe,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:a,onFocusAfterTrapped:o,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:h}=KFe(r,n),{attributes:d,arrowRef:f,contentRef:A,styles:m,instanceRef:g,role:y,update:_}=nOe(r),{ariaModal:x,arrowStyle:S,contentAttrs:C,contentClass:M,contentStyle:B,updateZIndex:E}=rOe(r,{styles:m,attributes:d,role:y}),L=qt(lm,void 0),I=ge();dr(Ile,{arrowStyle:S,arrowRef:f,arrowOffset:I}),L&&dr(lm,{...L,addInputId:Os,removeInputId:Os});let k;const O=(U=!0)=>{_(),U&&E()},F=()=>{O(!1),r.visible&&r.focusOnShow?s.value=!0:r.visible===!1&&(s.value=!1)};return rr(()=>{Ct(()=>r.triggerTargetEl,(U,$)=>{k==null||k(),k=void 0;const K=b(U||A.value),V=b($||A.value);zh(K)&&(k=Ct([y,()=>r.ariaLabel,x,()=>r.id],Q=>{["role","aria-label","aria-modal","id"].forEach((X,z)=>{lc(Q[z])?K.removeAttribute(X):K.setAttribute(X,Q[z])})},{immediate:!0})),V!==K&&zh(V)&&["role","aria-label","aria-modal","id"].forEach(Q=>{V.removeAttribute(Q)})},{immediate:!0}),Ct(()=>r.visible,F,{immediate:!0})}),Hs(()=>{k==null||k(),k=void 0}),e({popperContentRef:A,popperInstanceRef:g,updatePopper:O,contentStyle:B}),(U,$)=>(ie(),Ee("div",hi({ref_key:"contentRef",ref:A},b(C),{style:b(B),class:b(M),tabindex:"-1",onMouseenter:K=>U.$emit("mouseenter",K),onMouseleave:K=>U.$emit("mouseleave",K)}),[Ce(b(VS),{trapped:b(s),"trap-on-focus-in":!0,"focus-trap-el":b(A),"focus-start-el":b(i),onFocusAfterTrapped:b(o),onFocusAfterReleased:b(a),onFocusin:b(l),onFocusoutPrevented:b(u),onReleaseRequested:b(h)},{default:De(()=>[tt(U.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var aOe=mn(sOe,[["__file","content.vue"]]);const ece=Nr(yPe),A5=Symbol("elTooltip");function Uq(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return _L(()=>n()),{registerTimeout:e,cancelTimeout:n}}const oOe=hn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),lOe=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:s}=Uq(),{registerTimeout:a,cancelTimeout:o}=Uq();return{onOpen:h=>{s(()=>{r(h);const d=b(n);tr(d)&&d>0&&a(()=>{i(h)},d)},b(t))},onClose:h=>{o(),s(()=>{i(h)},b(e))}}},_c=hn({...oOe,...Jle,appendTo:{type:ht([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ht(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...nu(["ariaLabel"])}),wM=hn({...Ole,disabled:Boolean,trigger:{type:ht([String,Array]),default:"hover"},triggerKeys:{type:ht(Array),default:()=>[Ln.enter,Ln.numpadEnter,Ln.space]}}),cOe=Ip({type:ht(Boolean),default:null}),uOe=Ip({type:ht(Function)}),hOe=t=>{const e="update:".concat(t),n="onUpdate:".concat(t),r=[e],i={[t]:cOe,[n]:uOe};return{useModelToggle:({indicator:a,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:h,onHide:d})=>{const f=ni(),{emit:A}=f,m=f.props,g=J(()=>Kn(m[n])),y=J(()=>m[t]===null),_=E=>{a.value!==!0&&(a.value=!0,o&&(o.value=E),Kn(h)&&h(E))},x=E=>{a.value!==!1&&(a.value=!1,o&&(o.value=E),Kn(d)&&d(E))},S=E=>{if(m.disabled===!0||Kn(u)&&!u())return;const L=g.value&&Wi;L&&A(e,!0),(y.value||!L)&&_(E)},C=E=>{if(m.disabled===!0||!Wi)return;const L=g.value&&Wi;L&&A(e,!1),(y.value||!L)&&x(E)},M=E=>{Js(E)&&(m.disabled&&E?g.value&&A(e,!1):a.value!==E&&(E?_():x()))},B=()=>{a.value?C():S()};return Ct(()=>m[t],M),l&&f.appContext.config.globalProperties.$route!==void 0&&Ct(()=>({...f.proxy.$route}),()=>{l.value&&a.value&&C()}),rr(()=>{M(m[t])}),{hide:C,show:S,toggle:B,hasUpdateHandler:g}},useModelToggleProps:i,useModelToggleEmits:r}},{useModelToggleProps:dOe,useModelToggleEmits:fOe,useModelToggle:AOe}=hOe("visible"),pOe=hn({...Ple,...dOe,..._c,...wM,...Fle,showArrow:{type:Boolean,default:!0}}),gOe=[...fOe,"before-show","before-hide","show","hide","open","close"],mOe=(t,e)=>an(t)?t.includes(e):t===e,Bb=(t,e,n)=>r=>{mOe(b(t),e)&&n(r)},Ro=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const s=t==null?void 0:t(i);if(n===!1||!s)return e==null?void 0:e(i)},Hq=t=>e=>e.pointerType==="mouse"?t(e):void 0,vOe=Me({name:"ElTooltipTrigger"}),yOe=Me({...vOe,props:wM,setup(t,{expose:e}){const n=t,r=Jt("tooltip"),{controlled:i,id:s,open:a,onOpen:o,onClose:l,onToggle:u}=qt(A5,void 0),h=ge(null),d=()=>{if(b(i)||n.disabled)return!0},f=Is(n,"trigger"),A=Ro(d,Bb(f,"hover",o)),m=Ro(d,Bb(f,"hover",l)),g=Ro(d,Bb(f,"click",C=>{C.button===0&&u(C)})),y=Ro(d,Bb(f,"focus",o)),_=Ro(d,Bb(f,"focus",l)),x=Ro(d,Bb(f,"contextmenu",C=>{C.preventDefault(),u(C)})),S=Ro(d,C=>{const{code:M}=C;n.triggerKeys.includes(M)&&(C.preventDefault(),u(C))});return e({triggerRef:h}),(C,M)=>(ie(),St(b(BPe),{id:b(s),"virtual-ref":C.virtualRef,open:b(a),"virtual-triggering":C.virtualTriggering,class:de(b(r).e("trigger")),onBlur:b(_),onClick:b(g),onContextmenu:b(x),onFocus:b(y),onMouseenter:b(A),onMouseleave:b(m),onKeydown:b(S)},{default:De(()=>[tt(C.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var _Oe=mn(yOe,[["__file","trigger.vue"]]);const wOe=hn({to:{type:ht([String,Object]),required:!0},disabled:Boolean}),bOe=Me({__name:"teleport",props:wOe,setup(t){return(e,n)=>e.disabled?tt(e.$slots,"default",{key:0}):(ie(),St(Owe,{key:1,to:e.to},[tt(e.$slots,"default")],8,["to"]))}});var xOe=mn(bOe,[["__file","teleport.vue"]]);const zS=Nr(xOe),tce=()=>{const t=Pz(),e=r$(),n=J(()=>"".concat(t.value,"-popper-container-").concat(e.prefix)),r=J(()=>"#".concat(n.value));return{id:n,selector:r}},EOe=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},SOe=()=>{const{id:t,selector:e}=tce();return QN(()=>{Wi&&(document.body.querySelector(e.value)||EOe(t.value))}),{id:t,selector:e}},COe=Me({name:"ElTooltipContent",inheritAttrs:!1}),TOe=Me({...COe,props:_c,setup(t,{expose:e}){const n=t,{selector:r}=tce(),i=Jt("tooltip"),s=ge();let a;const{controlled:o,id:l,open:u,trigger:h,onClose:d,onOpen:f,onShow:A,onHide:m,onBeforeShow:g,onBeforeHide:y}=qt(A5,void 0),_=J(()=>n.transition||"".concat(i.namespace.value,"-fade-in-linear")),x=J(()=>n.persistent);Hs(()=>{a==null||a()});const S=J(()=>b(x)?!0:b(u)),C=J(()=>n.disabled?!1:b(u)),M=J(()=>n.appendTo||r.value),B=J(()=>{var Q;return(Q=n.style)!=null?Q:{}}),E=ge(!0),L=()=>{m(),V()&&rv(document.body),E.value=!0},I=()=>{if(b(o))return!0},k=Ro(I,()=>{n.enterable&&b(h)==="hover"&&f()}),O=Ro(I,()=>{b(h)==="hover"&&d()}),F=()=>{var Q,X;(X=(Q=s.value)==null?void 0:Q.updatePopper)==null||X.call(Q),g==null||g()},U=()=>{y==null||y()},$=()=>{A(),a=Xz(J(()=>{var Q;return(Q=s.value)==null?void 0:Q.popperContentRef}),()=>{if(b(o))return;b(h)!=="hover"&&d()})},K=()=>{n.virtualTriggering||d()},V=Q=>{var X;const z=(X=s.value)==null?void 0:X.popperContentRef,ne=(Q==null?void 0:Q.relatedTarget)||document.activeElement;return z==null?void 0:z.contains(ne)};return Ct(()=>b(u),Q=>{Q?E.value=!1:a==null||a()},{flush:"post"}),Ct(()=>n.content,()=>{var Q,X;(X=(Q=s.value)==null?void 0:Q.updatePopper)==null||X.call(Q)}),e({contentRef:s,isFocusInsideContent:V}),(Q,X)=>(ie(),St(b(zS),{disabled:!Q.teleported,to:b(M)},{default:De(()=>[Ce(Tc,{name:b(_),onAfterLeave:L,onBeforeEnter:F,onAfterEnter:$,onBeforeLeave:U},{default:De(()=>[b(S)?Br((ie(),St(b(aOe),hi({key:0,id:b(l),ref_key:"contentRef",ref:s},Q.$attrs,{"aria-label":Q.ariaLabel,"aria-hidden":E.value,"boundaries-padding":Q.boundariesPadding,"fallback-placements":Q.fallbackPlacements,"gpu-acceleration":Q.gpuAcceleration,offset:Q.offset,placement:Q.placement,"popper-options":Q.popperOptions,strategy:Q.strategy,effect:Q.effect,enterable:Q.enterable,pure:Q.pure,"popper-class":Q.popperClass,"popper-style":[Q.popperStyle,b(B)],"reference-el":Q.referenceEl,"trigger-target-el":Q.triggerTargetEl,visible:b(C),"z-index":Q.zIndex,onMouseenter:b(k),onMouseleave:b(O),onBlur:K,onClose:b(d)}),{default:De(()=>[tt(Q.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Qi,b(C)]]):lt("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var MOe=mn(TOe,[["__file","content.vue"]]);const LOe=Me({name:"ElTooltip"}),BOe=Me({...LOe,props:pOe,emits:gOe,setup(t,{expose:e,emit:n}){const r=t;SOe();const i=tu(),s=ge(),a=ge(),o=()=>{var _;const x=b(s);x&&((_=x.popperInstanceRef)==null||_.update())},l=ge(!1),u=ge(),{show:h,hide:d,hasUpdateHandler:f}=AOe({indicator:l,toggleReason:u}),{onOpen:A,onClose:m}=lOe({showAfter:Is(r,"showAfter"),hideAfter:Is(r,"hideAfter"),autoClose:Is(r,"autoClose"),open:h,close:d}),g=J(()=>Js(r.visible)&&!f.value);dr(A5,{controlled:g,id:i,open:FS(l),trigger:Is(r,"trigger"),onOpen:_=>{A(_)},onClose:_=>{m(_)},onToggle:_=>{b(l)?m(_):A(_)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:o}),Ct(()=>r.disabled,_=>{_&&l.value&&(l.value=!1)});const y=_=>{var x;return(x=a.value)==null?void 0:x.isFocusInsideContent(_)};return dae(()=>l.value&&d()),e({popperRef:s,contentRef:a,isFocusInsideContent:y,updatePopper:o,onOpen:A,onClose:m,hide:d}),(_,x)=>(ie(),St(b(ece),{ref_key:"popperRef",ref:s,role:_.role},{default:De(()=>[Ce(_Oe,{disabled:_.disabled,trigger:_.trigger,"trigger-keys":_.triggerKeys,"virtual-ref":_.virtualRef,"virtual-triggering":_.virtualTriggering},{default:De(()=>[_.$slots.default?tt(_.$slots,"default",{key:0}):lt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ce(MOe,{ref_key:"contentRef",ref:a,"aria-label":_.ariaLabel,"boundaries-padding":_.boundariesPadding,content:_.content,disabled:_.disabled,effect:_.effect,enterable:_.enterable,"fallback-placements":_.fallbackPlacements,"hide-after":_.hideAfter,"gpu-acceleration":_.gpuAcceleration,offset:_.offset,persistent:_.persistent,"popper-class":_.popperClass,"popper-style":_.popperStyle,placement:_.placement,"popper-options":_.popperOptions,pure:_.pure,"raw-content":_.rawContent,"reference-el":_.referenceEl,"trigger-target-el":_.triggerTargetEl,"show-after":_.showAfter,strategy:_.strategy,teleported:_.teleported,transition:_.transition,"virtual-triggering":_.virtualTriggering,"z-index":_.zIndex,"append-to":_.appendTo},{default:De(()=>[tt(_.$slots,"content",{},()=>[_.rawContent?(ie(),Ee("span",{key:0,innerHTML:_.content},null,8,["innerHTML"])):(ie(),Ee("span",{key:1},cn(_.content),1))]),_.showArrow?(ie(),St(b(bPe),{key:0,"arrow-offset":_.arrowOffset},null,8,["arrow-offset"])):lt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var ROe=mn(BOe,[["__file","tooltip.vue"]]);const Eu=Nr(ROe),IOe=hn({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ht(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ht([Function,Array]),default:Os},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:_c.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...nu(["ariaLabel"])}),POe={[zr]:t=>Qn(t),[bu]:t=>Qn(t),[Qs]:t=>Qn(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>qr(t)},nce="ElAutocomplete",FOe=Me({name:nce,inheritAttrs:!1}),OOe=Me({...FOe,props:IOe,emits:POe,setup(t,{expose:e,emit:n}){const r=t,i=wL(),s=Ya(),a=Tu(),o=Jt("autocomplete"),l=ge(),u=ge(),h=ge(),d=ge();let f=!1,A=!1;const m=ge([]),g=ge(-1),y=ge(""),_=ge(!1),x=ge(!1),S=ge(!1),C=tu(),M=J(()=>s.style),B=J(()=>(m.value.length>0||S.value)&&_.value),E=J(()=>!r.hideLoading&&S.value),L=J(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),I=()=>{B.value&&(y.value="".concat(l.value.$el.offsetWidth,"px"))},k=()=>{g.value=-1},O=async ce=>{if(x.value)return;const be=xe=>{S.value=!1,!x.value&&(an(xe)?(m.value=xe,g.value=r.highlightFirstItem?0:-1):Gl(nce,"autocomplete suggestions must be an array"))};if(S.value=!0,an(r.fetchSuggestions))be(r.fetchSuggestions);else{const xe=await r.fetchSuggestions(ce,be);an(xe)&&be(xe)}},F=Dd(O,r.debounce),U=ce=>{const be=!!ce;if(n(bu,ce),n(zr,ce),x.value=!1,_.value||(_.value=be),!r.triggerOnFocus&&!ce){x.value=!0,m.value=[];return}F(ce)},$=ce=>{var be;a.value||(((be=ce.target)==null?void 0:be.tagName)!=="INPUT"||L.value.includes(document.activeElement))&&(_.value=!0)},K=ce=>{n(Qs,ce)},V=ce=>{A?A=!1:(_.value=!0,n("focus",ce),r.triggerOnFocus&&!f&&F(String(r.modelValue)))},Q=ce=>{setTimeout(()=>{var be;if((be=h.value)!=null&&be.isFocusInsideContent()){A=!0;return}_.value&&he(),n("blur",ce)})},X=()=>{_.value=!1,n(zr,""),n("clear")},z=async()=>{B.value&&g.value>=0&&g.value<m.value.length?oe(m.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),m.value=[],g.value=-1)},ne=ce=>{B.value&&(ce.preventDefault(),ce.stopPropagation(),he())},he=()=>{_.value=!1},W=()=>{var ce;(ce=l.value)==null||ce.focus()},Y=()=>{var ce;(ce=l.value)==null||ce.blur()},oe=async ce=>{n(bu,ce[r.valueKey]),n(zr,ce[r.valueKey]),n("select",ce),m.value=[],g.value=-1},fe=ce=>{if(!B.value||S.value)return;if(ce<0){g.value=-1;return}ce>=m.value.length&&(ce=m.value.length-1);const be=u.value.querySelector(".".concat(o.be("suggestion","wrap"))),Ie=be.querySelectorAll(".".concat(o.be("suggestion","list")," li"))[ce],Qe=be.scrollTop,{offsetTop:ue,scrollHeight:ye}=Ie;ue+ye>Qe+be.clientHeight&&(be.scrollTop+=ye),ue<Qe&&(be.scrollTop-=ye),g.value=ce,l.value.ref.setAttribute("aria-activedescendant","".concat(C.value,"-item-").concat(g.value))},me=Xz(d,()=>{var ce;(ce=h.value)!=null&&ce.isFocusInsideContent()||B.value&&he()});return Hs(()=>{me==null||me()}),rr(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant","".concat(C.value,"-item-").concat(g.value)),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:g,activated:_,loading:S,inputRef:l,popperRef:h,suggestions:m,handleSelect:oe,handleKeyEnter:z,focus:W,blur:Y,close:he,highlight:fe,getData:O}),(ce,be)=>(ie(),St(b(Eu),{ref_key:"popperRef",ref:h,visible:b(B),placement:ce.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[b(o).e("popper"),ce.popperClass],teleported:ce.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:"".concat(b(o).namespace.value,"-zoom-in-top"),persistent:"",role:"listbox",onBeforeShow:I,onHide:k},{content:De(()=>[Be("div",{ref_key:"regionRef",ref:u,class:de([b(o).b("suggestion"),b(o).is("loading",b(E))]),style:Xn({[ce.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[Ce(b(gm),{id:b(C),tag:"ul","wrap-class":b(o).be("suggestion","wrap"),"view-class":b(o).be("suggestion","list"),role:"listbox"},{default:De(()=>[b(E)?(ie(),Ee("li",{key:0},[tt(ce.$slots,"loading",{},()=>[Ce(b(Vn),{class:de(b(o).is("loading"))},{default:De(()=>[Ce(b(am))]),_:1},8,["class"])])])):(ie(!0),Ee(Wn,{key:1},wi(m.value,(xe,Ie)=>(ie(),Ee("li",{id:"".concat(b(C),"-item-").concat(Ie),key:Ie,class:de({highlighted:g.value===Ie}),role:"option","aria-selected":g.value===Ie,onClick:Qe=>oe(xe)},[tt(ce.$slots,"default",{item:xe},()=>[Mr(cn(xe[ce.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:De(()=>[Be("div",{ref_key:"listboxRef",ref:d,class:de([b(o).b(),ce.$attrs.class]),style:Xn(b(M)),role:"combobox","aria-haspopup":"listbox","aria-expanded":b(B),"aria-owns":b(C)},[Ce(b(sh),hi({ref_key:"inputRef",ref:l},b(i),{clearable:ce.clearable,disabled:b(a),name:ce.name,"model-value":ce.modelValue,"aria-label":ce.ariaLabel,onInput:U,onChange:K,onFocus:V,onBlur:Q,onClear:X,onKeydown:[$s(mr(xe=>fe(g.value-1),["prevent"]),["up"]),$s(mr(xe=>fe(g.value+1),["prevent"]),["down"]),$s(z,["enter"]),$s(he,["tab"]),$s(ne,["esc"])],onMousedown:$}),Lf({_:2},[ce.$slots.prepend?{name:"prepend",fn:De(()=>[tt(ce.$slots,"prepend")])}:void 0,ce.$slots.append?{name:"append",fn:De(()=>[tt(ce.$slots,"append")])}:void 0,ce.$slots.prefix?{name:"prefix",fn:De(()=>[tt(ce.$slots,"prefix")])}:void 0,ce.$slots.suffix?{name:"suffix",fn:De(()=>[tt(ce.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var NOe=mn(OOe,[["__file","autocomplete.vue"]]);const DOe=Nr(NOe),kOe=hn({size:{type:[Number,String],values:pm,default:"",validator:t=>tr(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ws},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ht(String),default:"cover"}}),UOe={error:t=>t instanceof Event},HOe=Me({name:"ElAvatar"}),GOe=Me({...HOe,props:kOe,emits:UOe,setup(t,{emit:e}){const n=t,r=Jt("avatar"),i=ge(!1),s=J(()=>{const{size:u,icon:h,shape:d}=n,f=[r.b()];return Qn(u)&&f.push(r.m(u)),h&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),a=J(()=>{const{size:u}=n;return tr(u)?r.cssVarBlock({size:xo(u)||""}):void 0}),o=J(()=>({objectFit:n.fit}));Ct(()=>n.src,()=>i.value=!1);function l(u){i.value=!0,e("error",u)}return(u,h)=>(ie(),Ee("span",{class:de(b(s)),style:Xn(b(a))},[(u.src||u.srcSet)&&!i.value?(ie(),Ee("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:Xn(b(o)),onError:l},null,44,["src","alt","srcset"])):u.icon?(ie(),St(b(Vn),{key:1},{default:De(()=>[(ie(),St(li(u.icon)))]),_:1})):tt(u.$slots,"default",{key:2})],6))}});var VOe=mn(GOe,[["__file","avatar.vue"]]);const zOe=Nr(VOe),$Oe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},QOe={click:t=>t instanceof MouseEvent},WOe=(t,e,n)=>{const r=Cs(),i=Cs(),s=ge(!1),a=()=>{r.value&&(s.value=r.value.scrollTop>=t.visibilityHeight)},o=u=>{var h;(h=r.value)==null||h.scrollTo({top:0,behavior:"smooth"}),e("click",u)},l=fle(a,300,!0);return Us(i,"scroll",l),rr(()=>{var u;i.value=document,r.value=document.documentElement,t.target&&(r.value=(u=document.querySelector(t.target))!=null?u:void 0,r.value||Gl(n,"target does not exist: ".concat(t.target)),i.value=r.value),a()}),{visible:s,handleClick:o}},rce="ElBacktop",jOe=Me({name:rce}),KOe=Me({...jOe,props:$Oe,emits:QOe,setup(t,{emit:e}){const n=t,r=Jt("backtop"),{handleClick:i,visible:s}=WOe(n,e,rce),a=J(()=>({right:"".concat(n.right,"px"),bottom:"".concat(n.bottom,"px")}));return(o,l)=>(ie(),St(Tc,{name:"".concat(b(r).namespace.value,"-fade-in")},{default:De(()=>[b(s)?(ie(),Ee("div",{key:0,style:Xn(b(a)),class:de(b(r).b()),onClick:mr(b(i),["stop"])},[tt(o.$slots,"default",{},()=>[Ce(b(Vn),{class:de(b(r).e("icon"))},{default:De(()=>[Ce(b(bxe))]),_:1},8,["class"])])],14,["onClick"])):lt("v-if",!0)]),_:3},8,["name"]))}});var qOe=mn(KOe,[["__file","backtop.vue"]]);const XOe=Nr(qOe),YOe=hn({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:ht([String,Object,Array])},offset:{type:ht(Array),default:[0,0]},badgeClass:{type:String}}),ZOe=Me({name:"ElBadge"}),JOe=Me({...ZOe,props:YOe,setup(t,{expose:e}){const n=t,r=Jt("badge"),i=J(()=>n.isDot?"":tr(n.value)&&tr(n.max)&&n.max<n.value?"".concat(n.max,"+"):"".concat(n.value)),s=J(()=>{var a,o,l,u,h;return[{backgroundColor:n.color,marginRight:xo(-((o=(a=n.offset)==null?void 0:a[0])!=null?o:0)),marginTop:xo((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(h=n.badgeStyle)!=null?h:{}]});return e({content:i}),(a,o)=>(ie(),Ee("div",{class:de(b(r).b())},[tt(a.$slots,"default"),Ce(Tc,{name:"".concat(b(r).namespace.value,"-zoom-in-center"),persisted:""},{default:De(()=>[Br(Be("sup",{class:de([b(r).e("content"),b(r).em("content",a.type),b(r).is("fixed",!!a.$slots.default),b(r).is("dot",a.isDot),b(r).is("hide-zero",!a.showZero&&n.value===0),a.badgeClass]),style:Xn(b(s))},[tt(a.$slots,"content",{value:b(i)},()=>[Mr(cn(b(i)),1)])],6),[[Qi,!a.hidden&&(b(i)||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var eNe=mn(JOe,[["__file","badge.vue"]]);const ice=Nr(eNe),sce=Symbol("breadcrumbKey"),tNe=hn({separator:{type:String,default:"/"},separatorIcon:{type:Ws}}),nNe=Me({name:"ElBreadcrumb"}),rNe=Me({...nNe,props:tNe,setup(t){const e=t,{t:n}=ji(),r=Jt("breadcrumb"),i=ge();return dr(sce,e),rr(()=>{const s=i.value.querySelectorAll(".".concat(r.e("item")));s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,a)=>(ie(),Ee("div",{ref_key:"breadcrumb",ref:i,class:de(b(r).b()),"aria-label":b(n)("el.breadcrumb.label"),role:"navigation"},[tt(s.$slots,"default")],10,["aria-label"]))}});var iNe=mn(rNe,[["__file","breadcrumb.vue"]]);const sNe=hn({to:{type:ht([String,Object]),default:""},replace:Boolean}),aNe=Me({name:"ElBreadcrumbItem"}),oNe=Me({...aNe,props:sNe,setup(t){const e=t,n=ni(),r=qt(sce,void 0),i=Jt("breadcrumb"),s=n.appContext.config.globalProperties.$router,a=ge(),o=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(l,u)=>{var h,d;return ie(),Ee("span",{class:de(b(i).e("item"))},[Be("span",{ref_key:"link",ref:a,class:de([b(i).e("inner"),b(i).is("link",!!l.to)]),role:"link",onClick:o},[tt(l.$slots,"default")],2),(h=b(r))!=null&&h.separatorIcon?(ie(),St(b(Vn),{key:0,class:de(b(i).e("separator"))},{default:De(()=>[(ie(),St(li(b(r).separatorIcon)))]),_:1},8,["class"])):(ie(),Ee("span",{key:1,class:de(b(i).e("separator")),role:"presentation"},cn((d=b(r))==null?void 0:d.separator),3))],2)}}});var ace=mn(oNe,[["__file","breadcrumb-item.vue"]]);const lNe=Nr(iNe,{BreadcrumbItem:ace}),cNe=ho(ace),oce=Symbol("buttonGroupContextKey"),iy=({from:t,replacement:e,scope:n,version:r,ref:i,type:s="API"},a)=>{Ct(()=>b(a),o=>{},{immediate:!0})},uNe=(t,e)=>{iy({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},J(()=>t.type==="text"));const n=qt(oce,void 0),r=l5("button"),{form:i}=Cu(),s=al(J(()=>n==null?void 0:n.size)),a=Tu(),o=ge(),l=Cl(),u=J(()=>t.type||(n==null?void 0:n.type)||""),h=J(()=>{var m,g,y;return(y=(g=t.autoInsertSpace)!=null?g:(m=r.value)==null?void 0:m.autoInsertSpace)!=null?y:!1}),d=J(()=>t.tag==="button"?{ariaDisabled:a.value||t.loading,disabled:a.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=J(()=>{var m;const g=(m=l.default)==null?void 0:m.call(l);if(h.value&&(g==null?void 0:g.length)===1){const y=g[0];if((y==null?void 0:y.type)===OS){const _=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(_.trim())}}return!1});return{_disabled:a,_size:s,_type:u,_ref:o,_props:d,shouldAddSpace:f,handleClick:m=>{if(a.value||t.loading){m.stopPropagation();return}t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",m)}}},O8=["default","primary","success","warning","info","danger","text",""],hNe=["button","submit","reset"],N8=hn({size:Sl,disabled:Boolean,type:{type:String,values:O8,default:""},icon:{type:Ws},nativeType:{type:String,values:hNe,default:"button"},loading:Boolean,loadingIcon:{type:Ws,default:()=>am},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ht([String,Object]),default:"button"}}),dNe={click:t=>t instanceof MouseEvent};function xu(t,e){fNe(t)&&(t="100%");var n=ANe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function yR(t){return Math.min(1,Math.max(0,t))}function fNe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function ANe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function lce(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function _R(t){return t<=1?"".concat(Number(t)*100,"%"):t}function s1(t){return t.length===1?"0"+t:String(t)}function pNe(t,e,n){return{r:xu(t,255)*255,g:xu(e,255)*255,b:xu(n,255)*255}}function Gq(t,e,n){t=xu(t,255),e=xu(e,255),n=xu(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,a=0,o=(r+i)/2;if(r===i)a=0,s=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function TU(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gNe(t,e,n){var r,i,s;if(t=xu(t,360),e=xu(e,100),n=xu(n,100),e===0)i=n,s=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;r=TU(o,a,t+1/3),i=TU(o,a,t),s=TU(o,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Vq(t,e,n){t=xu(t,255),e=xu(e,255),n=xu(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,a=r,o=r-i,l=r===0?0:o/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/o+(e<n?6:0);break;case e:s=(n-t)/o+2;break;case n:s=(t-e)/o+4;break}s/=6}return{h:s,s:l,v:a}}function mNe(t,e,n){t=xu(t,360)*6,e=xu(e,100),n=xu(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,u=[n,a,s,s,o,n][l],h=[o,n,n,a,s,s][l],d=[s,s,o,n,n,a][l];return{r:u*255,g:h*255,b:d*255}}function zq(t,e,n,r){var i=[s1(Math.round(t).toString(16)),s1(Math.round(e).toString(16)),s1(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vNe(t,e,n,r,i){var s=[s1(Math.round(t).toString(16)),s1(Math.round(e).toString(16)),s1(Math.round(n).toString(16)),s1(yNe(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function yNe(t){return Math.round(parseFloat(t)*255).toString(16)}function $q(t){return cf(t)/255}function cf(t){return parseInt(t,16)}function _Ne(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var D8={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wNe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=ENe(t)),typeof t=="object"&&(Vm(t.r)&&Vm(t.g)&&Vm(t.b)?(e=pNe(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Vm(t.h)&&Vm(t.s)&&Vm(t.v)?(r=_R(t.s),i=_R(t.v),e=mNe(t.h,r,i),a=!0,o="hsv"):Vm(t.h)&&Vm(t.s)&&Vm(t.l)&&(r=_R(t.s),s=_R(t.l),e=gNe(t.h,r,s),a=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=lce(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var bNe="[-\\+]?\\d+%?",xNe="[-\\+]?\\d*\\.\\d+%?",$0="(?:".concat(xNe,")|(?:").concat(bNe,")"),MU="[\\s|\\(]+(".concat($0,")[,|\\s]+(").concat($0,")[,|\\s]+(").concat($0,")\\s*\\)?"),LU="[\\s|\\(]+(".concat($0,")[,|\\s]+(").concat($0,")[,|\\s]+(").concat($0,")[,|\\s]+(").concat($0,")\\s*\\)?"),ZA={CSS_UNIT:new RegExp($0),rgb:new RegExp("rgb"+MU),rgba:new RegExp("rgba"+LU),hsl:new RegExp("hsl"+MU),hsla:new RegExp("hsla"+LU),hsv:new RegExp("hsv"+MU),hsva:new RegExp("hsva"+LU),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ENe(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(D8[t])t=D8[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ZA.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=ZA.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ZA.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=ZA.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ZA.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=ZA.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ZA.hex8.exec(t),n?{r:cf(n[1]),g:cf(n[2]),b:cf(n[3]),a:$q(n[4]),format:e?"name":"hex8"}:(n=ZA.hex6.exec(t),n?{r:cf(n[1]),g:cf(n[2]),b:cf(n[3]),format:e?"name":"hex"}:(n=ZA.hex4.exec(t),n?{r:cf(n[1]+n[1]),g:cf(n[2]+n[2]),b:cf(n[3]+n[3]),a:$q(n[4]+n[4]),format:e?"name":"hex8"}:(n=ZA.hex3.exec(t),n?{r:cf(n[1]+n[1]),g:cf(n[2]+n[2]),b:cf(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Vm(t){return!!ZA.CSS_UNIT.exec(String(t))}var cce=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=_Ne(e)),this.originalInput=e;var i=wNe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,a=e.g/255,o=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=lce(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=Vq(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Vq(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Gq(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Gq(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),zq(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),vNe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(xu(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(xu(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+zq(this.r,this.g,this.b,!1),n=0,r=Object.entries(D8);n<r.length;n++){var i=r[n],s=i[0],a=i[1];if(e===a)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=yR(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=yR(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=yR(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=yR(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(new t({h:r,s:i,v:s})),s=(s+o)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function p0(t,e=20){return t.mix("#141414",e).toString()}function SNe(t){const e=Tu(),n=Jt("button");return J(()=>{let r={},i=t.color;if(i){const s=i.match(/var\((.*?)\)/);s&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(s[1]));const a=new cce(i),o=t.dark?a.tint(20).toString():p0(a,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?p0(a,90):a.tint(90).toString(),"text-color":i,"border-color":t.dark?p0(a,50):a.tint(50).toString(),"hover-text-color":"var(".concat(n.cssVarName("color-white"),")"),"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":"var(".concat(n.cssVarName("color-white"),")"),"active-border-color":o}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?p0(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?p0(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?p0(a,80):a.tint(80).toString());else{const l=t.dark?p0(a,30):a.tint(30).toString(),u=a.isDark()?"var(".concat(n.cssVarName("color-white"),")"):"var(".concat(n.cssVarName("color-black"),")");if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const h=t.dark?p0(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=h,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":"var(".concat(n.cssVarName("color-white"),")"),r[n.cssVarBlockName("disabled-border-color")]=h}}}return r})}const CNe=Me({name:"ElButton"}),TNe=Me({...CNe,props:N8,emits:dNe,setup(t,{expose:e,emit:n}){const r=t,i=SNe(r),s=Jt("button"),{_ref:a,_size:o,_type:l,_disabled:u,_props:h,shouldAddSpace:d,handleClick:f}=uNe(r,n),A=J(()=>[s.b(),s.m(l.value),s.m(o.value),s.is("disabled",u.value),s.is("loading",r.loading),s.is("plain",r.plain),s.is("round",r.round),s.is("circle",r.circle),s.is("text",r.text),s.is("link",r.link),s.is("has-bg",r.bg)]);return e({ref:a,size:o,type:l,disabled:u,shouldAddSpace:d}),(m,g)=>(ie(),St(li(m.tag),hi({ref_key:"_ref",ref:a},b(h),{class:b(A),style:b(i),onClick:b(f)}),{default:De(()=>[m.loading?(ie(),Ee(Wn,{key:0},[m.$slots.loading?tt(m.$slots,"loading",{key:0}):(ie(),St(b(Vn),{key:1,class:de(b(s).is("loading"))},{default:De(()=>[(ie(),St(li(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(ie(),St(b(Vn),{key:1},{default:De(()=>[m.icon?(ie(),St(li(m.icon),{key:0})):tt(m.$slots,"icon",{key:1})]),_:3})):lt("v-if",!0),m.$slots.default?(ie(),Ee("span",{key:2,class:de({[b(s).em("text","expand")]:b(d)})},[tt(m.$slots,"default")],2)):lt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var MNe=mn(TNe,[["__file","button.vue"]]);const LNe={size:N8.size,type:N8.type},BNe=Me({name:"ElButtonGroup"}),RNe=Me({...BNe,props:LNe,setup(t){const e=t;dr(oce,as({size:Is(e,"size"),type:Is(e,"type")}));const n=Jt("button");return(r,i)=>(ie(),Ee("div",{class:de(b(n).b("group"))},[tt(r.$slots,"default")],2))}});var uce=mn(RNe,[["__file","button-group.vue"]]);const Sc=Nr(MNe,{ButtonGroup:uce}),hce=ho(uce);var DP={exports:{}},INe=DP.exports,Qq;function PNe(){return Qq||(Qq=1,function(t,e){(function(n,r){t.exports=r()})(INe,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",h="week",d="month",f="quarter",A="year",m="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var K=["th","st","nd","rd"],V=$%100;return"["+$+(K[(V-20)%10]||K[V]||K[0])+"]"}},S=function($,K,V){var Q=String($);return!Q||Q.length>=K?$:""+Array(K+1-Q.length).join(V)+$},C={s:S,z:function($){var K=-$.utcOffset(),V=Math.abs(K),Q=Math.floor(V/60),X=V%60;return(K<=0?"+":"-")+S(Q,2,"0")+":"+S(X,2,"0")},m:function $(K,V){if(K.date()<V.date())return-$(V,K);var Q=12*(V.year()-K.year())+(V.month()-K.month()),X=K.clone().add(Q,d),z=V-X<0,ne=K.clone().add(Q+(z?-1:1),d);return+(-(Q+(V-X)/(z?X-ne:ne-X))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:d,y:A,w:h,d:u,D:m,h:l,m:o,s:a,ms:s,Q:f}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},M="en",B={};B[M]=x;var E="$isDayjsObject",L=function($){return $ instanceof F||!(!$||!$[E])},I=function $(K,V,Q){var X;if(!K)return M;if(typeof K=="string"){var z=K.toLowerCase();B[z]&&(X=z),V&&(B[z]=V,X=z);var ne=K.split("-");if(!X&&ne.length>1)return $(ne[0])}else{var he=K.name;B[he]=K,X=he}return!Q&&X&&(M=X),X||!Q&&M},k=function($,K){if(L($))return $.clone();var V=typeof K=="object"?K:{};return V.date=$,V.args=arguments,new F(V)},O=C;O.l=I,O.i=L,O.w=function($,K){return k($,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var F=function(){function $(V){this.$L=I(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[E]=!0}var K=$.prototype;return K.parse=function(V){this.$d=function(Q){var X=Q.date,z=Q.utc;if(X===null)return new Date(NaN);if(O.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var ne=X.match(y);if(ne){var he=ne[2]-1||0,W=(ne[7]||"0").substring(0,3);return z?new Date(Date.UTC(ne[1],he,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)):new Date(ne[1],he,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)}}return new Date(X)}(V),this.init()},K.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},K.$utils=function(){return O},K.isValid=function(){return this.$d.toString()!==g},K.isSame=function(V,Q){var X=k(V);return this.startOf(Q)<=X&&X<=this.endOf(Q)},K.isAfter=function(V,Q){return k(V)<this.startOf(Q)},K.isBefore=function(V,Q){return this.endOf(Q)<k(V)},K.$g=function(V,Q,X){return O.u(V)?this[Q]:this.set(X,V)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(V,Q){var X=this,z=!!O.u(Q)||Q,ne=O.p(V),he=function(xe,Ie){var Qe=O.w(X.$u?Date.UTC(X.$y,Ie,xe):new Date(X.$y,Ie,xe),X);return z?Qe:Qe.endOf(u)},W=function(xe,Ie){return O.w(X.toDate()[xe].apply(X.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(Ie)),X)},Y=this.$W,oe=this.$M,fe=this.$D,me="set"+(this.$u?"UTC":"");switch(ne){case A:return z?he(1,0):he(31,11);case d:return z?he(1,oe):he(0,oe+1);case h:var ce=this.$locale().weekStart||0,be=(Y<ce?Y+7:Y)-ce;return he(z?fe-be:fe+(6-be),oe);case u:case m:return W(me+"Hours",0);case l:return W(me+"Minutes",1);case o:return W(me+"Seconds",2);case a:return W(me+"Milliseconds",3);default:return this.clone()}},K.endOf=function(V){return this.startOf(V,!1)},K.$set=function(V,Q){var X,z=O.p(V),ne="set"+(this.$u?"UTC":""),he=(X={},X[u]=ne+"Date",X[m]=ne+"Date",X[d]=ne+"Month",X[A]=ne+"FullYear",X[l]=ne+"Hours",X[o]=ne+"Minutes",X[a]=ne+"Seconds",X[s]=ne+"Milliseconds",X)[z],W=z===u?this.$D+(Q-this.$W):Q;if(z===d||z===A){var Y=this.clone().set(m,1);Y.$d[he](W),Y.init(),this.$d=Y.set(m,Math.min(this.$D,Y.daysInMonth())).$d}else he&&this.$d[he](W);return this.init(),this},K.set=function(V,Q){return this.clone().$set(V,Q)},K.get=function(V){return this[O.p(V)]()},K.add=function(V,Q){var X,z=this;V=Number(V);var ne=O.p(Q),he=function(oe){var fe=k(z);return O.w(fe.date(fe.date()+Math.round(oe*V)),z)};if(ne===d)return this.set(d,this.$M+V);if(ne===A)return this.set(A,this.$y+V);if(ne===u)return he(1);if(ne===h)return he(7);var W=(X={},X[o]=r,X[l]=i,X[a]=n,X)[ne]||1,Y=this.$d.getTime()+V*W;return O.w(Y,this)},K.subtract=function(V,Q){return this.add(-1*V,Q)},K.format=function(V){var Q=this,X=this.$locale();if(!this.isValid())return X.invalidDate||g;var z=V||"YYYY-MM-DDTHH:mm:ssZ",ne=O.z(this),he=this.$H,W=this.$m,Y=this.$M,oe=X.weekdays,fe=X.months,me=X.meridiem,ce=function(Ie,Qe,ue,ye){return Ie&&(Ie[Qe]||Ie(Q,z))||ue[Qe].slice(0,ye)},be=function(Ie){return O.s(he%12||12,Ie,"0")},xe=me||function(Ie,Qe,ue){var ye=Ie<12?"AM":"PM";return ue?ye.toLowerCase():ye};return z.replace(_,function(Ie,Qe){return Qe||function(ue){switch(ue){case"YY":return String(Q.$y).slice(-2);case"YYYY":return O.s(Q.$y,4,"0");case"M":return Y+1;case"MM":return O.s(Y+1,2,"0");case"MMM":return ce(X.monthsShort,Y,fe,3);case"MMMM":return ce(fe,Y);case"D":return Q.$D;case"DD":return O.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return ce(X.weekdaysMin,Q.$W,oe,2);case"ddd":return ce(X.weekdaysShort,Q.$W,oe,3);case"dddd":return oe[Q.$W];case"H":return String(he);case"HH":return O.s(he,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return xe(he,W,!0);case"A":return xe(he,W,!1);case"m":return String(W);case"mm":return O.s(W,2,"0");case"s":return String(Q.$s);case"ss":return O.s(Q.$s,2,"0");case"SSS":return O.s(Q.$ms,3,"0");case"Z":return ne}return null}(Ie)||ne.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(V,Q,X){var z,ne=this,he=O.p(Q),W=k(V),Y=(W.utcOffset()-this.utcOffset())*r,oe=this-W,fe=function(){return O.m(ne,W)};switch(he){case A:z=fe()/12;break;case d:z=fe();break;case f:z=fe()/3;break;case h:z=(oe-Y)/6048e5;break;case u:z=(oe-Y)/864e5;break;case l:z=oe/i;break;case o:z=oe/r;break;case a:z=oe/n;break;default:z=oe}return X?z:O.a(z)},K.daysInMonth=function(){return this.endOf(d).$D},K.$locale=function(){return B[this.$L]},K.locale=function(V,Q){if(!V)return this.$L;var X=this.clone(),z=I(V,Q,!0);return z&&(X.$L=z),X},K.clone=function(){return O.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},$}(),U=F.prototype;return k.prototype=U,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",d],["$y",A],["$D",m]].forEach(function($){U[$[1]]=function(K){return this.$g(K,$[0],$[1])}}),k.extend=function($,K){return $.$i||($(K,F,k),$.$i=!0),k},k.locale=I,k.isDayjs=L,k.unix=function($){return k(1e3*$)},k.en=B[M],k.Ls=B,k.p={},k})}(DP)),DP.exports}var FNe=PNe();const Tr=Pf(FNe),BU=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],sy=t=>Array.from(Array.from({length:t}).keys()),dce=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),fce=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Wq=function(t,e){const n=dy(t),r=dy(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},jq=function(t,e){const n=an(t),r=an(e);return n&&r?t.length!==e.length?!1:t.every((i,s)=>Wq(i,e[s])):!n&&!r?Wq(t,e):!1},Kq=function(t,e,n){const r=Af(e)||e==="x"?Tr(t).locale(n):Tr(t,e).locale(n);return r.isValid()?r:void 0},qq=function(t,e,n){return Af(e)?t:e==="x"?+t:Tr(t).locale(n).format(e)},RU=(t,e)=>{var n;const r=[],i=e==null?void 0:e();for(let s=0;s<t;s++)r.push((n=i==null?void 0:i.includes(s))!=null?n:!1);return r},wR=t=>an(t)?t.map(e=>e.toDate()):t.toDate(),ONe=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return sy(e).map((r,i)=>n-(e-i-1))},NNe=t=>{const e=t.daysInMonth();return sy(e).map((n,r)=>r+1)},DNe=t=>sy(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),kNe=hn({selectedDay:{type:ht(Object)},range:{type:ht(Array)},date:{type:ht(Object),required:!0},hideHeader:{type:Boolean}}),UNe={pick:t=>qr(t)};var kP={exports:{}},HNe=kP.exports,Xq;function GNe(){return Xq||(Xq=1,function(t,e){(function(n,r){t.exports=r()})(HNe,function(){return function(n,r,i){var s=r.prototype,a=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,f,A,m,g){var y=d.name?d:d.$locale(),_=a(y[f]),x=a(y[A]),S=_||x.map(function(M){return M.slice(0,m)});if(!g)return S;var C=y.weekStart;return S.map(function(M,B){return S[(B+(C||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(d,f){return d.formats[f]||function(A){return A.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,y){return g||y.slice(1)})}(d.formats[f.toUpperCase()])},h=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):o(d,"months")},monthsShort:function(f){return f?f.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):o(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return h.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return u(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(d){return o(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return o(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return o(l(),"weekdaysMin","weekdays",2,d)}}})}(kP)),kP.exports}var VNe=GNe();const Ace=Pf(VNe),zNe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],IU=["sun","mon","tue","wed","thu","fri","sat"],$Ne=(t,e)=>{Tr.extend(Ace);const n=Tr.localeData().firstDayOfWeek(),{t:r,lang:i}=ji(),s=Tr().locale(i.value),a=J(()=>!!t.range&&!!t.range.length),o=J(()=>{let f=[];if(a.value){const[A,m]=t.range,g=sy(m.date()-A.date()+1).map(x=>({text:A.date()+x,type:"current"}));let y=g.length%7;y=y===0?0:7-y;const _=sy(y).map((x,S)=>({text:S+1,type:"next"}));f=g.concat(_)}else{const A=t.date.startOf("month").day(),m=ONe(t.date,(A-n+7)%7).map(x=>({text:x,type:"prev"})),g=NNe(t.date).map(x=>({text:x,type:"current"}));f=[...m,...g];const y=7-(f.length%7||7),_=sy(y).map((x,S)=>({text:S+1,type:"next"}));f=f.concat(_)}return DNe(f)}),l=J(()=>{const f=n;return f===0?IU.map(A=>r("el.datepicker.weeks.".concat(A))):IU.slice(f).concat(IU.slice(0,f)).map(A=>r("el.datepicker.weeks.".concat(A)))}),u=(f,A)=>{switch(A){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:s,isInRange:a,rows:o,weekDays:l,getFormattedDate:u,handlePickDay:({text:f,type:A})=>{const m=u(f,A);e("pick",m)},getSlotData:({text:f,type:A})=>{const m=u(f,A);return{isSelected:m.isSame(t.selectedDay),type:"".concat(A,"-month"),day:m.format("YYYY-MM-DD"),date:m.toDate()}}}},QNe=Me({name:"DateTable"}),WNe=Me({...QNe,props:kNe,emits:UNe,setup(t,{expose:e,emit:n}){const r=t,{isInRange:i,now:s,rows:a,weekDays:o,getFormattedDate:l,handlePickDay:u,getSlotData:h}=$Ne(r,n),d=Jt("calendar-table"),f=Jt("calendar-day"),A=({text:m,type:g})=>{const y=[g];if(g==="current"){const _=l(m,g);_.isSame(r.selectedDay,"day")&&y.push(f.is("selected")),_.isSame(s,"day")&&y.push(f.is("today"))}return y};return e({getFormattedDate:l}),(m,g)=>(ie(),Ee("table",{class:de([b(d).b(),b(d).is("range",b(i))]),cellspacing:"0",cellpadding:"0"},[m.hideHeader?lt("v-if",!0):(ie(),Ee("thead",{key:0},[Be("tr",null,[(ie(!0),Ee(Wn,null,wi(b(o),y=>(ie(),Ee("th",{key:y,scope:"col"},cn(y),1))),128))])])),Be("tbody",null,[(ie(!0),Ee(Wn,null,wi(b(a),(y,_)=>(ie(),Ee("tr",{key:_,class:de({[b(d).e("row")]:!0,[b(d).em("row","hide-border")]:_===0&&m.hideHeader})},[(ie(!0),Ee(Wn,null,wi(y,(x,S)=>(ie(),Ee("td",{key:S,class:de(A(x)),onClick:C=>b(u)(x)},[Be("div",{class:de(b(f).b())},[tt(m.$slots,"date-cell",{data:b(h)(x)},()=>[Be("span",null,cn(x.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var Yq=mn(WNe,[["__file","date-table.vue"]]);const jNe=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[s.startOf("week"),e]]},KNe=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,s=i.endOf("month"),a=e.startOf("month"),o=s.isSame(a,"week")?a.add(1,"week"):a;return[[t,n],[i.startOf("week"),s],[o.startOf("week"),e]]},qNe=(t,e,n)=>{const{lang:r}=ji(),i=ge(),s=Tr().locale(r.value),a=J({get(){return t.modelValue?l.value:i.value},set(y){if(!y)return;i.value=y;const _=y.toDate();e(bu,_),e(zr,_)}}),o=J(()=>{if(!t.range||!an(t.range)||t.range.length!==2||t.range.some(S=>!dy(S)))return[];const y=t.range.map(S=>Tr(S).locale(r.value)),[_,x]=y;return _.isAfter(x)?[]:_.isSame(x,"month")?A(_,x):_.add(1,"month").month()!==x.month()?[]:A(_,x)}),l=J(()=>t.modelValue?Tr(t.modelValue).locale(r.value):a.value||(o.value.length?o.value[0][0]:s)),u=J(()=>l.value.subtract(1,"month").date(1)),h=J(()=>l.value.add(1,"month").date(1)),d=J(()=>l.value.subtract(1,"year").date(1)),f=J(()=>l.value.add(1,"year").date(1)),A=(y,_)=>{const x=y.startOf("week"),S=_.endOf("week"),C=x.get("month"),M=S.get("month");return C===M?[[x,S]]:(C+1)%12===M?jNe(x,S):C+2===M||(C+1)%11===M?KNe(x,S):[]},m=y=>{a.value=y};return{calculateValidatedDateRange:A,date:l,realSelectedDay:a,pickDay:m,selectDate:y=>{const x={"prev-month":u.value,"next-month":h.value,"prev-year":d.value,"next-year":f.value,today:s}[y];x.isSame(l.value,"day")||m(x)},validatedRange:o}},XNe=t=>an(t)&&t.length===2&&t.every(e=>dy(e)),YNe=hn({modelValue:{type:Date},range:{type:ht(Array),validator:XNe}}),ZNe={[zr]:t=>dy(t),[bu]:t=>dy(t)},JNe="ElCalendar",e5e=Me({name:JNe}),t5e=Me({...e5e,props:YNe,emits:ZNe,setup(t,{expose:e,emit:n}){const r=t,i=Jt("calendar"),{calculateValidatedDateRange:s,date:a,pickDay:o,realSelectedDay:l,selectDate:u,validatedRange:h}=qNe(r,n),{t:d}=ji(),f=J(()=>{const A="el.datepicker.month".concat(a.value.format("M"));return"".concat(a.value.year()," ").concat(d("el.datepicker.year")," ").concat(d(A))});return e({selectedDay:l,pickDay:o,selectDate:u,calculateValidatedDateRange:s}),(A,m)=>(ie(),Ee("div",{class:de(b(i).b())},[Be("div",{class:de(b(i).e("header"))},[tt(A.$slots,"header",{date:b(f)},()=>[Be("div",{class:de(b(i).e("title"))},cn(b(f)),3),b(h).length===0?(ie(),Ee("div",{key:0,class:de(b(i).e("button-group"))},[Ce(b(hce),null,{default:De(()=>[Ce(b(Sc),{size:"small",onClick:g=>b(u)("prev-month")},{default:De(()=>[Mr(cn(b(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),Ce(b(Sc),{size:"small",onClick:g=>b(u)("today")},{default:De(()=>[Mr(cn(b(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),Ce(b(Sc),{size:"small",onClick:g=>b(u)("next-month")},{default:De(()=>[Mr(cn(b(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):lt("v-if",!0)])],2),b(h).length===0?(ie(),Ee("div",{key:0,class:de(b(i).e("body"))},[Ce(Yq,{date:b(a),"selected-day":b(l),onPick:b(o)},Lf({_:2},[A.$slots["date-cell"]?{name:"date-cell",fn:De(g=>[tt(A.$slots,"date-cell",gf(sm(g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(ie(),Ee("div",{key:1,class:de(b(i).e("body"))},[(ie(!0),Ee(Wn,null,wi(b(h),(g,y)=>(ie(),St(Yq,{key:y,date:g[0],"selected-day":b(l),range:g,"hide-header":y!==0,onPick:b(o)},Lf({_:2},[A.$slots["date-cell"]?{name:"date-cell",fn:De(_=>[tt(A.$slots,"date-cell",gf(sm(_)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var n5e=mn(t5e,[["__file","calendar.vue"]]);const r5e=Nr(n5e),i5e=hn({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ht([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),s5e=Me({name:"ElCard"}),a5e=Me({...s5e,props:i5e,setup(t){const e=Jt("card");return(n,r)=>(ie(),Ee("div",{class:de([b(e).b(),b(e).is("".concat(n.shadow,"-shadow"))])},[n.$slots.header||n.header?(ie(),Ee("div",{key:0,class:de(b(e).e("header"))},[tt(n.$slots,"header",{},()=>[Mr(cn(n.header),1)])],2)):lt("v-if",!0),Be("div",{class:de([b(e).e("body"),n.bodyClass]),style:Xn(n.bodyStyle)},[tt(n.$slots,"default")],6),n.$slots.footer||n.footer?(ie(),Ee("div",{key:1,class:de(b(e).e("footer"))},[tt(n.$slots,"footer",{},()=>[Mr(cn(n.footer),1)])],2)):lt("v-if",!0)],2))}});var o5e=mn(a5e,[["__file","card.vue"]]);const l5e=Nr(o5e),c5e=hn({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),u5e={change:(t,e)=>[t,e].every(tr)},pce=Symbol("carouselContextKey"),k8="ElCarouselItem";var eA=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(eA||{});function U8(t){return ka(t)&&t.type===Wn}function h5e(t){return ka(t)&&t.type===xc}function d5e(t){return ka(t)&&!U8(t)&&!h5e(t)}const f5e=t=>{if(!ka(t))return{};const e=t.props||{},n=(ka(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{us(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(e).forEach(i=>{r[$h(i)]=e[i]}),r},A5e=t=>{if(!an(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},ay=t=>{const e=an(t)?t:[t],n=[];return e.forEach(r=>{var i;an(r)?n.push(...ay(r)):ka(r)&&((i=r.component)!=null&&i.subTree)?n.push(r,...ay(r.component.subTree)):ka(r)&&an(r.children)?n.push(...ay(r.children)):n.push(r)}),n},p5e=(t,e,n)=>ay(t.subTree).filter(s=>{var a;return ka(s)&&((a=s.type)==null?void 0:a.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>n[s]).filter(s=>!!s),m$=(t,e)=>{const n={},r=Cs([]);return{children:r,addChild:a=>{n[a.uid]=a,r.value=p5e(t,e,n)},removeChild:a=>{delete n[a],r.value=r.value.filter(o=>o.uid!==a)}}},Zq=300,g5e=(t,e,n)=>{const{children:r,addChild:i,removeChild:s}=m$(ni(),k8),a=Cl(),o=ge(-1),l=ge(null),u=ge(!1),h=ge(),d=ge(0),f=ge(!0),A=ge(!0),m=ge(!1),g=J(()=>t.arrow!=="never"&&!b(x)),y=J(()=>r.value.some(me=>me.props.label.toString().length>0)),_=J(()=>t.type==="card"),x=J(()=>t.direction==="vertical"),S=J(()=>t.height!=="auto"?{height:t.height}:{height:"".concat(d.value,"px"),overflow:"hidden"}),C=b1(me=>{k(me)},Zq,{trailing:!0}),M=b1(me=>{z(me)},Zq),B=me=>f.value?o.value<=1?me<=1:me>1:!0;function E(){l.value&&(clearInterval(l.value),l.value=null)}function L(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>I(),t.interval))}const I=()=>{A.value||(m.value=!0),A.value=!1,o.value<r.value.length-1?o.value=o.value+1:t.loop?o.value=0:m.value=!1};function k(me){if(A.value||(m.value=!0),A.value=!1,Qn(me)){const xe=r.value.filter(Ie=>Ie.props.name===me);xe.length>0&&(me=r.value.indexOf(xe[0]))}if(me=Number(me),Number.isNaN(me)||me!==Math.floor(me))return;const ce=r.value.length,be=o.value;me<0?o.value=t.loop?ce-1:0:me>=ce?o.value=t.loop?0:ce-1:o.value=me,be===o.value&&O(be),W()}function O(me){r.value.forEach((ce,be)=>{ce.translateItem(be,o.value,me)})}function F(me,ce){var be,xe,Ie,Qe;const ue=b(r),ye=ue.length;if(ye===0||!me.states.inStage)return!1;const $e=ce+1,Ve=ce-1,Se=ye-1,at=ue[Se].states.active,ft=ue[0].states.active,je=(xe=(be=ue[$e])==null?void 0:be.states)==null?void 0:xe.active,gt=(Qe=(Ie=ue[Ve])==null?void 0:Ie.states)==null?void 0:Qe.active;return ce===Se&&ft||je?"left":ce===0&&at||gt?"right":!1}function U(){u.value=!0,t.pauseOnHover&&E()}function $(){u.value=!1,L()}function K(){m.value=!1}function V(me){b(x)||r.value.forEach((ce,be)=>{me===F(ce,be)&&(ce.states.hover=!0)})}function Q(){b(x)||r.value.forEach(me=>{me.states.hover=!1})}function X(me){me!==o.value&&(A.value||(m.value=!0)),o.value=me}function z(me){t.trigger==="hover"&&me!==o.value&&(o.value=me,A.value||(m.value=!0))}function ne(){k(o.value-1)}function he(){k(o.value+1)}function W(){E(),t.pauseOnHover||L()}function Y(me){t.height==="auto"&&(d.value=me)}function oe(){var me;const ce=(me=a.default)==null?void 0:me.call(a);if(!ce)return null;const xe=ay(ce).filter(Ie=>ka(Ie)&&Ie.type.name===k8);return(xe==null?void 0:xe.length)===2&&t.loop&&!_.value?(f.value=!0,xe):(f.value=!1,null)}Ct(()=>o.value,(me,ce)=>{O(ce),f.value&&(me=me%2,ce=ce%2),ce>-1&&e("change",me,ce)}),Ct(()=>t.autoplay,me=>{me?L():E()}),Ct(()=>t.loop,()=>{k(o.value)}),Ct(()=>t.interval,()=>{W()});const fe=Cs();return rr(()=>{Ct(()=>r.value,()=>{r.value.length>0&&k(t.initialIndex)},{immediate:!0}),fe.value=so(h.value,()=>{O()}),L()}),Hs(()=>{E(),h.value&&fe.value&&fe.value.stop()}),dr(pce,{root:h,isCardType:_,isVertical:x,items:r,loop:t.loop,cardScale:t.cardScale,addItem:i,removeItem:s,setActiveItem:k,setContainerHeight:Y}),{root:h,activeIndex:o,arrowDisplay:g,hasLabel:y,hover:u,isCardType:_,isTransitioning:m,items:r,isVertical:x,containerStyle:S,isItemsTwoLength:f,handleButtonEnter:V,handleTransitionEnd:K,handleButtonLeave:Q,handleIndicatorClick:X,handleMouseEnter:U,handleMouseLeave:$,setActiveItem:k,prev:ne,next:he,PlaceholderItem:oe,isTwoLengthShow:B,throttledArrowClick:C,throttledIndicatorHover:M}},m5e="ElCarousel",v5e=Me({name:m5e}),y5e=Me({...v5e,props:c5e,emits:u5e,setup(t,{expose:e,emit:n}){const r=t,{root:i,activeIndex:s,arrowDisplay:a,hasLabel:o,hover:l,isCardType:u,items:h,isVertical:d,containerStyle:f,handleButtonEnter:A,handleButtonLeave:m,isTransitioning:g,handleIndicatorClick:y,handleMouseEnter:_,handleMouseLeave:x,handleTransitionEnd:S,setActiveItem:C,prev:M,next:B,PlaceholderItem:E,isTwoLengthShow:L,throttledArrowClick:I,throttledIndicatorHover:k}=g5e(r,n),O=Jt("carousel"),{t:F}=ji(),U=J(()=>{const V=[O.b(),O.m(r.direction)];return b(u)&&V.push(O.m("card")),V}),$=J(()=>{const V=[O.e("container")];return r.motionBlur&&b(g)&&h.value.length>1&&V.push(b(d)?"".concat(O.namespace.value,"-transitioning-vertical"):"".concat(O.namespace.value,"-transitioning")),V}),K=J(()=>{const V=[O.e("indicators"),O.em("indicators",r.direction)];return b(o)&&V.push(O.em("indicators","labels")),r.indicatorPosition==="outside"&&V.push(O.em("indicators","outside")),b(d)&&V.push(O.em("indicators","right")),V});return e({activeIndex:s,setActiveItem:C,prev:M,next:B}),(V,Q)=>(ie(),Ee("div",{ref_key:"root",ref:i,class:de(b(U)),onMouseenter:mr(b(_),["stop"]),onMouseleave:mr(b(x),["stop"])},[b(a)?(ie(),St(Tc,{key:0,name:"carousel-arrow-left",persisted:""},{default:De(()=>[Br(Be("button",{type:"button",class:de([b(O).e("arrow"),b(O).em("arrow","left")]),"aria-label":b(F)("el.carousel.leftArrow"),onMouseenter:X=>b(A)("left"),onMouseleave:b(m),onClick:mr(X=>b(I)(b(s)-1),["stop"])},[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Qi,(V.arrow==="always"||b(l))&&(r.loop||b(s)>0)]])]),_:1})):lt("v-if",!0),b(a)?(ie(),St(Tc,{key:1,name:"carousel-arrow-right",persisted:""},{default:De(()=>[Br(Be("button",{type:"button",class:de([b(O).e("arrow"),b(O).em("arrow","right")]),"aria-label":b(F)("el.carousel.rightArrow"),onMouseenter:X=>b(A)("right"),onMouseleave:b(m),onClick:mr(X=>b(I)(b(s)+1),["stop"])},[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Qi,(V.arrow==="always"||b(l))&&(r.loop||b(s)<b(h).length-1)]])]),_:1})):lt("v-if",!0),Be("div",{class:de(b($)),style:Xn(b(f)),onTransitionend:b(S)},[Ce(b(E)),tt(V.$slots,"default")],46,["onTransitionend"]),V.indicatorPosition!=="none"?(ie(),Ee("ul",{key:2,class:de(b(K))},[(ie(!0),Ee(Wn,null,wi(b(h),(X,z)=>Br((ie(),Ee("li",{key:z,class:de([b(O).e("indicator"),b(O).em("indicator",V.direction),b(O).is("active",z===b(s))]),onMouseenter:ne=>b(k)(z),onClick:mr(ne=>b(y)(z),["stop"])},[Be("button",{class:de(b(O).e("button")),"aria-label":b(F)("el.carousel.indicator",{index:z+1})},[b(o)?(ie(),Ee("span",{key:0},cn(X.props.label),1)):lt("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Qi,b(L)(z)]])),128))],2)):lt("v-if",!0),r.motionBlur?(ie(),Ee("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Be("defs",null,[Be("filter",{id:"elCarouselHorizontal"},[Be("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Be("filter",{id:"elCarouselVertical"},[Be("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):lt("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var _5e=mn(y5e,[["__file","carousel.vue"]]);const w5e=hn({name:{type:String,default:""},label:{type:[String,Number],default:""}}),b5e=t=>{const e=qt(pce),n=ni(),r=ge(),i=ge(!1),s=ge(0),a=ge(1),o=ge(!1),l=ge(!1),u=ge(!1),h=ge(!1),{isCardType:d,isVertical:f,cardScale:A}=e;function m(S,C,M){const B=M-1,E=C-1,L=C+1,I=M/2;return C===0&&S===B?-1:C===B&&S===0?M:S<E&&C-S>=I?M+1:S>L&&S-C>=I?-2:S}function g(S,C){var M,B;const E=b(f)?((M=e.root.value)==null?void 0:M.offsetHeight)||0:((B=e.root.value)==null?void 0:B.offsetWidth)||0;return u.value?E*((2-A)*(S-C)+1)/4:S<C?-(1+A)*E/4:(3+A)*E/4}function y(S,C,M){const B=e.root.value;return B?((M?B.offsetHeight:B.offsetWidth)||0)*(S-C):0}const _=(S,C,M)=>{var B;const E=b(d),L=(B=e.items.value.length)!=null?B:Number.NaN,I=S===C;!E&&!ps(M)&&(h.value=I||S===M),!I&&L>2&&e.loop&&(S=m(S,C,L));const k=b(f);o.value=I,E?(u.value=Math.round(Math.abs(S-C))<=1,s.value=g(S,C),a.value=b(o)?1:A):s.value=y(S,C,k),l.value=!0,I&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function x(){if(e&&b(d)){const S=e.items.value.findIndex(({uid:C})=>C===n.uid);e.setActiveItem(S)}}return rr(()=>{e.addItem({props:t,states:as({hover:i,translate:s,scale:a,active:o,ready:l,inStage:u,animating:h}),uid:n.uid,translateItem:_})}),ca(()=>{e.removeItem(n.uid)}),{carouselItemRef:r,active:o,animating:h,hover:i,inStage:u,isVertical:f,translate:s,isCardType:d,scale:a,ready:l,handleItemClick:x}},x5e=Me({name:k8}),E5e=Me({...x5e,props:w5e,setup(t){const e=t,n=Jt("carousel"),{carouselItemRef:r,active:i,animating:s,hover:a,inStage:o,isVertical:l,translate:u,isCardType:h,scale:d,ready:f,handleItemClick:A}=b5e(e),m=J(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",o.value),n.is("hover",a.value),n.is("animating",s.value),{[n.em("item","card")]:h.value,[n.em("item","card-vertical")]:h.value&&l.value}]),g=J(()=>{const y="translate".concat(b(l)?"Y":"X"),_="".concat(y,"(").concat(b(u),"px)"),x="scale(".concat(b(d),")");return{transform:[_,x].join(" ")}});return(y,_)=>Br((ie(),Ee("div",{ref_key:"carouselItemRef",ref:r,class:de(b(m)),style:Xn(b(g)),onClick:b(A)},[b(h)?Br((ie(),Ee("div",{key:0,class:de(b(n).e("mask"))},null,2)),[[Qi,!b(i)]]):lt("v-if",!0),tt(y.$slots,"default")],14,["onClick"])),[[Qi,b(f)]])}});var gce=mn(E5e,[["__file","carousel-item.vue"]]);const S5e=Nr(_5e,{CarouselItem:gce}),C5e=ho(gce),mce={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Sl,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...nu(["ariaControls"])},vce={[zr]:t=>Qn(t)||tr(t)||Js(t),change:t=>Qn(t)||tr(t)||Js(t)},$S=Symbol("checkboxGroupContextKey"),T5e=({model:t,isChecked:e})=>{const n=qt($S,void 0),r=J(()=>{var s,a;const o=(s=n==null?void 0:n.max)==null?void 0:s.value,l=(a=n==null?void 0:n.min)==null?void 0:a.value;return!ps(o)&&t.value.length>=o&&!e.value||!ps(l)&&t.value.length<=l&&e.value});return{isDisabled:Tu(J(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},M5e=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:s})=>{const a=qt($S,void 0),{formItem:o}=Cu(),{emit:l}=ni();function u(m){var g,y,_,x;return[!0,t.trueValue,t.trueLabel].includes(m)?(y=(g=t.trueValue)!=null?g:t.trueLabel)!=null?y:!0:(x=(_=t.falseValue)!=null?_:t.falseLabel)!=null?x:!1}function h(m,g){l("change",u(m),g)}function d(m){if(n.value)return;const g=m.target;l("change",u(g.checked),m)}async function f(m){n.value||!r.value&&!i.value&&s.value&&(m.composedPath().some(_=>_.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await Zn(),h(e.value,m)))}const A=J(()=>(a==null?void 0:a.validateEvent)||t.validateEvent);return Ct(()=>t.modelValue,()=>{A.value&&(o==null||o.validate("change").catch(m=>void 0))}),{handleChange:d,onClickRoot:f}},L5e=t=>{const e=ge(!1),{emit:n}=ni(),r=qt($S,void 0),i=J(()=>ps(r)===!1),s=ge(!1),a=J({get(){var o,l;return i.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=t.modelValue)!=null?l:e.value},set(o){var l,u;i.value&&an(o)?(s.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>a.value.length,s.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,o))):(n(zr,o),e.value=o)}});return{model:a,isGroup:i,isLimitExceeded:s}},B5e=(t,e,{model:n})=>{const r=qt($S,void 0),i=ge(!1),s=J(()=>gp(t.value)?t.label:t.value),a=J(()=>{const h=n.value;return Js(h)?h:an(h)?qr(s.value)?h.map(Ys).some(d=>wu(d,s.value)):h.map(Ys).includes(s.value):h!=null?h===t.trueValue||h===t.trueLabel:!!h}),o=al(J(()=>{var h;return(h=r==null?void 0:r.size)==null?void 0:h.value}),{prop:!0}),l=al(J(()=>{var h;return(h=r==null?void 0:r.size)==null?void 0:h.value})),u=J(()=>!!e.default||!gp(s.value));return{checkboxButtonSize:o,isChecked:a,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:s}},yce=(t,e)=>{const{formItem:n}=Cu(),{model:r,isGroup:i,isLimitExceeded:s}=L5e(t),{isFocused:a,isChecked:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:h,actualValue:d}=B5e(t,e,{model:r}),{isDisabled:f}=T5e({model:r,isChecked:o}),{inputId:A,isLabeledByFormItem:m}=SA(t,{formItemContext:n,disableIdGeneration:h,disableIdManagement:i}),{handleChange:g,onClickRoot:y}=M5e(t,{model:r,isLimitExceeded:s,hasOwnLabel:h,isDisabled:f,isLabeledByFormItem:m});return(()=>{function x(){var S,C;an(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(C=(S=t.trueValue)!=null?S:t.trueLabel)!=null?C:!0}t.checked&&x()})(),iy({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},J(()=>i.value&&gp(t.value))),iy({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},J(()=>!!t.trueLabel)),iy({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},J(()=>!!t.falseLabel)),{inputId:A,isLabeledByFormItem:m,isChecked:o,isDisabled:f,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:h,model:r,actualValue:d,handleChange:g,onClickRoot:y}},R5e=Me({name:"ElCheckbox"}),I5e=Me({...R5e,props:mce,emits:vce,setup(t){const e=t,n=Cl(),{inputId:r,isLabeledByFormItem:i,isChecked:s,isDisabled:a,isFocused:o,checkboxSize:l,hasOwnLabel:u,model:h,actualValue:d,handleChange:f,onClickRoot:A}=yce(e,n),m=Jt("checkbox"),g=J(()=>[m.b(),m.m(l.value),m.is("disabled",a.value),m.is("bordered",e.border),m.is("checked",s.value)]),y=J(()=>[m.e("input"),m.is("disabled",a.value),m.is("checked",s.value),m.is("indeterminate",e.indeterminate),m.is("focus",o.value)]);return(_,x)=>(ie(),St(li(!b(u)&&b(i)?"span":"label"),{class:de(b(g)),"aria-controls":_.indeterminate?_.ariaControls:null,onClick:b(A)},{default:De(()=>{var S,C,M,B;return[Be("span",{class:de(b(y))},[_.trueValue||_.falseValue||_.trueLabel||_.falseLabel?Br((ie(),Ee("input",{key:0,id:b(r),"onUpdate:modelValue":E=>ga(h)?h.value=E:null,class:de(b(m).e("original")),type:"checkbox",indeterminate:_.indeterminate,name:_.name,tabindex:_.tabindex,disabled:b(a),"true-value":(C=(S=_.trueValue)!=null?S:_.trueLabel)!=null?C:!0,"false-value":(B=(M=_.falseValue)!=null?M:_.falseLabel)!=null?B:!1,onChange:b(f),onFocus:E=>o.value=!0,onBlur:E=>o.value=!1,onClick:mr(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[KF,b(h)]]):Br((ie(),Ee("input",{key:1,id:b(r),"onUpdate:modelValue":E=>ga(h)?h.value=E:null,class:de(b(m).e("original")),type:"checkbox",indeterminate:_.indeterminate,disabled:b(a),value:b(d),name:_.name,tabindex:_.tabindex,onChange:b(f),onFocus:E=>o.value=!0,onBlur:E=>o.value=!1,onClick:mr(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[KF,b(h)]]),Be("span",{class:de(b(m).e("inner"))},null,2)],2),b(u)?(ie(),Ee("span",{key:0,class:de(b(m).e("label"))},[tt(_.$slots,"default"),_.$slots.default?lt("v-if",!0):(ie(),Ee(Wn,{key:0},[Mr(cn(_.label),1)],64))],2)):lt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var P5e=mn(I5e,[["__file","checkbox.vue"]]);const F5e=Me({name:"ElCheckboxButton"}),O5e=Me({...F5e,props:mce,emits:vce,setup(t){const e=t,n=Cl(),{isFocused:r,isChecked:i,isDisabled:s,checkboxButtonSize:a,model:o,actualValue:l,handleChange:u}=yce(e,n),h=qt($S,void 0),d=Jt("checkbox"),f=J(()=>{var m,g,y,_;const x=(g=(m=h==null?void 0:h.fill)==null?void 0:m.value)!=null?g:"";return{backgroundColor:x,borderColor:x,color:(_=(y=h==null?void 0:h.textColor)==null?void 0:y.value)!=null?_:"",boxShadow:x?"-1px 0 0 0 ".concat(x):void 0}}),A=J(()=>[d.b("button"),d.bm("button",a.value),d.is("disabled",s.value),d.is("checked",i.value),d.is("focus",r.value)]);return(m,g)=>{var y,_,x,S;return ie(),Ee("label",{class:de(b(A))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?Br((ie(),Ee("input",{key:0,"onUpdate:modelValue":C=>ga(o)?o.value=C:null,class:de(b(d).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:b(s),"true-value":(_=(y=m.trueValue)!=null?y:m.trueLabel)!=null?_:!0,"false-value":(S=(x=m.falseValue)!=null?x:m.falseLabel)!=null?S:!1,onChange:b(u),onFocus:C=>r.value=!0,onBlur:C=>r.value=!1,onClick:mr(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[KF,b(o)]]):Br((ie(),Ee("input",{key:1,"onUpdate:modelValue":C=>ga(o)?o.value=C:null,class:de(b(d).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:b(s),value:b(l),onChange:b(u),onFocus:C=>r.value=!0,onBlur:C=>r.value=!1,onClick:mr(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[KF,b(o)]]),m.$slots.default||m.label?(ie(),Ee("span",{key:2,class:de(b(d).be("button","inner")),style:Xn(b(i)?b(f):void 0)},[tt(m.$slots,"default",{},()=>[Mr(cn(m.label),1)])],6)):lt("v-if",!0)],2)}}});var _ce=mn(O5e,[["__file","checkbox-button.vue"]]);const N5e=hn({modelValue:{type:ht(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Sl,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...nu(["ariaLabel"])}),D5e={[zr]:t=>an(t),change:t=>an(t)},k5e=Me({name:"ElCheckboxGroup"}),U5e=Me({...k5e,props:N5e,emits:D5e,setup(t,{emit:e}){const n=t,r=Jt("checkbox"),{formItem:i}=Cu(),{inputId:s,isLabeledByFormItem:a}=SA(n,{formItemContext:i}),o=async u=>{e(zr,u),await Zn(),e("change",u)},l=J({get(){return n.modelValue},set(u){o(u)}});return dr($S,{...up(Yo(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:o}),Ct(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(u=>void 0))}),(u,h)=>{var d;return ie(),St(li(u.tag),{id:b(s),class:de(b(r).b("group")),role:"group","aria-label":b(a)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":b(a)?(d=b(i))==null?void 0:d.labelId:void 0},{default:De(()=>[tt(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var wce=mn(U5e,[["__file","checkbox-group.vue"]]);const bA=Nr(P5e,{CheckboxButton:_ce,CheckboxGroup:wce}),H5e=ho(_ce),bce=ho(wce),xce=hn({modelValue:{type:[String,Number,Boolean],default:void 0},size:Sl,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),G5e=hn({...xce,border:Boolean}),Ece={[zr]:t=>Qn(t)||tr(t)||Js(t),[Qs]:t=>Qn(t)||tr(t)||Js(t)},Sce=Symbol("radioGroupKey"),Cce=(t,e)=>{const n=ge(),r=qt(Sce,void 0),i=J(()=>!!r),s=J(()=>gp(t.value)?t.label:t.value),a=J({get(){return i.value?r.modelValue:t.modelValue},set(d){i.value?r.changeEvent(d):e&&e(zr,d),n.value.checked=t.modelValue===s.value}}),o=al(J(()=>r==null?void 0:r.size)),l=Tu(J(()=>r==null?void 0:r.disabled)),u=ge(!1),h=J(()=>l.value||i.value&&a.value!==s.value?-1:0);return iy({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},J(()=>i.value&&gp(t.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:u,size:o,disabled:l,tabIndex:h,modelValue:a,actualValue:s}},V5e=Me({name:"ElRadio"}),z5e=Me({...V5e,props:G5e,emits:Ece,setup(t,{emit:e}){const n=t,r=Jt("radio"),{radioRef:i,radioGroup:s,focus:a,size:o,disabled:l,modelValue:u,actualValue:h}=Cce(n,e);function d(){Zn(()=>e("change",u.value))}return(f,A)=>{var m;return ie(),Ee("label",{class:de([b(r).b(),b(r).is("disabled",b(l)),b(r).is("focus",b(a)),b(r).is("bordered",f.border),b(r).is("checked",b(u)===b(h)),b(r).m(b(o))])},[Be("span",{class:de([b(r).e("input"),b(r).is("disabled",b(l)),b(r).is("checked",b(u)===b(h))])},[Br(Be("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":g=>ga(u)?u.value=g:null,class:de(b(r).e("original")),value:b(h),name:f.name||((m=b(s))==null?void 0:m.name),disabled:b(l),checked:b(u)===b(h),type:"radio",onFocus:g=>a.value=!0,onBlur:g=>a.value=!1,onChange:d,onClick:mr(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Kae,b(u)]]),Be("span",{class:de(b(r).e("inner"))},null,2)],2),Be("span",{class:de(b(r).e("label")),onKeydown:mr(()=>{},["stop"])},[tt(f.$slots,"default",{},()=>[Mr(cn(f.label),1)])],42,["onKeydown"])],2)}}});var $5e=mn(z5e,[["__file","radio.vue"]]);const Q5e=hn({...xce}),W5e=Me({name:"ElRadioButton"}),j5e=Me({...W5e,props:Q5e,setup(t){const e=t,n=Jt("radio"),{radioRef:r,focus:i,size:s,disabled:a,modelValue:o,radioGroup:l,actualValue:u}=Cce(e),h=J(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?"-1px 0 0 0 ".concat(l.fill):"",color:(l==null?void 0:l.textColor)||""}));return(d,f)=>{var A;return ie(),Ee("label",{class:de([b(n).b("button"),b(n).is("active",b(o)===b(u)),b(n).is("disabled",b(a)),b(n).is("focus",b(i)),b(n).bm("button",b(s))])},[Br(Be("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":m=>ga(o)?o.value=m:null,class:de(b(n).be("button","original-radio")),value:b(u),type:"radio",name:d.name||((A=b(l))==null?void 0:A.name),disabled:b(a),onFocus:m=>i.value=!0,onBlur:m=>i.value=!1,onClick:mr(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Kae,b(o)]]),Be("span",{class:de(b(n).be("button","inner")),style:Xn(b(o)===b(u)?b(h):{}),onKeydown:mr(()=>{},["stop"])},[tt(d.$slots,"default",{},()=>[Mr(cn(d.label),1)])],46,["onKeydown"])],2)}}});var Tce=mn(j5e,[["__file","radio-button.vue"]]);const K5e=hn({id:{type:String,default:void 0},size:Sl,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...nu(["ariaLabel"])}),q5e=Ece,X5e=Me({name:"ElRadioGroup"}),Y5e=Me({...X5e,props:K5e,emits:q5e,setup(t,{emit:e}){const n=t,r=Jt("radio"),i=tu(),s=ge(),{formItem:a}=Cu(),{inputId:o,isLabeledByFormItem:l}=SA(n,{formItemContext:a}),u=d=>{e(zr,d),Zn(()=>e("change",d))};rr(()=>{const d=s.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(A=>A.checked)&&f&&(f.tabIndex=0)});const h=J(()=>n.name||i.value);return dr(Sce,as({...Yo(n),changeEvent:u,name:h})),Ct(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(d=>void 0))}),(d,f)=>(ie(),Ee("div",{id:b(o),ref_key:"radioGroupRef",ref:s,class:de(b(r).b("group")),role:"radiogroup","aria-label":b(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":b(l)?b(a).labelId:void 0},[tt(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var Mce=mn(Y5e,[["__file","radio-group.vue"]]);const Lce=Nr($5e,{RadioButton:Tce,RadioGroup:Mce}),Z5e=ho(Mce),J5e=ho(Tce);var eDe=Me({name:"NodeContent",setup(){return{ns:Jt("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:i}=e,{renderLabelFn:s}=n;return lr("span",{class:t.e("label")},s?s({node:e,data:r}):i)}});const v$=Symbol(),tDe=Me({name:"ElCascaderNode",components:{ElCheckbox:bA,ElRadio:Lce,NodeContent:eDe,ElIcon:Vn,Check:AL,Loading:am,ArrowRight:oh},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=qt(v$),r=Jt("cascader-node"),i=J(()=>n.isHoverMenu),s=J(()=>n.config.multiple),a=J(()=>n.config.checkStrictly),o=J(()=>{var B;return(B=n.checkedNodes[0])==null?void 0:B.uid}),l=J(()=>t.node.isDisabled),u=J(()=>t.node.isLeaf),h=J(()=>a.value&&!u.value||!l.value),d=J(()=>A(n.expandingNode)),f=J(()=>a.value&&n.checkedNodes.some(A)),A=B=>{var E;const{level:L,uid:I}=t.node;return((E=B==null?void 0:B.pathNodes[L-1])==null?void 0:E.uid)===I},m=()=>{d.value||n.expandNode(t.node)},g=B=>{const{node:E}=t;B!==E.checked&&n.handleCheckChange(E,B)},y=()=>{n.lazyLoad(t.node,()=>{u.value||m()})},_=B=>{i.value&&(x(),!u.value&&e("expand",B))},x=()=>{const{node:B}=t;!h.value||B.loading||(B.loaded?m():y())},S=()=>{i.value&&!u.value||(u.value&&!l.value&&!a.value&&!s.value?M(!0):x())},C=B=>{a.value?(g(B),t.node.loaded&&m()):M(B)},M=B=>{t.node.loaded?(g(B),!a.value&&m()):y()};return{panel:n,isHoverMenu:i,multiple:s,checkStrictly:a,checkedNodeId:o,isDisabled:l,isLeaf:u,expandable:h,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:_,handleExpand:x,handleClick:S,handleCheck:M,handleSelectCheck:C}}});function nDe(t,e,n,r,i,s){const a=Nn("el-checkbox"),o=Nn("el-radio"),l=Nn("check"),u=Nn("el-icon"),h=Nn("node-content"),d=Nn("loading"),f=Nn("arrow-right");return ie(),Ee("li",{id:"".concat(t.menuId,"-").concat(t.node.uid),role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?void 0:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:de([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[lt(" prefix "),t.multiple?(ie(),St(a,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:mr(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(ie(),St(o,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:mr(()=>{},["stop"])},{default:De(()=>[lt("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),Be("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(ie(),St(u,{key:2,class:de(t.ns.e("prefix"))},{default:De(()=>[Ce(l)]),_:1},8,["class"])):lt("v-if",!0),lt(" content "),Ce(h),lt(" postfix "),t.isLeaf?lt("v-if",!0):(ie(),Ee(Wn,{key:3},[t.node.loading?(ie(),St(u,{key:0,class:de([t.ns.is("loading"),t.ns.e("postfix")])},{default:De(()=>[Ce(d)]),_:1},8,["class"])):(ie(),St(u,{key:1,class:de(["arrow-right",t.ns.e("postfix")])},{default:De(()=>[Ce(f)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var rDe=mn(tDe,[["render",nDe],["__file","node.vue"]]);const iDe=Me({name:"ElCascaderMenu",components:{Loading:am,ElIcon:Vn,ElScrollbar:gm,ElCascaderNode:rDe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=ni(),n=Jt("cascader-menu"),{t:r}=ji(),i=tu();let s=null,a=null;const o=qt(v$),l=ge(null),u=J(()=>!t.nodes.length),h=J(()=>!o.initialLoaded),d=J(()=>"".concat(i.value,"-").concat(t.index)),f=y=>{s=y.target},A=y=>{if(!(!o.isHoverMenu||!s||!l.value))if(s.contains(y.target)){m();const _=e.vnode.el,{left:x}=_.getBoundingClientRect(),{offsetWidth:S,offsetHeight:C}=_,M=y.clientX-x,B=s.offsetTop,E=B+s.offsetHeight;l.value.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'.concat(M," ").concat(B," L").concat(S," 0 V").concat(B,' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M').concat(M," ").concat(E," L").concat(S," ").concat(C," V").concat(E,' Z" />\n        ')}else a||(a=window.setTimeout(g,o.config.hoverThreshold))},m=()=>{a&&(clearTimeout(a),a=null)},g=()=>{l.value&&(l.value.innerHTML="",m())};return{ns:n,panel:o,hoverZone:l,isEmpty:u,isLoading:h,menuId:d,t:r,handleExpand:f,handleMouseMove:A,clearHoverZone:g}}});function sDe(t,e,n,r,i,s){const a=Nn("el-cascader-node"),o=Nn("loading"),l=Nn("el-icon"),u=Nn("el-scrollbar");return ie(),St(u,{key:t.menuId,tag:"ul",role:"menu",class:de(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:De(()=>{var h;return[(ie(!0),Ee(Wn,null,wi(t.nodes,d=>(ie(),St(a,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(ie(),Ee("div",{key:0,class:de(t.ns.e("empty-text"))},[Ce(l,{size:"14",class:de(t.ns.is("loading"))},{default:De(()=>[Ce(o)]),_:1},8,["class"]),Mr(" "+cn(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(ie(),Ee("div",{key:1,class:de(t.ns.e("empty-text"))},[tt(t.$slots,"empty",{},()=>[Mr(cn(t.t("el.cascader.noData")),1)])],2)):(h=t.panel)!=null&&h.isHoverMenu?(ie(),Ee("svg",{key:2,ref:"hoverZone",class:de(t.ns.e("hover-zone"))},null,2)):lt("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var aDe=mn(iDe,[["render",sDe],["__file","menu.vue"]]);const y$=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Vg=t=>uL(t);let oDe=0;const lDe=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let H8=class G8{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=oDe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:a,children:o}=n,l=e[o],u=lDe(this);this.level=i?0:r?r.level+1:1,this.value=e[s],this.label=e[a],this.pathNodes=u,this.pathValues=u.map(h=>h.value),this.pathLabels=u.map(h=>h.label),this.childrenData=l,this.children=(l||[]).map(h=>new G8(h,n,this)),this.loaded=!n.lazy||this.isLeaf||!Af(l)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:s}=r;return(Kn(i)?i(e,this):!!e[i])||!s&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:s,leaf:a}=n,o=Kn(a)?a(e,this):e[a];return ps(o)?s&&!i?!1:!(an(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new G8(e,this.config,this);return an(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r="onParent".concat(Vg(e));this.children.forEach(i=>{i&&(i.broadcast(e,...n),i[r]&&i[r](...n))})}emit(e,...n){const{parent:r}=this,i="onChild".concat(Vg(e));r&&(r[i]&&r[i](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,s)=>{const a=s.checked?1:s.indeterminate?.5:0;return i+a},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const V8=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(V8(r.children,e))),n),[]);let Jq=class{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new H8(i,this.config));this.nodes=r,this.allNodes=V8(r,!1),this.leafNodes=V8(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new H8(e,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(i=>wu(i.value,e)||wu(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>wu(e.value,r)&&e.level===i)||null}};const Bce=hn({modelValue:{type:ht([Number,String,Array])},options:{type:ht(Array),default:()=>[]},props:{type:ht(Object),default:()=>({})}}),cDe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Os,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},uDe=t=>J(()=>({...cDe,...t.props})),eX=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},hDe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():Dle(t)&&t.click()},dDe=(t,e)=>{const n=e.slice(0),r=n.map(s=>s.uid),i=t.reduce((s,a)=>{const o=r.indexOf(a.uid);return o>-1&&(s.push(a),n.splice(o,1),r.splice(o,1)),s},[]);return i.push(...n),i},tX=t=>[...new Set(t)],Uh=t=>!t&&t!==0?[]:an(t)?t:[t],fDe=Me({name:"ElCascaderPanel",components:{ElCascaderMenu:aDe},props:{...Bce,border:{type:Boolean,default:!0},renderLabel:Function},emits:[zr,Qs,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const i=Jt("cascader"),s=uDe(t);let a=null;const o=ge(!0),l=ge([]),u=ge(null),h=ge([]),d=ge(null),f=ge([]),A=J(()=>s.value.expandTrigger==="hover"),m=J(()=>t.renderLabel||n.default),g=()=>{const{options:F}=t,U=s.value;r=!1,a=new Jq(F,U),h.value=[a.getNodes()],U.lazy&&Af(t.options)?(o.value=!1,y(void 0,$=>{$&&(a=new Jq($,U),h.value=[a.getNodes()]),o.value=!0,L(!1,!0)})):L(!1,!0)},y=(F,U)=>{const $=s.value;F=F||new H8({},$,void 0,!0),F.loading=!0;const K=V=>{const Q=F,X=Q.root?null:Q;V&&(a==null||a.appendNodes(V,X)),Q.loading=!1,Q.loaded=!0,Q.childrenData=Q.childrenData||[],U&&U(V)};$.lazyLoad(F,K)},_=(F,U)=>{var $;const{level:K}=F,V=h.value.slice(0,K);let Q;F.isLeaf?Q=F.pathNodes[K-2]:(Q=F,V.push(F.children)),(($=d.value)==null?void 0:$.uid)!==(Q==null?void 0:Q.uid)&&(d.value=F,h.value=V,!U&&e("expand-change",(F==null?void 0:F.pathValues)||[]))},x=(F,U,$=!0)=>{const{checkStrictly:K,multiple:V}=s.value,Q=f.value[0];r=!0,!V&&(Q==null||Q.doCheck(!1)),F.doCheck(U),E(),$&&!V&&!K&&e("close"),!$&&!V&&!K&&S(F)},S=F=>{F&&(F=F.parent,S(F),F&&_(F))},C=F=>a==null?void 0:a.getFlattedNodes(F),M=F=>{var U;return(U=C(F))==null?void 0:U.filter($=>$.checked!==!1)},B=()=>{f.value.forEach(F=>F.doCheck(!1)),E(),h.value=h.value.slice(0,1),d.value=null,e("expand-change",[])},E=()=>{var F;const{checkStrictly:U,multiple:$}=s.value,K=f.value,V=M(!U),Q=dDe(K,V),X=Q.map(z=>z.valueByOption);f.value=Q,u.value=$?X:(F=X[0])!=null?F:null},L=(F=!1,U=!1)=>{const{modelValue:$}=t,{lazy:K,multiple:V,checkStrictly:Q}=s.value,X=!Q;if(!(!o.value||r||!U&&wu($,u.value)))if(K&&!F){const ne=tX(mRe(Uh($))).map(he=>a==null?void 0:a.getNodeByValue(he)).filter(he=>!!he&&!he.loaded&&!he.loading);ne.length?ne.forEach(he=>{y(he,()=>L(!1,U))}):L(!0,U)}else{const z=V?Uh($):[$],ne=tX(z.map(he=>a==null?void 0:a.getNodeByValue(he,X)));I(ne,U),u.value=YF($)}},I=(F,U=!0)=>{const{checkStrictly:$}=s.value,K=f.value,V=F.filter(z=>!!z&&($||z.isLeaf)),Q=a==null?void 0:a.getSameNode(d.value),X=U&&Q||V[0];X?X.pathNodes.forEach(z=>_(z,!0)):d.value=null,K.forEach(z=>z.doCheck(!1)),as(V).forEach(z=>z.doCheck(!0)),f.value=V,Zn(k)},k=()=>{Wi&&l.value.forEach(F=>{const U=F==null?void 0:F.$el;if(U){const $=U.querySelector(".".concat(i.namespace.value,"-scrollbar__wrap")),K=U.querySelector(".".concat(i.b("node"),".").concat(i.is("active")))||U.querySelector(".".concat(i.b("node"),".in-active-path"));Jz($,K)}})},O=F=>{const U=F.target,{code:$}=F;switch($){case Ln.up:case Ln.down:{F.preventDefault();const K=$===Ln.up?-1:1;OP(kle(U,K,".".concat(i.b("node"),'[tabindex="-1"]')));break}case Ln.left:{F.preventDefault();const K=l.value[eX(U)-1],V=K==null?void 0:K.$el.querySelector(".".concat(i.b("node"),'[aria-expanded="true"]'));OP(V);break}case Ln.right:{F.preventDefault();const K=l.value[eX(U)+1],V=K==null?void 0:K.$el.querySelector(".".concat(i.b("node"),'[tabindex="-1"]'));OP(V);break}case Ln.enter:case Ln.numpadEnter:hDe(U);break}};return dr(v$,as({config:s,expandingNode:d,checkedNodes:f,isHoverMenu:A,initialLoaded:o,renderLabelFn:m,lazyLoad:y,expandNode:_,handleCheckChange:x})),Ct([s,()=>t.options],g,{deep:!0,immediate:!0}),Ct(()=>t.modelValue,()=>{r=!1,L()},{deep:!0}),Ct(()=>u.value,F=>{wu(F,t.modelValue)||(e(zr,F),e(Qs,F))}),Aae(()=>l.value=[]),rr(()=>!Af(t.modelValue)&&L()),{ns:i,menuList:l,menus:h,checkedNodes:f,handleKeyDown:O,handleCheckChange:x,getFlattedNodes:C,getCheckedNodes:M,clearCheckedNodes:B,calculateCheckedValue:E,scrollToExpandingNode:k}}});function ADe(t,e,n,r,i,s){const a=Nn("el-cascader-menu");return ie(),Ee("div",{class:de([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(ie(!0),Ee(Wn,null,wi(t.menus,(o,l)=>(ie(),St(a,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...o]},{empty:De(()=>[tt(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var pDe=mn(fDe,[["render",ADe],["__file","index.vue"]]);const Rce=Nr(pDe),Cv=hn({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:pm},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),gDe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},mDe=Me({name:"ElTag"}),vDe=Me({...mDe,props:Cv,emits:gDe,setup(t,{emit:e}){const n=t,r=al(),i=Jt("tag"),s=J(()=>{const{type:u,hit:h,effect:d,closable:f,round:A}=n;return[i.b(),i.is("closable",f),i.m(u||"primary"),i.m(r.value),i.m(d),i.is("hit",h),i.is("round",A)]}),a=u=>{e("close",u)},o=u=>{e("click",u)},l=u=>{var h,d,f;(f=(d=(h=u==null?void 0:u.component)==null?void 0:h.subTree)==null?void 0:d.component)!=null&&f.bum&&(u.component.subTree.component.bum=null)};return(u,h)=>u.disableTransitions?(ie(),Ee("span",{key:0,class:de(b(s)),style:Xn({backgroundColor:u.color}),onClick:o},[Be("span",{class:de(b(i).e("content"))},[tt(u.$slots,"default")],2),u.closable?(ie(),St(b(Vn),{key:0,class:de(b(i).e("close")),onClick:mr(a,["stop"])},{default:De(()=>[Ce(b(wp))]),_:1},8,["class","onClick"])):lt("v-if",!0)],6)):(ie(),St(Tc,{key:1,name:"".concat(b(i).namespace.value,"-zoom-in-center"),appear:"",onVnodeMounted:l},{default:De(()=>[Be("span",{class:de(b(s)),style:Xn({backgroundColor:u.color}),onClick:o},[Be("span",{class:de(b(i).e("content"))},[tt(u.$slots,"default")],2),u.closable?(ie(),St(b(Vn),{key:0,class:de(b(i).e("close")),onClick:mr(a,["stop"])},{default:De(()=>[Ce(b(wp))]),_:1},8,["class","onClick"])):lt("v-if",!0)],6)]),_:3},8,["name"]))}});var yDe=mn(vDe,[["__file","tag.vue"]]);const eS=Nr(yDe),_De=hn({...Bce,size:Sl,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:ht(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:ht(Function),default:()=>!0},placement:{type:ht(String),values:zv,default:"bottom-start"},fallbackPlacements:{type:ht(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:_c.teleported,tagType:{...Cv.type,default:"info"},tagEffect:{...Cv.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...GS}),wDe={[zr]:t=>!0,[Qs]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>Js(t),expandChange:t=>!!t,removeTag:t=>!!t},L0=new Map;if(Wi){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of L0.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function nX(t,e){let n=[];return an(e.arg)?n=e.arg:zh(e.arg)&&n.push(e.arg),function(r,i){const s=e.instance.popperRef,a=r.target,o=i==null?void 0:i.target,l=!e||!e.instance,u=!a||!o,h=t.contains(a)||t.contains(o),d=t===a,f=n.length&&n.some(m=>m==null?void 0:m.contains(a))||n.length&&n.includes(o),A=s&&(s.contains(a)||s.contains(o));l||u||h||d||f||A||e.value(r,i)}}const Tv={beforeMount(t,e){L0.has(t)||L0.set(t,[]),L0.get(t).push({documentHandler:nX(t,e),bindingFn:e.value})},updated(t,e){L0.has(t)||L0.set(t,[]);const n=L0.get(t),r=n.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:nX(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){L0.delete(t)}},bDe="ElCascader",xDe=Me({name:bDe}),EDe=Me({...xDe,props:_De,emits:wDe,setup(t,{expose:e,emit:n}){const r=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ke})=>{const{modifiersData:ct,placement:Oe}=ke;["right","left","bottom","top"].includes(Oe)||(ct.arrow.x=35)},requires:["arrow"]}]},s=Ya();let a=0,o=0;const l=Jt("cascader"),u=Jt("input"),{t:h}=ji(),{form:d,formItem:f}=Cu(),{valueOnClear:A}=o5(r),{isComposing:m,handleComposition:g}=bL({afterComposition(ke){var ct;const Oe=(ct=ke.target)==null?void 0:ct.value;Dt(Oe)}}),y=ge(null),_=ge(null),x=ge(null),S=ge(null),C=ge(null),M=ge(!1),B=ge(!1),E=ge(!1),L=ge(!1),I=ge(""),k=ge(""),O=ge([]),F=ge([]),U=ge([]),$=J(()=>s.style),K=J(()=>r.disabled||(d==null?void 0:d.disabled)),V=J(()=>r.placeholder||h("el.cascader.placeholder")),Q=J(()=>k.value||O.value.length>0||m.value?"":V.value),X=al(),z=J(()=>X.value==="small"?"small":"default"),ne=J(()=>!!r.props.multiple),he=J(()=>!r.filterable||ne.value),W=J(()=>ne.value?k.value:I.value),Y=J(()=>{var ke;return((ke=S.value)==null?void 0:ke.checkedNodes)||[]}),oe=J(()=>!r.clearable||K.value||E.value||!B.value?!1:!!Y.value.length),fe=J(()=>{const{showAllLevels:ke,separator:ct}=r,Oe=Y.value;return Oe.length?ne.value?"":Oe[0].calcText(ke,ct):""}),me=J(()=>(f==null?void 0:f.validateState)||""),ce=J({get(){return YF(r.modelValue)},set(ke){const ct=ke!=null?ke:A.value;n(zr,ct),n(Qs,ct),r.validateEvent&&(f==null||f.validate("change").catch(Oe=>void 0))}}),be=J(()=>[l.b(),l.m(X.value),l.is("disabled",K.value),s.class]),xe=J(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",M.value)]),Ie=J(()=>l.is("focus",M.value||L.value)),Qe=J(()=>{var ke,ct;return(ct=(ke=y.value)==null?void 0:ke.popperRef)==null?void 0:ct.contentRef}),ue=ke=>{var ct,Oe,kt;K.value||(ke=ke!=null?ke:!M.value,ke!==M.value&&(M.value=ke,(Oe=(ct=_.value)==null?void 0:ct.input)==null||Oe.setAttribute("aria-expanded","".concat(ke)),ke?(ye(),Zn((kt=S.value)==null?void 0:kt.scrollToExpandingNode)):r.filterable&&Ze(),n("visibleChange",ke)))},ye=()=>{Zn(()=>{var ke;(ke=y.value)==null||ke.updatePopper()})},$e=()=>{E.value=!1},Ve=ke=>{const{showAllLevels:ct,separator:Oe}=r;return{node:ke,key:ke.uid,text:ke.calcText(ct,Oe),hitState:!1,closable:!K.value&&!ke.isDisabled,isCollapseTag:!1}},Se=ke=>{var ct;const Oe=ke.node;Oe.doCheck(!1),(ct=S.value)==null||ct.calculateCheckedValue(),n("removeTag",Oe.valueByOption)},at=()=>{if(!ne.value)return;const ke=Y.value,ct=[],Oe=[];if(ke.forEach(kt=>Oe.push(Ve(kt))),F.value=Oe,ke.length){ke.slice(0,r.maxCollapseTags).forEach(mt=>ct.push(Ve(mt)));const kt=ke.slice(r.maxCollapseTags),wn=kt.length;wn&&(r.collapseTags?ct.push({key:-1,text:"+ ".concat(wn),closable:!1,isCollapseTag:!0}):kt.forEach(mt=>ct.push(Ve(mt))))}O.value=ct},ft=()=>{var ke,ct;const{filterMethod:Oe,showAllLevels:kt,separator:wn}=r,mt=(ct=(ke=S.value)==null?void 0:ke.getFlattedNodes(!r.props.checkStrictly))==null?void 0:ct.filter(Kt=>Kt.isDisabled?!1:(Kt.calcText(kt,wn),Oe(Kt,W.value)));ne.value&&(O.value.forEach(Kt=>{Kt.hitState=!1}),F.value.forEach(Kt=>{Kt.hitState=!1})),E.value=!0,U.value=mt,ye()},je=()=>{var ke;let ct;E.value&&C.value?ct=C.value.$el.querySelector(".".concat(l.e("suggestion-item"))):ct=(ke=S.value)==null?void 0:ke.$el.querySelector(".".concat(l.b("node"),'[tabindex="-1"]')),ct&&(ct.focus(),!E.value&&ct.click())},gt=()=>{var ke,ct;const Oe=(ke=_.value)==null?void 0:ke.input,kt=x.value,wn=(ct=C.value)==null?void 0:ct.$el;if(!(!Wi||!Oe)){if(wn){const mt=wn.querySelector(".".concat(l.e("suggestion-list")));mt.style.minWidth="".concat(Oe.offsetWidth,"px")}if(kt){const{offsetHeight:mt}=kt,Kt=O.value.length>0?"".concat(Math.max(mt,a)-2,"px"):"".concat(a,"px");Oe.style.height=Kt,ye()}}},vt=ke=>{var ct;return(ct=S.value)==null?void 0:ct.getCheckedNodes(ke)},Te=ke=>{ye(),n("expandChange",ke)},we=ke=>{if(!m.value)switch(ke.code){case Ln.enter:case Ln.numpadEnter:ue();break;case Ln.down:ue(!0),Zn(je),ke.preventDefault();break;case Ln.esc:M.value===!0&&(ke.preventDefault(),ke.stopPropagation(),ue(!1));break;case Ln.tab:ue(!1);break}},Ne=()=>{var ke;(ke=S.value)==null||ke.clearCheckedNodes(),!M.value&&r.filterable&&Ze(),ue(!1),n("clear")},Ze=()=>{const{value:ke}=fe;I.value=ke,k.value=ke},Tt=ke=>{var ct,Oe;const{checked:kt}=ke;ne.value?(ct=S.value)==null||ct.handleCheckChange(ke,!kt,!1):(!kt&&((Oe=S.value)==null||Oe.handleCheckChange(ke,!0,!1)),ue(!1))},Zt=ke=>{const ct=ke.target,{code:Oe}=ke;switch(Oe){case Ln.up:case Ln.down:{const kt=Oe===Ln.up?-1:1;OP(kle(ct,kt,".".concat(l.e("suggestion-item"),'[tabindex="-1"]')));break}case Ln.enter:case Ln.numpadEnter:ct.click();break}},ln=()=>{const ke=O.value,ct=ke[ke.length-1];o=k.value?0:o+1,!(!ct||!o||r.collapseTags&&ke.length>1)&&(ct.hitState?Se(ct):ct.hitState=!0)},Ye=ke=>{const ct=ke.target,Oe=l.e("search-input");ct.className===Oe&&(L.value=!0),n("focus",ke)},yt=ke=>{L.value=!1,n("blur",ke)},Qt=Dd(()=>{const{value:ke}=W;if(!ke)return;const ct=r.beforeFilter(ke);rM(ct)?ct.then(ft).catch(()=>{}):ct!==!1?ft():$e()},r.debounce),Dt=(ke,ct)=>{!M.value&&ue(!0),!(ct!=null&&ct.isComposing)&&(ke?Qt():$e())},st=ke=>Number.parseFloat(ZRe(u.cssVarName("input-height"),ke).value)-2;return Ct(E,ye),Ct([Y,K,()=>r.collapseTags],at),Ct(O,()=>{Zn(()=>gt())}),Ct(X,async()=>{await Zn();const ke=_.value.input;a=st(ke)||a,gt()}),Ct(fe,Ze,{immediate:!0}),rr(()=>{const ke=_.value.input,ct=st(ke);a=ke.offsetHeight||ct,so(ke,gt)}),e({getCheckedNodes:vt,cascaderPanelRef:S,togglePopperVisible:ue,contentRef:Qe,presentText:fe}),(ke,ct)=>(ie(),St(b(Eu),{ref_key:"tooltipRef",ref:y,visible:M.value,teleported:ke.teleported,"popper-class":[b(l).e("dropdown"),ke.popperClass],"popper-options":i,"fallback-placements":ke.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:ke.placement,transition:"".concat(b(l).namespace.value,"-zoom-in-top"),effect:"light",pure:"",persistent:ke.persistent,onHide:$e},{default:De(()=>[Br((ie(),Ee("div",{class:de(b(be)),style:Xn(b($)),onClick:()=>ue(b(he)?void 0:!0),onKeydown:we,onMouseenter:Oe=>B.value=!0,onMouseleave:Oe=>B.value=!1},[Ce(b(sh),{ref_key:"input",ref:_,modelValue:I.value,"onUpdate:modelValue":Oe=>I.value=Oe,placeholder:b(Q),readonly:b(he),disabled:b(K),"validate-event":!1,size:b(X),class:de(b(Ie)),tabindex:b(ne)&&ke.filterable&&!b(K)?-1:void 0,onCompositionstart:b(g),onCompositionupdate:b(g),onCompositionend:b(g),onFocus:Ye,onBlur:yt,onInput:Dt},Lf({suffix:De(()=>[b(oe)?(ie(),St(b(Vn),{key:"clear",class:de([b(u).e("icon"),"icon-circle-close"]),onClick:mr(Ne,["stop"])},{default:De(()=>[Ce(b(Hv))]),_:1},8,["class","onClick"])):(ie(),St(b(Vn),{key:"arrow-down",class:de(b(xe)),onClick:mr(Oe=>ue(),["stop"])},{default:De(()=>[Ce(b(Uv))]),_:1},8,["class","onClick"]))]),_:2},[ke.$slots.prefix?{name:"prefix",fn:De(()=>[tt(ke.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),b(ne)?(ie(),Ee("div",{key:0,ref_key:"tagWrapper",ref:x,class:de([b(l).e("tags"),b(l).is("validate",!!b(me))])},[(ie(!0),Ee(Wn,null,wi(O.value,Oe=>(ie(),St(b(eS),{key:Oe.key,type:ke.tagType,size:b(z),effect:ke.tagEffect,hit:Oe.hitState,closable:Oe.closable,"disable-transitions":"",onClose:kt=>Se(Oe)},{default:De(()=>[Oe.isCollapseTag===!1?(ie(),Ee("span",{key:0},cn(Oe.text),1)):(ie(),St(b(Eu),{key:1,disabled:M.value||!ke.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:De(()=>[Be("span",null,cn(Oe.text),1)]),content:De(()=>[Be("div",{class:de(b(l).e("collapse-tags"))},[(ie(!0),Ee(Wn,null,wi(F.value.slice(ke.maxCollapseTags),(kt,wn)=>(ie(),Ee("div",{key:wn,class:de(b(l).e("collapse-tag"))},[(ie(),St(b(eS),{key:kt.key,class:"in-tooltip",type:ke.tagType,size:b(z),effect:ke.tagEffect,hit:kt.hitState,closable:kt.closable,"disable-transitions":"",onClose:mt=>Se(kt)},{default:De(()=>[Be("span",null,cn(kt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),ke.filterable&&!b(K)?Br((ie(),Ee("input",{key:0,"onUpdate:modelValue":Oe=>k.value=Oe,type:"text",class:de(b(l).e("search-input")),placeholder:b(fe)?"":b(V),onInput:Oe=>Dt(k.value,Oe),onClick:mr(Oe=>ue(!0),["stop"]),onKeydown:$s(ln,["delete"]),onCompositionstart:b(g),onCompositionupdate:b(g),onCompositionend:b(g),onFocus:Ye,onBlur:yt},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[KN,k.value]]):lt("v-if",!0)],2)):lt("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[b(Tv),()=>ue(!1),b(Qe)]])]),content:De(()=>[Br(Ce(b(Rce),{ref_key:"cascaderPanelRef",ref:S,modelValue:b(ce),"onUpdate:modelValue":Oe=>ga(ce)?ce.value=Oe:null,options:ke.options,props:r.props,border:!1,"render-label":ke.$slots.default,onExpandChange:Te,onClose:Oe=>ke.$nextTick(()=>ue(!1))},{empty:De(()=>[tt(ke.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Qi,!E.value]]),ke.filterable?Br((ie(),St(b(gm),{key:0,ref_key:"suggestionPanel",ref:C,tag:"ul",class:de(b(l).e("suggestion-panel")),"view-class":b(l).e("suggestion-list"),onKeydown:Zt},{default:De(()=>[U.value.length?(ie(!0),Ee(Wn,{key:0},wi(U.value,Oe=>(ie(),Ee("li",{key:Oe.uid,class:de([b(l).e("suggestion-item"),b(l).is("checked",Oe.checked)]),tabindex:-1,onClick:kt=>Tt(Oe)},[Be("span",null,cn(Oe.text),1),Oe.checked?(ie(),St(b(Vn),{key:0},{default:De(()=>[Ce(b(AL))]),_:1})):lt("v-if",!0)],10,["onClick"]))),128)):tt(ke.$slots,"empty",{key:1},()=>[Be("li",{class:de(b(l).e("empty-text"))},cn(b(h)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Qi,E.value]]):lt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var SDe=mn(EDe,[["__file","cascader.vue"]]);const CDe=Nr(SDe),TDe=hn({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),MDe={"update:checked":t=>Js(t),[Qs]:t=>Js(t)},LDe=Me({name:"ElCheckTag"}),BDe=Me({...LDe,props:TDe,emits:MDe,setup(t,{emit:e}){const n=t,r=Jt("check-tag"),i=J(()=>n.disabled),s=J(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",i.value),r.m(n.type||"primary")]),a=()=>{if(i.value)return;const o=!n.checked;e(Qs,o),e("update:checked",o)};return(o,l)=>(ie(),Ee("span",{class:de(b(s)),onClick:a},[tt(o.$slots,"default")],2))}});var RDe=mn(BDe,[["__file","check-tag.vue"]]);const IDe=Nr(RDe),PDe=hn({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ht([Number,Object]),default:()=>ao({})},sm:{type:ht([Number,Object]),default:()=>ao({})},md:{type:ht([Number,Object]),default:()=>ao({})},lg:{type:ht([Number,Object]),default:()=>ao({})},xl:{type:ht([Number,Object]),default:()=>ao({})}}),Ice=Symbol("rowContextKey"),FDe=Me({name:"ElCol"}),ODe=Me({...FDe,props:PDe,setup(t){const e=t,{gutter:n}=qt(Ice,{gutter:J(()=>0)}),r=Jt("col"),i=J(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight="".concat(n.value/2,"px")),a}),s=J(()=>{const a=[];return["span","offset","pull","push"].forEach(u=>{const h=e[u];tr(h)&&(u==="span"?a.push(r.b("".concat(e[u]))):h>0&&a.push(r.b("".concat(u,"-").concat(e[u]))))}),["xs","sm","md","lg","xl"].forEach(u=>{tr(e[u])?a.push(r.b("".concat(u,"-").concat(e[u]))):qr(e[u])&&Object.entries(e[u]).forEach(([h,d])=>{a.push(h!=="span"?r.b("".concat(u,"-").concat(h,"-").concat(d)):r.b("".concat(u,"-").concat(d)))})}),n.value&&a.push(r.is("guttered")),[r.b(),a]});return(a,o)=>(ie(),St(li(a.tag),{class:de(b(s)),style:Xn(b(i))},{default:De(()=>[tt(a.$slots,"default")]),_:3},8,["class","style"]))}});var NDe=mn(ODe,[["__file","col.vue"]]);const DDe=Nr(NDe),rX=t=>tr(t)||Qn(t)||an(t),kDe=hn({accordion:Boolean,modelValue:{type:ht([Array,String,Number]),default:()=>ao([])}}),UDe={[zr]:rX,[Qs]:rX},Pce=Symbol("collapseContextKey"),HDe=(t,e)=>{const n=ge(eh(t.modelValue)),r=s=>{n.value=s;const a=t.accordion?n.value[0]:n.value;e(zr,a),e(Qs,a)},i=s=>{if(t.accordion)r([n.value[0]===s?"":s]);else{const a=[...n.value],o=a.indexOf(s);o>-1?a.splice(o,1):a.push(s),r(a)}};return Ct(()=>t.modelValue,()=>n.value=eh(t.modelValue),{deep:!0}),dr(Pce,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},GDe=()=>{const t=Jt("collapse");return{rootKls:J(()=>t.b())}},VDe=Me({name:"ElCollapse"}),zDe=Me({...VDe,props:kDe,emits:UDe,setup(t,{expose:e,emit:n}){const r=t,{activeNames:i,setActiveNames:s}=HDe(r,n),{rootKls:a}=GDe();return e({activeNames:i,setActiveNames:s}),(o,l)=>(ie(),Ee("div",{class:de(b(a))},[tt(o.$slots,"default")],2))}});var $De=mn(zDe,[["__file","collapse.vue"]]);const QDe=Me({name:"ElCollapseTransition"}),WDe=Me({...QDe,setup(t){const e=Jt("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight="".concat(i.scrollHeight,"px"):i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight="".concat(i.scrollHeight,"px"),i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,s)=>(ie(),St(Tc,hi({name:b(e).b()},$we(r)),{default:De(()=>[tt(i.$slots,"default")]),_:3},16,["name"]))}});var jDe=mn(WDe,[["__file","collapse-transition.vue"]]);const p5=Nr(jDe),KDe=hn({title:{type:String,default:""},name:{type:ht([String,Number]),default:void 0},icon:{type:Ws,default:oh},disabled:Boolean}),qDe=t=>{const e=qt(Pce),{namespace:n}=Jt("collapse"),r=ge(!1),i=ge(!1),s=r$(),a=J(()=>s.current++),o=J(()=>{var f;return(f=t.name)!=null?f:"".concat(n.value,"-id-").concat(s.prefix,"-").concat(b(a))}),l=J(()=>e==null?void 0:e.activeNames.value.includes(b(o)));return{focusing:r,id:a,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(b(o)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(b(o))}}},XDe=(t,{focusing:e,isActive:n,id:r})=>{const i=Jt("collapse"),s=J(()=>[i.b("item"),i.is("active",b(n)),i.is("disabled",t.disabled)]),a=J(()=>[i.be("item","header"),i.is("active",b(n)),{focusing:b(e)&&!t.disabled}]),o=J(()=>[i.be("item","arrow"),i.is("active",b(n))]),l=J(()=>i.be("item","wrap")),u=J(()=>i.be("item","content")),h=J(()=>i.b("content-".concat(b(r)))),d=J(()=>i.b("head-".concat(b(r))));return{arrowKls:o,headKls:a,rootKls:s,itemWrapperKls:l,itemContentKls:u,scopedContentId:h,scopedHeadId:d}},YDe=Me({name:"ElCollapseItem"}),ZDe=Me({...YDe,props:KDe,setup(t,{expose:e}){const n=t,{focusing:r,id:i,isActive:s,handleFocus:a,handleHeaderClick:o,handleEnterClick:l}=qDe(n),{arrowKls:u,headKls:h,rootKls:d,itemWrapperKls:f,itemContentKls:A,scopedContentId:m,scopedHeadId:g}=XDe(n,{focusing:r,isActive:s,id:i});return e({isActive:s}),(y,_)=>(ie(),Ee("div",{class:de(b(d))},[Be("button",{id:b(g),class:de(b(h)),"aria-expanded":b(s),"aria-controls":b(m),"aria-describedby":b(m),tabindex:y.disabled?-1:0,type:"button",onClick:b(o),onKeydown:$s(mr(b(l),["stop","prevent"]),["space","enter"]),onFocus:b(a),onBlur:x=>r.value=!1},[tt(y.$slots,"title",{},()=>[Mr(cn(y.title),1)]),tt(y.$slots,"icon",{isActive:b(s)},()=>[Ce(b(Vn),{class:de(b(u))},{default:De(()=>[(ie(),St(li(y.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),Ce(b(p5),null,{default:De(()=>[Br(Be("div",{id:b(m),role:"region",class:de(b(f)),"aria-hidden":!b(s),"aria-labelledby":b(g)},[Be("div",{class:de(b(A))},[tt(y.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[Qi,b(s)]])]),_:3})],2))}});var Fce=mn(ZDe,[["__file","collapse-item.vue"]]);const JDe=Nr($De,{CollapseItem:Fce}),eke=ho(Fce),tke=hn({color:{type:ht(Object),required:!0},vertical:{type:Boolean,default:!1}});let PU=!1;function bM(t,e){if(!Wi)return;const n=function(s){var a;(a=e.drag)==null||a.call(e,s)},r=function(s){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,PU=!1,(a=e.end)==null||a.call(e,s)},i=function(s){var a;PU||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),PU=!0,(a=e.start)==null||a.call(e,s))};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!1})}const nke=(t,e)=>{if(!Wi||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},iX=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},z8=(t,e)=>Math.abs(iX(t)-iX(e)),_$=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},rke=t=>{const e=ni(),{t:n}=ji(),r=Cs(),i=Cs(),s=J(()=>t.color.get("alpha")),a=J(()=>n("el.colorpicker.alphaLabel"));function o(d){var f;d.target!==r.value&&l(d),(f=r.value)==null||f.focus()}function l(d){if(!i.value||!r.value)return;const A=e.vnode.el.getBoundingClientRect(),{clientX:m,clientY:g}=_$(d);if(t.vertical){let y=g-A.top;y=Math.max(r.value.offsetHeight/2,y),y=Math.min(y,A.height-r.value.offsetHeight/2),t.color.set("alpha",Math.round((y-r.value.offsetHeight/2)/(A.height-r.value.offsetHeight)*100))}else{let y=m-A.left;y=Math.max(r.value.offsetWidth/2,y),y=Math.min(y,A.width-r.value.offsetWidth/2),t.color.set("alpha",Math.round((y-r.value.offsetWidth/2)/(A.width-r.value.offsetWidth)*100))}}function u(d){const{code:f,shiftKey:A}=d,m=A?10:1;switch(f){case Ln.left:case Ln.down:d.preventDefault(),d.stopPropagation(),h(-m);break;case Ln.right:case Ln.up:d.preventDefault(),d.stopPropagation(),h(m);break}}function h(d){let f=s.value+d;f=f<0?0:f>100?100:f,t.color.set("alpha",f)}return{thumb:r,bar:i,alpha:s,alphaLabel:a,handleDrag:l,handleClick:o,handleKeydown:u}},ike=(t,{bar:e,thumb:n,handleDrag:r})=>{const i=ni(),s=Jt("color-alpha-slider"),a=ge(0),o=ge(0),l=ge();function u(){if(!n.value||t.vertical)return 0;const x=i.vnode.el,S=t.color.get("alpha");return x?Math.round(S*(x.offsetWidth-n.value.offsetWidth/2)/100):0}function h(){if(!n.value)return 0;const x=i.vnode.el;if(!t.vertical)return 0;const S=t.color.get("alpha");return x?Math.round(S*(x.offsetHeight-n.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:x,g:S,b:C}=t.color.toRgb();return"linear-gradient(to right, rgba(".concat(x,", ").concat(S,", ").concat(C,", 0) 0%, rgba(").concat(x,", ").concat(S,", ").concat(C,", 1) 100%)")}return""}function f(){a.value=u(),o.value=h(),l.value=d()}rr(()=>{if(!e.value||!n.value)return;const x={drag:S=>{r(S)},end:S=>{r(S)}};bM(e.value,x),bM(n.value,x),f()}),Ct(()=>t.color.get("alpha"),()=>f()),Ct(()=>t.color.value,()=>f());const A=J(()=>[s.b(),s.is("vertical",t.vertical)]),m=J(()=>s.e("bar")),g=J(()=>s.e("thumb")),y=J(()=>({background:l.value})),_=J(()=>({left:xo(a.value),top:xo(o.value)}));return{rootKls:A,barKls:m,barStyle:y,thumbKls:g,thumbStyle:_,update:f}},ske="ElColorAlphaSlider",ake=Me({name:ske}),oke=Me({...ake,props:tke,setup(t,{expose:e}){const n=t,{alpha:r,alphaLabel:i,bar:s,thumb:a,handleDrag:o,handleClick:l,handleKeydown:u}=rke(n),{rootKls:h,barKls:d,barStyle:f,thumbKls:A,thumbStyle:m,update:g}=ike(n,{bar:s,thumb:a,handleDrag:o});return e({update:g,bar:s,thumb:a}),(y,_)=>(ie(),Ee("div",{class:de(b(h))},[Be("div",{ref_key:"bar",ref:s,class:de(b(d)),style:Xn(b(f)),onClick:b(l)},null,14,["onClick"]),Be("div",{ref_key:"thumb",ref:a,class:de(b(A)),style:Xn(b(m)),"aria-label":b(i),"aria-valuenow":b(r),"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:b(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var lke=mn(oke,[["__file","alpha-slider.vue"]]);const cke=Me({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Jt("color-hue-slider"),n=ni(),r=ge(),i=ge(),s=ge(0),a=ge(0),o=J(()=>t.color.get("hue"));Ct(()=>o.value,()=>{f()});function l(A){A.target!==r.value&&u(A)}function u(A){if(!i.value||!r.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:_}=_$(A);let x;if(t.vertical){let S=_-g.top;S=Math.min(S,g.height-r.value.offsetHeight/2),S=Math.max(r.value.offsetHeight/2,S),x=Math.round((S-r.value.offsetHeight/2)/(g.height-r.value.offsetHeight)*360)}else{let S=y-g.left;S=Math.min(S,g.width-r.value.offsetWidth/2),S=Math.max(r.value.offsetWidth/2,S),x=Math.round((S-r.value.offsetWidth/2)/(g.width-r.value.offsetWidth)*360)}t.color.set("hue",x)}function h(){if(!r.value)return 0;const A=n.vnode.el;if(t.vertical)return 0;const m=t.color.get("hue");return A?Math.round(m*(A.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const A=n.vnode.el;if(!t.vertical)return 0;const m=t.color.get("hue");return A?Math.round(m*(A.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){s.value=h(),a.value=d()}return rr(()=>{if(!i.value||!r.value)return;const A={drag:m=>{u(m)},end:m=>{u(m)}};bM(i.value,A),bM(r.value,A),f()}),{bar:i,thumb:r,thumbLeft:s,thumbTop:a,hueValue:o,handleClick:l,update:f,ns:e}}});function uke(t,e,n,r,i,s){return ie(),Ee("div",{class:de([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Be("div",{ref:"bar",class:de(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),Be("div",{ref:"thumb",class:de(t.ns.e("thumb")),style:Xn({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var hke=mn(cke,[["render",uke],["__file","hue-slider.vue"]]);const dke=hn({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Sl,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:_c.teleported,predefine:{type:ht(Array)},validateEvent:{type:Boolean,default:!0},...nu(["ariaLabel"])}),fke={[zr]:t=>Qn(t)||lc(t),[Qs]:t=>Qn(t)||lc(t),activeChange:t=>Qn(t)||lc(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Oce=Symbol("colorPickerContextKey"),sX=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},Ake=function(t){return Qn(t)&&t.includes(".")&&Number.parseFloat(t)===1},pke=function(t){return Qn(t)&&t.includes("%")},vE=function(t,e){Ake(t)&&(t="100%");const n=pke(t);return t=Math.min(e,Math.max(0,Number.parseFloat("".concat(t)))),n&&(t=Number.parseInt("".concat(t*e),10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},aX={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},UP=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return"".concat(aX[e]||e).concat(aX[n]||n)},oX=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":"#".concat(UP(t)).concat(UP(e)).concat(UP(n))},FU={A:10,B:11,C:12,D:13,E:14,F:15},B_=function(t){return t.length===2?(FU[t[0].toUpperCase()]||+t[0])*16+(FU[t[1].toUpperCase()]||+t[1]):FU[t[1].toUpperCase()]||+t[1]},gke=function(t,e,n){e=e/100,n=n/100;let r=e;const i=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=i<=1?i:2-i;const s=(n+e)/2,a=n===0?2*r/(i+r):2*e/(n+e);return{h:t,s:a*100,v:s*100}},lX=(t,e,n)=>{t=vE(t,255),e=vE(e,255),n=vE(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let s;const a=r,o=r-i,l=r===0?0:o/r;if(r===i)s=0;else{switch(r){case t:{s=(e-n)/o+(e<n?6:0);break}case e:{s=(n-t)/o+2;break}case n:{s=(t-e)/o+4;break}}s/=6}return{h:s*360,s:l*100,v:a*100}},c2=function(t,e,n){t=vE(t,360)*6,e=vE(e,100),n=vE(n,100);const r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,u=[n,a,s,s,o,n][l],h=[o,n,n,a,s,s][l],d=[s,s,o,n,n,a][l];return{r:Math.round(u*255),g:Math.round(h*255),b:Math.round(d*255)}};let RT=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)us(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)us(e,r)&&this.set(r,e[r]);return}this["_".concat(e)]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this["_".concat(e)]):this["_".concat(e)]}toRgb(){return c2(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,s)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:a}=gke(r[0],r[1],r[2]);n(i,s,a)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:a}=lX(r[0],r[1],r[2]);n(i,s,a)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,s,a;r.length===3?(i=B_(r[0]+r[0]),s=B_(r[1]+r[1]),a=B_(r[2]+r[2])):(r.length===6||r.length===8)&&(i=B_(r.slice(0,2)),s=B_(r.slice(2,4)),a=B_(r.slice(4,6))),r.length===8?this._alpha=B_(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:o,s:l,v:u}=lX(i,s,a);n(o,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:i,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const a=sX(e,n/100,r/100);this.value="hsla(".concat(e,", ").concat(Math.round(a[1]*100),"%, ").concat(Math.round(a[2]*100),"%, ").concat(this.get("alpha")/100,")");break}case"hsv":{this.value="hsva(".concat(e,", ").concat(Math.round(n),"%, ").concat(Math.round(r),"%, ").concat(this.get("alpha")/100,")");break}case"hex":{this.value="".concat(oX(c2(e,n,r))).concat(UP(i*255/100));break}default:{const{r:a,g:o,b:l}=c2(e,n,r);this.value="rgba(".concat(a,", ").concat(o,", ").concat(l,", ").concat(this.get("alpha")/100,")")}}else switch(s){case"hsl":{const a=sX(e,n/100,r/100);this.value="hsl(".concat(e,", ").concat(Math.round(a[1]*100),"%, ").concat(Math.round(a[2]*100),"%)");break}case"hsv":{this.value="hsv(".concat(e,", ").concat(Math.round(n),"%, ").concat(Math.round(r),"%)");break}case"rgb":{const{r:a,g:o,b:l}=c2(e,n,r);this.value="rgb(".concat(a,", ").concat(o,", ").concat(l,")");break}default:this.value=oX(c2(e,n,r))}}};const mke=Me({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Jt("color-predefine"),{currentColor:n}=qt(Oce),r=ge(s(t.colors,t.color));Ct(()=>n.value,a=>{const o=new RT;o.fromString(a),r.value.forEach(l=>{l.selected=o.compare(l)})}),Zc(()=>{r.value=s(t.colors,t.color)});function i(a){t.color.fromString(t.colors[a])}function s(a,o){return a.map(l=>{const u=new RT;return u.enableAlpha=t.enableAlpha,u.format="rgba",u.fromString(l),u.selected=u.value===o.value,u})}return{rgbaColors:r,handleSelect:i,ns:e}}});function vke(t,e,n,r,i,s){return ie(),Ee("div",{class:de(t.ns.b())},[Be("div",{class:de(t.ns.e("colors"))},[(ie(!0),Ee(Wn,null,wi(t.rgbaColors,(a,o)=>(ie(),Ee("div",{key:t.colors[o],class:de([t.ns.e("color-selector"),t.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:l=>t.handleSelect(o)},[Be("div",{style:Xn({backgroundColor:a.value})},null,4)],10,["onClick"]))),128))],2)],2)}var yke=mn(mke,[["render",vke],["__file","predefine.vue"]]);const _ke=Me({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Jt("color-svpanel"),n=ni(),r=ge(0),i=ge(0),s=ge("hsl(0, 100%, 50%)"),a=J(()=>{const u=t.color.get("hue"),h=t.color.get("value");return{hue:u,value:h}});function o(){const u=t.color.get("saturation"),h=t.color.get("value"),d=n.vnode.el,{clientWidth:f,clientHeight:A}=d;i.value=u*f/100,r.value=(100-h)*A/100,s.value="hsl(".concat(t.color.get("hue"),", 100%, 50%)")}function l(u){const d=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:A}=_$(u);let m=f-d.left,g=A-d.top;m=Math.max(0,m),m=Math.min(m,d.width),g=Math.max(0,g),g=Math.min(g,d.height),i.value=m,r.value=g,t.color.set({saturation:m/d.width*100,value:100-g/d.height*100})}return Ct(()=>a.value,()=>{o()}),rr(()=>{bM(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),o()}),{cursorTop:r,cursorLeft:i,background:s,colorValue:a,handleDrag:l,update:o,ns:e}}});function wke(t,e,n,r,i,s){return ie(),Ee("div",{class:de(t.ns.b()),style:Xn({backgroundColor:t.background})},[Be("div",{class:de(t.ns.e("white"))},null,2),Be("div",{class:de(t.ns.e("black"))},null,2),Be("div",{class:de(t.ns.e("cursor")),style:Xn({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[Be("div")],6)],6)}var bke=mn(_ke,[["render",wke],["__file","sv-panel.vue"]]);const xke=Me({name:"ElColorPicker"}),Eke=Me({...xke,props:dke,emits:fke,setup(t,{expose:e,emit:n}){const r=t,{t:i}=ji(),s=Jt("color"),{formItem:a}=Cu(),o=al(),l=Tu(),{inputId:u,isLabeledByFormItem:h}=SA(r,{formItemContext:a}),d=ge(),f=ge(),A=ge(),m=ge(),g=ge(),y=ge(),{isFocused:_,handleFocus:x,handleBlur:S}=Fy(g,{beforeFocus(){return l.value},beforeBlur(xe){var Ie;return(Ie=m.value)==null?void 0:Ie.isFocusInsideContent(xe)},afterBlur(){K(!1),z()}});let C=!0;const M=as(new RT({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),B=ge(!1),E=ge(!1),L=ge(""),I=J(()=>!r.modelValue&&!E.value?"transparent":$(M,r.showAlpha)),k=J(()=>!r.modelValue&&!E.value?"":M.value),O=J(()=>h.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),F=J(()=>h.value?a==null?void 0:a.labelId:void 0),U=J(()=>[s.b("picker"),s.is("disabled",l.value),s.bm("picker",o.value),s.is("focused",_.value)]);function $(xe,Ie){if(!(xe instanceof RT))throw new TypeError("color should be instance of _color Class");const{r:Qe,g:ue,b:ye}=xe.toRgb();return Ie?"rgba(".concat(Qe,", ").concat(ue,", ").concat(ye,", ").concat(xe.get("alpha")/100,")"):"rgb(".concat(Qe,", ").concat(ue,", ").concat(ye,")")}function K(xe){B.value=xe}const V=Dd(K,100,{leading:!0});function Q(){l.value||K(!0)}function X(){V(!1),z()}function z(){Zn(()=>{r.modelValue?M.fromString(r.modelValue):(M.value="",Zn(()=>{E.value=!1}))})}function ne(){l.value||(B.value&&z(),V(!B.value))}function he(){M.fromString(L.value)}function W(){const xe=M.value;n(zr,xe),n("change",xe),r.validateEvent&&(a==null||a.validate("change").catch(Ie=>void 0)),V(!1),Zn(()=>{const Ie=new RT({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});M.compare(Ie)||z()})}function Y(){V(!1),n(zr,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(a==null||a.validate("change").catch(xe=>void 0)),z()}function oe(){B.value&&(X(),_.value&&ce())}function fe(xe){xe.preventDefault(),xe.stopPropagation(),K(!1),z()}function me(xe){switch(xe.code){case Ln.enter:case Ln.numpadEnter:case Ln.space:xe.preventDefault(),xe.stopPropagation(),Q(),y.value.focus();break;case Ln.esc:fe(xe);break}}function ce(){g.value.focus()}function be(){g.value.blur()}return rr(()=>{r.modelValue&&(L.value=k.value)}),Ct(()=>r.modelValue,xe=>{xe?xe&&xe!==M.value&&(C=!1,M.fromString(xe)):E.value=!1}),Ct(()=>[r.colorFormat,r.showAlpha],()=>{M.enableAlpha=r.showAlpha,M.format=r.colorFormat||M.format,M.doOnChange(),n(zr,M.value)}),Ct(()=>k.value,xe=>{L.value=xe,C&&n("activeChange",xe),C=!0}),Ct(()=>M.value,()=>{!r.modelValue&&!E.value&&(E.value=!0)}),Ct(()=>B.value,()=>{Zn(()=>{var xe,Ie,Qe;(xe=d.value)==null||xe.update(),(Ie=f.value)==null||Ie.update(),(Qe=A.value)==null||Qe.update()})}),dr(Oce,{currentColor:k}),e({color:M,show:Q,hide:X,focus:ce,blur:be}),(xe,Ie)=>(ie(),St(b(Eu),{ref_key:"popper",ref:m,visible:B.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[b(s).be("picker","panel"),b(s).b("dropdown"),xe.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:xe.teleported,transition:"".concat(b(s).namespace.value,"-zoom-in-top"),persistent:"",onHide:Qe=>K(!1)},{content:De(()=>[Br((ie(),Ee("div",{onKeydown:$s(fe,["esc"])},[Be("div",{class:de(b(s).be("dropdown","main-wrapper"))},[Ce(hke,{ref_key:"hue",ref:d,class:"hue-slider",color:b(M),vertical:""},null,8,["color"]),Ce(bke,{ref_key:"sv",ref:f,color:b(M)},null,8,["color"])],2),xe.showAlpha?(ie(),St(lke,{key:0,ref_key:"alpha",ref:A,color:b(M)},null,8,["color"])):lt("v-if",!0),xe.predefine?(ie(),St(yke,{key:1,ref:"predefine","enable-alpha":xe.showAlpha,color:b(M),colors:xe.predefine},null,8,["enable-alpha","color","colors"])):lt("v-if",!0),Be("div",{class:de(b(s).be("dropdown","btns"))},[Be("span",{class:de(b(s).be("dropdown","value"))},[Ce(b(sh),{ref_key:"inputRef",ref:y,modelValue:L.value,"onUpdate:modelValue":Qe=>L.value=Qe,"validate-event":!1,size:"small",onKeyup:$s(he,["enter"]),onBlur:he},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),Ce(b(Sc),{class:de(b(s).be("dropdown","link-btn")),text:"",size:"small",onClick:Y},{default:De(()=>[Mr(cn(b(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Ce(b(Sc),{plain:"",size:"small",class:de(b(s).be("dropdown","btn")),onClick:W},{default:De(()=>[Mr(cn(b(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[b(Tv),oe,g.value]])]),default:De(()=>[Be("div",hi({id:b(u),ref_key:"triggerRef",ref:g},xe.$attrs,{class:b(U),role:"button","aria-label":b(O),"aria-labelledby":b(F),"aria-description":b(i)("el.colorpicker.description",{color:xe.modelValue||""}),"aria-disabled":b(l),tabindex:b(l)?-1:xe.tabindex,onKeydown:me,onFocus:b(x),onBlur:b(S)}),[b(l)?(ie(),Ee("div",{key:0,class:de(b(s).be("picker","mask"))},null,2)):lt("v-if",!0),Be("div",{class:de(b(s).be("picker","trigger")),onClick:ne},[Be("span",{class:de([b(s).be("picker","color"),b(s).is("alpha",xe.showAlpha)])},[Be("span",{class:de(b(s).be("picker","color-inner")),style:Xn({backgroundColor:b(I)})},[Br(Ce(b(Vn),{class:de([b(s).be("picker","icon"),b(s).is("icon-arrow-down")])},{default:De(()=>[Ce(b(Uv))]),_:1},8,["class"]),[[Qi,xe.modelValue||E.value]]),Br(Ce(b(Vn),{class:de([b(s).be("picker","empty"),b(s).is("icon-close")])},{default:De(()=>[Ce(b(wp))]),_:1},8,["class"]),[[Qi,!xe.modelValue&&!E.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var Ske=mn(Eke,[["__file","color-picker.vue"]]);const Cke=Nr(Ske),Tke=hn({a11y:{type:Boolean,default:!0},locale:{type:ht(Object)},size:Sl,button:{type:ht(Object)},experimentalFeatures:{type:ht(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ht(Object)},zIndex:Number,namespace:{type:String,default:"el"},...GS}),np={},Mke=Me({name:"ElConfigProvider",props:Tke,setup(t,{slots:e}){Ct(()=>t.message,r=>{Object.assign(np,r!=null?r:{})},{immediate:!0,deep:!0});const n=Yz(t);return()=>tt(e,"default",{config:n==null?void 0:n.value})}}),Lke=Nr(Mke),Bke=Me({name:"ElContainer"}),Rke=Me({...Bke,props:{direction:{type:String}},setup(t){const e=t,n=Cl(),r=Jt("container"),i=J(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const o=a.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(s,a)=>(ie(),Ee("section",{class:de([b(r).b(),b(r).is("vertical",b(i))])},[tt(s.$slots,"default")],2))}});var Ike=mn(Rke,[["__file","container.vue"]]);const Pke=Me({name:"ElAside"}),Fke=Me({...Pke,props:{width:{type:String,default:null}},setup(t){const e=t,n=Jt("aside"),r=J(()=>e.width?n.cssVarBlock({width:e.width}):{});return(i,s)=>(ie(),Ee("aside",{class:de(b(n).b()),style:Xn(b(r))},[tt(i.$slots,"default")],6))}});var Nce=mn(Fke,[["__file","aside.vue"]]);const Oke=Me({name:"ElFooter"}),Nke=Me({...Oke,props:{height:{type:String,default:null}},setup(t){const e=t,n=Jt("footer"),r=J(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(ie(),Ee("footer",{class:de(b(n).b()),style:Xn(b(r))},[tt(i.$slots,"default")],6))}});var Dce=mn(Nke,[["__file","footer.vue"]]);const Dke=Me({name:"ElHeader"}),kke=Me({...Dke,props:{height:{type:String,default:null}},setup(t){const e=t,n=Jt("header"),r=J(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(ie(),Ee("header",{class:de(b(n).b()),style:Xn(b(r))},[tt(i.$slots,"default")],6))}});var kce=mn(kke,[["__file","header.vue"]]);const Uke=Me({name:"ElMain"}),Hke=Me({...Uke,setup(t){const e=Jt("main");return(n,r)=>(ie(),Ee("main",{class:de(b(e).b())},[tt(n.$slots,"default")],2))}});var Uce=mn(Hke,[["__file","main.vue"]]);const Gke=Nr(Ike,{Aside:Nce,Footer:Dce,Header:kce,Main:Uce}),Vke=ho(Nce),zke=ho(Dce),$ke=ho(kce),Qke=ho(Uce);var HP={exports:{}},Wke=HP.exports,cX;function jke(){return cX||(cX=1,function(t,e){(function(n,r){t.exports=r()})(Wke,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(_){this[y]=+_}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(_){if(!_||_==="Z")return 0;var x=_.match(/([+-]|\d\d)/g),S=60*x[1]+(+x[2]||0);return S===0?0:x[0]==="+"?-S:S}(y)}],f=function(y){var _=l[y];return _&&(_.indexOf?_:_.s.concat(_.f))},A=function(y,_){var x,S=l.meridiem;if(S){for(var C=1;C<=24;C+=1)if(y.indexOf(S(C,0,_))>-1){x=C>12;break}}else x=y===(_?"pm":"PM");return x},m={A:[o,function(y){this.afternoon=A(y,!1)}],a:[o,function(y){this.afternoon=A(y,!0)}],Q:[i,function(y){this.month=3*(y-1)+1}],S:[i,function(y){this.milliseconds=100*+y}],SS:[s,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[a,h("seconds")],ss:[a,h("seconds")],m:[a,h("minutes")],mm:[a,h("minutes")],H:[a,h("hours")],h:[a,h("hours")],HH:[a,h("hours")],hh:[a,h("hours")],D:[a,h("day")],DD:[s,h("day")],Do:[o,function(y){var _=l.ordinal,x=y.match(/\d+/);if(this.day=x[0],_)for(var S=1;S<=31;S+=1)_(S).replace(/\[|\]/g,"")===y&&(this.day=S)}],w:[a,h("week")],ww:[s,h("week")],M:[a,h("month")],MM:[s,h("month")],MMM:[o,function(y){var _=f("months"),x=(f("monthsShort")||_.map(function(S){return S.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[o,function(y){var _=f("months").indexOf(y)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,h("year")],YY:[s,function(y){this.year=u(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function g(y){var _,x;_=y,x=l&&l.formats;for(var S=(y=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,O,F){var U=F&&F.toUpperCase();return O||x[F]||n[F]||x[U].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,K,V){return K||V.slice(1)})})).match(r),C=S.length,M=0;M<C;M+=1){var B=S[M],E=m[B],L=E&&E[0],I=E&&E[1];S[M]=I?{regex:L,parser:I}:B.replace(/^\[|\]$/g,"")}return function(k){for(var O={},F=0,U=0;F<C;F+=1){var $=S[F];if(typeof $=="string")U+=$.length;else{var K=$.regex,V=$.parser,Q=k.slice(U),X=K.exec(Q)[0];V.call(O,X),k=k.replace(X,"")}}return function(z){var ne=z.afternoon;if(ne!==void 0){var he=z.hours;ne?he<12&&(z.hours+=12):he===12&&(z.hours=0),delete z.afternoon}}(O),O}}return function(y,_,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(u=y.parseTwoDigitYear);var S=_.prototype,C=S.parse;S.parse=function(M){var B=M.date,E=M.utc,L=M.args;this.$u=E;var I=L[1];if(typeof I=="string"){var k=L[2]===!0,O=L[3]===!0,F=k||O,U=L[2];O&&(U=L[2]),l=this.$locale(),!k&&U&&(l=x.Ls[U]),this.$d=function(Q,X,z,ne){try{if(["x","X"].indexOf(X)>-1)return new Date((X==="X"?1e3:1)*Q);var he=g(X)(Q),W=he.year,Y=he.month,oe=he.day,fe=he.hours,me=he.minutes,ce=he.seconds,be=he.milliseconds,xe=he.zone,Ie=he.week,Qe=new Date,ue=oe||(W||Y?1:Qe.getDate()),ye=W||Qe.getFullYear(),$e=0;W&&!Y||($e=Y>0?Y-1:Qe.getMonth());var Ve,Se=fe||0,at=me||0,ft=ce||0,je=be||0;return xe?new Date(Date.UTC(ye,$e,ue,Se,at,ft,je+60*xe.offset*1e3)):z?new Date(Date.UTC(ye,$e,ue,Se,at,ft,je)):(Ve=new Date(ye,$e,ue,Se,at,ft,je),Ie&&(Ve=ne(Ve).week(Ie).toDate()),Ve)}catch(gt){return new Date("")}}(B,I,E,x),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),F&&B!=this.format(I)&&(this.$d=new Date("")),l={}}else if(I instanceof Array)for(var $=I.length,K=1;K<=$;K+=1){L[1]=I[K-1];var V=x.apply(this,L);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}K===$&&(this.$d=new Date(""))}else C.call(this,M)}}})}(HP)),HP.exports}var Kke=jke();const w$=Pf(Kke);var GP={exports:{}},qke=GP.exports,uX;function Xke(){return uX||(uX=1,function(t,e){(function(n,r){t.exports=r()})(qke,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var u=this.$utils(),h=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return s.bind(this)(h)}}})}(GP)),GP.exports}var Yke=Xke();const Zke=Pf(Yke);var VP={exports:{}},Jke=VP.exports,hX;function eUe(){return hX||(hX=1,function(t,e){(function(n,r){t.exports=r()})(Jke,function(){var n="week",r="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=a(this).startOf(r).add(1,r).date(u),d=a(this).endOf(n);if(h.isBefore(d))return 1}var f=a(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),A=this.diff(f,n,!0);return A<0?a(this).startOf("week").week():Math.ceil(A)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(VP)),VP.exports}var tUe=eUe();const nUe=Pf(tUe);var zP={exports:{}},rUe=zP.exports,dX;function iUe(){return dX||(dX=1,function(t,e){(function(n,r){t.exports=r()})(rUe,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),s=this.week(),a=this.year();return s===1&&i===11?a+1:i===0&&s>=52?a-1:a}}})}(zP)),zP.exports}var sUe=iUe();const aUe=Pf(sUe);var $P={exports:{}},oUe=$P.exports,fX;function lUe(){return fX||(fX=1,function(t,e){(function(n,r){t.exports=r()})(oUe,function(){return function(n,r,i){r.prototype.dayOfYear=function(s){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"day")}}})}($P)),$P.exports}var cUe=lUe();const uUe=Pf(cUe);var QP={exports:{}},hUe=QP.exports,AX;function dUe(){return AX||(AX=1,function(t,e){(function(n,r){t.exports=r()})(hUe,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})}(QP)),QP.exports}var fUe=dUe();const AUe=Pf(fUe);var WP={exports:{}},pUe=WP.exports,pX;function gUe(){return pX||(pX=1,function(t,e){(function(n,r){t.exports=r()})(pUe,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})}(WP)),WP.exports}var mUe=gUe();const vUe=Pf(mUe),gX=["hours","minutes","seconds"],$8="HH:mm:ss",Cx="YYYY-MM-DD",yUe={date:Cx,dates:Cx,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:"".concat(Cx," ").concat($8),monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Cx,datetimerange:"".concat(Cx," ").concat($8)},Hce=hn({disabledHours:{type:ht(Function)},disabledMinutes:{type:ht(Function)},disabledSeconds:{type:ht(Function)}}),Gce=hn({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),b$=hn({id:{type:ht([Array,String])},name:{type:ht([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ht([String,Object]),default:Hv},editable:{type:Boolean,default:!0},prefixIcon:{type:ht([String,Object]),default:""},size:Sl,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:ht(Object),default:()=>({})},modelValue:{type:ht([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ht([Date,Array])},defaultTime:{type:ht([Date,Array])},isRange:Boolean,...Hce,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:ht([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:ht(String),values:zv,default:"bottom"},fallbackPlacements:{type:ht(Array),default:["bottom","top","right","left"]},...GS,...nu(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),_Ue=hn({id:{type:ht(Array)},name:{type:ht(Array)},modelValue:{type:ht([Array,String])},startPlaceholder:String,endPlaceholder:String}),wUe=Me({name:"PickerRangeTrigger",inheritAttrs:!1}),bUe=Me({...wUe,props:_Ue,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=wL(),i=Jt("date"),s=Jt("range"),a=ge(),o=ge(),{wrapperRef:l,isFocused:u}=Fy(a),h=C=>{n("click",C)},d=C=>{n("mouseenter",C)},f=C=>{n("mouseleave",C)},A=C=>{n("mouseenter",C)},m=C=>{n("startInput",C)},g=C=>{n("endInput",C)},y=C=>{n("startChange",C)},_=C=>{n("endChange",C)};return e({focus:()=>{var C;(C=a.value)==null||C.focus()},blur:()=>{var C,M;(C=a.value)==null||C.blur(),(M=o.value)==null||M.blur()}}),(C,M)=>(ie(),Ee("div",{ref_key:"wrapperRef",ref:l,class:de([b(i).is("active",b(u)),C.$attrs.class]),style:Xn(C.$attrs.style),onClick:h,onMouseenter:d,onMouseleave:f,onTouchstartPassive:A},[tt(C.$slots,"prefix"),Be("input",hi(b(r),{id:C.id&&C.id[0],ref_key:"inputRef",ref:a,name:C.name&&C.name[0],placeholder:C.startPlaceholder,value:C.modelValue&&C.modelValue[0],class:b(s).b("input"),onInput:m,onChange:y}),null,16,["id","name","placeholder","value"]),tt(C.$slots,"range-separator"),Be("input",hi(b(r),{id:C.id&&C.id[1],ref_key:"endInputRef",ref:o,name:C.name&&C.name[1],placeholder:C.endPlaceholder,value:C.modelValue&&C.modelValue[1],class:b(s).b("input"),onInput:g,onChange:_}),null,16,["id","name","placeholder","value"]),tt(C.$slots,"suffix")],38))}});var xUe=mn(bUe,[["__file","picker-range-trigger.vue"]]);const EUe=Me({name:"Picker"}),SUe=Me({...EUe,props:b$,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=Ya(),{lang:s}=ji(),a=Jt("date"),o=Jt("input"),l=Jt("range"),{form:u,formItem:h}=Cu(),d=qt("ElPopperOptions",{}),{valueOnClear:f}=o5(r,null),A=ge(),m=ge(),g=ge(!1),y=ge(!1),_=ge(null);let x=!1;const{isFocused:S,handleFocus:C,handleBlur:M}=Fy(m,{beforeFocus(){return r.readonly||z.value},afterFocus(){g.value=!0},beforeBlur(Oe){var kt;return!x&&((kt=A.value)==null?void 0:kt.isFocusInsideContent(Oe))},afterBlur(){gt(),g.value=!1,x=!1,r.validateEvent&&(h==null||h.validate("blur").catch(Oe=>void 0))}}),B=J(()=>[a.b("editor"),a.bm("editor",r.type),o.e("wrapper"),a.is("disabled",z.value),a.is("active",g.value),l.b("editor"),Se?l.bm("editor",Se.value):"",i.class]),E=J(()=>[o.e("icon"),l.e("close-icon"),be.value?"":l.e("close-icon--hidden")]);Ct(g,Oe=>{Oe?Zn(()=>{Oe&&(_.value=r.modelValue)}):(je.value=null,Zn(()=>{L(r.modelValue)}))});const L=(Oe,kt)=>{(kt||!jq(Oe,_.value))&&(n("change",Oe),r.validateEvent&&(h==null||h.validate("change").catch(wn=>void 0)))},I=Oe=>{if(!jq(r.modelValue,Oe)){let kt;an(Oe)?kt=Oe.map(wn=>qq(wn,r.valueFormat,s.value)):Oe&&(kt=qq(Oe,r.valueFormat,s.value)),n("update:modelValue",Oe&&kt,s.value)}},k=Oe=>{n("keydown",Oe)},O=J(()=>m.value?Array.from(m.value.$el.querySelectorAll("input")):[]),F=(Oe,kt,wn)=>{const mt=O.value;mt.length&&(!wn||wn==="min"?(mt[0].setSelectionRange(Oe,kt),mt[0].focus()):wn==="max"&&(mt[1].setSelectionRange(Oe,kt),mt[1].focus()))},U=(Oe="",kt=!1)=>{g.value=kt;let wn;an(Oe)?wn=Oe.map(mt=>mt.toDate()):wn=Oe&&Oe.toDate(),je.value=null,I(wn)},$=()=>{y.value=!0},K=()=>{n("visible-change",!0)},V=()=>{y.value=!1,g.value=!1,n("visible-change",!1)},Q=()=>{g.value=!0},X=()=>{g.value=!1},z=J(()=>r.disabled||(u==null?void 0:u.disabled)),ne=J(()=>{let Oe;if(Ie.value?yt.value.getDefaultValue&&(Oe=yt.value.getDefaultValue()):an(r.modelValue)?Oe=r.modelValue.map(kt=>Kq(kt,r.valueFormat,s.value)):Oe=Kq(r.modelValue,r.valueFormat,s.value),yt.value.getRangeAvailableTime){const kt=yt.value.getRangeAvailableTime(Oe);wu(kt,Oe)||(Oe=kt,Ie.value||I(wR(Oe)))}return an(Oe)&&Oe.some(kt=>!kt)&&(Oe=[]),Oe}),he=J(()=>{if(!yt.value.panelReady)return"";const Oe=Te(ne.value);return an(je.value)?[je.value[0]||Oe&&Oe[0]||"",je.value[1]||Oe&&Oe[1]||""]:je.value!==null?je.value:!Y.value&&Ie.value||!g.value&&Ie.value?"":Oe?oe.value||fe.value||me.value?Oe.join(", "):Oe:""}),W=J(()=>r.type.includes("time")),Y=J(()=>r.type.startsWith("time")),oe=J(()=>r.type==="dates"),fe=J(()=>r.type==="months"),me=J(()=>r.type==="years"),ce=J(()=>r.prefixIcon||(W.value?eoe:mxe)),be=ge(!1),xe=Oe=>{r.readonly||z.value||(be.value&&(Oe.stopPropagation(),yt.value.handleClear?yt.value.handleClear():I(f.value),L(f.value,!0),be.value=!1,V()),n("clear"))},Ie=J(()=>{const{modelValue:Oe}=r;return!Oe||an(Oe)&&!Oe.filter(Boolean).length}),Qe=async Oe=>{var kt;r.readonly||z.value||(((kt=Oe.target)==null?void 0:kt.tagName)!=="INPUT"||S.value)&&(g.value=!0)},ue=()=>{r.readonly||z.value||!Ie.value&&r.clearable&&(be.value=!0)},ye=()=>{be.value=!1},$e=Oe=>{var kt;r.readonly||z.value||(((kt=Oe.touches[0].target)==null?void 0:kt.tagName)!=="INPUT"||S.value)&&(g.value=!0)},Ve=J(()=>r.type.includes("range")),Se=al(),at=J(()=>{var Oe,kt;return(kt=(Oe=b(A))==null?void 0:Oe.popperRef)==null?void 0:kt.contentRef}),ft=Xz(m,Oe=>{const kt=b(at),wn=Hh(m);kt&&(Oe.target===kt||Oe.composedPath().includes(kt))||Oe.target===wn||wn&&Oe.composedPath().includes(wn)||(g.value=!1)});Hs(()=>{ft==null||ft()});const je=ge(null),gt=()=>{if(je.value){const Oe=vt(he.value);Oe&&we(Oe)&&(I(wR(Oe)),je.value=null)}je.value===""&&(I(f.value),L(f.value),je.value=null)},vt=Oe=>Oe?yt.value.parseUserInput(Oe):null,Te=Oe=>Oe?yt.value.formatToString(Oe):null,we=Oe=>yt.value.isValidValue(Oe),Ne=async Oe=>{if(r.readonly||z.value)return;const{code:kt}=Oe;if(k(Oe),kt===Ln.esc){g.value===!0&&(g.value=!1,Oe.preventDefault(),Oe.stopPropagation());return}if(kt===Ln.down&&(yt.value.handleFocusPicker&&(Oe.preventDefault(),Oe.stopPropagation()),g.value===!1&&(g.value=!0,await Zn()),yt.value.handleFocusPicker)){yt.value.handleFocusPicker();return}if(kt===Ln.tab){x=!0;return}if(kt===Ln.enter||kt===Ln.numpadEnter){(je.value===null||je.value===""||we(vt(he.value)))&&(gt(),g.value=!1),Oe.stopPropagation();return}if(je.value){Oe.stopPropagation();return}yt.value.handleKeydownInput&&yt.value.handleKeydownInput(Oe)},Ze=Oe=>{je.value=Oe,g.value||(g.value=!0)},Tt=Oe=>{const kt=Oe.target;je.value?je.value=[kt.value,je.value[1]]:je.value=[kt.value,null]},Zt=Oe=>{const kt=Oe.target;je.value?je.value=[je.value[0],kt.value]:je.value=[null,kt.value]},ln=()=>{var Oe;const kt=je.value,wn=vt(kt&&kt[0]),mt=b(ne);if(wn&&wn.isValid()){je.value=[Te(wn),((Oe=he.value)==null?void 0:Oe[1])||null];const Kt=[wn,mt&&(mt[1]||null)];we(Kt)&&(I(wR(Kt)),je.value=null)}},Ye=()=>{var Oe;const kt=b(je),wn=vt(kt&&kt[1]),mt=b(ne);if(wn&&wn.isValid()){je.value=[((Oe=b(he))==null?void 0:Oe[0])||null,Te(wn)];const Kt=[mt&&mt[0],wn];we(Kt)&&(I(wR(Kt)),je.value=null)}},yt=ge({}),Qt=Oe=>{yt.value[Oe[0]]=Oe[1],yt.value.panelReady=!0},Dt=Oe=>{n("calendar-change",Oe)},st=(Oe,kt,wn)=>{n("panel-change",Oe,kt,wn)},ke=()=>{var Oe;(Oe=m.value)==null||Oe.focus()},ct=()=>{var Oe;(Oe=m.value)==null||Oe.blur()};return dr("EP_PICKER_BASE",{props:r}),e({focus:ke,blur:ct,handleOpen:Q,handleClose:X,onPick:U}),(Oe,kt)=>(ie(),St(b(Eu),hi({ref_key:"refPopper",ref:A,visible:g.value,effect:"light",pure:"",trigger:"click"},Oe.$attrs,{role:"dialog",teleported:"",transition:"".concat(b(a).namespace.value,"-zoom-in-top"),"popper-class":["".concat(b(a).namespace.value,"-picker__popper"),Oe.popperClass],"popper-options":b(d),"fallback-placements":Oe.fallbackPlacements,"gpu-acceleration":!1,placement:Oe.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:$,onShow:K,onHide:V}),{default:De(()=>[b(Ve)?(ie(),St(xUe,{key:1,id:Oe.id,ref_key:"inputRef",ref:m,"model-value":b(he),name:Oe.name,disabled:b(z),readonly:!Oe.editable||Oe.readonly,"start-placeholder":Oe.startPlaceholder,"end-placeholder":Oe.endPlaceholder,class:de(b(B)),style:Xn(Oe.$attrs.style),"aria-label":Oe.ariaLabel,tabindex:Oe.tabindex,autocomplete:"off",role:"combobox",onClick:Qe,onFocus:b(C),onBlur:b(M),onStartInput:Tt,onStartChange:ln,onEndInput:Zt,onEndChange:Ye,onMousedown:Qe,onMouseenter:ue,onMouseleave:ye,onTouchstartPassive:$e,onKeydown:Ne},{prefix:De(()=>[b(ce)?(ie(),St(b(Vn),{key:0,class:de([b(o).e("icon"),b(l).e("icon")])},{default:De(()=>[(ie(),St(li(b(ce))))]),_:1},8,["class"])):lt("v-if",!0)]),"range-separator":De(()=>[tt(Oe.$slots,"range-separator",{},()=>[Be("span",{class:de(b(l).b("separator"))},cn(Oe.rangeSeparator),3)])]),suffix:De(()=>[Oe.clearIcon?(ie(),St(b(Vn),{key:0,class:de(b(E)),onMousedown:mr(b(Os),["prevent"]),onClick:xe},{default:De(()=>[(ie(),St(li(Oe.clearIcon)))]),_:1},8,["class","onMousedown"])):lt("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(ie(),St(b(sh),{key:0,id:Oe.id,ref_key:"inputRef",ref:m,"container-role":"combobox","model-value":b(he),name:Oe.name,size:b(Se),disabled:b(z),placeholder:Oe.placeholder,class:de([b(a).b("editor"),b(a).bm("editor",Oe.type),Oe.$attrs.class]),style:Xn(Oe.$attrs.style),readonly:!Oe.editable||Oe.readonly||b(oe)||b(fe)||b(me)||Oe.type==="week","aria-label":Oe.ariaLabel,tabindex:Oe.tabindex,"validate-event":!1,onInput:Ze,onFocus:b(C),onBlur:b(M),onKeydown:Ne,onChange:gt,onMousedown:Qe,onMouseenter:ue,onMouseleave:ye,onTouchstartPassive:$e,onClick:mr(()=>{},["stop"])},{prefix:De(()=>[b(ce)?(ie(),St(b(Vn),{key:0,class:de(b(o).e("icon")),onMousedown:mr(Qe,["prevent"]),onTouchstartPassive:$e},{default:De(()=>[(ie(),St(li(b(ce))))]),_:1},8,["class","onMousedown"])):lt("v-if",!0)]),suffix:De(()=>[be.value&&Oe.clearIcon?(ie(),St(b(Vn),{key:0,class:de("".concat(b(o).e("icon")," clear-icon")),onMousedown:mr(b(Os),["prevent"]),onClick:xe},{default:De(()=>[(ie(),St(li(Oe.clearIcon)))]),_:1},8,["class","onMousedown"])):lt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:De(()=>[tt(Oe.$slots,"default",{visible:g.value,actualVisible:y.value,parsedValue:b(ne),format:Oe.format,dateFormat:Oe.dateFormat,timeFormat:Oe.timeFormat,unlinkPanels:Oe.unlinkPanels,type:Oe.type,defaultValue:Oe.defaultValue,showNow:Oe.showNow,onPick:U,onSelectRange:F,onSetPickerOption:Qt,onCalendarChange:Dt,onPanelChange:st,onMousedown:mr(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var Vce=mn(SUe,[["__file","picker.vue"]]);const CUe=hn({...Gce,datetimeRole:String,parsedValue:{type:ht(Object)}}),zce=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(a,o,l,u)=>{const h={hour:t,minute:e,second:n};let d=a;return["hour","minute","second"].forEach(f=>{if(h[f]){let A;const m=h[f];switch(f){case"minute":{A=m(d.hour(),o,u);break}case"second":{A=m(d.hour(),d.minute(),o,u);break}default:{A=m(o,u);break}}if(A!=null&&A.length&&!A.includes(d[f]())){const g=l?0:A.length-1;d=d[f](A[g])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([a,o])=>{i[a]=o}}},OU=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},$ce=(t,e,n)=>({getHoursList:(a,o)=>RU(24,t&&(()=>t==null?void 0:t(a,o))),getMinutesList:(a,o,l)=>RU(60,e&&(()=>e==null?void 0:e(a,o,l))),getSecondsList:(a,o,l,u)=>RU(60,n&&(()=>n==null?void 0:n(a,o,l,u)))}),Qce=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:s}=$ce(t,e,n);return{getAvailableHours:(u,h)=>OU(r(u,h)),getAvailableMinutes:(u,h,d)=>OU(i(u,h,d)),getAvailableSeconds:(u,h,d,f)=>OU(s(u,h,d,f))}},Wce=t=>{const e=ge(t.parsedValue);return Ct(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},TUe=hn({role:{type:String,required:!0},spinnerDate:{type:ht(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ht(String),default:""},...Hce}),MUe=100,LUe=600,tO={beforeMount(t,e){const n=e.value,{interval:r=MUe,delay:i=LUe}=Kn(n)?{}:n;let s,a;const o=()=>Kn(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),o(),document.addEventListener("mouseup",()=>l(),{once:!0}),a=setTimeout(()=>{s=setInterval(()=>{o()},r)},i))})}},BUe=Me({__name:"basic-time-spinner",props:TUe,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=qt("EP_PICKER_BASE"),{isRange:i}=r.props,s=Jt("time"),{getHoursList:a,getMinutesList:o,getSecondsList:l}=$ce(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const h=ge(),d=ge(),f=ge(),A=ge(),m={hours:d,minutes:f,seconds:A},g=J(()=>n.showSeconds?gX:gX.slice(0,2)),y=J(()=>{const{spinnerDate:he}=n,W=he.hour(),Y=he.minute(),oe=he.second();return{hours:W,minutes:Y,seconds:oe}}),_=J(()=>{const{hours:he,minutes:W}=b(y),{role:Y,spinnerDate:oe}=n,fe=i?void 0:oe;return{hours:a(Y,fe),minutes:o(he,Y,fe),seconds:l(he,W,Y,fe)}}),x=J(()=>{const{hours:he,minutes:W,seconds:Y}=b(y);return{hours:BU(he,23),minutes:BU(W,59),seconds:BU(Y,59)}}),S=Dd(he=>{u=!1,B(he)},200),C=he=>{if(!!!n.amPmMode)return"";const Y=n.amPmMode==="A";let oe=he<12?" am":" pm";return Y&&(oe=oe.toUpperCase()),oe},M=he=>{let W;switch(he){case"hours":W=[0,2];break;case"minutes":W=[3,5];break;case"seconds":W=[6,8];break}const[Y,oe]=W;e("select-range",Y,oe),h.value=he},B=he=>{I(he,b(y)[he])},E=()=>{B("hours"),B("minutes"),B("seconds")},L=he=>he.querySelector(".".concat(s.namespace.value,"-scrollbar__wrap")),I=(he,W)=>{if(n.arrowControl)return;const Y=b(m[he]);Y&&Y.$el&&(L(Y.$el).scrollTop=Math.max(0,W*k(he)))},k=he=>{const W=b(m[he]),Y=W==null?void 0:W.$el.querySelector("li");return Y&&Number.parseFloat(cv(Y,"height"))||0},O=()=>{U(1)},F=()=>{U(-1)},U=he=>{h.value||M("hours");const W=h.value,Y=b(y)[W],oe=h.value==="hours"?24:60,fe=$(W,Y,he,oe);K(W,fe),I(W,fe),Zn(()=>M(W))},$=(he,W,Y,oe)=>{let fe=(W+Y+oe)%oe;const me=b(_)[he];for(;me[fe]&&fe!==W;)fe=(fe+Y+oe)%oe;return fe},K=(he,W)=>{if(b(_)[he][W])return;const{hours:fe,minutes:me,seconds:ce}=b(y);let be;switch(he){case"hours":be=n.spinnerDate.hour(W).minute(me).second(ce);break;case"minutes":be=n.spinnerDate.hour(fe).minute(W).second(ce);break;case"seconds":be=n.spinnerDate.hour(fe).minute(me).second(W);break}e("change",be)},V=(he,{value:W,disabled:Y})=>{Y||(K(he,W),M(he),I(he,W))},Q=he=>{const W=b(m[he]);if(!W)return;u=!0,S(he);const Y=Math.min(Math.round((L(W.$el).scrollTop-(X(he)*.5-10)/k(he)+3)/k(he)),he==="hours"?23:59);K(he,Y)},X=he=>b(m[he]).$el.offsetHeight,z=()=>{const he=W=>{const Y=b(m[W]);Y&&Y.$el&&(L(Y.$el).onscroll=()=>{Q(W)})};he("hours"),he("minutes"),he("seconds")};rr(()=>{Zn(()=>{!n.arrowControl&&z(),E(),n.role==="start"&&M("hours")})});const ne=(he,W)=>{m[W].value=he!=null?he:void 0};return e("set-option",["".concat(n.role,"_scrollDown"),U]),e("set-option",["".concat(n.role,"_emitSelectRange"),M]),Ct(()=>n.spinnerDate,()=>{u||E()}),(he,W)=>(ie(),Ee("div",{class:de([b(s).b("spinner"),{"has-seconds":he.showSeconds}])},[he.arrowControl?lt("v-if",!0):(ie(!0),Ee(Wn,{key:0},wi(b(g),Y=>(ie(),St(b(gm),{key:Y,ref_for:!0,ref:oe=>ne(oe,Y),class:de(b(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":b(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:oe=>M(Y),onMousemove:oe=>B(Y)},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(b(_)[Y],(oe,fe)=>(ie(),Ee("li",{key:fe,class:de([b(s).be("spinner","item"),b(s).is("active",fe===b(y)[Y]),b(s).is("disabled",oe)]),onClick:me=>V(Y,{value:fe,disabled:oe})},[Y==="hours"?(ie(),Ee(Wn,{key:0},[Mr(cn(("0"+(he.amPmMode?fe%12||12:fe)).slice(-2))+cn(C(fe)),1)],64)):(ie(),Ee(Wn,{key:1},[Mr(cn(("0"+fe).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),he.arrowControl?(ie(!0),Ee(Wn,{key:1},wi(b(g),Y=>(ie(),Ee("div",{key:Y,class:de([b(s).be("spinner","wrapper"),b(s).is("arrow")]),onMouseenter:oe=>M(Y)},[Br((ie(),St(b(Vn),{class:de(["arrow-up",b(s).be("spinner","arrow")])},{default:De(()=>[Ce(b(Lz))]),_:1},8,["class"])),[[b(tO),F]]),Br((ie(),St(b(Vn),{class:de(["arrow-down",b(s).be("spinner","arrow")])},{default:De(()=>[Ce(b(Uv))]),_:1},8,["class"])),[[b(tO),O]]),Be("ul",{class:de(b(s).be("spinner","list"))},[(ie(!0),Ee(Wn,null,wi(b(x)[Y],(oe,fe)=>(ie(),Ee("li",{key:fe,class:de([b(s).be("spinner","item"),b(s).is("active",oe===b(y)[Y]),b(s).is("disabled",b(_)[Y][oe])])},[b(tr)(oe)?(ie(),Ee(Wn,{key:0},[Y==="hours"?(ie(),Ee(Wn,{key:0},[Mr(cn(("0"+(he.amPmMode?oe%12||12:oe)).slice(-2))+cn(C(oe)),1)],64)):(ie(),Ee(Wn,{key:1},[Mr(cn(("0"+oe).slice(-2)),1)],64))],64)):lt("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):lt("v-if",!0)],2))}});var Q8=mn(BUe,[["__file","basic-time-spinner.vue"]]);const RUe=Me({__name:"panel-time-pick",props:CUe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=qt("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:a,disabledSeconds:o,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:h,getAvailableSeconds:d}=Qce(s,a,o),f=Jt("time"),{t:A,lang:m}=ji(),g=ge([0,2]),y=Wce(n),_=J(()=>ps(n.actualVisible)?"".concat(f.namespace.value,"-zoom-in-top"):""),x=J(()=>n.format.includes("ss")),S=J(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),C=X=>{const z=Tr(X).locale(m.value),ne=$(z);return z.isSame(ne)},M=()=>{e("pick",y.value,!1)},B=(X=!1,z=!1)=>{z||e("pick",n.parsedValue,X)},E=X=>{if(!n.visible)return;const z=$(X).millisecond(0);e("pick",z,!0)},L=(X,z)=>{e("select-range",X,z),g.value=[X,z]},I=X=>{const z=[0,3].concat(x.value?[6]:[]),ne=["hours","minutes"].concat(x.value?["seconds"]:[]),W=(z.indexOf(g.value[0])+X+z.length)%z.length;O.start_emitSelectRange(ne[W])},k=X=>{const z=X.code,{left:ne,right:he,up:W,down:Y}=Ln;if([ne,he].includes(z)){I(z===ne?-1:1),X.preventDefault();return}if([W,Y].includes(z)){const oe=z===W?-1:1;O.start_scrollDown(oe),X.preventDefault();return}},{timePickerOptions:O,onSetOption:F,getAvailableTime:U}=zce({getAvailableHours:u,getAvailableMinutes:h,getAvailableSeconds:d}),$=X=>U(X,n.datetimeRole||"",!0),K=X=>X?Tr(X,n.format).locale(m.value):null,V=X=>X?X.format(n.format):null,Q=()=>Tr(l).locale(m.value);return e("set-picker-option",["isValidValue",C]),e("set-picker-option",["formatToString",V]),e("set-picker-option",["parseUserInput",K]),e("set-picker-option",["handleKeydownInput",k]),e("set-picker-option",["getRangeAvailableTime",$]),e("set-picker-option",["getDefaultValue",Q]),(X,z)=>(ie(),St(Tc,{name:b(_)},{default:De(()=>[X.actualVisible||X.visible?(ie(),Ee("div",{key:0,class:de(b(f).b("panel"))},[Be("div",{class:de([b(f).be("panel","content"),{"has-seconds":b(x)}])},[Ce(Q8,{ref:"spinner",role:X.datetimeRole||"start","arrow-control":b(i),"show-seconds":b(x),"am-pm-mode":b(S),"spinner-date":X.parsedValue,"disabled-hours":b(s),"disabled-minutes":b(a),"disabled-seconds":b(o),onChange:E,onSetOption:b(F),onSelectRange:L},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Be("div",{class:de(b(f).be("panel","footer"))},[Be("button",{type:"button",class:de([b(f).be("panel","btn"),"cancel"]),onClick:M},cn(b(A)("el.datepicker.cancel")),3),Be("button",{type:"button",class:de([b(f).be("panel","btn"),"confirm"]),onClick:ne=>B()},cn(b(A)("el.datepicker.confirm")),11,["onClick"])],2)],2)):lt("v-if",!0)]),_:1},8,["name"]))}});var nO=mn(RUe,[["__file","panel-time-pick.vue"]]);const IUe=hn({...Gce,parsedValue:{type:ht(Array)}}),PUe=Me({__name:"panel-time-range",props:IUe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(Qe,ue)=>{const ye=[];for(let $e=Qe;$e<=ue;$e++)ye.push($e);return ye},{t:i,lang:s}=ji(),a=Jt("time"),o=Jt("picker"),l=qt("EP_PICKER_BASE"),{arrowControl:u,disabledHours:h,disabledMinutes:d,disabledSeconds:f,defaultValue:A}=l.props,m=J(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),C.value?"has-seconds":""]),g=J(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),C.value?"has-seconds":""]),y=J(()=>n.parsedValue[0]),_=J(()=>n.parsedValue[1]),x=Wce(n),S=()=>{e("pick",x.value,!1)},C=J(()=>n.format.includes("ss")),M=J(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),B=(Qe=!1)=>{e("pick",[y.value,_.value],Qe)},E=Qe=>{k(Qe.millisecond(0),_.value)},L=Qe=>{k(y.value,Qe.millisecond(0))},I=Qe=>{const ue=Qe.map($e=>Tr($e).locale(s.value)),ye=he(ue);return ue[0].isSame(ye[0])&&ue[1].isSame(ye[1])},k=(Qe,ue)=>{n.visible&&e("pick",[Qe,ue],!0)},O=J(()=>y.value>_.value),F=ge([0,2]),U=(Qe,ue)=>{e("select-range",Qe,ue,"min"),F.value=[Qe,ue]},$=J(()=>C.value?11:8),K=(Qe,ue)=>{e("select-range",Qe,ue,"max");const ye=b($);F.value=[Qe+ye,ue+ye]},V=Qe=>{const ue=C.value?[0,3,6,11,14,17]:[0,3,8,11],ye=["hours","minutes"].concat(C.value?["seconds"]:[]),Ve=(ue.indexOf(F.value[0])+Qe+ue.length)%ue.length,Se=ue.length/2;Ve<Se?fe.start_emitSelectRange(ye[Ve]):fe.end_emitSelectRange(ye[Ve-Se])},Q=Qe=>{const ue=Qe.code,{left:ye,right:$e,up:Ve,down:Se}=Ln;if([ye,$e].includes(ue)){V(ue===ye?-1:1),Qe.preventDefault();return}if([Ve,Se].includes(ue)){const at=ue===Ve?-1:1,ft=F.value[0]<$.value?"start":"end";fe["".concat(ft,"_scrollDown")](at),Qe.preventDefault();return}},X=(Qe,ue)=>{const ye=h?h(Qe):[],$e=Qe==="start",Se=(ue||($e?_.value:y.value)).hour(),at=$e?r(Se+1,23):r(0,Se-1);return EU(ye,at)},z=(Qe,ue,ye)=>{const $e=d?d(Qe,ue):[],Ve=ue==="start",Se=ye||(Ve?_.value:y.value),at=Se.hour();if(Qe!==at)return $e;const ft=Se.minute(),je=Ve?r(ft+1,59):r(0,ft-1);return EU($e,je)},ne=(Qe,ue,ye,$e)=>{const Ve=f?f(Qe,ue,ye):[],Se=ye==="start",at=$e||(Se?_.value:y.value),ft=at.hour(),je=at.minute();if(Qe!==ft||ue!==je)return Ve;const gt=at.second(),vt=Se?r(gt+1,59):r(0,gt-1);return EU(Ve,vt)},he=([Qe,ue])=>[me(Qe,"start",!0,ue),me(ue,"end",!1,Qe)],{getAvailableHours:W,getAvailableMinutes:Y,getAvailableSeconds:oe}=Qce(X,z,ne),{timePickerOptions:fe,getAvailableTime:me,onSetOption:ce}=zce({getAvailableHours:W,getAvailableMinutes:Y,getAvailableSeconds:oe}),be=Qe=>Qe?an(Qe)?Qe.map(ue=>Tr(ue,n.format).locale(s.value)):Tr(Qe,n.format).locale(s.value):null,xe=Qe=>Qe?an(Qe)?Qe.map(ue=>ue.format(n.format)):Qe.format(n.format):null,Ie=()=>{if(an(A))return A.map(ue=>Tr(ue).locale(s.value));const Qe=Tr(A).locale(s.value);return[Qe,Qe.add(60,"m")]};return e("set-picker-option",["formatToString",xe]),e("set-picker-option",["parseUserInput",be]),e("set-picker-option",["isValidValue",I]),e("set-picker-option",["handleKeydownInput",Q]),e("set-picker-option",["getDefaultValue",Ie]),e("set-picker-option",["getRangeAvailableTime",he]),(Qe,ue)=>Qe.actualVisible?(ie(),Ee("div",{key:0,class:de([b(a).b("range-picker"),b(o).b("panel")])},[Be("div",{class:de(b(a).be("range-picker","content"))},[Be("div",{class:de(b(a).be("range-picker","cell"))},[Be("div",{class:de(b(a).be("range-picker","header"))},cn(b(i)("el.datepicker.startTime")),3),Be("div",{class:de(b(m))},[Ce(Q8,{ref:"minSpinner",role:"start","show-seconds":b(C),"am-pm-mode":b(M),"arrow-control":b(u),"spinner-date":b(y),"disabled-hours":X,"disabled-minutes":z,"disabled-seconds":ne,onChange:E,onSetOption:b(ce),onSelectRange:U},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Be("div",{class:de(b(a).be("range-picker","cell"))},[Be("div",{class:de(b(a).be("range-picker","header"))},cn(b(i)("el.datepicker.endTime")),3),Be("div",{class:de(b(g))},[Ce(Q8,{ref:"maxSpinner",role:"end","show-seconds":b(C),"am-pm-mode":b(M),"arrow-control":b(u),"spinner-date":b(_),"disabled-hours":X,"disabled-minutes":z,"disabled-seconds":ne,onChange:L,onSetOption:b(ce),onSelectRange:K},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Be("div",{class:de(b(a).be("panel","footer"))},[Be("button",{type:"button",class:de([b(a).be("panel","btn"),"cancel"]),onClick:ye=>S()},cn(b(i)("el.datepicker.cancel")),11,["onClick"]),Be("button",{type:"button",class:de([b(a).be("panel","btn"),"confirm"]),disabled:b(O),onClick:ye=>B()},cn(b(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):lt("v-if",!0)}});var FUe=mn(PUe,[["__file","panel-time-range.vue"]]);Tr.extend(w$);var OUe=Me({name:"ElTimePicker",install:null,props:{...b$,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=ge(),[r,i]=t.isRange?["timerange",FUe]:["time",nO],s=a=>e.emit("update:modelValue",a);return dr("ElPopperOptions",t.popperOptions),e.expose({focus:()=>{var a;(a=n.value)==null||a.focus()},blur:()=>{var a;(a=n.value)==null||a.blur()},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const o=(a=t.format)!=null?a:$8;return Ce(Vce,hi(t,{ref:n,type:r,format:o,"onUpdate:modelValue":s}),{default:l=>Ce(i,l,null)})}}});const NUe=Nr(OUe),g5=Symbol(),DUe=hn({...b$,type:{type:ht(String),default:"date"}}),kUe=["date","dates","year","years","month","months","week","range"],x$=hn({disabledDate:{type:ht(Function)},date:{type:ht(Object),required:!0},minDate:{type:ht(Object)},maxDate:{type:ht(Object)},parsedValue:{type:ht([Object,Array])},rangeState:{type:ht(Object),default:()=>({endDate:null,selecting:!1})}}),jce=hn({type:{type:ht(String),required:!0,values:zNe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),E$=hn({unlinkPanels:Boolean,parsedValue:{type:ht(Array)}}),S$=t=>({type:String,values:kUe,default:t}),UUe=hn({...jce,parsedValue:{type:ht([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),tS=t=>{if(!an(t))return!1;const[e,n]=t;return Tr.isDayjs(e)&&Tr.isDayjs(n)&&e.isSameOrBefore(n)},C$=(t,{lang:e,unit:n,unlinkPanels:r})=>{let i;if(an(t)){let[s,a]=t.map(o=>Tr(o).locale(e));return r||(a=s.add(1,n)),[s,a]}else t?i=Tr(t):i=Tr();return i=i.locale(e),[i,i.add(1,n)]},HUe=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:s,unit:a,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:u})=>{for(let h=0;h<t.row;h++){const d=e[h];for(let f=0;f<t.column;f++){let A=d[f+n];A||(A={row:h,column:f,type:"normal",inRange:!1,start:!1,end:!1});const m=h*t.column+f,g=o(m);A.dayjs=g,A.date=g.toDate(),A.timestamp=g.valueOf(),A.type="normal",A.inRange=!!(r&&g.isSameOrAfter(r,a)&&i&&g.isSameOrBefore(i,a))||!!(r&&g.isSameOrBefore(r,a)&&i&&g.isSameOrAfter(i,a)),r!=null&&r.isSameOrAfter(i)?(A.start=!!i&&g.isSame(i,a),A.end=r&&g.isSame(r,a)):(A.start=!!r&&g.isSame(r,a),A.end=!!i&&g.isSame(i,a)),g.isSame(s,a)&&(A.type="today"),l==null||l(A,{rowIndex:h,columnIndex:f}),d[f+n]=A}u==null||u(d)}},rO=(t,e,n)=>{const r=Tr().locale(n).startOf("month").month(e).year(t),i=r.daysInMonth();return sy(i).map(s=>r.add(s,"day").toDate())},xM=(t,e,n,r)=>{const i=Tr().year(t).month(e).startOf("month"),s=rO(t,e,n).find(a=>!(r!=null&&r(a)));return s?Tr(s).locale(n):i.locale(n)},W8=(t,e,n)=>{const r=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const i=t.month();if(!rO(r,i,e).every(n))return xM(r,i,e,n);for(let s=0;s<12;s++)if(!rO(r,s,e).every(n))return xM(r,s,e,n);return t},GUe=hn({...x$,cellClassName:{type:ht(Function)},showWeekNumber:Boolean,selectionMode:S$("date")}),VUe=["changerange","pick","select"],j8=(t="")=>["normal","today"].includes(t),zUe=(t,e)=>{const{lang:n}=ji(),r=ge(),i=ge(),s=ge(),a=ge(),o=ge([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,h=t.date.locale("en").localeData().weekdaysShort().map(z=>z.toLowerCase()),d=J(()=>u>3?7-u:-u),f=J(()=>{const z=t.date.startOf("month");return z.subtract(z.day()||7,"day")}),A=J(()=>h.concat(h).slice(u,u+7)),m=J(()=>koe(b(C)).some(z=>z.isCurrent)),g=J(()=>{const z=t.date.startOf("month"),ne=z.day()||7,he=z.daysInMonth(),W=z.subtract(1,"month").daysInMonth();return{startOfMonthDay:ne,dateCountOfMonth:he,dateCountOfLastMonth:W}}),y=J(()=>t.selectionMode==="dates"?Uh(t.parsedValue):[]),_=(z,{count:ne,rowIndex:he,columnIndex:W})=>{const{startOfMonthDay:Y,dateCountOfMonth:oe,dateCountOfLastMonth:fe}=b(g),me=b(d);if(he>=0&&he<=1){const ce=Y+me<0?7+Y+me:Y+me;if(W+he*7>=ce)return z.text=ne,!0;z.text=fe-(ce-W%7)+1+he*7,z.type="prev-month"}else return ne<=oe?z.text=ne:(z.text=ne-oe,z.type="next-month"),!0;return!1},x=(z,{columnIndex:ne,rowIndex:he},W)=>{const{disabledDate:Y,cellClassName:oe}=t,fe=b(y),me=_(z,{count:W,rowIndex:he,columnIndex:ne}),ce=z.dayjs.toDate();return z.selected=fe.find(be=>be.isSame(z.dayjs,"day")),z.isSelected=!!z.selected,z.isCurrent=B(z),z.disabled=Y==null?void 0:Y(ce),z.customClass=oe==null?void 0:oe(ce),me},S=z=>{if(t.selectionMode==="week"){const[ne,he]=t.showWeekNumber?[1,7]:[0,6],W=X(z[ne+1]);z[ne].inRange=W,z[ne].start=W,z[he].inRange=W,z[he].end=W}},C=J(()=>{const{minDate:z,maxDate:ne,rangeState:he,showWeekNumber:W}=t,Y=b(d),oe=b(o),fe="day";let me=1;if(W)for(let ce=0;ce<6;ce++)oe[ce][0]||(oe[ce][0]={type:"week",text:b(f).add(ce*7+1,fe).week()});return HUe({row:6,column:7},oe,{startDate:z,columnIndexOffset:W?1:0,nextEndDate:he.endDate||ne||he.selecting&&z||null,now:Tr().locale(b(n)).startOf(fe),unit:fe,relativeDateGetter:ce=>b(f).add(ce-Y,fe),setCellMetadata:(...ce)=>{x(...ce,me)&&(me+=1)},setRowMetadata:S}),oe});Ct(()=>t.date,async()=>{var z;(z=b(r))!=null&&z.contains(document.activeElement)&&(await Zn(),await M())});const M=async()=>{var z;return(z=b(i))==null?void 0:z.focus()},B=z=>t.selectionMode==="date"&&j8(z.type)&&E(z,t.parsedValue),E=(z,ne)=>ne?Tr(ne).locale(b(n)).isSame(t.date.date(Number(z.text)),"day"):!1,L=(z,ne)=>{const he=z*7+(ne-(t.showWeekNumber?1:0))-b(d);return b(f).add(he,"day")},I=z=>{var ne;if(!t.rangeState.selecting)return;let he=z.target;if(he.tagName==="SPAN"&&(he=(ne=he.parentNode)==null?void 0:ne.parentNode),he.tagName==="DIV"&&(he=he.parentNode),he.tagName!=="TD")return;const W=he.parentNode.rowIndex-1,Y=he.cellIndex;b(C)[W][Y].disabled||(W!==b(s)||Y!==b(a))&&(s.value=W,a.value=Y,e("changerange",{selecting:!0,endDate:L(W,Y)}))},k=z=>!b(m)&&(z==null?void 0:z.text)===1&&z.type==="normal"||z.isCurrent,O=z=>{l||b(m)||t.selectionMode!=="date"||Q(z,!0)},F=z=>{z.target.closest("td")&&(l=!0)},U=z=>{z.target.closest("td")&&(l=!1)},$=z=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:z,maxDate:null}),e("select",!0)):(z>=t.minDate?e("pick",{minDate:t.minDate,maxDate:z}):e("pick",{minDate:z,maxDate:t.minDate}),e("select",!1))},K=z=>{const ne=z.week(),he="".concat(z.year(),"w").concat(ne);e("pick",{year:z.year(),week:ne,value:he,date:z.startOf("week")})},V=(z,ne)=>{const he=ne?Uh(t.parsedValue).filter(W=>(W==null?void 0:W.valueOf())!==z.valueOf()):Uh(t.parsedValue).concat([z]);e("pick",he)},Q=(z,ne=!1)=>{const he=z.target.closest("td");if(!he)return;const W=he.parentNode.rowIndex-1,Y=he.cellIndex,oe=b(C)[W][Y];if(oe.disabled||oe.type==="week")return;const fe=L(W,Y);switch(t.selectionMode){case"range":{$(fe);break}case"date":{e("pick",fe,ne);break}case"week":{K(fe);break}case"dates":{V(fe,!!oe.selected);break}}},X=z=>{if(t.selectionMode!=="week")return!1;let ne=t.date.startOf("day");if(z.type==="prev-month"&&(ne=ne.subtract(1,"month")),z.type==="next-month"&&(ne=ne.add(1,"month")),ne=ne.date(Number.parseInt(z.text,10)),t.parsedValue&&!an(t.parsedValue)){const he=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(he,"day").isSame(ne,"day")}return!1};return{WEEKS:A,rows:C,tbodyRef:r,currentCellRef:i,focus:M,isCurrent:B,isWeekActive:X,isSelectedCell:k,handlePickDate:Q,handleMouseUp:U,handleMouseDown:F,handleMouseMove:I,handleFocus:O}},$Ue=(t,{isCurrent:e,isWeekActive:n})=>{const r=Jt("date-table"),{t:i}=ji(),s=J(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"}]),a=J(()=>i("el.datepicker.dateTablePrompt")),o=J(()=>i("el.datepicker.week"));return{tableKls:s,tableLabel:a,weekLabel:o,getCellClasses:h=>{const d=[];return j8(h.type)&&!h.disabled?(d.push("available"),h.type==="today"&&d.push("today")):d.push(h.type),e(h)&&d.push("current"),h.inRange&&(j8(h.type)||t.selectionMode==="week")&&(d.push("in-range"),h.start&&d.push("start-date"),h.end&&d.push("end-date")),h.disabled&&d.push("disabled"),h.selected&&d.push("selected"),h.customClass&&d.push(h.customClass),d.join(" ")},getRowKls:h=>[r.e("row"),{current:n(h)}],t:i}},QUe=hn({cell:{type:ht(Object)}});var T$=Me({name:"ElDatePickerCell",props:QUe,setup(t){const e=Jt("date-table-cell"),{slots:n}=qt(g5);return()=>{const{cell:r}=t;return tt(n,"default",{...r},()=>{var i;return[Ce("div",{class:e.b()},[Ce("span",{class:e.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const WUe=Me({__name:"basic-date-table",props:GUe,emits:VUe,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:i,rows:s,tbodyRef:a,currentCellRef:o,focus:l,isCurrent:u,isWeekActive:h,isSelectedCell:d,handlePickDate:f,handleMouseUp:A,handleMouseDown:m,handleMouseMove:g,handleFocus:y}=zUe(r,n),{tableLabel:_,tableKls:x,weekLabel:S,getCellClasses:C,getRowKls:M,t:B}=$Ue(r,{isCurrent:u,isWeekActive:h});return e({focus:l}),(E,L)=>(ie(),Ee("table",{"aria-label":b(_),class:de(b(x)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:b(f),onMousemove:b(g),onMousedown:mr(b(m),["prevent"]),onMouseup:b(A)},[Be("tbody",{ref_key:"tbodyRef",ref:a},[Be("tr",null,[E.showWeekNumber?(ie(),Ee("th",{key:0,scope:"col"},cn(b(S)),1)):lt("v-if",!0),(ie(!0),Ee(Wn,null,wi(b(i),(I,k)=>(ie(),Ee("th",{key:k,"aria-label":b(B)("el.datepicker.weeksFull."+I),scope:"col"},cn(b(B)("el.datepicker.weeks."+I)),9,["aria-label"]))),128))]),(ie(!0),Ee(Wn,null,wi(b(s),(I,k)=>(ie(),Ee("tr",{key:k,class:de(b(M)(I[1]))},[(ie(!0),Ee(Wn,null,wi(I,(O,F)=>(ie(),Ee("td",{key:"".concat(k,".").concat(F),ref_for:!0,ref:U=>b(d)(O)&&(o.value=U),class:de(b(C)(O)),"aria-current":O.isCurrent?"date":void 0,"aria-selected":O.isCurrent,tabindex:b(d)(O)?0:-1,onFocus:b(y)},[Ce(b(T$),{cell:O},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var K8=mn(WUe,[["__file","basic-date-table.vue"]]);const jUe=hn({...x$,selectionMode:S$("month")}),KUe=Me({__name:"basic-month-table",props:jUe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=Jt("month-table"),{t:s,lang:a}=ji(),o=ge(),l=ge(),u=ge(r.date.locale("en").localeData().monthsShort().map(S=>S.toLowerCase())),h=ge([[],[],[]]),d=ge(),f=ge(),A=J(()=>{var S,C;const M=h.value,B=Tr().locale(a.value).startOf("month");for(let E=0;E<3;E++){const L=M[E];for(let I=0;I<4;I++){const k=L[I]||(L[I]={row:E,column:I,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});k.type="normal";const O=E*4+I,F=r.date.startOf("year").month(O),U=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;k.inRange=!!(r.minDate&&F.isSameOrAfter(r.minDate,"month")&&U&&F.isSameOrBefore(U,"month"))||!!(r.minDate&&F.isSameOrBefore(r.minDate,"month")&&U&&F.isSameOrAfter(U,"month")),(S=r.minDate)!=null&&S.isSameOrAfter(U)?(k.start=!!(U&&F.isSame(U,"month")),k.end=r.minDate&&F.isSame(r.minDate,"month")):(k.start=!!(r.minDate&&F.isSame(r.minDate,"month")),k.end=!!(U&&F.isSame(U,"month"))),B.isSame(F)&&(k.type="today"),k.text=O,k.disabled=((C=r.disabledDate)==null?void 0:C.call(r,F.toDate()))||!1}}return M}),m=()=>{var S;(S=l.value)==null||S.focus()},g=S=>{const C={},M=r.date.year(),B=new Date,E=S.text;return C.disabled=r.disabledDate?rO(M,E,a.value).every(r.disabledDate):!1,C.current=Uh(r.parsedValue).findIndex(L=>Tr.isDayjs(L)&&L.year()===M&&L.month()===E)>=0,C.today=B.getFullYear()===M&&B.getMonth()===E,S.inRange&&(C["in-range"]=!0,S.start&&(C["start-date"]=!0),S.end&&(C["end-date"]=!0)),C},y=S=>{const C=r.date.year(),M=S.text;return Uh(r.date).findIndex(B=>B.year()===C&&B.month()===M)>=0},_=S=>{var C;if(!r.rangeState.selecting)return;let M=S.target;if(M.tagName==="SPAN"&&(M=(C=M.parentNode)==null?void 0:C.parentNode),M.tagName==="DIV"&&(M=M.parentNode),M.tagName!=="TD")return;const B=M.parentNode.rowIndex,E=M.cellIndex;A.value[B][E].disabled||(B!==d.value||E!==f.value)&&(d.value=B,f.value=E,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(B*4+E)}))},x=S=>{var C;const M=(C=S.target)==null?void 0:C.closest("td");if((M==null?void 0:M.tagName)!=="TD"||Rd(M,"disabled"))return;const B=M.cellIndex,L=M.parentNode.rowIndex*4+B,I=r.date.startOf("year").month(L);if(r.selectionMode==="months"){if(S.type==="keydown"){n("pick",Uh(r.parsedValue),!1);return}const k=xM(r.date.year(),L,a.value,r.disabledDate),O=Rd(M,"current")?Uh(r.parsedValue).filter(F=>(F==null?void 0:F.month())!==k.month()):Uh(r.parsedValue).concat([Tr(k)]);n("pick",O)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&I>=r.minDate?n("pick",{minDate:r.minDate,maxDate:I}):n("pick",{minDate:I,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:I,maxDate:null}),n("select",!0)):n("pick",L)};return Ct(()=>r.date,async()=>{var S,C;(S=o.value)!=null&&S.contains(document.activeElement)&&(await Zn(),(C=l.value)==null||C.focus())}),e({focus:m}),(S,C)=>(ie(),Ee("table",{role:"grid","aria-label":b(s)("el.datepicker.monthTablePrompt"),class:de(b(i).b()),onClick:x,onMousemove:_},[Be("tbody",{ref_key:"tbodyRef",ref:o},[(ie(!0),Ee(Wn,null,wi(b(A),(M,B)=>(ie(),Ee("tr",{key:B},[(ie(!0),Ee(Wn,null,wi(M,(E,L)=>(ie(),Ee("td",{key:L,ref_for:!0,ref:I=>y(E)&&(l.value=I),class:de(g(E)),"aria-selected":"".concat(y(E)),"aria-label":b(s)("el.datepicker.month".concat(+E.text+1)),tabindex:y(E)?0:-1,onKeydown:[$s(mr(x,["prevent","stop"]),["space"]),$s(mr(x,["prevent","stop"]),["enter"])]},[Ce(b(T$),{cell:{...E,renderText:b(s)("el.datepicker.months."+u.value[E.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var q8=mn(KUe,[["__file","basic-month-table.vue"]]);const qUe=hn({...x$,selectionMode:S$("year")}),XUe=Me({__name:"basic-year-table",props:qUe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=(C,M)=>{const B=Tr(String(C)).locale(M).startOf("year"),L=B.endOf("year").dayOfYear();return sy(L).map(I=>B.add(I,"day").toDate())},s=Jt("year-table"),{t:a,lang:o}=ji(),l=ge(),u=ge(),h=J(()=>Math.floor(r.date.year()/10)*10),d=ge([[],[],[]]),f=ge(),A=ge(),m=J(()=>{var C;const M=d.value,B=Tr().locale(o.value).startOf("year");for(let E=0;E<3;E++){const L=M[E];for(let I=0;I<4&&!(E*4+I>=10);I++){let k=L[I];k||(k={row:E,column:I,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),k.type="normal";const O=E*4+I+h.value,F=Tr().year(O),U=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;k.inRange=!!(r.minDate&&F.isSameOrAfter(r.minDate,"year")&&U&&F.isSameOrBefore(U,"year"))||!!(r.minDate&&F.isSameOrBefore(r.minDate,"year")&&U&&F.isSameOrAfter(U,"year")),(C=r.minDate)!=null&&C.isSameOrAfter(U)?(k.start=!!(U&&F.isSame(U,"year")),k.end=!!(r.minDate&&F.isSame(r.minDate,"year"))):(k.start=!!(r.minDate&&F.isSame(r.minDate,"year")),k.end=!!(U&&F.isSame(U,"year"))),B.isSame(F)&&(k.type="today"),k.text=O;const K=F.toDate();k.disabled=r.disabledDate&&r.disabledDate(K)||!1,L[I]=k}}return M}),g=()=>{var C;(C=u.value)==null||C.focus()},y=C=>{const M={},B=Tr().locale(o.value),E=C.text;return M.disabled=r.disabledDate?i(E,o.value).every(r.disabledDate):!1,M.today=B.year()===E,M.current=Uh(r.parsedValue).findIndex(L=>L.year()===E)>=0,C.inRange&&(M["in-range"]=!0,C.start&&(M["start-date"]=!0),C.end&&(M["end-date"]=!0)),M},_=C=>{const M=C.text;return Uh(r.date).findIndex(B=>B.year()===M)>=0},x=C=>{var M;const B=(M=C.target)==null?void 0:M.closest("td");if(!B||!B.textContent||Rd(B,"disabled"))return;const E=B.cellIndex,I=B.parentNode.rowIndex*4+E+h.value,k=Tr().year(I);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&k>=r.minDate?n("pick",{minDate:r.minDate,maxDate:k}):n("pick",{minDate:k,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:k,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(C.type==="keydown"){n("pick",Uh(r.parsedValue),!1);return}const O=W8(k.startOf("year"),o.value,r.disabledDate),F=Rd(B,"current")?Uh(r.parsedValue).filter(U=>(U==null?void 0:U.year())!==I):Uh(r.parsedValue).concat([O]);n("pick",F)}else n("pick",I)},S=C=>{var M;if(!r.rangeState.selecting)return;const B=(M=C.target)==null?void 0:M.closest("td");if(!B)return;const E=B.parentNode.rowIndex,L=B.cellIndex;m.value[E][L].disabled||(E!==f.value||L!==A.value)&&(f.value=E,A.value=L,n("changerange",{selecting:!0,endDate:Tr().year(h.value).add(E*4+L,"year")}))};return Ct(()=>r.date,async()=>{var C,M;(C=l.value)!=null&&C.contains(document.activeElement)&&(await Zn(),(M=u.value)==null||M.focus())}),e({focus:g}),(C,M)=>(ie(),Ee("table",{role:"grid","aria-label":b(a)("el.datepicker.yearTablePrompt"),class:de(b(s).b()),onClick:x,onMousemove:S},[Be("tbody",{ref_key:"tbodyRef",ref:l},[(ie(!0),Ee(Wn,null,wi(b(m),(B,E)=>(ie(),Ee("tr",{key:E},[(ie(!0),Ee(Wn,null,wi(B,(L,I)=>(ie(),Ee("td",{key:"".concat(E,"_").concat(I),ref_for:!0,ref:k=>_(L)&&(u.value=k),class:de(["available",y(L)]),"aria-selected":_(L),"aria-label":String(L.text),tabindex:_(L)?0:-1,onKeydown:[$s(mr(x,["prevent","stop"]),["space"]),$s(mr(x,["prevent","stop"]),["enter"])]},[Ce(b(T$),{cell:L},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var X8=mn(XUe,[["__file","basic-year-table.vue"]]);const YUe=Me({__name:"panel-date-pick",props:UUe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(st,ke,ct)=>!0,i=Jt("picker-panel"),s=Jt("date-picker"),a=Ya(),o=Cl(),{t:l,lang:u}=ji(),h=qt("EP_PICKER_BASE"),d=qt(A5),{shortcuts:f,disabledDate:A,cellClassName:m,defaultTime:g}=h.props,y=Is(h.props,"defaultValue"),_=ge(),x=ge(Tr().locale(u.value)),S=ge(!1);let C=!1;const M=J(()=>Tr(g).locale(u.value)),B=J(()=>x.value.month()),E=J(()=>x.value.year()),L=ge([]),I=ge(null),k=ge(null),O=st=>L.value.length>0?r(st,L.value,n.format||"HH:mm:ss"):!0,F=st=>g&&!Ve.value&&!S.value&&!C?M.value.year(st.year()).month(st.month()).date(st.date()):ce.value?st.millisecond(0):st.startOf("day"),U=(st,...ke)=>{if(!st)e("pick",st,...ke);else if(an(st)){const ct=st.map(F);e("pick",ct,...ke)}else e("pick",F(st),...ke);I.value=null,k.value=null,S.value=!1,C=!1},$=async(st,ke)=>{if(ne.value==="date"){st=st;let ct=n.parsedValue?n.parsedValue.year(st.year()).month(st.month()).date(st.date()):st;O(ct)||(ct=L.value[0][0].year(st.year()).month(st.month()).date(st.date())),x.value=ct,U(ct,ce.value||ke),n.type==="datetime"&&(await Zn(),ln())}else ne.value==="week"?U(st.date):ne.value==="dates"&&U(st,!0)},K=st=>{const ke=st?"add":"subtract";x.value=x.value[ke](1,"month"),Dt("month")},V=st=>{const ke=x.value,ct=st?"add":"subtract";x.value=Q.value==="year"?ke[ct](10,"year"):ke[ct](1,"year"),Dt("year")},Q=ge("date"),X=J(()=>{const st=l("el.datepicker.year");if(Q.value==="year"){const ke=Math.floor(E.value/10)*10;return st?"".concat(ke," ").concat(st," - ").concat(ke+9," ").concat(st):"".concat(ke," - ").concat(ke+9)}return"".concat(E.value," ").concat(st)}),z=st=>{const ke=Kn(st.value)?st.value():st.value;if(ke){C=!0,U(Tr(ke).locale(u.value));return}st.onClick&&st.onClick({attrs:a,slots:o,emit:e})},ne=J(()=>{const{type:st}=n;return["week","month","months","year","years","dates"].includes(st)?st:"date"}),he=J(()=>ne.value==="dates"||ne.value==="months"||ne.value==="years"),W=J(()=>ne.value==="date"?Q.value:ne.value),Y=J(()=>!!f.length),oe=async(st,ke)=>{ne.value==="month"?(x.value=xM(x.value.year(),st,u.value,A),U(x.value,!1)):ne.value==="months"?U(st,ke!=null?ke:!0):(x.value=xM(x.value.year(),st,u.value,A),Q.value="date",["month","year","date","week"].includes(ne.value)&&(U(x.value,!0),await Zn(),ln())),Dt("month")},fe=async(st,ke)=>{if(ne.value==="year"){const ct=x.value.startOf("year").year(st);x.value=W8(ct,u.value,A),U(x.value,!1)}else if(ne.value==="years")U(st,ke!=null?ke:!0);else{const ct=x.value.year(st);x.value=W8(ct,u.value,A),Q.value="month",["month","year","date","week"].includes(ne.value)&&(U(x.value,!0),await Zn(),ln())}Dt("year")},me=async st=>{Q.value=st,await Zn(),ln()},ce=J(()=>n.type==="datetime"||n.type==="datetimerange"),be=J(()=>{const st=ce.value||ne.value==="dates",ke=ne.value==="years",ct=ne.value==="months",Oe=Q.value==="date",kt=Q.value==="year",wn=Q.value==="month";return st&&Oe||ke&&kt||ct&&wn}),xe=J(()=>A?n.parsedValue?an(n.parsedValue)?A(n.parsedValue[0].toDate()):A(n.parsedValue.toDate()):!0:!1),Ie=()=>{if(he.value)U(n.parsedValue);else{let st=n.parsedValue;if(!st){const ke=Tr(g).locale(u.value),ct=Zt();st=ke.year(ct.year()).month(ct.month()).date(ct.date())}x.value=st,U(st)}},Qe=J(()=>A?A(Tr().locale(u.value).toDate()):!1),ue=()=>{const ke=Tr().locale(u.value).toDate();S.value=!0,(!A||!A(ke))&&O(ke)&&(x.value=Tr().locale(u.value),U(x.value))},ye=J(()=>n.timeFormat||fce(n.format)),$e=J(()=>n.dateFormat||dce(n.format)),Ve=J(()=>{if(k.value)return k.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||x.value).format(ye.value)}),Se=J(()=>{if(I.value)return I.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||x.value).format($e.value)}),at=ge(!1),ft=()=>{at.value=!0},je=()=>{at.value=!1},gt=st=>({hour:st.hour(),minute:st.minute(),second:st.second(),year:st.year(),month:st.month(),date:st.date()}),vt=(st,ke,ct)=>{const{hour:Oe,minute:kt,second:wn}=gt(st),mt=n.parsedValue?n.parsedValue.hour(Oe).minute(kt).second(wn):st;x.value=mt,U(x.value,!0),ct||(at.value=ke)},Te=st=>{const ke=Tr(st,ye.value).locale(u.value);if(ke.isValid()&&O(ke)){const{year:ct,month:Oe,date:kt}=gt(x.value);x.value=ke.year(ct).month(Oe).date(kt),k.value=null,at.value=!1,U(x.value,!0)}},we=st=>{const ke=Tr(st,$e.value).locale(u.value);if(ke.isValid()){if(A&&A(ke.toDate()))return;const{hour:ct,minute:Oe,second:kt}=gt(x.value);x.value=ke.hour(ct).minute(Oe).second(kt),I.value=null,U(x.value,!0)}},Ne=st=>Tr.isDayjs(st)&&st.isValid()&&(A?!A(st.toDate()):!0),Ze=st=>an(st)?st.map(ke=>ke.format(n.format)):st.format(n.format),Tt=st=>Tr(st,n.format).locale(u.value),Zt=()=>{const st=Tr(y.value).locale(u.value);if(!y.value){const ke=M.value;return Tr().hour(ke.hour()).minute(ke.minute()).second(ke.second()).locale(u.value)}return st},ln=()=>{var st;["week","month","year","date"].includes(ne.value)&&((st=_.value)==null||st.focus())},Ye=()=>{ln(),ne.value==="week"&&Qt(Ln.down)},yt=st=>{const{code:ke}=st;[Ln.up,Ln.down,Ln.left,Ln.right,Ln.home,Ln.end,Ln.pageUp,Ln.pageDown].includes(ke)&&(Qt(ke),st.stopPropagation(),st.preventDefault()),[Ln.enter,Ln.space,Ln.numpadEnter].includes(ke)&&I.value===null&&k.value===null&&(st.preventDefault(),U(x.value,!1))},Qt=st=>{var ke;const{up:ct,down:Oe,left:kt,right:wn,home:mt,end:Kt,pageUp:bn,pageDown:Rn}=Ln,On={year:{[ct]:-4,[Oe]:4,[kt]:-1,[wn]:1,offset:(Un,jr)=>Un.setFullYear(Un.getFullYear()+jr)},month:{[ct]:-4,[Oe]:4,[kt]:-1,[wn]:1,offset:(Un,jr)=>Un.setMonth(Un.getMonth()+jr)},week:{[ct]:-1,[Oe]:1,[kt]:-1,[wn]:1,offset:(Un,jr)=>Un.setDate(Un.getDate()+jr*7)},date:{[ct]:-7,[Oe]:7,[kt]:-1,[wn]:1,[mt]:Un=>-Un.getDay(),[Kt]:Un=>-Un.getDay()+6,[bn]:Un=>-new Date(Un.getFullYear(),Un.getMonth(),0).getDate(),[Rn]:Un=>new Date(Un.getFullYear(),Un.getMonth()+1,0).getDate(),offset:(Un,jr)=>Un.setDate(Un.getDate()+jr)}},Dn=x.value.toDate();for(;Math.abs(x.value.diff(Dn,"year",!0))<1;){const Un=On[W.value];if(!Un)return;if(Un.offset(Dn,Kn(Un[st])?Un[st](Dn):(ke=Un[st])!=null?ke:0),A&&A(Dn))break;const jr=Tr(Dn).locale(u.value);x.value=jr,e("pick",jr,!0);break}},Dt=st=>{e("panel-change",x.value.toDate(),st,Q.value)};return Ct(()=>ne.value,st=>{if(["month","year"].includes(st)){Q.value=st;return}else if(st==="years"){Q.value="year";return}else if(st==="months"){Q.value="month";return}Q.value="date"},{immediate:!0}),Ct(()=>Q.value,()=>{d==null||d.updatePopper()}),Ct(()=>y.value,st=>{st&&(x.value=Zt())},{immediate:!0}),Ct(()=>n.parsedValue,st=>{if(st){if(he.value||an(st))return;x.value=st}else x.value=Zt()},{immediate:!0}),e("set-picker-option",["isValidValue",Ne]),e("set-picker-option",["formatToString",Ze]),e("set-picker-option",["parseUserInput",Tt]),e("set-picker-option",["handleFocusPicker",Ye]),(st,ke)=>(ie(),Ee("div",{class:de([b(i).b(),b(s).b(),{"has-sidebar":st.$slots.sidebar||b(Y),"has-time":b(ce)}])},[Be("div",{class:de(b(i).e("body-wrapper"))},[tt(st.$slots,"sidebar",{class:de(b(i).e("sidebar"))}),b(Y)?(ie(),Ee("div",{key:0,class:de(b(i).e("sidebar"))},[(ie(!0),Ee(Wn,null,wi(b(f),(ct,Oe)=>(ie(),Ee("button",{key:Oe,type:"button",class:de(b(i).e("shortcut")),onClick:kt=>z(ct)},cn(ct.text),11,["onClick"]))),128))],2)):lt("v-if",!0),Be("div",{class:de(b(i).e("body"))},[b(ce)?(ie(),Ee("div",{key:0,class:de(b(s).e("time-header"))},[Be("span",{class:de(b(s).e("editor-wrap"))},[Ce(b(sh),{placeholder:b(l)("el.datepicker.selectDate"),"model-value":b(Se),size:"small","validate-event":!1,onInput:ct=>I.value=ct,onChange:we},null,8,["placeholder","model-value","onInput"])],2),Br((ie(),Ee("span",{class:de(b(s).e("editor-wrap"))},[Ce(b(sh),{placeholder:b(l)("el.datepicker.selectTime"),"model-value":b(Ve),size:"small","validate-event":!1,onFocus:ft,onInput:ct=>k.value=ct,onChange:Te},null,8,["placeholder","model-value","onInput"]),Ce(b(nO),{visible:at.value,format:b(ye),"parsed-value":x.value,onPick:vt},null,8,["visible","format","parsed-value"])],2)),[[b(Tv),je]])],2)):lt("v-if",!0),Br(Be("div",{class:de([b(s).e("header"),(Q.value==="year"||Q.value==="month")&&b(s).e("header--bordered")])},[Be("span",{class:de(b(s).e("prev-btn"))},[Be("button",{type:"button","aria-label":b(l)("el.datepicker.prevYear"),class:de(["d-arrow-left",b(i).e("icon-btn")]),onClick:ct=>V(!1)},[tt(st.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["aria-label","onClick"]),Br(Be("button",{type:"button","aria-label":b(l)("el.datepicker.prevMonth"),class:de([b(i).e("icon-btn"),"arrow-left"]),onClick:ct=>K(!1)},[tt(st.$slots,"prev-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1})])],10,["aria-label","onClick"]),[[Qi,Q.value==="date"]])],2),Be("span",{role:"button",class:de(b(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:$s(ct=>me("year"),["enter"]),onClick:ct=>me("year")},cn(b(X)),43,["onKeydown","onClick"]),Br(Be("span",{role:"button","aria-live":"polite",tabindex:"0",class:de([b(s).e("header-label"),{active:Q.value==="month"}]),onKeydown:$s(ct=>me("month"),["enter"]),onClick:ct=>me("month")},cn(b(l)("el.datepicker.month".concat(b(B)+1))),43,["onKeydown","onClick"]),[[Qi,Q.value==="date"]]),Be("span",{class:de(b(s).e("next-btn"))},[Br(Be("button",{type:"button","aria-label":b(l)("el.datepicker.nextMonth"),class:de([b(i).e("icon-btn"),"arrow-right"]),onClick:ct=>K(!0)},[tt(st.$slots,"next-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})])],10,["aria-label","onClick"]),[[Qi,Q.value==="date"]]),Be("button",{type:"button","aria-label":b(l)("el.datepicker.nextYear"),class:de([b(i).e("icon-btn"),"d-arrow-right"]),onClick:ct=>V(!0)},[tt(st.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Qi,Q.value!=="time"]]),Be("div",{class:de(b(i).e("content")),onKeydown:yt},[Q.value==="date"?(ie(),St(K8,{key:0,ref_key:"currentViewRef",ref:_,"selection-mode":b(ne),date:x.value,"parsed-value":st.parsedValue,"disabled-date":b(A),"cell-class-name":b(m),onPick:$},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):lt("v-if",!0),Q.value==="year"?(ie(),St(X8,{key:1,ref_key:"currentViewRef",ref:_,"selection-mode":b(ne),date:x.value,"disabled-date":b(A),"parsed-value":st.parsedValue,onPick:fe},null,8,["selection-mode","date","disabled-date","parsed-value"])):lt("v-if",!0),Q.value==="month"?(ie(),St(q8,{key:2,ref_key:"currentViewRef",ref:_,"selection-mode":b(ne),date:x.value,"parsed-value":st.parsedValue,"disabled-date":b(A),onPick:oe},null,8,["selection-mode","date","parsed-value","disabled-date"])):lt("v-if",!0)],34)],2)],2),Br(Be("div",{class:de(b(i).e("footer"))},[Br(Ce(b(Sc),{text:"",size:"small",class:de(b(i).e("link-btn")),disabled:b(Qe),onClick:ue},{default:De(()=>[Mr(cn(b(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Qi,!b(he)&&st.showNow]]),Ce(b(Sc),{plain:"",size:"small",class:de(b(i).e("link-btn")),disabled:b(xe),onClick:Ie},{default:De(()=>[Mr(cn(b(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Qi,b(be)]])],2))}});var ZUe=mn(YUe,[["__file","panel-date-pick.vue"]]);const JUe=hn({...jce,...E$,visible:Boolean}),Kce=t=>{const{emit:e}=ni(),n=Ya(),r=Cl();return s=>{const a=Kn(s.value)?s.value():s.value;if(a){e("pick",[Tr(a[0]).locale(t.value),Tr(a[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:r,emit:e})}},qce=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:s})=>{const{emit:a}=ni(),{pickerNs:o}=qt(g5),l=Jt("date-range-picker"),{t:u,lang:h}=ji(),d=Kce(h),f=ge(),A=ge(),m=ge({endDate:null,selecting:!1}),g=C=>{m.value=C},y=(C=!1)=>{const M=b(f),B=b(A);tS([M,B])&&a("pick",[M,B],C)},_=C=>{m.value.selecting=C,C||(m.value.endDate=null)},x=C=>{if(an(C)&&C.length===2){const[M,B]=C;f.value=M,n.value=M,A.value=B,s(b(f),b(A))}else S()},S=()=>{const[C,M]=C$(b(e),{lang:b(h),unit:i,unlinkPanels:t.unlinkPanels});f.value=void 0,A.value=void 0,n.value=C,r.value=M};return Ct(e,C=>{C&&S()},{immediate:!0}),Ct(()=>t.parsedValue,x,{immediate:!0}),{minDate:f,maxDate:A,rangeState:m,lang:h,ppNs:o,drpNs:l,handleChangeRange:g,handleRangeConfirm:y,handleShortcutClick:d,onSelect:_,onReset:x,t:u}},bR="month",e4e=Me({__name:"panel-date-range",props:JUe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=qt("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,defaultTime:a,clearable:o}=r.props,l=Is(r.props,"format"),u=Is(r.props,"shortcuts"),h=Is(r.props,"defaultValue"),{lang:d}=ji(),f=ge(Tr().locale(d.value)),A=ge(Tr().locale(d.value).add(1,bR)),{minDate:m,maxDate:g,rangeState:y,ppNs:_,drpNs:x,handleChangeRange:S,handleRangeConfirm:C,handleShortcutClick:M,onSelect:B,onReset:E,t:L}=qce(n,{defaultValue:h,leftDate:f,rightDate:A,unit:bR,onParsedValueChanged:st});Ct(()=>n.visible,ke=>{!ke&&y.value.selecting&&(E(n.parsedValue),B(!1))});const I=ge({min:null,max:null}),k=ge({min:null,max:null}),O=J(()=>"".concat(f.value.year()," ").concat(L("el.datepicker.year")," ").concat(L("el.datepicker.month".concat(f.value.month()+1)))),F=J(()=>"".concat(A.value.year()," ").concat(L("el.datepicker.year")," ").concat(L("el.datepicker.month".concat(A.value.month()+1)))),U=J(()=>f.value.year()),$=J(()=>f.value.month()),K=J(()=>A.value.year()),V=J(()=>A.value.month()),Q=J(()=>!!u.value.length),X=J(()=>I.value.min!==null?I.value.min:m.value?m.value.format(Y.value):""),z=J(()=>I.value.max!==null?I.value.max:g.value||m.value?(g.value||m.value).format(Y.value):""),ne=J(()=>k.value.min!==null?k.value.min:m.value?m.value.format(W.value):""),he=J(()=>k.value.max!==null?k.value.max:g.value||m.value?(g.value||m.value).format(W.value):""),W=J(()=>n.timeFormat||fce(l.value)),Y=J(()=>n.dateFormat||dce(l.value)),oe=ke=>tS(ke)&&(i?!i(ke[0].toDate())&&!i(ke[1].toDate()):!0),fe=()=>{f.value=f.value.subtract(1,"year"),n.unlinkPanels||(A.value=f.value.add(1,"month")),ye("year")},me=()=>{f.value=f.value.subtract(1,"month"),n.unlinkPanels||(A.value=f.value.add(1,"month")),ye("month")},ce=()=>{n.unlinkPanels?A.value=A.value.add(1,"year"):(f.value=f.value.add(1,"year"),A.value=f.value.add(1,"month")),ye("year")},be=()=>{n.unlinkPanels?A.value=A.value.add(1,"month"):(f.value=f.value.add(1,"month"),A.value=f.value.add(1,"month")),ye("month")},xe=()=>{f.value=f.value.add(1,"year"),ye("year")},Ie=()=>{f.value=f.value.add(1,"month"),ye("month")},Qe=()=>{A.value=A.value.subtract(1,"year"),ye("year")},ue=()=>{A.value=A.value.subtract(1,"month"),ye("month")},ye=ke=>{e("panel-change",[f.value.toDate(),A.value.toDate()],ke)},$e=J(()=>{const ke=($.value+1)%12,ct=$.value+1>=12?1:0;return n.unlinkPanels&&new Date(U.value+ct,ke)<new Date(K.value,V.value)}),Ve=J(()=>n.unlinkPanels&&K.value*12+V.value-(U.value*12+$.value+1)>=12),Se=J(()=>!(m.value&&g.value&&!y.value.selecting&&tS([m.value,g.value]))),at=J(()=>n.type==="datetime"||n.type==="datetimerange"),ft=(ke,ct)=>{if(ke)return a?Tr(a[ct]||a).locale(d.value).year(ke.year()).month(ke.month()).date(ke.date()):ke},je=(ke,ct=!0)=>{const Oe=ke.minDate,kt=ke.maxDate,wn=ft(Oe,0),mt=ft(kt,1);g.value===mt&&m.value===wn||(e("calendar-change",[Oe.toDate(),kt&&kt.toDate()]),g.value=mt,m.value=wn,!(!ct||at.value)&&C())},gt=ge(!1),vt=ge(!1),Te=()=>{gt.value=!1},we=()=>{vt.value=!1},Ne=(ke,ct)=>{I.value[ct]=ke;const Oe=Tr(ke,Y.value).locale(d.value);if(Oe.isValid()){if(i&&i(Oe.toDate()))return;ct==="min"?(f.value=Oe,m.value=(m.value||f.value).year(Oe.year()).month(Oe.month()).date(Oe.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(m.value))&&(A.value=Oe.add(1,"month"),g.value=m.value.add(1,"month"))):(A.value=Oe,g.value=(g.value||A.value).year(Oe.year()).month(Oe.month()).date(Oe.date()),!n.unlinkPanels&&(!m.value||m.value.isAfter(g.value))&&(f.value=Oe.subtract(1,"month"),m.value=g.value.subtract(1,"month")))}},Ze=(ke,ct)=>{I.value[ct]=null},Tt=(ke,ct)=>{k.value[ct]=ke;const Oe=Tr(ke,W.value).locale(d.value);Oe.isValid()&&(ct==="min"?(gt.value=!0,m.value=(m.value||f.value).hour(Oe.hour()).minute(Oe.minute()).second(Oe.second())):(vt.value=!0,g.value=(g.value||A.value).hour(Oe.hour()).minute(Oe.minute()).second(Oe.second()),A.value=g.value))},Zt=(ke,ct)=>{k.value[ct]=null,ct==="min"?(f.value=m.value,gt.value=!1,(!g.value||g.value.isBefore(m.value))&&(g.value=m.value)):(A.value=g.value,vt.value=!1,g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},ln=(ke,ct,Oe)=>{k.value.min||(ke&&(f.value=ke,m.value=(m.value||f.value).hour(ke.hour()).minute(ke.minute()).second(ke.second())),Oe||(gt.value=ct),(!g.value||g.value.isBefore(m.value))&&(g.value=m.value,A.value=ke))},Ye=(ke,ct,Oe)=>{k.value.max||(ke&&(A.value=ke,g.value=(g.value||A.value).hour(ke.hour()).minute(ke.minute()).second(ke.second())),Oe||(vt.value=ct),g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},yt=()=>{f.value=C$(b(h),{lang:b(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],A.value=f.value.add(1,"month"),g.value=void 0,m.value=void 0,e("pick",null)},Qt=ke=>an(ke)?ke.map(ct=>ct.format(l.value)):ke.format(l.value),Dt=ke=>an(ke)?ke.map(ct=>Tr(ct,l.value).locale(d.value)):Tr(ke,l.value).locale(d.value);function st(ke,ct){if(n.unlinkPanels&&ct){const Oe=(ke==null?void 0:ke.year())||0,kt=(ke==null?void 0:ke.month())||0,wn=ct.year(),mt=ct.month();A.value=Oe===wn&&kt===mt?ct.add(1,bR):ct}else A.value=f.value.add(1,bR),ct&&(A.value=A.value.hour(ct.hour()).minute(ct.minute()).second(ct.second()))}return e("set-picker-option",["isValidValue",oe]),e("set-picker-option",["parseUserInput",Dt]),e("set-picker-option",["formatToString",Qt]),e("set-picker-option",["handleClear",yt]),(ke,ct)=>(ie(),Ee("div",{class:de([b(_).b(),b(x).b(),{"has-sidebar":ke.$slots.sidebar||b(Q),"has-time":b(at)}])},[Be("div",{class:de(b(_).e("body-wrapper"))},[tt(ke.$slots,"sidebar",{class:de(b(_).e("sidebar"))}),b(Q)?(ie(),Ee("div",{key:0,class:de(b(_).e("sidebar"))},[(ie(!0),Ee(Wn,null,wi(b(u),(Oe,kt)=>(ie(),Ee("button",{key:kt,type:"button",class:de(b(_).e("shortcut")),onClick:wn=>b(M)(Oe)},cn(Oe.text),11,["onClick"]))),128))],2)):lt("v-if",!0),Be("div",{class:de(b(_).e("body"))},[b(at)?(ie(),Ee("div",{key:0,class:de(b(x).e("time-header"))},[Be("span",{class:de(b(x).e("editors-wrap"))},[Be("span",{class:de(b(x).e("time-picker-wrap"))},[Ce(b(sh),{size:"small",disabled:b(y).selecting,placeholder:b(L)("el.datepicker.startDate"),class:de(b(x).e("editor")),"model-value":b(X),"validate-event":!1,onInput:Oe=>Ne(Oe,"min"),onChange:Oe=>Ze(Oe,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Br((ie(),Ee("span",{class:de(b(x).e("time-picker-wrap"))},[Ce(b(sh),{size:"small",class:de(b(x).e("editor")),disabled:b(y).selecting,placeholder:b(L)("el.datepicker.startTime"),"model-value":b(ne),"validate-event":!1,onFocus:Oe=>gt.value=!0,onInput:Oe=>Tt(Oe,"min"),onChange:Oe=>Zt(Oe,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),Ce(b(nO),{visible:gt.value,format:b(W),"datetime-role":"start","parsed-value":f.value,onPick:ln},null,8,["visible","format","parsed-value"])],2)),[[b(Tv),Te]])],2),Be("span",null,[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})]),Be("span",{class:de([b(x).e("editors-wrap"),"is-right"])},[Be("span",{class:de(b(x).e("time-picker-wrap"))},[Ce(b(sh),{size:"small",class:de(b(x).e("editor")),disabled:b(y).selecting,placeholder:b(L)("el.datepicker.endDate"),"model-value":b(z),readonly:!b(m),"validate-event":!1,onInput:Oe=>Ne(Oe,"max"),onChange:Oe=>Ze(Oe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Br((ie(),Ee("span",{class:de(b(x).e("time-picker-wrap"))},[Ce(b(sh),{size:"small",class:de(b(x).e("editor")),disabled:b(y).selecting,placeholder:b(L)("el.datepicker.endTime"),"model-value":b(he),readonly:!b(m),"validate-event":!1,onFocus:Oe=>b(m)&&(vt.value=!0),onInput:Oe=>Tt(Oe,"max"),onChange:Oe=>Zt(Oe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),Ce(b(nO),{"datetime-role":"end",visible:vt.value,format:b(W),"parsed-value":A.value,onPick:Ye},null,8,["visible","format","parsed-value"])],2)),[[b(Tv),we]])],2)],2)):lt("v-if",!0),Be("div",{class:de([[b(_).e("content"),b(x).e("content")],"is-left"])},[Be("div",{class:de(b(x).e("header"))},[Be("button",{type:"button",class:de([b(_).e("icon-btn"),"d-arrow-left"]),"aria-label":b(L)("el.datepicker.prevYear"),onClick:fe},[tt(ke.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["aria-label"]),Be("button",{type:"button",class:de([b(_).e("icon-btn"),"arrow-left"]),"aria-label":b(L)("el.datepicker.prevMonth"),onClick:me},[tt(ke.$slots,"prev-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1})])],10,["aria-label"]),ke.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(Ve),class:de([[b(_).e("icon-btn"),{"is-disabled":!b(Ve)}],"d-arrow-right"]),"aria-label":b(L)("el.datepicker.nextYear"),onClick:xe},[tt(ke.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["disabled","aria-label"])):lt("v-if",!0),ke.unlinkPanels?(ie(),Ee("button",{key:1,type:"button",disabled:!b($e),class:de([[b(_).e("icon-btn"),{"is-disabled":!b($e)}],"arrow-right"]),"aria-label":b(L)("el.datepicker.nextMonth"),onClick:Ie},[tt(ke.$slots,"next-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})])],10,["disabled","aria-label"])):lt("v-if",!0),Be("div",null,cn(b(O)),1)],2),Ce(K8,{"selection-mode":"range",date:f.value,"min-date":b(m),"max-date":b(g),"range-state":b(y),"disabled-date":b(i),"cell-class-name":b(s),onChangerange:b(S),onPick:je,onSelect:b(B)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Be("div",{class:de([[b(_).e("content"),b(x).e("content")],"is-right"])},[Be("div",{class:de(b(x).e("header"))},[ke.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(Ve),class:de([[b(_).e("icon-btn"),{"is-disabled":!b(Ve)}],"d-arrow-left"]),"aria-label":b(L)("el.datepicker.prevYear"),onClick:Qe},[tt(ke.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["disabled","aria-label"])):lt("v-if",!0),ke.unlinkPanels?(ie(),Ee("button",{key:1,type:"button",disabled:!b($e),class:de([[b(_).e("icon-btn"),{"is-disabled":!b($e)}],"arrow-left"]),"aria-label":b(L)("el.datepicker.prevMonth"),onClick:ue},[tt(ke.$slots,"prev-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1})])],10,["disabled","aria-label"])):lt("v-if",!0),Be("button",{type:"button","aria-label":b(L)("el.datepicker.nextYear"),class:de([b(_).e("icon-btn"),"d-arrow-right"]),onClick:ce},[tt(ke.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["aria-label"]),Be("button",{type:"button",class:de([b(_).e("icon-btn"),"arrow-right"]),"aria-label":b(L)("el.datepicker.nextMonth"),onClick:be},[tt(ke.$slots,"next-month",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})])],10,["aria-label"]),Be("div",null,cn(b(F)),1)],2),Ce(K8,{"selection-mode":"range",date:A.value,"min-date":b(m),"max-date":b(g),"range-state":b(y),"disabled-date":b(i),"cell-class-name":b(s),onChangerange:b(S),onPick:je,onSelect:b(B)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),b(at)?(ie(),Ee("div",{key:0,class:de(b(_).e("footer"))},[b(o)?(ie(),St(b(Sc),{key:0,text:"",size:"small",class:de(b(_).e("link-btn")),onClick:yt},{default:De(()=>[Mr(cn(b(L)("el.datepicker.clear")),1)]),_:1},8,["class"])):lt("v-if",!0),Ce(b(Sc),{plain:"",size:"small",class:de(b(_).e("link-btn")),disabled:b(Se),onClick:Oe=>b(C)(!1)},{default:De(()=>[Mr(cn(b(L)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):lt("v-if",!0)],2))}});var t4e=mn(e4e,[["__file","panel-date-range.vue"]]);const n4e=hn({...E$}),r4e=["pick","set-picker-option","calendar-change"],i4e=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=ji(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},o=()=>{n.value=n.value.subtract(1,"year")},l=J(()=>"".concat(e.value.year()," ").concat(r("el.datepicker.year"))),u=J(()=>"".concat(n.value.year()," ").concat(r("el.datepicker.year"))),h=J(()=>e.value.year()),d=J(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:a,rightPrevYear:o,leftLabel:l,rightLabel:u,leftYear:h,rightYear:d}},xR="year",s4e=Me({name:"DatePickerMonthRange"}),a4e=Me({...s4e,props:n4e,emits:r4e,setup(t,{emit:e}){const n=t,{lang:r}=ji(),i=qt("EP_PICKER_BASE"),{shortcuts:s,disabledDate:a}=i.props,o=Is(i.props,"format"),l=Is(i.props,"defaultValue"),u=ge(Tr().locale(r.value)),h=ge(Tr().locale(r.value).add(1,xR)),{minDate:d,maxDate:f,rangeState:A,ppNs:m,drpNs:g,handleChangeRange:y,handleRangeConfirm:_,handleShortcutClick:x,onSelect:S}=qce(n,{defaultValue:l,leftDate:u,rightDate:h,unit:xR,onParsedValueChanged:X}),C=J(()=>!!s.length),{leftPrevYear:M,rightNextYear:B,leftNextYear:E,rightPrevYear:L,leftLabel:I,rightLabel:k,leftYear:O,rightYear:F}=i4e({unlinkPanels:Is(n,"unlinkPanels"),leftDate:u,rightDate:h}),U=J(()=>n.unlinkPanels&&F.value>O.value+1),$=(z,ne=!0)=>{const he=z.minDate,W=z.maxDate;f.value===W&&d.value===he||(e("calendar-change",[he.toDate(),W&&W.toDate()]),f.value=W,d.value=he,ne&&_())},K=()=>{u.value=C$(b(l),{lang:b(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],h.value=u.value.add(1,"year"),e("pick",null)},V=z=>an(z)?z.map(ne=>ne.format(o.value)):z.format(o.value),Q=z=>an(z)?z.map(ne=>Tr(ne,o.value).locale(r.value)):Tr(z,o.value).locale(r.value);function X(z,ne){if(n.unlinkPanels&&ne){const he=(z==null?void 0:z.year())||0,W=ne.year();h.value=he===W?ne.add(1,xR):ne}else h.value=u.value.add(1,xR)}return e("set-picker-option",["isValidValue",tS]),e("set-picker-option",["formatToString",V]),e("set-picker-option",["parseUserInput",Q]),e("set-picker-option",["handleClear",K]),(z,ne)=>(ie(),Ee("div",{class:de([b(m).b(),b(g).b(),{"has-sidebar":!!z.$slots.sidebar||b(C)}])},[Be("div",{class:de(b(m).e("body-wrapper"))},[tt(z.$slots,"sidebar",{class:de(b(m).e("sidebar"))}),b(C)?(ie(),Ee("div",{key:0,class:de(b(m).e("sidebar"))},[(ie(!0),Ee(Wn,null,wi(b(s),(he,W)=>(ie(),Ee("button",{key:W,type:"button",class:de(b(m).e("shortcut")),onClick:Y=>b(x)(he)},cn(he.text),11,["onClick"]))),128))],2)):lt("v-if",!0),Be("div",{class:de(b(m).e("body"))},[Be("div",{class:de([[b(m).e("content"),b(g).e("content")],"is-left"])},[Be("div",{class:de(b(g).e("header"))},[Be("button",{type:"button",class:de([b(m).e("icon-btn"),"d-arrow-left"]),onClick:b(M)},[tt(z.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["onClick"]),z.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(U),class:de([[b(m).e("icon-btn"),{[b(m).is("disabled")]:!b(U)}],"d-arrow-right"]),onClick:b(E)},[tt(z.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["disabled","onClick"])):lt("v-if",!0),Be("div",null,cn(b(I)),1)],2),Ce(q8,{"selection-mode":"range",date:u.value,"min-date":b(d),"max-date":b(f),"range-state":b(A),"disabled-date":b(a),onChangerange:b(y),onPick:$,onSelect:b(S)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Be("div",{class:de([[b(m).e("content"),b(g).e("content")],"is-right"])},[Be("div",{class:de(b(g).e("header"))},[z.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(U),class:de([[b(m).e("icon-btn"),{"is-disabled":!b(U)}],"d-arrow-left"]),onClick:b(L)},[tt(z.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["disabled","onClick"])):lt("v-if",!0),Be("button",{type:"button",class:de([b(m).e("icon-btn"),"d-arrow-right"]),onClick:b(B)},[tt(z.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["onClick"]),Be("div",null,cn(b(k)),1)],2),Ce(q8,{"selection-mode":"range",date:h.value,"min-date":b(d),"max-date":b(f),"range-state":b(A),"disabled-date":b(a),onChangerange:b(y),onPick:$,onSelect:b(S)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var o4e=mn(a4e,[["__file","panel-month-range.vue"]]);const l4e=hn({...E$}),c4e=["pick","set-picker-option","calendar-change"],u4e=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},i=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},s=()=>{e.value=e.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},o=J(()=>{const d=Math.floor(e.value.year()/10)*10;return"".concat(d,"-").concat(d+9)}),l=J(()=>{const d=Math.floor(n.value.year()/10)*10;return"".concat(d,"-").concat(d+9)}),u=J(()=>Math.floor(e.value.year()/10)*10+9),h=J(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:s,rightPrevYear:a,leftLabel:o,rightLabel:l,leftYear:u,rightYear:h}},mX="year",h4e=Me({name:"DatePickerYearRange"}),d4e=Me({...h4e,props:l4e,emits:c4e,setup(t,{emit:e}){const n=t,{lang:r}=ji(),i=ge(Tr().locale(r.value)),s=ge(i.value.add(10,"year")),{pickerNs:a}=qt(g5),o=Jt("date-range-picker"),l=J(()=>!!$.length),u=J(()=>[a.b(),o.b(),{"has-sidebar":!!Cl().sidebar||l.value}]),h=J(()=>({content:[a.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[a.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),{[a.is("disabled")]:!M.value},"d-arrow-right"]})),d=J(()=>({content:[a.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[a.e("icon-btn"),{"is-disabled":!M.value},"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),"d-arrow-right"]})),f=Kce(r),{leftPrevYear:A,rightNextYear:m,leftNextYear:g,rightPrevYear:y,leftLabel:_,rightLabel:x,leftYear:S,rightYear:C}=u4e({unlinkPanels:Is(n,"unlinkPanels"),leftDate:i,rightDate:s}),M=J(()=>n.unlinkPanels&&C.value>S.value+1),B=ge(),E=ge(),L=ge({endDate:null,selecting:!1}),I=Y=>{L.value=Y},k=(Y,oe=!0)=>{const fe=Y.minDate,me=Y.maxDate;E.value===me&&B.value===fe||(e("calendar-change",[fe.toDate(),me&&me.toDate()]),E.value=me,B.value=fe,oe&&O())},O=(Y=!1)=>{tS([B.value,E.value])&&e("pick",[B.value,E.value],Y)},F=Y=>{L.value.selecting=Y,Y||(L.value.endDate=null)},U=qt("EP_PICKER_BASE"),{shortcuts:$,disabledDate:K}=U.props,V=Is(U.props,"format"),Q=Is(U.props,"defaultValue"),X=()=>{let Y;if(an(Q.value)){const oe=Tr(Q.value[0]);let fe=Tr(Q.value[1]);return n.unlinkPanels||(fe=oe.add(10,mX)),[oe,fe]}else Q.value?Y=Tr(Q.value):Y=Tr();return Y=Y.locale(r.value),[Y,Y.add(10,mX)]};Ct(()=>Q.value,Y=>{if(Y){const oe=X();i.value=oe[0],s.value=oe[1]}},{immediate:!0}),Ct(()=>n.parsedValue,Y=>{if(Y&&Y.length===2)if(B.value=Y[0],E.value=Y[1],i.value=B.value,n.unlinkPanels&&E.value){const oe=B.value.year(),fe=E.value.year();s.value=oe===fe?E.value.add(10,"year"):E.value}else s.value=i.value.add(10,"year");else{const oe=X();B.value=void 0,E.value=void 0,i.value=oe[0],s.value=oe[1]}},{immediate:!0});const z=Y=>an(Y)?Y.map(oe=>Tr(oe,V.value).locale(r.value)):Tr(Y,V.value).locale(r.value),ne=Y=>an(Y)?Y.map(oe=>oe.format(V.value)):Y.format(V.value),he=Y=>tS(Y)&&(K?!K(Y[0].toDate())&&!K(Y[1].toDate()):!0),W=()=>{const Y=X();i.value=Y[0],s.value=Y[1],E.value=void 0,B.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",he]),e("set-picker-option",["parseUserInput",z]),e("set-picker-option",["formatToString",ne]),e("set-picker-option",["handleClear",W]),(Y,oe)=>(ie(),Ee("div",{class:de(b(u))},[Be("div",{class:de(b(a).e("body-wrapper"))},[tt(Y.$slots,"sidebar",{class:de(b(a).e("sidebar"))}),b(l)?(ie(),Ee("div",{key:0,class:de(b(a).e("sidebar"))},[(ie(!0),Ee(Wn,null,wi(b($),(fe,me)=>(ie(),Ee("button",{key:me,type:"button",class:de(b(a).e("shortcut")),onClick:ce=>b(f)(fe)},cn(fe.text),11,["onClick"]))),128))],2)):lt("v-if",!0),Be("div",{class:de(b(a).e("body"))},[Be("div",{class:de(b(h).content)},[Be("div",{class:de(b(o).e("header"))},[Be("button",{type:"button",class:de(b(h).arrowLeftBtn),onClick:b(A)},[tt(Y.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["onClick"]),Y.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(M),class:de(b(h).arrowRightBtn),onClick:b(g)},[tt(Y.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["disabled","onClick"])):lt("v-if",!0),Be("div",null,cn(b(_)),1)],2),Ce(X8,{"selection-mode":"range",date:i.value,"min-date":B.value,"max-date":E.value,"range-state":L.value,"disabled-date":b(K),onChangerange:I,onPick:k,onSelect:F},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Be("div",{class:de(b(d).content)},[Be("div",{class:de(b(o).e("header"))},[Y.unlinkPanels?(ie(),Ee("button",{key:0,type:"button",disabled:!b(M),class:de(b(d).arrowLeftBtn),onClick:b(y)},[tt(Y.$slots,"prev-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ay))]),_:1})])],10,["disabled","onClick"])):lt("v-if",!0),Be("button",{type:"button",class:de(b(d).arrowRightBtn),onClick:b(m)},[tt(Y.$slots,"next-year",{},()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(py))]),_:1})])],10,["onClick"]),Be("div",null,cn(b(x)),1)],2),Ce(X8,{"selection-mode":"range",date:s.value,"min-date":B.value,"max-date":E.value,"range-state":L.value,"disabled-date":b(K),onChangerange:I,onPick:k,onSelect:F},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var f4e=mn(d4e,[["__file","panel-year-range.vue"]]);const A4e=function(t){switch(t){case"daterange":case"datetimerange":return t4e;case"monthrange":return o4e;case"yearrange":return f4e;default:return ZUe}};Tr.extend(Ace);Tr.extend(Zke);Tr.extend(w$);Tr.extend(nUe);Tr.extend(aUe);Tr.extend(uUe);Tr.extend(AUe);Tr.extend(vUe);var p4e=Me({name:"ElDatePicker",install:null,props:DUe,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const i=Jt("picker-panel");dr("ElPopperOptions",as(Is(t,"popperOptions"))),dr(g5,{slots:r,pickerNs:i});const s=ge();e({focus:()=>{var l;(l=s.value)==null||l.focus()},blur:()=>{var l;(l=s.value)==null||l.blur()},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const o=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=t.format)!=null?l:yUe[t.type]||Cx,h=A4e(t.type);return Ce(Vce,hi(t,{format:u,type:t.type,ref:s,"onUpdate:modelValue":o}),{default:d=>Ce(h,d,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const g4e=Nr(p4e),M$=Symbol("elDescriptions");var u2=Me({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:qt(M$,{})}},render(){var t;const e=f5e(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(_=>{const{dir:x,arg:S,modifiers:C,value:M}=_;return[x,M,S,C]}),{border:r,direction:i}=this.descriptions,s=i==="vertical",a=()=>{var _,x,S;return((S=(x=(_=this.cell)==null?void 0:_.children)==null?void 0:x.label)==null?void 0:S.call(x))||e.label},o=()=>{var _,x,S;return(S=(x=(_=this.cell)==null?void 0:_.children)==null?void 0:x.default)==null?void 0:S.call(x)},l=e.span,u=e.rowspan,h=e.align?"is-".concat(e.align):"",d=e.labelAlign?"is-".concat(e.labelAlign):h,f=e.className,A=e.labelClassName,m=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,g={width:xo(m),minWidth:xo(e.minWidth)},y=Jt("descriptions");switch(this.type){case"label":return Br(lr(this.tag,{style:g,class:[y.e("cell"),y.e("label"),y.is("bordered-label",r),y.is("vertical-label",s),d,A],colSpan:s?l:1,rowspan:s?1:u},a()),n);case"content":return Br(lr(this.tag,{style:g,class:[y.e("cell"),y.e("content"),y.is("bordered-content",r),y.is("vertical-content",s),h,f],colSpan:s?l:l*2-1,rowspan:s?u*2-1:u},o()),n);default:{const _=a(),x={},S=xo(e.labelWidth||this.descriptions.labelWidth);return S&&(x.width=S,x.display="inline-block"),Br(lr("td",{style:g,class:[y.e("cell"),h],colSpan:l,rowspan:u},[lc(_)?void 0:lr("span",{style:x,class:[y.e("label"),A]},_),lr("span",{class:[y.e("content"),f]},o())]),n)}}}});const m4e=hn({row:{type:ht(Array),default:()=>[]}}),v4e=Me({name:"ElDescriptionsRow"}),y4e=Me({...v4e,props:m4e,setup(t){const e=qt(M$,{});return(n,r)=>b(e).direction==="vertical"?(ie(),Ee(Wn,{key:0},[Be("tr",null,[(ie(!0),Ee(Wn,null,wi(n.row,(i,s)=>(ie(),St(b(u2),{key:"tr1-".concat(s),cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),Be("tr",null,[(ie(!0),Ee(Wn,null,wi(n.row,(i,s)=>(ie(),St(b(u2),{key:"tr2-".concat(s),cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(ie(),Ee("tr",{key:1},[(ie(!0),Ee(Wn,null,wi(n.row,(i,s)=>(ie(),Ee(Wn,{key:"tr3-".concat(s)},[b(e).border?(ie(),Ee(Wn,{key:0},[Ce(b(u2),{cell:i,tag:"td",type:"label"},null,8,["cell"]),Ce(b(u2),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(ie(),St(b(u2),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var _4e=mn(y4e,[["__file","descriptions-row.vue"]]);const w4e=hn({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Sl,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),b4e=Me({name:"ElDescriptions"}),x4e=Me({...b4e,props:w4e,setup(t){const e=t,n=Jt("descriptions"),r=al(),i=Cl();dr(M$,e);const s=J(()=>[n.b(),n.m(r.value)]),a=(l,u,h,d=!1)=>(l.props||(l.props={}),u>h&&(l.props.span=h),d&&(l.props.span=u),l),o=()=>{if(!i.default)return[];const l=ay(i.default()).filter(m=>{var g;return((g=m==null?void 0:m.type)==null?void 0:g.name)==="ElDescriptionsItem"}),u=[];let h=[],d=e.column,f=0;const A=[];return l.forEach((m,g)=>{var y,_,x;const S=((y=m.props)==null?void 0:y.span)||1,C=((_=m.props)==null?void 0:_.rowspan)||1,M=u.length;if(A[M]||(A[M]=0),C>1)for(let B=1;B<C;B++)A[x=M+B]||(A[x]=0),A[M+B]++,f++;if(A[M]>0&&(d-=A[M],A[M]=0),g<l.length-1&&(f+=S>d?d:S),g===l.length-1){const B=e.column-f%e.column;h.push(a(m,B,d,!0)),u.push(h);return}S<d?(d-=S,h.push(m)):(h.push(a(m,S,d)),u.push(h),d=e.column,h=[])}),u};return(l,u)=>(ie(),Ee("div",{class:de(b(s))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(ie(),Ee("div",{key:0,class:de(b(n).e("header"))},[Be("div",{class:de(b(n).e("title"))},[tt(l.$slots,"title",{},()=>[Mr(cn(l.title),1)])],2),Be("div",{class:de(b(n).e("extra"))},[tt(l.$slots,"extra",{},()=>[Mr(cn(l.extra),1)])],2)],2)):lt("v-if",!0),Be("div",{class:de(b(n).e("body"))},[Be("table",{class:de([b(n).e("table"),b(n).is("bordered",l.border)])},[Be("tbody",null,[(ie(!0),Ee(Wn,null,wi(o(),(h,d)=>(ie(),St(_4e,{key:d,row:h},null,8,["row"]))),128))])],2)],2)],2))}});var E4e=mn(x4e,[["__file","description.vue"]]);const S4e=hn({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Xce=Me({name:"ElDescriptionsItem",props:S4e}),C4e=Nr(E4e,{DescriptionsItem:Xce}),T4e=ho(Xce),L$=t=>{if(!t)return{onClick:Os,onMousedown:Os,onMouseup:Os};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},M4e=hn({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ht([String,Array,Object])},zIndex:{type:ht([String,Number])}}),L4e={click:t=>t instanceof MouseEvent},B4e="overlay";var R4e=Me({name:"ElOverlay",props:M4e,emits:L4e,setup(t,{slots:e,emit:n}){const r=Jt(B4e),i=l=>{n("click",l)},{onClick:s,onMousedown:a,onMouseup:o}=L$(t.customMaskEvent?void 0:i);return()=>t.mask?Ce("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:a,onMouseup:o},[tt(e,"default")],eA.STYLE|eA.CLASS|eA.PROPS,["onClick","onMouseup","onMousedown"]):lr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[tt(e,"default")])}});const B$=R4e,Yce=Symbol("dialogInjectionKey"),Zce=hn({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ws},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),I4e={close:()=>!0},Jce=(t,e,n,r)=>{let i={offsetX:0,offsetY:0};const s=u=>{const h=u.clientX,d=u.clientY,{offsetX:f,offsetY:A}=i,m=t.value.getBoundingClientRect(),g=m.left,y=m.top,_=m.width,x=m.height,S=document.documentElement.clientWidth,C=document.documentElement.clientHeight,M=-g+f,B=-y+A,E=S-g-_+f,L=C-y-x+A,I=O=>{let F=f+O.clientX-h,U=A+O.clientY-d;r!=null&&r.value||(F=Math.min(Math.max(F,M),E),U=Math.min(Math.max(U,B),L)),i={offsetX:F,offsetY:U},t.value&&(t.value.style.transform="translate(".concat(xo(F),", ").concat(xo(U),")"))},k=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",k)},a=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},o=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)},l=()=>{i={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return rr(()=>{Zc(()=>{n.value?a():o()})}),Hs(()=>{o()}),{resetPosition:l}},m5=(...t)=>e=>{t.forEach(n=>{Kn(n)?n(e):n.value=e})},P4e=Me({name:"ElDialogContent"}),F4e=Me({...P4e,props:Zce,emits:I4e,setup(t,{expose:e}){const n=t,{t:r}=ji(),{Close:i}=e$,{dialogRef:s,headerRef:a,bodyId:o,ns:l,style:u}=qt(Yce),{focusTrapRef:h}=qt(a$),d=J(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),f=m5(h,s),A=J(()=>n.draggable),m=J(()=>n.overflow),{resetPosition:g}=Jce(s,a,A,m);return e({resetPosition:g}),(y,_)=>(ie(),Ee("div",{ref:b(f),class:de(b(d)),style:Xn(b(u)),tabindex:"-1"},[Be("header",{ref_key:"headerRef",ref:a,class:de([b(l).e("header"),y.headerClass,{"show-close":y.showClose}])},[tt(y.$slots,"header",{},()=>[Be("span",{role:"heading","aria-level":y.ariaLevel,class:de(b(l).e("title"))},cn(y.title),11,["aria-level"])]),y.showClose?(ie(),Ee("button",{key:0,"aria-label":b(r)("el.dialog.close"),class:de(b(l).e("headerbtn")),type:"button",onClick:x=>y.$emit("close")},[Ce(b(Vn),{class:de(b(l).e("close"))},{default:De(()=>[(ie(),St(li(y.closeIcon||b(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):lt("v-if",!0)],2),Be("div",{id:b(o),class:de([b(l).e("body"),y.bodyClass])},[tt(y.$slots,"default")],10,["id"]),y.$slots.footer?(ie(),Ee("footer",{key:0,class:de([b(l).e("footer"),y.footerClass])},[tt(y.$slots,"footer")],2)):lt("v-if",!0)],6))}});var O4e=mn(F4e,[["__file","dialog-content.vue"]]);const eue=hn({...Zce,appendToBody:Boolean,appendTo:{type:ht([String,Object]),default:"body"},beforeClose:{type:ht(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),tue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[zr]:t=>Js(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},R$=(t,e={})=>{ga(t)||Gl("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Jt("popup"),r=J(()=>n.bm("parent","hidden"));if(!Wi||Rd(document.body,r.value))return;let i=0,s=!1,a="0";const o=()=>{setTimeout(()=>{typeof document>"u"||s&&document&&(document.body.style.width=a,lh(document.body,r.value))},200)};Ct(t,l=>{if(!l){o();return}s=!Rd(document.body,r.value),s&&(a=document.body.style.width,oA(document.body,r.value)),i=Tle(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,h=cv(document.body,"overflowY");i>0&&(u||h==="scroll")&&s&&(document.body.style.width="calc(100% - ".concat(i,"px)"))}),Pse(()=>o())},nue=(t,e)=>{var n;const i=ni().emit,{nextZIndex:s}=HS();let a="";const o=tu(),l=tu(),u=ge(!1),h=ge(!1),d=ge(!1),f=ge((n=t.zIndex)!=null?n:s());let A,m;const g=l5("namespace",CT),y=J(()=>{const K={},V="--".concat(g.value,"-dialog");return t.fullscreen||(t.top&&(K["".concat(V,"-margin-top")]=t.top),t.width&&(K["".concat(V,"-width")]=xo(t.width))),K}),_=J(()=>t.alignCenter?{display:"flex"}:{});function x(){i("opened")}function S(){i("closed"),i(zr,!1),t.destroyOnClose&&(d.value=!1)}function C(){i("close")}function M(){m==null||m(),A==null||A(),t.openDelay&&t.openDelay>0?{stop:A}=$1(()=>I(),t.openDelay):I()}function B(){A==null||A(),m==null||m(),t.closeDelay&&t.closeDelay>0?{stop:m}=$1(()=>k(),t.closeDelay):k()}function E(){function K(V){V||(h.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(K):B()}function L(){t.closeOnClickModal&&E()}function I(){Wi&&(u.value=!0)}function k(){u.value=!1}function O(){i("openAutoFocus")}function F(){i("closeAutoFocus")}function U(K){var V;((V=K.detail)==null?void 0:V.focusReason)==="pointer"&&K.preventDefault()}t.lockScroll&&R$(u);function $(){t.closeOnPressEscape&&E()}return Ct(()=>t.modelValue,K=>{K?(h.value=!1,M(),d.value=!0,f.value=cle(t.zIndex)?s():f.value++,Zn(()=>{i("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):u.value&&B()}),Ct(()=>t.fullscreen,K=>{e.value&&(K?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),rr(()=>{t.modelValue&&(u.value=!0,d.value=!0,M())}),{afterEnter:x,afterLeave:S,beforeLeave:C,handleClose:E,onModalClick:L,close:B,doClose:k,onOpenAutoFocus:O,onCloseAutoFocus:F,onCloseRequested:$,onFocusoutPrevented:U,titleId:o,bodyId:l,closed:h,style:y,overlayDialogStyle:_,rendered:d,visible:u,zIndex:f}},N4e=Me({name:"ElDialog",inheritAttrs:!1}),D4e=Me({...N4e,props:eue,emits:tue,setup(t,{expose:e}){const n=t,r=Cl();iy({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},J(()=>!!r.title));const i=Jt("dialog"),s=ge(),a=ge(),o=ge(),{visible:l,titleId:u,bodyId:h,style:d,overlayDialogStyle:f,rendered:A,zIndex:m,afterEnter:g,afterLeave:y,beforeLeave:_,handleClose:x,onModalClick:S,onOpenAutoFocus:C,onCloseAutoFocus:M,onCloseRequested:B,onFocusoutPrevented:E}=nue(n,s);dr(Yce,{dialogRef:s,headerRef:a,bodyId:h,ns:i,rendered:A,style:d});const L=L$(S),I=J(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var O;(O=o.value)==null||O.resetPosition()}}),(O,F)=>(ie(),St(b(zS),{to:O.appendTo,disabled:O.appendTo!=="body"?!1:!O.appendToBody},{default:De(()=>[Ce(Tc,{name:"dialog-fade",onAfterEnter:b(g),onAfterLeave:b(y),onBeforeLeave:b(_),persisted:""},{default:De(()=>[Br(Ce(b(B$),{"custom-mask-event":"",mask:O.modal,"overlay-class":O.modalClass,"z-index":b(m)},{default:De(()=>[Be("div",{role:"dialog","aria-modal":"true","aria-label":O.title||void 0,"aria-labelledby":O.title?void 0:b(u),"aria-describedby":b(h),class:de("".concat(b(i).namespace.value,"-overlay-dialog")),style:Xn(b(f)),onClick:b(L).onClick,onMousedown:b(L).onMousedown,onMouseup:b(L).onMouseup},[Ce(b(VS),{loop:"",trapped:b(l),"focus-start-el":"container",onFocusAfterTrapped:b(C),onFocusAfterReleased:b(M),onFocusoutPrevented:b(E),onReleaseRequested:b(B)},{default:De(()=>[b(A)?(ie(),St(O4e,hi({key:0,ref_key:"dialogContentRef",ref:o},O.$attrs,{center:O.center,"align-center":O.alignCenter,"close-icon":O.closeIcon,draggable:b(I),overflow:O.overflow,fullscreen:O.fullscreen,"header-class":O.headerClass,"body-class":O.bodyClass,"footer-class":O.footerClass,"show-close":O.showClose,title:O.title,"aria-level":O.headerAriaLevel,onClose:b(x)}),Lf({header:De(()=>[O.$slots.title?tt(O.$slots,"title",{key:1}):tt(O.$slots,"header",{key:0,close:b(x),titleId:b(u),titleClass:b(i).e("title")})]),default:De(()=>[tt(O.$slots,"default")]),_:2},[O.$slots.footer?{name:"footer",fn:De(()=>[tt(O.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):lt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Qi,b(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var k4e=mn(D4e,[["__file","dialog.vue"]]);const U4e=Nr(k4e),H4e=hn({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ht(String),default:"solid"}}),G4e=Me({name:"ElDivider"}),V4e=Me({...G4e,props:H4e,setup(t){const e=t,n=Jt("divider"),r=J(()=>n.cssVar({"border-style":e.borderStyle}));return(i,s)=>(ie(),Ee("div",{class:de([b(n).b(),b(n).m(i.direction)]),style:Xn(b(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(ie(),Ee("div",{key:0,class:de([b(n).e("text"),b(n).is(i.contentPosition)])},[tt(i.$slots,"default")],2)):lt("v-if",!0)],6))}});var z4e=mn(V4e,[["__file","divider.vue"]]);const rue=Nr(z4e),$4e=hn({...eue,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Q4e=tue,W4e=Me({name:"ElDrawer",inheritAttrs:!1}),j4e=Me({...W4e,props:$4e,emits:Q4e,setup(t,{expose:e}){const n=t,r=Cl();iy({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},J(()=>!!r.title));const i=ge(),s=ge(),a=Jt("drawer"),{t:o}=ji(),{afterEnter:l,afterLeave:u,beforeLeave:h,visible:d,rendered:f,titleId:A,bodyId:m,zIndex:g,onModalClick:y,onOpenAutoFocus:_,onCloseAutoFocus:x,onFocusoutPrevented:S,onCloseRequested:C,handleClose:M}=nue(n,i),B=J(()=>n.direction==="rtl"||n.direction==="ltr"),E=J(()=>xo(n.size));return e({handleClose:M,afterEnter:l,afterLeave:u}),(L,I)=>(ie(),St(b(zS),{to:L.appendTo,disabled:L.appendTo!=="body"?!1:!L.appendToBody},{default:De(()=>[Ce(Tc,{name:b(a).b("fade"),onAfterEnter:b(l),onAfterLeave:b(u),onBeforeLeave:b(h),persisted:""},{default:De(()=>[Br(Ce(b(B$),{mask:L.modal,"overlay-class":L.modalClass,"z-index":b(g),onClick:b(y)},{default:De(()=>[Ce(b(VS),{loop:"",trapped:b(d),"focus-trap-el":i.value,"focus-start-el":s.value,onFocusAfterTrapped:b(_),onFocusAfterReleased:b(x),onFocusoutPrevented:b(S),onReleaseRequested:b(C)},{default:De(()=>[Be("div",hi({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":L.title||void 0,"aria-labelledby":L.title?void 0:b(A),"aria-describedby":b(m)},L.$attrs,{class:[b(a).b(),L.direction,b(d)&&"open"],style:b(B)?"width: "+b(E):"height: "+b(E),role:"dialog",onClick:mr(()=>{},["stop"])}),[Be("span",{ref_key:"focusStartRef",ref:s,class:de(b(a).e("sr-focus")),tabindex:"-1"},null,2),L.withHeader?(ie(),Ee("header",{key:0,class:de([b(a).e("header"),L.headerClass])},[L.$slots.title?tt(L.$slots,"title",{key:1},()=>[lt(" DEPRECATED SLOT ")]):tt(L.$slots,"header",{key:0,close:b(M),titleId:b(A),titleClass:b(a).e("title")},()=>[L.$slots.title?lt("v-if",!0):(ie(),Ee("span",{key:0,id:b(A),role:"heading","aria-level":L.headerAriaLevel,class:de(b(a).e("title"))},cn(L.title),11,["id","aria-level"]))]),L.showClose?(ie(),Ee("button",{key:2,"aria-label":b(o)("el.drawer.close"),class:de(b(a).e("close-btn")),type:"button",onClick:b(M)},[Ce(b(Vn),{class:de(b(a).e("close"))},{default:De(()=>[Ce(b(wp))]),_:1},8,["class"])],10,["aria-label","onClick"])):lt("v-if",!0)],2)):lt("v-if",!0),b(f)?(ie(),Ee("div",{key:1,id:b(m),class:de([b(a).e("body"),L.bodyClass])},[tt(L.$slots,"default")],10,["id"])):lt("v-if",!0),L.$slots.footer?(ie(),Ee("div",{key:2,class:de([b(a).e("footer"),L.footerClass])},[tt(L.$slots,"footer")],2)):lt("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Qi,b(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var K4e=mn(j4e,[["__file","drawer.vue"]]);const q4e=Nr(K4e),X4e=Me({inheritAttrs:!1});function Y4e(t,e,n,r,i,s){return tt(t.$slots,"default")}var Z4e=mn(X4e,[["render",Y4e],["__file","collection.vue"]]);const J4e=Me({name:"ElCollectionItem",inheritAttrs:!1});function e3e(t,e,n,r,i,s){return tt(t.$slots,"default")}var t3e=mn(J4e,[["render",e3e],["__file","collection-item.vue"]]);const iue="data-el-collection-item",sue=t=>{const e="El".concat(t,"Collection"),n="".concat(e,"Item"),r=Symbol(e),i=Symbol(n),s={...Z4e,name:e,setup(){const o=ge(null),l=new Map;dr(r,{itemMap:l,getItems:()=>{const h=b(o);if(!h)return[];const d=Array.from(h.querySelectorAll("[".concat(iue,"]")));return[...l.values()].sort((A,m)=>d.indexOf(A.ref)-d.indexOf(m.ref))},collectionRef:o})}},a={...t3e,name:n,setup(o,{attrs:l}){const u=ge(null),h=qt(r,void 0);dr(i,{collectionItemRef:u}),rr(()=>{const d=b(u);d&&h.itemMap.set(d,{ref:d,...l})}),Hs(()=>{const d=b(u);h.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:s,ElCollectionItem:a}},n3e=hn({style:{type:ht([String,Array,Object])},currentTabId:{type:ht(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ht(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:r3e,ElCollectionItem:i3e,COLLECTION_INJECTION_KEY:I$,COLLECTION_ITEM_INJECTION_KEY:s3e}=sue("RovingFocusGroup"),P$=Symbol("elRovingFocusGroup"),aue=Symbol("elRovingFocusGroupItem"),a3e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},o3e=(t,e)=>t,l3e=(t,e,n)=>{const r=o3e(t.code);return a3e[r]},c3e=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),F$=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},vX="currentTabIdChange",yX="rovingFocusGroup.entryFocus",u3e={bubbles:!1,cancelable:!0},h3e=Me({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:n3e,emits:[vX,"entryFocus"],setup(t,{emit:e}){var n;const r=ge((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),i=ge(!1),s=ge(!1),a=ge(null),{getItems:o}=qt(I$,void 0),l=J(()=>[{outline:"none"},t.style]),u=g=>{e(vX,g)},h=()=>{i.value=!0},d=Ro(g=>{var y;(y=t.onMousedown)==null||y.call(t,g)},()=>{s.value=!0}),f=Ro(g=>{var y;(y=t.onFocus)==null||y.call(t,g)},g=>{const y=!b(s),{target:_,currentTarget:x}=g;if(_===x&&y&&!b(i)){const S=new Event(yX,u3e);if(x==null||x.dispatchEvent(S),!S.defaultPrevented){const C=o().filter(I=>I.focusable),M=C.find(I=>I.active),B=C.find(I=>I.id===b(r)),L=[M,B,...C].filter(Boolean).map(I=>I.ref);F$(L)}}s.value=!1}),A=Ro(g=>{var y;(y=t.onBlur)==null||y.call(t,g)},()=>{i.value=!1}),m=(...g)=>{e("entryFocus",...g)};dr(P$,{currentTabbedId:FS(r),loop:Is(t,"loop"),tabIndex:J(()=>b(i)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:Is(t,"orientation"),dir:Is(t,"dir"),onItemFocus:u,onItemShiftTab:h,onBlur:A,onFocus:f,onMousedown:d}),Ct(()=>t.currentTabId,g=>{r.value=g!=null?g:null}),Us(a,yX,m)}});function d3e(t,e,n,r,i,s){return tt(t.$slots,"default")}var f3e=mn(h3e,[["render",d3e],["__file","roving-focus-group-impl.vue"]]);const A3e=Me({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:r3e,ElRovingFocusGroupImpl:f3e}});function p3e(t,e,n,r,i,s){const a=Nn("el-roving-focus-group-impl"),o=Nn("el-focus-group-collection");return ie(),St(o,null,{default:De(()=>[Ce(a,gf(sm(t.$attrs)),{default:De(()=>[tt(t.$slots,"default")]),_:3},16)]),_:3})}var g3e=mn(A3e,[["render",p3e],["__file","roving-focus-group.vue"]]);const jP=hn({trigger:wM.trigger,triggerKeys:{type:ht(Array),default:()=>[Ln.enter,Ln.numpadEnter,Ln.space,Ln.down]},effect:{..._c.effect,default:"light"},type:{type:ht(String)},placement:{type:ht(String),default:"bottom"},popperOptions:{type:ht(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ht([Number,String]),default:0},maxHeight:{type:ht([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:ht(Object)},teleported:_c.teleported}),oue=hn({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ws}}),m3e=hn({onKeydown:{type:ht(Function)}}),v3e=[Ln.down,Ln.pageDown,Ln.home],lue=[Ln.up,Ln.pageUp,Ln.end],y3e=[...v3e,...lue],{ElCollection:_3e,ElCollectionItem:w3e,COLLECTION_INJECTION_KEY:b3e,COLLECTION_ITEM_INJECTION_KEY:x3e}=sue("Dropdown"),v5=Symbol("elDropdown"),{ButtonGroup:E3e}=Sc,S3e=Me({name:"ElDropdown",components:{ElButton:Sc,ElButtonGroup:E3e,ElScrollbar:gm,ElDropdownCollection:_3e,ElTooltip:Eu,ElRovingFocusGroup:g3e,ElOnlyChild:Ule,ElIcon:Vn,ArrowDown:Uv},props:jP,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=ni(),r=Jt("dropdown"),{t:i}=ji(),s=ge(),a=ge(),o=ge(null),l=ge(null),u=ge(null),h=ge(null),d=ge(!1),f=J(()=>({maxHeight:xo(t.maxHeight)})),A=J(()=>[r.m(C.value)]),m=J(()=>eh(t.trigger)),g=tu().value,y=J(()=>t.id||g);Ct([s,m],([V,Q],[X])=>{var z,ne,he;(z=X==null?void 0:X.$el)!=null&&z.removeEventListener&&X.$el.removeEventListener("pointerenter",B),(ne=V==null?void 0:V.$el)!=null&&ne.removeEventListener&&V.$el.removeEventListener("pointerenter",B),(he=V==null?void 0:V.$el)!=null&&he.addEventListener&&Q.includes("hover")&&V.$el.addEventListener("pointerenter",B)},{immediate:!0}),Hs(()=>{var V,Q;(Q=(V=s.value)==null?void 0:V.$el)!=null&&Q.removeEventListener&&s.value.$el.removeEventListener("pointerenter",B)});function _(){x()}function x(){var V;(V=o.value)==null||V.onClose()}function S(){var V;(V=o.value)==null||V.onOpen()}const C=al();function M(...V){e("command",...V)}function B(){var V,Q;(Q=(V=s.value)==null?void 0:V.$el)==null||Q.focus()}function E(){}function L(){const V=b(l);m.value.includes("hover")&&(V==null||V.focus()),h.value=null}function I(V){h.value=V}function k(V){d.value||(V.preventDefault(),V.stopImmediatePropagation())}function O(){e("visible-change",!0)}function F(V){(V==null?void 0:V.type)==="keydown"&&l.value.focus()}function U(){e("visible-change",!1)}return dr(v5,{contentRef:l,role:J(()=>t.role),triggerId:y,isUsingKeyboard:d,onItemEnter:E,onItemLeave:L}),dr("elDropdown",{instance:n,dropdownSize:C,handleClick:_,commandHandler:M,trigger:Is(t,"trigger"),hideOnClick:Is(t,"hideOnClick")}),{t:i,ns:r,scrollbar:u,wrapStyle:f,dropdownTriggerKls:A,dropdownSize:C,triggerId:y,currentTabId:h,handleCurrentTabIdChange:I,handlerMainButtonClick:V=>{e("click",V)},handleEntryFocus:k,handleClose:x,handleOpen:S,handleBeforeShowTooltip:O,handleShowTooltip:F,handleBeforeHideTooltip:U,onFocusAfterTrapped:V=>{var Q,X;V.preventDefault(),(X=(Q=l.value)==null?void 0:Q.focus)==null||X.call(Q,{preventScroll:!0})},popperRef:o,contentRef:l,triggeringElementRef:s,referenceElementRef:a}}});function C3e(t,e,n,r,i,s){var a;const o=Nn("el-dropdown-collection"),l=Nn("el-roving-focus-group"),u=Nn("el-scrollbar"),h=Nn("el-only-child"),d=Nn("el-tooltip"),f=Nn("el-button"),A=Nn("arrow-down"),m=Nn("el-icon"),g=Nn("el-button-group");return ie(),Ee("div",{class:de([t.ns.b(),t.ns.is("disabled",t.disabled)])},[Ce(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(a=t.referenceElementRef)==null?void 0:a.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:"".concat(t.ns.namespace.value,"-zoom-in-top"),teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Lf({content:De(()=>[Ce(u,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:De(()=>[Ce(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:De(()=>[Ce(o,null,{default:De(()=>[tt(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:De(()=>[Ce(h,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:De(()=>[tt(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(ie(),St(g,{key:0},{default:De(()=>[Ce(f,hi({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:De(()=>[tt(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Ce(f,hi({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:De(()=>[Ce(m,{class:de(t.ns.e("icon"))},{default:De(()=>[Ce(A)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):lt("v-if",!0)],2)}var T3e=mn(S3e,[["render",C3e],["__file","dropdown.vue"]]);const M3e=Me({components:{ElRovingFocusCollectionItem:i3e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:s}=qt(P$,void 0),{getItems:a}=qt(I$,void 0),o=tu(),l=ge(null),u=Ro(A=>{e("mousedown",A)},A=>{t.focusable?i(b(o)):A.preventDefault()}),h=Ro(A=>{e("focus",A)},()=>{i(b(o))}),d=Ro(A=>{e("keydown",A)},A=>{const{code:m,shiftKey:g,target:y,currentTarget:_}=A;if(m===Ln.tab&&g){s();return}if(y!==_)return;const x=l3e(A);if(x){A.preventDefault();let C=a().filter(M=>M.focusable).map(M=>M.ref);switch(x){case"last":{C.reverse();break}case"prev":case"next":{x==="prev"&&C.reverse();const M=C.indexOf(_);C=r.value?c3e(C,M+1):C.slice(M+1);break}}Zn(()=>{F$(C)})}}),f=J(()=>n.value===b(o));return dr(aue,{rovingFocusGroupItemRef:l,tabIndex:J(()=>b(f)?0:-1),handleMousedown:u,handleFocus:h,handleKeydown:d}),{id:o,handleKeydown:d,handleFocus:h,handleMousedown:u}}});function L3e(t,e,n,r,i,s){const a=Nn("el-roving-focus-collection-item");return ie(),St(a,{id:t.id,focusable:t.focusable,active:t.active},{default:De(()=>[tt(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var B3e=mn(M3e,[["render",L3e],["__file","roving-focus-item.vue"]]);const R3e=Me({name:"DropdownItemImpl",components:{ElIcon:Vn},props:oue,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Jt("dropdown"),{role:r}=qt(v5,void 0),{collectionItemRef:i}=qt(x3e,void 0),{collectionItemRef:s}=qt(s3e,void 0),{rovingFocusGroupItemRef:a,tabIndex:o,handleFocus:l,handleKeydown:u,handleMousedown:h}=qt(aue,void 0),d=m5(i,s,a),f=J(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),A=Ro(m=>{if([Ln.enter,Ln.numpadEnter,Ln.space].includes(m.code))return m.preventDefault(),m.stopImmediatePropagation(),e("clickimpl",m),!0},u);return{ns:n,itemRef:d,dataset:{[iue]:""},role:f,tabIndex:o,handleFocus:l,handleKeydown:A,handleMousedown:h}}});function I3e(t,e,n,r,i,s){const a=Nn("el-icon");return ie(),Ee(Wn,null,[t.divided?(ie(),Ee("li",{key:0,role:"separator",class:de(t.ns.bem("menu","item","divided"))},null,2)):lt("v-if",!0),Be("li",hi({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:o=>t.$emit("clickimpl",o),onFocus:t.handleFocus,onKeydown:mr(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:o=>t.$emit("pointermove",o),onPointerleave:o=>t.$emit("pointerleave",o)}),[t.icon?(ie(),St(a,{key:0},{default:De(()=>[(ie(),St(li(t.icon)))]),_:1})):lt("v-if",!0),tt(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var P3e=mn(R3e,[["render",I3e],["__file","dropdown-item-impl.vue"]]);const cue=()=>{const t=qt("elDropdown",{}),e=J(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},F3e=Me({name:"ElDropdownItem",components:{ElDropdownCollectionItem:w3e,ElRovingFocusItem:B3e,ElDropdownItemImpl:P3e},inheritAttrs:!1,props:oue,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=cue(),i=ni(),s=ge(null),a=J(()=>{var A,m;return(m=(A=b(s))==null?void 0:A.textContent)!=null?m:""}),{onItemEnter:o,onItemLeave:l}=qt(v5,void 0),u=Ro(A=>(e("pointermove",A),A.defaultPrevented),Hq(A=>{if(t.disabled){l(A);return}const m=A.currentTarget;m===document.activeElement||m.contains(document.activeElement)||(o(A),A.defaultPrevented||m==null||m.focus())})),h=Ro(A=>(e("pointerleave",A),A.defaultPrevented),Hq(l)),d=Ro(A=>{if(!t.disabled)return e("click",A),A.type!=="keydown"&&A.defaultPrevented},A=>{var m,g,y;if(t.disabled){A.stopImmediatePropagation();return}(m=r==null?void 0:r.hideOnClick)!=null&&m.value&&((g=r.handleClick)==null||g.call(r)),(y=r.commandHandler)==null||y.call(r,t.command,i,A)}),f=J(()=>({...t,...n}));return{handleClick:d,handlePointerMove:u,handlePointerLeave:h,textContent:a,propsAndAttrs:f}}});function O3e(t,e,n,r,i,s){var a;const o=Nn("el-dropdown-item-impl"),l=Nn("el-roving-focus-item"),u=Nn("el-dropdown-collection-item");return ie(),St(u,{disabled:t.disabled,"text-value":(a=t.textValue)!=null?a:t.textContent},{default:De(()=>[Ce(l,{focusable:!t.disabled},{default:De(()=>[Ce(o,hi(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:De(()=>[tt(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var uue=mn(F3e,[["render",O3e],["__file","dropdown-item.vue"]]);const N3e=Me({name:"ElDropdownMenu",props:m3e,setup(t){const e=Jt("dropdown"),{_elDropdownSize:n}=cue(),r=n.value,{focusTrapRef:i,onKeydown:s}=qt(a$,void 0),{contentRef:a,role:o,triggerId:l}=qt(v5,void 0),{collectionRef:u,getItems:h}=qt(b3e,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:A,onBlur:m,onFocus:g,onMousedown:y}=qt(P$,void 0),{collectionRef:_}=qt(I$,void 0),x=J(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),S=m5(a,u,i,d,_),C=Ro(B=>{var E;(E=t.onKeydown)==null||E.call(t,B)},B=>{const{currentTarget:E,code:L,target:I}=B;if(E.contains(I),Ln.tab===L&&B.stopImmediatePropagation(),B.preventDefault(),I!==b(a)||!y3e.includes(L))return;const O=h().filter(F=>!F.disabled).map(F=>F.ref);lue.includes(L)&&O.reverse(),F$(O)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:A,dropdownKls:x,role:o,triggerId:l,dropdownListWrapperRef:S,handleKeydown:B=>{C(B),s(B)},onBlur:m,onFocus:g,onMousedown:y}}});function D3e(t,e,n,r,i,s){return ie(),Ee("ul",{ref:t.dropdownListWrapperRef,class:de(t.dropdownKls),style:Xn(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:mr(t.handleKeydown,["self"]),onMousedown:mr(t.onMousedown,["self"])},[tt(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var hue=mn(N3e,[["render",D3e],["__file","dropdown-menu.vue"]]);const k3e=Nr(T3e,{DropdownItem:uue,DropdownMenu:hue}),U3e=ho(uue),H3e=ho(hue),G3e=Me({name:"ImgEmpty"}),V3e=Me({...G3e,setup(t){const e=Jt("empty"),n=tu();return(r,i)=>(ie(),Ee("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Be("defs",null,[Be("linearGradient",{id:"linearGradient-1-".concat(b(n)),x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Be("stop",{"stop-color":"var(".concat(b(e).cssVarBlockName("fill-color-1"),")"),offset:"0%"},null,8,["stop-color"]),Be("stop",{"stop-color":"var(".concat(b(e).cssVarBlockName("fill-color-4"),")"),offset:"100%"},null,8,["stop-color"])],8,["id"]),Be("linearGradient",{id:"linearGradient-2-".concat(b(n)),x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Be("stop",{"stop-color":"var(".concat(b(e).cssVarBlockName("fill-color-1"),")"),offset:"0%"},null,8,["stop-color"]),Be("stop",{"stop-color":"var(".concat(b(e).cssVarBlockName("fill-color-6"),")"),offset:"100%"},null,8,["stop-color"])],8,["id"]),Be("rect",{id:"path-3-".concat(b(n)),x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Be("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Be("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Be("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Be("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"var(".concat(b(e).cssVarBlockName("fill-color-3"),")")},null,8,["fill"]),Be("polygon",{id:"Rectangle-Copy-14",fill:"var(".concat(b(e).cssVarBlockName("fill-color-7"),")"),transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Be("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Be("polygon",{id:"Rectangle-Copy-10",fill:"var(".concat(b(e).cssVarBlockName("fill-color-7"),")"),transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Be("polygon",{id:"Rectangle-Copy-11",fill:"var(".concat(b(e).cssVarBlockName("fill-color-5"),")"),points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Be("rect",{id:"Rectangle-Copy-12",fill:"url(#linearGradient-1-".concat(b(n),")"),transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Be("polygon",{id:"Rectangle-Copy-13",fill:"var(".concat(b(e).cssVarBlockName("fill-color-2"),")"),transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Be("rect",{id:"Rectangle-Copy-15",fill:"url(#linearGradient-2-".concat(b(n),")"),x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Be("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Be("use",{id:"Mask",fill:"var(".concat(b(e).cssVarBlockName("fill-color-8"),")"),transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":"#path-3-".concat(b(n))},null,8,["fill","xlink:href"]),Be("polygon",{id:"Rectangle-Copy",fill:"var(".concat(b(e).cssVarBlockName("fill-color-9"),")"),mask:"url(#mask-4-".concat(b(n),")"),transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Be("polygon",{id:"Rectangle-Copy-18",fill:"var(".concat(b(e).cssVarBlockName("fill-color-2"),")"),transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var z3e=mn(V3e,[["__file","img-empty.vue"]]);const $3e=hn({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Q3e=Me({name:"ElEmpty"}),W3e=Me({...Q3e,props:$3e,setup(t){const e=t,{t:n}=ji(),r=Jt("empty"),i=J(()=>e.description||n("el.table.emptyText")),s=J(()=>({width:xo(e.imageSize)}));return(a,o)=>(ie(),Ee("div",{class:de(b(r).b())},[Be("div",{class:de(b(r).e("image")),style:Xn(b(s))},[a.image?(ie(),Ee("img",{key:0,src:a.image,ondragstart:"return false"},null,8,["src"])):tt(a.$slots,"image",{key:1},()=>[Ce(z3e)])],6),Be("div",{class:de(b(r).e("description"))},[a.$slots.description?tt(a.$slots,"description",{key:0}):(ie(),Ee("p",{key:1},cn(b(i)),1))],2),a.$slots.default?(ie(),Ee("div",{key:0,class:de(b(r).e("bottom"))},[tt(a.$slots,"default")],2)):lt("v-if",!0)],2))}});var j3e=mn(W3e,[["__file","empty.vue"]]);const due=Nr(j3e),K3e=hn({size:{type:String,values:pm},disabled:Boolean}),q3e=hn({...K3e,model:Object,rules:{type:ht(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),X3e={validate:(t,e,n)=>(an(t)||Qn(t))&&Js(e)&&Qn(n)};function Y3e(){const t=ge([]),e=J(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?"".concat(s,"px"):""});function n(s){const a=t.value.indexOf(s);return a===-1&&e.value,a}function r(s,a){if(s&&a){const o=n(a);t.value.splice(o,1,s)}else s&&t.value.push(s)}function i(s){const a=n(s);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const ER=(t,e)=>{const n=eh(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},Z3e="ElForm",J3e=Me({name:Z3e}),e6e=Me({...J3e,props:q3e,emits:X3e,setup(t,{expose:e,emit:n}){const r=t,i=[],s=al(),a=Jt("form"),o=J(()=>{const{labelPosition:S,inline:C}=r;return[a.b(),a.m(s.value||"default"),{[a.m("label-".concat(S))]:S,[a.m("inline")]:C}]}),l=S=>i.find(C=>C.prop===S),u=S=>{i.push(S)},h=S=>{S.prop&&i.splice(i.indexOf(S),1)},d=(S=[])=>{r.model&&ER(i,S).forEach(C=>C.resetField())},f=(S=[])=>{ER(i,S).forEach(C=>C.clearValidate())},A=J(()=>!!r.model),m=S=>{if(i.length===0)return[];const C=ER(i,S);return C.length?C:[]},g=async S=>_(void 0,S),y=async(S=[])=>{if(!A.value)return!1;const C=m(S);if(C.length===0)return!0;let M={};for(const B of C)try{await B.validate(""),B.validateState==="error"&&B.resetField()}catch(E){M={...M,...E}}return Object.keys(M).length===0?!0:Promise.reject(M)},_=async(S=[],C)=>{const M=!Kn(C);try{const B=await y(S);return B===!0&&await(C==null?void 0:C(B)),B}catch(B){if(B instanceof Error)throw B;const E=B;return r.scrollToError&&x(Object.keys(E)[0]),await(C==null?void 0:C(!1,E)),M&&Promise.reject(E)}},x=S=>{var C;const M=ER(i,S)[0];M&&((C=M.$el)==null||C.scrollIntoView(r.scrollIntoViewOptions))};return Ct(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(S=>void 0)},{deep:!0,flush:"post"}),dr(Aw,as({...Yo(r),emit:n,resetFields:d,clearValidate:f,validateField:_,getField:l,addField:u,removeField:h,...Y3e()})),e({validate:g,validateField:_,resetFields:d,clearValidate:f,scrollToField:x,fields:i}),(S,C)=>(ie(),Ee("form",{class:de(b(o))},[tt(S.$slots,"default")],2))}});var t6e=mn(e6e,[["__file","form.vue"]]);function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}function n6e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,EM(t,e)}function Y8(t){return Y8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y8(t)}function EM(t,e){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EM(t,e)}function r6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function KP(t,e,n){return r6e()?KP=Reflect.construct.bind():KP=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&EM(u,a.prototype),u},KP.apply(null,arguments)}function i6e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Z8(t){var e=typeof Map=="function"?new Map:void 0;return Z8=function(r){if(r===null||!i6e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return KP(r,arguments,Y8(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),EM(i,r)},Z8(t)}var s6e=/%[sdj%]/g,a6e=function(){};function J8(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function vf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(s6e,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(l){return"[Circular]"}break;default:return o}});return a}return t}function o6e(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Mc(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||o6e(e)&&typeof t=="string"&&!t)}function l6e(t,e,n){var r=[],i=0,s=t.length;function a(o){r.push.apply(r,o||[]),i++,i===s&&n(r)}t.forEach(function(o){e(o,a)})}function _X(t,e,n){var r=0,i=t.length;function s(a){if(a&&a.length){n(a);return}var o=r;r=r+1,o<i?e(t[o],s):n([])}s([])}function c6e(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var wX=function(t){n6e(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(Z8(Error));function u6e(t,e,n,r,i){if(e.first){var s=new Promise(function(f,A){var m=function(_){return r(_),_.length?A(new wX(_,J8(_))):f(i)},g=c6e(t);_X(g,n,m)});return s.catch(function(f){return f}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),l=o.length,u=0,h=[],d=new Promise(function(f,A){var m=function(y){if(h.push.apply(h,y),u++,u===l)return r(h),h.length?A(new wX(h,J8(h))):f(i)};o.length||(r(h),f(i)),o.forEach(function(g){var y=t[g];a.indexOf(g)!==-1?_X(y,n,m):l6e(y,n,m)})});return d.catch(function(f){return f}),d}function h6e(t){return!!(t&&t.message!==void 0)}function d6e(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function bX(t,e){return function(n){var r;return t.fullFields?r=d6e(e,t.fullFields):r=e[n.field||t.fullField],h6e(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function xX(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=a1({},t[n],r):t[n]=r}}return t}var fue=function(e,n,r,i,s,a){e.required&&(!r.hasOwnProperty(e.field)||Mc(n,a||e.type))&&i.push(vf(s.messages.required,e.fullField))},f6e=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(vf(s.messages.whitespace,e.fullField))},SR,A6e=function(){if(SR)return SR;var t="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),l=function(C){return C&&C.exact?s:new RegExp("(?:"+e(C)+n+e(C)+")|(?:"+e(C)+i+e(C)+")","g")};l.v4=function(S){return S&&S.exact?a:new RegExp(""+e(S)+n+e(S),"g")},l.v6=function(S){return S&&S.exact?o:new RegExp(""+e(S)+i+e(S),"g")};var u="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,A="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',x="(?:"+u+"|www\\.)"+h+"(?:localhost|"+d+"|"+f+"|"+A+m+g+")"+y+_;return SR=new RegExp("(?:^"+x+"$)","i"),SR},EX={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Q2={integer:function(e){return Q2.number(e)&&parseInt(e,10)===e},float:function(e){return Q2.number(e)&&!Q2.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(n){return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Q2.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(EX.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(A6e())},hex:function(e){return typeof e=="string"&&!!e.match(EX.hex)}},p6e=function(e,n,r,i,s){if(e.required&&n===void 0){fue(e,n,r,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?Q2[o](n)||i.push(vf(s.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&i.push(vf(s.messages.types[o],e.fullField,e.type))},g6e=function(e,n,r,i,s){var a=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,d=null,f=typeof n=="number",A=typeof n=="string",m=Array.isArray(n);if(f?d="number":A?d="string":m&&(d="array"),!d)return!1;m&&(h=n.length),A&&(h=n.replace(u,"_").length),a?h!==e.len&&i.push(vf(s.messages[d].len,e.fullField,e.len)):o&&!l&&h<e.min?i.push(vf(s.messages[d].min,e.fullField,e.min)):l&&!o&&h>e.max?i.push(vf(s.messages[d].max,e.fullField,e.max)):o&&l&&(h<e.min||h>e.max)&&i.push(vf(s.messages[d].range,e.fullField,e.min,e.max))},Rb="enum",m6e=function(e,n,r,i,s){e[Rb]=Array.isArray(e[Rb])?e[Rb]:[],e[Rb].indexOf(n)===-1&&i.push(vf(s.messages[Rb],e.fullField,e[Rb].join(", ")))},v6e=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(vf(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(vf(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},la={required:fue,whitespace:f6e,type:p6e,range:g6e,enum:m6e,pattern:v6e},y6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n,"string")&&!e.required)return r();la.required(e,n,i,a,s,"string"),Mc(n,"string")||(la.type(e,n,i,a,s),la.range(e,n,i,a,s),la.pattern(e,n,i,a,s),e.whitespace===!0&&la.whitespace(e,n,i,a,s))}r(a)},_6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&la.type(e,n,i,a,s)}r(a)},w6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&(la.type(e,n,i,a,s),la.range(e,n,i,a,s))}r(a)},b6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&la.type(e,n,i,a,s)}r(a)},x6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),Mc(n)||la.type(e,n,i,a,s)}r(a)},E6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&(la.type(e,n,i,a,s),la.range(e,n,i,a,s))}r(a)},S6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&(la.type(e,n,i,a,s),la.range(e,n,i,a,s))}r(a)},C6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return r();la.required(e,n,i,a,s,"array"),n!=null&&(la.type(e,n,i,a,s),la.range(e,n,i,a,s))}r(a)},T6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&la.type(e,n,i,a,s)}r(a)},M6e="enum",L6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s),n!==void 0&&la[M6e](e,n,i,a,s)}r(a)},B6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n,"string")&&!e.required)return r();la.required(e,n,i,a,s),Mc(n,"string")||la.pattern(e,n,i,a,s)}r(a)},R6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n,"date")&&!e.required)return r();if(la.required(e,n,i,a,s),!Mc(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),la.type(e,l,i,a,s),l&&la.range(e,l.getTime(),i,a,s)}}r(a)},I6e=function(e,n,r,i,s){var a=[],o=Array.isArray(n)?"array":typeof n;la.required(e,n,i,a,s,o),r(a)},NU=function(e,n,r,i,s){var a=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Mc(n,a)&&!e.required)return r();la.required(e,n,i,o,s,a),Mc(n,a)||la.type(e,n,i,o,s)}r(o)},P6e=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Mc(n)&&!e.required)return r();la.required(e,n,i,a,s)}r(a)},IT={string:y6e,method:_6e,number:w6e,boolean:b6e,regexp:x6e,integer:E6e,float:S6e,array:C6e,object:T6e,enum:L6e,pattern:B6e,date:R6e,url:NU,hex:NU,email:NU,required:I6e,any:P6e};function eH(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var tH=eH(),SL=function(){function t(n){this.rules=null,this._messages=tH,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var a=r[s];i.rules[s]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=xX(eH(),r)),this._messages},e.validate=function(r,i,s){var a=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var o=r,l=i,u=s;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function h(g){var y=[],_={};function x(C){if(Array.isArray(C)){var M;y=(M=y).concat.apply(M,C)}else y.push(C)}for(var S=0;S<g.length;S++)x(g[S]);y.length?(_=J8(y),u(y,_)):u(null,o)}if(l.messages){var d=this.messages();d===tH&&(d=eH()),xX(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},A=l.keys||Object.keys(this.rules);A.forEach(function(g){var y=a.rules[g],_=o[g];y.forEach(function(x){var S=x;typeof S.transform=="function"&&(o===r&&(o=a1({},o)),_=o[g]=S.transform(_)),typeof S=="function"?S={validator:S}:S=a1({},S),S.validator=a.getValidationMethod(S),S.validator&&(S.field=g,S.fullField=S.fullField||g,S.type=a.getType(S),f[g]=f[g]||[],f[g].push({rule:S,value:_,source:o,field:g}))})});var m={};return u6e(f,l,function(g,y){var _=g.rule,x=(_.type==="object"||_.type==="array")&&(typeof _.fields=="object"||typeof _.defaultField=="object");x=x&&(_.required||!_.required&&g.value),_.field=g.field;function S(B,E){return a1({},E,{fullField:_.fullField+"."+B,fullFields:_.fullFields?[].concat(_.fullFields,[B]):[B]})}function C(B){B===void 0&&(B=[]);var E=Array.isArray(B)?B:[B];!l.suppressWarning&&E.length&&t.warning("async-validator:",E),E.length&&_.message!==void 0&&(E=[].concat(_.message));var L=E.map(bX(_,o));if(l.first&&L.length)return m[_.field]=1,y(L);if(!x)y(L);else{if(_.required&&!g.value)return _.message!==void 0?L=[].concat(_.message).map(bX(_,o)):l.error&&(L=[l.error(_,vf(l.messages.required,_.field))]),y(L);var I={};_.defaultField&&Object.keys(g.value).map(function(F){I[F]=_.defaultField}),I=a1({},I,g.rule.fields);var k={};Object.keys(I).forEach(function(F){var U=I[F],$=Array.isArray(U)?U:[U];k[F]=$.map(S.bind(null,F))});var O=new t(k);O.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),O.validate(g.value,g.rule.options||l,function(F){var U=[];L&&L.length&&U.push.apply(U,L),F&&F.length&&U.push.apply(U,F),y(U.length?U:null)})}}var M;if(_.asyncValidator)M=_.asyncValidator(_,g.value,C,g.source,l);else if(_.validator){try{M=_.validator(_,g.value,C,g.source,l)}catch(B){console.error==null||console.error(B),l.suppressValidatorError||setTimeout(function(){throw B},0),C(B.message)}M===!0?C():M===!1?C(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||(_.fullField||_.field)+" fails"):M instanceof Array?C(M):M instanceof Error&&C(M.message)}M&&M.then&&M.then(function(){return C()},function(B){return C(B)})},function(g){h(g)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!IT.hasOwnProperty(r.type))throw new Error(vf("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?IT.required:IT[this.getType(r)]||void 0},t}();SL.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");IT[e]=n};SL.warning=a6e;SL.messages=tH;SL.validators=IT;const F6e=["","error","validating","success"],O6e=hn({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:ht([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ht([Object,Array])},error:String,validateStatus:{type:String,values:F6e},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:pm}}),SX="ElLabelWrap";var N6e=Me({name:SX,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=qt(Aw,void 0),r=qt(lm);r||Gl(SX,"usage: <el-form-item><label-wrap /></el-form-item>");const i=Jt("form"),s=ge(),a=ge(0),o=()=>{var h;if((h=s.value)!=null&&h.firstElementChild){const d=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(h="update")=>{Zn(()=>{e.default&&t.isAutoWidth&&(h==="update"?a.value=o():h==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},u=()=>l("update");return rr(()=>{u()}),Hs(()=>{l("remove")}),Bp(()=>u()),Ct(a,(h,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(h,d))}),so(J(()=>{var h,d;return(d=(h=s.value)==null?void 0:h.firstElementChild)!=null?d:null}),u),()=>{var h,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const A=n==null?void 0:n.autoLabelWidth,m=r==null?void 0:r.hasLabel,g={};if(m&&A&&A!=="auto"){const y=Math.max(0,Number.parseInt(A,10)-a.value),x=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";y&&(g[x]="".concat(y,"px"))}return Ce("div",{ref:s,class:[i.be("item","label-wrap")],style:g},[(h=e.default)==null?void 0:h.call(e)])}else return Ce(Wn,{ref:s},[(d=e.default)==null?void 0:d.call(e)])}}});const D6e=Me({name:"ElFormItem"}),k6e=Me({...D6e,props:O6e,setup(t,{expose:e}){const n=t,r=Cl(),i=qt(Aw,void 0),s=qt(lm,void 0),a=al(void 0,{formItem:!1}),o=Jt("form-item"),l=tu().value,u=ge([]),h=ge(""),d=KRe(h,100),f=ge(""),A=ge();let m,g=!1;const y=J(()=>n.labelPosition||(i==null?void 0:i.labelPosition)),_=J(()=>{if(y.value==="top")return{};const be=xo(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return be?{width:be}:{}}),x=J(()=>{if(y.value==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&k)return{};const be=xo(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:be}:{}}),S=J(()=>[o.b(),o.m(a.value),o.is("error",h.value==="error"),o.is("validating",h.value==="validating"),o.is("success",h.value==="success"),o.is("required",K.value||n.required),o.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:i==null?void 0:i.statusIcon,[o.m("label-".concat(y.value))]:y.value}]),C=J(()=>Js(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),M=J(()=>[o.e("error"),{[o.em("error","inline")]:C.value}]),B=J(()=>n.prop?Qn(n.prop)?n.prop:n.prop.join("."):""),E=J(()=>!!(n.label||r.label)),L=J(()=>n.for||(u.value.length===1?u.value[0]:void 0)),I=J(()=>!L.value&&E.value),k=!!s,O=J(()=>{const be=i==null?void 0:i.model;if(!(!be||!n.prop))return MT(be,n.prop).value}),F=J(()=>{const{required:be}=n,xe=[];n.rules&&xe.push(...eh(n.rules));const Ie=i==null?void 0:i.rules;if(Ie&&n.prop){const Qe=MT(Ie,n.prop).value;Qe&&xe.push(...eh(Qe))}if(be!==void 0){const Qe=xe.map((ue,ye)=>[ue,ye]).filter(([ue])=>Object.keys(ue).includes("required"));if(Qe.length>0)for(const[ue,ye]of Qe)ue.required!==be&&(xe[ye]={...ue,required:be});else xe.push({required:be})}return xe}),U=J(()=>F.value.length>0),$=be=>F.value.filter(Ie=>!Ie.trigger||!be?!0:an(Ie.trigger)?Ie.trigger.includes(be):Ie.trigger===be).map(({trigger:Ie,...Qe})=>Qe),K=J(()=>F.value.some(be=>be.required)),V=J(()=>{var be;return d.value==="error"&&n.showMessage&&((be=i==null?void 0:i.showMessage)!=null?be:!0)}),Q=J(()=>"".concat(n.label||"").concat((i==null?void 0:i.labelSuffix)||"")),X=be=>{h.value=be},z=be=>{var xe,Ie;const{errors:Qe,fields:ue}=be;(!Qe||!ue)&&console.error(be),X("error"),f.value=Qe?(Ie=(xe=Qe==null?void 0:Qe[0])==null?void 0:xe.message)!=null?Ie:"".concat(n.prop," is required"):"",i==null||i.emit("validate",n.prop,!1,f.value)},ne=()=>{X("success"),i==null||i.emit("validate",n.prop,!0,"")},he=async be=>{const xe=B.value;return new SL({[xe]:be}).validate({[xe]:O.value},{firstFields:!0}).then(()=>(ne(),!0)).catch(Qe=>(z(Qe),Promise.reject(Qe)))},W=async(be,xe)=>{if(g||!n.prop)return!1;const Ie=Kn(xe);if(!U.value)return xe==null||xe(!1),!1;const Qe=$(be);return Qe.length===0?(xe==null||xe(!0),!0):(X("validating"),he(Qe).then(()=>(xe==null||xe(!0),!0)).catch(ue=>{const{fields:ye}=ue;return xe==null||xe(!1,ye),Ie?!1:Promise.reject(ye)}))},Y=()=>{X(""),f.value="",g=!1},oe=async()=>{const be=i==null?void 0:i.model;if(!be||!n.prop)return;const xe=MT(be,n.prop);g=!0,xe.value=qK(m),await Zn(),Y(),g=!1},fe=be=>{u.value.includes(be)||u.value.push(be)},me=be=>{u.value=u.value.filter(xe=>xe!==be)};Ct(()=>n.error,be=>{f.value=be||"",X(be?"error":"")},{immediate:!0}),Ct(()=>n.validateStatus,be=>X(be||""));const ce=as({...Yo(n),$el:A,size:a,validateState:h,labelId:l,inputIds:u,isGroup:I,hasLabel:E,fieldValue:O,addInputId:fe,removeInputId:me,resetField:oe,clearValidate:Y,validate:W});return dr(lm,ce),rr(()=>{n.prop&&(i==null||i.addField(ce),m=qK(O.value))}),Hs(()=>{i==null||i.removeField(ce)}),e({size:a,validateMessage:f,validateState:h,validate:W,clearValidate:Y,resetField:oe}),(be,xe)=>{var Ie;return ie(),Ee("div",{ref_key:"formItemRef",ref:A,class:de(b(S)),role:b(I)?"group":void 0,"aria-labelledby":b(I)?b(l):void 0},[Ce(b(N6e),{"is-auto-width":b(_).width==="auto","update-all":((Ie=b(i))==null?void 0:Ie.labelWidth)==="auto"},{default:De(()=>[b(E)?(ie(),St(li(b(L)?"label":"div"),{key:0,id:b(l),for:b(L),class:de(b(o).e("label")),style:Xn(b(_))},{default:De(()=>[tt(be.$slots,"label",{label:b(Q)},()=>[Mr(cn(b(Q)),1)])]),_:3},8,["id","for","class","style"])):lt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Be("div",{class:de(b(o).e("content")),style:Xn(b(x))},[tt(be.$slots,"default"),Ce(jae,{name:"".concat(b(o).namespace.value,"-zoom-in-top")},{default:De(()=>[b(V)?tt(be.$slots,"error",{key:0,error:f.value},()=>[Be("div",{class:de(b(M))},cn(f.value),3)]):lt("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Aue=mn(k6e,[["__file","form-item.vue"]]);const U6e=Nr(t6e,{FormItem:Aue}),H6e=ho(Aue),G6e=hn({urlList:{type:ht(Array),default:()=>ao([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:ht(String)}}),V6e={close:()=>!0,switch:t=>tr(t),rotate:t=>tr(t)},z6e=Me({name:"ElImageViewer"}),$6e=Me({...z6e,props:G6e,emits:V6e,setup(t,{expose:e,emit:n}){var r;const i=t,s={CONTAIN:{name:"contain",icon:ry(zxe)},ORIGINAL:{name:"original",icon:ry(mEe)}},{t:a}=ji(),o=Jt("image-viewer"),{nextZIndex:l}=HS(),u=ge(),h=ge([]),d=twe(),f=ge(!0),A=ge(i.initialIndex),m=Cs(s.CONTAIN),g=ge({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=ge((r=i.zIndex)!=null?r:l()),_=J(()=>{const{urlList:Y}=i;return Y.length<=1}),x=J(()=>A.value===0),S=J(()=>A.value===i.urlList.length-1),C=J(()=>i.urlList[A.value]),M=J(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!i.infinite&&x.value)]),B=J(()=>[o.e("btn"),o.e("next"),o.is("disabled",!i.infinite&&S.value)]),E=J(()=>{const{scale:Y,deg:oe,offsetX:fe,offsetY:me,enableTransition:ce}=g.value;let be=fe/Y,xe=me/Y;const Ie=oe*Math.PI/180,Qe=Math.cos(Ie),ue=Math.sin(Ie);be=be*Qe+xe*ue,xe=xe*Qe-fe/Y*ue;const ye={transform:"scale(".concat(Y,") rotate(").concat(oe,"deg) translate(").concat(be,"px, ").concat(xe,"px)"),transition:ce?"transform .3s":""};return m.value.name===s.CONTAIN.name&&(ye.maxWidth=ye.maxHeight="100%"),ye}),L=J(()=>"".concat(A.value+1," / ").concat(i.urlList.length));function I(){O(),n("close")}function k(){const Y=b1(fe=>{switch(fe.code){case Ln.esc:i.closeOnPressEscape&&I();break;case Ln.space:V();break;case Ln.left:X();break;case Ln.up:ne("zoomIn");break;case Ln.right:z();break;case Ln.down:ne("zoomOut");break}}),oe=b1(fe=>{const me=fe.deltaY||fe.deltaX;ne(me<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});d.run(()=>{Us(document,"keydown",Y),Us(document,"wheel",oe)})}function O(){d.stop()}function F(){f.value=!1}function U(Y){f.value=!1,Y.target.alt=a("el.image.error")}function $(Y){if(f.value||Y.button!==0||!u.value)return;g.value.enableTransition=!1;const{offsetX:oe,offsetY:fe}=g.value,me=Y.pageX,ce=Y.pageY,be=b1(Ie=>{g.value={...g.value,offsetX:oe+Ie.pageX-me,offsetY:fe+Ie.pageY-ce}}),xe=Us(document,"mousemove",be);Us(document,"mouseup",()=>{xe()}),Y.preventDefault()}function K(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function V(){if(f.value)return;const Y=KE(s),oe=Object.values(s),fe=m.value.name,ce=(oe.findIndex(be=>be.name===fe)+1)%Y.length;m.value=s[Y[ce]],K()}function Q(Y){const oe=i.urlList.length;A.value=(Y+oe)%oe}function X(){x.value&&!i.infinite||Q(A.value-1)}function z(){S.value&&!i.infinite||Q(A.value+1)}function ne(Y,oe={}){if(f.value)return;const{minScale:fe,maxScale:me}=i,{zoomRate:ce,rotateDeg:be,enableTransition:xe}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...oe};switch(Y){case"zoomOut":g.value.scale>fe&&(g.value.scale=Number.parseFloat((g.value.scale/ce).toFixed(3)));break;case"zoomIn":g.value.scale<me&&(g.value.scale=Number.parseFloat((g.value.scale*ce).toFixed(3)));break;case"clockwise":g.value.deg+=be,n("rotate",g.value.deg);break;case"anticlockwise":g.value.deg-=be,n("rotate",g.value.deg);break}g.value.enableTransition=xe}function he(Y){var oe;((oe=Y.detail)==null?void 0:oe.focusReason)==="pointer"&&Y.preventDefault()}function W(){i.closeOnPressEscape&&I()}return Ct(C,()=>{Zn(()=>{const Y=h.value[0];Y!=null&&Y.complete||(f.value=!0)})}),Ct(A,Y=>{K(),n("switch",Y)}),rr(()=>{k()}),e({setActiveItem:Q}),(Y,oe)=>(ie(),St(b(zS),{to:"body",disabled:!Y.teleported},{default:De(()=>[Ce(Tc,{name:"viewer-fade",appear:""},{default:De(()=>[Be("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:de(b(o).e("wrapper")),style:Xn({zIndex:y.value})},[Ce(b(VS),{loop:"",trapped:"","focus-trap-el":u.value,"focus-start-el":"container",onFocusoutPrevented:he,onReleaseRequested:W},{default:De(()=>[Be("div",{class:de(b(o).e("mask")),onClick:mr(fe=>Y.hideOnClickModal&&I(),["self"])},null,10,["onClick"]),lt(" CLOSE "),Be("span",{class:de([b(o).e("btn"),b(o).e("close")]),onClick:I},[Ce(b(Vn),null,{default:De(()=>[Ce(b(wp))]),_:1})],2),lt(" ARROW "),b(_)?lt("v-if",!0):(ie(),Ee(Wn,{key:0},[Be("span",{class:de(b(M)),onClick:X},[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1})],2),Be("span",{class:de(b(B)),onClick:z},[Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})],2)],64)),Y.showProgress?(ie(),Ee("div",{key:1,class:de([b(o).e("btn"),b(o).e("progress")])},[tt(Y.$slots,"progress",{activeIndex:A.value,total:Y.urlList.length},()=>[Mr(cn(b(L)),1)])],2)):lt("v-if",!0),lt(" ACTIONS "),Be("div",{class:de([b(o).e("btn"),b(o).e("actions")])},[Be("div",{class:de(b(o).e("actions__inner"))},[tt(Y.$slots,"toolbar",{actions:ne,prev:X,next:z,reset:V,activeIndex:A.value},()=>[Ce(b(Vn),{onClick:fe=>ne("zoomOut")},{default:De(()=>[Ce(b(GEe))]),_:1},8,["onClick"]),Ce(b(Vn),{onClick:fe=>ne("zoomIn")},{default:De(()=>[Ce(b(aoe))]),_:1},8,["onClick"]),Be("i",{class:de(b(o).e("actions__divider"))},null,2),Ce(b(Vn),{onClick:V},{default:De(()=>[(ie(),St(li(b(m).icon)))]),_:1}),Be("i",{class:de(b(o).e("actions__divider"))},null,2),Ce(b(Vn),{onClick:fe=>ne("anticlockwise")},{default:De(()=>[Ce(b(hEe))]),_:1},8,["onClick"]),Ce(b(Vn),{onClick:fe=>ne("clockwise")},{default:De(()=>[Ce(b(fEe))]),_:1},8,["onClick"])])],2)],2),lt(" CANVAS "),Be("div",{class:de(b(o).e("canvas"))},[(ie(!0),Ee(Wn,null,wi(Y.urlList,(fe,me)=>Br((ie(),Ee("img",{ref_for:!0,ref:ce=>h.value[me]=ce,key:fe,src:fe,style:Xn(b(E)),class:de(b(o).e("img")),crossorigin:Y.crossorigin,onLoad:F,onError:U,onMousedown:$},null,46,["src","crossorigin"])),[[Qi,me===A.value]])),128))],2),tt(Y.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var Q6e=mn($6e,[["__file","image-viewer.vue"]]);const pue=Nr(Q6e),W6e=hn({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ht([String,Object])},previewSrcList:{type:ht(Array),default:()=>ao([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:ht(String)}}),j6e={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>tr(t),close:()=>!0,show:()=>!0},K6e=Me({name:"ElImage",inheritAttrs:!1}),q6e=Me({...K6e,props:W6e,emits:j6e,setup(t,{expose:e,emit:n}){const r=t;let i="";const{t:s}=ji(),a=Jt("image"),o=Ya(),l=J(()=>vM(Object.entries(o).filter(([z])=>/^(data-|on[A-Z])/i.test(z)||["id","style"].includes(z)))),u=wL({excludeListeners:!0,excludeKeys:J(()=>Object.keys(l.value))}),h=ge(),d=ge(!1),f=ge(!0),A=ge(!1),m=ge(),g=ge(),y=Wi&&"loading"in HTMLImageElement.prototype;let _,x;const S=J(()=>[a.e("inner"),M.value&&a.e("preview"),f.value&&a.is("loading")]),C=J(()=>{const{fit:z}=r;return Wi&&z?{objectFit:z}:{}}),M=J(()=>{const{previewSrcList:z}=r;return an(z)&&z.length>0}),B=J(()=>{const{previewSrcList:z,initialIndex:ne}=r;let he=ne;return ne>z.length-1&&(he=0),he}),E=J(()=>r.loading==="eager"?!1:!y&&r.loading==="lazy"||r.lazy),L=()=>{Wi&&(f.value=!0,d.value=!1,h.value=r.src)};function I(z){f.value=!1,d.value=!1,n("load",z)}function k(z){f.value=!1,d.value=!0,n("error",z)}function O(){nke(m.value,g.value)&&(L(),$())}const F=fle(O,200,!0);async function U(){var z;if(!Wi)return;await Zn();const{scrollContainer:ne}=r;zh(ne)?g.value=ne:Qn(ne)&&ne!==""?g.value=(z=document.querySelector(ne))!=null?z:void 0:m.value&&(g.value=Zz(m.value)),g.value&&(_=Us(g,"scroll",F),setTimeout(()=>O(),100))}function $(){!Wi||!g.value||!F||(_==null||_(),g.value=void 0)}function K(z){if(z.ctrlKey){if(z.deltaY<0)return z.preventDefault(),!1;if(z.deltaY>0)return z.preventDefault(),!1}}function V(){M.value&&(x=Us("wheel",K,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",A.value=!0,n("show"))}function Q(){x==null||x(),document.body.style.overflow=i,A.value=!1,n("close")}function X(z){n("switch",z)}return Ct(()=>r.src,()=>{E.value?(f.value=!0,d.value=!1,$(),U()):L()}),rr(()=>{E.value?U():L()}),e({showPreview:V}),(z,ne)=>(ie(),Ee("div",hi({ref_key:"container",ref:m},b(l),{class:[b(a).b(),z.$attrs.class]}),[d.value?tt(z.$slots,"error",{key:0},()=>[Be("div",{class:de(b(a).e("error"))},cn(b(s)("el.image.error")),3)]):(ie(),Ee(Wn,{key:1},[h.value!==void 0?(ie(),Ee("img",hi({key:0},b(u),{src:h.value,loading:z.loading,style:b(C),class:b(S),crossorigin:z.crossorigin,onClick:V,onLoad:I,onError:k}),null,16,["src","loading","crossorigin"])):lt("v-if",!0),f.value?(ie(),Ee("div",{key:1,class:de(b(a).e("wrapper"))},[tt(z.$slots,"placeholder",{},()=>[Be("div",{class:de(b(a).e("placeholder"))},null,2)])],2)):lt("v-if",!0)],64)),b(M)?(ie(),Ee(Wn,{key:2},[A.value?(ie(),St(b(pue),{key:0,"z-index":z.zIndex,"initial-index":b(B),infinite:z.infinite,"zoom-rate":z.zoomRate,"min-scale":z.minScale,"max-scale":z.maxScale,"show-progress":z.showProgress,"url-list":z.previewSrcList,crossorigin:z.crossorigin,"hide-on-click-modal":z.hideOnClickModal,teleported:z.previewTeleported,"close-on-press-escape":z.closeOnPressEscape,onClose:Q,onSwitch:X},{progress:De(he=>[tt(z.$slots,"progress",gf(sm(he)))]),toolbar:De(he=>[tt(z.$slots,"toolbar",gf(sm(he)))]),default:De(()=>[z.$slots.viewer?(ie(),Ee("div",{key:0},[tt(z.$slots,"viewer")])):lt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):lt("v-if",!0)],64)):lt("v-if",!0)],16))}});var X6e=mn(q6e,[["__file","image.vue"]]);const Y6e=Nr(X6e),Z6e=hn({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Sl,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||tr(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt("".concat(t),10)},validateEvent:{type:Boolean,default:!0},...nu(["ariaLabel"])}),J6e={[Qs]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[bu]:t=>tr(t)||lc(t),[zr]:t=>tr(t)||lc(t)},e8e=Me({name:"ElInputNumber"}),t8e=Me({...e8e,props:Z6e,emits:J6e,setup(t,{expose:e,emit:n}){const r=t,{t:i}=ji(),s=Jt("input-number"),a=ge(),o=as({currentValue:r.modelValue,userInput:null}),{formItem:l}=Cu(),u=J(()=>tr(r.modelValue)&&r.modelValue<=r.min),h=J(()=>tr(r.modelValue)&&r.modelValue>=r.max),d=J(()=>{const K=_(r.step);return ps(r.precision)?Math.max(_(r.modelValue),K):(K>r.precision,r.precision)}),f=J(()=>r.controls&&r.controlsPosition==="right"),A=al(),m=Tu(),g=J(()=>{if(o.userInput!==null)return o.userInput;let K=o.currentValue;if(lc(K))return"";if(tr(K)){if(Number.isNaN(K))return"";ps(r.precision)||(K=K.toFixed(r.precision))}return K}),y=(K,V)=>{if(ps(V)&&(V=d.value),V===0)return Math.round(K);let Q=String(K);const X=Q.indexOf(".");if(X===-1||!Q.replace(".","").split("")[X+V])return K;const he=Q.length;return Q.charAt(he-1)==="5"&&(Q="".concat(Q.slice(0,Math.max(0,he-1)),"6")),Number.parseFloat(Number(Q).toFixed(V))},_=K=>{if(lc(K))return 0;const V=K.toString(),Q=V.indexOf(".");let X=0;return Q!==-1&&(X=V.length-Q-1),X},x=(K,V=1)=>tr(K)?y(K+r.step*V):o.currentValue,S=()=>{if(r.readonly||m.value||h.value)return;const K=Number(g.value)||0,V=x(K);B(V),n(bu,o.currentValue),U()},C=()=>{if(r.readonly||m.value||u.value)return;const K=Number(g.value)||0,V=x(K,-1);B(V),n(bu,o.currentValue),U()},M=(K,V)=>{const{max:Q,min:X,step:z,precision:ne,stepStrictly:he,valueOnClear:W}=r;Q<X&&Gl("InputNumber","min should not be greater than max.");let Y=Number(K);if(lc(K)||Number.isNaN(Y))return null;if(K===""){if(W===null)return null;Y=Qn(W)?{min:X,max:Q}[W]:W}return he&&(Y=y(Math.round(Y/z)*z,ne),Y!==K&&V&&n(zr,Y)),ps(ne)||(Y=y(Y,ne)),(Y>Q||Y<X)&&(Y=Y>Q?Q:X,V&&n(zr,Y)),Y},B=(K,V=!0)=>{var Q;const X=o.currentValue,z=M(K);if(!V){n(zr,z);return}X===z&&K||(o.userInput=null,n(zr,z),X!==z&&n(Qs,z,X),r.validateEvent&&((Q=l==null?void 0:l.validate)==null||Q.call(l,"change").catch(ne=>void 0)),o.currentValue=z)},E=K=>{o.userInput=K;const V=K===""?null:Number(K);n(bu,V),B(V,!1)},L=K=>{const V=K!==""?Number(K):"";(tr(V)&&!Number.isNaN(V)||K==="")&&B(V),U(),o.userInput=null},I=()=>{var K,V;(V=(K=a.value)==null?void 0:K.focus)==null||V.call(K)},k=()=>{var K,V;(V=(K=a.value)==null?void 0:K.blur)==null||V.call(K)},O=K=>{n("focus",K)},F=K=>{var V,Q;o.userInput=null,h5()&&o.currentValue===null&&((V=a.value)!=null&&V.input)&&(a.value.input.value=""),n("blur",K),r.validateEvent&&((Q=l==null?void 0:l.validate)==null||Q.call(l,"blur").catch(X=>void 0))},U=()=>{o.currentValue!==r.modelValue&&(o.currentValue=r.modelValue)},$=K=>{document.activeElement===K.target&&K.preventDefault()};return Ct(()=>r.modelValue,(K,V)=>{const Q=M(K,!0);o.userInput===null&&Q!==V&&(o.currentValue=Q)},{immediate:!0}),rr(()=>{var K;const{min:V,max:Q,modelValue:X}=r,z=(K=a.value)==null?void 0:K.input;if(z.setAttribute("role","spinbutton"),Number.isFinite(Q)?z.setAttribute("aria-valuemax",String(Q)):z.removeAttribute("aria-valuemax"),Number.isFinite(V)?z.setAttribute("aria-valuemin",String(V)):z.removeAttribute("aria-valuemin"),z.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),z.setAttribute("aria-disabled",String(m.value)),!tr(X)&&X!=null){let ne=Number(X);Number.isNaN(ne)&&(ne=null),n(zr,ne)}z.addEventListener("wheel",$,{passive:!1})}),Bp(()=>{var K,V;const Q=(K=a.value)==null?void 0:K.input;Q==null||Q.setAttribute("aria-valuenow","".concat((V=o.currentValue)!=null?V:""))}),e({focus:I,blur:k}),(K,V)=>(ie(),Ee("div",{class:de([b(s).b(),b(s).m(b(A)),b(s).is("disabled",b(m)),b(s).is("without-controls",!K.controls),b(s).is("controls-right",b(f))]),onDragstart:mr(()=>{},["prevent"])},[K.controls?Br((ie(),Ee("span",{key:0,role:"button","aria-label":b(i)("el.inputNumber.decrease"),class:de([b(s).e("decrease"),b(s).is("disabled",b(u))]),onKeydown:$s(C,["enter"])},[tt(K.$slots,"decrease-icon",{},()=>[Ce(b(Vn),null,{default:De(()=>[b(f)?(ie(),St(b(Uv),{key:0})):(ie(),St(b(tEe),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[b(tO),C]]):lt("v-if",!0),K.controls?Br((ie(),Ee("span",{key:1,role:"button","aria-label":b(i)("el.inputNumber.increase"),class:de([b(s).e("increase"),b(s).is("disabled",b(h))]),onKeydown:$s(S,["enter"])},[tt(K.$slots,"increase-icon",{},()=>[Ce(b(Vn),null,{default:De(()=>[b(f)?(ie(),St(b(Lz),{key:0})):(ie(),St(b(ioe),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[b(tO),S]]):lt("v-if",!0),Ce(b(sh),{id:K.id,ref_key:"input",ref:a,type:"number",step:K.step,"model-value":b(g),placeholder:K.placeholder,readonly:K.readonly,disabled:b(m),size:b(A),max:K.max,min:K.min,name:K.name,"aria-label":K.ariaLabel,"validate-event":!1,onKeydown:[$s(mr(S,["prevent"]),["up"]),$s(mr(C,["prevent"]),["down"])],onBlur:F,onFocus:O,onInput:E,onChange:L},Lf({_:2},[K.$slots.prefix?{name:"prefix",fn:De(()=>[tt(K.$slots,"prefix")])}:void 0,K.$slots.suffix?{name:"suffix",fn:De(()=>[tt(K.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var n8e=mn(t8e,[["__file","input-number.vue"]]);const gue=Nr(n8e),r8e=hn({modelValue:{type:ht(Array)},max:Number,tagType:{...Cv.type,default:"info"},tagEffect:Cv.effect,trigger:{type:ht(String),default:Ln.enter},draggable:{type:Boolean,default:!1},size:Sl,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),i8e={[zr]:t=>an(t)||ps(t),[Qs]:t=>an(t)||ps(t),[bu]:t=>Qn(t),"add-tag":t=>Qn(t),"remove-tag":t=>Qn(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function s8e({props:t,emit:e,formItem:n}){const r=Tu(),i=al(),s=Cs(),a=ge(),o=J(()=>["small"].includes(i.value)?"small":"default"),l=J(()=>{var I;return(I=t.modelValue)!=null&&I.length?void 0:t.placeholder}),u=J(()=>!(t.readonly||r.value)),h=J(()=>{var I,k;return ps(t.max)?!1:((k=(I=t.modelValue)==null?void 0:I.length)!=null?k:0)>=t.max}),d=I=>{if(h.value){a.value=void 0;return}M.value||e(bu,I.target.value)},f=I=>{var k;if(!M.value)switch(I.code){case t.trigger:I.preventDefault(),I.stopPropagation(),A();break;case Ln.numpadEnter:t.trigger===Ln.enter&&(I.preventDefault(),I.stopPropagation(),A());break;case Ln.backspace:!a.value&&((k=t.modelValue)!=null&&k.length)&&(I.preventDefault(),I.stopPropagation(),m(t.modelValue.length-1));break}},A=()=>{var I,k;const O=(I=a.value)==null?void 0:I.trim();if(!O||h.value)return;const F=[...(k=t.modelValue)!=null?k:[],O];e(zr,F),e(Qs,F),e("add-tag",O),a.value=void 0},m=I=>{var k;const O=((k=t.modelValue)!=null?k:[]).slice(),[F]=O.splice(I,1);e(zr,O),e(Qs,O),e("remove-tag",F)},g=()=>{a.value=void 0,e(zr,void 0),e(Qs,void 0),e("clear")},y=(I,k,O)=>{var F;const U=((F=t.modelValue)!=null?F:[]).slice(),[$]=U.splice(I,1),K=k>I&&O==="before"?-1:k<I&&O==="after"?1:0;U.splice(k+K,0,$),e(zr,U),e(Qs,U)},_=()=>{var I;(I=s.value)==null||I.focus()},x=()=>{var I;(I=s.value)==null||I.blur()},{wrapperRef:S,isFocused:C}=Fy(s,{beforeFocus(){return r.value},afterBlur(){var I;A(),t.validateEvent&&((I=n==null?void 0:n.validate)==null||I.call(n,"blur").catch(k=>void 0))}}),{isComposing:M,handleCompositionStart:B,handleCompositionUpdate:E,handleCompositionEnd:L}=bL({afterComposition:d});return Ct(()=>t.modelValue,()=>{var I;t.validateEvent&&((I=n==null?void 0:n.validate)==null||I.call(n,Qs).catch(k=>void 0))}),{inputRef:s,wrapperRef:S,isFocused:C,isComposing:M,inputValue:a,size:i,tagSize:o,placeholder:l,closable:u,disabled:r,inputLimit:h,handleDragged:y,handleInput:d,handleKeydown:f,handleAddTag:A,handleRemoveTag:m,handleClear:g,handleCompositionStart:B,handleCompositionUpdate:E,handleCompositionEnd:L,focus:_,blur:x}}function a8e(){const t=ge(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function O$(){const t=Cs(),e=ge(0),n=11,r=J(()=>({minWidth:"".concat(Math.max(e.value,n),"px")}));return so(t,()=>{var s,a;e.value=(a=(s=t.value)==null?void 0:s.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:r}}function o8e({wrapperRef:t,handleDragged:e,afterDragged:n}){const r=Jt("input-tag"),i=Cs(),s=ge(!1);let a,o,l,u;function h(m){return".".concat(r.e("inner")," .").concat(r.namespace.value,"-tag:nth-child(").concat(m+1,")")}function d(m,g){a=g,o=t.value.querySelector(h(g)),o&&(o.style.opacity="0.5"),m.dataTransfer.effectAllowed="move"}function f(m,g){if(l=g,m.preventDefault(),m.dataTransfer.dropEffect="move",ps(a)||a===g){s.value=!1;return}const y=t.value.querySelector(h(g)).getBoundingClientRect(),_=a+1!==g,x=a-1!==g,S=m.clientX-y.left,C=_?x?.5:1:-1,M=x?_?.5:0:1;S<=y.width*C?u="before":S>y.width*M?u="after":u=void 0;const B=t.value.querySelector(".".concat(r.e("inner"))),E=B.getBoundingClientRect(),L=Number.parseFloat(cv(B,"gap"))/2,I=y.top-E.top;let k=-9999;if(u==="before")k=Math.max(y.left-E.left-L,Math.floor(-L/2));else if(u==="after"){const O=y.right-E.left;k=O+(E.width===O?Math.floor(L/2):L)}Cle(i.value,{top:"".concat(I,"px"),left:"".concat(k,"px")}),s.value=!!u}function A(m){m.preventDefault(),o&&(o.style.opacity=""),u&&!ps(a)&&!ps(l)&&a!==l&&e(a,l,u),s.value=!1,a=void 0,o=null,l=void 0,u=void 0,n==null||n()}return{dropIndicatorRef:i,showDropIndicator:s,handleDragStart:d,handleDragOver:f,handleDragEnd:A}}function l8e({props:t,isFocused:e,hovering:n,disabled:r,inputValue:i,size:s,validateState:a,validateIcon:o,needStatusIcon:l}){const u=Ya(),h=Cl(),d=Jt("input-tag"),f=Jt("input"),A=J(()=>[d.b(),d.is("focused",e.value),d.is("hovering",n.value),d.is("disabled",r.value),d.m(s.value),d.e("wrapper"),u.class]),m=J(()=>[u.style]),g=J(()=>{var x,S;return[d.e("inner"),d.is("draggable",t.draggable),d.is("left-space",!((x=t.modelValue)!=null&&x.length)&&!h.prefix),d.is("right-space",!((S=t.modelValue)!=null&&S.length)&&!_.value)]}),y=J(()=>{var x;return t.clearable&&!r.value&&!t.readonly&&(((x=t.modelValue)==null?void 0:x.length)||i.value)&&(e.value||n.value)}),_=J(()=>h.suffix||y.value||a.value&&o.value&&l.value);return{ns:d,nsInput:f,containerKls:A,containerStyle:m,innerKls:g,showClear:y,showSuffix:_}}const c8e=Me({name:"ElInputTag",inheritAttrs:!1}),u8e=Me({...c8e,props:r8e,emits:i8e,setup(t,{expose:e,emit:n}){const r=t,i=wL(),s=Cl(),{form:a,formItem:o}=Cu(),{inputId:l}=SA(r,{formItemContext:o}),u=J(()=>{var ue;return(ue=a==null?void 0:a.statusIcon)!=null?ue:!1}),h=J(()=>(o==null?void 0:o.validateState)||""),d=J(()=>h.value&&u5[h.value]),{inputRef:f,wrapperRef:A,isFocused:m,inputValue:g,size:y,tagSize:_,placeholder:x,closable:S,disabled:C,handleDragged:M,handleInput:B,handleKeydown:E,handleRemoveTag:L,handleClear:I,handleCompositionStart:k,handleCompositionUpdate:O,handleCompositionEnd:F,focus:U,blur:$}=s8e({props:r,emit:n,formItem:o}),{hovering:K,handleMouseEnter:V,handleMouseLeave:Q}=a8e(),{calculatorRef:X,inputStyle:z}=O$(),{dropIndicatorRef:ne,showDropIndicator:he,handleDragStart:W,handleDragOver:Y,handleDragEnd:oe}=o8e({wrapperRef:A,handleDragged:M,afterDragged:U}),{ns:fe,nsInput:me,containerKls:ce,containerStyle:be,innerKls:xe,showClear:Ie,showSuffix:Qe}=l8e({props:r,hovering:K,isFocused:m,inputValue:g,disabled:C,size:y,validateState:h,validateIcon:d,needStatusIcon:u});return e({focus:U,blur:$}),(ue,ye)=>(ie(),Ee("div",{ref_key:"wrapperRef",ref:A,class:de(b(ce)),style:Xn(b(be)),onMouseenter:b(V),onMouseleave:b(Q)},[b(s).prefix?(ie(),Ee("div",{key:0,class:de(b(fe).e("prefix"))},[tt(ue.$slots,"prefix")],2)):lt("v-if",!0),Be("div",{class:de(b(xe))},[(ie(!0),Ee(Wn,null,wi(ue.modelValue,($e,Ve)=>(ie(),St(b(eS),{key:Ve,size:b(_),closable:b(S),type:ue.tagType,effect:ue.tagEffect,draggable:b(S)&&ue.draggable,"disable-transitions":"",onClose:Se=>b(L)(Ve),onDragstart:Se=>b(W)(Se,Ve),onDragover:Se=>b(Y)(Se,Ve),onDragend:b(oe),onDrop:mr(()=>{},["stop"])},{default:De(()=>[tt(ue.$slots,"tag",{value:$e,index:Ve},()=>[Mr(cn($e),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),Be("div",{class:de(b(fe).e("input-wrapper"))},[Br(Be("input",hi({id:b(l),ref_key:"inputRef",ref:f,"onUpdate:modelValue":$e=>ga(g)?g.value=$e:null},b(i),{type:"text",minlength:ue.minlength,maxlength:ue.maxlength,disabled:b(C),readonly:ue.readonly,autocomplete:ue.autocomplete,tabindex:ue.tabindex,placeholder:b(x),autofocus:ue.autofocus,ariaLabel:ue.ariaLabel,class:b(fe).e("input"),style:b(z),onCompositionstart:b(k),onCompositionupdate:b(O),onCompositionend:b(F),onInput:b(B),onKeydown:b(E)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[KN,b(g)]]),Be("span",{ref_key:"calculatorRef",ref:X,"aria-hidden":"true",class:de(b(fe).e("input-calculator")),textContent:cn(b(g))},null,10,["textContent"])],2),Br(Be("div",{ref_key:"dropIndicatorRef",ref:ne,class:de(b(fe).e("drop-indicator"))},null,2),[[Qi,b(he)]])],2),b(Qe)?(ie(),Ee("div",{key:1,class:de(b(fe).e("suffix"))},[tt(ue.$slots,"suffix"),b(Ie)?(ie(),St(b(Vn),{key:0,class:de([b(fe).e("icon"),b(fe).e("clear")]),onMousedown:mr(b(Os),["prevent"]),onClick:b(I)},{default:De(()=>[Ce(b(Hv))]),_:1},8,["class","onMousedown","onClick"])):lt("v-if",!0),b(h)&&b(d)&&b(u)?(ie(),St(b(Vn),{key:1,class:de([b(me).e("icon"),b(me).e("validateIcon"),b(me).is("loading",b(h)==="validating")])},{default:De(()=>[(ie(),St(li(b(d))))]),_:1},8,["class"])):lt("v-if",!0)],2)):lt("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var h8e=mn(u8e,[["__file","input-tag.vue"]]);const d8e=Nr(h8e),f8e=hn({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Ws}}),A8e={click:t=>t instanceof MouseEvent},p8e=Me({name:"ElLink"}),g8e=Me({...p8e,props:f8e,emits:A8e,setup(t,{emit:e}){const n=t,r=Jt("link"),i=J(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function s(a){n.disabled||e("click",a)}return(a,o)=>(ie(),Ee("a",{class:de(b(i)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:s},[a.icon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(a.icon)))]),_:1})):lt("v-if",!0),a.$slots.default?(ie(),Ee("span",{key:1,class:de(b(r).e("inner"))},[tt(a.$slots,"default")],2)):lt("v-if",!0),a.$slots.icon?tt(a.$slots,"icon",{key:2}):lt("v-if",!0)],10,["href","target"]))}});var m8e=mn(g8e,[["__file","link.vue"]]);const v8e=Nr(m8e);let y8e=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Ln.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Ln.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Ln.tab:{FP(e,"mouseleave");break}case Ln.enter:case Ln.numpadEnter:case Ln.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},_8e=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(".".concat(e,"-menu"));n&&(this.submenu=new y8e(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Ln.down:{FP(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Ln.up:{FP(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Ln.tab:{FP(e.currentTarget,"mouseleave");break}case Ln.enter:case Ln.numpadEnter:case Ln.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},w8e=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new _8e(r,e)})}};const b8e=Me({name:"ElMenuCollapseTransition",setup(){const t=Jt("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){oA(n,"".concat(t.namespace.value,"-opacity-transition")),n.style.opacity="1",r()},onAfterEnter(n){lh(n,"".concat(t.namespace.value,"-opacity-transition")),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Rd(n,t.m("collapse"))?(lh(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),oA(n,t.m("collapse"))):(oA(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),lh(n,t.m("collapse"))),n.style.width="".concat(n.scrollWidth,"px"),n.style.overflow="hidden"},onLeave(n){oA(n,"horizontal-collapse-transition"),n.style.width="".concat(n.dataset.scrollWidth,"px")}}}}});function x8e(t,e,n,r,i,s){return ie(),St(Tc,hi({mode:"out-in"},t.listeners),{default:De(()=>[tt(t.$slots,"default")]),_:3},16)}var E8e=mn(b8e,[["render",x8e],["__file","menu-collapse-transition.vue"]]);function mue(t,e){const n=J(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:J(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function S8e(t){return J(()=>{const n=t.backgroundColor;return n?new cce(n).shade(20).toString():""})}const vue=(t,e)=>{const n=Jt("menu");return J(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":S8e(t).value||"","active-color":t.activeTextColor||"",level:"".concat(e)}))},C8e=hn({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ws},expandOpenIcon:{type:Ws},collapseCloseIcon:{type:Ws},collapseOpenIcon:{type:Ws}}),DU="ElSubMenu";var N$=Me({name:DU,props:C8e,setup(t,{slots:e,expose:n}){const r=ni(),{indexPath:i,parentMenu:s}=mue(r,J(()=>t.index)),a=Jt("menu"),o=Jt("sub-menu"),l=qt("rootMenu");l||Gl(DU,"can not inject root menu");const u=qt("subMenu:".concat(s.value.uid));u||Gl(DU,"can not inject sub menu");const h=ge({}),d=ge({});let f;const A=ge(!1),m=ge(),g=ge(null),y=J(()=>L.value==="horizontal"&&x.value?"bottom-start":"right-start"),_=J(()=>L.value==="horizontal"&&x.value||L.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?B.value?t.expandOpenIcon:t.expandCloseIcon:Uv:t.collapseCloseIcon&&t.collapseOpenIcon?B.value?t.collapseOpenIcon:t.collapseCloseIcon:oh),x=J(()=>u.level===0),S=J(()=>{const ne=t.teleported;return ne===void 0?x.value:ne}),C=J(()=>l.props.collapse?"".concat(a.namespace.value,"-zoom-in-left"):"".concat(a.namespace.value,"-zoom-in-top")),M=J(()=>L.value==="horizontal"&&x.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),B=J(()=>l.openedMenus.includes(t.index)),E=J(()=>{let ne=!1;return Object.values(h.value).forEach(he=>{he.active&&(ne=!0)}),Object.values(d.value).forEach(he=>{he.active&&(ne=!0)}),ne}),L=J(()=>l.props.mode),I=as({index:t.index,indexPath:i,active:E}),k=vue(l.props,u.level+1),O=J(()=>{var ne;return(ne=t.popperOffset)!=null?ne:l.props.popperOffset}),F=J(()=>{var ne;return(ne=t.popperClass)!=null?ne:l.props.popperClass}),U=J(()=>{var ne;return(ne=t.showTimeout)!=null?ne:l.props.showTimeout}),$=J(()=>{var ne;return(ne=t.hideTimeout)!=null?ne:l.props.hideTimeout}),K=()=>{var ne,he,W;return(W=(he=(ne=g.value)==null?void 0:ne.popperRef)==null?void 0:he.popperInstanceRef)==null?void 0:W.destroy()},V=ne=>{ne||K()},Q=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:i.value,active:E.value})},X=(ne,he=U.value)=>{var W;if(ne.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,f==null||f(),{stop:f}=$1(()=>{l.openMenu(t.index,i.value)},he),S.value&&((W=s.value.vnode.el)==null||W.dispatchEvent(new MouseEvent("mouseenter")))}},z=(ne=!1)=>{var he;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}f==null||f(),u.mouseInChild.value=!1,{stop:f}=$1(()=>!A.value&&l.closeMenu(t.index,i.value),$.value),S.value&&ne&&((he=u.handleMouseleave)==null||he.call(u,!0))};Ct(()=>l.props.collapse,ne=>V(!!ne));{const ne=W=>{d.value[W.index]=W},he=W=>{delete d.value[W.index]};dr("subMenu:".concat(r.uid),{addSubMenu:ne,removeSubMenu:he,handleMouseleave:z,mouseInChild:A,level:u.level+1})}return n({opened:B}),rr(()=>{l.addSubMenu(I),u.addSubMenu(I)}),Hs(()=>{u.removeSubMenu(I),l.removeSubMenu(I)}),()=>{var ne;const he=[(ne=e.title)==null?void 0:ne.call(e),lr(Vn,{class:o.e("icon-arrow"),style:{transform:B.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Qn(_.value)?lr(r.appContext.components[_.value]):lr(_.value)})],W=l.isMenuPopup?lr(Eu,{ref:g,visible:B.value,effect:"light",pure:!0,offset:O.value,showArrow:!1,persistent:!0,popperClass:F.value,placement:y.value,teleported:S.value,fallbackPlacements:M.value,transition:C.value,gpuAcceleration:!1},{content:()=>{var Y;return lr("div",{class:[a.m(L.value),a.m("popup-container"),F.value],onMouseenter:oe=>X(oe,100),onMouseleave:()=>z(!0),onFocus:oe=>X(oe,100)},[lr("ul",{class:[a.b(),a.m("popup"),a.m("popup-".concat(y.value))],style:k.value},[(Y=e.default)==null?void 0:Y.call(e)])])},default:()=>lr("div",{class:o.e("title"),onClick:Q},he)}):lr(Wn,{},[lr("div",{class:o.e("title"),ref:m,onClick:Q},he),lr(p5,{},{default:()=>{var Y;return Br(lr("ul",{role:"menu",class:[a.b(),a.m("inline")],style:k.value},[(Y=e.default)==null?void 0:Y.call(e)]),[[Qi,B.value]])}})]);return lr("li",{class:[o.b(),o.is("active",E.value),o.is("opened",B.value),o.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:B.value,onMouseenter:X,onMouseleave:()=>z(),onFocus:X},[W])}}});const T8e=hn({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ht(Array),default:()=>ao([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ws,default:()=>iEe},popperEffect:{type:ht(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),kU=t=>an(t)&&t.every(e=>Qn(e)),M8e={close:(t,e)=>Qn(t)&&kU(e),open:(t,e)=>Qn(t)&&kU(e),select:(t,e,n,r)=>Qn(t)&&kU(e)&&qr(n)&&(r===void 0||r instanceof Promise)};var L8e=Me({name:"ElMenu",props:T8e,emits:M8e,setup(t,{emit:e,slots:n,expose:r}){const i=ni(),s=i.appContext.config.globalProperties.$router,a=ge(),o=Jt("menu"),l=Jt("sub-menu"),u=ge(-1),h=ge(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=ge(t.defaultActive),f=ge({}),A=ge({}),m=J(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const K=d.value&&f.value[d.value];if(!K||t.mode==="horizontal"||t.collapse)return;K.indexPath.forEach(Q=>{const X=A.value[Q];X&&y(Q,X.indexPath)})},y=(K,V)=>{h.value.includes(K)||(t.uniqueOpened&&(h.value=h.value.filter(Q=>V.includes(Q))),h.value.push(K),e("open",K,V))},_=K=>{const V=h.value.indexOf(K);V!==-1&&h.value.splice(V,1)},x=(K,V)=>{_(K),e("close",K,V)},S=({index:K,indexPath:V})=>{h.value.includes(K)?x(K,V):y(K,V)},C=K=>{(t.mode==="horizontal"||t.collapse)&&(h.value=[]);const{index:V,indexPath:Q}=K;if(!(lc(V)||lc(Q)))if(t.router&&s){const X=K.route||V,z=s.push(X).then(ne=>(ne||(d.value=V),ne));e("select",V,Q,{index:V,indexPath:Q,route:X},z)}else d.value=V,e("select",V,Q,{index:V,indexPath:Q})},M=K=>{const V=f.value,Q=V[K]||d.value&&V[d.value]||V[t.defaultActive];Q?d.value=Q.index:d.value=K},B=K=>{const V=getComputedStyle(K),Q=Number.parseInt(V.marginLeft,10),X=Number.parseInt(V.marginRight,10);return K.offsetWidth+Q+X||0},E=()=>{var K,V;if(!a.value)return-1;const Q=Array.from((V=(K=a.value)==null?void 0:K.childNodes)!=null?V:[]).filter(fe=>fe.nodeName!=="#text"||fe.nodeValue),X=64,z=getComputedStyle(a.value),ne=Number.parseInt(z.paddingLeft,10),he=Number.parseInt(z.paddingRight,10),W=a.value.clientWidth-ne-he;let Y=0,oe=0;return Q.forEach((fe,me)=>{fe.nodeName!=="#comment"&&(Y+=B(fe),Y<=W-X&&(oe=me+1))}),oe===Q.length?-1:oe},L=K=>A.value[K].indexPath,I=(K,V=33.34)=>{let Q;return()=>{Q&&clearTimeout(Q),Q=setTimeout(()=>{K()},V)}};let k=!0;const O=()=>{if(u.value===E())return;const K=()=>{u.value=-1,Zn(()=>{u.value=E()})};k?K():I(K)(),k=!1};Ct(()=>t.defaultActive,K=>{f.value[K]||(d.value=""),M(K)}),Ct(()=>t.collapse,K=>{K&&(h.value=[])}),Ct(f.value,g);let F;Zc(()=>{t.mode==="horizontal"&&t.ellipsis?F=so(a,O).stop:F==null||F()});const U=ge(!1);{const K=z=>{A.value[z.index]=z},V=z=>{delete A.value[z.index]};dr("rootMenu",as({props:t,openedMenus:h,items:f,subMenus:A,activeIndex:d,isMenuPopup:m,addMenuItem:z=>{f.value[z.index]=z},removeMenuItem:z=>{delete f.value[z.index]},addSubMenu:K,removeSubMenu:V,openMenu:y,closeMenu:x,handleMenuItemClick:C,handleSubMenuClick:S})),dr("subMenu:".concat(i.uid),{addSubMenu:K,removeSubMenu:V,mouseInChild:U,level:0})}rr(()=>{t.mode==="horizontal"&&new w8e(i.vnode.el,o.namespace.value)}),r({open:V=>{const{indexPath:Q}=A.value[V];Q.forEach(X=>y(X,Q))},close:_,handleResize:O});const $=vue(t,0);return()=>{var K,V;let Q=(V=(K=n.default)==null?void 0:K.call(n))!=null?V:[];const X=[];if(t.mode==="horizontal"&&a.value){const he=ay(Q),W=u.value===-1?he:he.slice(0,u.value),Y=u.value===-1?[]:he.slice(u.value);Y!=null&&Y.length&&t.ellipsis&&(Q=W,X.push(lr(N$,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>lr(Vn,{class:l.e("icon-more")},{default:()=>lr(t.ellipsisIcon)}),default:()=>Y})))}const z=t.closeOnClickOutside?[[Tv,()=>{h.value.length&&(U.value||(h.value.forEach(he=>e("close",he,L(he))),h.value=[]))}]]:[],ne=Br(lr("ul",{key:String(t.collapse),role:"menubar",ref:a,style:$.value,class:{[o.b()]:!0,[o.m(t.mode)]:!0,[o.m("collapse")]:t.collapse}},[...Q,...X]),z);return t.collapseTransition&&t.mode==="vertical"?lr(E8e,()=>ne):ne}}});const B8e=hn({index:{type:ht([String,null]),default:null},route:{type:ht([String,Object])},disabled:Boolean}),R8e={click:t=>Qn(t.index)&&an(t.indexPath)},UU="ElMenuItem",I8e=Me({name:UU,components:{ElTooltip:Eu},props:B8e,emits:R8e,setup(t,{emit:e}){const n=ni(),r=qt("rootMenu"),i=Jt("menu"),s=Jt("menu-item");r||Gl(UU,"can not inject root menu");const{parentMenu:a,indexPath:o}=mue(n,Is(t,"index")),l=qt("subMenu:".concat(a.value.uid));l||Gl(UU,"can not inject sub menu");const u=J(()=>t.index===r.activeIndex),h=as({index:t.index,indexPath:o,active:u}),d=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:o.value,route:t.route}),e("click",h))};return rr(()=>{l.addSubMenu(h),r.addMenuItem(h)}),Hs(()=>{l.removeSubMenu(h),r.removeMenuItem(h)}),{parentMenu:a,rootMenu:r,active:u,nsMenu:i,nsMenuItem:s,handleClick:d}}});function P8e(t,e,n,r,i,s){const a=Nn("el-tooltip");return ie(),Ee("li",{class:de([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(ie(),St(a,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:De(()=>[tt(t.$slots,"title")]),default:De(()=>[Be("div",{class:de(t.nsMenu.be("tooltip","trigger"))},[tt(t.$slots,"default")],2)]),_:3},8,["effect"])):(ie(),Ee(Wn,{key:1},[tt(t.$slots,"default"),tt(t.$slots,"title")],64))],10,["onClick"])}var yue=mn(I8e,[["render",P8e],["__file","menu-item.vue"]]);const F8e={title:String},O8e="ElMenuItemGroup",N8e=Me({name:O8e,props:F8e,setup(){return{ns:Jt("menu-item-group")}}});function D8e(t,e,n,r,i,s){return ie(),Ee("li",{class:de(t.ns.b())},[Be("div",{class:de(t.ns.e("title"))},[t.$slots.title?tt(t.$slots,"title",{key:1}):(ie(),Ee(Wn,{key:0},[Mr(cn(t.title),1)],64))],2),Be("ul",null,[tt(t.$slots,"default")])],2)}var _ue=mn(N8e,[["render",D8e],["__file","menu-item-group.vue"]]);const k8e=Nr(L8e,{MenuItem:yue,MenuItemGroup:_ue,SubMenu:N$}),U8e=ho(yue),H8e=ho(_ue),G8e=ho(N$),V8e=hn({icon:{type:Ws,default:()=>pxe},title:String,content:{type:String,default:""}}),z8e={back:()=>!0},$8e=Me({name:"ElPageHeader"}),Q8e=Me({...$8e,props:V8e,emits:z8e,setup(t,{emit:e}){const{t:n}=ji(),r=Jt("page-header");function i(){e("back")}return(s,a)=>(ie(),Ee("div",{class:de([b(r).b(),{[b(r).m("has-breadcrumb")]:!!s.$slots.breadcrumb,[b(r).m("has-extra")]:!!s.$slots.extra,[b(r).is("contentful")]:!!s.$slots.default}])},[s.$slots.breadcrumb?(ie(),Ee("div",{key:0,class:de(b(r).e("breadcrumb"))},[tt(s.$slots,"breadcrumb")],2)):lt("v-if",!0),Be("div",{class:de(b(r).e("header"))},[Be("div",{class:de(b(r).e("left"))},[Be("div",{class:de(b(r).e("back")),role:"button",tabindex:"0",onClick:i},[s.icon||s.$slots.icon?(ie(),Ee("div",{key:0,"aria-label":s.title||b(n)("el.pageHeader.title"),class:de(b(r).e("icon"))},[tt(s.$slots,"icon",{},()=>[s.icon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(s.icon)))]),_:1})):lt("v-if",!0)])],10,["aria-label"])):lt("v-if",!0),Be("div",{class:de(b(r).e("title"))},[tt(s.$slots,"title",{},()=>[Mr(cn(s.title||b(n)("el.pageHeader.title")),1)])],2)],2),Ce(b(rue),{direction:"vertical"}),Be("div",{class:de(b(r).e("content"))},[tt(s.$slots,"content",{},()=>[Mr(cn(s.content),1)])],2)],2),s.$slots.extra?(ie(),Ee("div",{key:0,class:de(b(r).e("extra"))},[tt(s.$slots,"extra")],2)):lt("v-if",!0)],2),s.$slots.default?(ie(),Ee("div",{key:1,class:de(b(r).e("main"))},[tt(s.$slots,"default")],2)):lt("v-if",!0)],2))}});var W8e=mn(Q8e,[["__file","page-header.vue"]]);const j8e=Nr(W8e),wue=Symbol("elPaginationKey"),K8e=hn({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ws}}),q8e={click:t=>t instanceof MouseEvent},X8e=Me({name:"ElPaginationPrev"}),Y8e=Me({...X8e,props:K8e,emits:q8e,setup(t){const e=t,{t:n}=ji(),r=J(()=>e.disabled||e.currentPage<=1);return(i,s)=>(ie(),Ee("button",{type:"button",class:"btn-prev",disabled:b(r),"aria-label":i.prevText||b(n)("el.pagination.prev"),"aria-disabled":b(r),onClick:a=>i.$emit("click",a)},[i.prevText?(ie(),Ee("span",{key:0},cn(i.prevText),1)):(ie(),St(b(Vn),{key:1},{default:De(()=>[(ie(),St(li(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Z8e=mn(Y8e,[["__file","prev.vue"]]);const J8e=hn({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ws}}),eHe=Me({name:"ElPaginationNext"}),tHe=Me({...eHe,props:J8e,emits:["click"],setup(t){const e=t,{t:n}=ji(),r=J(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(ie(),Ee("button",{type:"button",class:"btn-next",disabled:b(r),"aria-label":i.nextText||b(n)("el.pagination.next"),"aria-disabled":b(r),onClick:a=>i.$emit("click",a)},[i.nextText?(ie(),Ee("span",{key:0},cn(i.nextText),1)):(ie(),St(b(Vn),{key:1},{default:De(()=>[(ie(),St(li(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var nHe=mn(tHe,[["__file","next.vue"]]);const bue=Symbol("ElSelectGroup"),QS=Symbol("ElSelect");function rHe(t,e){const n=qt(QS),r=qt(bue,{disabled:!1}),i=J(()=>h(eh(n.props.modelValue),t.value)),s=J(()=>{var A;if(n.props.multiple){const m=eh((A=n.props.modelValue)!=null?A:[]);return!i.value&&m.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=J(()=>t.label||(qr(t.value)?"":t.value)),o=J(()=>t.value||t.label||""),l=J(()=>t.disabled||e.groupDisabled||s.value),u=ni(),h=(A=[],m)=>{if(qr(t.value)){const g=n.props.valueKey;return A&&A.some(y=>Ys(qo(y,g))===qo(m,g))}else return A&&A.includes(m)},d=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},f=A=>{const m=new RegExp(y$(A),"i");e.visible=m.test(a.value)||t.created};return Ct(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Ct(()=>t.value,(A,m)=>{const{remote:g,valueKey:y}=n.props;if(A!==m&&(n.onOptionDestroy(m,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!g){if(y&&qr(A)&&qr(m)&&A[y]===m[y])return;n.setSelected()}}),Ct(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:o,itemSelected:i,isDisabled:l,hoverItem:d,updateOption:f}}const iHe=Me({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Jt("select"),n=tu(),r=J(()=>[e.be("dropdown","item"),e.is("disabled",b(o)),e.is("selected",b(a)),e.is("hovering",b(f))]),i=as({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:a,isDisabled:o,select:l,hoverItem:u,updateOption:h}=rHe(t,i),{visible:d,hover:f}=Yo(i),A=ni().proxy;l.onOptionCreate(A),Hs(()=>{const g=A.value,{selected:y}=l.states,_=y.some(x=>x.value===A.value);Zn(()=>{l.states.cachedOptions.get(g)===A&&!_&&l.states.cachedOptions.delete(g)}),l.onOptionDestroy(g,A)});function m(){o.value||l.handleOptionSelect(A)}return{ns:e,id:n,containerKls:r,currentLabel:s,itemSelected:a,isDisabled:o,select:l,hoverItem:u,updateOption:h,visible:d,hover:f,selectOptionClick:m,states:i}}});function sHe(t,e,n,r,i,s){return Br((ie(),Ee("li",{id:t.id,class:de(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:mr(t.selectOptionClick,["stop"])},[tt(t.$slots,"default",{},()=>[Be("span",null,cn(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Qi,t.visible]])}var D$=mn(iHe,[["render",sHe],["__file","option.vue"]]);const aHe=Me({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=qt(QS),e=Jt("select"),n=J(()=>t.props.popperClass),r=J(()=>t.props.multiple),i=J(()=>t.props.fitInputWidth),s=ge("");function a(){var o;s.value="".concat((o=t.selectRef)==null?void 0:o.offsetWidth,"px")}return rr(()=>{a(),so(t.selectRef,a)}),{ns:e,minWidth:s,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function oHe(t,e,n,r,i,s){return ie(),Ee("div",{class:de([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:Xn({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(ie(),Ee("div",{key:0,class:de(t.ns.be("dropdown","header"))},[tt(t.$slots,"header")],2)):lt("v-if",!0),tt(t.$slots,"default"),t.$slots.footer?(ie(),Ee("div",{key:1,class:de(t.ns.be("dropdown","footer"))},[tt(t.$slots,"footer")],2)):lt("v-if",!0)],6)}var lHe=mn(aHe,[["render",oHe],["__file","select-dropdown.vue"]]);const cHe=(t,e)=>{const{t:n}=ji(),r=tu(),i=Jt("select"),s=Jt("input"),a=as({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=ge(null),l=ge(null),u=ge(null),h=ge(null),d=ge(null),f=ge(null),A=ge(null),m=ge(null),g=ge(null),y=ge(null),_=ge(null),{isComposing:x,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:M}=bL({afterComposition:it=>ln(it)}),{wrapperRef:B,isFocused:E,handleBlur:L}=Fy(d,{beforeFocus(){return V.value},afterFocus(){t.automaticDropdown&&!I.value&&(I.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(it){var Ft,Gn;return((Ft=u.value)==null?void 0:Ft.isFocusInsideContent(it))||((Gn=h.value)==null?void 0:Gn.isFocusInsideContent(it))},afterBlur(){I.value=!1,a.menuVisibleOnFocus=!1}}),I=ge(!1),k=ge(),{form:O,formItem:F}=Cu(),{inputId:U}=SA(t,{formItemContext:F}),{valueOnClear:$,isEmptyValue:K}=o5(t),V=J(()=>t.disabled||(O==null?void 0:O.disabled)),Q=J(()=>an(t.modelValue)?t.modelValue.length>0:!K(t.modelValue)),X=J(()=>{var it;return(it=O==null?void 0:O.statusIcon)!=null?it:!1}),z=J(()=>t.clearable&&!V.value&&a.inputHovering&&Q.value),ne=J(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),he=J(()=>i.is("reverse",ne.value&&I.value)),W=J(()=>(F==null?void 0:F.validateState)||""),Y=J(()=>u5[W.value]),oe=J(()=>t.remote?300:0),fe=J(()=>t.remote&&!a.inputValue&&a.options.size===0),me=J(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&a.inputValue&&a.options.size>0&&ce.value===0?t.noMatchText||n("el.select.noMatch"):a.options.size===0?t.noDataText||n("el.select.noData"):null),ce=J(()=>be.value.filter(it=>it.visible).length),be=J(()=>{const it=Array.from(a.options.values()),Ft=[];return a.optionValues.forEach(Gn=>{const fr=it.findIndex(Gr=>Gr.value===Gn);fr>-1&&Ft.push(it[fr])}),Ft.length>=it.length?Ft:it}),xe=J(()=>Array.from(a.cachedOptions.values())),Ie=J(()=>{const it=be.value.filter(Ft=>!Ft.created).some(Ft=>Ft.currentLabel===a.inputValue);return t.filterable&&t.allowCreate&&a.inputValue!==""&&!it}),Qe=()=>{t.filterable&&Kn(t.filterMethod)||t.filterable&&t.remote&&Kn(t.remoteMethod)||be.value.forEach(it=>{var Ft;(Ft=it.updateOption)==null||Ft.call(it,a.inputValue)})},ue=al(),ye=J(()=>["small"].includes(ue.value)?"small":"default"),$e=J({get(){return I.value&&!fe.value},set(it){I.value=it}}),Ve=J(()=>{if(t.multiple&&!ps(t.modelValue))return eh(t.modelValue).length===0&&!a.inputValue;const it=an(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||ps(it)?!a.inputValue:!0}),Se=J(()=>{var it;const Ft=(it=t.placeholder)!=null?it:n("el.select.placeholder");return t.multiple||!Q.value?Ft:a.selectedLabel}),at=J(()=>P8?null:"mouseenter");Ct(()=>t.modelValue,(it,Ft)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(a.inputValue="",ft("")),gt(),!wu(it,Ft)&&t.validateEvent&&(F==null||F.validate("change").catch(Gn=>void 0))},{flush:"post",deep:!0}),Ct(()=>I.value,it=>{it?ft(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),e("visible-change",it)}),Ct(()=>a.options.entries(),()=>{Wi&&(gt(),t.defaultFirstOption&&(t.filterable||t.remote)&&ce.value&&je())},{flush:"post"}),Ct(()=>a.hoveringIndex,it=>{tr(it)&&it>-1?k.value=be.value[it]||{}:k.value={},be.value.forEach(Ft=>{Ft.hover=k.value===Ft})}),Zc(()=>{a.isBeforeHide||Qe()});const ft=it=>{a.previousQuery===it||x.value||(a.previousQuery=it,t.filterable&&Kn(t.filterMethod)?t.filterMethod(it):t.filterable&&t.remote&&Kn(t.remoteMethod)&&t.remoteMethod(it),t.defaultFirstOption&&(t.filterable||t.remote)&&ce.value?Zn(je):Zn(Te))},je=()=>{const it=be.value.filter(Gr=>Gr.visible&&!Gr.disabled&&!Gr.states.groupDisabled),Ft=it.find(Gr=>Gr.created),Gn=it[0],fr=be.value.map(Gr=>Gr.value);a.hoveringIndex=Oe(fr,Ft||Gn)},gt=()=>{if(t.multiple)a.selectedLabel="";else{const Ft=an(t.modelValue)?t.modelValue[0]:t.modelValue,Gn=vt(Ft);a.selectedLabel=Gn.currentLabel,a.selected=[Gn];return}const it=[];ps(t.modelValue)||eh(t.modelValue).forEach(Ft=>{it.push(vt(Ft))}),a.selected=it},vt=it=>{let Ft;const Gn=iM(it);for(let $r=a.cachedOptions.size-1;$r>=0;$r--){const oi=xe.value[$r];if(Gn?qo(oi.value,t.valueKey)===qo(it,t.valueKey):oi.value===it){Ft={value:it,currentLabel:oi.currentLabel,get isDisabled(){return oi.isDisabled}};break}}if(Ft)return Ft;const fr=Gn?it.label:it!=null?it:"";return{value:it,currentLabel:fr}},Te=()=>{a.hoveringIndex=be.value.findIndex(it=>a.selected.some(Ft=>Ji(Ft)===Ji(it)))},we=()=>{a.selectionWidth=l.value.getBoundingClientRect().width},Ne=()=>{a.collapseItemWidth=y.value.getBoundingClientRect().width},Ze=()=>{var it,Ft;(Ft=(it=u.value)==null?void 0:it.updatePopper)==null||Ft.call(it)},Tt=()=>{var it,Ft;(Ft=(it=h.value)==null?void 0:it.updatePopper)==null||Ft.call(it)},Zt=()=>{a.inputValue.length>0&&!I.value&&(I.value=!0),ft(a.inputValue)},ln=it=>{if(a.inputValue=it.target.value,t.remote)Ye();else return Zt()},Ye=Dd(()=>{Zt()},oe.value),yt=it=>{wu(t.modelValue,it)||e(Qs,it)},Qt=it=>lle(it,Ft=>{const Gn=a.cachedOptions.get(Ft);return Gn&&!Gn.disabled&&!Gn.states.groupDisabled}),Dt=it=>{if(t.multiple&&it.code!==Ln.delete&&it.target.value.length<=0){const Ft=eh(t.modelValue).slice(),Gn=Qt(Ft);if(Gn<0)return;const fr=Ft[Gn];Ft.splice(Gn,1),e(zr,Ft),yt(Ft),e("remove-tag",fr)}},st=(it,Ft)=>{const Gn=a.selected.indexOf(Ft);if(Gn>-1&&!V.value){const fr=eh(t.modelValue).slice();fr.splice(Gn,1),e(zr,fr),yt(fr),e("remove-tag",Ft.value)}it.stopPropagation(),Rn()},ke=it=>{it.stopPropagation();const Ft=t.multiple?[]:$.value;if(t.multiple)for(const Gn of a.selected)Gn.isDisabled&&Ft.push(Gn.value);e(zr,Ft),yt(Ft),a.hoveringIndex=-1,I.value=!1,e("clear"),Rn()},ct=it=>{var Ft;if(t.multiple){const Gn=eh((Ft=t.modelValue)!=null?Ft:[]).slice(),fr=Oe(Gn,it);fr>-1?Gn.splice(fr,1):(t.multipleLimit<=0||Gn.length<t.multipleLimit)&&Gn.push(it.value),e(zr,Gn),yt(Gn),it.created&&ft(""),t.filterable&&!t.reserveKeyword&&(a.inputValue="")}else e(zr,it.value),yt(it.value),I.value=!1;Rn(),!I.value&&Zn(()=>{kt(it)})},Oe=(it=[],Ft)=>ps(Ft)?-1:qr(Ft.value)?it.findIndex(Gn=>wu(qo(Gn,t.valueKey),Ji(Ft))):it.indexOf(Ft.value),kt=it=>{var Ft,Gn,fr,Gr,$r;const oi=an(it)?it[0]:it;let xi=null;if(oi!=null&&oi.value){const mi=be.value.filter(Lt=>Lt.value===oi.value);mi.length>0&&(xi=mi[0].$el)}if(u.value&&xi){const mi=(Gr=(fr=(Gn=(Ft=u.value)==null?void 0:Ft.popperRef)==null?void 0:Gn.contentRef)==null?void 0:fr.querySelector)==null?void 0:Gr.call(fr,".".concat(i.be("dropdown","wrap")));mi&&Jz(mi,xi)}($r=_.value)==null||$r.handleScroll()},wn=it=>{a.options.set(it.value,it),a.cachedOptions.set(it.value,it)},mt=(it,Ft)=>{a.options.get(it)===Ft&&a.options.delete(it)},Kt=J(()=>{var it,Ft;return(Ft=(it=u.value)==null?void 0:it.popperRef)==null?void 0:Ft.contentRef}),bn=()=>{a.isBeforeHide=!1,Zn(()=>kt(a.selected))},Rn=()=>{var it;(it=d.value)==null||it.focus()},On=()=>{var it;if(I.value){I.value=!1,Zn(()=>{var Ft;return(Ft=d.value)==null?void 0:Ft.blur()});return}(it=d.value)==null||it.blur()},Dn=it=>{ke(it)},Un=it=>{if(I.value=!1,E.value){const Ft=new FocusEvent("focus",it);Zn(()=>L(Ft))}},jr=()=>{a.inputValue.length>0?a.inputValue="":I.value=!1},Mi=()=>{V.value||(P8&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:I.value=!I.value)},bi=()=>{if(!I.value)Mi();else{const it=be.value[a.hoveringIndex];it&&!it.isDisabled&&ct(it)}},Ji=it=>qr(it.value)?qo(it.value,t.valueKey):it.value,br=J(()=>be.value.filter(it=>it.visible).every(it=>it.isDisabled)),fs=J(()=>t.multiple?t.collapseTags?a.selected.slice(0,t.maxCollapseTags):a.selected:[]),Di=J(()=>t.multiple?t.collapseTags?a.selected.slice(t.maxCollapseTags):[]:[]),Hi=it=>{if(!I.value){I.value=!0;return}if(!(a.options.size===0||ce.value===0||x.value)&&!br.value){it==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):it==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const Ft=be.value[a.hoveringIndex];(Ft.isDisabled||!Ft.visible)&&Hi(it),Zn(()=>kt(k.value))}},ki=()=>{if(!l.value)return 0;const it=window.getComputedStyle(l.value);return Number.parseFloat(it.gap||"6px")},ot=J(()=>{const it=ki(),Ft=y.value&&t.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-it:a.selectionWidth;return{maxWidth:"".concat(Ft,"px")}}),sn=J(()=>({maxWidth:"".concat(a.selectionWidth,"px")})),Cn=it=>{e("popup-scroll",it)};return so(l,we),so(m,Ze),so(B,Ze),so(g,Tt),so(y,Ne),rr(()=>{gt()}),{inputId:U,contentId:r,nsSelect:i,nsInput:s,states:a,isFocused:E,expanded:I,optionsArray:be,hoverOption:k,selectSize:ue,filteredOptionsCount:ce,updateTooltip:Ze,updateTagTooltip:Tt,debouncedOnInputChange:Ye,onInput:ln,deletePrevTag:Dt,deleteTag:st,deleteSelected:ke,handleOptionSelect:ct,scrollToOption:kt,hasModelValue:Q,shouldShowPlaceholder:Ve,currentPlaceholder:Se,mouseEnterEventName:at,needStatusIcon:X,showClose:z,iconComponent:ne,iconReverse:he,validateState:W,validateIcon:Y,showNewOption:Ie,updateOptions:Qe,collapseTagSize:ye,setSelected:gt,selectDisabled:V,emptyText:me,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:M,onOptionCreate:wn,onOptionDestroy:mt,handleMenuEnter:bn,focus:Rn,blur:On,handleClearClick:Dn,handleClickOutside:Un,handleEsc:jr,toggleMenu:Mi,selectOption:bi,getValueKey:Ji,navigateOptions:Hi,dropdownMenuVisible:$e,showTagList:fs,collapseTagList:Di,popupScroll:Cn,tagStyle:ot,collapseTagStyle:sn,popperRef:Kt,inputRef:d,tooltipRef:u,tagTooltipRef:h,prefixRef:f,suffixRef:A,selectRef:o,wrapperRef:B,selectionRef:l,scrollbarRef:_,menuRef:m,tagMenuRef:g,collapseItemRef:y}};var uHe=Me({name:"ElOptions",setup(t,{slots:e}){const n=qt(QS);let r=[];return()=>{var i,s;const a=(i=e.default)==null?void 0:i.call(e),o=[];function l(u){an(u)&&u.forEach(h=>{var d,f,A,m;const g=(d=(h==null?void 0:h.type)||{})==null?void 0:d.name;g==="ElOptionGroup"?l(!Qn(h.children)&&!an(h.children)&&Kn((f=h.children)==null?void 0:f.default)?(A=h.children)==null?void 0:A.default():h.children):g==="ElOption"?o.push((m=h.props)==null?void 0:m.value):an(h.children)&&l(h.children)})}return a.length&&l((s=a[0])==null?void 0:s.children),wu(o,r)||(r=o,n&&(n.states.optionValues=o)),a}}});const hHe=hn({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Sl,effect:{type:ht(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ht(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:_c.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ws,default:Hv},fitInputWidth:Boolean,suffixIcon:{type:Ws,default:Uv},tagType:{...Cv.type,default:"info"},tagEffect:{...Cv.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:ht(String),values:zv,default:"bottom-start"},fallbackPlacements:{type:ht(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...GS,...nu(["ariaLabel"])}),CX="ElSelect",dHe=Me({name:CX,componentName:CX,components:{ElSelectMenu:lHe,ElOption:D$,ElOptions:uHe,ElTag:eS,ElScrollbar:gm,ElTooltip:Eu,ElIcon:Vn},directives:{ClickOutside:Tv},props:hHe,emits:[zr,Qs,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e}){const n=J(()=>{const{modelValue:l,multiple:u}=t,h=u?[]:void 0;return an(l)?u?l:h:u?h:l}),r=as({...Yo(t),modelValue:n}),i=cHe(r,e),{calculatorRef:s,inputStyle:a}=O$();dr(QS,as({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const o=J(()=>t.multiple?i.states.selected.map(l=>l.currentLabel):i.states.selectedLabel);return{...i,modelValue:n,selectedLabel:o,calculatorRef:s,inputStyle:a}}});function fHe(t,e,n,r,i,s){const a=Nn("el-tag"),o=Nn("el-tooltip"),l=Nn("el-icon"),u=Nn("el-option"),h=Nn("el-options"),d=Nn("el-scrollbar"),f=Nn("el-select-menu"),A=dL("click-outside");return Br((ie(),Ee("div",{ref:"selectRef",class:de([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[vT(t.mouseEnterEventName)]:m=>t.states.inputHovering=!0,onMouseleave:m=>t.states.inputHovering=!1},[Ce(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:"".concat(t.nsSelect.namespace.value,"-zoom-in-top"),"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:m=>t.states.isBeforeHide=!1},{default:De(()=>{var m;return[Be("div",{ref:"wrapperRef",class:de([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:mr(t.toggleMenu,["prevent"])},[t.$slots.prefix?(ie(),Ee("div",{key:0,ref:"prefixRef",class:de(t.nsSelect.e("prefix"))},[tt(t.$slots,"prefix")],2)):lt("v-if",!0),Be("div",{ref:"selectionRef",class:de([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?tt(t.$slots,"tag",{key:0},()=>[(ie(!0),Ee(Wn,null,wi(t.showTagList,g=>(ie(),Ee("div",{key:t.getValueKey(g),class:de(t.nsSelect.e("selected-item"))},[Ce(a,{closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Xn(t.tagStyle),onClose:y=>t.deleteTag(y,g)},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))},[tt(t.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Mr(cn(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(ie(),St(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:De(()=>[Be("div",{ref:"collapseItemRef",class:de(t.nsSelect.e("selected-item"))},[Ce(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Xn(t.collapseTagStyle)},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))}," + "+cn(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:De(()=>[Be("div",{ref:"tagMenuRef",class:de(t.nsSelect.e("selection"))},[(ie(!0),Ee(Wn,null,wi(t.collapseTagList,g=>(ie(),Ee("div",{key:t.getValueKey(g),class:de(t.nsSelect.e("selected-item"))},[Ce(a,{class:"in-tooltip",closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:y=>t.deleteTag(y,g)},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))},[tt(t.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Mr(cn(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):lt("v-if",!0)]):lt("v-if",!0),Be("div",{class:de([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Br(Be("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":g=>t.states.inputValue=g,type:"text",name:t.name,class:de([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Xn(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((m=t.hoverOption)==null?void 0:m.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[$s(mr(g=>t.navigateOptions("next"),["stop","prevent"]),["down"]),$s(mr(g=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),$s(mr(t.handleEsc,["stop","prevent"]),["esc"]),$s(mr(t.selectOption,["stop","prevent"]),["enter"]),$s(mr(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:mr(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[KN,t.states.inputValue]]),t.filterable?(ie(),Ee("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:de(t.nsSelect.e("input-calculator")),textContent:cn(t.states.inputValue)},null,10,["textContent"])):lt("v-if",!0)],2),t.shouldShowPlaceholder?(ie(),Ee("div",{key:1,class:de([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?tt(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Be("span",null,cn(t.currentPlaceholder),1)]):(ie(),Ee("span",{key:1},cn(t.currentPlaceholder),1))],2)):lt("v-if",!0)],2),Be("div",{ref:"suffixRef",class:de(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(ie(),St(l,{key:0,class:de([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:De(()=>[(ie(),St(li(t.iconComponent)))]),_:1},8,["class"])):lt("v-if",!0),t.showClose&&t.clearIcon?(ie(),St(l,{key:1,class:de([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:De(()=>[(ie(),St(li(t.clearIcon)))]),_:1},8,["class","onClick"])):lt("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(ie(),St(l,{key:2,class:de([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:De(()=>[(ie(),St(li(t.validateIcon)))]),_:1},8,["class"])):lt("v-if",!0)],2)],10,["onClick"])]}),content:De(()=>[Ce(f,{ref:"menuRef"},{default:De(()=>[t.$slots.header?(ie(),Ee("div",{key:0,class:de(t.nsSelect.be("dropdown","header")),onClick:mr(()=>{},["stop"])},[tt(t.$slots,"header")],10,["onClick"])):lt("v-if",!0),Br(Ce(d,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:de([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:De(()=>[t.showNewOption?(ie(),St(u,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):lt("v-if",!0),Ce(h,null,{default:De(()=>[tt(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Qi,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(ie(),Ee("div",{key:1,class:de(t.nsSelect.be("dropdown","loading"))},[tt(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(ie(),Ee("div",{key:2,class:de(t.nsSelect.be("dropdown","empty"))},[tt(t.$slots,"empty",{},()=>[Be("span",null,cn(t.emptyText),1)])],2)):lt("v-if",!0),t.$slots.footer?(ie(),Ee("div",{key:3,class:de(t.nsSelect.be("dropdown","footer")),onClick:mr(()=>{},["stop"])},[tt(t.$slots,"footer")],10,["onClick"])):lt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[A,t.handleClickOutside,t.popperRef]])}var AHe=mn(dHe,[["render",fHe],["__file","select.vue"]]);const pHe=Me({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Jt("select"),n=ge(null),r=ni(),i=ge([]);dr(bue,as({...Yo(t)}));const s=J(()=>i.value.some(u=>u.visible===!0)),a=u=>{var h,d;return((h=u.type)==null?void 0:h.name)==="ElOption"&&!!((d=u.component)!=null&&d.proxy)},o=u=>{const h=eh(u),d=[];return h.forEach(f=>{var A,m;a(f)?d.push(f.component.proxy):(A=f.children)!=null&&A.length?d.push(...o(f.children)):(m=f.component)!=null&&m.subTree&&d.push(...o(f.component.subTree))}),d},l=()=>{i.value=o(r.subTree)};return rr(()=>{l()}),ple(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:s,ns:e}}});function gHe(t,e,n,r,i,s){return Br((ie(),Ee("ul",{ref:"groupRef",class:de(t.ns.be("group","wrap"))},[Be("li",{class:de(t.ns.be("group","title"))},cn(t.label),3),Be("li",null,[Be("ul",{class:de(t.ns.b("group"))},[tt(t.$slots,"default")],2)])],2)),[[Qi,t.visible]])}var xue=mn(pHe,[["render",gHe],["__file","option-group.vue"]]);const W1=Nr(AHe,{Option:D$,OptionGroup:xue}),iO=ho(D$),mHe=ho(xue),k$=()=>qt(wue,{}),vHe=hn({pageSize:{type:Number,required:!0},pageSizes:{type:ht(Array),default:()=>ao([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:pm},appendSizeTo:String}),yHe=Me({name:"ElPaginationSizes"}),_He=Me({...yHe,props:vHe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=ji(),i=Jt("pagination"),s=k$(),a=ge(n.pageSize);Ct(()=>n.pageSizes,(u,h)=>{if(!wu(u,h)&&an(u)){const d=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),Ct(()=>n.pageSize,u=>{a.value=u});const o=J(()=>n.pageSizes);function l(u){var h;u!==a.value&&(a.value=u,(h=s.handleSizeChange)==null||h.call(s,Number(u)))}return(u,h)=>(ie(),Ee("span",{class:de(b(i).e("sizes"))},[Ce(b(W1),{"model-value":a.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(b(o),d=>(ie(),St(b(iO),{key:d,value:d,label:d+b(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var wHe=mn(_He,[["__file","sizes.vue"]]);const bHe=hn({size:{type:String,values:pm}}),xHe=Me({name:"ElPaginationJumper"}),EHe=Me({...xHe,props:bHe,setup(t){const{t:e}=ji(),n=Jt("pagination"),{pageCount:r,disabled:i,currentPage:s,changeEvent:a}=k$(),o=ge(),l=J(()=>{var d;return(d=o.value)!=null?d:s==null?void 0:s.value});function u(d){o.value=d?+d:""}function h(d){d=Math.trunc(+d),a==null||a(d),o.value=void 0}return(d,f)=>(ie(),Ee("span",{class:de(b(n).e("jump")),disabled:b(i)},[Be("span",{class:de([b(n).e("goto")])},cn(b(e)("el.pagination.goto")),3),Ce(b(sh),{size:d.size,class:de([b(n).e("editor"),b(n).is("in-pagination")]),min:1,max:b(r),disabled:b(i),"model-value":b(l),"validate-event":!1,"aria-label":b(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:h},null,8,["size","class","max","disabled","model-value","aria-label"]),Be("span",{class:de([b(n).e("classifier")])},cn(b(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var SHe=mn(EHe,[["__file","jumper.vue"]]);const CHe=hn({total:{type:Number,default:1e3}}),THe=Me({name:"ElPaginationTotal"}),MHe=Me({...THe,props:CHe,setup(t){const{t:e}=ji(),n=Jt("pagination"),{disabled:r}=k$();return(i,s)=>(ie(),Ee("span",{class:de(b(n).e("total")),disabled:b(r)},cn(b(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var LHe=mn(MHe,[["__file","total.vue"]]);const BHe=hn({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),RHe=Me({name:"ElPaginationPager"}),IHe=Me({...RHe,props:BHe,emits:["change"],setup(t,{emit:e}){const n=t,r=Jt("pager"),i=Jt("icon"),{t:s}=ji(),a=ge(!1),o=ge(!1),l=ge(!1),u=ge(!1),h=ge(!1),d=ge(!1),f=J(()=>{const C=n.pagerCount,M=(C-1)/2,B=Number(n.currentPage),E=Number(n.pageCount);let L=!1,I=!1;E>C&&(B>C-M&&(L=!0),B<E-M&&(I=!0));const k=[];if(L&&!I){const O=E-(C-2);for(let F=O;F<E;F++)k.push(F)}else if(!L&&I)for(let O=2;O<C;O++)k.push(O);else if(L&&I){const O=Math.floor(C/2)-1;for(let F=B-O;F<=B+O;F++)k.push(F)}else for(let O=2;O<E;O++)k.push(O);return k}),A=J(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),m=J(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),g=J(()=>n.disabled?-1:0);Zc(()=>{const C=(n.pagerCount-1)/2;a.value=!1,o.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-C&&(a.value=!0),n.currentPage<n.pageCount-C&&(o.value=!0))});function y(C=!1){n.disabled||(C?l.value=!0:u.value=!0)}function _(C=!1){C?h.value=!0:d.value=!0}function x(C){const M=C.target;if(M.tagName.toLowerCase()==="li"&&Array.from(M.classList).includes("number")){const B=Number(M.textContent);B!==n.currentPage&&e("change",B)}else M.tagName.toLowerCase()==="li"&&Array.from(M.classList).includes("more")&&S(C)}function S(C){const M=C.target;if(M.tagName.toLowerCase()==="ul"||n.disabled)return;let B=Number(M.textContent);const E=n.pageCount,L=n.currentPage,I=n.pagerCount-2;M.className.includes("more")&&(M.className.includes("quickprev")?B=L-I:M.className.includes("quicknext")&&(B=L+I)),Number.isNaN(+B)||(B<1&&(B=1),B>E&&(B=E)),B!==L&&e("change",B)}return(C,M)=>(ie(),Ee("ul",{class:de(b(r).b()),onClick:S,onKeyup:$s(x,["enter"])},[C.pageCount>0?(ie(),Ee("li",{key:0,class:de([[b(r).is("active",C.currentPage===1),b(r).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===1,"aria-label":b(s)("el.pagination.currentPage",{pager:1}),tabindex:b(g)}," 1 ",10,["aria-current","aria-label","tabindex"])):lt("v-if",!0),a.value?(ie(),Ee("li",{key:1,class:de(b(A)),tabindex:b(g),"aria-label":b(s)("el.pagination.prevPages",{pager:C.pagerCount-2}),onMouseenter:B=>y(!0),onMouseleave:B=>l.value=!1,onFocus:B=>_(!0),onBlur:B=>h.value=!1},[(l.value||h.value)&&!C.disabled?(ie(),St(b(Ay),{key:0})):(ie(),St(b(eK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):lt("v-if",!0),(ie(!0),Ee(Wn,null,wi(b(f),B=>(ie(),Ee("li",{key:B,class:de([[b(r).is("active",C.currentPage===B),b(r).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===B,"aria-label":b(s)("el.pagination.currentPage",{pager:B}),tabindex:b(g)},cn(B),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(ie(),Ee("li",{key:2,class:de(b(m)),tabindex:b(g),"aria-label":b(s)("el.pagination.nextPages",{pager:C.pagerCount-2}),onMouseenter:B=>y(),onMouseleave:B=>u.value=!1,onFocus:B=>_(),onBlur:B=>d.value=!1},[(u.value||d.value)&&!C.disabled?(ie(),St(b(py),{key:0})):(ie(),St(b(eK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):lt("v-if",!0),C.pageCount>1?(ie(),Ee("li",{key:3,class:de([[b(r).is("active",C.currentPage===C.pageCount),b(r).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===C.pageCount,"aria-label":b(s)("el.pagination.currentPage",{pager:C.pageCount}),tabindex:b(g)},cn(C.pageCount),11,["aria-current","aria-label","tabindex"])):lt("v-if",!0)],42,["onKeyup"]))}});var PHe=mn(IHe,[["__file","pager.vue"]]);const Th=t=>typeof t!="number",FHe=hn({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>tr(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ht(Array),default:()=>ao([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ws,default:()=>Ev},nextText:{type:String,default:""},nextIcon:{type:Ws,default:()=>oh},teleported:{type:Boolean,default:!0},small:Boolean,size:Sl,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),OHe={"update:current-page":t=>tr(t),"update:page-size":t=>tr(t),"size-change":t=>tr(t),change:(t,e)=>tr(t)&&tr(e),"current-change":t=>tr(t),"prev-click":t=>tr(t),"next-click":t=>tr(t)},TX="ElPagination";var NHe=Me({name:TX,props:FHe,emits:OHe,setup(t,{emit:e,slots:n}){const{t:r}=ji(),i=Jt("pagination"),s=ni().vnode.props||{},a=ble(),o=J(()=>{var M;return t.small?"small":(M=t.size)!=null?M:a.value});iy({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},J(()=>!!t.small));const l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,u="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,h=J(()=>{if(Th(t.total)&&Th(t.pageCount)||!Th(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Th(t.pageCount)){if(!Th(t.total)&&!Th(t.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),d=ge(Th(t.defaultPageSize)?10:t.defaultPageSize),f=ge(Th(t.defaultCurrentPage)?1:t.defaultCurrentPage),A=J({get(){return Th(t.pageSize)?d.value:t.pageSize},set(M){Th(t.pageSize)&&(d.value=M),u&&(e("update:page-size",M),e("size-change",M))}}),m=J(()=>{let M=0;return Th(t.pageCount)?Th(t.total)||(M=Math.max(1,Math.ceil(t.total/A.value))):M=t.pageCount,M}),g=J({get(){return Th(t.currentPage)?f.value:t.currentPage},set(M){let B=M;M<1?B=1:M>m.value&&(B=m.value),Th(t.currentPage)&&(f.value=B),l&&(e("update:current-page",B),e("current-change",B))}});Ct(m,M=>{g.value>M&&(g.value=M)}),Ct([g,A],M=>{e("change",...M)},{flush:"post"});function y(M){g.value=M}function _(M){A.value=M;const B=m.value;g.value>B&&(g.value=B)}function x(){t.disabled||(g.value-=1,e("prev-click",g.value))}function S(){t.disabled||(g.value+=1,e("next-click",g.value))}function C(M,B){M&&(M.props||(M.props={}),M.props.class=[M.props.class,B].join(" "))}return dr(wue,{pageCount:m,disabled:J(()=>t.disabled),currentPage:g,changeEvent:y,handleSizeChange:_}),()=>{var M,B;if(!h.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&m.value<=1)return null;const E=[],L=[],I=lr("div",{class:i.e("rightwrapper")},L),k={prev:lr(Z8e,{disabled:t.disabled,currentPage:g.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:x}),jumper:lr(SHe,{size:o.value}),pager:lr(PHe,{currentPage:g.value,pageCount:m.value,pagerCount:t.pagerCount,onChange:y,disabled:t.disabled}),next:lr(nHe,{disabled:t.disabled,currentPage:g.value,pageCount:m.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:S}),sizes:lr(wHe,{pageSize:A.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:o.value,appendSizeTo:t.appendSizeTo}),slot:(B=(M=n==null?void 0:n.default)==null?void 0:M.call(n))!=null?B:null,total:lr(LHe,{total:Th(t.total)?0:t.total})},O=t.layout.split(",").map(U=>U.trim());let F=!1;return O.forEach(U=>{if(U==="->"){F=!0;return}F?L.push(k[U]):E.push(k[U])}),C(E[0],i.is("first")),C(E[E.length-1],i.is("last")),F&&L.length>0&&(C(L[0],i.is("first")),C(L[L.length-1],i.is("last")),E.push(I)),lr("div",{class:[i.b(),i.is("background",t.background),i.m(o.value)]},E)}}});const DHe=Nr(NHe),kHe=hn({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:O8,default:"primary"},cancelButtonType:{type:String,values:O8,default:"text"},icon:{type:Ws,default:()=>cEe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:_c.teleported,persistent:_c.persistent,width:{type:[String,Number],default:150}}),UHe={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},HHe=Me({name:"ElPopconfirm"}),GHe=Me({...HHe,props:kHe,emits:UHe,setup(t,{emit:e}){const n=t,{t:r}=ji(),i=Jt("popconfirm"),s=ge(),a=()=>{var f,A;(A=(f=s.value)==null?void 0:f.onClose)==null||A.call(f)},o=J(()=>({width:xo(n.width)})),l=f=>{e("confirm",f),a()},u=f=>{e("cancel",f),a()},h=J(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),d=J(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(f,A)=>(ie(),St(b(Eu),hi({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},f.$attrs,{"popper-class":"".concat(b(i).namespace.value,"-popover"),"popper-style":b(o),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:De(()=>[Be("div",{class:de(b(i).b())},[Be("div",{class:de(b(i).e("main"))},[!f.hideIcon&&f.icon?(ie(),St(b(Vn),{key:0,class:de(b(i).e("icon")),style:Xn({color:f.iconColor})},{default:De(()=>[(ie(),St(li(f.icon)))]),_:1},8,["class","style"])):lt("v-if",!0),Mr(" "+cn(f.title),1)],2),Be("div",{class:de(b(i).e("action"))},[tt(f.$slots,"actions",{confirm:l,cancel:u},()=>[Ce(b(Sc),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:u},{default:De(()=>[Mr(cn(b(d)),1)]),_:1},8,["type","text"]),Ce(b(Sc),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:De(()=>[Mr(cn(b(h)),1)]),_:1},8,["type","text"])])],2)],2)]),default:De(()=>[f.$slots.reference?tt(f.$slots,"reference",{key:0}):lt("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var VHe=mn(GHe,[["__file","popconfirm.vue"]]);const zHe=Nr(VHe),$He=hn({trigger:wM.trigger,placement:jP.placement,disabled:wM.disabled,visible:_c.visible,transition:_c.transition,popperOptions:jP.popperOptions,tabindex:jP.tabindex,content:_c.content,popperStyle:_c.popperStyle,popperClass:_c.popperClass,enterable:{..._c.enterable,default:!0},effect:{..._c.effect,default:"light"},teleported:_c.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),QHe={"update:visible":t=>Js(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},WHe="onUpdate:visible",jHe=Me({name:"ElPopover"}),KHe=Me({...jHe,props:$He,emits:QHe,setup(t,{expose:e,emit:n}){const r=t,i=J(()=>r[WHe]),s=Jt("popover"),a=ge(),o=J(()=>{var y;return(y=b(a))==null?void 0:y.popperRef}),l=J(()=>[{width:xo(r.width)},r.popperStyle]),u=J(()=>[s.b(),r.popperClass,{[s.m("plain")]:!!r.content}]),h=J(()=>r.transition==="".concat(s.namespace.value,"-fade-in-linear")),d=()=>{var y;(y=a.value)==null||y.hide()},f=()=>{n("before-enter")},A=()=>{n("before-leave")},m=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:o,hide:d}),(y,_)=>(ie(),St(b(Eu),hi({ref_key:"tooltipRef",ref:a},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":b(u),"popper-style":b(l),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":b(h),"onUpdate:visible":b(i),onBeforeShow:f,onBeforeHide:A,onShow:m,onHide:g}),{content:De(()=>[y.title?(ie(),Ee("div",{key:0,class:de(b(s).e("title")),role:"title"},cn(y.title),3)):lt("v-if",!0),tt(y.$slots,"default",{},()=>[Mr(cn(y.content),1)])]),default:De(()=>[y.$slots.reference?tt(y.$slots,"reference",{key:0}):lt("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var qHe=mn(KHe,[["__file","popover.vue"]]);const MX=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var XHe={mounted(t,e){MX(t,e)},updated(t,e){MX(t,e)}};const YHe="popover",Eue=RIe(XHe,YHe),ZHe=Nr(qHe,{directive:Eue}),JHe=hn({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ht(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ht([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ht(Function),default:t=>"".concat(t,"%")}}),eGe=Me({name:"ElProgress"}),tGe=Me({...eGe,props:JHe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Jt("progress"),i=J(()=>{const S={width:"".concat(e.percentage,"%"),animationDuration:"".concat(e.duration,"s")},C=x(e.percentage);return C.includes("gradient")?S.background=C:S.backgroundColor=C,S}),s=J(()=>(e.strokeWidth/e.width*100).toFixed(1)),a=J(()=>["circle","dashboard"].includes(e.type)?Number.parseInt("".concat(50-Number.parseFloat(s.value)/2),10):0),o=J(()=>{const S=a.value,C=e.type==="dashboard";return"\n          M 50 50\n          m 0 ".concat(C?"":"-").concat(S,"\n          a ").concat(S," ").concat(S," 0 1 1 0 ").concat(C?"-":"").concat(S*2,"\n          a ").concat(S," ").concat(S," 0 1 1 0 ").concat(C?"":"-").concat(S*2,"\n          ")}),l=J(()=>2*Math.PI*a.value),u=J(()=>e.type==="dashboard"?.75:1),h=J(()=>{const S=-1*l.value*(1-u.value)/2;return"".concat(S,"px")}),d=J(()=>({strokeDasharray:"".concat(l.value*u.value,"px, ").concat(l.value,"px"),strokeDashoffset:h.value})),f=J(()=>({strokeDasharray:"".concat(l.value*u.value*(e.percentage/100),"px, ").concat(l.value,"px"),strokeDashoffset:h.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),A=J(()=>{let S;return e.color?S=x(e.percentage):S=n[e.status]||n.default,S}),m=J(()=>e.status==="warning"?XN:e.type==="line"?e.status==="success"?Bz:Hv:e.status==="success"?AL:wp),g=J(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=J(()=>e.format(e.percentage));function _(S){const C=100/S.length;return S.map((B,E)=>Qn(B)?{color:B,percentage:(E+1)*C}:B).sort((B,E)=>B.percentage-E.percentage)}const x=S=>{var C;const{color:M}=e;if(Kn(M))return M(S);if(Qn(M))return M;{const B=_(M);for(const E of B)if(E.percentage>S)return E.color;return(C=B[B.length-1])==null?void 0:C.color}};return(S,C)=>(ie(),Ee("div",{class:de([b(r).b(),b(r).m(S.type),b(r).is(S.status),{[b(r).m("without-text")]:!S.showText,[b(r).m("text-inside")]:S.textInside}]),role:"progressbar","aria-valuenow":S.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[S.type==="line"?(ie(),Ee("div",{key:0,class:de(b(r).b("bar"))},[Be("div",{class:de(b(r).be("bar","outer")),style:Xn({height:"".concat(S.strokeWidth,"px")})},[Be("div",{class:de([b(r).be("bar","inner"),{[b(r).bem("bar","inner","indeterminate")]:S.indeterminate},{[b(r).bem("bar","inner","striped")]:S.striped},{[b(r).bem("bar","inner","striped-flow")]:S.stripedFlow}]),style:Xn(b(i))},[(S.showText||S.$slots.default)&&S.textInside?(ie(),Ee("div",{key:0,class:de(b(r).be("bar","innerText"))},[tt(S.$slots,"default",{percentage:S.percentage},()=>[Be("span",null,cn(b(y)),1)])],2)):lt("v-if",!0)],6)],6)],2)):(ie(),Ee("div",{key:1,class:de(b(r).b("circle")),style:Xn({height:"".concat(S.width,"px"),width:"".concat(S.width,"px")})},[(ie(),Ee("svg",{viewBox:"0 0 100 100"},[Be("path",{class:de(b(r).be("circle","track")),d:b(o),stroke:"var(".concat(b(r).cssVarName("fill-color-light"),", #e5e9f2)"),"stroke-linecap":S.strokeLinecap,"stroke-width":b(s),fill:"none",style:Xn(b(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Be("path",{class:de(b(r).be("circle","path")),d:b(o),stroke:b(A),fill:"none",opacity:S.percentage?1:0,"stroke-linecap":S.strokeLinecap,"stroke-width":b(s),style:Xn(b(f))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(S.showText||S.$slots.default)&&!S.textInside?(ie(),Ee("div",{key:2,class:de(b(r).e("text")),style:Xn({fontSize:"".concat(b(g),"px")})},[tt(S.$slots,"default",{percentage:S.percentage},()=>[S.status?(ie(),St(b(Vn),{key:1},{default:De(()=>[(ie(),St(li(b(m))))]),_:1})):(ie(),Ee("span",{key:0},cn(b(y)),1))])],6)):lt("v-if",!0)],10,["aria-valuenow"]))}});var nGe=mn(tGe,[["__file","progress.vue"]]);const Sue=Nr(nGe),rGe=hn({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ht([Array,Object]),default:()=>ao(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ht([Array,Object]),default:()=>[dR,dR,dR]},voidIcon:{type:Ws,default:()=>IEe},disabledVoidIcon:{type:Ws,default:()=>dR},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ht(Array),default:()=>ao(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Sl,clearable:Boolean,...nu(["ariaLabel"])}),iGe={[Qs]:t=>tr(t),[zr]:t=>tr(t)},sGe=Me({name:"ElRate"}),aGe=Me({...sGe,props:rGe,emits:iGe,setup(t,{expose:e,emit:n}){const r=t;function i(V,Q){const X=he=>qr(he),z=Object.keys(Q).map(he=>+he).filter(he=>{const W=Q[he];return(X(W)?W.excluded:!1)?V<he:V<=he}).sort((he,W)=>he-W),ne=Q[z[0]];return X(ne)&&ne.value||ne}const s=qt(Aw,void 0),a=qt(lm,void 0),o=al(),l=Jt("rate"),{inputId:u,isLabeledByFormItem:h}=SA(r,{formItemContext:a}),d=ge(r.modelValue),f=ge(-1),A=ge(!0),m=J(()=>[l.b(),l.m(o.value)]),g=J(()=>r.disabled||(s==null?void 0:s.disabled)),y=J(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":C.value})),_=J(()=>{let V="";return r.showScore?V=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?"".concat(r.modelValue):"".concat(d.value)):r.showText&&(V=r.texts[Math.ceil(d.value)-1]),V}),x=J(()=>r.modelValue*100-Math.floor(r.modelValue)*100),S=J(()=>an(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),C=J(()=>{const V=i(d.value,S.value);return qr(V)?"":V}),M=J(()=>{let V="";return g.value?V="".concat(x.value,"%"):r.allowHalf&&(V="50%"),{color:C.value,width:V}}),B=J(()=>{let V=an(r.icons)?[...r.icons]:{...r.icons};return V=ry(V),an(V)?{[r.lowThreshold]:V[0],[r.highThreshold]:{value:V[1],excluded:!0},[r.max]:V[2]}:V}),E=J(()=>i(r.modelValue,B.value)),L=J(()=>g.value?Qn(r.disabledVoidIcon)?r.disabledVoidIcon:ry(r.disabledVoidIcon):Qn(r.voidIcon)?r.voidIcon:ry(r.voidIcon)),I=J(()=>i(d.value,B.value));function k(V){const Q=g.value&&x.value>0&&V-1<r.modelValue&&V>r.modelValue,X=r.allowHalf&&A.value&&V-.5<=d.value&&V>d.value;return Q||X}function O(V){r.clearable&&V===r.modelValue&&(V=0),n(zr,V),r.modelValue!==V&&n("change",V)}function F(V){g.value||(r.allowHalf&&A.value?O(d.value):O(V))}function U(V){if(g.value)return;let Q=d.value;const X=V.code;return X===Ln.up||X===Ln.right?(r.allowHalf?Q+=.5:Q+=1,V.stopPropagation(),V.preventDefault()):(X===Ln.left||X===Ln.down)&&(r.allowHalf?Q-=.5:Q-=1,V.stopPropagation(),V.preventDefault()),Q=Q<0?0:Q,Q=Q>r.max?r.max:Q,n(zr,Q),n("change",Q),Q}function $(V,Q){if(!g.value){if(r.allowHalf&&Q){let X=Q.target;Rd(X,l.e("item"))&&(X=X.querySelector(".".concat(l.e("icon")))),(X.clientWidth===0||Rd(X,l.e("decimal")))&&(X=X.parentNode),A.value=Q.offsetX*2<=X.clientWidth,d.value=A.value?V-.5:V}else d.value=V;f.value=V}}function K(){g.value||(r.allowHalf&&(A.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return Ct(()=>r.modelValue,V=>{d.value=V,A.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(zr,0),e({setCurrentValue:$,resetCurrentValue:K}),(V,Q)=>{var X;return ie(),Ee("div",{id:b(u),class:de([b(m),b(l).is("disabled",b(g))]),role:"slider","aria-label":b(h)?void 0:V.ariaLabel||"rating","aria-labelledby":b(h)?(X=b(a))==null?void 0:X.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":b(_)||void 0,"aria-valuemin":"0","aria-valuemax":V.max,tabindex:"0",style:Xn(b(y)),onKeydown:U},[(ie(!0),Ee(Wn,null,wi(V.max,(z,ne)=>(ie(),Ee("span",{key:ne,class:de(b(l).e("item")),onMousemove:he=>$(z,he),onMouseleave:K,onClick:he=>F(z)},[Ce(b(Vn),{class:de([b(l).e("icon"),{hover:f.value===z},b(l).is("active",z<=d.value)])},{default:De(()=>[k(z)?lt("v-if",!0):(ie(),Ee(Wn,{key:0},[Br((ie(),St(li(b(I)),null,null,512)),[[Qi,z<=d.value]]),Br((ie(),St(li(b(L)),null,null,512)),[[Qi,!(z<=d.value)]])],64)),k(z)?(ie(),Ee(Wn,{key:1},[(ie(),St(li(b(L)),{class:de([b(l).em("decimal","box")])},null,8,["class"])),Ce(b(Vn),{style:Xn(b(M)),class:de([b(l).e("icon"),b(l).e("decimal")])},{default:De(()=>[(ie(),St(li(b(E))))]),_:1},8,["style","class"])],64)):lt("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),V.showText||V.showScore?(ie(),Ee("span",{key:0,class:de(b(l).e("text")),style:Xn({color:V.textColor})},cn(b(_)),7)):lt("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var oGe=mn(aGe,[["__file","rate.vue"]]);const lGe=Nr(oGe),Vx={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},LX={[Vx.success]:Sxe,[Vx.warning]:XN,[Vx.error]:Rz,[Vx.info]:qN},cGe=hn({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),uGe=Me({name:"ElResult"}),hGe=Me({...uGe,props:cGe,setup(t){const e=t,n=Jt("result"),r=J(()=>{const i=e.icon,s=i&&Vx[i]?Vx[i]:"icon-info",a=LX[s]||LX["icon-info"];return{class:s,component:a}});return(i,s)=>(ie(),Ee("div",{class:de(b(n).b())},[Be("div",{class:de(b(n).e("icon"))},[tt(i.$slots,"icon",{},()=>[b(r).component?(ie(),St(li(b(r).component),{key:0,class:de(b(r).class)},null,8,["class"])):lt("v-if",!0)])],2),i.title||i.$slots.title?(ie(),Ee("div",{key:0,class:de(b(n).e("title"))},[tt(i.$slots,"title",{},()=>[Be("p",null,cn(i.title),1)])],2)):lt("v-if",!0),i.subTitle||i.$slots["sub-title"]?(ie(),Ee("div",{key:1,class:de(b(n).e("subtitle"))},[tt(i.$slots,"sub-title",{},()=>[Be("p",null,cn(i.subTitle),1)])],2)):lt("v-if",!0),i.$slots.extra?(ie(),Ee("div",{key:2,class:de(b(n).e("extra"))},[tt(i.$slots,"extra")],2)):lt("v-if",!0)],2))}});var dGe=mn(hGe,[["__file","result.vue"]]);const fGe=Nr(dGe),AGe=["start","center","end","space-around","space-between","space-evenly"],pGe=["top","middle","bottom"],gGe=hn({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:AGe,default:"start"},align:{type:String,values:pGe}}),mGe=Me({name:"ElRow"}),vGe=Me({...mGe,props:gGe,setup(t){const e=t,n=Jt("row"),r=J(()=>e.gutter);dr(Ice,{gutter:r});const i=J(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft="-".concat(e.gutter/2,"px")),a}),s=J(()=>[n.b(),n.is("justify-".concat(e.justify),e.justify!=="start"),n.is("align-".concat(e.align),!!e.align)]);return(a,o)=>(ie(),St(li(a.tag),{class:de(b(s)),style:Xn(b(i))},{default:De(()=>[tt(a.$slots,"default")]),_:3},8,["class","style"]))}});var yGe=mn(vGe,[["__file","row.vue"]]);const _Ge=Nr(yGe),wGe=Me({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Jt("select")}}});function bGe(t,e,n,r,i,s){return ie(),Ee("div",{class:de(t.ns.be("group","title")),style:Xn({...t.style,lineHeight:"".concat(t.height,"px")})},cn(t.item.label),7)}var xGe=mn(wGe,[["render",bGe],["__file","group-item.vue"]]);function EGe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Cue={label:"label",value:"value",disabled:"disabled",options:"options"};function y5(t){const e=J(()=>({...Cue,...t.props}));return{aliasProps:e,getLabel:a=>qo(a,e.value.label),getValue:a=>qo(a,e.value.value),getDisabled:a=>qo(a,e.value.disabled),getOptions:a=>qo(a,e.value.options)}}const SGe=hn({allowCreate:Boolean,autocomplete:{type:ht(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Ws,default:Hv},effect:{type:ht(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ht([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ht(Array),required:!0},placeholder:{type:String},teleported:_c.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ht(Object),default:()=>({})},remote:Boolean,size:Sl,props:{type:ht(Object),default:()=>Cue},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:ht(String),values:zv,default:"bottom-start"},fallbackPlacements:{type:ht(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Cv.type,default:"info"},tagEffect:{...Cv.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(t){return Js(t)||tr(t)}},...GS,...nu(["ariaLabel"])}),CGe=hn({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ht(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),TGe={[zr]:t=>!0,[Qs]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},MGe={hover:t=>tr(t),select:(t,e)=>!0},U$=Symbol("ElSelectV2Injection"),LGe=Me({props:CGe,emits:MGe,setup(t,{emit:e}){const n=qt(U$),r=Jt("select"),{hoverItem:i,selectOptionClick:s}=EGe(t,{emit:e}),{getLabel:a}=y5(n.props);return{ns:r,hoverItem:i,selectOptionClick:s,getLabel:a}}});function BGe(t,e,n,r,i,s){return ie(),Ee("li",{"aria-selected":t.selected,style:Xn(t.style),class:de([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:mr(t.selectOptionClick,["stop"])},[tt(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Be("span",null,cn(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var RGe=mn(LGe,[["render",BGe],["__file","option-item.vue"]]),BX=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IGe(t,e){return!!(t===e||BX(t)&&BX(e))}function PGe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!IGe(t[n],e[n]))return!1;return!0}function FGe(t,e){e===void 0&&(e=PGe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const Tue=()=>{const e=ni().proxy.$props;return J(()=>{const n=(r,i,s)=>({});return e.perfMode?r5(n):FGe(n)})},nH=50,sO="itemRendered",aO="scroll",zx="forward",oO="backward",lA="auto",_5="smart",SM="start",Qg="center",CM="end",nS="horizontal",H$="vertical",OGe="ltr",yE="rtl",TM="negative",G$="positive-ascending",V$="positive-descending",NGe={[nS]:"left",[H$]:"top"},DGe=20,kGe={[nS]:"deltaX",[H$]:"deltaY"},UGe=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,s=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{Q1(i);const u=l[kGe[n.value]];a(s)&&a(s+u)||(s+=u,h5()||l.preventDefault(),i=my(()=>{r(s),s=0}))}}},rH=Ip({type:ht([Number,Function]),required:!0}),iH=Ip({type:Number}),sH=Ip({type:Number,default:2}),HGe=Ip({type:String,values:["ltr","rtl"],default:"ltr"}),aH=Ip({type:Number,default:0}),lO=Ip({type:Number,required:!0}),Mue=Ip({type:String,values:["horizontal","vertical"],default:H$}),Lue=hn({className:{type:String,default:""},containerElement:{type:ht([String,Object]),default:"div"},data:{type:ht(Array),default:()=>ao([])},direction:HGe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ht([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Bue=hn({cache:sH,estimatedItemSize:iH,layout:Mue,initScrollOffset:aH,total:lO,itemSize:rH,...Lue}),oH={type:Number,default:6},Rue={type:Number,default:0},Iue={type:Number,default:2},E1=hn({columnCache:sH,columnWidth:rH,estimatedColumnWidth:iH,estimatedRowHeight:iH,initScrollLeft:aH,initScrollTop:aH,itemKey:{type:ht(Function),default:({columnIndex:t,rowIndex:e})=>"".concat(e,":").concat(t)},rowCache:sH,rowHeight:rH,totalColumn:lO,totalRow:lO,hScrollbarSize:oH,vScrollbarSize:oH,scrollbarStartGap:Rue,scrollbarEndGap:Iue,role:String,...Lue}),Pue=hn({alwaysOn:Boolean,class:String,layout:Mue,total:lO,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:oH,startGap:Rue,endGap:Iue,visible:Boolean}),o1=(t,e)=>t<e?zx:oO,MM=t=>t===OGe||t===yE||t===nS,RX=t=>t===yE;let Ib=null;function cO(t=!1){if(Ib===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Ib=V$:(e.scrollLeft=1,e.scrollLeft===0?Ib=TM:Ib=G$),document.body.removeChild(e),Ib}return Ib}function GGe({move:t,size:e,bar:n},r){const i={},s="translate".concat(n.axis,"(").concat(t,"px)");return i[n.size]=e,i.transform=s,i.msTransform=s,i.webkitTransform=s,r==="horizontal"?i.height="100%":i.width="100%",i}const lH=Me({name:"ElVirtualScrollBar",props:Pue,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=J(()=>t.startGap+t.endGap),r=Jt("virtual-scrollbar"),i=Jt("scrollbar"),s=ge(),a=ge();let o=null,l=null;const u=as({isDragging:!1,traveled:0}),h=J(()=>Rle[t.layout]),d=J(()=>t.clientSize-b(n)),f=J(()=>({position:"absolute",width:"".concat(nS===t.layout?d.value:t.scrollbarSize,"px"),height:"".concat(nS===t.layout?t.scrollbarSize:d.value,"px"),[NGe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),A=J(()=>{const B=t.ratio,E=t.clientSize;if(B>=100)return Number.POSITIVE_INFINITY;if(B>=50)return B*E/100;const L=E/3;return Math.floor(Math.min(Math.max(B*E,DGe),L))}),m=J(()=>{if(!Number.isFinite(A.value))return{display:"none"};const B="".concat(A.value,"px");return GGe({bar:h.value,size:B,move:u.traveled},t.layout)}),g=J(()=>Math.floor(t.clientSize-A.value-b(n))),y=()=>{window.addEventListener("mousemove",C),window.addEventListener("mouseup",S);const B=b(a);B&&(l=document.onselectstart,document.onselectstart=()=>!1,B.addEventListener("touchmove",C,{passive:!0}),B.addEventListener("touchend",S))},_=()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",S),document.onselectstart=l,l=null;const B=b(a);B&&(B.removeEventListener("touchmove",C),B.removeEventListener("touchend",S))},x=B=>{B.stopImmediatePropagation(),!(B.ctrlKey||[1,2].includes(B.button))&&(u.isDragging=!0,u[h.value.axis]=B.currentTarget[h.value.offset]-(B[h.value.client]-B.currentTarget.getBoundingClientRect()[h.value.direction]),e("start-move"),y())},S=()=>{u.isDragging=!1,u[h.value.axis]=0,e("stop-move"),_()},C=B=>{const{isDragging:E}=u;if(!E||!a.value||!s.value)return;const L=u[h.value.axis];if(!L)return;Q1(o);const I=(s.value.getBoundingClientRect()[h.value.direction]-B[h.value.client])*-1,k=a.value[h.value.offset]-L,O=I-k;o=my(()=>{u.traveled=Math.max(t.startGap,Math.min(O,g.value)),e("scroll",O,g.value)})},M=B=>{const E=Math.abs(B.target.getBoundingClientRect()[h.value.direction]-B[h.value.client]),L=a.value[h.value.offset]/2,I=E-L;u.traveled=Math.max(0,Math.min(I,g.value)),e("scroll",I,g.value)};return Ct(()=>t.scrollFrom,B=>{u.isDragging||(u.traveled=Math.ceil(B*g.value))}),Hs(()=>{_()}),()=>lr("div",{role:"presentation",ref:s,class:[r.b(),t.class,(t.alwaysOn||u.isDragging)&&"always-on"],style:f.value,onMousedown:mr(M,["stop","prevent"]),onTouchstartPrevent:x},lr("div",{ref:a,class:i.e("thumb"),style:m.value,onMousedown:x},[]))}}),Fue=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:s,getStopIndexForStartIndex:a,initCache:o,clearCache:l,validateProps:u})=>Me({name:t!=null?t:"ElVirtualList",props:Bue,emits:[sO,aO],setup(h,{emit:d,expose:f}){u(h);const A=ni(),m=Jt("vl"),g=ge(o(h,A)),y=Tue(),_=ge(),x=ge(),S=ge(),C=ge({isScrolling:!1,scrollDir:"forward",scrollOffset:tr(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),M=J(()=>{const{total:Y,cache:oe}=h,{isScrolling:fe,scrollDir:me,scrollOffset:ce}=b(C);if(Y===0)return[0,0,0,0];const be=s(h,ce,b(g)),xe=a(h,be,ce,b(g)),Ie=!fe||me===oO?Math.max(1,oe):1,Qe=!fe||me===zx?Math.max(1,oe):1;return[Math.max(0,be-Ie),Math.max(0,Math.min(Y-1,xe+Qe)),be,xe]}),B=J(()=>i(h,b(g))),E=J(()=>MM(h.layout)),L=J(()=>[{position:"relative",["overflow-".concat(E.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:tr(h.height)?"".concat(h.height,"px"):h.height,width:tr(h.width)?"".concat(h.width,"px"):h.width},h.style]),I=J(()=>{const Y=b(B),oe=b(E);return{height:oe?"100%":"".concat(Y,"px"),pointerEvents:b(C).isScrolling?"none":void 0,width:oe?"".concat(Y,"px"):"100%"}}),k=J(()=>E.value?h.width:h.height),{onWheel:O}=UGe({atStartEdge:J(()=>C.value.scrollOffset<=0),atEndEdge:J(()=>C.value.scrollOffset>=B.value),layout:J(()=>h.layout)},Y=>{var oe,fe;(fe=(oe=S.value).onMouseUp)==null||fe.call(oe),Q(Math.min(C.value.scrollOffset+Y,B.value-k.value))});Us(_,"wheel",O,{passive:!1});const F=()=>{const{total:Y}=h;if(Y>0){const[ce,be,xe,Ie]=b(M);d(sO,ce,be,xe,Ie)}const{scrollDir:oe,scrollOffset:fe,updateRequested:me}=b(C);d(aO,oe,fe,me)},U=Y=>{const{clientHeight:oe,scrollHeight:fe,scrollTop:me}=Y.currentTarget,ce=b(C);if(ce.scrollOffset===me)return;const be=Math.max(0,Math.min(me,fe-oe));C.value={...ce,isScrolling:!0,scrollDir:o1(ce.scrollOffset,be),scrollOffset:be,updateRequested:!1},Zn(ne)},$=Y=>{const{clientWidth:oe,scrollLeft:fe,scrollWidth:me}=Y.currentTarget,ce=b(C);if(ce.scrollOffset===fe)return;const{direction:be}=h;let xe=fe;if(be===yE)switch(cO()){case TM:{xe=-fe;break}case V$:{xe=me-oe-fe;break}}xe=Math.max(0,Math.min(xe,me-oe)),C.value={...ce,isScrolling:!0,scrollDir:o1(ce.scrollOffset,xe),scrollOffset:xe,updateRequested:!1},Zn(ne)},K=Y=>{b(E)?$(Y):U(Y),F()},V=(Y,oe)=>{const fe=(B.value-k.value)/oe*Y;Q(Math.min(B.value-k.value,fe))},Q=Y=>{Y=Math.max(Y,0),Y!==b(C).scrollOffset&&(C.value={...b(C),scrollOffset:Y,scrollDir:o1(b(C).scrollOffset,Y),updateRequested:!0},Zn(ne))},X=(Y,oe=lA)=>{const{scrollOffset:fe}=b(C);Y=Math.max(0,Math.min(Y,h.total-1)),Q(e(h,Y,oe,fe,b(g)))},z=Y=>{const{direction:oe,itemSize:fe,layout:me}=h,ce=y.value(l&&fe,l&&me,l&&oe);let be;if(us(ce,String(Y)))be=ce[Y];else{const xe=r(h,Y,b(g)),Ie=n(h,Y,b(g)),Qe=b(E),ue=oe===yE,ye=Qe?xe:0;ce[Y]=be={position:"absolute",left:ue?void 0:"".concat(ye,"px"),right:ue?"".concat(ye,"px"):void 0,top:Qe?0:"".concat(xe,"px"),height:Qe?"100%":"".concat(Ie,"px"),width:Qe?"".concat(Ie,"px"):"100%"}}return be},ne=()=>{C.value.isScrolling=!1,Zn(()=>{y.value(-1,null,null)})},he=()=>{const Y=_.value;Y&&(Y.scrollTop=0)};rr(()=>{if(!Wi)return;const{initScrollOffset:Y}=h,oe=b(_);tr(Y)&&oe&&(b(E)?oe.scrollLeft=Y:oe.scrollTop=Y),F()}),Bp(()=>{const{direction:Y,layout:oe}=h,{scrollOffset:fe,updateRequested:me}=b(C),ce=b(_);if(me&&ce)if(oe===nS)if(Y===yE)switch(cO()){case TM:{ce.scrollLeft=-fe;break}case G$:{ce.scrollLeft=fe;break}default:{const{clientWidth:be,scrollWidth:xe}=ce;ce.scrollLeft=xe-be-fe;break}}else ce.scrollLeft=fe;else ce.scrollTop=fe}),bz(()=>{b(_).scrollTop=b(C).scrollOffset});const W={ns:m,clientSize:k,estimatedTotalSize:B,windowStyle:L,windowRef:_,innerRef:x,innerStyle:I,itemsToRender:M,scrollbarRef:S,states:C,getItemStyle:z,onScroll:K,onScrollbarScroll:V,onWheel:O,scrollTo:Q,scrollToItem:X,resetScrollTop:he};return f({windowRef:_,innerRef:x,getItemStyleCache:y,scrollTo:Q,scrollToItem:X,resetScrollTop:he,states:C}),W},render(h){var d;const{$slots:f,className:A,clientSize:m,containerElement:g,data:y,getItemStyle:_,innerElement:x,itemsToRender:S,innerStyle:C,layout:M,total:B,onScroll:E,onScrollbarScroll:L,states:I,useIsScrolling:k,windowStyle:O,ns:F}=h,[U,$]=S,K=li(g),V=li(x),Q=[];if(B>0)for(let he=U;he<=$;he++)Q.push(lr(Wn,{key:he},(d=f.default)==null?void 0:d.call(f,{data:y,index:he,isScrolling:k?I.isScrolling:void 0,style:_(he)})));const X=[lr(V,{style:C,ref:"innerRef"},Qn(V)?Q:{default:()=>Q})],z=lr(lH,{ref:"scrollbarRef",clientSize:m,layout:M,onScroll:L,ratio:m*100/this.estimatedTotalSize,scrollFrom:I.scrollOffset/(this.estimatedTotalSize-m),total:B}),ne=lr(K,{class:[F.e("window"),A],style:O,onScroll:E,ref:"windowRef",key:0},Qn(K)?[X]:{default:()=>[X]});return lr("div",{key:0,class:[F.e("wrapper"),I.scrollbarAlwaysOn?"always-on":""]},[ne,z])}}),Oue=Fue({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:i},s,a,o)=>{const l=MM(r)?i:t,u=Math.max(0,e*n-l),h=Math.min(u,s*n),d=Math.max(0,(s+1)*n-l);switch(a===_5&&(o>=d-l&&o<=h+l?a=lA:a=Qg),a){case SM:return h;case CM:return d;case Qg:{const f=Math.round(d+(h-d)/2);return f<Math.ceil(l/2)?0:f>u+Math.floor(l/2)?u:f}case lA:default:return o>=d&&o<=h?o:o<d?d:h}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:i},s,a)=>{const o=s*n,l=MM(r)?i:t,u=Math.ceil((l+a-o)/n);return Math.max(0,Math.min(e-1,s+u-1))},initCache(){},clearCache:!0,validateProps(){}}),$x=(t,e,n)=>{const{itemSize:r}=t,{items:i,lastVisitedIndex:s}=n;if(e>s){let a=0;if(s>=0){const o=i[s];a=o.offset+o.size}for(let o=s+1;o<=e;o++){const l=r(o);i[o]={offset:a,size:l},a+=l}n.lastVisitedIndex=e}return i[e]},VGe=(t,e,n)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=n?Nue(t,e,0,i,n):zGe(t,e,Math.max(0,i),n)},Nue=(t,e,n,r,i)=>{for(;n<=r;){const s=n+Math.floor((r-n)/2),a=$x(t,s,e).offset;if(a===i)return s;a<i?n=s+1:a>i&&(r=s-1)}return Math.max(0,n-1)},zGe=(t,e,n,r)=>{const{total:i}=t;let s=1;for(;n<i&&$x(t,n,e).offset<r;)n+=s,s*=2;return Nue(t,e,Math.floor(n/2),Math.min(n,i-1),r)},IX=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=t&&(r=t-1),r>=0){const o=e[r];i=o.offset+o.size}const a=(t-r-1)*n;return i+a},$Ge=Fue({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>$x(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:IX,getOffset:(t,e,n,r,i)=>{const{height:s,layout:a,width:o}=t,l=MM(a)?o:s,u=$x(t,e,i),h=IX(t,i),d=Math.max(0,Math.min(h-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch(n===_5&&(r>=f-l&&r<=d+l?n=lA:n=Qg),n){case SM:return d;case CM:return f;case Qg:return Math.round(f+(d-f)/2);case lA:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(t,e,n)=>VGe(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:i,total:s,layout:a,width:o}=t,l=MM(a)?o:i,u=$x(t,e,r),h=n+l;let d=u.offset+u.size,f=e;for(;f<s-1&&d<h;)f++,d+=$x(t,f,r).size;return f},initCache({estimatedItemSize:t=nH},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var s,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(s=e.exposed)==null||s.getItemStyleCache(-1),i&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),QGe={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var WGe=Me({name:"ElSelectDropdown",props:QGe,setup(t,{slots:e,expose:n}){const r=qt(U$),i=Jt("select"),{getLabel:s,getValue:a,getDisabled:o}=y5(r.props),l=ge([]),u=ge(),h=J(()=>t.data.length);Ct(()=>h.value,()=>{var O,F;(F=(O=r.tooltipRef.value).updatePopper)==null||F.call(O)});const d=J(()=>ps(r.props.estimatedOptionHeight)),f=J(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:O=>l.value[O]}),A=(O=[],F)=>{const{props:{valueKey:U}}=r;return qr(F)?O&&O.some($=>Ys(qo($,U))===qo(F,U)):O.includes(F)},m=(O,F)=>{if(qr(F)){const{valueKey:U}=r.props;return qo(O,U)===qo(F,U)}else return O===F},g=(O,F)=>r.props.multiple?A(O,a(F)):m(O,a(F)),y=(O,F)=>{const{disabled:U,multiple:$,multipleLimit:K}=r.props;return U||!F&&($?K>0&&O.length>=K:!1)},_=O=>t.hoveringIndex===O;n({listRef:u,isSized:d,isItemDisabled:y,isItemHovering:_,isItemSelected:g,scrollToItem:O=>{const F=u.value;F&&F.scrollToItem(O)},resetScrollTop:()=>{const O=u.value;O&&O.resetScrollTop()}});const M=O=>{const{index:F,data:U,style:$}=O,K=b(d),{itemSize:V,estimatedSize:Q}=b(f),{modelValue:X}=r.props,{onSelect:z,onHover:ne}=r,he=U[F];if(he.type==="Group")return Ce(xGe,{item:he,style:$,height:K?V:Q},null);const W=g(X,he),Y=y(X,W),oe=_(F);return Ce(RGe,hi(O,{selected:W,disabled:o(he)||Y,created:!!he.created,hovering:oe,item:he,onSelect:z,onHover:ne}),{default:fe=>{var me;return((me=e.default)==null?void 0:me.call(e,fe))||Ce("span",null,[s(he)])}})},{onKeyboardNavigate:B,onKeyboardSelect:E}=r,L=()=>{B("forward")},I=()=>{B("backward")},k=O=>{const{code:F}=O,{tab:U,esc:$,down:K,up:V,enter:Q,numpadEnter:X}=Ln;switch(F!==U&&(O.preventDefault(),O.stopPropagation()),F){case U:case $:break;case K:L();break;case V:I();break;case Q:case X:E();break}};return()=>{var O,F,U,$;const{data:K,width:V}=t,{height:Q,multiple:X,scrollbarAlwaysOn:z}=r.props,ne=b(d)?Oue:$Ge;return Ce("div",{class:[i.b("dropdown"),i.is("multiple",X)],style:{width:"".concat(V,"px")}},[(O=e.header)==null?void 0:O.call(e),((F=e.loading)==null?void 0:F.call(e))||((U=e.empty)==null?void 0:U.call(e))||Ce(ne,hi({ref:u},b(f),{className:i.be("dropdown","list"),scrollbarAlwaysOn:z,data:K,height:Q,width:V,total:K.length,onKeydown:k}),{default:he=>Ce(M,he,null)}),($=e.footer)==null?void 0:$.call(e)])}}});function jGe(t,e){const{aliasProps:n,getLabel:r,getValue:i}=y5(t),s=ge(0),a=ge(),o=J(()=>t.allowCreate&&t.filterable);function l(A){const m=g=>r(g)===A;return t.options&&t.options.some(m)||e.createdOptions.some(m)}function u(A){o.value&&(t.multiple&&A.created?s.value++:a.value=A)}function h(A){if(o.value)if(A&&A.length>0){if(l(A))return;const m={[n.value.value]:A,[n.value.label]:A,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=s.value?e.createdOptions[s.value]=m:e.createdOptions.push(m)}else if(t.multiple)e.createdOptions.length=s.value;else{const m=a.value;e.createdOptions.length=0,m&&m.created&&e.createdOptions.push(m)}}function d(A){if(!o.value||!A||!A.created||A.created&&t.reserveKeyword&&e.inputValue===r(A))return;const m=e.createdOptions.findIndex(g=>i(g)===i(A));~m&&(e.createdOptions.splice(m,1),s.value--)}function f(){o.value&&(e.createdOptions.length=0,s.value=0)}return{createNewOption:h,removeNewOption:d,selectNewOption:u,clearAllNewOption:f}}const KGe=(t,e)=>{const{t:n}=ji(),r=Jt("select"),i=Jt("input"),{form:s,formItem:a}=Cu(),{inputId:o}=SA(t,{formItemContext:a}),{aliasProps:l,getLabel:u,getValue:h,getDisabled:d,getOptions:f}=y5(t),{valueOnClear:A,isEmptyValue:m}=o5(t),g=as({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=ge(-1),_=ge(),x=ge(),S=ge(),C=ge(),M=ge(),B=ge(),E=ge(),L=ge(),I=ge(),k=ge(),{isComposing:O,handleCompositionStart:F,handleCompositionEnd:U,handleCompositionUpdate:$}=bL({afterComposition:Lt=>fr(Lt)}),{wrapperRef:K,isFocused:V,handleBlur:Q}=Fy(M,{beforeFocus(){return he.value},afterFocus(){t.automaticDropdown&&!ne.value&&(ne.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(Lt){var ut,on;return((ut=S.value)==null?void 0:ut.isFocusInsideContent(Lt))||((on=C.value)==null?void 0:on.isFocusInsideContent(Lt))},afterBlur(){ne.value=!1,g.menuVisibleOnFocus=!1}}),X=ge([]),z=ge([]),ne=ge(!1),he=J(()=>t.disabled||(s==null?void 0:s.disabled)),W=J(()=>{var Lt;return(Lt=s==null?void 0:s.statusIcon)!=null?Lt:!1}),Y=J(()=>{const Lt=z.value.length*t.itemHeight;return Lt>t.height?t.height:Lt}),oe=J(()=>t.multiple?an(t.modelValue)&&t.modelValue.length>0:!m(t.modelValue)),fe=J(()=>t.clearable&&!he.value&&g.inputHovering&&oe.value),me=J(()=>t.remote&&t.filterable?"":Uv),ce=J(()=>me.value&&r.is("reverse",ne.value)),be=J(()=>(a==null?void 0:a.validateState)||""),xe=J(()=>{if(be.value)return u5[be.value]}),Ie=J(()=>t.remote?300:0),Qe=J(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!g.inputValue&&X.value.length===0?!1:t.filterable&&g.inputValue&&X.value.length>0&&z.value.length===0?t.noMatchText||n("el.select.noMatch"):X.value.length===0?t.noDataText||n("el.select.noData"):null),ue=Lt=>{const ut=on=>{if(t.filterable&&Kn(t.filterMethod)||t.filterable&&t.remote&&Kn(t.remoteMethod))return!0;const xn=new RegExp(y$(Lt),"i");return Lt?xn.test(u(on)||""):!0};return t.loading?[]:[...g.createdOptions,...t.options].reduce((on,xn)=>{const Rr=f(xn);if(an(Rr)){const Xr=Rr.filter(ut);Xr.length>0&&on.push({label:u(xn),type:"Group"},...Xr)}else(t.remote||ut(xn))&&on.push(xn);return on},[])},ye=()=>{X.value=ue(""),z.value=ue(g.inputValue)},$e=J(()=>{const Lt=new Map;return X.value.forEach((ut,on)=>{Lt.set(On(h(ut)),{option:ut,index:on})}),Lt}),Ve=J(()=>{const Lt=new Map;return z.value.forEach((ut,on)=>{Lt.set(On(h(ut)),{option:ut,index:on})}),Lt}),Se=J(()=>z.value.every(Lt=>d(Lt))),at=al(),ft=J(()=>at.value==="small"?"small":"default"),je=()=>{var Lt;if(tr(t.fitInputWidth)){y.value=t.fitInputWidth;return}const ut=((Lt=_.value)==null?void 0:Lt.offsetWidth)||200;!t.fitInputWidth&&X.value.length>0?Zn(()=>{y.value=Math.max(ut,gt())}):y.value=ut},gt=()=>{var Lt,ut;const xn=document.createElement("canvas").getContext("2d"),Rr=r.be("dropdown","item"),ta=(((ut=(Lt=L.value)==null?void 0:Lt.listRef)==null?void 0:ut.innerRef)||document).querySelector(".".concat(Rr));if(ta===null||xn===null)return 0;const Ki=getComputedStyle(ta),Eo=Number.parseFloat(Ki.paddingLeft)+Number.parseFloat(Ki.paddingRight);return xn.font=Ki.font,z.value.reduce((Kl,Ic)=>{const to=xn.measureText(u(Ic));return Math.max(to.width,Kl)},0)+Eo},vt=()=>{if(!x.value)return 0;const Lt=window.getComputedStyle(x.value);return Number.parseFloat(Lt.gap||"6px")},Te=J(()=>{const Lt=vt(),ut=k.value&&t.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-Lt:g.selectionWidth;return{maxWidth:"".concat(ut,"px")}}),we=J(()=>({maxWidth:"".concat(g.selectionWidth,"px")})),Ne=J(()=>an(t.modelValue)?t.modelValue.length===0&&!g.inputValue:t.filterable?!g.inputValue:!0),Ze=J(()=>{var Lt;const ut=(Lt=t.placeholder)!=null?Lt:n("el.select.placeholder");return t.multiple||!oe.value?ut:g.selectedLabel}),Tt=J(()=>{var Lt,ut;return(ut=(Lt=S.value)==null?void 0:Lt.popperRef)==null?void 0:ut.contentRef}),Zt=J(()=>{if(t.multiple){const Lt=t.modelValue.length;if(t.modelValue.length>0&&Ve.value.has(t.modelValue[Lt-1])){const{index:ut}=Ve.value.get(t.modelValue[Lt-1]);return ut}}else if(!m(t.modelValue)&&Ve.value.has(t.modelValue)){const{index:Lt}=Ve.value.get(t.modelValue);return Lt}return-1}),ln=J({get(){return ne.value&&Qe.value!==!1},set(Lt){ne.value=Lt}}),Ye=J(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(0,t.maxCollapseTags):g.cachedOptions:[]),yt=J(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:Qt,removeNewOption:Dt,selectNewOption:st,clearAllNewOption:ke}=jGe(t,g),ct=()=>{he.value||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:ne.value=!ne.value)},Oe=()=>{g.inputValue.length>0&&!ne.value&&(ne.value=!0),Qt(g.inputValue),wn(g.inputValue)},kt=Dd(Oe,Ie.value),wn=Lt=>{g.previousQuery===Lt||O.value||(g.previousQuery=Lt,t.filterable&&Kn(t.filterMethod)?t.filterMethod(Lt):t.filterable&&t.remote&&Kn(t.remoteMethod)&&t.remoteMethod(Lt),t.defaultFirstOption&&(t.filterable||t.remote)&&z.value.length?Zn(mt):Zn(Gn))},mt=()=>{const Lt=z.value.filter(xn=>!xn.disabled&&xn.type!=="Group"),ut=Lt.find(xn=>xn.created),on=Lt[0];g.hoveringIndex=Rn(z.value,ut||on)},Kt=Lt=>{wu(t.modelValue,Lt)||e(Qs,Lt)},bn=Lt=>{e(zr,Lt),Kt(Lt),g.previousValue=t.multiple?String(Lt):Lt},Rn=(Lt=[],ut)=>{if(!qr(ut))return Lt.indexOf(ut);const on=t.valueKey;let xn=-1;return Lt.some((Rr,Xr)=>qo(Rr,on)===qo(ut,on)?(xn=Xr,!0):!1),xn},On=Lt=>qr(Lt)?qo(Lt,t.valueKey):Lt,Dn=()=>{je()},Un=()=>{g.selectionWidth=x.value.getBoundingClientRect().width},jr=()=>{g.collapseItemWidth=k.value.getBoundingClientRect().width},Mi=()=>{var Lt,ut;(ut=(Lt=S.value)==null?void 0:Lt.updatePopper)==null||ut.call(Lt)},bi=()=>{var Lt,ut;(ut=(Lt=C.value)==null?void 0:Lt.updatePopper)==null||ut.call(Lt)},Ji=Lt=>{if(t.multiple){let ut=t.modelValue.slice();const on=Rn(ut,h(Lt));on>-1?(ut=[...ut.slice(0,on),...ut.slice(on+1)],g.cachedOptions.splice(on,1),Dt(Lt)):(t.multipleLimit<=0||ut.length<t.multipleLimit)&&(ut=[...ut,h(Lt)],g.cachedOptions.push(Lt),st(Lt)),bn(ut),Lt.created&&wn(""),t.filterable&&!t.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=u(Lt),bn(h(Lt)),ne.value=!1,st(Lt),Lt.created||ke();fs()},br=(Lt,ut)=>{let on=t.modelValue.slice();const xn=Rn(on,h(ut));xn>-1&&!he.value&&(on=[...t.modelValue.slice(0,xn),...t.modelValue.slice(xn+1)],g.cachedOptions.splice(xn,1),bn(on),e("remove-tag",h(ut)),Dt(ut)),Lt.stopPropagation(),fs()},fs=()=>{var Lt;(Lt=M.value)==null||Lt.focus()},Di=()=>{var Lt;if(ne.value){ne.value=!1,Zn(()=>{var ut;return(ut=M.value)==null?void 0:ut.blur()});return}(Lt=M.value)==null||Lt.blur()},Hi=()=>{g.inputValue.length>0?g.inputValue="":ne.value=!1},ki=Lt=>lle(Lt,ut=>!g.cachedOptions.some(on=>h(on)===ut&&d(on))),ot=Lt=>{if(t.multiple&&Lt.code!==Ln.delete&&g.inputValue.length===0){Lt.preventDefault();const ut=t.modelValue.slice(),on=ki(ut);if(on<0)return;const xn=ut[on];ut.splice(on,1);const Rr=g.cachedOptions[on];g.cachedOptions.splice(on,1),Dt(Rr),bn(ut),e("remove-tag",xn)}},sn=()=>{let Lt;an(t.modelValue)?Lt=[]:Lt=A.value,t.multiple?g.cachedOptions=[]:g.selectedLabel="",ne.value=!1,bn(Lt),e("clear"),ke(),fs()},Cn=(Lt,ut=void 0)=>{const on=z.value;if(!["forward","backward"].includes(Lt)||he.value||on.length<=0||Se.value||O.value)return;if(!ne.value)return ct();ut===void 0&&(ut=g.hoveringIndex);let xn=-1;Lt==="forward"?(xn=ut+1,xn>=on.length&&(xn=0)):Lt==="backward"&&(xn=ut-1,(xn<0||xn>=on.length)&&(xn=on.length-1));const Rr=on[xn];if(d(Rr)||Rr.type==="Group")return Cn(Lt,xn);g.hoveringIndex=xn,oi(xn)},it=()=>{if(ne.value)~g.hoveringIndex&&z.value[g.hoveringIndex]&&Ji(z.value[g.hoveringIndex]);else return ct()},Ft=Lt=>{g.hoveringIndex=Lt!=null?Lt:-1},Gn=()=>{t.multiple?g.hoveringIndex=z.value.findIndex(Lt=>t.modelValue.some(ut=>On(ut)===On(Lt))):g.hoveringIndex=z.value.findIndex(Lt=>On(Lt)===On(t.modelValue))},fr=Lt=>{if(g.inputValue=Lt.target.value,t.remote)kt();else return Oe()},Gr=Lt=>{if(ne.value=!1,V.value){const ut=new FocusEvent("focus",Lt);Q(ut)}},$r=()=>(g.isBeforeHide=!1,Zn(()=>{~Zt.value&&oi(g.hoveringIndex)})),oi=Lt=>{L.value.scrollToItem(Lt)},xi=(Lt,ut)=>{const on=On(Lt);if($e.value.has(on)){const{option:xn}=$e.value.get(on);return xn}if(ut&&ut.length){const xn=ut.find(Rr=>On(h(Rr))===on);if(xn)return xn}return{[l.value.value]:Lt,[l.value.label]:Lt}},mi=(Lt=!1)=>{if(t.multiple)if(t.modelValue.length>0){const ut=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=t.modelValue.toString();for(const on of t.modelValue){const xn=xi(on,ut);g.cachedOptions.push(xn)}}else g.cachedOptions=[],g.previousValue=void 0;else if(oe.value){g.previousValue=t.modelValue;const ut=z.value,on=ut.findIndex(xn=>On(h(xn))===On(t.modelValue));~on?g.selectedLabel=u(ut[on]):(!g.selectedLabel||Lt)&&(g.selectedLabel=On(t.modelValue))}else g.selectedLabel="",g.previousValue=void 0;ke(),je()};return Ct(()=>t.fitInputWidth,()=>{je()}),Ct(ne,Lt=>{Lt?(t.persistent||je(),wn("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,Qt("")),e("visible-change",Lt)}),Ct(()=>t.modelValue,(Lt,ut)=>{var on;(!Lt||an(Lt)&&Lt.length===0||t.multiple&&!wu(Lt.toString(),g.previousValue)||!t.multiple&&On(Lt)!==On(g.previousValue))&&mi(!0),!wu(Lt,ut)&&t.validateEvent&&((on=a==null?void 0:a.validate)==null||on.call(a,"change").catch(Rr=>void 0))},{deep:!0}),Ct(()=>t.options,()=>{const Lt=M.value;(!Lt||Lt&&document.activeElement!==Lt)&&mi()},{deep:!0,flush:"post"}),Ct(()=>z.value,()=>(je(),L.value&&Zn(L.value.resetScrollTop))),Zc(()=>{g.isBeforeHide||ye()}),Zc(()=>{const{valueKey:Lt,options:ut}=t,on=new Map;for(const xn of ut){const Rr=h(xn);let Xr=Rr;if(qr(Xr)&&(Xr=qo(Rr,Lt)),on.get(Xr))break;on.set(Xr,!0)}}),rr(()=>{mi()}),so(_,Dn),so(x,Un),so(L,Mi),so(K,Mi),so(I,bi),so(k,jr),{inputId:o,collapseTagSize:ft,currentPlaceholder:Ze,expanded:ne,emptyText:Qe,popupHeight:Y,debounce:Ie,allOptions:X,filteredOptions:z,iconComponent:me,iconReverse:ce,tagStyle:Te,collapseTagStyle:we,popperSize:y,dropdownMenuVisible:ln,hasModelValue:oe,shouldShowPlaceholder:Ne,selectDisabled:he,selectSize:at,needStatusIcon:W,showClearBtn:fe,states:g,isFocused:V,nsSelect:r,nsInput:i,inputRef:M,menuRef:L,tagMenuRef:I,tooltipRef:S,tagTooltipRef:C,selectRef:_,wrapperRef:K,selectionRef:x,prefixRef:B,suffixRef:E,collapseItemRef:k,popperRef:Tt,validateState:be,validateIcon:xe,showTagList:Ye,collapseTagList:yt,debouncedOnInputChange:kt,deleteTag:br,getLabel:u,getValue:h,getDisabled:d,getValueKey:On,handleClear:sn,handleClickOutside:Gr,handleDel:ot,handleEsc:Hi,focus:fs,blur:Di,handleMenuEnter:$r,handleResize:Dn,resetSelectionWidth:Un,updateTooltip:Mi,updateTagTooltip:bi,updateOptions:ye,toggleMenu:ct,scrollTo:oi,onInput:fr,onKeyboardNavigate:Cn,onKeyboardSelect:it,onSelect:Ji,onHover:Ft,handleCompositionStart:F,handleCompositionEnd:U,handleCompositionUpdate:$}},qGe=Me({name:"ElSelectV2",components:{ElSelectMenu:WGe,ElTag:eS,ElTooltip:Eu,ElIcon:Vn},directives:{ClickOutside:Tv},props:SGe,emits:TGe,setup(t,{emit:e}){const n=J(()=>{const{modelValue:o,multiple:l}=t,u=l?[]:void 0;return an(o)?l?o:u:l?u:o}),r=KGe(as({...Yo(t),modelValue:n}),e),{calculatorRef:i,inputStyle:s}=O$();dr(U$,{props:as({...Yo(t),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=J(()=>t.multiple?r.states.cachedOptions.map(o=>o.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a,calculatorRef:i,inputStyle:s}}});function XGe(t,e,n,r,i,s){const a=Nn("el-tag"),o=Nn("el-tooltip"),l=Nn("el-icon"),u=Nn("el-select-menu"),h=dL("click-outside");return Br((ie(),Ee("div",{ref:"selectRef",class:de([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:d=>t.states.inputHovering=!0,onMouseleave:d=>t.states.inputHovering=!1},[Ce(o,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:"".concat(t.nsSelect.namespace.value,"-zoom-in-top"),trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:d=>t.states.isBeforeHide=!1},{default:De(()=>[Be("div",{ref:"wrapperRef",class:de([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:mr(t.toggleMenu,["prevent"])},[t.$slots.prefix?(ie(),Ee("div",{key:0,ref:"prefixRef",class:de(t.nsSelect.e("prefix"))},[tt(t.$slots,"prefix")],2)):lt("v-if",!0),Be("div",{ref:"selectionRef",class:de([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?tt(t.$slots,"tag",{key:0},()=>[(ie(!0),Ee(Wn,null,wi(t.showTagList,d=>(ie(),Ee("div",{key:t.getValueKey(t.getValue(d)),class:de(t.nsSelect.e("selected-item"))},[Ce(a,{closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Xn(t.tagStyle),onClose:f=>t.deleteTag(f,d)},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))},[tt(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[Mr(cn(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(ie(),St(o,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:De(()=>[Be("div",{ref:"collapseItemRef",class:de(t.nsSelect.e("selected-item"))},[Ce(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:Xn(t.collapseTagStyle),"disable-transitions":""},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))}," + "+cn(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:De(()=>[Be("div",{ref:"tagMenuRef",class:de(t.nsSelect.e("selection"))},[(ie(!0),Ee(Wn,null,wi(t.collapseTagList,d=>(ie(),Ee("div",{key:t.getValueKey(t.getValue(d)),class:de(t.nsSelect.e("selected-item"))},[Ce(a,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:f=>t.deleteTag(f,d)},{default:De(()=>[Be("span",{class:de(t.nsSelect.e("tags-text"))},[tt(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[Mr(cn(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):lt("v-if",!0)]):lt("v-if",!0),Be("div",{class:de([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Br(Be("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,style:Xn(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:de([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[$s(mr(d=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),$s(mr(d=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),$s(mr(t.onKeyboardSelect,["stop","prevent"]),["enter"]),$s(mr(t.handleEsc,["stop","prevent"]),["esc"]),$s(mr(t.handleDel,["stop"]),["delete"])],onClick:mr(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[KN,t.states.inputValue]]),t.filterable?(ie(),Ee("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:de(t.nsSelect.e("input-calculator")),textContent:cn(t.states.inputValue)},null,10,["textContent"])):lt("v-if",!0)],2),t.shouldShowPlaceholder?(ie(),Ee("div",{key:1,class:de([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?tt(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Be("span",null,cn(t.currentPlaceholder),1)]):(ie(),Ee("span",{key:1},cn(t.currentPlaceholder),1))],2)):lt("v-if",!0)],2),Be("div",{ref:"suffixRef",class:de(t.nsSelect.e("suffix"))},[t.iconComponent?Br((ie(),St(l,{key:0,class:de([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:De(()=>[(ie(),St(li(t.iconComponent)))]),_:1},8,["class"])),[[Qi,!t.showClearBtn]]):lt("v-if",!0),t.showClearBtn&&t.clearIcon?(ie(),St(l,{key:1,class:de([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:mr(t.handleClear,["prevent","stop"])},{default:De(()=>[(ie(),St(li(t.clearIcon)))]),_:1},8,["class","onClick"])):lt("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(ie(),St(l,{key:2,class:de([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:De(()=>[(ie(),St(li(t.validateIcon)))]),_:1},8,["class"])):lt("v-if",!0)],2)],10,["onClick"])]),content:De(()=>[Ce(u,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Lf({default:De(d=>[tt(t.$slots,"default",gf(sm(d)))]),_:2},[t.$slots.header?{name:"header",fn:De(()=>[Be("div",{class:de(t.nsSelect.be("dropdown","header"))},[tt(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:De(()=>[Be("div",{class:de(t.nsSelect.be("dropdown","loading"))},[tt(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:De(()=>[Be("div",{class:de(t.nsSelect.be("dropdown","empty"))},[tt(t.$slots,"empty",{},()=>[Be("span",null,cn(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:De(()=>[Be("div",{class:de(t.nsSelect.be("dropdown","footer"))},[tt(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[h,t.handleClickOutside,t.popperRef]])}var YGe=mn(qGe,[["render",XGe],["__file","select.vue"]]);const ZGe=Nr(YGe),JGe=hn({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:ht([Number,Object])}}),eVe=hn({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),tVe=Me({name:"ElSkeletonItem"}),nVe=Me({...tVe,props:eVe,setup(t){const e=Jt("skeleton");return(n,r)=>(ie(),Ee("div",{class:de([b(e).e("item"),b(e).e(n.variant)])},[n.variant==="image"?(ie(),St(b(aEe),{key:0})):lt("v-if",!0)],2))}});var uO=mn(nVe,[["__file","skeleton-item.vue"]]);const rVe=(t,e=0)=>{if(e===0)return t;const n=qr(e)&&!!e.initVal,r=ge(n);let i=null;const s=o=>{if(ps(o)){r.value=t.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=t.value},o)},a=o=>{o==="leading"?tr(e)?s(e):s(e.leading):qr(e)?s(e.trailing):r.value=!1};return rr(()=>a("leading")),Ct(()=>t.value,o=>{a(o?"leading":"trailing")}),r},iVe=Me({name:"ElSkeleton"}),sVe=Me({...iVe,props:JGe,setup(t,{expose:e}){const n=t,r=Jt("skeleton"),i=rVe(Is(n,"loading"),n.throttle);return e({uiLoading:i}),(s,a)=>b(i)?(ie(),Ee("div",hi({key:0,class:[b(r).b(),b(r).is("animated",s.animated)]},s.$attrs),[(ie(!0),Ee(Wn,null,wi(s.count,o=>(ie(),Ee(Wn,{key:o},[b(i)?tt(s.$slots,"template",{key:o},()=>[Ce(uO,{class:de(b(r).is("first")),variant:"p"},null,8,["class"]),(ie(!0),Ee(Wn,null,wi(s.rows,l=>(ie(),St(uO,{key:l,class:de([b(r).e("paragraph"),b(r).is("last",l===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):lt("v-if",!0)],64))),128))],16)):tt(s.$slots,"default",gf(hi({key:1},s.$attrs)))}});var aVe=mn(sVe,[["__file","skeleton.vue"]]);const oVe=Nr(aVe,{SkeletonItem:uO}),lVe=ho(uO),Due=Symbol("sliderContextKey"),cVe=hn({modelValue:{type:ht([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Sl,inputSize:Sl,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ht(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ht(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:zv,default:"top"},marks:{type:ht(Object)},validateEvent:{type:Boolean,default:!0},...nu(["ariaLabel"])}),HU=t=>tr(t)||an(t)&&t.every(tr),uVe={[zr]:HU,[bu]:HU,[Qs]:HU},hVe=hn({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:zv,default:"top"}}),dVe={[zr]:t=>tr(t)},fVe=(t,e,n)=>{const r=ge(),i=ge(!1),s=J(()=>e.value instanceof Function),a=J(()=>s.value&&e.value(t.modelValue)||t.modelValue),o=Dd(()=>{n.value&&(i.value=!0)},50),l=Dd(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:a,displayTooltip:o,hideTooltip:l}},AVe=(t,e,n)=>{const{disabled:r,min:i,max:s,step:a,showTooltip:o,precision:l,sliderSize:u,formatTooltip:h,emitChange:d,resetSize:f,updateDragging:A}=qt(Due),{tooltip:m,tooltipVisible:g,formatValue:y,displayTooltip:_,hideTooltip:x}=fVe(t,h,o),S=ge(),C=J(()=>"".concat((t.modelValue-i.value)/(s.value-i.value)*100,"%")),M=J(()=>t.vertical?{bottom:C.value}:{left:C.value}),B=()=>{e.hovering=!0,_()},E=()=>{e.hovering=!1,e.dragging||x()},L=W=>{r.value||(W.preventDefault(),X(W),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",ne),window.addEventListener("touchend",ne),window.addEventListener("contextmenu",ne),S.value.focus())},I=W=>{r.value||(e.newPosition=Number.parseFloat(C.value)+W/(s.value-i.value)*100,he(e.newPosition),d())},k=()=>{I(-a.value)},O=()=>{I(a.value)},F=()=>{I(-a.value*4)},U=()=>{I(a.value*4)},$=()=>{r.value||(he(0),d())},K=()=>{r.value||(he(100),d())},V=W=>{let Y=!0;switch(W.code){case Ln.left:case Ln.down:k();break;case Ln.right:case Ln.up:O();break;case Ln.home:$();break;case Ln.end:K();break;case Ln.pageDown:F();break;case Ln.pageUp:U();break;default:Y=!1;break}Y&&W.preventDefault()},Q=W=>{let Y,oe;return W.type.startsWith("touch")?(oe=W.touches[0].clientY,Y=W.touches[0].clientX):(oe=W.clientY,Y=W.clientX),{clientX:Y,clientY:oe}},X=W=>{e.dragging=!0,e.isClick=!0;const{clientX:Y,clientY:oe}=Q(W);t.vertical?e.startY=oe:e.startX=Y,e.startPosition=Number.parseFloat(C.value),e.newPosition=e.startPosition},z=W=>{if(e.dragging){e.isClick=!1,_(),f();let Y;const{clientX:oe,clientY:fe}=Q(W);t.vertical?(e.currentY=fe,Y=(e.startY-e.currentY)/u.value*100):(e.currentX=oe,Y=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+Y,he(e.newPosition)}},ne=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||x(),e.isClick||he(e.newPosition),d()},0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",ne),window.removeEventListener("touchend",ne),window.removeEventListener("contextmenu",ne))},he=async W=>{if(W===null||Number.isNaN(+W))return;W<0?W=0:W>100&&(W=100);const Y=100/((s.value-i.value)/a.value);let fe=Math.round(W/Y)*Y*(s.value-i.value)*.01+i.value;fe=Number.parseFloat(fe.toFixed(l.value)),fe!==t.modelValue&&n(zr,fe),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await Zn(),e.dragging&&_(),m.value.updatePopper()};return Ct(()=>e.dragging,W=>{A(W)}),Us(S,"touchstart",L,{passive:!1}),{disabled:r,button:S,tooltip:m,tooltipVisible:g,showTooltip:o,wrapperStyle:M,formatValue:y,handleMouseEnter:B,handleMouseLeave:E,onButtonDown:L,onKeyDown:V,setPosition:he}},pVe=Me({name:"ElSliderButton"}),gVe=Me({...pVe,props:hVe,emits:dVe,setup(t,{expose:e,emit:n}){const r=t,i=Jt("slider"),s=as({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:a,button:o,tooltip:l,showTooltip:u,tooltipVisible:h,wrapperStyle:d,formatValue:f,handleMouseEnter:A,handleMouseLeave:m,onButtonDown:g,onKeyDown:y,setPosition:_}=AVe(r,s,n),{hovering:x,dragging:S}=Yo(s);return e({onButtonDown:g,onKeyDown:y,setPosition:_,hovering:x,dragging:S}),(C,M)=>(ie(),Ee("div",{ref_key:"button",ref:o,class:de([b(i).e("button-wrapper"),{hover:b(x),dragging:b(S)}]),style:Xn(b(d)),tabindex:b(a)?-1:0,onMouseenter:b(A),onMouseleave:b(m),onMousedown:b(g),onFocus:b(A),onBlur:b(m),onKeydown:b(y)},[Ce(b(Eu),{ref_key:"tooltip",ref:l,visible:b(h),placement:C.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":C.tooltipClass,disabled:!b(u),persistent:b(u)},{content:De(()=>[Be("span",null,cn(b(f)),1)]),default:De(()=>[Be("div",{class:de([b(i).e("button"),{hover:b(x),dragging:b(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var PX=mn(gVe,[["__file","button.vue"]]);const mVe=hn({mark:{type:ht([String,Object]),default:void 0}});var vVe=Me({name:"ElSliderMarker",props:mVe,setup(t){const e=Jt("slider"),n=J(()=>Qn(t.mark)?t.mark:t.mark.label),r=J(()=>Qn(t.mark)?void 0:t.mark.style);return()=>lr("div",{class:e.e("marks-text"),style:r.value},n.value)}});const yVe=(t,e,n)=>{const{form:r,formItem:i}=Cu(),s=Cs(),a=ge(),o=ge(),l={firstButton:a,secondButton:o},u=J(()=>t.disabled||(r==null?void 0:r.disabled)||!1),h=J(()=>Math.min(e.firstValue,e.secondValue)),d=J(()=>Math.max(e.firstValue,e.secondValue)),f=J(()=>t.range?"".concat(100*(d.value-h.value)/(t.max-t.min),"%"):"".concat(100*(e.firstValue-t.min)/(t.max-t.min),"%")),A=J(()=>t.range?"".concat(100*(h.value-t.min)/(t.max-t.min),"%"):"0%"),m=J(()=>t.vertical?{height:t.height}:{}),g=J(()=>t.vertical?{height:f.value,bottom:A.value}:{width:f.value,left:A.value}),y=()=>{s.value&&(e.sliderSize=s.value["client".concat(t.vertical?"Height":"Width")])},_=F=>{const U=t.min+F*(t.max-t.min)/100;if(!t.range)return a;let $;return Math.abs(h.value-U)<Math.abs(d.value-U)?$=e.firstValue<e.secondValue?"firstButton":"secondButton":$=e.firstValue>e.secondValue?"firstButton":"secondButton",l[$]},x=F=>{const U=_(F);return U.value.setPosition(F),U},S=F=>{e.firstValue=F!=null?F:t.min,M(t.range?[h.value,d.value]:F!=null?F:t.min)},C=F=>{e.secondValue=F,t.range&&M([h.value,d.value])},M=F=>{n(zr,F),n(bu,F)},B=async()=>{await Zn(),n(Qs,t.range?[h.value,d.value]:t.modelValue)},E=F=>{var U,$,K,V,Q,X;if(u.value||e.dragging)return;y();let z=0;if(t.vertical){const ne=(K=($=(U=F.touches)==null?void 0:U.item(0))==null?void 0:$.clientY)!=null?K:F.clientY;z=(s.value.getBoundingClientRect().bottom-ne)/e.sliderSize*100}else{const ne=(X=(Q=(V=F.touches)==null?void 0:V.item(0))==null?void 0:Q.clientX)!=null?X:F.clientX,he=s.value.getBoundingClientRect().left;z=(ne-he)/e.sliderSize*100}if(!(z<0||z>100))return x(z)};return{elFormItem:i,slider:s,firstButton:a,secondButton:o,sliderDisabled:u,minValue:h,maxValue:d,runwayStyle:m,barStyle:g,resetSize:y,setPosition:x,emitChange:B,onSliderWrapperPrevent:F=>{var U,$;((U=l.firstButton.value)!=null&&U.dragging||($=l.secondButton.value)!=null&&$.dragging)&&F.preventDefault()},onSliderClick:F=>{E(F)&&B()},onSliderDown:async F=>{const U=E(F);U&&(await Zn(),U.value.onButtonDown(F))},onSliderMarkerDown:F=>{u.value||e.dragging||x(F)},setFirstValue:S,setSecondValue:C}},_Ve=(t,e,n,r)=>({stops:J(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const a=(t.max-t.min)/t.step,o=100*t.step/(t.max-t.min),l=Array.from({length:a-1}).map((u,h)=>(h+1)*o);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(r.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:a=>t.vertical?{bottom:"".concat(a,"%")}:{left:"".concat(a,"%")}}),wVe=t=>J(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),bVe=(t,e,n,r,i,s)=>{const a=u=>{i(zr,u),i(bu,u)},o=()=>t.range?![n.value,r.value].every((u,h)=>u===e.oldValue[h]):t.modelValue!==e.oldValue,l=()=>{var u,h;t.min>t.max&&Gl("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&an(d)?d[1]<t.min?a([t.min,t.min]):d[0]>t.max?a([t.max,t.max]):d[0]<t.min?a([t.min,d[1]]):d[1]>t.max?a([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],o()&&(t.validateEvent&&((u=s==null?void 0:s.validate)==null||u.call(s,"change").catch(f=>void 0)),e.oldValue=d.slice())):!t.range&&tr(d)&&!Number.isNaN(d)&&(d<t.min?a(t.min):d>t.max?a(t.max):(e.firstValue=d,o()&&(t.validateEvent&&((h=s==null?void 0:s.validate)==null||h.call(s,"change").catch(f=>void 0)),e.oldValue=d)))};l(),Ct(()=>e.dragging,u=>{u||l()}),Ct(()=>t.modelValue,(u,h)=>{e.dragging||an(u)&&an(h)&&u.every((d,f)=>d===h[f])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Ct(()=>[t.min,t.max],()=>{l()})},xVe=(t,e,n)=>{const r=ge();return rr(async()=>{t.range?(an(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!tr(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Us(window,"resize",n),await Zn(),n()}),{sliderWrapper:r}},EVe=Me({name:"ElSlider"}),SVe=Me({...EVe,props:cVe,emits:uVe,setup(t,{expose:e,emit:n}){const r=t,i=Jt("slider"),{t:s}=ji(),a=as({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:l,firstButton:u,secondButton:h,sliderDisabled:d,minValue:f,maxValue:A,runwayStyle:m,barStyle:g,resetSize:y,emitChange:_,onSliderWrapperPrevent:x,onSliderClick:S,onSliderDown:C,onSliderMarkerDown:M,setFirstValue:B,setSecondValue:E}=yVe(r,a,n),{stops:L,getStopStyle:I}=_Ve(r,a,f,A),{inputId:k,isLabeledByFormItem:O}=SA(r,{formItemContext:o}),F=al(),U=J(()=>r.inputSize||F.value),$=J(()=>r.ariaLabel||s("el.slider.defaultLabel",{min:r.min,max:r.max})),K=J(()=>r.range?r.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):$.value),V=J(()=>r.formatValueText?r.formatValueText(Y.value):"".concat(Y.value)),Q=J(()=>r.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),X=J(()=>r.formatValueText?r.formatValueText(oe.value):"".concat(oe.value)),z=J(()=>[i.b(),i.m(F.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),ne=wVe(r);bVe(r,a,f,A,n,o);const he=J(()=>{const ce=[r.min,r.max,r.step].map(be=>{const xe="".concat(be).split(".")[1];return xe?xe.length:0});return Math.max.apply(null,ce)}),{sliderWrapper:W}=xVe(r,a,y),{firstValue:Y,secondValue:oe,sliderSize:fe}=Yo(a),me=ce=>{a.dragging=ce};return Us(W,"touchstart",x,{passive:!1}),Us(W,"touchmove",x,{passive:!1}),dr(Due,{...Yo(r),sliderSize:fe,disabled:d,precision:he,emitChange:_,resetSize:y,updateDragging:me}),e({onSliderClick:S}),(ce,be)=>{var xe,Ie;return ie(),Ee("div",{id:ce.range?b(k):void 0,ref_key:"sliderWrapper",ref:W,class:de(b(z)),role:ce.range?"group":void 0,"aria-label":ce.range&&!b(O)?b($):void 0,"aria-labelledby":ce.range&&b(O)?(xe=b(o))==null?void 0:xe.labelId:void 0},[Be("div",{ref_key:"slider",ref:l,class:de([b(i).e("runway"),{"show-input":ce.showInput&&!ce.range},b(i).is("disabled",b(d))]),style:Xn(b(m)),onMousedown:b(C),onTouchstartPassive:b(C)},[Be("div",{class:de(b(i).e("bar")),style:Xn(b(g))},null,6),Ce(PX,{id:ce.range?void 0:b(k),ref_key:"firstButton",ref:u,"model-value":b(Y),vertical:ce.vertical,"tooltip-class":ce.tooltipClass,placement:ce.placement,role:"slider","aria-label":ce.range||!b(O)?b(K):void 0,"aria-labelledby":!ce.range&&b(O)?(Ie=b(o))==null?void 0:Ie.labelId:void 0,"aria-valuemin":ce.min,"aria-valuemax":ce.range?b(oe):ce.max,"aria-valuenow":b(Y),"aria-valuetext":b(V),"aria-orientation":ce.vertical?"vertical":"horizontal","aria-disabled":b(d),"onUpdate:modelValue":b(B)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ce.range?(ie(),St(PX,{key:0,ref_key:"secondButton",ref:h,"model-value":b(oe),vertical:ce.vertical,"tooltip-class":ce.tooltipClass,placement:ce.placement,role:"slider","aria-label":b(Q),"aria-valuemin":b(Y),"aria-valuemax":ce.max,"aria-valuenow":b(oe),"aria-valuetext":b(X),"aria-orientation":ce.vertical?"vertical":"horizontal","aria-disabled":b(d),"onUpdate:modelValue":b(E)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):lt("v-if",!0),ce.showStops?(ie(),Ee("div",{key:1},[(ie(!0),Ee(Wn,null,wi(b(L),(Qe,ue)=>(ie(),Ee("div",{key:ue,class:de(b(i).e("stop")),style:Xn(b(I)(Qe))},null,6))),128))])):lt("v-if",!0),b(ne).length>0?(ie(),Ee(Wn,{key:2},[Be("div",null,[(ie(!0),Ee(Wn,null,wi(b(ne),(Qe,ue)=>(ie(),Ee("div",{key:ue,style:Xn(b(I)(Qe.position)),class:de([b(i).e("stop"),b(i).e("marks-stop")])},null,6))),128))]),Be("div",{class:de(b(i).e("marks"))},[(ie(!0),Ee(Wn,null,wi(b(ne),(Qe,ue)=>(ie(),St(b(vVe),{key:ue,mark:Qe.mark,style:Xn(b(I)(Qe.position)),onMousedown:mr(ye=>b(M)(Qe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):lt("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),ce.showInput&&!ce.range?(ie(),St(b(gue),{key:0,ref:"input","model-value":b(Y),class:de(b(i).e("input")),step:ce.step,disabled:b(d),controls:ce.showInputControls,min:ce.min,max:ce.max,precision:b(he),debounce:ce.debounce,size:b(U),"onUpdate:modelValue":b(B),onChange:b(_)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):lt("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var CVe=mn(SVe,[["__file","slider.vue"]]);const TVe=Nr(CVe),MVe=hn({prefixCls:{type:String}}),FX=Me({name:"ElSpaceItem",props:MVe,setup(t,{slots:e}){const n=Jt("space"),r=J(()=>"".concat(t.prefixCls||n.b(),"__item"));return()=>lr("div",{class:r.value},tt(e,"default"))}}),OX={small:8,default:12,large:16};function LVe(t){const e=Jt("space"),n=J(()=>[e.b(),e.m(t.direction),t.class]),r=ge(0),i=ge(0),s=J(()=>{const o=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},u={rowGap:"".concat(i.value,"px"),columnGap:"".concat(r.value,"px")};return[o,l,u,t.style]}),a=J(()=>t.fill?{flexGrow:1,minWidth:"".concat(t.fillRatio,"%")}:{});return Zc(()=>{const{size:o="small",wrap:l,direction:u,fill:h}=t;if(an(o)){const[d=0,f=0]=o;r.value=d,i.value=f}else{let d;tr(o)?d=o:d=OX[o||"small"]||OX.small,(l||h)&&u==="horizontal"?r.value=i.value=d:u==="horizontal"?(r.value=d,i.value=0):(i.value=d,r.value=0)}}),{classes:n,containerStyle:s,itemStyle:a}}const BVe=hn({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ht([String,Object,Array]),default:""},style:{type:ht([String,Array,Object]),default:""},alignment:{type:ht(String),default:"center"},prefixCls:{type:String},spacer:{type:ht([Object,String,Number,Array]),default:null,validator:t=>ka(t)||tr(t)||Qn(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:pm,validator:t=>tr(t)||an(t)&&t.length===2&&t.every(tr)}}),RVe=Me({name:"ElSpace",props:BVe,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:i}=LVe(t);function s(a,o="",l=[]){const{prefixCls:u}=t;return a.forEach((h,d)=>{U8(h)?an(h.children)&&h.children.forEach((f,A)=>{U8(f)&&an(f.children)?s(f.children,"".concat(o+A,"-"),l):l.push(Ce(FX,{style:i.value,prefixCls:u,key:"nested-".concat(o+A)},{default:()=>[f]},eA.PROPS|eA.STYLE,["style","prefixCls"]))}):d5e(h)&&l.push(Ce(FX,{style:i.value,prefixCls:u,key:"LoopKey".concat(o+d)},{default:()=>[h]},eA.PROPS|eA.STYLE,["style","prefixCls"]))}),l}return()=>{var a;const{spacer:o,direction:l}=t,u=tt(e,"default",{key:0},()=>[]);if(((a=u.children)!=null?a:[]).length===0)return null;if(an(u.children)){let h=s(u.children);if(o){const d=h.length-1;h=h.reduce((f,A,m)=>{const g=[...f,A];return m!==d&&g.push(Ce("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:m},[ka(o)?o:Mr(o,eA.TEXT)],eA.STYLE)),g},[])}return Ce("div",{class:n.value,style:r.value},h,eA.STYLE|eA.CLASS)}return u.children}}}),IVe=Nr(RVe),PVe=hn({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ht([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ht([String,Object,Array])}}),FVe=Me({name:"ElStatistic"}),OVe=Me({...FVe,props:PVe,setup(t,{expose:e}){const n=t,r=Jt("statistic"),i=J(()=>{const{value:s,formatter:a,precision:o,decimalSeparator:l,groupSeparator:u}=n;if(Kn(a))return a(s);if(!tr(s)||Number.isNaN(s))return s;let[h,d=""]=String(s).split(".");return d=d.padEnd(o,"0").slice(0,o>0?o:0),h=h.replace(/\B(?=(\d{3})+(?!\d))/g,u),[h,d].join(d?l:"")});return e({displayValue:i}),(s,a)=>(ie(),Ee("div",{class:de(b(r).b())},[s.$slots.title||s.title?(ie(),Ee("div",{key:0,class:de(b(r).e("head"))},[tt(s.$slots,"title",{},()=>[Mr(cn(s.title),1)])],2)):lt("v-if",!0),Be("div",{class:de(b(r).e("content"))},[s.$slots.prefix||s.prefix?(ie(),Ee("div",{key:0,class:de(b(r).e("prefix"))},[tt(s.$slots,"prefix",{},()=>[Be("span",null,cn(s.prefix),1)])],2)):lt("v-if",!0),Be("span",{class:de(b(r).e("number")),style:Xn(s.valueStyle)},cn(b(i)),7),s.$slots.suffix||s.suffix?(ie(),Ee("div",{key:1,class:de(b(r).e("suffix"))},[tt(s.$slots,"suffix",{},()=>[Be("span",null,cn(s.suffix),1)])],2)):lt("v-if",!0)],2)],2))}});var NVe=mn(OVe,[["__file","statistic.vue"]]);const kue=Nr(NVe),DVe=hn({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ht([Number,Object]),default:0},valueStyle:{type:ht([String,Object,Array])}}),kVe={finish:()=>!0,[Qs]:t=>tr(t)},UVe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],NX=t=>tr(t)?new Date(t).getTime():t.valueOf(),DX=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return UVe.reduce((s,[a,o])=>{const l=new RegExp("".concat(a,"+(?![^\\[\\]]*\\])"),"g");if(l.test(s)){const u=Math.floor(n/o);return n-=u*o,s.replace(l,h=>String(u).padStart(h.length,"0"))}return s},e).replace(r,"$1")},HVe=Me({name:"ElCountdown"}),GVe=Me({...HVe,props:DVe,emits:kVe,setup(t,{expose:e,emit:n}){const r=t;let i;const s=ge(0),a=J(()=>DX(s.value,r.format)),o=h=>DX(h,r.format),l=()=>{i&&(Q1(i),i=void 0)},u=()=>{const h=NX(r.value),d=()=>{let f=h-Date.now();n("change",f),f<=0?(f=0,l(),n("finish")):i=my(d),s.value=f};i=my(d)};return rr(()=>{s.value=NX(r.value)-Date.now(),Ct(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),Hs(()=>{l()}),e({displayValue:a}),(h,d)=>(ie(),St(b(kue),{value:s.value,title:h.title,prefix:h.prefix,suffix:h.suffix,"value-style":h.valueStyle,formatter:o},Lf({_:2},[wi(h.$slots,(f,A)=>({name:A,fn:De(()=>[tt(h.$slots,A)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var VVe=mn(GVe,[["__file","countdown.vue"]]);const zVe=Nr(VVe),$Ve=hn({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),QVe={[Qs]:(t,e)=>[t,e].every(tr)},WVe=Me({name:"ElSteps"}),jVe=Me({...WVe,props:$Ve,emits:QVe,setup(t,{emit:e}){const n=t,r=Jt("steps"),{children:i,addChild:s,removeChild:a}=m$(ni(),"ElStep");return Ct(i,()=>{i.value.forEach((o,l)=>{o.setIndex(l)})}),dr("ElSteps",{props:n,steps:i,addStep:s,removeStep:a}),Ct(()=>n.active,(o,l)=>{e(Qs,o,l)}),(o,l)=>(ie(),Ee("div",{class:de([b(r).b(),b(r).m(o.simple?"simple":o.direction)])},[tt(o.$slots,"default")],2))}});var KVe=mn(jVe,[["__file","steps.vue"]]);const qVe=hn({title:{type:String,default:""},icon:{type:Ws},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),XVe=Me({name:"ElStep"}),YVe=Me({...XVe,props:qVe,setup(t){const e=t,n=Jt("step"),r=ge(-1),i=ge({}),s=ge(""),a=qt("ElSteps"),o=ni();rr(()=>{Ct([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([B])=>{C(B)},{immediate:!0})}),Hs(()=>{a.removeStep(M.uid)});const l=J(()=>e.status||s.value),u=J(()=>{const B=a.steps.value[r.value-1];return B?B.currentStatus:"wait"}),h=J(()=>a.props.alignCenter),d=J(()=>a.props.direction==="vertical"),f=J(()=>a.props.simple),A=J(()=>a.steps.value.length),m=J(()=>{var B;return((B=a.steps.value[A.value-1])==null?void 0:B.uid)===(o==null?void 0:o.uid)}),g=J(()=>f.value?"":a.props.space),y=J(()=>[n.b(),n.is(f.value?"simple":a.props.direction),n.is("flex",m.value&&!g.value&&!h.value),n.is("center",h.value&&!d.value&&!f.value)]),_=J(()=>{const B={flexBasis:tr(g.value)?"".concat(g.value,"px"):g.value?g.value:"".concat(100/(A.value-(h.value?0:1)),"%")};return d.value||m.value&&(B.maxWidth="".concat(100/A.value,"%")),B}),x=B=>{r.value=B},S=B=>{const E=B==="wait",L={transitionDelay:"".concat(E?"-":"").concat(150*r.value,"ms")},I=B===a.props.processStatus||E?0:100;L.borderWidth=I&&!f.value?"1px":0,L[a.props.direction==="vertical"?"height":"width"]="".concat(I,"%"),i.value=L},C=B=>{B>r.value?s.value=a.props.finishStatus:B===r.value&&u.value!=="error"?s.value=a.props.processStatus:s.value="wait";const E=a.steps.value[r.value-1];E&&E.calcProgress(s.value)},M=as({uid:o.uid,currentStatus:l,setIndex:x,calcProgress:S});return a.addStep(M),(B,E)=>(ie(),Ee("div",{style:Xn(b(_)),class:de(b(y))},[lt(" icon & line "),Be("div",{class:de([b(n).e("head"),b(n).is(b(l))])},[b(f)?lt("v-if",!0):(ie(),Ee("div",{key:0,class:de(b(n).e("line"))},[Be("i",{class:de(b(n).e("line-inner")),style:Xn(i.value)},null,6)],2)),Be("div",{class:de([b(n).e("icon"),b(n).is(B.icon||B.$slots.icon?"icon":"text")])},[tt(B.$slots,"icon",{},()=>[B.icon?(ie(),St(b(Vn),{key:0,class:de(b(n).e("icon-inner"))},{default:De(()=>[(ie(),St(li(B.icon)))]),_:1},8,["class"])):b(l)==="success"?(ie(),St(b(Vn),{key:1,class:de([b(n).e("icon-inner"),b(n).is("status")])},{default:De(()=>[Ce(b(AL))]),_:1},8,["class"])):b(l)==="error"?(ie(),St(b(Vn),{key:2,class:de([b(n).e("icon-inner"),b(n).is("status")])},{default:De(()=>[Ce(b(wp))]),_:1},8,["class"])):b(f)?lt("v-if",!0):(ie(),Ee("div",{key:3,class:de(b(n).e("icon-inner"))},cn(r.value+1),3))])],2)],2),lt(" title & description "),Be("div",{class:de(b(n).e("main"))},[Be("div",{class:de([b(n).e("title"),b(n).is(b(l))])},[tt(B.$slots,"title",{},()=>[Mr(cn(B.title),1)])],2),b(f)?(ie(),Ee("div",{key:0,class:de(b(n).e("arrow"))},null,2)):(ie(),Ee("div",{key:1,class:de([b(n).e("description"),b(n).is(b(l))])},[tt(B.$slots,"description",{},()=>[Mr(cn(B.description),1)])],2))],2)],6))}});var Uue=mn(YVe,[["__file","item.vue"]]);const ZVe=Nr(KVe,{Step:Uue}),JVe=ho(Uue),Hue=t=>["",...pm].includes(t),eze=hn({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Hue},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Ws},activeActionIcon:{type:Ws},activeIcon:{type:Ws},inactiveIcon:{type:Ws},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ht(Function)},id:String,tabindex:{type:[String,Number]},...nu(["ariaLabel"])}),tze={[zr]:t=>Js(t)||Qn(t)||tr(t),[Qs]:t=>Js(t)||Qn(t)||tr(t),[bu]:t=>Js(t)||Qn(t)||tr(t)},Gue="ElSwitch",nze=Me({name:Gue}),rze=Me({...nze,props:eze,emits:tze,setup(t,{expose:e,emit:n}){const r=t,{formItem:i}=Cu(),s=al(),a=Jt("switch"),{inputId:o}=SA(r,{formItemContext:i}),l=Tu(J(()=>r.loading)),u=ge(r.modelValue!==!1),h=ge(),d=ge(),f=J(()=>[a.b(),a.m(s.value),a.is("disabled",l.value),a.is("checked",_.value)]),A=J(()=>[a.e("label"),a.em("label","left"),a.is("active",!_.value)]),m=J(()=>[a.e("label"),a.em("label","right"),a.is("active",_.value)]),g=J(()=>({width:xo(r.width)}));Ct(()=>r.modelValue,()=>{u.value=!0});const y=J(()=>u.value?r.modelValue:!1),_=J(()=>y.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(y.value)||(n(zr,r.inactiveValue),n(Qs,r.inactiveValue),n(bu,r.inactiveValue)),Ct(_,M=>{var B;h.value.checked=M,r.validateEvent&&((B=i==null?void 0:i.validate)==null||B.call(i,"change").catch(E=>void 0))});const x=()=>{const M=_.value?r.inactiveValue:r.activeValue;n(zr,M),n(Qs,M),n(bu,M),Zn(()=>{h.value.checked=_.value})},S=()=>{if(l.value)return;const{beforeChange:M}=r;if(!M){x();return}const B=M();[rM(B),Js(B)].includes(!0)||Gl(Gue,"beforeChange must return type `Promise<boolean>` or `boolean`"),rM(B)?B.then(L=>{L&&x()}).catch(L=>{}):B&&x()},C=()=>{var M,B;(B=(M=h.value)==null?void 0:M.focus)==null||B.call(M)};return rr(()=>{h.value.checked=_.value}),e({focus:C,checked:_}),(M,B)=>(ie(),Ee("div",{class:de(b(f)),onClick:mr(S,["prevent"])},[Be("input",{id:b(o),ref_key:"input",ref:h,class:de(b(a).e("input")),type:"checkbox",role:"switch","aria-checked":b(_),"aria-disabled":b(l),"aria-label":M.ariaLabel,name:M.name,"true-value":M.activeValue,"false-value":M.inactiveValue,disabled:b(l),tabindex:M.tabindex,onChange:x,onKeydown:$s(S,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!M.inlinePrompt&&(M.inactiveIcon||M.inactiveText)?(ie(),Ee("span",{key:0,class:de(b(A))},[M.inactiveIcon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(M.inactiveIcon)))]),_:1})):lt("v-if",!0),!M.inactiveIcon&&M.inactiveText?(ie(),Ee("span",{key:1,"aria-hidden":b(_)},cn(M.inactiveText),9,["aria-hidden"])):lt("v-if",!0)],2)):lt("v-if",!0),Be("span",{ref_key:"core",ref:d,class:de(b(a).e("core")),style:Xn(b(g))},[M.inlinePrompt?(ie(),Ee("div",{key:0,class:de(b(a).e("inner"))},[M.activeIcon||M.inactiveIcon?(ie(),St(b(Vn),{key:0,class:de(b(a).is("icon"))},{default:De(()=>[(ie(),St(li(b(_)?M.activeIcon:M.inactiveIcon)))]),_:1},8,["class"])):M.activeText||M.inactiveText?(ie(),Ee("span",{key:1,class:de(b(a).is("text")),"aria-hidden":!b(_)},cn(b(_)?M.activeText:M.inactiveText),11,["aria-hidden"])):lt("v-if",!0)],2)):lt("v-if",!0),Be("div",{class:de(b(a).e("action"))},[M.loading?(ie(),St(b(Vn),{key:0,class:de(b(a).is("loading"))},{default:De(()=>[Ce(b(am))]),_:1},8,["class"])):b(_)?tt(M.$slots,"active-action",{key:1},()=>[M.activeActionIcon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(M.activeActionIcon)))]),_:1})):lt("v-if",!0)]):b(_)?lt("v-if",!0):tt(M.$slots,"inactive-action",{key:2},()=>[M.inactiveActionIcon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(M.inactiveActionIcon)))]),_:1})):lt("v-if",!0)])],2)],6),!M.inlinePrompt&&(M.activeIcon||M.activeText)?(ie(),Ee("span",{key:1,class:de(b(m))},[M.activeIcon?(ie(),St(b(Vn),{key:0},{default:De(()=>[(ie(),St(li(M.activeIcon)))]),_:1})):lt("v-if",!0),!M.activeIcon&&M.activeText?(ie(),Ee("span",{key:1,"aria-hidden":!b(_)},cn(M.activeText),9,["aria-hidden"])):lt("v-if",!0)],2)):lt("v-if",!0)],10,["onClick"]))}});var ize=mn(rze,[["__file","switch.vue"]]);const sze=Nr(ize),GU=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},aze=function(t,e,n,r,i){if(!e&&!r&&(!i||an(i)&&!i.length))return t;Qn(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const s=r?null:function(o,l){return i?(an(i)||(i=[i]),i.map(u=>Qn(u)?qo(o,u):u(o,l,t))):(e!=="$key"&&qr(o)&&"$value"in o&&(o=o.$value),[qr(o)?qo(o,e):o])},a=function(o,l){if(r)return r(o.value,l.value);for(let u=0,h=o.key.length;u<h;u++){if(o.key[u]<l.key[u])return-1;if(o.key[u]>l.key[u])return 1}return 0};return t.map((o,l)=>({value:o,index:l,key:s?s(o,l):null})).sort((o,l)=>{let u=a(o,l);return u||(u=o.index-l.index),u*+n}).map(o=>o.value)},Vue=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},oze=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n||Gl("ElTable","No column matching with column-key: ".concat(e)),n},kX=function(t,e,n){const r=(e.className||"").match(new RegExp("".concat(n,"-table_[^\\s]+"),"gm"));return r?Vue(t,r[0]):null},th=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(Qn(e)){if(!e.includes("."))return"".concat(t[e]);const n=e.split(".");let r=t;for(const i of n)r=r[i];return"".concat(r)}else if(Kn(e))return e.call(null,t)},PT=function(t,e){const n={};return(t||[]).forEach((r,i)=>{n[th(r,e)]={row:r,index:i}}),n};function lze(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(us(e,r)){const i=e[r];ps(i)||(n[r]=i)}return n}function z$(t){return t===""||ps(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function zue(t){return t===""||ps(t)||(t=z$(t),Number.isNaN(t)&&(t=80)),t}function cze(t){return tr(t)?t:Qn(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function uze(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hO(t,e,n,r,i,s){let a=s!=null?s:0,o=!1;const l=t.indexOf(e),u=l!==-1,h=i==null?void 0:i.call(null,e,a),d=A=>{A==="add"?t.push(e):t.splice(l,1),o=!0},f=A=>{let m=0;const g=(r==null?void 0:r.children)&&A[r.children];return g&&an(g)&&(m+=g.length,g.forEach(y=>{m+=f(y)})),m};return(!i||h)&&(Js(n)?n&&!u?d("add"):!n&&u&&d("remove"):d(u?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&an(e[r.children])&&e[r.children].forEach(A=>{const m=hO(t,A,n!=null?n:!u,r,i,a+1);a+=f(A)+1,m&&(o=m)}),o}function hze(t,e,n="children",r="hasChildren"){const i=a=>!(an(a)&&a.length);function s(a,o,l){e(a,o,l),o.forEach(u=>{if(u[r]){e(u,null,l+1);return}const h=u[n];i(h)||s(u,h,l+1)})}t.forEach(a=>{if(a[r]){e(a,null,0);return}const o=a[n];i(o)||s(a,o,0)})}const dze=(t,e,n,r)=>{const i={strategy:"fixed",...t.popperOptions},s=Kn(r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:MT(n,r.property).value}):void 0;return ka(s)?{slotContent:s,content:null,...t,popperOptions:i}:{slotContent:null,content:s!=null?s:e,...t,popperOptions:i}};let Ed=null;function fze(t,e,n,r,i,s){const a=dze(t,e,n,r),o={...a,slotContent:void 0};if((Ed==null?void 0:Ed.trigger)===i){const A=Ed.vm.component;ule(A.props,o),a.slotContent&&(A.slots.content=()=>[a.slotContent]);return}Ed==null||Ed();const l=s==null?void 0:s.refs.tableWrapper,u=l==null?void 0:l.dataset.prefix,h=Ce(Eu,{virtualTriggering:!0,virtualRef:i,appendTo:l,placement:"top",transition:"none",offset:0,hideAfter:0,...o},a.slotContent?{content:()=>a.slotContent}:void 0);h.appContext={...s.appContext,...s};const d=document.createElement("div");fy(h,d),h.component.exposed.onOpen();const f=l==null?void 0:l.querySelector(".".concat(u,"-scrollbar__wrap"));Ed=()=>{fy(null,d),f==null||f.removeEventListener("scroll",Ed),Ed=null},Ed.trigger=i,Ed.vm=h,f==null||f.addEventListener("scroll",Ed)}function $ue(t){return t.children?pRe(t.children,$ue):[t]}function UX(t,e){return t+e.colSpan}const Que=(t,e,n,r)=>{let i=0,s=t;const a=n.states.columns.value;if(r){const l=$ue(r[t]);i=a.slice(0,a.indexOf(l[0])).reduce(UX,0),s=i+l.reduce(UX,0)-1}else i=t;let o;switch(e){case"left":s<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:s<n.states.fixedLeafColumnsLength.value?o="left":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:i,after:s}:{}},$$=(t,e,n,r,i,s=0)=>{const a=[],{direction:o,start:l,after:u}=Que(e,n,r,i);if(o){const h=o==="left";a.push("".concat(t,"-fixed-column--").concat(o)),h&&u+s===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!h&&l-s===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function HX(t,e){return t+(yL(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const Q$=(t,e,n,r)=>{const{direction:i,start:s=0,after:a=0}=Que(t,e,n,r);if(!i)return;const o={},l=i==="left",u=n.states.columns.value;return l?o.left=u.slice(0,s).reduce(HX,0):o.right=u.slice(a+1).reverse().reduce(HX,0),o},rS=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]="".concat(t[e],"px")))};function Aze(t){const e=ni(),n=ge(!1),r=ge([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)r.value=l.slice();else if(u){const h=PT(r.value,u);r.value=l.reduce((d,f)=>{const A=th(f,u);return h[A]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{hO(r.value,l,u)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],h=t.rowKey.value,d=PT(u,h);r.value=l.reduce((f,A)=>{const m=d[A];return m&&f.push(m.row),f},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!PT(r.value,u)[th(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function pze(t){const e=ni(),n=ge(null),r=ge(null),i=u=>{e.store.assertRowKey(),n.value=u,a(u)},s=()=>{n.value=null},a=u=>{const{data:h,rowKey:d}=t;let f=null;d.value&&(f=(b(h)||[]).find(A=>th(A,d.value)===u)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:a,updateCurrentRow:u=>{const h=r.value;if(u&&u!==h){r.value=u,e.emit("current-change",r.value,h);return}!u&&h&&(r.value=null,e.emit("current-change",null,h))},updateCurrentRowData:()=>{const u=t.rowKey.value,h=t.data.value||[],d=r.value;if(!h.includes(d)&&d){if(u){const f=th(d,u);a(f)}else r.value=null;yL(r.value)&&e.emit("current-change",null,d)}else n.value&&(a(n.value),s())},states:{_currentRowKey:n,currentRow:r}}}function gze(t){const e=ge([]),n=ge({}),r=ge(16),i=ge(!1),s=ge({}),a=ge("hasChildren"),o=ge("children"),l=ge(!1),u=ni(),h=J(()=>{if(!t.rowKey.value)return{};const C=t.data.value||[];return f(C)}),d=J(()=>{const C=t.rowKey.value,M=Object.keys(s.value),B={};return M.length&&M.forEach(E=>{if(s.value[E].length){const L={children:[]};s.value[E].forEach(I=>{const k=th(I,C);L.children.push(k),I[a.value]&&!B[k]&&(B[k]={children:[]})}),B[E]=L}}),B}),f=C=>{const M=t.rowKey.value,B={};return hze(C,(E,L,I)=>{const k=th(E,M);an(L)?B[k]={children:L.map(O=>th(O,M)),level:I}:i.value&&(B[k]={children:[],lazy:!0,level:I})},o.value,a.value),B},A=(C=!1,M=(B=>(B=u.store)==null?void 0:B.states.defaultExpandAll.value)())=>{var B;const E=h.value,L=d.value,I=Object.keys(E),k={};if(I.length){const O=b(n),F=[],U=(K,V)=>{if(C)return e.value?M||e.value.includes(V):!!(M||K!=null&&K.expanded);{const Q=M||e.value&&e.value.includes(V);return!!(K!=null&&K.expanded||Q)}};I.forEach(K=>{const V=O[K],Q={...E[K]};if(Q.expanded=U(V,K),Q.lazy){const{loaded:X=!1,loading:z=!1}=V||{};Q.loaded=!!X,Q.loading=!!z,F.push(K)}k[K]=Q});const $=Object.keys(L);i.value&&$.length&&F.length&&$.forEach(K=>{const V=O[K],Q=L[K].children;if(F.includes(K)){if(k[K].children.length!==0)throw new Error("[ElTable]children must be an empty array.");k[K].children=Q}else{const{loaded:X=!1,loading:z=!1}=V||{};k[K]={lazy:!0,loaded:!!X,loading:!!z,expanded:U(V,K),children:Q,level:""}}})}n.value=k,(B=u.store)==null||B.updateTableScrollY()};Ct(()=>e.value,()=>{A(!0)}),Ct(()=>h.value,()=>{A()}),Ct(()=>d.value,()=>{A()});const m=C=>{e.value=C,A()},g=C=>i.value&&C&&"loaded"in C&&!C.loaded,y=(C,M)=>{u.store.assertRowKey();const B=t.rowKey.value,E=th(C,B),L=E&&n.value[E];if(E&&L&&"expanded"in L){const I=L.expanded;M=ps(M)?!L.expanded:M,n.value[E].expanded=M,I!==M&&u.emit("expand-change",C,M),g(L)&&x(C,E,L),u.store.updateTableScrollY()}},_=C=>{u.store.assertRowKey();const M=t.rowKey.value,B=th(C,M),E=n.value[B];g(E)?x(C,B,E):y(C,void 0)},x=(C,M,B)=>{const{load:E}=u.props;E&&!n.value[M].loaded&&(n.value[M].loading=!0,E(C,B,L=>{if(!an(L))throw new TypeError("[ElTable] data must be an array");n.value[M].loading=!1,n.value[M].loaded=!0,n.value[M].expanded=!0,L.length&&(s.value[M]=L),u.emit("expand-change",C,!0)}))};return{loadData:x,loadOrToggle:_,toggleTreeExpansion:y,updateTreeExpandKeys:m,updateTreeData:A,updateKeyChildren:(C,M)=>{const{lazy:B,rowKey:E}=u.props;if(B){if(!E)throw new Error("[Table] rowKey is required in updateKeyChild");s.value[C]&&(s.value[C]=M)}},normalize:f,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:a,childrenColumnName:o,checkStrictly:l}}}const mze=(t,e)=>{const n=e.sortingColumn;return!n||Qn(n.sortable)?t:aze(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},qP=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,qP(n.children)):e.push(n)}),e};function vze(){var t;const e=ni(),{size:n}=Yo((t=e.proxy)==null?void 0:t.$props),r=ge(null),i=ge([]),s=ge([]),a=ge(!1),o=ge([]),l=ge([]),u=ge([]),h=ge([]),d=ge([]),f=ge([]),A=ge([]),m=ge([]),g=[],y=ge(0),_=ge(0),x=ge(0),S=ge(!1),C=ge([]),M=ge(!1),B=ge(!1),E=ge(null),L=ge({}),I=ge(null),k=ge(null),O=ge(null),F=ge(null),U=ge(null),$=J(()=>r.value?PT(C.value,r.value):void 0);Ct(i,()=>{var Dt;e.state&&(X(!1),e.props.tableLayout==="auto"&&((Dt=e.refs.tableHeaderRef)==null||Dt.updateFixedColumnStyle()))},{deep:!0});const K=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},V=Dt=>{var st;(st=Dt.children)==null||st.forEach(ke=>{ke.fixed=Dt.fixed,V(ke)})},Q=()=>{var Dt,st;o.value.forEach(mt=>{V(mt)}),h.value=o.value.filter(mt=>mt.type!=="selection"&&[!0,"left"].includes(mt.fixed));let ke;if(((st=(Dt=o.value)==null?void 0:Dt[0])==null?void 0:st.type)==="selection"){const mt=o.value[0];ke=[!0,"left"].includes(mt.fixed)||h.value.length&&mt.fixed!=="right",ke&&h.value.unshift(mt)}d.value=o.value.filter(mt=>mt.fixed==="right");const ct=o.value.filter(mt=>(ke?mt.type!=="selection":!0)&&!mt.fixed);l.value=[].concat(h.value).concat(ct).concat(d.value);const Oe=qP(ct),kt=qP(h.value),wn=qP(d.value);y.value=Oe.length,_.value=kt.length,x.value=wn.length,u.value=[].concat(kt).concat(Oe).concat(wn),a.value=h.value.length>0||d.value.length>0},X=(Dt,st=!1)=>{Dt&&Q(),st?e.state.doLayout():e.state.debouncedUpdateLayout()},z=Dt=>$.value?!!$.value[th(Dt,r.value)]:C.value.includes(Dt),ne=()=>{S.value=!1;const Dt=C.value;C.value=[],Dt.length&&e.emit("selection-change",[])},he=()=>{let Dt;if(r.value){Dt=[];const st=PT(i.value,r.value);for(const ke in $.value)us($.value,ke)&&!st[ke]&&Dt.push($.value[ke].row)}else Dt=C.value.filter(st=>!i.value.includes(st));if(Dt.length){const st=C.value.filter(ke=>!Dt.includes(ke));C.value=st,e.emit("selection-change",st.slice())}},W=()=>(C.value||[]).slice(),Y=(Dt,st,ke=!0,ct=!1)=>{var Oe,kt,wn,mt;const Kt={children:(kt=(Oe=e==null?void 0:e.store)==null?void 0:Oe.states)==null?void 0:kt.childrenColumnName.value,checkStrictly:(mt=(wn=e==null?void 0:e.store)==null?void 0:wn.states)==null?void 0:mt.checkStrictly.value};if(hO(C.value,Dt,st,Kt,ct?void 0:E.value,i.value.indexOf(Dt))){const Rn=(C.value||[]).slice();ke&&e.emit("select",Rn,Dt),e.emit("selection-change",Rn)}},oe=()=>{var Dt,st;const ke=B.value?!S.value:!(S.value||C.value.length);S.value=ke;let ct=!1,Oe=0;const kt=(st=(Dt=e==null?void 0:e.store)==null?void 0:Dt.states)==null?void 0:st.rowKey.value,{childrenColumnName:wn}=e.store.states,mt={children:wn.value,checkStrictly:!1};i.value.forEach((Kt,bn)=>{const Rn=bn+Oe;hO(C.value,Kt,ke,mt,E.value,Rn)&&(ct=!0),Oe+=ce(th(Kt,kt))}),ct&&e.emit("selection-change",C.value?C.value.slice():[]),e.emit("select-all",(C.value||[]).slice())},fe=()=>{i.value.forEach(Dt=>{const st=th(Dt,r.value),ke=$.value[st];ke&&(C.value[ke.index]=Dt)})},me=()=>{var Dt;if(((Dt=i.value)==null?void 0:Dt.length)===0){S.value=!1;return}const{childrenColumnName:st}=e.store.states;let ke=0,ct=0;const Oe=wn=>{var mt;for(const Kt of wn){const bn=E.value&&E.value.call(null,Kt,ke);if(z(Kt))ct++;else if(!E.value||bn)return!1;if(ke++,(mt=Kt[st.value])!=null&&mt.length&&!Oe(Kt[st.value]))return!1}return!0},kt=Oe(i.value||[]);S.value=ct===0?!1:kt},ce=Dt=>{var st;if(!e||!e.store)return 0;const{treeData:ke}=e.store.states;let ct=0;const Oe=(st=ke.value[Dt])==null?void 0:st.children;return Oe&&(ct+=Oe.length,Oe.forEach(kt=>{ct+=ce(kt)})),ct},be=(Dt,st)=>{an(Dt)||(Dt=[Dt]);const ke={};return Dt.forEach(ct=>{L.value[ct.id]=st,ke[ct.columnKey||ct.id]=st}),ke},xe=(Dt,st,ke)=>{k.value&&k.value!==Dt&&(k.value.order=null),k.value=Dt,O.value=st,F.value=ke},Ie=()=>{let Dt=b(s);Object.keys(L.value).forEach(st=>{const ke=L.value[st];if(!ke||ke.length===0)return;const ct=Vue({columns:u.value},st);ct&&ct.filterMethod&&(Dt=Dt.filter(Oe=>ke.some(kt=>ct.filterMethod.call(null,kt,Oe,ct))))}),I.value=Dt},Qe=()=>{i.value=mze(I.value,{sortingColumn:k.value,sortProp:O.value,sortOrder:F.value})},ue=(Dt=void 0)=>{Dt&&Dt.filter||Ie(),Qe()},ye=Dt=>{const{tableHeaderRef:st}=e.refs;if(!st)return;const ke=Object.assign({},st.filterPanels),ct=Object.keys(ke);if(ct.length)if(Qn(Dt)&&(Dt=[Dt]),an(Dt)){const Oe=Dt.map(kt=>oze({columns:u.value},kt));ct.forEach(kt=>{const wn=Oe.find(mt=>mt.id===kt);wn&&(wn.filteredValue=[])}),e.store.commit("filterChange",{column:Oe,values:[],silent:!0,multi:!0})}else ct.forEach(Oe=>{const kt=u.value.find(wn=>wn.id===Oe);kt&&(kt.filteredValue=[])}),L.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},$e=()=>{k.value&&(xe(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ve,toggleRowExpansion:Se,updateExpandRows:at,states:ft,isRowExpanded:je}=Aze({data:i,rowKey:r}),{updateTreeExpandKeys:gt,toggleTreeExpansion:vt,updateTreeData:Te,updateKeyChildren:we,loadOrToggle:Ne,states:Ze}=gze({data:i,rowKey:r}),{updateCurrentRowData:Tt,updateCurrentRow:Zt,setCurrentRowKey:ln,states:Ye}=pze({data:i,rowKey:r});return{assertRowKey:K,updateColumns:Q,scheduleLayout:X,isSelected:z,clearSelection:ne,cleanSelection:he,getSelectionRows:W,toggleRowSelection:Y,_toggleAllSelection:oe,toggleAllSelection:null,updateSelectionByRowKey:fe,updateAllSelected:me,updateFilters:be,updateCurrentRow:Zt,updateSort:xe,execFilter:Ie,execSort:Qe,execQuery:ue,clearFilter:ye,clearSort:$e,toggleRowExpansion:Se,setExpandRowKeysAdapter:Dt=>{Ve(Dt),gt(Dt)},setCurrentRowKey:ln,toggleRowExpansionAdapter:(Dt,st)=>{u.value.some(({type:ct})=>ct==="expand")?Se(Dt,st):vt(Dt,st)},isRowExpanded:je,updateExpandRows:at,updateCurrentRowData:Tt,loadOrToggle:Ne,updateTreeData:Te,updateKeyChildren:we,states:{tableSize:n,rowKey:r,data:i,_data:s,isComplex:a,_columns:o,originColumns:l,columns:u,fixedColumns:h,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:A,rightFixedLeafColumns:m,updateOrderFns:g,leafColumnsLength:y,fixedLeafColumnsLength:_,rightFixedLeafColumnsLength:x,isAllSelected:S,selection:C,reserveSelection:M,selectOnIndeterminate:B,selectable:E,filters:L,filteredData:I,sortingColumn:k,sortProp:O,sortOrder:F,hoverRow:U,...ft,...Ze,...Ye}}}function cH(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=cH(n.children,e)),n)})}function uH(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&uH(e.children)}),t.sort((e,n)=>e.no-n.no)}function yze(){const t=ni(),e=vze();return{ns:Jt("table"),...e,mutations:{setData(a,o){const l=b(a._data)!==o;a.data.value=o,a._data.value=o,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),b(a.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(a,o,l,u){const h=b(a._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(o),d=cH(h,l)):(h.push(o),d=h),uH(d),a._columns.value=d,a.updateOrderFns.push(u),o.type==="selection"&&(a.selectable.value=o.selectable,a.reserveSelection.value=o.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(a,o){var l;((l=o.getColumnIndex)==null?void 0:l.call(o))!==o.no&&(uH(a._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(a,o,l,u){const h=b(a._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===o.id),1),Zn(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),a._columns.value=cH(h,l);else{const f=h.indexOf(o);f>-1&&(h.splice(f,1),a._columns.value=h)}const d=a.updateOrderFns.indexOf(u);d>-1&&a.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(a,o){const{prop:l,order:u,init:h}=o;if(l){const d=b(a.columns).find(f=>f.property===l);d&&(d.order=u,t.store.updateSort(d,l,u),t.store.commit("changeSortCondition",{init:h}))}},changeSortCondition(a,o){const{sortingColumn:l,sortProp:u,sortOrder:h}=a,d=b(l),f=b(u),A=b(h);yL(A)&&(a.sortingColumn.value=null,a.sortProp.value=null);const m={filter:!0};t.store.execQuery(m),(!o||!(o.silent||o.init))&&t.emit("sort-change",{column:d,prop:f,order:A}),t.store.updateTableScrollY()},filterChange(a,o){const{column:l,values:u,silent:h}=o,d=t.store.updateFilters(l,u);t.store.execQuery(),h||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(a,o){t.store.toggleRowSelection(o),t.store.updateAllSelected()},setHoverRow(a,o){a.hoverRow.value=o},setCurrentRow(a,o){t.store.updateCurrentRow(o)}},commit:function(a,...o){const l=t.store.mutations;if(l[a])l[a].apply(t,[t.store.states].concat(o));else throw new Error("Action not found: ".concat(a))},updateTableScrollY:function(){Zn(()=>t.layout.updateScrollY.apply(t.layout))}}}const FT={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function _ze(t,e){if(!t)throw new Error("Table is required.");const n=yze();return n.toggleAllSelection=Dd(n._toggleAllSelection,10),Object.keys(FT).forEach(r=>{Wue(jue(e,r),r,n)}),wze(n,e),n}function wze(t,e){Object.keys(FT).forEach(n=>{Ct(()=>jue(e,n),r=>{Wue(r,n,t)})})}function Wue(t,e,n){let r=t,i=FT[e];qr(FT[e])&&(i=i.key,r=r||FT[e].default),n.states[i].value=r}function jue(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class bze{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ge(null),this.scrollX=ge(!1),this.scrollY=ge(!1),this.bodyWidth=ge(null),this.fixedWidth=ge(null),this.rightFixedWidth=ge(null),this.gutterWidth=0;for(const n in e)us(e,n)&&(ga(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(yL(e))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!Wi)return;const r=this.table.vnode.el;if(e=cze(e),this.height.value=Number(e),!r&&(e||e===0))return Zn(()=>this.setHeight(e,n));tr(e)?(r.style[n]="".concat(e,"px"),this.updateElsHeight()):Qn(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Wi)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),s=i.filter(l=>!tr(l.width));if(i.forEach(l=>{tr(l.width)&&l.realWidth&&(l.realWidth=null)}),s.length>0&&e){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+l;else{const u=s.reduce((f,A)=>f+Number(A.minWidth||80),0),h=l/u;let d=0;s.forEach((f,A)=>{if(A===0)return;const m=Math.floor(Number(f.minWidth||80)*h);d+=m,f.realWidth=Number(f.minWidth||80)+m}),s[0].realWidth=Number(s[0].minWidth||80)+l-d}}else this.scrollX.value=!0,s.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const a=this.store.states.fixedColumns.value;if(a.length>0){let l=0;a.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,s;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=r.state)==null||s.onScrollableChange(this);break;default:throw new Error("Table Layout don't have event ".concat(e,"."))}})}}const{CheckboxGroup:xze}=bA,Eze=Me({name:"ElTableFilterPanel",components:{ElCheckbox:bA,ElCheckboxGroup:xze,ElScrollbar:gm,ElTooltip:Eu,ElIcon:Vn,ArrowDown:Uv,ArrowUp:Lz},directives:{ClickOutside:Tv},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=ni(),{t:n}=ji(),r=Jt("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const s=ge(!1),a=ge(null),o=J(()=>t.column&&t.column.filters),l=J(()=>t.column.filterClassName?"".concat(r.b()," ").concat(t.column.filterClassName):r.b()),u=J({get:()=>{var M;return(((M=t.column)==null?void 0:M.filteredValue)||[])[0]},set:M=>{h.value&&(gp(M)?h.value.splice(0,1):h.value.splice(0,1,M))}}),h=J({get(){return t.column?t.column.filteredValue||[]:[]},set(M){t.column&&t.upDataColumn("filteredValue",M)}}),d=J(()=>t.column?t.column.filterMultiple:!0),f=M=>M.value===u.value,A=()=>{s.value=!1},m=M=>{M.stopPropagation(),s.value=!s.value},g=()=>{s.value=!1},y=()=>{S(h.value),A()},_=()=>{h.value=[],S(h.value),A()},x=M=>{u.value=M,gp(M)?S([]):S(h.value),A()},S=M=>{t.store.commit("filterChange",{column:t.column,values:M}),t.store.updateAllSelected()};Ct(s,M=>{t.column&&t.upDataColumn("filterOpened",M)},{immediate:!0});const C=J(()=>{var M,B;return(B=(M=a.value)==null?void 0:M.popperRef)==null?void 0:B.contentRef});return{tooltipVisible:s,multiple:d,filterClassName:l,filteredValue:h,filterValue:u,filters:o,handleConfirm:y,handleReset:_,handleSelect:x,isPropAbsent:gp,isActive:f,t:n,ns:r,showFilterPanel:m,hideFilterPanel:g,popperPaneRef:C,tooltip:a}}});function Sze(t,e,n,r,i,s){const a=Nn("el-checkbox"),o=Nn("el-checkbox-group"),l=Nn("el-scrollbar"),u=Nn("arrow-up"),h=Nn("arrow-down"),d=Nn("el-icon"),f=Nn("el-tooltip"),A=dL("click-outside");return ie(),St(f,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:De(()=>[t.multiple?(ie(),Ee("div",{key:0},[Be("div",{class:de(t.ns.e("content"))},[Ce(l,{"wrap-class":t.ns.e("wrap")},{default:De(()=>[Ce(o,{modelValue:t.filteredValue,"onUpdate:modelValue":m=>t.filteredValue=m,class:de(t.ns.e("checkbox-group"))},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(t.filters,m=>(ie(),St(a,{key:m.value,value:m.value},{default:De(()=>[Mr(cn(m.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Be("div",{class:de(t.ns.e("bottom"))},[Be("button",{class:de({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},cn(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),Be("button",{type:"button",onClick:t.handleReset},cn(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(ie(),Ee("ul",{key:1,class:de(t.ns.e("list"))},[Be("li",{class:de([t.ns.e("list-item"),{[t.ns.is("active")]:t.isPropAbsent(t.filterValue)}]),onClick:m=>t.handleSelect(null)},cn(t.t("el.table.clearFilter")),11,["onClick"]),(ie(!0),Ee(Wn,null,wi(t.filters,m=>(ie(),Ee("li",{key:m.value,class:de([t.ns.e("list-item"),t.ns.is("active",t.isActive(m))]),label:m.value,onClick:g=>t.handleSelect(m.value)},cn(m.text),11,["label","onClick"]))),128))],2))]),default:De(()=>[Br((ie(),Ee("span",{class:de(["".concat(t.ns.namespace.value,"-table__column-filter-trigger"),"".concat(t.ns.namespace.value,"-none-outline")]),onClick:t.showFilterPanel},[Ce(d,null,{default:De(()=>[tt(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(ie(),St(u,{key:0})):(ie(),St(h,{key:1}))])]),_:3})],10,["onClick"])),[[A,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var Cze=mn(Eze,[["render",Sze],["__file","filter-panel.vue"]]);function W$(t){const e=ni();QN(()=>{n.value.addObserver(e)}),rr(()=>{r(n.value),i(n.value)}),Bp(()=>{r(n.value),i(n.value)}),ca(()=>{n.value.removeObserver(e)});const n=J(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),r=s=>{var a;const o=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=s.getFlattenColumns(),u={};l.forEach(h=>{u[h.id]=h});for(let h=0,d=o.length;h<d;h++){const f=o[h],A=f.getAttribute("name"),m=u[A];m&&f.setAttribute("width",m.realWidth||m.width)}},i=s=>{var a,o;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let h=0,d=l.length;h<d;h++)l[h].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const u=((o=t.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let h=0,d=u.length;h<d;h++){const f=u[h];f.style.width=s.scrollY.value?"".concat(s.gutterWidth,"px"):"0",f.style.display=s.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const Fp=Symbol("ElTable");function Tze(t,e){const n=ni(),r=qt(Fp),i=g=>{g.stopPropagation()},s=(g,y)=>{!y.filters&&y.sortable?m(g,y,!1):y.filterable&&!y.sortable&&i(g),r==null||r.emit("header-click",y,g)},a=(g,y)=>{r==null||r.emit("header-contextmenu",y,g)},o=ge(null),l=ge(!1),u=ge({}),h=(g,y)=>{if(Wi&&!(y.children&&y.children.length>0)&&o.value&&t.border){l.value=!0;const _=r;e("set-drag-visible",!0);const S=(_==null?void 0:_.vnode.el).getBoundingClientRect().left,C=n.vnode.el.querySelector("th.".concat(y.id)),M=C.getBoundingClientRect(),B=M.left-S+30;oA(C,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:M.right-S,startColumnLeft:M.left-S,tableLeft:S};const E=_==null?void 0:_.refs.resizeProxy;E.style.left="".concat(u.value.startLeft,"px"),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const L=k=>{const O=k.clientX-u.value.startMouseLeft,F=u.value.startLeft+O;E.style.left="".concat(Math.max(B,F),"px")},I=()=>{if(l.value){const{startColumnLeft:k,startLeft:O}=u.value,U=Number.parseInt(E.style.left,10)-k;y.width=y.realWidth=U,_==null||_.emit("header-dragend",y.width,O-k,y,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",I),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{lh(C,"noclick")},0)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",I)}},d=(g,y)=>{var _;if(y.children&&y.children.length>0)return;const x=g.target;if(!zh(x))return;const S=x==null?void 0:x.closest("th");if(!(!y||!y.resizable||!S)&&!l.value&&t.border){const C=S.getBoundingClientRect(),M=document.body.style,B=((_=S.parentNode)==null?void 0:_.lastElementChild)===S,E=t.allowDragLastColumn||!B;C.width>12&&C.right-g.pageX<8&&E?(M.cursor="col-resize",Rd(S,"is-sortable")&&(S.style.cursor="col-resize"),o.value=y):l.value||(M.cursor="",Rd(S,"is-sortable")&&(S.style.cursor="pointer"),o.value=null)}},f=()=>{Wi&&(document.body.style.cursor="")},A=({order:g,sortOrders:y})=>{if(g==="")return y[0];const _=y.indexOf(g||null);return y[_>y.length-2?0:_+1]},m=(g,y,_)=>{var x;g.stopPropagation();const S=y.order===_?null:_||A(y),C=(x=g.target)==null?void 0:x.closest("th");if(C&&Rd(C,"noclick")){lh(C,"noclick");return}if(!y.sortable)return;const M=g.currentTarget;if(["ascending","descending"].some(k=>Rd(M,k)&&!y.sortOrders.includes(k)))return;const B=t.store.states;let E=B.sortProp.value,L;const I=B.sortingColumn.value;(I!==y||I===y&&yL(I.order))&&(I&&(I.order=null),B.sortingColumn.value=y,E=y.property),S?L=y.order=S:L=y.order=null,B.sortProp.value=E,B.sortOrder.value=L,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:a,handleMouseDown:h,handleMouseMove:d,handleMouseOut:f,handleSortClick:m,handleFilterClick:i}}function Mze(t){const e=qt(Fp),n=Jt("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return Kn(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return Qn(u)?l.push(u):Kn(u)&&l.push(u.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,u,h)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};Kn(f)&&(f=f.call(null,{rowIndex:o,columnIndex:l,row:u,column:h}));const A=Q$(l,h.fixed,t.store,u);return rS(A,"left"),rS(A,"right"),Object.assign({},f,A)},getHeaderCellClass:(o,l,u,h)=>{const d=$$(n.b(),l,h.fixed,t.store,u),f=[h.id,h.order,h.headerAlign,h.className,h.labelClassName,...d];h.children||f.push("is-leaf"),h.sortable&&f.push("is-sortable");const A=e==null?void 0:e.props.headerCellClassName;return Qn(A)?f.push(A):Kn(A)&&f.push(A.call(null,{rowIndex:o,columnIndex:l,row:u,column:h})),f.push(n.e("cell")),f.filter(m=>!!m).join(" ")}}}const Kue=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,Kue(n.children))):e.push(n)}),e},que=t=>{let e=1;const n=(s,a)=>{if(a&&(s.level=a.level+1,e<s.level&&(e=s.level)),s.children){let o=0;s.children.forEach(l=>{n(l,s),o+=l.colSpan}),s.colSpan=o}else s.colSpan=1};t.forEach(s=>{s.level=1,n(s,void 0)});const r=[];for(let s=0;s<e;s++)r.push([]);return Kue(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(a=>a.isSubColumn=!0)):s.rowSpan=e-s.level+1,r[s.level-1].push(s)}),r};function Lze(t){const e=qt(Fp),n=J(()=>que(t.store.states.originColumns.value));return{isGroup:J(()=>{const s=n.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var Bze=Me({name:"ElTableHeader",components:{ElCheckbox:bA},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=ni(),r=qt(Fp),i=Jt("table"),s=ge({}),{onColumnsChange:a,onScrollableChange:o}=W$(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=as(new Map),h=ge(),d=()=>{setTimeout(()=>{u.size>0&&(u.forEach((k,O)=>{const F=h.value.querySelector(".".concat(O.replace(/\s/g,".")));if(F){const U=F.getBoundingClientRect().width;k.width=U}}),u.clear())})};Ct(u,d),rr(async()=>{await Zn(),await Zn();const{prop:k,order:O}=t.defaultSort;r==null||r.store.commit("sort",{prop:k,order:O,init:!0}),d()});const{handleHeaderClick:f,handleHeaderContextMenu:A,handleMouseDown:m,handleMouseMove:g,handleMouseOut:y,handleSortClick:_,handleFilterClick:x}=Tze(t,e),{getHeaderRowStyle:S,getHeaderRowClass:C,getHeaderCellStyle:M,getHeaderCellClass:B}=Mze(t),{isGroup:E,toggleAllSelection:L,columnRows:I}=Lze(t);return n.state={onColumnsChange:a,onScrollableChange:o},n.filterPanels=s,{ns:i,filterPanels:s,onColumnsChange:a,onScrollableChange:o,columnRows:I,getHeaderRowClass:C,getHeaderRowStyle:S,getHeaderCellClass:B,getHeaderCellStyle:M,handleHeaderClick:f,handleHeaderContextMenu:A,handleMouseDown:m,handleMouseMove:g,handleMouseOut:y,handleSortClick:_,handleFilterClick:x,isGroup:E,toggleAllSelection:L,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:h,updateFixedColumnStyle:d}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:s,getHeaderRowStyle:a,handleHeaderClick:o,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:h,handleSortClick:d,handleMouseOut:f,store:A,$parent:m,saveIndexSelection:g,isTableLayoutAuto:y}=this;let _=1;return lr("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map((x,S)=>lr("tr",{class:s(S),key:S,style:a(S)},x.map((C,M)=>{C.rowSpan>_&&(_=C.rowSpan);const B=i(S,M,x,C);return y&&C.fixed&&g.set(B,C),lr("th",{class:B,colspan:C.colSpan,key:"".concat(C.id,"-thead"),rowspan:C.rowSpan,style:r(S,M,x,C),onClick:E=>{E.currentTarget.classList.contains("noclick")||o(E,C)},onContextmenu:E=>l(E,C),onMousedown:E=>u(E,C),onMousemove:E=>h(E,C),onMouseout:f},[lr("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:M,store:A,_self:m}):C.label,C.sortable&&lr("span",{onClick:E=>d(E,C),class:"caret-wrapper"},[lr("i",{onClick:E=>d(E,C,"ascending"),class:"sort-caret ascending"}),lr("i",{onClick:E=>d(E,C,"descending"),class:"sort-caret descending"})]),C.filterable&&lr(Cze,{store:A,placement:C.filterPlacement||"bottom-start",appendTo:m.appendFilterPanelTo,column:C,upDataColumn:(E,L)=>{C[E]=L}},{"filter-icon":()=>C.renderFilterIcon?C.renderFilterIcon({filterOpened:C.filterOpened}):null})])])}))))}});function VU(t,e,n=.03){return t-e>n}function Rze(t){const e=qt(Fp),n=ge(""),r=ge(lr("div")),i=(m,g,y)=>{var _;const x=e,S=GU(m);let C;const M=(_=x==null?void 0:x.vnode.el)==null?void 0:_.dataset.prefix;S&&(C=kX({columns:t.store.states.columns.value},S,M),C&&(x==null||x.emit("cell-".concat(y),g,C,S,m))),x==null||x.emit("row-".concat(y),g,C,m)},s=(m,g)=>{i(m,g,"dblclick")},a=(m,g)=>{t.store.commit("setCurrentRow",g),i(m,g,"click")},o=(m,g)=>{i(m,g,"contextmenu")},l=Dd(m=>{t.store.commit("setHoverRow",m)},30),u=Dd(()=>{t.store.commit("setHoverRow",null)},30),h=m=>{const g=window.getComputedStyle(m,null),y=Number.parseInt(g.paddingLeft,10)||0,_=Number.parseInt(g.paddingRight,10)||0,x=Number.parseInt(g.paddingTop,10)||0,S=Number.parseInt(g.paddingBottom,10)||0;return{left:y,right:_,top:x,bottom:S}},d=(m,g,y)=>{let _=g.target.parentNode;for(;m>1&&(_=_==null?void 0:_.nextSibling,!(!_||_.nodeName!=="TR"));)y(_,"hover-row hover-fixed-row"),m--};return{handleDoubleClick:s,handleClick:a,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(m,g,y)=>{var _,x,S;const C=e,M=GU(m),B=(_=C==null?void 0:C.vnode.el)==null?void 0:_.dataset.prefix;let E;if(M){E=kX({columns:t.store.states.columns.value},M,B),M.rowSpan>1&&d(M.rowSpan,m,oA);const ne=C.hoverState={cell:M,column:E,row:g};C==null||C.emit("cell-mouse-enter",ne.row,ne.column,ne.cell,m)}if(!y)return;const L=m.target.querySelector(".cell");if(!(Rd(L,"".concat(B,"-tooltip"))&&L.childNodes.length))return;const I=document.createRange();I.setStart(L,0),I.setEnd(L,L.childNodes.length);const{width:k,height:O}=I.getBoundingClientRect(),{width:F,height:U}=L.getBoundingClientRect(),{top:$,left:K,right:V,bottom:Q}=h(L),X=K+V,z=$+Q;VU(k+X,F)||VU(O+z,U)||VU(L.scrollWidth,F)?fze(y,M.innerText||M.textContent,g,E,M,C):((x=Ed)==null?void 0:x.trigger)===M&&((S=Ed)==null||S())},handleCellMouseLeave:m=>{const g=GU(m);if(!g)return;g.rowSpan>1&&d(g.rowSpan,m,lh);const y=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,m)},tooltipContent:n,tooltipTrigger:r}}function Ize(t){const e=qt(Fp),n=Jt("table");return{getRowStyle:(u,h)=>{const d=e==null?void 0:e.props.rowStyle;return Kn(d)?d.call(null,{row:u,rowIndex:h}):d||null},getRowClass:(u,h)=>{const d=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&u===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&h%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return Qn(f)?d.push(f):Kn(f)&&d.push(f.call(null,{row:u,rowIndex:h})),d},getCellStyle:(u,h,d,f)=>{const A=e==null?void 0:e.props.cellStyle;let m=A!=null?A:{};Kn(A)&&(m=A.call(null,{rowIndex:u,columnIndex:h,row:d,column:f}));const g=Q$(h,t==null?void 0:t.fixed,t.store);return rS(g,"left"),rS(g,"right"),Object.assign({},m,g)},getCellClass:(u,h,d,f,A)=>{const m=$$(n.b(),h,t==null?void 0:t.fixed,t.store,void 0,A),g=[f.id,f.align,f.className,...m],y=e==null?void 0:e.props.cellClassName;return Qn(y)?g.push(y):Kn(y)&&g.push(y.call(null,{rowIndex:u,columnIndex:h,row:d,column:f})),g.push(n.e("cell")),g.filter(_=>!!_).join(" ")},getSpan:(u,h,d,f)=>{let A=1,m=1;const g=e==null?void 0:e.props.spanMethod;if(Kn(g)){const y=g({row:u,column:h,rowIndex:d,columnIndex:f});an(y)?(A=y[0],m=y[1]):qr(y)&&(A=y.rowspan,m=y.colspan)}return{rowspan:A,colspan:m}},getColspanRealWidth:(u,h,d)=>{if(h<1)return u[d].realWidth;const f=u.map(({realWidth:A,width:m})=>A||m).slice(d,d+h);return Number(f.reduce((A,m)=>Number(A)+Number(m),-1))}}}const Pze=Me({name:"TableTdWrapper"}),Fze=Me({...Pze,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(ie(),Ee("td",{colspan:t.colspan,rowspan:t.rowspan},[tt(e.$slots,"default")],8,["colspan","rowspan"]))}});var Oze=mn(Fze,[["__file","td-wrapper.vue"]]);function Nze(t){const e=qt(Fp),n=Jt("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:s,handleMouseEnter:a,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:h,tooltipTrigger:d}=Rze(t),{getRowStyle:f,getRowClass:A,getCellStyle:m,getCellClass:g,getSpan:y,getColspanRealWidth:_}=Ize(t),x=J(()=>t.store.states.columns.value.findIndex(({type:E})=>E==="default")),S=(E,L)=>{const I=e.props.rowKey;return I?th(E,I):L},C=(E,L,I,k=!1)=>{const{tooltipEffect:O,tooltipOptions:F,store:U}=t,{indent:$,columns:K}=U.states,V=A(E,L);let Q=!0;return I&&(V.push(n.em("row","level-".concat(I.level))),Q=I.display),lr("tr",{style:[Q?null:{display:"none"},f(E,L)],class:V,key:S(E,L),onDblclick:z=>r(z,E),onClick:z=>i(z,E),onContextmenu:z=>s(z,E),onMouseenter:()=>a(L),onMouseleave:o},K.value.map((z,ne)=>{const{rowspan:he,colspan:W}=y(E,z,L,ne);if(!he||!W)return null;const Y=Object.assign({},z);Y.realWidth=_(K.value,W,ne);const oe={store:t.store,_self:t.context||e,column:Y,row:E,$index:L,cellIndex:ne,expanded:k};ne===x.value&&I&&(oe.treeNode={indent:I.level*$.value,level:I.level},Js(I.expanded)&&(oe.treeNode.expanded=I.expanded,"loading"in I&&(oe.treeNode.loading=I.loading),"noLazyChildren"in I&&(oe.treeNode.noLazyChildren=I.noLazyChildren)));const fe="".concat(S(E,L),",").concat(ne),me=Y.columnKey||Y.rawColumnKey||"",ce=z.showOverflowTooltip&&ule({effect:O},F,z.showOverflowTooltip);return lr(Oze,{style:m(L,ne,E,z),class:g(L,ne,E,z,W-1),key:"".concat(me).concat(fe),rowspan:he,colspan:W,onMouseenter:be=>l(be,E,ce),onMouseleave:u},{default:()=>M(ne,z,oe)})}))},M=(E,L,I)=>L.renderCell(I);return{wrappedRowRender:(E,L)=>{const I=t.store,{isRowExpanded:k,assertRowKey:O}=I,{treeData:F,lazyTreeNodeMap:U,childrenColumnName:$,rowKey:K}=I.states,V=I.states.columns.value;if(V.some(({type:X})=>X==="expand")){const X=k(E),z=C(E,L,void 0,X),ne=e.renderExpanded;return X?ne?[[z,lr("tr",{key:"expanded-row__".concat(z.key)},[lr("td",{colspan:V.length,class:"".concat(n.e("cell")," ").concat(n.e("expanded-cell"))},[ne({row:E,$index:L,store:I,expanded:X})])])]]:(console.error("[Element Error]renderExpanded is required."),z):[[z]]}else if(Object.keys(F.value).length){O();const X=th(E,K.value);let z=F.value[X],ne=null;z&&(ne={expanded:z.expanded,level:z.level,display:!0},Js(z.lazy)&&(Js(z.loaded)&&z.loaded&&(ne.noLazyChildren=!(z.children&&z.children.length)),ne.loading=z.loading));const he=[C(E,L,ne)];if(z){let W=0;const Y=(fe,me)=>{fe&&fe.length&&me&&fe.forEach(ce=>{const be={display:me.display&&me.expanded,level:me.level+1,expanded:!1,noLazyChildren:!1,loading:!1},xe=th(ce,K.value);if(gp(xe))throw new Error("For nested data item, row-key is required.");if(z={...F.value[xe]},z&&(be.expanded=z.expanded,z.level=z.level||be.level,z.display=!!(z.expanded&&be.display),Js(z.lazy)&&(Js(z.loaded)&&z.loaded&&(be.noLazyChildren=!(z.children&&z.children.length)),be.loading=z.loading)),W++,he.push(C(ce,L+W,be)),z){const Ie=U.value[xe]||ce[$.value];Y(Ie,z)}})};z.display=!0;const oe=U.value[X]||E[$.value];Y(oe,z)}return he}else return C(E,L,void 0)},tooltipContent:h,tooltipTrigger:d}}const Dze={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var kze=Me({name:"ElTableBody",props:Dze,setup(t){const e=ni(),n=qt(Fp),r=Jt("table"),{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:a}=Nze(t),{onColumnsChange:o,onScrollableChange:l}=W$(n),u=[];return Ct(t.store.states.hoverRow,(h,d)=>{var f;const A=e==null?void 0:e.vnode.el,m=Array.from((A==null?void 0:A.children)||[]).filter(_=>_==null?void 0:_.classList.contains("".concat(r.e("row"))));let g=h;const y=(f=m[g])==null?void 0:f.childNodes;if(y!=null&&y.length){let _=0;Array.from(y).reduce((S,C,M)=>{var B,E;return((B=y[M])==null?void 0:B.colSpan)>1&&(_=(E=y[M])==null?void 0:E.colSpan),C.nodeName!=="TD"&&_===0&&S.push(M),_>0&&_--,S},[]).forEach(S=>{var C;for(g=h;g>0;){const M=(C=m[g-1])==null?void 0:C.childNodes;if(M[S]&&M[S].nodeName==="TD"&&M[S].rowSpan>1){oA(M[S],"hover-cell"),u.push(M[S]);break}g--}})}else u.forEach(_=>lh(_,"hover-cell")),u.length=0;!t.store.states.isComplex.value||!Wi||my(()=>{const _=m[d],x=m[h];_&&!_.classList.contains("hover-fixed-row")&&lh(_,"hover-row"),x&&oA(x,"hover-row")})}),ca(()=>{var h;(h=Ed)==null||h()}),{ns:r,onColumnsChange:o,onScrollableChange:l,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:a}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return lr("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function Uze(){const t=qt(Fp),e=t==null?void 0:t.store,n=J(()=>e.states.fixedLeafColumnsLength.value),r=J(()=>e.states.rightFixedColumns.value.length),i=J(()=>e.states.columns.value.length),s=J(()=>e.states.fixedColumns.value.length),a=J(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:s,rightFixedCount:a,columns:e.states.columns}}function Hze(t){const{columns:e}=Uze(),n=Jt("table");return{getCellClasses:(s,a)=>{const o=s[a],l=[n.e("cell"),o.id,o.align,o.labelClassName,...$$(n.b(),a,o.fixed,t.store)];return o.className&&l.push(o.className),o.children||l.push(n.is("leaf")),l},getCellStyles:(s,a)=>{const o=Q$(a,s.fixed,t.store);return rS(o,"left"),rS(o,"right"),o},columns:e}}var Gze=Me({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=qt(Fp),n=Jt("table"),{getCellClasses:r,getCellStyles:i,columns:s}=Hze(t),{onScrollableChange:a,onColumnsChange:o}=W$(e);return{ns:n,onScrollableChange:a,onColumnsChange:o,getCellClasses:r,getCellStyles:i,columns:s}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i}=this,s=this.store.states.data.value;let a=[];return r?a=r({columns:t,data:s}):t.forEach((o,l)=>{if(l===0){a[l]=i;return}const u=s.map(A=>Number(A[o.property])),h=[];let d=!0;u.forEach(A=>{if(!Number.isNaN(+A)){d=!1;const m="".concat(A).split(".")[1];h.push(m?m.length:0)}});const f=Math.max.apply(null,h);d?a[l]="":a[l]=u.reduce((A,m)=>{const g=Number(m);return Number.isNaN(+g)?A:Number.parseFloat((A+m).toFixed(Math.min(f,20)))},0)}),lr(lr("tfoot",[lr("tr",{},[...t.map((o,l)=>lr("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:n(t,l),style:e(o,l)},[lr("div",{class:["cell",o.labelClassName]},[a[l]])]))])]))}});function Vze(t){return{setCurrentRow:d=>{t.commit("setCurrentRow",d)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(d,f,A=!0)=>{t.toggleRowSelection(d,f,!1,A),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:d=>{t.clearFilter(d)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{t.toggleRowExpansionAdapter(d,f)},clearSort:()=>{t.clearSort()},sort:(d,f)=>{t.commit("sort",{prop:d,order:f})},updateKeyChildren:(d,f)=>{t.updateKeyChildren(d,f)}}}function zze(t,e,n,r){const i=ge(!1),s=ge(null),a=ge(!1),o=X=>{a.value=X},l=ge({width:null,height:null,headerHeight:null}),u=ge(!1),h={display:"inline-block",verticalAlign:"middle"},d=ge(),f=ge(0),A=ge(0),m=ge(0),g=ge(0),y=ge(0);Zc(()=>{e.setHeight(t.height)}),Zc(()=>{e.setMaxHeight(t.maxHeight)}),Ct(()=>[t.currentRowKey,n.states.rowKey],([X,z])=>{!b(z)||!b(X)||n.setCurrentRowKey("".concat(X))},{immediate:!0}),Ct(()=>t.data,X=>{r.store.commit("setData",X)},{immediate:!0,deep:!0}),Zc(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const _=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},x=(X,z)=>{const{pixelX:ne,pixelY:he}=z;Math.abs(ne)>=Math.abs(he)&&(r.refs.bodyWrapper.scrollLeft+=z.pixelX/5)},S=J(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),C=J(()=>({width:e.bodyWidth.value?"".concat(e.bodyWidth.value,"px"):""})),M=()=>{S.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(I)};rr(async()=>{await Zn(),n.updateColumns(),k(),requestAnimationFrame(M);const X=r.vnode.el,z=r.refs.headerWrapper;t.flexible&&X&&X.parentElement&&(X.parentElement.style.minWidth="0"),l.value={width:d.value=X.offsetWidth,height:X.offsetHeight,headerHeight:t.showHeader&&z?z.offsetHeight:null},n.states.columns.value.forEach(ne=>{ne.filteredValue&&ne.filteredValue.length&&r.store.commit("filterChange",{column:ne,values:ne.filteredValue,silent:!0})}),r.$ready=!0});const B=(X,z)=>{if(!X)return;const ne=Array.from(X.classList).filter(he=>!he.startsWith("is-scrolling-"));ne.push(e.scrollX.value?z:"is-scrolling-none"),X.className=ne.join(" ")},E=X=>{const{tableWrapper:z}=r.refs;B(z,X)},L=X=>{const{tableWrapper:z}=r.refs;return!!(z&&z.classList.contains(X))},I=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const fe="is-scrolling-none";L(fe)||E(fe);return}const X=r.refs.scrollBarRef.wrapRef;if(!X)return;const{scrollLeft:z,offsetWidth:ne,scrollWidth:he}=X,{headerWrapper:W,footerWrapper:Y}=r.refs;W&&(W.scrollLeft=z),Y&&(Y.scrollLeft=z);const oe=he-ne-1;z>=oe?E("is-scrolling-right"):E(z===0?"is-scrolling-left":"is-scrolling-middle")},k=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Us(r.refs.scrollBarRef.wrapRef,"scroll",I,{passive:!0}),t.fit?so(r.vnode.el,O):Us(window,"resize",O),so(r.refs.bodyWrapper,()=>{var X,z;O(),(z=(X=r.refs)==null?void 0:X.scrollBarRef)==null||z.update()}))},O=()=>{var X,z,ne,he;const W=r.vnode.el;if(!r.$ready||!W)return;let Y=!1;const{width:oe,height:fe,headerHeight:me}=l.value,ce=d.value=W.offsetWidth;oe!==ce&&(Y=!0);const be=W.offsetHeight;(t.height||S.value)&&fe!==be&&(Y=!0);const xe=t.tableLayout==="fixed"?r.refs.headerWrapper:(X=r.refs.tableHeaderRef)==null?void 0:X.$el;t.showHeader&&(xe==null?void 0:xe.offsetHeight)!==me&&(Y=!0),f.value=((z=r.refs.tableWrapper)==null?void 0:z.scrollHeight)||0,m.value=(xe==null?void 0:xe.scrollHeight)||0,g.value=((ne=r.refs.footerWrapper)==null?void 0:ne.offsetHeight)||0,y.value=((he=r.refs.appendWrapper)==null?void 0:he.offsetHeight)||0,A.value=f.value-m.value-g.value-y.value,Y&&(l.value={width:ce,height:be,headerHeight:t.showHeader&&(xe==null?void 0:xe.offsetHeight)||0},M())},F=al(),U=J(()=>{const{bodyWidth:X,scrollY:z,gutterWidth:ne}=e;return X.value?"".concat(X.value-(z.value?ne:0),"px"):""}),$=J(()=>t.maxHeight?"fixed":t.tableLayout),K=J(()=>{if(t.data&&t.data.length)return null;let X="100%";t.height&&A.value&&(X="".concat(A.value,"px"));const z=d.value;return{width:z?"".concat(z,"px"):"",height:X}}),V=J(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:"calc(".concat(t.maxHeight," - ").concat(m.value+g.value,"px)")}:{maxHeight:"".concat(t.maxHeight-m.value-g.value,"px")}:{});return{isHidden:i,renderExpanded:s,setDragVisible:o,isGroup:u,handleMouseLeave:_,handleHeaderFooterMousewheel:x,tableSize:F,emptyBlockStyle:K,handleFixedMousewheel:(X,z)=>{const ne=r.refs.bodyWrapper;if(Math.abs(z.spinY)>0){const he=ne.scrollTop;z.pixelY<0&&he!==0&&X.preventDefault(),z.pixelY>0&&ne.scrollHeight-ne.clientHeight>he&&X.preventDefault(),ne.scrollTop+=Math.ceil(z.pixelY/5)}else ne.scrollLeft+=Math.ceil(z.pixelX/5)},resizeProxyVisible:a,bodyWidth:U,resizeState:l,doLayout:M,tableBodyStyles:C,tableLayout:$,scrollbarViewStyle:h,scrollbarStyle:V}}function $ze(t){const e=ge(),n=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},a=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{a.forEach(o=>o())}),e.value.observe(i,s)};rr(()=>{n()}),ca(()=>{var r;(r=e.value)==null||r.disconnect()})}var Qze={data:{type:Array,default:()=>[]},size:Sl,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function Xue(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(({width:i})=>ps(i))&&(n=[]);const r=i=>{const s={key:"".concat(t.tableLayout,"_").concat(i.id),style:{},name:void 0};return e?s.style={width:"".concat(i.width,"px")}:s.name=i.id,s};return lr("colgroup",{},n.map(i=>lr("col",r(i))))}Xue.props=["columns","tableLayout"];const Wze=()=>{const t=ge(),e=(s,a)=>{const o=t.value;o&&o.scrollTo(s,a)},n=(s,a)=>{const o=t.value;o&&tr(a)&&["Top","Left"].includes(s)&&o["setScroll".concat(s)](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>n("Top",s),setScrollLeft:s=>n("Left",s)}};var GX=!1,Z_,hH,dH,XP,YP,Yue,ZP,fH,AH,pH,Zue,gH,mH,Jue,ehe;function _d(){if(!GX){GX=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(gH=/\b(iPhone|iP[ao]d)/.exec(t),mH=/\b(iP[ao]d)/.exec(t),pH=/Android/i.exec(t),Jue=/FBAN\/\w+;/i.exec(t),ehe=/Mobile/i.exec(t),Zue=!!/Win64/.exec(t),e){Z_=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Z_&&document&&document.documentMode&&(Z_=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Yue=r?parseFloat(r[1])+4:Z_,hH=e[2]?parseFloat(e[2]):NaN,dH=e[3]?parseFloat(e[3]):NaN,XP=e[4]?parseFloat(e[4]):NaN,XP?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),YP=e&&e[1]?parseFloat(e[1]):NaN):YP=NaN}else Z_=hH=dH=YP=XP=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);ZP=i?parseFloat(i[1].replace("_",".")):!0}else ZP=!1;fH=!!n[2],AH=!!n[3]}else ZP=fH=AH=!1}}var vH={ie:function(){return _d()||Z_},ieCompatibilityMode:function(){return _d()||Yue>Z_},ie64:function(){return vH.ie()&&Zue},firefox:function(){return _d()||hH},opera:function(){return _d()||dH},webkit:function(){return _d()||XP},safari:function(){return vH.webkit()},chrome:function(){return _d()||YP},windows:function(){return _d()||fH},osx:function(){return _d()||ZP},linux:function(){return _d()||AH},iphone:function(){return _d()||gH},mobile:function(){return _d()||gH||mH||pH||ehe},nativeApp:function(){return _d()||Jue},android:function(){return _d()||pH},ipad:function(){return _d()||mH}},jze=vH,Kze=!!(typeof window<"u"&&window.document&&window.document.createElement),qze={canUseDOM:Kze},the=qze,nhe;the.canUseDOM&&(nhe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Xze(t,e){if(!the.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&nhe&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Yze=Xze,VX=10,zX=40,$X=800;function rhe(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*VX,i=n*VX,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=zX,i*=zX):(r*=$X,i*=$X)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}rhe.getEventType=function(){return jze.firefox()?"DOMMouseScroll":Yze("wheel")?"wheel":"mousewheel"};var Zze=rhe;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Jze=function(t,e){if(t&&t.addEventListener){const n=function(r){const i=Zze(r);e&&Reflect.apply(e,this,[r,i])};t.addEventListener("wheel",n,{passive:!0})}},e$e={beforeMount(t,e){Jze(t,e.value)}};let t$e=1;const n$e=Me({name:"ElTable",directives:{Mousewheel:e$e},components:{TableHeader:Bze,TableBody:kze,TableFooter:Gze,ElScrollbar:gm,hColgroup:Xue},props:Qze,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=ji(),n=Jt("table"),r=ni();dr(Fp,r);const i=_ze(r,t);r.store=i;const s=new bze({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=s;const a=J(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:h,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:A,clearSort:m,sort:g,updateKeyChildren:y}=Vze(i),{isHidden:_,renderExpanded:x,setDragVisible:S,isGroup:C,handleMouseLeave:M,handleHeaderFooterMousewheel:B,tableSize:E,emptyBlockStyle:L,handleFixedMousewheel:I,resizeProxyVisible:k,bodyWidth:O,resizeState:F,doLayout:U,tableBodyStyles:$,tableLayout:K,scrollbarViewStyle:V,scrollbarStyle:Q}=zze(t,s,i,r),{scrollBarRef:X,scrollTo:z,setScrollLeft:ne,setScrollTop:he}=Wze(),W=Dd(U,50),Y="".concat(n.namespace.value,"-table_").concat(t$e++);r.tableId=Y,r.state={isGroup:C,resizeState:F,doLayout:U,debouncedUpdateLayout:W};const oe=J(()=>{var ce;return(ce=t.sumText)!=null?ce:e("el.table.sumText")}),fe=J(()=>{var ce;return(ce=t.emptyText)!=null?ce:e("el.table.emptyText")}),me=J(()=>que(i.states.originColumns.value)[0]);return $ze(r),Hs(()=>{W.cancel()}),{ns:n,layout:s,store:i,columns:me,handleHeaderFooterMousewheel:B,handleMouseLeave:M,tableId:Y,tableSize:E,isHidden:_,isEmpty:a,renderExpanded:x,resizeProxyVisible:k,resizeState:F,isGroup:C,bodyWidth:O,tableBodyStyles:$,emptyBlockStyle:L,debouncedUpdateLayout:W,handleFixedMousewheel:I,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:h,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:A,clearSort:m,doLayout:U,sort:g,updateKeyChildren:y,t:e,setDragVisible:S,context:r,computedSumText:oe,computedEmptyText:fe,tableLayout:K,scrollbarViewStyle:V,scrollbarStyle:Q,scrollBarRef:X,scrollTo:z,setScrollLeft:ne,setScrollTop:he,allowDragLastColumn:t.allowDragLastColumn}}});function r$e(t,e,n,r,i,s){const a=Nn("hColgroup"),o=Nn("table-header"),l=Nn("table-body"),u=Nn("table-footer"),h=Nn("el-scrollbar"),d=dL("mousewheel");return ie(),Ee("div",{ref:"tableWrapper",class:de([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m("layout-".concat(t.tableLayout))]),style:Xn(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[Be("div",{class:de(t.ns.e("inner-wrapper"))},[Be("div",{ref:"hiddenColumns",class:"hidden-columns"},[tt(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Br((ie(),Ee("div",{key:0,ref:"headerWrapper",class:de(t.ns.e("header-wrapper"))},[Be("table",{ref:"tableHeader",class:de(t.ns.e("header")),style:Xn(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Ce(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Ce(o,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):lt("v-if",!0),Be("div",{ref:"bodyWrapper",class:de(t.ns.e("body-wrapper"))},[Ce(h,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:f=>t.$emit("scroll",f)},{default:De(()=>[Be("table",{ref:"tableBody",class:de(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Xn({width:t.bodyWidth,tableLayout:t.tableLayout})},[Ce(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(ie(),St(o,{key:0,ref:"tableHeaderRef",class:de(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):lt("v-if",!0),Ce(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(ie(),St(u,{key:1,class:de(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):lt("v-if",!0)],6),t.isEmpty?(ie(),Ee("div",{key:0,ref:"emptyBlock",style:Xn(t.emptyBlockStyle),class:de(t.ns.e("empty-block"))},[Be("span",{class:de(t.ns.e("empty-text"))},[tt(t.$slots,"empty",{},()=>[Mr(cn(t.computedEmptyText),1)])],2)],6)):lt("v-if",!0),t.$slots.append?(ie(),Ee("div",{key:1,ref:"appendWrapper",class:de(t.ns.e("append-wrapper"))},[tt(t.$slots,"append")],2)):lt("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?Br((ie(),Ee("div",{key:1,ref:"footerWrapper",class:de(t.ns.e("footer-wrapper"))},[Be("table",{class:de(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Xn(t.tableBodyStyles)},[Ce(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Ce(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Qi,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):lt("v-if",!0),t.border||t.isGroup?(ie(),Ee("div",{key:2,class:de(t.ns.e("border-left-patch"))},null,2)):lt("v-if",!0)],2),Br(Be("div",{ref:"resizeProxy",class:de(t.ns.e("column-resize-proxy"))},null,2),[[Qi,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var i$e=mn(n$e,[["render",r$e],["__file","table.vue"]]);const s$e={selection:"table-column--selection",expand:"table__expand-column"},a$e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},o$e=t=>s$e[t]||"",l$e={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return lr(bA,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return lr(bA,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return tr(r)?n=e+r:Kn(r)&&(n=r(e)),lr("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),lr("div",{class:i,onClick:function(a){a.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[lr(Vn,null,{default:()=>[lr(oh)]})]})},sortable:!1,resizable:!1}};function c$e({row:t,column:e,$index:n}){var r;const i=e.property,s=i&&MT(t,i).value;return e&&e.formatter?e.formatter(t,e,s,n):((r=s==null?void 0:s.toString)==null?void 0:r.call(s))||""}function u$e({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[lr("span",{class:i.e("placeholder")})]:null;const s=[],a=function(o){o.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&s.push(lr("span",{class:i.e("indent"),style:{"padding-left":"".concat(e.indent,"px")}})),Js(e.expanded)&&!e.noLazyChildren){const o=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=oh;e.loading&&(l=am),s.push(lr("div",{class:o,onClick:a},{default:()=>[lr(Vn,{class:{[i.is("loading")]:e.loading}},{default:()=>[lr(l)]})]}))}else s.push(lr("span",{class:i.e("placeholder")}));return s}function QX(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function h$e(t,e){const n=ni();return{registerComplexWatchers:()=>{const s=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},o=QX(s,a);Object.keys(o).forEach(l=>{const u=a[l];us(e,u)&&Ct(()=>e[u],h=>{let d=h;u==="width"&&l==="realWidth"&&(d=z$(h)),u==="minWidth"&&l==="realMinWidth"&&(d=zue(h)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const f=u==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=QX(s,a);Object.keys(o).forEach(l=>{const u=a[l];us(e,u)&&Ct(()=>e[u],h=>{n.columnConfig.value[l]=h})})}}}function d$e(t,e,n){const r=ni(),i=ge(""),s=ge(!1),a=ge(),o=ge(),l=Jt("table");Zc(()=>{a.value=t.align?"is-".concat(t.align):null,a.value}),Zc(()=>{o.value=t.headerAlign?"is-".concat(t.headerAlign):a.value,o.value});const u=J(()=>{let C=r.vnode.vParent||r.parent;for(;C&&!C.tableId&&!C.columnId;)C=C.vnode.vParent||C.parent;return C}),h=J(()=>{const{store:C}=r.parent;if(!C)return!1;const{treeData:M}=C.states,B=M.value;return B&&Object.keys(B).length>0}),d=ge(z$(t.width)),f=ge(zue(t.minWidth)),A=C=>(d.value&&(C.width=d.value),f.value&&(C.minWidth=f.value),!d.value&&f.value&&(C.width=void 0),C.minWidth||(C.minWidth=80),C.realWidth=Number(ps(C.width)?C.minWidth:C.width),C),m=C=>{const M=C.type,B=l$e[M]||{};Object.keys(B).forEach(L=>{const I=B[L];L!=="className"&&!ps(I)&&(C[L]=I)});const E=o$e(M);if(E){const L="".concat(b(l.namespace),"-").concat(E);C.className=C.className?"".concat(C.className," ").concat(L):L}return C},g=C=>{an(C)?C.forEach(B=>M(B)):M(C);function M(B){var E;((E=B==null?void 0:B.type)==null?void 0:E.name)==="ElTableColumn"&&(B.vParent=r)}};return{columnId:i,realAlign:a,isSubColumn:s,realHeaderAlign:o,columnOrTableParent:u,setColumnWidth:A,setColumnForcedProps:m,setColumnRenders:C=>{t.renderHeader||C.type!=="selection"&&(C.renderHeader=B=>(r.columnConfig.value.label,tt(e,"header",B,()=>[C.label]))),e["filter-icon"]&&(C.renderFilterIcon=B=>tt(e,"filter-icon",B));let M=C.renderCell;return C.type==="expand"?(C.renderCell=B=>lr("div",{class:"cell"},[M(B)]),n.value.renderExpanded=B=>e.default?e.default(B):e.default):(M=M||c$e,C.renderCell=B=>{let E=null;if(e.default){const U=e.default(B);E=U.some($=>$.type!==xc)?U:M(B)}else E=M(B);const{columns:L}=n.value.store.states,I=L.value.findIndex(U=>U.type==="default"),k=h.value&&B.cellIndex===I,O=u$e(B,k),F={class:"cell",style:{}};return C.showOverflowTooltip&&(F.class="".concat(F.class," ").concat(b(l.namespace),"-tooltip"),F.style={width:"".concat((B.column.realWidth||Number(B.column.width))-1,"px")}),g(E),lr("div",F,[O,E])}),C},getPropsData:(...C)=>C.reduce((M,B)=>(an(B)&&B.forEach(E=>{M[E]=t[E]}),M),{}),getColumnElIndex:(C,M)=>Array.prototype.indexOf.call(C,M),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var f$e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let A$e=1;var ihe=Me({name:"ElTableColumn",components:{ElCheckbox:bA},props:f$e,setup(t,{slots:e}){const n=ni(),r=ge({}),i=J(()=>{let S=n.parent;for(;S&&!S.tableId;)S=S.parent;return S}),{registerNormalWatchers:s,registerComplexWatchers:a}=h$e(i,t),{columnId:o,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:h,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:A,getPropsData:m,getColumnElIndex:g,realAlign:y,updateColumnOrder:_}=d$e(t,e,i),x=h.value;o.value="".concat(x.tableId||x.columnId,"_column_").concat(A$e++),QN(()=>{l.value=i.value!==x;const S=t.type||"default",C=t.sortable===""?!0:t.sortable,M=ps(t.showOverflowTooltip)?x.props.showOverflowTooltip:t.showOverflowTooltip,B=ps(t.tooltipFormatter)?x.props.tooltipFormatter:t.tooltipFormatter,E={...a$e[S],id:o.value,type:S,property:t.prop||t.property,align:y,headerAlign:u,showOverflowTooltip:M,tooltipFormatter:B,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:C,index:t.index,rawColumnKey:n.vnode.key};let F=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);F=lze(E,F),F=uze(A,d,f)(F),r.value=F,s(),a()}),rr(()=>{var S;const C=h.value,M=l.value?C.vnode.el.children:(S=C.refs.hiddenColumns)==null?void 0:S.children,B=()=>g(M||[],n.vnode.el);r.value.getColumnIndex=B,B()>-1&&i.value.store.commit("insertColumn",r.value,l.value?C.columnConfig.value:null,_)}),Hs(()=>{const S=r.value.getColumnIndex;(S?S():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?x.columnConfig.value:null,_)}),n.columnId=o.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(an(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?i.push(a):a.type===Wn&&an(a.children)&&a.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!Qn(o==null?void 0:o.children)&&i.push(o)});return lr("div",i)}catch(r){return lr("div",[])}}});const p$e=Nr(i$e,{TableColumn:ihe}),g$e=ho(ihe);var LM=(t=>(t.ASC="asc",t.DESC="desc",t))(LM||{}),BM=(t=>(t.CENTER="center",t.RIGHT="right",t))(BM||{}),she=(t=>(t.LEFT="left",t.RIGHT="right",t))(she||{});const yH={asc:"desc",desc:"asc"},RM=Symbol("placeholder"),m$e=(t,e,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(i.flexShrink=1);const s={...(r=t.style)!=null?r:{},...i,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(s.maxWidth=t.maxWidth),t.minWidth&&(s.minWidth=t.minWidth)),s};function v$e(t,e,n){const r=J(()=>b(e).map((y,_)=>{var x,S;return{...y,key:(S=(x=y.key)!=null?x:y.dataKey)!=null?S:_}})),i=J(()=>b(r).filter(y=>!y.hidden)),s=J(()=>b(i).filter(y=>y.fixed==="left"||y.fixed===!0)),a=J(()=>b(i).filter(y=>y.fixed==="right")),o=J(()=>b(i).filter(y=>!y.fixed)),l=J(()=>{const y=[];return b(s).forEach(_=>{y.push({..._,placeholderSign:RM})}),b(o).forEach(_=>{y.push(_)}),b(a).forEach(_=>{y.push({..._,placeholderSign:RM})}),y}),u=J(()=>b(s).length||b(a).length),h=J(()=>b(r).reduce((y,_)=>(y[_.key]=m$e(_,b(n),t.fixed),y),{})),d=J(()=>b(i).reduce((y,_)=>y+_.width,0)),f=y=>b(r).find(_=>_.key===y),A=y=>b(h)[y],m=(y,_)=>{y.width=_};function g(y){var _;const{key:x}=y.currentTarget.dataset;if(!x)return;const{sortState:S,sortBy:C}=t;let M=LM.ASC;qr(S)?M=yH[S[x]]:M=yH[C.order],(_=t.onColumnSort)==null||_.call(t,{column:f(x),key:x,order:M})}return{columns:r,columnsStyles:h,columnsTotalWidth:d,fixedColumnsOnLeft:s,fixedColumnsOnRight:a,hasFixedColumns:u,mainColumns:l,normalColumns:o,visibleColumns:i,getColumn:f,getColumnStyle:A,updateColumnWidth:m,onColumnSorted:g}}const y$e=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const s=ge({scrollLeft:0,scrollTop:0});function a(A){var m,g,y;const{scrollTop:_}=A;(m=e.value)==null||m.scrollTo(A),(g=n.value)==null||g.scrollToTop(_),(y=r.value)==null||y.scrollToTop(_)}function o(A){s.value=A,a(A)}function l(A){s.value.scrollTop=A,a(b(s))}function u(A){var m,g;s.value.scrollLeft=A,(g=(m=e.value)==null?void 0:m.scrollTo)==null||g.call(m,b(s))}function h(A){var m;o(A),(m=t.onScroll)==null||m.call(t,A)}function d({scrollTop:A}){const{scrollTop:m}=b(s);A!==m&&l(A)}function f(A,m="auto"){var g;(g=e.value)==null||g.scrollToRow(A,m)}return Ct(()=>b(s).scrollTop,(A,m)=>{A>m&&i()}),{scrollPos:s,scrollTo:o,scrollToLeft:u,scrollToTop:l,scrollToRow:f,onScroll:h,onVerticalScroll:d}},_$e=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:s,isScrolling:a})=>{const o=ni(),{emit:l}=o,u=Cs(!1),h=ge(t.defaultExpandedRowKeys||[]),d=ge(-1),f=Cs(null),A=ge({}),m=ge({}),g=Cs({}),y=Cs({}),_=Cs({}),x=J(()=>tr(t.estimatedRowHeight));function S(k){var O;(O=t.onRowsRendered)==null||O.call(t,k),k.rowCacheEnd>b(d)&&(d.value=k.rowCacheEnd)}function C({hovered:k,rowKey:O}){if(a.value)return;i.vnode.el.querySelectorAll('[rowkey="'.concat(String(O),'"]')).forEach($=>{k?$.classList.add(s.is("hovered")):$.classList.remove(s.is("hovered"))})}function M({expanded:k,rowData:O,rowIndex:F,rowKey:U}){var $,K;const V=[...b(h)],Q=V.indexOf(U);k?Q===-1&&V.push(U):Q>-1&&V.splice(Q,1),h.value=V,l("update:expandedRowKeys",V),($=t.onRowExpand)==null||$.call(t,{expanded:k,rowData:O,rowIndex:F,rowKey:U}),(K=t.onExpandedRowsChange)==null||K.call(t,V)}const B=Dd(()=>{var k,O,F,U;u.value=!0,A.value={...b(A),...b(m)},E(b(f),!1),m.value={},f.value=null,(k=e.value)==null||k.forceUpdate(),(O=n.value)==null||O.forceUpdate(),(F=r.value)==null||F.forceUpdate(),(U=o.proxy)==null||U.$forceUpdate(),u.value=!1},0);function E(k,O=!1){b(x)&&[e,n,r].forEach(F=>{const U=b(F);U&&U.resetAfterRowIndex(k,O)})}function L(k,O,F){const U=b(f);(U===null||U>F)&&(f.value=F),m.value[k]=O}function I({rowKey:k,height:O,rowIndex:F},U){U?U===she.RIGHT?_.value[k]=O:g.value[k]=O:y.value[k]=O;const $=Math.max(...[g,_,y].map(K=>K.value[k]||0));b(A)[k]!==$&&(L(k,$,F),B())}return{expandedRowKeys:h,lastRenderedRowIndex:d,isDynamic:x,isResetting:u,rowHeights:A,resetAfterIndex:E,onRowExpanded:M,onRowHovered:C,onRowsRendered:S,onRowHeightChange:I}},w$e=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=ge({}),s=J(()=>{const o={},{data:l,rowKey:u}=t,h=b(e);if(!h||!h.length)return l;const d=[],f=new Set;h.forEach(m=>f.add(m));let A=l.slice();for(A.forEach(m=>o[m[u]]=0);A.length>0;){const m=A.shift();d.push(m),f.has(m[u])&&an(m.children)&&m.children.length>0&&(A=[...m.children,...A],m.children.forEach(g=>o[g[u]]=o[m[u]]+1))}return i.value=o,d}),a=J(()=>{const{data:o,expandColumnKey:l}=t;return l?b(s):o});return Ct(a,(o,l)=>{o!==l&&(n.value=-1,r(0,!0))}),{data:a,depthMap:i}},b$e=(t,e)=>t+e,JP=t=>an(t)?t.reduce(b$e,0):t,j1=(t,e,n={})=>Kn(t)?t(e):t!=null?t:n,Q0=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=xo(t[e])}),t),ahe=t=>ka(t)?e=>lr(t,e):t,x$e=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const s=J(()=>{const{fixed:x,width:S,vScrollbarSize:C}=t,M=S-C;return x?Math.max(Math.round(b(e)),M):M}),a=J(()=>b(s)+t.vScrollbarSize),o=J(()=>{const{height:x=0,maxHeight:S=0,footerHeight:C,hScrollbarSize:M}=t;if(S>0){const B=b(A),E=b(n),I=b(f)+B+E+M;return Math.min(I,S-C)}return x-C}),l=J(()=>{const{maxHeight:x}=t,S=b(o);if(tr(x)&&x>0)return S;const C=b(n)+b(f)+b(A);return Math.min(S,C)}),u=x=>x.width,h=J(()=>JP(b(r).map(u))),d=J(()=>JP(b(i).map(u))),f=J(()=>JP(t.headerHeight)),A=J(()=>{var x;return(((x=t.fixedData)==null?void 0:x.length)||0)*t.rowHeight}),m=J(()=>b(o)-b(f)-b(A)),g=J(()=>{const{style:x={},height:S,width:C}=t;return Q0({...x,height:S,width:C})}),y=J(()=>Q0({height:t.footerHeight})),_=J(()=>({top:xo(b(f)),bottom:xo(t.footerHeight),width:xo(t.width)}));return{bodyWidth:s,fixedTableHeight:l,mainTableHeight:o,leftTableWidth:h,rightTableWidth:d,headerWidth:a,windowHeight:m,footerHeight:y,emptyStyle:_,rootStyle:g,headerHeight:f}};function E$e(t){const e=ge(),n=ge(),r=ge(),{columns:i,columnsStyles:s,columnsTotalWidth:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:h,onColumnSorted:d}=v$e(t,Is(t,"columns"),Is(t,"fixed")),{scrollTo:f,scrollToLeft:A,scrollToTop:m,scrollToRow:g,onScroll:y,onVerticalScroll:_,scrollPos:x}=y$e(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:ye}),S=Jt("table-v2"),C=ni(),M=Cs(!1),{expandedRowKeys:B,lastRenderedRowIndex:E,isDynamic:L,isResetting:I,rowHeights:k,resetAfterIndex:O,onRowExpanded:F,onRowHeightChange:U,onRowHovered:$,onRowsRendered:K}=_$e(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:C,ns:S,isScrolling:M}),{data:V,depthMap:Q}=w$e(t,{expandedRowKeys:B,lastRenderedRowIndex:E,resetAfterIndex:O}),X=J(()=>{const{estimatedRowHeight:$e,rowHeight:Ve}=t,Se=b(V);return tr($e)?Object.values(b(k)).reduce((at,ft)=>at+ft,0):Se.length*Ve}),{bodyWidth:z,fixedTableHeight:ne,mainTableHeight:he,leftTableWidth:W,rightTableWidth:Y,headerWidth:oe,windowHeight:fe,footerHeight:me,emptyStyle:ce,rootStyle:be,headerHeight:xe}=x$e(t,{columnsTotalWidth:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,rowsHeight:X}),Ie=ge(),Qe=J(()=>{const $e=b(V).length===0;return an(t.fixedData)?t.fixedData.length===0&&$e:$e});function ue($e){const{estimatedRowHeight:Ve,rowHeight:Se,rowKey:at}=t;return Ve?b(k)[b(V)[$e][at]]||Ve:Se}function ye(){const{onEndReached:$e}=t;if(!$e)return;const{scrollTop:Ve}=b(x),Se=b(X),at=b(fe),ft=Se-(Ve+at)+t.hScrollbarSize;b(E)>=0&&Se===Ve+b(he)-b(xe)&&$e(ft)}return Ct(()=>t.expandedRowKeys,$e=>B.value=$e,{deep:!0}),{columns:i,containerRef:Ie,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:L,isResetting:I,isScrolling:M,hasFixedColumns:u,columnsStyles:s,columnsTotalWidth:a,data:V,expandedRowKeys:B,depthMap:Q,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:h,bodyWidth:z,emptyStyle:ce,rootStyle:be,headerWidth:oe,footerHeight:me,mainTableHeight:he,fixedTableHeight:ne,leftTableWidth:W,rightTableWidth:Y,showEmpty:Qe,getRowHeight:ue,onColumnSorted:d,onRowHovered:$,onRowExpanded:F,onRowsRendered:K,onRowHeightChange:U,scrollTo:f,scrollToLeft:A,scrollToTop:m,scrollToRow:g,onScroll:y,onVerticalScroll:_}}const j$=Symbol("tableV2"),ohe=String,CL={type:ht(Array),required:!0},K$={type:ht(Array)},lhe={...K$,required:!0},S$e=String,WX={type:ht(Array),default:()=>ao([])},J_={type:Number,required:!0},che={type:ht([String,Number,Symbol]),default:"id"},jX={type:ht(Object)},l1=hn({class:String,columns:CL,columnsStyles:{type:ht(Object),required:!0},depth:Number,expandColumnKey:S$e,estimatedRowHeight:{...E1.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ht(Function)},onRowHover:{type:ht(Function)},onRowHeightChange:{type:ht(Function)},rowData:{type:ht(Object),required:!0},rowEventHandlers:{type:ht(Object)},rowIndex:{type:Number,required:!0},rowKey:che,style:{type:ht(Object)}}),zU={type:Number,required:!0},q$=hn({class:String,columns:CL,fixedHeaderData:{type:ht(Array)},headerData:{type:ht(Array),required:!0},headerHeight:{type:ht([Number,Array]),default:50},rowWidth:zU,rowHeight:{type:Number,default:50},height:zU,width:zU}),eF=hn({columns:CL,data:lhe,fixedData:K$,estimatedRowHeight:l1.estimatedRowHeight,width:J_,height:J_,headerWidth:J_,headerHeight:q$.headerHeight,bodyWidth:J_,rowHeight:J_,cache:Bue.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:E1.scrollbarAlwaysOn,scrollbarStartGap:E1.scrollbarStartGap,scrollbarEndGap:E1.scrollbarEndGap,class:ohe,style:jX,containerStyle:jX,getRowHeight:{type:ht(Function),required:!0},rowKey:l1.rowKey,onRowsRendered:{type:ht(Function)},onScroll:{type:ht(Function)}}),C$e=hn({cache:eF.cache,estimatedRowHeight:l1.estimatedRowHeight,rowKey:che,headerClass:{type:ht([String,Function])},headerProps:{type:ht([Object,Function])},headerCellProps:{type:ht([Object,Function])},headerHeight:q$.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ht([String,Function])},rowProps:{type:ht([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ht([Object,Function])},columns:CL,data:lhe,dataGetter:{type:ht(Function)},fixedData:K$,expandColumnKey:l1.expandColumnKey,expandedRowKeys:WX,defaultExpandedRowKeys:WX,class:ohe,fixed:Boolean,style:{type:ht(Object)},width:J_,height:J_,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:E1.hScrollbarSize,vScrollbarSize:E1.vScrollbarSize,scrollbarAlwaysOn:Pue.alwaysOn,sortBy:{type:ht(Object),default:()=>({})},sortState:{type:ht(Object),default:void 0},onColumnSort:{type:ht(Function)},onExpandedRowsChange:{type:ht(Function)},onEndReached:{type:ht(Function)},onRowExpand:l1.onRowExpand,onScroll:eF.onScroll,onRowsRendered:eF.onRowsRendered,rowEventHandlers:l1.rowEventHandlers}),T$e="ElTableV2Header",M$e=Me({name:T$e,props:q$,setup(t,{slots:e,expose:n}){const r=Jt("table-v2"),i=qt("tableV2GridScrollLeft"),s=ge(),a=J(()=>Q0({width:t.width,height:t.height})),o=J(()=>Q0({width:t.rowWidth,height:t.height})),l=J(()=>eh(b(t.headerHeight))),u=f=>{const A=b(s);Zn(()=>{A!=null&&A.scroll&&A.scroll({left:f})})},h=()=>{const f=r.e("fixed-header-row"),{columns:A,fixedHeaderData:m,rowHeight:g}=t;return m==null?void 0:m.map((y,_)=>{var x;const S=Q0({height:g,width:"100%"});return(x=e.fixed)==null?void 0:x.call(e,{class:f,columns:A,rowData:y,rowIndex:-(_+1),style:S})})},d=()=>{const f=r.e("dynamic-header-row"),{columns:A}=t;return b(l).map((m,g)=>{var y;const _=Q0({width:"100%",height:m});return(y=e.dynamic)==null?void 0:y.call(e,{class:f,columns:A,headerIndex:g,style:_})})};return Bp(()=>{i!=null&&i.value&&u(i.value)}),n({scrollToLeft:u}),()=>{if(!(t.height<=0))return Ce("div",{ref:s,class:t.class,style:b(a),role:"rowgroup"},[Ce("div",{style:b(o),class:r.e("header")},[d(),h()])])}}});var L$e=M$e;const B$e=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},i)=>{let s=null,a=0,o=0;const l=(h,d)=>{const f=h<=0&&e.value||h>=0&&t.value,A=d<=0&&r.value||d>=0&&n.value;return f&&A};return{hasReachedEdge:l,onWheel:h=>{Q1(s);let d=h.deltaX,f=h.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,h.shiftKey&&f!==0&&(d=f,f=0),!(l(a,o)&&l(a+d,o+f))&&(a+=d,o+=f,h.preventDefault(),s=my(()=>{i(a,o),a=0,o=0}))}}},uhe=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:s,getEstimatedTotalWidth:a,getColumnOffset:o,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:h,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:A,validateProps:m})=>Me({name:t!=null?t:"ElVirtualList",props:E1,emits:[sO,aO],setup(g,{emit:y,expose:_,slots:x}){const S=Jt("vl");m(g);const C=ni(),M=ge(f(g,C));A==null||A(C,M);const B=ge(),E=ge(),L=ge(),I=ge(null),k=ge({isScrolling:!1,scrollLeft:tr(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:tr(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:zx,yAxisScrollDir:zx}),O=Tue(),F=J(()=>Number.parseInt("".concat(g.height),10)),U=J(()=>Number.parseInt("".concat(g.width),10)),$=J(()=>{const{totalColumn:at,totalRow:ft,columnCache:je}=g,{isScrolling:gt,xAxisScrollDir:vt,scrollLeft:Te}=b(k);if(at===0||ft===0)return[0,0,0,0];const we=r(g,Te,b(M)),Ne=i(g,we,Te,b(M)),Ze=!gt||vt===oO?Math.max(1,je):1,Tt=!gt||vt===zx?Math.max(1,je):1;return[Math.max(0,we-Ze),Math.max(0,Math.min(at-1,Ne+Tt)),we,Ne]}),K=J(()=>{const{totalColumn:at,totalRow:ft,rowCache:je}=g,{isScrolling:gt,yAxisScrollDir:vt,scrollTop:Te}=b(k);if(at===0||ft===0)return[0,0,0,0];const we=h(g,Te,b(M)),Ne=d(g,we,Te,b(M)),Ze=!gt||vt===oO?Math.max(1,je):1,Tt=!gt||vt===zx?Math.max(1,je):1;return[Math.max(0,we-Ze),Math.max(0,Math.min(ft-1,Ne+Tt)),we,Ne]}),V=J(()=>s(g,b(M))),Q=J(()=>a(g,b(M))),X=J(()=>{var at;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:tr(g.height)?"".concat(g.height,"px"):g.height,width:tr(g.width)?"".concat(g.width,"px"):g.width},(at=g.style)!=null?at:{}]}),z=J(()=>{const at="".concat(b(Q),"px");return{height:"".concat(b(V),"px"),pointerEvents:b(k).isScrolling?"none":void 0,width:at}}),ne=()=>{const{totalColumn:at,totalRow:ft}=g;if(at>0&&ft>0){const[Ne,Ze,Tt,Zt]=b($),[ln,Ye,yt,Qt]=b(K);y(sO,{columnCacheStart:Ne,columnCacheEnd:Ze,rowCacheStart:ln,rowCacheEnd:Ye,columnVisibleStart:Tt,columnVisibleEnd:Zt,rowVisibleStart:yt,rowVisibleEnd:Qt})}const{scrollLeft:je,scrollTop:gt,updateRequested:vt,xAxisScrollDir:Te,yAxisScrollDir:we}=b(k);y(aO,{xAxisScrollDir:Te,scrollLeft:je,yAxisScrollDir:we,scrollTop:gt,updateRequested:vt})},he=at=>{const{clientHeight:ft,clientWidth:je,scrollHeight:gt,scrollLeft:vt,scrollTop:Te,scrollWidth:we}=at.currentTarget,Ne=b(k);if(Ne.scrollTop===Te&&Ne.scrollLeft===vt)return;let Ze=vt;if(RX(g.direction))switch(cO()){case TM:Ze=-vt;break;case V$:Ze=we-je-vt;break}k.value={...Ne,isScrolling:!0,scrollLeft:Ze,scrollTop:Math.max(0,Math.min(Te,gt-ft)),updateRequested:!0,xAxisScrollDir:o1(Ne.scrollLeft,Ze),yAxisScrollDir:o1(Ne.scrollTop,Te)},Zn(()=>be()),xe(),ne()},W=(at,ft)=>{const je=b(F),gt=(V.value-je)/ft*at;fe({scrollTop:Math.min(V.value-je,gt)})},Y=(at,ft)=>{const je=b(U),gt=(Q.value-je)/ft*at;fe({scrollLeft:Math.min(Q.value-je,gt)})},{onWheel:oe}=B$e({atXStartEdge:J(()=>k.value.scrollLeft<=0),atXEndEdge:J(()=>k.value.scrollLeft>=Q.value-b(U)),atYStartEdge:J(()=>k.value.scrollTop<=0),atYEndEdge:J(()=>k.value.scrollTop>=V.value-b(F))},(at,ft)=>{var je,gt,vt,Te;(gt=(je=E.value)==null?void 0:je.onMouseUp)==null||gt.call(je),(Te=(vt=L.value)==null?void 0:vt.onMouseUp)==null||Te.call(vt);const we=b(U),Ne=b(F);fe({scrollLeft:Math.min(k.value.scrollLeft+at,Q.value-we),scrollTop:Math.min(k.value.scrollTop+ft,V.value-Ne)})});Us(B,"wheel",oe,{passive:!1});const fe=({scrollLeft:at=k.value.scrollLeft,scrollTop:ft=k.value.scrollTop})=>{at=Math.max(at,0),ft=Math.max(ft,0);const je=b(k);ft===je.scrollTop&&at===je.scrollLeft||(k.value={...je,xAxisScrollDir:o1(je.scrollLeft,at),yAxisScrollDir:o1(je.scrollTop,ft),scrollLeft:at,scrollTop:ft,updateRequested:!0},Zn(()=>be()),xe(),ne())},me=(at=0,ft=0,je=lA)=>{const gt=b(k);ft=Math.max(0,Math.min(ft,g.totalColumn-1)),at=Math.max(0,Math.min(at,g.totalRow-1));const vt=Tle(S.namespace.value),Te=b(M),we=s(g,Te),Ne=a(g,Te);fe({scrollLeft:o(g,ft,je,gt.scrollLeft,Te,Ne>g.width?vt:0),scrollTop:l(g,at,je,gt.scrollTop,Te,we>g.height?vt:0)})},ce=(at,ft)=>{const{columnWidth:je,direction:gt,rowHeight:vt}=g,Te=O.value(e&&je,e&&vt,e&&gt),we="".concat(at,",").concat(ft);if(us(Te,we))return Te[we];{const[,Ne]=n(g,ft,b(M)),Ze=b(M),Tt=RX(gt),[Zt,ln]=u(g,at,Ze),[Ye]=n(g,ft,Ze);return Te[we]={position:"absolute",left:Tt?void 0:"".concat(Ne,"px"),right:Tt?"".concat(Ne,"px"):void 0,top:"".concat(ln,"px"),height:"".concat(Zt,"px"),width:"".concat(Ye,"px")},Te[we]}},be=()=>{k.value.isScrolling=!1,Zn(()=>{O.value(-1,null,null)})};rr(()=>{if(!Wi)return;const{initScrollLeft:at,initScrollTop:ft}=g,je=b(B);je&&(tr(at)&&(je.scrollLeft=at),tr(ft)&&(je.scrollTop=ft)),ne()});const xe=()=>{const{direction:at}=g,{scrollLeft:ft,scrollTop:je,updateRequested:gt}=b(k),vt=b(B);if(gt&&vt){if(at===yE)switch(cO()){case TM:{vt.scrollLeft=-ft;break}case G$:{vt.scrollLeft=ft;break}default:{const{clientWidth:Te,scrollWidth:we}=vt;vt.scrollLeft=we-Te-ft;break}}else vt.scrollLeft=Math.max(0,ft);vt.scrollTop=Math.max(0,je)}},{resetAfterColumnIndex:Ie,resetAfterRowIndex:Qe,resetAfter:ue}=C.proxy;_({windowRef:B,innerRef:I,getItemStyleCache:O,scrollTo:fe,scrollToItem:me,states:k,resetAfterColumnIndex:Ie,resetAfterRowIndex:Qe,resetAfter:ue});const ye=()=>{const{scrollbarAlwaysOn:at,scrollbarStartGap:ft,scrollbarEndGap:je,totalColumn:gt,totalRow:vt}=g,Te=b(U),we=b(F),Ne=b(Q),Ze=b(V),{scrollLeft:Tt,scrollTop:Zt}=b(k),ln=lr(lH,{ref:E,alwaysOn:at,startGap:ft,endGap:je,class:S.e("horizontal"),clientSize:Te,layout:"horizontal",onScroll:Y,ratio:Te*100/Ne,scrollFrom:Tt/(Ne-Te),total:vt,visible:!0}),Ye=lr(lH,{ref:L,alwaysOn:at,startGap:ft,endGap:je,class:S.e("vertical"),clientSize:we,layout:"vertical",onScroll:W,ratio:we*100/Ze,scrollFrom:Zt/(Ze-we),total:gt,visible:!0});return{horizontalScrollbar:ln,verticalScrollbar:Ye}},$e=()=>{var at;const[ft,je]=b($),[gt,vt]=b(K),{data:Te,totalColumn:we,totalRow:Ne,useIsScrolling:Ze,itemKey:Tt}=g,Zt=[];if(Ne>0&&we>0)for(let ln=gt;ln<=vt;ln++)for(let Ye=ft;Ye<=je;Ye++){const yt=Tt({columnIndex:Ye,data:Te,rowIndex:ln});Zt.push(lr(Wn,{key:yt},(at=x.default)==null?void 0:at.call(x,{columnIndex:Ye,data:Te,isScrolling:Ze?b(k).isScrolling:void 0,style:ce(ln,Ye),rowIndex:ln})))}return Zt},Ve=()=>{const at=li(g.innerElement),ft=$e();return[lr(at,{style:b(z),ref:I},Qn(at)?ft:{default:()=>ft})]};return()=>{const at=li(g.containerElement),{horizontalScrollbar:ft,verticalScrollbar:je}=ye(),gt=Ve();return lr("div",{key:0,class:S.e("wrapper"),role:g.role},[lr(at,{class:g.className,style:b(X),onScroll:he,ref:B},Qn(at)?gt:{default:()=>gt}),ft,je])}}}),{max:dO,min:hhe,floor:dhe}=Math,R$e={column:"columnWidth",row:"rowHeight"},_H={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},iv=(t,e,n,r)=>{const[i,s,a]=[n[r],t[R$e[r]],n[_H[r]]];if(e>a){let o=0;if(a>=0){const l=i[a];o=l.offset+l.size}for(let l=a+1;l<=e;l++){const u=s(l);i[l]={offset:o,size:u},o+=u}n[_H[r]]=e}return i[e]},fhe=(t,e,n,r,i,s)=>{for(;n<=r;){const a=n+dhe((r-n)/2),o=iv(t,a,e,s).offset;if(o===i)return a;o<i?n=a+1:r=a-1}return dO(0,n-1)},I$e=(t,e,n,r,i)=>{const s=i==="column"?t.totalColumn:t.totalRow;let a=1;for(;n<s&&iv(t,n,e,i).offset<r;)n+=a,a*=2;return fhe(t,e,dhe(n/2),hhe(n,s-1),r,i)},KX=(t,e,n,r)=>{const[i,s]=[e[r],e[_H[r]]];return(s>0?i[s].offset:0)>=n?fhe(t,e,0,s,n,r):I$e(t,e,dO(0,s),n,r)},Ahe=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=t&&(n=t-1),n>=0){const o=r[n];i=o.offset+o.size}const a=(t-n-1)*e;return i+a},phe=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>t&&(r=t-1),r>=0){const o=e[r];i=o.offset+o.size}const a=(t-r-1)*n;return i+a},P$e={column:phe,row:Ahe},qX=(t,e,n,r,i,s,a)=>{const[o,l]=[s==="row"?t.height:t.width,P$e[s]],u=iv(t,e,i,s),h=l(t,i),d=dO(0,hhe(h-o,u.offset)),f=dO(0,u.offset-o+a+u.size);switch(n===_5&&(r>=f-o&&r<=d+o?n=lA:n=Qg),n){case SM:return d;case CM:return f;case Qg:return Math.round(f+(d-f)/2);case lA:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},F$e=uhe({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=iv(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=iv(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,i,s)=>qX(t,e,n,r,i,"column",s),getRowOffset:(t,e,n,r,i,s)=>qX(t,e,n,r,i,"row",s),getColumnStartIndexForOffset:(t,e,n)=>KX(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const i=iv(t,e,r,"column"),s=n+t.width;let a=i.offset+i.size,o=e;for(;o<t.totalColumn-1&&a<s;)o++,a+=iv(t,e,r,"column").size;return o},getEstimatedTotalHeight:Ahe,getEstimatedTotalWidth:phe,getRowStartIndexForOffset:(t,e,n)=>KX(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:i,height:s}=t,a=iv(t,e,r,"row"),o=n+s;let l=a.size+a.offset,u=e;for(;u<i-1&&l<o;)u++,l+=iv(t,u,r,"row").size;return u},injectToInstance:(t,e)=>{const n=({columnIndex:s,rowIndex:a},o)=>{var l,u;o=ps(o)?!0:o,tr(s)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,s-1)),tr(a)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,a-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((u=t.proxy)==null||u.$forceUpdate())},r=(s,a)=>{n({columnIndex:s},a)},i=(s,a)=>{n({rowIndex:s},a)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:t=nH,estimatedRowHeight:e=nH})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),O$e=uhe({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,i,s,a,o)=>{n=Number(n);const l=Math.max(0,t*e-n),u=Math.min(l,r*e),h=Math.max(0,r*e-n+o+e);switch(i==="smart"&&(s>=h-n&&s<=u+n?i=lA:i=Qg),i){case SM:return u;case CM:return h;case Qg:{const d=Math.round(h+(u-h)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case lA:default:return s>=h&&s<=u?s:h>u||s<h?h:u}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,i,s,a,o)=>{e=Number(e);const l=Math.max(0,n*t-e),u=Math.min(l,r*t),h=Math.max(0,r*t-e+o+t);switch(i===_5&&(s>=h-e&&s<=u+e?i=lA:i=Qg),i){case SM:return u;case CM:return h;case Qg:{const d=Math.round(h+(u-h)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case lA:default:return s>=h&&s<=u?s:h>u||s<h?h:u}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,i)=>{const s=r*t,a=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,i)=>{const s=r*t,a=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),N$e="ElTableV2Grid",D$e=t=>{const e=ge(),n=ge(),r=ge(0),i=J(()=>{const{data:y,rowHeight:_,estimatedRowHeight:x}=t;if(!x)return y.length*_}),s=J(()=>{const{fixedData:y,rowHeight:_}=t;return((y==null?void 0:y.length)||0)*_}),a=J(()=>JP(t.headerHeight)),o=J(()=>{const{height:y}=t;return Math.max(0,y-b(a)-b(s))}),l=J(()=>b(a)+b(s)>0),u=({data:y,rowIndex:_})=>y[_][t.rowKey];function h({rowCacheStart:y,rowCacheEnd:_,rowVisibleStart:x,rowVisibleEnd:S}){var C;(C=t.onRowsRendered)==null||C.call(t,{rowCacheStart:y,rowCacheEnd:_,rowVisibleStart:x,rowVisibleEnd:S})}function d(y,_){var x;(x=n.value)==null||x.resetAfterRowIndex(y,_)}function f(y,_){const x=b(e),S=b(n);qr(y)?(x==null||x.scrollToLeft(y.scrollLeft),r.value=y.scrollLeft,S==null||S.scrollTo(y)):(x==null||x.scrollToLeft(y),r.value=y,S==null||S.scrollTo({scrollLeft:y,scrollTop:_}))}function A(y){var _;(_=b(n))==null||_.scrollTo({scrollTop:y})}function m(y,_){var x;(x=b(n))==null||x.scrollToItem(y,1,_)}function g(){var y,_;(y=b(n))==null||y.$forceUpdate(),(_=b(e))==null||_.$forceUpdate()}return Ct(()=>t.bodyWidth,()=>{var y;tr(t.estimatedRowHeight)&&((y=n.value)==null||y.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:s,gridHeight:o,hasHeader:l,headerHeight:a,headerRef:e,totalHeight:i,itemKey:u,onItemRendered:h,resetAfterRowIndex:d,scrollTo:f,scrollToTop:A,scrollToRow:m,scrollLeft:r}},k$e=Me({name:N$e,props:eF,setup(t,{slots:e,expose:n}){const{ns:r}=qt(j$),{bodyRef:i,fixedRowHeight:s,gridHeight:a,hasHeader:o,headerRef:l,headerHeight:u,totalHeight:h,forceUpdate:d,itemKey:f,onItemRendered:A,resetAfterRowIndex:m,scrollTo:g,scrollToTop:y,scrollToRow:_,scrollLeft:x}=D$e(t);dr("tableV2GridScrollLeft",x),n({forceUpdate:d,totalHeight:h,scrollTo:g,scrollToTop:y,scrollToRow:_,resetAfterRowIndex:m});const S=()=>t.bodyWidth;return()=>{const{cache:C,columns:M,data:B,fixedData:E,useIsScrolling:L,scrollbarAlwaysOn:I,scrollbarEndGap:k,scrollbarStartGap:O,style:F,rowHeight:U,bodyWidth:$,estimatedRowHeight:K,headerWidth:V,height:Q,width:X,getRowHeight:z,onScroll:ne}=t,he=tr(K),W=he?F$e:O$e,Y=b(u);return Ce("div",{role:"table",class:[r.e("table"),t.class],style:F},[Ce(W,{ref:i,data:B,useIsScrolling:L,itemKey:f,columnCache:0,columnWidth:he?S:$,totalColumn:1,totalRow:B.length,rowCache:C,rowHeight:he?z:U,width:X,height:b(a),class:r.e("body"),role:"rowgroup",scrollbarStartGap:O,scrollbarEndGap:k,scrollbarAlwaysOn:I,onScroll:ne,onItemRendered:A,perfMode:!1},{default:oe=>{var fe;const me=B[oe.rowIndex];return(fe=e.row)==null?void 0:fe.call(e,{...oe,columns:M,rowData:me})}}),b(o)&&Ce(L$e,{ref:l,class:r.e("header-wrapper"),columns:M,headerData:B,headerHeight:t.headerHeight,fixedHeaderData:E,rowWidth:V,rowHeight:U,width:X,height:Math.min(Y+b(s),Q)},{dynamic:e.header,fixed:e.row})])}}});var X$=k$e;function U$e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const H$e=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return Ce(X$,hi({ref:n},r),U$e(e)?e:{default:()=>[e]})};var G$e=H$e;function V$e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const z$e=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return Ce(X$,hi({ref:n},r),V$e(e)?e:{default:()=>[e]})};var $$e=z$e;function Q$e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const W$e=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return Ce(X$,hi({ref:n},r),Q$e(e)?e:{default:()=>[e]})};var j$e=W$e;const K$e=t=>{const{isScrolling:e}=qt(j$),n=ge(!1),r=ge(),i=J(()=>tr(t.estimatedRowHeight)&&t.rowIndex>=0),s=(l=!1)=>{const u=b(r);if(!u)return;const{columns:h,onRowHeightChange:d,rowKey:f,rowIndex:A,style:m}=t,{height:g}=u.getBoundingClientRect();n.value=!0,Zn(()=>{if(l||g!==Number.parseInt(m.height)){const y=h[0],_=(y==null?void 0:y.placeholderSign)===RM;d==null||d({rowKey:f,height:g,rowIndex:A},y&&!_&&y.fixed)}})},a=J(()=>{const{rowData:l,rowIndex:u,rowKey:h,onRowHover:d}=t,f=t.rowEventHandlers||{},A={};return Object.entries(f).forEach(([m,g])=>{Kn(g)&&(A[m]=y=>{g({event:y,rowData:l,rowIndex:u,rowKey:h})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:m,hovered:g})=>{const y=A[m];A[m]=_=>{d({event:_,hovered:g,rowData:l,rowIndex:u,rowKey:h}),y==null||y(_)}}),A}),o=l=>{const{onRowExpand:u,rowData:h,rowIndex:d,rowKey:f}=t;u==null||u({expanded:l,rowData:h,rowIndex:d,rowKey:f})};return rr(()=>{b(i)&&s(!0)}),{isScrolling:e,measurable:i,measured:n,rowRef:r,eventHandlers:a,onExpand:o}},q$e="ElTableV2TableRow",X$e=Me({name:q$e,props:l1,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:s,measurable:a,measured:o,rowRef:l,onExpand:u}=K$e(t);return e({onExpand:u}),()=>{const{columns:h,columnsStyles:d,expandColumnKey:f,depth:A,rowData:m,rowIndex:g,style:y}=t;let _=h.map((x,S)=>{const C=an(m.children)&&m.children.length>0&&x.key===f;return n.cell({column:x,columns:h,columnIndex:S,depth:A,style:d[x.key],rowData:m,rowIndex:g,isScrolling:b(s),expandIconProps:C?{rowData:m,rowIndex:g,onExpand:u}:void 0})});if(n.row&&(_=n.row({cells:_.map(x=>an(x)&&x.length===1?x[0]:x),style:y,columns:h,depth:A,rowData:m,rowIndex:g,isScrolling:b(s)})),b(a)){const{height:x,...S}=y||{},C=b(o);return Ce("div",hi({ref:l,class:t.class,style:C?y:S,role:"row"},r,b(i)),[_])}return Ce("div",hi(r,{ref:l,class:t.class,style:y,role:"row"},b(i)),[_])}}});var Y$e=X$e;function Z$e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const J$e=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:s,expandedRowKeys:a,estimatedRowHeight:o,hasFixedColumns:l,rowData:u,rowIndex:h,style:d,isScrolling:f,rowProps:A,rowClass:m,rowKey:g,rowEventHandlers:y,ns:_,onRowHovered:x,onRowExpanded:S}=t,C=j1(m,{columns:n,rowData:u,rowIndex:h},""),M=j1(A,{columns:n,rowData:u,rowIndex:h}),B=u[g],E=i[B]||0,L=!!s,I=h<0,k=[_.e("row"),C,{[_.e("row-depth-".concat(E))]:L&&h>=0,[_.is("expanded")]:L&&a.includes(B),[_.is("fixed")]:!E&&I,[_.is("customized")]:!!e.row}],O=l?x:void 0,F={...M,columns:n,columnsStyles:r,class:k,depth:E,expandColumnKey:s,estimatedRowHeight:I?void 0:o,isScrolling:f,rowIndex:h,rowData:u,rowKey:B,rowEventHandlers:y,style:d};return Ce(Y$e,hi(F,{onRowExpand:S,onMouseenter:K=>{O==null||O({hovered:!0,rowKey:B,event:K,rowData:u,rowIndex:h})},onMouseleave:K=>{O==null||O({hovered:!1,rowKey:B,event:K,rowData:u,rowIndex:h})},rowkey:B}),Z$e(e)?e:{default:()=>[e]})};var e7e=J$e;const Y$=(t,{slots:e})=>{var n;const{cellData:r,style:i}=t,s=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",a=tt(e,"default",t,()=>[s]);return Ce("div",{class:t.class,title:s,style:i},[a])};Y$.displayName="ElTableV2Cell";Y$.inheritAttrs=!1;var t7e=Y$;const n7e=t=>{const{expanded:e,expandable:n,onExpand:r,style:i,size:s}=t,a={onClick:n?()=>r(!e):void 0,class:t.class};return Ce(Vn,hi(a,{size:s,style:i}),{default:()=>[Ce(oh,null,null)]})};var r7e=n7e;const ghe=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:i,isScrolling:s,rowData:a,rowIndex:o,style:l,expandedRowKeys:u,ns:h,cellProps:d,expandColumnKey:f,indentSize:A,iconSize:m,rowKey:g},{slots:y})=>{const _=Q0(l);if(e.placeholderSign===RM)return Ce("div",{class:h.em("row-cell","placeholder"),style:_},null);const{cellRenderer:x,dataKey:S,dataGetter:C}=e,M=Kn(C)?C({columns:t,column:e,columnIndex:n,rowData:a,rowIndex:o}):qo(a,S!=null?S:""),B=j1(d,{cellData:M,columns:t,column:e,columnIndex:n,rowIndex:o,rowData:a}),E={class:h.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:M,isScrolling:s,rowData:a,rowIndex:o},L=ahe(x),I=L?L(E):tt(y,"default",E,()=>[Ce(t7e,E,null)]),k=[h.e("row-cell"),e.class,e.align===BM.CENTER&&h.is("align-center"),e.align===BM.RIGHT&&h.is("align-right")],O=o>=0&&f&&e.key===f,F=o>=0&&u.includes(a[g]);let U;const $="margin-inline-start: ".concat(r*A,"px;");return O&&(qr(i)?U=Ce(r7e,hi(i,{class:[h.e("expand-icon"),h.is("expanded",F)],size:m,expanded:F,style:$,expandable:!0}),null):U=Ce("div",{style:[$,"width: ".concat(m,"px; height: ").concat(m,"px;")].join(" ")},null)),Ce("div",hi({class:k,style:_},B,{role:"cell"}),[U,I])};ghe.inheritAttrs=!1;var XX=ghe;const i7e=hn({class:String,columns:CL,columnsStyles:{type:ht(Object),required:!0},headerIndex:Number,style:{type:ht(Object)}}),s7e=Me({name:"ElTableV2HeaderRow",props:i7e,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:s}=t;let a=n.map((o,l)=>e.cell({columns:n,column:o,columnIndex:l,headerIndex:i,style:r[o.key]}));return e.header&&(a=e.header({cells:a.map(o=>an(o)&&o.length===1?o[0]:o),columns:n,headerIndex:i})),Ce("div",{class:t.class,style:s,role:"row"},[a])}}});var a7e=s7e;function o7e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const l7e=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:i,headerProps:s,ns:a},{slots:o})=>{const l={columns:t,headerIndex:n},u=[a.e("header-row"),j1(i,l,""),{[a.is("customized")]:!!o.header}],h={...j1(s,l),columnsStyles:e,class:u,columns:t,headerIndex:n,style:r};return Ce(a7e,h,o7e(o)?o:{default:()=>[o]})};var c7e=l7e;const Z$=(t,{slots:e})=>tt(e,"default",t,()=>{var n,r;return[Ce("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});Z$.displayName="ElTableV2HeaderCell";Z$.inheritAttrs=!1;var u7e=Z$;const h7e=t=>{const{sortOrder:e}=t;return Ce(Vn,{size:14,class:t.class},{default:()=>[e===LM.ASC?Ce(LEe,null,null):Ce(TEe,null,null)]})};var d7e=h7e;const f7e=(t,{slots:e})=>{const{column:n,ns:r,style:i,onColumnSorted:s}=t,a=Q0(i);if(n.placeholderSign===RM)return Ce("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:o,headerClass:l,sortable:u}=n,h={...t,class:r.e("header-cell-text")},d=ahe(o),f=d?d(h):tt(e,"default",h,()=>[Ce(u7e,h,null)]),{sortBy:A,sortState:m,headerCellProps:g}=t;let y,_;if(m){const C=m[n.key];y=!!yH[C],_=y?C:LM.ASC}else y=n.key===A.key,_=y?A.order:LM.ASC;const x=[r.e("header-cell"),j1(l,t,""),n.align===BM.CENTER&&r.is("align-center"),n.align===BM.RIGHT&&r.is("align-right"),u&&r.is("sortable")],S={...j1(g,t),onClick:n.sortable?s:void 0,class:x,style:a,"data-key":n.key};return Ce("div",hi(S,{role:"columnheader"}),[f,u&&Ce(d7e,{class:[r.e("sort-icon"),y&&r.is("sorting")],sortOrder:_},null)])};var YX=f7e;const mhe=(t,{slots:e})=>{var n;return Ce("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};mhe.displayName="ElTableV2Footer";var A7e=mhe;const vhe=(t,{slots:e})=>{const n=tt(e,"default",{},()=>[Ce(due,null,null)]);return Ce("div",{class:t.class,style:t.style},[n])};vhe.displayName="ElTableV2Empty";var p7e=vhe;const yhe=(t,{slots:e})=>{var n;return Ce("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};yhe.displayName="ElTableV2Overlay";var g7e=yhe;function h2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ka(t)}const m7e="ElTableV2",v7e=Me({name:m7e,props:C$e,setup(t,{slots:e,expose:n}){const r=Jt("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:a,mainColumns:o,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:h,rightTableWidth:d,data:f,depthMap:A,expandedRowKeys:m,hasFixedColumns:g,mainTableRef:y,leftTableRef:_,rightTableRef:x,isDynamic:S,isResetting:C,isScrolling:M,bodyWidth:B,emptyStyle:E,rootStyle:L,headerWidth:I,footerHeight:k,showEmpty:O,scrollTo:F,scrollToLeft:U,scrollToTop:$,scrollToRow:K,getRowHeight:V,onColumnSorted:Q,onRowHeightChange:X,onRowHovered:z,onRowExpanded:ne,onRowsRendered:he,onScroll:W,onVerticalScroll:Y}=E$e(t);return n({scrollTo:F,scrollToLeft:U,scrollToTop:$,scrollToRow:K}),dr(j$,{ns:r,isResetting:C,isScrolling:M}),()=>{const{cache:oe,cellProps:fe,estimatedRowHeight:me,expandColumnKey:ce,fixedData:be,headerHeight:xe,headerClass:Ie,headerProps:Qe,headerCellProps:ue,sortBy:ye,sortState:$e,rowHeight:Ve,rowClass:Se,rowEventHandlers:at,rowKey:ft,rowProps:je,scrollbarAlwaysOn:gt,indentSize:vt,iconSize:Te,useIsScrolling:we,vScrollbarSize:Ne,width:Ze}=t,Tt=b(f),Zt={cache:oe,class:r.e("main"),columns:b(o),data:Tt,fixedData:be,estimatedRowHeight:me,bodyWidth:b(B)+Ne,headerHeight:xe,headerWidth:b(I),height:b(l),mainTableRef:y,rowKey:ft,rowHeight:Ve,scrollbarAlwaysOn:gt,scrollbarStartGap:2,scrollbarEndGap:Ne,useIsScrolling:we,width:Ze,getRowHeight:V,onRowsRendered:he,onScroll:W},ln=b(h),Ye=b(u),yt={cache:oe,class:r.e("left"),columns:b(s),data:Tt,fixedData:be,estimatedRowHeight:me,leftTableRef:_,rowHeight:Ve,bodyWidth:ln,headerWidth:ln,headerHeight:xe,height:Ye,rowKey:ft,scrollbarAlwaysOn:gt,scrollbarStartGap:2,scrollbarEndGap:Ne,useIsScrolling:we,width:ln,getRowHeight:V,onScroll:Y},Dt=b(d)+Ne,st={cache:oe,class:r.e("right"),columns:b(a),data:Tt,fixedData:be,estimatedRowHeight:me,rightTableRef:x,rowHeight:Ve,bodyWidth:Dt,headerWidth:Dt,headerHeight:xe,height:Ye,rowKey:ft,scrollbarAlwaysOn:gt,scrollbarStartGap:2,scrollbarEndGap:Ne,width:Dt,style:"--".concat(b(r.namespace),"-table-scrollbar-size: ").concat(Ne,"px"),useIsScrolling:we,getRowHeight:V,onScroll:Y},ke=b(i),ct={ns:r,depthMap:b(A),columnsStyles:ke,expandColumnKey:ce,expandedRowKeys:b(m),estimatedRowHeight:me,hasFixedColumns:b(g),rowProps:je,rowClass:Se,rowKey:ft,rowEventHandlers:at,onRowHovered:z,onRowExpanded:ne,onRowHeightChange:X},Oe={cellProps:fe,expandColumnKey:ce,indentSize:vt,iconSize:Te,rowKey:ft,expandedRowKeys:b(m),ns:r},kt={ns:r,headerClass:Ie,headerProps:Qe,columnsStyles:ke},wn={ns:r,sortBy:ye,sortState:$e,headerCellProps:ue,onColumnSorted:Q},mt={row:Rn=>Ce(e7e,hi(Rn,ct),{row:e.row,cell:On=>{let Dn;return e.cell?Ce(XX,hi(On,Oe,{style:ke[On.column.key]}),h2(Dn=e.cell(On))?Dn:{default:()=>[Dn]}):Ce(XX,hi(On,Oe,{style:ke[On.column.key]}),null)}}),header:Rn=>Ce(c7e,hi(Rn,kt),{header:e.header,cell:On=>{let Dn;return e["header-cell"]?Ce(YX,hi(On,wn,{style:ke[On.column.key]}),h2(Dn=e["header-cell"](On))?Dn:{default:()=>[Dn]}):Ce(YX,hi(On,wn,{style:ke[On.column.key]}),null)}})},Kt=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:b(S)}],bn={class:r.e("footer"),style:b(k)};return Ce("div",{class:Kt,style:b(L)},[Ce(G$e,Zt,h2(mt)?mt:{default:()=>[mt]}),Ce($$e,yt,h2(mt)?mt:{default:()=>[mt]}),Ce(j$e,st,h2(mt)?mt:{default:()=>[mt]}),e.footer&&Ce(A7e,bn,{default:e.footer}),b(O)&&Ce(p7e,{class:r.e("empty"),style:b(E)},{default:e.empty}),e.overlay&&Ce(g7e,{class:r.e("overlay")},{default:e.overlay})])}}});var y7e=v7e;const _7e=hn({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ht(Function)}}),w7e=t=>{const e=ge(),n=ge(0),r=ge(0);let i;return rr(()=>{i=so(e,([s])=>{const{width:a,height:o}=s.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:h,paddingBottom:d}=getComputedStyle(s.target),f=Number.parseInt(l)||0,A=Number.parseInt(u)||0,m=Number.parseInt(h)||0,g=Number.parseInt(d)||0;n.value=a-f-A,r.value=o-m-g}).stop}),Hs(()=>{i==null||i()}),Ct([n,r],([s,a])=>{var o;(o=t.onResize)==null||o.call(t,{width:s,height:a})}),{sizer:e,width:n,height:r}},b7e=Me({name:"ElAutoResizer",props:_7e,setup(t,{slots:e}){const n=Jt("auto-resizer"),{height:r,width:i,sizer:s}=w7e(t),a={width:"100%",height:"100%"};return()=>{var o;return Ce("div",{ref:s,class:n.b(),style:a},[(o=e.default)==null?void 0:o.call(e,{height:r.value,width:i.value})])}}});var x7e=b7e;const E7e=Nr(y7e),S7e=Nr(x7e),w5=Symbol("tabsRootContextKey"),C7e=hn({tabs:{type:ht(Array),default:()=>ao([])}}),_he="ElTabBar",T7e=Me({name:_he}),M7e=Me({...T7e,props:C7e,setup(t,{expose:e}){const n=t,r=ni(),i=qt(w5);i||Gl(_he,"<el-tabs><el-tab-bar /></el-tabs>");const s=Jt("tabs"),a=ge(),o=ge(),l=()=>{let A=0,m=0;const g=["top","bottom"].includes(i.props.tabPosition)?"width":"height",y=g==="width"?"x":"y",_=y==="x"?"left":"top";return n.tabs.every(x=>{var S,C;const M=(C=(S=r.parent)==null?void 0:S.refs)==null?void 0:C["tab-".concat(x.uid)];if(!M)return!1;if(!x.active)return!0;A=M["offset".concat(Vg(_))],m=M["client".concat(Vg(g))];const B=window.getComputedStyle(M);return g==="width"&&(m-=Number.parseFloat(B.paddingLeft)+Number.parseFloat(B.paddingRight),A+=Number.parseFloat(B.paddingLeft)),!1}),{[g]:"".concat(m,"px"),transform:"translate".concat(Vg(y),"(").concat(A,"px)")}},u=()=>o.value=l(),h=[],d=()=>{var A;h.forEach(g=>g.stop()),h.length=0;const m=(A=r.parent)==null?void 0:A.refs;if(m){for(const g in m)if(g.startsWith("tab-")){const y=m[g];y&&h.push(so(y,u))}}};Ct(()=>n.tabs,async()=>{await Zn(),u(),d()},{immediate:!0});const f=so(a,()=>u());return Hs(()=>{h.forEach(A=>A.stop()),h.length=0,f.stop()}),e({ref:a,update:u}),(A,m)=>(ie(),Ee("div",{ref_key:"barRef",ref:a,class:de([b(s).e("active-bar"),b(s).is(b(i).props.tabPosition)]),style:Xn(o.value)},null,6))}});var L7e=mn(M7e,[["__file","tab-bar.vue"]]);const B7e=hn({panes:{type:ht(Array),default:()=>ao([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),R7e={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},ZX="ElTabNav",I7e=Me({name:ZX,props:B7e,emits:R7e,setup(t,{expose:e,emit:n}){const r=qt(w5);r||Gl(ZX,"<el-tabs><tab-nav /></el-tabs>");const i=Jt("tabs"),s=JRe(),a=hIe(),o=ge(),l=ge(),u=ge(),h=ge(),d=ge(!1),f=ge(0),A=ge(!1),m=ge(!0),g=J(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),y=J(()=>{const L=g.value==="width"?"X":"Y";return{transform:"translate".concat(L,"(-").concat(f.value,"px)")}}),_=()=>{if(!o.value)return;const L=o.value["offset".concat(Vg(g.value))],I=f.value;if(!I)return;const k=I>L?I-L:0;f.value=k},x=()=>{if(!o.value||!l.value)return;const L=l.value["offset".concat(Vg(g.value))],I=o.value["offset".concat(Vg(g.value))],k=f.value;if(L-k<=I)return;const O=L-k>I*2?k+I:L-I;f.value=O},S=async()=>{const L=l.value;if(!d.value||!u.value||!o.value||!L)return;await Zn();const I=u.value.querySelector(".is-active");if(!I)return;const k=o.value,O=["top","bottom"].includes(r.props.tabPosition),F=I.getBoundingClientRect(),U=k.getBoundingClientRect(),$=O?L.offsetWidth-U.width:L.offsetHeight-U.height,K=f.value;let V=K;O?(F.left<U.left&&(V=K-(U.left-F.left)),F.right>U.right&&(V=K+F.right-U.right)):(F.top<U.top&&(V=K-(U.top-F.top)),F.bottom>U.bottom&&(V=K+(F.bottom-U.bottom))),V=Math.max(V,0),f.value=Math.min(V,$)},C=()=>{var L;if(!l.value||!o.value)return;t.stretch&&((L=h.value)==null||L.update());const I=l.value["offset".concat(Vg(g.value))],k=o.value["offset".concat(Vg(g.value))],O=f.value;k<I?(d.value=d.value||{},d.value.prev=O,d.value.next=O+k<I,I-O<k&&(f.value=I-k)):(d.value=!1,O>0&&(f.value=0))},M=L=>{let I=0;switch(L.code){case Ln.left:case Ln.up:I=-1;break;case Ln.right:case Ln.down:I=1;break;default:return}const k=Array.from(L.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let F=k.indexOf(L.target)+I;F<0?F=k.length-1:F>=k.length&&(F=0),k[F].focus({preventScroll:!0}),k[F].click(),B()},B=()=>{m.value&&(A.value=!0)},E=()=>A.value=!1;return Ct(s,L=>{L==="hidden"?m.value=!1:L==="visible"&&setTimeout(()=>m.value=!0,50)}),Ct(a,L=>{L?setTimeout(()=>m.value=!0,50):m.value=!1}),so(u,C),rr(()=>setTimeout(()=>S(),0)),Bp(()=>C()),e({scrollToActiveTab:S,removeFocus:E}),()=>{const L=d.value?[Ce("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:_},[Ce(Vn,null,{default:()=>[Ce(Ev,null,null)]})]),Ce("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:x},[Ce(Vn,null,{default:()=>[Ce(oh,null,null)]})])]:null,I=t.panes.map((k,O)=>{var F,U,$,K;const V=k.uid,Q=k.props.disabled,X=(U=(F=k.props.name)!=null?F:k.index)!=null?U:"".concat(O),z=!Q&&(k.isClosable||t.editable);k.index="".concat(O);const ne=z?Ce(Vn,{class:"is-icon-close",onClick:Y=>n("tabRemove",k,Y)},{default:()=>[Ce(wp,null,null)]}):null,he=((K=($=k.slots).label)==null?void 0:K.call($))||k.props.label,W=!Q&&k.active?0:-1;return Ce("div",{ref:"tab-".concat(V),class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",k.active),i.is("disabled",Q),i.is("closable",z),i.is("focus",A.value)],id:"tab-".concat(X),key:"tab-".concat(V),"aria-controls":"pane-".concat(X),role:"tab","aria-selected":k.active,tabindex:W,onFocus:()=>B(),onBlur:()=>E(),onClick:Y=>{E(),n("tabClick",k,X,Y)},onKeydown:Y=>{z&&(Y.code===Ln.delete||Y.code===Ln.backspace)&&n("tabRemove",k,Y)}},[he,ne])});return Ce("div",{ref:u,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(r.props.tabPosition)]},[L,Ce("div",{class:i.e("nav-scroll"),ref:o},[Ce("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:y.value,role:"tablist",onKeydown:M},[t.type?null:Ce(L7e,{ref:h,tabs:[...t.panes]},null),I])])])}}}),P7e=hn({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ht(Function),default:()=>!0},stretch:Boolean}),$U=t=>Qn(t)||tr(t),F7e={[zr]:t=>$U(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>$U(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>$U(t),tabAdd:()=>!0},O7e=Me({name:"ElTabs",props:P7e,emits:F7e,setup(t,{emit:e,slots:n,expose:r}){var i;const s=Jt("tabs"),a=J(()=>["left","right"].includes(t.tabPosition)),{children:o,addChild:l,removeChild:u}=m$(ni(),"ElTabPane"),h=ge(),d=ge((i=t.modelValue)!=null?i:"0"),f=async(_,x=!1)=>{var S,C;if(!(d.value===_||ps(_)))try{let M;if(t.beforeLeave){const B=t.beforeLeave(_,d.value);M=B instanceof Promise?await B:B}else M=!0;M!==!1&&(d.value=_,x&&(e(zr,_),e("tabChange",_)),(C=(S=h.value)==null?void 0:S.removeFocus)==null||C.call(S))}catch(M){}},A=(_,x,S)=>{_.props.disabled||(f(x,!0),e("tabClick",_,S))},m=(_,x)=>{_.props.disabled||ps(_.props.name)||(x.stopPropagation(),e("edit",_.props.name,"remove"),e("tabRemove",_.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};Ct(()=>t.modelValue,_=>f(_)),Ct(d,async()=>{var _;await Zn(),(_=h.value)==null||_.scrollToActiveTab()}),dr(w5,{props:t,currentName:d,registerPane:_=>{o.value.push(_)},sortPane:l,unregisterPane:u}),r({currentName:d});const y=({render:_})=>_();return()=>{const _=n["add-icon"],x=t.editable||t.addable?Ce("div",{class:[s.e("new-tab"),a.value&&s.e("new-tab-vertical")],tabindex:"0",onClick:g,onKeydown:M=>{[Ln.enter,Ln.numpadEnter].includes(M.code)&&g()}},[_?tt(n,"add-icon"):Ce(Vn,{class:s.is("icon-plus")},{default:()=>[Ce(ioe,null,null)]})]):null,S=Ce("div",{class:[s.e("header"),a.value&&s.e("header-vertical"),s.is(t.tabPosition)]},[Ce(y,{render:()=>{const M=o.value.some(B=>B.slots.label);return Ce(I7e,{ref:h,currentName:d.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:A,onTabRemove:m},{$stable:!M})}},null),x]),C=Ce("div",{class:s.e("content")},[tt(n,"default")]);return Ce("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[C,S])}}});var N7e=O7e;const D7e=hn({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),whe="ElTabPane",k7e=Me({name:whe}),U7e=Me({...k7e,props:D7e,setup(t){const e=t,n=ni(),r=Cl(),i=qt(w5);i||Gl(whe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=Jt("tab-pane"),a=ge(),o=J(()=>e.closable||i.props.closable),l=R8(()=>{var A;return i.currentName.value===((A=e.name)!=null?A:a.value)}),u=ge(l.value),h=J(()=>{var A;return(A=e.name)!=null?A:a.value}),d=R8(()=>!e.lazy||u.value||l.value);Ct(l,A=>{A&&(u.value=!0)});const f=as({uid:n.uid,slots:r,props:e,paneName:h,active:l,index:a,isClosable:o});return i.registerPane(f),rr(()=>{i.sortPane(f)}),ca(()=>{i.unregisterPane(f.uid)}),(A,m)=>b(d)?Br((ie(),Ee("div",{key:0,id:"pane-".concat(b(h)),class:de(b(s).b()),role:"tabpanel","aria-hidden":!b(l),"aria-labelledby":"tab-".concat(b(h))},[tt(A.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Qi,b(l)]]):lt("v-if",!0)}});var bhe=mn(U7e,[["__file","tab-pane.vue"]]);const H7e=Nr(N7e,{TabPane:bhe}),G7e=ho(bhe),V7e=hn({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:pm,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),z7e=Me({name:"ElText"}),$7e=Me({...z7e,props:V7e,setup(t){const e=t,n=ge(),r=al(),i=Jt("text"),s=J(()=>[i.b(),i.m(e.type),i.m(r.value),i.is("truncated",e.truncated),i.is("line-clamp",!ps(e.lineClamp))]),a=Ya().title,o=()=>{var l,u,h,d,f;if(a)return;let A=!1;const m=((l=n.value)==null?void 0:l.textContent)||"";if(e.truncated){const g=(u=n.value)==null?void 0:u.offsetWidth,y=(h=n.value)==null?void 0:h.scrollWidth;g&&y&&y>g&&(A=!0)}else if(!ps(e.lineClamp)){const g=(d=n.value)==null?void 0:d.offsetHeight,y=(f=n.value)==null?void 0:f.scrollHeight;g&&y&&y>g&&(A=!0)}A?n.value.setAttribute("title",m):n.value.removeAttribute("title")};return rr(o),Bp(o),(l,u)=>(ie(),St(li(l.tag),{ref_key:"textRef",ref:n,class:de(b(s)),style:Xn({"-webkit-line-clamp":l.lineClamp})},{default:De(()=>[tt(l.$slots,"default")]),_:3},8,["class","style"]))}});var Q7e=mn($7e,[["__file","text.vue"]]);const W7e=Nr(Q7e),j7e=hn({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:ht(String),default:"light"},clearable:{type:Boolean,default:!0},size:Sl,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:ht([String,Object]),default:()=>eoe},clearIcon:{type:ht([String,Object]),default:()=>Hv},...GS}),uv=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=t.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},QU=(t,e)=>{const n=uv(t);if(!n)return-1;const r=uv(e);if(!r)return-1;const i=n.minutes+n.hours*60,s=r.minutes+r.hours*60;return i===s?0:i>s?1:-1},JX=t=>"".concat(t).padStart(2,"0"),Tx=t=>"".concat(JX(t.hours),":").concat(JX(t.minutes)),K7e=(t,e)=>{const n=uv(t);if(!n)return"";const r=uv(e);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,Tx(i)},q7e=Me({name:"ElTimeSelect"}),X7e=Me({...q7e,props:j7e,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;Tr.extend(w$);const{Option:r}=W1,i=Jt("input"),s=ge(),a=Tu(),{lang:o}=ji(),l=J(()=>n.modelValue),u=J(()=>{const _=uv(n.start);return _?Tx(_):null}),h=J(()=>{const _=uv(n.end);return _?Tx(_):null}),d=J(()=>{const _=uv(n.step);return _?Tx(_):null}),f=J(()=>{const _=uv(n.minTime||"");return _?Tx(_):null}),A=J(()=>{const _=uv(n.maxTime||"");return _?Tx(_):null}),m=J(()=>{var _;const x=[],S=(C,M)=>{x.push({value:C,disabled:QU(M,f.value||"-1:-1")<=0||QU(M,A.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let C=u.value,M;for(;C&&h.value&&QU(C,h.value)<=0;)M=Tr(C,"HH:mm").locale(o.value).format(n.format),S(M,C),C=K7e(C,d.value);if(n.includeEndTime&&h.value&&((_=x[x.length-1])==null?void 0:_.value)!==h.value){const B=Tr(h.value,"HH:mm").locale(o.value).format(n.format);S(B,h.value)}}return x});return e({blur:()=>{var _,x;(x=(_=s.value)==null?void 0:_.blur)==null||x.call(_)},focus:()=>{var _,x;(x=(_=s.value)==null?void 0:_.focus)==null||x.call(_)}}),(_,x)=>(ie(),St(b(W1),{ref_key:"select",ref:s,"model-value":b(l),disabled:b(a),clearable:_.clearable,"clear-icon":_.clearIcon,size:_.size,effect:_.effect,placeholder:_.placeholder,"default-first-option":"",filterable:_.editable,"empty-values":_.emptyValues,"value-on-clear":_.valueOnClear,"onUpdate:modelValue":S=>_.$emit("update:modelValue",S),onChange:S=>_.$emit("change",S),onBlur:S=>_.$emit("blur",S),onFocus:S=>_.$emit("focus",S),onClear:()=>_.$emit("clear")},{prefix:De(()=>[_.prefixIcon?(ie(),St(b(Vn),{key:0,class:de(b(i).e("prefix-icon"))},{default:De(()=>[(ie(),St(li(_.prefixIcon)))]),_:1},8,["class"])):lt("v-if",!0)]),default:De(()=>[(ie(!0),Ee(Wn,null,wi(b(m),S=>(ie(),St(b(r),{key:S.value,label:S.value,value:S.value,disabled:S.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var Y7e=mn(X7e,[["__file","time-select.vue"]]);const Z7e=Nr(Y7e),J7e=Me({name:"ElTimeline",setup(t,{slots:e}){const n=Jt("timeline");return dr("timeline",e),()=>lr("ul",{class:[n.b()]},[tt(e,"default")])}}),e9e=hn({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Ws},hollow:Boolean}),t9e=Me({name:"ElTimelineItem"}),n9e=Me({...t9e,props:e9e,setup(t){const e=t,n=Jt("timeline-item"),r=J(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(i,s)=>(ie(),Ee("li",{class:de([b(n).b(),{[b(n).e("center")]:i.center}])},[Be("div",{class:de(b(n).e("tail"))},null,2),i.$slots.dot?lt("v-if",!0):(ie(),Ee("div",{key:0,class:de(b(r)),style:Xn({backgroundColor:i.color})},[i.icon?(ie(),St(b(Vn),{key:0,class:de(b(n).e("icon"))},{default:De(()=>[(ie(),St(li(i.icon)))]),_:1},8,["class"])):lt("v-if",!0)],6)),i.$slots.dot?(ie(),Ee("div",{key:1,class:de(b(n).e("dot"))},[tt(i.$slots,"dot")],2)):lt("v-if",!0),Be("div",{class:de(b(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(ie(),Ee("div",{key:0,class:de([b(n).e("timestamp"),b(n).is("top")])},cn(i.timestamp),3)):lt("v-if",!0),Be("div",{class:de(b(n).e("content"))},[tt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(ie(),Ee("div",{key:1,class:de([b(n).e("timestamp"),b(n).is("bottom")])},cn(i.timestamp),3)):lt("v-if",!0)],2)],2))}});var xhe=mn(n9e,[["__file","timeline-item.vue"]]);const r9e=Nr(J7e,{TimelineItem:xhe}),i9e=ho(xhe),Ehe=hn({nowrap:Boolean});var She=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(She||{});const s9e=Object.values(She),J$=hn({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ht(Object),default:null}}),a9e=hn({side:{type:ht(String),values:s9e,required:!0}}),o9e=["absolute","fixed"],l9e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],e7=hn({arrowPadding:{type:ht(Number),default:5},effect:{type:ht(String),default:"light"},contentClass:String,placement:{type:ht(String),values:l9e,default:"bottom"},reference:{type:ht(Object),default:null},offset:{type:Number,default:8},strategy:{type:ht(String),values:o9e,default:"absolute"},showArrow:Boolean,...nu(["ariaLabel"])}),t7=hn({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ht(Function)},"onUpdate:open":{type:ht(Function)}}),Pb={type:ht(Function)},n7=hn({onBlur:Pb,onClick:Pb,onFocus:Pb,onMouseDown:Pb,onMouseEnter:Pb,onMouseLeave:Pb}),c9e=hn({...t7,...J$,...n7,...e7,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ht(Object),default:null},teleported:Boolean,to:{type:ht(String),default:"body"}}),b5=Symbol("tooltipV2"),Che=Symbol("tooltipV2Content"),WU="tooltip_v2.open",u9e=Me({name:"ElTooltipV2Root"}),h9e=Me({...u9e,props:t7,setup(t,{expose:e}){const n=t,r=ge(n.defaultOpen),i=ge(null),s=J({get:()=>gp(n.open)?r.value:n.open,set:y=>{var _;r.value=y,(_=n["onUpdate:open"])==null||_.call(n,y)}}),a=J(()=>tr(n.delayDuration)&&n.delayDuration>0),{start:o,stop:l}=$1(()=>{s.value=!0},J(()=>n.delayDuration),{immediate:!1}),u=Jt("tooltip-v2"),h=tu(),d=()=>{l(),s.value=!0},f=()=>{b(a)?o():d()},A=d,m=()=>{l(),s.value=!1};return Ct(s,y=>{var _;y&&(document.dispatchEvent(new CustomEvent(WU)),A()),(_=n.onOpenChange)==null||_.call(n,y)}),rr(()=>{document.addEventListener(WU,m)}),Hs(()=>{l(),document.removeEventListener(WU,m)}),dr(b5,{contentId:h,triggerRef:i,ns:u,onClose:m,onDelayOpen:f,onOpen:A}),e({onOpen:A,onClose:m}),(y,_)=>tt(y.$slots,"default",{open:b(s)})}});var d9e=mn(h9e,[["__file","root.vue"]]);const f9e=Me({name:"ElTooltipV2Arrow"}),A9e=Me({...f9e,props:{...J$,...a9e},setup(t){const e=t,{ns:n}=qt(b5),{arrowRef:r}=qt(Che),i=J(()=>{const{style:s,width:a,height:o}=e,l=n.namespace.value;return{["--".concat(l,"-tooltip-v2-arrow-width")]:"".concat(a,"px"),["--".concat(l,"-tooltip-v2-arrow-height")]:"".concat(o,"px"),["--".concat(l,"-tooltip-v2-arrow-border-width")]:"".concat(a/2,"px"),["--".concat(l,"-tooltip-v2-arrow-cover-width")]:a/2-1,...s||{}}});return(s,a)=>(ie(),Ee("span",{ref_key:"arrowRef",ref:r,style:Xn(b(i)),class:de(b(n).e("arrow"))},null,6))}});var eY=mn(A9e,[["__file","arrow.vue"]]);const iS=Math.min,S1=Math.max,fO=Math.round,CR=Math.floor,Zg=t=>({x:t,y:t}),p9e={left:"right",right:"left",bottom:"top",top:"bottom"},g9e={start:"end",end:"start"};function wH(t,e,n){return S1(t,iS(e,n))}function TL(t,e){return typeof t=="function"?t(e):t}function K1(t){return t.split("-")[0]}function ML(t){return t.split("-")[1]}function The(t){return t==="x"?"y":"x"}function r7(t){return t==="y"?"height":"width"}function sS(t){return["top","bottom"].includes(K1(t))?"y":"x"}function i7(t){return The(sS(t))}function m9e(t,e,n){n===void 0&&(n=!1);const r=ML(t),i=i7(t),s=r7(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=AO(a)),[a,AO(a)]}function v9e(t){const e=AO(t);return[bH(t),e,bH(e)]}function bH(t){return t.replace(/start|end/g,e=>g9e[e])}function y9e(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function _9e(t,e,n,r){const i=ML(t);let s=y9e(K1(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(bH)))),s}function AO(t){return t.replace(/left|right|bottom|top/g,e=>p9e[e])}function w9e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mhe(t){return typeof t!="number"?w9e(t):{top:t,right:t,bottom:t,left:t}}function pO(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tY(t,e,n){let{reference:r,floating:i}=t;const s=sS(e),a=i7(e),o=r7(a),l=K1(e),u=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let A;switch(l){case"top":A={x:h,y:r.y-i.height};break;case"bottom":A={x:h,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:d};break;case"left":A={x:r.x-i.width,y:d};break;default:A={x:r.x,y:r.y}}switch(ML(e)){case"start":A[a]-=f*(n&&u?-1:1);break;case"end":A[a]+=f*(n&&u?-1:1);break}return A}const b9e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=tY(u,r,l),f=r,A={},m=0;for(let g=0;g<o.length;g++){const{name:y,fn:_}=o[g],{x,y:S,data:C,reset:M}=await _({x:h,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:A,rects:u,platform:a,elements:{reference:t,floating:e}});h=x!=null?x:h,d=S!=null?S:d,A={...A,[y]:{...A[y],...C}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:h,y:d}=tY(u,f,l)),g=-1)}return{x:h,y:d,placement:f,strategy:i,middlewareData:A}};async function s7(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:A=0}=TL(e,t),m=Mhe(A),y=o[f?d==="floating"?"reference":"floating":d],_=pO(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),x=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},M=pO(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:S,strategy:l}):x);return{top:(_.top-M.top+m.top)/C.y,bottom:(M.bottom-_.bottom+m.bottom)/C.y,left:(_.left-M.left+m.left)/C.x,right:(M.right-_.right+m.right)/C.x}}const x9e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:h=0}=TL(t,e)||{};if(u==null)return{};const d=Mhe(h),f={x:n,y:r},A=i7(i),m=r7(A),g=await a.getDimensions(u),y=A==="y",_=y?"top":"left",x=y?"bottom":"right",S=y?"clientHeight":"clientWidth",C=s.reference[m]+s.reference[A]-f[A]-s.floating[m],M=f[A]-s.reference[A],B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=B?B[S]:0;(!E||!await(a.isElement==null?void 0:a.isElement(B)))&&(E=o.floating[S]||s.floating[m]);const L=C/2-M/2,I=E/2-g[m]/2-1,k=iS(d[_],I),O=iS(d[x],I),F=k,U=E-g[m]-O,$=E/2-g[m]/2+L,K=wH(F,$,U),V=!l.arrow&&ML(i)!=null&&$!==K&&s.reference[m]/2-($<F?k:O)-g[m]/2<0,Q=V?$<F?$-F:$-U:0;return{[A]:f[A]+Q,data:{[A]:K,centerOffset:$-K-Q,...V&&{alignmentOffset:Q}},reset:V}}}),E9e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=TL(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=K1(i),x=sS(o),S=K1(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=f||(S||!g?[AO(o)]:v9e(o)),B=m!=="none";!f&&B&&M.push(..._9e(o,g,m,C));const E=[o,...M],L=await s7(e,y),I=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&I.push(L[_]),d){const $=m9e(i,a,C);I.push(L[$[0]],L[$[1]])}if(k=[...k,{placement:i,overflows:I}],!I.every($=>$<=0)){var O,F;const $=(((O=s.flip)==null?void 0:O.index)||0)+1,K=E[$];if(K)return{data:{index:$,overflows:k},reset:{placement:K}};let V=(F=k.filter(Q=>Q.overflows[0]<=0).sort((Q,X)=>Q.overflows[1]-X.overflows[1])[0])==null?void 0:F.placement;if(!V)switch(A){case"bestFit":{var U;const Q=(U=k.filter(X=>{if(B){const z=sS(X.placement);return z===x||z==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(z=>z>0).reduce((z,ne)=>z+ne,0)]).sort((X,z)=>X[1]-z[1])[0])==null?void 0:U[0];Q&&(V=Q);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function S9e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=K1(n),o=ML(n),l=sS(n)==="y",u=["left","top"].includes(a)?-1:1,h=s&&l?-1:1,d=TL(e,t);let{mainAxis:f,crossAxis:A,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(A=o==="end"?m*-1:m),l?{x:A*h,y:f*u}:{x:f*u,y:A*h}}const C9e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await S9e(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},T9e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:_,y:x}=y;return{x:_,y:x}}},...l}=TL(t,e),u={x:n,y:r},h=await s7(e,l),d=sS(K1(i)),f=The(d);let A=u[f],m=u[d];if(s){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=A+h[y],S=A-h[_];A=wH(x,A,S)}if(a){const y=d==="y"?"top":"left",_=d==="y"?"bottom":"right",x=m+h[y],S=m-h[_];m=wH(x,m,S)}const g=o.fn({...e,[f]:A,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:a}}}}}};function x5(){return typeof window<"u"}function WS(t){return Lhe(t)?(t.nodeName||"").toLowerCase():"#document"}function xf(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mm(t){var e;return(e=(Lhe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lhe(t){return x5()?t instanceof Node||t instanceof xf(t).Node:!1}function xp(t){return x5()?t instanceof Element||t instanceof xf(t).Element:!1}function um(t){return x5()?t instanceof HTMLElement||t instanceof xf(t).HTMLElement:!1}function nY(t){return!x5()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xf(t).ShadowRoot}function LL(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ep(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function M9e(t){return["table","td","th"].includes(WS(t))}function E5(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(n){return!1}})}function a7(t){const e=o7(),n=xp(t)?Ep(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function L9e(t){let e=yy(t);for(;um(e)&&!aS(e);){if(a7(e))return e;if(E5(e))return null;e=yy(e)}return null}function o7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aS(t){return["html","body","#document"].includes(WS(t))}function Ep(t){return xf(t).getComputedStyle(t)}function S5(t){return xp(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yy(t){if(WS(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nY(t)&&t.host||mm(t);return nY(e)?e.host:e}function Bhe(t){const e=yy(t);return aS(e)?t.ownerDocument?t.ownerDocument.body:t.body:um(e)&&LL(e)?e:Bhe(e)}function IM(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Bhe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=xf(i);if(s){const o=xH(a);return e.concat(a,a.visualViewport||[],LL(i)?i:[],o&&n?IM(o):[])}return e.concat(i,IM(i,[],n))}function xH(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rhe(t){const e=Ep(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=um(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=fO(n)!==s||fO(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function l7(t){return xp(t)?t:t.contextElement}function _E(t){const e=l7(t);if(!um(e))return Zg(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Rhe(e);let a=(s?fO(n.width):n.width)/r,o=(s?fO(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const B9e=Zg(0);function Ihe(t){const e=xf(t);return!o7()||!e.visualViewport?B9e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R9e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xf(t)?!1:e}function q1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=l7(t);let a=Zg(1);e&&(r?xp(r)&&(a=_E(r)):a=_E(t));const o=R9e(s,n,r)?Ihe(s):Zg(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const f=xf(s),A=r&&xp(r)?xf(r):r;let m=f,g=xH(m);for(;g&&r&&A!==m;){const y=_E(g),_=g.getBoundingClientRect(),x=Ep(g),S=_.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,C=_.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,u*=y.y,h*=y.x,d*=y.y,l+=S,u+=C,m=xf(g),g=xH(m)}}return pO({width:h,height:d,x:l,y:u})}function c7(t,e){const n=S5(t).scrollLeft;return e?e.left+n:q1(mm(t)).left+n}function Phe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:c7(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function I9e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=mm(r),o=e?E5(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Zg(1);const h=Zg(0),d=um(r);if((d||!d&&!s)&&((WS(r)!=="body"||LL(a))&&(l=S5(r)),um(r))){const A=q1(r);u=_E(r),h.x=A.x+r.clientLeft,h.y=A.y+r.clientTop}const f=a&&!d&&!s?Phe(a,l,!0):Zg(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+f.x,y:n.y*u.y-l.scrollTop*u.y+h.y+f.y}}function P9e(t){return Array.from(t.getClientRects())}function F9e(t){const e=mm(t),n=S5(t),r=t.ownerDocument.body,i=S1(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=S1(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+c7(t);const o=-n.scrollTop;return Ep(r).direction==="rtl"&&(a+=S1(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function O9e(t,e){const n=xf(t),r=mm(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=o7();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function N9e(t,e){const n=q1(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=um(t)?_E(t):Zg(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function rY(t,e,n){let r;if(e==="viewport")r=O9e(t,n);else if(e==="document")r=F9e(mm(t));else if(xp(e))r=N9e(e,n);else{const i=Ihe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pO(r)}function Fhe(t,e){const n=yy(t);return n===e||!xp(n)||aS(n)?!1:Ep(n).position==="fixed"||Fhe(n,e)}function D9e(t,e){const n=e.get(t);if(n)return n;let r=IM(t,[],!1).filter(o=>xp(o)&&WS(o)!=="body"),i=null;const s=Ep(t).position==="fixed";let a=s?yy(t):t;for(;xp(a)&&!aS(a);){const o=Ep(a),l=a7(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||LL(a)&&!l&&Fhe(t,a))?r=r.filter(h=>h!==a):i=o,a=yy(a)}return e.set(t,r),r}function k9e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?E5(e)?[]:D9e(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,h)=>{const d=rY(e,h,i);return u.top=S1(d.top,u.top),u.right=iS(d.right,u.right),u.bottom=iS(d.bottom,u.bottom),u.left=S1(d.left,u.left),u},rY(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U9e(t){const{width:e,height:n}=Rhe(t);return{width:e,height:n}}function H9e(t,e,n){const r=um(e),i=mm(e),s=n==="fixed",a=q1(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Zg(0);if(r||!r&&!s)if((WS(e)!=="body"||LL(i))&&(o=S5(e)),r){const f=q1(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=c7(i));const u=i&&!r&&!s?Phe(i,o):Zg(0),h=a.left+o.scrollLeft-l.x-u.x,d=a.top+o.scrollTop-l.y-u.y;return{x:h,y:d,width:a.width,height:a.height}}function jU(t){return Ep(t).position==="static"}function iY(t,e){if(!um(t)||Ep(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mm(t)===n&&(n=n.ownerDocument.body),n}function Ohe(t,e){const n=xf(t);if(E5(t))return n;if(!um(t)){let i=yy(t);for(;i&&!aS(i);){if(xp(i)&&!jU(i))return i;i=yy(i)}return n}let r=iY(t,e);for(;r&&M9e(r)&&jU(r);)r=iY(r,e);return r&&aS(r)&&jU(r)&&!a7(r)?n:r||L9e(t)||n}const G9e=async function(t){const e=this.getOffsetParent||Ohe,n=this.getDimensions,r=await n(t.floating);return{reference:H9e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V9e(t){return Ep(t).direction==="rtl"}const z9e={convertOffsetParentRelativeRectToViewportRelativeRect:I9e,getDocumentElement:mm,getClippingRect:k9e,getOffsetParent:Ohe,getElementRects:G9e,getClientRects:P9e,getDimensions:U9e,getScale:_E,isElement:xp,isRTL:V9e};function Nhe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $9e(t,e){let n=null,r;const i=mm(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:h,top:d,width:f,height:A}=u;if(o||e(),!f||!A)return;const m=CR(d),g=CR(i.clientWidth-(h+f)),y=CR(i.clientHeight-(d+A)),_=CR(h),S={rootMargin:-m+"px "+-g+"px "+-y+"px "+-_+"px",threshold:S1(0,iS(1,l))||1};let C=!0;function M(B){const E=B[0].intersectionRatio;if(E!==l){if(!C)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!Nhe(u,t.getBoundingClientRect())&&a(),C=!1}try{n=new IntersectionObserver(M,{...S,root:i.ownerDocument})}catch(B){n=new IntersectionObserver(M,S)}n.observe(t)}return a(!0),s}function Q9e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=l7(t),h=i||s?[...u?IM(u):[],...IM(e)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const d=u&&o?$9e(u,n):null;let f=-1,A=null;a&&(A=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&A&&(A.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=A)==null||S.observe(e)})),n()}),u&&!l&&A.observe(u),A.observe(e));let m,g=l?q1(t):null;l&&y();function y(){const _=q1(t);g&&!Nhe(g,_)&&n(),g=_,m=requestAnimationFrame(y)}return n(),()=>{var _;h.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d==null||d(),(_=A)==null||_.disconnect(),A=null,l&&cancelAnimationFrame(m)}}const W9e=s7,Dhe=C9e,j9e=T9e,K9e=E9e,khe=x9e,Uhe=(t,e,n)=>{const r=new Map,i={platform:z9e,...n},s={...i.platform,_c:r};return b9e(t,e,{...i,platform:s})},q9e=hn({style:{type:ht([String,Object,Array]),default:()=>({})}}),X9e=Me({name:"ElVisuallyHidden"}),Y9e=Me({...X9e,props:q9e,setup(t){const e=t,n=J(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(ie(),Ee("span",hi(r.$attrs,{style:b(n)}),[tt(r.$slots,"default")],16))}});var Z9e=mn(Y9e,[["__file","visual-hidden.vue"]]);hn({});const J9e=t=>{if(!Wi)return;if(!t)return t;const e=Hh(t);return e||(ga(t)?e:t)},eQe=({middleware:t,placement:e,strategy:n})=>{const r=ge(),i=ge(),s=ge(),a=ge(),o=ge({}),l={x:s,y:a,placement:e,strategy:n,middlewareData:o},u=async()=>{if(!Wi)return;const h=J9e(r),d=Hh(i);if(!h||!d)return;const f=await Uhe(h,d,{placement:b(e),strategy:b(n),middleware:b(t)});KE(l).forEach(A=>{l[A].value=f[A]})};return rr(()=>{Zc(()=>{u()})}),{...l,update:u,referenceRef:r,contentRef:i}},tQe=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=b(t);return r?khe({element:r,padding:e}).fn(n):{}}}),nQe=Me({name:"ElTooltipV2Content"}),rQe=Me({...nQe,props:{...e7,...Ehe},setup(t){const e=t,{triggerRef:n,contentId:r}=qt(b5),i=ge(e.placement),s=ge(e.strategy),a=ge(null),{referenceRef:o,contentRef:l,middlewareData:u,x:h,y:d,update:f}=eQe({placement:i,strategy:s,middleware:J(()=>{const S=[Dhe(e.offset)];return e.showArrow&&S.push(tQe({arrowRef:a})),S})}),A=HS().nextZIndex(),m=Jt("tooltip-v2"),g=J(()=>i.value.split("-")[0]),y=J(()=>({position:b(s),top:"".concat(b(d)||0,"px"),left:"".concat(b(h)||0,"px"),zIndex:A})),_=J(()=>{if(!e.showArrow)return{};const{arrow:S}=b(u);return{["--".concat(m.namespace.value,"-tooltip-v2-arrow-x")]:"".concat(S==null?void 0:S.x,"px")||"",["--".concat(m.namespace.value,"-tooltip-v2-arrow-y")]:"".concat(S==null?void 0:S.y,"px")||""}}),x=J(()=>[m.e("content"),m.is("dark",e.effect==="dark"),m.is(b(s)),e.contentClass]);return Ct(a,()=>f()),Ct(()=>e.placement,S=>i.value=S),rr(()=>{Ct(()=>e.reference||n.value,S=>{o.value=S||void 0},{immediate:!0})}),dr(Che,{arrowRef:a}),(S,C)=>(ie(),Ee("div",{ref_key:"contentRef",ref:l,style:Xn(b(y)),"data-tooltip-v2-root":""},[S.nowrap?lt("v-if",!0):(ie(),Ee("div",{key:0,"data-side":b(g),class:de(b(x))},[tt(S.$slots,"default",{contentStyle:b(y),contentClass:b(x)}),Ce(b(Z9e),{id:b(r),role:"tooltip"},{default:De(()=>[S.ariaLabel?(ie(),Ee(Wn,{key:0},[Mr(cn(S.ariaLabel),1)],64)):tt(S.$slots,"default",{key:1})]),_:3},8,["id"]),tt(S.$slots,"arrow",{style:Xn(b(_)),side:b(g)})],10,["data-side"]))],4))}});var sY=mn(rQe,[["__file","content.vue"]]);const iQe=hn({setRef:{type:ht(Function),required:!0},onlyChild:Boolean});var sQe=Me({props:iQe,setup(t,{slots:e}){const n=ge(),r=m5(n,i=>{i?t.setRef(i.nextElementSibling):t.setRef(null)});return()=>{var i;const[s]=((i=e.default)==null?void 0:i.call(e))||[],a=t.onlyChild?A5e(s.children):s.children;return Ce(Wn,{ref:r},[a])}}});const aQe=Me({name:"ElTooltipV2Trigger"}),oQe=Me({...aQe,props:{...Ehe,...n7},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:s,contentId:a}=qt(b5);let o=!1;const l=x=>{s.value=x},u=()=>{o=!1},h=Ro(e.onMouseEnter,i),d=Ro(e.onMouseLeave,n),f=Ro(e.onMouseDown,()=>{n(),o=!0,document.addEventListener("mouseup",u,{once:!0})}),A=Ro(e.onFocus,()=>{o||r()}),m=Ro(e.onBlur,n),g=Ro(e.onClick,x=>{x.detail===0&&n()}),y={blur:m,click:g,focus:A,mousedown:f,mouseenter:h,mouseleave:d},_=(x,S,C)=>{x&&Object.entries(S).forEach(([M,B])=>{x[C](M,B)})};return Ct(s,(x,S)=>{_(x,y,"addEventListener"),_(S,y,"removeEventListener"),x&&x.setAttribute("aria-describedby",a.value)}),Hs(()=>{_(s.value,y,"removeEventListener"),document.removeEventListener("mouseup",u)}),(x,S)=>x.nowrap?(ie(),St(b(sQe),{key:0,"set-ref":l,"only-child":""},{default:De(()=>[tt(x.$slots,"default")]),_:3})):(ie(),Ee("button",hi({key:1,ref_key:"triggerRef",ref:s},x.$attrs),[tt(x.$slots,"default")],16))}});var lQe=mn(oQe,[["__file","trigger.vue"]]);const cQe=Me({name:"ElTooltipV2"}),uQe=Me({...cQe,props:c9e,setup(t){const n=Yo(t),r=as(up(n,Object.keys(J$))),i=as(up(n,Object.keys(e7))),s=as(up(n,Object.keys(t7))),a=as(up(n,Object.keys(n7)));return(o,l)=>(ie(),St(d9e,gf(sm(s)),{default:De(({open:u})=>[Ce(lQe,hi(a,{nowrap:""}),{default:De(()=>[tt(o.$slots,"trigger")]),_:3},16),Ce(b(zS),{to:o.to,disabled:!o.teleported},{default:De(()=>[o.fullTransition?(ie(),St(Tc,gf(hi({key:0},o.transitionProps)),{default:De(()=>[o.alwaysOn||u?(ie(),St(sY,gf(hi({key:0},i)),{arrow:De(({style:h,side:d})=>[o.showArrow?(ie(),St(eY,hi({key:0},r,{style:h,side:d}),null,16,["style","side"])):lt("v-if",!0)]),default:De(()=>[tt(o.$slots,"default")]),_:3},16)):lt("v-if",!0)]),_:2},1040)):(ie(),Ee(Wn,{key:1},[o.alwaysOn||u?(ie(),St(sY,gf(hi({key:0},i)),{arrow:De(({style:h,side:d})=>[o.showArrow?(ie(),St(eY,hi({key:0},r,{style:h,side:d}),null,16,["style","side"])):lt("v-if",!0)]),default:De(()=>[tt(o.$slots,"default")]),_:3},16)):lt("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var hQe=mn(uQe,[["__file","tooltip.vue"]]);const dQe=Nr(hQe),Hhe="left-check-change",Ghe="right-check-change",Mx=hn({data:{type:ht(Array),default:()=>[]},titles:{type:ht(Array),default:()=>[]},buttonTexts:{type:ht(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ht(Function)},leftDefaultChecked:{type:ht(Array),default:()=>[]},rightDefaultChecked:{type:ht(Array),default:()=>[]},renderContent:{type:ht(Function)},modelValue:{type:ht(Array),default:()=>[]},format:{type:ht(Object),default:()=>({})},filterable:Boolean,props:{type:ht(Object),default:()=>ao({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),EH=(t,e)=>[t,e].every(an)||an(t)&&lc(e),fQe={[Qs]:(t,e,n)=>[t,n].every(an)&&["left","right"].includes(e),[zr]:t=>an(t),[Hhe]:EH,[Ghe]:EH},SH="checked-change",AQe=hn({data:Mx.data,optionRender:{type:ht(Function)},placeholder:String,title:String,filterable:Boolean,format:Mx.format,filterMethod:Mx.filterMethod,defaultChecked:Mx.leftDefaultChecked,props:Mx.props}),pQe={[SH]:EH},BL=t=>{const e={label:"label",key:"key",disabled:"disabled"};return J(()=>({...e,...t.props}))},gQe=(t,e,n)=>{const r=BL(t),i=J(()=>t.data.filter(h=>Kn(t.filterMethod)?t.filterMethod(e.query,h):String(h[r.value.label]||h[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=J(()=>i.value.filter(h=>!h[r.value.disabled])),a=J(()=>{const h=e.checked.length,d=t.data.length,{noChecked:f,hasChecked:A}=t.format;return f&&A?h>0?A.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):"".concat(h,"/").concat(d)}),o=J(()=>{const h=e.checked.length;return h>0&&h<s.value.length}),l=()=>{const h=s.value.map(d=>d[r.value.key]);e.allChecked=h.length>0&&h.every(d=>e.checked.includes(d))},u=h=>{e.checked=h?s.value.map(d=>d[r.value.key]):[]};return Ct(()=>e.checked,(h,d)=>{if(l(),e.checkChangeByUser){const f=h.concat(d).filter(A=>!h.includes(A)||!d.includes(A));n(SH,h,f)}else n(SH,h),e.checkChangeByUser=!0}),Ct(s,()=>{l()}),Ct(()=>t.data,()=>{const h=[],d=i.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&h.push(f)}),e.checkChangeByUser=!1,e.checked=h}),Ct(()=>t.defaultChecked,(h,d)=>{if(d&&h.length===d.length&&h.every(m=>d.includes(m)))return;const f=[],A=s.value.map(m=>m[r.value.key]);h.forEach(m=>{A.includes(m)&&f.push(m)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:a,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:u}},mQe=Me({name:"ElTransferPanel"}),vQe=Me({...mQe,props:AQe,emits:pQe,setup(t,{expose:e,emit:n}){const r=t,i=Cl(),s=({option:S})=>S,{t:a}=ji(),o=Jt("transfer"),l=as({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=BL(r),{filteredData:h,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:A}=gQe(r,l,n),m=J(()=>!Af(l.query)&&Af(h.value)),g=J(()=>!Af(i.default()[0].children)),{checked:y,allChecked:_,query:x}=Yo(l);return e({query:x}),(S,C)=>(ie(),Ee("div",{class:de(b(o).b("panel"))},[Be("p",{class:de(b(o).be("panel","header"))},[Ce(b(bA),{modelValue:b(_),"onUpdate:modelValue":M=>ga(_)?_.value=M:null,indeterminate:b(f),"validate-event":!1,onChange:b(A)},{default:De(()=>[Mr(cn(S.title)+" ",1),Be("span",null,cn(b(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Be("div",{class:de([b(o).be("panel","body"),b(o).is("with-footer",b(g))])},[S.filterable?(ie(),St(b(sh),{key:0,modelValue:b(x),"onUpdate:modelValue":M=>ga(x)?x.value=M:null,class:de(b(o).be("panel","filter")),size:"default",placeholder:S.placeholder,"prefix-icon":b(yEe),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):lt("v-if",!0),Br(Ce(b(bce),{modelValue:b(y),"onUpdate:modelValue":M=>ga(y)?y.value=M:null,"validate-event":!1,class:de([b(o).is("filterable",S.filterable),b(o).be("panel","list")])},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(b(h),M=>(ie(),St(b(bA),{key:M[b(u).key],class:de(b(o).be("panel","item")),value:M[b(u).key],disabled:M[b(u).disabled],"validate-event":!1},{default:De(()=>{var B;return[Ce(s,{option:(B=S.optionRender)==null?void 0:B.call(S,M)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[Qi,!b(m)&&!b(Af)(S.data)]]),Br(Be("div",{class:de(b(o).be("panel","empty"))},[tt(S.$slots,"empty",{},()=>[Mr(cn(b(m)?b(a)("el.transfer.noMatch"):b(a)("el.transfer.noData")),1)])],2),[[Qi,b(m)||b(Af)(S.data)]])],2),b(g)?(ie(),Ee("p",{key:0,class:de(b(o).be("panel","footer"))},[tt(S.$slots,"default")],2)):lt("v-if",!0)],2))}});var aY=mn(vQe,[["__file","transfer-panel.vue"]]);const yQe=t=>{const e=BL(t),n=J(()=>t.data.reduce((s,a)=>(s[a[e.value.key]]=a)&&s,{})),r=J(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=J(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,a)=>{const o=n.value[a];return o&&s.push(o),s},[]));return{sourceData:r,targetData:i}},_Qe=(t,e,n)=>{const r=BL(t),i=(o,l,u)=>{n(zr,o),n(Qs,o,l,u)};return{addToLeft:()=>{const o=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=o.indexOf(l);u>-1&&o.splice(u,1)}),i(o,"left",e.rightChecked)},addToRight:()=>{let o=t.modelValue.slice();const l=t.data.filter(u=>{const h=u[r.value.key];return e.leftChecked.includes(h)&&!t.modelValue.includes(h)}).map(u=>u[r.value.key]);o=t.targetOrder==="unshift"?l.concat(o):o.concat(l),t.targetOrder==="original"&&(o=t.data.filter(u=>o.includes(u[r.value.key])).map(u=>u[r.value.key])),i(o,"right",e.leftChecked)}}},wQe=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(Hhe,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(Ghe,i,s)}}),bQe=Me({name:"ElTransfer"}),xQe=Me({...bQe,props:Mx,emits:fQe,setup(t,{expose:e,emit:n}){const r=t,i=Cl(),{t:s}=ji(),a=Jt("transfer"),{formItem:o}=Cu(),l=as({leftChecked:[],rightChecked:[]}),u=BL(r),{sourceData:h,targetData:d}=yQe(r),{onSourceCheckedChange:f,onTargetCheckedChange:A}=wQe(l,n),{addToLeft:m,addToRight:g}=_Qe(r,l,n),y=ge(),_=ge(),x=L=>{switch(L){case"left":y.value.query="";break;case"right":_.value.query="";break}},S=J(()=>r.buttonTexts.length===2),C=J(()=>r.titles[0]||s("el.transfer.titles.0")),M=J(()=>r.titles[1]||s("el.transfer.titles.1")),B=J(()=>r.filterPlaceholder||s("el.transfer.filterPlaceholder"));Ct(()=>r.modelValue,()=>{var L;r.validateEvent&&((L=o==null?void 0:o.validate)==null||L.call(o,"change").catch(I=>void 0))});const E=J(()=>L=>{var I;if(r.renderContent)return r.renderContent(lr,L);const k=(((I=i.default)==null?void 0:I.call(i,{option:L}))||[]).filter(O=>O.type!==xc);return k.length?k:lr("span",L[u.value.label]||L[u.value.key])});return e({clearQuery:x,leftPanel:y,rightPanel:_}),(L,I)=>(ie(),Ee("div",{class:de(b(a).b())},[Ce(aY,{ref_key:"leftPanel",ref:y,data:b(h),"option-render":b(E),placeholder:b(B),title:b(C),filterable:L.filterable,format:L.format,"filter-method":L.filterMethod,"default-checked":L.leftDefaultChecked,props:r.props,onCheckedChange:b(f)},{empty:De(()=>[tt(L.$slots,"left-empty")]),default:De(()=>[tt(L.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Be("div",{class:de(b(a).e("buttons"))},[Ce(b(Sc),{type:"primary",class:de([b(a).e("button"),b(a).is("with-texts",b(S))]),disabled:b(Af)(l.rightChecked),onClick:b(m)},{default:De(()=>[Ce(b(Vn),null,{default:De(()=>[Ce(b(Ev))]),_:1}),b(ps)(L.buttonTexts[0])?lt("v-if",!0):(ie(),Ee("span",{key:0},cn(L.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Ce(b(Sc),{type:"primary",class:de([b(a).e("button"),b(a).is("with-texts",b(S))]),disabled:b(Af)(l.leftChecked),onClick:b(g)},{default:De(()=>[b(ps)(L.buttonTexts[1])?lt("v-if",!0):(ie(),Ee("span",{key:0},cn(L.buttonTexts[1]),1)),Ce(b(Vn),null,{default:De(()=>[Ce(b(oh))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Ce(aY,{ref_key:"rightPanel",ref:_,data:b(d),"option-render":b(E),placeholder:b(B),filterable:L.filterable,format:L.format,"filter-method":L.filterMethod,title:b(M),"default-checked":L.rightDefaultChecked,props:r.props,onCheckedChange:b(A)},{empty:De(()=>[tt(L.$slots,"right-empty")]),default:De(()=>[tt(L.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var EQe=mn(xQe,[["__file","transfer.vue"]]);const SQe=Nr(EQe),wE="$treeNodeId",oY=function(t,e){!e||e[wE]||Object.defineProperty(e,wE,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},u7=function(t,e){return t?e[t]:e[wE]},CH=(t,e,n)=>{const r=t.value.currentNode;n();const i=t.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},TH=t=>{let e=!0,n=!0,r=!0;for(let i=0,s=t.length;i<s;i++){const a=t[i];(a.checked!==!0||a.indeterminate)&&(e=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},W2=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=TH(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const i=t.parent;!i||i.level===0||t.store.checkStrictly||W2(i)},TR=function(t,e){const n=t.store.props,r=t.data||{},i=n[e];if(Kn(i))return i(r,t);if(Qn(i))return r[i];if(ps(i)){const s=r[e];return s===void 0?"":s}};let CQe=0,MH=class tF{constructor(e){this.id=CQe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)us(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const s=TR(this,"isLeaf");Js(s)&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),an(this.data)||oY(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){an(e)||oY(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&an(this.data)?n=this.data:n=TR(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return TR(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return TR(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof tF)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(ps(n)||n<0?i.push(e.data):i.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=as(new tF(e)),e instanceof tF&&e.initialize()}e.level=this.level+1,ps(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{an(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||W2(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:o}=TH(this.childNodes);!this.isLeaf&&!a&&o&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let f=0,A=u.length;f<A;f++){const m=u[f];i=i||e!==!1;const g=m.disabled?m.checked:i;m.setChecked(g,n,!0,i)}const{half:h,all:d}=TH(u);d||(this.checked=d,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{l(),W2(this)},{checked:e!==!1});return}else l()}const s=this.parent;!s||s.level===0||r||W2(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),e&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),r={},i=[];e.forEach((s,a)=>{const o=s[wE];!!o&&n.findIndex(u=>u[wE]===o)>=0?r[o]={index:a,data:s}:i.push({index:a,data:s})}),this.store.lazy||n.forEach(s=>{r[s[wE]]||this.removeChildByData(s)}),i.forEach(({index:s,data:a})=>{this.insertChild({data:a},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||W2(this)}};class TQe{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)us(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new MH({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,i=function(s){const a=s.root?s.root.childNodes:s.childNodes;if(a.forEach(o=>{o.visible=n.call(o,e,o.data,o),i(o)}),!s.visible&&a.length){let o=!0;o=!a.some(l=>l.visible),s.root?s.root.visible=o===!1:s.visible=o===!1}e&&s.visible&&!s.isLeaf&&(!r||s.loaded)&&s.expand()};i(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof MH)return e;const n=qr(e)?u7(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=gp(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(o=>{(o.checked||n&&o.indeterminate)&&(!e||e&&o.isLeaf)&&r.push(o.data),i(o)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)us(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let s=i.length-1;s>=0;s--){const a=i[s];this.remove(a.data)}for(let s=0,a=n.length;s<a;s++){const o=n[s];this.append(o,r.data)}}_setCheckedKeys(e,n=!1,r){const i=this._getAllNodes().sort((l,u)=>l.level-u.level),s=Object.create(null),a=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(u=>{var h;s[u.data[e]]=!0,(h=u.childNodes)!=null&&h.length&&o(u)})};for(let l=0,u=i.length;l<u;l++){const h=i[l],d=h.data[e].toString();if(!a.includes(d)){h.checked&&!s[d]&&h.setChecked(!1,!1);continue}if(h.childNodes.length&&o(h),h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),n){h.setChecked(!1,!1);const A=function(m){m.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),A(y)})};A(h)}}}setCheckedNodes(e,n=!1){const r=this.key,i={};e.forEach(s=>{i[(s||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(s=>{i[s]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const i=this.getNode(e);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const MQe=Me({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Jt("tree"),n=qt("NodeInstance"),r=qt("RootTree");return()=>{const i=t.node,{data:s,store:a}=i;return t.renderContent?t.renderContent(lr,{_self:n,node:i,data:s,store:a}):tt(r.ctx.slots,"default",{node:i,data:s},()=>[lr("span",{class:e.be("node","label")},[i.label])])}}});var LQe=mn(MQe,[["__file","tree-node-content.vue"]]);function Vhe(t){const e=qt("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),dr("TreeNodeMap",n),{broadcastExpanded:r=>{if(t.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const zhe=Symbol("dragEvents");function BQe({props:t,ctx:e,el$:n,dropIndicator$:r,store:i}){const s=Jt("tree"),a=ge({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return dr(zhe,{treeNodeDragStart:({event:h,treeNode:d})=>{if(Kn(t.allowDrag)&&!t.allowDrag(d.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch(f){}a.value.draggingNode=d,e.emit("node-drag-start",d.node,h)},treeNodeDragOver:({event:h,treeNode:d})=>{const f=d,A=a.value.dropNode;A&&A.node.id!==f.node.id&&lh(A.$el,s.is("drop-inner"));const m=a.value.draggingNode;if(!m||!f)return;let g=!0,y=!0,_=!0,x=!0;Kn(t.allowDrop)&&(g=t.allowDrop(m.node,f.node,"prev"),x=y=t.allowDrop(m.node,f.node,"inner"),_=t.allowDrop(m.node,f.node,"next")),h.dataTransfer.dropEffect=y||g||_?"move":"none",(g||y||_)&&(A==null?void 0:A.node.id)!==f.node.id&&(A&&e.emit("node-drag-leave",m.node,A.node,h),e.emit("node-drag-enter",m.node,f.node,h)),g||y||_?a.value.dropNode=f:a.value.dropNode=null,f.node.nextSibling===m.node&&(_=!1),f.node.previousSibling===m.node&&(g=!1),f.node.contains(m.node,!1)&&(y=!1),(m.node===f.node||m.node.contains(f.node))&&(g=!1,y=!1,_=!1);const S=f.$el.querySelector(".".concat(s.be("node","content"))).getBoundingClientRect(),C=n.value.getBoundingClientRect();let M;const B=g?y?.25:_?.45:1:-1,E=_?y?.75:g?.55:0:1;let L=-9999;const I=h.clientY-S.top;I<S.height*B?M="before":I>S.height*E?M="after":y?M="inner":M="none";const k=f.$el.querySelector(".".concat(s.be("node","expand-icon"))).getBoundingClientRect(),O=r.value;M==="before"?L=k.top-C.top:M==="after"&&(L=k.bottom-C.top),O.style.top="".concat(L,"px"),O.style.left="".concat(k.right-C.left,"px"),M==="inner"?oA(f.$el,s.is("drop-inner")):lh(f.$el,s.is("drop-inner")),a.value.showDropIndicator=M==="before"||M==="after",a.value.allowDrop=a.value.showDropIndicator||x,a.value.dropType=M,e.emit("node-drag-over",m.node,f.node,h)},treeNodeDragEnd:h=>{const{draggingNode:d,dropType:f,dropNode:A}=a.value;if(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),d&&A){const m={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?A.node.parent.insertBefore(m,A.node):f==="after"?A.node.parent.insertAfter(m,A.node):f==="inner"&&A.node.insertChild(m),f!=="none"&&(i.value.registerNode(m),i.value.key&&d.node.eachNode(g=>{var y;(y=i.value.nodesMap[g.data[i.value.key]])==null||y.setChecked(g.checked,!i.value.checkStrictly)})),lh(A.$el,s.is("drop-inner")),e.emit("node-drag-end",d.node,A.node,f,h),f!=="none"&&e.emit("node-drop",d.node,A.node,f,h)}d&&!A&&e.emit("node-drag-end",d.node,null,f,h),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const RQe=Me({name:"ElTreeNode",components:{ElCollapseTransition:p5,ElCheckbox:bA,NodeContent:LQe,ElIcon:Vn,Loading:am},props:{node:{type:MH,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Jt("tree"),{broadcastExpanded:r}=Vhe(t),i=qt("RootTree"),s=ge(!1),a=ge(!1),o=ge(null),l=ge(null),u=ge(null),h=qt(zhe),d=ni();dr("NodeInstance",d),t.node.expanded&&(s.value=!0,a.value=!0);const f=i.props.props.children||"children";Ct(()=>{const I=t.node.data[f];return I&&[...I]},()=>{t.node.updateChildren()}),Ct(()=>t.node.indeterminate,I=>{g(t.node.checked,I)}),Ct(()=>t.node.checked,I=>{g(I,t.node.indeterminate)}),Ct(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Ct(()=>t.node.expanded,I=>{Zn(()=>s.value=I),I&&(a.value=!0)});const A=I=>u7(i.props.nodeKey,I.data),m=I=>{const k=t.props.class;if(!k)return{};let O;if(Kn(k)){const{data:F}=I;O=k(F,I)}else O=k;return Qn(O)?{[O]:!0}:O},g=(I,k)=>{(o.value!==I||l.value!==k)&&i.ctx.emit("check-change",t.node.data,I,k),o.value=I,l.value=k},y=I=>{CH(i.store,i.ctx.emit,()=>{var k;if((k=i==null?void 0:i.props)==null?void 0:k.nodeKey){const F=A(t.node);i.store.value.setCurrentNodeKey(F)}else i.store.value.setCurrentNode(t.node)}),i.currentNode.value=t.node,i.props.expandOnClickNode&&x(),i.props.checkOnClickNode&&!t.node.disabled&&S(!t.node.checked),i.ctx.emit("node-click",t.node.data,t.node,d,I)},_=I=>{i.instance.vnode.props.onNodeContextmenu&&(I.stopPropagation(),I.preventDefault()),i.ctx.emit("node-contextmenu",I,t.node.data,t.node,d)},x=()=>{t.node.isLeaf||(s.value?(i.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,d)}))},S=I=>{t.node.setChecked(I,!(i!=null&&i.props.checkStrictly)),Zn(()=>{const k=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:k.getCheckedNodes(),checkedKeys:k.getCheckedKeys(),halfCheckedNodes:k.getHalfCheckedNodes(),halfCheckedKeys:k.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:i,expanded:s,childNodeRendered:a,oldChecked:o,oldIndeterminate:l,getNodeKey:A,getNodeClass:m,handleSelectChange:g,handleClick:y,handleContextMenu:_,handleExpandIconClick:x,handleCheckChange:S,handleChildNodeExpand:(I,k,O)=>{r(k),i.ctx.emit("node-expand",I,k,O)},handleDragStart:I=>{i.props.draggable&&h.treeNodeDragStart({event:I,treeNode:t})},handleDragOver:I=>{I.preventDefault(),i.props.draggable&&h.treeNodeDragOver({event:I,treeNode:{$el:u.value,node:t.node}})},handleDrop:I=>{I.preventDefault()},handleDragEnd:I=>{i.props.draggable&&h.treeNodeDragEnd(I)},CaretRight:Jae}}});function IQe(t,e,n,r,i,s){const a=Nn("el-icon"),o=Nn("el-checkbox"),l=Nn("loading"),u=Nn("node-content"),h=Nn("el-tree-node"),d=Nn("el-collapse-transition");return Br((ie(),Ee("div",{ref:"node$",class:de([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:mr(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:mr(t.handleDragStart,["stop"]),onDragover:mr(t.handleDragOver,["stop"]),onDragend:mr(t.handleDragEnd,["stop"]),onDrop:mr(t.handleDrop,["stop"])},[Be("div",{class:de(t.ns.be("node","content")),style:Xn({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(ie(),St(a,{key:0,class:de([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:mr(t.handleExpandIconClick,["stop"])},{default:De(()=>[(ie(),St(li(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):lt("v-if",!0),t.showCheckbox?(ie(),St(o,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:mr(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):lt("v-if",!0),t.node.loading?(ie(),St(a,{key:2,class:de([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:De(()=>[Ce(l)]),_:1},8,["class"])):lt("v-if",!0),Ce(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Ce(d,null,{default:De(()=>[!t.renderAfterExpand||t.childNodeRendered?Br((ie(),Ee("div",{key:0,class:de(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(ie(!0),Ee(Wn,null,wi(t.node.childNodes,f=>(ie(),St(h,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Qi,t.expanded]]):lt("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Qi,t.node.visible]])}var PQe=mn(RQe,[["render",IQe],["__file","tree-node.vue"]]);function FQe({el$:t},e){const n=Jt("tree"),r=Cs([]),i=Cs([]);rr(()=>{a()}),Bp(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Ct(i,o=>{o.forEach(l=>{l.setAttribute("tabindex","-1")})}),Us(t,"keydown",o=>{const l=o.target;if(!l.className.includes(n.b("node")))return;const u=o.code;r.value=Array.from(t.value.querySelectorAll(".".concat(n.is("focusable"),"[role=treeitem]")));const h=r.value.indexOf(l);let d;if([Ln.up,Ln.down].includes(u)){if(o.preventDefault(),u===Ln.up){d=h===-1?0:h!==0?h-1:r.value.length-1;const A=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===A){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=h===-1?0:h<r.value.length-1?h+1:0;const A=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===A){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[Ln.left,Ln.right].includes(u)&&(o.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[Ln.enter,Ln.numpadEnter,Ln.space].includes(u)&&f&&(o.preventDefault(),f.click())});const a=()=>{var o;r.value=Array.from(t.value.querySelectorAll(".".concat(n.is("focusable"),"[role=treeitem]"))),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(".".concat(n.is("checked"),"[role=treeitem]"));if(l.length){l[0].setAttribute("tabindex","0");return}(o=r.value[0])==null||o.setAttribute("tabindex","0")}}const OQe=Me({name:"ElTree",components:{ElTreeNode:PQe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ws}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=ji(),r=Jt("tree"),i=qt(QS,null),s=ge(new TQe({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const a=ge(s.value.root),o=ge(null),l=ge(null),u=ge(null),{broadcastExpanded:h}=Vhe(t),{dragState:d}=BQe({props:t,ctx:e,el$:l,dropIndicator$:u,store:s});FQe({el$:l},s);const f=J(()=>{const{childNodes:X}=a.value,z=i?i.hasFilteredOptions!==0:!1;return(!X||X.length===0||X.every(({visible:ne})=>!ne))&&!z});Ct(()=>t.currentNodeKey,X=>{s.value.setCurrentNodeKey(X)}),Ct(()=>t.defaultCheckedKeys,X=>{s.value.setDefaultCheckedKey(X)}),Ct(()=>t.defaultExpandedKeys,X=>{s.value.setDefaultExpandedKeys(X)}),Ct(()=>t.data,X=>{s.value.setData(X)},{deep:!0}),Ct(()=>t.checkStrictly,X=>{s.value.checkStrictly=X});const A=X=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(X)},m=X=>u7(t.nodeKey,X.data),g=X=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const z=s.value.getNode(X);if(!z)return[];const ne=[z.data];let he=z.parent;for(;he&&he!==a.value;)ne.push(he.data),he=he.parent;return ne.reverse()},y=(X,z)=>s.value.getCheckedNodes(X,z),_=X=>s.value.getCheckedKeys(X),x=()=>{const X=s.value.getCurrentNode();return X?X.data:null},S=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const X=x();return X?X[t.nodeKey]:null},C=(X,z)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(X,z)},M=(X,z)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(X,z)},B=(X,z,ne)=>{s.value.setChecked(X,z,ne)},E=()=>s.value.getHalfCheckedNodes(),L=()=>s.value.getHalfCheckedKeys(),I=(X,z=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");CH(s,e.emit,()=>{h(X),s.value.setUserCurrentNode(X,z)})},k=(X,z=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");CH(s,e.emit,()=>{h(),s.value.setCurrentNodeKey(X,z)})},O=X=>s.value.getNode(X),F=X=>{s.value.remove(X)},U=(X,z)=>{s.value.append(X,z)},$=(X,z)=>{s.value.insertBefore(X,z)},K=(X,z)=>{s.value.insertAfter(X,z)},V=(X,z,ne)=>{h(z),e.emit("node-expand",X,z,ne)},Q=(X,z)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(X,z)};return dr("RootTree",{ctx:e,props:t,store:s,root:a,currentNode:o,instance:ni()}),dr(lm,void 0),{ns:r,store:s,root:a,currentNode:o,dragState:d,el$:l,dropIndicator$:u,isEmpty:f,filter:A,getNodeKey:m,getNodePath:g,getCheckedNodes:y,getCheckedKeys:_,getCurrentNode:x,getCurrentKey:S,setCheckedNodes:C,setCheckedKeys:M,setChecked:B,getHalfCheckedNodes:E,getHalfCheckedKeys:L,setCurrentNode:I,setCurrentKey:k,t:n,getNode:O,remove:F,append:U,insertBefore:$,insertAfter:K,handleNodeExpand:V,updateKeyChildren:Q}}});function NQe(t,e,n,r,i,s){const a=Nn("el-tree-node");return ie(),Ee("div",{ref:"el$",class:de([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(ie(!0),Ee(Wn,null,wi(t.root.childNodes,o=>(ie(),St(a,{key:t.getNodeKey(o),node:o,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(ie(),Ee("div",{key:0,class:de(t.ns.e("empty-block"))},[tt(t.$slots,"empty",{},()=>{var o;return[Be("span",{class:de(t.ns.e("empty-text"))},cn((o=t.emptyText)!=null?o:t.t("el.tree.emptyText")),3)]})],2)):lt("v-if",!0),Br(Be("div",{ref:"dropIndicator$",class:de(t.ns.e("drop-indicator"))},null,2),[[Qi,t.dragState.showDropIndicator]])],2)}var DQe=mn(OQe,[["render",NQe],["__file","tree.vue"]]);const gO=Nr(DQe),kQe=(t,{attrs:e,emit:n},{select:r,tree:i,key:s})=>{const a=Jt("tree-select");return Ct(()=>t.data,()=>{t.filterable&&Zn(()=>{var l,u;(u=i.value)==null||u.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...up(Yo(t),Object.keys(W1.props)),...e,"onUpdate:modelValue":l=>n(zr,l),valueKey:s,popperClass:J(()=>{const l=[a.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(u=i.value)==null||u.filter(l)}}},UQe=Me({extends:iO,setup(t,e){const n=iO.setup(t,e);delete n.selectOptionClick;const r=ni().proxy;return Zn(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Ct(()=>e.attrs.visible,i=>{n.states.visible=i},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function LH(t){return t||t===0}function h7(t){return an(t)&&t.length}function Fb(t){return an(t)?t:LH(t)?[t]:[]}function nF(t,e,n,r,i){for(let s=0;s<t.length;s++){const a=t[s];if(e(a,s,t,i))return r?r(a,s,t,i):a;{const o=n(a);if(h7(o)){const l=nF(o,e,n,r,a);if(l)return l}}}}function rF(t,e,n,r){for(let i=0;i<t.length;i++){const s=t[i];e(s,i,t,r);const a=n(s);h7(a)&&rF(a,e,n,s)}}const HQe=(t,{attrs:e,slots:n,emit:r},{select:i,tree:s,key:a})=>{Ct(()=>t.modelValue,()=>{t.showCheckbox&&Zn(()=>{const f=s.value;f&&!wu(f.getCheckedKeys(),Fb(t.modelValue))&&f.setCheckedKeys(Fb(t.modelValue))})},{immediate:!0,deep:!0});const o=J(()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(f,A)=>{var m;const g=o.value[f];return Kn(g)?g(A,(m=s.value)==null?void 0:m.getNode(l("value",A))):A[g]},u=Fb(t.modelValue).map(f=>nF(t.data||[],A=>l("value",A)===f,A=>l("children",A),(A,m,g,y)=>y&&l("value",y))).filter(f=>LH(f)),h=J(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const f=[];return rF(t.data.concat(t.cacheData),A=>{const m=l("value",A);f.push({value:m,currentLabel:l("label",A),isDisabled:l("disabled",A)})},A=>l("children",A)),f}),d=()=>{var f;return(f=s.value)==null?void 0:f.getCheckedKeys().filter(A=>{var m;const g=(m=s.value)==null?void 0:m.getNode(A);return!lc(g)&&Af(g.childNodes)})};return{...up(Yo(t),Object.keys(gO.props)),...e,nodeKey:a,expandOnClickNode:J(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:J(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(u):u),renderContent:(f,{node:A,data:m,store:g})=>f(UQe,{value:l("value",m),label:l("label",m),disabled:l("disabled",m),visible:A.visible},t.renderContent?()=>t.renderContent(f,{node:A,data:m,store:g}):n.default?()=>n.default({node:A,data:m,store:g}):void 0),filterNodeMethod:(f,A,m)=>t.filterNodeMethod?t.filterNodeMethod(f,A,m):f?new RegExp(y$(f),"i").test(l("label",A)||""):!0,onNodeClick:(f,A,m)=>{var g,y,_,x;if((g=e.onNodeClick)==null||g.call(e,f,A,m),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||A.isLeaf)){if(!l("disabled",f)){const S=(y=i.value)==null?void 0:y.states.options.get(l("value",f));(_=i.value)==null||_.handleOptionSelect(S)}}else t.expandOnClickNode&&m.proxy.handleExpandIconClick();(x=i.value)==null||x.focus()}},onCheck:(f,A)=>{var m;if(!t.showCheckbox)return;const g=l("value",f),y={};rF([s.value.store.root],C=>y[C.key]=C,C=>C.childNodes);const _=A.checkedKeys,x=t.multiple?Fb(t.modelValue).filter(C=>!(C in y)&&!_.includes(C)):[],S=x.concat(_);if(t.checkStrictly)r(zr,t.multiple?S:S.includes(g)?g:void 0);else if(t.multiple){const C=d();r(zr,x.concat(C))}else{const C=nF([f],E=>!h7(l("children",E))&&!l("disabled",E),E=>l("children",E)),M=C?l("value",C):void 0,B=LH(t.modelValue)&&!!nF([f],E=>l("value",E)===t.modelValue,E=>l("children",E));r(zr,M===t.modelValue||B?void 0:M)}Zn(()=>{var C;const M=Fb(t.modelValue);s.value.setCheckedKeys(M),(C=e.onCheck)==null||C.call(e,f,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})}),(m=i.value)==null||m.focus()},onNodeExpand:(f,A,m)=>{var g;(g=e.onNodeExpand)==null||g.call(e,f,A,m),Zn(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&A.checked){const y={},_=s.value.getCheckedKeys();rF([s.value.store.root],C=>y[C.key]=C,C=>C.childNodes);const x=Fb(t.modelValue).filter(C=>!(C in y)&&!_.includes(C)),S=d();r(zr,x.concat(S))}})},cacheOptions:h}};var GQe=Me({props:{data:{type:Array,default:()=>[]}},setup(t){const e=qt(QS);return Ct(()=>t.data,()=>{var n;t.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Wi&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const VQe=Me({name:"ElTreeSelect",inheritAttrs:!1,props:{...W1.props,...gO.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,i=ge(),s=ge(),a=J(()=>t.nodeKey||t.valueKey||"value"),o=kQe(t,e,{select:i,tree:s,key:a}),{cacheOptions:l,...u}=HQe(t,e,{select:i,tree:s,key:a}),h=as({});return r(h),rr(()=>{Object.assign(h,{...up(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...up(i.value,["focus","blur","selectedLabel"])})}),()=>lr(W1,as({...o,ref:d=>i.value=d}),{...n,default:()=>[lr(GQe,{data:l.value}),lr(gO,as({...u,ref:d=>s.value=d}))]})}});var zQe=mn(VQe,[["__file","tree-select.vue"]]);const $Qe=Nr(zQe),d7=Symbol(),QQe={key:-1,level:-1,data:{}};var j2=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(j2||{}),BH=(t=>(t.ADD="add",t.DELETE="delete",t))(BH||{});const $he={type:Number,default:26},WQe=hn({data:{type:ht(Array),default:()=>ao([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ht(Object),default:()=>ao({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ht(Array),default:()=>ao([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ht(Array),default:()=>ao([])},indent:{type:Number,default:16},itemSize:$he,icon:{type:Ws},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ht([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ht(Function)},perfMode:{type:Boolean,default:!0}}),jQe=hn({node:{type:ht(Object),default:()=>ao(QQe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:$he}),KQe=hn({node:{type:ht(Object),required:!0}}),Qhe="node-click",Whe="node-drop",jhe="node-expand",Khe="node-collapse",qhe="current-change",Xhe="check",Yhe="check-change",Zhe="node-contextmenu",qQe={[Qhe]:(t,e,n)=>t&&e&&n,[Whe]:(t,e,n)=>t&&e&&n,[jhe]:(t,e)=>t&&e,[Khe]:(t,e)=>t&&e,[qhe]:(t,e)=>t&&e,[Xhe]:(t,e)=>t&&e,[Yhe]:(t,e)=>t&&Js(e),[Zhe]:(t,e,n)=>t&&e&&n},XQe={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&Js(e)};function YQe(t,e){const n=ge(new Set),r=ge(new Set),{emit:i}=ni();Ct([()=>e.value,()=>t.defaultCheckedKeys],()=>Zn(()=>{x(t.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:S,maxLevel:C}=e.value,M=n.value,B=new Set;for(let E=C-1;E>=1;--E){const L=S.get(E);L&&L.forEach(I=>{const k=I.children;if(k){let O=!0,F=!1;for(const U of k){const $=U.key;if(M.has($))F=!0;else if(B.has($)){O=!1,F=!0;break}else O=!1}O?M.add(I.key):F?(B.add(I.key),M.delete(I.key)):(M.delete(I.key),B.delete(I.key))}})}r.value=B},a=S=>n.value.has(S.key),o=S=>r.value.has(S.key),l=(S,C,M=!0,B=!0)=>{const E=n.value,L=(I,k)=>{E[k?BH.ADD:BH.DELETE](I.key);const O=I.children;!t.checkStrictly&&O&&O.forEach(F=>{F.disabled||L(F,k)})};L(S,C),B&&s(),M&&u(S,C)},u=(S,C)=>{const{checkedNodes:M,checkedKeys:B}=m(),{halfCheckedNodes:E,halfCheckedKeys:L}=g();i(Xhe,S.data,{checkedKeys:B,checkedNodes:M,halfCheckedKeys:L,halfCheckedNodes:E}),i(Yhe,S.data,C)};function h(S=!1){return m(S).checkedKeys}function d(S=!1){return m(S).checkedNodes}function f(){return g().halfCheckedKeys}function A(){return g().halfCheckedNodes}function m(S=!1){const C=[],M=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:B}=e.value;n.value.forEach(E=>{const L=B.get(E);L&&(!S||S&&L.isLeaf)&&(M.push(E),C.push(L.data))})}return{checkedKeys:M,checkedNodes:C}}function g(){const S=[],C=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:M}=e.value;r.value.forEach(B=>{const E=M.get(B);E&&(C.push(B),S.push(E.data))})}return{halfCheckedNodes:S,halfCheckedKeys:C}}function y(S){n.value.clear(),r.value.clear(),Zn(()=>{x(S)})}function _(S,C){if(e!=null&&e.value&&t.showCheckbox){const M=e.value.treeNodeMap.get(S);M&&l(M,C,!1)}}function x(S){if(e!=null&&e.value){const{treeNodeMap:C}=e.value;if(t.showCheckbox&&C&&(S==null?void 0:S.length)>0){for(const M of S){const B=C.get(M);B&&!a(B)&&l(B,!0,!1,!1)}s()}}}return{updateCheckedKeys:s,toggleCheckbox:l,isChecked:a,isIndeterminate:o,getCheckedKeys:h,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:A,setChecked:_,setCheckedKeys:y}}function ZQe(t,e){const n=ge(new Set([])),r=ge(new Set([])),i=J(()=>Kn(t.filterMethod));function s(o){var l;if(!i.value)return;const u=new Set,h=r.value,d=n.value,f=[],A=((l=e.value)==null?void 0:l.treeNodes)||[],m=t.filterMethod;d.clear();function g(y){y.forEach(_=>{f.push(_),m!=null&&m(o,_.data,_)?f.forEach(S=>{u.add(S.key)}):_.isLeaf&&d.add(_.key);const x=_.children;if(x&&g(x),!_.isLeaf){if(!u.has(_.key))d.add(_.key);else if(x){let S=!0;for(const C of x)if(!d.has(C.key)){S=!1;break}S?h.add(_.key):h.delete(_.key)}}f.pop()})}return g(A),u}function a(o){return r.value.has(o.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:s,isForceHiddenExpandIcon:a}}function JQe(t,e){const n=ge(new Set(t.defaultExpandedKeys)),r=ge(),i=Cs(),s=ge();Ct(()=>t.currentNodeKey,ue=>{r.value=ue},{immediate:!0}),Ct(()=>t.data,ue=>{be(ue)},{immediate:!0});const{isIndeterminate:a,isChecked:o,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:h,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:A,setCheckedKeys:m}=YQe(t,i),{doFilter:g,hiddenNodeKeySet:y,isForceHiddenExpandIcon:_}=ZQe(t,i),x=J(()=>{var ue;return((ue=t.props)==null?void 0:ue.value)||j2.KEY}),S=J(()=>{var ue;return((ue=t.props)==null?void 0:ue.children)||j2.CHILDREN}),C=J(()=>{var ue;return((ue=t.props)==null?void 0:ue.disabled)||j2.DISABLED}),M=J(()=>{var ue;return((ue=t.props)==null?void 0:ue.label)||j2.LABEL}),B=J(()=>{var ue;const ye=n.value,$e=y.value,Ve=[],Se=((ue=i.value)==null?void 0:ue.treeNodes)||[],at=[];for(let ft=Se.length-1;ft>=0;--ft)at.push(Se[ft]);for(;at.length;){const ft=at.pop();if(!$e.has(ft.key)&&(Ve.push(ft),ft.children&&ye.has(ft.key)))for(let je=ft.children.length-1;je>=0;--je)at.push(ft.children[je])}return Ve}),E=J(()=>B.value.length>0);function L(ue){const ye=new Map,$e=new Map;let Ve=1;function Se(ft,je=1,gt=void 0){var vt;const Te=[];for(const we of ft){const Ne=O(we),Ze={level:je,key:Ne,data:we};Ze.label=U(we),Ze.parent=gt;const Tt=k(we);Ze.disabled=F(we),Ze.isLeaf=!Tt||Tt.length===0,Tt&&Tt.length&&(Ze.children=Se(Tt,je+1,Ze)),Te.push(Ze),ye.set(Ne,Ze),$e.has(je)||$e.set(je,[]),(vt=$e.get(je))==null||vt.push(Ze)}return je>Ve&&(Ve=je),Te}const at=Se(ue);return{treeNodeMap:ye,levelTreeNodeMap:$e,maxLevel:Ve,treeNodes:at}}function I(ue){const ye=g(ue);ye&&(n.value=ye)}function k(ue){return ue[S.value]}function O(ue){return ue?ue[x.value]:""}function F(ue){return ue[C.value]}function U(ue){return ue[M.value]}function $(ue){n.value.has(ue.key)?he(ue):ne(ue)}function K(ue){const ye=new Set,$e=i.value.treeNodeMap;ue.forEach(Ve=>{let Se=$e.get(Ve);for(;Se&&!ye.has(Se.key);)ye.add(Se.key),Se=Se.parent}),n.value=ye}function V(ue,ye){e(Qhe,ue.data,ue,ye),X(ue),t.expandOnClickNode&&$(ue),t.showCheckbox&&t.checkOnClickNode&&!ue.disabled&&l(ue,!o(ue),!0)}function Q(ue,ye){e(Whe,ue.data,ue,ye)}function X(ue){oe(ue)||(r.value=ue.key,e(qhe,ue.data,ue))}function z(ue,ye){l(ue,ye)}function ne(ue){const ye=n.value;if(i.value&&t.accordion){const{treeNodeMap:$e}=i.value;ye.forEach(Ve=>{const Se=$e.get(Ve);ue&&ue.level===(Se==null?void 0:Se.level)&&ye.delete(Ve)})}ye.add(ue.key),e(jhe,ue.data,ue)}function he(ue){n.value.delete(ue.key),e(Khe,ue.data,ue)}function W(ue){return n.value.has(ue.key)}function Y(ue){return!!ue.disabled}function oe(ue){const ye=r.value;return ye!==void 0&&ye===ue.key}function fe(){var ue,ye;if(r.value)return(ye=(ue=i.value)==null?void 0:ue.treeNodeMap.get(r.value))==null?void 0:ye.data}function me(){return r.value}function ce(ue){r.value=ue}function be(ue){Zn(()=>i.value=L(ue))}function xe(ue){var ye;const $e=qr(ue)?O(ue):ue;return(ye=i.value)==null?void 0:ye.treeNodeMap.get($e)}function Ie(ue,ye="auto"){const $e=xe(ue);$e&&s.value&&s.value.scrollToItem(B.value.indexOf($e),ye)}function Qe(ue){var ye;(ye=s.value)==null||ye.scrollTo(ue)}return{tree:i,flattenTree:B,isNotEmpty:E,listRef:s,getKey:O,getChildren:k,toggleExpand:$,toggleCheckbox:l,isExpanded:W,isChecked:o,isIndeterminate:a,isDisabled:Y,isCurrent:oe,isForceHiddenExpandIcon:_,handleNodeClick:V,handleNodeDrop:Q,handleNodeCheck:z,getCurrentNode:fe,getCurrentKey:me,setCurrentKey:ce,getCheckedKeys:u,getCheckedNodes:h,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:A,setCheckedKeys:m,filter:I,setData:be,getNode:xe,expandNode:ne,collapseNode:he,setExpandedKeys:K,scrollToNode:Ie,scrollTo:Qe}}var eWe=Me({name:"ElTreeNodeContent",props:KQe,setup(t){const e=qt(d7),n=Jt("tree");return()=>{const r=t.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):lr("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const tWe=Me({name:"ElTreeNode"}),nWe=Me({...tWe,props:jQe,emits:XQe,setup(t,{emit:e}){const n=t,r=qt(d7),i=Jt("tree"),s=J(()=>{var A;return(A=r==null?void 0:r.props.indent)!=null?A:16}),a=J(()=>{var A;return(A=r==null?void 0:r.props.icon)!=null?A:Jae}),o=A=>{const m=r==null?void 0:r.props.props.class;if(!m)return{};let g;if(Kn(m)){const{data:y}=A;g=m(y,A)}else g=m;return Qn(g)?{[g]:!0}:g},l=A=>{e("click",n.node,A)},u=A=>{e("drop",n.node,A)},h=()=>{e("toggle",n.node)},d=A=>{e("check",n.node,A)},f=A=>{var m,g,y,_;(y=(g=(m=r==null?void 0:r.instance)==null?void 0:m.vnode)==null?void 0:g.props)!=null&&y.onNodeContextmenu&&(A.stopPropagation(),A.preventDefault()),r==null||r.ctx.emit(Zhe,A,(_=n.node)==null?void 0:_.data,n.node)};return(A,m)=>{var g,y,_;return ie(),Ee("div",{ref:"node$",class:de([b(i).b("node"),b(i).is("expanded",A.expanded),b(i).is("current",A.current),b(i).is("focusable",!A.disabled),b(i).is("checked",!A.disabled&&A.checked),o(A.node)]),role:"treeitem",tabindex:"-1","aria-expanded":A.expanded,"aria-disabled":A.disabled,"aria-checked":A.checked,"data-key":(g=A.node)==null?void 0:g.key,onClick:mr(l,["stop"]),onContextmenu:f,onDragover:mr(()=>{},["prevent"]),onDragenter:mr(()=>{},["prevent"]),onDrop:mr(u,["stop"])},[Be("div",{class:de(b(i).be("node","content")),style:Xn({paddingLeft:"".concat((A.node.level-1)*b(s),"px"),height:A.itemSize+"px"})},[b(a)?(ie(),St(b(Vn),{key:0,class:de([b(i).is("leaf",!!((y=A.node)!=null&&y.isLeaf)),b(i).is("hidden",A.hiddenExpandIcon),{expanded:!((_=A.node)!=null&&_.isLeaf)&&A.expanded},b(i).be("node","expand-icon")]),onClick:mr(h,["stop"])},{default:De(()=>[(ie(),St(li(b(a))))]),_:1},8,["class","onClick"])):lt("v-if",!0),A.showCheckbox?(ie(),St(b(bA),{key:1,"model-value":A.checked,indeterminate:A.indeterminate,disabled:A.disabled,onChange:d,onClick:mr(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):lt("v-if",!0),Ce(b(eWe),{node:A.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var rWe=mn(nWe,[["__file","tree-node.vue"]]);const iWe=Me({name:"ElTreeV2"}),sWe=Me({...iWe,props:WQe,emits:qQe,setup(t,{expose:e,emit:n}){const r=t,i=Cl(),s=J(()=>r.itemSize);dr(d7,{ctx:{emit:n,slots:i},props:r,instance:ni()}),dr(lm,void 0);const{t:a}=ji(),o=Jt("tree"),{flattenTree:l,isNotEmpty:u,listRef:h,toggleExpand:d,isExpanded:f,isIndeterminate:A,isChecked:m,isDisabled:g,isCurrent:y,isForceHiddenExpandIcon:_,handleNodeClick:x,handleNodeDrop:S,handleNodeCheck:C,toggleCheckbox:M,getCurrentNode:B,getCurrentKey:E,setCurrentKey:L,getCheckedKeys:I,getCheckedNodes:k,getHalfCheckedKeys:O,getHalfCheckedNodes:F,setChecked:U,setCheckedKeys:$,filter:K,setData:V,getNode:Q,expandNode:X,collapseNode:z,setExpandedKeys:ne,scrollToNode:he,scrollTo:W}=JQe(r,n);return e({toggleCheckbox:M,getCurrentNode:B,getCurrentKey:E,setCurrentKey:L,getCheckedKeys:I,getCheckedNodes:k,getHalfCheckedKeys:O,getHalfCheckedNodes:F,setChecked:U,setCheckedKeys:$,filter:K,setData:V,getNode:Q,expandNode:X,collapseNode:z,setExpandedKeys:ne,scrollToNode:he,scrollTo:W}),(Y,oe)=>(ie(),Ee("div",{class:de([b(o).b(),{[b(o).m("highlight-current")]:Y.highlightCurrent}]),role:"tree"},[b(u)?(ie(),St(b(Oue),{key:0,ref_key:"listRef",ref:h,"class-name":b(o).b("virtual-list"),data:b(l),total:b(l).length,height:Y.height,"item-size":b(s),"perf-mode":Y.perfMode},{default:De(({data:fe,index:me,style:ce})=>[(ie(),St(rWe,{key:fe[me].key,style:Xn(ce),node:fe[me],expanded:b(f)(fe[me]),"show-checkbox":Y.showCheckbox,checked:b(m)(fe[me]),indeterminate:b(A)(fe[me]),"item-size":b(s),disabled:b(g)(fe[me]),current:b(y)(fe[me]),"hidden-expand-icon":b(_)(fe[me]),onClick:b(x),onToggle:b(d),onCheck:b(C),onDrop:b(S)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(ie(),Ee("div",{key:1,class:de(b(o).e("empty-block"))},[tt(Y.$slots,"empty",{},()=>{var fe;return[Be("span",{class:de(b(o).e("empty-text"))},cn((fe=Y.emptyText)!=null?fe:b(a)("el.tree.emptyText")),3)]})],2))],2))}});var aWe=mn(sWe,[["__file","tree.vue"]]);const oWe=Nr(aWe),Jhe=Symbol("uploadContextKey"),lWe="ElUpload";class cWe extends Error{constructor(e,n,r,i){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function lY(t,e,n){let r;return n.response?r="".concat(n.response.error||n.response):n.responseText?r="".concat(n.responseText):r="fail to ".concat(e.method," ").concat(t," ").concat(n.status),new cWe(r,n.status,e.method,t)}function uWe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}const hWe=t=>{typeof XMLHttpRequest>"u"&&Gl(lWe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const a=s;a.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(a)});const r=new FormData;if(t.data)for(const[s,a]of Object.entries(t.data))an(a)&&a.length?r.append(s,...a):r.append(s,a);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(lY(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(lY(n,t,e));t.onSuccess(uWe(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,a)=>e.setRequestHeader(a,s));else for(const[s,a]of Object.entries(i))lc(a)||e.setRequestHeader(s,String(a));return e.send(r),e},ede=["text","picture","picture-card"];let dWe=1;const RH=()=>Date.now()+dWe++,tde=hn({action:{type:String,default:"#"},headers:{type:ht(Object)},method:{type:String,default:"post"},data:{type:ht([Object,Function,Promise]),default:()=>ao({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ht(Array),default:()=>ao([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ede,default:"text"},httpRequest:{type:ht(Function),default:hWe},disabled:Boolean,limit:Number}),fWe=hn({...tde,beforeUpload:{type:ht(Function),default:Os},beforeRemove:{type:ht(Function)},onRemove:{type:ht(Function),default:Os},onChange:{type:ht(Function),default:Os},onPreview:{type:ht(Function),default:Os},onSuccess:{type:ht(Function),default:Os},onProgress:{type:ht(Function),default:Os},onError:{type:ht(Function),default:Os},onExceed:{type:ht(Function),default:Os},crossorigin:{type:ht(String)}}),AWe=hn({files:{type:ht(Array),default:()=>ao([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ht(Function),default:Os},listType:{type:String,values:ede,default:"text"},crossorigin:{type:ht(String)}}),pWe={remove:t=>!!t},gWe=Me({name:"ElUploadList"}),mWe=Me({...gWe,props:AWe,emits:pWe,setup(t,{emit:e}){const n=t,{t:r}=ji(),i=Jt("upload"),s=Jt("icon"),a=Jt("list"),o=Tu(),l=ge(!1),u=J(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),h=d=>{e("remove",d)};return(d,f)=>(ie(),St(jae,{tag:"ul",class:de(b(u)),name:b(a).b()},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(d.files,(A,m)=>(ie(),Ee("li",{key:A.uid||A.name,class:de([b(i).be("list","item"),b(i).is(A.status),{focusing:l.value}]),tabindex:"0",onKeydown:$s(g=>!b(o)&&h(A),["delete"]),onFocus:g=>l.value=!0,onBlur:g=>l.value=!1,onClick:g=>l.value=!1},[tt(d.$slots,"default",{file:A,index:m},()=>[d.listType==="picture"||A.status!=="uploading"&&d.listType==="picture-card"?(ie(),Ee("img",{key:0,class:de(b(i).be("list","item-thumbnail")),src:A.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):lt("v-if",!0),A.status==="uploading"||d.listType!=="picture-card"?(ie(),Ee("div",{key:1,class:de(b(i).be("list","item-info"))},[Be("a",{class:de(b(i).be("list","item-name")),onClick:mr(g=>d.handlePreview(A),["prevent"])},[Ce(b(Vn),{class:de(b(s).m("document"))},{default:De(()=>[Ce(b(toe))]),_:1},8,["class"]),Be("span",{class:de(b(i).be("list","item-file-name")),title:A.name},cn(A.name),11,["title"])],10,["onClick"]),A.status==="uploading"?(ie(),St(b(Sue),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(A.percentage),style:Xn(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):lt("v-if",!0)],2)):lt("v-if",!0),Be("label",{class:de(b(i).be("list","item-status-label"))},[d.listType==="text"?(ie(),St(b(Vn),{key:0,class:de([b(s).m("upload-success"),b(s).m("circle-check")])},{default:De(()=>[Ce(b(Bz))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(ie(),St(b(Vn),{key:1,class:de([b(s).m("upload-success"),b(s).m("check")])},{default:De(()=>[Ce(b(AL))]),_:1},8,["class"])):lt("v-if",!0)],2),b(o)?lt("v-if",!0):(ie(),St(b(Vn),{key:2,class:de(b(s).m("close")),onClick:g=>h(A)},{default:De(()=>[Ce(b(wp))]),_:2},1032,["class","onClick"])),lt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),lt(" This is a bug which needs to be fixed "),lt(" TODO: Fix the incorrect navigation interaction "),b(o)?lt("v-if",!0):(ie(),Ee("i",{key:3,class:de(b(s).m("close-tip"))},cn(b(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(ie(),Ee("span",{key:4,class:de(b(i).be("list","item-actions"))},[Be("span",{class:de(b(i).be("list","item-preview")),onClick:g=>d.handlePreview(A)},[Ce(b(Vn),{class:de(b(s).m("zoom-in"))},{default:De(()=>[Ce(b(aoe))]),_:1},8,["class"])],10,["onClick"]),b(o)?lt("v-if",!0):(ie(),Ee("span",{key:0,class:de(b(i).be("list","item-delete")),onClick:g=>h(A)},[Ce(b(Vn),{class:de(b(s).m("delete"))},{default:De(()=>[Ce(b(kxe))]),_:1},8,["class"])],10,["onClick"]))],2)):lt("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),tt(d.$slots,"append")]),_:3},8,["class","name"]))}});var cY=mn(mWe,[["__file","upload-list.vue"]]);const vWe=hn({disabled:{type:Boolean,default:!1}}),yWe={file:t=>an(t)},nde="ElUploadDrag",_We=Me({name:nde}),wWe=Me({..._We,props:vWe,emits:yWe,setup(t,{emit:e}){qt(Jhe)||Gl(nde,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Jt("upload"),i=ge(!1),s=Tu(),a=l=>{if(s.value)return;i.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);e("file",u)},o=()=>{s.value||(i.value=!0)};return(l,u)=>(ie(),Ee("div",{class:de([b(r).b("dragger"),b(r).is("dragover",i.value)]),onDrop:mr(a,["prevent"]),onDragover:mr(o,["prevent"]),onDragleave:mr(h=>i.value=!1,["prevent"])},[tt(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var bWe=mn(wWe,[["__file","upload-dragger.vue"]]);const xWe=hn({...tde,beforeUpload:{type:ht(Function),default:Os},onRemove:{type:ht(Function),default:Os},onStart:{type:ht(Function),default:Os},onSuccess:{type:ht(Function),default:Os},onProgress:{type:ht(Function),default:Os},onError:{type:ht(Function),default:Os},onExceed:{type:ht(Function),default:Os}}),EWe=Me({name:"ElUploadContent",inheritAttrs:!1}),SWe=Me({...EWe,props:xWe,setup(t,{expose:e}){const n=t,r=Jt("upload"),i=Tu(),s=Cs({}),a=Cs(),o=g=>{if(g.length===0)return;const{autoUpload:y,limit:_,fileList:x,multiple:S,onStart:C,onExceed:M}=n;if(_&&x.length+g.length>_){M(g,x);return}S||(g=g.slice(0,1));for(const B of g){const E=B;E.uid=RH(),C(E),y&&l(E)}},l=async g=>{if(a.value.value="",!n.beforeUpload)return h(g);let y,_={};try{const S=n.data,C=n.beforeUpload(g);_=iM(n.data)?YF(n.data):n.data,y=await C,iM(n.data)&&wu(S,_)&&(_=YF(n.data))}catch(S){y=!1}if(y===!1){n.onRemove(g);return}let x=g;y instanceof Blob&&(y instanceof File?x=y:x=new File([y],g.name,{type:g.type})),h(Object.assign(x,{uid:g.uid}),_)},u=async(g,y)=>Kn(g)?g(y):g,h=async(g,y)=>{const{headers:_,data:x,method:S,withCredentials:C,name:M,action:B,onProgress:E,onSuccess:L,onError:I,httpRequest:k}=n;try{y=await u(y!=null?y:x,g)}catch($){n.onRemove(g);return}const{uid:O}=g,F={headers:_||{},withCredentials:C,file:g,data:y,method:S,filename:M,action:B,onProgress:$=>{E($,g)},onSuccess:$=>{L($,g),delete s.value[O]},onError:$=>{I($,g),delete s.value[O]}},U=k(F);s.value[O]=U,U instanceof Promise&&U.then(F.onSuccess,F.onError)},d=g=>{const y=g.target.files;y&&o(Array.from(y))},f=()=>{i.value||(a.value.value="",a.value.click())},A=()=>{f()};return e({abort:g=>{Ele(s.value).filter(g?([_])=>String(g.uid)===_:()=>!0).forEach(([_,x])=>{x instanceof XMLHttpRequest&&x.abort(),delete s.value[_]})},upload:l}),(g,y)=>(ie(),Ee("div",{class:de([b(r).b(),b(r).m(g.listType),b(r).is("drag",g.drag),b(r).is("disabled",b(i))]),tabindex:b(i)?"-1":"0",onClick:f,onKeydown:$s(mr(A,["self"]),["enter","space"])},[g.drag?(ie(),St(bWe,{key:0,disabled:b(i),onFile:o},{default:De(()=>[tt(g.$slots,"default")]),_:3},8,["disabled"])):tt(g.$slots,"default",{key:1}),Be("input",{ref_key:"inputRef",ref:a,class:de(b(r).e("input")),name:g.name,disabled:b(i),multiple:g.multiple,accept:g.accept,type:"file",onChange:d,onClick:mr(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var uY=mn(SWe,[["__file","upload-content.vue"]]);const hY="ElUpload",dY=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},CWe=(t,e)=>{const n=gle(t,"fileList",void 0,{passive:!0}),r=A=>n.value.find(m=>m.uid===A.uid);function i(A){var m;(m=e.value)==null||m.abort(A)}function s(A=["ready","uploading","success","fail"]){n.value=n.value.filter(m=>!A.includes(m.status))}function a(A){n.value=n.value.filter(m=>m.uid!==A.uid)}const o=(A,m)=>{const g=r(m);g&&(console.error(A),g.status="fail",a(g),t.onError(A,g,n.value),t.onChange(g,n.value))},l=(A,m)=>{const g=r(m);g&&(t.onProgress(A,g,n.value),g.status="uploading",g.percentage=Math.round(A.percent))},u=(A,m)=>{const g=r(m);g&&(g.status="success",g.response=A,t.onSuccess(A,g,n.value),t.onChange(g,n.value))},h=A=>{lc(A.uid)&&(A.uid=RH());const m={name:A.name,percentage:0,status:"ready",size:A.size,raw:A,uid:A.uid};if(t.listType==="picture-card"||t.listType==="picture")try{m.url=URL.createObjectURL(A)}catch(g){g.message,t.onError(g,m,n.value)}n.value=[...n.value,m],t.onChange(m,n.value)},d=async A=>{const m=A instanceof File?r(A):A;m||Gl(hY,"file to be removed not found");const g=y=>{i(y),a(y),t.onRemove(y,n.value),dY(y)};t.beforeRemove?await t.beforeRemove(m,n.value)!==!1&&g(m):g(m)};function f(){n.value.filter(({status:A})=>A==="ready").forEach(({raw:A})=>{var m;return A&&((m=e.value)==null?void 0:m.upload(A))})}return Ct(()=>t.listType,A=>{A!=="picture-card"&&A!=="picture"||(n.value=n.value.map(m=>{const{raw:g,url:y}=m;if(!y&&g)try{m.url=URL.createObjectURL(g)}catch(_){t.onError(_,m,n.value)}return m}))}),Ct(n,A=>{for(const m of A)m.uid||(m.uid=RH()),m.status||(m.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:s,handleError:o,handleProgress:l,handleStart:h,handleSuccess:u,handleRemove:d,submit:f,revokeFileObjectURL:dY}},TWe=Me({name:"ElUpload"}),MWe=Me({...TWe,props:fWe,setup(t,{expose:e}){const n=t,r=Tu(),i=Cs(),{abort:s,submit:a,clearFiles:o,uploadFiles:l,handleStart:u,handleError:h,handleRemove:d,handleSuccess:f,handleProgress:A,revokeFileObjectURL:m}=CWe(n,i),g=J(()=>n.listType==="picture-card"),y=J(()=>({...n,fileList:l.value,onStart:u,onProgress:A,onSuccess:f,onError:h,onRemove:d}));return Hs(()=>{l.value.forEach(m)}),dr(Jhe,{accept:Is(n,"accept")}),e({abort:s,submit:a,clearFiles:o,handleStart:u,handleRemove:d}),(_,x)=>(ie(),Ee("div",null,[b(g)&&_.showFileList?(ie(),St(cY,{key:0,disabled:b(r),"list-type":_.listType,files:b(l),crossorigin:_.crossorigin,"handle-preview":_.onPreview,onRemove:b(d)},Lf({append:De(()=>[Ce(uY,hi({ref_key:"uploadRef",ref:i},b(y)),{default:De(()=>[_.$slots.trigger?tt(_.$slots,"trigger",{key:0}):lt("v-if",!0),!_.$slots.trigger&&_.$slots.default?tt(_.$slots,"default",{key:1}):lt("v-if",!0)]),_:3},16)]),_:2},[_.$slots.file?{name:"default",fn:De(({file:S,index:C})=>[tt(_.$slots,"file",{file:S,index:C})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):lt("v-if",!0),!b(g)||b(g)&&!_.showFileList?(ie(),St(uY,hi({key:1,ref_key:"uploadRef",ref:i},b(y)),{default:De(()=>[_.$slots.trigger?tt(_.$slots,"trigger",{key:0}):lt("v-if",!0),!_.$slots.trigger&&_.$slots.default?tt(_.$slots,"default",{key:1}):lt("v-if",!0)]),_:3},16)):lt("v-if",!0),_.$slots.trigger?tt(_.$slots,"default",{key:2}):lt("v-if",!0),tt(_.$slots,"tip"),!b(g)&&_.showFileList?(ie(),St(cY,{key:3,disabled:b(r),"list-type":_.listType,files:b(l),crossorigin:_.crossorigin,"handle-preview":_.onPreview,onRemove:b(d)},Lf({_:2},[_.$slots.file?{name:"default",fn:De(({file:S,index:C})=>[tt(_.$slots,"file",{file:S,index:C})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):lt("v-if",!0)]))}});var LWe=mn(MWe,[["__file","upload.vue"]]);const BWe=Nr(LWe),RWe=hn({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ht([String,Array]),default:"Element Plus"},font:{type:ht(Object)},gap:{type:ht(Array),default:()=>[100,100]},offset:{type:ht(Array)}});function IWe(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function PWe(t){return Object.keys(t).map(e=>"".concat(IWe(e),": ").concat(t[e],";")).join(" ")}function FWe(){return window.devicePixelRatio||1}const OWe=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},rde=3;function KU(t,e,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),s=t*n,a=e*n;return r.setAttribute("width","".concat(s,"px")),r.setAttribute("height","".concat(a,"px")),i.save(),[i,r,s,a]}function NWe(){function t(e,n,r,i,s,a,o,l){const[u,h,d,f]=KU(i,s,r);if(e instanceof HTMLImageElement)u.drawImage(e,0,0,d,f);else{const{color:he,fontSize:W,fontStyle:Y,fontWeight:oe,fontFamily:fe,textAlign:me,textBaseline:ce}=a,be=Number(W)*r;u.font="".concat(Y," normal ").concat(oe," ").concat(be,"px/").concat(s,"px ").concat(fe),u.fillStyle=he,u.textAlign=me,u.textBaseline=ce;const xe=an(e)?e:[e];xe==null||xe.forEach((Ie,Qe)=>{u.fillText(Ie!=null?Ie:"",d/2,Qe*(be+rde*r))})}const A=Math.PI/180*Number(n),m=Math.max(i,s),[g,y,_]=KU(m,m,r);g.translate(_/2,_/2),g.rotate(A),d>0&&f>0&&g.drawImage(h,-d/2,-f/2);function x(he,W){const Y=he*Math.cos(A)-W*Math.sin(A),oe=he*Math.sin(A)+W*Math.cos(A);return[Y,oe]}let S=0,C=0,M=0,B=0;const E=d/2,L=f/2;[[0-E,0-L],[0+E,0-L],[0+E,0+L],[0-E,0+L]].forEach(([he,W])=>{const[Y,oe]=x(he,W);S=Math.min(S,Y),C=Math.max(C,Y),M=Math.min(M,oe),B=Math.max(B,oe)});const k=S+_/2,O=M+_/2,F=C-S,U=B-M,$=o*r,K=l*r,V=(F+$)*2,Q=U+K,[X,z]=KU(V,Q);function ne(he=0,W=0){X.drawImage(y,k,O,F,U,he,W,F,U)}return ne(),ne(F+$,-U/2-K/2),ne(F+$,+U/2+K/2),[z.toDataURL(),V/r,Q/r]}return t}const DWe=Me({name:"ElWatermark"}),kWe=Me({...DWe,props:RWe,setup(t){const e=t,n={position:"relative"},r=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.color)!=null?O:"rgba(0,0,0,.15)"}),i=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.fontSize)!=null?O:16}),s=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.fontWeight)!=null?O:"normal"}),a=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.fontStyle)!=null?O:"normal"}),o=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.fontFamily)!=null?O:"sans-serif"}),l=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.textAlign)!=null?O:"center"}),u=J(()=>{var k,O;return(O=(k=e.font)==null?void 0:k.textBaseline)!=null?O:"hanging"}),h=J(()=>e.gap[0]),d=J(()=>e.gap[1]),f=J(()=>h.value/2),A=J(()=>d.value/2),m=J(()=>{var k,O;return(O=(k=e.offset)==null?void 0:k[0])!=null?O:f.value}),g=J(()=>{var k,O;return(O=(k=e.offset)==null?void 0:k[1])!=null?O:A.value}),y=()=>{const k={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let O=m.value-f.value,F=g.value-A.value;return O>0&&(k.left="".concat(O,"px"),k.width="calc(100% - ".concat(O,"px)"),O=0),F>0&&(k.top="".concat(F,"px"),k.height="calc(100% - ".concat(F,"px)"),F=0),k.backgroundPosition="".concat(O,"px ").concat(F,"px"),k},_=Cs(null),x=Cs(),S=ge(!1),C=()=>{x.value&&(x.value.remove(),x.value=void 0)},M=(k,O)=>{var F;_.value&&x.value&&(S.value=!0,x.value.setAttribute("style",PWe({...y(),backgroundImage:"url('".concat(k,"')"),backgroundSize:"".concat(Math.floor(O),"px")})),(F=_.value)==null||F.append(x.value),setTimeout(()=>{S.value=!1}))},B=k=>{let O=120,F=64;const U=e.image,$=e.content,K=e.width,V=e.height;if(!U&&k.measureText){k.font="".concat(Number(i.value),"px ").concat(o.value);const Q=an($)?$:[$],X=Q.map(z=>{const ne=k.measureText(z);return[ne.width,ne.fontBoundingBoxAscent!==void 0?ne.fontBoundingBoxAscent+ne.fontBoundingBoxDescent:ne.actualBoundingBoxAscent+ne.actualBoundingBoxDescent]});O=Math.ceil(Math.max(...X.map(z=>z[0]))),F=Math.ceil(Math.max(...X.map(z=>z[1])))*Q.length+(Q.length-1)*rde}return[K!=null?K:O,V!=null?V:F]},E=NWe(),L=()=>{const O=document.createElement("canvas").getContext("2d"),F=e.image,U=e.content,$=e.rotate;if(O){x.value||(x.value=document.createElement("div"));const K=FWe(),[V,Q]=B(O),X=z=>{const[ne,he]=E(z||"",$,K,V,Q,{color:r.value,fontSize:i.value,fontStyle:a.value,fontWeight:s.value,fontFamily:o.value,textAlign:l.value,textBaseline:u.value},h.value,d.value);M(ne,he)};if(F){const z=new Image;z.onload=()=>{X(z)},z.onerror=()=>{X(U)},z.crossOrigin="anonymous",z.referrerPolicy="no-referrer",z.src=F}else X(U)}};return rr(()=>{L()}),Ct(()=>e,()=>{L()},{deep:!0,flush:"post"}),Hs(()=>{C()}),ple(_,k=>{S.value||k.forEach(O=>{OWe(O,x.value)&&(C(),L())})},{attributes:!0,subtree:!0,childList:!0}),(k,O)=>(ie(),Ee("div",{ref_key:"containerRef",ref:_,style:Xn([n])},[tt(k.$slots,"default")],4))}});var UWe=mn(kWe,[["__file","watermark.vue"]]);const HWe=Nr(UWe),GWe=hn({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ht(Object)},targetAreaClickable:{type:Boolean,default:!0}}),VWe=(t,e,n,r,i)=>{const s=ge(null),a=()=>{let d;return Qn(t.value)?d=document.querySelector(t.value):Kn(t.value)?d=t.value():d=t.value,d},o=()=>{const d=a();if(!d||!e.value){s.value=null;return}zWe(d)||d.scrollIntoView(i.value);const{left:f,top:A,width:m,height:g}=d.getBoundingClientRect();s.value={left:f,top:A,width:m,height:g,radius:0}};rr(()=>{Ct([e,t],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),Hs(()=>{window.removeEventListener("resize",o)});const l=d=>{var f;return(f=an(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?f:6},u=J(()=>{var d;if(!s.value)return s.value;const f=l(0),A=l(1),m=((d=n.value)==null?void 0:d.radius)||2;return{left:s.value.left-f,top:s.value.top-A,width:s.value.width+f*2,height:s.value.height+A*2,radius:m}}),h=J(()=>{const d=a();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,A,m,g;return window.DOMRect.fromRect({width:((f=u.value)==null?void 0:f.width)||0,height:((A=u.value)==null?void 0:A.height)||0,x:((m=u.value)==null?void 0:m.left)||0,y:((g=u.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:u,triggerTarget:h}},C5=Symbol("ElTour");function zWe(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:s,left:a}=t.getBoundingClientRect();return r>=0&&a>=0&&i<=e&&s<=n}const $We=(t,e,n,r,i,s,a,o)=>{const l=ge(),u=ge(),h=ge({}),d={x:l,y:u,placement:r,strategy:i,middlewareData:h},f=J(()=>{const _=[Dhe(b(s)),K9e(),j9e(),QWe()];return b(o)&&b(n)&&_.push(khe({element:b(n)})),_}),A=async()=>{if(!Wi)return;const _=b(t),x=b(e);if(!_||!x)return;const S=await Uhe(_,x,{placement:b(r),strategy:b(i),middleware:b(f)});KE(d).forEach(C=>{d[C].value=S[C]})},m=J(()=>{if(!b(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:b(a)};const{overflow:_}=b(h);return{position:b(i),zIndex:b(a),top:b(u)!=null?"".concat(b(u),"px"):"",left:b(l)!=null?"".concat(b(l),"px"):"",maxWidth:_!=null&&_.maxWidth?"".concat(_==null?void 0:_.maxWidth,"px"):""}}),g=J(()=>{if(!b(o))return{};const{arrow:_}=b(h);return{left:(_==null?void 0:_.x)!=null?"".concat(_==null?void 0:_.x,"px"):"",top:(_==null?void 0:_.y)!=null?"".concat(_==null?void 0:_.y,"px"):""}});let y;return rr(()=>{const _=b(t),x=b(e);_&&x&&(y=Q9e(_,x,A)),Zc(()=>{A()})}),Hs(()=>{y&&y()}),{update:A,contentStyle:m,arrowStyle:g}},QWe=()=>({name:"overflow",async fn(t){const e=await W9e(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),WWe=Me({name:"ElTourMask",inheritAttrs:!1}),jWe=Me({...WWe,props:GWe,setup(t){const e=t,{ns:n}=qt(C5),r=J(()=>{var o,l;return(l=(o=e.pos)==null?void 0:o.radius)!=null?l:2}),i=J(()=>{const o=r.value,l="a".concat(o,",").concat(o," 0 0 1");return{topRight:"".concat(l," ").concat(o,",").concat(o),bottomRight:"".concat(l," ").concat(-o,",").concat(o),bottomLeft:"".concat(l," ").concat(-o,",").concat(-o),topLeft:"".concat(l," ").concat(o,",").concat(-o)}}),s=J(()=>{const o=window.innerWidth,l=window.innerHeight,u=i.value,h="M".concat(o,",0 L0,0 L0,").concat(l," L").concat(o,",").concat(l," L").concat(o,",0 Z"),d=r.value;return e.pos?"".concat(h," M").concat(e.pos.left+d,",").concat(e.pos.top," h").concat(e.pos.width-d*2," ").concat(u.topRight," v").concat(e.pos.height-d*2," ").concat(u.bottomRight," h").concat(-e.pos.width+d*2," ").concat(u.bottomLeft," v").concat(-e.pos.height+d*2," ").concat(u.topLeft," z"):h}),a=J(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return R$(Is(e,"visible"),{ns:n}),(o,l)=>o.visible?(ie(),Ee("div",hi({key:0,class:b(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[(ie(),Ee("svg",{style:{width:"100%",height:"100%"}},[Be("path",{class:de(b(n).e("hollow")),style:Xn(b(a)),d:b(s)},null,14,["d"])]))],16)):lt("v-if",!0)}});var KWe=mn(jWe,[["__file","mask.vue"]]);const qWe=["absolute","fixed"],XWe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],f7=hn({placement:{type:ht(String),values:XWe,default:"bottom"},reference:{type:ht(Object),default:null},strategy:{type:ht(String),values:qWe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),YWe={close:()=>!0},ZWe=Me({name:"ElTourContent"}),JWe=Me({...ZWe,props:f7,emits:YWe,setup(t,{emit:e}){const n=t,r=ge(n.placement),i=ge(n.strategy),s=ge(null),a=ge(null);Ct(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:o,arrowStyle:l}=$We(Is(n,"reference"),s,a,r,i,Is(n,"offset"),Is(n,"zIndex"),Is(n,"showArrow")),u=J(()=>r.value.split("-")[0]),{ns:h}=qt(C5),d=()=>{e("close")},f=A=>{A.detail.focusReason==="pointer"&&A.preventDefault()};return(A,m)=>(ie(),Ee("div",{ref_key:"contentRef",ref:s,style:Xn(b(o)),class:de(b(h).e("content")),"data-side":b(u),tabindex:"-1"},[Ce(b(VS),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":s.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:De(()=>[tt(A.$slots,"default")]),_:3},8,["focus-trap-el"]),A.showArrow?(ie(),Ee("span",{key:0,ref_key:"arrowRef",ref:a,style:Xn(b(l)),class:de(b(h).e("arrow"))},null,6)):lt("v-if",!0)],14,["data-side"]))}});var eje=mn(JWe,[["__file","content.vue"]]),tje=Me({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var i,s;const a=(i=e.default)==null?void 0:i.call(e),o=[];let l=0;function u(h){an(h)&&h.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(o.push(d),l+=1)})}return a.length&&u(ay((s=a[0])==null?void 0:s.children)),r!==l&&(r=l,n("update-total",l)),o.length?o[t.current]:null}}});const nje=hn({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Ws},placement:f7.placement,contentStyle:{type:ht([Object])},mask:{type:ht([Boolean,Object]),default:!0},gap:{type:ht(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ht([Boolean,Object]),default:()=>({block:"center"})},type:{type:ht(String)},appendTo:{type:ht([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),rje={[zr]:t=>Js(t),"update:current":t=>tr(t),close:t=>tr(t),finish:()=>!0,change:t=>tr(t)},ije=Me({name:"ElTour"}),sje=Me({...ije,props:nje,emits:rje,setup(t,{emit:e}){const n=t,r=Jt("tour"),i=ge(0),s=ge(),a=gle(n,"current",e,{passive:!0}),o=J(()=>{var I;return(I=s.value)==null?void 0:I.target}),l=J(()=>[r.b(),y.value==="primary"?r.m("primary"):""]),u=J(()=>{var I;return((I=s.value)==null?void 0:I.placement)||n.placement}),h=J(()=>{var I,k;return(k=(I=s.value)==null?void 0:I.contentStyle)!=null?k:n.contentStyle}),d=J(()=>{var I,k;return(k=(I=s.value)==null?void 0:I.mask)!=null?k:n.mask}),f=J(()=>!!d.value&&n.modelValue),A=J(()=>Js(d.value)?void 0:d.value),m=J(()=>{var I,k;return!!o.value&&((k=(I=s.value)==null?void 0:I.showArrow)!=null?k:n.showArrow)}),g=J(()=>{var I,k;return(k=(I=s.value)==null?void 0:I.scrollIntoViewOptions)!=null?k:n.scrollIntoViewOptions}),y=J(()=>{var I,k;return(k=(I=s.value)==null?void 0:I.type)!=null?k:n.type}),{nextZIndex:_}=HS(),x=_(),S=J(()=>{var I;return(I=n.zIndex)!=null?I:x}),{mergedPosInfo:C,triggerTarget:M}=VWe(o,Is(n,"modelValue"),Is(n,"gap"),d,g);Ct(()=>n.modelValue,I=>{I||(a.value=0)});const B=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",a.value))},E=I=>{i.value=I},L=Cl();return dr(C5,{currentStep:s,current:a,total:i,showClose:Is(n,"showClose"),closeIcon:Is(n,"closeIcon"),mergedType:y,ns:r,slots:L,updateModelValue(I){e("update:modelValue",I)},onClose(){e("close",a.value)},onFinish(){e("finish")},onChange(){e("change",a.value)}}),(I,k)=>(ie(),Ee(Wn,null,[Ce(b(zS),{to:I.appendTo},{default:De(()=>{var O,F;return[Be("div",hi({class:b(l)},I.$attrs),[Ce(KWe,{visible:b(f),fill:(O=b(A))==null?void 0:O.color,style:Xn((F=b(A))==null?void 0:F.style),pos:b(C),"z-index":b(S),"target-area-clickable":I.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),I.modelValue?(ie(),St(eje,{key:b(a),reference:b(M),placement:b(u),"show-arrow":b(m),"z-index":b(S),style:Xn(b(h)),onClose:B},{default:De(()=>[Ce(b(tje),{current:b(a),onUpdateTotal:E},{default:De(()=>[tt(I.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):lt("v-if",!0)],16)]}),_:3},8,["to"]),lt(" just for IDE "),lt("v-if",!0)],64))}});var aje=mn(sje,[["__file","tour.vue"]]);const oje=hn({target:{type:ht([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Ws},showArrow:{type:Boolean,default:void 0},placement:f7.placement,mask:{type:ht([Boolean,Object]),default:void 0},contentStyle:{type:ht([Object])},prevButtonProps:{type:ht(Object)},nextButtonProps:{type:ht(Object)},scrollIntoViewOptions:{type:ht([Boolean,Object]),default:void 0},type:{type:ht(String)}}),lje={close:()=>!0},cje=Me({name:"ElTourStep"}),uje=Me({...cje,props:oje,emits:lje,setup(t,{emit:e}){const n=t,{Close:r}=e$,{t:i}=ji(),{currentStep:s,current:a,total:o,showClose:l,closeIcon:u,mergedType:h,ns:d,slots:f,updateModelValue:A,onClose:m,onFinish:g,onChange:y}=qt(C5);Ct(n,L=>{s.value=L},{immediate:!0});const _=J(()=>{var L;return(L=n.showClose)!=null?L:l.value}),x=J(()=>{var L,I;return(I=(L=n.closeIcon)!=null?L:u.value)!=null?I:r}),S=L=>{if(L)return ERe(L,["children","onClick"])},C=()=>{var L,I;a.value-=1,(L=n.prevButtonProps)!=null&&L.onClick&&((I=n.prevButtonProps)==null||I.onClick()),y()},M=()=>{var L;a.value>=o.value-1?B():a.value+=1,(L=n.nextButtonProps)!=null&&L.onClick&&n.nextButtonProps.onClick(),y()},B=()=>{E(),g()},E=()=>{A(!1),m(),e("close")};return(L,I)=>(ie(),Ee(Wn,null,[b(_)?(ie(),Ee("button",{key:0,"aria-label":"Close",class:de(b(d).e("closebtn")),type:"button",onClick:E},[Ce(b(Vn),{class:de(b(d).e("close"))},{default:De(()=>[(ie(),St(li(b(x))))]),_:1},8,["class"])],2)):lt("v-if",!0),Be("header",{class:de([b(d).e("header"),{"show-close":b(l)}])},[tt(L.$slots,"header",{},()=>[Be("span",{role:"heading",class:de(b(d).e("title"))},cn(L.title),3)])],2),Be("div",{class:de(b(d).e("body"))},[tt(L.$slots,"default",{},()=>[Be("span",null,cn(L.description),1)])],2),Be("footer",{class:de(b(d).e("footer"))},[Be("div",{class:de(b(d).b("indicators"))},[b(f).indicators?(ie(),St(li(b(f).indicators),{key:0,current:b(a),total:b(o)},null,8,["current","total"])):(ie(!0),Ee(Wn,{key:1},wi(b(o),(k,O)=>(ie(),Ee("span",{key:k,class:de([b(d).b("indicator"),O===b(a)?"is-active":""])},null,2))),128))],2),Be("div",{class:de(b(d).b("buttons"))},[b(a)>0?(ie(),St(b(Sc),hi({key:0,size:"small",type:b(h)},S(L.prevButtonProps),{onClick:C}),{default:De(()=>{var k,O;return[Mr(cn((O=(k=L.prevButtonProps)==null?void 0:k.children)!=null?O:b(i)("el.tour.previous")),1)]}),_:1},16,["type"])):lt("v-if",!0),b(a)<=b(o)-1?(ie(),St(b(Sc),hi({key:1,size:"small",type:b(h)==="primary"?"default":"primary"},S(L.nextButtonProps),{onClick:M}),{default:De(()=>{var k,O;return[Mr(cn((O=(k=L.nextButtonProps)==null?void 0:k.children)!=null?O:b(a)===b(o)-1?b(i)("el.tour.finish"):b(i)("el.tour.next")),1)]}),_:1},16,["type"])):lt("v-if",!0)],2)],2)],64))}});var ide=mn(uje,[["__file","step.vue"]]);const hje=Nr(aje,{TourStep:ide}),dje=ho(ide),fje=hn({container:{type:ht([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ht(String),default:"default"},direction:{type:ht(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),Aje={change:t=>Qn(t),click:(t,e)=>t instanceof MouseEvent&&(Qn(e)||ps(e))},sde=Symbol("anchor"),MR=t=>{if(!Wi||t==="")return null;if(Qn(t))try{return document.querySelector(t)}catch(e){return null}return t};function pje(t){let e=0;const n=(...r)=>{e&&Q1(e),e=my(()=>{t(...r),e=0})};return n.cancel=()=>{Q1(e),e=0},n}const gje=Me({name:"ElAnchor"}),mje=Me({...gje,props:fje,emits:Aje,setup(t,{expose:e,emit:n}){const r=t,i=ge(""),s=ge(null),a=ge(null),o=ge(),l={};let u=!1,h=0;const d=Jt("anchor"),f=J(()=>[d.b(),r.type==="underline"?d.m("underline"):"",d.m(r.direction)]),A=L=>{l[L.href]=L.el},m=L=>{delete l[L]},g=L=>{i.value!==L&&(i.value=L,n("change",L))};let y=null;const _=L=>{if(!o.value)return;const I=MR(L);if(!I)return;y&&y(),u=!0;const k=pq(I,o.value),O=z8(I,k),F=k.scrollHeight-k.clientHeight,U=Math.min(O-r.offset,F);y=TIe(o.value,h,U,r.duration,()=>{setTimeout(()=>{u=!1},20)})},x=L=>{L&&(g(L),_(L))},S=(L,I)=>{n("click",L,I),x(I)},C=pje(()=>{o.value&&(h=gq(o.value));const L=M();u||ps(L)||g(L)}),M=()=>{if(!o.value)return;const L=gq(o.value),I=[];for(const k of Object.keys(l)){const O=MR(k);if(!O)continue;const F=pq(O,o.value),U=z8(O,F);I.push({top:U-r.offset-r.bound,href:k})}I.sort((k,O)=>k.top-O.top);for(let k=0;k<I.length;k++){const O=I[k],F=I[k+1];if(k===0&&L===0)return r.selectScrollTop?O.href:"";if(O.top<=L&&(!F||F.top>L))return O.href}},B=()=>{const L=MR(r.container);!L||a5(L)?o.value=window:o.value=L};Us(o,"scroll",C);const E=J(()=>{if(!s.value||!a.value||!i.value)return{};const L=l[i.value];if(!L)return{};const I=s.value.getBoundingClientRect(),k=a.value.getBoundingClientRect(),O=L.getBoundingClientRect();if(r.direction==="horizontal"){const F=O.left-I.left;return{left:"".concat(F,"px"),width:"".concat(O.width,"px"),opacity:1}}else{const F=O.top-I.top+(O.height-k.height)/2;return{top:"".concat(F,"px"),opacity:1}}});return rr(()=>{B();const L=decodeURIComponent(window.location.hash);MR(L)?x(L):C()}),Ct(()=>r.container,()=>{B()}),dr(sde,{ns:d,direction:r.direction,currentAnchor:i,addLink:A,removeLink:m,handleClick:S}),e({scrollTo:x}),(L,I)=>(ie(),Ee("div",{ref_key:"anchorRef",ref:s,class:de(b(f))},[L.marker?(ie(),Ee("div",{key:0,ref_key:"markerRef",ref:a,class:de(b(d).e("marker")),style:Xn(b(E))},null,6)):lt("v-if",!0),Be("div",{class:de(b(d).e("list"))},[tt(L.$slots,"default")],2)],2))}});var vje=mn(mje,[["__file","anchor.vue"]]);const yje=hn({title:String,href:String}),_je=Me({name:"ElAnchorLink"}),wje=Me({..._je,props:yje,setup(t){const e=t,n=ge(null),{ns:r,direction:i,currentAnchor:s,addLink:a,removeLink:o,handleClick:l}=qt(sde),u=J(()=>[r.e("link"),r.is("active",s.value===e.href)]),h=d=>{l(d,e.href)};return Ct(()=>e.href,(d,f)=>{Zn(()=>{f&&o(f),d&&a({href:d,el:n.value})})}),rr(()=>{const{href:d}=e;d&&a({href:d,el:n.value})}),Hs(()=>{const{href:d}=e;d&&o(d)}),(d,f)=>(ie(),Ee("div",{class:de(b(r).e("item"))},[Be("a",{ref_key:"linkRef",ref:n,class:de(b(u)),href:d.href,onClick:h},[tt(d.$slots,"default",{},()=>[Mr(cn(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&b(i)==="vertical"?(ie(),Ee("div",{key:0,class:de(b(r).e("list"))},[tt(d.$slots,"sub-link")],2)):lt("v-if",!0)],2))}});var ade=mn(wje,[["__file","anchor-link.vue"]]);const bje=Nr(vje,{AnchorLink:ade}),xje=ho(ade),Eje=hn({direction:{type:ht(String),default:"horizontal"},options:{type:ht(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Sl,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...nu(["ariaLabel"])}),Sje={[zr]:t=>Qn(t)||tr(t)||Js(t),[Qs]:t=>Qn(t)||tr(t)||Js(t)},Cje=Me({name:"ElSegmented"}),Tje=Me({...Cje,props:Eje,emits:Sje,setup(t,{emit:e}){const n=t,r=Jt("segmented"),i=tu(),s=al(),a=Tu(),{formItem:o}=Cu(),{inputId:l,isLabeledByFormItem:u}=SA(n,{formItemContext:o}),h=ge(null),d=XRe(),f=as({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),A=I=>{const k=m(I);e(zr,k),e(Qs,k)},m=I=>qr(I)?I.value:I,g=I=>qr(I)?I.label:I,y=I=>!!(a.value||qr(I)&&I.disabled),_=I=>n.modelValue===m(I),x=I=>n.options.find(k=>m(k)===I),S=I=>[r.e("item"),r.is("selected",_(I)),r.is("disabled",y(I))],C=()=>{if(!h.value)return;const I=h.value.querySelector(".is-selected"),k=h.value.querySelector(".is-selected input");if(!I||!k){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}const O=I.getBoundingClientRect();f.isInit=!0,n.direction==="vertical"?(f.height=O.height,f.translateY=I.offsetTop):(f.width=O.width,f.translateX=I.offsetLeft);try{f.focusVisible=k.matches(":focus-visible")}catch(F){}},M=J(()=>[r.b(),r.m(s.value),r.is("block",n.block)]),B=J(()=>({width:n.direction==="vertical"?"100%":"".concat(f.width,"px"),height:n.direction==="vertical"?"".concat(f.height,"px"):"100%",transform:n.direction==="vertical"?"translateY(".concat(f.translateY,"px)"):"translateX(".concat(f.translateX,"px)"),display:f.isInit?"block":"none"})),E=J(()=>[r.e("item-selected"),r.is("disabled",y(x(n.modelValue))),r.is("focus-visible",f.focusVisible)]),L=J(()=>n.name||i.value);return so(h,C),Ct(d,C),Ct(()=>n.modelValue,()=>{var I;C(),n.validateEvent&&((I=o==null?void 0:o.validate)==null||I.call(o,"change").catch(k=>void 0))},{flush:"post"}),(I,k)=>I.options.length?(ie(),Ee("div",{key:0,id:b(l),ref_key:"segmentedRef",ref:h,class:de(b(M)),role:"radiogroup","aria-label":b(u)?void 0:I.ariaLabel||"segmented","aria-labelledby":b(u)?b(o).labelId:void 0},[Be("div",{class:de([b(r).e("group"),b(r).m(n.direction)])},[Be("div",{style:Xn(b(B)),class:de(b(E))},null,6),(ie(!0),Ee(Wn,null,wi(I.options,(O,F)=>(ie(),Ee("label",{key:F,class:de(S(O))},[Be("input",{class:de(b(r).e("item-input")),type:"radio",name:b(L),disabled:y(O),checked:_(O),onChange:U=>A(O)},null,42,["name","disabled","checked","onChange"]),Be("div",{class:de(b(r).e("item-label"))},[tt(I.$slots,"default",{item:O},()=>[Mr(cn(g(O)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):lt("v-if",!0)}});var Mje=mn(Tje,[["__file","segmented.vue"]]);const Lje=Nr(Mje),Bje=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},Rje=(t,e,n)=>{const{selectionEnd:r}=t;if(r===null)return;const i=t.value,s=eh(e);let a=-1,o;for(let l=r-1;l>=0;--l){const u=i[l];if(u===n||u==="\n"||u==="\r"){a=l;continue}if(s.includes(u)){const h=a===-1?r:a;o={pattern:i.slice(l+1,h),start:l+1,end:h,prefix:u,prefixIndex:l,splitIndex:a,selectionEnd:r};break}}return o},Ije=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,i=e.useSelectionEnd?r:n,s=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const f=document.querySelector("#input-textarea-caret-position-mirror-div");f!=null&&f.parentNode&&f.parentNode.removeChild(f)}const a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);const o=a.style,l=window.getComputedStyle(t),u=t.nodeName==="INPUT";o.whiteSpace=u?"nowrap":"pre-wrap",u||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),s.forEach(f=>{if(u&&f==="lineHeight")if(l.boxSizing==="border-box"){const A=Number.parseInt(l.height),m=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),g=m+Number.parseInt(l.lineHeight);A>g?o.lineHeight="".concat(A-m,"px"):A===g?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[f]=l[f]}),h5()?t.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",a.textContent=t.value.slice(0,Math.max(0,i)),u&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g,""));const h=document.createElement("span");h.textContent=t.value.slice(Math.max(0,i))||".",h.style.position="relative",h.style.left="".concat(-t.scrollLeft,"px"),h.style.top="".concat(-t.scrollTop,"px"),a.appendChild(h);const d={top:h.offsetTop+Number.parseInt(l.borderTopWidth),left:h.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?h.style.backgroundColor="#aaa":document.body.removeChild(a),d.left>=t.clientWidth&&(d.left=t.clientWidth),d},Pje=hn({...n$,options:{type:ht(Array),default:()=>[]},prefix:{type:ht([String,Array]),default:"@",validator:t=>Qn(t)?t.length===1:t.every(e=>Qn(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:ht([Boolean,Function]),default:()=>Bje,validator:t=>t===!1?!0:Kn(t)},placement:{type:ht(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:ht(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ht(Object),default:()=>({})}}),Fje={[zr]:t=>Qn(t),search:(t,e)=>Qn(t)&&Qn(e),select:(t,e)=>Qn(t.value)&&Qn(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Oje=hn({options:{type:ht(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Nje={select:t=>Qn(t.value)},Dje=Me({name:"ElMentionDropdown"}),kje=Me({...Dje,props:Oje,emits:Nje,setup(t,{expose:e,emit:n}){const r=t,i=Jt("mention"),{t:s}=ji(),a=ge(-1),o=ge(),l=ge(),u=ge(),h=(S,C)=>[i.be("dropdown","item"),i.is("hovering",a.value===C),i.is("disabled",S.disabled||r.disabled)],d=S=>{S.disabled||r.disabled||n("select",S)},f=S=>{a.value=S},A=J(()=>r.disabled||r.options.every(S=>S.disabled)),m=J(()=>r.options[a.value]),g=()=>{m.value&&n("select",m.value)},y=S=>{const{options:C}=r;if(C.length===0||A.value)return;S==="next"?(a.value++,a.value===C.length&&(a.value=0)):S==="prev"&&(a.value--,a.value<0&&(a.value=C.length-1));const M=C[a.value];if(M.disabled){y(S);return}Zn(()=>_(M))},_=S=>{var C,M,B,E;const{options:L}=r,I=L.findIndex(O=>O.value===S.value),k=(C=l.value)==null?void 0:C[I];if(k){const O=(B=(M=u.value)==null?void 0:M.querySelector)==null?void 0:B.call(M,".".concat(i.be("dropdown","wrap")));O&&Jz(O,k)}(E=o.value)==null||E.handleScroll()};return Ct(()=>r.options,()=>{A.value||r.options.length===0?a.value=-1:a.value=0},{immediate:!0}),e({hoveringIndex:a,navigateOptions:y,selectHoverOption:g,hoverOption:m}),(S,C)=>(ie(),Ee("div",{ref_key:"dropdownRef",ref:u,class:de(b(i).b("dropdown"))},[S.$slots.header?(ie(),Ee("div",{key:0,class:de(b(i).be("dropdown","header"))},[tt(S.$slots,"header")],2)):lt("v-if",!0),Br(Ce(b(gm),{id:S.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":b(i).be("dropdown","wrap"),"view-class":b(i).be("dropdown","list"),role:"listbox","aria-label":S.ariaLabel,"aria-orientation":"vertical"},{default:De(()=>[(ie(!0),Ee(Wn,null,wi(S.options,(M,B)=>(ie(),Ee("li",{id:"".concat(S.contentId,"-").concat(B),ref_for:!0,ref_key:"optionRefs",ref:l,key:B,class:de(h(M,B)),role:"option","aria-disabled":M.disabled||S.disabled||void 0,"aria-selected":a.value===B,onMousemove:E=>f(B),onClick:mr(E=>d(M),["stop"])},[tt(S.$slots,"label",{item:M,index:B},()=>{var E;return[Be("span",null,cn((E=M.label)!=null?E:M.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Qi,S.options.length>0&&!S.loading]]),S.loading?(ie(),Ee("div",{key:1,class:de(b(i).be("dropdown","loading"))},[tt(S.$slots,"loading",{},()=>[Mr(cn(b(s)("el.mention.loading")),1)])],2)):lt("v-if",!0),S.$slots.footer?(ie(),Ee("div",{key:2,class:de(b(i).be("dropdown","footer"))},[tt(S.$slots,"footer")],2)):lt("v-if",!0)],2))}});var Uje=mn(kje,[["__file","mention-dropdown.vue"]]);const Hje=Me({name:"ElMention",inheritAttrs:!1}),Gje=Me({...Hje,props:Pje,emits:Fje,setup(t,{expose:e,emit:n}){const r=t,i=J(()=>up(r,Object.keys(n$))),s=Jt("mention"),a=Tu(),o=tu(),l=ge(),u=ge(),h=ge(),d=ge(!1),f=ge(),A=ge(),m=J(()=>r.showArrow?r.placement:"".concat(r.placement,"-start")),g=J(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),y=J(()=>{const{filterOption:F,options:U}=r;return!A.value||!F?U:U.filter($=>F(A.value.pattern,$))}),_=J(()=>d.value&&(!!y.value.length||r.loading)),x=J(()=>{var F;return"".concat(o.value,"-").concat((F=h.value)==null?void 0:F.hoveringIndex)}),S=F=>{n("update:modelValue",F),I()},C=F=>{var U,$,K,V;if(!(!("code"in F)||(U=l.value)!=null&&U.isComposing))switch(F.code){case Ln.left:case Ln.right:I();break;case Ln.up:case Ln.down:if(!d.value)return;F.preventDefault(),($=h.value)==null||$.navigateOptions(F.code===Ln.up?"prev":"next");break;case Ln.enter:case Ln.numpadEnter:if(!d.value)return;F.preventDefault(),(K=h.value)!=null&&K.hoverOption?(V=h.value)==null||V.selectHoverOption():d.value=!1;break;case Ln.esc:if(!d.value)return;F.preventDefault(),d.value=!1;break;case Ln.backspace:if(r.whole&&A.value){const{splitIndex:Q,selectionEnd:X,pattern:z,prefixIndex:ne,prefix:he}=A.value,W=L();if(!W)return;const Y=W.value,oe=r.options.find(me=>me.value===z);if((Kn(r.checkIsWhole)?r.checkIsWhole(z,he):oe)&&Q!==-1&&Q+1===X){F.preventDefault();const me=Y.slice(0,ne)+Y.slice(Q+1);n(zr,me);const ce=ne;Zn(()=>{W.selectionStart=ce,W.selectionEnd=ce,O()})}}}},{wrapperRef:M}=Fy(l,{beforeFocus(){return a.value},afterFocus(){I()},beforeBlur(F){var U;return(U=u.value)==null?void 0:U.isFocusInsideContent(F)},afterBlur(){d.value=!1}}),B=()=>{I()},E=F=>{if(!A.value)return;const U=L();if(!U)return;const $=U.value,{split:K}=r,V=$.slice(A.value.end),Q=V.startsWith(K),X="".concat(F.value).concat(Q?"":K),z=$.slice(0,A.value.start)+X+V;n(zr,z),n("select",F,A.value.prefix);const ne=A.value.start+X.length+(Q?1:0);Zn(()=>{U.selectionStart=ne,U.selectionEnd=ne,U.focus(),O()})},L=()=>{var F,U;return r.type==="textarea"?(F=l.value)==null?void 0:F.textarea:(U=l.value)==null?void 0:U.input},I=()=>{setTimeout(()=>{k(),O(),Zn(()=>{var F;return(F=u.value)==null?void 0:F.updatePopper()})},0)},k=()=>{const F=L();if(!F)return;const U=Ije(F),$=F.getBoundingClientRect(),K=l.value.$el.getBoundingClientRect();f.value={position:"absolute",width:0,height:"".concat(U.height,"px"),left:"".concat(U.left+$.left-K.left,"px"),top:"".concat(U.top+$.top-K.top,"px")}},O=()=>{const F=L();if(document.activeElement!==F){d.value=!1;return}const{prefix:U,split:$}=r;if(A.value=Rje(F,U,$),A.value&&A.value.splitIndex===-1){d.value=!0,n("search",A.value.pattern,A.value.prefix);return}d.value=!1};return e({input:l,tooltip:u,dropdownVisible:_}),(F,U)=>(ie(),Ee("div",{ref_key:"wrapperRef",ref:M,class:de([b(s).b(),b(s).is("disabled",b(a))])},[Ce(b(sh),hi(hi(b(i),F.$attrs),{ref_key:"elInputRef",ref:l,"model-value":F.modelValue,disabled:b(a),role:b(_)?"combobox":void 0,"aria-activedescendant":b(_)?b(x)||"":void 0,"aria-controls":b(_)?b(o):void 0,"aria-expanded":b(_)||void 0,"aria-label":F.ariaLabel,"aria-autocomplete":b(_)?"none":void 0,"aria-haspopup":b(_)?"listbox":void 0,onInput:S,onKeydown:C,onMousedown:B}),Lf({_:2},[wi(F.$slots,($,K)=>({name:K,fn:De(V=>[tt(F.$slots,K,gf(sm(V)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),Ce(b(Eu),{ref_key:"tooltipRef",ref:u,visible:b(_),"popper-class":[b(s).e("popper"),F.popperClass],"popper-options":F.popperOptions,placement:b(m),"fallback-placements":b(g),effect:"light",pure:"",offset:F.offset,"show-arrow":F.showArrow},{default:De(()=>[Be("div",{style:Xn(f.value)},null,4)]),content:De(()=>{var $;return[Ce(Uje,{ref_key:"dropdownRef",ref:h,options:b(y),disabled:b(a),loading:F.loading,"content-id":b(o),"aria-label":F.ariaLabel,onSelect:E,onClick:mr(($=l.value)==null?void 0:$.focus,["stop"])},Lf({_:2},[wi(F.$slots,(K,V)=>({name:V,fn:De(Q=>[tt(F.$slots,V,gf(sm(Q)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Vje=mn(Gje,[["__file","mention.vue"]]);const zje=Nr(Vje);var $je=[IIe,zIe,DOe,S7e,zOe,XOe,ice,lNe,cNe,Sc,hce,r5e,l5e,S5e,C5e,CDe,Rce,IDe,bA,H5e,bce,DDe,JDe,eke,p5,Cke,Lke,Gke,Vke,zke,$ke,Qke,g4e,C4e,T4e,U4e,rue,q4e,k3e,U3e,H3e,due,U6e,H6e,Vn,Y6e,pue,sh,gue,d8e,v8e,k8e,U8e,H8e,G8e,j8e,DHe,zHe,ZHe,ece,Sue,Lce,J5e,Z5e,lGe,fGe,_Ge,gm,W1,iO,mHe,ZGe,oVe,lVe,TVe,IVe,kue,zVe,ZVe,JVe,sze,p$e,g$e,E7e,H7e,G7e,eS,W7e,NUe,Z7e,r9e,i9e,Eu,dQe,SQe,gO,$Qe,oWe,BWe,HWe,hje,dje,bje,xje,Lje,zje];const tA="ElInfiniteScroll",Qje=50,Wje=200,jje=0,Kje={delay:{type:Number,default:Wje},distance:{type:Number,default:jje},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},A7=(t,e)=>Object.entries(Kje).reduce((n,[r,i])=>{var s,a;const{type:o,default:l}=i,u=t.getAttribute("infinite-scroll-".concat(r));let h=(a=(s=e[u])!=null?s:u)!=null?a:l;return h=h==="false"?!1:h,h=o(h),n[r]=Number.isNaN(h)?l:h,n},{}),ode=t=>{const{observer:e}=t[tA];e&&(e.disconnect(),delete t[tA].observer)},qje=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:s,lastScrollTop:a}=t[tA],{disabled:o,distance:l}=A7(t,i),{clientHeight:u,scrollHeight:h,scrollTop:d}=r,f=d-a;if(t[tA].lastScrollTop=d,s||o||f<0)return;let A=!1;if(n===t)A=h-(u+d)<=l;else{const{clientTop:m,scrollHeight:g}=t,y=z8(t,r);A=d+u>=y+m+g-l}A&&e.call(i)};function qU(t,e){const{containerEl:n,instance:r}=t[tA],{disabled:i}=A7(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):ode(t))}const Xje={async mounted(t,e){const{instance:n,value:r}=e;Kn(r)||Gl(tA,"'v-infinite-scroll' binding value must be a function"),await Zn();const{delay:i,immediate:s}=A7(t,n),a=Zz(t,!0),o=a===window?document.documentElement:a,l=b1(qje.bind(null,t,r),i);if(a){if(t[tA]={instance:n,container:a,containerEl:o,delay:i,cb:r,onScroll:l,lastScrollTop:o.scrollTop},s){const u=new MutationObserver(b1(qU.bind(null,t,r),Qje));t[tA].observer=u,u.observe(t,{childList:!0,subtree:!0}),qU(t,r)}a.addEventListener("scroll",l)}},unmounted(t){if(!t[tA])return;const{container:e,onScroll:n}=t[tA];e==null||e.removeEventListener("scroll",n),ode(t)},async updated(t){if(!t[tA])await Zn();else{const{containerEl:e,cb:n,observer:r}=t[tA];e.clientHeight&&r&&qU(t,n)}}},IH=Xje;IH.install=t=>{t.directive("InfiniteScroll",IH)};const Yje=IH;function Zje(t){let e;const n=ge(!1),r=as({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(f){r.text=f}function s(){const f=r.parent,A=d.ns;if(!f.vLoadingAddClassList){let m=f.getAttribute("loading-number");m=Number.parseInt(m)-1,m?f.setAttribute("loading-number",m.toString()):(lh(f,A.bm("parent","relative")),f.removeAttribute("loading-number")),lh(f,A.bm("parent","hidden"))}a(),h.unmount()}function a(){var f,A;(A=(f=d.$el)==null?void 0:f.parentNode)==null||A.removeChild(d.$el)}function o(){var f;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(l,400),r.visible=!1,(f=t.closed)==null||f.call(t))}function l(){if(!n.value)return;const f=r.parent;n.value=!1,f.vLoadingAddClassList=void 0,s()}const h=Zae(Me({name:"ElLoading",setup(f,{expose:A}){const{ns:m,zIndex:g}=c5("loading");return A({ns:m,zIndex:g}),()=>{const y=r.spinner||r.svg,_=lr("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[lr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),x=r.text?lr("p",{class:m.b("text")},[r.text]):void 0;return lr(Tc,{name:m.b("fade"),onAfterLeave:l},{default:De(()=>[Br(Ce("div",{style:{backgroundColor:r.background||""},class:[m.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[lr("div",{class:m.b("spinner")},[_,x])]),[[Qi,r.visible]])])})}}})),d=h.mount(document.createElement("div"));return{...Yo(r),setText:i,removeElLoadingChild:a,close:o,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let LR;const PH=function(t={}){if(!Wi)return;const e=Jje(t);if(e.fullscreen&&LR)return LR;const n=Zje({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(LR=void 0)}});eKe(e,e.parent,n),fY(e,e.parent,n),e.parent.vLoadingAddClassList=()=>fY(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r="".concat(Number.parseInt(r)+1):r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),Zn(()=>n.visible.value=e.visible),e.fullscreen&&(LR=n),n},Jje=t=>{var e,n,r,i;let s;return Qn(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,beforeClose:t.beforeClose,closed:t.closed,target:s}},eKe=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(t.fullscreen)n.originalPosition.value=cv(document.body,"position"),n.originalOverflow.value=cv(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=cv(document.body,"position"),await Zn();for(const s of["top","left"]){const a=s==="top"?"scrollTop":"scrollLeft";i[s]="".concat(t.target.getBoundingClientRect()[s]+document.body[a]+document.documentElement[a]-Number.parseInt(cv(document.body,"margin-".concat(s)),10),"px")}for(const s of["height","width"])i[s]="".concat(t.target.getBoundingClientRect()[s],"px")}else n.originalPosition.value=cv(e,"position");for(const[s,a]of Object.entries(i))n.$el.style[s]=a},fY=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?lh(e,r.bm("parent","relative")):oA(e,r.bm("parent","relative")),t.fullscreen&&t.lock?oA(e,r.bm("parent","hidden")):lh(e,r.bm("parent","hidden"))},iF=Symbol("ElLoading"),AY=(t,e)=>{var n,r,i,s;const a=e.instance,o=f=>qr(e.value)?e.value[f]:void 0,l=f=>{const A=Qn(f)&&(a==null?void 0:a[f])||f;return A&&ge(A)},u=f=>l(o(f)||t.getAttribute("element-loading-".concat(Dv(f)))),h=(n=o("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:h,target:(r=o("target"))!=null?r:h?void 0:t,body:(i=o("body"))!=null?i:e.modifiers.body,lock:(s=o("lock"))!=null?s:e.modifiers.lock};t[iF]={options:d,instance:PH(d)}},tKe=(t,e)=>{for(const n of Object.keys(e))ga(e[n])&&(e[n].value=t[n])},pY={mounted(t,e){e.value&&AY(t,e)},updated(t,e){const n=t[iF];e.oldValue!==e.value&&(e.value&&!e.oldValue?AY(t,e):e.value&&e.oldValue?qr(e.value)&&tKe(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[iF])==null||e.instance.close(),t[iF]=null}},nKe={install(t){t.directive("loading",pY),t.config.globalProperties.$loading=PH},directive:pY,service:PH},lde=["success","info","warning","error"],ju=ao({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Wi?document.body:void 0}),rKe=hn({customClass:{type:String,default:ju.customClass},center:{type:Boolean,default:ju.center},dangerouslyUseHTMLString:{type:Boolean,default:ju.dangerouslyUseHTMLString},duration:{type:Number,default:ju.duration},icon:{type:Ws,default:ju.icon},id:{type:String,default:ju.id},message:{type:ht([String,Object,Function]),default:ju.message},onClose:{type:ht(Function),default:ju.onClose},showClose:{type:Boolean,default:ju.showClose},type:{type:String,values:lde,default:ju.type},plain:{type:Boolean,default:ju.plain},offset:{type:Number,default:ju.offset},zIndex:{type:Number,default:ju.zIndex},grouping:{type:Boolean,default:ju.grouping},repeatNum:{type:Number,default:ju.repeatNum}}),iKe={destroy:()=>!0},hp=mz([]),sKe=t=>{const e=hp.findIndex(i=>i.id===t),n=hp[e];let r;return e>0&&(r=hp[e-1]),{current:n,prev:r}},aKe=t=>{const{prev:e}=sKe(t);return e?e.vm.exposed.bottom.value:0},oKe=(t,e)=>hp.findIndex(r=>r.id===t)>0?16:e,lKe=Me({name:"ElMessage"}),cKe=Me({...lKe,props:rKe,emits:iKe,setup(t,{expose:e}){const n=t,{Close:r}=t$,{ns:i,zIndex:s}=c5("message"),{currentZIndex:a,nextZIndex:o}=s,l=ge(),u=ge(!1),h=ge(0);let d;const f=J(()=>n.type?n.type==="error"?"danger":n.type:"info"),A=J(()=>{const E=n.type;return{[i.bm("icon",E)]:E&&vy[E]}}),m=J(()=>n.icon||vy[n.type]||""),g=J(()=>aKe(n.id)),y=J(()=>oKe(n.id,n.offset)+g.value),_=J(()=>h.value+y.value),x=J(()=>({top:"".concat(y.value,"px"),zIndex:a.value}));function S(){n.duration!==0&&({stop:d}=$1(()=>{M()},n.duration))}function C(){d==null||d()}function M(){u.value=!1}function B({code:E}){E===Ln.esc&&M()}return rr(()=>{S(),o(),u.value=!0}),Ct(()=>n.repeatNum,()=>{C(),S()}),Us(document,"keydown",B),so(l,()=>{h.value=l.value.getBoundingClientRect().height}),e({visible:u,bottom:_,close:M}),(E,L)=>(ie(),St(Tc,{name:b(i).b("fade"),onBeforeLeave:E.onClose,onAfterLeave:I=>E.$emit("destroy"),persisted:""},{default:De(()=>[Br(Be("div",{id:E.id,ref_key:"messageRef",ref:l,class:de([b(i).b(),{[b(i).m(E.type)]:E.type},b(i).is("center",E.center),b(i).is("closable",E.showClose),b(i).is("plain",E.plain),E.customClass]),style:Xn(b(x)),role:"alert",onMouseenter:C,onMouseleave:S},[E.repeatNum>1?(ie(),St(b(ice),{key:0,value:E.repeatNum,type:b(f),class:de(b(i).e("badge"))},null,8,["value","type","class"])):lt("v-if",!0),b(m)?(ie(),St(b(Vn),{key:1,class:de([b(i).e("icon"),b(A)])},{default:De(()=>[(ie(),St(li(b(m))))]),_:1},8,["class"])):lt("v-if",!0),tt(E.$slots,"default",{},()=>[E.dangerouslyUseHTMLString?(ie(),Ee(Wn,{key:1},[lt(" Caution here, message could've been compromised, never use user's input as message "),Be("p",{class:de(b(i).e("content")),innerHTML:E.message},null,10,["innerHTML"])],2112)):(ie(),Ee("p",{key:0,class:de(b(i).e("content"))},cn(E.message),3))]),E.showClose?(ie(),St(b(Vn),{key:2,class:de(b(i).e("closeBtn")),onClick:mr(M,["stop"])},{default:De(()=>[Ce(b(r))]),_:1},8,["class","onClick"])):lt("v-if",!0)],46,["id"]),[[Qi,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var uKe=mn(cKe,[["__file","message.vue"]]);let hKe=1;const cde=t=>{const e=!t||Qn(t)||ka(t)||Kn(t)?{message:t}:t,n={...ju,...e};if(!n.appendTo)n.appendTo=document.body;else if(Qn(n.appendTo)){let r=document.querySelector(n.appendTo);zh(r)||(r=document.body),n.appendTo=r}return Js(np.grouping)&&!n.grouping&&(n.grouping=np.grouping),tr(np.duration)&&n.duration===3e3&&(n.duration=np.duration),tr(np.offset)&&n.offset===16&&(n.offset=np.offset),Js(np.showClose)&&!n.showClose&&(n.showClose=np.showClose),n},dKe=t=>{const e=hp.indexOf(t);if(e===-1)return;hp.splice(e,1);const{handler:n}=t;n.close()},fKe=({appendTo:t,...e},n)=>{const r="message_".concat(hKe++),i=e.onClose,s=document.createElement("div"),a={...e,id:r,onClose:()=>{i==null||i(),dKe(h)},onDestroy:()=>{fy(null,s)}},o=Ce(uKe,a,Kn(a.message)||ka(a.message)?{default:Kn(a.message)?a.message:()=>a.message}:null);o.appContext=n||oS._context,fy(o,s),t.appendChild(s.firstElementChild);const l=o.component,h={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:o.component.props};return h},oS=(t={},e)=>{if(!Wi)return{close:()=>{}};const n=cde(t);if(n.grouping&&hp.length){const i=hp.find(({vnode:s})=>{var a;return((a=s.props)==null?void 0:a.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}if(tr(np.max)&&hp.length>=np.max)return{close:()=>{}};const r=fKe(n,e);return hp.push(r),r.handler};lde.forEach(t=>{oS[t]=(e={},n)=>{const r=cde(e);return oS({...r,type:t},n)}});function AKe(t){for(const e of hp)(!t||t===e.props.type)&&e.handler.close()}oS.closeAll=AKe;oS._context=null;const pKe=Lle(oS,"$message"),FH="_trap-focus-children",c1=[],gY=t=>{if(c1.length===0)return;const e=c1[c1.length-1][FH];if(e.length>0&&t.code===Ln.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],i=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),i&&!n&&(t.preventDefault(),e[0].focus())}},gKe={beforeMount(t){t[FH]=_q(t),c1.push(t),c1.length<=1&&document.addEventListener("keydown",gY)},updated(t){Zn(()=>{t[FH]=_q(t)})},unmounted(){c1.shift(),c1.length===0&&document.removeEventListener("keydown",gY)}},mKe=Me({name:"ElMessageBox",directives:{TrapFocus:gKe},components:{ElButton:Sc,ElFocusTrap:VS,ElInput:sh,ElOverlay:B$,ElIcon:Vn,...t$},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Hue},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:i,size:s}=c5("message-box",J(()=>t.buttonSize)),{t:a}=n,{nextZIndex:o}=r,l=ge(!1),u=as({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ry(am),cancelButtonLoadingIcon:ry(am),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),h=J(()=>{const V=u.type;return{[i.bm("icon",V)]:V&&vy[V]}}),d=tu(),f=tu(),A=J(()=>{const V=u.type;return u.icon||V&&vy[V]||""}),m=J(()=>!!u.message),g=ge(),y=ge(),_=ge(),x=ge(),S=ge(),C=J(()=>u.confirmButtonClass);Ct(()=>u.inputValue,async V=>{await Zn(),t.boxType==="prompt"&&V!==null&&F()},{immediate:!0}),Ct(()=>l.value,V=>{var Q,X;V&&(t.boxType!=="prompt"&&(u.autofocus?_.value=(X=(Q=S.value)==null?void 0:Q.$el)!=null?X:g.value:_.value=g.value),u.zIndex=o()),t.boxType==="prompt"&&(V?Zn().then(()=>{var z;x.value&&x.value.$el&&(u.autofocus?_.value=(z=U())!=null?z:g.value:_.value=g.value)}):(u.editorErrorMessage="",u.validateError=!1))});const M=J(()=>t.draggable),B=J(()=>t.overflow);Jce(g,y,M,B),rr(async()=>{await Zn(),t.closeOnHashChange&&window.addEventListener("hashchange",E)}),Hs(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",E)});function E(){l.value&&(l.value=!1,Zn(()=>{u.action&&e("action",u.action)}))}const L=()=>{t.closeOnClickModal&&O(u.distinguishCancelAndClose?"close":"cancel")},I=L$(L),k=V=>{if(u.inputType!=="textarea")return V.preventDefault(),O("confirm")},O=V=>{var Q;t.boxType==="prompt"&&V==="confirm"&&!F()||(u.action=V,u.beforeClose?(Q=u.beforeClose)==null||Q.call(u,V,u,E):E())},F=()=>{if(t.boxType==="prompt"){const V=u.inputPattern;if(V&&!V.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;const Q=u.inputValidator;if(Kn(Q)){const X=Q(u.inputValue);if(X===!1)return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;if(Qn(X))return u.editorErrorMessage=X,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},U=()=>{var V,Q;const X=(V=x.value)==null?void 0:V.$refs;return(Q=X==null?void 0:X.input)!=null?Q:X==null?void 0:X.textarea},$=()=>{O("close")},K=()=>{t.closeOnPressEscape&&$()};return t.lockScroll&&R$(l),{...Yo(u),ns:i,overlayEvent:I,visible:l,hasMessage:m,typeClass:h,contentId:d,inputId:f,btnSize:s,iconComponent:A,confirmButtonClasses:C,rootRef:g,focusStartRef:_,headerRef:y,inputRef:x,confirmRef:S,doClose:E,handleClose:$,onCloseRequested:K,handleWrapperClick:L,handleInputEnter:k,handleAction:O,t:a}}});function vKe(t,e,n,r,i,s){const a=Nn("el-icon"),o=Nn("close"),l=Nn("el-input"),u=Nn("el-button"),h=Nn("el-focus-trap"),d=Nn("el-overlay");return ie(),St(Tc,{name:"fade-in-linear",onAfterLeave:f=>t.$emit("vanish"),persisted:""},{default:De(()=>[Br(Ce(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:De(()=>[Be("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:de("".concat(t.ns.namespace.value,"-overlay-message-box")),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[Ce(h,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:De(()=>[Be("div",{ref:"rootRef",class:de([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:Xn(t.customStyle),tabindex:"-1",onClick:mr(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(ie(),Ee("div",{key:0,ref:"headerRef",class:de([t.ns.e("header"),{"show-close":t.showClose}])},[Be("div",{class:de(t.ns.e("title"))},[t.iconComponent&&t.center?(ie(),St(a,{key:0,class:de([t.ns.e("status"),t.typeClass])},{default:De(()=>[(ie(),St(li(t.iconComponent)))]),_:1},8,["class"])):lt("v-if",!0),Be("span",null,cn(t.title),1)],2),t.showClose?(ie(),Ee("button",{key:0,type:"button",class:de(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:$s(mr(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[Ce(a,{class:de(t.ns.e("close"))},{default:De(()=>[Ce(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):lt("v-if",!0)],2)):lt("v-if",!0),Be("div",{id:t.contentId,class:de(t.ns.e("content"))},[Be("div",{class:de(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(ie(),St(a,{key:0,class:de([t.ns.e("status"),t.typeClass])},{default:De(()=>[(ie(),St(li(t.iconComponent)))]),_:1},8,["class"])):lt("v-if",!0),t.hasMessage?(ie(),Ee("div",{key:1,class:de(t.ns.e("message"))},[tt(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(ie(),St(li(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(ie(),St(li(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:De(()=>[Mr(cn(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):lt("v-if",!0)],2),Br(Be("div",{class:de(t.ns.e("input"))},[Ce(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":f=>t.inputValue=f,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:de({invalid:t.validateError}),onKeydown:$s(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Be("div",{class:de(t.ns.e("errormsg")),style:Xn({visibility:t.editorErrorMessage?"visible":"hidden"})},cn(t.editorErrorMessage),7)],2),[[Qi,t.showInput]])],10,["id"]),Be("div",{class:de(t.ns.e("btns"))},[t.showCancelButton?(ie(),St(u,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:de([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:f=>t.handleAction("cancel"),onKeydown:$s(mr(f=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:De(()=>[Mr(cn(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):lt("v-if",!0),Br(Ce(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:de([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:f=>t.handleAction("confirm"),onKeydown:$s(mr(f=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:De(()=>[Mr(cn(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Qi,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Qi,t.visible]])]),_:3},8,["onAfterLeave"])}var yKe=mn(mKe,[["render",vKe],["__file","index.vue"]]);const PM=new Map,_Ke=t=>{let e=document.body;return t.appendTo&&(Qn(t.appendTo)&&(e=document.querySelector(t.appendTo)),zh(t.appendTo)&&(e=t.appendTo),zh(e)||(e=document.body)),e},wKe=(t,e,n=null)=>{const r=Ce(yKe,t,Kn(t.message)||ka(t.message)?{default:Kn(t.message)?t.message:()=>t.message}:null);return r.appContext=n,fy(r,e),_Ke(t).appendChild(e.firstElementChild),r.component},bKe=()=>document.createElement("div"),xKe=(t,e)=>{const n=bKe();t.onVanish=()=>{fy(null,n),PM.delete(i)},t.onAction=s=>{const a=PM.get(i);let o;t.showInput?o={value:i.inputValue,action:s}:o=s,t.callback?t.callback(o,r.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(o)};const r=wKe(t,n,e),i=r.proxy;for(const s in t)us(t,s)&&!us(i.$props,s)&&(i[s]=t[s]);return i.visible=!0,i};function jS(t,e=null){if(!Wi)return Promise.reject();let n;return Qn(t)||ka(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const s=xKe(t,e!=null?e:jS._context);PM.set(s,{options:t,callback:n,resolve:r,reject:i})})}const EKe=["alert","confirm","prompt"],SKe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};EKe.forEach(t=>{jS[t]=CKe(t)});function CKe(t){return(e,n,r,i)=>{let s="";return qr(n)?(r=n,s=""):ps(n)?s="":s=n,jS(Object.assign({title:s,message:e,type:"",...SKe[t]},r,{boxType:t}),i)}}jS.close=()=>{PM.forEach((t,e)=>{e.doClose()}),PM.clear()};jS._context=null;const B0=jS;B0.install=t=>{B0._context=t._context,t.config.globalProperties.$msgbox=B0,t.config.globalProperties.$messageBox=B0,t.config.globalProperties.$alert=B0.alert,t.config.globalProperties.$confirm=B0.confirm,t.config.globalProperties.$prompt=B0.prompt};const TKe=B0,ude=["success","info","warning","error"],MKe=hn({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Ws},id:{type:String,default:""},message:{type:ht([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:ht(Function),default:()=>{}},onClose:{type:ht(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...ude,""],default:""},zIndex:Number}),LKe={destroy:()=>!0},BKe=Me({name:"ElNotification"}),RKe=Me({...BKe,props:MKe,emits:LKe,setup(t,{expose:e}){const n=t,{ns:r,zIndex:i}=c5("notification"),{nextZIndex:s,currentZIndex:a}=i,{Close:o}=e$,l=ge(!1);let u;const h=J(()=>{const S=n.type;return S&&vy[n.type]?r.m(S):""}),d=J(()=>n.type&&vy[n.type]||n.icon),f=J(()=>n.position.endsWith("right")?"right":"left"),A=J(()=>n.position.startsWith("top")?"top":"bottom"),m=J(()=>{var S;return{[A.value]:"".concat(n.offset,"px"),zIndex:(S=n.zIndex)!=null?S:a.value}});function g(){n.duration>0&&({stop:u}=$1(()=>{l.value&&_()},n.duration))}function y(){u==null||u()}function _(){l.value=!1}function x({code:S}){S===Ln.delete||S===Ln.backspace?y():S===Ln.esc?l.value&&_():g()}return rr(()=>{g(),s(),l.value=!0}),Us(document,"keydown",x),e({visible:l,close:_}),(S,C)=>(ie(),St(Tc,{name:b(r).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:M=>S.$emit("destroy"),persisted:""},{default:De(()=>[Br(Be("div",{id:S.id,class:de([b(r).b(),S.customClass,b(f)]),style:Xn(b(m)),role:"alert",onMouseenter:y,onMouseleave:g,onClick:S.onClick},[b(d)?(ie(),St(b(Vn),{key:0,class:de([b(r).e("icon"),b(h)])},{default:De(()=>[(ie(),St(li(b(d))))]),_:1},8,["class"])):lt("v-if",!0),Be("div",{class:de(b(r).e("group"))},[Be("h2",{class:de(b(r).e("title")),textContent:cn(S.title)},null,10,["textContent"]),Br(Be("div",{class:de(b(r).e("content")),style:Xn(S.title?void 0:{margin:0})},[tt(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(ie(),Ee(Wn,{key:1},[lt(" Caution here, message could've been compromised, never use user's input as message "),Be("p",{innerHTML:S.message},null,8,["innerHTML"])],2112)):(ie(),Ee("p",{key:0},cn(S.message),1))])],6),[[Qi,S.message]]),S.showClose?(ie(),St(b(Vn),{key:0,class:de(b(r).e("closeBtn")),onClick:mr(_,["stop"])},{default:De(()=>[Ce(b(o))]),_:1},8,["class","onClick"])):lt("v-if",!0)],2)],46,["id","onClick"]),[[Qi,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var IKe=mn(RKe,[["__file","notification.vue"]]);const mO={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},OH=16;let PKe=1;const lS=function(t={},e){if(!Wi)return{close:()=>{}};(Qn(t)||ka(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;mO[n].forEach(({vm:h})=>{var d;r+=(((d=h.el)==null?void 0:d.offsetHeight)||0)+OH}),r+=OH;const i="notification_".concat(PKe++),s=t.onClose,a={...t,offset:r,id:i,onClose:()=>{FKe(i,n,s)}};let o=document.body;zh(t.appendTo)?o=t.appendTo:Qn(t.appendTo)&&(o=document.querySelector(t.appendTo)),zh(o)||(o=document.body);const l=document.createElement("div"),u=Ce(IKe,a,Kn(a.message)?a.message:ka(a.message)?()=>a.message:null);return u.appContext=ps(e)?lS._context:e,u.props.onDestroy=()=>{fy(null,l)},fy(u,l),mO[n].push({vm:u}),o.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};ude.forEach(t=>{lS[t]=(e={},n)=>((Qn(e)||ka(e))&&(e={message:e}),lS({...e,type:t},n))});function FKe(t,e,n){const r=mO[e],i=r.findIndex(({vm:u})=>{var h;return((h=u.component)==null?void 0:h.props.id)===t});if(i===-1)return;const{vm:s}=r[i];if(!s)return;n==null||n(s);const a=s.el.offsetHeight,o=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let u=i;u<l;u++){const{el:h,component:d}=r[u].vm,f=Number.parseInt(h.style[o],10)-a-OH;d.props.offset=f}}function OKe(){for(const t of Object.values(mO))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}lS.closeAll=OKe;lS._context=null;const NKe=Lle(lS,"$notify");var DKe=[Yje,nKe,pKe,TKe,NKe,Eue],kKe=bIe([...$je,...DKe]);function hde(t,e){return function(){return t.apply(e,arguments)}}const{toString:UKe}=Object.prototype,{getPrototypeOf:p7}=Object,T5=(t=>e=>{const n=UKe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Op=t=>(t=t.toLowerCase(),e=>T5(e)===t),M5=t=>e=>typeof e===t,{isArray:KS}=Array,FM=M5("undefined");function HKe(t){return t!==null&&!FM(t)&&t.constructor!==null&&!FM(t.constructor)&&Ef(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dde=Op("ArrayBuffer");function GKe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dde(t.buffer),e}const VKe=M5("string"),Ef=M5("function"),fde=M5("number"),L5=t=>t!==null&&typeof t=="object",zKe=t=>t===!0||t===!1,sF=t=>{if(T5(t)!=="object")return!1;const e=p7(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$Ke=Op("Date"),QKe=Op("File"),WKe=Op("Blob"),jKe=Op("FileList"),KKe=t=>L5(t)&&Ef(t.pipe),qKe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ef(t.append)&&((e=T5(t))==="formdata"||e==="object"&&Ef(t.toString)&&t.toString()==="[object FormData]"))},XKe=Op("URLSearchParams"),[YKe,ZKe,JKe,eqe]=["ReadableStream","Request","Response","Headers"].map(Op),tqe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function RL(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),KS(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function Ade(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const u1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pde=t=>!FM(t)&&t!==u1;function NH(){const{caseless:t}=pde(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ade(e,i)||i;sF(e[s])&&sF(r)?e[s]=NH(e[s],r):sF(r)?e[s]=NH({},r):KS(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&RL(arguments[r],n);return e}const nqe=(t,e,n,{allOwnKeys:r}={})=>(RL(e,(i,s)=>{n&&Ef(i)?t[s]=hde(i,n):t[s]=i},{allOwnKeys:r}),t),rqe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iqe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sqe=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&p7(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aqe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oqe=t=>{if(!t)return null;if(KS(t))return t;let e=t.length;if(!fde(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lqe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p7(Uint8Array)),cqe=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uqe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},hqe=Op("HTMLFormElement"),dqe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),mY=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fqe=Op("RegExp"),gde=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};RL(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},Aqe=t=>{gde(t,(e,n)=>{if(Ef(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ef(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pqe=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return KS(t)?r(t):r(String(t).split(e)),n},gqe=()=>{},mqe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,XU="abcdefghijklmnopqrstuvwxyz",vY="0123456789",mde={DIGIT:vY,ALPHA:XU,ALPHA_DIGIT:XU+XU.toUpperCase()+vY},vqe=(t=16,e=mde.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function yqe(t){return!!(t&&Ef(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _qe=t=>{const e=new Array(10),n=(r,i)=>{if(L5(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=KS(r)?[]:{};return RL(r,(a,o)=>{const l=n(a,i+1);!FM(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},wqe=Op("AsyncFunction"),bqe=t=>t&&(L5(t)||Ef(t))&&Ef(t.then)&&Ef(t.catch),vde=((t,e)=>t?setImmediate:e?((n,r)=>(u1.addEventListener("message",({source:i,data:s})=>{i===u1&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),u1.postMessage(n,"*")}))("axios@".concat(Math.random()),[]):n=>setTimeout(n))(typeof setImmediate=="function",Ef(u1.postMessage)),xqe=typeof queueMicrotask<"u"?queueMicrotask.bind(u1):typeof process<"u"&&process.nextTick||vde,Mn={isArray:KS,isArrayBuffer:dde,isBuffer:HKe,isFormData:qKe,isArrayBufferView:GKe,isString:VKe,isNumber:fde,isBoolean:zKe,isObject:L5,isPlainObject:sF,isReadableStream:YKe,isRequest:ZKe,isResponse:JKe,isHeaders:eqe,isUndefined:FM,isDate:$Ke,isFile:QKe,isBlob:WKe,isRegExp:fqe,isFunction:Ef,isStream:KKe,isURLSearchParams:XKe,isTypedArray:lqe,isFileList:jKe,forEach:RL,merge:NH,extend:nqe,trim:tqe,stripBOM:rqe,inherits:iqe,toFlatObject:sqe,kindOf:T5,kindOfTest:Op,endsWith:aqe,toArray:oqe,forEachEntry:cqe,matchAll:uqe,isHTMLForm:hqe,hasOwnProperty:mY,hasOwnProp:mY,reduceDescriptors:gde,freezeMethods:Aqe,toObjectSet:pqe,toCamelCase:dqe,noop:gqe,toFiniteNumber:mqe,findKey:Ade,global:u1,isContextDefined:pde,ALPHABET:mde,generateString:vqe,isSpecCompliantForm:yqe,toJSONObject:_qe,isAsyncFn:wqe,isThenable:bqe,setImmediate:vde,asap:xqe};function Ms(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Mn.inherits(Ms,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mn.toJSONObject(this.config),code:this.code,status:this.status}}});const yde=Ms.prototype,_de={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_de[t]={value:t}});Object.defineProperties(Ms,_de);Object.defineProperty(yde,"isAxiosError",{value:!0});Ms.from=(t,e,n,r,i,s)=>{const a=Object.create(yde);return Mn.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ms.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const Eqe=null;function DH(t){return Mn.isPlainObject(t)||Mn.isArray(t)}function wde(t){return Mn.endsWith(t,"[]")?t.slice(0,-2):t}function yY(t,e,n){return t?t.concat(e).map(function(i,s){return i=wde(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Sqe(t){return Mn.isArray(t)&&!t.some(DH)}const Cqe=Mn.toFlatObject(Mn,{},null,function(e){return/^is[A-Z]/.test(e)});function B5(t,e,n){if(!Mn.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Mn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Mn.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Mn.isSpecCompliantForm(e);if(!Mn.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(Mn.isDate(m))return m.toISOString();if(!l&&Mn.isBlob(m))throw new Ms("Blob is not supported. Use a Buffer instead.");return Mn.isArrayBuffer(m)||Mn.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function h(m,g,y){let _=m;if(m&&!y&&typeof m=="object"){if(Mn.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(Mn.isArray(m)&&Sqe(m)||(Mn.isFileList(m)||Mn.endsWith(g,"[]"))&&(_=Mn.toArray(m)))return g=wde(g),_.forEach(function(S,C){!(Mn.isUndefined(S)||S===null)&&e.append(a===!0?yY([g],C,s):a===null?g:g+"[]",u(S))}),!1}return DH(m)?!0:(e.append(yY(y,g,s),u(m)),!1)}const d=[],f=Object.assign(Cqe,{defaultVisitor:h,convertValue:u,isVisitable:DH});function A(m,g){if(!Mn.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),Mn.forEach(m,function(_,x){(!(Mn.isUndefined(_)||_===null)&&i.call(e,_,Mn.isString(x)?x.trim():x,g,f))===!0&&A(_,g?g.concat(x):[x])}),d.pop()}}if(!Mn.isObject(t))throw new TypeError("data must be an object");return A(t),e}function _Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function g7(t,e){this._pairs=[],t&&B5(t,this,e)}const bde=g7.prototype;bde.append=function(e,n){this._pairs.push([e,n])};bde.toString=function(e){const n=e?function(r){return e.call(this,r,_Y)}:_Y;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Tqe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xde(t,e,n){if(!e)return t;const r=n&&n.encode||Tqe;Mn.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Mn.isURLSearchParams(e)?e.toString():new g7(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class wY{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Mn.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ede={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mqe=typeof URLSearchParams<"u"?URLSearchParams:g7,Lqe=typeof FormData<"u"?FormData:null,Bqe=typeof Blob<"u"?Blob:null,Rqe={isBrowser:!0,classes:{URLSearchParams:Mqe,FormData:Lqe,Blob:Bqe},protocols:["http","https","file","blob","url","data"]},m7=typeof window<"u"&&typeof document<"u",kH=typeof navigator=="object"&&navigator||void 0,Iqe=m7&&(!kH||["ReactNative","NativeScript","NS"].indexOf(kH.product)<0),Pqe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fqe=m7&&window.location.href||"http://localhost",Oqe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m7,hasStandardBrowserEnv:Iqe,hasStandardBrowserWebWorkerEnv:Pqe,navigator:kH,origin:Fqe},Symbol.toStringTag,{value:"Module"})),nh={...Oqe,...Rqe};function Nqe(t,e){return B5(t,new nh.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return nh.isNode&&Mn.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Dqe(t){return Mn.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kqe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Sde(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Mn.isArray(i)?i.length:a,l?(Mn.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Mn.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Mn.isArray(i[a])&&(i[a]=kqe(i[a])),!o)}if(Mn.isFormData(t)&&Mn.isFunction(t.entries)){const n={};return Mn.forEachEntry(t,(r,i)=>{e(Dqe(r),i,n,0)}),n}return null}function Uqe(t,e,n){if(Mn.isString(t))try{return(e||JSON.parse)(t),Mn.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const IL={transitional:Ede,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Mn.isObject(e);if(s&&Mn.isHTMLForm(e)&&(e=new FormData(e)),Mn.isFormData(e))return i?JSON.stringify(Sde(e)):e;if(Mn.isArrayBuffer(e)||Mn.isBuffer(e)||Mn.isStream(e)||Mn.isFile(e)||Mn.isBlob(e)||Mn.isReadableStream(e))return e;if(Mn.isArrayBufferView(e))return e.buffer;if(Mn.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nqe(e,this.formSerializer).toString();if((o=Mn.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return B5(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Uqe(e)):e}],transformResponse:[function(e){const n=this.transitional||IL.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Mn.isResponse(e)||Mn.isReadableStream(e))return e;if(e&&Mn.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ms.from(o,Ms.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nh.classes.FormData,Blob:nh.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mn.forEach(["delete","get","head","post","put","patch"],t=>{IL.headers[t]={}});const Hqe=Mn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gqe=t=>{const e={};let n,r,i;return t&&t.split("\n").forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Hqe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bY=Symbol("internals");function d2(t){return t&&String(t).trim().toLowerCase()}function aF(t){return t===!1||t==null?t:Mn.isArray(t)?t.map(aF):String(t)}function Vqe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const zqe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function YU(t,e,n,r,i){if(Mn.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Mn.isString(e)){if(Mn.isString(r))return e.indexOf(r)!==-1;if(Mn.isRegExp(r))return r.test(e)}}function $qe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Qqe(t,e){const n=Mn.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Fd=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,u){const h=d2(l);if(!h)throw new Error("header name must be a non-empty string");const d=Mn.findKey(i,h);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=aF(o))}const a=(o,l)=>Mn.forEach(o,(u,h)=>s(u,h,l));if(Mn.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Mn.isString(e)&&(e=e.trim())&&!zqe(e))a(Gqe(e),n);else if(Mn.isHeaders(e))for(const[o,l]of e.entries())s(l,o,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=d2(e),e){const r=Mn.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Vqe(i);if(Mn.isFunction(n))return n.call(this,i,r);if(Mn.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=d2(e),e){const r=Mn.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||YU(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=d2(a),a){const o=Mn.findKey(r,a);o&&(!n||YU(r,r[o],o,n))&&(delete r[o],i=!0)}}return Mn.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||YU(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Mn.forEach(this,(i,s)=>{const a=Mn.findKey(r,s);if(a){n[a]=aF(i),delete n[s];return}const o=e?$qe(s):String(s).trim();o!==s&&delete n[s],n[o]=aF(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Mn.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Mn.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bY]=this[bY]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=d2(a);r[o]||(Qqe(i,a),r[o]=!0)}return Mn.isArray(e)?e.forEach(s):s(e),this}};Fd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Mn.reduceDescriptors(Fd.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Mn.freezeMethods(Fd);function ZU(t,e){const n=this||IL,r=e||n,i=Fd.from(r.headers);let s=r.data;return Mn.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Cde(t){return!!(t&&t.__CANCEL__)}function qS(t,e,n){Ms.call(this,t==null?"canceled":t,Ms.ERR_CANCELED,e,n),this.name="CanceledError"}Mn.inherits(qS,Ms,{__CANCEL__:!0});function Tde(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ms("Request failed with status code "+n.status,[Ms.ERR_BAD_REQUEST,Ms.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Wqe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jqe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[s];a||(a=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const A=h&&u-h;return A?Math.round(f*1e3/A):void 0}}function Kqe(t,e){let n=0,r=1e3/e,i,s;const a=(u,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=r?a(u,h):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const vO=(t,e,n=3)=>{let r=0;const i=jqe(50,250);return Kqe(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),h=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&h?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},xY=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},EY=t=>(...e)=>Mn.asap(()=>t(...e)),qqe=nh.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,nh.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(nh.origin),nh.navigator&&/(msie|trident)/i.test(nh.navigator.userAgent)):()=>!0,Xqe=nh.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Mn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Mn.isString(r)&&a.push("path="+r),Mn.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yqe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zqe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Mde(t,e){return t&&!Yqe(e)?Zqe(t,e):e}const SY=t=>t instanceof Fd?{...t}:t;function X1(t,e){e=e||{};const n={};function r(u,h,d,f){return Mn.isPlainObject(u)&&Mn.isPlainObject(h)?Mn.merge.call({caseless:f},u,h):Mn.isPlainObject(h)?Mn.merge({},h):Mn.isArray(h)?h.slice():h}function i(u,h,d,f){if(Mn.isUndefined(h)){if(!Mn.isUndefined(u))return r(void 0,u,d,f)}else return r(u,h,d,f)}function s(u,h){if(!Mn.isUndefined(h))return r(void 0,h)}function a(u,h){if(Mn.isUndefined(h)){if(!Mn.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function o(u,h,d){if(d in e)return r(u,h);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,h,d)=>i(SY(u),SY(h),d,!0)};return Mn.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||i,f=d(t[h],e[h],h);Mn.isUndefined(f)&&d!==o||(n[h]=f)}),n}const Lde=t=>{const e=X1({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Fd.from(a),e.url=xde(Mde(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(Mn.isFormData(n)){if(nh.hasStandardBrowserEnv||nh.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...h].join("; "))}}if(nh.hasStandardBrowserEnv&&(r&&Mn.isFunction(r)&&(r=r(e)),r||r!==!1&&qqe(e.url))){const u=i&&s&&Xqe.read(s);u&&a.set(i,u)}return e},Jqe=typeof XMLHttpRequest<"u",eXe=Jqe&&function(t){return new Promise(function(n,r){const i=Lde(t);let s=i.data;const a=Fd.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,h,d,f,A,m;function g(){A&&A(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function _(){if(!y)return;const S=Fd.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};Tde(function(E){n(E),g()},function(E){r(E),g()},M),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(r(new Ms("Request aborted",Ms.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Ms("Network Error",Ms.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||Ede;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Ms(C,M.clarifyTimeoutError?Ms.ETIMEDOUT:Ms.ECONNABORTED,t,y)),y=null},s===void 0&&a.setContentType(null),"setRequestHeader"in y&&Mn.forEach(a.toJSON(),function(C,M){y.setRequestHeader(M,C)}),Mn.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),u&&([f,m]=vO(u,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,A]=vO(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",A)),(i.cancelToken||i.signal)&&(h=S=>{y&&(r(!S||S.type?new qS(null,t,y):S),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const x=Wqe(i.url);if(x&&nh.protocols.indexOf(x)===-1){r(new Ms("Unsupported protocol "+x+":",Ms.ERR_BAD_REQUEST,t));return}y.send(s||null)})},tXe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Ms?h:new qS(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,s(new Ms("timeout ".concat(e," of ms exceeded"),Ms.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Mn.asap(o),l}},nXe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},rXe=async function*(t,e){for await(const n of iXe(t))yield*nXe(n,e)},iXe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},CY=(t,e,n,r)=>{const i=rXe(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await i.next();if(u){o(),l.close();return}let d=h.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},R5=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bde=R5&&typeof ReadableStream=="function",sXe=R5&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Rde=(t,...e)=>{try{return!!t(...e)}catch(n){return!1}},aXe=Bde&&Rde(()=>{let t=!1;const e=new Request(nh.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),TY=64*1024,UH=Bde&&Rde(()=>Mn.isReadableStream(new Response("").body)),yO={stream:UH&&(t=>t.body)};R5&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yO[e]&&(yO[e]=Mn.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ms("Response type '".concat(e,"' is not supported"),Ms.ERR_NOT_SUPPORT,r)})})})(new Response);const oXe=async t=>{if(t==null)return 0;if(Mn.isBlob(t))return t.size;if(Mn.isSpecCompliantForm(t))return(await new Request(nh.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Mn.isArrayBufferView(t)||Mn.isArrayBuffer(t))return t.byteLength;if(Mn.isURLSearchParams(t)&&(t=t+""),Mn.isString(t))return(await sXe(t)).byteLength},lXe=async(t,e)=>{const n=Mn.toFiniteNumber(t.getContentLength());return n==null?oXe(e):n},cXe=R5&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:h,withCredentials:d="same-origin",fetchOptions:f}=Lde(t);u=u?(u+"").toLowerCase():"text";let A=tXe([i,s&&s.toAbortSignal()],a),m;const g=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let y;try{if(l&&aXe&&n!=="get"&&n!=="head"&&(y=await lXe(h,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(Mn.isFormData(r)&&(B=M.headers.get("content-type"))&&h.setContentType(B),M.body){const[E,L]=xY(y,vO(EY(l)));r=CY(M.body,TY,E,L)}}Mn.isString(d)||(d=d?"include":"omit");const _="credentials"in Request.prototype;m=new Request(e,{...f,signal:A,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:_?d:void 0});let x=await fetch(m);const S=UH&&(u==="stream"||u==="response");if(UH&&(o||S&&g)){const M={};["status","statusText","headers"].forEach(I=>{M[I]=x[I]});const B=Mn.toFiniteNumber(x.headers.get("content-length")),[E,L]=o&&xY(B,vO(EY(o),!0))||[];x=new Response(CY(x.body,TY,E,()=>{L&&L(),g&&g()}),M)}u=u||"text";let C=await yO[Mn.findKey(yO,u)||"text"](x,t);return!S&&g&&g(),await new Promise((M,B)=>{Tde(M,B,{data:C,headers:Fd.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(_){throw g&&g(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new Ms("Network Error",Ms.ERR_NETWORK,t,m),{cause:_.cause||_}):Ms.from(_,_&&_.code,t,m)}}),HH={http:Eqe,xhr:eXe,fetch:cXe};Mn.forEach(HH,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});const MY=t=>"- ".concat(t),uXe=t=>Mn.isFunction(t)||t===null||t===!1,Ide={getAdapter:t=>{t=Mn.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!uXe(n)&&(r=HH[(a=String(n)).toLowerCase()],r===void 0))throw new Ms("Unknown adapter '".concat(a,"'"));if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>"adapter ".concat(o," ")+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?"since :\n"+s.map(MY).join("\n"):" "+MY(s[0]):"as no adapter specified";throw new Ms("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:HH};function JU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qS(null,t)}function LY(t){return JU(t),t.headers=Fd.from(t.headers),t.data=ZU.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ide.getAdapter(t.adapter||IL.adapter)(t).then(function(r){return JU(t),r.data=ZU.call(t,t.transformResponse,r),r.headers=Fd.from(r.headers),r},function(r){return Cde(r)||(JU(t),r&&r.response&&(r.response.data=ZU.call(t,t.transformResponse,r.response),r.response.headers=Fd.from(r.response.headers))),Promise.reject(r)})}const Pde="1.7.9",I5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{I5[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const BY={};I5.transitional=function(e,n,r){function i(s,a){return"[Axios v"+Pde+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Ms(i(a," has been removed"+(n?" in "+n:"")),Ms.ERR_DEPRECATED);return n&&!BY[a]&&(BY[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};I5.spelling=function(e){return(n,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};function hXe(t,e,n){if(typeof t!="object")throw new Ms("options must be an object",Ms.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ms("option "+s+" must be "+l,Ms.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ms("Unknown option "+s,Ms.ERR_BAD_OPTION)}}const oF={assertOptions:hXe,validators:I5},bg=oF.validators;let C1=class{constructor(e){this.defaults=e,this.interceptors={request:new wY,response:new wY}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+s):r.stack=s}catch(a){}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=X1(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&oF.assertOptions(r,{silentJSONParsing:bg.transitional(bg.boolean),forcedJSONParsing:bg.transitional(bg.boolean),clarifyTimeoutError:bg.transitional(bg.boolean)},!1),i!=null&&(Mn.isFunction(i)?n.paramsSerializer={serialize:i}:oF.assertOptions(i,{encode:bg.function,serialize:bg.function},!0)),oF.assertOptions(n,{baseUrl:bg.spelling("baseURL"),withXsrfToken:bg.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Mn.merge(s.common,s[n.method]);s&&Mn.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Fd.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let h,d=0,f;if(!l){const m=[LY.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,u),f=m.length,h=Promise.resolve(n);d<f;)h=h.then(m[d++],m[d++]);return h}f=o.length;let A=n;for(d=0;d<f;){const m=o[d++],g=o[d++];try{A=m(A)}catch(y){g.call(this,y);break}}try{h=LY.call(this,A)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=X1(this.defaults,e);const n=Mde(e.baseURL,e.url);return xde(n,e.params,e.paramsSerializer)}};Mn.forEach(["delete","get","head","options"],function(e){C1.prototype[e]=function(n,r){return this.request(X1(r||{},{method:e,url:n,data:(r||{}).data}))}});Mn.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(X1(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}C1.prototype[e]=n(),C1.prototype[e+"Form"]=n(!0)});let dXe=class Fde{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new qS(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Fde(function(i){e=i}),cancel:e}}};function fXe(t){return function(n){return t.apply(null,n)}}function AXe(t){return Mn.isObject(t)&&t.isAxiosError===!0}const GH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(GH).forEach(([t,e])=>{GH[e]=t});function Ode(t){const e=new C1(t),n=hde(C1.prototype.request,e);return Mn.extend(n,C1.prototype,e,{allOwnKeys:!0}),Mn.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Ode(X1(t,i))},n}const Vl=Ode(IL);Vl.Axios=C1;Vl.CanceledError=qS;Vl.CancelToken=dXe;Vl.isCancel=Cde;Vl.VERSION=Pde;Vl.toFormData=B5;Vl.AxiosError=Ms;Vl.Cancel=Vl.CanceledError;Vl.all=function(e){return Promise.all(e)};Vl.spread=fXe;Vl.isAxiosError=AXe;Vl.mergeConfig=X1;Vl.AxiosHeaders=Fd;Vl.formToJSON=t=>Sde(Mn.isHTMLForm(t)?new FormData(t):t);Vl.getAdapter=Ide.getAdapter;Vl.HttpStatusCode=GH;Vl.default=Vl;const{Axios:C3t,AxiosError:T3t,CanceledError:M3t,isCancel:L3t,CancelToken:B3t,VERSION:R3t,all:I3t,Cancel:P3t,isAxiosError:F3t,spread:O3t,toFormData:N3t,AxiosHeaders:D3t,HttpStatusCode:k3t,formToJSON:U3t,getAdapter:H3t,mergeConfig:G3t}=Vl,pXe={components:{},data(){return{dialogVisible:!1,fileName:"",file:null}},methods:{openDialog(){this.dialogVisible=!0,this.fileName="",this.file=null},handleClose(t){this.$confirm("").then(()=>{this.fileName="",this.file=null,t()}).catch(()=>{})},handleFileChange(t,e){this.fileName=t.name,this.file=t},beforeFileUpload(t){return t.name.toLowerCase().endsWith(".dxf")?!0:(this.$message.error(" DXF "),!1)},handleSubmit(){this.file?(console.log(":",this.file),this.$message.success(""),this.dialogVisible=!1):this.$message.warning("")}}},gXe={key:0,style:{"margin-top":"20px"}},mXe={class:"code-editor-wrapper"},vXe={id:"dxf-view",ref:"dxfView",class:"dxfView"};function yXe(t,e,n,r,i,s){const a=Nn("el-button"),o=Nn("el-upload"),l=Nn("el-tag"),u=Nn("el-dialog"),h=dL("loading");return ie(),Ee("div",null,[Ce(a,{type:"primary",onClick:s.openDialog},{default:De(()=>e[2]||(e[2]=[Mr("Import DXF file")])),_:1},8,["onClick"]),Ce(u,{title:"Import DXF file",modelValue:i.dialogVisible,"onUpdate:modelValue":e[1]||(e[1]=d=>i.dialogVisible=d),width:"30%","before-close":s.handleClose},{footer:De(()=>[Ce(a,{onClick:e[0]||(e[0]=d=>i.dialogVisible=!1)},{default:De(()=>e[6]||(e[6]=[Mr("Cancel")])),_:1}),Ce(a,{type:"primary",onClick:s.handleSubmit,disabled:!i.fileName},{default:De(()=>e[7]||(e[7]=[Mr("OK")])),_:1},8,["onClick","disabled"])]),default:De(()=>[Ce(o,{"on-change":s.handleFileChange,"before-upload":s.beforeFileUpload,limit:1,"show-file-list":!1,accept:".dxf"},{tip:De(()=>e[4]||(e[4]=[Be("div",{class:"el-upload__tip"},"Only dxf file",-1)])),default:De(()=>[Ce(a,{type:"primary"},{default:De(()=>e[3]||(e[3]=[Mr("Select file")])),_:1})]),_:1},8,["on-change","before-upload"]),i.fileName?(ie(),Ee("div",gXe,[e[5]||(e[5]=Be("span",null,"Selected Files: ",-1)),Ce(l,{type:"success"},{default:De(()=>[Mr(cn(i.fileName),1)]),_:1})])):lt("",!0),Br((ie(),Ee("div",mXe,[Be("div",vXe,null,512)])),[[h,t.dxfLoading]])]),_:1},8,["modelValue","before-close"])])}const _Xe=Ff(pXe,[["render",yXe],["__scopeId","data-v-91ecb565"]]),wXe={class:"flex flex-wrap gap-4 p-4"},bXe={class:"action-bar"},xXe={key:0,class:"plan-content"},EXe={class:"thumbnail-container"},SXe={class:"details"},CXe={class:"name"},TXe={class:"area"},MXe={class:"operators"},LXe={key:1},BXe={class:"operators"},RXe={__name:"FloorPlanSelect",emits:["select-plan"],setup(t,{emit:e}){const n=e,r=ge([]);var i=ge(!1);const s=ge([{name:"T4-1209090120",area:"110-130",visibleEdit:!1},{name:"T4-130110110130",area:"130-150",visibleEdit:!1},{name:"T4-150110110150",area:"130-150",visibleEdit:!1},{name:"T4-909090120",area:"90-110",visibleEdit:!1}]),a=ge([]);function o(d){d.visibleEdit=!d.visibleEdit,i=!0}function l(d){d&&a.value.push(d)}const u=d=>{if(i){i=!1;return}const f=r.value.indexOf(d);f===-1?r.value.push(d):r.value.splice(f,1),n("select-plan",r.value)},h=(d,f,A)=>{d.clearRect(0,0,f,A),d.fillStyle="#f5f7fa",d.fillRect(0,0,f,A),d.strokeStyle="#409EFF",d.lineWidth=2;const m=10,g=f-2*m,y=A-2*m;d.beginPath(),d.rect(m,m,g,y),d.stroke(),d.lineWidth=2,d.beginPath(),d.moveTo(m,A/2),d.lineTo(35-m,A/2),d.stroke(),d.beginPath(),d.moveTo(f/2,m),d.lineTo(f/2,A-m),d.stroke(),d.strokeStyle="#67C23A",d.lineWidth=2;const _=15;d.beginPath(),d.arc(m,A/2,_,0,Math.PI/2),d.stroke()};return rr(()=>{a.value.forEach((d,f)=>{const A=d.getContext("2d"),m=d.width=160,g=d.height=160;h(A,m,g)})}),(d,f)=>{const A=Nn("el-icon"),m=Nn("el-button"),g=Nn("el-input"),y=Nn("el-form-item"),_=Nn("el-input-number"),x=Nn("el-form"),S=Nn("el-scrollbar"),C=Nn("el-card");return ie(),Ee("div",wXe,[f[2]||(f[2]=Be("div",null,"Custom-defined floor plan :",-1)),Be("div",bXe,[Ce(_Xe)]),f[3]||(f[3]=Be("div",null,"Select from existing floor plans:",-1)),(ie(!0),Ee(Wn,null,wi(s.value,(M,B)=>(ie(),St(C,{key:B,class:de(["plan-card",{selected:r.value.includes(M)}]),shadow:"hover",onClick:E=>u(M)},{default:De(()=>[M.visibleEdit?(ie(),Ee("div",LXe,[Ce(S,{height:"260px",class:"form-scrollbar",always:""},{default:De(()=>[Ce(x,{model:M,"label-position":"top"},{default:De(()=>[Ce(y,{label:"Layout Number"},{default:De(()=>[Ce(g,{modelValue:M.name,"onUpdate:modelValue":E=>M.name=E,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Ce(y,{label:"Area Range"},{default:De(()=>[Ce(g,{modelValue:M.area,"onUpdate:modelValue":E=>M.area=E,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Ce(y,{label:"Floor Height"},{default:De(()=>[Ce(_,{modelValue:M.floorHeight,"onUpdate:modelValue":E=>M.floorHeight=E,min:1,max:30,step:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["model"])]),_:2},1024),Be("div",BXe,[Ce(m,{type:"primary",onClick:E=>o(M)},{default:De(()=>f[1]||(f[1]=[Mr("Back")])),_:2},1032,["onClick"])])])):(ie(),Ee("div",xXe,[Be("div",EXe,[Be("canvas",{ref_for:!0,ref:l,class:"thumbnail"}),r.value.includes(M)?(ie(),St(A,{key:0,style:{margin:"10px"},class:"selected-icon"},{default:De(()=>[Ce(b(wEe))]),_:1})):lt("",!0)]),Be("div",SXe,[Be("p",CXe,"Floor Plan Number: "+cn(M.name),1),Be("p",TXe,"Area: "+cn(M.area)+" sqm",1)]),Be("div",MXe,[Ce(m,{type:"primary",onClick:E=>o(M)},{default:De(()=>f[0]||(f[0]=[Mr("Edit")])),_:2},1032,["onClick"])])]))]),_:2},1032,["class","onClick"]))),128))])}}},IXe=Ff(RXe,[["__scopeId","data-v-611976ed"]]);/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var Nde="store";function OM(t){return t===void 0&&(t=null),qt(t!==null?t:Nde)}function XS(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function PXe(t){return t!==null&&typeof t=="object"}function FXe(t){return t&&typeof t.then=="function"}function OXe(t,e){return function(){return t(e)}}function Dde(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function kde(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;P5(t,n,[],t._modules.root,!0),v7(t,n,e)}function v7(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};XS(i,function(a,o){s[o]=OXe(a,t),Object.defineProperty(t.getters,o,{get:function(){return s[o]()},enumerable:!0})}),t._state=as({data:e}),t.strict&&HXe(t),r&&n&&t._withCommit(function(){r.data=null})}function P5(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var o=y7(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){o[l]=r.state})}var u=r.context=NXe(t,a,n);r.forEachMutation(function(h,d){var f=a+d;DXe(t,f,h,u)}),r.forEachAction(function(h,d){var f=h.root?d:a+d,A=h.handler||h;kXe(t,f,A,u)}),r.forEachGetter(function(h,d){var f=a+d;UXe(t,f,h,u)}),r.forEachChild(function(h,d){P5(t,e,n.concat(d),h,i)})}function NXe(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,o){var l=_O(s,a,o),u=l.payload,h=l.options,d=l.type;return(!h||!h.root)&&(d=e+d),t.dispatch(d,u)},commit:r?t.commit:function(s,a,o){var l=_O(s,a,o),u=l.payload,h=l.options,d=l.type;(!h||!h.root)&&(d=e+d),t.commit(d,u,h)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Ude(t,e)}},state:{get:function(){return y7(t.state,n)}}}),i}function Ude(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function DXe(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function kXe(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return FXe(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function UXe(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function HXe(t){Ct(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function y7(t,e){return e.reduce(function(n,r){return n[r]},t)}function _O(t,e,n){return PXe(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var GXe="vuex bindings",RY="vuex:mutations",e4="vuex:actions",Ob="vuex",VXe=0;function zXe(t,e){qEe({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[GXe]},function(n){n.addTimelineLayer({id:RY,label:"Vuex Mutations",color:IY}),n.addTimelineLayer({id:e4,label:"Vuex Actions",color:IY}),n.addInspector({id:Ob,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Ob)if(r.filter){var i=[];zde(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Vde(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Ob){var i=r.nodeId;Ude(e,i),r.state=WXe(KXe(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Ob){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Ob),n.sendInspectorState(Ob),n.addTimelineEvent({layerId:RY,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=VXe++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:e4,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:e4,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var IY=8702998,$Xe=6710886,QXe=16777215,Hde={label:"namespaced",textColor:QXe,backgroundColor:$Xe};function Gde(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Vde(t,e){return{id:e||"root",label:Gde(e),tags:t.namespaced?[Hde]:[],children:Object.keys(t._children).map(function(n){return Vde(t._children[n],e+n+"/")})}}function zde(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Hde]:[]}),Object.keys(e._children).forEach(function(i){zde(t,e._children[i],n,r+i+"/")})}function WXe(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=jXe(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?Gde(a):a,editable:!1,value:VH(function(){return s[a]})}})}return i}function jXe(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=VH(function(){return t[n]})}else e[n]=VH(function(){return t[n]})}),e}function KXe(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function VH(t){try{return t()}catch(e){return e}}var Np=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},$de={namespaced:{configurable:!0}};$de.namespaced.get=function(){return!!this._rawModule.namespaced};Np.prototype.addChild=function(e,n){this._children[e]=n};Np.prototype.removeChild=function(e){delete this._children[e]};Np.prototype.getChild=function(e){return this._children[e]};Np.prototype.hasChild=function(e){return e in this._children};Np.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Np.prototype.forEachChild=function(e){XS(this._children,e)};Np.prototype.forEachGetter=function(e){this._rawModule.getters&&XS(this._rawModule.getters,e)};Np.prototype.forEachAction=function(e){this._rawModule.actions&&XS(this._rawModule.actions,e)};Np.prototype.forEachMutation=function(e){this._rawModule.mutations&&XS(this._rawModule.mutations,e)};Object.defineProperties(Np.prototype,$de);var pw=function(e){this.register([],e,!1)};pw.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};pw.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};pw.prototype.update=function(e){Qde([],this.root,e)};pw.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new Np(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&XS(n.modules,function(o,l){i.register(e.concat(l),o,r)})};pw.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};pw.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Qde(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Qde(t.concat(r),e.getChild(r),n.modules[r])}}function qXe(t){return new Gd(t)}var Gd=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new pw(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,o=this,l=o.dispatch,u=o.commit;this.dispatch=function(f,A){return l.call(a,f,A)},this.commit=function(f,A,m){return u.call(a,f,A,m)},this.strict=i;var h=this._modules.root.state;P5(this,h,[],this._modules.root),v7(this,h),r.forEach(function(d){return d(n)})},_7={state:{configurable:!0}};Gd.prototype.install=function(e,n){e.provide(n||Nde,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&zXe(e,this)};_7.state.get=function(){return this._state.data};_7.state.set=function(t){};Gd.prototype.commit=function(e,n,r){var i=this,s=_O(e,n,r),a=s.type,o=s.payload,l={type:a,payload:o},u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(d){d(o)})}),this._subscribers.slice().forEach(function(h){return h(l,i.state)}))};Gd.prototype.dispatch=function(e,n){var r=this,i=_O(e,n),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(o,r.state)})}catch(h){}var u=l.length>1?Promise.all(l.map(function(h){return h(a)})):l[0](a);return new Promise(function(h,d){u.then(function(f){try{r._actionSubscribers.filter(function(A){return A.after}).forEach(function(A){return A.after(o,r.state)})}catch(A){}h(f)},function(f){try{r._actionSubscribers.filter(function(A){return A.error}).forEach(function(A){return A.error(o,r.state,f)})}catch(A){}d(f)})})}};Gd.prototype.subscribe=function(e,n){return Dde(e,this._subscribers,n)};Gd.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Dde(r,this._actionSubscribers,n)};Gd.prototype.watch=function(e,n,r){var i=this;return Ct(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Gd.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Gd.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),P5(this,this.state,e,this._modules.get(e),r.preserveState),v7(this,this.state)};Gd.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=y7(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),kde(this)};Gd.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Gd.prototype.hotUpdate=function(e){this._modules.update(e),kde(this,!0)};Gd.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Gd.prototype,_7);const XXe={components:{},setup(t,{emit:e}){const n=ge(!1),r=ge({lotNo:"",address:"",street1:"",street2:"",street3:"",siteArea:0,siteBoundary:"",abuttingStreet:0,ozpZone:"",maxPR:0,maxDomPR:0,maxNonDomPR:0,maxSC:0,overallDomGFA:0,overallNonDomGFA:0,bonusGFA:0,buildingHeight:0,openSpace:0,greeneryArea:0,gfaConcession:"N"}),i=ge([]),s=ge(""),a=ge([]),o=ge(!1),l=()=>{n.value=!n.value},u=()=>{e("calculate",r.value)},h=async()=>{if(!s.value.trim())return;i.value.push({sender:"user",text:s.value});const A=s.value;s.value="";const m={messages:[{role:"user",content:A}],model:"deepseek-chat",stream:!0},g="sk-eec6b132398d496abcea300fec4eeeb0";try{const y=await fetch("/api/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/json"},body:JSON.stringify(m)});if(!y.ok)throw new Error("Network response was not ok");const _=y.body.getReader(),x=new TextDecoder("utf-8");if(_)for(;;){const{done:S,value:C}=await _.read();if(S)break;const M=x.decode(C,{stream:!0});i.value.push({sender:"ai",text:M.choices[0].delta.content})}}catch(y){console.error("API :",y)}},d=()=>{o.value=!0;const{siteArea:A,maxPR:m}=r.value;a.value=[];for(let g=0;g<10;g++){const y=A*m*(.8+Math.random()*.4),_=20+Math.random()*30,x=m*(.8+Math.random()*.4);a.value.push({gfa:y.toFixed(2),height:_.toFixed(2),pr:x.toFixed(2)})}},f=A=>{r.value.overallDomGFA=A.gfa,r.value.buildingHeight=A.height,a.value=[],o.value=!1};return OM(),{isAIMode:n,formData:r,chatMessages:i,userInput:s,schemes:a,dialogVisible:o,toggleMode:l,submitForm:u,sendMessage:h,generateSchemes:d,selectScheme:f}}},YXe={class:"grid_container"},ZXe={key:1,class:"ai-mode"},JXe={class:"chat-messages"};function eYe(t,e,n,r,i,s){const a=Nn("el-input"),o=Nn("el-form-item"),l=Nn("el-input-number"),u=Nn("el-radio"),h=Nn("el-radio-group"),d=Nn("el-row"),f=Nn("el-form"),A=Nn("el-text"),m=Nn("el-card");return ie(),Ee("div",YXe,[r.isAIMode?(ie(),Ee("div",ZXe,[Ce(m,{class:"chat-window"},{default:De(()=>[Be("div",JXe,[(ie(!0),Ee(Wn,null,wi(r.chatMessages,(g,y)=>(ie(),Ee("div",{key:y,class:de(g.sender)},[Ce(A,{type:g.sender==="user"?"success":"info"},{default:De(()=>[Mr(cn(g.text),1)]),_:2},1032,["type"])],2))),128))]),Ce(a,{modelValue:r.userInput,"onUpdate:modelValue":e[20]||(e[20]=g=>r.userInput=g),onKeyup:$s(r.sendMessage,["enter"]),placeholder:"..."},null,8,["modelValue","onKeyup"])]),_:1})])):(ie(),St(f,{key:0,model:r.formData,"label-position":"top",onSubmit:mr(r.submitForm,["prevent"])},{default:De(()=>[Ce(d,null,{default:De(()=>[Ce(o,{label:"Lot no.:",prop:"lotNo",class:"form-item"},{default:De(()=>[Ce(a,{modelValue:r.formData.lotNo,"onUpdate:modelValue":e[0]||(e[0]=g=>r.formData.lotNo=g),required:""},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Address:",prop:"address"},{default:De(()=>[Ce(a,{modelValue:r.formData.address,"onUpdate:modelValue":e[1]||(e[1]=g=>r.formData.address=g),required:""},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Designated Street 1:",prop:"street1"},{default:De(()=>[Ce(a,{modelValue:r.formData.street1,"onUpdate:modelValue":e[2]||(e[2]=g=>r.formData.street1=g)},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Designated Street 2:",prop:"street2"},{default:De(()=>[Ce(a,{modelValue:r.formData.street2,"onUpdate:modelValue":e[3]||(e[3]=g=>r.formData.street2=g)},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Designated Street 3:",prop:"street3"},{default:De(()=>[Ce(a,{modelValue:r.formData.street3,"onUpdate:modelValue":e[4]||(e[4]=g=>r.formData.street3=g)},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Site Area (A):",prop:"siteArea"},{default:De(()=>[Ce(l,{modelValue:r.formData.siteArea,"onUpdate:modelValue":e[5]||(e[5]=g=>r.formData.siteArea=g),min:0,required:""},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Site Boundary (W):",prop:"siteBoundary"},{default:De(()=>[Ce(a,{modelValue:r.formData.siteBoundary,"onUpdate:modelValue":e[6]||(e[6]=g=>r.formData.siteBoundary=g)},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Abutting Street Ratio (X):",prop:"abuttingStreet"},{default:De(()=>[Ce(l,{modelValue:r.formData.abuttingStreet,"onUpdate:modelValue":e[7]||(e[7]=g=>r.formData.abuttingStreet=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"OZP Zone:",prop:"ozpZone"},{default:De(()=>[Ce(a,{modelValue:r.formData.ozpZone,"onUpdate:modelValue":e[8]||(e[8]=g=>r.formData.ozpZone=g)},null,8,["modelValue"])]),_:1}),Ce(o,{label:"GFA Concession:",prop:"gfaConcession"},{default:De(()=>[Ce(h,{modelValue:r.formData.gfaConcession,"onUpdate:modelValue":e[9]||(e[9]=g=>r.formData.gfaConcession=g)},{default:De(()=>[Ce(u,{label:"Y"},{default:De(()=>e[21]||(e[21]=[Mr("Yes")])),_:1}),Ce(u,{label:"N"},{default:De(()=>e[22]||(e[22]=[Mr("No")])),_:1})]),_:1},8,["modelValue"])]),_:1}),Ce(o,{label:"Maximum Plot Ratio (B):",prop:"maxPR"},{default:De(()=>[Ce(l,{modelValue:r.formData.maxPR,"onUpdate:modelValue":e[10]||(e[10]=g=>r.formData.maxPR=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Maximum Domestic Plot Ratio (C):",prop:"maxDomPR"},{default:De(()=>[Ce(l,{modelValue:r.formData.maxDomPR,"onUpdate:modelValue":e[11]||(e[11]=g=>r.formData.maxDomPR=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Maximum Non-Domestic Plot Ratio (D):",prop:"maxNonDomPR"},{default:De(()=>[Ce(l,{modelValue:r.formData.maxNonDomPR,"onUpdate:modelValue":e[12]||(e[12]=g=>r.formData.maxNonDomPR=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Maximum Site Coverage (E):",prop:"maxSC"},{default:De(()=>[Ce(l,{modelValue:r.formData.maxSC,"onUpdate:modelValue":e[13]||(e[13]=g=>r.formData.maxSC=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Total Domestic GFA (F):",prop:"overallDomGFA"},{default:De(()=>[Ce(l,{modelValue:r.formData.overallDomGFA,"onUpdate:modelValue":e[14]||(e[14]=g=>r.formData.overallDomGFA=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Total Non-Domestic GFA (G):",prop:"overallNonDomGFA"},{default:De(()=>[Ce(l,{modelValue:r.formData.overallNonDomGFA,"onUpdate:modelValue":e[15]||(e[15]=g=>r.formData.overallNonDomGFA=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Bonus GFA (H):",prop:"bonusGFA"},{default:De(()=>[Ce(l,{modelValue:r.formData.bonusGFA,"onUpdate:modelValue":e[16]||(e[16]=g=>r.formData.bonusGFA=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Building Height (I):",prop:"buildingHeight"},{default:De(()=>[Ce(l,{modelValue:r.formData.buildingHeight,"onUpdate:modelValue":e[17]||(e[17]=g=>r.formData.buildingHeight=g),min:0,readonly:""},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Required Open Space:",prop:"openSpace"},{default:De(()=>[Ce(l,{modelValue:r.formData.openSpace,"onUpdate:modelValue":e[18]||(e[18]=g=>r.formData.openSpace=g),min:0},null,8,["modelValue"])]),_:1}),Ce(o,{label:"Required Greenery Area:",prop:"greeneryArea"},{default:De(()=>[Ce(l,{modelValue:r.formData.greeneryArea,"onUpdate:modelValue":e[19]||(e[19]=g=>r.formData.greeneryArea=g),min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","onSubmit"]))])}const tYe=Ff(XXe,[["render",eYe]]),nYe={class:"mode-container"},rYe={class:"action-bar"},iYe={class:"flex flex-wrap gap-4 p-4"},sYe={class:"mode-content"},aYe={class:"icon-container"},oYe={class:"details"},lYe={class:"name"},cYe={class:"description"},uYe={__name:"GenerationModeSelect",emits:["select-mode","run"],setup(t,{emit:e}){const n=e,r=ge(null),i=ge([{name:"Standard Generation",description:"Generate building schemes using basic parameters",icon:Ixe,color:"#409EFF"},{name:"AI Optimization",description:"Optimize results using AI algorithms",icon:Fxe,color:"#67C23A"},{name:"Batch Generation",description:"Generate multiple schemes simultaneously for selection",icon:SEe,color:"#E6A23C"}]),s=o=>{r.value=o,n("select-mode",o)},a=()=>{r.value&&n("run",r.value)};return(o,l)=>{const u=Nn("el-icon"),h=Nn("el-button"),d=Nn("el-card");return ie(),Ee("div",nYe,[Be("div",rYe,[Ce(h,{type:"primary",size:"large",disabled:!r.value,onClick:a},{default:De(()=>[Ce(u,null,{default:De(()=>[Ce(b(OEe))]),_:1}),l[0]||(l[0]=Mr("Build "))]),_:1},8,["disabled"])]),Be("div",iYe,[(ie(!0),Ee(Wn,null,wi(i.value,(f,A)=>(ie(),St(d,{key:A,class:de(["mode-card",{selected:r.value===f}]),shadow:"hover",onClick:m=>s(f)},{default:De(()=>[Be("div",sYe,[Be("div",aYe,[Ce(u,{size:40,color:f.color},{default:De(()=>[(ie(),St(li(f.icon)))]),_:2},1032,["color"])]),Be("div",oYe,[Be("h3",lYe,cn(f.name),1),Be("p",cYe,cn(f.description),1)])])]),_:2},1032,["class","onClick"]))),128))])])}}},hYe=Ff(uYe,[["__scopeId","data-v-c536ffa4"]]),dYe={components:{FloorPlanSelect:IXe,UserInputView:tYe,GenerationModeSelect:hYe,Grid:noe,Setting:xEe,House:roe,Document:toe},setup(){const t=OM(),e=ge("1"),n=ge([]),r=ge(null),i=()=>n.value.length===0?(ElMessage.warning(""),!1):!r.value||!r.value.lotNo?(ElMessage.warning(""),!1):!0;return{activeIndex:e,handleSelect:l=>{e.value=l,t.commit("cesium/updateShow",l==1)},handleModeSelect:l=>{},handleModeRun:l=>{i()}}}},fYe={class:"operator-container"},AYe={class:"component-container"},pYe={class:"component-container"},gYe={class:"component-container"},mYe={class:"component-container"};function vYe(t,e,n,r,i,s){const a=Nn("House"),o=Nn("el-icon"),l=Nn("el-menu-item"),u=Nn("Setting"),h=Nn("Document"),d=Nn("el-menu"),f=Nn("el-aside"),A=Nn("UserInputView"),m=Nn("FloorPlanSelect"),g=Nn("GenerationModeSelect"),y=Nn("el-main"),_=Nn("el-container");return ie(),Ee("div",fYe,[Ce(_,null,{default:De(()=>[Ce(f,{width:"64px",class:"menu-aside"},{default:De(()=>[Ce(d,{collapse:!0,"default-active":"1",class:"operator-menu",onSelect:r.handleSelect,"background-color":"#1e1e2d","text-color":"#a2a3b7","active-text-color":"#ffffff"},{default:De(()=>[Ce(l,{index:"1"},{title:De(()=>e[0]||(e[0]=[Mr("Floor Plans")])),default:De(()=>[Ce(o,null,{default:De(()=>[Ce(a)]),_:1})]),_:1}),Ce(l,{index:"2"},{title:De(()=>e[1]||(e[1]=[Mr("Configuration")])),default:De(()=>[Ce(o,null,{default:De(()=>[Ce(u)]),_:1})]),_:1}),Ce(l,{index:"3"},{title:De(()=>e[2]||(e[2]=[Mr("Build Mode")])),default:De(()=>[Ce(o,null,{default:De(()=>[Ce(h)]),_:1})]),_:1})]),_:1},8,["onSelect"])]),_:1}),Ce(y,{class:"content-main"},{default:De(()=>[Br(Be("div",AYe,[Ce(A)],512),[[Qi,r.activeIndex==="1"]]),Br(Be("div",pYe,[Ce(m)],512),[[Qi,r.activeIndex==="2"]]),Br(Be("div",gYe,[Ce(g,{onSelectMode:r.handleModeSelect,onRun:r.handleModeRun},null,8,["onSelectMode","onRun"])],512),[[Qi,r.activeIndex==="3"]]),Br(Be("div",mYe,null,512),[[Qi,r.activeIndex==="4"]])]),_:1})]),_:1})])}const Wde=Ff(dYe,[["render",vYe]]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const w7="149",Nb={ROTATE:0,DOLLY:1,PAN:2},Db={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yYe=0,PY=1,_Ye=2,jde=1,wYe=2,K2=3,_y=0,Sf=1,dp=2,oy=0,bE=1,FY=2,OY=3,NY=4,bYe=5,Lx=100,xYe=101,EYe=102,DY=103,kY=104,SYe=200,CYe=201,TYe=202,MYe=203,Kde=204,qde=205,LYe=206,BYe=207,RYe=208,IYe=209,PYe=210,FYe=0,OYe=1,NYe=2,zH=3,DYe=4,kYe=5,UYe=6,HYe=7,b7=0,GYe=1,VYe=2,Av=0,zYe=1,$Ye=2,QYe=3,WYe=4,jYe=5,Xde=300,cS=301,uS=302,$H=303,QH=304,F5=306,WH=1e3,lp=1001,jH=1002,Dh=1003,UY=1004,t4=1005,nA=1006,KYe=1007,NM=1008,Y1=1009,qYe=1010,XYe=1011,Yde=1012,YYe=1013,h1=1014,d1=1015,DM=1016,ZYe=1017,JYe=1018,xE=1020,eZe=1021,cp=1023,tZe=1024,nZe=1025,T1=1026,hS=1027,rZe=1028,iZe=1029,sZe=1030,aZe=1031,oZe=1033,n4=33776,r4=33777,i4=33778,s4=33779,HY=35840,GY=35841,VY=35842,zY=35843,lZe=36196,$Y=37492,QY=37496,WY=37808,jY=37809,KY=37810,qY=37811,XY=37812,YY=37813,ZY=37814,JY=37815,eZ=37816,tZ=37817,nZ=37818,rZ=37819,iZ=37820,sZ=37821,a4=36492,cZe=36283,aZ=36284,oZ=36285,lZ=36286,Z1=3e3,Do=3001,uZe=3200,hZe=3201,x7=0,dZe=1,kg="srgb",kM="srgb-linear",o4=7680,fZe=519,cZ=35044,uZ="300 es",KH=1035;class gw{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Gu=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],lF=Math.PI/180,qH=180/Math.PI;function PL(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Gu[t&255]+Gu[t>>8&255]+Gu[t>>16&255]+Gu[t>>24&255]+"-"+Gu[e&255]+Gu[e>>8&255]+"-"+Gu[e>>16&15|64]+Gu[e>>24&255]+"-"+Gu[n&63|128]+Gu[n>>8&255]+"-"+Gu[n>>16&255]+Gu[n>>24&255]+Gu[r&255]+Gu[r>>8&255]+Gu[r>>16&255]+Gu[r>>24&255]).toLowerCase()}function Md(t,e,n){return Math.max(e,Math.min(n,t))}function AZe(t,e){return(t%e+e)%e}function l4(t,e,n){return(1-n)*t+n*e}function hZ(t){return(t&t-1)===0&&t!==0}function XH(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function BR(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function af(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class ms{constructor(e=0,n=0){ms.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yf{constructor(){yf.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,a,o,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=n,h[4]=s,h[5]=l,h[6]=r,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],h=r[4],d=r[7],f=r[2],A=r[5],m=r[8],g=i[0],y=i[3],_=i[6],x=i[1],S=i[4],C=i[7],M=i[2],B=i[5],E=i[8];return s[0]=a*g+o*x+l*M,s[3]=a*y+o*S+l*B,s[6]=a*_+o*C+l*E,s[1]=u*g+h*x+d*M,s[4]=u*y+h*S+d*B,s[7]=u*_+h*C+d*E,s[2]=f*g+A*x+m*M,s[5]=f*y+A*S+m*B,s[8]=f*_+A*C+m*E,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8];return n*a*h-n*o*u-r*s*h+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=h*a-o*u,f=o*l-h*s,A=u*s-a*l,m=n*d+r*f+i*A;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=d*g,e[1]=(i*u-h*r)*g,e[2]=(o*r-i*a)*g,e[3]=f*g,e[4]=(h*n-i*l)*g,e[5]=(i*s-o*n)*g,e[6]=A*g,e[7]=(r*l-u*n)*g,e[8]=(a*n-r*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(c4.makeScale(e,n)),this}rotate(e){return this.premultiply(c4.makeRotation(-e)),this}translate(e,n){return this.premultiply(c4.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const c4=new yf;function Zde(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function wO(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function M1(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function cF(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const u4={[kg]:{[kM]:M1},[kM]:{[kg]:cF}},Mh={legacyMode:!0,get workingColorSpace(){return kM},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(u4[e]&&u4[e][n]!==void 0){const r=u4[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},Jde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vc={r:0,g:0,b:0},$A={h:0,s:0,l:0},RR={h:0,s:0,l:0};function h4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function IR(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Zs{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=kg){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mh.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Mh.workingColorSpace){return this.r=e,this.g=n,this.b=r,Mh.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Mh.workingColorSpace){if(e=AZe(e,1),n=Md(n,0,1),r=Md(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=h4(a,s,e+1/3),this.g=h4(a,s,e),this.b=h4(a,s,e-1/3)}return Mh.toWorkingColorSpace(this,i),this}setStyle(e,n=kg){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Mh.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Mh.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,h=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,h,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Mh.toWorkingColorSpace(this,n),this;if(a===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Mh.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=kg){const r=Jde[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=M1(e.r),this.g=M1(e.g),this.b=M1(e.b),this}copyLinearToSRGB(e){return this.r=cF(e.r),this.g=cF(e.g),this.b=cF(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=kg){return Mh.fromWorkingColorSpace(IR(this,vc),e),Md(vc.r*255,0,255)<<16^Md(vc.g*255,0,255)<<8^Md(vc.b*255,0,255)<<0}getHexString(e=kg){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Mh.workingColorSpace){Mh.fromWorkingColorSpace(IR(this,vc),n);const r=vc.r,i=vc.g,s=vc.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const h=(o+a)/2;if(o===a)l=0,u=0;else{const d=a-o;switch(u=h<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=Mh.workingColorSpace){return Mh.fromWorkingColorSpace(IR(this,vc),n),e.r=vc.r,e.g=vc.g,e.b=vc.b,e}getStyle(e=kg){return Mh.fromWorkingColorSpace(IR(this,vc),e),e!==kg?"color(".concat(e," ").concat(vc.r," ").concat(vc.g," ").concat(vc.b,")"):"rgb(".concat(vc.r*255|0,",").concat(vc.g*255|0,",").concat(vc.b*255|0,")")}offsetHSL(e,n,r){return this.getHSL($A),$A.h+=e,$A.s+=n,$A.l+=r,this.setHSL($A.h,$A.s,$A.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL($A),e.getHSL(RR);const r=l4($A.h,RR.h,n),i=l4($A.s,RR.s,n),s=l4($A.l,RR.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Zs.NAMES=Jde;let kb;class efe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{kb===void 0&&(kb=wO("canvas")),kb.width=e.width,kb.height=e.height;const r=kb.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=kb}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wO("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=M1(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(M1(n[r]/255)*255):n[r]=M1(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let tfe=class{constructor(e=null){this.isSource=!0,this.uuid=PL(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(d4(i[a].image)):s.push(d4(i[a]))}else s=d4(i);r.url=s}return n||(e.images[this.uuid]=r),r}};function d4(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?efe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pZe=0;class Cf extends gw{constructor(e=Cf.DEFAULT_IMAGE,n=Cf.DEFAULT_MAPPING,r=lp,i=lp,s=nA,a=NM,o=cp,l=Y1,u=Cf.DEFAULT_ANISOTROPY,h=Z1){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pZe++}),this.uuid=PL(),this.name="",this.source=new tfe(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ms(0,0),this.repeat=new ms(1,1),this.center=new ms(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yf,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xde)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case WH:e.x=e.x-Math.floor(e.x);break;case lp:e.x=e.x<0?0:1;break;case jH:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case WH:e.y=e.y-Math.floor(e.y);break;case lp:e.y=e.y<0?0:1;break;case jH:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Cf.DEFAULT_IMAGE=null;Cf.DEFAULT_MAPPING=Xde;Cf.DEFAULT_ANISOTROPY=1;class Xc{constructor(e=0,n=0,r=0,i=1){Xc.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],h=l[4],d=l[8],f=l[1],A=l[5],m=l[9],g=l[2],y=l[6],_=l[10];if(Math.abs(h-f)<.01&&Math.abs(d-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(h+f)<.1&&Math.abs(d+g)<.1&&Math.abs(m+y)<.1&&Math.abs(u+A+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,C=(A+1)/2,M=(_+1)/2,B=(h+f)/4,E=(d+g)/4,L=(m+y)/4;return S>C&&S>M?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=B/r,s=E/r):C>M?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=B/i,s=L/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=E/s,i=L/s),this.set(r,i,s,n),this}let x=Math.sqrt((y-m)*(y-m)+(d-g)*(d-g)+(f-h)*(f-h));return Math.abs(x)<.001&&(x=1),this.x=(y-m)/x,this.y=(d-g)/x,this.z=(f-h)/x,this.w=Math.acos((u+A+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}let J1=class extends gw{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Xc(0,0,e,n),this.scissorTest=!1,this.viewport=new Xc(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Cf(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:nA,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new tfe(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}};class nfe extends Cf{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dh,this.minFilter=Dh,this.wrapR=lp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gZe extends Cf{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dh,this.minFilter=Dh,this.wrapR=lp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gu{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],u=r[i+1],h=r[i+2],d=r[i+3];const f=s[a+0],A=s[a+1],m=s[a+2],g=s[a+3];if(o===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d;return}if(o===1){e[n+0]=f,e[n+1]=A,e[n+2]=m,e[n+3]=g;return}if(d!==g||l!==f||u!==A||h!==m){let y=1-o;const _=l*f+u*A+h*m+d*g,x=_>=0?1:-1,S=1-_*_;if(S>Number.EPSILON){const M=Math.sqrt(S),B=Math.atan2(M,_*x);y=Math.sin(y*B)/M,o=Math.sin(o*B)/M}const C=o*x;if(l=l*y+f*C,u=u*y+A*C,h=h*y+m*C,d=d*y+g*C,y===1-o){const M=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=M,u*=M,h*=M,d*=M}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],h=r[i+3],d=s[a],f=s[a+1],A=s[a+2],m=s[a+3];return e[n]=o*m+h*d+l*A-u*f,e[n+1]=l*m+h*f+u*d-o*A,e[n+2]=u*m+h*A+o*f-l*d,e[n+3]=h*m-o*d-l*f-u*A,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),h=o(i/2),d=o(s/2),f=l(r/2),A=l(i/2),m=l(s/2);switch(a){case"XYZ":this._x=f*h*d+u*A*m,this._y=u*A*d-f*h*m,this._z=u*h*m+f*A*d,this._w=u*h*d-f*A*m;break;case"YXZ":this._x=f*h*d+u*A*m,this._y=u*A*d-f*h*m,this._z=u*h*m-f*A*d,this._w=u*h*d+f*A*m;break;case"ZXY":this._x=f*h*d-u*A*m,this._y=u*A*d+f*h*m,this._z=u*h*m+f*A*d,this._w=u*h*d-f*A*m;break;case"ZYX":this._x=f*h*d-u*A*m,this._y=u*A*d+f*h*m,this._z=u*h*m-f*A*d,this._w=u*h*d+f*A*m;break;case"YZX":this._x=f*h*d+u*A*m,this._y=u*A*d+f*h*m,this._z=u*h*m-f*A*d,this._w=u*h*d-f*A*m;break;case"XZY":this._x=f*h*d-u*A*m,this._y=u*A*d-f*h*m,this._z=u*h*m+f*A*d,this._w=u*h*d+f*A*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],u=n[2],h=n[6],d=n[10],f=r+o+d;if(f>0){const A=.5/Math.sqrt(f+1);this._w=.25/A,this._x=(h-l)*A,this._y=(s-u)*A,this._z=(a-i)*A}else if(r>o&&r>d){const A=2*Math.sqrt(1+r-o-d);this._w=(h-l)/A,this._x=.25*A,this._y=(i+a)/A,this._z=(s+u)/A}else if(o>d){const A=2*Math.sqrt(1+o-r-d);this._w=(s-u)/A,this._x=(i+a)/A,this._y=.25*A,this._z=(l+h)/A}else{const A=2*Math.sqrt(1+d-r-o);this._w=(a-i)/A,this._x=(s+u)/A,this._y=(l+h)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Md(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,u=n._z,h=n._w;return this._x=r*h+a*o+i*u-s*l,this._y=i*h+a*l+s*o-r*u,this._z=s*h+a*u+r*l-i*o,this._w=a*h-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const A=1-n;return this._w=A*a+n*this._w,this._x=A*r+n*this._x,this._y=A*i+n*this._y,this._z=A*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,o),d=Math.sin((1-n)*h)/u,f=Math.sin(n*h)/u;return this._w=a*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Gt{constructor(e=0,n=0,r=0){Gt.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(dZ.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(dZ.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=l*n+a*i-o*r,h=l*r+o*n-s*i,d=l*i+s*r-a*n,f=-s*n-a*r-o*i;return this.x=u*l+f*-s+h*-o-d*-a,this.y=h*l+f*-a+d*-s-u*-o,this.z=d*l+f*-o+u*-a-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return f4.copy(this).projectOnVector(e),this.sub(f4)}reflect(e){return this.sub(f4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Md(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const f4=new Gt,dZ=new gu;class FL{constructor(e=new Gt(1/0,1/0,1/0),n=new Gt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,a=-1/0,o=-1/0;for(let l=0,u=e.length;l<u;l+=3){const h=e[l],d=e[l+1],f=e[l+2];h<n&&(n=h),d<r&&(r=d),f<i&&(i=f),h>s&&(s=h),d>a&&(a=d),f>o&&(o=f)}return this.min.set(n,r,i),this.max.set(s,a,o),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,a=-1/0,o=-1/0;for(let l=0,u=e.count;l<u;l++){const h=e.getX(l),d=e.getY(l),f=e.getZ(l);h<n&&(n=h),d<r&&(r=d),f<i&&(i=f),h>s&&(s=h),d>a&&(a=d),f>o&&(o=f)}return this.min.set(n,r,i),this.max.set(s,a,o),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=R_.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let a=0,o=s.count;a<o;a++)R_.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(R_)}else r.boundingBox===null&&r.computeBoundingBox(),A4.copy(r.boundingBox),A4.applyMatrix4(e.matrixWorld),this.union(A4);const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,R_),R_.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(f2),PR.subVectors(this.max,f2),Ub.subVectors(e.a,f2),Hb.subVectors(e.b,f2),Gb.subVectors(e.c,f2),g0.subVectors(Hb,Ub),m0.subVectors(Gb,Hb),I_.subVectors(Ub,Gb);let n=[0,-g0.z,g0.y,0,-m0.z,m0.y,0,-I_.z,I_.y,g0.z,0,-g0.x,m0.z,0,-m0.x,I_.z,0,-I_.x,-g0.y,g0.x,0,-m0.y,m0.x,0,-I_.y,I_.x,0];return!p4(n,Ub,Hb,Gb,PR)||(n=[1,0,0,0,1,0,0,0,1],!p4(n,Ub,Hb,Gb,PR))?!1:(FR.crossVectors(g0,m0),n=[FR.x,FR.y,FR.z],p4(n,Ub,Hb,Gb,PR))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return R_.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(R_).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zm),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zm=[new Gt,new Gt,new Gt,new Gt,new Gt,new Gt,new Gt,new Gt],R_=new Gt,A4=new FL,Ub=new Gt,Hb=new Gt,Gb=new Gt,g0=new Gt,m0=new Gt,I_=new Gt,f2=new Gt,PR=new Gt,FR=new Gt,P_=new Gt;function p4(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){P_.fromArray(t,s);const o=i.x*Math.abs(P_.x)+i.y*Math.abs(P_.y)+i.z*Math.abs(P_.z),l=e.dot(P_),u=n.dot(P_),h=r.dot(P_);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>o)return!1}return!0}const mZe=new FL,A2=new Gt,g4=new Gt;class O5{constructor(e=new Gt,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):mZe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;A2.subVectors(e,this.center);const n=A2.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(A2,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(g4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(A2.copy(e.center).add(g4)),this.expandByPoint(A2.copy(e.center).sub(g4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $m=new Gt,m4=new Gt,OR=new Gt,v0=new Gt,v4=new Gt,NR=new Gt,y4=new Gt;class E7{constructor(e=new Gt,n=new Gt(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$m)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=$m.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):($m.copy(this.direction).multiplyScalar(n).add(this.origin),$m.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){m4.copy(e).add(n).multiplyScalar(.5),OR.copy(n).sub(e).normalize(),v0.copy(this.origin).sub(m4);const s=e.distanceTo(n)*.5,a=-this.direction.dot(OR),o=v0.dot(this.direction),l=-v0.dot(OR),u=v0.lengthSq(),h=Math.abs(1-a*a);let d,f,A,m;if(h>0)if(d=a*l-o,f=a*o-l,m=s*h,d>=0)if(f>=-m)if(f<=m){const g=1/h;d*=g,f*=g,A=d*(d+a*f+2*o)+f*(a*d+f+2*l)+u}else f=s,d=Math.max(0,-(a*f+o)),A=-d*d+f*(f+2*l)+u;else f=-s,d=Math.max(0,-(a*f+o)),A=-d*d+f*(f+2*l)+u;else f<=-m?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-l),s),A=-d*d+f*(f+2*l)+u):f<=m?(d=0,f=Math.min(Math.max(-s,-l),s),A=f*(f+2*l)+u):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-l),s),A=-d*d+f*(f+2*l)+u);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),A=-d*d+f*(f+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(OR).multiplyScalar(f).add(m4),A}intersectSphere(e,n){$m.subVectors(e.center,this.origin);const r=$m.dot(this.direction),i=$m.dot($m)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return o<0&&l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),h>=0?(s=(e.min.y-f.y)*h,a=(e.max.y-f.y)*h):(s=(e.max.y-f.y)*h,a=(e.min.y-f.y)*h),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,$m)!==null}intersectTriangle(e,n,r,i,s){v4.subVectors(n,e),NR.subVectors(r,e),y4.crossVectors(v4,NR);let a=this.direction.dot(y4),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;v0.subVectors(this.origin,e);const l=o*this.direction.dot(NR.crossVectors(v0,NR));if(l<0)return null;const u=o*this.direction.dot(v4.cross(v0));if(u<0||l+u>a)return null;const h=-o*v0.dot(y4);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xl{constructor(){xl.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,a,o,l,u,h,d,f,A,m,g,y){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=a,_[9]=o,_[13]=l,_[2]=u,_[6]=h,_[10]=d,_[14]=f,_[3]=A,_[7]=m,_[11]=g,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xl().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Vb.setFromMatrixColumn(e,0).length(),s=1/Vb.setFromMatrixColumn(e,1).length(),a=1/Vb.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=a*h,A=a*d,m=o*h,g=o*d;n[0]=l*h,n[4]=-l*d,n[8]=u,n[1]=A+m*u,n[5]=f-g*u,n[9]=-o*l,n[2]=g-f*u,n[6]=m+A*u,n[10]=a*l}else if(e.order==="YXZ"){const f=l*h,A=l*d,m=u*h,g=u*d;n[0]=f+g*o,n[4]=m*o-A,n[8]=a*u,n[1]=a*d,n[5]=a*h,n[9]=-o,n[2]=A*o-m,n[6]=g+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*h,A=l*d,m=u*h,g=u*d;n[0]=f-g*o,n[4]=-a*d,n[8]=m+A*o,n[1]=A+m*o,n[5]=a*h,n[9]=g-f*o,n[2]=-a*u,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*h,A=a*d,m=o*h,g=o*d;n[0]=l*h,n[4]=m*u-A,n[8]=f*u+g,n[1]=l*d,n[5]=g*u+f,n[9]=A*u-m,n[2]=-u,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,A=a*u,m=o*l,g=o*u;n[0]=l*h,n[4]=g-f*d,n[8]=m*d+A,n[1]=d,n[5]=a*h,n[9]=-o*h,n[2]=-u*h,n[6]=A*d+m,n[10]=f-g*d}else if(e.order==="XZY"){const f=a*l,A=a*u,m=o*l,g=o*u;n[0]=l*h,n[4]=-d,n[8]=u*h,n[1]=f*d+g,n[5]=a*h,n[9]=A*d-m,n[2]=m*d-A,n[6]=o*h,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vZe,e,yZe)}lookAt(e,n,r){const i=this.elements;return of.subVectors(e,n),of.lengthSq()===0&&(of.z=1),of.normalize(),y0.crossVectors(r,of),y0.lengthSq()===0&&(Math.abs(r.z)===1?of.x+=1e-4:of.z+=1e-4,of.normalize(),y0.crossVectors(r,of)),y0.normalize(),DR.crossVectors(of,y0),i[0]=y0.x,i[4]=DR.x,i[8]=of.x,i[1]=y0.y,i[5]=DR.y,i[9]=of.y,i[2]=y0.z,i[6]=DR.z,i[10]=of.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],h=r[1],d=r[5],f=r[9],A=r[13],m=r[2],g=r[6],y=r[10],_=r[14],x=r[3],S=r[7],C=r[11],M=r[15],B=i[0],E=i[4],L=i[8],I=i[12],k=i[1],O=i[5],F=i[9],U=i[13],$=i[2],K=i[6],V=i[10],Q=i[14],X=i[3],z=i[7],ne=i[11],he=i[15];return s[0]=a*B+o*k+l*$+u*X,s[4]=a*E+o*O+l*K+u*z,s[8]=a*L+o*F+l*V+u*ne,s[12]=a*I+o*U+l*Q+u*he,s[1]=h*B+d*k+f*$+A*X,s[5]=h*E+d*O+f*K+A*z,s[9]=h*L+d*F+f*V+A*ne,s[13]=h*I+d*U+f*Q+A*he,s[2]=m*B+g*k+y*$+_*X,s[6]=m*E+g*O+y*K+_*z,s[10]=m*L+g*F+y*V+_*ne,s[14]=m*I+g*U+y*Q+_*he,s[3]=x*B+S*k+C*$+M*X,s[7]=x*E+S*O+C*K+M*z,s[11]=x*L+S*F+C*V+M*ne,s[15]=x*I+S*U+C*Q+M*he,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],h=e[2],d=e[6],f=e[10],A=e[14],m=e[3],g=e[7],y=e[11],_=e[15];return m*(+s*l*d-i*u*d-s*o*f+r*u*f+i*o*A-r*l*A)+g*(+n*l*A-n*u*f+s*a*f-i*a*A+i*u*h-s*l*h)+y*(+n*u*d-n*o*A-s*a*d+r*a*A+s*o*h-r*u*h)+_*(-i*o*h-n*l*d+n*o*f+i*a*d-r*a*f+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=e[9],f=e[10],A=e[11],m=e[12],g=e[13],y=e[14],_=e[15],x=d*y*u-g*f*u+g*l*A-o*y*A-d*l*_+o*f*_,S=m*f*u-h*y*u-m*l*A+a*y*A+h*l*_-a*f*_,C=h*g*u-m*d*u+m*o*A-a*g*A-h*o*_+a*d*_,M=m*d*l-h*g*l-m*o*f+a*g*f+h*o*y-a*d*y,B=n*x+r*S+i*C+s*M;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/B;return e[0]=x*E,e[1]=(g*f*s-d*y*s-g*i*A+r*y*A+d*i*_-r*f*_)*E,e[2]=(o*y*s-g*l*s+g*i*u-r*y*u-o*i*_+r*l*_)*E,e[3]=(d*l*s-o*f*s-d*i*u+r*f*u+o*i*A-r*l*A)*E,e[4]=S*E,e[5]=(h*y*s-m*f*s+m*i*A-n*y*A-h*i*_+n*f*_)*E,e[6]=(m*l*s-a*y*s-m*i*u+n*y*u+a*i*_-n*l*_)*E,e[7]=(a*f*s-h*l*s+h*i*u-n*f*u-a*i*A+n*l*A)*E,e[8]=C*E,e[9]=(m*d*s-h*g*s-m*r*A+n*g*A+h*r*_-n*d*_)*E,e[10]=(a*g*s-m*o*s+m*r*u-n*g*u-a*r*_+n*o*_)*E,e[11]=(h*o*s-a*d*s-h*r*u+n*d*u+a*r*A-n*o*A)*E,e[12]=M*E,e[13]=(h*g*i-m*d*i+m*r*f-n*g*f-h*r*y+n*d*y)*E,e[14]=(m*o*i-a*g*i-m*r*l+n*g*l+a*r*y-n*o*y)*E,e[15]=(a*d*i-h*o*i+h*r*l-n*d*l-a*r*f+n*o*f)*E,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,h=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,h*o+r,h*l-i*a,0,u*l-i*o,h*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,u=s+s,h=a+a,d=o+o,f=s*u,A=s*h,m=s*d,g=a*h,y=a*d,_=o*d,x=l*u,S=l*h,C=l*d,M=r.x,B=r.y,E=r.z;return i[0]=(1-(g+_))*M,i[1]=(A+C)*M,i[2]=(m-S)*M,i[3]=0,i[4]=(A-C)*B,i[5]=(1-(f+_))*B,i[6]=(y+x)*B,i[7]=0,i[8]=(m+S)*E,i[9]=(y-x)*E,i[10]=(1-(f+g))*E,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Vb.set(i[0],i[1],i[2]).length();const a=Vb.set(i[4],i[5],i[6]).length(),o=Vb.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],QA.copy(this);const u=1/s,h=1/a,d=1/o;return QA.elements[0]*=u,QA.elements[1]*=u,QA.elements[2]*=u,QA.elements[4]*=h,QA.elements[5]*=h,QA.elements[6]*=h,QA.elements[8]*=d,QA.elements[9]*=d,QA.elements[10]*=d,n.setFromRotationMatrix(QA),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a){const o=this.elements,l=2*s/(n-e),u=2*s/(r-i),h=(n+e)/(n-e),d=(r+i)/(r-i),f=-(a+s)/(a-s),A=-2*a*s/(a-s);return o[0]=l,o[4]=0,o[8]=h,o[12]=0,o[1]=0,o[5]=u,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=A,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,n,r,i,s,a){const o=this.elements,l=1/(n-e),u=1/(r-i),h=1/(a-s),d=(n+e)*l,f=(r+i)*u,A=(a+s)*h;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*h,o[14]=-A,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Vb=new Gt,QA=new xl,vZe=new Gt(0,0,0),yZe=new Gt(1,1,1),y0=new Gt,DR=new Gt,of=new Gt,fZ=new xl,AZ=new gu;class OL{constructor(e=0,n=0,r=0,i=OL.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],h=i[9],d=i[2],f=i[6],A=i[10];switch(n){case"XYZ":this._y=Math.asin(Md(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,A),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Md(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,A),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Md(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,A),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Md(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,A),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Md(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,A));break;case"XZY":this._z=Math.asin(-Md(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return fZ.makeRotationFromQuaternion(e),this.setFromRotationMatrix(fZ,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return AZ.setFromEuler(this),this.setFromQuaternion(AZ,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}OL.DEFAULT_ORDER="XYZ";class S7{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _Ze=0;const pZ=new Gt,zb=new gu,Qm=new xl,kR=new Gt,p2=new Gt,wZe=new Gt,bZe=new gu,gZ=new Gt(1,0,0),mZ=new Gt(0,1,0),vZ=new Gt(0,0,1),xZe={type:"added"},yZ={type:"removed"};class El extends gw{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_Ze++}),this.uuid=PL(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=El.DEFAULT_UP.clone();const e=new Gt,n=new OL,r=new gu,i=new Gt(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xl},normalMatrix:{value:new yf}}),this.matrix=new xl,this.matrixWorld=new xl,this.matrixAutoUpdate=El.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=El.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new S7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return zb.setFromAxisAngle(e,n),this.quaternion.multiply(zb),this}rotateOnWorldAxis(e,n){return zb.setFromAxisAngle(e,n),this.quaternion.premultiply(zb),this}rotateX(e){return this.rotateOnAxis(gZ,e)}rotateY(e){return this.rotateOnAxis(mZ,e)}rotateZ(e){return this.rotateOnAxis(vZ,e)}translateOnAxis(e,n){return pZ.copy(e).applyQuaternion(this.quaternion),this.position.add(pZ.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(gZ,e)}translateY(e){return this.translateOnAxis(mZ,e)}translateZ(e){return this.translateOnAxis(vZ,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qm.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?kR.copy(e):kR.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),p2.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qm.lookAt(p2,kR,this.up):Qm.lookAt(kR,p2,this.up),this.quaternion.setFromRotationMatrix(Qm),i&&(Qm.extractRotation(i.matrixWorld),zb.setFromRotationMatrix(Qm),this.quaternion.premultiply(zb.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xZe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(yZ)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(yZ)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Qm.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qm.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qm),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectsByProperty(e,n);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(p2,e,wZe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(p2,bZe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),h=a(e.images),d=a(e.shapes),f=a(e.skeletons),A=a(e.animations),m=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),A.length>0&&(r.animations=A),m.length>0&&(r.nodes=m)}return r.object=i,r;function a(o){const l=[];for(const u in o){const h=o[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}El.DEFAULT_UP=new Gt(0,1,0);El.DEFAULT_MATRIX_AUTO_UPDATE=!0;El.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const WA=new Gt,Wm=new Gt,_4=new Gt,jm=new Gt,$b=new Gt,Qb=new Gt,_Z=new Gt,w4=new Gt,b4=new Gt,x4=new Gt;class zg{constructor(e=new Gt,n=new Gt,r=new Gt){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),WA.subVectors(e,n),i.cross(WA);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){WA.subVectors(i,n),Wm.subVectors(r,n),_4.subVectors(e,n);const a=WA.dot(WA),o=WA.dot(Wm),l=WA.dot(_4),u=Wm.dot(Wm),h=Wm.dot(_4),d=a*u-o*o;if(d===0)return s.set(-2,-1,-1);const f=1/d,A=(u*l-o*h)*f,m=(a*h-o*l)*f;return s.set(1-A-m,m,A)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,jm),jm.x>=0&&jm.y>=0&&jm.x+jm.y<=1}static getUV(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,jm),l.set(0,0),l.addScaledVector(s,jm.x),l.addScaledVector(a,jm.y),l.addScaledVector(o,jm.z),l}static isFrontFacing(e,n,r,i){return WA.subVectors(r,n),Wm.subVectors(e,n),WA.cross(Wm).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return WA.subVectors(this.c,this.b),Wm.subVectors(this.a,this.b),WA.cross(Wm).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zg.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return zg.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return zg.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return zg.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zg.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;$b.subVectors(i,r),Qb.subVectors(s,r),w4.subVectors(e,r);const l=$b.dot(w4),u=Qb.dot(w4);if(l<=0&&u<=0)return n.copy(r);b4.subVectors(e,i);const h=$b.dot(b4),d=Qb.dot(b4);if(h>=0&&d<=h)return n.copy(i);const f=l*d-h*u;if(f<=0&&l>=0&&h<=0)return a=l/(l-h),n.copy(r).addScaledVector($b,a);x4.subVectors(e,s);const A=$b.dot(x4),m=Qb.dot(x4);if(m>=0&&A<=m)return n.copy(s);const g=A*u-l*m;if(g<=0&&u>=0&&m<=0)return o=u/(u-m),n.copy(r).addScaledVector(Qb,o);const y=h*m-A*d;if(y<=0&&d-h>=0&&A-m>=0)return _Z.subVectors(s,i),o=(d-h)/(d-h+(A-m)),n.copy(i).addScaledVector(_Z,o);const _=1/(y+g+f);return a=g*_,o=f*_,n.copy(r).addScaledVector($b,a).addScaledVector(Qb,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let EZe=0;class mw extends gw{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EZe++}),this.uuid=PL(),this.name="",this.type="Material",this.blending=bE,this.side=_y,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Kde,this.blendDst=qde,this.blendEquation=Lx,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=zH,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fZe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=o4,this.stencilZFail=o4,this.stencilZPass=o4,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==bE&&(r.blending=this.blending),this.side!==_y&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class N5 extends mw{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Zs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=b7,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ic=new Gt,UR=new ms;class mp{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=cZ,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)UR.fromBufferAttribute(this,n),UR.applyMatrix3(e),this.setXY(n,UR.x,UR.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ic.fromBufferAttribute(this,n),ic.applyMatrix3(e),this.setXYZ(n,ic.x,ic.y,ic.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ic.fromBufferAttribute(this,n),ic.applyMatrix4(e),this.setXYZ(n,ic.x,ic.y,ic.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ic.fromBufferAttribute(this,n),ic.applyNormalMatrix(e),this.setXYZ(n,ic.x,ic.y,ic.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ic.fromBufferAttribute(this,n),ic.transformDirection(e),this.setXYZ(n,ic.x,ic.y,ic.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=BR(n,this.array)),n}setX(e,n){return this.normalized&&(n=af(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=BR(n,this.array)),n}setY(e,n){return this.normalized&&(n=af(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=BR(n,this.array)),n}setZ(e,n){return this.normalized&&(n=af(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=BR(n,this.array)),n}setW(e,n){return this.normalized&&(n=af(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=af(n,this.array),r=af(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=af(n,this.array),r=af(r,this.array),i=af(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=af(n,this.array),r=af(r,this.array),i=af(i,this.array),s=af(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cZ&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class rfe extends mp{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class ife extends mp{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class co extends mp{constructor(e,n,r){super(new Float32Array(e),n,r)}}let SZe=0;const Xf=new xl,E4=new El,Wb=new Gt,lf=new FL,g2=new FL,Vc=new Gt;class cc extends gw{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SZe++}),this.uuid=PL(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zde(e)?ife:rfe)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new yf().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xf.makeRotationFromQuaternion(e),this.applyMatrix4(Xf),this}rotateX(e){return Xf.makeRotationX(e),this.applyMatrix4(Xf),this}rotateY(e){return Xf.makeRotationY(e),this.applyMatrix4(Xf),this}rotateZ(e){return Xf.makeRotationZ(e),this.applyMatrix4(Xf),this}translate(e,n,r){return Xf.makeTranslation(e,n,r),this.applyMatrix4(Xf),this}scale(e,n,r){return Xf.makeScale(e,n,r),this.applyMatrix4(Xf),this}lookAt(e){return E4.lookAt(e),E4.updateMatrix(),this.applyMatrix4(E4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wb).negate(),this.translate(Wb.x,Wb.y,Wb.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new co(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new FL);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Gt(-1/0,-1/0,-1/0),new Gt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];lf.setFromBufferAttribute(s),this.morphTargetsRelative?(Vc.addVectors(this.boundingBox.min,lf.min),this.boundingBox.expandByPoint(Vc),Vc.addVectors(this.boundingBox.max,lf.max),this.boundingBox.expandByPoint(Vc)):(this.boundingBox.expandByPoint(lf.min),this.boundingBox.expandByPoint(lf.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new O5);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Gt,1/0);return}if(e){const r=this.boundingSphere.center;if(lf.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];g2.setFromBufferAttribute(o),this.morphTargetsRelative?(Vc.addVectors(lf.min,g2.min),lf.expandByPoint(Vc),Vc.addVectors(lf.max,g2.max),lf.expandByPoint(Vc)):(lf.expandByPoint(g2.min),lf.expandByPoint(g2.max))}lf.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Vc.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Vc));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Vc.fromBufferAttribute(o,u),l&&(Wb.fromBufferAttribute(e,u),Vc.add(Wb)),i=Math.max(i,r.distanceToSquared(Vc))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,a=n.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mp(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let k=0;k<o;k++)u[k]=new Gt,h[k]=new Gt;const d=new Gt,f=new Gt,A=new Gt,m=new ms,g=new ms,y=new ms,_=new Gt,x=new Gt;function S(k,O,F){d.fromArray(i,k*3),f.fromArray(i,O*3),A.fromArray(i,F*3),m.fromArray(a,k*2),g.fromArray(a,O*2),y.fromArray(a,F*2),f.sub(d),A.sub(d),g.sub(m),y.sub(m);const U=1/(g.x*y.y-y.x*g.y);isFinite(U)&&(_.copy(f).multiplyScalar(y.y).addScaledVector(A,-g.y).multiplyScalar(U),x.copy(A).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(U),u[k].add(_),u[O].add(_),u[F].add(_),h[k].add(x),h[O].add(x),h[F].add(x))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let k=0,O=C.length;k<O;++k){const F=C[k],U=F.start,$=F.count;for(let K=U,V=U+$;K<V;K+=3)S(r[K+0],r[K+1],r[K+2])}const M=new Gt,B=new Gt,E=new Gt,L=new Gt;function I(k){E.fromArray(s,k*3),L.copy(E);const O=u[k];M.copy(O),M.sub(E.multiplyScalar(E.dot(O))).normalize(),B.crossVectors(L,O);const U=B.dot(h[k])<0?-1:1;l[k*4]=M.x,l[k*4+1]=M.y,l[k*4+2]=M.z,l[k*4+3]=U}for(let k=0,O=C.length;k<O;++k){const F=C[k],U=F.start,$=F.count;for(let K=U,V=U+$;K<V;K+=3)I(r[K+0]),I(r[K+1]),I(r[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mp(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,A=r.count;f<A;f++)r.setXYZ(f,0,0,0);const i=new Gt,s=new Gt,a=new Gt,o=new Gt,l=new Gt,u=new Gt,h=new Gt,d=new Gt;if(e)for(let f=0,A=e.count;f<A;f+=3){const m=e.getX(f+0),g=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,g),a.fromBufferAttribute(n,y),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),o.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,y),o.add(h),l.add(h),u.add(h),r.setXYZ(m,o.x,o.y,o.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,A=n.count;f<A;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),r.setXYZ(f+0,h.x,h.y,h.z),r.setXYZ(f+1,h.x,h.y,h.z),r.setXYZ(f+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Vc.fromBufferAttribute(e,n),Vc.normalize(),e.setXYZ(n,Vc.x,Vc.y,Vc.z)}toNonIndexed(){function e(o,l){const u=o.array,h=o.itemSize,d=o.normalized,f=new u.constructor(l.length*h);let A=0,m=0;for(let g=0,y=l.length;g<y;g++){o.isInterleavedBufferAttribute?A=l[g]*o.data.stride+o.offset:A=l[g]*h;for(let _=0;_<h;_++)f[m++]=u[A++]}return new mp(f,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new cc,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let h=0,d=u.length;h<d;h++){const f=u[h],A=e(f,r);l.push(A)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,f=u.length;d<f;d++){const A=u[d];h.push(A.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let f=0,A=d.length;f<A;f++)h.push(d[f].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const d=a[u];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const wZ=new xl,jb=new E7,S4=new O5,m2=new Gt,v2=new Gt,y2=new Gt,C4=new Gt,HR=new Gt,GR=new ms,VR=new ms,zR=new ms,T4=new Gt,$R=new Gt;class Ir extends El{constructor(e=new cc,n=new N5){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){HR.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=o[l],d=s[l];h!==0&&(C4.fromBufferAttribute(d,e),a?HR.addScaledVector(C4,h):HR.addScaledVector(C4.sub(n),h))}n.add(HR)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),S4.copy(r.boundingSphere),S4.applyMatrix4(s),e.ray.intersectsSphere(S4)===!1)||(wZ.copy(s).invert(),jb.copy(e.ray).applyMatrix4(wZ),r.boundingBox!==null&&jb.intersectsBox(r.boundingBox)===!1))return;let a;const o=r.index,l=r.attributes.position,u=r.attributes.uv,h=r.attributes.uv2,d=r.groups,f=r.drawRange;if(o!==null)if(Array.isArray(i))for(let A=0,m=d.length;A<m;A++){const g=d[A],y=i[g.materialIndex],_=Math.max(g.start,f.start),x=Math.min(o.count,Math.min(g.start+g.count,f.start+f.count));for(let S=_,C=x;S<C;S+=3){const M=o.getX(S),B=o.getX(S+1),E=o.getX(S+2);a=QR(this,y,e,jb,u,h,M,B,E),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=g.materialIndex,n.push(a))}}else{const A=Math.max(0,f.start),m=Math.min(o.count,f.start+f.count);for(let g=A,y=m;g<y;g+=3){const _=o.getX(g),x=o.getX(g+1),S=o.getX(g+2);a=QR(this,i,e,jb,u,h,_,x,S),a&&(a.faceIndex=Math.floor(g/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(i))for(let A=0,m=d.length;A<m;A++){const g=d[A],y=i[g.materialIndex],_=Math.max(g.start,f.start),x=Math.min(l.count,Math.min(g.start+g.count,f.start+f.count));for(let S=_,C=x;S<C;S+=3){const M=S,B=S+1,E=S+2;a=QR(this,y,e,jb,u,h,M,B,E),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=g.materialIndex,n.push(a))}}else{const A=Math.max(0,f.start),m=Math.min(l.count,f.start+f.count);for(let g=A,y=m;g<y;g+=3){const _=g,x=g+1,S=g+2;a=QR(this,i,e,jb,u,h,_,x,S),a&&(a.faceIndex=Math.floor(g/3),n.push(a))}}}}function CZe(t,e,n,r,i,s,a,o){let l;if(e.side===Sf?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===_y,o),l===null)return null;$R.copy(o),$R.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo($R);return u<n.near||u>n.far?null:{distance:u,point:$R.clone(),object:t}}function QR(t,e,n,r,i,s,a,o,l){t.getVertexPosition(a,m2),t.getVertexPosition(o,v2),t.getVertexPosition(l,y2);const u=CZe(t,e,n,r,m2,v2,y2,T4);if(u){i&&(GR.fromBufferAttribute(i,a),VR.fromBufferAttribute(i,o),zR.fromBufferAttribute(i,l),u.uv=zg.getUV(T4,m2,v2,y2,GR,VR,zR,new ms)),s&&(GR.fromBufferAttribute(s,a),VR.fromBufferAttribute(s,o),zR.fromBufferAttribute(s,l),u.uv2=zg.getUV(T4,m2,v2,y2,GR,VR,zR,new ms));const h={a,b:o,c:l,normal:new Gt,materialIndex:0};zg.getNormal(m2,v2,y2,h.normal),u.face=h}return u}class jo extends cc{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],h=[],d=[];let f=0,A=0;m("z","y","x",-1,-1,r,n,e,a,s,0),m("z","y","x",1,-1,r,n,-e,a,s,1),m("x","z","y",1,1,e,r,n,i,a,2),m("x","z","y",1,-1,e,r,-n,i,a,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new co(u,3)),this.setAttribute("normal",new co(h,3)),this.setAttribute("uv",new co(d,2));function m(g,y,_,x,S,C,M,B,E,L,I){const k=C/E,O=M/L,F=C/2,U=M/2,$=B/2,K=E+1,V=L+1;let Q=0,X=0;const z=new Gt;for(let ne=0;ne<V;ne++){const he=ne*O-U;for(let W=0;W<K;W++){const Y=W*k-F;z[g]=Y*x,z[y]=he*S,z[_]=$,u.push(z.x,z.y,z.z),z[g]=0,z[y]=0,z[_]=B>0?1:-1,h.push(z.x,z.y,z.z),d.push(W/E),d.push(1-ne/L),Q+=1}}for(let ne=0;ne<L;ne++)for(let he=0;he<E;he++){const W=f+he+K*ne,Y=f+he+K*(ne+1),oe=f+(he+1)+K*(ne+1),fe=f+(he+1)+K*ne;l.push(W,Y,fe),l.push(Y,oe,fe),X+=6}o.addGroup(A,X,I),A+=X,f+=Q}}static fromJSON(e){return new jo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function dS(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Bh(t){const e={};for(let n=0;n<t.length;n++){const r=dS(t[n]);for(const i in r)e[i]=r[i]}return e}function TZe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function sfe(t){return t.getRenderTarget()===null&&t.outputEncoding===Do?kg:kM}const MZe={clone:dS,merge:Bh};var LZe="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",BZe="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class ew extends mw{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=LZe,this.fragmentShader=BZe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=dS(e.uniforms),this.uniformsGroups=TZe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class afe extends El{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xl,this.projectionMatrix=new xl,this.projectionMatrixInverse=new xl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class df extends afe{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=qH*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lF*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return qH*2*Math.atan(Math.tan(lF*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(lF*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kb=-90,qb=1;class RZe extends El{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new df(Kb,qb,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new df(Kb,qb,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const a=new df(Kb,qb,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new df(Kb,qb,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const l=new df(Kb,qb,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new df(Kb,qb,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,a,o,l,u]=this.children,h=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Av,e.xr.enabled=!1;const A=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,a),e.setRenderTarget(r,3),e.render(n,o),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=A,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class ofe extends Cf{constructor(e,n,r,i,s,a,o,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:cS,super(e,n,r,i,s,a,o,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class IZe extends J1{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new ofe(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:nA}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			",fragmentShader:"\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			"},i=new jo(5,5,5),s=new ew({name:"CubemapFromEquirect",uniforms:dS(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Sf,blending:oy});s.uniforms.tEquirect.value=n;const a=new Ir(i,s),o=n.minFilter;return n.minFilter===NM&&(n.minFilter=nA),new RZe(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const M4=new Gt,PZe=new Gt,FZe=new yf;class W_{constructor(e=new Gt(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=M4.subVectors(r,n).cross(PZe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(M4),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||FZe.getNormalMatrix(e),i=this.coplanarPoint(M4).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xb=new O5,WR=new Gt;class C7{constructor(e=new W_,n=new W_,r=new W_,i=new W_,s=new W_,a=new W_){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5],h=r[6],d=r[7],f=r[8],A=r[9],m=r[10],g=r[11],y=r[12],_=r[13],x=r[14],S=r[15];return n[0].setComponents(o-i,d-l,g-f,S-y).normalize(),n[1].setComponents(o+i,d+l,g+f,S+y).normalize(),n[2].setComponents(o+s,d+u,g+A,S+_).normalize(),n[3].setComponents(o-s,d-u,g-A,S-_).normalize(),n[4].setComponents(o-a,d-h,g-m,S-x).normalize(),n[5].setComponents(o+a,d+h,g+m,S+x).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Xb.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xb)}intersectsSprite(e){return Xb.center.set(0,0,0),Xb.radius=.7071067811865476,Xb.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xb)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(WR.x=i.normal.x>0?e.max.x:e.min.x,WR.y=i.normal.y>0?e.max.y:e.min.y,WR.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(WR)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lfe(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function OZe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,h){const d=u.array,f=u.usage,A=t.createBuffer();t.bindBuffer(h,A),t.bufferData(h,d,f),u.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:A,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,d){const f=h.array,A=h.updateRange;t.bindBuffer(d,u),A.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,A.offset*f.BYTES_PER_ELEMENT,f,A.offset,A.count):t.bufferSubData(d,A.offset*f.BYTES_PER_ELEMENT,f.subarray(A.offset,A.offset+A.count)),A.count=-1),h.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(t.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const f=r.get(u);(!f||f.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,h)):d.version<u.version&&(s(d.buffer,u,h),d.version=u.version)}return{get:a,remove:o,update:l}}class W0 extends cc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),u=o+1,h=l+1,d=e/o,f=n/l,A=[],m=[],g=[],y=[];for(let _=0;_<h;_++){const x=_*f-a;for(let S=0;S<u;S++){const C=S*d-s;m.push(C,-x,0),g.push(0,0,1),y.push(S/o),y.push(1-_/l)}}for(let _=0;_<l;_++)for(let x=0;x<o;x++){const S=x+u*_,C=x+u*(_+1),M=x+1+u*(_+1),B=x+1+u*_;A.push(S,C,B),A.push(C,M,B)}this.setIndex(A),this.setAttribute("position",new co(m,3)),this.setAttribute("normal",new co(g,3)),this.setAttribute("uv",new co(y,2))}static fromJSON(e){return new W0(e.width,e.height,e.widthSegments,e.heightSegments)}}var NZe="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",DZe="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",kZe="#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif",UZe="#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",HZe="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",GZe="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",VZe="vec3 transformed = vec3( position );",zZe="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",$Ze="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif",QZe="#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",WZe="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",jZe="#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif",KZe="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",qZe="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",XZe="#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",YZe="#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",ZZe="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",JZe="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",eJe="#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",tJe="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}",nJe="#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",rJe="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",iJe="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",sJe="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",aJe="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",oJe="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",lJe="gl_FragColor = linearToOutputTexel( gl_FragColor );",cJe="vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",uJe="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",hJe="#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",dJe="#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",fJe="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",AJe="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",pJe="#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",gJe="#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",mJe="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",vJe="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",yJe="#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",_Je="#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",wJe="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",bJe="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",xJe="varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",EJe="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#else\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",SJe="#if defined( USE_ENVMAP )\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n#endif",CJe="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",TJe="varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",MJe="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",LJe="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",BJe="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULARINTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n		#endif\n		#ifdef USE_SPECULARCOLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEENCOLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEENROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n	#endif\n#endif",RJe="struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	#ifdef USE_IRIDESCENCE\n		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n	#else\n		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",IJe="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",PJe="#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",FJe="#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",OJe="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",NJe="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",DJe="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif",kJe="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif",UJe="#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",HJe="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",GJe="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",VJe="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	uniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",zJe="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",$Je="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",QJe="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",WJe="#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",jJe="#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",KJe="#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",qJe="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	#ifdef USE_TANGENT\n		vec3 tangent = normalize( vTangent );\n		vec3 bitangent = normalize( vBitangent );\n		#ifdef DOUBLE_SIDED\n			tangent = tangent * faceDirection;\n			bitangent = bitangent * faceDirection;\n		#endif\n		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n			mat3 vTBN = mat3( tangent, bitangent, normal );\n		#endif\n	#endif\n#endif\nvec3 geometryNormal = normal;",XJe="#ifdef OBJECTSPACE_NORMALMAP\n	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	#ifdef USE_TANGENT\n		normal = normalize( vTBN * mapN );\n	#else\n		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n	#endif\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",YJe="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",ZJe="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",JJe="#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",eet="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n	}\n#endif",tet="#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif",net="#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	#ifdef USE_TANGENT\n		clearcoatNormal = normalize( vTBN * clearcoatMapN );\n	#else\n		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n	#endif\n#endif",ret="#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif",iet="#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",set="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",aet="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n	return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",oet="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",cet="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",uet="#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",het="#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",det="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",fet="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",Aet="#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif",pet="#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",get="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",met="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",vet="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",yet="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif",_et="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",wet="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",bet="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",xet="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",Eet="#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Cet="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Tet="#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmission = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",Met="#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		#ifdef texture2DLodEXT\n			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n		#else\n			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n		#endif\n	}\n	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return radiance;\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n	}\n#endif",Let="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n	varying vec2 vUv;\n#endif",Bet="#ifdef USE_UV\n	#ifdef UVS_VERTEX_ONLY\n		vec2 vUv;\n	#else\n		varying vec2 vUv;\n	#endif\n	uniform mat3 uvTransform;\n#endif",Ret="#ifdef USE_UV\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Iet="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",Pet="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n	uniform mat3 uv2Transform;\n#endif",Fet="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",Oet="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif";const Net="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Det="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",ket="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",Uet="#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",Het="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",Get="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",Vet="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",zet="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",$et="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",Qet="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",Wet="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",jet="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",Ket="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",qet="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",Xet="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",Yet="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",Zet="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",Jet="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",ett="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",ttt="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",ntt="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",rtt="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",itt="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",stt="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",att="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",ott="#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULARINTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n	#ifdef USE_SPECULARCOLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEENCOLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEENROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",ltt="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",ctt="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",utt="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",htt="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",dtt="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",ftt="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",Att="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",ptt="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",Ds={alphamap_fragment:NZe,alphamap_pars_fragment:DZe,alphatest_fragment:kZe,alphatest_pars_fragment:UZe,aomap_fragment:HZe,aomap_pars_fragment:GZe,begin_vertex:VZe,beginnormal_vertex:zZe,bsdfs:$Ze,iridescence_fragment:QZe,bumpmap_pars_fragment:WZe,clipping_planes_fragment:jZe,clipping_planes_pars_fragment:KZe,clipping_planes_pars_vertex:qZe,clipping_planes_vertex:XZe,color_fragment:YZe,color_pars_fragment:ZZe,color_pars_vertex:JZe,color_vertex:eJe,common:tJe,cube_uv_reflection_fragment:nJe,defaultnormal_vertex:rJe,displacementmap_pars_vertex:iJe,displacementmap_vertex:sJe,emissivemap_fragment:aJe,emissivemap_pars_fragment:oJe,encodings_fragment:lJe,encodings_pars_fragment:cJe,envmap_fragment:uJe,envmap_common_pars_fragment:hJe,envmap_pars_fragment:dJe,envmap_pars_vertex:fJe,envmap_physical_pars_fragment:SJe,envmap_vertex:AJe,fog_vertex:pJe,fog_pars_vertex:gJe,fog_fragment:mJe,fog_pars_fragment:vJe,gradientmap_pars_fragment:yJe,lightmap_fragment:_Je,lightmap_pars_fragment:wJe,lights_lambert_fragment:bJe,lights_lambert_pars_fragment:xJe,lights_pars_begin:EJe,lights_toon_fragment:CJe,lights_toon_pars_fragment:TJe,lights_phong_fragment:MJe,lights_phong_pars_fragment:LJe,lights_physical_fragment:BJe,lights_physical_pars_fragment:RJe,lights_fragment_begin:IJe,lights_fragment_maps:PJe,lights_fragment_end:FJe,logdepthbuf_fragment:OJe,logdepthbuf_pars_fragment:NJe,logdepthbuf_pars_vertex:DJe,logdepthbuf_vertex:kJe,map_fragment:UJe,map_pars_fragment:HJe,map_particle_fragment:GJe,map_particle_pars_fragment:VJe,metalnessmap_fragment:zJe,metalnessmap_pars_fragment:$Je,morphcolor_vertex:QJe,morphnormal_vertex:WJe,morphtarget_pars_vertex:jJe,morphtarget_vertex:KJe,normal_fragment_begin:qJe,normal_fragment_maps:XJe,normal_pars_fragment:YJe,normal_pars_vertex:ZJe,normal_vertex:JJe,normalmap_pars_fragment:eet,clearcoat_normal_fragment_begin:tet,clearcoat_normal_fragment_maps:net,clearcoat_pars_fragment:ret,iridescence_pars_fragment:iet,output_fragment:set,packing:aet,premultiplied_alpha_fragment:oet,project_vertex:cet,dithering_fragment:uet,dithering_pars_fragment:het,roughnessmap_fragment:det,roughnessmap_pars_fragment:fet,shadowmap_pars_fragment:Aet,shadowmap_pars_vertex:pet,shadowmap_vertex:get,shadowmask_pars_fragment:met,skinbase_vertex:vet,skinning_pars_vertex:yet,skinning_vertex:_et,skinnormal_vertex:wet,specularmap_fragment:bet,specularmap_pars_fragment:xet,tonemapping_fragment:Eet,tonemapping_pars_fragment:Cet,transmission_fragment:Tet,transmission_pars_fragment:Met,uv_pars_fragment:Let,uv_pars_vertex:Bet,uv_vertex:Ret,uv2_pars_fragment:Iet,uv2_pars_vertex:Pet,uv2_vertex:Fet,worldpos_vertex:Oet,background_vert:Net,background_frag:Det,backgroundCube_vert:ket,backgroundCube_frag:Uet,cube_vert:Het,cube_frag:Get,depth_vert:Vet,depth_frag:zet,distanceRGBA_vert:$et,distanceRGBA_frag:Qet,equirect_vert:Wet,equirect_frag:jet,linedashed_vert:Ket,linedashed_frag:qet,meshbasic_vert:Xet,meshbasic_frag:Yet,meshlambert_vert:Zet,meshlambert_frag:Jet,meshmatcap_vert:ett,meshmatcap_frag:ttt,meshnormal_vert:ntt,meshnormal_frag:rtt,meshphong_vert:itt,meshphong_frag:stt,meshphysical_vert:att,meshphysical_frag:ott,meshtoon_vert:ltt,meshtoon_frag:ctt,points_vert:utt,points_frag:htt,shadow_vert:dtt,shadow_frag:ftt,sprite_vert:Att,sprite_frag:ptt},Ur={common:{diffuse:{value:new Zs(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new yf},uv2Transform:{value:new yf},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ms(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zs(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Zs(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yf}},sprite:{diffuse:{value:new Zs(16777215)},opacity:{value:1},center:{value:new ms(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yf}}},Gg={basic:{uniforms:Bh([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.fog]),vertexShader:Ds.meshbasic_vert,fragmentShader:Ds.meshbasic_frag},lambert:{uniforms:Bh([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,Ur.lights,{emissive:{value:new Zs(0)}}]),vertexShader:Ds.meshlambert_vert,fragmentShader:Ds.meshlambert_frag},phong:{uniforms:Bh([Ur.common,Ur.specularmap,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,Ur.lights,{emissive:{value:new Zs(0)},specular:{value:new Zs(1118481)},shininess:{value:30}}]),vertexShader:Ds.meshphong_vert,fragmentShader:Ds.meshphong_frag},standard:{uniforms:Bh([Ur.common,Ur.envmap,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.roughnessmap,Ur.metalnessmap,Ur.fog,Ur.lights,{emissive:{value:new Zs(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ds.meshphysical_vert,fragmentShader:Ds.meshphysical_frag},toon:{uniforms:Bh([Ur.common,Ur.aomap,Ur.lightmap,Ur.emissivemap,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.gradientmap,Ur.fog,Ur.lights,{emissive:{value:new Zs(0)}}]),vertexShader:Ds.meshtoon_vert,fragmentShader:Ds.meshtoon_frag},matcap:{uniforms:Bh([Ur.common,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,Ur.fog,{matcap:{value:null}}]),vertexShader:Ds.meshmatcap_vert,fragmentShader:Ds.meshmatcap_frag},points:{uniforms:Bh([Ur.points,Ur.fog]),vertexShader:Ds.points_vert,fragmentShader:Ds.points_frag},dashed:{uniforms:Bh([Ur.common,Ur.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ds.linedashed_vert,fragmentShader:Ds.linedashed_frag},depth:{uniforms:Bh([Ur.common,Ur.displacementmap]),vertexShader:Ds.depth_vert,fragmentShader:Ds.depth_frag},normal:{uniforms:Bh([Ur.common,Ur.bumpmap,Ur.normalmap,Ur.displacementmap,{opacity:{value:1}}]),vertexShader:Ds.meshnormal_vert,fragmentShader:Ds.meshnormal_frag},sprite:{uniforms:Bh([Ur.sprite,Ur.fog]),vertexShader:Ds.sprite_vert,fragmentShader:Ds.sprite_frag},background:{uniforms:{uvTransform:{value:new yf},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ds.background_vert,fragmentShader:Ds.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ds.backgroundCube_vert,fragmentShader:Ds.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ds.cube_vert,fragmentShader:Ds.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ds.equirect_vert,fragmentShader:Ds.equirect_frag},distanceRGBA:{uniforms:Bh([Ur.common,Ur.displacementmap,{referencePosition:{value:new Gt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ds.distanceRGBA_vert,fragmentShader:Ds.distanceRGBA_frag},shadow:{uniforms:Bh([Ur.lights,Ur.fog,{color:{value:new Zs(0)},opacity:{value:1}}]),vertexShader:Ds.shadow_vert,fragmentShader:Ds.shadow_frag}};Gg.physical={uniforms:Bh([Gg.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ms(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Zs(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ms},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Zs(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Zs(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ds.meshphysical_vert,fragmentShader:Ds.meshphysical_frag};const jR={r:0,b:0,g:0};function gtt(t,e,n,r,i,s,a){const o=new Zs(0);let l=s===!0?0:1,u,h,d=null,f=0,A=null;function m(y,_){let x=!1,S=_.isScene===!0?_.background:null;S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S));const C=t.xr,M=C.getSession&&C.getSession();M&&M.environmentBlendMode==="additive"&&(S=null),S===null?g(o,l):S&&S.isColor&&(g(S,1),x=!0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===F5)?(h===void 0&&(h=new Ir(new jo(1,1,1),new ew({name:"BackgroundCubeMaterial",uniforms:dS(Gg.backgroundCube.uniforms),vertexShader:Gg.backgroundCube.vertexShader,fragmentShader:Gg.backgroundCube.fragmentShader,side:Sf,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(B,E,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=S,h.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,h.material.toneMapped=S.encoding!==Do,(d!==S||f!==S.version||A!==t.toneMapping)&&(h.material.needsUpdate=!0,d=S,f=S.version,A=t.toneMapping),h.layers.enableAll(),y.unshift(h,h.geometry,h.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Ir(new W0(2,2),new ew({name:"BackgroundMaterial",uniforms:dS(Gg.background.uniforms),vertexShader:Gg.background.vertexShader,fragmentShader:Gg.background.fragmentShader,side:_y,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=S.encoding!==Do,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||A!==t.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,A=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function g(y,_){y.getRGB(jR,sfe(t)),r.buffers.color.setClear(jR.r,jR.g,jR.b,_,a)}return{getClearColor:function(){return o},setClearColor:function(y,_=1){o.set(y),l=_,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(o,l)},render:m}}function mtt(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=y(null);let u=l,h=!1;function d($,K,V,Q,X){let z=!1;if(a){const ne=g(Q,V,K);u!==ne&&(u=ne,A(u.object)),z=_($,Q,V,X),z&&x($,Q,V,X)}else{const ne=K.wireframe===!0;(u.geometry!==Q.id||u.program!==V.id||u.wireframe!==ne)&&(u.geometry=Q.id,u.program=V.id,u.wireframe=ne,z=!0)}X!==null&&n.update(X,34963),(z||h)&&(h=!1,L($,K,V,Q),X!==null&&t.bindBuffer(34963,n.get(X).buffer))}function f(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function A($){return r.isWebGL2?t.bindVertexArray($):s.bindVertexArrayOES($)}function m($){return r.isWebGL2?t.deleteVertexArray($):s.deleteVertexArrayOES($)}function g($,K,V){const Q=V.wireframe===!0;let X=o[$.id];X===void 0&&(X={},o[$.id]=X);let z=X[K.id];z===void 0&&(z={},X[K.id]=z);let ne=z[Q];return ne===void 0&&(ne=y(f()),z[Q]=ne),ne}function y($){const K=[],V=[],Q=[];for(let X=0;X<i;X++)K[X]=0,V[X]=0,Q[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:V,attributeDivisors:Q,object:$,attributes:{},index:null}}function _($,K,V,Q){const X=u.attributes,z=K.attributes;let ne=0;const he=V.getAttributes();for(const W in he)if(he[W].location>=0){const oe=X[W];let fe=z[W];if(fe===void 0&&(W==="instanceMatrix"&&$.instanceMatrix&&(fe=$.instanceMatrix),W==="instanceColor"&&$.instanceColor&&(fe=$.instanceColor)),oe===void 0||oe.attribute!==fe||fe&&oe.data!==fe.data)return!0;ne++}return u.attributesNum!==ne||u.index!==Q}function x($,K,V,Q){const X={},z=K.attributes;let ne=0;const he=V.getAttributes();for(const W in he)if(he[W].location>=0){let oe=z[W];oe===void 0&&(W==="instanceMatrix"&&$.instanceMatrix&&(oe=$.instanceMatrix),W==="instanceColor"&&$.instanceColor&&(oe=$.instanceColor));const fe={};fe.attribute=oe,oe&&oe.data&&(fe.data=oe.data),X[W]=fe,ne++}u.attributes=X,u.attributesNum=ne,u.index=Q}function S(){const $=u.newAttributes;for(let K=0,V=$.length;K<V;K++)$[K]=0}function C($){M($,0)}function M($,K){const V=u.newAttributes,Q=u.enabledAttributes,X=u.attributeDivisors;V[$]=1,Q[$]===0&&(t.enableVertexAttribArray($),Q[$]=1),X[$]!==K&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,K),X[$]=K)}function B(){const $=u.newAttributes,K=u.enabledAttributes;for(let V=0,Q=K.length;V<Q;V++)K[V]!==$[V]&&(t.disableVertexAttribArray(V),K[V]=0)}function E($,K,V,Q,X,z){r.isWebGL2===!0&&(V===5124||V===5125)?t.vertexAttribIPointer($,K,V,X,z):t.vertexAttribPointer($,K,V,Q,X,z)}function L($,K,V,Q){if(r.isWebGL2===!1&&($.isInstancedMesh||Q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const X=Q.attributes,z=V.getAttributes(),ne=K.defaultAttributeValues;for(const he in z){const W=z[he];if(W.location>=0){let Y=X[he];if(Y===void 0&&(he==="instanceMatrix"&&$.instanceMatrix&&(Y=$.instanceMatrix),he==="instanceColor"&&$.instanceColor&&(Y=$.instanceColor)),Y!==void 0){const oe=Y.normalized,fe=Y.itemSize,me=n.get(Y);if(me===void 0)continue;const ce=me.buffer,be=me.type,xe=me.bytesPerElement;if(Y.isInterleavedBufferAttribute){const Ie=Y.data,Qe=Ie.stride,ue=Y.offset;if(Ie.isInstancedInterleavedBuffer){for(let ye=0;ye<W.locationSize;ye++)M(W.location+ye,Ie.meshPerAttribute);$.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let ye=0;ye<W.locationSize;ye++)C(W.location+ye);t.bindBuffer(34962,ce);for(let ye=0;ye<W.locationSize;ye++)E(W.location+ye,fe/W.locationSize,be,oe,Qe*xe,(ue+fe/W.locationSize*ye)*xe)}else{if(Y.isInstancedBufferAttribute){for(let Ie=0;Ie<W.locationSize;Ie++)M(W.location+Ie,Y.meshPerAttribute);$.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Ie=0;Ie<W.locationSize;Ie++)C(W.location+Ie);t.bindBuffer(34962,ce);for(let Ie=0;Ie<W.locationSize;Ie++)E(W.location+Ie,fe/W.locationSize,be,oe,fe*xe,fe/W.locationSize*Ie*xe)}}else if(ne!==void 0){const oe=ne[he];if(oe!==void 0)switch(oe.length){case 2:t.vertexAttrib2fv(W.location,oe);break;case 3:t.vertexAttrib3fv(W.location,oe);break;case 4:t.vertexAttrib4fv(W.location,oe);break;default:t.vertexAttrib1fv(W.location,oe)}}}}B()}function I(){F();for(const $ in o){const K=o[$];for(const V in K){const Q=K[V];for(const X in Q)m(Q[X].object),delete Q[X];delete K[V]}delete o[$]}}function k($){if(o[$.id]===void 0)return;const K=o[$.id];for(const V in K){const Q=K[V];for(const X in Q)m(Q[X].object),delete Q[X];delete K[V]}delete o[$.id]}function O($){for(const K in o){const V=o[K];if(V[$.id]===void 0)continue;const Q=V[$.id];for(const X in Q)m(Q[X].object),delete Q[X];delete V[$.id]}}function F(){U(),h=!0,u!==l&&(u=l,A(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:F,resetDefaultState:U,dispose:I,releaseStatesOfGeometry:k,releaseStatesOfProgram:O,initAttributes:S,enableAttribute:C,disableUnusedAttributes:B}}function vtt(t,e,n,r){const i=r.isWebGL2;let s;function a(u){s=u}function o(u,h){t.drawArrays(s,u,h),n.update(h,s,1)}function l(u,h,d){if(d===0)return;let f,A;if(i)f=t,A="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[A](s,u,h,d),n.update(h,s,d)}this.setMode=a,this.render=o,this.renderInstances=l}function ytt(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(E){if(E==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const u=a||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),A=t.getParameter(3379),m=t.getParameter(34076),g=t.getParameter(34921),y=t.getParameter(36347),_=t.getParameter(36348),x=t.getParameter(36349),S=f>0,C=a||e.has("OES_texture_float"),M=S&&C,B=a?t.getParameter(36183):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:f,maxTextureSize:A,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:C,floatVertexTextures:M,maxSamples:B}}function _tt(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new W_,o=new yf,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const A=d.length!==0||f||r!==0||i;return i=f,r=d.length,A},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=h(d,f,0)},this.setState=function(d,f,A){const m=d.clippingPlanes,g=d.clipIntersection,y=d.clipShadows,_=t.get(d);if(!i||m===null||m.length===0||s&&!y)s?h(null):u();else{const x=s?0:r,S=x*4;let C=_.clippingState||null;l.value=C,C=h(m,f,S,A);for(let M=0;M!==S;++M)C[M]=n[M];_.clippingState=C,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(d,f,A,m){const g=d!==null?d.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const _=A+g*4,x=f.matrixWorldInverse;o.getNormalMatrix(x),(y===null||y.length<_)&&(y=new Float32Array(_));for(let S=0,C=A;S!==g;++S,C+=4)a.copy(d[S]).applyMatrix4(x,o),a.normal.toArray(y,C),y[C+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function wtt(t){let e=new WeakMap;function n(a,o){return o===$H?a.mapping=cS:o===QH&&(a.mapping=uS),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===$H||o===QH)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new IZe(l.height/2);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class cfe extends afe{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Qx=4,bZ=[.125,.215,.35,.446,.526,.582],e1=20,L4=new cfe,xZ=new Zs;let B4=null;const j_=(1+Math.sqrt(5))/2,Yb=1/j_,EZ=[new Gt(1,1,1),new Gt(-1,1,1),new Gt(1,1,-1),new Gt(-1,1,-1),new Gt(0,j_,Yb),new Gt(0,j_,-Yb),new Gt(Yb,0,j_),new Gt(-Yb,0,j_),new Gt(j_,Yb,0),new Gt(-j_,Yb,0)];class SZ{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){B4=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MZ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=TZ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(B4),e.scissorTest=!1,KR(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===cS||e.mapping===uS?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),B4=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:nA,minFilter:nA,generateMipmaps:!1,type:DM,format:cp,encoding:Z1,depthBuffer:!1},i=CZ(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CZ(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=btt(s)),this._blurMaterial=xtt(s,e,n)}return i}_compileMaterial(e){const n=new Ir(this._lodPlanes[0],e);this._renderer.compile(n,L4)}_sceneToCubeUV(e,n,r,i){const o=new df(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,f=h.toneMapping;h.getClearColor(xZ),h.toneMapping=Av,h.autoClear=!1;const A=new N5({name:"PMREM.Background",side:Sf,depthWrite:!1,depthTest:!1}),m=new Ir(new jo,A);let g=!1;const y=e.background;y?y.isColor&&(A.color.copy(y),e.background=null,g=!0):(A.color.copy(xZ),g=!0);for(let _=0;_<6;_++){const x=_%3;x===0?(o.up.set(0,l[_],0),o.lookAt(u[_],0,0)):x===1?(o.up.set(0,0,l[_]),o.lookAt(0,u[_],0)):(o.up.set(0,l[_],0),o.lookAt(0,0,u[_]));const S=this._cubeSize;KR(i,x*S,_>2?S:0,S,S),h.setRenderTarget(i),g&&h.render(m,o),h.render(e,o)}m.geometry.dispose(),m.material.dispose(),h.toneMapping=f,h.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===cS||e.mapping===uS;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MZ()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=TZ());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Ir(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;KR(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,L4)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=EZ[(i-1)%EZ.length];this._blur(e,i-1,i,s,a)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Ir(this._lodPlanes[i],u),f=u.uniforms,A=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*A):2*Math.PI/(2*e1-1),g=s/m,y=isFinite(s)?1+Math.floor(h*g):e1;y>e1&&console.warn("sigmaRadians, ".concat(s,", is too large and will clip, as it requested ").concat(y," samples when the maximum is set to ").concat(e1));const _=[];let x=0;for(let E=0;E<e1;++E){const L=E/g,I=Math.exp(-L*L/2);_.push(I),E===0?x+=I:E<y&&(x+=2*I)}for(let E=0;E<_.length;E++)_[E]=_[E]/x;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=_,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:S}=this;f.dTheta.value=m,f.mipInt.value=S-r;const C=this._sizeLods[i],M=3*C*(i>S-Qx?i-S+Qx:0),B=4*(this._cubeSize-C);KR(n,M,B,3*C,2*C),l.setRenderTarget(n),l.render(d,L4)}}function btt(t){const e=[],n=[],r=[];let i=t;const s=t-Qx+1+bZ.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-Qx?l=bZ[a-t+Qx-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),h=-u,d=1+u,f=[h,h,d,h,d,d,h,h,d,d,h,d],A=6,m=6,g=3,y=2,_=1,x=new Float32Array(g*m*A),S=new Float32Array(y*m*A),C=new Float32Array(_*m*A);for(let B=0;B<A;B++){const E=B%3*2/3-1,L=B>2?0:-1,I=[E,L,0,E+2/3,L,0,E+2/3,L+1,0,E,L,0,E+2/3,L+1,0,E,L+1,0];x.set(I,g*m*B),S.set(f,y*m*B);const k=[B,B,B,B,B,B];C.set(k,_*m*B)}const M=new cc;M.setAttribute("position",new mp(x,g)),M.setAttribute("uv",new mp(S,y)),M.setAttribute("faceIndex",new mp(C,_)),e.push(M),i>Qx&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function CZ(t,e,n){const r=new J1(t,e,n);return r.texture.mapping=F5,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function KR(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function xtt(t,e,n){const r=new Float32Array(e1),i=new Gt(0,1,0);return new ew({name:"SphericalGaussianBlur",defines:{n:e1,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:T7(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		",blending:oy,depthTest:!1,depthWrite:!1})}function TZ(){return new ew({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:T7(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		",blending:oy,depthTest:!1,depthWrite:!1})}function MZ(){return new ew({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:T7(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		",blending:oy,depthTest:!1,depthWrite:!1})}function T7(){return"\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	"}function Ett(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===$H||l===QH,h=l===cS||l===uS;if(u||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let d=e.get(o);return n===null&&(n=new SZ(t)),d=u?n.fromEquirectangular(o,d):n.fromCubemap(o,d),e.set(o,d),d.texture}else{if(e.has(o))return e.get(o).texture;{const d=o.image;if(u&&d&&d.height>0||h&&d&&i(d)){n===null&&(n=new SZ(t));const f=u?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",s),f.texture}else return null}}}return o}function i(o){let l=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Stt(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Ctt(t,e,n,r){const i={},s=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",a),delete i[f.id];const A=s.get(f);A&&(e.remove(A),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const m in f)e.update(f[m],34962);const A=d.morphAttributes;for(const m in A){const g=A[m];for(let y=0,_=g.length;y<_;y++)e.update(g[y],34962)}}function u(d){const f=[],A=d.index,m=d.attributes.position;let g=0;if(A!==null){const x=A.array;g=A.version;for(let S=0,C=x.length;S<C;S+=3){const M=x[S+0],B=x[S+1],E=x[S+2];f.push(M,B,B,E,E,M)}}else{const x=m.array;g=m.version;for(let S=0,C=x.length/3-1;S<C;S+=3){const M=S+0,B=S+1,E=S+2;f.push(M,B,B,E,E,M)}}const y=new(Zde(f)?ife:rfe)(f,1);y.version=g;const _=s.get(d);_&&e.remove(_),s.set(d,y)}function h(d){const f=s.get(d);if(f){const A=d.index;A!==null&&f.version<A.version&&u(d)}else u(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:h}}function Ttt(t,e,n,r){const i=r.isWebGL2;let s;function a(f){s=f}let o,l;function u(f){o=f.type,l=f.bytesPerElement}function h(f,A){t.drawElements(s,A,o,f*l),n.update(A,s,1)}function d(f,A,m){if(m===0)return;let g,y;if(i)g=t,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,A,o,f*l,m),n.update(A,s,m)}this.setMode=a,this.setIndex=u,this.render=h,this.renderInstances=d}function Mtt(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case 4:n.triangles+=o*(s/3);break;case 1:n.lines+=o*(s/2);break;case 3:n.lines+=o*(s-1);break;case 2:n.lines+=o*s;break;case 0:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Ltt(t,e){return t[0]-e[0]}function Btt(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rtt(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,a=new Xc,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function l(u,h,d,f){const A=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,g=m!==void 0?m.length:0;let y=s.get(h);if(y===void 0||y.count!==g){let K=function(){U.dispose(),s.delete(h),h.removeEventListener("dispose",K)};y!==void 0&&y.texture.dispose();const S=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,M=h.morphAttributes.color!==void 0,B=h.morphAttributes.position||[],E=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let I=0;S===!0&&(I=1),C===!0&&(I=2),M===!0&&(I=3);let k=h.attributes.position.count*I,O=1;k>e.maxTextureSize&&(O=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const F=new Float32Array(k*O*4*g),U=new nfe(F,k,O,g);U.type=d1,U.needsUpdate=!0;const $=I*4;for(let V=0;V<g;V++){const Q=B[V],X=E[V],z=L[V],ne=k*O*4*V;for(let he=0;he<Q.count;he++){const W=he*$;S===!0&&(a.fromBufferAttribute(Q,he),F[ne+W+0]=a.x,F[ne+W+1]=a.y,F[ne+W+2]=a.z,F[ne+W+3]=0),C===!0&&(a.fromBufferAttribute(X,he),F[ne+W+4]=a.x,F[ne+W+5]=a.y,F[ne+W+6]=a.z,F[ne+W+7]=0),M===!0&&(a.fromBufferAttribute(z,he),F[ne+W+8]=a.x,F[ne+W+9]=a.y,F[ne+W+10]=a.z,F[ne+W+11]=z.itemSize===4?a.w:1)}}y={count:g,texture:U,size:new ms(k,O)},s.set(h,y),h.addEventListener("dispose",K)}let _=0;for(let S=0;S<A.length;S++)_+=A[S];const x=h.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",A),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const m=A===void 0?0:A.length;let g=r[h.id];if(g===void 0||g.length!==m){g=[];for(let C=0;C<m;C++)g[C]=[C,0];r[h.id]=g}for(let C=0;C<m;C++){const M=g[C];M[0]=C,M[1]=A[C]}g.sort(Btt);for(let C=0;C<8;C++)C<m&&g[C][1]?(o[C][0]=g[C][0],o[C][1]=g[C][1]):(o[C][0]=Number.MAX_SAFE_INTEGER,o[C][1]=0);o.sort(Ltt);const y=h.morphAttributes.position,_=h.morphAttributes.normal;let x=0;for(let C=0;C<8;C++){const M=o[C],B=M[0],E=M[1];B!==Number.MAX_SAFE_INTEGER&&E?(y&&h.getAttribute("morphTarget"+C)!==y[B]&&h.setAttribute("morphTarget"+C,y[B]),_&&h.getAttribute("morphNormal"+C)!==_[B]&&h.setAttribute("morphNormal"+C,_[B]),i[C]=E,x+=E):(y&&h.hasAttribute("morphTarget"+C)===!0&&h.deleteAttribute("morphTarget"+C),_&&h.hasAttribute("morphNormal"+C)===!0&&h.deleteAttribute("morphNormal"+C),i[C]=0)}const S=h.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Itt(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,d=e.get(l,h);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}const ufe=new Cf,hfe=new nfe,dfe=new gZe,ffe=new ofe,LZ=[],BZ=[],RZ=new Float32Array(16),IZ=new Float32Array(9),PZ=new Float32Array(4);function YS(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=LZ[i];if(s===void 0&&(s=new Float32Array(i),LZ[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Lc(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Bc(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function D5(t,e){let n=BZ[e];n===void 0&&(n=new Int32Array(e),BZ[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Ptt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ftt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lc(n,e))return;t.uniform2fv(this.addr,e),Bc(n,e)}}function Ott(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Lc(n,e))return;t.uniform3fv(this.addr,e),Bc(n,e)}}function Ntt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lc(n,e))return;t.uniform4fv(this.addr,e),Bc(n,e)}}function Dtt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lc(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Bc(n,e)}else{if(Lc(n,r))return;PZ.set(r),t.uniformMatrix2fv(this.addr,!1,PZ),Bc(n,r)}}function ktt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lc(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Bc(n,e)}else{if(Lc(n,r))return;IZ.set(r),t.uniformMatrix3fv(this.addr,!1,IZ),Bc(n,r)}}function Utt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lc(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Bc(n,e)}else{if(Lc(n,r))return;RZ.set(r),t.uniformMatrix4fv(this.addr,!1,RZ),Bc(n,r)}}function Htt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Gtt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lc(n,e))return;t.uniform2iv(this.addr,e),Bc(n,e)}}function Vtt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lc(n,e))return;t.uniform3iv(this.addr,e),Bc(n,e)}}function ztt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lc(n,e))return;t.uniform4iv(this.addr,e),Bc(n,e)}}function $tt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Qtt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lc(n,e))return;t.uniform2uiv(this.addr,e),Bc(n,e)}}function Wtt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lc(n,e))return;t.uniform3uiv(this.addr,e),Bc(n,e)}}function jtt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lc(n,e))return;t.uniform4uiv(this.addr,e),Bc(n,e)}}function Ktt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||ufe,i)}function qtt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||dfe,i)}function Xtt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||ffe,i)}function Ytt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||hfe,i)}function Ztt(t){switch(t){case 5126:return Ptt;case 35664:return Ftt;case 35665:return Ott;case 35666:return Ntt;case 35674:return Dtt;case 35675:return ktt;case 35676:return Utt;case 5124:case 35670:return Htt;case 35667:case 35671:return Gtt;case 35668:case 35672:return Vtt;case 35669:case 35673:return ztt;case 5125:return $tt;case 36294:return Qtt;case 36295:return Wtt;case 36296:return jtt;case 35678:case 36198:case 36298:case 36306:case 35682:return Ktt;case 35679:case 36299:case 36307:return qtt;case 35680:case 36300:case 36308:case 36293:return Xtt;case 36289:case 36303:case 36311:case 36292:return Ytt}}function Jtt(t,e){t.uniform1fv(this.addr,e)}function ent(t,e){const n=YS(e,this.size,2);t.uniform2fv(this.addr,n)}function tnt(t,e){const n=YS(e,this.size,3);t.uniform3fv(this.addr,n)}function nnt(t,e){const n=YS(e,this.size,4);t.uniform4fv(this.addr,n)}function rnt(t,e){const n=YS(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function int(t,e){const n=YS(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function snt(t,e){const n=YS(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ant(t,e){t.uniform1iv(this.addr,e)}function ont(t,e){t.uniform2iv(this.addr,e)}function lnt(t,e){t.uniform3iv(this.addr,e)}function cnt(t,e){t.uniform4iv(this.addr,e)}function unt(t,e){t.uniform1uiv(this.addr,e)}function hnt(t,e){t.uniform2uiv(this.addr,e)}function dnt(t,e){t.uniform3uiv(this.addr,e)}function fnt(t,e){t.uniform4uiv(this.addr,e)}function Ant(t,e,n){const r=this.cache,i=e.length,s=D5(n,i);Lc(r,s)||(t.uniform1iv(this.addr,s),Bc(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||ufe,s[a])}function pnt(t,e,n){const r=this.cache,i=e.length,s=D5(n,i);Lc(r,s)||(t.uniform1iv(this.addr,s),Bc(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||dfe,s[a])}function gnt(t,e,n){const r=this.cache,i=e.length,s=D5(n,i);Lc(r,s)||(t.uniform1iv(this.addr,s),Bc(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||ffe,s[a])}function mnt(t,e,n){const r=this.cache,i=e.length,s=D5(n,i);Lc(r,s)||(t.uniform1iv(this.addr,s),Bc(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||hfe,s[a])}function vnt(t){switch(t){case 5126:return Jtt;case 35664:return ent;case 35665:return tnt;case 35666:return nnt;case 35674:return rnt;case 35675:return int;case 35676:return snt;case 5124:case 35670:return ant;case 35667:case 35671:return ont;case 35668:case 35672:return lnt;case 35669:case 35673:return cnt;case 5125:return unt;case 36294:return hnt;case 36295:return dnt;case 36296:return fnt;case 35678:case 36198:case 36298:case 36306:case 35682:return Ant;case 35679:case 36299:case 36307:return pnt;case 35680:case 36300:case 36308:case 36293:return gnt;case 36289:case 36303:case 36311:case 36292:return mnt}}class ynt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Ztt(n.type)}}class _nt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=vnt(n.type)}}class wnt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const R4=/(\w+)(\])?(\[|\.)?/g;function FZ(t,e){t.seq.push(e),t.map[e.id]=e}function bnt(t,e,n){const r=t.name,i=r.length;for(R4.lastIndex=0;;){const s=R4.exec(r),a=R4.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){FZ(n,u===void 0?new ynt(o,t,e):new _nt(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new wnt(o),FZ(n,d)),n=d}}}class uF{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);bnt(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function OZ(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let xnt=0;function Ent(t,e){const n=t.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push("".concat(o===e?">":" "," ").concat(o,": ").concat(n[a]))}return r.join("\n")}function Snt(t){switch(t){case Z1:return["Linear","( value )"];case Do:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function NZ(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+Ent(t.getShaderSource(e),a)}else return i}function Cnt(t,e){const n=Snt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Tnt(t,e){let n;switch(e){case zYe:n="Linear";break;case $Ye:n="Reinhard";break;case QYe:n="OptimizedCineon";break;case WYe:n="ACESFilmic";break;case jYe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Mnt(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(q2).join("\n")}function Lnt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join("\n")}function Bnt(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===35674&&(o=2),s.type===35675&&(o=3),s.type===35676&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function q2(t){return t!==""}function DZ(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kZ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Rnt=/^[ \t]*#include +<([\w\d./]+)>/gm;function YH(t){return t.replace(Rnt,Int)}function Int(t,e){const n=Ds[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return YH(n)}const Pnt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UZ(t){return t.replace(Pnt,Fnt)}function Fnt(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function HZ(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return t.precision==="highp"?e+="\n#define HIGH_PRECISION":t.precision==="mediump"?e+="\n#define MEDIUM_PRECISION":t.precision==="lowp"&&(e+="\n#define LOW_PRECISION"),e}function Ont(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===jde?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===wYe?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===K2&&(e="SHADOWMAP_TYPE_VSM"),e}function Nnt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case cS:case uS:e="ENVMAP_TYPE_CUBE";break;case F5:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Dnt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case uS:e="ENVMAP_MODE_REFRACTION";break}return e}function knt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case b7:e="ENVMAP_BLENDING_MULTIPLY";break;case GYe:e="ENVMAP_BLENDING_MIX";break;case VYe:e="ENVMAP_BLENDING_ADD";break}return e}function Unt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Hnt(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=Ont(n),u=Nnt(n),h=Dnt(n),d=knt(n),f=Unt(n),A=n.isWebGL2?"":Mnt(n),m=Lnt(s),g=i.createProgram();let y,_,x=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(y=[m].filter(q2).join("\n"),y.length>0&&(y+="\n"),_=[A,m].filter(q2).join("\n"),_.length>0&&(_+="\n")):(y=[HZ(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(q2).join("\n"),_=[A,HZ(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Av?"#define TONE_MAPPING":"",n.toneMapping!==Av?Ds.tonemapping_pars_fragment:"",n.toneMapping!==Av?Tnt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ds.encodings_pars_fragment,Cnt("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(q2).join("\n")),a=YH(a),a=DZ(a,n),a=kZ(a,n),o=YH(o),o=DZ(o,n),o=kZ(o,n),a=UZ(a),o=UZ(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x="#version 300 es\n",y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,_=["#define varying in",n.glslVersion===uZ?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===uZ?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const S=x+y+a,C=x+_+o,M=OZ(i,35633,S),B=OZ(i,35632,C);if(i.attachShader(g,M),i.attachShader(g,B),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(g).trim(),k=i.getShaderInfoLog(M).trim(),O=i.getShaderInfoLog(B).trim();let F=!0,U=!0;if(i.getProgramParameter(g,35714)===!1){F=!1;const $=NZ(i,M,"vertex"),K=NZ(i,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+I+"\n"+$+"\n"+K)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(k===""||O==="")&&(U=!1);U&&(this.diagnostics={runnable:F,programLog:I,vertexShader:{log:k,prefix:y},fragmentShader:{log:O,prefix:_}})}i.deleteShader(M),i.deleteShader(B);let E;this.getUniforms=function(){return E===void 0&&(E=new uF(i,g)),E};let L;return this.getAttributes=function(){return L===void 0&&(L=Bnt(i,g)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=xnt++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=B,this}let Gnt=0;class Vnt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new znt(e),n.set(e,r)),r}}class znt{constructor(e){this.id=Gnt++,this.code=e,this.usedTimes=0}}function $nt(t,e,n,r,i,s,a){const o=new S7,l=new Vnt,u=[],h=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let A=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(L,I,k,O,F){const U=O.fog,$=F.geometry,K=L.isMeshStandardMaterial?O.environment:null,V=(L.isMeshStandardMaterial?n:e).get(L.envMap||K),Q=V&&V.mapping===F5?V.image.height:null,X=m[L.type];L.precision!==null&&(A=i.getMaxPrecision(L.precision),A!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",A,"instead."));const z=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ne=z!==void 0?z.length:0;let he=0;$.morphAttributes.position!==void 0&&(he=1),$.morphAttributes.normal!==void 0&&(he=2),$.morphAttributes.color!==void 0&&(he=3);let W,Y,oe,fe;if(X){const Qe=Gg[X];W=Qe.vertexShader,Y=Qe.fragmentShader}else W=L.vertexShader,Y=L.fragmentShader,l.update(L),oe=l.getVertexShaderID(L),fe=l.getFragmentShaderID(L);const me=t.getRenderTarget(),ce=L.alphaTest>0,be=L.clearcoat>0,xe=L.iridescence>0;return{isWebGL2:h,shaderID:X,shaderName:L.type,vertexShader:W,fragmentShader:Y,defines:L.defines,customVertexShaderID:oe,customFragmentShaderID:fe,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:A,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:f,outputEncoding:me===null?t.outputEncoding:me.isXRRenderTarget===!0?me.texture.encoding:Z1,map:!!L.map,matcap:!!L.matcap,envMap:!!V,envMapMode:V&&V.mapping,envMapCubeUVHeight:Q,lightMap:!!L.lightMap,aoMap:!!L.aoMap,emissiveMap:!!L.emissiveMap,bumpMap:!!L.bumpMap,normalMap:!!L.normalMap,objectSpaceNormalMap:L.normalMapType===dZe,tangentSpaceNormalMap:L.normalMapType===x7,decodeVideoTexture:!!L.map&&L.map.isVideoTexture===!0&&L.map.encoding===Do,clearcoat:be,clearcoatMap:be&&!!L.clearcoatMap,clearcoatRoughnessMap:be&&!!L.clearcoatRoughnessMap,clearcoatNormalMap:be&&!!L.clearcoatNormalMap,iridescence:xe,iridescenceMap:xe&&!!L.iridescenceMap,iridescenceThicknessMap:xe&&!!L.iridescenceThicknessMap,displacementMap:!!L.displacementMap,roughnessMap:!!L.roughnessMap,metalnessMap:!!L.metalnessMap,specularMap:!!L.specularMap,specularIntensityMap:!!L.specularIntensityMap,specularColorMap:!!L.specularColorMap,opaque:L.transparent===!1&&L.blending===bE,alphaMap:!!L.alphaMap,alphaTest:ce,gradientMap:!!L.gradientMap,sheen:L.sheen>0,sheenColorMap:!!L.sheenColorMap,sheenRoughnessMap:!!L.sheenRoughnessMap,transmission:L.transmission>0,transmissionMap:!!L.transmissionMap,thicknessMap:!!L.thicknessMap,combine:L.combine,vertexTangents:!!L.normalMap&&!!$.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUvs:!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatMap||!!L.clearcoatRoughnessMap||!!L.clearcoatNormalMap||!!L.iridescenceMap||!!L.iridescenceThicknessMap||!!L.displacementMap||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||!!L.specularColorMap||!!L.sheenColorMap||!!L.sheenRoughnessMap,uvsVertexOnly:!(L.map||L.bumpMap||L.normalMap||L.specularMap||L.alphaMap||L.emissiveMap||L.roughnessMap||L.metalnessMap||L.clearcoatNormalMap||L.iridescenceMap||L.iridescenceThicknessMap||L.transmission>0||L.transmissionMap||L.thicknessMap||L.specularIntensityMap||L.specularColorMap||L.sheen>0||L.sheenColorMap||L.sheenRoughnessMap)&&!!L.displacementMap,fog:!!U,useFog:L.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:!!L.flatShading,sizeAttenuation:L.sizeAttenuation,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:he,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:L.toneMapped?t.toneMapping:Av,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===dp,flipSided:L.side===Sf,useDepthPacking:!!L.depthPacking,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:L.extensions&&L.extensions.derivatives,extensionFragDepth:L.extensions&&L.extensions.fragDepth,extensionDrawBuffers:L.extensions&&L.extensions.drawBuffers,extensionShaderTextureLOD:L.extensions&&L.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}}function y(L){const I=[];if(L.shaderID?I.push(L.shaderID):(I.push(L.customVertexShaderID),I.push(L.customFragmentShaderID)),L.defines!==void 0)for(const k in L.defines)I.push(k),I.push(L.defines[k]);return L.isRawShaderMaterial===!1&&(_(I,L),x(I,L),I.push(t.outputEncoding)),I.push(L.customProgramCacheKey),I.join()}function _(L,I){L.push(I.precision),L.push(I.outputEncoding),L.push(I.envMapMode),L.push(I.envMapCubeUVHeight),L.push(I.combine),L.push(I.vertexUvs),L.push(I.fogExp2),L.push(I.sizeAttenuation),L.push(I.morphTargetsCount),L.push(I.morphAttributeCount),L.push(I.numDirLights),L.push(I.numPointLights),L.push(I.numSpotLights),L.push(I.numSpotLightMaps),L.push(I.numHemiLights),L.push(I.numRectAreaLights),L.push(I.numDirLightShadows),L.push(I.numPointLightShadows),L.push(I.numSpotLightShadows),L.push(I.numSpotLightShadowsWithMaps),L.push(I.shadowMapType),L.push(I.toneMapping),L.push(I.numClippingPlanes),L.push(I.numClipIntersection),L.push(I.depthPacking)}function x(L,I){o.disableAll(),I.isWebGL2&&o.enable(0),I.supportsVertexTextures&&o.enable(1),I.instancing&&o.enable(2),I.instancingColor&&o.enable(3),I.map&&o.enable(4),I.matcap&&o.enable(5),I.envMap&&o.enable(6),I.lightMap&&o.enable(7),I.aoMap&&o.enable(8),I.emissiveMap&&o.enable(9),I.bumpMap&&o.enable(10),I.normalMap&&o.enable(11),I.objectSpaceNormalMap&&o.enable(12),I.tangentSpaceNormalMap&&o.enable(13),I.clearcoat&&o.enable(14),I.clearcoatMap&&o.enable(15),I.clearcoatRoughnessMap&&o.enable(16),I.clearcoatNormalMap&&o.enable(17),I.iridescence&&o.enable(18),I.iridescenceMap&&o.enable(19),I.iridescenceThicknessMap&&o.enable(20),I.displacementMap&&o.enable(21),I.specularMap&&o.enable(22),I.roughnessMap&&o.enable(23),I.metalnessMap&&o.enable(24),I.gradientMap&&o.enable(25),I.alphaMap&&o.enable(26),I.alphaTest&&o.enable(27),I.vertexColors&&o.enable(28),I.vertexAlphas&&o.enable(29),I.vertexUvs&&o.enable(30),I.vertexTangents&&o.enable(31),I.uvsVertexOnly&&o.enable(32),L.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.skinning&&o.enable(4),I.morphTargets&&o.enable(5),I.morphNormals&&o.enable(6),I.morphColors&&o.enable(7),I.premultipliedAlpha&&o.enable(8),I.shadowMapEnabled&&o.enable(9),I.physicallyCorrectLights&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.specularIntensityMap&&o.enable(15),I.specularColorMap&&o.enable(16),I.transmission&&o.enable(17),I.transmissionMap&&o.enable(18),I.thicknessMap&&o.enable(19),I.sheen&&o.enable(20),I.sheenColorMap&&o.enable(21),I.sheenRoughnessMap&&o.enable(22),I.decodeVideoTexture&&o.enable(23),I.opaque&&o.enable(24),L.push(o.mask)}function S(L){const I=m[L.type];let k;if(I){const O=Gg[I];k=MZe.clone(O.uniforms)}else k=L.uniforms;return k}function C(L,I){let k;for(let O=0,F=u.length;O<F;O++){const U=u[O];if(U.cacheKey===I){k=U,++k.usedTimes;break}}return k===void 0&&(k=new Hnt(t,I,L,s),u.push(k)),k}function M(L){if(--L.usedTimes===0){const I=u.indexOf(L);u[I]=u[u.length-1],u.pop(),L.destroy()}}function B(L){l.remove(L)}function E(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:S,acquireProgram:C,releaseProgram:M,releaseShaderCache:B,programs:u,dispose:E}}function Qnt(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function r(s,a,o){t.get(s)[a]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Wnt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function GZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function VZ(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,A,m,g,y){let _=t[e];return _===void 0?(_={id:d.id,object:d,geometry:f,material:A,groupOrder:m,renderOrder:d.renderOrder,z:g,group:y},t[e]=_):(_.id=d.id,_.object=d,_.geometry=f,_.material=A,_.groupOrder=m,_.renderOrder=d.renderOrder,_.z=g,_.group=y),e++,_}function o(d,f,A,m,g,y){const _=a(d,f,A,m,g,y);A.transmission>0?r.push(_):A.transparent===!0?i.push(_):n.push(_)}function l(d,f,A,m,g,y){const _=a(d,f,A,m,g,y);A.transmission>0?r.unshift(_):A.transparent===!0?i.unshift(_):n.unshift(_)}function u(d,f){n.length>1&&n.sort(d||Wnt),r.length>1&&r.sort(f||GZ),i.length>1&&i.sort(f||GZ)}function h(){for(let d=e,f=t.length;d<f;d++){const A=t[d];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:h,sort:u}}function jnt(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new VZ,t.set(r,[a])):i>=s.length?(a=new VZ,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function Knt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Gt,color:new Zs};break;case"SpotLight":n={position:new Gt,direction:new Gt,color:new Zs,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Gt,color:new Zs,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Gt,skyColor:new Zs,groundColor:new Zs};break;case"RectAreaLight":n={color:new Zs,position:new Gt,halfWidth:new Gt,halfHeight:new Gt};break}return t[e.id]=n,n}}}function qnt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ms};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ms};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ms,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Xnt=0;function Ynt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Znt(t,e){const n=new Knt,r=qnt(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)i.probe.push(new Gt);const s=new Gt,a=new xl,o=new xl;function l(h,d){let f=0,A=0,m=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let g=0,y=0,_=0,x=0,S=0,C=0,M=0,B=0,E=0,L=0;h.sort(Ynt);const I=d!==!0?Math.PI:1;for(let O=0,F=h.length;O<F;O++){const U=h[O],$=U.color,K=U.intensity,V=U.distance,Q=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)f+=$.r*K*I,A+=$.g*K*I,m+=$.b*K*I;else if(U.isLightProbe)for(let X=0;X<9;X++)i.probe[X].addScaledVector(U.sh.coefficients[X],K);else if(U.isDirectionalLight){const X=n.get(U);if(X.color.copy(U.color).multiplyScalar(U.intensity*I),U.castShadow){const z=U.shadow,ne=r.get(U);ne.shadowBias=z.bias,ne.shadowNormalBias=z.normalBias,ne.shadowRadius=z.radius,ne.shadowMapSize=z.mapSize,i.directionalShadow[g]=ne,i.directionalShadowMap[g]=Q,i.directionalShadowMatrix[g]=U.shadow.matrix,C++}i.directional[g]=X,g++}else if(U.isSpotLight){const X=n.get(U);X.position.setFromMatrixPosition(U.matrixWorld),X.color.copy($).multiplyScalar(K*I),X.distance=V,X.coneCos=Math.cos(U.angle),X.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),X.decay=U.decay,i.spot[_]=X;const z=U.shadow;if(U.map&&(i.spotLightMap[E]=U.map,E++,z.updateMatrices(U),U.castShadow&&L++),i.spotLightMatrix[_]=z.matrix,U.castShadow){const ne=r.get(U);ne.shadowBias=z.bias,ne.shadowNormalBias=z.normalBias,ne.shadowRadius=z.radius,ne.shadowMapSize=z.mapSize,i.spotShadow[_]=ne,i.spotShadowMap[_]=Q,B++}_++}else if(U.isRectAreaLight){const X=n.get(U);X.color.copy($).multiplyScalar(K),X.halfWidth.set(U.width*.5,0,0),X.halfHeight.set(0,U.height*.5,0),i.rectArea[x]=X,x++}else if(U.isPointLight){const X=n.get(U);if(X.color.copy(U.color).multiplyScalar(U.intensity*I),X.distance=U.distance,X.decay=U.decay,U.castShadow){const z=U.shadow,ne=r.get(U);ne.shadowBias=z.bias,ne.shadowNormalBias=z.normalBias,ne.shadowRadius=z.radius,ne.shadowMapSize=z.mapSize,ne.shadowCameraNear=z.camera.near,ne.shadowCameraFar=z.camera.far,i.pointShadow[y]=ne,i.pointShadowMap[y]=Q,i.pointShadowMatrix[y]=U.shadow.matrix,M++}i.point[y]=X,y++}else if(U.isHemisphereLight){const X=n.get(U);X.skyColor.copy(U.color).multiplyScalar(K*I),X.groundColor.copy(U.groundColor).multiplyScalar(K*I),i.hemi[S]=X,S++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ur.LTC_FLOAT_1,i.rectAreaLTC2=Ur.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ur.LTC_HALF_1,i.rectAreaLTC2=Ur.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=A,i.ambient[2]=m;const k=i.hash;(k.directionalLength!==g||k.pointLength!==y||k.spotLength!==_||k.rectAreaLength!==x||k.hemiLength!==S||k.numDirectionalShadows!==C||k.numPointShadows!==M||k.numSpotShadows!==B||k.numSpotMaps!==E)&&(i.directional.length=g,i.spot.length=_,i.rectArea.length=x,i.point.length=y,i.hemi.length=S,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=B,i.spotShadowMap.length=B,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=B+E-L,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=L,k.directionalLength=g,k.pointLength=y,k.spotLength=_,k.rectAreaLength=x,k.hemiLength=S,k.numDirectionalShadows=C,k.numPointShadows=M,k.numSpotShadows=B,k.numSpotMaps=E,i.version=Xnt++)}function u(h,d){let f=0,A=0,m=0,g=0,y=0;const _=d.matrixWorldInverse;for(let x=0,S=h.length;x<S;x++){const C=h[x];if(C.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(_),f++}else if(C.isSpotLight){const M=i.spot[m];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(_),m++}else if(C.isRectAreaLight){const M=i.rectArea[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),o.identity(),a.copy(C.matrixWorld),a.premultiply(_),o.extractRotation(a),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),g++}else if(C.isPointLight){const M=i.point[A];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),A++}else if(C.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(_),y++}}}return{setup:l,setupView:u,state:i}}function zZ(t,e){const n=new Znt(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(d){r.push(d)}function o(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function Jnt(t,e){let n=new WeakMap;function r(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new zZ(t,e),n.set(s,[l])):a>=o.length?(l=new zZ(t,e),o.push(l)):l=o[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class ert extends mw{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uZe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class trt extends mw{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Gt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const nrt="void main() {\n	gl_Position = vec4( position, 1.0 );\n}",rrt="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function irt(t,e,n){let r=new C7;const i=new ms,s=new ms,a=new Xc,o=new ert({depthPacking:hZe}),l=new trt,u={},h=n.maxTextureSize,d={[_y]:Sf,[Sf]:_y,[dp]:dp},f=new ew({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ms},radius:{value:4}},vertexShader:nrt,fragmentShader:rrt}),A=f.clone();A.defines.HORIZONTAL_PASS=1;const m=new cc;m.setAttribute("position",new mp(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ir(m,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jde,this.render=function(C,M,B){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const E=t.getRenderTarget(),L=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),k=t.state;k.setBlending(oy),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let O=0,F=C.length;O<F;O++){const U=C[O],$=U.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;i.copy($.mapSize);const K=$.getFrameExtents();if(i.multiply(K),s.copy($.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/K.x),i.x=s.x*K.x,$.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/K.y),i.y=s.y*K.y,$.mapSize.y=s.y)),$.map===null){const Q=this.type!==K2?{minFilter:Dh,magFilter:Dh}:{};$.map=new J1(i.x,i.y,Q),$.map.texture.name=U.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const V=$.getViewportCount();for(let Q=0;Q<V;Q++){const X=$.getViewport(Q);a.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),k.viewport(a),$.updateMatrices(U,Q),r=$.getFrustum(),S(M,B,$.camera,U,this.type)}$.isPointLightShadow!==!0&&this.type===K2&&_($,B),$.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(E,L,I)};function _(C,M){const B=e.update(g);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,A.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,A.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new J1(i.x,i.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(M,null,B,f,g,null),A.uniforms.shadow_pass.value=C.mapPass.texture,A.uniforms.resolution.value=C.mapSize,A.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(M,null,B,A,g,null)}function x(C,M,B,E,L,I){let k=null;const O=B.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(O!==void 0)k=O;else if(k=B.isPointLight===!0?l:o,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const F=k.uuid,U=M.uuid;let $=u[F];$===void 0&&($={},u[F]=$);let K=$[U];K===void 0&&(K=k.clone(),$[U]=K),k=K}return k.visible=M.visible,k.wireframe=M.wireframe,I===K2?k.side=M.shadowSide!==null?M.shadowSide:M.side:k.side=M.shadowSide!==null?M.shadowSide:d[M.side],k.alphaMap=M.alphaMap,k.alphaTest=M.alphaTest,k.map=M.map,k.clipShadows=M.clipShadows,k.clippingPlanes=M.clippingPlanes,k.clipIntersection=M.clipIntersection,k.displacementMap=M.displacementMap,k.displacementScale=M.displacementScale,k.displacementBias=M.displacementBias,k.wireframeLinewidth=M.wireframeLinewidth,k.linewidth=M.linewidth,B.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(B.matrixWorld),k.nearDistance=E,k.farDistance=L),k}function S(C,M,B,E,L){if(C.visible===!1)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&L===K2)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,C.matrixWorld);const O=e.update(C),F=C.material;if(Array.isArray(F)){const U=O.groups;for(let $=0,K=U.length;$<K;$++){const V=U[$],Q=F[V.materialIndex];if(Q&&Q.visible){const X=x(C,Q,E,B.near,B.far,L);t.renderBufferDirect(B,null,O,X,C,V)}}}else if(F.visible){const U=x(C,F,E,B.near,B.far,L);t.renderBufferDirect(B,null,O,U,C,null)}}const k=C.children;for(let O=0,F=k.length;O<F;O++)S(k[O],M,B,E,L)}}function srt(t,e,n){const r=n.isWebGL2;function i(){let mt=!1;const Kt=new Xc;let bn=null;const Rn=new Xc(0,0,0,0);return{setMask:function(On){bn!==On&&!mt&&(t.colorMask(On,On,On,On),bn=On)},setLocked:function(On){mt=On},setClear:function(On,Dn,Un,jr,Mi){Mi===!0&&(On*=jr,Dn*=jr,Un*=jr),Kt.set(On,Dn,Un,jr),Rn.equals(Kt)===!1&&(t.clearColor(On,Dn,Un,jr),Rn.copy(Kt))},reset:function(){mt=!1,bn=null,Rn.set(-1,0,0,0)}}}function s(){let mt=!1,Kt=null,bn=null,Rn=null;return{setTest:function(On){On?ce(2929):be(2929)},setMask:function(On){Kt!==On&&!mt&&(t.depthMask(On),Kt=On)},setFunc:function(On){if(bn!==On){switch(On){case FYe:t.depthFunc(512);break;case OYe:t.depthFunc(519);break;case NYe:t.depthFunc(513);break;case zH:t.depthFunc(515);break;case DYe:t.depthFunc(514);break;case kYe:t.depthFunc(518);break;case UYe:t.depthFunc(516);break;case HYe:t.depthFunc(517);break;default:t.depthFunc(515)}bn=On}},setLocked:function(On){mt=On},setClear:function(On){Rn!==On&&(t.clearDepth(On),Rn=On)},reset:function(){mt=!1,Kt=null,bn=null,Rn=null}}}function a(){let mt=!1,Kt=null,bn=null,Rn=null,On=null,Dn=null,Un=null,jr=null,Mi=null;return{setTest:function(bi){mt||(bi?ce(2960):be(2960))},setMask:function(bi){Kt!==bi&&!mt&&(t.stencilMask(bi),Kt=bi)},setFunc:function(bi,Ji,br){(bn!==bi||Rn!==Ji||On!==br)&&(t.stencilFunc(bi,Ji,br),bn=bi,Rn=Ji,On=br)},setOp:function(bi,Ji,br){(Dn!==bi||Un!==Ji||jr!==br)&&(t.stencilOp(bi,Ji,br),Dn=bi,Un=Ji,jr=br)},setLocked:function(bi){mt=bi},setClear:function(bi){Mi!==bi&&(t.clearStencil(bi),Mi=bi)},reset:function(){mt=!1,Kt=null,bn=null,Rn=null,On=null,Dn=null,Un=null,jr=null,Mi=null}}}const o=new i,l=new s,u=new a,h=new WeakMap,d=new WeakMap;let f={},A={},m=new WeakMap,g=[],y=null,_=!1,x=null,S=null,C=null,M=null,B=null,E=null,L=null,I=!1,k=null,O=null,F=null,U=null,$=null;const K=t.getParameter(35661);let V=!1,Q=0;const X=t.getParameter(7938);X.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(X)[1]),V=Q>=1):X.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),V=Q>=2);let z=null,ne={};const he=t.getParameter(3088),W=t.getParameter(2978),Y=new Xc().fromArray(he),oe=new Xc().fromArray(W);function fe(mt,Kt,bn){const Rn=new Uint8Array(4),On=t.createTexture();t.bindTexture(mt,On),t.texParameteri(mt,10241,9728),t.texParameteri(mt,10240,9728);for(let Dn=0;Dn<bn;Dn++)t.texImage2D(Kt+Dn,0,6408,1,1,0,6408,5121,Rn);return On}const me={};me[3553]=fe(3553,3553,1),me[34067]=fe(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ce(2929),l.setFunc(zH),Se(!1),at(PY),ce(2884),$e(oy);function ce(mt){f[mt]!==!0&&(t.enable(mt),f[mt]=!0)}function be(mt){f[mt]!==!1&&(t.disable(mt),f[mt]=!1)}function xe(mt,Kt){return A[mt]!==Kt?(t.bindFramebuffer(mt,Kt),A[mt]=Kt,r&&(mt===36009&&(A[36160]=Kt),mt===36160&&(A[36009]=Kt)),!0):!1}function Ie(mt,Kt){let bn=g,Rn=!1;if(mt)if(bn=m.get(Kt),bn===void 0&&(bn=[],m.set(Kt,bn)),mt.isWebGLMultipleRenderTargets){const On=mt.texture;if(bn.length!==On.length||bn[0]!==36064){for(let Dn=0,Un=On.length;Dn<Un;Dn++)bn[Dn]=36064+Dn;bn.length=On.length,Rn=!0}}else bn[0]!==36064&&(bn[0]=36064,Rn=!0);else bn[0]!==1029&&(bn[0]=1029,Rn=!0);Rn&&(n.isWebGL2?t.drawBuffers(bn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(bn))}function Qe(mt){return y!==mt?(t.useProgram(mt),y=mt,!0):!1}const ue={[Lx]:32774,[xYe]:32778,[EYe]:32779};if(r)ue[DY]=32775,ue[kY]=32776;else{const mt=e.get("EXT_blend_minmax");mt!==null&&(ue[DY]=mt.MIN_EXT,ue[kY]=mt.MAX_EXT)}const ye={[SYe]:0,[CYe]:1,[TYe]:768,[Kde]:770,[PYe]:776,[RYe]:774,[LYe]:772,[MYe]:769,[qde]:771,[IYe]:775,[BYe]:773};function $e(mt,Kt,bn,Rn,On,Dn,Un,jr){if(mt===oy){_===!0&&(be(3042),_=!1);return}if(_===!1&&(ce(3042),_=!0),mt!==bYe){if(mt!==x||jr!==I){if((S!==Lx||B!==Lx)&&(t.blendEquation(32774),S=Lx,B=Lx),jr)switch(mt){case bE:t.blendFuncSeparate(1,771,1,771);break;case FY:t.blendFunc(1,1);break;case OY:t.blendFuncSeparate(0,769,0,1);break;case NY:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",mt);break}else switch(mt){case bE:t.blendFuncSeparate(770,771,1,771);break;case FY:t.blendFunc(770,1);break;case OY:t.blendFuncSeparate(0,769,0,1);break;case NY:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",mt);break}C=null,M=null,E=null,L=null,x=mt,I=jr}return}On=On||Kt,Dn=Dn||bn,Un=Un||Rn,(Kt!==S||On!==B)&&(t.blendEquationSeparate(ue[Kt],ue[On]),S=Kt,B=On),(bn!==C||Rn!==M||Dn!==E||Un!==L)&&(t.blendFuncSeparate(ye[bn],ye[Rn],ye[Dn],ye[Un]),C=bn,M=Rn,E=Dn,L=Un),x=mt,I=!1}function Ve(mt,Kt){mt.side===dp?be(2884):ce(2884);let bn=mt.side===Sf;Kt&&(bn=!bn),Se(bn),mt.blending===bE&&mt.transparent===!1?$e(oy):$e(mt.blending,mt.blendEquation,mt.blendSrc,mt.blendDst,mt.blendEquationAlpha,mt.blendSrcAlpha,mt.blendDstAlpha,mt.premultipliedAlpha),l.setFunc(mt.depthFunc),l.setTest(mt.depthTest),l.setMask(mt.depthWrite),o.setMask(mt.colorWrite);const Rn=mt.stencilWrite;u.setTest(Rn),Rn&&(u.setMask(mt.stencilWriteMask),u.setFunc(mt.stencilFunc,mt.stencilRef,mt.stencilFuncMask),u.setOp(mt.stencilFail,mt.stencilZFail,mt.stencilZPass)),je(mt.polygonOffset,mt.polygonOffsetFactor,mt.polygonOffsetUnits),mt.alphaToCoverage===!0?ce(32926):be(32926)}function Se(mt){k!==mt&&(mt?t.frontFace(2304):t.frontFace(2305),k=mt)}function at(mt){mt!==yYe?(ce(2884),mt!==O&&(mt===PY?t.cullFace(1029):mt===_Ye?t.cullFace(1028):t.cullFace(1032))):be(2884),O=mt}function ft(mt){mt!==F&&(V&&t.lineWidth(mt),F=mt)}function je(mt,Kt,bn){mt?(ce(32823),(U!==Kt||$!==bn)&&(t.polygonOffset(Kt,bn),U=Kt,$=bn)):be(32823)}function gt(mt){mt?ce(3089):be(3089)}function vt(mt){mt===void 0&&(mt=33984+K-1),z!==mt&&(t.activeTexture(mt),z=mt)}function Te(mt,Kt,bn){bn===void 0&&(z===null?bn=33984+K-1:bn=z);let Rn=ne[bn];Rn===void 0&&(Rn={type:void 0,texture:void 0},ne[bn]=Rn),(Rn.type!==mt||Rn.texture!==Kt)&&(z!==bn&&(t.activeTexture(bn),z=bn),t.bindTexture(mt,Kt||me[mt]),Rn.type=mt,Rn.texture=Kt)}function we(){const mt=ne[z];mt!==void 0&&mt.type!==void 0&&(t.bindTexture(mt.type,null),mt.type=void 0,mt.texture=void 0)}function Ne(){try{t.compressedTexImage2D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Ze(){try{t.compressedTexImage3D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Tt(){try{t.texSubImage2D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Zt(){try{t.texSubImage3D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function ln(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Ye(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function yt(){try{t.texStorage2D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Qt(){try{t.texStorage3D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Dt(){try{t.texImage2D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function ke(mt){Y.equals(mt)===!1&&(t.scissor(mt.x,mt.y,mt.z,mt.w),Y.copy(mt))}function ct(mt){oe.equals(mt)===!1&&(t.viewport(mt.x,mt.y,mt.z,mt.w),oe.copy(mt))}function Oe(mt,Kt){let bn=d.get(Kt);bn===void 0&&(bn=new WeakMap,d.set(Kt,bn));let Rn=bn.get(mt);Rn===void 0&&(Rn=t.getUniformBlockIndex(Kt,mt.name),bn.set(mt,Rn))}function kt(mt,Kt){const Rn=d.get(Kt).get(mt);h.get(Kt)!==Rn&&(t.uniformBlockBinding(Kt,Rn,mt.__bindingPointIndex),h.set(Kt,Rn))}function wn(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},z=null,ne={},A={},m=new WeakMap,g=[],y=null,_=!1,x=null,S=null,C=null,M=null,B=null,E=null,L=null,I=!1,k=null,O=null,F=null,U=null,$=null,Y.set(0,0,t.canvas.width,t.canvas.height),oe.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:ce,disable:be,bindFramebuffer:xe,drawBuffers:Ie,useProgram:Qe,setBlending:$e,setMaterial:Ve,setFlipSided:Se,setCullFace:at,setLineWidth:ft,setPolygonOffset:je,setScissorTest:gt,activeTexture:vt,bindTexture:Te,unbindTexture:we,compressedTexImage2D:Ne,compressedTexImage3D:Ze,texImage2D:Dt,texImage3D:st,updateUBOMapping:Oe,uniformBlockBinding:kt,texStorage2D:yt,texStorage3D:Qt,texSubImage2D:Tt,texSubImage3D:Zt,compressedTexSubImage2D:ln,compressedTexSubImage3D:Ye,scissor:ke,viewport:ct,reset:wn}}function art(t,e,n,r,i,s,a){const o=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,A=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Te){}function x(Te,we){return _?new OffscreenCanvas(Te,we):wO("canvas")}function S(Te,we,Ne,Ze){let Tt=1;if((Te.width>Ze||Te.height>Ze)&&(Tt=Ze/Math.max(Te.width,Te.height)),Tt<1||we===!0)if(typeof HTMLImageElement<"u"&&Te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Te instanceof ImageBitmap){const Zt=we?XH:Math.floor,ln=Zt(Tt*Te.width),Ye=Zt(Tt*Te.height);g===void 0&&(g=x(ln,Ye));const yt=Ne?x(ln,Ye):g;return yt.width=ln,yt.height=Ye,yt.getContext("2d").drawImage(Te,0,0,ln,Ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Te.width+"x"+Te.height+") to ("+ln+"x"+Ye+")."),yt}else return"data"in Te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Te.width+"x"+Te.height+")."),Te;return Te}function C(Te){return hZ(Te.width)&&hZ(Te.height)}function M(Te){return o?!1:Te.wrapS!==lp||Te.wrapT!==lp||Te.minFilter!==Dh&&Te.minFilter!==nA}function B(Te,we){return Te.generateMipmaps&&we&&Te.minFilter!==Dh&&Te.minFilter!==nA}function E(Te){t.generateMipmap(Te)}function L(Te,we,Ne,Ze,Tt=!1){if(o===!1)return we;if(Te!==null){if(t[Te]!==void 0)return t[Te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Te+"'")}let Zt=we;return we===6403&&(Ne===5126&&(Zt=33326),Ne===5131&&(Zt=33325),Ne===5121&&(Zt=33321)),we===33319&&(Ne===5126&&(Zt=33328),Ne===5131&&(Zt=33327),Ne===5121&&(Zt=33323)),we===6408&&(Ne===5126&&(Zt=34836),Ne===5131&&(Zt=34842),Ne===5121&&(Zt=Ze===Do&&Tt===!1?35907:32856),Ne===32819&&(Zt=32854),Ne===32820&&(Zt=32855)),(Zt===33325||Zt===33326||Zt===33327||Zt===33328||Zt===34842||Zt===34836)&&e.get("EXT_color_buffer_float"),Zt}function I(Te,we,Ne){return B(Te,Ne)===!0||Te.isFramebufferTexture&&Te.minFilter!==Dh&&Te.minFilter!==nA?Math.log2(Math.max(we.width,we.height))+1:Te.mipmaps!==void 0&&Te.mipmaps.length>0?Te.mipmaps.length:Te.isCompressedTexture&&Array.isArray(Te.image)?we.mipmaps.length:1}function k(Te){return Te===Dh||Te===UY||Te===t4?9728:9729}function O(Te){const we=Te.target;we.removeEventListener("dispose",O),U(we),we.isVideoTexture&&m.delete(we)}function F(Te){const we=Te.target;we.removeEventListener("dispose",F),K(we)}function U(Te){const we=r.get(Te);if(we.__webglInit===void 0)return;const Ne=Te.source,Ze=y.get(Ne);if(Ze){const Tt=Ze[we.__cacheKey];Tt.usedTimes--,Tt.usedTimes===0&&$(Te),Object.keys(Ze).length===0&&y.delete(Ne)}r.remove(Te)}function $(Te){const we=r.get(Te);t.deleteTexture(we.__webglTexture);const Ne=Te.source,Ze=y.get(Ne);delete Ze[we.__cacheKey],a.memory.textures--}function K(Te){const we=Te.texture,Ne=r.get(Te),Ze=r.get(we);if(Ze.__webglTexture!==void 0&&(t.deleteTexture(Ze.__webglTexture),a.memory.textures--),Te.depthTexture&&Te.depthTexture.dispose(),Te.isWebGLCubeRenderTarget)for(let Tt=0;Tt<6;Tt++)t.deleteFramebuffer(Ne.__webglFramebuffer[Tt]),Ne.__webglDepthbuffer&&t.deleteRenderbuffer(Ne.__webglDepthbuffer[Tt]);else{if(t.deleteFramebuffer(Ne.__webglFramebuffer),Ne.__webglDepthbuffer&&t.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let Tt=0;Tt<Ne.__webglColorRenderbuffer.length;Tt++)Ne.__webglColorRenderbuffer[Tt]&&t.deleteRenderbuffer(Ne.__webglColorRenderbuffer[Tt]);Ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}if(Te.isWebGLMultipleRenderTargets)for(let Tt=0,Zt=we.length;Tt<Zt;Tt++){const ln=r.get(we[Tt]);ln.__webglTexture&&(t.deleteTexture(ln.__webglTexture),a.memory.textures--),r.remove(we[Tt])}r.remove(we),r.remove(Te)}let V=0;function Q(){V=0}function X(){const Te=V;return Te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Te+" texture units while this GPU supports only "+l),V+=1,Te}function z(Te){const we=[];return we.push(Te.wrapS),we.push(Te.wrapT),we.push(Te.wrapR||0),we.push(Te.magFilter),we.push(Te.minFilter),we.push(Te.anisotropy),we.push(Te.internalFormat),we.push(Te.format),we.push(Te.type),we.push(Te.generateMipmaps),we.push(Te.premultiplyAlpha),we.push(Te.flipY),we.push(Te.unpackAlignment),we.push(Te.encoding),we.join()}function ne(Te,we){const Ne=r.get(Te);if(Te.isVideoTexture&&gt(Te),Te.isRenderTargetTexture===!1&&Te.version>0&&Ne.__version!==Te.version){const Ze=Te.image;if(Ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{be(Ne,Te,we);return}}n.bindTexture(3553,Ne.__webglTexture,33984+we)}function he(Te,we){const Ne=r.get(Te);if(Te.version>0&&Ne.__version!==Te.version){be(Ne,Te,we);return}n.bindTexture(35866,Ne.__webglTexture,33984+we)}function W(Te,we){const Ne=r.get(Te);if(Te.version>0&&Ne.__version!==Te.version){be(Ne,Te,we);return}n.bindTexture(32879,Ne.__webglTexture,33984+we)}function Y(Te,we){const Ne=r.get(Te);if(Te.version>0&&Ne.__version!==Te.version){xe(Ne,Te,we);return}n.bindTexture(34067,Ne.__webglTexture,33984+we)}const oe={[WH]:10497,[lp]:33071,[jH]:33648},fe={[Dh]:9728,[UY]:9984,[t4]:9986,[nA]:9729,[KYe]:9985,[NM]:9987};function me(Te,we,Ne){if(Ne?(t.texParameteri(Te,10242,oe[we.wrapS]),t.texParameteri(Te,10243,oe[we.wrapT]),(Te===32879||Te===35866)&&t.texParameteri(Te,32882,oe[we.wrapR]),t.texParameteri(Te,10240,fe[we.magFilter]),t.texParameteri(Te,10241,fe[we.minFilter])):(t.texParameteri(Te,10242,33071),t.texParameteri(Te,10243,33071),(Te===32879||Te===35866)&&t.texParameteri(Te,32882,33071),(we.wrapS!==lp||we.wrapT!==lp)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Te,10240,k(we.magFilter)),t.texParameteri(Te,10241,k(we.minFilter)),we.minFilter!==Dh&&we.minFilter!==nA&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ze=e.get("EXT_texture_filter_anisotropic");if(we.magFilter===Dh||we.minFilter!==t4&&we.minFilter!==NM||we.type===d1&&e.has("OES_texture_float_linear")===!1||o===!1&&we.type===DM&&e.has("OES_texture_half_float_linear")===!1)return;(we.anisotropy>1||r.get(we).__currentAnisotropy)&&(t.texParameterf(Te,Ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(we.anisotropy,i.getMaxAnisotropy())),r.get(we).__currentAnisotropy=we.anisotropy)}}function ce(Te,we){let Ne=!1;Te.__webglInit===void 0&&(Te.__webglInit=!0,we.addEventListener("dispose",O));const Ze=we.source;let Tt=y.get(Ze);Tt===void 0&&(Tt={},y.set(Ze,Tt));const Zt=z(we);if(Zt!==Te.__cacheKey){Tt[Zt]===void 0&&(Tt[Zt]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,Ne=!0),Tt[Zt].usedTimes++;const ln=Tt[Te.__cacheKey];ln!==void 0&&(Tt[Te.__cacheKey].usedTimes--,ln.usedTimes===0&&$(we)),Te.__cacheKey=Zt,Te.__webglTexture=Tt[Zt].texture}return Ne}function be(Te,we,Ne){let Ze=3553;(we.isDataArrayTexture||we.isCompressedArrayTexture)&&(Ze=35866),we.isData3DTexture&&(Ze=32879);const Tt=ce(Te,we),Zt=we.source;n.bindTexture(Ze,Te.__webglTexture,33984+Ne);const ln=r.get(Zt);if(Zt.version!==ln.__version||Tt===!0){n.activeTexture(33984+Ne),t.pixelStorei(37440,we.flipY),t.pixelStorei(37441,we.premultiplyAlpha),t.pixelStorei(3317,we.unpackAlignment),t.pixelStorei(37443,0);const Ye=M(we)&&C(we.image)===!1;let yt=S(we.image,Ye,!1,h);yt=vt(we,yt);const Qt=C(yt)||o,Dt=s.convert(we.format,we.encoding);let st=s.convert(we.type),ke=L(we.internalFormat,Dt,st,we.encoding,we.isVideoTexture);me(Ze,we,Qt);let ct;const Oe=we.mipmaps,kt=o&&we.isVideoTexture!==!0,wn=ln.__version===void 0||Tt===!0,mt=I(we,yt,Qt);if(we.isDepthTexture)ke=6402,o?we.type===d1?ke=36012:we.type===h1?ke=33190:we.type===xE?ke=35056:ke=33189:we.type===d1&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),we.format===T1&&ke===6402&&we.type!==Yde&&we.type!==h1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),we.type=h1,st=s.convert(we.type)),we.format===hS&&ke===6402&&(ke=34041,we.type!==xE&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),we.type=xE,st=s.convert(we.type))),wn&&(kt?n.texStorage2D(3553,1,ke,yt.width,yt.height):n.texImage2D(3553,0,ke,yt.width,yt.height,0,Dt,st,null));else if(we.isDataTexture)if(Oe.length>0&&Qt){kt&&wn&&n.texStorage2D(3553,mt,ke,Oe[0].width,Oe[0].height);for(let Kt=0,bn=Oe.length;Kt<bn;Kt++)ct=Oe[Kt],kt?n.texSubImage2D(3553,Kt,0,0,ct.width,ct.height,Dt,st,ct.data):n.texImage2D(3553,Kt,ke,ct.width,ct.height,0,Dt,st,ct.data);we.generateMipmaps=!1}else kt?(wn&&n.texStorage2D(3553,mt,ke,yt.width,yt.height),n.texSubImage2D(3553,0,0,0,yt.width,yt.height,Dt,st,yt.data)):n.texImage2D(3553,0,ke,yt.width,yt.height,0,Dt,st,yt.data);else if(we.isCompressedTexture)if(we.isCompressedArrayTexture){kt&&wn&&n.texStorage3D(35866,mt,ke,Oe[0].width,Oe[0].height,yt.depth);for(let Kt=0,bn=Oe.length;Kt<bn;Kt++)ct=Oe[Kt],we.format!==cp?Dt!==null?kt?n.compressedTexSubImage3D(35866,Kt,0,0,0,ct.width,ct.height,yt.depth,Dt,ct.data,0,0):n.compressedTexImage3D(35866,Kt,ke,ct.width,ct.height,yt.depth,0,ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kt?n.texSubImage3D(35866,Kt,0,0,0,ct.width,ct.height,yt.depth,Dt,st,ct.data):n.texImage3D(35866,Kt,ke,ct.width,ct.height,yt.depth,0,Dt,st,ct.data)}else{kt&&wn&&n.texStorage2D(3553,mt,ke,Oe[0].width,Oe[0].height);for(let Kt=0,bn=Oe.length;Kt<bn;Kt++)ct=Oe[Kt],we.format!==cp?Dt!==null?kt?n.compressedTexSubImage2D(3553,Kt,0,0,ct.width,ct.height,Dt,ct.data):n.compressedTexImage2D(3553,Kt,ke,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kt?n.texSubImage2D(3553,Kt,0,0,ct.width,ct.height,Dt,st,ct.data):n.texImage2D(3553,Kt,ke,ct.width,ct.height,0,Dt,st,ct.data)}else if(we.isDataArrayTexture)kt?(wn&&n.texStorage3D(35866,mt,ke,yt.width,yt.height,yt.depth),n.texSubImage3D(35866,0,0,0,0,yt.width,yt.height,yt.depth,Dt,st,yt.data)):n.texImage3D(35866,0,ke,yt.width,yt.height,yt.depth,0,Dt,st,yt.data);else if(we.isData3DTexture)kt?(wn&&n.texStorage3D(32879,mt,ke,yt.width,yt.height,yt.depth),n.texSubImage3D(32879,0,0,0,0,yt.width,yt.height,yt.depth,Dt,st,yt.data)):n.texImage3D(32879,0,ke,yt.width,yt.height,yt.depth,0,Dt,st,yt.data);else if(we.isFramebufferTexture){if(wn)if(kt)n.texStorage2D(3553,mt,ke,yt.width,yt.height);else{let Kt=yt.width,bn=yt.height;for(let Rn=0;Rn<mt;Rn++)n.texImage2D(3553,Rn,ke,Kt,bn,0,Dt,st,null),Kt>>=1,bn>>=1}}else if(Oe.length>0&&Qt){kt&&wn&&n.texStorage2D(3553,mt,ke,Oe[0].width,Oe[0].height);for(let Kt=0,bn=Oe.length;Kt<bn;Kt++)ct=Oe[Kt],kt?n.texSubImage2D(3553,Kt,0,0,Dt,st,ct):n.texImage2D(3553,Kt,ke,Dt,st,ct);we.generateMipmaps=!1}else kt?(wn&&n.texStorage2D(3553,mt,ke,yt.width,yt.height),n.texSubImage2D(3553,0,0,0,Dt,st,yt)):n.texImage2D(3553,0,ke,Dt,st,yt);B(we,Qt)&&E(Ze),ln.__version=Zt.version,we.onUpdate&&we.onUpdate(we)}Te.__version=we.version}function xe(Te,we,Ne){if(we.image.length!==6)return;const Ze=ce(Te,we),Tt=we.source;n.bindTexture(34067,Te.__webglTexture,33984+Ne);const Zt=r.get(Tt);if(Tt.version!==Zt.__version||Ze===!0){n.activeTexture(33984+Ne),t.pixelStorei(37440,we.flipY),t.pixelStorei(37441,we.premultiplyAlpha),t.pixelStorei(3317,we.unpackAlignment),t.pixelStorei(37443,0);const ln=we.isCompressedTexture||we.image[0].isCompressedTexture,Ye=we.image[0]&&we.image[0].isDataTexture,yt=[];for(let Kt=0;Kt<6;Kt++)!ln&&!Ye?yt[Kt]=S(we.image[Kt],!1,!0,u):yt[Kt]=Ye?we.image[Kt].image:we.image[Kt],yt[Kt]=vt(we,yt[Kt]);const Qt=yt[0],Dt=C(Qt)||o,st=s.convert(we.format,we.encoding),ke=s.convert(we.type),ct=L(we.internalFormat,st,ke,we.encoding),Oe=o&&we.isVideoTexture!==!0,kt=Zt.__version===void 0||Ze===!0;let wn=I(we,Qt,Dt);me(34067,we,Dt);let mt;if(ln){Oe&&kt&&n.texStorage2D(34067,wn,ct,Qt.width,Qt.height);for(let Kt=0;Kt<6;Kt++){mt=yt[Kt].mipmaps;for(let bn=0;bn<mt.length;bn++){const Rn=mt[bn];we.format!==cp?st!==null?Oe?n.compressedTexSubImage2D(34069+Kt,bn,0,0,Rn.width,Rn.height,st,Rn.data):n.compressedTexImage2D(34069+Kt,bn,ct,Rn.width,Rn.height,0,Rn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Oe?n.texSubImage2D(34069+Kt,bn,0,0,Rn.width,Rn.height,st,ke,Rn.data):n.texImage2D(34069+Kt,bn,ct,Rn.width,Rn.height,0,st,ke,Rn.data)}}}else{mt=we.mipmaps,Oe&&kt&&(mt.length>0&&wn++,n.texStorage2D(34067,wn,ct,yt[0].width,yt[0].height));for(let Kt=0;Kt<6;Kt++)if(Ye){Oe?n.texSubImage2D(34069+Kt,0,0,0,yt[Kt].width,yt[Kt].height,st,ke,yt[Kt].data):n.texImage2D(34069+Kt,0,ct,yt[Kt].width,yt[Kt].height,0,st,ke,yt[Kt].data);for(let bn=0;bn<mt.length;bn++){const On=mt[bn].image[Kt].image;Oe?n.texSubImage2D(34069+Kt,bn+1,0,0,On.width,On.height,st,ke,On.data):n.texImage2D(34069+Kt,bn+1,ct,On.width,On.height,0,st,ke,On.data)}}else{Oe?n.texSubImage2D(34069+Kt,0,0,0,st,ke,yt[Kt]):n.texImage2D(34069+Kt,0,ct,st,ke,yt[Kt]);for(let bn=0;bn<mt.length;bn++){const Rn=mt[bn];Oe?n.texSubImage2D(34069+Kt,bn+1,0,0,st,ke,Rn.image[Kt]):n.texImage2D(34069+Kt,bn+1,ct,st,ke,Rn.image[Kt])}}}B(we,Dt)&&E(34067),Zt.__version=Tt.version,we.onUpdate&&we.onUpdate(we)}Te.__version=we.version}function Ie(Te,we,Ne,Ze,Tt){const Zt=s.convert(Ne.format,Ne.encoding),ln=s.convert(Ne.type),Ye=L(Ne.internalFormat,Zt,ln,Ne.encoding);r.get(we).__hasExternalTextures||(Tt===32879||Tt===35866?n.texImage3D(Tt,0,Ye,we.width,we.height,we.depth,0,Zt,ln,null):n.texImage2D(Tt,0,Ye,we.width,we.height,0,Zt,ln,null)),n.bindFramebuffer(36160,Te),je(we)?f.framebufferTexture2DMultisampleEXT(36160,Ze,Tt,r.get(Ne).__webglTexture,0,ft(we)):(Tt===3553||Tt>=34069&&Tt<=34074)&&t.framebufferTexture2D(36160,Ze,Tt,r.get(Ne).__webglTexture,0),n.bindFramebuffer(36160,null)}function Qe(Te,we,Ne){if(t.bindRenderbuffer(36161,Te),we.depthBuffer&&!we.stencilBuffer){let Ze=33189;if(Ne||je(we)){const Tt=we.depthTexture;Tt&&Tt.isDepthTexture&&(Tt.type===d1?Ze=36012:Tt.type===h1&&(Ze=33190));const Zt=ft(we);je(we)?f.renderbufferStorageMultisampleEXT(36161,Zt,Ze,we.width,we.height):t.renderbufferStorageMultisample(36161,Zt,Ze,we.width,we.height)}else t.renderbufferStorage(36161,Ze,we.width,we.height);t.framebufferRenderbuffer(36160,36096,36161,Te)}else if(we.depthBuffer&&we.stencilBuffer){const Ze=ft(we);Ne&&je(we)===!1?t.renderbufferStorageMultisample(36161,Ze,35056,we.width,we.height):je(we)?f.renderbufferStorageMultisampleEXT(36161,Ze,35056,we.width,we.height):t.renderbufferStorage(36161,34041,we.width,we.height),t.framebufferRenderbuffer(36160,33306,36161,Te)}else{const Ze=we.isWebGLMultipleRenderTargets===!0?we.texture:[we.texture];for(let Tt=0;Tt<Ze.length;Tt++){const Zt=Ze[Tt],ln=s.convert(Zt.format,Zt.encoding),Ye=s.convert(Zt.type),yt=L(Zt.internalFormat,ln,Ye,Zt.encoding),Qt=ft(we);Ne&&je(we)===!1?t.renderbufferStorageMultisample(36161,Qt,yt,we.width,we.height):je(we)?f.renderbufferStorageMultisampleEXT(36161,Qt,yt,we.width,we.height):t.renderbufferStorage(36161,yt,we.width,we.height)}}t.bindRenderbuffer(36161,null)}function ue(Te,we){if(we&&we.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Te),!(we.depthTexture&&we.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(we.depthTexture).__webglTexture||we.depthTexture.image.width!==we.width||we.depthTexture.image.height!==we.height)&&(we.depthTexture.image.width=we.width,we.depthTexture.image.height=we.height,we.depthTexture.needsUpdate=!0),ne(we.depthTexture,0);const Ze=r.get(we.depthTexture).__webglTexture,Tt=ft(we);if(we.depthTexture.format===T1)je(we)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ze,0,Tt):t.framebufferTexture2D(36160,36096,3553,Ze,0);else if(we.depthTexture.format===hS)je(we)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ze,0,Tt):t.framebufferTexture2D(36160,33306,3553,Ze,0);else throw new Error("Unknown depthTexture format")}function ye(Te){const we=r.get(Te),Ne=Te.isWebGLCubeRenderTarget===!0;if(Te.depthTexture&&!we.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");ue(we.__webglFramebuffer,Te)}else if(Ne){we.__webglDepthbuffer=[];for(let Ze=0;Ze<6;Ze++)n.bindFramebuffer(36160,we.__webglFramebuffer[Ze]),we.__webglDepthbuffer[Ze]=t.createRenderbuffer(),Qe(we.__webglDepthbuffer[Ze],Te,!1)}else n.bindFramebuffer(36160,we.__webglFramebuffer),we.__webglDepthbuffer=t.createRenderbuffer(),Qe(we.__webglDepthbuffer,Te,!1);n.bindFramebuffer(36160,null)}function $e(Te,we,Ne){const Ze=r.get(Te);we!==void 0&&Ie(Ze.__webglFramebuffer,Te,Te.texture,36064,3553),Ne!==void 0&&ye(Te)}function Ve(Te){const we=Te.texture,Ne=r.get(Te),Ze=r.get(we);Te.addEventListener("dispose",F),Te.isWebGLMultipleRenderTargets!==!0&&(Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture()),Ze.__version=we.version,a.memory.textures++);const Tt=Te.isWebGLCubeRenderTarget===!0,Zt=Te.isWebGLMultipleRenderTargets===!0,ln=C(Te)||o;if(Tt){Ne.__webglFramebuffer=[];for(let Ye=0;Ye<6;Ye++)Ne.__webglFramebuffer[Ye]=t.createFramebuffer()}else{if(Ne.__webglFramebuffer=t.createFramebuffer(),Zt)if(i.drawBuffers){const Ye=Te.texture;for(let yt=0,Qt=Ye.length;yt<Qt;yt++){const Dt=r.get(Ye[yt]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&Te.samples>0&&je(Te)===!1){const Ye=Zt?we:[we];Ne.__webglMultisampledFramebuffer=t.createFramebuffer(),Ne.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer);for(let yt=0;yt<Ye.length;yt++){const Qt=Ye[yt];Ne.__webglColorRenderbuffer[yt]=t.createRenderbuffer(),t.bindRenderbuffer(36161,Ne.__webglColorRenderbuffer[yt]);const Dt=s.convert(Qt.format,Qt.encoding),st=s.convert(Qt.type),ke=L(Qt.internalFormat,Dt,st,Qt.encoding,Te.isXRRenderTarget===!0),ct=ft(Te);t.renderbufferStorageMultisample(36161,ct,ke,Te.width,Te.height),t.framebufferRenderbuffer(36160,36064+yt,36161,Ne.__webglColorRenderbuffer[yt])}t.bindRenderbuffer(36161,null),Te.depthBuffer&&(Ne.__webglDepthRenderbuffer=t.createRenderbuffer(),Qe(Ne.__webglDepthRenderbuffer,Te,!0)),n.bindFramebuffer(36160,null)}}if(Tt){n.bindTexture(34067,Ze.__webglTexture),me(34067,we,ln);for(let Ye=0;Ye<6;Ye++)Ie(Ne.__webglFramebuffer[Ye],Te,we,36064,34069+Ye);B(we,ln)&&E(34067),n.unbindTexture()}else if(Zt){const Ye=Te.texture;for(let yt=0,Qt=Ye.length;yt<Qt;yt++){const Dt=Ye[yt],st=r.get(Dt);n.bindTexture(3553,st.__webglTexture),me(3553,Dt,ln),Ie(Ne.__webglFramebuffer,Te,Dt,36064+yt,3553),B(Dt,ln)&&E(3553)}n.unbindTexture()}else{let Ye=3553;(Te.isWebGL3DRenderTarget||Te.isWebGLArrayRenderTarget)&&(o?Ye=Te.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ye,Ze.__webglTexture),me(Ye,we,ln),Ie(Ne.__webglFramebuffer,Te,we,36064,Ye),B(we,ln)&&E(Ye),n.unbindTexture()}Te.depthBuffer&&ye(Te)}function Se(Te){const we=C(Te)||o,Ne=Te.isWebGLMultipleRenderTargets===!0?Te.texture:[Te.texture];for(let Ze=0,Tt=Ne.length;Ze<Tt;Ze++){const Zt=Ne[Ze];if(B(Zt,we)){const ln=Te.isWebGLCubeRenderTarget?34067:3553,Ye=r.get(Zt).__webglTexture;n.bindTexture(ln,Ye),E(ln),n.unbindTexture()}}}function at(Te){if(o&&Te.samples>0&&je(Te)===!1){const we=Te.isWebGLMultipleRenderTargets?Te.texture:[Te.texture],Ne=Te.width,Ze=Te.height;let Tt=16384;const Zt=[],ln=Te.stencilBuffer?33306:36096,Ye=r.get(Te),yt=Te.isWebGLMultipleRenderTargets===!0;if(yt)for(let Qt=0;Qt<we.length;Qt++)n.bindFramebuffer(36160,Ye.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Qt,36161,null),n.bindFramebuffer(36160,Ye.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Qt,3553,null,0);n.bindFramebuffer(36008,Ye.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ye.__webglFramebuffer);for(let Qt=0;Qt<we.length;Qt++){Zt.push(36064+Qt),Te.depthBuffer&&Zt.push(ln);const Dt=Ye.__ignoreDepthValues!==void 0?Ye.__ignoreDepthValues:!1;if(Dt===!1&&(Te.depthBuffer&&(Tt|=256),Te.stencilBuffer&&(Tt|=1024)),yt&&t.framebufferRenderbuffer(36008,36064,36161,Ye.__webglColorRenderbuffer[Qt]),Dt===!0&&(t.invalidateFramebuffer(36008,[ln]),t.invalidateFramebuffer(36009,[ln])),yt){const st=r.get(we[Qt]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,st,0)}t.blitFramebuffer(0,0,Ne,Ze,0,0,Ne,Ze,Tt,9728),A&&t.invalidateFramebuffer(36008,Zt)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),yt)for(let Qt=0;Qt<we.length;Qt++){n.bindFramebuffer(36160,Ye.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Qt,36161,Ye.__webglColorRenderbuffer[Qt]);const Dt=r.get(we[Qt]).__webglTexture;n.bindFramebuffer(36160,Ye.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Qt,3553,Dt,0)}n.bindFramebuffer(36009,Ye.__webglMultisampledFramebuffer)}}function ft(Te){return Math.min(d,Te.samples)}function je(Te){const we=r.get(Te);return o&&Te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&we.__useRenderToTexture!==!1}function gt(Te){const we=a.render.frame;m.get(Te)!==we&&(m.set(Te,we),Te.update())}function vt(Te,we){const Ne=Te.encoding,Ze=Te.format,Tt=Te.type;return Te.isCompressedTexture===!0||Te.isVideoTexture===!0||Te.format===KH||Ne!==Z1&&(Ne===Do?o===!1?e.has("EXT_sRGB")===!0&&Ze===cp?(Te.format=KH,Te.minFilter=nA,Te.generateMipmaps=!1):we=efe.sRGBToLinear(we):(Ze!==cp||Tt!==Y1)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Ne)),we}this.allocateTextureUnit=X,this.resetTextureUnits=Q,this.setTexture2D=ne,this.setTexture2DArray=he,this.setTexture3D=W,this.setTextureCube=Y,this.rebindTextures=$e,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=at,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=je}function ort(t,e,n){const r=n.isWebGL2;function i(s,a=null){let o;if(s===Y1)return 5121;if(s===ZYe)return 32819;if(s===JYe)return 32820;if(s===qYe)return 5120;if(s===XYe)return 5122;if(s===Yde)return 5123;if(s===YYe)return 5124;if(s===h1)return 5125;if(s===d1)return 5126;if(s===DM)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===eZe)return 6406;if(s===cp)return 6408;if(s===tZe)return 6409;if(s===nZe)return 6410;if(s===T1)return 6402;if(s===hS)return 34041;if(s===KH)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===rZe)return 6403;if(s===iZe)return 36244;if(s===sZe)return 33319;if(s===aZe)return 33320;if(s===oZe)return 36249;if(s===n4||s===r4||s===i4||s===s4)if(a===Do)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===n4)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===r4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===i4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===s4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===n4)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===r4)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===i4)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===s4)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===HY||s===GY||s===VY||s===zY)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===HY)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===GY)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===VY)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===zY)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===lZe)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===$Y||s===QY)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===$Y)return a===Do?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===QY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===WY||s===jY||s===KY||s===qY||s===XY||s===YY||s===ZY||s===JY||s===eZ||s===tZ||s===nZ||s===rZ||s===iZ||s===sZ)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===WY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===jY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===KY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===qY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===XY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===YY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ZY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===JY)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===eZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===nZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===rZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===iZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===sZ)return a===Do?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===a4)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===a4)return a===Do?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===cZe||s===aZ||s===oZ||s===lZ)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===a4)return o.COMPRESSED_RED_RGTC1_EXT;if(s===aZ)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===oZ)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===lZ)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===xE?r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class lrt extends df{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class j0 extends El{constructor(){super(),this.isGroup=!0,this.type="Group"}}const crt={type:"move"};class I4{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new j0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new j0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Gt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Gt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new j0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Gt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Gt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,r),_=this._getHandJoint(u,g);y!==null&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=y!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=h.position.distanceTo(d.position),A=.02,m=.005;u.inputState.pinching&&f>A+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=A-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(crt)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new j0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class urt extends Cf{constructor(e,n,r,i,s,a,o,l,u,h){if(h=h!==void 0?h:T1,h!==T1&&h!==hS)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===T1&&(r=h1),r===void 0&&h===hS&&(r=xE),super(null,i,s,a,o,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Dh,this.minFilter=l!==void 0?l:Dh,this.flipY=!1,this.generateMipmaps=!1}}class hrt extends gw{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,d=null,f=null,A=null,m=null;const g=n.getContextAttributes();let y=null,_=null;const x=[],S=[],C=new Set,M=new Map,B=new df;B.layers.enable(1),B.viewport=new Xc;const E=new df;E.layers.enable(2),E.viewport=new Xc;const L=[B,E],I=new lrt;I.layers.enable(1),I.layers.enable(2);let k=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(W){let Y=x[W];return Y===void 0&&(Y=new I4,x[W]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(W){let Y=x[W];return Y===void 0&&(Y=new I4,x[W]=Y),Y.getGripSpace()},this.getHand=function(W){let Y=x[W];return Y===void 0&&(Y=new I4,x[W]=Y),Y.getHandSpace()};function F(W){const Y=S.indexOf(W.inputSource);if(Y===-1)return;const oe=x[Y];oe!==void 0&&oe.dispatchEvent({type:W.type,data:W.inputSource})}function U(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",$);for(let W=0;W<x.length;W++){const Y=S[W];Y!==null&&(S[W]=null,x[W].disconnect(Y))}k=null,O=null,e.setRenderTarget(y),A=null,f=null,d=null,i=null,_=null,he.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(W){s=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){o=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(W){u=W},this.getBaseLayer=function(){return f!==null?f:A},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(W){if(i=W,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",U),i.addEventListener("inputsourceschange",$),g.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Y={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};A=new XRWebGLLayer(i,n,Y),i.updateRenderState({baseLayer:A}),_=new J1(A.framebufferWidth,A.framebufferHeight,{format:cp,type:Y1,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let Y=null,oe=null,fe=null;g.depth&&(fe=g.stencil?35056:33190,Y=g.stencil?hS:T1,oe=g.stencil?xE:h1);const me={colorFormat:32856,depthFormat:fe,scaleFactor:s};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(me),i.updateRenderState({layers:[f]}),_=new J1(f.textureWidth,f.textureHeight,{format:cp,type:Y1,depthTexture:new urt(f.textureWidth,f.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const ce=e.properties.get(_);ce.__ignoreDepthValues=f.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),he.setContext(i),he.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function $(W){for(let Y=0;Y<W.removed.length;Y++){const oe=W.removed[Y],fe=S.indexOf(oe);fe>=0&&(S[fe]=null,x[fe].disconnect(oe))}for(let Y=0;Y<W.added.length;Y++){const oe=W.added[Y];let fe=S.indexOf(oe);if(fe===-1){for(let ce=0;ce<x.length;ce++)if(ce>=S.length){S.push(oe),fe=ce;break}else if(S[ce]===null){S[ce]=oe,fe=ce;break}if(fe===-1)break}const me=x[fe];me&&me.connect(oe)}}const K=new Gt,V=new Gt;function Q(W,Y,oe){K.setFromMatrixPosition(Y.matrixWorld),V.setFromMatrixPosition(oe.matrixWorld);const fe=K.distanceTo(V),me=Y.projectionMatrix.elements,ce=oe.projectionMatrix.elements,be=me[14]/(me[10]-1),xe=me[14]/(me[10]+1),Ie=(me[9]+1)/me[5],Qe=(me[9]-1)/me[5],ue=(me[8]-1)/me[0],ye=(ce[8]+1)/ce[0],$e=be*ue,Ve=be*ye,Se=fe/(-ue+ye),at=Se*-ue;Y.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(at),W.translateZ(Se),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const ft=be+Se,je=xe+Se,gt=$e-at,vt=Ve+(fe-at),Te=Ie*xe/je*ft,we=Qe*xe/je*ft;W.projectionMatrix.makePerspective(gt,vt,Te,we,ft,je)}function X(W,Y){Y===null?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(Y.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCamera=function(W){if(i===null)return;I.near=E.near=B.near=W.near,I.far=E.far=B.far=W.far,(k!==I.near||O!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),k=I.near,O=I.far);const Y=W.parent,oe=I.cameras;X(I,Y);for(let me=0;me<oe.length;me++)X(oe[me],Y);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),W.matrix.copy(I.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale);const fe=W.children;for(let me=0,ce=fe.length;me<ce;me++)fe[me].updateMatrixWorld(!0);oe.length===2?Q(I,B,E):I.projectionMatrix.copy(B.projectionMatrix)},this.getCamera=function(){return I},this.getFoveation=function(){if(!(f===null&&A===null))return l},this.setFoveation=function(W){l=W,f!==null&&(f.fixedFoveation=W),A!==null&&A.fixedFoveation!==void 0&&(A.fixedFoveation=W)},this.getPlanes=function(){return C};let z=null;function ne(W,Y){if(h=Y.getViewerPose(u||a),m=Y,h!==null){const oe=h.views;A!==null&&(e.setRenderTargetFramebuffer(_,A.framebuffer),e.setRenderTarget(_));let fe=!1;oe.length!==I.cameras.length&&(I.cameras.length=0,fe=!0);for(let me=0;me<oe.length;me++){const ce=oe[me];let be=null;if(A!==null)be=A.getViewport(ce);else{const Ie=d.getViewSubImage(f,ce);be=Ie.viewport,me===0&&(e.setRenderTargetTextures(_,Ie.colorTexture,f.ignoreDepthValues?void 0:Ie.depthStencilTexture),e.setRenderTarget(_))}let xe=L[me];xe===void 0&&(xe=new df,xe.layers.enable(me),xe.viewport=new Xc,L[me]=xe),xe.matrix.fromArray(ce.transform.matrix),xe.projectionMatrix.fromArray(ce.projectionMatrix),xe.viewport.set(be.x,be.y,be.width,be.height),me===0&&I.matrix.copy(xe.matrix),fe===!0&&I.cameras.push(xe)}}for(let oe=0;oe<x.length;oe++){const fe=S[oe],me=x[oe];fe!==null&&me!==void 0&&me.update(fe,Y,u||a)}if(z&&z(W,Y),Y.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:Y.detectedPlanes});let oe=null;for(const fe of C)Y.detectedPlanes.has(fe)||(oe===null&&(oe=[]),oe.push(fe));if(oe!==null)for(const fe of oe)C.delete(fe),M.delete(fe),r.dispatchEvent({type:"planeremoved",data:fe});for(const fe of Y.detectedPlanes)if(!C.has(fe))C.add(fe),M.set(fe,Y.lastChangedTime),r.dispatchEvent({type:"planeadded",data:fe});else{const me=M.get(fe);fe.lastChangedTime>me&&(M.set(fe,fe.lastChangedTime),r.dispatchEvent({type:"planechanged",data:fe}))}}m=null}const he=new lfe;he.setAnimationLoop(ne),this.setAnimationLoop=function(W){z=W},this.dispose=function(){}}}function drt(t,e){function n(g,y){y.color.getRGB(g.fogColor.value,sfe(t)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,_,x,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(g,y):y.isMeshToonMaterial?(i(g,y),h(g,y)):y.isMeshPhongMaterial?(i(g,y),u(g,y)):y.isMeshStandardMaterial?(i(g,y),d(g,y),y.isMeshPhysicalMaterial&&f(g,y,S)):y.isMeshMatcapMaterial?(i(g,y),A(g,y)):y.isMeshDepthMaterial?i(g,y):y.isMeshDistanceMaterial?(i(g,y),m(g,y)):y.isMeshNormalMaterial?i(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&a(g,y)):y.isPointsMaterial?o(g,y,_,x):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===Sf&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===Sf&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const C=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*C}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.iridescenceMap?x=y.iridescenceMap:y.iridescenceThicknessMap?x=y.iridescenceThicknessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let S;y.aoMap?S=y.aoMap:y.lightMap&&(S=y.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function a(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function o(g,y,_,x){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*_,g.scale.value=x*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let S;y.map?S=y.map:y.alphaMap&&(S=y.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let _;y.map?_=y.map:y.alphaMap&&(_=y.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function u(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function h(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function d(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function f(g,y,_){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===Sf&&g.clearcoatNormalScale.value.negate())),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function A(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function frt(t,e,n,r){let i={},s={},a=[];const o=n.isWebGL2?t.getParameter(35375):0;function l(x,S){const C=S.program;r.uniformBlockBinding(x,C)}function u(x,S){let C=i[x.id];C===void 0&&(m(x),C=h(x),i[x.id]=C,x.addEventListener("dispose",y));const M=S.program;r.updateUBOMapping(x,M);const B=e.render.frame;s[x.id]!==B&&(f(x),s[x.id]=B)}function h(x){const S=d();x.__bindingPointIndex=S;const C=t.createBuffer(),M=x.__size,B=x.usage;return t.bindBuffer(35345,C),t.bufferData(35345,M,B),t.bindBuffer(35345,null),t.bindBufferBase(35345,S,C),C}function d(){for(let x=0;x<o;x++)if(a.indexOf(x)===-1)return a.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(x){const S=i[x.id],C=x.uniforms,M=x.__cache;t.bindBuffer(35345,S);for(let B=0,E=C.length;B<E;B++){const L=C[B];if(A(L,B,M)===!0){const I=L.__offset,k=Array.isArray(L.value)?L.value:[L.value];let O=0;for(let F=0;F<k.length;F++){const U=k[F],$=g(U);typeof U=="number"?(L.__data[0]=U,t.bufferSubData(35345,I+O,L.__data)):U.isMatrix3?(L.__data[0]=U.elements[0],L.__data[1]=U.elements[1],L.__data[2]=U.elements[2],L.__data[3]=U.elements[0],L.__data[4]=U.elements[3],L.__data[5]=U.elements[4],L.__data[6]=U.elements[5],L.__data[7]=U.elements[0],L.__data[8]=U.elements[6],L.__data[9]=U.elements[7],L.__data[10]=U.elements[8],L.__data[11]=U.elements[0]):(U.toArray(L.__data,O),O+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,I,L.__data)}}t.bindBuffer(35345,null)}function A(x,S,C){const M=x.value;if(C[S]===void 0){if(typeof M=="number")C[S]=M;else{const B=Array.isArray(M)?M:[M],E=[];for(let L=0;L<B.length;L++)E.push(B[L].clone());C[S]=E}return!0}else if(typeof M=="number"){if(C[S]!==M)return C[S]=M,!0}else{const B=Array.isArray(C[S])?C[S]:[C[S]],E=Array.isArray(M)?M:[M];for(let L=0;L<B.length;L++){const I=B[L];if(I.equals(E[L])===!1)return I.copy(E[L]),!0}}return!1}function m(x){const S=x.uniforms;let C=0;const M=16;let B=0;for(let E=0,L=S.length;E<L;E++){const I=S[E],k={boundary:0,storage:0},O=Array.isArray(I.value)?I.value:[I.value];for(let F=0,U=O.length;F<U;F++){const $=O[F],K=g($);k.boundary+=K.boundary,k.storage+=K.storage}if(I.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=C,E>0){B=C%M;const F=M-B;B!==0&&F-k.boundary<0&&(C+=M-B,I.__offset=C)}C+=k.storage}return B=C%M,B>0&&(C+=M-B),x.__size=C,x.__cache={},this}function g(x){const S={boundary:0,storage:0};return typeof x=="number"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function y(x){const S=x.target;S.removeEventListener("dispose",y);const C=a.indexOf(S.__bindingPointIndex);a.splice(C,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function _(){for(const x in i)t.deleteBuffer(i[x]);a=[],i={},s={}}return{bind:l,update:u,dispose:_}}function Art(){const t=wO("canvas");return t.style.display="block",t}function Afe(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:Art(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,a=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,o=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let h;n!==null?h=n.getContextAttributes().alpha:h=t.alpha!==void 0?t.alpha:!1;let d=null,f=null;const A=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Z1,this.physicallyCorrectLights=!1,this.toneMapping=Av,this.toneMappingExposure=1;const g=this;let y=!1,_=0,x=0,S=null,C=-1,M=null;const B=new Xc,E=new Xc;let L=null,I=e.width,k=e.height,O=1,F=null,U=null;const $=new Xc(0,0,I,k),K=new Xc(0,0,I,k);let V=!1;const Q=new C7;let X=!1,z=!1,ne=null;const he=new xl,W=new ms,Y=new Gt,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return S===null?O:1}let me=n;function ce(ot,sn){for(let Cn=0;Cn<ot.length;Cn++){const it=ot[Cn],Ft=e.getContext(it,sn);if(Ft!==null)return Ft}return null}try{const ot={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r".concat(w7)),e.addEventListener("webglcontextlost",ke,!1),e.addEventListener("webglcontextrestored",ct,!1),e.addEventListener("webglcontextcreationerror",Oe,!1),me===null){const sn=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&sn.shift(),me=ce(sn,ot),me===null)throw ce(sn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}me.getShaderPrecisionFormat===void 0&&(me.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ot){throw console.error("THREE.WebGLRenderer: "+ot.message),ot}let be,xe,Ie,Qe,ue,ye,$e,Ve,Se,at,ft,je,gt,vt,Te,we,Ne,Ze,Tt,Zt,ln,Ye,yt,Qt;function Dt(){be=new Stt(me),xe=new ytt(me,be,t),be.init(xe),Ye=new ort(me,be,xe),Ie=new srt(me,be,xe),Qe=new Mtt,ue=new Qnt,ye=new art(me,be,Ie,ue,xe,Ye,Qe),$e=new wtt(g),Ve=new Ett(g),Se=new OZe(me,xe),yt=new mtt(me,be,Se,xe),at=new Ctt(me,Se,Qe,yt),ft=new Itt(me,at,Se,Qe),Tt=new Rtt(me,xe,ye),we=new _tt(ue),je=new $nt(g,$e,Ve,be,xe,yt,we),gt=new drt(g,ue),vt=new jnt,Te=new Jnt(be,xe),Ze=new gtt(g,$e,Ve,Ie,ft,h,a),Ne=new irt(g,ft,xe),Qt=new frt(me,Qe,xe,Ie),Zt=new vtt(me,be,Qe,xe),ln=new Ttt(me,be,Qe,xe),Qe.programs=je.programs,g.capabilities=xe,g.extensions=be,g.properties=ue,g.renderLists=vt,g.shadowMap=Ne,g.state=Ie,g.info=Qe}Dt();const st=new hrt(g,me);this.xr=st,this.getContext=function(){return me},this.getContextAttributes=function(){return me.getContextAttributes()},this.forceContextLoss=function(){const ot=be.get("WEBGL_lose_context");ot&&ot.loseContext()},this.forceContextRestore=function(){const ot=be.get("WEBGL_lose_context");ot&&ot.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ot){ot!==void 0&&(O=ot,this.setSize(I,k,!1))},this.getSize=function(ot){return ot.set(I,k)},this.setSize=function(ot,sn,Cn){if(st.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=ot,k=sn,e.width=Math.floor(ot*O),e.height=Math.floor(sn*O),Cn!==!1&&(e.style.width=ot+"px",e.style.height=sn+"px"),this.setViewport(0,0,ot,sn)},this.getDrawingBufferSize=function(ot){return ot.set(I*O,k*O).floor()},this.setDrawingBufferSize=function(ot,sn,Cn){I=ot,k=sn,O=Cn,e.width=Math.floor(ot*Cn),e.height=Math.floor(sn*Cn),this.setViewport(0,0,ot,sn)},this.getCurrentViewport=function(ot){return ot.copy(B)},this.getViewport=function(ot){return ot.copy($)},this.setViewport=function(ot,sn,Cn,it){ot.isVector4?$.set(ot.x,ot.y,ot.z,ot.w):$.set(ot,sn,Cn,it),Ie.viewport(B.copy($).multiplyScalar(O).floor())},this.getScissor=function(ot){return ot.copy(K)},this.setScissor=function(ot,sn,Cn,it){ot.isVector4?K.set(ot.x,ot.y,ot.z,ot.w):K.set(ot,sn,Cn,it),Ie.scissor(E.copy(K).multiplyScalar(O).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(ot){Ie.setScissorTest(V=ot)},this.setOpaqueSort=function(ot){F=ot},this.setTransparentSort=function(ot){U=ot},this.getClearColor=function(ot){return ot.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(ot=!0,sn=!0,Cn=!0){let it=0;ot&&(it|=16384),sn&&(it|=256),Cn&&(it|=1024),me.clear(it)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ke,!1),e.removeEventListener("webglcontextrestored",ct,!1),e.removeEventListener("webglcontextcreationerror",Oe,!1),vt.dispose(),Te.dispose(),ue.dispose(),$e.dispose(),Ve.dispose(),ft.dispose(),yt.dispose(),Qt.dispose(),je.dispose(),st.dispose(),st.removeEventListener("sessionstart",Rn),st.removeEventListener("sessionend",On),ne&&(ne.dispose(),ne=null),Dn.stop()};function ke(ot){ot.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ot=Qe.autoReset,sn=Ne.enabled,Cn=Ne.autoUpdate,it=Ne.needsUpdate,Ft=Ne.type;Dt(),Qe.autoReset=ot,Ne.enabled=sn,Ne.autoUpdate=Cn,Ne.needsUpdate=it,Ne.type=Ft}function Oe(ot){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ot.statusMessage)}function kt(ot){const sn=ot.target;sn.removeEventListener("dispose",kt),wn(sn)}function wn(ot){mt(ot),ue.remove(ot)}function mt(ot){const sn=ue.get(ot).programs;sn!==void 0&&(sn.forEach(function(Cn){je.releaseProgram(Cn)}),ot.isShaderMaterial&&je.releaseShaderCache(ot))}this.renderBufferDirect=function(ot,sn,Cn,it,Ft,Gn){sn===null&&(sn=oe);const fr=Ft.isMesh&&Ft.matrixWorld.determinant()<0,Gr=Di(ot,sn,Cn,it,Ft);Ie.setMaterial(it,fr);let $r=Cn.index,oi=1;it.wireframe===!0&&($r=at.getWireframeAttribute(Cn),oi=2);const xi=Cn.drawRange,mi=Cn.attributes.position;let Lt=xi.start*oi,ut=(xi.start+xi.count)*oi;Gn!==null&&(Lt=Math.max(Lt,Gn.start*oi),ut=Math.min(ut,(Gn.start+Gn.count)*oi)),$r!==null?(Lt=Math.max(Lt,0),ut=Math.min(ut,$r.count)):mi!=null&&(Lt=Math.max(Lt,0),ut=Math.min(ut,mi.count));const on=ut-Lt;if(on<0||on===1/0)return;yt.setup(Ft,it,Gr,Cn,$r);let xn,Rr=Zt;if($r!==null&&(xn=Se.get($r),Rr=ln,Rr.setIndex(xn)),Ft.isMesh)it.wireframe===!0?(Ie.setLineWidth(it.wireframeLinewidth*fe()),Rr.setMode(1)):Rr.setMode(4);else if(Ft.isLine){let Xr=it.linewidth;Xr===void 0&&(Xr=1),Ie.setLineWidth(Xr*fe()),Ft.isLineSegments?Rr.setMode(1):Ft.isLineLoop?Rr.setMode(2):Rr.setMode(3)}else Ft.isPoints?Rr.setMode(0):Ft.isSprite&&Rr.setMode(4);if(Ft.isInstancedMesh)Rr.renderInstances(Lt,on,Ft.count);else if(Cn.isInstancedBufferGeometry){const Xr=Cn._maxInstanceCount!==void 0?Cn._maxInstanceCount:1/0,ta=Math.min(Cn.instanceCount,Xr);Rr.renderInstances(Lt,on,ta)}else Rr.render(Lt,on)},this.compile=function(ot,sn){function Cn(it,Ft,Gn){it.transparent===!0&&it.side===dp&&it.forceSinglePass===!1?(it.side=Sf,it.needsUpdate=!0,br(it,Ft,Gn),it.side=_y,it.needsUpdate=!0,br(it,Ft,Gn),it.side=dp):br(it,Ft,Gn)}f=Te.get(ot),f.init(),m.push(f),ot.traverseVisible(function(it){it.isLight&&it.layers.test(sn.layers)&&(f.pushLight(it),it.castShadow&&f.pushShadow(it))}),f.setupLights(g.physicallyCorrectLights),ot.traverse(function(it){const Ft=it.material;if(Ft)if(Array.isArray(Ft))for(let Gn=0;Gn<Ft.length;Gn++){const fr=Ft[Gn];Cn(fr,ot,it)}else Cn(Ft,ot,it)}),m.pop(),f=null};let Kt=null;function bn(ot){Kt&&Kt(ot)}function Rn(){Dn.stop()}function On(){Dn.start()}const Dn=new lfe;Dn.setAnimationLoop(bn),typeof self<"u"&&Dn.setContext(self),this.setAnimationLoop=function(ot){Kt=ot,st.setAnimationLoop(ot),ot===null?Dn.stop():Dn.start()},st.addEventListener("sessionstart",Rn),st.addEventListener("sessionend",On),this.render=function(ot,sn){if(sn!==void 0&&sn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ot.matrixWorldAutoUpdate===!0&&ot.updateMatrixWorld(),sn.parent===null&&sn.matrixWorldAutoUpdate===!0&&sn.updateMatrixWorld(),st.enabled===!0&&st.isPresenting===!0&&(st.cameraAutoUpdate===!0&&st.updateCamera(sn),sn=st.getCamera()),ot.isScene===!0&&ot.onBeforeRender(g,ot,sn,S),f=Te.get(ot,m.length),f.init(),m.push(f),he.multiplyMatrices(sn.projectionMatrix,sn.matrixWorldInverse),Q.setFromProjectionMatrix(he),z=this.localClippingEnabled,X=we.init(this.clippingPlanes,z),d=vt.get(ot,A.length),d.init(),A.push(d),Un(ot,sn,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(F,U),X===!0&&we.beginShadows();const Cn=f.state.shadowsArray;if(Ne.render(Cn,ot,sn),X===!0&&we.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ze.render(d,ot),f.setupLights(g.physicallyCorrectLights),sn.isArrayCamera){const it=sn.cameras;for(let Ft=0,Gn=it.length;Ft<Gn;Ft++){const fr=it[Ft];jr(d,ot,fr,fr.viewport)}}else jr(d,ot,sn);S!==null&&(ye.updateMultisampleRenderTarget(S),ye.updateRenderTargetMipmap(S)),ot.isScene===!0&&ot.onAfterRender(g,ot,sn),yt.resetDefaultState(),C=-1,M=null,m.pop(),m.length>0?f=m[m.length-1]:f=null,A.pop(),A.length>0?d=A[A.length-1]:d=null};function Un(ot,sn,Cn,it){if(ot.visible===!1)return;if(ot.layers.test(sn.layers)){if(ot.isGroup)Cn=ot.renderOrder;else if(ot.isLOD)ot.autoUpdate===!0&&ot.update(sn);else if(ot.isLight)f.pushLight(ot),ot.castShadow&&f.pushShadow(ot);else if(ot.isSprite){if(!ot.frustumCulled||Q.intersectsSprite(ot)){it&&Y.setFromMatrixPosition(ot.matrixWorld).applyMatrix4(he);const fr=ft.update(ot),Gr=ot.material;Gr.visible&&d.push(ot,fr,Gr,Cn,Y.z,null)}}else if((ot.isMesh||ot.isLine||ot.isPoints)&&(ot.isSkinnedMesh&&ot.skeleton.frame!==Qe.render.frame&&(ot.skeleton.update(),ot.skeleton.frame=Qe.render.frame),!ot.frustumCulled||Q.intersectsObject(ot))){it&&Y.setFromMatrixPosition(ot.matrixWorld).applyMatrix4(he);const fr=ft.update(ot),Gr=ot.material;if(Array.isArray(Gr)){const $r=fr.groups;for(let oi=0,xi=$r.length;oi<xi;oi++){const mi=$r[oi],Lt=Gr[mi.materialIndex];Lt&&Lt.visible&&d.push(ot,fr,Lt,Cn,Y.z,mi)}}else Gr.visible&&d.push(ot,fr,Gr,Cn,Y.z,null)}}const Gn=ot.children;for(let fr=0,Gr=Gn.length;fr<Gr;fr++)Un(Gn[fr],sn,Cn,it)}function jr(ot,sn,Cn,it){const Ft=ot.opaque,Gn=ot.transmissive,fr=ot.transparent;f.setupLightsView(Cn),X===!0&&we.setGlobalState(g.clippingPlanes,Cn),Gn.length>0&&Mi(Ft,sn,Cn),it&&Ie.viewport(B.copy(it)),Ft.length>0&&bi(Ft,sn,Cn),Gn.length>0&&bi(Gn,sn,Cn),fr.length>0&&bi(fr,sn,Cn),Ie.buffers.depth.setTest(!0),Ie.buffers.depth.setMask(!0),Ie.buffers.color.setMask(!0),Ie.setPolygonOffset(!1)}function Mi(ot,sn,Cn){const it=xe.isWebGL2;ne===null&&(ne=new J1(1,1,{generateMipmaps:!0,type:be.has("EXT_color_buffer_half_float")?DM:Y1,minFilter:NM,samples:it&&s===!0?4:0})),g.getDrawingBufferSize(W),it?ne.setSize(W.x,W.y):ne.setSize(XH(W.x),XH(W.y));const Ft=g.getRenderTarget();g.setRenderTarget(ne),g.clear();const Gn=g.toneMapping;g.toneMapping=Av,bi(ot,sn,Cn),g.toneMapping=Gn,ye.updateMultisampleRenderTarget(ne),ye.updateRenderTargetMipmap(ne),g.setRenderTarget(Ft)}function bi(ot,sn,Cn){const it=sn.isScene===!0?sn.overrideMaterial:null;for(let Ft=0,Gn=ot.length;Ft<Gn;Ft++){const fr=ot[Ft],Gr=fr.object,$r=fr.geometry,oi=it===null?fr.material:it,xi=fr.group;Gr.layers.test(Cn.layers)&&Ji(Gr,sn,Cn,$r,oi,xi)}}function Ji(ot,sn,Cn,it,Ft,Gn){ot.onBeforeRender(g,sn,Cn,it,Ft,Gn),ot.modelViewMatrix.multiplyMatrices(Cn.matrixWorldInverse,ot.matrixWorld),ot.normalMatrix.getNormalMatrix(ot.modelViewMatrix),Ft.onBeforeRender(g,sn,Cn,it,ot,Gn),Ft.transparent===!0&&Ft.side===dp&&Ft.forceSinglePass===!1?(Ft.side=Sf,Ft.needsUpdate=!0,g.renderBufferDirect(Cn,sn,it,Ft,ot,Gn),Ft.side=_y,Ft.needsUpdate=!0,g.renderBufferDirect(Cn,sn,it,Ft,ot,Gn),Ft.side=dp):g.renderBufferDirect(Cn,sn,it,Ft,ot,Gn),ot.onAfterRender(g,sn,Cn,it,Ft,Gn)}function br(ot,sn,Cn){sn.isScene!==!0&&(sn=oe);const it=ue.get(ot),Ft=f.state.lights,Gn=f.state.shadowsArray,fr=Ft.state.version,Gr=je.getParameters(ot,Ft.state,Gn,sn,Cn),$r=je.getProgramCacheKey(Gr);let oi=it.programs;it.environment=ot.isMeshStandardMaterial?sn.environment:null,it.fog=sn.fog,it.envMap=(ot.isMeshStandardMaterial?Ve:$e).get(ot.envMap||it.environment),oi===void 0&&(ot.addEventListener("dispose",kt),oi=new Map,it.programs=oi);let xi=oi.get($r);if(xi!==void 0){if(it.currentProgram===xi&&it.lightsStateVersion===fr)return fs(ot,Gr),xi}else Gr.uniforms=je.getUniforms(ot),ot.onBuild(Cn,Gr,g),ot.onBeforeCompile(Gr,g),xi=je.acquireProgram(Gr,$r),oi.set($r,xi),it.uniforms=Gr.uniforms;const mi=it.uniforms;(!ot.isShaderMaterial&&!ot.isRawShaderMaterial||ot.clipping===!0)&&(mi.clippingPlanes=we.uniform),fs(ot,Gr),it.needsLights=ki(ot),it.lightsStateVersion=fr,it.needsLights&&(mi.ambientLightColor.value=Ft.state.ambient,mi.lightProbe.value=Ft.state.probe,mi.directionalLights.value=Ft.state.directional,mi.directionalLightShadows.value=Ft.state.directionalShadow,mi.spotLights.value=Ft.state.spot,mi.spotLightShadows.value=Ft.state.spotShadow,mi.rectAreaLights.value=Ft.state.rectArea,mi.ltc_1.value=Ft.state.rectAreaLTC1,mi.ltc_2.value=Ft.state.rectAreaLTC2,mi.pointLights.value=Ft.state.point,mi.pointLightShadows.value=Ft.state.pointShadow,mi.hemisphereLights.value=Ft.state.hemi,mi.directionalShadowMap.value=Ft.state.directionalShadowMap,mi.directionalShadowMatrix.value=Ft.state.directionalShadowMatrix,mi.spotShadowMap.value=Ft.state.spotShadowMap,mi.spotLightMatrix.value=Ft.state.spotLightMatrix,mi.spotLightMap.value=Ft.state.spotLightMap,mi.pointShadowMap.value=Ft.state.pointShadowMap,mi.pointShadowMatrix.value=Ft.state.pointShadowMatrix);const Lt=xi.getUniforms(),ut=uF.seqWithValue(Lt.seq,mi);return it.currentProgram=xi,it.uniformsList=ut,xi}function fs(ot,sn){const Cn=ue.get(ot);Cn.outputEncoding=sn.outputEncoding,Cn.instancing=sn.instancing,Cn.skinning=sn.skinning,Cn.morphTargets=sn.morphTargets,Cn.morphNormals=sn.morphNormals,Cn.morphColors=sn.morphColors,Cn.morphTargetsCount=sn.morphTargetsCount,Cn.numClippingPlanes=sn.numClippingPlanes,Cn.numIntersection=sn.numClipIntersection,Cn.vertexAlphas=sn.vertexAlphas,Cn.vertexTangents=sn.vertexTangents,Cn.toneMapping=sn.toneMapping}function Di(ot,sn,Cn,it,Ft){sn.isScene!==!0&&(sn=oe),ye.resetTextureUnits();const Gn=sn.fog,fr=it.isMeshStandardMaterial?sn.environment:null,Gr=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Z1,$r=(it.isMeshStandardMaterial?Ve:$e).get(it.envMap||fr),oi=it.vertexColors===!0&&!!Cn.attributes.color&&Cn.attributes.color.itemSize===4,xi=!!it.normalMap&&!!Cn.attributes.tangent,mi=!!Cn.morphAttributes.position,Lt=!!Cn.morphAttributes.normal,ut=!!Cn.morphAttributes.color,on=it.toneMapped?g.toneMapping:Av,xn=Cn.morphAttributes.position||Cn.morphAttributes.normal||Cn.morphAttributes.color,Rr=xn!==void 0?xn.length:0,Xr=ue.get(it),ta=f.state.lights;if(X===!0&&(z===!0||ot!==M)){const Ls=ot===M&&it.id===C;we.setState(it,ot,Ls)}let Ki=!1;it.version===Xr.__version?(Xr.needsLights&&Xr.lightsStateVersion!==ta.state.version||Xr.outputEncoding!==Gr||Ft.isInstancedMesh&&Xr.instancing===!1||!Ft.isInstancedMesh&&Xr.instancing===!0||Ft.isSkinnedMesh&&Xr.skinning===!1||!Ft.isSkinnedMesh&&Xr.skinning===!0||Xr.envMap!==$r||it.fog===!0&&Xr.fog!==Gn||Xr.numClippingPlanes!==void 0&&(Xr.numClippingPlanes!==we.numPlanes||Xr.numIntersection!==we.numIntersection)||Xr.vertexAlphas!==oi||Xr.vertexTangents!==xi||Xr.morphTargets!==mi||Xr.morphNormals!==Lt||Xr.morphColors!==ut||Xr.toneMapping!==on||xe.isWebGL2===!0&&Xr.morphTargetsCount!==Rr)&&(Ki=!0):(Ki=!0,Xr.__version=it.version);let Eo=Xr.currentProgram;Ki===!0&&(Eo=br(it,sn,Ft));let na=!1,Kl=!1,Ic=!1;const to=Eo.getUniforms(),ql=Xr.uniforms;if(Ie.useProgram(Eo.program)&&(na=!0,Kl=!0,Ic=!0),it.id!==C&&(C=it.id,Kl=!0),na||M!==ot){if(to.setValue(me,"projectionMatrix",ot.projectionMatrix),xe.logarithmicDepthBuffer&&to.setValue(me,"logDepthBufFC",2/(Math.log(ot.far+1)/Math.LN2)),M!==ot&&(M=ot,Kl=!0,Ic=!0),it.isShaderMaterial||it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshStandardMaterial||it.envMap){const Ls=to.map.cameraPosition;Ls!==void 0&&Ls.setValue(me,Y.setFromMatrixPosition(ot.matrixWorld))}(it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshLambertMaterial||it.isMeshBasicMaterial||it.isMeshStandardMaterial||it.isShaderMaterial)&&to.setValue(me,"isOrthographic",ot.isOrthographicCamera===!0),(it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshLambertMaterial||it.isMeshBasicMaterial||it.isMeshStandardMaterial||it.isShaderMaterial||it.isShadowMaterial||Ft.isSkinnedMesh)&&to.setValue(me,"viewMatrix",ot.matrixWorldInverse)}if(Ft.isSkinnedMesh){to.setOptional(me,Ft,"bindMatrix"),to.setOptional(me,Ft,"bindMatrixInverse");const Ls=Ft.skeleton;Ls&&(xe.floatVertexTextures?(Ls.boneTexture===null&&Ls.computeBoneTexture(),to.setValue(me,"boneTexture",Ls.boneTexture,ye),to.setValue(me,"boneTextureSize",Ls.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ed=Cn.morphAttributes;if((ed.position!==void 0||ed.normal!==void 0||ed.color!==void 0&&xe.isWebGL2===!0)&&Tt.update(Ft,Cn,it,Eo),(Kl||Xr.receiveShadow!==Ft.receiveShadow)&&(Xr.receiveShadow=Ft.receiveShadow,to.setValue(me,"receiveShadow",Ft.receiveShadow)),it.isMeshGouraudMaterial&&it.envMap!==null&&(ql.envMap.value=$r,ql.flipEnvMap.value=$r.isCubeTexture&&$r.isRenderTargetTexture===!1?-1:1),Kl&&(to.setValue(me,"toneMappingExposure",g.toneMappingExposure),Xr.needsLights&&Hi(ql,Ic),Gn&&it.fog===!0&&gt.refreshFogUniforms(ql,Gn),gt.refreshMaterialUniforms(ql,it,O,k,ne),uF.upload(me,Xr.uniformsList,ql,ye)),it.isShaderMaterial&&it.uniformsNeedUpdate===!0&&(uF.upload(me,Xr.uniformsList,ql,ye),it.uniformsNeedUpdate=!1),it.isSpriteMaterial&&to.setValue(me,"center",Ft.center),to.setValue(me,"modelViewMatrix",Ft.modelViewMatrix),to.setValue(me,"normalMatrix",Ft.normalMatrix),to.setValue(me,"modelMatrix",Ft.matrixWorld),it.isShaderMaterial||it.isRawShaderMaterial){const Ls=it.uniformsGroups;for(let So=0,Ru=Ls.length;So<Ru;So++)if(xe.isWebGL2){const hh=Ls[So];Qt.update(hh,Eo),Qt.bind(hh,Eo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Eo}function Hi(ot,sn){ot.ambientLightColor.needsUpdate=sn,ot.lightProbe.needsUpdate=sn,ot.directionalLights.needsUpdate=sn,ot.directionalLightShadows.needsUpdate=sn,ot.pointLights.needsUpdate=sn,ot.pointLightShadows.needsUpdate=sn,ot.spotLights.needsUpdate=sn,ot.spotLightShadows.needsUpdate=sn,ot.rectAreaLights.needsUpdate=sn,ot.hemisphereLights.needsUpdate=sn}function ki(ot){return ot.isMeshLambertMaterial||ot.isMeshToonMaterial||ot.isMeshPhongMaterial||ot.isMeshStandardMaterial||ot.isShadowMaterial||ot.isShaderMaterial&&ot.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(ot,sn,Cn){ue.get(ot.texture).__webglTexture=sn,ue.get(ot.depthTexture).__webglTexture=Cn;const it=ue.get(ot);it.__hasExternalTextures=!0,it.__hasExternalTextures&&(it.__autoAllocateDepthBuffer=Cn===void 0,it.__autoAllocateDepthBuffer||be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),it.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ot,sn){const Cn=ue.get(ot);Cn.__webglFramebuffer=sn,Cn.__useDefaultFramebuffer=sn===void 0},this.setRenderTarget=function(ot,sn=0,Cn=0){S=ot,_=sn,x=Cn;let it=!0,Ft=null,Gn=!1,fr=!1;if(ot){const $r=ue.get(ot);$r.__useDefaultFramebuffer!==void 0?(Ie.bindFramebuffer(36160,null),it=!1):$r.__webglFramebuffer===void 0?ye.setupRenderTarget(ot):$r.__hasExternalTextures&&ye.rebindTextures(ot,ue.get(ot.texture).__webglTexture,ue.get(ot.depthTexture).__webglTexture);const oi=ot.texture;(oi.isData3DTexture||oi.isDataArrayTexture||oi.isCompressedArrayTexture)&&(fr=!0);const xi=ue.get(ot).__webglFramebuffer;ot.isWebGLCubeRenderTarget?(Ft=xi[sn],Gn=!0):xe.isWebGL2&&ot.samples>0&&ye.useMultisampledRTT(ot)===!1?Ft=ue.get(ot).__webglMultisampledFramebuffer:Ft=xi,B.copy(ot.viewport),E.copy(ot.scissor),L=ot.scissorTest}else B.copy($).multiplyScalar(O).floor(),E.copy(K).multiplyScalar(O).floor(),L=V;if(Ie.bindFramebuffer(36160,Ft)&&xe.drawBuffers&&it&&Ie.drawBuffers(ot,Ft),Ie.viewport(B),Ie.scissor(E),Ie.setScissorTest(L),Gn){const $r=ue.get(ot.texture);me.framebufferTexture2D(36160,36064,34069+sn,$r.__webglTexture,Cn)}else if(fr){const $r=ue.get(ot.texture),oi=sn||0;me.framebufferTextureLayer(36160,36064,$r.__webglTexture,Cn||0,oi)}C=-1},this.readRenderTargetPixels=function(ot,sn,Cn,it,Ft,Gn,fr){if(!(ot&&ot.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gr=ue.get(ot).__webglFramebuffer;if(ot.isWebGLCubeRenderTarget&&fr!==void 0&&(Gr=Gr[fr]),Gr){Ie.bindFramebuffer(36160,Gr);try{const $r=ot.texture,oi=$r.format,xi=$r.type;if(oi!==cp&&Ye.convert(oi)!==me.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const mi=xi===DM&&(be.has("EXT_color_buffer_half_float")||xe.isWebGL2&&be.has("EXT_color_buffer_float"));if(xi!==Y1&&Ye.convert(xi)!==me.getParameter(35738)&&!(xi===d1&&(xe.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!mi){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}sn>=0&&sn<=ot.width-it&&Cn>=0&&Cn<=ot.height-Ft&&me.readPixels(sn,Cn,it,Ft,Ye.convert(oi),Ye.convert(xi),Gn)}finally{const $r=S!==null?ue.get(S).__webglFramebuffer:null;Ie.bindFramebuffer(36160,$r)}}},this.copyFramebufferToTexture=function(ot,sn,Cn=0){const it=Math.pow(2,-Cn),Ft=Math.floor(sn.image.width*it),Gn=Math.floor(sn.image.height*it);ye.setTexture2D(sn,0),me.copyTexSubImage2D(3553,Cn,0,0,ot.x,ot.y,Ft,Gn),Ie.unbindTexture()},this.copyTextureToTexture=function(ot,sn,Cn,it=0){const Ft=sn.image.width,Gn=sn.image.height,fr=Ye.convert(Cn.format),Gr=Ye.convert(Cn.type);ye.setTexture2D(Cn,0),me.pixelStorei(37440,Cn.flipY),me.pixelStorei(37441,Cn.premultiplyAlpha),me.pixelStorei(3317,Cn.unpackAlignment),sn.isDataTexture?me.texSubImage2D(3553,it,ot.x,ot.y,Ft,Gn,fr,Gr,sn.image.data):sn.isCompressedTexture?me.compressedTexSubImage2D(3553,it,ot.x,ot.y,sn.mipmaps[0].width,sn.mipmaps[0].height,fr,sn.mipmaps[0].data):me.texSubImage2D(3553,it,ot.x,ot.y,fr,Gr,sn.image),it===0&&Cn.generateMipmaps&&me.generateMipmap(3553),Ie.unbindTexture()},this.copyTextureToTexture3D=function(ot,sn,Cn,it,Ft=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Gn=ot.max.x-ot.min.x+1,fr=ot.max.y-ot.min.y+1,Gr=ot.max.z-ot.min.z+1,$r=Ye.convert(it.format),oi=Ye.convert(it.type);let xi;if(it.isData3DTexture)ye.setTexture3D(it,0),xi=32879;else if(it.isDataArrayTexture)ye.setTexture2DArray(it,0),xi=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}me.pixelStorei(37440,it.flipY),me.pixelStorei(37441,it.premultiplyAlpha),me.pixelStorei(3317,it.unpackAlignment);const mi=me.getParameter(3314),Lt=me.getParameter(32878),ut=me.getParameter(3316),on=me.getParameter(3315),xn=me.getParameter(32877),Rr=Cn.isCompressedTexture?Cn.mipmaps[0]:Cn.image;me.pixelStorei(3314,Rr.width),me.pixelStorei(32878,Rr.height),me.pixelStorei(3316,ot.min.x),me.pixelStorei(3315,ot.min.y),me.pixelStorei(32877,ot.min.z),Cn.isDataTexture||Cn.isData3DTexture?me.texSubImage3D(xi,Ft,sn.x,sn.y,sn.z,Gn,fr,Gr,$r,oi,Rr.data):Cn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),me.compressedTexSubImage3D(xi,Ft,sn.x,sn.y,sn.z,Gn,fr,Gr,$r,Rr.data)):me.texSubImage3D(xi,Ft,sn.x,sn.y,sn.z,Gn,fr,Gr,$r,oi,Rr),me.pixelStorei(3314,mi),me.pixelStorei(32878,Lt),me.pixelStorei(3316,ut),me.pixelStorei(3315,on),me.pixelStorei(32877,xn),Ft===0&&it.generateMipmaps&&me.generateMipmap(xi),Ie.unbindTexture()},this.initTexture=function(ot){ot.isCubeTexture?ye.setTextureCube(ot,0):ot.isData3DTexture?ye.setTexture3D(ot,0):ot.isDataArrayTexture||ot.isCompressedArrayTexture?ye.setTexture2DArray(ot,0):ye.setTexture2D(ot,0),Ie.unbindTexture()},this.resetState=function(){_=0,x=0,S=null,Ie.reset(),yt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class prt extends Afe{}prt.prototype.isWebGL1Renderer=!0;class grt extends El{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class L1 extends mw{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Zs(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $Z=new Gt,QZ=new Gt,WZ=new xl,P4=new E7,qR=new O5;class Ng extends El{constructor(e=new cc,n=new L1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)$Z.fromBufferAttribute(n,i-1),QZ.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=$Z.distanceTo(QZ);e.setAttribute("lineDistance",new co(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qR.copy(r.boundingSphere),qR.applyMatrix4(i),qR.radius+=s,e.ray.intersectsSphere(qR)===!1)return;WZ.copy(i).invert(),P4.copy(e.ray).applyMatrix4(WZ);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new Gt,h=new Gt,d=new Gt,f=new Gt,A=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const _=Math.max(0,a.start),x=Math.min(m.count,a.start+a.count);for(let S=_,C=x-1;S<C;S+=A){const M=m.getX(S),B=m.getX(S+1);if(u.fromBufferAttribute(y,M),h.fromBufferAttribute(y,B),P4.distanceSqToSegment(u,h,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(f);L<e.near||L>e.far||n.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,a.start),x=Math.min(y.count,a.start+a.count);for(let S=_,C=x-1;S<C;S+=A){if(u.fromBufferAttribute(y,S),h.fromBufferAttribute(y,S+1),P4.distanceSqToSegment(u,h,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(f);B<e.near||B>e.far||n.push({distance:B,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const jZ=new Gt,KZ=new Gt;class bO extends Ng{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)jZ.fromBufferAttribute(n,i),KZ.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jZ.distanceTo(KZ);e.setAttribute("lineDistance",new co(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $c extends cc{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],d=[],f=[],A=[];let m=0;const g=[],y=r/2;let _=0;x(),a===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(h),this.setAttribute("position",new co(d,3)),this.setAttribute("normal",new co(f,3)),this.setAttribute("uv",new co(A,2));function x(){const C=new Gt,M=new Gt;let B=0;const E=(n-e)/r;for(let L=0;L<=s;L++){const I=[],k=L/s,O=k*(n-e)+e;for(let F=0;F<=i;F++){const U=F/i,$=U*l+o,K=Math.sin($),V=Math.cos($);M.x=O*K,M.y=-k*r+y,M.z=O*V,d.push(M.x,M.y,M.z),C.set(K,E,V).normalize(),f.push(C.x,C.y,C.z),A.push(U,1-k),I.push(m++)}g.push(I)}for(let L=0;L<i;L++)for(let I=0;I<s;I++){const k=g[I][L],O=g[I+1][L],F=g[I+1][L+1],U=g[I][L+1];h.push(k,O,U),h.push(O,F,U),B+=6}u.addGroup(_,B,0),_+=B}function S(C){const M=m,B=new ms,E=new Gt;let L=0;const I=C===!0?e:n,k=C===!0?1:-1;for(let F=1;F<=i;F++)d.push(0,y*k,0),f.push(0,k,0),A.push(.5,.5),m++;const O=m;for(let F=0;F<=i;F++){const $=F/i*l+o,K=Math.cos($),V=Math.sin($);E.x=I*V,E.y=y*k,E.z=I*K,d.push(E.x,E.y,E.z),f.push(0,k,0),B.x=K*.5+.5,B.y=V*.5*k+.5,A.push(B.x,B.y),m++}for(let F=0;F<i;F++){const U=M+F,$=O+F;C===!0?h.push($,$+1,U):h.push($+1,$,U),L+=3}u.addGroup(_,L,C===!0?1:2),_+=L}}static fromJSON(e){return new $c(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class M7 extends $c{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new M7(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class L7 extends cc{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),h(),this.setAttribute("position",new co(s,3)),this.setAttribute("normal",new co(s.slice(),3)),this.setAttribute("uv",new co(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(x){const S=new Gt,C=new Gt,M=new Gt;for(let B=0;B<n.length;B+=3)A(n[B+0],S),A(n[B+1],C),A(n[B+2],M),l(S,C,M,x)}function l(x,S,C,M){const B=M+1,E=[];for(let L=0;L<=B;L++){E[L]=[];const I=x.clone().lerp(C,L/B),k=S.clone().lerp(C,L/B),O=B-L;for(let F=0;F<=O;F++)F===0&&L===B?E[L][F]=I:E[L][F]=I.clone().lerp(k,F/O)}for(let L=0;L<B;L++)for(let I=0;I<2*(B-L)-1;I++){const k=Math.floor(I/2);I%2===0?(f(E[L][k+1]),f(E[L+1][k]),f(E[L][k])):(f(E[L][k+1]),f(E[L+1][k+1]),f(E[L+1][k]))}}function u(x){const S=new Gt;for(let C=0;C<s.length;C+=3)S.x=s[C+0],S.y=s[C+1],S.z=s[C+2],S.normalize().multiplyScalar(x),s[C+0]=S.x,s[C+1]=S.y,s[C+2]=S.z}function h(){const x=new Gt;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const C=y(x)/2/Math.PI+.5,M=_(x)/Math.PI+.5;a.push(C,1-M)}m(),d()}function d(){for(let x=0;x<a.length;x+=6){const S=a[x+0],C=a[x+2],M=a[x+4],B=Math.max(S,C,M),E=Math.min(S,C,M);B>.9&&E<.1&&(S<.2&&(a[x+0]+=1),C<.2&&(a[x+2]+=1),M<.2&&(a[x+4]+=1))}}function f(x){s.push(x.x,x.y,x.z)}function A(x,S){const C=x*3;S.x=e[C+0],S.y=e[C+1],S.z=e[C+2]}function m(){const x=new Gt,S=new Gt,C=new Gt,M=new Gt,B=new ms,E=new ms,L=new ms;for(let I=0,k=0;I<s.length;I+=9,k+=6){x.set(s[I+0],s[I+1],s[I+2]),S.set(s[I+3],s[I+4],s[I+5]),C.set(s[I+6],s[I+7],s[I+8]),B.set(a[k+0],a[k+1]),E.set(a[k+2],a[k+3]),L.set(a[k+4],a[k+5]),M.copy(x).add(S).add(C).divideScalar(3);const O=y(M);g(B,k+0,x,O),g(E,k+2,S,O),g(L,k+4,C,O)}}function g(x,S,C,M){M<0&&x.x===1&&(a[S]=x.x-1),C.x===0&&C.z===0&&(a[S]=M/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function _(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new L7(e.vertices,e.indices,e.radius,e.details)}}const XR=new Gt,YR=new Gt,F4=new Gt,ZR=new zg;class qZ extends cc{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(lF*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],d=new Array(3),f={},A=[];for(let m=0;m<l;m+=3){a?(u[0]=a.getX(m),u[1]=a.getX(m+1),u[2]=a.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:g,b:y,c:_}=ZR;if(g.fromBufferAttribute(o,u[0]),y.fromBufferAttribute(o,u[1]),_.fromBufferAttribute(o,u[2]),ZR.getNormal(F4),d[0]="".concat(Math.round(g.x*i),",").concat(Math.round(g.y*i),",").concat(Math.round(g.z*i)),d[1]="".concat(Math.round(y.x*i),",").concat(Math.round(y.y*i),",").concat(Math.round(y.z*i)),d[2]="".concat(Math.round(_.x*i),",").concat(Math.round(_.y*i),",").concat(Math.round(_.z*i)),!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const S=(x+1)%3,C=d[x],M=d[S],B=ZR[h[x]],E=ZR[h[S]],L="".concat(C,"_").concat(M),I="".concat(M,"_").concat(C);I in f&&f[I]?(F4.dot(f[I].normal)<=s&&(A.push(B.x,B.y,B.z),A.push(E.x,E.y,E.z)),f[I]=null):L in f||(f[L]={index0:u[x],index1:u[S],normal:F4.clone()})}}for(const m in f)if(f[m]){const{index0:g,index1:y}=f[m];XR.fromBufferAttribute(o,g),YR.fromBufferAttribute(o,y),A.push(XR.x,XR.y,XR.z),A.push(YR.x,YR.y,YR.z)}this.setAttribute("position",new co(A,3))}}}class Wx extends L7{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wx(e.radius,e.detail)}}class B7 extends cc{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let u=0;const h=[],d=new Gt,f=new Gt,A=[],m=[],g=[],y=[];for(let _=0;_<=r;_++){const x=[],S=_/r;let C=0;_==0&&a==0?C=.5/n:_==r&&l==Math.PI&&(C=-.5/n);for(let M=0;M<=n;M++){const B=M/n;d.x=-e*Math.cos(i+B*s)*Math.sin(a+S*o),d.y=e*Math.cos(a+S*o),d.z=e*Math.sin(i+B*s)*Math.sin(a+S*o),m.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),y.push(B+C,1-S),x.push(u++)}h.push(x)}for(let _=0;_<r;_++)for(let x=0;x<n;x++){const S=h[_][x+1],C=h[_][x],M=h[_+1][x],B=h[_+1][x+1];(_!==0||a>0)&&A.push(S,C,B),(_!==r-1||l<Math.PI)&&A.push(C,M,B)}this.setIndex(A),this.setAttribute("position",new co(m,3)),this.setAttribute("normal",new co(g,3)),this.setAttribute("uv",new co(y,2))}static fromJSON(e){return new B7(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class t1 extends cc{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],h=new Gt,d=new Gt,f=new Gt;for(let A=0;A<=r;A++)for(let m=0;m<=i;m++){const g=m/i*s,y=A/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(g),d.y=(e+n*Math.cos(y))*Math.sin(g),d.z=n*Math.sin(y),o.push(d.x,d.y,d.z),h.x=e*Math.cos(g),h.y=e*Math.sin(g),f.subVectors(d,h).normalize(),l.push(f.x,f.y,f.z),u.push(m/i),u.push(A/r)}for(let A=1;A<=r;A++)for(let m=1;m<=i;m++){const g=(i+1)*A+m-1,y=(i+1)*(A-1)+m-1,_=(i+1)*(A-1)+m,x=(i+1)*A+m;a.push(g,y,x),a.push(y,_,x)}this.setIndex(a),this.setAttribute("position",new co(o,3)),this.setAttribute("normal",new co(l,3)),this.setAttribute("uv",new co(u,2))}static fromJSON(e){return new t1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class XZ extends mw{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Zs(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x7,this.normalScale=new ms(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F_ extends mw{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Zs(16777215),this.specular=new Zs(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x7,this.normalScale=new ms(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=b7,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class R7 extends El{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Zs(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const O4=new xl,YZ=new Gt,ZZ=new Gt;class pfe{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ms(512,512),this.map=null,this.mapPass=null,this.matrix=new xl,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new C7,this._frameExtents=new ms(1,1),this._viewportCount=1,this._viewports=[new Xc(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;YZ.setFromMatrixPosition(e.matrixWorld),n.position.copy(YZ),ZZ.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(ZZ),n.updateMatrixWorld(),O4.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O4),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(O4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mrt extends pfe{constructor(){super(new df(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=qH*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class vrt extends R7{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(El.DEFAULT_UP),this.updateMatrix(),this.target=new El,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new mrt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yrt extends pfe{constructor(){super(new cfe(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _rt extends R7{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(El.DEFAULT_UP),this.updateMatrix(),this.target=new El,this.shadow=new yrt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class JZ extends R7{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class gfe{constructor(e,n,r=0,i=1/0){this.ray=new E7(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new S7,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return ZH(e,this,r,n),r.sort(eJ),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)ZH(e[i],this,r,n);return r.sort(eJ),r}}function eJ(t,e){return t.distance-e.distance}function ZH(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,a=i.length;s<a;s++)ZH(i[s],e,n,!0)}}class tJ{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Md(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mfe extends bO{constructor(e=10,n=10,r=4473924,i=8947848){r=new Zs(r),i=new Zs(i);const s=n/2,a=e/n,o=e/2,l=[],u=[];for(let f=0,A=0,m=-o;f<=n;f++,m+=a){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const g=f===s?r:i;g.toArray(u,A),A+=3,g.toArray(u,A),A+=3,g.toArray(u,A),A+=3,g.toArray(u,A),A+=3}const h=new cc;h.setAttribute("position",new co(l,3)),h.setAttribute("color",new co(u,3));const d=new L1({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vfe extends bO{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new cc;i.setAttribute("position",new co(n,3)),i.setAttribute("color",new co(r,3));const s=new L1({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Zs,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:w7}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=w7);const nJ={type:"change"},N4={type:"start"},rJ={type:"end"};class wrt extends gw{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Gt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Nb.ROTATE,MIDDLE:Nb.DOLLY,RIGHT:Nb.PAN},this.touches={ONE:Db.ROTATE,TWO:Db.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ye){Ye.addEventListener("keydown",vt),this._domElementKeyEvents=Ye},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(nJ),r.update(),s=i.NONE},this.update=function(){const Ye=new Gt,yt=new gu().setFromUnitVectors(e.up,new Gt(0,1,0)),Qt=yt.clone().invert(),Dt=new Gt,st=new gu,ke=2*Math.PI;return function(){const Oe=r.object.position;Ye.copy(Oe).sub(r.target),Ye.applyQuaternion(yt),o.setFromVector3(Ye),r.autoRotate&&s===i.NONE&&I(E()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let kt=r.minAzimuthAngle,wn=r.maxAzimuthAngle;return isFinite(kt)&&isFinite(wn)&&(kt<-Math.PI?kt+=ke:kt>Math.PI&&(kt-=ke),wn<-Math.PI?wn+=ke:wn>Math.PI&&(wn-=ke),kt<=wn?o.theta=Math.max(kt,Math.min(wn,o.theta)):o.theta=o.theta>(kt+wn)/2?Math.max(kt,o.theta):Math.min(wn,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=u,o.radius=Math.max(r.minDistance,Math.min(r.maxDistance,o.radius)),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),Ye.setFromSpherical(o),Ye.applyQuaternion(Qt),Oe.copy(r.target).add(Ye),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),h.set(0,0,0)),u=1,d||Dt.distanceToSquared(r.object.position)>a||8*(1-st.dot(r.object.quaternion))>a?(r.dispatchEvent(nJ),Dt.copy(r.object.position),st.copy(r.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Ne),r.domElement.removeEventListener("pointerdown",$e),r.domElement.removeEventListener("pointercancel",at),r.domElement.removeEventListener("wheel",gt),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",Se),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",vt)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const a=1e-6,o=new tJ,l=new tJ;let u=1;const h=new Gt;let d=!1;const f=new ms,A=new ms,m=new ms,g=new ms,y=new ms,_=new ms,x=new ms,S=new ms,C=new ms,M=[],B={};function E(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function I(Ye){l.theta-=Ye}function k(Ye){l.phi-=Ye}const O=function(){const Ye=new Gt;return function(Qt,Dt){Ye.setFromMatrixColumn(Dt,0),Ye.multiplyScalar(-Qt),h.add(Ye)}}(),F=function(){const Ye=new Gt;return function(Qt,Dt){r.screenSpacePanning===!0?Ye.setFromMatrixColumn(Dt,1):(Ye.setFromMatrixColumn(Dt,0),Ye.crossVectors(r.object.up,Ye)),Ye.multiplyScalar(Qt),h.add(Ye)}}(),U=function(){const Ye=new Gt;return function(Qt,Dt){const st=r.domElement;if(r.object.isPerspectiveCamera){const ke=r.object.position;Ye.copy(ke).sub(r.target);let ct=Ye.length();ct*=Math.tan(r.object.fov/2*Math.PI/180),O(2*Qt*ct/st.clientHeight,r.object.matrix),F(2*Dt*ct/st.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(O(Qt*(r.object.right-r.object.left)/r.object.zoom/st.clientWidth,r.object.matrix),F(Dt*(r.object.top-r.object.bottom)/r.object.zoom/st.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function $(Ye){r.object.isPerspectiveCamera?u/=Ye:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Ye)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(Ye){r.object.isPerspectiveCamera?u*=Ye:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Ye)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(Ye){f.set(Ye.clientX,Ye.clientY)}function Q(Ye){x.set(Ye.clientX,Ye.clientY)}function X(Ye){g.set(Ye.clientX,Ye.clientY)}function z(Ye){A.set(Ye.clientX,Ye.clientY),m.subVectors(A,f).multiplyScalar(r.rotateSpeed);const yt=r.domElement;I(2*Math.PI*m.x/yt.clientHeight),k(2*Math.PI*m.y/yt.clientHeight),f.copy(A),r.update()}function ne(Ye){S.set(Ye.clientX,Ye.clientY),C.subVectors(S,x),C.y>0?$(L()):C.y<0&&K(L()),x.copy(S),r.update()}function he(Ye){y.set(Ye.clientX,Ye.clientY),_.subVectors(y,g).multiplyScalar(r.panSpeed),U(_.x,_.y),g.copy(y),r.update()}function W(Ye){Ye.deltaY<0?K(L()):Ye.deltaY>0&&$(L()),r.update()}function Y(Ye){let yt=!1;switch(Ye.code){case r.keys.UP:Ye.ctrlKey||Ye.metaKey||Ye.shiftKey?k(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(0,r.keyPanSpeed),yt=!0;break;case r.keys.BOTTOM:Ye.ctrlKey||Ye.metaKey||Ye.shiftKey?k(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(0,-r.keyPanSpeed),yt=!0;break;case r.keys.LEFT:Ye.ctrlKey||Ye.metaKey||Ye.shiftKey?I(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(r.keyPanSpeed,0),yt=!0;break;case r.keys.RIGHT:Ye.ctrlKey||Ye.metaKey||Ye.shiftKey?I(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):U(-r.keyPanSpeed,0),yt=!0;break}yt&&(Ye.preventDefault(),r.update())}function oe(){if(M.length===1)f.set(M[0].pageX,M[0].pageY);else{const Ye=.5*(M[0].pageX+M[1].pageX),yt=.5*(M[0].pageY+M[1].pageY);f.set(Ye,yt)}}function fe(){if(M.length===1)g.set(M[0].pageX,M[0].pageY);else{const Ye=.5*(M[0].pageX+M[1].pageX),yt=.5*(M[0].pageY+M[1].pageY);g.set(Ye,yt)}}function me(){const Ye=M[0].pageX-M[1].pageX,yt=M[0].pageY-M[1].pageY,Qt=Math.sqrt(Ye*Ye+yt*yt);x.set(0,Qt)}function ce(){r.enableZoom&&me(),r.enablePan&&fe()}function be(){r.enableZoom&&me(),r.enableRotate&&oe()}function xe(Ye){if(M.length==1)A.set(Ye.pageX,Ye.pageY);else{const Qt=ln(Ye),Dt=.5*(Ye.pageX+Qt.x),st=.5*(Ye.pageY+Qt.y);A.set(Dt,st)}m.subVectors(A,f).multiplyScalar(r.rotateSpeed);const yt=r.domElement;I(2*Math.PI*m.x/yt.clientHeight),k(2*Math.PI*m.y/yt.clientHeight),f.copy(A)}function Ie(Ye){if(M.length===1)y.set(Ye.pageX,Ye.pageY);else{const yt=ln(Ye),Qt=.5*(Ye.pageX+yt.x),Dt=.5*(Ye.pageY+yt.y);y.set(Qt,Dt)}_.subVectors(y,g).multiplyScalar(r.panSpeed),U(_.x,_.y),g.copy(y)}function Qe(Ye){const yt=ln(Ye),Qt=Ye.pageX-yt.x,Dt=Ye.pageY-yt.y,st=Math.sqrt(Qt*Qt+Dt*Dt);S.set(0,st),C.set(0,Math.pow(S.y/x.y,r.zoomSpeed)),$(C.y),x.copy(S)}function ue(Ye){r.enableZoom&&Qe(Ye),r.enablePan&&Ie(Ye)}function ye(Ye){r.enableZoom&&Qe(Ye),r.enableRotate&&xe(Ye)}function $e(Ye){r.enabled!==!1&&(M.length===0&&(r.domElement.setPointerCapture(Ye.pointerId),r.domElement.addEventListener("pointermove",Ve),r.domElement.addEventListener("pointerup",Se)),Ze(Ye),Ye.pointerType==="touch"?Te(Ye):ft(Ye))}function Ve(Ye){r.enabled!==!1&&(Ye.pointerType==="touch"?we(Ye):je(Ye))}function Se(Ye){Tt(Ye),M.length===0&&(r.domElement.releasePointerCapture(Ye.pointerId),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",Se)),r.dispatchEvent(rJ),s=i.NONE}function at(Ye){Tt(Ye)}function ft(Ye){let yt;switch(Ye.button){case 0:yt=r.mouseButtons.LEFT;break;case 1:yt=r.mouseButtons.MIDDLE;break;case 2:yt=r.mouseButtons.RIGHT;break;default:yt=-1}switch(yt){case Nb.DOLLY:if(r.enableZoom===!1)return;Q(Ye),s=i.DOLLY;break;case Nb.ROTATE:if(Ye.ctrlKey||Ye.metaKey||Ye.shiftKey){if(r.enablePan===!1)return;X(Ye),s=i.PAN}else{if(r.enableRotate===!1)return;V(Ye),s=i.ROTATE}break;case Nb.PAN:if(Ye.ctrlKey||Ye.metaKey||Ye.shiftKey){if(r.enableRotate===!1)return;V(Ye),s=i.ROTATE}else{if(r.enablePan===!1)return;X(Ye),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(N4)}function je(Ye){switch(s){case i.ROTATE:if(r.enableRotate===!1)return;z(Ye);break;case i.DOLLY:if(r.enableZoom===!1)return;ne(Ye);break;case i.PAN:if(r.enablePan===!1)return;he(Ye);break}}function gt(Ye){r.enabled===!1||r.enableZoom===!1||s!==i.NONE||(Ye.preventDefault(),r.dispatchEvent(N4),W(Ye),r.dispatchEvent(rJ))}function vt(Ye){r.enabled===!1||r.enablePan===!1||Y(Ye)}function Te(Ye){switch(Zt(Ye),M.length){case 1:switch(r.touches.ONE){case Db.ROTATE:if(r.enableRotate===!1)return;oe(),s=i.TOUCH_ROTATE;break;case Db.PAN:if(r.enablePan===!1)return;fe(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(r.touches.TWO){case Db.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ce(),s=i.TOUCH_DOLLY_PAN;break;case Db.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;be(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(N4)}function we(Ye){switch(Zt(Ye),s){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;xe(Ye),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Ie(Ye),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ue(Ye),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ye(Ye),r.update();break;default:s=i.NONE}}function Ne(Ye){r.enabled!==!1&&Ye.preventDefault()}function Ze(Ye){M.push(Ye)}function Tt(Ye){delete B[Ye.pointerId];for(let yt=0;yt<M.length;yt++)if(M[yt].pointerId==Ye.pointerId){M.splice(yt,1);return}}function Zt(Ye){let yt=B[Ye.pointerId];yt===void 0&&(yt=new ms,B[Ye.pointerId]=yt),yt.set(Ye.pageX,Ye.pageY)}function ln(Ye){const yt=Ye.pointerId===M[0].pointerId?M[1]:M[0];return B[yt.pointerId]}r.domElement.addEventListener("contextmenu",Ne),r.domElement.addEventListener("pointerdown",$e),r.domElement.addEventListener("pointercancel",at),r.domElement.addEventListener("wheel",gt,{passive:!1}),this.update()}}const O_=new gfe,Sd=new Gt,_0=new Gt,Wo=new gu,iJ={X:new Gt(1,0,0),Y:new Gt(0,1,0),Z:new Gt(0,0,1)},D4={type:"change"},sJ={type:"mouseDown"},aJ={type:"mouseUp",mode:null},oJ={type:"objectChange"};class brt extends El{constructor(e,n){super(),n===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.isTransformControls=!0,this.visible=!1,this.domElement=n,this.domElement.style.touchAction="none";const r=new Mrt;this._gizmo=r,this.add(r);const i=new Lrt;this._plane=i,this.add(i);const s=this;function a(x,S){let C=S;Object.defineProperty(s,x,{get:function(){return C!==void 0?C:S},set:function(M){C!==M&&(C=M,i[x]=M,r[x]=M,s.dispatchEvent({type:x+"-changed",value:M}),s.dispatchEvent(D4))}}),s[x]=S,i[x]=S,r[x]=S}a("camera",e),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0);const o=new Gt,l=new Gt,u=new gu,h=new gu,d=new Gt,f=new gu,A=new Gt,m=new Gt,g=new Gt,y=0,_=new Gt;a("worldPosition",o),a("worldPositionStart",l),a("worldQuaternion",u),a("worldQuaternionStart",h),a("cameraPosition",d),a("cameraQuaternion",f),a("pointStart",A),a("pointEnd",m),a("rotationAxis",g),a("rotationAngle",y),a("eye",_),this._offset=new Gt,this._startNorm=new Gt,this._endNorm=new Gt,this._cameraScale=new Gt,this._parentPosition=new Gt,this._parentQuaternion=new gu,this._parentQuaternionInv=new gu,this._parentScale=new Gt,this._worldScaleStart=new Gt,this._worldQuaternionInv=new gu,this._worldScale=new Gt,this._positionStart=new Gt,this._quaternionStart=new gu,this._scaleStart=new Gt,this._getPointer=xrt.bind(this),this._onPointerDown=Srt.bind(this),this._onPointerHover=Ert.bind(this),this._onPointerMove=Crt.bind(this),this._onPointerUp=Trt.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.camera.isOrthographicCamera?this.camera.getWorldDirection(this.eye).negate():this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;O_.setFromCamera(e,this.camera);const n=k4(this._gizmo.picker[this.mode],O_);n?this.axis=n.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e.button!==0)&&this.axis!==null){O_.setFromCamera(e,this.camera);const n=k4(this._plane,O_,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,sJ.mode=this.mode,this.dispatchEvent(sJ)}}pointerMove(e){const n=this.axis,r=this.mode,i=this.object;let s=this.space;if(r==="scale"?s="local":(n==="E"||n==="XYZE"||n==="XYZ")&&(s="world"),i===void 0||n===null||this.dragging===!1||e.button!==-1)return;O_.setFromCamera(e,this.camera);const a=k4(this._plane,O_,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),r==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),s==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),s==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),i.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(s==="local"&&(i.position.applyQuaternion(Wo.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(this._quaternionStart)),s==="world"&&(i.parent&&i.position.add(Sd.setFromMatrixPosition(i.parent.matrixWorld)),n.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(Sd.setFromMatrixPosition(i.parent.matrixWorld))));else if(r==="scale"){if(n.search("XYZ")!==-1){let o=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(o*=-1),_0.set(o,o,o)}else Sd.copy(this.pointStart),_0.copy(this.pointEnd),Sd.applyQuaternion(this._worldQuaternionInv),_0.applyQuaternion(this._worldQuaternionInv),_0.divide(Sd),n.search("X")===-1&&(_0.x=1),n.search("Y")===-1&&(_0.y=1),n.search("Z")===-1&&(_0.z=1);i.scale.copy(this._scaleStart).multiply(_0),this.scaleSnap&&(n.search("X")!==-1&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(r==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const o=20/this.worldPosition.distanceTo(Sd.setFromMatrixPosition(this.camera.matrixWorld));n==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Sd.copy(this.rotationAxis).cross(this.eye))*o):(n==="X"||n==="Y"||n==="Z")&&(this.rotationAxis.copy(iJ[n]),Sd.copy(iJ[n]),s==="local"&&Sd.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(Sd.cross(this.eye).normalize())*o),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),s==="local"&&n!=="E"&&n!=="XYZE"?(i.quaternion.copy(this._quaternionStart),i.quaternion.multiply(Wo.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),i.quaternion.copy(Wo.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),i.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(D4),this.dispatchEvent(oJ)}}pointerUp(e){e.button===0&&(this.dragging&&this.axis!==null&&(aJ.mode=this.mode,this.dispatchEvent(aJ)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(D4),this.dispatchEvent(oJ),this.pointStart.copy(this.pointEnd))}getRaycaster(){return O_}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}}function xrt(t){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:t.button};{const e=this.domElement.getBoundingClientRect();return{x:(t.clientX-e.left)/e.width*2-1,y:-(t.clientY-e.top)/e.height*2+1,button:t.button}}}function Ert(t){if(this.enabled)switch(t.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(t));break}}function Srt(t){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(t)),this.pointerDown(this._getPointer(t)))}function Crt(t){this.enabled&&this.pointerMove(this._getPointer(t))}function Trt(t){this.enabled&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(t)))}function k4(t,e,n){const r=e.intersectObject(t,!0);for(let i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}const JR=new OL,mo=new Gt(0,1,0),lJ=new Gt(0,0,0),cJ=new xl,eI=new gu,hF=new gu,xg=new Gt,uJ=new xl,X2=new Gt(1,0,0),K_=new Gt(0,1,0),Y2=new Gt(0,0,1),tI=new Gt,_2=new Gt,w2=new Gt;class Mrt extends El{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new N5({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new L1({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=e.clone();r.opacity=.15;const i=n.clone();i.opacity=.5;const s=e.clone();s.color.setHex(16711680);const a=e.clone();a.color.setHex(65280);const o=e.clone();o.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const u=e.clone();u.color.setHex(65280),u.opacity=.5;const h=e.clone();h.color.setHex(255),h.opacity=.5;const d=e.clone();d.opacity=.25;const f=e.clone();f.color.setHex(16776960),f.opacity=.25,e.clone().color.setHex(16776960);const m=e.clone();m.color.setHex(7895160);const g=new $c(0,.04,.1,12);g.translate(0,.05,0);const y=new jo(.08,.08,.08);y.translate(0,.04,0);const _=new cc;_.setAttribute("position",new co([0,0,0,1,0,0],3));const x=new $c(.0075,.0075,.5,3);x.translate(0,.25,0);function S(K,V){const Q=new t1(K,.0075,3,64,V*Math.PI*2);return Q.rotateY(Math.PI/2),Q.rotateX(Math.PI/2),Q}function C(){const K=new cc;return K.setAttribute("position",new co([0,0,0,1,1,1],3)),K}const M={X:[[new Ir(g,s),[.5,0,0],[0,0,-Math.PI/2]],[new Ir(g,s),[-.5,0,0],[0,0,Math.PI/2]],[new Ir(x,s),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Ir(g,a),[0,.5,0]],[new Ir(g,a),[0,-.5,0],[Math.PI,0,0]],[new Ir(x,a)]],Z:[[new Ir(g,o),[0,0,.5],[Math.PI/2,0,0]],[new Ir(g,o),[0,0,-.5],[-Math.PI/2,0,0]],[new Ir(x,o),null,[Math.PI/2,0,0]]],XYZ:[[new Ir(new Wx(.1,0),d.clone()),[0,0,0]]],XY:[[new Ir(new jo(.15,.15,.01),h.clone()),[.15,.15,0]]],YZ:[[new Ir(new jo(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Ir(new jo(.15,.15,.01),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},B={X:[[new Ir(new $c(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new Ir(new $c(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Ir(new $c(.2,0,.6,4),r),[0,.3,0]],[new Ir(new $c(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Ir(new $c(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new Ir(new $c(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Ir(new Wx(.2,0),r)]],XY:[[new Ir(new jo(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new Ir(new jo(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Ir(new jo(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]]},E={START:[[new Ir(new Wx(.01,2),i),null,null,null,"helper"]],END:[[new Ir(new Wx(.01,2),i),null,null,null,"helper"]],DELTA:[[new Ng(C(),i),null,null,null,"helper"]],X:[[new Ng(_,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ng(_,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ng(_,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L={XYZE:[[new Ir(S(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new Ir(S(.5,.5),s)]],Y:[[new Ir(S(.5,.5),a),null,[0,0,-Math.PI/2]]],Z:[[new Ir(S(.5,.5),o),null,[0,Math.PI/2,0]]],E:[[new Ir(S(.75,1),f),null,[0,Math.PI/2,0]]]},I={AXIS:[[new Ng(_,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},k={XYZE:[[new Ir(new B7(.25,10,8),r)]],X:[[new Ir(new t1(.5,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Ir(new t1(.5,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Ir(new t1(.5,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Ir(new t1(.75,.1,2,24),r)]]},O={X:[[new Ir(y,s),[.5,0,0],[0,0,-Math.PI/2]],[new Ir(x,s),[0,0,0],[0,0,-Math.PI/2]],[new Ir(y,s),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Ir(y,a),[0,.5,0]],[new Ir(x,a)],[new Ir(y,a),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Ir(y,o),[0,0,.5],[Math.PI/2,0,0]],[new Ir(x,o),[0,0,0],[Math.PI/2,0,0]],[new Ir(y,o),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Ir(new jo(.15,.15,.01),h),[.15,.15,0]]],YZ:[[new Ir(new jo(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Ir(new jo(.15,.15,.01),u),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Ir(new jo(.1,.1,.1),d.clone())]]},F={X:[[new Ir(new $c(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new Ir(new $c(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Ir(new $c(.2,0,.6,4),r),[0,.3,0]],[new Ir(new $c(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Ir(new $c(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new Ir(new $c(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Ir(new jo(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new Ir(new jo(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Ir(new jo(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Ir(new jo(.2,.2,.2),r),[0,0,0]]]},U={X:[[new Ng(_,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ng(_,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ng(_,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function $(K){const V=new El;for(const Q in K)for(let X=K[Q].length;X--;){const z=K[Q][X][0].clone(),ne=K[Q][X][1],he=K[Q][X][2],W=K[Q][X][3],Y=K[Q][X][4];z.name=Q,z.tag=Y,ne&&z.position.set(ne[0],ne[1],ne[2]),he&&z.rotation.set(he[0],he[1],he[2]),W&&z.scale.set(W[0],W[1],W[2]),z.updateMatrix();const oe=z.geometry.clone();oe.applyMatrix4(z.matrix),z.geometry=oe,z.renderOrder=1/0,z.position.set(0,0,0),z.rotation.set(0,0,0),z.scale.set(1,1,1),V.add(z)}return V}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=$(M)),this.add(this.gizmo.rotate=$(L)),this.add(this.gizmo.scale=$(O)),this.add(this.picker.translate=$(B)),this.add(this.picker.rotate=$(k)),this.add(this.picker.scale=$(F)),this.add(this.helper.translate=$(E)),this.add(this.helper.rotate=$(I)),this.add(this.helper.scale=$(U)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const r=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:hF;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let i=[];i=i.concat(this.picker[this.mode].children),i=i.concat(this.gizmo[this.mode].children),i=i.concat(this.helper[this.mode].children);for(let s=0;s<i.length;s++){const a=i[s];a.visible=!0,a.rotation.set(0,0,0),a.position.copy(this.worldPosition);let o;if(this.camera.isOrthographicCamera?o=(this.camera.top-this.camera.bottom)/this.camera.zoom:o=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),a.scale.set(1,1,1).multiplyScalar(o*this.size/4),a.tag==="helper"){a.visible=!1,a.name==="AXIS"?(a.visible=!!this.axis,this.axis==="X"&&(Wo.setFromEuler(JR.set(0,0,0)),a.quaternion.copy(r).multiply(Wo),Math.abs(mo.copy(X2).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="Y"&&(Wo.setFromEuler(JR.set(0,0,Math.PI/2)),a.quaternion.copy(r).multiply(Wo),Math.abs(mo.copy(K_).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="Z"&&(Wo.setFromEuler(JR.set(0,Math.PI/2,0)),a.quaternion.copy(r).multiply(Wo),Math.abs(mo.copy(Y2).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="XYZE"&&(Wo.setFromEuler(JR.set(0,Math.PI/2,0)),mo.copy(this.rotationAxis),a.quaternion.setFromRotationMatrix(cJ.lookAt(lJ,mo,K_)),a.quaternion.multiply(Wo),a.visible=this.dragging),this.axis==="E"&&(a.visible=!1)):a.name==="START"?(a.position.copy(this.worldPositionStart),a.visible=this.dragging):a.name==="END"?(a.position.copy(this.worldPosition),a.visible=this.dragging):a.name==="DELTA"?(a.position.copy(this.worldPositionStart),a.quaternion.copy(this.worldQuaternionStart),Sd.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Sd.applyQuaternion(this.worldQuaternionStart.clone().invert()),a.scale.copy(Sd),a.visible=this.dragging):(a.quaternion.copy(r),this.dragging?a.position.copy(this.worldPositionStart):a.position.copy(this.worldPosition),this.axis&&(a.visible=this.axis.search(a.name)!==-1));continue}a.quaternion.copy(r),this.mode==="translate"||this.mode==="scale"?(a.name==="X"&&Math.abs(mo.copy(X2).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="Y"&&Math.abs(mo.copy(K_).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="Z"&&Math.abs(mo.copy(Y2).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="XY"&&Math.abs(mo.copy(Y2).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="YZ"&&Math.abs(mo.copy(X2).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="XZ"&&Math.abs(mo.copy(K_).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1)):this.mode==="rotate"&&(eI.copy(r),mo.copy(this.eye).applyQuaternion(Wo.copy(r).invert()),a.name.search("E")!==-1&&a.quaternion.setFromRotationMatrix(cJ.lookAt(this.eye,lJ,K_)),a.name==="X"&&(Wo.setFromAxisAngle(X2,Math.atan2(-mo.y,mo.z)),Wo.multiplyQuaternions(eI,Wo),a.quaternion.copy(Wo)),a.name==="Y"&&(Wo.setFromAxisAngle(K_,Math.atan2(mo.x,mo.z)),Wo.multiplyQuaternions(eI,Wo),a.quaternion.copy(Wo)),a.name==="Z"&&(Wo.setFromAxisAngle(Y2,Math.atan2(mo.y,mo.x)),Wo.multiplyQuaternions(eI,Wo),a.quaternion.copy(Wo))),a.visible=a.visible&&(a.name.indexOf("X")===-1||this.showX),a.visible=a.visible&&(a.name.indexOf("Y")===-1||this.showY),a.visible=a.visible&&(a.name.indexOf("Z")===-1||this.showZ),a.visible=a.visible&&(a.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),a.material._color=a.material._color||a.material.color.clone(),a.material._opacity=a.material._opacity||a.material.opacity,a.material.color.copy(a.material._color),a.material.opacity=a.material._opacity,this.enabled&&this.axis&&(a.name===this.axis||this.axis.split("").some(function(l){return a.name===l}))&&(a.material.color.setHex(16776960),a.material.opacity=1)}super.updateMatrixWorld(e)}}class Lrt extends Ir{constructor(){super(new W0(1e5,1e5,2,2),new N5({visible:!1,wireframe:!0,side:dp,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),tI.copy(X2).applyQuaternion(n==="local"?this.worldQuaternion:hF),_2.copy(K_).applyQuaternion(n==="local"?this.worldQuaternion:hF),w2.copy(Y2).applyQuaternion(n==="local"?this.worldQuaternion:hF),mo.copy(_2),this.mode){case"translate":case"scale":switch(this.axis){case"X":mo.copy(this.eye).cross(tI),xg.copy(tI).cross(mo);break;case"Y":mo.copy(this.eye).cross(_2),xg.copy(_2).cross(mo);break;case"Z":mo.copy(this.eye).cross(w2),xg.copy(w2).cross(mo);break;case"XY":xg.copy(w2);break;case"YZ":xg.copy(tI);break;case"XZ":mo.copy(w2),xg.copy(_2);break;case"XYZ":case"E":xg.set(0,0,0);break}break;case"rotate":default:xg.set(0,0,0)}xg.length()===0?this.quaternion.copy(this.cameraQuaternion):(uJ.lookAt(Sd.set(0,0,0),xg,mo),this.quaternion.setFromRotationMatrix(uJ)),super.updateMatrixWorld(e)}}function Mu(t){return(e,...n)=>Brt(t,e,n)}function ZS(t,e){return Mu(yfe(t,e).get)}const{apply:Brt,getOwnPropertyDescriptor:yfe,getPrototypeOf:I7,ownKeys:Rrt}=Reflect,{iterator:NL,toStringTag:Irt}=Symbol,Prt=Object,{create:P7,defineProperty:Frt}=Prt,Ort=Array,Nrt=Ort.prototype,_fe=Nrt[NL],Drt=Mu(_fe),wfe=ArrayBuffer,krt=wfe.prototype;ZS(krt,"byteLength");const hJ=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;hJ&&ZS(hJ.prototype,"byteLength");const bfe=I7(Uint8Array);bfe.from;const Yh=bfe.prototype;Yh[NL];Mu(Yh.keys);Mu(Yh.values);Mu(Yh.entries);Mu(Yh.set);Mu(Yh.reverse);Mu(Yh.fill);Mu(Yh.copyWithin);Mu(Yh.sort);Mu(Yh.slice);Mu(Yh.subarray);ZS(Yh,"buffer");ZS(Yh,"byteOffset");ZS(Yh,"length");ZS(Yh,Irt);const Urt=Uint8Array,xfe=Uint16Array,F7=Uint32Array,Hrt=Float32Array,UM=I7([][NL]()),Efe=Mu(UM.next),Grt=Mu(function*(){}().next),Vrt=I7(UM),zrt=DataView.prototype,$rt=Mu(zrt.getUint16),O7=WeakMap,Sfe=O7.prototype,Cfe=Mu(Sfe.get),Qrt=Mu(Sfe.set),Tfe=new O7,Wrt=P7(null,{next:{value:function(){const e=Cfe(Tfe,this);return Efe(e)}},[NL]:{value:function(){return this}}});function jrt(t){if(t[NL]===_fe&&UM.next===Efe)return t;const e=P7(Wrt);return Qrt(Tfe,e,Drt(t)),e}const Krt=new O7,qrt=P7(Vrt,{next:{value:function(){const e=Cfe(Krt,this);return Grt(e)},writable:!0,configurable:!0}});for(const t of Rrt(UM))t!=="next"&&Frt(qrt,t,yfe(UM,t));const Mfe=new wfe(4),Xrt=new Hrt(Mfe),Yrt=new F7(Mfe),Eg=new xfe(512),Sg=new Urt(512);for(let t=0;t<256;++t){const e=t-127;e<-24?(Eg[t]=0,Eg[t|256]=32768,Sg[t]=24,Sg[t|256]=24):e<-14?(Eg[t]=1024>>-e-14,Eg[t|256]=1024>>-e-14|32768,Sg[t]=-e-1,Sg[t|256]=-e-1):e<=15?(Eg[t]=e+15<<10,Eg[t|256]=e+15<<10|32768,Sg[t]=13,Sg[t|256]=13):e<128?(Eg[t]=31744,Eg[t|256]=64512,Sg[t]=24,Sg[t|256]=24):(Eg[t]=31744,Eg[t|256]=64512,Sg[t]=13,Sg[t|256]=13)}const N7=new F7(2048);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;(e&8388608)===0;)e<<=1,n-=8388608;e&=-8388609,n+=947912704,N7[t]=e|n}for(let t=1024;t<2048;++t)N7[t]=939524096+(t-1024<<13);const JS=new F7(64);for(let t=1;t<31;++t)JS[t]=t<<23;JS[31]=1199570944;JS[32]=2147483648;for(let t=33;t<63;++t)JS[t]=2147483648+(t-32<<23);JS[63]=3347054592;const Lfe=new xfe(64);for(let t=1;t<64;++t)t!==32&&(Lfe[t]=1024);function Zrt(t){const e=t>>10;return Yrt[0]=N7[Lfe[e]+(t&1023)]+JS[e],Xrt[0]}function Bfe(t,e,...n){return Zrt($rt(t,e,...jrt(n)))}var nI={exports:{}},dJ;function Jrt(){if(dJ)return nI.exports;dJ=1;function t(e,n,r){const i=r&&r.debug||!1;i&&console.log("[xml-utils] getting "+n+" in "+e);const s=typeof e=="object"?e.outer:e,a=s.slice(0,s.indexOf(">")+1),o=['"',"'"];for(let l=0;l<o.length;l++){const u=o[l],h=n+"\\="+u+"([^"+u+"]*)"+u;i&&console.log("[xml-utils] pattern:",h);const f=new RegExp(h).exec(a);if(i&&console.log("[xml-utils] match:",f),f)return f[1]}}return nI.exports=t,nI.exports.default=t,nI.exports}var eit=Jrt();const U4=Pf(eit);var rI={exports:{}},iI={exports:{}},sI={exports:{}},fJ;function tit(){if(fJ)return sI.exports;fJ=1;function t(e,n,r){const s=new RegExp(n).exec(e.slice(r));return s?r+s.index:-1}return sI.exports=t,sI.exports.default=t,sI.exports}var aI={exports:{}},AJ;function nit(){if(AJ)return aI.exports;AJ=1;function t(e,n,r){const s=new RegExp(n).exec(e.slice(r));return s?r+s.index+s[0].length-1:-1}return aI.exports=t,aI.exports.default=t,aI.exports}var oI={exports:{}},pJ;function rit(){if(pJ)return oI.exports;pJ=1;function t(e,n){const r=new RegExp(n,"g"),i=e.match(r);return i?i.length:0}return oI.exports=t,oI.exports.default=t,oI.exports}var gJ;function iit(){if(gJ)return iI.exports;gJ=1;const t=tit(),e=nit(),n=rit();function r(i,s,a){const o=a&&a.debug||!1,l=!(a&&typeof a.nested===!1),u=a&&a.startIndex||0;o&&console.log("[xml-utils] starting findTagByName with",s," and ",a);const h=t(i,"<".concat(s,"[ \n>/]"),u);if(o&&console.log("[xml-utils] start:",h),h===-1)return;const d=i.slice(h+s.length);let f=e(d,"^[^<]*[ /]>",0);const A=f!==-1&&d[f-1]==="/";if(o&&console.log("[xml-utils] selfClosing:",A),A===!1)if(l){let _=0,x=1,S=0;for(;(f=e(d,"[ /]"+s+">",_))!==-1;){const C=d.substring(_,f+1);if(x+=n(C,"<"+s+"[ \n	>]"),S+=n(C,"</"+s+">"),S>=x)break;_=f}}else f=e(d,"[ /]"+s+">",0);const m=h+s.length+f+1;if(o&&console.log("[xml-utils] end:",m),m===-1)return;const g=i.slice(h,m);let y;return A?y=null:y=g.slice(g.indexOf(">")+1,g.lastIndexOf("<")),{inner:y,outer:g,start:h,end:m}}return iI.exports=r,iI.exports.default=r,iI.exports}var mJ;function sit(){if(mJ)return rI.exports;mJ=1;const t=iit();function e(n,r,i){const s=[],a=i&&i.debug||!1,o=i&&typeof i.nested=="boolean"?i.nested:!0;let l=i&&i.startIndex||0,u;for(;u=t(n,r,{debug:a,startIndex:l});)o?l=u.start+1+r.length:l=u.end,s.push(u);return a&&console.log("findTagsByName found",s.length,"tags"),s}return rI.exports=e,rI.exports.default=e,rI.exports}var ait=sit();const oit=Pf(ait),OT={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Ig={};for(const t in OT)OT.hasOwnProperty(t)&&(Ig[OT[t]]=parseInt(t,10));const lit=[Ig.BitsPerSample,Ig.ExtraSamples,Ig.SampleFormat,Ig.StripByteCounts,Ig.StripOffsets,Ig.StripRowCounts,Ig.TileByteCounts,Ig.TileOffsets,Ig.SubIFDs],H4={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},Rs={};for(const t in H4)H4.hasOwnProperty(t)&&(Rs[H4[t]]=parseInt(t,10));const bd={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},cit={Unspecified:0},$3t={AddCompression:1},Q3t={None:0,Deflate:1,Zstandard:2},uit={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function hit(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3);let s;for(let a=0,o=0;a<t.length;++a,o+=3)s=256-t[a]/e*256,i[o]=s,i[o+1]=s,i[o+2]=s;return i}function dit(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3);let s;for(let a=0,o=0;a<t.length;++a,o+=3)s=t[a]/e*256,i[o]=s,i[o+1]=s,i[o+2]=s;return i}function fit(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3),s=e.length/3,a=e.length/3*2;for(let o=0,l=0;o<t.length;++o,l+=3){const u=t[o];i[l]=e[u]/65536*256,i[l+1]=e[u+s]/65536*256,i[l+2]=e[u+a]/65536*256}return i}function Ait(t){const{width:e,height:n}=t,r=new Uint8Array(e*n*3);for(let i=0,s=0;i<t.length;i+=4,s+=3){const a=t[i],o=t[i+1],l=t[i+2],u=t[i+3];r[s]=255*((255-a)/256)*((255-u)/256),r[s+1]=255*((255-o)/256)*((255-u)/256),r[s+2]=255*((255-l)/256)*((255-u)/256)}return r}function pit(t){const{width:e,height:n}=t,r=new Uint8ClampedArray(e*n*3);for(let i=0,s=0;i<t.length;i+=3,s+=3){const a=t[i],o=t[i+1],l=t[i+2];r[s]=a+1.402*(l-128),r[s+1]=a-.34414*(o-128)-.71414*(l-128),r[s+2]=a+1.772*(o-128)}return r}const git=.95047,mit=1,vit=1.08883;function yit(t){const{width:e,height:n}=t,r=new Uint8Array(e*n*3);for(let i=0,s=0;i<t.length;i+=3,s+=3){const a=t[i+0],o=t[i+1]<<24>>24,l=t[i+2]<<24>>24;let u=(a+16)/116,h=o/500+u,d=u-l/200,f,A,m;h=git*(h*h*h>.008856?h*h*h:(h-16/116)/7.787),u=mit*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),d=vit*(d*d*d>.008856?d*d*d:(d-16/116)/7.787),f=h*3.2406+u*-1.5372+d*-.4986,A=h*-.9689+u*1.8758+d*.0415,m=h*.0557+u*-.204+d*1.057,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,A=A>.0031308?1.055*A**(1/2.4)-.055:12.92*A,m=m>.0031308?1.055*m**(1/2.4)-.055:12.92*m,r[s]=Math.max(0,Math.min(1,f))*255,r[s+1]=Math.max(0,Math.min(1,A))*255,r[s+2]=Math.max(0,Math.min(1,m))*255}return r}const _it="modulepreload",wit=function(t,e){return new URL(t,e).href},vJ={},Ny=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=wit(u,r),u in vJ)return;vJ[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.href===u&&(!h||g.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(u,'"]').concat(d)))return;const A=document.createElement("link");if(A.rel=h?"stylesheet":_it,h||(A.as="script"),A.crossOrigin="",A.href=u,l&&A.setAttribute("nonce",l),document.head.appendChild(A),h)return new Promise((m,g)=>{A.addEventListener("load",m),A.addEventListener("error",()=>g(new Error("Unable to preload CSS for ".concat(u))))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Rfe=new Map;function Dy(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>Rfe.set(n,e))}async function Ife(t){const e=Rfe.get(t.Compression);if(!e)throw new Error("Unknown compression method identifier: ".concat(t.Compression));const n=await e();return new n(t)}Dy([void 0,1],()=>Ny(()=>import("./raw-DTCrsnwH.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>t.default));Dy(5,()=>Ny(()=>import("./lzw-Dtfsdd-5.js"),__vite__mapDeps([2,1]),import.meta.url).then(t=>t.default));Dy(6,()=>{throw new Error("old style JPEG compression is not supported.")});Dy(7,()=>Ny(()=>import("./jpeg-CDE96Qi0.js"),__vite__mapDeps([3,1]),import.meta.url).then(t=>t.default));Dy([8,32946],()=>Ny(()=>import("./deflate-DgMDiqs6.js"),__vite__mapDeps([4,5,1]),import.meta.url).then(t=>t.default));Dy(32773,()=>Ny(()=>import("./packbits-BZuScxhq.js"),__vite__mapDeps([6,1]),import.meta.url).then(t=>t.default));Dy(34887,()=>Ny(()=>import("./lerc-VAi92YdH.js"),__vite__mapDeps([7,5,1]),import.meta.url).then(async t=>(await t.zstd.init(),t)).then(t=>t.default));Dy(50001,()=>Ny(()=>import("./webimage-C9qktcoi.js"),__vite__mapDeps([8,1]),import.meta.url).then(t=>t.default));function k5(t,e,n,r=1){return new(Object.getPrototypeOf(t)).constructor(e*n*r)}function bit(t,e,n,r,i){const s=e/r,a=n/i;return t.map(o=>{const l=k5(o,r,i);for(let u=0;u<i;++u){const h=Math.min(Math.round(a*u),n-1);for(let d=0;d<r;++d){const f=Math.min(Math.round(s*d),e-1),A=o[h*e+f];l[u*r+d]=A}}return l})}function EE(t,e,n){return(1-n)*t+n*e}function xit(t,e,n,r,i){const s=e/r,a=n/i;return t.map(o=>{const l=k5(o,r,i);for(let u=0;u<i;++u){const h=a*u,d=Math.floor(h),f=Math.min(Math.ceil(h),n-1);for(let A=0;A<r;++A){const m=s*A,g=m%1,y=Math.floor(m),_=Math.min(Math.ceil(m),e-1),x=o[d*e+y],S=o[d*e+_],C=o[f*e+y],M=o[f*e+_],B=EE(EE(x,S,g),EE(C,M,g),h%1);l[u*r+A]=B}}return l})}function Eit(t,e,n,r,i,s="nearest"){switch(s.toLowerCase()){case"nearest":return bit(t,e,n,r,i);case"bilinear":case"linear":return xit(t,e,n,r,i);default:throw new Error("Unsupported resampling method: '".concat(s,"'"))}}function Sit(t,e,n,r,i,s){const a=e/r,o=n/i,l=k5(t,r,i,s);for(let u=0;u<i;++u){const h=Math.min(Math.round(o*u),n-1);for(let d=0;d<r;++d){const f=Math.min(Math.round(a*d),e-1);for(let A=0;A<s;++A){const m=t[h*e*s+f*s+A];l[u*r*s+d*s+A]=m}}}return l}function Cit(t,e,n,r,i,s){const a=e/r,o=n/i,l=k5(t,r,i,s);for(let u=0;u<i;++u){const h=o*u,d=Math.floor(h),f=Math.min(Math.ceil(h),n-1);for(let A=0;A<r;++A){const m=a*A,g=m%1,y=Math.floor(m),_=Math.min(Math.ceil(m),e-1);for(let x=0;x<s;++x){const S=t[d*e*s+y*s+x],C=t[d*e*s+_*s+x],M=t[f*e*s+y*s+x],B=t[f*e*s+_*s+x],E=EE(EE(S,C,g),EE(M,B,g),h%1);l[u*r*s+A*s+x]=E}}}return l}function Tit(t,e,n,r,i,s,a="nearest"){switch(a.toLowerCase()){case"nearest":return Sit(t,e,n,r,i,s);case"bilinear":case"linear":return Cit(t,e,n,r,i,s);default:throw new Error("Unsupported resampling method: '".concat(a,"'"))}}function Mit(t,e,n){let r=0;for(let i=e;i<n;++i)r+=t[i];return r}function JH(t,e,n){switch(t){case 1:if(e<=8)return new Uint8Array(n);if(e<=16)return new Uint16Array(n);if(e<=32)return new Uint32Array(n);break;case 2:if(e===8)return new Int8Array(n);if(e===16)return new Int16Array(n);if(e===32)return new Int32Array(n);break;case 3:switch(e){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n)}break}throw Error("Unsupported data format/bitsPerSample")}function Lit(t,e){return(t===1||t===2)&&e<=32&&e%8===0?!1:!(t===3&&(e===16||e===32||e===64))}function Bit(t,e,n,r,i,s,a){const o=new DataView(t),l=n===2?a*s:a*s*r,u=n===2?1:r,h=JH(e,i,l),d=parseInt("1".repeat(i),2);if(e===1){let f;n===1?f=r*i:f=i;let A=s*f;(A&7)!==0&&(A=A+7&-8);for(let m=0;m<a;++m){const g=m*A;for(let y=0;y<s;++y){const _=g+y*u*i;for(let x=0;x<u;++x){const S=_+x*i,C=(m*s+y)*u+x,M=Math.floor(S/8),B=S%8;if(B+i<=8)h[C]=o.getUint8(M)>>8-i-B&d;else if(B+i<=16)h[C]=o.getUint16(M)>>16-i-B&d;else if(B+i<=24){const E=o.getUint16(M)<<8|o.getUint8(M+2);h[C]=E>>24-i-B&d}else h[C]=o.getUint32(M)>>32-i-B&d}}}}return h.buffer}class Pfe{constructor(e,n,r,i,s,a){this.fileDirectory=e,this.geoKeys=n,this.dataView=r,this.littleEndian=i,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration=typeof o>"u"?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let n=0;n<this.fileDirectory.BitsPerSample.length;++n)e+=this.getSampleByteSize(n);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError("Sample index ".concat(e," is out of range."));return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const n=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,r=this.fileDirectory.BitsPerSample[e];switch(n){case 1:if(r<=8)return DataView.prototype.getUint8;if(r<=16)return DataView.prototype.getUint16;if(r<=32)return DataView.prototype.getUint32;break;case 2:if(r<=8)return DataView.prototype.getInt8;if(r<=16)return DataView.prototype.getInt16;if(r<=32)return DataView.prototype.getInt32;break;case 3:switch(r){case 16:return function(i,s){return Bfe(this,i,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,n){const r=this.getSampleFormat(e),i=this.getBitsPerSample(e);return JH(r,i,n)}async getTileOrStrip(e,n,r,i,s){const a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:u}=this;this.planarConfiguration===1?l=n*a+e:this.planarConfiguration===2&&(l=r*a*o+n*a+e);let h,d;this.isTiled?(h=this.fileDirectory.TileOffsets[l],d=this.fileDirectory.TileByteCounts[l]):(h=this.fileDirectory.StripOffsets[l],d=this.fileDirectory.StripByteCounts[l]);const f=(await this.source.fetch([{offset:h,length:d}],s))[0];let A;return u===null||!u[l]?(A=(async()=>{let m=await i.decode(this.fileDirectory,f);const g=this.getSampleFormat(),y=this.getBitsPerSample();return Lit(g,y)&&(m=Bit(m,g,this.planarConfiguration,this.getSamplesPerPixel(),y,this.getTileWidth(),this.getBlockHeight(n))),m})(),u!==null&&(u[l]=A)):A=u[l],{x:e,y:n,sample:r,data:await A}}async _readRaster(e,n,r,i,s,a,o,l,u){const h=this.getTileWidth(),d=this.getTileHeight(),f=this.getWidth(),A=this.getHeight(),m=Math.max(Math.floor(e[0]/h),0),g=Math.min(Math.ceil(e[2]/h),Math.ceil(f/h)),y=Math.max(Math.floor(e[1]/d),0),_=Math.min(Math.ceil(e[3]/d),Math.ceil(A/d)),x=e[2]-e[0];let S=this.getBytesPerPixel();const C=[],M=[];for(let L=0;L<n.length;++L)this.planarConfiguration===1?C.push(Mit(this.fileDirectory.BitsPerSample,0,n[L])/8):C.push(0),M.push(this.getReaderForSample(n[L]));const B=[],{littleEndian:E}=this;for(let L=y;L<_;++L)for(let I=m;I<g;++I){let k;this.planarConfiguration===1&&(k=this.getTileOrStrip(I,L,0,s,u));for(let O=0;O<n.length;++O){const F=O,U=n[O];this.planarConfiguration===2&&(S=this.getSampleByteSize(U),k=this.getTileOrStrip(I,L,U,s,u));const $=k.then(K=>{const V=K.data,Q=new DataView(V),X=this.getBlockHeight(K.y),z=K.y*d,ne=K.x*h,he=z+X,W=(K.x+1)*h,Y=M[F],oe=Math.min(X,X-(he-e[3]),A-z),fe=Math.min(h,h-(W-e[2]),f-ne);for(let me=Math.max(0,e[1]-z);me<oe;++me)for(let ce=Math.max(0,e[0]-ne);ce<fe;++ce){const be=(me*h+ce)*S,xe=Y.call(Q,be+C[F],E);let Ie;i?(Ie=(me+z-e[1])*x*n.length+(ce+ne-e[0])*n.length+F,r[Ie]=xe):(Ie=(me+z-e[1])*x+ce+ne-e[0],r[F][Ie]=xe)}});B.push($)}}if(await Promise.all(B),a&&e[2]-e[0]!==a||o&&e[3]-e[1]!==o){let L;return i?L=Tit(r,e[2]-e[0],e[3]-e[1],a,o,n.length,l):L=Eit(r,e[2]-e[0],e[3]-e[1],a,o,l),L.width=a,L.height=o,L}return r.width=a||e[2]-e[0],r.height=o||e[3]-e[1],r}async readRasters({window:e,samples:n=[],interleave:r,pool:i=null,width:s,height:a,resampleMethod:o,fillValue:l,signal:u}={}){const h=e||[0,0,this.getWidth(),this.getHeight()];if(h[0]>h[2]||h[1]>h[3])throw new Error("Invalid subsets");const d=h[2]-h[0],f=h[3]-h[1],A=d*f,m=this.getSamplesPerPixel();if(!n||!n.length)for(let x=0;x<m;++x)n.push(x);else for(let x=0;x<n.length;++x)if(n[x]>=m)return Promise.reject(new RangeError("Invalid sample index '".concat(n[x],"'.")));let g;if(r){const x=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,S=Math.max.apply(null,this.fileDirectory.BitsPerSample);g=JH(x,S,A*n.length),l&&g.fill(l)}else{g=[];for(let x=0;x<n.length;++x){const S=this.getArrayForSample(n[x],A);Array.isArray(l)&&x<l.length?S.fill(l[x]):l&&!Array.isArray(l)&&S.fill(l),g.push(S)}}const y=i||await Ife(this.fileDirectory);return await this._readRaster(h,n,g,r,y,s,a,o,u)}async readRGB({window:e,interleave:n=!0,pool:r=null,width:i,height:s,resampleMethod:a,enableAlpha:o=!1,signal:l}={}){const u=e||[0,0,this.getWidth(),this.getHeight()];if(u[0]>u[2]||u[1]>u[3])throw new Error("Invalid subsets");const h=this.fileDirectory.PhotometricInterpretation;if(h===bd.RGB){let _=[0,1,2];if(this.fileDirectory.ExtraSamples!==cit.Unspecified&&o){_=[];for(let x=0;x<this.fileDirectory.BitsPerSample.length;x+=1)_.push(x)}return this.readRasters({window:e,interleave:n,samples:_,pool:r,width:i,height:s,resampleMethod:a,signal:l})}let d;switch(h){case bd.WhiteIsZero:case bd.BlackIsZero:case bd.Palette:d=[0];break;case bd.CMYK:d=[0,1,2,3];break;case bd.YCbCr:case bd.CIELab:d=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const f={window:u,interleave:!0,samples:d,pool:r,width:i,height:s,resampleMethod:a,signal:l},{fileDirectory:A}=this,m=await this.readRasters(f),g=2**this.fileDirectory.BitsPerSample[0];let y;switch(h){case bd.WhiteIsZero:y=hit(m,g);break;case bd.BlackIsZero:y=dit(m,g);break;case bd.Palette:y=fit(m,A.ColorMap);break;case bd.CMYK:y=Ait(m);break;case bd.YCbCr:y=pit(m);break;case bd.CIELab:y=yit(m);break;default:throw new Error("Unsupported photometric interpretation.")}if(!n){const _=new Uint8Array(y.length/3),x=new Uint8Array(y.length/3),S=new Uint8Array(y.length/3);for(let C=0,M=0;C<y.length;C+=3,++M)_[M]=y[C],x[M]=y[C+1],S[M]=y[C+2];y=[_,x,S]}return y.width=m.width,y.height=m.height,y}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let n=0;n<this.fileDirectory.ModelTiepoint.length;n+=6)e.push({i:this.fileDirectory.ModelTiepoint[n],j:this.fileDirectory.ModelTiepoint[n+1],k:this.fileDirectory.ModelTiepoint[n+2],x:this.fileDirectory.ModelTiepoint[n+3],y:this.fileDirectory.ModelTiepoint[n+4],z:this.fileDirectory.ModelTiepoint[n+5]});return e}getGDALMetadata(e=null){const n={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA;let i=oit(r,"Item");e===null?i=i.filter(s=>U4(s,"sample")===void 0):i=i.filter(s=>Number(U4(s,"sample"))===e);for(let s=0;s<i.length;++s){const a=i[s];n[U4(a,"name")]=a.inner}return n}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,n=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(n)return[n[3],n[7],n[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const n=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(n)return[n[0],-n[1],n[2]];if(r)return r[1]===0&&r[4]===0?[r[0],-r[5],r[10]]:[Math.sqrt(r[0]*r[0]+r[4]*r[4]),-Math.sqrt(r[1]*r[1]+r[5]*r[5]),r[10]];if(e){const[i,s,a]=e.getResolution();return[i*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),a*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const n=this.getHeight(),r=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[i,s,a,o,l,u,h,d]=this.fileDirectory.ModelTransformation,A=[[0,0],[0,n],[r,0],[r,n]].map(([y,_])=>[o+i*y+s*_,d+l*y+u*_]),m=A.map(y=>y[0]),g=A.map(y=>y[1]);return[Math.min(...m),Math.min(...g),Math.max(...m),Math.max(...g)]}else{const i=this.getOrigin(),s=this.getResolution(),a=i[0],o=i[1],l=a+s[0]*r,u=o+s[1]*n;return[Math.min(a,l),Math.min(o,u),Math.max(a,l),Math.max(o,u)]}}}class Rit{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,n){const r=this.getUint32(e,n),i=this.getUint32(e+4,n);let s;if(n){if(s=r+2**32*i,!Number.isSafeInteger(s))throw new Error("".concat(s," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return s}if(s=2**32*r+i,!Number.isSafeInteger(s))throw new Error("".concat(s," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return s}getInt64(e,n){let r=0;const i=(this._dataView.getUint8(e+(n?7:0))&128)>0;let s=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(e+(n?a:7-a));i&&(s?o!==0&&(o=~(o-1)&255,s=!1):o=~o&255),r+=o*256**a}return i&&(r=-r),r}getUint8(e,n){return this._dataView.getUint8(e,n)}getInt8(e,n){return this._dataView.getInt8(e,n)}getUint16(e,n){return this._dataView.getUint16(e,n)}getInt16(e,n){return this._dataView.getInt16(e,n)}getUint32(e,n){return this._dataView.getUint32(e,n)}getInt32(e,n){return this._dataView.getInt32(e,n)}getFloat16(e,n){return Bfe(this._dataView,e,n)}getFloat32(e,n){return this._dataView.getFloat32(e,n)}getFloat64(e,n){return this._dataView.getFloat64(e,n)}}class Iit{constructor(e,n,r,i){this._dataView=new DataView(e),this._sliceOffset=n,this._littleEndian=r,this._bigTiff=i}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,n){return this.sliceOffset<=e&&this.sliceTop>=e+n}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const n=this.readUint32(e),r=this.readUint32(e+4);let i;if(this._littleEndian){if(i=n+2**32*r,!Number.isSafeInteger(i))throw new Error("".concat(i," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return i}if(i=2**32*n+r,!Number.isSafeInteger(i))throw new Error("".concat(i," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return i}readInt64(e){let n=0;const r=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let i=!0;for(let s=0;s<8;s++){let a=this._dataView.getUint8(e+(this._littleEndian?s:7-s));r&&(i?a!==0&&(a=~(a-1)&255,i=!1):a=~a&255),n+=a*256**s}return r&&(n=-n),n}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const Pit=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class Fit{constructor(e=Pit,n){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=n?Promise.resolve(n):new Promise(r=>{Ny(()=>import("./decoder-tqM1uIvc.js"),[],import.meta.url).then(i=>{r(i.create)})}),this._awaitingDecoder.then(r=>{this._awaitingDecoder=null,this.workers=[];for(let i=0;i<e;i++)this.workers.push({worker:r(),idle:!0})}))}async decode(e,n){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?Ife(e).then(r=>r.decode(e,n)):new Promise(r=>{const i=this.workers.find(o=>o.idle)||this.workers[Math.floor(Math.random()*this.size)];i.idle=!1;const s=this.messageId++,a=o=>{o.data.id===s&&(i.idle=!0,r(o.data.decoded),i.worker.removeEventListener("message",a))};i.worker.addEventListener("message",a),i.worker.postMessage({fileDirectory:e,buffer:n,id:s},[n])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const yJ="\r\n\r\n";function Ffe(t){if(typeof Object.fromEntries<"u")return Object.fromEntries(t);const e={};for(const[n,r]of t)e[n.toLowerCase()]=r;return e}function Oit(t){const e=t.split("\r\n").map(n=>{const r=n.split(":").map(i=>i.trim());return r[0]=r[0].toLowerCase(),r});return Ffe(e)}function Nit(t){const[e,...n]=t.split(";").map(i=>i.trim()),r=n.map(i=>i.split("="));return{type:e,params:Ffe(r)}}function eG(t){let e,n,r;return t&&([,e,n,r]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),n=parseInt(n,10),r=parseInt(r,10)),{start:e,end:n,total:r}}function Dit(t,e){let n=null;const r=new TextDecoder("ascii"),i=[],s="--".concat(e),a="".concat(s,"--");for(let o=0;o<10;++o)r.decode(new Uint8Array(t,o,s.length))===s&&(n=o);if(n===null)throw new Error("Could not find initial boundary");for(;n<t.byteLength;){const o=r.decode(new Uint8Array(t,n,Math.min(s.length+1024,t.byteLength-n)));if(o.length===0||o.startsWith(a))break;if(!o.startsWith(s))throw new Error("Part does not start with boundary");const l=o.substr(s.length+2);if(l.length===0)break;const u=l.indexOf(yJ),h=Oit(l.substr(0,u)),{start:d,end:f,total:A}=eG(h["content-range"]),m=n+s.length+u+yJ.length,g=parseInt(f,10)+1-parseInt(d,10);i.push({headers:h,data:t.slice(m,m+g),offset:d,length:g,fileSize:A}),n=m+g+4}return i}class D7{async fetch(e,n=void 0){return Promise.all(e.map(r=>this.fetchSlice(r,n)))}async fetchSlice(e){throw new Error("fetching of slice ".concat(e," not possible, not implemented"))}get fileSize(){return null}async close(){}}class kit extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,r]of e)this.onEviction(n,r.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const r=n.get(e);return this._getItemValue(e,r)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield e)}for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:r=this.maxAge}={}){const i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(e)?this.cache.set(e,{value:n,expiry:i}):this._set(e,{value:n,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-e;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,n=this){for(const[r,i]of this.entriesAscending())e.call(n,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function Uit(t){return new Promise(e=>setTimeout(e,t))}function Hit(t,e){const n=Array.isArray(t)?t:Array.from(t),r=Array.isArray(e)?e:Array.from(e);return n.map((i,s)=>[i,r[s]])}class fS extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,fS),this.name="AbortError"}}class Git extends Error{constructor(e,n){super(n),this.errors=e,this.message=n,this.name="AggregateError"}}const Vit=Git;class zit{constructor(e,n,r=null){this.offset=e,this.length=n,this.data=r}get top(){return this.offset+this.length}}class _J{constructor(e,n,r){this.offset=e,this.length=n,this.blockIds=r}}class $it extends D7{constructor(e,{blockSize:n=65536,cacheSize:r=100}={}){super(),this.source=e,this.blockSize=n,this.blockCache=new kit({maxSize:r,onEviction:(i,s)=>{this.evictedBlocks.set(i,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,n){const r=[],i=[],s=[];this.evictedBlocks.clear();for(const{offset:f,length:A}of e){let m=f+A;const{fileSize:g}=this;g!==null&&(m=Math.min(m,g));const y=Math.floor(f/this.blockSize)*this.blockSize;for(let _=y;_<m;_+=this.blockSize){const x=Math.floor(_/this.blockSize);!this.blockCache.has(x)&&!this.blockRequests.has(x)&&(this.blockIdsToFetch.add(x),i.push(x)),this.blockRequests.has(x)&&r.push(this.blockRequests.get(x)),s.push(x)}}await Uit(),this.fetchBlocks(n);const a=[];for(const f of i)this.blockRequests.has(f)&&a.push(this.blockRequests.get(f));await Promise.allSettled(r),await Promise.allSettled(a);const o=[],l=s.filter(f=>this.abortedBlockIds.has(f)||!this.blockCache.has(f));if(l.forEach(f=>this.blockIdsToFetch.add(f)),l.length>0&&n&&!n.aborted){this.fetchBlocks(null);for(const f of l){const A=this.blockRequests.get(f);if(!A)throw new Error("Block ".concat(f," is not in the block requests"));o.push(A)}await Promise.allSettled(o)}if(n&&n.aborted)throw new fS("Request was aborted");const u=s.map(f=>this.blockCache.get(f)||this.evictedBlocks.get(f)),h=u.filter(f=>!f);if(h.length)throw new Vit(h,"Request failed");const d=new Map(Hit(s,u));return this.readSliceData(e,d)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const n=this.groupBlocks(this.blockIdsToFetch),r=this.source.fetch(n,e);for(let i=0;i<n.length;++i){const s=n[i];for(const a of s.blockIds)this.blockRequests.set(a,(async()=>{try{const o=(await r)[i],l=a*this.blockSize,u=l-o.offset,h=Math.min(u+this.blockSize,o.data.byteLength),d=o.data.slice(u,h),f=new zit(l,d.byteLength,d,a);this.blockCache.set(a,f),this.abortedBlockIds.delete(a)}catch(o){if(o.name==="AbortError")o.signal=e,this.blockCache.delete(a),this.abortedBlockIds.add(a);else throw o}finally{this.blockRequests.delete(a)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const n=Array.from(e).sort((a,o)=>a-o);if(n.length===0)return[];let r=[],i=null;const s=[];for(const a of n)i===null||i+1===a?(r.push(a),i=a):(s.push(new _J(r[0]*this.blockSize,r.length*this.blockSize,r)),r=[a],i=a);return s.push(new _J(r[0]*this.blockSize,r.length*this.blockSize,r)),s}readSliceData(e,n){return e.map(r=>{let i=r.offset+r.length;this.fileSize!==null&&(i=Math.min(this.fileSize,i));const s=Math.floor(r.offset/this.blockSize),a=Math.floor(i/this.blockSize),o=new ArrayBuffer(r.length),l=new Uint8Array(o);for(let u=s;u<=a;++u){const h=n.get(u),d=h.offset-r.offset,f=h.top-i;let A=0,m=0,g;d<0?A=-d:d>0&&(m=d),f<0?g=h.length-A:g=i-h.offset-A;const y=new Uint8Array(h.data,A,g);l.set(y,m)}return o})}}class k7{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class U7{constructor(e){this.url=e}async request({headers:e,signal:n}={}){throw new Error("request is not implemented")}}class Qit extends k7{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class Wit extends U7{constructor(e,n){super(e),this.credentials=n}async request({headers:e,signal:n}={}){const r=await fetch(this.url,{headers:e,credentials:this.credentials,signal:n});return new Qit(r)}}class jit extends k7{constructor(e,n){super(),this.xhr=e,this.data=n}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class Kit extends U7{constructRequest(e,n){return new Promise((r,i)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[a,o]of Object.entries(e))s.setRequestHeader(a,o);s.onload=()=>{const a=s.response;r(new jit(s,a))},s.onerror=i,s.onabort=()=>i(new fS("Request aborted")),s.send(),n&&(n.aborted&&s.abort(),n.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}const G4={};class qit extends k7{constructor(e,n){super(),this.response=e,this.dataPromise=n}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class Xit extends U7{constructor(e){super(e),this.parsedUrl=G4.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",G4)}constructRequest(e,n){return new Promise((r,i)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},a=>{const o=new Promise(l=>{const u=[];a.on("data",h=>{u.push(h)}),a.on("end",()=>{const h=Buffer.concat(u).buffer;l(h)}),a.on("error",i)});r(new qit(a,o))});s.on("error",i),n&&(n.aborted&&s.destroy(new fS("Request aborted")),n.addEventListener("abort",()=>s.destroy(new fS("Request aborted"))))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}class H7 extends D7{constructor(e,n,r,i){super(),this.client=e,this.headers=n,this.maxRanges=r,this.allowFullFile=i,this._fileSize=null}async fetch(e,n){return this.maxRanges>=e.length?this.fetchSlices(e,n):(this.maxRanges>0&&e.length>1,Promise.all(e.map(r=>this.fetchSlice(r,n))))}async fetchSlices(e,n){const r=await this.client.request({headers:{...this.headers,Range:"bytes=".concat(e.map(({offset:i,length:s})=>"".concat(i,"-").concat(i+s)).join(","))},signal:n});if(r.ok)if(r.status===206){const{type:i,params:s}=Nit(r.getHeader("content-type"));if(i==="multipart/byteranges"){const d=Dit(await r.getData(),s.boundary);return this._fileSize=d[0].fileSize||null,d}const a=await r.getData(),{start:o,end:l,total:u}=eG(r.getHeader("content-range"));this._fileSize=u||null;const h=[{data:a,offset:o,length:l-o}];if(e.length>1){const d=await Promise.all(e.slice(1).map(f=>this.fetchSlice(f,n)));return h.concat(d)}return h}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const i=await r.getData();return this._fileSize=i.byteLength,[{data:i,offset:0,length:i.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,n){const{offset:r,length:i}=e,s=await this.client.request({headers:{...this.headers,Range:"bytes=".concat(r,"-").concat(r+i)},signal:n});if(s.ok)if(s.status===206){const a=await s.getData(),{total:o}=eG(s.getHeader("content-range"));return this._fileSize=o||null,{data:a,offset:r,length:i}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const a=await s.getData();return this._fileSize=a.byteLength,{data:a,offset:0,length:a.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function G7(t,{blockSize:e,cacheSize:n}){return e===null?t:new $it(t,{blockSize:e,cacheSize:n})}function Yit(t,{headers:e={},credentials:n,maxRanges:r=0,allowFullFile:i=!1,...s}={}){const a=new Wit(t,n),o=new H7(a,e,r,i);return G7(o,s)}function Zit(t,{headers:e={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){const s=new Kit(t),a=new H7(s,e,n,r);return G7(a,i)}function Jit(t,{headers:e={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){const s=new Xit(t),a=new H7(s,e,n,r);return G7(a,i)}function tG(t,{forceXHR:e=!1,...n}={}){return typeof fetch=="function"&&!e?Yit(t,n):typeof XMLHttpRequest<"u"?Zit(t,n):Jit(t,n)}class est extends D7{constructor(e){super(),this.file=e}async fetchSlice(e,n){return new Promise((r,i)=>{const s=this.file.slice(e.offset,e.offset+e.length),a=new FileReader;a.onload=o=>r(o.target.result),a.onerror=i,a.onabort=i,a.readAsArrayBuffer(s),n&&n.addEventListener("abort",()=>a.abort())})}}function tst(t){return new est(t)}function nG(t){switch(t){case Rs.BYTE:case Rs.ASCII:case Rs.SBYTE:case Rs.UNDEFINED:return 1;case Rs.SHORT:case Rs.SSHORT:return 2;case Rs.LONG:case Rs.SLONG:case Rs.FLOAT:case Rs.IFD:return 4;case Rs.RATIONAL:case Rs.SRATIONAL:case Rs.DOUBLE:case Rs.LONG8:case Rs.SLONG8:case Rs.IFD8:return 8;default:throw new RangeError("Invalid field type: ".concat(t))}}function nst(t){const e=t.GeoKeyDirectory;if(!e)return null;const n={};for(let r=4;r<=e[3]*4;r+=4){const i=uit[e[r]],s=e[r+1]?OT[e[r+1]]:null,a=e[r+2],o=e[r+3];let l=null;if(!s)l=o;else{if(l=t[s],typeof l>"u"||l===null)throw new Error("Could not get value of geoKey '".concat(i,"'."));typeof l=="string"?l=l.substring(o,o+a-1):l.subarray&&(l=l.subarray(o,o+a),a===1&&(l=l[0]))}n[i]=l}return n}function Zb(t,e,n,r){let i=null,s=null;const a=nG(e);switch(e){case Rs.BYTE:case Rs.ASCII:case Rs.UNDEFINED:i=new Uint8Array(n),s=t.readUint8;break;case Rs.SBYTE:i=new Int8Array(n),s=t.readInt8;break;case Rs.SHORT:i=new Uint16Array(n),s=t.readUint16;break;case Rs.SSHORT:i=new Int16Array(n),s=t.readInt16;break;case Rs.LONG:case Rs.IFD:i=new Uint32Array(n),s=t.readUint32;break;case Rs.SLONG:i=new Int32Array(n),s=t.readInt32;break;case Rs.LONG8:case Rs.IFD8:i=new Array(n),s=t.readUint64;break;case Rs.SLONG8:i=new Array(n),s=t.readInt64;break;case Rs.RATIONAL:i=new Uint32Array(n*2),s=t.readUint32;break;case Rs.SRATIONAL:i=new Int32Array(n*2),s=t.readInt32;break;case Rs.FLOAT:i=new Float32Array(n),s=t.readFloat32;break;case Rs.DOUBLE:i=new Float64Array(n),s=t.readFloat64;break;default:throw new RangeError("Invalid field type: ".concat(e))}if(e===Rs.RATIONAL||e===Rs.SRATIONAL)for(let o=0;o<n;o+=2)i[o]=s.call(t,r+o*a),i[o+1]=s.call(t,r+(o*a+4));else for(let o=0;o<n;++o)i[o]=s.call(t,r+o*a);return e===Rs.ASCII?new TextDecoder("utf-8").decode(i):i}class rst{constructor(e,n,r){this.fileDirectory=e,this.geoKeyDirectory=n,this.nextIFDByteOffset=r}}class lI extends Error{constructor(e){super("No image at index ".concat(e)),this.index=e}}class Ofe{async readRasters(e={}){const{window:n,width:r,height:i}=e;let{resX:s,resY:a,bbox:o}=e;const l=await this.getImage();let u=l;const h=await this.getImageCount(),d=l.getBoundingBox();if(n&&o)throw new Error('Both "bbox" and "window" passed.');if(r||i){if(n){const[m,g]=l.getOrigin(),[y,_]=l.getResolution();o=[m+n[0]*y,g+n[1]*_,m+n[2]*y,g+n[3]*_]}const A=o||d;if(r){if(s)throw new Error("Both width and resX passed");s=(A[2]-A[0])/r}if(i){if(a)throw new Error("Both width and resY passed");a=(A[3]-A[1])/i}}if(s||a){const A=[];for(let m=0;m<h;++m){const g=await this.getImage(m),{SubfileType:y,NewSubfileType:_}=g.fileDirectory;(m===0||y===2||_&1)&&A.push(g)}A.sort((m,g)=>m.getWidth()-g.getWidth());for(let m=0;m<A.length;++m){const g=A[m],y=(d[2]-d[0])/g.getWidth(),_=(d[3]-d[1])/g.getHeight();if(u=g,s&&s>y||a&&a>_)break}}let f=n;if(o){const[A,m]=l.getOrigin(),[g,y]=u.getResolution(l);f=[Math.round((o[0]-A)/g),Math.round((o[1]-m)/y),Math.round((o[2]-A)/g),Math.round((o[3]-m)/y)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return u.readRasters({...e,window:f})}}class AS extends Ofe{constructor(e,n,r,i,s={}){super(),this.source=e,this.littleEndian=n,this.bigTiff=r,this.firstIFDOffset=i,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,n){const r=this.bigTiff?4048:1024;return new Iit((await this.source.fetch([{offset:e,length:typeof n<"u"?n:r}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const n=this.bigTiff?20:12,r=this.bigTiff?8:2;let i=await this.getSlice(e);const s=this.bigTiff?i.readUint64(e):i.readUint16(e),a=s*n+(this.bigTiff?16:6);i.covers(e,a)||(i=await this.getSlice(e,a));const o={};let l=e+(this.bigTiff?8:2);for(let d=0;d<s;l+=n,++d){const f=i.readUint16(l),A=i.readUint16(l+2),m=this.bigTiff?i.readUint64(l+4):i.readUint32(l+4);let g,y;const _=nG(A),x=l+(this.bigTiff?12:8);if(_*m<=(this.bigTiff?8:4))g=Zb(i,A,m,x);else{const S=i.readOffset(x),C=nG(A)*m;if(i.covers(S,C))g=Zb(i,A,m,S);else{const M=await this.getSlice(S,C);g=Zb(M,A,m,S)}}m===1&&lit.indexOf(f)===-1&&!(A===Rs.RATIONAL||A===Rs.SRATIONAL)?y=g[0]:y=g,o[OT[f]]=y}const u=nst(o),h=i.readOffset(e+r+n*s);return new rst(o,u,h)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(n){throw n instanceof lI?new lI(e):n}return this.ifdRequests[e]=(async()=>{const n=await this.ifdRequests[e-1];if(n.nextIFDByteOffset===0)throw new lI(e);return this.parseFileDirectoryAt(n.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const n=await this.requestIFD(e);return new Pfe(n.fileDirectory,n.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,n=!0;for(;n;)try{await this.requestIFD(e),++e}catch(r){if(r instanceof lI)n=!1;else throw r}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const n="GDAL_STRUCTURAL_METADATA_SIZE=",r=n.length+100;let i=await this.getSlice(e,r);if(n===Zb(i,Rs.ASCII,n.length,e)){const a=Zb(i,Rs.ASCII,r,e).split("\n")[0],o=Number(a.split("=")[1].split(" ")[0])+a.length;o>r&&(i=await this.getSlice(e,o));const l=Zb(i,Rs.ASCII,o,e);this.ghostValues={},l.split("\n").filter(u=>u.length>0).map(u=>u.split("=")).forEach(([u,h])=>{this.ghostValues[u]=h})}return this.ghostValues}static async fromSource(e,n,r){const i=(await e.fetch([{offset:0,length:1024}],r))[0],s=new Rit(i),a=s.getUint16(0,0);let o;if(a===18761)o=!0;else if(a===19789)o=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,o);let u;if(l===42)u=!1;else if(l===43){if(u=!0,s.getUint16(4,o)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const h=u?s.getUint64(8,o):s.getUint32(4,o);return new AS(e,o,u,h,n)}close(){return typeof this.source.close=="function"?this.source.close():!1}}class ist extends Ofe{constructor(e,n){super(),this.mainFile=e,this.overviewFiles=n,this.imageFiles=[e].concat(n),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(n=>n.parseFileDirectoryAt(n.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let n=0,r=0;for(let i=0;i<this.imageFiles.length;i++){const s=this.imageFiles[i];for(let a=0;a<this.imageCounts[i];a++){if(e===n){const o=await s.requestIFD(r);return new Pfe(o.fileDirectory,o.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}n++,r++}r=0}throw new RangeError("Invalid image index")}async getImageCount(){if(this.imageCount!==null)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(n=>n.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((n,r)=>n+r,0),this.imageCount}}async function Nfe(t,e={},n){return AS.fromSource(tG(t,e),n)}async function sst(t,e){return AS.fromSource(tst(t),e)}async function ast(t,e=[],n={},r){const i=await AS.fromSource(tG(t,n),r),s=await Promise.all(e.map(a=>AS.fromSource(tG(a,n))));return new ist(i,s)}const ost={class:"scene-container"},lst={__name:"SceneViewer",setup(t){const e=OM(),n=ge(null);ge(!1);const r=ge(null),i=ge(new Map);ge(!1);var s=ge({}),a=ge({}),o=ge({}),l=ge({}),u=ge({}),h=ge({});let d,f;const A=O=>{let F=O;for(;F&&!(F instanceof Ir);)F=F.parent;return F},m=()=>{a.traverse(O=>{O instanceof Ir&&O!==r.value&&(i.value.get(O.uuid)||(O.material=O.material.clone()))})},g=O=>{if(!i.value.has(O.uuid)){const F=O.material.clone();O.material=F}},y=O=>{h={area:Math.round(O.geometry.parameters.width*O.geometry.parameters.depth),height:O.geometry.parameters.height,far:O.geometry.parameters.width*O.geometry.parameters.depth*O.geometry.parameters.height/1e4},e.commit("threejsMainView/updateMainViewBuildingData",h)},_=()=>{if(r.value){const O=i.value.get(r.value.uuid);O&&(r.value.material=O,i.value.delete(r.value.uuid)),r.value=null,s.detach()}},x=O=>{_(),i.value.set(O.uuid,O.material.clone()),O.material=O.material.clone(),O.material.color.set(new Zs("#073e6c")),r.value=O,y(O),s.attach(O)},S=O=>{const F=l.domElement,U=F.getBoundingClientRect();f.x=(O.clientX-U.left)/F.clientWidth*2-1,f.y=-((O.clientY-U.top)/F.clientHeight)*2+1,d.setFromCamera(f,o);const $=d.intersectObjects(a.children,!0);if(m(),$.length>0){const K=A($[0].object);K&&K!==r.value&&g(K)}},C=O=>{const F=l.domElement,U=F.getBoundingClientRect();f.x=(O.clientX-U.left)/F.clientWidth*2-1,f.y=-((O.clientY-U.top)/F.clientHeight)*2+1,d.setFromCamera(f,o);var $=d.intersectObjects(a.children,!0);if($=$.filter(K=>{const V=A(K.object);return V&&(!V.children||V.children.length>0)}),$.length>0){const K=A($[0].object);K&&(r.value===K&&K.children.length>0?_():x(K))}else _()},M=()=>{const O=n.value.clientWidth,F=n.value.clientHeight;o.aspect=O/F,o.updateProjectionMatrix(),l.setSize(O,F)},B=()=>{const O=new j0,F=[],U=40,$=8,K=45;for(let V=0;V<U;V++){let Q=!1,X=0,z;for(;!Q&&X<100;){const ne=Math.random()*Math.PI*2,he=K+Math.random()*30,W=Math.cos(ne)*he,Y=Math.sin(ne)*he;z=[W,Y],Q=!0;for(const oe of F){const fe=z[0]-oe[0],me=z[1]-oe[1];if(Math.sqrt(fe*fe+me*me)<$){Q=!1;break}}X++}Q&&F.push(z)}return F.forEach(V=>{const Q=.8+Math.random()*.4,X=new $c(.5*Q,.5*Q,4*Q,8),z=new F_({color:new Zs(9127187).multiplyScalar(.8+Math.random()*.4)}),ne=new Ir(X,z),he=new M7(3*Q,6*Q,8),W=new F_({color:new Zs(2263842).multiplyScalar(.8+Math.random()*.4)}),Y=new Ir(he,W);Y.position.y=5*Q;const oe=new j0;oe.add(ne),oe.add(Y),oe.position.set(V[0],2,V[1]),oe.rotation.y=Math.random()*Math.PI*2,oe.castShadow=!0,O.add(oe)}),O},E=()=>{const O=new j0,F=Qe=>{const{x:ue,z:ye,podiumSize:$e,towerSize:Ve,podiumHeight:Se,towerHeight:at,rotation:ft=0}=Qe,je=new j0,gt=new jo($e.width,Se,$e.depth),vt=new F_({color:11917014,transparent:!0,opacity:.9}),Te=new Ir(gt,vt);Te.position.y=Se/2;const we=Math.floor(Se/4);for(let Qt=1;Qt<we;Qt++){const Dt=new bO(new qZ(new jo($e.width+.1,.1,$e.depth+.1)),new L1({color:0}));Dt.position.y=Qt*4-Se/2,Te.add(Dt)}const Ne=new jo(Ve.width,at,Ve.depth),Ze=new F_({color:7512271,transparent:!0,opacity:.8}),Tt=new Ir(Ne,Ze);Tt.position.y=Se+at/2;const Zt=Math.floor(at/4);for(let Qt=1;Qt<Zt;Qt++){const Dt=new bO(new qZ(new jo(Ve.width+.1,.1,Ve.depth+.1)),new L1({color:0}));Dt.position.y=Qt*4-at/2,Tt.add(Dt)}const ln=(Qt,Dt,st)=>{const ke=new W0(Qt,Dt),ct=new F_({color:8965375,transparent:!0,opacity:.3,side:dp});return new Ir(ke,ct)},Ye=ln(Ve.width,at);Ye.position.set(0,Se+at/2,Ve.depth/2+.1);const yt=ln(Ve.width,at);return yt.position.set(0,Se+at/2,-Ve.depth/2-.1),je.add(Te),je.add(Tt),je.add(Ye),je.add(yt),je.position.set(ue,0,ye),je.rotation.y=ft,je};[{x:-30,z:-30,podiumSize:{width:40,depth:40},towerSize:{width:20,depth:20},podiumHeight:20,towerHeight:80,rotation:0},{x:30,z:-30,podiumSize:{width:35,depth:35},towerSize:{width:15,depth:15},podiumHeight:15,towerHeight:100,rotation:0},{x:-30,z:30,podiumSize:{width:45,depth:45},towerSize:{width:25,depth:25},podiumHeight:25,towerHeight:60,rotation:0},{x:30,z:30,podiumSize:{width:30,depth:40},towerSize:{width:30,depth:30},podiumHeight:30,towerHeight:50,rotation:0}].forEach(Qe=>{const ue=F(Qe);O.add(ue)});const $=new Float32Array([-20,-20,20,0,-20,20,0,35,20,0,35,20,-20,35,20,-20,-20,20,0,-20,20,35,-20,20,35,0,20,35,0,20,0,0,20,0,-20,20,-20,-20,0,0,-20,0,0,35,0,0,35,0,-20,35,0,-20,-20,0,0,-20,0,35,-20,0,35,0,0,35,0,0,0,0,0,0,-20,0,-20,-20,0,-20,35,0,-20,35,20,-20,35,20,-20,-20,20,-20,-20,0,35,-20,0,35,0,0,35,0,20,35,0,20,35,-20,20,35,-20,0,-20,35,0,0,35,0,0,35,20,0,35,20,-20,35,20,-20,35,0,0,0,0,35,0,0,35,0,20,35,0,20,0,0,20,0,0,0,-20,-20,0,35,-20,0,35,-20,20,35,-20,20,-20,-20,20,-20,-20,0,0,-20,0,0,35,0,0,35,20,0,35,20,0,-20,20,0,-20,0,0,0,0,35,0,0,35,0,20,35,0,20,0,0,20,0,0,0]),K=new cc;K.setAttribute("position",new mp($,3)),K.computeVertexNormals();const V=new F_({transparent:!0,opacity:.8,side:dp}),Q=new Ir(K,V);Q.position.set(50,20,70);const X=3,z=Math.floor(50/X),ne=[new Gt(-20,0,0),new Gt(0,0,0),new Gt(0,0,20),new Gt(35,0,20),new Gt(35,0,0),new Gt(0,0,0),new Gt(0,0,20),new Gt(-20,0,20),new Gt(-20,0,0)],he=[new Gt(0,0,0),new Gt(0,0,20),new Gt(-20,0,20),new Gt(-20,0,0)];var W=new cc;const Y=ne.map(Qe=>Qe.clone());W.setFromPoints(Y);const oe=new cc,fe=he.map(Qe=>Qe.clone());oe.setFromPoints(fe);for(let Qe=1;Qe<z;Qe++){Qe>5&&(W=oe);const ue=new Ng(W,new L1({color:0}));ue.position.y=Qe*X-20,Q.add(ue)}O.add(Q);const me=new W0(120,15),ce=new XZ({color:3355443,roughness:.9}),be=new Ir(me,ce);be.rotation.x=-Math.PI/2,be.position.y=.1;const xe=new Ir(me,ce);xe.rotation.x=-Math.PI/2,xe.rotation.z=Math.PI/2,xe.position.y=.1,O.add(be),O.add(xe);const Ie=B();O.add(Ie),a.add(O)};async function L(){const F=await(await Nfe("/src/assets/B50K_R200index-geo.tif")).getImage(),U=await F.readRasters(),$=50,K=50,V=U[0];console.log(F);const Q=new W0($,K,$-1,K-1),X=Q.attributes.position.array;for(let he=0,W=0;he<X.length;he+=3,W++)X[he+2]=V[W]/100;Q.attributes.position.needsUpdate=!0,Q.computeVertexNormals();const z=new F_({color:65280,wireframe:!0}),ne=new Ir(Q,z);a.add(ne),o.position.set($/2,K/2,Math.max($,K)),o.lookAt(ne.position)}const I=()=>{requestAnimationFrame(I),u.update(),l.render(a,o)},k=()=>{const O=n.value;a=new grt,a.background=new Zs(15790837);const F=O.clientWidth,U=O.clientHeight;a.add(new JZ(15790320,3));const $=new vrt(16777215,4.5);$.position.set(0,1500,200),$.angle=Math.PI*.2,$.decay=0,$.castShadow=!0,$.shadow.camera.near=200,$.shadow.camera.far=2e3,$.shadow.bias=-222e-6,$.shadow.mapSize.width=1024,$.shadow.mapSize.height=1024,o=new df(80,F/U,1,1e4),l=new Afe({antialias:!0}),l.setSize(F,U),l.shadowMap.enabled=!0,O.appendChild(l.domElement),o.position.set(100,60,200),o.lookAt(0,0,0),u=new wrt(o,l.domElement),u.enableDamping=!0,u.dampingFactor=.05,u.screenSpacePanning=!0,u.minDistance=10,u.maxDistance=300,s=new brt(o,l.domElement),s.showY=!1,s.size=.5,a.add(s),s.addEventListener("dragging-changed",Y=>{u.enabled=!Y.value}),s.addEventListener("change",()=>{l.render(a,o)});const K=new JZ(16777215,.6);a.add(K);const V=new _rt(16777215,.8);V.position.set(50,50,50),V.castShadow=!0,V.shadow.mapSize.width=2048,V.shadow.mapSize.height=2048,a.add(V);const Q=new W0(200,200),X=new XZ({color:10066329,roughness:.8}),z=new Ir(Q,X);z.rotation.x=-Math.PI/2,z.receiveShadow=!0,a.add(z),d=new gfe,f=new ms;const ne=l.domElement;ne.addEventListener("click",C),ne.addEventListener("mousemove",S);const he=new mfe(200,20);a.add(he);const W=new vfe(100);a.add(W),window.addEventListener("resize",M),I()};return Hs(()=>{s&&s.dispose()}),rr(()=>{k(),E(),L(),e.commit("threejsMainView/updateMainViewData",{scene:a,camera:o,renderer:l,controls:u,buildingData:h})}),Hs(()=>{const O=l.domElement;O.removeEventListener("click",C),O.removeEventListener("mousemove",S),window.removeEventListener("resize",M)}),(O,F)=>(ie(),Ee("div",ost,[Be("div",{ref_key:"canvasContainer",ref:n,class:"full-screen"},null,512)]))}},cst=Ff(lst,[["__scopeId","data-v-a881894f"]]),ust={class:"panel-header"},hst={class:"control-section"},dst={class:"control-section"},fst={class:"building-info"},Ast={class:"building-info"},pst={__name:"SceneControls",setup(t){const e=OM();var n=ge({scene:Object,camera:Object,controls:Object,renderer:Object,buildingData:Object});const r=ge(!1),i=ge("perspective"),s=ge(!0),a=ge(!0),o=ge(!1),l=()=>{r.value=!r.value},u=async()=>{await e.dispatch("threejsMainView/exportToIFC")},h=()=>{n.camera.position.set(5,5,5),n.camera.lookAt(0,0,0),n.controls.reset()},d=y=>{switch(y){case"top":n.camera.position.set(0,500,0),n.camera.lookAt(0,0,0);break;case"front":n.camera.position.set(0,0,500),n.camera.lookAt(0,0,0);break;case"perspective":n.camera.position.set(500,500,500),n.camera.lookAt(0,0,0);break}},f=()=>{o.value=!o.value,n.scene.traverse(y=>{y instanceof Ir&&(y.material.wireframe=o.value)})},A=()=>{n.scene.traverse(y=>{y instanceof mfe&&(y.visible=s.value)})},m=()=>{n.scene.traverse(y=>{y instanceof vfe&&(y.visible=a.value)})},g=()=>{const y=n.renderer.domElement.toDataURL("image/png"),_=document.createElement("a");_.download="building-screenshot.png",_.href=y,_.click()};return rr(()=>{n=OM().state.threejsMainView.mainViewData}),(y,_)=>{const x=Nn("el-icon"),S=Nn("el-button"),C=Nn("el-button-group"),M=Nn("el-radio-button"),B=Nn("el-radio-group"),E=Nn("el-switch"),L=Nn("el-descriptions-item"),I=Nn("el-descriptions"),k=Nn("el-card");return ie(),Ee("div",{class:de(["control-panel",{collapsed:r.value}])},[Be("div",{class:"panel-toggle",onClick:l},[Ce(x,{size:20},{default:De(()=>[r.value?(ie(),St(x,{key:0},{default:De(()=>[Ce(b(Ev))]),_:1})):(ie(),St(x,{key:1},{default:De(()=>[Ce(b(oh))]),_:1}))]),_:1})]),Br(Ce(k,null,{header:De(()=>[Be("div",ust,[_[4]||(_[4]=Be("span",null,"Building Control Panel",-1)),Ce(C,null,{default:De(()=>[Ce(S,{size:"small",onClick:h},{default:De(()=>[Ce(x,null,{default:De(()=>[Ce(b(pEe))]),_:1})]),_:1}),Ce(S,{size:"small",onClick:f},{default:De(()=>[Ce(x,null,{default:De(()=>[Ce(b(noe))]),_:1})]),_:1}),Ce(S,{size:"small",onClick:g},{default:De(()=>[Ce(x,null,{default:De(()=>[Ce(b(yxe))]),_:1})]),_:1})]),_:1})])]),default:De(()=>[Be("div",hst,[_[8]||(_[8]=Be("h4",null,"View Control",-1)),Ce(B,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=O=>i.value=O),onChange:_[1]||(_[1]=O=>d(i.value))},{default:De(()=>[Ce(M,{label:"perspective"},{default:De(()=>_[5]||(_[5]=[Mr("Perspective")])),_:1}),Ce(M,{label:"top"},{default:De(()=>_[6]||(_[6]=[Mr("Top View")])),_:1}),Ce(M,{label:"front"},{default:De(()=>_[7]||(_[7]=[Mr("Front View")])),_:1})]),_:1},8,["modelValue"])]),Be("div",dst,[_[9]||(_[9]=Be("h4",null,"Display Control",-1)),Ce(E,{modelValue:s.value,"onUpdate:modelValue":_[2]||(_[2]=O=>s.value=O),onChange:A,"active-text":"Grid"},null,8,["modelValue"]),Ce(E,{modelValue:a.value,"onUpdate:modelValue":_[3]||(_[3]=O=>a.value=O),onChange:m,"active-text":"Axes"},null,8,["modelValue"])]),Be("div",fst,[Ce(I,{column:1,border:""},{default:De(()=>[Ce(L,{label:"Building Area"},{default:De(()=>[Mr(cn(b(e).state.threejsMainView.mainViewData.buildingData.area||0)+" m ",1)]),_:1}),Ce(L,{label:"Building Height"},{default:De(()=>[Mr(cn(b(e).state.threejsMainView.mainViewData.buildingData.height||0)+" m ",1)]),_:1}),Ce(L,{label:"Floor Area Ratio"},{default:De(()=>[Mr(cn(b(e).state.threejsMainView.mainViewData.buildingData.far||0),1)]),_:1})]),_:1})]),Be("div",Ast,[Ce(S,{type:"primary",onClick:u},{default:De(()=>[Ce(x,{style:{"margin-right":"5px"}},{default:De(()=>[Ce(b(Gxe))]),_:1}),_[10]||(_[10]=Mr(" Export Result IFC "))]),_:1})])]),_:1},512),[[Qi,!r.value]])],2)}}},gst=Ff(pst,[["__scopeId","data-v-4e4ddbc4"]]),mst={class:"scene-viewer-container"},vst={__name:"index",setup(t){const e=ge(null);rr(()=>{});const n=async()=>{var r;await((r=e.value)==null?void 0:r.exportToIFC())};return(r,i)=>(ie(),Ee("div",mst,[Ce(cst,{ref_key:"sceneViewer",ref:e},null,512),Ce(gst,{onExportIfc:n})]))}},yst=Ff(vst,[["__scopeId","data-v-74309c40"]]);function _st(){const t=ge(null),e=ge(null),n=ge(null),r="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/basemap/WGS84/{z}/{x}/{y}.png",i="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/label/hk/en/WGS84/{z}/{x}/{y}.png",s="https://mapapi.hkmapservice.gov.hk/ogc/wfs/indoor/venue_polygon",a='<div style="display:flex"><a href="https://api.portal.hkmapservice.gov.hk/disclaimer" target="_blank"> Map information from Lands Department</a>&nbsp;<img style="height:20px;" src="https://api.hkmapservice.gov.hk/mapapi/landsdlogo.jpg"/></div>',o=()=>{const u=new Cesium.UrlTemplateImageryProvider({url:r,credit:a}),h=new Cesium.ImageryLayer(u);t.value=new Cesium.Viewer("cesiumContainer",{baseLayer:h,shadows:!1,baseLayerPicker:!1,sceneModePicker:!1,fullscreenButton:!1,geocoder:!1,timeline:!1,animation:!1,scene3DOnly:!0}),document.querySelector(".cesium-widget-credits").innerHTML=u.credit.html,t.value.scene.imageryLayers.add(new Cesium.ImageryLayer(new Cesium.UrlTemplateImageryProvider({url:i}))),t.value.camera.setView({destination:Cesium.Cartesian3.fromDegrees(114.20965,22.31,1e3),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-45)}}),Cesium.Camera.DEFAULT_VIEW_RECTANGLE=Cesium.Rectangle.fromDegrees(114.20294,22.30636,114.22834,22.32574),Cesium.Camera.DEFAULT_VIEW_FACTOR=0},l=async()=>{const u=encodeURI("".concat(s,"?service=WFS&version=2.0.0&request=GetFeature&outputFormat=application/json&srsname=EPSG:4326&count=5000")),d=await(await fetch(u)).json();e.value=new Cesium.GeoJsonDataSource("venue_polygon"),await e.value.load(d,{stroke:new Cesium.Color(.82,.75,.9,.5),fill:new Cesium.Color(.82,.75,.99,.25),outline:!1}),Object.values(e.value.entities.values).map(f=>{f.polygon.arcType=Cesium.ArcType.GEODESIC,f.polygon.extrudedHeight=f.properties.venue_display_height}),t.value.dataSources.add(e.value)};return rr(async()=>{o(),await l()}),ca(()=>{t.value&&t.value.destroy()}),{viewer:t,venueDataSource:e,venueIndoor:n}}const wst={name:"CesiumMap",setup(){const{viewer:t,venueDataSource:e,venueIndoor:n}=_st();return{viewer:t,venueDataSource:e,venueIndoor:n}}};function bst(t,e,n,r,i,s){return ie(),Ee(Wn,null,[e[0]||(e[0]=Be("div",{id:"cesiumContainer",class:"fullSize"},null,-1)),e[1]||(e[1]=Be("div",{id:"toolbar"},[Be("div",{id:"venueOption"})],-1))],64)}const xst=Ff(wst,[["render",bst]]),Est={class:"hk-viewer-container"},Sst={__name:"index",setup(t){return(e,n)=>(ie(),Ee("div",Est,[Ce(xst)]))}},Cst=Ff(Sst,[["__scopeId","data-v-f3530e1e"]]),Tst={components:{UserOperator:Wde,SceneViewer:yst,HongKongViewer:Cst},setup(){const t=ge({});return{currentBuildingData:t,handlePlanSelected:n=>{console.log(n),t.value={...n,width:10,height:30,depth:10}}}}},Mst={class:"main-container"};function Lst(t,e,n,r,i,s){const a=Nn("UserOperator"),o=Nn("el-aside"),l=Nn("SceneViewer"),u=Nn("el-main"),h=Nn("HongKongViewer"),d=Nn("el-container");return ie(),Ee("div",Mst,[Ce(d,null,{default:De(()=>[Ce(o,{width:"400px",class:"operator-container"},{default:De(()=>[Ce(a)]),_:1}),this.$store.state.cesium.isShow?(ie(),St(u,{key:1,class:"viewer-container",style:{height:"100%",width:"100%"}},{default:De(()=>[Ce(h)]),_:1})):(ie(),St(u,{key:0,class:"viewer-container"},{default:De(()=>[Ce(l,{"building-data":r.currentBuildingData},null,8,["building-data"])]),_:1}))]),_:1})])}const Bst=Ff(Tst,[["render",Lst]]),Rst=[{path:"/mainview",name:"MainView",component:Bst},{path:"/userInput",component:Wde}],Ist=ZSe({history:TSe(),routes:Rst}),Pst={namespaced:!0,state:()=>({mainViewData:{scene:{},camera:{},renderer:{},controls:{},buildingData:{}}}),getters:{getMainViewData(t){return t.mainViewData}},mutations:{updateMainViewData(t,e){t.mainViewData=e},updateMainViewBuildingData(t,e){t.mainViewData.buildingData=e},exportToIFC(t,e){console.log("export")}},actions:{exportToIFC({commit:t},e){console.log("export1")}}},Fst={namespaced:!0,state:()=>({isShow:!0}),getters:{},mutations:{updateShow(t,e){t.isShow=e}},actions:{}},Ost={},Nst={},Dst={},kst={},Dfe=qXe({state:Ost,getters:Nst,mutations:Dst,actions:kst,modules:{threejsMainView:Pst,cesium:Fst}}),tw={PROPERTYCHANGE:"propertychange"},Yr={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class DL{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Ust(t,e,n){let r,i;n=n||Jg;let s=0,a=t.length,o=!1;for(;s<a;)r=s+(a-s>>1),i=+n(t[r],e),i<0?s=r+1:(a=r,o=!i);return o?s:~s}function Jg(t,e){return t>e?1:t<e?-1:0}function kfe(t,e){return t<e?1:t>e?-1:0}function U5(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const s=t[i];if(s===e)return i;if(s<e)return n(e,t[i-1],s)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function Hst(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function qs(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function vm(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Gst(t,e,n){const r=e||Jg;return t.every(function(i,s){if(s===0)return!0;const a=r(t[s-1],i);return!(a>0||a===0)})}function Mv(){return!0}function vw(){return!1}function pS(){}function Ufe(t){let e,n,r;return function(){const i=Array.prototype.slice.call(arguments);return(!n||this!==r||!vm(i,n))&&(r=this,n=i,e=t.apply(this,arguments)),e}}function V7(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function yw(t){for(const e in t)delete t[e]}function Lv(t){let e;for(e in t)return!1;return!e}class Zh{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function Vst(t){t.stopPropagation()}class eC extends DL{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Zh(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});r in a||(a[r]=0,o[r]=0),++a[r];let l;for(let u=0,h=i.length;u<h;++u)if("handleEvent"in i[u]?l=i[u].handleEvent(s):l=i[u].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[r]===0){let u=o[r];for(delete o[r];u--;)this.removeEventListener(r,pS);delete a[r]}return l}disposeInternal(){this.listeners_&&yw(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=pS,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}function Ti(t,e,n,r,i){if(i){const a=n;n=function(o){return t.removeEventListener(e,n),a.call(r!=null?r:this,o)}}else r&&r!==t&&(n=n.bind(r));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function HM(t,e,n,r){return Ti(t,e,n,r,!0)}function ea(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),yw(t))}class kL extends eC{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Yr.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ti(this,e[s],n);return i}return Ti(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=HM(this,e[s],n)}else r=HM(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)Tf(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}kL.prototype.on;kL.prototype.once;kL.prototype.un;function Tf(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)ea(t[e]);else ea(t)}function Bi(){throw new Error("Unimplemented abstract method.")}let zst=0;function Sr(t){return t.ol_uid||(t.ol_uid=String(++zst))}const $st="10.4.0";class wJ extends Zh{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Vd extends kL{constructor(e){super(),this.on,this.once,this.un,Sr(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r="change:".concat(e),this.hasListener(r)&&this.dispatchEvent(new wJ(r,e,n)),r=tw.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new wJ(r,e,n))}addChangeListener(e,n){this.addEventListener("change:".concat(e),n)}removeChangeListener(e,n){this.removeEventListener("change:".concat(e),n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Lv(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}function As(t,e){if(!t)throw new Error(e)}class vs extends Vd{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new vs(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(ea(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ti(e,Yr.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Qst(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Qst(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(As(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const Qc={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function rl(t){const e=ol();for(let n=0,r=t.length;n<r;++n)R1(e,t[n]);return e}function Wst(t,e,n){const r=Math.min.apply(null,t),i=Math.min.apply(null,e),s=Math.max.apply(null,t),a=Math.max.apply(null,e);return Bf(r,i,s,a,n)}function uc(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function z7(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ky(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function Sp(t,e){return H5(t,e[0],e[1])}function _f(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function H5(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function xO(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],o=e[1];let l=Qc.UNKNOWN;return a<n?l=l|Qc.LEFT:a>i&&(l=l|Qc.RIGHT),o<r?l=l|Qc.BELOW:o>s&&(l=l|Qc.ABOVE),l===Qc.UNKNOWN&&(l=Qc.INTERSECTING),l}function ol(){return[1/0,1/0,-1/0,-1/0]}function Bf(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function $v(t){return Bf(1/0,1/0,-1/0,-1/0,t)}function B1(t,e){const n=t[0],r=t[1];return Bf(n,r,n,r,e)}function jst(t,e){const n=$v(e);return $7(n,t)}function G5(t,e,n,r,i){const s=$v(i);return Q7(s,t,e,n,r)}function Kst(t,e){const n=$v(e);return Hfe(n,t)}function Cp(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function qst(t,e,n){return Math.abs(t[0]-e[0])<n&&Math.abs(t[2]-e[2])<n&&Math.abs(t[1]-e[1])<n&&Math.abs(t[3]-e[3])<n}function ly(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function R1(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function $7(t,e){for(let n=0,r=e.length;n<r;++n)R1(t,e[n]);return t}function Q7(t,e,n,r,i){for(;n<r;n+=i)Gfe(t,e[n],e[n+1]);return t}function Hfe(t,e){for(let n=0,r=e.length;n<r;++n)$7(t,e[n]);return t}function Gfe(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function V5(t,e){let n;return n=e(UL(t)),n||(n=e(tC(t)),n)||(n=e(HL(t)),n)||(n=e(Rf(t)),n)?n:!1}function nw(t){let e=0;return ym(t)||(e=hs(t)*oo(t)),e}function UL(t){return[t[0],t[1]]}function tC(t){return[t[2],t[1]]}function Jc(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Vfe(t,e){let n;if(e==="bottom-left")n=UL(t);else if(e==="bottom-right")n=tC(t);else if(e==="top-left")n=Rf(t);else if(e==="top-right")n=HL(t);else throw new Error("Invalid corner");return n}function Xst(t,e){const n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),i=Math.max(t[2],e[2]),s=Math.max(t[3],e[3]);return(i-n)*(s-r)}function gS(t,e,n,r,i){const[s,a,o,l,u,h,d,f]=z5(t,e,n,r);return Bf(Math.min(s,o,u,d),Math.min(a,l,h,f),Math.max(s,o,u,d),Math.max(a,l,h,f),i)}function z5(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),o=Math.sin(n),l=i*a,u=i*o,h=s*a,d=s*o,f=t[0],A=t[1];return[f-l+d,A-u-h,f-l-d,A-u+h,f+l-d,A+u+h,f+l+d,A+u-h,f-l+d,A-u-h]}function oo(t){return t[3]-t[1]}function Yst(t,e){const n=kl(t,e);return nw(n)}function kl(t,e,n){const r=n||ol();return wo(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):$v(r),r}function Zst(t){return hs(t)+oo(t)}function Jst(t){return[t[2]-t[0],t[3]-t[1]]}function Rf(t){return[t[0],t[3]]}function HL(t){return[t[2],t[3]]}function hs(t){return t[2]-t[0]}function wo(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function ym(t){return t[2]<t[0]||t[3]<t[1]}function zfe(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W7(t,e){const n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function $fe(t,e,n){let r=!1;const i=xO(t,e),s=xO(t,n);if(i===Qc.INTERSECTING||s===Qc.INTERSECTING)r=!0;else{const a=t[0],o=t[1],l=t[2],u=t[3],h=e[0],d=e[1],f=n[0],A=n[1],m=(A-d)/(f-h);let g,y;s&Qc.ABOVE&&!(i&Qc.ABOVE)&&(g=f-(A-u)/m,r=g>=a&&g<=l),!r&&s&Qc.RIGHT&&!(i&Qc.RIGHT)&&(y=A-(f-l)*m,r=y>=o&&y<=u),!r&&s&Qc.BELOW&&!(i&Qc.BELOW)&&(g=f-(A-o)/m,r=g>=a&&g<=l),!r&&s&Qc.LEFT&&!(i&Qc.LEFT)&&(y=A-(f-a)*m,r=y>=o&&y<=u)}return r}function GL(t,e,n,r){if(ym(t))return $v(n);let i=[];if(r>1){const o=t[2]-t[0],l=t[3]-t[1];for(let u=0;u<r;++u)i.push(t[0]+o*u/r,t[1],t[2],t[1]+l*u/r,t[2]-o*u/r,t[3],t[0],t[3]-l*u/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);const s=[],a=[];for(let o=0,l=i.length;o<l;o+=2)s.push(i[o]),a.push(i[o+1]);return Wst(s,a,n)}function j7(t,e){const n=e.getExtent(),r=Jc(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=hs(n),a=Math.floor((r[0]-n[0])/i)*i;t[0]-=a,t[2]-=a}return t}function $5(t,e,n){if(e.canWrapX()){const r=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[r[0],t[1],r[2],t[3]]];j7(t,e);const i=hs(r);if(hs(t)>i&&!n)return[[r[0],t[1],r[2],t[3]]];if(t[0]<r[0])return[[t[0]+i,t[1],r[2],t[3]],[r[0],t[1],t[2],t[3]]];if(t[2]>r[2])return[[t[0],t[1],r[2],t[3]],[r[0],t[1],t[2]-i,t[3]]]}return[t]}const eat=Object.freeze(Object.defineProperty({__proto__:null,applyTransform:GL,approximatelyEquals:qst,boundingExtent:rl,buffer:uc,clone:z7,closestSquaredDistanceXY:ky,containsCoordinate:Sp,containsExtent:_f,containsXY:H5,coordinateRelationship:xO,createEmpty:ol,createOrUpdate:Bf,createOrUpdateEmpty:$v,createOrUpdateFromCoordinate:B1,createOrUpdateFromCoordinates:jst,createOrUpdateFromFlatCoordinates:G5,createOrUpdateFromRings:Kst,equals:Cp,extend:ly,extendCoordinate:R1,extendCoordinates:$7,extendFlatCoordinates:Q7,extendRings:Hfe,extendXY:Gfe,forEachCorner:V5,getArea:nw,getBottomLeft:UL,getBottomRight:tC,getCenter:Jc,getCorner:Vfe,getEnlargedArea:Xst,getForViewAndSize:gS,getHeight:oo,getIntersection:kl,getIntersectionArea:Yst,getMargin:Zst,getRotatedViewport:z5,getSize:Jst,getTopLeft:Rf,getTopRight:HL,getWidth:hs,intersects:wo,intersectsSegment:$fe,isEmpty:ym,returnOrUpdate:zfe,scaleFromCenter:W7,wrapAndSliceX:$5,wrapX:j7},Symbol.toStringTag,{value:"Module"}));function Qfe(...t){console.warn(...t)}function bJ(...t){console.error(...t)}function eo(t,e,n){return Math.min(Math.max(t,e),n)}function tat(t,e,n,r,i,s){const a=i-n,o=s-r;if(a!==0||o!==0){const l=((t-n)*a+(e-r)*o)/(a*a+o*o);l>1?(n=i,r=s):l>0&&(n+=a*l,r+=o*l)}return pv(t,e,n,r)}function pv(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function nat(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let o=r+1;o<e;o++){const l=Math.abs(t[o][r]);l>s&&(s=l,i=o)}if(s===0)return null;const a=t[i];t[i]=t[r],t[r]=a;for(let o=r+1;o<e;o++){const l=-t[o][r]/t[r][r];for(let u=r;u<e+1;u++)r==u?t[o][u]=0:t[o][u]+=l*t[r][u]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function EO(t){return t*180/Math.PI}function mA(t){return t*Math.PI/180}function em(t,e){const n=t%e;return n*e<0?n+e:n}function ff(t,e,n){return t+n*(e-t)}function nC(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function SO(t,e){return Math.round(nC(t,e))}function jx(t,e){return Math.floor(nC(t,e))}function K0(t,e){return Math.ceil(nC(t,e))}function rG(t,e,n){if(t>=e&&t<n)return t;const r=n-e;return((t-e)%r+r)%r+e}function b2(t,e,n){const r=""+t;let i=r.indexOf(".");return i=i===-1?r.length:i,i>e?r:new Array(1+e-i).join("0")+r}function Q5(t,e){const n=(""+t).split("."),r=(""+e).split(".");for(let i=0;i<Math.max(n.length,r.length);i++){const s=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(s>a)return 1;if(a>s)return-1}return 0}function Wfe(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function rat(t,e){const n=e.getRadius(),r=e.getCenter(),i=r[0],s=r[1],a=t[0],o=t[1];let l=a-i;const u=o-s;l===0&&u===0&&(l=1);const h=Math.sqrt(l*l+u*u),d=i+n*l/h,f=s+n*u/h;return[d,f]}function K7(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],a=i[0],o=i[1],l=s[0],u=s[1],h=l-a,d=u-o,f=h===0&&d===0?0:(h*(n-a)+d*(r-o))/(h*h+d*d||0);let A,m;return f<=0?(A=a,m=o):f>=1?(A=l,m=u):(A=a+f*h,m=o+f*d),[A,m]}function Ih(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function q7(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function jfe(t,e){return t[0]*=e,t[1]*=e,t}function gv(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function CO(t,e){return Math.sqrt(gv(t,e))}function iat(t,e){return gv(t,K7(t,e))}function W5(t,e){if(e.canWrapX()){const n=hs(e.getExtent()),r=Kfe(t,e,n);r&&(t[0]-=r*n)}return t}function Kfe(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||hs(r),i=Math.floor((t[0]-r[0])/n)),i}const sat={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function xJ(t){return sat[t]}const mS={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let hm=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||mS[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const VL=6378137,Kx=Math.PI*VL,aat=[-Kx,-Kx,Kx,Kx],oat=[-180,-85,180,85],cI=VL*Math.log(Math.tan(Math.PI/2));class Jb extends hm{constructor(e){super({code:e,units:"m",extent:aat,global:!0,worldExtent:oat,getPointResolution:function(n,r){return n/Math.cosh(r[1]/VL)}})}}const EJ=[new Jb("EPSG:3857"),new Jb("EPSG:102100"),new Jb("EPSG:102113"),new Jb("EPSG:900913"),new Jb("http://www.opengis.net/def/crs/EPSG/0/3857"),new Jb("http://www.opengis.net/gml/srs/epsg.xml#3857")];function lat(t,e,n,r){const i=t.length;n=n>1?n:2,r=r!=null?r:n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let s=0;s<i;s+=r){e[s]=Kx*t[s]/180;let a=VL*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>cI?a=cI:a<-cI&&(a=-cI),e[s+1]=a}return e}function cat(t,e,n,r){const i=t.length;n=n>1?n:2,r=r!=null?r:n,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let s=0;s<i;s+=r)e[s]=180*t[s]/Kx,e[s+1]=360*Math.atan(Math.exp(t[s+1]/VL))/Math.PI-90;return e}const uat=6378137,SJ=[-180,-90,180,90],hat=Math.PI*uat/180;class N_ extends hm{constructor(e,n){super({code:e,units:"degrees",extent:SJ,axisOrientation:n,global:!0,metersPerUnit:hat,worldExtent:SJ})}}const CJ=[new N_("CRS:84"),new N_("EPSG:4326","neu"),new N_("urn:ogc:def:crs:OGC:1.3:CRS84"),new N_("urn:ogc:def:crs:OGC:2:84"),new N_("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new N_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new N_("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let iG={};function dF(t){return iG[t]||iG[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function dat(t,e){iG[t]=e}let SE={};function rw(t,e,n){const r=t.getCode(),i=e.getCode();r in SE||(SE[r]={}),SE[r][i]=n}function fF(t,e){return t in SE&&e in SE[t]?SE[t][e]:null}const TO=.9996,vA=.00669438,j5=vA*vA,K5=j5*vA,f1=vA/(1-vA),TJ=Math.sqrt(1-vA),vS=(1-TJ)/(1+TJ),qfe=vS*vS,X7=qfe*vS,Y7=X7*vS,Xfe=Y7*vS,Yfe=1-vA/4-3*j5/64-5*K5/256,fat=3*vA/8+3*j5/32+45*K5/1024,Aat=15*j5/256+45*K5/1024,pat=35*K5/3072,gat=3/2*vS-27/32*X7+269/512*Xfe,mat=21/16*qfe-55/32*Y7,vat=151/96*X7-417/128*Xfe,yat=1097/512*Y7,MO=6378137;function _at(t,e,n){const r=t-5e5,a=(n.north?e:e-1e7)/TO/(MO*Yfe),o=a+gat*Math.sin(2*a)+mat*Math.sin(4*a)+vat*Math.sin(6*a)+yat*Math.sin(8*a),l=Math.sin(o),u=l*l,h=Math.cos(o),d=l/h,f=d*d,A=f*f,m=1-vA*u,g=Math.sqrt(1-vA*u),y=MO/g,_=(1-vA)/m,x=f1*h**2,S=x*x,C=r/(y*TO),M=C*C,B=M*C,E=B*C,L=E*C,I=L*C,k=o-d/_*(M/2-E/24*(5+3*f+10*x-4*S-9*f1))+I/720*(61+90*f+298*x+45*A-252*f1-3*S);let O=(C-B/6*(1+2*f+x)+L/120*(5-2*x+28*f-3*S+8*f1+24*A))/h;return O=rG(O+mA(Zfe(n.number)),-Math.PI,Math.PI),[EO(O),EO(k)]}const MJ=-80,LJ=84,wat=-180,bat=180;function xat(t,e,n){t=rG(t,wat,bat),e<MJ?e=MJ:e>LJ&&(e=LJ);const r=mA(e),i=Math.sin(r),s=Math.cos(r),a=i/s,o=a*a,l=o*o,u=mA(t),h=Zfe(n.number),d=mA(h),f=MO/Math.sqrt(1-vA*i**2),A=f1*s**2,m=s*rG(u-d,-Math.PI,Math.PI),g=m*m,y=g*m,_=y*m,x=_*m,S=x*m,C=MO*(Yfe*r-fat*Math.sin(2*r)+Aat*Math.sin(4*r)-pat*Math.sin(6*r)),M=TO*f*(m+y/6*(1-o+A)+x/120*(5-18*o+l+72*A-58*f1))+5e5;let B=TO*(C+f*a*(g/2+_/24*(5-o+9*A+4*A**2)+S/720*(61-58*o+l+600*A-330*f1)));return n.north||(B+=1e7),[M,B]}function Zfe(t){return(t-1)*6-180+3}const Eat=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Jfe(t){let e=0;for(const i of Eat){const s=t.match(i);if(s){e=parseInt(s[1]);break}}if(!e)return null;let n=0,r=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(r=!0,n=e-32600),n?{number:n,north:r}:null}function BJ(t,e){return function(n,r,i,s){const a=n.length;i=i>1?i:2,s=s!=null?s:i,r||(i>2?r=n.slice():r=new Array(a));for(let o=0;o<a;o+=s){const l=n[o],u=n[o+1],h=t(l,u,e);r[o]=h[0],r[o+1]=h[1]}return r}}function Sat(t){return Jfe(t)?new hm({code:t,units:"m"}):null}function Cat(t){const e=Jfe(t.getCode());return e?{forward:BJ(xat,e),inverse:BJ(_at,e)}:null}const eAe=63710088e-1;function GM(t,e,n){n=n||eAe;const r=mA(t[1]),i=mA(e[1]),s=(i-r)/2,a=mA(e[0]-t[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function Tat(t,e,n,r){r=r||eAe;const i=mA(t[1]),s=mA(t[0]),a=e/r,o=Math.asin(Math.sin(i)*Math.cos(a)+Math.cos(i)*Math.sin(a)*Math.cos(n)),l=s+Math.atan2(Math.sin(n)*Math.sin(a)*Math.cos(i),Math.cos(a)-Math.sin(i)*Math.sin(o));return[EO(l),EO(o)]}const Mat=[Cat],Lat=[Sat];let sG=!0;function Bat(t){sG=!1}function Z7(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function tAe(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function LO(t){dat(t.getCode(),t),rw(t,t,Z7)}function Rat(t){t.forEach(LO)}function gi(t){if(typeof t!="string")return t;const e=dF(t);if(e)return e;for(const n of Lat){const r=n(t);if(r)return r}return null}function BO(t,e,n,r){t=gi(t);let i;const s=t.getPointResolutionFunc();if(s){if(i=s(e,n),r&&r!==t.getUnits()){const a=t.getMetersPerUnit();a&&(i=i*a/mS[r])}}else{const a=t.getUnits();if(a=="degrees"&&!r||r=="degrees")i=e;else{const o=Uy(t,gi("EPSG:4326"));if(!o&&a!=="degrees")i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=o(u,u,2);const h=GM(u.slice(0,2),u.slice(2,4)),d=GM(u.slice(4,6),u.slice(6,8));i=(h+d)/2}const l=r?mS[r]:t.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function aG(t){Rat(t),t.forEach(function(e){t.forEach(function(n){e!==n&&rw(e,n,Z7)})})}function Iat(t,e,n,r){t.forEach(function(i){e.forEach(function(s){rw(i,s,n),rw(s,i,r)})})}function J7(t,e){return t?typeof t=="string"?gi(t):t:gi(e)}function RO(t){return function(e,n,r,i){const s=e.length;r=r!==void 0?r:2,i=i!=null?i:r,n=n!==void 0?n:new Array(s);for(let a=0;a<s;a+=i){const o=t(e.slice(a,a+r)),l=o.length;for(let u=0,h=i;u<h;++u)n[a+u]=u>=l?e[a+u]:o[u]}return n}}function Pat(t,e,n,r){const i=gi(t),s=gi(e);rw(i,s,RO(n)),rw(s,i,RO(r))}function tm(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Uy(t,e)===Z7)&&n}function Uy(t,e){const n=t.getCode(),r=e.getCode();let i=fF(n,r);if(i)return i;let s=null,a=null;for(const l of Mat)s||(s=l(t)),a||(a=l(e));if(!s&&!a)return null;const o="EPSG:4326";if(a)if(s)i=V4(s.inverse,a.forward);else{const l=fF(n,o);l&&(i=V4(l,a.forward))}else{const l=fF(o,r);l&&(i=V4(s.inverse,l))}return i&&(LO(t),LO(e),rw(t,e,i)),i}function V4(t,e){return function(n,r,i,s){return r=t(n,r,i,s),e(r,r,i,s)}}function yS(t,e){const n=gi(t),r=gi(e);return Uy(n,r)}function Tp(t,e,n){const r=yS(e,n);if(!r){const i=gi(e).getCode(),s=gi(n).getCode();throw new Error("No transform available between ".concat(i," and ").concat(s))}return r(t,void 0,t.length)}function oG(t,e,n,r){const i=yS(e,n);return GL(t,i,void 0,r)}let Fat=null;function Oat(){return Fat}function Bv(t,e){return t}function _o(t,e){return sG&&!Ih(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(sG=!1,Qfe("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function _w(t,e){return t}function Gh(t,e){return t}function Nat(t,e){return t}function RJ(t,e,n){return function(r){let i,s;if(t.canWrapX()){const a=t.getExtent(),o=hs(a);r=r.slice(0),s=Kfe(r,t,o),s&&(r[0]=r[0]-s*o),r[0]=eo(r[0],a[0],a[2]),r[1]=eo(r[1],a[1],a[3]),i=n(r)}else i=n(r);return s&&e.canWrapX()&&(i[0]+=s*hs(e.getExtent())),i}}function Dat(){aG(EJ),aG(CJ),Iat(CJ,EJ,lat,cat)}Dat();const e9=new Array(6);function bo(){return[1,0,0,1,0,0]}function lG(t){return q5(t,1,0,0,1,0,0)}function Rv(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=e[0],u=e[1],h=e[2],d=e[3],f=e[4],A=e[5];return t[0]=n*l+i*u,t[1]=r*l+s*u,t[2]=n*h+i*d,t[3]=r*h+s*d,t[4]=n*f+i*A+a,t[5]=r*f+s*A+o,t}function q5(t,e,n,r,i,s,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t}function nAe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ja(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function kat(t,e){const n=Math.cos(e),r=Math.sin(e);return Rv(t,q5(e9,n,r,-r,n,0,0))}function NT(t,e,n){return Rv(t,q5(e9,e,0,0,n,0,0))}function X5(t,e,n){return Rv(t,q5(e9,1,0,0,1,e,n))}function If(t,e,n,r,i,s,a,o){const l=Math.sin(s),u=Math.cos(s);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=a*r*u-o*r*l+e,t[5]=a*i*l+o*i*u+n,t}function iw(t,e){const n=Uat(e);As(n!==0,"Transformation matrix cannot be inverted");const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*l-a*o)/n,t[5]=-(r*l-i*o)/n,t}function Uat(t){return t[0]*t[3]-t[1]*t[2]}const IJ=[1e6,1e6,1e6,1e6,2,2];function Hat(t){return"matrix("+t.map((n,r)=>Math.round(n*IJ[r])/IJ[r]).join(", ")+")"}function nm(t,e,n,r,i,s,a){s=s||[],a=a||2;let o=0;for(let l=e;l<n;l+=r){const u=t[l],h=t[l+1];s[o++]=i[0]*u+i[2]*h+i[4],s[o++]=i[1]*u+i[3]*h+i[5];for(let d=2;d<a;d++)s[o++]=t[l+d]}return s&&s.length!=o&&(s.length=o),s}function t9(t,e,n,r,i,s,a){a=a||[];const o=Math.cos(i),l=Math.sin(i),u=s[0],h=s[1];let d=0;for(let f=e;f<n;f+=r){const A=t[f]-u,m=t[f+1]-h;a[d++]=u+A*o-m*l,a[d++]=h+A*l+m*o;for(let g=f+2;g<f+r;++g)a[d++]=t[g]}return a&&a.length!=d&&(a.length=d),a}function Gat(t,e,n,r,i,s,a,o){o=o||[];const l=a[0],u=a[1];let h=0;for(let d=e;d<n;d+=r){const f=t[d]-l,A=t[d+1]-u;o[h++]=l+i*f,o[h++]=u+s*A;for(let m=d+2;m<d+r;++m)o[h++]=t[m]}return o&&o.length!=h&&(o.length=h),o}function Vat(t,e,n,r,i,s,a){a=a||[];let o=0;for(let l=e;l<n;l+=r){a[o++]=t[l]+i,a[o++]=t[l+1]+s;for(let u=l+2;u<l+r;++u)a[o++]=t[u]}return a&&a.length!=o&&(a.length=o),a}const PJ=bo(),zat=[NaN,NaN];class zL extends Vd{constructor(){super(),this.extent_=ol(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Ufe((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Bi()}closestPointXY(e,n,r,i){return Bi()}containsXY(e,n){return this.closestPointXY(e,n,zat,Number.MIN_VALUE)===0}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Bi()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&$v(n),this.extentRevision_=this.getRevision()}return zfe(this.extent_,e)}rotate(e,n){Bi()}scale(e,n,r){Bi()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Bi()}getType(){return Bi()}applyTransform(e){Bi()}intersectsExtent(e){return Bi()}translate(e,n){Bi()}transform(e,n){const r=gi(e),i=r.getUnits()=="tile-pixels"?function(s,a,o){const l=r.getExtent(),u=r.getWorldExtent(),h=oo(u)/oo(l);If(PJ,u[0],u[3],h,-h,0,0,0);const d=nm(s,0,s.length,o,PJ,a),f=yS(r,n);return f?f(d,d,o):d}:yS(r,n);return this.applyTransform(i),this}}class Mp extends zL{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return G5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Bi()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=VM(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Bi()}setLayout(e,n,r){let i;if(e)i=VM(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=ww(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();t9(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=Jc(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Gat(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();Vat(r,0,r.length,i,e,n,r),this.changed()}}}function ww(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function VM(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function $at(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return nm(r,0,r.length,i,e,n)}function rAe(t,e,n,r){let i=0;const s=t[n-r],a=t[n-r+1];let o=0,l=0;for(;e<n;e+=r){const u=t[e]-s,h=t[e+1]-a;i+=l*u-o*h,o=u,l=h}return i/2}function iAe(t,e,n,r){let i=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];i+=rAe(t,e,o,r),e=o}return i}function Qat(t,e,n,r){let i=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];i+=iAe(t,e,o,r),e=o[o.length-1]}return i}function FJ(t,e,n,r,i,s,a){const o=t[e],l=t[e+1],u=t[n]-o,h=t[n+1]-l;let d;if(u===0&&h===0)d=e;else{const f=((i-o)*u+(s-l)*h)/(u*u+h*h);if(f>1)d=n;else if(f>0){for(let A=0;A<r;++A)a[A]=ff(t[e+A],t[n+A],f);a.length=r;return}else d=e}for(let f=0;f<r;++f)a[f]=t[d+f];a.length=r}function n9(t,e,n,r,i){let s=t[e],a=t[e+1];for(e+=r;e<n;e+=r){const o=t[e],l=t[e+1],u=pv(s,a,o,l);u>i&&(i=u),s=o,a=l}return i}function r9(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];i=n9(t,e,o,r,i),e=o}return i}function Wat(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];i=r9(t,e,o,r,i),e=o[o.length-1]}return i}function i9(t,e,n,r,i,s,a,o,l,u,h){if(e==n)return u;let d,f;if(i===0){if(f=pv(a,o,t[e],t[e+1]),f<u){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,f}return u}h=h||[NaN,NaN];let A=e+r;for(;A<n;)if(FJ(t,A-r,A,r,a,o,h),f=pv(a,o,h[0],h[1]),f<u){for(u=f,d=0;d<r;++d)l[d]=h[d];l.length=r,A+=r}else A+=r*Math.max((Math.sqrt(f)-Math.sqrt(u))/i|0,1);if(s&&(FJ(t,n-r,e,r,a,o,h),f=pv(a,o,h[0],h[1]),f<u)){for(u=f,d=0;d<r;++d)l[d]=h[d];l.length=r}return u}function s9(t,e,n,r,i,s,a,o,l,u,h){h=h||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const A=n[d];u=i9(t,e,A,r,i,s,a,o,l,u,h),e=A}return u}function jat(t,e,n,r,i,s,a,o,l,u,h){h=h||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const A=n[d];u=s9(t,e,A,r,i,s,a,o,l,u,h),e=A[A.length-1]}return u}function sAe(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function $L(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const a=n[i];for(let o=0;o<r;++o)t[e++]=a[o]}return e}function QL(t,e,n,r,i){i=i||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=$L(t,e,n[a],r);i[s++]=l,e=l}return i.length=s,i}function aAe(t,e,n,r,i){i=i||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=QL(t,e,n[a],r,i[s]);l.length===0&&(l[0]=e),i[s++]=l,e=l[l.length-1]}return i.length=s,i}function hv(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=e;a<n;a+=r)i[s++]=t.slice(a,a+r);return i.length=s,i}function zM(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[s++]=hv(t,e,l,r,i[s]),e=l}return i.length=s,i}function cG(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[s++]=l.length===1&&l[0]===e?[]:zM(t,e,l,r,i[s]),e=l[l.length-1]}return i.length=s,i}function Y5(t,e,n,r,i,s,a){const o=(n-e)/r;if(o<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const u=[e,n-r];let h=0;for(;u.length>0;){const d=u.pop(),f=u.pop();let A=0;const m=t[f],g=t[f+1],y=t[d],_=t[d+1];for(let x=f+r;x<d;x+=r){const S=t[x],C=t[x+1],M=tat(S,C,m,g,y,_);M>A&&(h=x,A=M)}A>i&&(l[(h-e)/r]=1,f+r<h&&u.push(f,h),h+r<d&&u.push(h,d))}for(let d=0;d<o;++d)l[d]&&(s[a++]=t[e+d*r],s[a++]=t[e+d*r+1]);return a}function oAe(t,e,n,r,i,s,a,o){for(let l=0,u=n.length;l<u;++l){const h=n[l];a=Y5(t,e,h,r,i,s,a),o.push(a),e=h}return a}function q_(t,e){return e*Math.round(t/e)}function Kat(t,e,n,r,i,s,a){if(e==n)return a;let o=q_(t[e],i),l=q_(t[e+1],i);e+=r,s[a++]=o,s[a++]=l;let u,h;do if(u=q_(t[e],i),h=q_(t[e+1],i),e+=r,e==n)return s[a++]=u,s[a++]=h,a;while(u==o&&h==l);for(;e<n;){const d=q_(t[e],i),f=q_(t[e+1],i);if(e+=r,d==u&&f==h)continue;const A=u-o,m=h-l,g=d-o,y=f-l;if(A*y==m*g&&(A<0&&g<A||A==g||A>0&&g>A)&&(m<0&&y<m||m==y||m>0&&y>m)){u=d,h=f;continue}s[a++]=u,s[a++]=h,o=u,l=h,u=d,h=f}return s[a++]=u,s[a++]=h,a}function a9(t,e,n,r,i,s,a,o){for(let l=0,u=n.length;l<u;++l){const h=n[l];a=Kat(t,e,h,r,i,s,a),o.push(a),e=h}return a}function qat(t,e,n,r,i,s,a,o){for(let l=0,u=n.length;l<u;++l){const h=n[l],d=[];a=a9(t,e,h,r,i,s,a,d),o.push(d),e=h[h.length-1]}return a}class Iv extends Mp{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Iv(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<ky(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(n9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),i9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return rAe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return hv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Y5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Iv(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$L(this.flatCoordinates,0,e,this.stride),this.changed()}}let oa=class lAe extends Mp{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new lAe(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,a=pv(e,n,s[0],s[1]);if(a<i){const o=this.stride;for(let l=0;l<o;++l)r[l]=s[l];return r.length=o,a}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return B1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return H5(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=sAe(this.flatCoordinates,0,e,this.stride),this.changed()}};function Xat(t,e,n,r,i){return!V5(i,function(a){return!A1(t,e,n,r,a[0],a[1])})}function A1(t,e,n,r,i,s){let a=0,o=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const u=t[e],h=t[e+1];l<=s?h>s&&(u-o)*(s-l)-(i-o)*(h-l)>0&&a++:h<=s&&(u-o)*(s-l)-(i-o)*(h-l)<0&&a--,o=u,l=h}return a!==0}function o9(t,e,n,r,i,s){if(n.length===0||!A1(t,e,n[0],r,i,s))return!1;for(let a=1,o=n.length;a<o;++a)if(A1(t,n[a-1],n[a],r,i,s))return!1;return!0}function Yat(t,e,n,r,i,s){if(n.length===0)return!1;for(let a=0,o=n.length;a<o;++a){const l=n[a];if(o9(t,e,l,r,i,s))return!0;e=l[l.length-1]}return!1}function l9(t,e,n,r,i,s,a){let o,l,u,h,d,f,A;const m=i[s+1],g=[];for(let x=0,S=n.length;x<S;++x){const C=n[x];for(h=t[C-r],f=t[C-r+1],o=e;o<C;o+=r)d=t[o],A=t[o+1],(m<=f&&A<=m||f<=m&&m<=A)&&(u=(m-f)/(A-f)*(d-h)+h,g.push(u)),h=d,f=A}let y=NaN,_=-1/0;for(g.sort(Jg),h=g[0],o=1,l=g.length;o<l;++o){d=g[o];const x=Math.abs(d-h);x>_&&(u=(h+d)/2,o9(t,e,n,r,u,m)&&(y=u,_=x)),h=d}return isNaN(y)&&(y=i[s]),a?(a.push(y,m,_),a):[y,m,_]}function cAe(t,e,n,r,i){let s=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];s=l9(t,e,l,r,i,2*a,s),e=l[l.length-1]}return s}function uAe(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function Z5(t,e,n,r,i,s){return s=s!=null?s:Q7(ol(),t,e,n,r),wo(i,s)?s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:uAe(t,e,n,r,function(a,o){return $fe(i,a,o)}):!1}function Zat(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){if(Z5(t,e,n[s],r,i))return!0;e=n[s]}return!1}function hAe(t,e,n,r,i){return!!(Z5(t,e,n,r,i)||A1(t,e,n,r,i[0],i[1])||A1(t,e,n,r,i[0],i[3])||A1(t,e,n,r,i[2],i[1])||A1(t,e,n,r,i[2],i[3]))}function dAe(t,e,n,r,i){if(!hAe(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,a=n.length;s<a;++s)if(Xat(t,n[s-1],n[s],r,i)&&!Z5(t,n[s-1],n[s],r,i))return!1;return!0}function Jat(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(dAe(t,e,o,r,i))return!0;e=o[o.length-1]}return!1}function eot(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function J5(t,e,n,r){let i=0,s=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const o=t[e],l=t[e+1];i+=(o-s)*(l+a),s=o,a=l}return i===0?void 0:i>0}function c9(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=J5(t,e,o,r);if(s===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=o}return!0}function fAe(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(!c9(t,e,o,r,i))return!1;o.length&&(e=o[o.length-1])}return!0}function IO(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=J5(t,e,o,r);(s===0?i&&l||!i&&!l:i&&!l||!i&&l)&&eot(t,e,o,r),e=o}return e}function uG(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s)e=IO(t,e,n[s],r,i);return e}function u9(t,e){const n=[];let r=0,i=0,s;for(let a=0,o=e.length;a<o;++a){const l=e[a],u=J5(t,r,l,2);if(s===void 0&&(s=u),u===s)n.push(e.slice(i,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=a+1,r=l}return n}class uo extends Mp{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?qs(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new uo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<ky(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(r9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return o9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return iAe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),IO(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,zM(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Jc(this.getExtent());this.flatInteriorPoint_=l9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new oa(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Iv(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let a=0,o=r.length;a<o;++a){const l=r[a],u=new Iv(n.slice(s,l),e);i.push(u),s=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;c9(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=IO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=a9(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new uo(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return dAe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=QL(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function tot(t,e,n,r){n=n||32;const i=[];for(let s=0;s<n;++s)qs(i,Tat(t,e,2*Math.PI*s/n,r));return i.push(i[0],i[1]),new uo(i,"XY",[i.length])}function q0(t){if(ym(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new uo(s,"XY",[s.length])}function not(t,e,n){e=e||32;const r=t.getStride(),i=t.getLayout(),s=t.getCenter(),a=r*(e+1),o=new Array(a);for(let h=0;h<a;h+=r){o[h]=0,o[h+1]=0;for(let d=2;d<r;d++)o[h+d]=s[d]}const l=[o.length],u=new uo(o,i,l);return rot(u,s,t.getRadius()),u}function rot(t,e,n,r){const i=t.getFlatCoordinates(),s=t.getStride(),a=i.length/s-1,o=0;for(let l=0;l<=a;++l){const u=l*s,h=o+em(l,a)*2*Math.PI/a;i[u]=e[0]+n*Math.cos(h),i[u+1]=e[1]+n*Math.sin(h)}t.changed()}const nl={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},iot={ERROR:"error"};class sot extends Zh{constructor(e){super(iot.ERROR),this.code=e.code,this.message=e.message}}class aot extends Vd{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=tAe,this.watchId_=void 0,this.addChangeListener(nl.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(nl.TRACKING,this.handleTrackingChanged_),e.projection!==void 0&&this.setProjection(e.projection),e.trackingOptions!==void 0&&this.setTrackingOptions(e.trackingOptions),this.setTracking(e.tracking!==void 0?e.tracking:!1)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=Uy(gi("EPSG:4326"),e),this.position_&&this.set(nl.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!e&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const n=e.coords;this.set(nl.ACCURACY,n.accuracy),this.set(nl.ALTITUDE,n.altitude===null?void 0:n.altitude),this.set(nl.ALTITUDE_ACCURACY,n.altitudeAccuracy===null?void 0:n.altitudeAccuracy),this.set(nl.HEADING,n.heading===null?void 0:mA(n.heading)),this.position_?(this.position_[0]=n.longitude,this.position_[1]=n.latitude):this.position_=[n.longitude,n.latitude];const r=this.transform_(this.position_);this.set(nl.POSITION,r.slice()),this.set(nl.SPEED,n.speed===null?void 0:n.speed);const i=tot(this.position_,n.accuracy);i.applyTransform(this.transform_),this.set(nl.ACCURACY_GEOMETRY,i),this.changed()}positionError_(e){this.dispatchEvent(new sot(e))}getAccuracy(){return this.get(nl.ACCURACY)}getAccuracyGeometry(){return this.get(nl.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(nl.ALTITUDE)}getAltitudeAccuracy(){return this.get(nl.ALTITUDE_ACCURACY)}getHeading(){return this.get(nl.HEADING)}getPosition(){return this.get(nl.POSITION)}getProjection(){return this.get(nl.PROJECTION)}getSpeed(){return this.get(nl.SPEED)}getTracking(){return this.get(nl.TRACKING)}getTrackingOptions(){return this.get(nl.TRACKING_OPTIONS)}setProjection(e){this.set(nl.PROJECTION,gi(e))}setTracking(e){this.set(nl.TRACKING,e)}setTrackingOptions(e){this.set(nl.TRACKING_OPTIONS,e)}}const _l={ADD:"add",REMOVE:"remove"},OJ={LENGTH:"length"};class uI extends Zh{constructor(e,n,r){super(e),this.element=n,this.index=r}}class Ec extends Vd{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(OJ.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new uI(_l.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new uI(_l.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new uI(_l.REMOVE,i,e)),this.dispatchEvent(new uI(_l.ADD,n,e))}updateLength_(){this.set(OJ.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new Error("Duplicate item added to a unique collection")}}class Bx extends Zh{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class Ug extends Bx{constructor(e,n,r,i,s,a){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Xs={SINGLECLICK:"singleclick",CLICK:Yr.CLICK,DBLCLICK:Yr.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},wy=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",oot=wy.includes("firefox"),lot=wy.includes("safari")&&!wy.includes("chrom"),cot=lot&&(wy.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(wy)),uot=wy.includes("webkit")&&!wy.includes("edge"),h9=wy.includes("macintosh"),AAe=typeof devicePixelRatio<"u"?devicePixelRatio:1,d9=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,f9=typeof Image<"u"&&Image.prototype.decode,pAe=typeof createImageBitmap=="function",gAe=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}(),$g={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROUT:"pointerout"};class hot extends eC{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Ti(r,$g.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ti(r,$g.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Yr.TOUCHMOVE,this.boundHandleTouchMove_,gAe?{passive:!1}:!1)}emulateClick_(e){let n=new Ug(Xs.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Ug(Xs.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new Ug(Xs.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==Xs.POINTERUP||n.type==Xs.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Xs.POINTERDOWN||n.type==Xs.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Ug(Xs.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ea),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new Ug(Xs.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ti(r,Xs.POINTERMOVE,this.handlePointerMove_,this),Ti(r,Xs.POINTERUP,this.handlePointerUp_,this),Ti(this.element_,Xs.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Ti(this.element_.getRootNode(),Xs.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Ug(Xs.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Ug(Xs.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(ea(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Yr.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ea(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ea),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ip={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Il={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},or={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},PO=1/0;class dot{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,yw(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){As(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=PO?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],a=r[e],o=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),h=u<i&&r[u]<r[l]?u:l;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],a=i[n];for(;n>e;){const o=this.getParentIndex_(n);if(i[o]>a)r[n]=r[o],i[n]=i[o],n=o;else break}r[n]=s,i[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let a,o,l;for(o=0;o<s;++o)a=n[o],l=e(a),l==PO?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=l,n[i++]=a);n.length=i,r.length=i,this.heapify_()}}class fot extends dot{constructor(e,n){super(r=>e.apply(null,r),r=>r[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Yr.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===or.LOADED||r===or.ERROR||r===or.EMPTY){r!==or.ERROR&&n.removeEventListener(Yr.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;){const i=this.dequeue()[0],s=i.getKey();i.getState()===or.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,i.load())}}}function Aot(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return PO;const s=t.viewState.center,a=r[0]-s[0],o=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(a*a+o*o)/i}const Xa={ANIMATING:0,INTERACTING:1},hf={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function NJ(t,e,n){return function(r,i,s,a,o){if(!r)return;if(!i&&!e)return r;const l=e?0:s[0]*i,u=e?0:s[1]*i,h=o?o[0]:0,d=o?o[1]:0;let f=t[0]+l/2+h,A=t[2]-l/2+h,m=t[1]+u/2+d,g=t[3]-u/2+d;f>A&&(f=(A+f)/2,A=f),m>g&&(m=(g+m)/2,g=m);let y=eo(r[0],f,A),_=eo(r[1],m,g);if(a&&n&&i){const x=30*i;y+=-x*Math.log(1+Math.max(0,f-r[0])/x)+x*Math.log(1+Math.max(0,r[0]-A)/x),_+=-x*Math.log(1+Math.max(0,m-r[1])/x)+x*Math.log(1+Math.max(0,r[1]-g)/x)}return[y,_]}}function pot(t){return t}function A9(t){return Math.pow(t,3)}function Dp(t){return 1-A9(1-t)}function FO(t){return 3*t*t-2*t*t*t}function p9(t){return t}function got(t){return t<.5?FO(2*t):1-FO(2*(t-.5))}const mot=Object.freeze(Object.defineProperty({__proto__:null,easeIn:A9,easeOut:Dp,inAndOut:FO,linear:p9,upAndDown:got},Symbol.toStringTag,{value:"Module"}));function g9(t,e,n,r){const i=hs(e)/n[0],s=oo(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function m9(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),eo(r,n/2,e*2)}function vot(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,a,o){if(i!==void 0){const l=t[0],u=t[t.length-1],h=n?g9(l,n,a,r):l;if(o)return e?m9(i,h,u):eo(i,u,h);const d=Math.min(h,i),f=Math.floor(U5(t,d,s));return t[f]>h&&f<t.length-1?t[f+1]:t[f]}}}function yot(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(a,o,l,u){if(a!==void 0){const h=i?g9(e,i,l,s):e;if(u)return r?m9(a,h,n):eo(a,n,h);const d=1e-9,f=Math.ceil(Math.log(e/h)/Math.log(t)-d),A=-o*(.5-d)+.5,m=Math.min(h,a),g=Math.floor(Math.log(e/m)/Math.log(t)+A),y=Math.max(f,g),_=e/Math.pow(t,y);return eo(_,n,h)}}}function DJ(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,a,o,l){if(s!==void 0){const u=r?g9(t,r,o,i):t;return!n||!l?eo(s,e,u):m9(s,u,e)}}}function v9(t){if(t!==void 0)return 0}function kJ(t){if(t!==void 0)return t}function _ot(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function wot(t){const e=mA(5);return function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n}}const mAe=42,y9=256,z4=0;class iA extends Vd{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=J7(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Bat(),e.center&&(e.center=_o(e.center,this.projection_)),e.extent&&(e.extent=Gh(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in hf)delete n[o];this.setProperties(n,!0);const r=xot(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=bot(e),s=r.constraint,a=Eot(e);this.constraints_={center:i,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),a=s/2*(i[3]-n[3]+n[1]-i[1]),o=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+a,r[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=_o(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=_o(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&hI(r,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const u=[];for(;i<n;++i){const h=arguments[i],d={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||FO,callback:r};if(h.center&&(d.sourceCenter=a,d.targetCenter=h.center.slice(),a=d.targetCenter),h.zoom!==void 0?(d.sourceResolution=o,d.targetResolution=this.getResolutionForZoom(h.zoom),o=d.targetResolution):h.resolution&&(d.sourceResolution=o,d.targetResolution=h.resolution,o=d.targetResolution),h.rotation!==void 0){d.sourceRotation=l;const f=em(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}Sot(d)?d.complete=!0:s+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(Xa.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Xa.ANIMATING]>0}getInteracting(){return this.hints_[Xa.INTERACTING]>0}cancelAnimations(){this.setHint(Xa.ANIMATING,-this.hints_[Xa.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&hI(i[0].callback,!1),!e)for(let s=0,a=i.length;s<a;++s){const o=i[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let a=0,o=i.length;a<o;++a){const l=i[a];if(l.complete)continue;const u=e-l.start;let h=l.duration>0?u/l.duration:1;h>=1?(l.complete=!0,h=1):s=!1;const d=l.easing(h);if(l.sourceCenter){const f=l.sourceCenter[0],A=l.sourceCenter[1],m=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;const y=f+d*(m-f),_=A+d*(g-A);this.targetCenter_=[y,_]}if(l.sourceResolution&&l.targetResolution){const f=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const A=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(f,0,A,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=d===1?em(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const A=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(A,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(Xa.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=i[0].callback;a&&hI(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],q7(r,e-this.getRotation()),Wfe(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const a=n[0]-e*(n[0]-i[0])/s,o=n[1]-e*(n[1]-i[1])/s;r=[a,o]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Bv(e,this.getProjection())}getCenterInternal(){return this.get(hf.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return _w(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();As(n,"The view center is not defined");const r=this.getResolution();As(r!==void 0,"The view resolution is not defined");const i=this.getRotation();return As(i!==void 0,"The view rotation is not defined"),gS(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(hf.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Gh(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=hs(e)/n[0],i=oo(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(hf.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(a){return Math.log(r/a)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();i=$4(i,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=U5(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const r=eo(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,eo(e-r,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(As(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){As(!ym(e),"Cannot fit empty extent provided as `geometry`");const i=Gh(e,this.getProjection());r=q0(i)}else if(e.getType()==="Circle"){const i=Gh(e.getExtent(),this.getProjection());r=q0(i),r.rotate(this.getRotation(),Jc(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,u=-1/0,h=-1/0;for(let d=0,f=s.length;d<f;d+=a){const A=s[d]*r-s[d+1]*i,m=s[d]*i+s[d+1]*r;o=Math.min(o,A),l=Math.min(l,m),u=Math.max(u,A),h=Math.max(h,m)}return[o,l,u,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),h=Math.sin(u),d=Math.cos(u),f=Jc(o);f[0]+=(i[1]-i[3])/2*l,f[1]+=(i[0]-i[2])/2*l;const A=f[0]*d-f[1]*h,m=f[1]*d+f[0]*h,g=this.getConstrainedCenter([A,m],l),y=n.callback?n.callback:pS;n.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),hI(y,!0))}centerOn(e,n,r){this.centerOnInternal(_o(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal($4(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-r),l=$4(e,i,[o[0]/2+a[3],o[1]/2+a[0]],n,r);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Bv(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&_o(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=_o(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&_o(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,s,r),o=this.constraints_.center(this.targetCenter_,a,s,r,this.calculateCenterShift(this.targetCenter_,a,i,s));this.get(hf.ROTATION)!==i&&this.set(hf.ROTATION,i),this.get(hf.RESOLUTION)!==a&&(this.set(hf.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(hf.CENTER)||!Ih(this.get(hf.CENTER),o))&&this.set(hf.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!Ih(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:Dp,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Xa.INTERACTING,1)}endInteraction(e,n,r){r=r&&_o(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(Xa.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function hI(t,e){setTimeout(function(){t(e)},0)}function bot(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return NJ(t.extent,t.constrainOnlyCenter,n)}const e=J7(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,NJ(n,!1,!1)}return pot}function xot(t){let e,n,r,a=t.minZoom!==void 0?t.minZoom:z4,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,d=t.showFullExtent!==void 0?t.showFullExtent:!1,f=J7(t.projection,"EPSG:3857"),A=f.getExtent();let m=t.constrainOnlyCenter,g=t.extent;if(!u&&!g&&f.isGlobal()&&(m=!1,g=A),t.resolutions!==void 0){const y=t.resolutions;n=y[a],r=y[o]!==void 0?y[o]:y[y.length-1],t.constrainResolution?e=vot(y,h,!m&&g,d):e=DJ(n,r,h,!m&&g,d)}else{const _=(A?Math.max(hs(A),oo(A)):360*mS.degrees/f.getMetersPerUnit())/y9/Math.pow(2,z4),x=_/Math.pow(2,28-z4);n=t.maxResolution,n!==void 0?a=0:n=_/Math.pow(l,a),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(l,o):r=_/Math.pow(l,o):r=x),o=a+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,o-a),t.constrainResolution?e=yot(l,n,r,h,!m&&g,d):e=DJ(n,r,h,!m&&g,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:l}}function Eot(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?wot():n===!1?kJ:typeof n=="number"?_ot(n):kJ}return v9}function Sot(t){return!(t.sourceCenter&&t.targetCenter&&!Ih(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function $4(t,e,n,r,i){const s=Math.cos(-i);let a=Math.sin(-i),o=t[0]*s-t[1]*a,l=t[1]*s+t[0]*a;o+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,a=-a;const u=o*s-l*a,h=l*s+o*a;return[u,h]}const dI="ol-hidden",Cot="ol-selectable",dm="ol-unselectable",UJ="ol-unsupported",bw="ol-control",OO="ol-collapsed",Tot=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),HJ=["style","variant","weight","size","lineHeight","family"],vAe=function(t){const e=t.match(Tot);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=HJ.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[HJ[r]]=s)}return n.families=n.family.split(/,\s?/),n};function Xo(t,e,n,r){let i;return n&&n.length?i=n.shift():d9?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}let Q4;function NO(){return Q4||(Q4=Xo(1,1)),Q4}function WL(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Mot(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function Lot(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function _S(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function yAe(t){for(;t.lastChild;)t.lastChild.remove()}function Bot(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}let Tl=class extends Vd{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n,r;this.map_&&((n=this.element)==null||n.remove());for(let i=0,s=this.listenerKeys.length;i<s;++i)ea(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=(r=this.target_)!=null?r:e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==pS&&this.listenerKeys.push(Ti(e,ip.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}};class _Ae extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=a):this.collapseLabel_=s;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Yr.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+dm+" "+bw+(this.collapsed_&&this.collapsible_?" "+OO:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),r=new Set(n.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>r.add(i)):r.add(this.attributions_)),!this.overrideCollapsible_){const i=!n.some(s=>{var a;return((a=s.getSource())==null?void 0:a.getAttributionsCollapsible())===!1});this.setCollapsible(i)}return Array.from(r)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(i=>V7(()=>i))),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!vm(n,this.renderedAttributions_)){yAe(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const a=document.createElement("li");a.innerHTML=n[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(OO),this.collapsed_?_S(this.collapseLabel_,this.label_):_S(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}let wAe=class extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=s,a.appendChild(this.label_),a.addEventListener(Yr.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+dm+" "+bw,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(dI)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Dp}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(dI);!s&&r===0?this.element.classList.add(dI):s&&r!==0&&this.element.classList.remove(dI)}this.label_.style.transform=i}this.rotation_=r}};class bAe extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=l,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(Yr.CLICK,this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild(typeof o=="string"?document.createTextNode(o):o),d.addEventListener(Yr.CLICK,this.handleClick_.bind(this,-r),!1);const f=n+" "+dm+" "+bw,A=this.element;A.className=f,A.appendChild(h),A.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Dp})):r.setZoom(s)}}}function Rot(t){t=t||{};const e=new Ec;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new bAe(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new wAe(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new _Ae(t.attributionOptions)),e}class Iot{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],a=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(a,s),this.initialVelocity_=Math.sqrt(s*s+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const hG={ACTIVE:"active"};class kp extends Vd{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(hG.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(hG.ACTIVE,e)}setMap(e){this.map_=e}}function Pot(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:p9,center:t.getConstrainedCenter(i)})}}function _9(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:r!==void 0?r:250,easing:Dp})}class Fot extends kp{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Xs.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,a=r.shiftKey?-this.delta_:this.delta_,o=i.getView();_9(o,a,s,this.duration_),r.preventDefault(),n=!0}return!n}}function DO(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const xAe=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},EAe=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},SAe=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),r=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):e.contains(r)},w9=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?SAe(t):!0},wS=Mv,Oot=function(t){return t.type==Xs.CLICK},b9=function(t){const e=t.originalEvent;return e.button==0&&!(uot&&h9&&e.ctrlKey)},kO=vw,Not=function(t){return t.type=="pointermove"},eD=function(t){return t.type==Xs.SINGLECLICK},Dot=function(t){return t.type==Xs.DBLCLICK},tD=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},kot=function(t){const e=t.originalEvent;return!e.altKey&&(h9?e.metaKey:e.ctrlKey)&&!e.shiftKey},CAe=function(t){const e=t.originalEvent;return h9?e.metaKey:e.ctrlKey},jL=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},x9=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},I1=function(t){const e=t.originalEvent;return As(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Uot=function(t){const e=t.originalEvent;return As(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType==="touch"},Hot=function(t){const e=t.originalEvent;return As(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType==="pen"},E9=function(t){const e=t.originalEvent;return As(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0},Got=Object.freeze(Object.defineProperty({__proto__:null,all:DO,altKeyOnly:xAe,altShiftKeysOnly:EAe,always:wS,click:Oot,doubleClick:Dot,focus:SAe,focusWithTabindex:w9,mouseActionButton:b9,mouseOnly:I1,never:kO,noModifierKeys:tD,penOnly:Hot,platformModifierKey:CAe,platformModifierKeyOnly:kot,pointerMove:Not,primaryAction:E9,shiftKeyOnly:jL,singleClick:eD,targetNotEditable:x9,touchOnly:Uot},Symbol.toStringTag,{value:"Module"}));class Up extends kp{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Xs.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Xs.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==Xs.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==Xs.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function S9(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}class Vot extends Up{constructor(e){super({stopDown:vw}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:DO(tD,E9);this.condition_=e.onFocusOnly?DO(w9,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(S9(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map.getView();jfe(s,o.getResolution()),q7(s,o.getRotation()),o.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-i*Math.cos(s),o[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:Dp})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class TAe extends Up{constructor(e){e=e||{},super({stopDown:vw}),this.condition_=e.condition?e.condition:EAe,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!I1(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===v9)return;const i=n.getSize(),s=e.pixel,a=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;r.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return I1(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return I1(e)&&b9(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class zot extends DL{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new uo([i])}getGeometry(){return this.geometry_}}const ex={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class x2 extends Zh{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class MAe extends Up{constructor(e){var n,r,i;super(),this.on,this.once,this.un,e=e!=null?e:{},this.box_=new zot(e.className||"ol-dragbox"),this.minArea_=(n=e.minArea)!=null?n:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=(r=e.condition)!=null?r:b9,this.boxEndCondition_=(i=e.boxEndCondition)!=null?i:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new x2(ex.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new x2(n?ex.BOXEND:ex.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new x2(ex.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new x2(ex.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new x2(ex.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class $ot extends MAe{constructor(e){e=e||{};const n=e.condition?e.condition:jL;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),a=r.getResolutionForExtentInternal(s),o=r.getResolution()/a;i=i.clone(),i.scale(o*o)}r.fitInternal(i,{duration:this.duration_,easing:Dp})}}const D_={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Qot extends kp{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return tD(n)&&x9(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Yr.KEYDOWN){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==D_.DOWN||i==D_.LEFT||i==D_.RIGHT||i==D_.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,u=0;i==D_.DOWN?u=-o:i==D_.LEFT?l=-o:i==D_.RIGHT?l=o:u=o;const h=[l,u];q7(h,a.getRotation()),Pot(a,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class Wot extends kp{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!CAe(n)&&x9(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Yr.KEYDOWN||e.type==Yr.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,a=i==="+"?this.delta_:-this.delta_,o=s.getView();_9(o,a,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class dG extends kp{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:wS;this.condition_=e.onFocusOnly?DO(w9,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Yr.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s;if(e.type==Yr.WHEEL&&(s=i.deltaY,oot&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=AAe),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const o=r.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?r.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=a,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-eo(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),_9(n,r,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class jot extends Up{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=vw),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const a=e.map,o=a.getView();o.getConstraints().rotation!==v9&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(S9(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class Kot extends Up{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=vw),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,a=r.clientY-i.clientY,o=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(S9(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function qot(t){t=t||{};const e=new Ec,n=new Iot(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new TAe),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new Fot({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new Vot({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new jot),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new Kot({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new Qot),e.push(new Wot({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new dG({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new $ot({duration:t.zoomDuration})),e}const La={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class C9 extends Vd{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[La.OPACITY]=e.opacity!==void 0?e.opacity:1,As(typeof n[La.OPACITY]=="number","Layer opacity must be a number"),n[La.VISIBLE]=e.visible!==void 0?e.visible:!0,n[La.Z_INDEX]=e.zIndex,n[La.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[La.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[La.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[La.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=eo(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Bi()}getLayerStatesArray(e){return Bi()}getExtent(){return this.get(La.EXTENT)}getMaxResolution(){return this.get(La.MAX_RESOLUTION)}getMinResolution(){return this.get(La.MIN_RESOLUTION)}getMinZoom(){return this.get(La.MIN_ZOOM)}getMaxZoom(){return this.get(La.MAX_ZOOM)}getOpacity(){return this.get(La.OPACITY)}getSourceState(){return Bi()}getVisible(){return this.get(La.VISIBLE)}getZIndex(){return this.get(La.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(La.EXTENT,e)}setMaxResolution(e){this.set(La.MAX_RESOLUTION,e)}setMinResolution(e){this.set(La.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(La.MAX_ZOOM,e)}setMinZoom(e){this.set(La.MIN_ZOOM,e)}setOpacity(e){As(typeof e=="number","Layer opacity must be a number"),this.set(La.OPACITY,e)}setVisible(e){this.set(La.VISIBLE,e)}setZIndex(e){this.set(La.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class k0 extends Zh{constructor(e,n){super(e),this.layer=n}}const W4={LAYERS:"layers"};class Hy extends C9{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(W4.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Ec(r.slice(),{unique:!0}):As(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Ec(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(ea),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ti(e,_l.ADD,this.handleLayersAdd_,this),Ti(e,_l.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(ea);yw(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new k0("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[Ti(e,tw.PROPERTYCHANGE,this.handleLayerChange_,this),Ti(e,Yr.CHANGE,this.handleLayerChange_,this)];e instanceof Hy&&n.push(Ti(e,"addlayer",this.handleLayerGroupAdd_,this),Ti(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Sr(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new k0("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new k0("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new k0("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=Sr(n);this.listenerKeys_[r].forEach(ea),delete this.listenerKeys_[r],this.dispatchEvent(new k0("removelayer",n)),this.changed()}getLayers(){return this.get(W4.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new k0("removelayer",r[i]))}this.set(W4.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let a=r,o=n.length;a<o;a++){const l=n[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=kl(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const jc={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class xw extends C9{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(La.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(La.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(ea(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ti(e,Yr.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof iA?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;if(n.layerStatesArray){if(i=n.layerStatesArray.find(a=>a.layer===this),!i)return!1}else i=this.getLayerState();const s=this.getExtent();return T9(i,n.viewState)&&(!s||wo(s,n.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const n=(s=this.getSource())==null?void 0:s.getAttributions();if(!n)return[];const r=e instanceof iA?e.getViewStateAndExtent():e;let i=n(r);return Array.isArray(i)||(i=[i]),i}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(La.MAP,e)}getMapInternal(){return this.get(La.MAP)}setMap(e){this.mapPrecomposeKey_&&(ea(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ea(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ti(e,jc.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ti(this,Yr.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,r=this.getLayerState(!1);As(!n.some(i=>i.layer===r.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(r)}setSource(e){this.set(La.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function T9(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function LAe(t,e,n=0,r=t.length-1,i=Xot){for(;r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(l-d)/l)*(u-l/2<0?-1:1),A=Math.max(n,Math.floor(e-u*d/l+f)),m=Math.min(r,Math.floor(e+(l-u)*d/l+f));LAe(t,e,A,m,i)}const s=t[e];let a=n,o=r;for(E2(t,n,e),i(t[r],s)>0&&E2(t,n,r);a<o;){for(E2(t,a,o),a++,o--;i(t[a],s)<0;)a++;for(;i(t[o],s)>0;)o--}i(t[n],s)===0?E2(t,n,o):(o++,E2(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function E2(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Xot(t,e){return t<e?-1:t>e?1:0}let M9=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!AI(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?i(o):o;AI(e,l)&&(n.leaf?r.push(o):K4(e,l)?this._all(o,r):s.push(o))}n=s.pop()}return r}collides(e){let n=this.data;if(!AI(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],a=n.leaf?this.toBBox(s):s;if(AI(e,a)){if(n.leaf||K4(e,a))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Rx([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],a=[];let o,l,u;for(;r||s.length;){if(r||(r=s.pop(),l=s[s.length-1],o=a.pop(),u=!0),r.leaf){const h=Yot(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!u&&!r.leaf&&K4(r,i)?(s.push(r),a.push(o),o=0,l=r,r=r.children[0]):l?(o++,r=l.children[o],u=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let a=this._maxEntries,o;if(s<=a)return o=Rx(e.slice(n,r+1)),tx(o,this.toBBox),o;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),o=Rx([]),o.leaf=!1,o.height=i;const l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));GJ(e,n,r,u,this.compareMinX);for(let h=n;h<=r;h+=u){const d=Math.min(h+u-1,r);GJ(e,h,d,l,this.compareMinY);for(let f=h;f<=d;f+=l){const A=Math.min(f+l-1,d);o.children.push(this._build(e,f,A,i-1))}}return tx(o,this.toBBox),o}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const u=n.children[l],h=j4(u),d=elt(e,u)-h;d<a?(a=d,s=h<s?h:s,o=u):d===a&&h<s&&(s=h,o=u)}n=o||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],a=this._chooseSubtree(i,this.data,n,s);for(a.children.push(e),J2(a,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const a=this._chooseSplitIndex(r,s,i),o=Rx(r.children.splice(a,r.children.length-a));o.height=r.height,o.leaf=r.leaf,tx(r,this.toBBox),tx(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(r,o)}_splitRoot(e,n){this.data=Rx([e,n]),this.data.height=e.height+1,this.data.leaf=!1,tx(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,a=1/0;for(let o=n;o<=r-n;o++){const l=Z2(e,0,o,this.toBBox),u=Z2(e,o,r,this.toBBox),h=tlt(l,u),d=j4(l)+j4(u);h<s?(s=h,i=o,a=d<a?d:a):h===s&&d<a&&(a=d,i=o)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:Zot,s=e.leaf?this.compareMinY:Jot,a=this._allDistMargin(e,n,r,i),o=this._allDistMargin(e,n,r,s);a<o&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,a=Z2(e,0,n,s),o=Z2(e,r-n,r,s);let l=fI(a)+fI(o);for(let u=n;u<r-n;u++){const h=e.children[u];J2(a,e.leaf?s(h):h),l+=fI(a)}for(let u=r-n-1;u>=n;u--){const h=e.children[u];J2(o,e.leaf?s(h):h),l+=fI(o)}return l}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)J2(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():tx(e[n],this.toBBox)}};function Yot(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function tx(t,e){Z2(t,0,t.children.length,e,t)}function Z2(t,e,n,r,i){i||(i=Rx(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const a=t.children[s];J2(i,t.leaf?r(a):a)}return i}function J2(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Zot(t,e){return t.minX-e.minX}function Jot(t,e){return t.minY-e.minY}function j4(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function fI(t){return t.maxX-t.minX+(t.maxY-t.minY)}function elt(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function tlt(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function K4(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function AI(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Rx(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function GJ(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const a=e+Math.ceil((n-e)/r/2)*r;LAe(t,a,e,n,i),s.push(e,a,a,n)}}const VJ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var zJ={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function nlt(t){var h,d;var e,n=[],r=1,i;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),VJ[t])n=VJ[t].slice(),i="rgb";else if(t==="transparent")r=0,i="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),a=s.length,o=a<=4;r=1,o?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(r=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(r=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];i=l.replace(/a$/,"");var u=i==="cmyk"?4:i==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=n.shift()),n=n.map(function(f,A){if(f[f.length-1]==="%")return f=parseFloat(f)/100,A===3?f:i==="rgb"?f*255:i[0]==="h"||i[0]==="l"&&!A?f*100:i==="lab"?f*125:i==="lch"?A<2?f*150:f*360:i[0]==="o"&&!A?f:i==="oklab"?f*.4:i==="oklch"?A<2?f*.4:f*360:f;if(i[A]==="h"||A===2&&i[i.length-1]==="h"){if(zJ[f]!==void 0)return zJ[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),r=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),i=((d=(h=t.match(/([a-z])/ig))==null?void 0:h.join(""))==null?void 0:d.toLowerCase())||"rgb");return{space:i,values:n,alpha:r}}const $M={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var q4={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a,o,l,u=0;if(n===0)return l=r*255,[l,l,l];for(s=r<.5?r*(1+n):r+n-r*n,i=2*r-s,o=[0,0,0];u<3;)a=e+1/3*-(u-1),a<0?a++:a>1&&a--,l=6*a<1?i+(s-i)*6*a:2*a<1?s:3*a<2?i+(s-i)*(2/3-a)*6:i,o[u++]=l*255;return o}};$M.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l,u;return s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360),u=(i+s)/2,s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};function rlt(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=nlt(t);if(!n.space)return[];const r=n.space[0]==="h"?q4.min:$M.min,i=n.space[0]==="h"?q4.max:$M.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),n.space[0]==="h"&&(e=q4.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const ah={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};ah.max=ah.whitepoint[2].D65;ah.rgb=function(t,e){e=e||ah.whitepoint[2].E;var n=t[0]/e[0],r=t[1]/e[1],i=t[2]/e[2],s,a,o;return s=n*3.240969941904521+r*-1.537383177570093+i*-.498610760293,a=n*-.96924363628087+r*1.87596750150772+i*.041555057407175,o=n*.055630079696993+r*-.20397695888897+i*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]};$M.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,i=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=n*.41239079926595+r*.35758433938387+i*.18048078840183,a=n*.21263900587151+r*.71516867876775+i*.072192315360733,o=n*.019330818715591+r*.11919477979462+i*.95053215224966;return e=e||ah.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};var L9={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,a,o,l,u,h,d,f,A,m,g;if(s=t[0],a=t[1],o=t[2],s===0)return[0,0,0];var y=.0011070564598794539;return e=e||"D65",n=n||2,d=ah.whitepoint[n][e][0],f=ah.whitepoint[n][e][1],A=ah.whitepoint[n][e][2],m=4*d/(d+15*f+3*A),g=9*f/(d+15*f+3*A),r=a/(13*s)+m||0,i=o/(13*s)+g||0,u=s>8?f*Math.pow((s+16)/116,3):f*s*y,l=u*9*r/(4*i)||0,h=u*(12-3*r-20*i)/(4*i)||0,[l,u,h]}};ah.luv=function(t,e,n){var r,i,s,a,o,l,u,h,d,f,A,m,g,y=.008856451679035631,_=903.2962962962961;e=e||"D65",n=n||2,d=ah.whitepoint[n][e][0],f=ah.whitepoint[n][e][1],A=ah.whitepoint[n][e][2],m=4*d/(d+15*f+3*A),g=9*f/(d+15*f+3*A),l=t[0],u=t[1],h=t[2],r=4*l/(l+15*u+3*h)||0,i=9*u/(l+15*u+3*h)||0;var x=u/f;return s=x<=y?_*x:116*Math.pow(x,1/3)-16,a=13*s*(r-m),o=13*s*(i-g),[s,a,o]};var BAe={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],r=t[2],i,s,a;return a=r/360*2*Math.PI,i=n*Math.cos(a),s=n*Math.sin(a),[e,i,s]},xyz:function(t){return L9.xyz(BAe.luv(t))}};L9.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,i,a]};ah.lchuv=function(t){return L9.lchuv(ah.luv(t))};const B9=[NaN,NaN,NaN,0];function P1(t){return typeof t=="string"?t:I9(t)}const ilt=1024,S2={};let X4=0;function slt(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function $J(t){const e=ah.lchuv($M.xyz(t));return e[3]=t[3],e}function alt(t){const e=ah.rgb(BAe.xyz(t));return e[3]=t[3],e}function R9(t){if(t==="none")return B9;if(S2.hasOwnProperty(t))return S2[t];if(X4>=ilt){let n=0;for(const r in S2)(n++&3)===0&&(delete S2[r],--X4)}const e=rlt(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return RAe(e),S2[t]=e,++X4,e}function kd(t){return Array.isArray(t)?t:R9(t)}function RAe(t){return t[0]=eo(t[0]+.5|0,0,255),t[1]=eo(t[1]+.5|0,0,255),t[2]=eo(t[2]+.5|0,0,255),t[3]=eo(t[3],0,1),t}function I9(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+r+","+i+")"}function QJ(t){return t[0]>0&&t[1]>0}function IAe(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Go(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}let Ew=0;const Kc=1<<Ew++,ci=1<<Ew++,wc=1<<Ew++,Uo=1<<Ew++,jh=1<<Ew++,fp=1<<Ew++,pI=Math.pow(2,Ew)-1,P9={[Kc]:"boolean",[ci]:"number",[wc]:"string",[Uo]:"color",[jh]:"number[]",[fp]:"size"},olt=Object.keys(P9).map(Number).sort(Jg);function llt(t){return t in P9}function qx(t){const e=[];for(const n of olt)eT(t,n)&&e.push(P9[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function eT(t,e){return(t&e)===e}function w0(t,e){return t===e}class yc{constructor(e,n){if(!llt(e))throw new Error("literal expressions must have a specific type, got ".concat(qx(e)));this.type=e,this.value=n}}class PAe{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}}function nD(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Yc(t,e,n){switch(typeof t){case"boolean":{if(w0(e,wc))return new yc(wc,t?"true":"false");if(!eT(e,Kc))throw new Error("got a boolean, but expected ".concat(qx(e)));return new yc(Kc,t)}case"number":{if(w0(e,fp))return new yc(fp,Go(t));if(w0(e,Kc))return new yc(Kc,!!t);if(w0(e,wc))return new yc(wc,t.toString());if(!eT(e,ci))throw new Error("got a number, but expected ".concat(qx(e)));return new yc(ci,t)}case"string":{if(w0(e,Uo))return new yc(Uo,R9(t));if(w0(e,Kc))return new yc(Kc,!!t);if(!eT(e,wc))throw new Error("got a string, but expected ".concat(qx(e)));return new yc(wc,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return ylt(t,e,n);for(const r of t)if(typeof r!="number")throw new Error("expected an array of numbers");if(w0(e,fp)){if(t.length!==2)throw new Error("expected an array of two values for a size, got ".concat(t.length));return new yc(fp,t)}if(w0(e,Uo)){if(t.length===3)return new yc(Uo,[...t,1]);if(t.length===4)return new yc(Uo,t);throw new Error("expected an array of 3 or 4 values for a color, got ".concat(t.length))}if(!eT(e,jh))throw new Error("got an array of numbers, but expected ".concat(qx(e)));return new yc(jh,t)}const vn={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},clt={[vn.Get]:cs(Bs(1,1/0),WJ),[vn.Var]:cs(Bs(1,1),ult),[vn.Has]:cs(Bs(1,1/0),WJ),[vn.Id]:cs(hlt,nx),[vn.Concat]:cs(Bs(2,1/0),Oa(wc)),[vn.GeometryType]:cs(dlt,nx),[vn.LineMetric]:cs(nx),[vn.Resolution]:cs(Y4,nx),[vn.Zoom]:cs(Y4,nx),[vn.Time]:cs(Y4,nx),[vn.Any]:cs(Bs(2,1/0),Oa(Kc)),[vn.All]:cs(Bs(2,1/0),Oa(Kc)),[vn.Not]:cs(Bs(1,1),Oa(Kc)),[vn.Equal]:cs(Bs(2,2),Oa(pI)),[vn.NotEqual]:cs(Bs(2,2),Oa(pI)),[vn.GreaterThan]:cs(Bs(2,2),Oa(ci)),[vn.GreaterThanOrEqualTo]:cs(Bs(2,2),Oa(ci)),[vn.LessThan]:cs(Bs(2,2),Oa(ci)),[vn.LessThanOrEqualTo]:cs(Bs(2,2),Oa(ci)),[vn.Multiply]:cs(Bs(2,1/0),jJ),[vn.Coalesce]:cs(Bs(2,1/0),jJ),[vn.Divide]:cs(Bs(2,2),Oa(ci)),[vn.Add]:cs(Bs(2,1/0),Oa(ci)),[vn.Subtract]:cs(Bs(2,2),Oa(ci)),[vn.Clamp]:cs(Bs(3,3),Oa(ci)),[vn.Mod]:cs(Bs(2,2),Oa(ci)),[vn.Pow]:cs(Bs(2,2),Oa(ci)),[vn.Abs]:cs(Bs(1,1),Oa(ci)),[vn.Floor]:cs(Bs(1,1),Oa(ci)),[vn.Ceil]:cs(Bs(1,1),Oa(ci)),[vn.Round]:cs(Bs(1,1),Oa(ci)),[vn.Sin]:cs(Bs(1,1),Oa(ci)),[vn.Cos]:cs(Bs(1,1),Oa(ci)),[vn.Atan]:cs(Bs(1,2),Oa(ci)),[vn.Sqrt]:cs(Bs(1,1),Oa(ci)),[vn.Match]:cs(Bs(4,1/0),KJ,Alt),[vn.Between]:cs(Bs(3,3),Oa(ci)),[vn.Interpolate]:cs(Bs(6,1/0),KJ,plt),[vn.Case]:cs(Bs(3,1/0),flt,glt),[vn.In]:cs(Bs(2,2),mlt),[vn.Number]:cs(Bs(1,1/0),Oa(pI)),[vn.String]:cs(Bs(1,1/0),Oa(pI)),[vn.Array]:cs(Bs(1,1/0),Oa(ci)),[vn.Color]:cs(Bs(1,4),Oa(ci)),[vn.Band]:cs(Bs(1,3),Oa(ci)),[vn.Palette]:cs(Bs(2,2),vlt),[vn.ToString]:cs(Bs(1,1),Oa(Kc|ci|wc|Uo))};function WJ(t,e,n){const r=t.length-1,i=new Array(r);for(let s=0;s<r;++s){const a=t[s+1];switch(typeof a){case"number":{i[s]=new yc(ci,a);break}case"string":{i[s]=new yc(wc,a);break}default:throw new Error("expected a string key or numeric array index for a get operation, got ".concat(a))}s===0&&n.properties.add(String(a))}return i}function ult(t,e,n){const r=t[1];if(typeof r!="string")throw new Error("expected a string argument for var operation");return n.variables.add(r),[new yc(wc,r)]}function hlt(t,e,n){n.featureId=!0}function dlt(t,e,n){n.geometryType=!0}function Y4(t,e,n){n.mapState=!0}function nx(t,e,n){const r=t[0];if(t.length!==1)throw new Error("expected no arguments for ".concat(r," operation"));return[]}function Bs(t,e){return function(n,r,i){const s=n[0],a=n.length-1;if(t===e){if(a!==t){const o=t===1?"":"s";throw new Error("expected ".concat(t," argument").concat(o," for ").concat(s,", got ").concat(a))}}else if(a<t||a>e){const o=e===1/0?"".concat(t," or more"):"".concat(t," to ").concat(e);throw new Error("expected ".concat(o," arguments for ").concat(s,", got ").concat(a))}}}function jJ(t,e,n){const r=t.length-1,i=new Array(r);for(let s=0;s<r;++s){const a=Yc(t[s+1],e,n);i[s]=a}return i}function Oa(t){return function(e,n,r){const i=e.length-1,s=new Array(i);for(let a=0;a<i;++a){const o=Yc(e[a+1],t,r);s[a]=o}return s}}function flt(t,e,n){const r=t[0],i=t.length-1;if(i%2===0)throw new Error("expected an odd number of arguments for ".concat(r,", got ").concat(i," instead"))}function KJ(t,e,n){const r=t[0],i=t.length-1;if(i%2===1)throw new Error("expected an even number of arguments for operation ".concat(r,", got ").concat(i," instead"))}function Alt(t,e,n){const r=t.length-1,i=wc|ci|Kc,s=Yc(t[1],i,n),a=Yc(t[t.length-1],e,n),o=new Array(r-2);for(let l=0;l<r-2;l+=2){try{const u=Yc(t[l+2],s.type,n);o[l]=u}catch(u){throw new Error("failed to parse argument ".concat(l+1," of match expression: ").concat(u.message))}try{const u=Yc(t[l+3],a.type,n);o[l+1]=u}catch(u){throw new Error("failed to parse argument ".concat(l+2," of match expression: ").concat(u.message))}}return[s,...o,a]}function plt(t,e,n){const r=t[1];let i;switch(r[0]){case"linear":i=1;break;case"exponential":const l=r[1];if(typeof l!="number"||l<=0)throw new Error("expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(l)," instead"));i=l;break;default:throw new Error("invalid interpolation type: ".concat(JSON.stringify(r)))}const s=new yc(ci,i);let a;try{a=Yc(t[2],ci,n)}catch(l){throw new Error("failed to parse argument 1 in interpolate expression: ".concat(l.message))}const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){try{const u=Yc(t[l+3],ci,n);o[l]=u}catch(u){throw new Error("failed to parse argument ".concat(l+2," for interpolate expression: ").concat(u.message))}try{const u=Yc(t[l+4],e,n);o[l+1]=u}catch(u){throw new Error("failed to parse argument ".concat(l+3," for interpolate expression: ").concat(u.message))}}return[s,a,...o]}function glt(t,e,n){const r=Yc(t[t.length-1],e,n),i=new Array(t.length-1);for(let s=0;s<i.length-1;s+=2){try{const a=Yc(t[s+1],Kc,n);i[s]=a}catch(a){throw new Error("failed to parse argument ".concat(s," of case expression: ").concat(a.message))}try{const a=Yc(t[s+2],r.type,n);i[s+1]=a}catch(a){throw new Error("failed to parse argument ".concat(s+1," of case expression: ").concat(a.message))}}return i[i.length-1]=r,i}function mlt(t,e,n){let r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');let i;if(typeof r[0]=="string"){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=wc}else i=ci;const s=new Array(r.length);for(let o=0;o<s.length;o++)try{const l=Yc(r[o],i,n);s[o]=l}catch(l){throw new Error("failed to parse haystack item ".concat(o,' for "in" expression: ').concat(l.message))}return[Yc(t[1],i,n),...s]}function vlt(t,e,n){let r;try{r=Yc(t[1],ci,n)}catch(a){throw new Error("failed to parse first argument in palette expression: ".concat(a.message))}const i=t[2];if(!Array.isArray(i))throw new Error("the second argument of palette must be an array");const s=new Array(i.length);for(let a=0;a<s.length;a++){let o;try{o=Yc(i[a],Uo,n)}catch(l){throw new Error("failed to parse color at index ".concat(a," in palette expression: ").concat(l.message))}if(!(o instanceof yc))throw new Error("the palette color at index ".concat(a," must be a literal value"));s[a]=o}return[r,...s]}function cs(...t){return function(e,n,r){const i=e[0];let s;for(let a=0;a<t.length;a++){const o=t[a](e,n,r);if(a==t.length-1){if(!o)throw new Error("expected last argument validator to return the parsed args");s=o}}return new PAe(n,i,...s)}}function ylt(t,e,n){const r=t[0],i=clt[r];if(!i)throw new Error("unknown operator: ".concat(r));return i(t,e,n)}function rD(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return rD(t.getGeometries()[0]);default:return""}}function F9(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function _m(t,e,n){const r=Yc(t,e,n);return Lp(r)}function Lp(t,e){if(t instanceof yc){if(t.type===Uo&&typeof t.value=="string"){const r=R9(t.value);return function(){return r}}return function(){return t.value}}const n=t.operator;switch(n){case vn.Number:case vn.String:case vn.Coalesce:return _lt(t);case vn.Get:case vn.Var:case vn.Has:return wlt(t);case vn.Id:return r=>r.featureId;case vn.GeometryType:return r=>r.geometryType;case vn.Concat:{const r=t.args.map(i=>Lp(i));return i=>"".concat(...r.map(s=>s(i).toString()))}case vn.Resolution:return r=>r.resolution;case vn.Any:case vn.All:case vn.Between:case vn.In:case vn.Not:return xlt(t);case vn.Equal:case vn.NotEqual:case vn.LessThan:case vn.LessThanOrEqualTo:case vn.GreaterThan:case vn.GreaterThanOrEqualTo:return blt(t);case vn.Multiply:case vn.Divide:case vn.Add:case vn.Subtract:case vn.Clamp:case vn.Mod:case vn.Pow:case vn.Abs:case vn.Floor:case vn.Ceil:case vn.Round:case vn.Sin:case vn.Cos:case vn.Atan:case vn.Sqrt:return Elt(t);case vn.Case:return Slt(t);case vn.Match:return Clt(t);case vn.Interpolate:return Tlt(t);case vn.ToString:return Mlt(t);default:throw new Error("Unsupported operator ".concat(n))}}function _lt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Lp(t.args[s]);switch(n){case vn.Coalesce:return s=>{for(let a=0;a<r;++a){const o=i[a](s);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case vn.Number:case vn.String:return s=>{for(let a=0;a<r;++a){const o=i[a](s);if(typeof o===n)return o}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}function wlt(t,e){const r=t.args[0].value;switch(t.operator){case vn.Get:return i=>{const s=t.args;let a=i.properties[r];for(let o=1,l=s.length;o<l;++o){const h=s[o].value;a=a[h]}return a};case vn.Var:return i=>i.variables[r];case vn.Has:return i=>{const s=t.args;if(!(r in i.properties))return!1;let a=i.properties[r];for(let o=1,l=s.length;o<l;++o){const h=s[o].value;if(!a||!Object.hasOwn(a,h))return!1;a=a[h]}return!0};default:throw new Error("Unsupported accessor operator ".concat(t.operator))}}function blt(t,e){const n=t.operator,r=Lp(t.args[0]),i=Lp(t.args[1]);switch(n){case vn.Equal:return s=>r(s)===i(s);case vn.NotEqual:return s=>r(s)!==i(s);case vn.LessThan:return s=>r(s)<i(s);case vn.LessThanOrEqualTo:return s=>r(s)<=i(s);case vn.GreaterThan:return s=>r(s)>i(s);case vn.GreaterThanOrEqualTo:return s=>r(s)>=i(s);default:throw new Error("Unsupported comparison operator ".concat(n))}}function xlt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Lp(t.args[s]);switch(n){case vn.Any:return s=>{for(let a=0;a<r;++a)if(i[a](s))return!0;return!1};case vn.All:return s=>{for(let a=0;a<r;++a)if(!i[a](s))return!1;return!0};case vn.Between:return s=>{const a=i[0](s),o=i[1](s),l=i[2](s);return a>=o&&a<=l};case vn.In:return s=>{const a=i[0](s);for(let o=1;o<r;++o)if(a===i[o](s))return!0;return!1};case vn.Not:return s=>!i[0](s);default:throw new Error("Unsupported logical operator ".concat(n))}}function Elt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Lp(t.args[s]);switch(n){case vn.Multiply:return s=>{let a=1;for(let o=0;o<r;++o)a*=i[o](s);return a};case vn.Divide:return s=>i[0](s)/i[1](s);case vn.Add:return s=>{let a=0;for(let o=0;o<r;++o)a+=i[o](s);return a};case vn.Subtract:return s=>i[0](s)-i[1](s);case vn.Clamp:return s=>{const a=i[0](s),o=i[1](s);if(a<o)return o;const l=i[2](s);return a>l?l:a};case vn.Mod:return s=>i[0](s)%i[1](s);case vn.Pow:return s=>Math.pow(i[0](s),i[1](s));case vn.Abs:return s=>Math.abs(i[0](s));case vn.Floor:return s=>Math.floor(i[0](s));case vn.Ceil:return s=>Math.ceil(i[0](s));case vn.Round:return s=>Math.round(i[0](s));case vn.Sin:return s=>Math.sin(i[0](s));case vn.Cos:return s=>Math.cos(i[0](s));case vn.Atan:return r===2?s=>Math.atan2(i[0](s),i[1](s)):s=>Math.atan(i[0](s));case vn.Sqrt:return s=>Math.sqrt(i[0](s));default:throw new Error("Unsupported numeric operator ".concat(n))}}function Slt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Lp(t.args[i]);return i=>{for(let s=0;s<n-1;s+=2)if(r[s](i))return r[s+1](i);return r[n-1](i)}}function Clt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Lp(t.args[i]);return i=>{const s=r[0](i);for(let a=1;a<n;a+=2)if(s===r[a](i))return r[a+1](i);return r[n-1](i)}}function Tlt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Lp(t.args[i]);return i=>{const s=r[0](i),a=r[1](i);let o,l;for(let u=2;u<n;u+=2){const h=r[u](i);let d=r[u+1](i);const f=Array.isArray(d);if(f&&(d=slt(d)),h>=a)return u===2?d:f?Llt(s,a,o,l,h,d):tT(s,a,o,l,h,d);o=h,l=d}return l}}function Mlt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Lp(t.args[s]);switch(n){case vn.ToString:return s=>{const a=i[0](s);return t.args[0].type===Uo?I9(a):a.toString()};default:throw new Error("Unsupported convert operator ".concat(n))}}function tT(t,e,n,r,i,s){const a=i-n;if(a===0)return r;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return r+l*(s-r)}function Llt(t,e,n,r,i,s){if(i-n===0)return r;const o=$J(r),l=$J(s);let u=l[2]-o[2];u>180?u-=360:u<-180&&(u+=360);const h=[tT(t,e,n,o[0],i,l[0]),tT(t,e,n,o[1],i,l[1]),o[2]+tT(t,e,n,0,i,u),tT(t,e,n,r[3],i,s[3])];return RAe(alt(h))}const Kr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class iD extends eC{constructor(e,n,r,i){super(),this.extent=e,this.pixelRatio_=r,this.resolution=n,this.state=typeof i=="function"?Kr.IDLE:i,this.image_=null,this.loader=typeof i=="function"?i:null}changed(){this.dispatchEvent(Yr.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Kr.IDLE&&this.loader){this.state=Kr.LOADING,this.changed();const e=this.getResolution(),n=Array.isArray(e)?e[0]:e;V7(()=>this.loader(this.getExtent(),n,this.getPixelRatio())).then(r=>{"image"in r&&(this.image_=r.image),"extent"in r&&(this.extent=r.extent),"resolution"in r&&(this.resolution=r.resolution),"pixelRatio"in r&&(this.pixelRatio_=r.pixelRatio),(r instanceof HTMLImageElement||pAe&&r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this.image_=r),this.state=Kr.LOADED}).catch(r=>{this.state=Kr.ERROR,console.error(r)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Blt(t,e,n){const r=t;let i=!0,s=!1,a=!1;const o=[HM(r,Yr.LOAD,function(){a=!0,s||e()})];return r.src&&f9?(s=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(a?e():n())})):o.push(HM(r,Yr.ERROR,n)),function(){i=!1,o.forEach(ea)}}function Rlt(t,e){return new Promise((n,r)=>{function i(){a(),n(t)}function s(){a(),r(new Error("Image load error"))}function a(){t.removeEventListener("load",i),t.removeEventListener("error",s)}t.addEventListener("load",i),t.addEventListener("error",s)})}function FAe(t,e){return e&&(t.src=e),t.src&&f9?new Promise((n,r)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):r(i))):Rlt(t)}function sD(t,e){return e&&(t.src=e),t.src&&f9&&pAe?t.decode().then(()=>createImageBitmap(t)).catch(n=>{if(t.complete&&t.width)return t;throw n}):FAe(t)}class Ilt{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Z4(e,n,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,r){const i=Z4(e,n,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,r,i,s){const a=Z4(e,n,r),o=a in this.cache_;this.cache_[a]=i,s&&(i.getImageState()===Kr.IDLE&&i.load(),i.getImageState()===Kr.LOADING?i.ready().then(()=>{this.patternCache_[a]=NO().createPattern(i.getImage(1),"repeat")}):this.patternCache_[a]=NO().createPattern(i.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Z4(t,e,n){const r=n?kd(n):"null";return e+":"+t+":"+r}const cA=new Ilt;let C2=null;class OAe extends eC{constructor(e,n,r,i,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.imageState_=i===void 0?Kr.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Kr.LOADED){C2||(C2=Xo(1,1,void 0,{willReadFrequently:!0})),C2.drawImage(this.image_,0,0);try{C2.getImageData(0,0,1,1),this.tainted_=!1}catch(e){C2=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Yr.CHANGE)}handleImageError_(){this.imageState_=Kr.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Kr.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=Xo(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Kr.IDLE){this.image_||this.initializeImage_(),this.imageState_=Kr.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&FAe(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Kr.LOADED)return;const n=this.image_,r=Xo(Math.ceil(n.width*e),Math.ceil(n.height*e)),i=r.canvas;r.scale(e,e),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=P1(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Kr.LOADED||this.imageState_===Kr.ERROR)e();else{const n=()=>{(this.imageState_===Kr.LOADED||this.imageState_===Kr.ERROR)&&(this.removeEventListener(Yr.CHANGE,n),e())};this.addEventListener(Yr.CHANGE,n)}})),this.ready_}}function O9(t,e,n,r,i,s){let a=e===void 0?void 0:cA.get(e,n,i);return a||(a=new OAe(t,t&&"src"in t?t.src||void 0:e,n,r,i),cA.set(e,n,i,a,s)),s&&a&&!cA.getPattern(e,n,i)&&cA.set(e,n,i,a,s),a}function Wg(t){return t?Array.isArray(t)?I9(t):typeof t=="object"&&"src"in t?Plt(t):t:null}function Plt(t){if(!t.offset||!t.size)return cA.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=cA.getPattern(e,void 0,t.color);if(n)return n;const r=cA.get(t.src,"anonymous",null);if(r.getImageState()!==Kr.LOADED)return null;const i=Xo(t.size[0],t.size[1]);return i.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),O9(i.canvas,e,void 0,Kr.LOADED,t.color,!0),cA.getPattern(e,void 0,t.color)}const NAe="10px sans-serif",Ld="#000",bS="round",mv=[],vv=0,xS="round",QM=10,WM="#000",jM="center",UO="middle",p1=[0,0,0,0],KM=1,tv=new Vd;let Ix=null,fG;const AG={},Flt=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,a;function o(u,h,d){let f=!0;for(let A=0;A<r;++A){const m=n[A];if(a=HO(u+" "+h+" "+e+m,i),d!=m){const g=HO(u+" "+h+" "+e+d+","+m,i);f=f&&g!=a}}return!!f}function l(){let u=!0;const h=tv.getKeys();for(let d=0,f=h.length;d<f;++d){const A=h[d];if(tv.get(A)<100){const[m,g,y]=A.split("\n");o(m,g,y)?(yw(AG),Ix=null,fG=void 0,tv.set(A,100)):(tv.set(A,tv.get(A)+1,!0),u=!1)}}u&&(clearInterval(s),s=void 0)}return function(u){const h=vAe(u);if(!h)return;const d=h.families;for(let f=0,A=d.length;f<A;++f){const m=d[f],g=h.style+"\n"+h.weight+"\n"+m;tv.get(g)===void 0&&(tv.set(g,100,!0),o(h.style,h.weight,m)||(tv.set(g,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Olt=function(){let t;return function(e){let n=AG[e];if(n==null){if(d9){const r=vAe(e),i=DAe(e,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);AG[e]=n}return n}}();function DAe(t,e){return Ix||(Ix=Xo(1,1)),t!=fG&&(Ix.font=t,fG=Ix.font),Ix.measureText(e)}function HO(t,e){return DAe(t,e).width}function qJ(t,e,n){if(e in n)return n[e];const r=e.split("\n").reduce((i,s)=>Math.max(i,HO(t,s)),0);return n[e]=r,r}function Nlt(t,e){const n=[],r=[],i=[];let s=0,a=0,o=0,l=0;for(let u=0,h=e.length;u<=h;u+=2){const d=e[u];if(d==="\n"||u===h){s=Math.max(s,a),i.push(a),a=0,o+=l,l=0;continue}const f=e[u+1]||t.font,A=HO(f,d);n.push(A),a+=A;const m=Olt(f);r.push(m),l=Math.max(l,m)}return{width:s,height:o,widths:n,heights:r,lineWidths:i}}function Dlt(t,e,n,r,i,s,a,o,l,u,h){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=d=>d.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(l,u),t.scale(h[0],h[1]),klt(r,t)):h[0]<0||h[1]<0?(t.translate(l,u),t.scale(h[0],h[1]),t.drawImage(r,i,s,a,o,0,0,a,o)):t.drawImage(r,i,s,a,o,l,u,a*h[0],o*h[1]),t.restore()}function klt(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class aD{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Go(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new aD({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Bi()}getImage(e){return Bi()}getHitDetectionImage(){return Bi()}getPixelRatio(e){return 1}getImageState(){return Bi()}getImageSize(){return Bi()}getOrigin(){return Bi()}getSize(){return Bi()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Go(e)}listenImageChange(e){Bi()}load(){Bi()}unlistenImageChange(e){Bi()}ready(){return Promise.resolve()}}class F1 extends aD{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Kr.LOADING:Kr.LOADED,this.imageState_===Kr.LOADING&&this.ready().then(()=>this.imageState_=Kr.LOADED),this.render()}clone(){const e=this.getScale(),n=new F1({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var s,a;const n=(s=this.fill_)==null?void 0:s.getKey(),r="".concat(e,",").concat(this.angle_,",").concat(this.radius,",").concat(this.radius2_,",").concat(this.points_,",").concat(n)+Object.values(this.renderOptions_).join(",");let i=(a=cA.get(r,null,null))==null?void 0:a.getImage(1);if(!i){const o=this.renderOptions_,l=Math.ceil(o.size*e),u=Xo(l,l);this.draw_(o,u,e),i=u.canvas,cA.set(r,null,null,new OAe(i,void 0,null,Kr.LOADED,null))}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const B=i;i=s,s=B}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=s*Math.sin(o),u=Math.sqrt(s*s-l*l),h=i-u,d=Math.sqrt(l*l+h*h),f=d/l;if(e==="miter"&&f<=r)return f*n;const A=n/2/f,m=n/2*(h/d),y=Math.sqrt((i+A)*(i+A)+m*m)-i;if(this.radius2_===void 0||e==="bevel")return y*2;const _=i*Math.sin(o),x=Math.sqrt(i*i-_*_),S=s-x,M=Math.sqrt(_*_+S*S)/_;if(M<=r){const B=M*n/2-s-i;return 2*Math.max(y,B)}return y*2}createRenderOptions(){var d,f,A,m,g,y;let e=bS,n=xS,r=0,i=null,s=0,a,o=0;this.stroke_&&(a=Wg((d=this.stroke_.getColor())!=null?d:WM),o=(f=this.stroke_.getWidth())!=null?f:KM,i=this.stroke_.getLineDash(),s=(A=this.stroke_.getLineDashOffset())!=null?A:0,n=(m=this.stroke_.getLineJoin())!=null?m:xS,e=(g=this.stroke_.getLineCap())!=null?g:bS,r=(y=this.stroke_.getMiterLimit())!=null?y:QM);const l=this.calculateLineJoinSize_(n,o,r),u=Math.max(this.radius,this.radius2_||0),h=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:o,size:h,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Ld),n.fillStyle=Wg(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=kd(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(n=Xo(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const r=this.radius;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=s+o*a,u=o%2===0?r:i;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Ld,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Gy extends F1{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Gy({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Ul{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Ul({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=O9(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Kr.IDLE&&n.load(),n.getImageState()===Kr.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Sr(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:kd(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function XJ(t,e,n,r){return n!==void 0&&r!==void 0?[n/t,r/e]:n!==void 0?n/t:r!==void 0?r/e:1}class Vy extends aD{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;As(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||Sr(a)),As(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),As(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Kr.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?Kr.LOADED:Kr.IDLE:l=Kr.LOADING:l=Kr.LOADED),this.color_=e.color!==void 0?kd(e.color):null,this.iconImage_=O9(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let u,h;if(e.size)[u,h]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)u=d.width,h=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const A=this.iconImage_.getSize();this.setScale(XJ(A[0],A[1],e.width,e.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(XJ(u,h,e.width,e.height))}}clone(){let e,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Vy({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Kr.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Kr.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Yr.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Yr.CHANGE,e)}ready(){return this.iconImage_.ready()}}class Po{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Po({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Sa{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=YJ,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){var n;let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Sa({geometry:e!=null?e:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:(n=this.getRenderer())!=null?n:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=YJ,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Ult(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(As(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let J4=null;function kAe(t,e){if(!J4){const n=new Ul({color:"rgba(255,255,255,0.4)"}),r=new Po({color:"#3399CC",width:1.25});J4=[new Sa({image:new Gy({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return J4}function N9(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new Sa({fill:new Ul({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Sa({stroke:new Po({color:e,width:r+2})}),new Sa({stroke:new Po({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Sa({image:new Gy({radius:r*2,fill:new Ul({color:n}),stroke:new Po({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function YJ(t){return t.getGeometry()}const Hlt="#333";class Mf{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=Go(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ul({color:Hlt}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Mf({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Go(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Glt(t){return!0}function Vlt(t){const e=nD(),n=zlt(t,e),r=F9();return function(i,s){if(r.properties=i.getPropertiesInternal(),r.resolution=s,e.featureId){const a=i.getId();a!==void 0?r.featureId=a:r.featureId=null}return e.geometryType&&(r.geometryType=rD(i.getGeometry())),n(r)}}function ZJ(t){const e=nD(),n=t.length,r=new Array(n);for(let a=0;a<n;++a)r[a]=pG(t[a],e);const i=F9(),s=new Array(n);return function(a,o){if(i.properties=a.getPropertiesInternal(),i.resolution=o,e.featureId){const u=a.getId();u!==void 0?i.featureId=u:i.featureId=null}let l=0;for(let u=0;u<n;++u){const h=r[u](i);h&&(s[l]=h,l+=1)}return s.length=l,s}}function zlt(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const s=t[i],a="filter"in s?_m(s.filter,Kc,e):Glt;let o;if(Array.isArray(s.style)){const l=s.style.length;o=new Array(l);for(let u=0;u<l;++u)o[u]=pG(s.style[u],e)}else o=[pG(s.style,e)];r[i]={filter:a,styles:o}}return function(i){const s=[];let a=!1;for(let o=0;o<n;++o){const l=r[o].filter;if(l(i)&&!(t[o].else&&a)){a=!0;for(const u of r[o].styles){const h=u(i);h&&s.push(h)}}}return s}}function pG(t,e){const n=qM(t,"",e),r=XM(t,"",e),i=$lt(t,e),s=Qlt(t,e),a=Bd(t,"z-index",e);if(!n&&!r&&!i&&!s&&!Lv(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new Sa;return function(l){let u=!0;if(n){const h=n(l);h&&(u=!1),o.setFill(h)}if(r){const h=r(l);h&&(u=!1),o.setStroke(h)}if(i){const h=i(l);h&&(u=!1),o.setText(h)}if(s){const h=s(l);h&&(u=!1),o.setImage(h)}return a&&o.setZIndex(a(l)),u?null:o}}function qM(t,e,n){let r;if(e+"fill-pattern-src"in t)r=qlt(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return s=>null;r=D9(t,e+"fill-color",n)}if(!r)return null;const i=new Ul;return function(s){const a=r(s);return a===B9?null:(i.setColor(a),i)}}function XM(t,e,n){const r=Bd(t,e+"stroke-width",n),i=D9(t,e+"stroke-color",n);if(!r&&!i)return null;const s=sv(t,e+"stroke-line-cap",n),a=sv(t,e+"stroke-line-join",n),o=UAe(t,e+"stroke-line-dash",n),l=Bd(t,e+"stroke-line-dash-offset",n),u=Bd(t,e+"stroke-miter-limit",n),h=new Po;return function(d){if(i){const f=i(d);if(f===B9)return null;h.setColor(f)}if(r&&h.setWidth(r(d)),s){const f=s(d);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");h.setLineCap(f)}if(a){const f=a(d);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(f)}return o&&h.setLineDash(o(d)),l&&h.setLineDashOffset(l(d)),u&&h.setMiterLimit(u(d)),h}}function $lt(t,e){const n="text-",r=sv(t,n+"value",e);if(!r)return null;const i=qM(t,n,e),s=qM(t,n+"background-",e),a=XM(t,n,e),o=XM(t,n+"background-",e),l=sv(t,n+"font",e),u=Bd(t,n+"max-angle",e),h=Bd(t,n+"offset-x",e),d=Bd(t,n+"offset-y",e),f=CE(t,n+"overflow",e),A=sv(t,n+"placement",e),m=Bd(t,n+"repeat",e),g=oD(t,n+"scale",e),y=CE(t,n+"rotate-with-view",e),_=Bd(t,n+"rotation",e),x=sv(t,n+"align",e),S=sv(t,n+"justify",e),C=sv(t,n+"baseline",e),M=CE(t,n+"keep-upright",e),B=UAe(t,n+"padding",e),E=lD(t,n+"declutter-mode"),L=new Mf({declutterMode:E});return function(I){if(L.setText(r(I)),i&&L.setFill(i(I)),s&&L.setBackgroundFill(s(I)),a&&L.setStroke(a(I)),o&&L.setBackgroundStroke(o(I)),l&&L.setFont(l(I)),u&&L.setMaxAngle(u(I)),h&&L.setOffsetX(h(I)),d&&L.setOffsetY(d(I)),f&&L.setOverflow(f(I)),A){const k=A(I);if(k!=="point"&&k!=="line")throw new Error("Expected point or line for text-placement");L.setPlacement(k)}if(m&&L.setRepeat(m(I)),g&&L.setScale(g(I)),y&&L.setRotateWithView(y(I)),_&&L.setRotation(_(I)),x){const k=x(I);if(k!=="left"&&k!=="center"&&k!=="right"&&k!=="end"&&k!=="start")throw new Error("Expected left, right, center, start, or end for text-align");L.setTextAlign(k)}if(S){const k=S(I);if(k!=="left"&&k!=="right"&&k!=="center")throw new Error("Expected left, right, or center for text-justify");L.setJustify(k)}if(C){const k=C(I);if(k!=="bottom"&&k!=="top"&&k!=="middle"&&k!=="alphabetic"&&k!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");L.setTextBaseline(k)}return B&&L.setPadding(B(I)),M&&L.setKeepUpright(M(I)),L}}function Qlt(t,e){return"icon-src"in t?Wlt(t,e):"shape-points"in t?jlt(t,e):"circle-radius"in t?Klt(t,e):null}function Wlt(t,e){const n="icon-",r=n+"src",i=HAe(t[r],r),s=GO(t,n+"anchor",e),a=oD(t,n+"scale",e),o=Bd(t,n+"opacity",e),l=GO(t,n+"displacement",e),u=Bd(t,n+"rotation",e),h=CE(t,n+"rotate-with-view",e),d=eee(t,n+"anchor-origin"),f=tee(t,n+"anchor-x-units"),A=tee(t,n+"anchor-y-units"),m=Jlt(t,n+"color"),g=Ylt(t,n+"cross-origin"),y=Zlt(t,n+"offset"),_=eee(t,n+"offset-origin"),x=VO(t,n+"width"),S=VO(t,n+"height"),C=Xlt(t,n+"size"),M=lD(t,n+"declutter-mode"),B=new Vy({src:i,anchorOrigin:d,anchorXUnits:f,anchorYUnits:A,color:m,crossOrigin:g,offset:y,offsetOrigin:_,height:S,width:x,size:C,declutterMode:M});return function(E){return o&&B.setOpacity(o(E)),l&&B.setDisplacement(l(E)),u&&B.setRotation(u(E)),h&&B.setRotateWithView(h(E)),a&&B.setScale(a(E)),s&&B.setAnchor(s(E)),B}}function jlt(t,e){const n="shape-",r=n+"points",i=n+"radius",s=gG(t[r],r),a=gG(t[i],i),o=qM(t,n,e),l=XM(t,n,e),u=oD(t,n+"scale",e),h=GO(t,n+"displacement",e),d=Bd(t,n+"rotation",e),f=CE(t,n+"rotate-with-view",e),A=VO(t,n+"radius2"),m=VO(t,n+"angle"),g=lD(t,n+"declutter-mode"),y=new F1({points:s,radius:a,radius2:A,angle:m,declutterMode:g});return function(_){return o&&y.setFill(o(_)),l&&y.setStroke(l(_)),h&&y.setDisplacement(h(_)),d&&y.setRotation(d(_)),f&&y.setRotateWithView(f(_)),u&&y.setScale(u(_)),y}}function Klt(t,e){const n="circle-",r=qM(t,n,e),i=XM(t,n,e),s=Bd(t,n+"radius",e),a=oD(t,n+"scale",e),o=GO(t,n+"displacement",e),l=Bd(t,n+"rotation",e),u=CE(t,n+"rotate-with-view",e),h=lD(t,n+"declutter-mode"),d=new Gy({radius:5,declutterMode:h});return function(f){return s&&d.setRadius(s(f)),r&&d.setFill(r(f)),i&&d.setStroke(i(f)),o&&d.setDisplacement(o(f)),l&&d.setRotation(l(f)),u&&d.setRotateWithView(u(f)),a&&d.setScale(a(f)),d}}function Bd(t,e,n){if(!(e in t))return;const r=_m(t[e],ci,n);return function(i){return gG(r(i),e)}}function sv(t,e,n){if(!(e in t))return null;const r=_m(t[e],wc,n);return function(i){return HAe(r(i),e)}}function qlt(t,e,n){const r=sv(t,e+"pattern-src",n),i=JJ(t,e+"pattern-offset",n),s=JJ(t,e+"pattern-size",n),a=D9(t,e+"color",n);return function(o){return{src:r(o),offset:i&&i(o),size:s&&s(o),color:a&&a(o)}}}function CE(t,e,n){if(!(e in t))return null;const r=_m(t[e],Kc,n);return function(i){const s=r(i);if(typeof s!="boolean")throw new Error("Expected a boolean for ".concat(e));return s}}function D9(t,e,n){if(!(e in t))return null;const r=_m(t[e],Uo,n);return function(i){return GAe(r(i),e)}}function UAe(t,e,n){if(!(e in t))return null;const r=_m(t[e],jh,n);return function(i){return KL(r(i),e)}}function GO(t,e,n){if(!(e in t))return null;const r=_m(t[e],jh,n);return function(i){const s=KL(r(i),e);if(s.length!==2)throw new Error("Expected two numbers for ".concat(e));return s}}function JJ(t,e,n){if(!(e in t))return null;const r=_m(t[e],jh,n);return function(i){return VAe(r(i),e)}}function oD(t,e,n){if(!(e in t))return null;const r=_m(t[e],jh|ci,n);return function(i){return ect(r(i),e)}}function VO(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error("Expected a number for ".concat(e));return n}}function Xlt(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Go(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(e));if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error("Expected a number or size array for ".concat(e));return n}}function Ylt(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error("Expected a string for ".concat(e));return n}}function eee(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(e));return n}}function tee(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error("Expected pixels or fraction for ".concat(e));return n}}function Zlt(t,e){const n=t[e];if(n!==void 0)return KL(n,e)}function lD(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error("Expected a string for ".concat(e));if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error("Expected declutter, obstacle, or none for ".concat(e));return n}}function Jlt(t,e){const n=t[e];if(n!==void 0)return GAe(n,e)}function KL(t,e){if(!Array.isArray(t))throw new Error("Expected an array for ".concat(e));const n=t.length;for(let r=0;r<n;++r)if(typeof t[r]!="number")throw new Error("Expected an array of numbers for ".concat(e));return t}function HAe(t,e){if(typeof t!="string")throw new Error("Expected a string for ".concat(e));return t}function gG(t,e){if(typeof t!="number")throw new Error("Expected a number for ".concat(e));return t}function GAe(t,e){if(typeof t=="string")return t;const n=KL(t,e),r=n.length;if(r<3||r>4)throw new Error("Expected a color with 3 or 4 values for ".concat(e));return n}function VAe(t,e){const n=KL(t,e);if(n.length!==2)throw new Error("Expected an array of two numbers for ".concat(e));return n}function ect(t,e){return typeof t=="number"?t:VAe(t,e)}const nee={RENDER_ORDER:"renderOrder"};class Sw extends xw{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(nee.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new M9(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(nee.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?kAe:e;const n=tct(e);this.styleFunction_=e===null?void 0:Ult(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function tct(t){if(t===void 0)return kAe;if(!t)return null;if(typeof t=="function"||t instanceof Sa)return t;if(!Array.isArray(t))return ZJ([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Sa){const i=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!(a instanceof Sa))throw new Error("Expected a list of style instances");i[s]=a}return i}if("style"in n){const i=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!("style"in a))throw new Error("Expected a list of rules with a style property");i[s]=a}return Vlt(i)}return ZJ(t)}class DT extends Zh{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}class nct extends DL{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Bi()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;If(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),iw(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,a,o,l){let u;const h=n.viewState;function d(C,M,B,E){return s.call(a,M,C?B:null,E)}const f=h.projection,A=W5(e.slice(),f),m=[[0,0]];if(f.canWrapX()&&i){const C=f.getExtent(),M=hs(C);m.push([-M,0],[M,0])}const g=n.layerStatesArray,y=g.length,_=[],x=[];for(let C=0;C<m.length;C++)for(let M=y-1;M>=0;--M){const B=g[M],E=B.layer;if(E.hasRenderer()&&T9(B,h)&&o.call(l,E)){const L=E.getRenderer(),I=E.getSource();if(L&&I){const k=I.getWrapX()?A:e,O=d.bind(null,B.managed);x[0]=k[0]+m[C][0],x[1]=k[1]+m[C][1],u=L.forEachFeatureAtCoordinate(x,n,r,O,_)}if(u)return u}}if(_.length===0)return;const S=1/_.length;return _.forEach((C,M)=>C.distanceSq+=M*S),_.sort((C,M)=>C.distanceSq-M.distanceSq),_.some(C=>u=C.callback(C.feature,C.layer,C.geometry)),u}hasFeatureAtCoordinate(e,n,r,i,s,a){return this.forEachFeatureAtCoordinate(e,n,r,i,Mv,this,s,a)!==void 0}getMap(){return this.map_}renderFrame(e){Bi()}scheduleExpireIconCache(e){cA.canExpireCache()&&e.postRenderFunctions.push(rct)}}function rct(t,e){cA.expire()}class ict extends nct{constructor(e){super(e),this.fontChangeListenerKey_=Ti(tv,tw.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=dm+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new DT(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){ea(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(jc.PRECOMPOSE,e);const n=e.layerStatesArray.sort((o,l)=>o.zIndex-l.zIndex);n.some(o=>o.layer instanceof Sw&&o.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const s=[];let a=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const h=u.layer,d=h.getSourceState();if(!T9(u,i)||d!="ready"&&d!="undefined"){h.unrender();continue}const f=h.render(e,a);f&&(f!==a&&(this.children_.push(f),a=f),s.push(u))}this.declutter(e,s),Bot(this.element_,this.children_),this.dispatchRenderEvent(jc.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let r=n.length-1;r>=0;--r){const i=n[r],s=i.layer;s.getDeclutter()&&s.renderDeclutter(e,i)}n.forEach(r=>r.layer.renderDeferred(e))}}}function zAe(t){if(t instanceof xw){t.setMapInternal(null);return}t instanceof Hy&&t.getLayers().forEach(zAe)}function $Ae(t,e){if(t instanceof xw){t.setMapInternal(e);return}if(t instanceof Hy){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)$Ae(n[r],e)}}let jg=class extends Vd{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=sct(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:AAe,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=bo(),this.pixelToCoordinateTransform_=bo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Rot(),this.interactions=n.interactions||qot({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new fot(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Il.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Il.VIEW,this.handleViewChanged_),this.addChangeListener(Il.SIZE,this.handleSizeChanged_),this.addChangeListener(Il.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof iA)&&e.view.then(function(i){r.setView(new iA(i))}),this.controls.addEventListener(_l.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(_l.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(_l.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(_l.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(_l.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(_l.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){$Ae(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.layerFilter!==void 0?r.layerFilter:Mv,o=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,o,n,null,a,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof Hy?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Mv,s=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,a,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],a=r.height/i[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-r.left)/s,(o.clientY-r.top)/a]}getTarget(){return this.get(Il.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Bv(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Ja(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Il.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Ec){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const a=i.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=_o(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Ja(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Il.SIZE)}getView(){return this.get(Il.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return Aot(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new Ug(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===$g.POINTERDOWN||r===Yr.WHEEL||r===Yr.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=n.target,o=s instanceof ShadowRoot?s.host===a?s.host.ownerDocument:s:s===i?i.documentElement:s;if(this.overlayContainerStopEvent_.contains(a)||!o.contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const a=e.viewHints;if(a[Xa.ANIMATING]||a[Xa.INTERACTING]){const o=Date.now()-e.time>8;i=o?0:8,s=o?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(jc.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(jc.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Bx(ip.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Bx(ip.LOADSTART,this,e))));const r=this.postRenderFunctions_;if(e)for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)ea(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Yr.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Yr.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new ict(this)),this.mapBrowserEventHandler_=new hot(this,this.moveTolerance_);for(const s in Xs)this.mapBrowserEventHandler_.addEventListener(Xs[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Yr.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Yr.WHEEL,this.boundHandleBrowserEvent_,gAe?{passive:!1}:!1);let r;if(this.keyboardEventTarget_)r=this.keyboardEventTarget_;else{const s=n.getRootNode();r=s instanceof ShadowRoot?s.host:n}this.targetChangeHandlerKeys_=[Ti(r,Yr.KEYDOWN,this.handleBrowserEvent,this),Ti(r,Yr.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(ea(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ea(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ti(e,tw.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ti(e,Yr.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ea),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new k0("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ti(e,tw.PROPERTYCHANGE,this.render,this),Ti(e,Yr.CHANGE,this.render,this),Ti(e,"addlayer",this.handleLayerAdd_,this),Ti(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){zAe(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&QJ(n)&&r&&r.isDef()){const a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:gS(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:Sr(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;s.nextExtent=gS(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!ym(this.previousExtent_)&&!Cp(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Bx(ip.MOVESTART,this,i)),this.previousExtent_=$v(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Xa.ANIMATING]&&!s.viewHints[Xa.INTERACTING]&&!Cp(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Bx(ip.MOVEEND,this,s)),z7(s.extent,this.previousExtent_))),this.dispatchEvent(new Bx(ip.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(ip.LOADSTART)||this.hasListener(ip.LOADEND)||this.hasListener(jc.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new k0("removelayer",n)),this.set(Il.LAYERGROUP,e)}setSize(e){this.set(Il.SIZE,e)}setTarget(e){this.set(Il.TARGET,e)}setView(e){if(!e||e instanceof iA){this.set(Il.VIEW,e);return}this.set(Il.VIEW,new iA);const n=this;e.then(function(r){n.setView(new iA(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(a)&&(n=[Math.max(0,s),Math.max(0,a)],!QJ(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Qfe("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!vm(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function sct(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Hy({layers:t.layers});n[Il.LAYERGROUP]=r,n[Il.TARGET]=t.target,n[Il.VIEW]=t.view instanceof iA?t.view:new iA;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Ec(t.controls.slice()):(As(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Ec(t.interactions.slice()):(As(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new Ec(t.overlays.slice()):(As(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new Ec,{controls:i,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}const Vu={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class QAe extends Vd{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Cot,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Vu.ELEMENT,this.handleElementChanged),this.addChangeListener(Vu.MAP,this.handleMapChanged),this.addChangeListener(Vu.OFFSET,this.handleOffsetChanged),this.addChangeListener(Vu.POSITION,this.handlePositionChanged),this.addChangeListener(Vu.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Vu.ELEMENT)}getId(){return this.id}getMap(){return this.get(Vu.MAP)||null}getOffset(){return this.get(Vu.OFFSET)}getPosition(){return this.get(Vu.POSITION)}getPositioning(){return this.get(Vu.POSITIONING)}handleElementChanged(){yAe(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){var n;this.mapPostrenderListenerKey&&((n=this.element)==null||n.remove(),ea(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Ti(e,ip.POSTRENDER,this.render,this),this.updatePixelPosition();const r=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Vu.ELEMENT,e)}setMap(e){this.set(Vu.MAP,e)}setOffset(e){this.set(Vu.OFFSET,e)}setPosition(e){this.set(Vu.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Vu.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[Mot(i),Lot(i)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!_f(r,s)){const o=s[0]-r[0],l=r[2]-s[2],u=s[1]-r[1],h=r[3]-s[3],d=[0,0];if(o<0?d[0]=o-a:l<0&&(d[0]=Math.abs(l)+a),u<0?d[1]=u-a:h<0&&(d[1]=Math.abs(h)+a),d[0]!==0||d[1]!==0){const f=n.getView().getCenterInternal(),A=n.getPixelFromCoordinateInternal(f);if(!A)return;const m=[A[0]+d[0],A[1]+d[1]],g=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(m),duration:g.duration,easing:g.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(Vu.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const a=Math.round(e[0]+i[0])+"px",o=Math.round(e[1]+i[1])+"px";let l="0%",u="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?u="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(u="-50%");const h="translate(".concat(l,", ").concat(u,") translate(").concat(a,", ").concat(o,")");this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}}function act(t){const e=Object.keys(t.defs),n=e.length;let r,i;for(r=0;r<n;++r){const s=e[r];if(!dF(s)){const a=t.defs(s);let o=a.units;!o&&a.projName==="longlat"&&(o="degrees"),LO(new hm({code:s,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:o}))}}for(r=0;r<n;++r){const s=e[r],a=dF(s);for(i=0;i<n;++i){const o=e[i],l=dF(o);if(!fF(s,o))if(t.defs[s]===t.defs[o])aG([a,l]);else{const u=t(s,o);Pat(a,l,RJ(a,l,u.forward),RJ(l,a,u.inverse))}}}}class WAe{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof DL&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return As(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return As(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){As(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function sw(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function jAe(t,e,n){return t+"/"+e+"/"+n}function Px(t){return jAe(t[0],t[1],t[2])}function k9(t){return KAe(t[0],t[1],t[2])}function KAe(t,e,n){return(e<<t)+n}function oct(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class cD{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function rx(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new cD(t,e,n,r)}const ix=[0,0,0],b0=5;class qL{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,As(Gst(this.resolutions_,(i,s)=>s-i),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,As(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Rf(r)),As(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,As(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:y9,As(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,s)=>{const a=new cD(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const o=this.getTileRangeForExtentAndZ(r,s);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,a=i.maxX;s<=a;++s)for(let o=i.minY,l=i.maxY;o<=l;++o)r([n,s,o])}forEachTileCoordParentTileRange(e,n,r,i){let s,a,o,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),s=rx(a,a,o,o,r)):s=this.getTileRangeForExtentAndZ(l,u,r),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,a=e[2]*2;return rx(s,s+1,a,a+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],a=e[2];if(n===i)return rx(s,a,s,a,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),u=Math.floor(s*l),h=Math.floor(a*l);if(n<i)return rx(u,u,h,h,r);const d=Math.floor(l*(s+1))-1,f=Math.floor(l*(a+1))-1;return rx(u,d,h,f,r)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,ix);const i=ix[1],s=ix[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,ix);const a=ix[1],o=ix[2];return rx(i,a,s,o,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Go(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Go(this.getTileSize(e[0]),this.tmpSize_),a=r[0]+e[1]*s[0]*i,o=r[1]-(e[2]+1)*s[1]*i,l=a+s[0]*i,u=o+s[1]*i;return Bf(a,o,l,u,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const a=this.getZForResolution(r),o=r/this.getResolution(a),l=this.getOrigin(a),u=Go(this.getTileSize(a),this.tmpSize_);let h=o*(e-l[0])/r/u[0],d=o*(l[1]-n)/r/u[1];return i?(h=K0(h,b0)-1,d=K0(d,b0)-1):(h=jx(h,b0),d=jx(d,b0)),sw(a,h,d,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const a=this.getOrigin(r),o=this.getResolution(r),l=Go(this.getTileSize(r),this.tmpSize_);let u=(e-a[0])/o/l[0],h=(a[1]-n)/o/l[1];return i?(u=K0(u,b0)-1,h=K0(h,b0)-1):(u=jx(u,b0),h=jx(h,b0)),sw(r,u,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=U5(this.resolutions_,e,n||0);return eo(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return hAe(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}class mG extends qL{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function U9(t){let e=t.getDefaultTileGrid();return e||(e=uct(t),t.setDefaultTileGrid(e)),e}function lct(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Cw(n);if(!Sp(s,i)){const a=hs(s),o=Math.ceil((s[0]-i[0])/a);return i[0]+=a*o,t.getTileCoordForCoordAndZ(i,r)}return e}function cct(t,e,n,r){r=r!==void 0?r:"top-left";const i=qAe(t,e,n);return new qL({extent:t,origin:Vfe(t,r),resolutions:i,tileSize:n})}function rC(t){const e=t||{},n=e.extent||gi("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:qAe(n,e.maxZoom,e.tileSize,e.maxResolution)};return new qL(r)}function qAe(t,e,n,r){e=e!==void 0?e:mAe,n=Go(n!==void 0?n:y9);const i=oo(t),s=hs(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=r/Math.pow(2,l);return o}function uct(t,e,n,r){const i=Cw(t);return cct(i,e,n,r)}function Cw(t){t=gi(t);let e=t.getExtent();if(!e){const n=180*mS.degrees/t.getMetersPerUnit();e=Bf(-n,-n,n,n)}return e}function ES(t,e){const n=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&n.push(i+"="+encodeURIComponent(e[i]))});const r=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+r}const hct=/\{z\}/g,dct=/\{x\}/g,fct=/\{y\}/g,Act=/\{-y\}/g;function H9(t,e,n,r,i){return t.replace(hct,e.toString()).replace(dct,n.toString()).replace(fct,r.toString()).replace(Act,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-r).toString()})}function pct(t,e,n,r){const i=KAe(e,n,r),s=em(i,t.length);return t[s]}function G9(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}function gct(t,e){return function(n,r,i){if(!n)return;let s;const a=n[0];if(e){const o=e.getFullTileRange(a);o&&(s=o.getHeight()-1)}return H9(t,a,n[1],n[2],s)}}function XAe(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=gct(t[i],e);return zO(r)}function zO(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=k9(e),s=em(i,t.length);return t[s](e,n,r)}}class XL extends eC{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Yr.CHANGE)}release(){this.setState(or.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==or.EMPTY){if(this.state!==or.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Bi()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:A9(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class uD extends XL{constructor(e,n,r,i,s,a){super(e,n,a),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=or.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=or.ERROR,this.unlistenImage_(),this.image_=mct(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=or.LOADED:this.state=or.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==or.ERROR&&(this.state=or.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==or.IDLE&&(this.state=or.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Blt(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function mct(){const t=Xo(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}let e3;const TE=[];function ree(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function t3(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function vct(){if(e3===void 0){const t=Xo(6,6,TE);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",ree(t,4,5,4,0),ree(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;e3=t3(e,0)||t3(e,4)||t3(e,8),WL(t),TE.push(t.canvas)}return e3}function YM(t,e,n,r){const i=Tp(n,e,t);let s=BO(e,r,n);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=t.getMetersPerUnit();o!==void 0&&(s/=o);const l=t.getExtent();if(!l||Sp(l,i)){const u=BO(t,s,i)/s;isFinite(u)&&u>0&&(s/=u)}return s}function YAe(t,e,n,r){const i=Jc(n);let s=YM(t,e,i,r);return(!isFinite(s)||s<=0)&&V5(n,function(a){return s=YM(t,e,a,r),isFinite(s)&&s>0}),s}function ZAe(t,e,n,r,i,s,a,o,l,u,h,d,f,A){const m=Xo(Math.round(n*t),Math.round(n*e),TE);if(d||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(n,n);function g(M){return Math.round(M*n)/n}m.globalCompositeOperation="lighter";const y=ol();l.forEach(function(M,B,E){ly(y,M.extent)});let _;const x=n/r,S=(d?1:1+Math.pow(2,-24))/x;if(!f||l.length!==1||u!==0){if(_=Xo(Math.round(hs(y)*x),Math.round(oo(y)*x),TE),d||(_.imageSmoothingEnabled=!1),i&&A){const M=(i[0]-y[0])*x,B=-(i[3]-y[3])*x,E=hs(i)*x,L=oo(i)*x;_.rect(M,B,E,L),_.clip()}l.forEach(function(M,B,E){if(M.image.width>0&&M.image.height>0){if(M.clipExtent){_.save();const F=(M.clipExtent[0]-y[0])*x,U=-(M.clipExtent[3]-y[3])*x,$=hs(M.clipExtent)*x,K=oo(M.clipExtent)*x;_.rect(d?F:Math.round(F),d?U:Math.round(U),d?$:Math.round(F+$)-Math.round(F),d?K:Math.round(U+K)-Math.round(U)),_.clip()}const L=(M.extent[0]-y[0])*x,I=-(M.extent[3]-y[3])*x,k=hs(M.extent)*x,O=oo(M.extent)*x;_.drawImage(M.image,u,u,M.image.width-2*u,M.image.height-2*u,d?L:Math.round(L),d?I:Math.round(I),d?k:Math.round(L+k)-Math.round(L),d?O:Math.round(I+O)-Math.round(I)),M.clipExtent&&_.restore()}})}const C=Rf(a);return o.getTriangles().forEach(function(M,B,E){const L=M.source,I=M.target;let k=L[0][0],O=L[0][1],F=L[1][0],U=L[1][1],$=L[2][0],K=L[2][1];const V=g((I[0][0]-C[0])/s),Q=g(-(I[0][1]-C[1])/s),X=g((I[1][0]-C[0])/s),z=g(-(I[1][1]-C[1])/s),ne=g((I[2][0]-C[0])/s),he=g(-(I[2][1]-C[1])/s),W=k,Y=O;k=0,O=0,F-=W,U-=Y,$-=W,K-=Y;const oe=[[F,U,0,0,X-V],[$,K,0,0,ne-V],[0,0,F,U,z-Q],[0,0,$,K,he-Q]],fe=nat(oe);if(!fe)return;if(m.save(),m.beginPath(),vct()||!d){m.moveTo(X,z);const ce=4,be=V-X,xe=Q-z;for(let Ie=0;Ie<ce;Ie++)m.lineTo(X+g((Ie+1)*be/ce),z+g(Ie*xe/(ce-1))),Ie!=ce-1&&m.lineTo(X+g((Ie+1)*be/ce),z+g((Ie+1)*xe/(ce-1)));m.lineTo(ne,he)}else m.moveTo(X,z),m.lineTo(V,Q),m.lineTo(ne,he);m.clip(),m.transform(fe[0],fe[2],fe[1],fe[3],V,Q),m.translate(y[0]-W,y[3]-Y);let me;if(_)me=_.canvas,m.scale(S,-S);else{const ce=l[0],be=ce.extent;me=ce.image,m.scale(hs(be)/me.width,-oo(be)/me.height)}m.drawImage(me,0,0),m.restore()}),_&&(WL(_),TE.push(_.canvas)),h&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,o.getTriangles().forEach(function(M,B,E){const L=M.target,I=(L[0][0]-C[0])/s,k=-(L[0][1]-C[1])/s,O=(L[1][0]-C[0])/s,F=-(L[1][1]-C[1])/s,U=(L[2][0]-C[0])/s,$=-(L[2][1]-C[1])/s;m.beginPath(),m.moveTo(O,F),m.lineTo(I,k),m.lineTo(U,$),m.closePath(),m.stroke()}),m.restore()),m.canvas}const yct=10,iee=.25;class V9{constructor(e,n,r,i,s,a,o){this.sourceProj_=e,this.targetProj_=n;let l={};const u=o?RO(S=>Ja(o,Tp(S,this.targetProj_,this.sourceProj_))):yS(this.targetProj_,this.sourceProj_);this.transformInv_=function(S){const C=S[0]+"/"+S[1];return l[C]||(l[C]=u(S)),l[C]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&hs(i)>=hs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?hs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?hs(this.targetProj_.getExtent()):null;const h=Rf(r),d=HL(r),f=tC(r),A=UL(r),m=this.transformInv_(h),g=this.transformInv_(d),y=this.transformInv_(f),_=this.transformInv_(A),x=yct+(a?Math.max(0,Math.ceil(Math.log2(nw(r)/(a*a*256*256)))):0);if(this.addQuad_(h,d,f,A,m,g,y,_,x),this.wrapsXInSource_){let S=1/0;this.triangles_.forEach(function(C,M,B){S=Math.min(S,C.source[0][0],C.source[1][0],C.source[2][0])}),this.triangles_.forEach(C=>{if(Math.max(C.source[0][0],C.source[1][0],C.source[2][0])-S>this.sourceWorldWidth_/2){const M=[[C.source[0][0],C.source[0][1]],[C.source[1][0],C.source[1][1]],[C.source[2][0],C.source[2][1]]];M[0][0]-S>this.sourceWorldWidth_/2&&(M[0][0]-=this.sourceWorldWidth_),M[1][0]-S>this.sourceWorldWidth_/2&&(M[1][0]-=this.sourceWorldWidth_),M[2][0]-S>this.sourceWorldWidth_/2&&(M[2][0]-=this.sourceWorldWidth_);const B=Math.min(M[0][0],M[1][0],M[2][0]);Math.max(M[0][0],M[1][0],M[2][0])-B<this.sourceWorldWidth_/2&&(C.source=M)}})}l={}}addTriangle_(e,n,r,i,s,a){this.triangles_.push({source:[i,s,a],target:[e,n,r]})}addQuad_(e,n,r,i,s,a,o,l,u){const h=rl([s,a,o,l]),d=this.sourceWorldWidth_?hs(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,A=this.sourceProj_.canWrapX()&&d>.5&&d<1;let m=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=rl([e,n,r,i]);m=hs(y)/this.targetWorldWidth_>iee||m}!A&&this.sourceProj_.isGlobal()&&d&&(m=d>iee||m)}if(!m&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!wo(h,this.maxSourceExtent_))return;let g=0;if(!m&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)m=!0;else if(g=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(u>0){if(!m){const y=[(e[0]+r[0])/2,(e[1]+r[1])/2],_=this.transformInv_(y);let x;A?x=(em(s[0],f)+em(o[0],f))/2-em(_[0],f):x=(s[0]+o[0])/2-_[0];const S=(s[1]+o[1])/2-_[1];m=x*x+S*S>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const y=[(n[0]+r[0])/2,(n[1]+r[1])/2],_=this.transformInv_(y),x=[(i[0]+e[0])/2,(i[1]+e[1])/2],S=this.transformInv_(x);this.addQuad_(e,n,y,x,s,a,_,S,u-1),this.addQuad_(x,y,r,i,S,_,o,l,u-1)}else{const y=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(y),x=[(r[0]+i[0])/2,(r[1]+i[1])/2],S=this.transformInv_(x);this.addQuad_(e,y,x,i,s,_,S,l,u-1),this.addQuad_(y,n,r,x,_,a,o,S,u-1)}return}}if(A){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(g&11)==0&&this.addTriangle_(e,r,i,s,o,l),(g&14)==0&&this.addTriangle_(e,r,n,s,o,a),g&&((g&13)==0&&this.addTriangle_(n,i,e,a,l,s),(g&7)==0&&this.addTriangle_(n,i,r,a,l,o))}calculateSourceExtent(){const e=ol();return this.triangles_.forEach(function(n,r,i){const s=n.source;R1(e,s[0]),R1(e,s[1]),R1(e,s[2])}),e}getTriangles(){return this.triangles_}}const z9=.5;class $9 extends XL{constructor(e,n,r,i,s,a,o,l,u,h,d,f){super(s,or.IDLE,f),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const A=i.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const y=m?kl(A,m):A;if(nw(y)===0){this.state=or.EMPTY;return}const _=e.getExtent();_&&(g?g=kl(g,_):g=_);const x=i.getResolution(this.wrappedTileCoord_[0]),S=YAe(e,r,y,x);if(!isFinite(S)||S<=0){this.state=or.EMPTY;return}const C=h!==void 0?h:z9;if(this.triangulation_=new V9(e,r,y,g,S*C,x),this.triangulation_.getTriangles().length===0){this.state=or.EMPTY;return}this.sourceZ_=n.getZForResolution(S);let M=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(M[1]=eo(M[1],g[1],g[3]),M[3]=eo(M[3],g[1],g[3])):M=kl(M,g)),!nw(M))this.state=or.EMPTY;else{let B=0,E=0;e.canWrapX()&&(B=hs(_),E=Math.floor((M[0]-_[0])/B)),$5(M.slice(),e,!0).forEach(I=>{const k=n.getTileRangeForExtentAndZ(I,this.sourceZ_);for(let O=k.minX;O<=k.maxX;O++)for(let F=k.minY;F<=k.maxY;F++){const U=u(this.sourceZ_,O,F,o);if(U){const $=E*B;this.sourceTiles_.push({tile:U,offset:$})}}++E}),this.sourceTiles_.length===0&&(this.state=or.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var i;const r=n.tile;if(r&&r.getState()==or.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const a=(i=this.clipExtent_)==null?void 0:i.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),e.push({extent:s,clipExtent:a,image:r.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=or.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ZAe(i,s,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=or.LOADED}this.changed()}load(){if(this.state==or.IDLE){this.state=or.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const r=n.getState();if(r==or.IDLE||r==or.LOADING){e++;const i=Ti(n,Yr.CHANGE,s=>{const a=n.getState();(a==or.LOADED||a==or.ERROR||a==or.EMPTY)&&(ea(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},r,i){n.getState()==or.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(ea),this.sourcesListenerKeys_=null}release(){this.canvas_&&(WL(this.canvas_.getContext("2d")),TE.push(this.canvas_),this.canvas_=null),super.release()}}class hD extends Vd{constructor(e){var r;super(),this.projection=gi(e.projection),this.attributions_=see(e.attributions),this.attributionsCollapsible_=(r=e.attributionsCollapsible)!=null?r:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=see(e),this.changed()}setState(e){this.state_=e,this.changed()}}function see(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}class dD extends hD{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Go(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||Sr(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Bi()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:U9(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),a=Go(i.getTileSize(e),this.tmpSize);return s==1?a:IAe(a,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const r=n!==void 0?n:this.getProjection(),i=n!==void 0?this.getTileGridForProjection(r):this.tileGrid||this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=lct(i,e,r)),oct(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class JAe extends Zh{constructor(e,n){super(e),this.tile=n}}const ME={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class fD extends dD{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===fD.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=Sr(n),i=n.getState();let s;i==or.LOADING?(this.tileLoadingKeys_[r]=!0,s=ME.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==or.ERROR?ME.TILELOADERROR:i==or.LOADED?ME.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new JAe(s,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=G9(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(XAe(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}}class iC extends fD{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:_ct,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:uD,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!tm(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||tm(n,e)))return this.tileGrid;const r=Sr(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=U9(e)),this.tileGridForProjection[r]}createTile_(e,n,r,i,s,a){const o=[e,n,r],l=this.getTileCoordForTileUrlFunction(o,s),u=l?this.tileUrlFunction(l,i,s):void 0,h=new this.tileClass(o,u!==void 0?or.IDLE:or.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=a,h.addEventListener(Yr.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const a=this.getProjection();if(!a||!s||tm(a,s))return this.getTileInternal(e,n,r,i,a||s);const o=[e,n,r],l=this.getKey(),u=this.getTileGridForProjection(a),h=this.getTileGridForProjection(s),d=this.getTileCoordForTileUrlFunction(o,s),f=new $9(a,u,s,h,o,d,this.getTilePixelRatio(i),this.getGutter(),(A,m,g,y)=>this.getTileInternal(A,m,g,y,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,r,i,s){const a=this.getKey();return this.createTile_(e,n,r,i,s,a)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const r=gi(e);if(r){const i=Sr(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}}function _ct(t,e){t.getImage().src=e}function wct(t){const e=t[0],n=new Array(e);let r=1<<e-1,i,s;for(i=0;i<e;++i)s=48,t[1]&r&&(s+=1),t[2]&r&&(s+=2),n[i]=String.fromCharCode(s),r>>=1;return n.join("")}const bct='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>';class xct extends iC{constructor(e){const n=e.hidpi!==void 0?e.hidpi:!1;super({cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,projection:gi("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.hidpi_=n,this.culture_=e.culture!==void 0?e.culture:"en-us",this.maxZoom_=e.maxZoom!==void 0?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,this.placeholderTiles_=e.placeholderTiles;const r="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;fetch(r).then(i=>i.json()).then(i=>this.handleImageryMetadataResponse(i))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(e){if(e.statusCode!=200||e.statusDescription!="OK"||e.authenticationResultCode!="ValidCredentials"||e.resourceSets.length!=1||e.resourceSets[0].resources.length!=1){this.setState("error");return}const n=e.resourceSets[0].resources[0],r=this.maxZoom_==-1?n.zoomMax:this.maxZoom_,i=this.getProjection(),s=Cw(i),a=this.hidpi_?2:1,o=n.imageWidth==n.imageHeight?n.imageWidth/a:[n.imageWidth/a,n.imageHeight/a],l=rC({extent:s,minZoom:n.zoomMin,maxZoom:r,tileSize:o});this.tileGrid=l;const u=this.culture_,h=this.hidpi_,d=this.placeholderTiles_;if(this.tileUrlFunction=zO(n.imageUrlSubdomains.map(function(f){const A=[0,0,0],m=n.imageUrl.replace("{subdomain}",f).replace("{culture}",u);return function(g,y,_){if(!g)return;sw(g[0],g[1],g[2],A);const x=new URL(m.replace("{quadkey}",wct(A))),S=x.searchParams;return h&&(S.set("dpi","d1"),S.set("device","mobile")),d===!0?S.delete("n"):d===!1&&S.set("n","z"),x.toString()}})),n.imageryProviders){const f=Uy(gi("EPSG:4326"),this.getProjection());this.setAttributions(A=>{const m=[],g=A.viewState,y=this.getTileGrid(),_=y.getZForResolution(g.resolution,this.zDirection),S=y.getTileCoordForCoordAndZ(g.center,_)[0];return n.imageryProviders.map(function(C){let M=!1;const B=C.coverageAreas;for(let E=0,L=B.length;E<L;++E){const I=B[E];if(S>=I.zoomMin&&S<=I.zoomMax){const k=I.bbox,O=[k[1],k[0],k[3],k[2]],F=GL(O,f);if(wo(F,A.extent)){M=!0;break}}}M&&m.push(C.attribution)}),m.push(bct),m})}this.setState("ready")}}class Q9 extends iC{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:rC({extent:Cw(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}let Ect=!1;function epe(t,e,n,r,i,s,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=Ect,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const u=e.getType();try{let h;u=="text"||u=="json"?h=o.responseText:u=="xml"?h=o.responseXML||o.responseText:u=="arraybuffer"&&(h=o.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):a()}catch(h){a()}}else a()},o.onerror=a,o.send()}function aee(t,e){return function(n,r,i,s,a){epe(t,e,n,r,i,(o,l)=>{this.addFeatures(o),s!==void 0&&s(o)},a||pS)}}function tpe(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Sct(t,e){return[t]}function Cct(t){return function(e,n,r){const i=t.getZForResolution(Nat(n)),s=t.getTileRangeForExtentAndZ(Gh(e),i),a=[],o=[i,0,0];for(o[1]=s.minX;o[1]<=s.maxX;++o[1])for(o[2]=s.minY;o[2]<=s.maxY;++o[2])a.push(_w(t.getTileCoordExtent(o)));return a}}const Tct=Object.freeze(Object.defineProperty({__proto__:null,all:tpe,bbox:Sct,tile:Cct},Symbol.toStringTag,{value:"Module"}));function npe(t,e,n,r){const i=[];let s=ol();for(let a=0,o=n.length;a<o;++a){const l=n[a];s=G5(t,e,l[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return i}function $O(t,e,n,r,i,s,a){let o,l;const u=(n-e)/r;if(u===1)o=e;else if(u===2)o=e,l=i;else if(u!==0){let h=t[e],d=t[e+1],f=0;const A=[0];for(let y=e+r;y<n;y+=r){const _=t[y],x=t[y+1];f+=Math.sqrt((_-h)*(_-h)+(x-d)*(x-d)),A.push(f),h=_,d=x}const m=i*f,g=Ust(A,m);g<0?(l=(m-A[-g-2])/(A[-g-1]-A[-g-2]),o=e+(-g-2)*r):o=e+g*r}a=a>1?a:2,s=s||new Array(a);for(let h=0;h<a;++h)s[h]=o===void 0?NaN:l===void 0?t[o+h]:ff(t[o+h],t[o+r+h],l);return s}function vG(t,e,n,r,i,s){if(n==e)return null;let a;if(i<t[e+r-1])return s?(a=t.slice(e,e+r),a[r-1]=i,a):null;if(t[n-1]<i)return s?(a=t.slice(n-r,n),a[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);let o=e/r,l=n/r;for(;o<l;){const f=o+l>>1;i<t[(f+1)*r-1]?l=f:o=f+1}const u=t[o*r-1];if(i==u)return t.slice((o-1)*r,(o-1)*r+r);const h=t[(o+1)*r-1],d=(i-u)/(h-u);a=[];for(let f=0;f<r-1;++f)a.push(ff(t[(o-1)*r+f],t[o*r+f],d));return a.push(i),a}function Mct(t,e,n,r,i,s,a){if(a)return vG(t,e,n[n.length-1],r,i,s);let o;if(i<t[r-1])return s?(o=t.slice(0,r),o[r-1]=i,o):null;if(t[t.length-1]<i)return s?(o=t.slice(t.length-r),o[r-1]=i,o):null;for(let l=0,u=n.length;l<u;++l){const h=n[l];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return vG(t,e,h,r,i,!1);e=h}}return null}class Tw extends Mp{constructor(e,n,r){super(),r!==void 0&&n===void 0?this.setFlatCoordinates(r,e):(n=n||0,this.setCenterAndRadius(e,n,r))}clone(){const e=new Tw(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,a=e-s[0],o=n-s[1],l=a*a+o*o;if(l<i){if(l===0)for(let u=0;u<this.stride;++u)r[u]=s[u];else{const u=this.getRadius()/Math.sqrt(l);r[0]=s[0]+u*a,r[1]=s[1]+u*o;for(let h=2;h<this.stride;++h)r[h]=s[h]}return r.length=this.stride,l}return i}containsXY(e,n){const r=this.flatCoordinates,i=e-r[0],s=n-r[1];return i*i+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,r=n[this.stride]-n[0];return Bf(n[0]-r,n[1]-r,n[0]+r,n[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){const n=this.getExtent();if(wo(e,n)){const r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:V5(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,r=this.flatCoordinates[n]-this.flatCoordinates[0],i=e.slice();i[n]=i[0]+r;for(let s=1;s<n;++s)i[n+s]=e[s];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,n,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let s=sAe(i,0,e,this.stride);i[s++]=i[0]+n;for(let a=1,o=this.stride;a<o;++a)i[s++]=i[a];i.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const r=this.getCenter(),i=this.getStride();this.setCenter(t9(r,0,r.length,i,e,n,r)),this.changed()}}Tw.prototype.transform;class Hl extends zL{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(ea),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)this.changeEventsKeys_.push(Ti(e[n],Yr.CHANGE,this.changed,this))}clone(){const e=new Hl(n3(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<ky(this.getExtent(),e,n))return i;const s=this.geometries_;for(let a=0,o=s.length;a<o;++a)i=s[a].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){$v(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)ly(e,n[r].getExtent());return e}getGeometries(){return n3(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,a=r.length;s<a;++s){const o=r[s],l=o.getSimplifiedGeometry(e);n.push(l),l!==o&&(i=!0)}return i?new Hl(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Jc(this.getExtent()));const i=this.geometries_;for(let s=0,a=i.length;s<a;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(n3(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function n3(t){return t.map(e=>e.clone())}function rpe(t,e,n,r){let i=t[e],s=t[e+1],a=0;for(let o=e+r;o<n;o+=r){const l=t[o],u=t[o+1];a+=Math.sqrt((l-i)*(l-i)+(u-s)*(u-s)),i=l,s=u}return a}class Ca extends Mp{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){qs(this.flatCoordinates,e),this.changed()}clone(){const e=new Ca(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<ky(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(n9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),i9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return uAe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,vG(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return hv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return $O(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return rpe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){var e;return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,(e=this.flatMidpoint_)!=null?e:void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Y5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ca(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Z5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$L(this.flatCoordinates,0,e,this.stride),this.changed()}}class hc extends Mp{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{const i=e,s=[],a=[];for(let l=0,u=i.length;l<u;++l){const h=i[l];qs(s,h.getFlatCoordinates()),a.push(s.length)}const o=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(o,s),this.ends_=a}}appendLineString(e){qs(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new hc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<ky(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(r9(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s9(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,Mct(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return zM(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ca(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],u=new Ca(e.slice(s,l),r);i.push(u),s=l}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let a=0,o=i.length;a<o;++a){const l=i[a],u=$O(n,r,l,s,.5);qs(e,u),r=l}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=oAe(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new hc(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return Zat(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=QL(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class zd extends Mp{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){qs(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new zd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<ky(this.getExtent(),e,n))return i;const s=this.flatCoordinates,a=this.stride;for(let o=0,l=s.length;o<l;o+=a){const u=pv(e,n,s[o],s[o+1]);if(u<i){i=u;for(let h=0;h<a;++h)r[h]=s[o+h];r.length=a}}return i}getCoordinates(){return hv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new oa(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,a=e.length;s<a;s+=r){const o=new oa(e.slice(s,s+r),n);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const a=n[i],o=n[i+1];if(H5(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$L(this.flatCoordinates,0,e,this.stride),this.changed()}}class dc extends Mp{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){const i=e,s=[],a=[];for(let o=0,l=i.length;o<l;++o){const u=i[o],h=s.length,d=u.getEnds();for(let f=0,A=d.length;f<A;++f)d[f]+=h;qs(s,u.getFlatCoordinates()),a.push(d)}n=i.length===0?this.getLayout():i[0].getLayout(),e=s,r=a}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;qs(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new dc(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<ky(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Wat(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Yat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return Qat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),uG(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,cG(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=npe(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=cAe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new zd(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;fAe(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=uG(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=qat(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new dc(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,a=r.length;s<a;++s)r[s]-=n;return new uo(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let a=0,o=r.length;a<o;++a){const l=r[a].slice(),u=l[l.length-1];if(s!==0)for(let d=0,f=l.length;d<f;++d)l[d]-=s;const h=new uo(n.slice(s,u),e,l);i.push(h),s=u}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Jat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=aAe(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const Lct=Object.freeze(Object.defineProperty({__proto__:null,Circle:Tw,Geometry:zL,GeometryCollection:Hl,LineString:Ca,LinearRing:Iv,MultiLineString:hc,MultiPoint:zd,MultiPolygon:dc,Point:oa,Polygon:uo,SimpleGeometry:Mp},Symbol.toStringTag,{value:"Module"})),oee=bo();class Ju{constructor(e,n,r,i,s,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=s,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?B1(this.flatCoordinates_):G5(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Jc(this.getExtent());this.flatInteriorPoints_=l9(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=u9(this.flatCoordinates_,this.ends_),n=npe(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=cAe(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=$O(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const r=this.ends_;for(let i=0,s=r.length;i<s;++i){const a=r[i],o=$O(e,n,a,2,.5);qs(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=gi(e);const n=e.getExtent(),r=e.getWorldExtent();if(n&&r){const i=oo(r)/oo(n);If(oee,r[0],r[3],i,-i,0,0,0),nm(this.flatCoordinates_,0,this.flatCoordinates_.length,2,oee,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Ju(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Ufe((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const r=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":r.length=Y5(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=oAe(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=a9(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break}return i&&(this.simplifiedGeometry_=new Ju(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Ju.prototype.getFlatCoordinates=Ju.prototype.getOrientedFlatCoordinates;class QO{constructor(e){this.rbush_=new M9(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[Sr(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const a=e[i],o=n[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};r[i]=l,this.items_[Sr(o)]=l}this.rbush_.load(r)}remove(e){const n=Sr(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[Sr(n)],i=[r.minX,r.minY,r.maxX,r.maxY];Cp(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Lv(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Bf(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}const Ko={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class x0 extends Zh{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class Qv extends hD{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=pS,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(As(this.format_,"`format` must be set when `url` is set"),this.loader_=aee(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:tpe;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new QO:null,this.loadedExtentsRtree_=new QO,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Ec(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=Sr(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new x0(Ko.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Ju||(this.featureChangeKeys_[e]=[Ti(n,Yr.CHANGE,this.handleFeatureChange_,this),Ti(n,tw.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let r=!0;if(n.getId()!==void 0){const i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof Ju){const s=this.idIndex_[i];s instanceof Ju?Array.isArray(s)?s.push(n):this.idIndex_[i]=[s,n]:r=!1}else r=!1}return r&&(As(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s],l=Sr(o);this.addToIndex_(l,o)&&r.push(o)}for(let s=0,a=r.length;s<a;s++){const o=r[s],l=Sr(o);this.setupChangeEvents_(l,o);const u=o.getGeometry();if(u){const h=u.getExtent();n.push(h),i.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(Ko.ADDFEATURE))for(let s=0,a=r.length;s<a;s++)this.dispatchEvent(new x0(Ko.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Ko.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(Ko.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(_l.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(_l.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(ea);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new x0(Ko.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){const s=i.getGeometry();if(s instanceof Ju||s.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){const i=r.getGeometry();if(i instanceof Ju||i.intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Lv(this.nullGeometryFeatures_)||qs(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=$5(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Mv,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const h=u.getGeometry(),d=o;if(o=h instanceof Ju?0:h.closestPointXY(r,i,a,o),o<d){s=u;const f=Math.sqrt(o);l[0]=r-f,l[1]=i-f,l[2]=r+f,l[3]=i+f}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=Sr(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const a=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const s=n.getId();if(s!==void 0){const a=s.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new x0(Ko.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:Sr(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Lv(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let a=0,o=s.length;a<o;++a){const l=s[a];i.forEachInExtent(l,function(h){return _f(h.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new x0(Ko.FEATURESLOADSTART)),this.loader_.call(this,l,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new x0(Ko.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new x0(Ko.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_,r=n.forEachInExtent(e,function(i){if(Cp(i.extent,e))return i});r&&n.remove(r)}removeFeatures(e){let n=!1;for(let r=0,i=e.length;r<i;++r)n=this.removeFeatureInternal(e[r])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=Sr(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const r=this.featureChangeKeys_[n];r==null||r.forEach(ea),delete this.featureChangeKeys_[n];const i=e.getId();if(i!==void 0){const s=i.toString(),a=this.idIndex_[s];a===e?delete this.idIndex_[s]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[s]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Ko.REMOVEFEATURE)&&this.dispatchEvent(new x0(Ko.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){As(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(aee(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}class ipe extends Qv{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return As(!r||r.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){var i;(i=this.source)==null||i.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Yr.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Yr.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=ol(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,a=r.length;s<a;s++){const o=r[s];if(!(Sr(o)in i)){const l=this.geometryFunction(o);if(l){const u=l.getCoordinates();B1(u,e),uc(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(d){const f=Sr(d);return f in i?!1:(i[f]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let o=e.length-1;o>=0;--o){const l=this.geometryFunction(e[o]);l?Wfe(r,l.getCoordinates()):e.splice(o,1)}jfe(r,1/e.length);const i=Jc(n),s=this.interpolationRatio,a=new oa([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(a,e):new vs({geometry:a,features:e})}}function SS(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function yG(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const Bct=new Error("disposed");let sx=null;function Rct(t){sx||(sx=Xo(t.width,t.height,void 0,{willReadFrequently:!0}));const e=sx.canvas,n=t.width;e.width!==n&&(e.width=n);const r=t.height;return e.height!==r&&(e.height=r),sx.clearRect(0,0,n,r),sx.drawImage(t,0,0),sx.getImageData(0,0,n,r).data}const Ict=[256,256];class ZM extends XL{constructor(e){const n=or.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=SS(this.data_);return e?[e.width,e.height]:Ict}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==or.IDLE&&this.state!==or.ERROR)return;this.state=or.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=or.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=or.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Bct),this.controller_=null),super.disposeInternal()}}function Mw(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function WO(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function _G(t,e,n,r,i,s,a){a=a!=null?a:Mw();const o=1/(t-e),l=1/(n-r),u=1/(i-s);return a[0]=-2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*u,a[11]=0,a[12]=(t+e)*o,a[13]=(r+n)*l,a[14]=(s+i)*u,a[15]=1,a}function lee(t,e,n,r,i){return i=i!=null?i:Mw(),i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e,i[3]=t[3]*e,i[4]=t[4]*n,i[5]=t[5]*n,i[6]=t[6]*n,i[7]=t[7]*n,i[8]=t[8]*r,i[9]=t[9]*r,i[10]=t[10]*r,i[11]=t[11]*r,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function Pct(t,e,n,r,i){i=i!=null?i:Mw();let s,a,o,l,u,h,d,f,A,m,g,y;return t===i?(i[12]=t[0]*e+t[4]*n+t[8]*r+t[12],i[13]=t[1]*e+t[5]*n+t[9]*r+t[13],i[14]=t[2]*e+t[6]*n+t[10]*r+t[14],i[15]=t[3]*e+t[7]*n+t[11]*r+t[15]):(s=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5],d=t[6],f=t[7],A=t[8],m=t[9],g=t[10],y=t[11],i[0]=s,i[1]=a,i[2]=o,i[3]=l,i[4]=u,i[5]=h,i[6]=d,i[7]=f,i[8]=A,i[9]=m,i[10]=g,i[11]=y,i[12]=s*e+u*n+A*r+t[12],i[13]=a*e+h*n+m*r+t[13],i[14]=o*e+d*n+g*r+t[14],i[15]=l*e+f*n+y*r+t[15]),i}function Fct(t,e,n,r){return r=r!=null?r:Mw(),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=t,r[13]=e,r[14]=n,r[15]=1,r}const Oct="\n  attribute vec4 a_position;\n  attribute vec4 a_texcoord;\n\n  uniform mat4 u_matrix;\n  uniform mat4 u_textureMatrix;\n\n  varying vec2 v_texcoord;\n\n  void main() {\n    gl_Position = u_matrix * a_position;\n    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;\n    v_texcoord = texcoord;\n  }\n",Nct="\n  precision mediump float;\n\n  varying vec2 v_texcoord;\n\n  uniform sampler2D u_texture;\n\n  void main() {\n    if (\n      v_texcoord.x < 0.0 ||\n      v_texcoord.y < 0.0 ||\n      v_texcoord.x > 1.0 ||\n      v_texcoord.y > 1.0\n    ) {\n      discard;\n    }\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n  }\n";class Dct{constructor(e){this.gl_=e,this.program_=wG(e,Nct,Oct),this.positionLocation=e.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=e.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=e.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=e.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=e.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.texcoords),e.STATIC_DRAW)}drawImage(e,n,r,i,s,a,o,l,u,h,d,f,A){const m=this.gl_;l===void 0&&(l=i),u===void 0&&(u=s),a===void 0&&(a=n),o===void 0&&(o=r),h===void 0&&(h=a),d===void 0&&(d=o),f===void 0&&(f=m.canvas.width),A===void 0&&(A=m.canvas.height),m.bindTexture(m.TEXTURE_2D,e),m.useProgram(this.program_),m.bindBuffer(m.ARRAY_BUFFER,this.positionBuffer),m.enableVertexAttribArray(this.positionLocation),m.vertexAttribPointer(this.positionLocation,2,m.FLOAT,!1,0,0),m.bindBuffer(m.ARRAY_BUFFER,this.texcoordBuffer),m.enableVertexAttribArray(this.texcoordLocation),m.vertexAttribPointer(this.texcoordLocation,2,m.FLOAT,!1,0,0);let g=_G(0,f,0,A,-1,1);g=Pct(g,l,u,0),g=lee(g,h,d,1),m.uniformMatrix4fv(this.matrixLocation,!1,g);let y=Fct(i/n,s/r,0);y=lee(y,a/n,o/r,1),m.uniformMatrix4fv(this.textureMatrixLocation,!1,y),m.uniform1i(this.textureLocation,0),m.drawArrays(m.TRIANGLES,0,this.positions.length/2)}}function cee(t,e,n){const r=t.createShader(e);if(r===null)throw new Error("Shader compilation failed");if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){const i=t.getShaderInfoLog(r);throw i===null?new Error("Shader info log creation failed"):new Error(i)}return r}function wG(t,e,n){const r=t.createProgram(),i=cee(t,t.VERTEX_SHADER,n),s=cee(t,t.FRAGMENT_SHADER,e);if(r===null)throw new Error("Program creation failed");if(t.attachShader(r,i),t.attachShader(r,s),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw t.getProgramInfoLog(r)===null?new Error("Program info log creation failed"):new Error;return r}const kct="\n  attribute vec4 a_position;\n\n  uniform mat4 u_matrix;\n\n  void main() {\n     gl_Position = u_matrix * a_position;\n  }\n",Uct="\n  precision mediump float;\n\n  uniform vec4 u_val;\n  void main() {\n     gl_FragColor = u_val;\n  }\n",Hct="\n  attribute vec4 a_position;\n  attribute vec2 a_texcoord;\n\n  varying vec2 v_texcoord;\n\n  uniform mat4 u_matrix;\n\n  void main() {\n     gl_Position = u_matrix * a_position;\n     v_texcoord = a_texcoord;\n  }\n",Gct="\n  precision mediump float;\n\n  varying vec2 v_texcoord;\n\n  uniform sampler2D u_texture;\n\n  void main() {\n    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {\n      discard;\n    }\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n  }\n";function Vct(t,e,n,r){let i;return n&&n.length?i=n.shift():d9?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("webgl",r)}function zct(t){const e=t.canvas;e.width=1,e.height=1,t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}const uee=[];function $ct(t,e,n,r,i,s,a,o,l,u,h,d,f,A){const m=Math.round(r*e),g=Math.round(r*n);t.canvas.width=m,t.canvas.height=g;let y,_;if(_=t.createTexture(),t.bindTexture(t.TEXTURE_2D,_),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,m,g,0,t.RGBA,h,null),y=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,y),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_,0),y===null)throw new Error("Could not create framebuffer");if(_===null)throw new Error("Could not create texture");if(l.length===0)return{width:m,height:g,framebuffer:y,texture:_};const x=ol();l.forEach(function(k,O,F){ly(x,k.extent)});let S,C,M;const B=1/i;{if(S=t.createTexture(),_===null)throw new Error("Could not create texture");C=Math.round(hs(x)*B),M=Math.round(oo(x)*B);const k=t.getParameter(t.MAX_TEXTURE_SIZE),O=Math.max(C,M),F=O>k?k/O:1,U=Math.round(C*F),$=Math.round(M*F);t.bindTexture(t.TEXTURE_2D,S),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,U,$,0,t.RGBA,h,null);const K=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,K),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,S,0);const V=new Dct(t);l.forEach(function(Q,X,z){const ne=(Q.extent[0]-x[0])*B*F,he=-(Q.extent[3]-x[3])*B*F,W=hs(Q.extent)*B*F,Y=oo(Q.extent)*B*F;if(t.bindFramebuffer(t.FRAMEBUFFER,K),t.viewport(0,0,U,$),Q.clipExtent){const oe=(Q.clipExtent[0]-x[0])*B*F,fe=-(Q.clipExtent[3]-x[3])*B*F,me=hs(Q.clipExtent)*B*F,ce=oo(Q.clipExtent)*B*F;t.enable(t.SCISSOR_TEST),t.scissor(f?oe:Math.round(oe),f?fe:Math.round(fe),f?me:Math.round(oe+me)-Math.round(oe),f?ce:Math.round(fe+ce)-Math.round(fe))}V.drawImage(Q.texture,Q.width,Q.height,u,u,Q.width-2*u,Q.height-2*u,f?ne:Math.round(ne),f?he:Math.round(he),f?W:Math.round(ne+W)-Math.round(ne),f?Y:Math.round(he+Y)-Math.round(he),U,$),t.disable(t.SCISSOR_TEST)}),t.deleteFramebuffer(K)}const E=Rf(a),L=Rf(x),I=k=>{const O=(k[0][0]-E[0])/s*r,F=-(k[0][1]-E[1])/s*r,U=(k[1][0]-E[0])/s*r,$=-(k[1][1]-E[1])/s*r,K=(k[2][0]-E[0])/s*r,V=-(k[2][1]-E[1])/s*r;return{u1:U,v1:$,u0:O,v0:F,u2:K,v2:V}};t.bindFramebuffer(t.FRAMEBUFFER,y),t.viewport(0,0,m,g);{const k=[],O=[],F=wG(t,Gct,Hct);t.useProgram(F);const U=t.getUniformLocation(F,"u_texture");t.bindTexture(t.TEXTURE_2D,S),t.uniform1i(U,0),o.getTriangles().forEach(function(ne,he,W){const Y=ne.source,oe=ne.target,{u1:fe,v1:me,u0:ce,v0:be,u2:xe,v2:Ie}=I(oe),Qe=(Y[0][0]-L[0])/i/C,ue=-(Y[0][1]-L[1])/i/M,ye=(Y[1][0]-L[0])/i/C,$e=-(Y[1][1]-L[1])/i/M,Ve=(Y[2][0]-L[0])/i/C,Se=-(Y[2][1]-L[1])/i/M;k.push(fe,me,ce,be,xe,Ie),O.push(ye,$e,Qe,ue,Ve,Se)});const $=_G(0,m,g,0,-1,1),K=t.getUniformLocation(F,"u_matrix");t.uniformMatrix4fv(K,!1,$);const V=t.getAttribLocation(F,"a_position"),Q=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,Q),t.bufferData(t.ARRAY_BUFFER,new Float32Array(k),t.STATIC_DRAW),t.vertexAttribPointer(V,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(V);const X=t.getAttribLocation(F,"a_texcoord"),z=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,z),t.bufferData(t.ARRAY_BUFFER,new Float32Array(O),t.STATIC_DRAW),t.vertexAttribPointer(X,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(X),t.drawArrays(t.TRIANGLES,0,k.length/2)}if(d){const k=wG(t,Uct,kct);t.useProgram(k);const O=_G(0,m,g,0,-1,1),F=t.getUniformLocation(k,"u_matrix");t.uniformMatrix4fv(F,!1,O);const U=Array.isArray(d)?d:[0,0,0,255],$=t.getUniformLocation(k,"u_val");t.uniform4fv($,U);const K=t.getAttribLocation(k,"a_position"),V=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,V),t.vertexAttribPointer(K,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(K);const Q=o.getTriangles().reduce(function(X,z){const ne=z.target,{u1:he,v1:W,u0:Y,v0:oe,u2:fe,v2:me}=I(ne);return X.concat([he,W,Y,oe,Y,oe,fe,me,fe,me,he,W])},[]);t.bufferData(t.ARRAY_BUFFER,new Float32Array(Q),t.STATIC_DRAW),t.drawArrays(t.LINES,0,Q.length/2)}return{width:m,height:g,framebuffer:y,texture:_}}class Qct extends ZM{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.renderEdges_=e.renderEdges!==void 0?e.renderEdges:!1,this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,r=n.getExtent(),i=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?i?kl(r,i):r:i;const s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),a=this.targetTileGrid_.getExtent();let o=this.sourceTileGrid_.getExtent();const l=a?kl(s,a):s;if(nw(l)===0){this.state=or.EMPTY;return}r&&(o?o=kl(o,r):o=r);const u=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),h=e.targetProj,d=YAe(n,h,l,u);if(!isFinite(d)||d<=0){this.state=or.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:z9;if(this.triangulation_=new V9(n,h,l,o,d*f,u,e.transformMatrix),this.triangulation_.getTriangles().length===0){this.state=or.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(d);let A=this.triangulation_.calculateSourceExtent();if(o&&(n.canWrapX()?(A[1]=eo(A[1],o[1],o[3]),A[3]=eo(A[3],o[1],o[3])):A=kl(A,o)),!nw(A))this.state=or.EMPTY;else{let m=0,g=0;n.canWrapX()&&(m=hs(r),g=Math.floor((A[0]-r[0])/m)),$5(A.slice(),n,!0).forEach(_=>{const x=this.sourceTileGrid_.getTileRangeForExtentAndZ(_,this.sourceZ_),S=e.getTileFunction;for(let C=x.minX;C<=x.maxX;C++)for(let M=x.minY;M<=x.maxY;M++){const B=S(this.sourceZ_,C,M,this.pixelRatio_);if(B){const E=g*m;this.sourceTiles_.push({tile:B,offset:E})}}++g}),this.sourceTiles_.length===0&&(this.state=or.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(C=>{var he;const M=C.tile;if(!M||M.getState()!==or.LOADED)return;const B=M.getSize(),E=this.gutter_;let L;const I=yG(M.getData());I?L=I:(n=!0,L=Rct(SS(M.getData())));const k=[B[0]+2*E,B[1]+2*E],O=L instanceof Float32Array,F=k[0]*k[1],U=O?Float32Array:Uint8ClampedArray,$=new U(L.buffer),K=U.BYTES_PER_ELEMENT,V=K*$.length/F,Q=$.byteLength/k[1],X=Math.floor(Q/K/k[0]),z=this.sourceTileGrid_.getTileCoordExtent(M.tileCoord);z[0]+=C.offset,z[2]+=C.offset;const ne=(he=this.clipExtent_)==null?void 0:he.slice();ne&&(ne[0]+=C.offset,ne[2]+=C.offset),e.push({extent:z,clipExtent:ne,data:$,dataType:U,bytesPerPixel:V,pixelSize:k,bandCount:X})}),this.sourceTiles_.length=0,e.length===0){this.state=or.ERROR,this.changed();return}const r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),s=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],o=s*this.pixelRatio_,l=a*this.pixelRatio_,u=this.targetTileGrid_.getResolution(r),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),f=e[0].bandCount,A=new e[0].dataType(f*o*l),m=Vct(o,l,uee,{premultipliedAlpha:!1,antialias:!1});let g;const y=m.RGBA;let _;e[0].dataType==Float32Array?(_=m.FLOAT,m.getExtension("WEBGL_color_buffer_float"),m.getExtension("OES_texture_float"),m.getExtension("EXT_float_blend"),g=m.getExtension("OES_texture_float_linear")!==null&&this.interpolate):(_=m.UNSIGNED_BYTE,g=this.interpolate);const x=4,S=Math.ceil(f/x);for(let C=S-1;C>=0;--C){const M=[];for(let U=0,$=e.length;U<$;++U){const K=e[U],V=K.pixelSize,Q=V[0],X=V[1],z=new K.dataType(x*Q*X),ne=K.data;let he=C*x;for(let Y=0,oe=z.length;Y<oe;Y+=x)z[Y]=ne[he],z[Y+1]=ne[he+1],z[Y+2]=ne[he+2],z[Y+3]=ne[he+3],he+=f;const W=m.createTexture();m.bindTexture(m.TEXTURE_2D,W),g?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST)),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texImage2D(m.TEXTURE_2D,0,y,Q,X,0,y,_,z),M.push({extent:K.extent,clipExtent:K.clipExtent,texture:W,width:Q,height:X})}const{framebuffer:B,width:E,height:L}=$ct(m,s,a,this.pixelRatio_,h,u,d,this.triangulation_,M,this.gutter_,_,this.renderEdges_,g),I=E,k=L*x,O=new e[0].dataType(I*k);m.bindFramebuffer(m.FRAMEBUFFER,B),m.readPixels(0,0,E,L,m.RGBA,_,O);let F=C*x;for(let U=0,$=O.length;U<$;U+=x){const K=(I-1-(U/k|0))*k+U%k;A[F]=O[K],A[F+1]=O[K+1],A[F+2]=O[K+2],A[F+3]=O[K+3],F+=f}}if(zct(m),uee.push(m.canvas),n){const C=Xo(s,a),M=new ImageData(A,s);C.putImageData(M,0,0),this.reprojData_=C.canvas}else this.reprojData_=A;this.reprojSize_=[Math.round(o),Math.round(l)],this.state=or.LOADED,this.changed()}load(){if(this.state!==or.IDLE&&this.state!==or.ERROR)return;this.state=or.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const r=n.getState();if(r!==or.IDLE&&r!==or.LOADING)return;e++;const i=Ti(n,Yr.CHANGE,()=>{const s=n.getState();(s==or.LOADED||s==or.ERROR||s==or.EMPTY)&&(ea(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(i)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==or.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(ea),this.sourcesListenerKeys_=null}}class W9 extends dD{constructor(e){const n=e.projection===void 0?"EPSG:3857":e.projection;let r=e.tileGrid;r===void 0&&n&&(r=rC({extent:Cw(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize})),super({cacheSize:.1,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:n,tileGrid:r,state:e.state,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.tileSize_=e.tileSize?Go(e.tileSize):null,this.tileSizes_=null,this.tileLoadingKeys_={},this.loader_=e.loader,this.handleTileChange_=this.handleTileChange_.bind(this),this.bandCount=e.bandCount===void 0?4:e.bandCount,this.tileGridForProjection_={},this.crossOrigin_=e.crossOrigin||"anonymous",this.transformMatrix=null}setTileSizes(e){this.tileSizes_=e}getTileSize(e){if(this.tileSizes_)return this.tileSizes_[e];if(this.tileSize_)return this.tileSize_;const n=this.getTileGrid();return n?Go(n.getTileSize(e)):[256,256]}getGutterForProjection(e){const n=this.getProjection();return(!n||tm(n,e))&&!this.transformMatrix?this.gutter_:0}setLoader(e){this.loader_=e}getReprojTile_(e,n,r,i,s){const a=this.tileGrid||this.getTileGridForProjection(s||i),o=Math.max.apply(null,a.getResolutions().map((A,m)=>{const g=Go(a.getTileSize(m)),y=this.getTileSize(m);return Math.max(y[0]/g[0],y[1]/g[1])})),l=this.getTileGridForProjection(i),u=[e,n,r],h=this.getTileCoordForTileUrlFunction(u,i),d=Object.assign({sourceProj:s||i,sourceTileGrid:a,targetProj:i,targetTileGrid:l,tileCoord:u,wrappedTileCoord:h,pixelRatio:o,gutter:this.gutter_,getTileFunction:(A,m,g,y)=>this.getTile(A,m,g,y),transformMatrix:this.transformMatrix},this.tileOptions),f=new Qct(d);return f.key=this.getKey(),f}getTile(e,n,r,i,s){var S;const a=this.getProjection();if(s&&(a&&!tm(a,s)||this.transformMatrix))return this.getReprojTile_(e,n,r,s,a);const o=this.getTileSize(e),l=this.loader_,u=new AbortController,h={signal:u.signal,crossOrigin:this.crossOrigin_},d=this.getTileCoordForTileUrlFunction([e,n,r]);if(!d)return null;const f=d[0],A=d[1],m=d[2],g=(S=this.getTileGrid())==null?void 0:S.getFullTileRange(f);g&&(h.maxY=g.getHeight()-1);function y(){return V7(function(){return l(f,A,m,h)})}const _=Object.assign({tileCoord:[e,n,r],loader:y,size:o,controller:u},this.tileOptions),x=new ZM(_);return x.key=this.getKey(),x.addEventListener(Yr.CHANGE,this.handleTileChange_),x}handleTileChange_(e){const n=e.target,r=Sr(n),i=n.getState();let s;i==or.LOADING?(this.tileLoadingKeys_[r]=!0,s=ME.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==or.ERROR?ME.TILELOADERROR:i==or.LOADED?ME.TILELOADEND:void 0),s&&this.dispatchEvent(new JAe(s,n))}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||tm(n,e))&&!this.transformMatrix)return this.tileGrid;const r=Sr(e);return r in this.tileGridForProjection_||(this.tileGridForProjection_[r]=U9(e)),this.tileGridForProjection_[r]}setTileGridForProjection(e,n){const r=gi(e);if(r){const i=Sr(r);i in this.tileGridForProjection_||(this.tileGridForProjection_[i]=n)}}}function Wct(t){return((t.fileDirectory.NewSubfileType||0)&4)===4}function jct(t,e){if(!t)return!1;if(t===!0)return!0;if(e.getSamplesPerPixel()!==3)return!1;const n=e.fileDirectory.PhotometricInterpretation,r=bd;return n===r.CMYK||n===r.YCbCr||n===r.CIELab||n===r.ICCLab}const hee="STATISTICS_MAXIMUM",dee="STATISTICS_MINIMUM",r3=256;let i3;function Kct(){return i3||(i3=new Fit),i3}function qct(t){try{return t.getBoundingBox(!0)}catch(e){return[0,0,t.getWidth(),t.getHeight()]}}function Xct(t){try{return t.getOrigin().slice(0,2)}catch(e){return[0,t.getHeight()]}}function Yct(t,e){try{return t.getResolution(e)}catch(n){return[e.getWidth()/t.getWidth(),e.getHeight()/t.getHeight()]}}function Zct(t){const e=t.geoKeys;if(!e)return null;if(e.ProjectedCSTypeGeoKey&&e.ProjectedCSTypeGeoKey!==32767){const n="EPSG:"+e.ProjectedCSTypeGeoKey;let r=gi(n);if(!r){const i=xJ(e.ProjLinearUnitsGeoKey);i&&(r=new hm({code:n,units:i}))}return r}if(e.GeographicTypeGeoKey&&e.GeographicTypeGeoKey!==32767){const n="EPSG:"+e.GeographicTypeGeoKey;let r=gi(n);if(!r){const i=xJ(e.GeogAngularUnitsGeoKey);i&&(r=new hm({code:n,units:i}))}return r}return null}function Jct(t){return t.getImageCount().then(function(e){const n=new Array(e);for(let r=0;r<e;++r)n[r]=t.getImage(r);return Promise.all(n)})}function eut(t,e){let n;return t.blob?n=sst(t.blob):t.overviews?n=ast(t.url,t.overviews,e):n=Nfe(t.url,e),n.then(Jct)}function nT(t,e,n,r,i){if(Array.isArray(t)){const s=t.length;if(!Array.isArray(e)||s!=e.length){const a=new Error(r);throw i(a),a}for(let a=0;a<s;++a)nT(t[a],e[a],n,r,i);return}if(e=e,Math.abs(t-e)>n*t)throw new Error(r)}function tut(t){return t instanceof Int8Array?-128:t instanceof Int16Array?-32768:t instanceof Int32Array?-2147483648:t instanceof Float32Array?12e-39:0}function nut(t){return t instanceof Int8Array?127:t instanceof Uint8Array||t instanceof Uint8ClampedArray?255:t instanceof Int16Array?32767:t instanceof Uint16Array?65535:t instanceof Int32Array?2147483647:t instanceof Uint32Array?4294967295:t instanceof Float32Array?34e37:255}class spe extends W9{constructor(e){super({state:"loading",tileGrid:null,projection:e.projection||null,transition:e.transition,interpolate:e.interpolate!==!1,wrapX:e.wrapX}),this.sourceInfo_=e.sources;const n=this.sourceInfo_.length;this.sourceOptions_=e.sourceOptions,this.sourceImagery_=new Array(n),this.sourceMasks_=new Array(n),this.resolutionFactors_=new Array(n),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=e.normalize!==!1,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=e.convertToRGB||!1,this.setKey(this.sourceInfo_.map(s=>s.url).join(","));const r=this,i=new Array(n);for(let s=0;s<n;++s)i[s]=eut(this.sourceInfo_[s],this.sourceOptions_);Promise.all(i).then(function(s){r.configure_(s)}).catch(function(s){bJ(s),r.error_=s,r.setState("error")})}getError(){return this.error_}determineProjection(e){const n=e[0];for(let r=n.length-1;r>=0;--r){const i=n[r],s=Zct(i);if(s){this.projection=s;break}}}determineTransformMatrix(e){const n=e[0];for(let r=n.length-1;r>=0;--r){const s=n[r].fileDirectory.ModelTransformation;if(s){const[a,o,l,u,h,d,f,A]=s,m=Rv(Rv([1/Math.sqrt(a*a+h*h),0,0,-1/Math.sqrt(o*o+d*d),u,A],[a,h,o,d,0,0]),[1,0,0,1,-u,-A]);this.transformMatrix=m,this.addAlpha_=!0;break}}}configure_(e){let n,r,i,s,a;const o=new Array(e.length),l=new Array(e.length),u=new Array(e.length);let h=0;const d=e.length;for(let y=0;y<d;++y){const _=[],x=[];e[y].forEach(I=>{Wct(I)?x.push(I):_.push(I)});const S=_.length;if(x.length>0&&x.length!==S)throw new Error("Expected one mask per image found ".concat(x.length," masks and ").concat(S," images"));let C,M;const B=new Array(S),E=new Array(S),L=new Array(S);l[y]=new Array(S),u[y]=new Array(S);for(let I=0;I<S;++I){const k=_[I],O=k.getGDALNoData();u[y][I]=k.getGDALMetadata(0),l[y][I]=O;const F=this.sourceInfo_[y].bands;o[y]=F?F.length:k.getSamplesPerPixel();const U=S-(I+1);C||(C=qct(k)),M||(M=Xct(k));const $=Yct(k,_[0]);L[U]=$[0];const K=[k.getTileWidth(),k.getTileHeight()];K[0]!==K[1]&&K[1]<r3&&(K[0]=r3,K[1]=r3),B[U]=K;const V=$[0]/Math.abs($[1]);E[U]=[K[0],K[1]/V]}if(n?kl(n,C,n):n=C,!r)r=M;else{const I="Origin mismatch for source ".concat(y,", got [").concat(M,"] but expected [").concat(r,"]");nT(r,M,0,I,this.viewRejector)}if(!a)a=L,this.resolutionFactors_[y]=1;else{a.length-h>L.length&&(h=a.length-L.length);const I=a[a.length-1]/L[L.length-1];this.resolutionFactors_[y]=I;const k=L.map(F=>F*=I),O="Resolution mismatch for source ".concat(y,", got [").concat(k,"] but expected [").concat(a,"]");nT(a.slice(h,a.length),k,.02,O,this.viewRejector)}i?nT(i.slice(h,i.length),E,.01,"Tile size mismatch for source ".concat(y),this.viewRejector):i=E,s?nT(s.slice(h,s.length),B,0,"Tile size mismatch for source ".concat(y),this.viewRejector):s=B,this.sourceImagery_[y]=_.reverse(),this.sourceMasks_[y]=x.reverse()}for(let y=0,_=this.sourceImagery_.length;y<_;++y){const x=this.sourceImagery_[y];for(;x.length<a.length;)x.unshift(void 0)}this.getProjection()||this.determineProjection(e),this.determineTransformMatrix(e),this.samplesPerPixel_=o,this.nodataValues_=l,this.metadata_=u;e:for(let y=0;y<d;++y){if(this.sourceInfo_[y].nodata!==void 0){this.addAlpha_=!0;break}if(this.sourceMasks_[y].length){this.addAlpha_=!0;break}const _=l[y],x=this.sourceInfo_[y].bands;if(x){for(let S=0;S<x.length;++S)if(_[x[S]-1]!==null){this.addAlpha_=!0;break e}continue}for(let S=0;S<_.length;++S)if(_[S]!==null){this.addAlpha_=!0;break e}}let f=this.addAlpha_?1:0;for(let y=0;y<d;++y)f+=o[y];this.bandCount=f;const A=new qL({extent:n,minZoom:h,origin:r,resolutions:a,tileSizes:i});this.tileGrid=A,this.setTileSizes(s),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");const m=1;a.length===2?a=[a[0],a[1],a[1]/2]:a.length===1&&(a=[a[0]*2,a[0],a[0]/2]);let g=n;if(this.transformMatrix){const y=iw(bo(),this.transformMatrix.slice()),_=RO(x=>Ja(y,x));g=GL(n,_)}this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:a,center:Bv(Jc(g),this.projection),extent:_w(g,this.projection),zoom:m})}loadTile_(e,n,r,i){const s=this.getTileSize(e),a=this.sourceImagery_.length,o=new Array(a*2),l=this.nodataValues_,u=this.sourceInfo_,h=Kct();for(let d=0;d<a;++d){const f=u[d],A=this.resolutionFactors_[d],m=[Math.round(n*(s[0]*A)),Math.round(r*(s[1]*A)),Math.round((n+1)*(s[0]*A)),Math.round((r+1)*(s[1]*A))],g=this.sourceImagery_[d][e];let y;f.bands&&(y=f.bands.map(function(M){return M-1}));let _;"nodata"in f&&f.nodata!==null?_=f.nodata:y?_=y.map(function(M){return l[d][M]}):_=l[d];const x={window:m,width:s[0],height:s[1],samples:y,fillValue:_,pool:h,interleave:!1,signal:i.signal};jct(this.convertToRGB_,g)?o[d]=g.readRGB(x):o[d]=g.readRasters(x);const S=a+d,C=this.sourceMasks_[d][e];if(!C){o[S]=Promise.resolve(null);continue}o[S]=C.readRasters({window:m,width:s[0],height:s[1],samples:[0],pool:h,interleave:!1})}return Promise.all(o).then(this.composeTile_.bind(this,s)).catch(function(d){throw bJ(d),d})}composeTile_(e,n){const r=this.metadata_,i=this.sourceInfo_,s=this.sourceImagery_.length,a=this.bandCount,o=this.samplesPerPixel_,l=this.nodataValues_,u=this.normalize_,h=this.addAlpha_,d=e[0]*e[1],f=d*a;let A;u?A=new Uint8Array(f):A=new Float32Array(f);let m=0;for(let g=0;g<d;++g){let y=h;for(let _=0;_<s;++_){const x=i[_];let S=x.min,C=x.max,M,B;if(u){const E=r[_][0];S===void 0&&(E&&dee in E?S=parseFloat(E[dee]):S=tut(n[_][0])),C===void 0&&(E&&hee in E?C=parseFloat(E[hee]):C=nut(n[_][0])),M=255/(C-S),B=-S*M}for(let E=0;E<o[_];++E){const L=n[_][E][g];let I;if(u?I=eo(M*L+B,0,255):I=L,!h)A[m]=I;else{let k=x.nodata;if(k===void 0){let F;x.bands?F=x.bands[E]-1:F=E,k=l[_][F]}const O=isNaN(k);(!O&&L!==k||O&&!isNaN(L))&&(y=!1,A[m]=I)}m++}if(!y){const E=s+_,L=n[E];L&&!L[0][g]&&(y=!0)}}h&&(y||(A[m]=255),m++)}return A}}spe.prototype.getView;const Nh={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},aw={};aw[Nh.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};aw[Nh.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}};aw[Nh.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}};aw.none={none:{supports:[],formats:[],qualities:[]}};const rut=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,fee=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,iut=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function sut(t){let e=t.getComplianceLevelSupportedFeatures();return e===void 0&&(e=aw[Nh.VERSION1].level0),{url:t.imageInfo["@id"]===void 0?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:[...e.formats,t.imageInfo.formats===void 0?[]:t.imageInfo.formats],qualities:[...e.qualities,t.imageInfo.qualities===void 0?[]:t.imageInfo.qualities],resolutions:t.imageInfo.scale_factors,tileSize:t.imageInfo.tile_width!==void 0?t.imageInfo.tile_height!==void 0?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:t.imageInfo.tile_height!=null?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}}function aut(t){const e=t.getComplianceLevelSupportedFeatures(),n=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,r=n&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],i=n&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],s=n&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:t.imageInfo.sizes===void 0?void 0:t.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:t.imageInfo.tiles===void 0?void 0:[t.imageInfo.tiles.map(function(a){return a.width})[0],t.imageInfo.tiles.map(function(a){return a.height===void 0?a.width:a.height})[0]],resolutions:t.imageInfo.tiles===void 0?void 0:t.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:[...e.supports,...r],formats:[...e.formats,...i],qualities:[...e.qualities,...s]}}function out(t){const e=t.getComplianceLevelSupportedFeatures(),n=t.imageInfo.extraFormats===void 0?e.formats:[...e.formats,...t.imageInfo.extraFormats],r=t.imageInfo.preferredFormats!==void 0&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter(function(i){return["jpg","png","gif"].includes(i)}).reduce(function(i,s){return i===void 0&&n.includes(s)?s:i},void 0):void 0;return{url:t.imageInfo.id,sizes:t.imageInfo.sizes===void 0?void 0:t.imageInfo.sizes.map(function(i){return[i.width,i.height]}),tileSize:t.imageInfo.tiles===void 0?void 0:[t.imageInfo.tiles.map(function(i){return i.width})[0],t.imageInfo.tiles.map(function(i){return i.height})[0]],resolutions:t.imageInfo.tiles===void 0?void 0:t.imageInfo.tiles.map(function(i){return i.scaleFactors})[0],supports:t.imageInfo.extraFeatures===void 0?e.supports:[...e.supports,...t.imageInfo.extraFeatures],formats:n,qualities:t.imageInfo.extraQualities===void 0?e.qualities:[...e.qualities,...t.imageInfo.extraQualities],preferredFormat:r}}const AD={};AD[Nh.VERSION1]=sut;AD[Nh.VERSION2]=aut;AD[Nh.VERSION3]=out;class lut{constructor(e){this.setImageInfo(e)}setImageInfo(e){typeof e=="string"?this.imageInfo=JSON.parse(e):this.imageInfo=e}getImageApiVersion(){if(this.imageInfo===void 0)return;let e=this.imageInfo["@context"]||"ol-no-context";typeof e=="string"&&(e=[e]);for(let n=0;n<e.length;n++)switch(e[n]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return Nh.VERSION1;case"http://iiif.io/api/image/2/context.json":return Nh.VERSION2;case"http://iiif.io/api/image/3/context.json":return Nh.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(Nh.VERSION1)&&this.imageInfo.identifier)return Nh.VERSION1;break}As(!1,"Cannot determine IIIF Image API version from provided image information JSON")}getComplianceLevelEntryFromProfile(e){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(e===void 0&&(e=this.getImageApiVersion()),e){case Nh.VERSION1:if(rut.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Nh.VERSION3:if(iut.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Nh.VERSION2:if(typeof this.imageInfo.profile=="string"&&fee.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&fee.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}}getComplianceLevelFromProfile(e){const n=this.getComplianceLevelEntryFromProfile(e);if(n===void 0)return;const r=n.match(/level[0-2](?:\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(this.imageInfo===void 0)return;const e=this.getImageApiVersion(),n=this.getComplianceLevelFromProfile(e);return n===void 0?aw.none.none:aw[e][n]}getTileSourceOptions(e){const n=e||{},r=this.getImageApiVersion();if(r===void 0)return;const i=r===void 0?void 0:AD[r](this);if(i!==void 0)return{url:i.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:n.format!==void 0&&i.formats.includes(n.format)?n.format:i.preferredFormat!==void 0?i.preferredFormat:"jpg",supports:i.supports,quality:n.quality&&i.qualities.includes(n.quality)?n.quality:i.qualities.includes("native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort(function(s,a){return a-s}):void 0,tileSize:i.tileSize}}}function jO(t){return Array.isArray(t)?Math.min(...t):t}class cut extends iD{constructor(e,n,r,i,s,a,o){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let u=n.getExtent();u&&n.canWrapX()&&(u=u.slice(),u[0]=-1/0,u[2]=1/0);const h=u?kl(r,u):r,d=Jc(h),f=YM(e,n,d,i),A=z9,m=new V9(e,n,h,l,f*A,i),g=m.calculateSourceExtent(),y=ym(g)?null:a(g,f,s),_=y?Kr.IDLE:Kr.EMPTY,x=y?y.getPixelRatio():1;super(r,i,x,_),this.targetProj_=n,this.maxSourceExtent_=l,this.triangulation_=m,this.targetResolution_=i,this.targetExtent_=r,this.sourceImage_=y,this.sourcePixelRatio_=x,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Kr.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Kr.LOADED){const n=hs(this.targetExtent_)/this.targetResolution_,r=oo(this.targetExtent_)/this.targetResolution_;this.canvas_=ZAe(n,r,this.sourcePixelRatio_,jO(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Kr.IDLE){this.state=Kr.LOADING,this.changed();const e=this.sourceImage_.getState();e==Kr.LOADED||e==Kr.ERROR?this.reproject_():(this.sourceListenerKey_=Ti(this.sourceImage_,Yr.CHANGE,n=>{const r=this.sourceImage_.getState();(r==Kr.LOADED||r==Kr.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){ea(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Kg=4,s3={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class uut extends Zh{constructor(e,n){super(e),this.image=n}}class j9 extends hD{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const n=this.getResolutions();if(n){const r=U5(n,e,0);e=n[r]}return e}getImage(e,n,r,i){const s=this.getProjection();if(!s||!i||tm(s,i))return s&&(i=s),this.getImageInternal(e,n,r,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&tm(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==n&&Cp(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new cut(s,i,e,n,r,(a,o,l)=>this.getImageInternal(a,o,l,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,n,r,i){if(this.loader){const s=ope(e,n,r,1),a=this.findNearestResolution(n);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&_f(this.wantedExtent_,s)||_f(this.image.getExtent(),s))&&(this.wantedResolution_&&jO(this.wantedResolution_)===a||jO(this.image.getResolution())===a)))return this.image;this.wantedProjection_=i,this.wantedExtent_=s,this.wantedResolution_=a,this.image=new iD(s,a,r,this.loader),this.image.addEventListener(Yr.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const n=e.target;let r;switch(n.getState()){case Kr.LOADING:this.loading=!0,r=s3.IMAGELOADSTART;break;case Kr.LOADED:this.loading=!1,r=s3.IMAGELOADEND;break;case Kr.ERROR:this.loading=!1,r=s3.IMAGELOADERROR;break;default:return}this.hasListener(r)&&this.dispatchEvent(new uut(r,n))}}function ape(t,e){t.getImage().src=e}function ope(t,e,n,r){const i=e/n,s=Jc(t),a=K0(hs(t)/i,Kg),o=K0(oo(t)/i,Kg),l=K0((r-1)*a/2,Kg),u=a+2*l,h=K0((r-1)*o/2,Kg),d=o+2*h;return gS(s,i,0,[u,d])}function hut(t,e,n,r,i,s){const a=i.getCode().split(/:(?=\d+$)/).pop(),o=n/r,l=[SO(hs(e)/o,Kg),SO(oo(e)/o,Kg)];s.SIZE=l[0]+","+l[1],s.BBOX=e.join(","),s.BBOXSR=a,s.IMAGESR=a,s.DPI=Math.round(s.DPI?s.DPI*r:90*r);const u=t.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ES(u,s)}class dut extends iD{constructor(e,n,r,i,s){const a=s!==void 0?Kr.IDLE:Kr.LOADED;super(e,n,r,a),this.loader_=s!==void 0?s:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Kr.ERROR):this.state=Kr.LOADED,this.changed()}load(){this.state==Kr.IDLE&&(this.state=Kr.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}function fut(t){var i;const e=t.load||sD,n=t.imageExtent,r=(i=t.crossOrigin)!=null?i:null;return()=>{const s=new Image;return s.crossOrigin=r,e(s,t.url).then(a=>{const o=hs(n)/a.width,l=oo(n)/a.height;return{image:a,extent:n,resolution:o!==l?[o,l]:l,pixelRatio:1}})}}class Aut extends j9{constructor(e){const n=e.crossOrigin!==void 0?e.crossOrigin:null,r=e.imageLoadFunction!==void 0?e.imageLoadFunction:ape;super({attributions:e.attributions,interpolate:e.interpolate,projection:gi(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new iD(this.imageExtent_,void 0,1,fut({url:e.url,imageExtent:e.imageExtent,crossOrigin:n,load:(i,s)=>(this.image.setImage(i),r(this.image,s),sD(i))})),this.image.addEventListener(Yr.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,n,r,i){return wo(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}const put=new Error("Image failed to load");function lpe(t,e,n,r,i){return new Promise((s,a)=>{var l;const o=new Image;o.crossOrigin=(l=i.crossOrigin)!=null?l:null,o.addEventListener("load",()=>s(o)),o.addEventListener("error",()=>a(put)),o.src=H9(t,e,n,r,i.maxY)})}function Aee(t){return function(e,n,r,i){const s=pct(t,e,n,r);return lpe(s,e,n,r,i)}}function gut(t){return function(e,n,r,i){const s=t(e,n,r,i);return lpe(s,e,n,r,i)}}function pee(t){let e;if(Array.isArray(t))e=Aee(t);else if(typeof t=="string"){const n=G9(t);e=Aee(n)}else if(typeof t=="function")e=gut(t);else throw new Error("The url option must be a single template, an array of templates, or a function for getting a URL");return e}let gee=0;function mee(t){return Array.isArray(t)?t.join("\n"):typeof t=="string"?t:(++gee,"url-function-key-"+gee)}class mut extends W9{constructor(e){e=e||{};let n=e.loader,r;e.url&&(n=pee(e.url),r=mee(e.url));const i=n?e.state:"loading",s=e.wrapX===void 0?!0:e.wrapX;super({loader:n,key:r,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize,gutter:e.gutter,maxResolution:e.maxResolution,projection:e.projection,tileGrid:e.tileGrid,state:i,wrapX:s,transition:e.transition,interpolate:e.interpolate!==!1,crossOrigin:e.crossOrigin,zDirection:e.zDirection})}setUrl(e){const n=pee(e);this.setLoader(n),this.setKey(mee(e)),this.getState()!=="ready"&&this.setState("ready")}}const KO="1.3.0",vee=[101,101];function cpe(t,e,n,r,i){i.WIDTH=n[0],i.HEIGHT=n[1];const s=r.getAxisOrientation(),a=Q5(i.VERSION,"1.3")>=0;i[a?"CRS":"SRS"]=r.getCode();const o=a&&s.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e;return i.BBOX=o.join(","),ES(t,i)}function upe(t,e,n,r,i,s,a){s=Object.assign({REQUEST:"GetMap"},s);const o=e/n,l=[SO(hs(t)/o,Kg),SO(oo(t)/o,Kg)];if(n!=1)switch(a){case"geoserver":const h=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return cpe(i,t,l,r,s)}function qO(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:KO,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},t)}function vut(t){var a;const e=t.hidpi===void 0?!0:t.hidpi,n=gi(t.projection||"EPSG:3857"),r=t.ratio||1.5,i=t.load||sD,s=(a=t.crossOrigin)!=null?a:null;return(o,l,u)=>{o=ope(o,l,u,r),u!=1&&(!e||t.serverType===void 0)&&(u=1);const h=upe(o,l,u,n,t.url,qO(t.params,"GetMap"),t.serverType),d=new Image;return d.crossOrigin=s,i(d,h).then(f=>({image:f,extent:o,pixelRatio:u}))}}function yut(t,e,n){if(t.url===void 0)return;const r=gi(t.projection||"EPSG:3857"),i=gS(e,n,0,vee),s={QUERY_LAYERS:t.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(s,qO(t.params,"GetFeatureInfo"),t.params);const a=jx((e[0]-i[0])/n,Kg),o=jx((i[3]-e[1])/n,Kg),l=Q5(s.VERSION,"1.3")>=0;return s[l?"I":"X"]=a,s[l?"J":"Y"]=o,cpe(t.url,i,vee,r,s)}function _ut(t,e){if(t.url===void 0)return;const n={SERVICE:"WMS",VERSION:KO,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e!==void 0){const r=gi(t.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;n.SCALE=e*r/i}if(Object.assign(n,t.params),t.params!==void 0&&n.LAYER===void 0){const r=n.LAYERS;if(!(!Array.isArray(r)||r.length!==1))return;n.LAYER=r}return ES(t.url,n)}class wut extends j9{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:ape,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,n,r,i){const s=gi(r),a=this.getProjection();a&&a!==s&&(n=YM(a,s,e,n),e=Tp(e,s,a));const o={url:this.url_,params:{...this.params_,...i},projection:a||s};return yut(o,e,n)}getLegendUrl(e,n){return _ut({url:this.url_,params:{...this.params_,...n}},e)}getParams(){return this.params_}getImageInternal(e,n,r,i){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==i)&&(this.loaderProjection_=i,this.loader=vut({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(s,a)=>(this.image.setImage(s),this.imageLoadFunction_(this.image,a),sD(s))})),super.getImageInternal(e,n,r,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}function but(t,e,n,r){const i=document.createElement("script"),s="olc_"+Sr(e);function a(){delete window[s],i.parentNode.removeChild(i)}i.async=!0,i.src=t+(t.includes("?")?"&":"?")+"callback="+s;const o=setTimeout(function(){a(),n&&n()},1e4);window[s]=function(l){clearTimeout(o),a(),e(l)},document.head.appendChild(i)}const yee=[];class xut extends XL{constructor(e,n,r,i,s){super(e,n,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.removeSourceTiles_=s,this.wrappedTileCoord=r}getContext(){return this.context_||(this.context_=Xo(1,1,yee)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const n=Sr(e);return n in this.replayState_||(this.replayState_[n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this.getSourceTiles()}release(){this.context_&&(WL(this.context_),yee.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}let Eut=class extends XL{constructor(e,n,r,i,s,a){super(e,n,a),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=r,this.key=r}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==or.IDLE&&(this.setState(or.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,n){this.setFeatures(e)}onError(){this.setState(or.ERROR)}setFeatures(e){this.features_=e,this.setState(or.LOADED)}setLoader(e){this.loader_=e}};class Sut extends fD{constructor(e){const n=e.projection||"EPSG:3857",r=e.extent||Cw(n),i=e.tileGrid||rC({extent:r,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:n,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Cut,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:Eut,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,n,r){if(r.getState()===or.IDLE){r.setState(or.LOADING);const i=r.wrappedTileCoord,s=this.getTileGridForProjection(n),a=s.getTileCoordExtent(i),o=i[0],l=s.getResolution(o);uc(a,-l,a);const u=this.tileGrid,h=u.getExtent();h&&kl(a,h,a);const d=u.getZForResolution(l,this.zDirection);u.forEachTileCoord(a,d,f=>{const A=this.tileUrlFunction(f,e,n);this.sourceTiles_[A]||(this.sourceTiles_[A]=new this.tileClass(f,A?or.IDLE:or.EMPTY,A,this.format_,this.tileLoadFunction));const m=this.sourceTiles_[A];r.sourceTiles.push(m),this.tileKeysBySourceTileUrl_[A]||(this.tileKeysBySourceTileUrl_[A]=[]),this.tileKeysBySourceTileUrl_[A].push(r.getKey());const g=m.getState();if(g<or.LOADED){const y=_=>{this.handleTileChange(_);const x=m.getState();if(x===or.LOADED||x===or.ERROR){const S=m.getKey();S in r.errorTileKeys?m.getState()===or.LOADED&&delete r.errorTileKeys[S]:r.loadingSourceTiles--,x===or.ERROR?r.errorTileKeys[S]=!0:m.removeEventListener(Yr.CHANGE,y),r.loadingSourceTiles===0&&r.setState(Lv(r.errorTileKeys)?or.LOADED:or.ERROR)}};m.addEventListener(Yr.CHANGE,y),r.loadingSourceTiles++}g===or.IDLE&&(m.extent=u.getTileCoordExtent(f),m.projection=n,m.resolution=u.getResolution(f[0]),m.load())}),r.loadingSourceTiles||r.setState(r.sourceTiles.some(f=>f.getState()===or.ERROR)?or.ERROR:or.LOADED)}return r.sourceTiles}removeSourceTiles(e){const n=e.getKey(),r=e.sourceTiles;for(let i=0,s=r.length;i<s;++i){const a=r[i].getTileUrl();if(!this.tileKeysBySourceTileUrl_[a])return;const o=this.tileKeysBySourceTileUrl_[a].indexOf(n);o!==-1&&(this.tileKeysBySourceTileUrl_[a].splice(o,1),this.tileKeysBySourceTileUrl_[a].length===0&&(delete this.tileKeysBySourceTileUrl_[a],delete this.sourceTiles_[a]))}}getTile(e,n,r,i,s){const a=[e,n,r];let o=this.getTileCoordForTileUrlFunction(a,s);const l=this.getTileGrid().getExtent(),u=this.getTileGridForProjection(s);if(o&&l){const f=u.getTileCoordExtent(o);uc(f,-u.getResolution(e),f),wo(l,f)||(o=null)}let h=!0;if(o!==null){const f=this.tileGrid,A=u.getResolution(e),m=f.getZForResolution(A,1),g=u.getTileCoordExtent(o);uc(g,-A,g),f.forEachTileCoord(g,m,y=>{h=h&&!this.tileUrlFunction(y,i,s)})}const d=new xut(a,h?or.EMPTY:or.IDLE,o,this.getSourceTiles.bind(this,i,s),this.removeSourceTiles.bind(this));return d.key=this.getKey(),d}getTileGridForProjection(e){const n=e.getCode();let r=this.tileGrids_[n];if(!r){const i=this.tileGrid,s=i.getResolutions().slice(),a=s.map(function(u,h){return i.getOrigin(h)}),o=s.map(function(u,h){return i.getTileSize(h)}),l=mAe+1;for(let u=s.length;u<l;++u)s.push(s[u-1]/2),a.push(a[u-1]),o.push(o[u-1]);r=new qL({extent:i.getExtent(),origins:a,resolutions:s,tileSizes:o}),this.tileGrids_[n]=r}return r}getTilePixelRatio(e){return e}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=Go(i.getTileSize(e),this.tmpSize);return[Math.round(s[0]*n),Math.round(s[1]*n)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function Cut(t,e){t.setLoader(function(n,r,i){epe(e,t.getFormat(),n,r,i,t.onLoad.bind(t),t.onError.bind(t))})}const hpe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Tut extends Q9{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[hpe];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}class K9{constructor(){pj(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(NO(),{get:(e,n)=>{if(typeof NO()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,r)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,r),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let r=0,i=n.length;r<i;++r){const s=n[r];if(typeof s=="function"){s(e);continue}const a=n[++r];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Mut=5;class dpe extends kL{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Mut}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Bi()}getData(e){return null}prepareFrame(e){return Bi()}renderFrame(e,n){return Bi()}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Kr.LOADED||n.getState()===Kr.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Kr.LOADED&&n!=Kr.ERROR&&e.addEventListener(Yr.CHANGE,this.boundHandleImageChange_),n==Kr.IDLE&&(e.load(),n=e.getState()),n==Kr.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const _ee=[];let Fx=null;function Lut(){Fx=Xo(1,1,void 0,{willReadFrequently:!0})}class q9 extends dpe{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=bo(),this.pixelTransform=bo(),this.inversePixelTransform=bo(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,r){Fx||Lut(),Fx.clearRect(0,0,1,1);let i;try{Fx.drawImage(e,n,r,1,1,0,0,1,1),i=Fx.getImageData(0,0,1,1).data}catch(s){return Fx=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,a;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&vm(kd(e.style.backgroundColor),kd(r)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=Xo();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Rf(r),s=HL(r),a=tC(r),o=UL(r);Ja(n.coordinateToPixelTransform,i),Ja(n.coordinateToPixelTransform,s),Ja(n.coordinateToPixelTransform,a),Ja(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Ja(l,i),Ja(l,s),Ja(l,a),Ja(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const r=e.extent,i=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(hs(r)/i*a),l=Math.round(oo(r)/i*a);If(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),iw(this.inversePixelTransform,this.pixelTransform);const u=Hat(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const h=this.context.canvas;h.width!=o||h.height!=l?(h.width=o,h.height=l):this.context.clearRect(0,0,o,l),u!==h.style.transform&&(h.style.transform=u)}}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new DT(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(jc.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(jc.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new K9),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(jc.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(jc.POSTRENDER,this.context,e))}getRenderTransform(e,n,r,i,s,a,o){const l=s/2,u=a/2,h=i/n,d=-h,f=-e[0]+o,A=-e[1];return If(this.tempTransform,l,u,h,d,-r,f,A)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class fpe extends q9{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(n.extent!==void 0&&(l=kl(l,Gh(n.extent,i.projection))),!o[Xa.ANIMATING]&&!o[Xa.INTERACTING]&&!ym(l))if(a){const u=i.projection,h=a.getImage(l,s,r,u);h&&(this.loadImage(h)?this.image=h:h.getState()===Kr.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Ja(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Sp(s,i))return null;const a=this.image.getExtent(),o=this.image.getImage(),l=hs(a),u=Math.floor(o.width*((i[0]-a[0])/l));if(u<0||u>=o.width)return null;const h=oo(a),d=Math.floor(o.height*((a[3]-i[1])/h));return d<0||d>=o.height?null:this.getImageData(o,u,d)}renderFrame(e,n){const r=this.image,i=r.getExtent(),s=r.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=r.getPixelRatio(),u=e.layerStatesArray[e.layerIndex],h=e.pixelRatio,d=e.viewState,f=d.center,A=d.resolution,m=h*a/(A*l),g=h*o/(A*l);this.prepareContainer(e,n);const y=this.context.canvas.width,_=this.context.canvas.height,x=this.getRenderContext(e);let S=!1,C=!0;if(u.extent){const I=Gh(u.extent,d.projection);C=wo(I,e.extent),S=C&&!_f(I,e.extent),S&&this.clipUnrotated(x,e,I)}const M=r.getImage(),B=If(this.tempTransform,y/2,_/2,m,g,0,l*(i[0]-f[0])/a,l*(f[1]-i[3])/o);this.renderedResolution=o*h/l;const E=M.width*B[0],L=M.height*B[3];if(this.getLayer().getSource().getInterpolate()||(x.imageSmoothingEnabled=!1),this.preRender(x,e),C&&E>=.5&&L>=.5){const I=B[4],k=B[5],O=u.opacity;O!==1&&(x.save(),x.globalAlpha=O),x.drawImage(M,0,0,+M.width,+M.height,I,k,E,L),O!==1&&x.restore()}return this.postRender(this.context,e),S&&x.restore(),x.imageSmoothingEnabled=!0,this.container}}class But extends xw{constructor(e){e=e||{},super(e)}}class Ape extends But{constructor(e){super(e)}createRenderer(){return new fpe(this)}getData(e){return super.getData(e)}}function a3(t,e,n,r){return"".concat(t,",").concat(jAe(e,n,r))}function o3(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const r=t[n],i=r.has(e);return i||r.add(e),!i}function Rut(t,e,n){const r=t[n];return r?r.delete(e):!1}function wee(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=kl(e,Gh(n.extent,t.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const i=r.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=kl(e,i))}return e}class ppe extends q9{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=ol(),this.tempTileRange_=new cD(0,0,0,0),this.tempTileCoord_=sw(0,0,0);const r=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new WAe(r),this.maxStaleKeys=r*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,r,i){const s=this.tileCache_,o=this.getLayer().getSource(),l=a3(o.getKey(),e,n,r);let u;if(s.containsKey(l))u=s.get(l);else{if(u=o.getTile(e,n,r,i.pixelRatio,i.viewState.projection),!u)return null;s.set(l,u)}return u}getTile(e,n,r,i){const s=this.getOrCreateTile(e,n,r,i);return s||null}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Ja(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Sp(s,i))return null;const a=n.viewState,o=r.getRenderSource(),l=o.getTileGridForProjection(a.projection),u=o.getTilePixelRatio(n.pixelRatio);for(let h=l.getZForResolution(a.resolution);h>=l.getMinZoom();--h){const d=l.getTileCoordForCoordAndZ(i,h),f=this.getTile(h,d[1],d[2],n);if(!f||f.getState()!==or.LOADED)continue;const A=l.getOrigin(h),m=Go(l.getTileSize(h)),g=l.getResolution(h);let y;if(f instanceof uD||f instanceof $9)y=f.getImage();else if(f instanceof ZM){if(y=SS(f.getData()),!y)continue}else continue;const _=Math.floor(u*((i[0]-A[0])/g-d[1]*m[0])),x=Math.floor(u*((A[1]-i[1])/g-d[2]*m[1])),S=Math.round(u*o.getGutterForProjection(a.projection));return this.getImageData(y,_+S,x+S)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const r=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==r&&(this.renderedRevision_=r,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=r,!0}enqueueTiles(e,n,r,i,s){const a=e.viewState,o=this.getLayer(),l=o.getRenderSource(),u=l.getTileGridForProjection(a.projection),h=Sr(l);h in e.wantedTiles||(e.wantedTiles[h]={});const d=e.wantedTiles[h],f=o.getMapInternal(),A=Math.max(r-s,u.getMinZoom(),u.getZForResolution(Math.min(o.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),m=a.rotation,g=m?z5(a.center,a.resolution,m,e.size):void 0;for(let y=r;y>=A;--y){const _=u.getTileRangeForExtentAndZ(n,y,this.tempTileRange_),x=u.getResolution(y);for(let S=_.minX;S<=_.maxX;++S)for(let C=_.minY;C<=_.maxY;++C){if(m&&!u.tileCoordIntersectsViewport([y,S,C],g))continue;const M=this.getTile(y,S,C,e);if(!M||!o3(i,M,y))continue;const E=M.getKey();if(d[E]=!0,M.getState()===or.IDLE&&!e.tileQueue.isKeyQueued(E)){const L=sw(y,S,C,this.tempTileCoord_);e.tileQueue.enqueue([M,h,u.getTileCoordCenter(L),x])}}}}findStaleTile_(e,n){const r=this.tileCache_,i=e[0],s=e[1],a=e[2],o=this.getStaleKeys();for(let l=0;l<o.length;++l){const u=a3(o[l],i,s,a);if(r.containsKey(u)){const h=r.peek(u);if(h.getState()===or.LOADED)return h.endTransition(Sr(this)),o3(n,h,i),!0}}return!1}findAltTiles_(e,n,r,i){const s=e.getTileRangeForTileCoordAndZ(n,r,this.tempTileRange_);if(!s)return!1;let a=!0;const o=this.tileCache_,u=this.getLayer().getRenderSource().getKey();for(let h=s.minX;h<=s.maxX;++h)for(let d=s.minY;d<=s.maxY;++d){const f=a3(u,r,h,d);let A=!1;if(o.containsKey(f)){const m=o.peek(f);m.getState()===or.LOADED&&(o3(i,m,r),A=!0)}A||(a=!1)}return a}renderFrame(e,n){let r=!0;this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],s=e.viewState,a=s.projection,o=s.resolution,l=s.center,u=e.pixelRatio,h=this.getLayer(),d=h.getSource(),f=d.getTileGridForProjection(a),A=f.getZForResolution(o,d.zDirection),m=f.getResolution(A),g=d.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==g&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=g):this.renderedSourceKey_=g;let y=e.extent;const _=d.getTilePixelRatio(u);this.prepareContainer(e,n);const x=this.context.canvas.width,S=this.context.canvas.height,C=i.extent&&Gh(i.extent);C&&(y=kl(y,Gh(i.extent)));const M=m*x/2/_,B=m*S/2/_,E=[l[0]-M,l[1]-B,l[0]+M,l[1]+B],L={};this.renderedTiles.length=0;const I=h.getPreload();if(e.nextExtent){const z=f.getZForResolution(s.nextResolution,d.zDirection),ne=wee(e,e.nextExtent);this.enqueueTiles(e,ne,z,L,I)}const k=wee(e,y);if(this.enqueueTiles(e,k,A,L,0),I>0&&setTimeout(()=>{this.enqueueTiles(e,k,A-1,L,I-1)},0),!(A in L))return this.container;const O=Sr(this),F=e.time;for(const z of L[A]){const ne=z.getState();if(ne===or.EMPTY)continue;const he=z.tileCoord;if(ne===or.LOADED&&z.getAlpha(O,F)===1){z.endTransition(O);continue}if(ne!==or.IDLE&&(r=!1),ne!==or.ERROR&&(this.renderComplete=!1),this.findStaleTile_(he,L)){Rut(L,z,A),e.animate=!0;continue}if(this.findAltTiles_(f,he,A+1,L))continue;const oe=f.getMinZoom();for(let fe=A-1;fe>=oe&&!this.findAltTiles_(f,he,fe,L);--fe);}const U=m/o*u/_,$=this.getRenderContext(e);If(this.tempTransform,x/2,S/2,U,U,0,-x/2,-S/2),i.extent&&this.clipUnrotated($,e,C),d.getInterpolate()||($.imageSmoothingEnabled=!1),this.preRender($,e);const K=Object.keys(L).map(Number);K.sort(Jg);let V;const Q=[],X=[];for(let z=K.length-1;z>=0;--z){const ne=K[z],he=d.getTilePixelSize(ne,u,a),Y=f.getResolution(ne)/m,oe=he[0]*Y*U,fe=he[1]*Y*U,me=f.getTileCoordForCoordAndZ(Rf(E),ne),ce=f.getTileCoordExtent(me),be=Ja(this.tempTransform,[_*(ce[0]-E[0])/m,_*(E[3]-ce[3])/m]),xe=_*d.getGutterForProjection(a);for(const Ie of L[ne]){if(Ie.getState()!==or.LOADED)continue;const Qe=Ie.tileCoord,ue=me[1]-Qe[1],ye=Math.round(be[0]-(ue-1)*oe),$e=me[2]-Qe[2],Ve=Math.round(be[1]-($e-1)*fe),Se=Math.round(be[0]-ue*oe),at=Math.round(be[1]-$e*fe),ft=ye-Se,je=Ve-at,gt=K.length===1;let vt=!1;V=[Se,at,Se+ft,at,Se+ft,at+je,Se,at+je];for(let Te=0,we=Q.length;Te<we;++Te)if(!gt&&ne<X[Te]){const Ne=Q[Te];wo([Se,at,Se+ft,at+je],[Ne[0],Ne[3],Ne[4],Ne[7]])&&(vt||($.save(),vt=!0),$.beginPath(),$.moveTo(V[0],V[1]),$.lineTo(V[2],V[3]),$.lineTo(V[4],V[5]),$.lineTo(V[6],V[7]),$.moveTo(Ne[6],Ne[7]),$.lineTo(Ne[4],Ne[5]),$.lineTo(Ne[2],Ne[3]),$.lineTo(Ne[0],Ne[1]),$.clip())}Q.push(V),X.push(ne),this.drawTile(Ie,e,Se,at,ft,je,xe,gt),vt&&$.restore(),this.renderedTiles.unshift(Ie),this.updateUsedTiles(e.usedTiles,d,Ie)}}if(this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!Cp(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=u,this.postRender(this.context,e),i.extent&&$.restore(),$.imageSmoothingEnabled=!0,this.renderComplete){const z=(ne,he)=>{const W=Sr(d),Y=he.wantedTiles[W],oe=Y?Object.keys(Y).length:0;this.updateCacheSize(oe),this.tileCache_.expireCache()};e.postRenderFunctions.push(z)}return!this.renderComplete&&!r&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,r,i,s,a,o,l){let u;if(e instanceof ZM){if(u=SS(e.getData()),!u)throw new Error("Rendering array data is not yet supported")}else u=this.getTileImage(e);if(!u)return;const h=this.getRenderContext(n),d=Sr(this),f=n.layerStatesArray[n.layerIndex],A=f.opacity*(l?e.getAlpha(d,n.time):1),m=A!==h.globalAlpha;m&&(h.save(),h.globalAlpha=A),h.drawImage(u,o,o,u.width-2*o,u.height-2*o,r,i,s,a),m&&h.restore(),A!==f.opacity?n.animate=!0:l&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,r){const i=Sr(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}}const X0={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class gpe extends xw{constructor(e){e=e||{};const n=Object.assign({},e),r=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=r,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(X0.PRELOAD)}setPreload(e){this.set(X0.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(X0.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(X0.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class bG extends gpe{constructor(e){super(e)}createRenderer(){return new ppe(this,{cacheSize:this.getCacheSize()})}}const Iut='&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',Put='&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',Fut='&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>',Out={stamen_terrain:{extension:"png"},stamen_terrain_background:{extension:"png"},stamen_terrain_labels:{extension:"png"},stamen_terrain_lines:{extension:"png"},stamen_toner_background:{extension:"png"},stamen_toner:{extension:"png"},stamen_toner_labels:{extension:"png"},stamen_toner_lines:{extension:"png"},stamen_toner_lite:{extension:"png"},stamen_watercolor:{extension:"jpg"},alidade_smooth:{extension:"png"},alidade_smooth_dark:{extension:"png"},alidade_satellite:{extension:"png"},outdoors:{extension:"png"},osm_bright:{extension:"png"}},Nut={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class Dut extends Q9{constructor(e){const n=e.layer.indexOf("-"),r=n==-1?e.layer:e.layer.slice(0,n),i=Nut[r]||{minZoom:0,maxZoom:20,retina:!0},s=Out[e.layer],a=e.apiKey?"?api_key="+e.apiKey:"",o=i.retina&&e.retina?"@2x":"",l=e.url!==void 0?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+o+"."+s.extension+a,u=[Iut,Put,hpe];e.layer.startsWith("stamen_")&&u.splice(1,0,Fut),super({attributions:u,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:i.maxZoom,minZoom:e.minZoom!==void 0?e.minZoom:i.minZoom,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:l,tilePixelRatio:o?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}class kut extends iC{constructor(e){e=e||{},super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.params_=Object.assign({},e.params),this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=ol(),this.setKey(this.getKeyForParams_())}getKeyForParams_(){let e=0;const n=[];for(const r in this.params_)n[e++]=r+"-"+this.params_[r];return n.join("/")}getParams(){return this.params_}getRequestUrl_(e,n,r,i,s,a){const o=this.urls;if(!o)return;let l;if(o.length==1)l=o[0];else{const u=em(k9(e),o.length);l=o[u]}return hut(l,r,(this.tileGrid||this.getTileGridForProjection(s)).getResolution(e[0]),i,s,a)}getTilePixelRatio(e){return this.hidpi_?e:1}updateParams(e){Object.assign(this.params_,e),this.setKey(this.getKeyForParams_())}tileUrlFunction(e,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;n!=1&&!this.hidpi_&&(n=1);const s=i.getTileCoordExtent(e,this.tmpExtent_);let a=Go(i.getTileSize(e[0]),this.tmpSize);n!=1&&(a=IAe(a,n,this.tmpSize));const o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(o,this.params_),this.getRequestUrl_(e,a,s,n,r,o)}}class Uut extends mut{constructor(e){e=e||{};const n=e.template||"z:{z} x:{x} y:{y}",r=e.source;super({transition:0,wrapX:e.wrapX!==void 0?e.wrapX:r!==void 0?r.getWrapX():void 0});const i=()=>{var a;this.projection=e.projection!==void 0?gi(e.projection):r!==void 0?r.getProjection():this.projection,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:r!==void 0?r.getTileGrid():this.tileGrid,this.zDirection=e.zDirection!==void 0?e.zDirection:r!==void 0?r.zDirection:this.zDirection,r instanceof W9&&(this.transformMatrix=((a=r.transformMatrix)==null?void 0:a.slice())||null);const s=this.tileGrid;s&&this.setTileSizes(s.getResolutions().map((o,l)=>Go(s.getTileSize(l)).map(u=>Math.max(Math.floor(u),1)))),this.setLoader((o,l,u,h)=>{const d=H9(n,o,l,u,h.maxY),[f,A]=this.getTileSize(o),m=Xo(f,A);return m.strokeStyle="grey",m.strokeRect(.5,.5,f+.5,A+.5),m.fillStyle="grey",m.strokeStyle="white",m.textAlign="center",m.textBaseline="middle",m.font="24px sans-serif",m.lineWidth=4,m.strokeText(d,f/2,A/2,f),m.fillText(d,f/2,A/2,f),m.canvas}),this.setState("ready")};if(r===void 0||r.getState()==="ready")i();else{const s=()=>{r.getState()==="ready"&&(r.removeEventListener(Yr.CHANGE,s),i())};r.addEventListener(Yr.CHANGE,s)}}}class Hut extends iC{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:gi("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)but(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this)),n.addEventListener("error",this.onXHRError_.bind(this)),n.open("GET",e.url),n.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const n=e.target;if(!n.status||n.status>=200&&n.status<300){let r;try{r=JSON.parse(n.responseText)}catch(i){this.handleTileJSONError();return}this.handleTileJSONResponse(r)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const n=gi("EPSG:4326"),r=this.getProjection();let i;if(e.bounds!==void 0){const u=Uy(n,r);i=GL(e.bounds,u)}const s=Cw(r),a=e.minzoom||0,o=e.maxzoom||22,l=rC({extent:s,maxZoom:o,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=XAe(e.tiles,l),e.attribution&&!this.getAttributions()){const u=i!==void 0?i:s;this.setAttributions(function(h){return wo(u,h.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class mpe extends iC{constructor(e){e=e||{};const n=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=ol(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,n,r,i){const s=gi(r),a=this.getProjection()||s;let o=this.getTileGrid();o||(o=this.getTileGridForProjection(a));const l=Tp(e,s,a),u=YM(a,s,e,n),h=o.getZForResolution(u,this.zDirection),d=o.getResolution(h),f=o.getTileCoordForCoordAndZ(l,h);if(o.getResolutions().length<=f[0])return;let A=o.getTileCoordExtent(f,this.tmpExtent_);const m=this.gutter_;m!==0&&(A=uc(A,d*m,A));const g={QUERY_LAYERS:this.params_.LAYERS};Object.assign(g,qO(this.params_,"GetFeatureInfo"),i);const y=Math.floor((l[0]-A[0])/d),_=Math.floor((A[3]-l[1])/d);return g[this.v13_?"I":"X"]=y,g[this.v13_?"J":"Y"]=_,this.getRequestUrl_(f,A,1,a||s,g)}getLegendUrl(e,n){if(this.urls[0]===void 0)return;const r={SERVICE:"WMS",VERSION:KO,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;r.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;r.SCALE=e*i/s}return Object.assign(r,n),ES(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,n,r,i,s){const a=this.urls;if(!a)return;let o;if(a.length==1)o=a[0];else{const l=em(k9(e),a.length);o=a[l]}return upe(n,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),r,i,o,s,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const n=[];for(const r in this.params_)n[e++]=r+"-"+this.params_[r];return n.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||KO;this.v13_=Q5(e,"1.3")>=0}tileUrlFunction(e,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const s=i.getResolution(e[0]);let a=i.getTileCoordExtent(e,this.tmpExtent_);const o=this.gutter_;o!==0&&(a=uc(a,s*o,a));const l=Object.assign({},qO(this.params_,"GetMap"));return this.getRequestUrl_(e,a,n,r,l)}}class vpe extends iC{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",r=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=G9(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=zO(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join("\n");this.setTileUrlFunction(zO(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?ES(e,r):e.replace(/\{(\w+?)\}/g,function(a,o){return o.toLowerCase()in r?r[o.toLowerCase()]:a});const i=this.tileGrid,s=this.dimensions_;return function(a,o,l){if(!a)return;const u={TileMatrix:i.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(u,s);let h=e;return n=="KVP"?h=ES(h,u):h=h.replace(/\{(\w+?)\}/g,function(d,f){return encodeURIComponent(u[f])}),h}}}class ype{drawCustom(e,n,r,i,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,r){}drawFeature(e,n,r){}drawGeometryCollection(e,n,r){}drawLineString(e,n,r){}drawMultiLineString(e,n,r){}drawMultiPoint(e,n,r){}drawMultiPolygon(e,n,r){}drawPoint(e,n,r){}drawPolygon(e,n,r){}drawText(e,n,r){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}const Ui={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},gI=[Ui.FILL],Y0=[Ui.STROKE],g1=[Ui.BEGIN_PATH],bee=[Ui.CLOSE_PATH];class YL extends ype{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let a=s.length;for(let o=0,l=e.length;o<l;o+=n)i[0]=e[o],i[1]=e[o+1],Sp(r,i)&&(s[a++]=i[0],s[a++]=i[1]);return a}appendFlatLineCoordinates(e,n,r,i,s,a){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();a&&(n+=i);let h=e[n],d=e[n+1];const f=this.tmpCoordinate_;let A=!0,m,g,y;for(m=n+i;m<r;m+=i)f[0]=e[m],f[1]=e[m+1],y=xO(u,f),y!==g?(A&&(o[l++]=h,o[l++]=d,A=!1),o[l++]=f[0],o[l++]=f[1]):y===Qc.INTERSECTING?(o[l++]=f[0],o[l++]=f[1],A=!1):A=!0,h=f[0],d=f[1],g=y;return(s&&A||m===n+i)&&(o[l++]=h,o[l++]=d),l}drawCustomCoordinates_(e,n,r,i,s){for(let a=0,o=r.length;a<o;++a){const l=r[a],u=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);s.push(u),n=l}return n}drawCustom(e,n,r,i,s){this.beginGeometry(e,n,s);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,h,d,f,A;switch(a){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),f=[];const m=e.getEndss();A=0;for(let g=0,y=m.length;g<y;++g){const _=[];A=this.drawCustomCoordinates_(u,A,m[g],o,_),f.push(_)}this.instructions.push([Ui.CUSTOM,l,f,e,r,cG,s]),this.hitDetectionInstructions.push([Ui.CUSTOM,l,f,e,i||r,cG,s]);break;case"Polygon":case"MultiLineString":d=[],u=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),A=this.drawCustomCoordinates_(u,0,e.getEnds(),o,d),this.instructions.push([Ui.CUSTOM,l,d,e,r,zM,s]),this.hitDetectionInstructions.push([Ui.CUSTOM,l,d,e,i||r,zM,s]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),h=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Ui.CUSTOM,l,h,e,r,hv,s]),this.hitDetectionInstructions.push([Ui.CUSTOM,l,h,e,i||r,hv,s]);break;case"MultiPoint":u=e.getFlatCoordinates(),h=this.appendFlatPointCoordinates(u,o),h>l&&(this.instructions.push([Ui.CUSTOM,l,h,e,r,hv,s]),this.hitDetectionInstructions.push([Ui.CUSTOM,l,h,e,i||r,hv,s]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),h=this.coordinates.length,this.instructions.push([Ui.CUSTOM,l,h,e,r,void 0,s]),this.hitDetectionInstructions.push([Ui.CUSTOM,l,h,e,i||r,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,r){this.beginGeometryInstruction1_=[Ui.BEGIN_GEOMETRY,n,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ui.BEGIN_GEOMETRY,n,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,a=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ui.END_GEOMETRY?a=n:s==Ui.BEGIN_GEOMETRY&&(i[2]=n,Hst(this.hitDetectionInstructions,a,n),a=-1)}fillStyleToState(e,n={}){if(e){const r=e.getColor();n.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,n.fillStyle=Wg(r||Ld)}else n.fillStyle=void 0;return n}strokeStyleToState(e,n={}){if(e){const r=e.getColor();n.strokeStyle=Wg(r||WM);const i=e.getLineCap();n.lineCap=i!==void 0?i:bS;const s=e.getLineDash();n.lineDash=s?s.slice():mv;const a=e.getLineDashOffset();n.lineDashOffset=a||vv;const o=e.getLineJoin();n.lineJoin=o!==void 0?o:xS;const l=e.getWidth();n.lineWidth=l!==void 0?l:KM;const u=e.getMiterLimit();n.miterLimit=u!==void 0?u:QM,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(e,n){const r=this.state;this.fillStyleToState(e,r),this.strokeStyleToState(n,r)}createFill(e){const n=e.fillStyle,r=[Ui.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ui.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!vm(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ui.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=z7(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;uc(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Gut extends YL{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,r){if(!this.image_||this.maxExtent&&!Sp(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([Ui.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ui.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,r){if(!this.image_)return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=[];for(let l=0,u=i.length;l<u;l+=e.getStride())(!this.maxExtent||Sp(this.maxExtent,i.slice(l,l+2)))&&s.push(i[l],i[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,2);this.instructions.push([Ui.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ui.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class Vut extends YL{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),o=[Ui.MOVE_TO_LINE_TO,s,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),r}drawLineString(e,n,r){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Ui.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,mv,vv],g1);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Y0),this.endGeometry(n)}drawMultiLineString(e,n,r){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Ui.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,mv,vv],g1);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let h=0;for(let d=0,f=o.length;d<f;++d)h=this.drawFlatCoordinates_(l,h,o[d],u);this.hitDetectionInstructions.push(Y0),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Y0),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Y0),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(g1)}}class xee extends YL{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,a=s.fillStyle!==void 0,o=s.strokeStyle!==void 0,l=r.length;this.instructions.push(g1),this.hitDetectionInstructions.push(g1);for(let u=0;u<l;++u){const h=r[u],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,n,h,i,!0,!o),A=[Ui.MOVE_TO_LINE_TO,d,f];this.instructions.push(A),this.hitDetectionInstructions.push(A),o&&(this.instructions.push(bee),this.hitDetectionInstructions.push(bee)),n=h}return a&&(this.instructions.push(gI),this.hitDetectionInstructions.push(gI)),o&&(this.instructions.push(Y0),this.hitDetectionInstructions.push(Y0)),n}drawCircle(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_FILL_STYLE,Ld]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,mv,vv]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const h=[Ui.CIRCLE,u];this.instructions.push(g1,h),this.hitDetectionInstructions.push(g1,h),i.fillStyle!==void 0&&(this.instructions.push(gI),this.hitDetectionInstructions.push(gI)),i.strokeStyle!==void 0&&(this.instructions.push(Y0),this.hitDetectionInstructions.push(Y0)),this.endGeometry(n)}drawPolygon(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_FILL_STYLE,Ld]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,mv,vv]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_FILL_STYLE,Ld]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ui.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,mv,vv]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let h=0;for(let d=0,f=o.length;d<f;++d)h=this.drawFlatCoordinatess_(l,h,o[d],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=q_(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function zut(t,e,n,r,i){const s=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+i<r;){const[u,h]=l.slice(-2),d=e[a+i],f=e[a+i+1],A=Math.sqrt((d-u)*(d-u)+(f-h)*(f-h));if(o+=A,o>=t){const m=(t-o+A)/A,g=ff(u,d,m),y=ff(h,f,m);l.push(g,y),s.push(l),l=[g,y],o==t&&(a+=i),o=0}else if(o<t)l.push(e[a+i],e[a+i+1]),a+=i;else{const m=A-o,g=ff(u,d,m/A),y=ff(h,f,m/A);l.push(g,y),s.push(l),l=[g,y],o=0,a+=i}}return o>0&&s.push(l),s}function $ut(t,e,n,r,i){let s=n,a=n,o=0,l=0,u=n,h,d,f,A,m,g,y,_,x,S;for(d=n;d<r;d+=i){const C=e[d],M=e[d+1];m!==void 0&&(x=C-m,S=M-g,A=Math.sqrt(x*x+S*S),y!==void 0&&(l+=f,h=Math.acos((y*x+_*S)/(f*A)),h>t&&(l>o&&(o=l,s=u,a=d),l=0,u=d-i)),f=A,y=x,_=S),m=C,g=M}return l+=A,l>o?[u,d]:[s,a]}const XO={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Qut extends YL{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ld]={fillStyle:Ld},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,r){const i=this.textFillState_,s=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!i&&!s)return;const o=this.coordinates;let l=o.length;const u=e.getType();let h=null,d=e.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!wo(this.maxExtent,e.getExtent()))return;let f;if(h=e.getFlatCoordinates(),u=="LineString")f=[h.length];else if(u=="MultiLineString")f=e.getEnds();else if(u=="Polygon")f=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const y=e.getEndss();f=[];for(let _=0,x=y.length;_<x;++_)f.push(y[_][0])}this.beginGeometry(e,n,r);const A=a.repeat,m=A?void 0:a.textAlign;let g=0;for(let y=0,_=f.length;y<_;++y){let x;A?x=zut(A*this.resolution,h,g,f[y],d):x=[h.slice(g,f[y])];for(let S=0,C=x.length;S<C;++S){const M=x[S];let B=0,E=M.length;if(m==null){const I=$ut(a.maxAngle,M,0,M.length,2);B=I[0],E=I[1]}for(let I=B;I<E;I+=d)o.push(M[I],M[I+1]);const L=o.length;g=f[y],this.drawChars_(l,L),l=L}}this.endGeometry(n)}else{let f=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":h=e.getFlatCoordinates();break;case"LineString":h=e.getFlatMidpoint();break;case"Circle":h=e.getCenter();break;case"MultiLineString":h=e.getFlatMidpoints(),d=2;break;case"Polygon":h=e.getFlatInteriorPoint(),a.overflow||f.push(h[2]/this.resolution),d=3;break;case"MultiPolygon":const C=e.getFlatInteriorPoints();h=[];for(let M=0,B=C.length;M<B;M+=3)a.overflow||f.push(C[M+2]/this.resolution),h.push(C[M],C[M+1]);if(h.length===0)return;d=2;break}const A=this.appendFlatPointCoordinates(h,d);if(A===l)return;if(f&&(A-l)/2!==h.length/d){let C=l/2;f=f.filter((M,B)=>{const E=o[(C+B)*2]===h[B*d]&&o[(C+B)*2+1]===h[B*d+1];return E||--C,E})}this.saveTextStates_();const m=a.backgroundFill?this.createFill(this.fillStyleToState(a.backgroundFill)):null,g=a.backgroundStroke?this.createStroke(this.strokeStyleToState(a.backgroundStroke)):null;this.beginGeometry(e,n,r);let y=a.padding;if(y!=p1&&(a.scale[0]<0||a.scale[1]<0)){let C=a.padding[0],M=a.padding[1],B=a.padding[2],E=a.padding[3];a.scale[0]<0&&(M=-M,E=-E),a.scale[1]<0&&(C=-C,B=-B),y=[C,M,B,E]}const _=this.pixelRatio;this.instructions.push([Ui.DRAW_IMAGE,l,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,y==p1?p1:y.map(function(C){return C*_}),m,g,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const x=1/_,S=m?m.slice(0):null;S&&(S[1]=Ld),this.hitDetectionInstructions.push([Ui.DRAW_IMAGE,l,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[x,x],NaN,this.declutterMode_,this.declutterImageWithText_,y,S,g,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ld:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||jM,justify:n.justify,textBaseline:n.textBaseline||UO,scale:n.scale});const a=this.fillKey_;r&&(a in this.fillStates||(this.fillStates[a]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=XO[i.textBaseline],h=this.textOffsetY_*l,d=this.text_,f=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ui.DRAW_CHARS,e,n,u,i.overflow,o,i.maxAngle,l,h,s,f*l,d,a,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Ui.DRAW_CHARS,e,n,u,i.overflow,o&&Ld,i.maxAngle,l,h,s,f*l,d,a,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const a=e.getFill();a?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Wg(a.getColor()||Ld)):(i=null,this.textFillState_=i);const o=e.getStroke();if(!o)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const g=o.getLineDash(),y=o.getLineDashOffset(),_=o.getWidth(),x=o.getMiterLimit();s.lineCap=o.getLineCap()||bS,s.lineDash=g?g.slice():mv,s.lineDashOffset=y===void 0?vv:y,s.lineJoin=o.getLineJoin()||xS,s.lineWidth=_===void 0?KM:_,s.miterLimit=x===void 0?QM:x,s.strokeStyle=Wg(o.getColor()||WM)}r=this.textState_;const l=e.getFont()||NAe;Flt(l);const u=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||UO,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||p1,r.scale=u===void 0?[1,1]:u;const h=e.getOffsetX(),d=e.getOffsetY(),f=e.getRotateWithView(),A=e.getKeepUpright(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=A===void 0?!0:A,this.textRotation_=m===void 0?0:m,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Sr(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+Sr(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const Wut={Circle:xee,Default:YL,Image:Gut,LineString:Vut,Polygon:xee,Text:Qut};class _pe{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const a=Wut[n];s=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}function jut(t,e,n,r,i,s,a,o,l,u,h,d,f=!0){let A=t[e],m=t[e+1],g=0,y=0,_=0,x=0;function S(){g=A,y=m,e+=r,A=t[e],m=t[e+1],x+=_,_=Math.sqrt((A-g)*(A-g)+(m-y)*(m-y))}do S();while(e<n-r&&x+_<s);let C=_===0?0:(s-x)/_;const M=ff(g,A,C),B=ff(y,m,C),E=e-r,L=x,I=s+o*l(u,i,h);for(;e<n-r&&x+_<I;)S();C=_===0?0:(I-x)/_;const k=ff(g,A,C),O=ff(y,m,C);let F=!1;if(f)if(d){const Q=[M,B,k,O];t9(Q,0,4,2,d,Q,Q),F=Q[0]>Q[2]}else F=M>k;const U=Math.PI,$=[],K=E+r===e;e=E,_=0,x=L,A=t[e],m=t[e+1];let V;if(K){S(),V=Math.atan2(m-y,A-g),F&&(V+=V>0?-U:U);const Q=(k+M)/2,X=(O+B)/2;return $[0]=[Q,X,(I-s)/2,V,i],$}i=i.replace(/\n/g," ");for(let Q=0,X=i.length;Q<X;){S();let z=Math.atan2(m-y,A-g);if(F&&(z+=z>0?-U:U),V!==void 0){let fe=z-V;if(fe+=fe>U?-2*U:fe<-U?2*U:0,Math.abs(fe)>a)return null}V=z;const ne=Q;let he=0;for(;Q<X;++Q){const fe=F?X-Q-1:Q,me=o*l(u,i[fe],h);if(e+r<n&&x+_<s+he+me/2)break;he+=me}if(Q===ne)continue;const W=F?i.substring(X-ne,X-Q):i.substring(ne,Q);C=_===0?0:(s+he/2-x)/_;const Y=ff(g,A,C),oe=ff(y,m,C);$.push([Y,oe,he/2,z,W]),s+=he}return $}const ax=ol(),E0=[],Km=[],qm=[],S0=[];function Eee(t){return t[3].declutterBox}const See=new RegExp("[-----]");function l3(t,e){return e==="start"?e=See.test(t)?"right":"left":e==="end"&&(e=See.test(t)?"left":"right"),XO[e]}function Kut(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}class qut{constructor(e,n,r,i,s){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=bo(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new K9:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const a=i?this.strokeStates[i]:null,o=r?this.fillStates[r]:null,l=this.textStates[n],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],d=l.justify?XO[l.justify]:l3(Array.isArray(e)?e[0]:e,l.textAlign||jM),f=i&&a.lineWidth?a.lineWidth:0,A=Array.isArray(e)?e:String(e).split("\n").reduce(Kut,[]),{width:m,height:g,widths:y,heights:_,lineWidths:x}=Nlt(l,A),S=m+f,C=[],M=(S+2)*h[0],B=(g+f)*h[1],E={width:M<0?Math.floor(M):Math.ceil(M),height:B<0?Math.floor(B):Math.ceil(B),contextInstructions:C};(h[0]!=1||h[1]!=1)&&C.push("scale",h),i&&(C.push("strokeStyle",a.strokeStyle),C.push("lineWidth",f),C.push("lineCap",a.lineCap),C.push("lineJoin",a.lineJoin),C.push("miterLimit",a.miterLimit),C.push("setLineDash",[a.lineDash]),C.push("lineDashOffset",a.lineDashOffset)),r&&C.push("fillStyle",o.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");const L=.5-d;let I=d*S+L*f;const k=[],O=[];let F=0,U=0,$=0,K=0,V;for(let Q=0,X=A.length;Q<X;Q+=2){const z=A[Q];if(z==="\n"){U+=F,F=0,I=d*S+L*f,++K;continue}const ne=A[Q+1]||l.font;ne!==V&&(i&&k.push("font",ne),r&&O.push("font",ne),V=ne),F=Math.max(F,_[$]);const he=[z,I+L*y[$]+d*(y[$]-x[K]),.5*(f+F)+U];I+=y[$],i&&k.push("strokeText",he),r&&O.push("fillText",he),++$}return Array.prototype.push.apply(C,k),Array.prototype.push.apply(C,O),this.labels_[s]=E,E}replayTextBackground_(e,n,r,i,s,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],e.fillStyle=a[1],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,a,o,l,u,h,d,f,A,m,g,y){o*=f[0],l*=f[1];let _=r-o,x=i-l;const S=s+u>e?e-u:s,C=a+h>n?n-h:a,M=m[3]+S*f[0]+m[1],B=m[0]+C*f[1]+m[2],E=_-m[3],L=x-m[0];(g||d!==0)&&(E0[0]=E,S0[0]=E,E0[1]=L,Km[1]=L,Km[0]=E+M,qm[0]=Km[0],qm[1]=L+B,S0[1]=qm[1]);let I;return d!==0?(I=If(bo(),r,i,1,1,d,-r,-i),Ja(I,E0),Ja(I,Km),Ja(I,qm),Ja(I,S0),Bf(Math.min(E0[0],Km[0],qm[0],S0[0]),Math.min(E0[1],Km[1],qm[1],S0[1]),Math.max(E0[0],Km[0],qm[0],S0[0]),Math.max(E0[1],Km[1],qm[1],S0[1]),ax)):Bf(Math.min(E,E+M),Math.min(L,L+B),Math.max(E,E+M),Math.max(L,L+B),ax),A&&(_=Math.round(_),x=Math.round(x)),{drawImageX:_,drawImageY:x,drawImageW:S,drawImageH:C,originX:u,originY:h,declutterBox:{minX:ax[0],minY:ax[1],maxX:ax[2],maxY:ax[3],value:y},canvasTransform:I,scale:f}}replayImageOrLabel_(e,n,r,i,s,a,o){const l=!!(a||o),u=i.declutterBox,h=o?o[2]*i.scale[0]/2:0;return u.minX-h<=n[0]&&u.maxX+h>=0&&u.minY-h<=n[1]&&u.maxY+h>=0&&(l&&this.replayTextBackground_(e,E0,Km,qm,S0,a,o),Dlt(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const r=Ja(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],a=this.createLabel(e,n,i,r),o=this.strokeStates[r],l=this.pixelRatio,u=l3(Array.isArray(e)?e[0]:e,s.textAlign||jM),h=XO[s.textBaseline||UO],d=o&&o.lineWidth?o.lineWidth:0,f=a.width/l-2*s.scale[0],A=u*f+2*(.5-u)*d,m=h*a.height/l+2*(.5-h)*d;return{label:a,anchorX:A,anchorY:m}}execute_(e,n,r,i,s,a,o,l){const u=this.zIndexContext_;let h;this.pixelCoordinates_&&vm(r,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=nm(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),nAe(this.renderedTransform_,r));let d=0;const f=i.length;let A=0,m,g,y,_,x,S,C,M,B,E,L,I,k,O=0,F=0;const U=this.coordinateCache_,$=this.viewRotation_,K=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,V={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},Q=this.instructions!=i||this.overlaps?0:200;let X,z,ne,he;for(;d<f;){const W=i[d];switch(W[0]){case Ui.BEGIN_GEOMETRY:X=W[1],he=W[3],X.getGeometry()?o!==void 0&&!wo(o,he.getExtent())?d=W[2]+1:++d:d=W[2],u&&(u.zIndex=W[4]);break;case Ui.BEGIN_PATH:O>Q&&(this.fill_(e),O=0),F>Q&&(e.stroke(),F=0),!O&&!F&&(e.beginPath(),x=NaN,S=NaN),++d;break;case Ui.CIRCLE:A=W[1];const oe=h[A],fe=h[A+1],me=h[A+2],ce=h[A+3],be=me-oe,xe=ce-fe,Ie=Math.sqrt(be*be+xe*xe);e.moveTo(oe+Ie,fe),e.arc(oe,fe,Ie,0,2*Math.PI,!0),++d;break;case Ui.CLOSE_PATH:e.closePath(),++d;break;case Ui.CUSTOM:A=W[1],m=W[2];const Qe=W[3],ue=W[4],ye=W[5];V.geometry=Qe,V.feature=X,d in U||(U[d]=[]);const $e=U[d];ye?ye(h,A,m,2,$e):($e[0]=h[A],$e[1]=h[A+1],$e.length=2),u&&(u.zIndex=W[6]),ue($e,V),++d;break;case Ui.DRAW_IMAGE:A=W[1],m=W[2],B=W[3],g=W[4],y=W[5];let Ve=W[6];const Se=W[7],at=W[8],ft=W[9],je=W[10];let gt=W[11];const vt=W[12];let Te=W[13];_=W[14]||"declutter";const we=W[15];if(!B&&W.length>=20){E=W[19],L=W[20],I=W[21],k=W[22];const Un=this.drawLabelWithPointPlacement_(E,L,I,k);B=Un.label,W[3]=B;const jr=W[23];g=(Un.anchorX-jr)*this.pixelRatio,W[4]=g;const Mi=W[24];y=(Un.anchorY-Mi)*this.pixelRatio,W[5]=y,Ve=B.height,W[6]=Ve,Te=B.width,W[13]=Te}let Ne;W.length>25&&(Ne=W[25]);let Ze,Tt,Zt;W.length>17?(Ze=W[16],Tt=W[17],Zt=W[18]):(Ze=p1,Tt=null,Zt=null),je&&K?gt+=$:!je&&!K&&(gt-=$);let ln=0;for(;A<m;A+=2){if(Ne&&Ne[ln++]<Te/this.pixelRatio)continue;const Un=this.calculateImageOrLabelDimensions_(B.width,B.height,h[A],h[A+1],Te,Ve,g,y,at,ft,gt,vt,s,Ze,!!Tt||!!Zt,X),jr=[e,n,B,Un,Se,Tt,Zt];if(l){let Mi,bi,Ji;if(we){const Di=m-A;if(!we[Di]){we[Di]={args:jr,declutterMode:_};continue}const Hi=we[Di];Mi=Hi.args,bi=Hi.declutterMode,delete we[Di],Ji=Eee(Mi)}let br,fs;if(Mi&&(bi!=="declutter"||!l.collides(Ji))&&(br=!0),(_!=="declutter"||!l.collides(Un.declutterBox))&&(fs=!0),bi==="declutter"&&_==="declutter"){const Di=br&&fs;br=Di,fs=Di}br&&(bi!=="none"&&l.insert(Ji),this.replayImageOrLabel_.apply(this,Mi)),fs&&(_!=="none"&&l.insert(Un.declutterBox),this.replayImageOrLabel_.apply(this,jr))}else this.replayImageOrLabel_.apply(this,jr)}++d;break;case Ui.DRAW_CHARS:const Ye=W[1],yt=W[2],Qt=W[3],Dt=W[4];k=W[5];const st=W[6],ke=W[7],ct=W[8];I=W[9];const Oe=W[10];E=W[11],L=W[12];const kt=[W[13],W[13]];_=W[14]||"declutter";const wn=W[15],mt=this.textStates[L],Kt=mt.font,bn=[mt.scale[0]*ke,mt.scale[1]*ke];let Rn;Kt in this.widths_?Rn=this.widths_[Kt]:(Rn={},this.widths_[Kt]=Rn);const On=rpe(h,Ye,yt,2),Dn=Math.abs(bn[0])*qJ(Kt,E,Rn);if(Dt||Dn<=On){const Un=this.textStates[L].textAlign,jr=(On-Dn)*l3(E,Un),Mi=jut(h,Ye,yt,2,E,jr,st,Math.abs(bn[0]),qJ,Kt,Rn,K?0:this.viewRotation_,wn);e:if(Mi){const bi=[];let Ji,br,fs,Di,Hi;if(I)for(Ji=0,br=Mi.length;Ji<br;++Ji){Hi=Mi[Ji],fs=Hi[4],Di=this.createLabel(fs,L,"",I),g=Hi[2]+(bn[0]<0?-Oe:Oe),y=Qt*Di.height+(.5-Qt)*2*Oe*bn[1]/bn[0]-ct;const ki=this.calculateImageOrLabelDimensions_(Di.width,Di.height,Hi[0],Hi[1],Di.width,Di.height,g,y,0,0,Hi[3],kt,!1,p1,!1,X);if(l&&_==="declutter"&&l.collides(ki.declutterBox))break e;bi.push([e,n,Di,ki,1,null,null])}if(k)for(Ji=0,br=Mi.length;Ji<br;++Ji){Hi=Mi[Ji],fs=Hi[4],Di=this.createLabel(fs,L,k,""),g=Hi[2],y=Qt*Di.height-ct;const ki=this.calculateImageOrLabelDimensions_(Di.width,Di.height,Hi[0],Hi[1],Di.width,Di.height,g,y,0,0,Hi[3],kt,!1,p1,!1,X);if(l&&_==="declutter"&&l.collides(ki.declutterBox))break e;bi.push([e,n,Di,ki,1,null,null])}l&&_!=="none"&&l.load(bi.map(Eee));for(let ki=0,ot=bi.length;ki<ot;++ki)this.replayImageOrLabel_.apply(this,bi[ki])}}++d;break;case Ui.END_GEOMETRY:if(a!==void 0){X=W[1];const Un=a(X,he,_);if(Un)return Un}++d;break;case Ui.FILL:Q?O++:this.fill_(e),++d;break;case Ui.MOVE_TO_LINE_TO:for(A=W[1],m=W[2],z=h[A],ne=h[A+1],e.moveTo(z,ne),x=z+.5|0,S=ne+.5|0,A+=2;A<m;A+=2)z=h[A],ne=h[A+1],C=z+.5|0,M=ne+.5|0,(A==m-2||C!==x||M!==S)&&(e.lineTo(z,ne),x=C,S=M);++d;break;case Ui.SET_FILL_STYLE:this.alignAndScaleFill_=W[2],O&&(this.fill_(e),O=0,F&&(e.stroke(),F=0)),e.fillStyle=W[1],++d;break;case Ui.SET_STROKE_STYLE:F&&(e.stroke(),F=0),this.setStrokeStyle_(e,W),++d;break;case Ui.STROKE:Q?F++:e.stroke(),++d;break;default:++d;break}}O&&this.fill_(e),F&&e.stroke()}execute(e,n,r,i,s,a){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,a)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,s)}}const Xx=["Polygon","Circle","LineString","Image","Text","Default"],YO=["Image","Text"],Xut=Xx.filter(t=>!YO.includes(t));class wpe{constructor(e,n,r,i,s,a,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=bo(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,o)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,n){for(const r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);const s=e[r];for(const a in s){const o=s[a];i[a]=new qut(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,a){i=Math.round(i);const o=i*2+1,l=If(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Xo(o,o,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==o||h.canvas.height!==o?(h.canvas.width=o,h.canvas.height=o):u||h.clearRect(0,0,o,o);let d;this.renderBuffer_!==void 0&&(d=ol(),R1(d,e),uc(d,n*(this.renderBuffer_+i),d));const f=Yut(i);let A;function m(M,B,E){const L=h.getImageData(0,0,o,o).data;for(let I=0,k=f.length;I<k;I++)if(L[f[I]]>0){if(!a||E==="none"||A!=="Image"&&A!=="Text"||a.includes(M)){const O=(f[I]-3)/4,F=i-O%o,U=i-(O/o|0),$=s(M,B,F*F+U*U);if($)return $}h.clearRect(0,0,o,o);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(Jg);let y,_,x,S,C;for(y=g.length-1;y>=0;--y){const M=g[y].toString();for(x=this.executorsByZIndex_[M],_=Xx.length-1;_>=0;--_)if(A=Xx[_],S=x[A],S!==void 0&&(C=S.executeHitDetection(h,l,r,m,d),C))return C}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],a=n[3],o=[r,i,r,a,s,a,s,i];return nm(o,0,8,2,e,o),o}isEmpty(){return Lv(this.executorsByZIndex_)}execute(e,n,r,i,s,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(o?kfe:Jg),a=a||Xx;const u=Xx.length;for(let h=0,d=l.length;h<d;++h){const f=l[h].toString(),A=this.executorsByZIndex_[f];for(let m=0,g=a.length;m<g;++m){const y=a[m],_=A[y];if(_!==void 0){const x=o===null?void 0:_.getZIndexContext(),S=x?x.getContext():e,C=this.maxExtent_&&y!=="Image"&&y!=="Text";if(C&&(S.save(),this.clip(S,r)),!x||y==="Text"||y==="Image"?_.execute(S,n,r,i,s,o):x.pushFunction(M=>_.execute(M,n,r,i,s,o)),C&&S.restore(),x){x.offset();const M=l[h]*u+m;this.deferredZIndexContexts_[M]||(this.deferredZIndexContexts_[M]=[]),this.deferredZIndexContexts_[M].push(x)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(Jg);for(let r=0,i=n.length;r<i;++r)e[n[r]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[n[r]].length=0}}const c3={};function Yut(t){if(c3[t]!==void 0)return c3[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let a=0;a<=t;++a){const o=s*s+a*a;if(o>n)break;let l=r[o];l||(l=[],r[o]=l),l.push(((t+s)*e+(t+a))*4+3),s>0&&l.push(((t-s)*e+(t+a))*4+3),a>0&&(l.push(((t+s)*e+(t-a))*4+3),s>0&&l.push(((t-s)*e+(t-a))*4+3))}const i=[];for(let s=0,a=r.length;s<a;++s)r[s]&&i.push(...r[s]);return c3[t]=i,i}class bpe extends ype{constructor(e,n,r,i,s,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?nC(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=bo()}drawImages_(e,n,r,i){if(!this.image_)return;const s=nm(e,n,r,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let h=0,d=s.length;h<d;h+=2){const f=s[h]-this.imageAnchorX_,A=s[h+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const m=f+this.imageAnchorX_,g=A+this.imageAnchorY_;If(o,m,g,1,1,u,-m,-g),a.save(),a.transform.apply(a,o),a.translate(m,g),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,A,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=nm(e,n,r,i,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<r;n+=i){const l=s[n]+this.textOffsetX_,u=s[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u))}}moveToLineTo_(e,n,r,i,s){const a=this.context_,o=nm(e,n,r,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;s&&(l-=2);for(let u=2;u<l;u+=2)a.lineTo(o[u],o[u+1]);return s&&a.closePath(),r}drawRings_(e,n,r,i){for(let s=0,a=r.length;s<a;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!wo(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=$at(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),a=this.context_;a.beginPath(),a.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!wo(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(wo(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const a=e.getEnds(),o=e.getStride();r.beginPath();for(let l=0,u=a.length;l<u;++l)s=this.moveToLineTo_(i,s,a[l],o,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!wo(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!wo(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=s.length;o<l;++o){const u=s[o];i=this.drawRings_(r,i,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),vm(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:jM;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Wg(r||Ld)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),h=s||mv;this.strokeState_={lineCap:i!==void 0?i:bS,lineDash:this.pixelRatio_===1?h:h.map(d=>d*this.pixelRatio_),lineDashOffset:(a||vv)*this.pixelRatio_,lineJoin:o!==void 0?o:xS,lineWidth:(l!==void 0?l:KM)*this.pixelRatio_,miterLimit:u!==void 0?u:QM,strokeStyle:Wg(r||WM)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/r,a[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const A=n.getColor();this.textFillState_={fillStyle:Wg(A||Ld)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const A=r.getColor(),m=r.getLineCap(),g=r.getLineDash(),y=r.getLineDashOffset(),_=r.getLineJoin(),x=r.getWidth(),S=r.getMiterLimit();this.textStrokeState_={lineCap:m!==void 0?m:bS,lineDash:g||mv,lineDashOffset:y||vv,lineJoin:_!==void 0?_:xS,lineWidth:x!==void 0?x:KM,miterLimit:S!==void 0?S:QM,strokeStyle:Wg(A||WM)}}const i=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),h=e.getText(),d=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:i!==void 0?i:NAe,textAlign:d!==void 0?d:jM,textBaseline:f!==void 0?f:UO},this.text_=h!==void 0?Array.isArray(h)?h.reduce((A,m,g)=>A+=g%2?" ":m,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const pf=.5;function xpe(t,e,n,r,i,s,a,o,l){const u=l?_w(i):i,h=t[0]*pf,d=t[1]*pf,f=Xo(h,d);f.imageSmoothingEnabled=!1;const A=f.canvas,m=new bpe(f,pf,i,null,a,o,l?Uy(Oat(),l):null),g=n.length,y=Math.floor((256*256*256-1)/g),_={};for(let S=1;S<=g;++S){const C=n[S-1],M=C.getStyleFunction()||r;if(!M)continue;let B=M(C,s);if(!B)continue;Array.isArray(B)||(B=[B]);const L=(S*y).toString(16).padStart(7,"#00000");for(let I=0,k=B.length;I<k;++I){const O=B[I],F=O.getGeometryFunction()(C);if(!F||!wo(u,F.getExtent()))continue;const U=O.clone(),$=U.getFill();$&&$.setColor(L);const K=U.getStroke();K&&(K.setColor(L),K.setLineDash(null)),U.setText(void 0);const V=O.getImage();if(V){const ne=V.getImageSize();if(!ne)continue;const he=Xo(ne[0],ne[1],void 0,{alpha:!1}),W=he.canvas;he.fillStyle=L,he.fillRect(0,0,W.width,W.height),U.setImage(new Vy({img:W,anchor:V.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:V.getOrigin(),opacity:1,size:V.getSize(),scale:V.getScale(),rotation:V.getRotation(),rotateWithView:V.getRotateWithView()}))}const Q=U.getZIndex()||0;let X=_[Q];X||(X={},_[Q]=X,X.Polygon=[],X.Circle=[],X.LineString=[],X.Point=[]);const z=F.getType();if(z==="GeometryCollection"){const ne=F.getGeometriesArrayRecursive();for(let he=0,W=ne.length;he<W;++he){const Y=ne[he];X[Y.getType().replace("Multi","")].push(Y,U)}}else X[z.replace("Multi","")].push(F,U)}}const x=Object.keys(_).map(Number).sort(Jg);for(let S=0,C=x.length;S<C;++S){const M=_[x[S]];for(const B in M){const E=M[B];for(let L=0,I=E.length;L<I;L+=2){m.setStyle(E[L+1]);for(let k=0,O=e.length;k<O;++k)m.setTransform(e[k]),m.drawGeometry(E[L])}}}return f.getImageData(0,0,A.width,A.height)}function Epe(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*pf),s=Math.floor(Math.round(t[1])*pf),a=(eo(i,0,n.width-1)+eo(s,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],h=n.data[a+2]+256*(l+256*o),d=Math.floor((256*256*256-1)/e.length);h&&h%d===0&&r.push(e[h/d-1])}return r}const Zut=.5,Spe={Point:aht,LineString:rht,Polygon:lht,MultiPoint:oht,MultiLineString:iht,MultiPolygon:sht,GeometryCollection:nht,Circle:eht};function Jut(t,e){return parseInt(Sr(t),10)-parseInt(Sr(e),10)}function xG(t,e){const n=Cpe(t,e);return n*n}function Cpe(t,e){return Zut*t/e}function eht(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,a),l.drawCircle(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function ZO(t,e,n,r,i,s,a,o){const l=[],u=n.getImage();if(u){let f=!0;const A=u.getImageState();A==Kr.LOADED||A==Kr.ERROR?f=!1:A==Kr.IDLE&&u.load(),f&&l.push(u.ready())}const h=n.getFill();h&&h.loading()&&l.push(h.ready());const d=l.length>0;return d&&Promise.all(l).then(()=>i(null)),tht(t,e,n,r,s,a,o),d}function tht(t,e,n,r,i,s,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())Tpe(t,l,n,e,a);else{const h=Spe[l.getType()];h(t,l,n,e,a,s)}}function Tpe(t,e,n,r,i){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)Tpe(t,a[o],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}function nht(t,e,n,r,i,s){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const u=Spe[a[o].getType()];u(t,a[o],n,r,i,s)}}function rht(t,e,n,r,i){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}}function iht(t,e,n,r,i){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}}function sht(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(a||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawMultiPolygon(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r,i)}}function aht(t,e,n,r,i,s){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),u=s&&a&&l?{}:void 0;if(a){if(a.getImageState()!=Kr.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,u),h.drawPoint(e,r,i)}if(l){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(o,u),h.drawText(e,r,i)}}function oht(t,e,n,r,i,s){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),h=s&&o&&u?{}:void 0;if(o){if(a.getImageState()!=Kr.LOADED)return;const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,h),d.drawMultiPoint(e,r,i)}if(u){const d=t.getBuilder(n.getZIndex(),"Text");d.setTextStyle(l,h),d.drawText(e,r,i)}}function lht(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawPolygon(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r,i)}}class Mpe extends q9{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol(),this.wrappedRenderedExtent_=ol(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,a=s.center,o=s.resolution,l=s.projection,u=s.rotation,h=l.getExtent(),d=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),A=n.pixelRatio,m=n.viewHints,g=!(m[Xa.ANIMATING]||m[Xa.INTERACTING]),y=this.context,_=Math.round(hs(i)/o*A),x=Math.round(oo(i)/o*A),S=d.getWrapX()&&l.canWrapX(),C=S?hs(h):null,M=S?Math.ceil((i[2]-h[2])/C)+1:1;let B=S?Math.floor((i[0]-h[0])/C):0;do{let E=this.getRenderTransform(a,o,0,A,_,x,B*C);n.declutter&&(E=E.slice(0)),e.execute(y,[y.canvas.width,y.canvas.height],E,u,g,r===void 0?Xx:r?YO:Xut,r?f&&n.declutter[f]:void 0)}while(++B<M)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Xo(this.context.canvas.width,this.context.canvas.height,_ee))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,WL(this.context),_ee.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex];this.opacity_=r.opacity;const i=e.viewState;this.prepareContainer(e,n);const s=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(jc.PRERENDER)||this.getLayer().hasListener(jc.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(s,e),i.projection,this.clipped_=!1,o&&r.extent&&this.clipping){const l=Gh(r.extent);o=wo(l,e.extent),this.clipped_=o&&!_f(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=this.frameState.size.slice(),i=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),h=[],d=r[0]*pf,f=r[1]*pf;h.push(this.getRenderTransform(i,s,a,pf,d,f,0).slice());const A=u.getSource(),m=o.getExtent();if(A.getWrapX()&&o.canWrapX()&&!_f(m,l)){let g=l[0];const y=hs(m);let _=0,x;for(;g<m[0];)--_,x=y*_,h.push(this.getRenderTransform(i,s,a,pf,d,f,x).slice()),g+=y;for(_=0,g=l[2];g>m[2];)++_,x=y*_,h.push(this.getRenderTransform(i,s,a,pf,d,f,x).slice()),g-=y}this.hitDetectionImageData_=xpe(r,h,this.renderedFeatures_,u.getStyleFunction(),l,s,a,xG(s,this.renderedPixelRatio_),null)}n(Epe(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){var f,A;if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),u={},h=function(m,g,y){const _=Sr(m),x=u[_];if(x){if(x!==!0&&y<x.distanceSq){if(y===0)return u[_]=!0,s.splice(s.lastIndexOf(x),1),i(m,l,g);x.geometry=g,x.distanceSq=y}}else{if(y===0)return u[_]=!0,i(m,l,g);s.push(u[_]={feature:m,layer:l,geometry:g,distanceSq:y,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,o,r,h,d?(A=(f=n.declutter)==null?void 0:f[d])==null?void 0:A.all().map(m=>m.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[Xa.ANIMATING],s=e.viewHints[Xa.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&i||!o&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,h=u.projection,d=u.resolution,f=e.pixelRatio,A=n.getRevision(),m=n.getRenderBuffer();let g=n.getRenderOrder();g===void 0&&(g=Jut);const y=u.center.slice(),_=uc(l,m*d),x=_.slice(),S=[_.slice()],C=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!_f(C,e.extent)){const $=hs(C),K=Math.max(hs(_)/2,$);_[0]=C[0]-K,_[2]=C[2]+K,W5(y,h);const V=j7(S[0],h);V[0]<C[0]&&V[2]<C[2]?S.push([V[0]+$,V[1],V[2]+$,V[3]]):V[0]>C[0]&&V[2]>C[2]&&S.push([V[0]-$,V[1],V[2]-$,V[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==A&&this.renderedRenderOrder_==g&&this.renderedFrameDeclutter_===!!e.declutter&&_f(this.wrappedRenderedExtent_,_))return vm(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const M=new _pe(Cpe(d,f),_,d,f);let B;for(let $=0,K=S.length;$<K;++$)r.loadFeatures(S[$],d,h);const E=xG(d,f);let L=!0;const I=($,K)=>{let V;const Q=$.getStyleFunction()||n.getStyleFunction();if(Q&&(V=Q($,d)),V){const X=this.renderFeature($,E,V,M,B,this.getLayer().getDeclutter(),K);L=L&&!X}},k=_w(_),O=r.getFeaturesInExtent(k);g&&O.sort(g);for(let $=0,K=O.length;$<K;++$)I(O[$],$);this.renderedFeatures_=O,this.ready=L;const F=M.finish(),U=new wpe(_,d,f,r.getOverlaps(),F,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=A,this.renderedRenderOrder_=g,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=_,this.renderedCenter_=y,this.renderedProjection_=h,this.renderedPixelRatio_=f,this.replayGroup_=U,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,a,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let u=0,h=r.length;u<h;++u)l=ZO(i,e,r[u],n,this.boundHandleStyleImageChange_,s,a,o)||l;else l=ZO(i,e,r,n,this.boundHandleStyleImageChange_,s,a,o);return l}}class fm extends Sw{constructor(e){super(e)}createRenderer(){return new Mpe(this)}}function pD(t){const e=t.frameState,n=Rv(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new bpe(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation)}var kT=$st.split(".");kT=parseInt(kT[0])*100+parseInt(kT[1]);var EG=function(t,e){var n=t.frameState.pixelRatio;if(kT>605&&kT<700&&n!==1&&e.getImage()instanceof Vy){e=e.clone();var r=e.getImage();r.setScale(r.getScale()*n);var i=r.getAnchor();if(i&&r.setDisplacement){var s=r.getDisplacement();s&&(s[0]-=i[0]/n,s[1]+=i[1]/n,r.setAnchor([0,0]))}else i&&(i[0]/=n,i[1]/=n)}return e},cht=class extends fm{constructor(e){var n=e||{};super(n),this.oldcluster=new Qv,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof n.animationDuration=="number"?n.animationDuration:700),this.set("animationMethod",n.animationMethod||Dp),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))}setSource(e){this._saveClusterFn||(this._saveClusterFn=this.saveCluster.bind(this)),this.getSource()&&this.getSource().un("change",this._saveClusterFn),fm.prototype.setSource.call(this,e),this.getSource()&&this.getSource().on("change",this._saveClusterFn)}saveCluster(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var e=this.getSource().getFeatures();e.length&&e[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=e.slice(0),this.sourceChanged=!0)}}getClusterForFeature(e,n){for(var r=0,i;i=n[r];r++){var s=i.get("features");if(s&&s.length){for(var a=0,o;o=s[a];a++)if(e===o)return i}}return!1}stopAnimation(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]}animate(e){var n=this.get("animationDuration");if(n){var r=e.frameState.viewState.resolution,i,s,a=this.animation,o=e.frameState.time;if(a.resolution!=r&&this.sourceChanged){var l=e.frameState.extent;for(a.resolution<r?(l=uc(l,100*r),a.cA=this.oldcluster.getFeaturesInExtent(l),a.cB=this.getSource().getFeaturesInExtent(l),a.revers=!1):(l=uc(l,100*r),a.cA=this.getSource().getFeaturesInExtent(l),a.cB=this.oldcluster.getFeaturesInExtent(l),a.revers=!0),a.clusters=[],i=0,s;s=a.cA[i];i++){var u=s.get("features");if(u&&u.length){var h=this.getClusterForFeature(u[0],a.cB);h&&a.clusters.push({f:s,pt:h.getGeometry().getCoordinates()})}}if(a.resolution=r,this.sourceChanged=!1,!a.clusters.length||a.clusters.length>1e3){this.stopAnimation();return}o=a.start=new Date().getTime()}if(a.start){var d=e.vectorContext||pD(e),f=(o-a.start)/n;f>1&&(this.stopAnimation(),f=1),f=this.get("animationMethod")(f);var A=this.getStyle(),m=typeof A=="function"?A:A.length?function(){return A}:function(){return[A]};for(e.context.save(),e.context.globalAlpha=this.getOpacity(),i=0,h;h=a.clusters[i];i++){var g=h.f.getGeometry().getCoordinates(),y=g[0]-h.pt[0],_=g[1]-h.pt[1];a.revers?(g[0]=h.pt[0]+f*y,g[1]=h.pt[1]+f*_):(g[0]=g[0]-f*y,g[1]=g[1]-f*_);var x=m(h.f,r,!0);if(x.length||(x=[x]),h.f.get("features").length===1&&!y&&!_)u=h.f.get("features")[0];else{var S=new oa(g);u=new vs(S)}for(var C=0,M;M=x[C];C++)if(M.getText()&&/\n/.test(M.getText().getText())){var B=M.getText().getOffsetX(),E=M.getText().getOffsetY(),L=M.getText().getRotation()||0,I=Number((M.getText().getFont()||"10px").match(/\d+/))*1.2,k=M.getText().getText().split("\n"),O,F=k.length-1,U=M.clone();k.forEach(function($,K){switch(K==1&&(U.setImage(),U.setFill(),U.setStroke()),M.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{O=F;break}case"hanging":case"top":{O=0;break}default:{O=F/2;break}}U.getText().setOffsetX(B-Math.sin(L)*I*(K-O)),U.getText().setOffsetY(E+Math.cos(L)*I*(K-O)),U.getText().setText($),d.drawFeature(u,EG(e,U))})}else d.drawFeature(u,EG(e,M))}e.context.restore(),e.frameState.animate=!0,e.context.save(),e.context.beginPath(),e.context.rect(0,0,0,0),e.context.clip(),this.clip_=!0}}}postanimate(e){this.clip_&&(e.context.restore(),this.clip_=!1)}};const UT={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"},Cee=.985;function Lpe(t,e){e=e||[];const n=256,r=n-1;return e[0]=Math.floor(t/n/n/n)/r,e[1]=Math.floor(t/n/n)%n/r,e[2]=Math.floor(t/n)%n/r,e[3]=t%n/r,e}function Bpe(t){let e=0;const n=256,r=n-1;return e+=Math.round(t[0]*n*n*n*r),e+=Math.round(t[1]*n*n*r),e+=Math.round(t[2]*n*r),e+=Math.round(t[3]*r),e}function uht(t){const e=Array.isArray(t)?t:[t];if("style"in e[0]){const n=[],r=e,i=[];for(const s of r){const a=Array.isArray(s.style)?s.style:[s.style];let o=s.filter;s.else&&i.length&&(o=["all",...i.map(u=>["!",u])],s.filter&&o.push(s.filter),o.length<3&&(o=o[1])),s.filter&&i.push(s.filter);const l=a.map(u=>({style:u,...o&&{filter:o}}));n.push(...l)}return n}return"builder"in e[0]?e:e.map(n=>({style:n}))}const ZL=34962,JL=34963,X9=35044,JO=35048,hht=5121,dht=5123,fht=5125,Rpe=5126,Tee=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Aht(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!cot},e);const n=Tee.length;for(let r=0;r<n;++r)try{const i=t.getContext(Tee[r],e);if(i)return i}catch(i){}return null}const pht={STATIC_DRAW:X9};class CS{constructor(e,n){this.array_=null,this.type_=e,As(e===ZL||e===JL,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=n!==void 0?n:pht.STATIC_DRAW}ofSize(e){return this.array_=new(mI(this.type_))(e),this}fromArray(e){return this.array_=mI(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(mI(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}setArray(e){const n=mI(this.type_);if(!(e instanceof n))throw new Error("Expected ".concat(n));this.array_=e}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function mI(t){switch(t){case ZL:return Float32Array;case JL:return Uint32Array;default:return Float32Array}}const vI={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},ght="\n  precision mediump float;\n\n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n\n  uniform vec2 u_screenSize;\n\n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n",mht="\n  precision mediump float;\n\n  uniform sampler2D u_image;\n  uniform float u_opacity;\n\n  varying vec2 v_texCoord;\n\n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n";class Mee{constructor(e){this.gl_=e.webGlContext;const n=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer(),this.depthBuffer_=n.createRenderbuffer();const r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,e.vertexShader||ght),n.compileShader(r);const i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,e.fragmentShader||mht),n.compileShader(i),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,r),n.attachShader(this.renderTargetProgram_,i),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array(s),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(a=>{this.uniforms_.push({value:e.uniforms[a],location:n.getUniformLocation(this.renderTargetProgram_,a)})})}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(e){const n=this.getGL(),r=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];if(n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer()),n.bindRenderbuffer(n.RENDERBUFFER,this.getDepthBuffer()),n.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;const i=0,s=n.RGBA,a=0,o=n.RGBA,l=n.UNSIGNED_BYTE,u=null;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.texImage2D(n.TEXTURE_2D,i,s,r[0],r[1],a,o,l,u),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r[0],r[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer_)}}apply(e,n,r,i){const s=this.getGL(),a=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,n?n.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!n){const l=Sr(s.canvas);if(!e.renderTargets[l]){const u=s.getContextAttributes();u&&u.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[l]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const o=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,o),this.applyUniforms(e),r&&r(s,e),s.drawArrays(s.TRIANGLES,0,6),i&&i(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const n=this.getGL();let r,i=1;this.uniforms_.forEach(function(s){if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof ImageData)s.texture||(s.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(i)]),n.bindTexture(n.TEXTURE_2D,s.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,r.width,r.height,0,n.UNSIGNED_BYTE,new Uint8Array(r.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.uniform1i(s.location,i++);else if(Array.isArray(r))switch(r.length){case 2:n.uniform2f(s.location,r[0],r[1]);return;case 3:n.uniform3f(s.location,r[0],r[1],r[2]);return;case 4:n.uniform4f(s.location,r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(s.location,r)})}}const Dg={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},Fl={UNSIGNED_BYTE:hht,UNSIGNED_SHORT:dht,UNSIGNED_INT:fht,FLOAT:Rpe},eN={};function Lee(t){return"shared/"+t}let Bee=0;function vht(){const t="unique/"+Bee;return Bee+=1,t}function yht(t){let e=eN[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:Aht(n)},eN[t]=e}return e.users+=1,e.context}function _ht(t){const e=eN[t];if(!e||(e.users-=1,e.users>0))return;const n=e.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete eN[t]}class wht extends DL{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?Lee(e.canvasCacheKey):vht(),this.gl_=yht(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const n=this.gl_.canvas;n.addEventListener(vI.LOST,this.boundHandleWebGLContextLost_),n.addEventListener(vI.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=bo(),this.offsetScaleMatrix_=bo(),this.tmpMat4_=Mw(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(r=>new Mee({webGlContext:this.gl_,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})):[new Mee({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const n in e)this.uniforms_.push({name:n,value:e[n]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===Lee(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const n=this.gl_.getExtension(e);return this.extensionCache_[e]=n,n}bindBuffer(e){const n=this.gl_,r=Sr(e);let i=this.bufferCache_[r];if(!i){const s=n.createBuffer();i={buffer:e,webGlBuffer:s},this.bufferCache_[r]=i}n.bindBuffer(e.getType(),i.webGlBuffer)}flushBufferData(e){const n=this.gl_;this.bindBuffer(e),n.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const n=Sr(e);delete this.bufferCache_[n]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(vI.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(vI.RESTORED,this.boundHandleWebGLContextRestored_),_ht(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,n,r){const i=this.gl_,s=this.getCanvas(),a=e.size,o=e.pixelRatio;(s.width!==a[0]*o||s.height!==a[1]*o)&&(s.width=a[0]*o,s.height=a[1]*o,s.style.width=a[0]+"px",s.style.height=a[1]+"px");for(let l=this.postProcessPasses_.length-1;l>=0;l--)this.postProcessPasses_[l].init(e);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindFrameBuffer(e,n){const r=this.getGL();r.bindFramebuffer(r.FRAMEBUFFER,e),n&&r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0)}bindInitialFrameBuffer(){const e=this.getGL(),n=this.postProcessPasses_[0].getFrameBuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);const r=this.postProcessPasses_[0].getRenderTargetTexture();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}bindTexture(e,n,r){const i=this.gl_;i.activeTexture(i.TEXTURE0+n),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(this.getUniformLocation(r),n)}bindAttribute(e,n,r){const i=this.getGL();this.bindBuffer(e);const s=this.getAttributeLocation(n);i.enableVertexAttribArray(s),i.vertexAttribPointer(s,r,i.FLOAT,!1,0,0)}prepareDrawToRenderTarget(e,n,r,i){const s=this.gl_,a=n.getSize();s.bindFramebuffer(s.FRAMEBUFFER,n.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,n.getDepthbuffer()),s.viewport(0,0,a[0],a[1]),s.bindTexture(s.TEXTURE_2D,n.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,r?s.ZERO:s.ONE_MINUS_SRC_ALPHA),i?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,n){const r=this.gl_;this.getExtension("OES_element_index_uint");const i=r.UNSIGNED_INT,s=4,a=n-e,o=e*s;r.drawElements(r.TRIANGLES,a,i,o)}finalizeDraw(e,n,r){for(let i=0,s=this.postProcessPasses_.length;i<s;i++)i===s-1?this.postProcessPasses_[i].apply(e,null,n,r):this.postProcessPasses_[i].apply(e,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const n=e.size,r=e.viewState.rotation,i=e.pixelRatio;this.setUniformFloatValue(Dg.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(Dg.ZOOM,e.viewState.zoom),this.setUniformFloatValue(Dg.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(Dg.PIXEL_RATIO,i),this.setUniformFloatVec2(Dg.VIEWPORT_SIZE_PX,[n[0],n[1]]),this.setUniformFloatValue(Dg.ROTATION,r)}applyHitDetectionUniform(e){const n=this.getUniformLocation(Dg.HIT_DETECTION);this.getGL().uniform1i(n,e?1:0),e&&this.setUniformFloatValue(Dg.PIXEL_RATIO,.5)}applyUniforms(e){const n=this.gl_;let r,i=0;this.uniforms_.forEach(s=>{if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData||r instanceof WebGLTexture){r instanceof WebGLTexture&&!s.texture?(s.prevValue=void 0,s.texture=r):s.texture||(s.prevValue=void 0,s.texture=n.createTexture()),this.bindTexture(s.texture,i,s.name),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);const a=!(r instanceof HTMLImageElement)||r.complete;!(r instanceof WebGLTexture)&&a&&s.prevValue!==r&&(s.prevValue=r,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)),i++}else if(Array.isArray(r)&&r.length===6)this.setUniformMatrixValue(s.name,WO(this.tmpMat4_,r));else if(Array.isArray(r)&&r.length<=4)switch(r.length){case 2:n.uniform2f(this.getUniformLocation(s.name),r[0],r[1]);return;case 3:n.uniform3f(this.getUniformLocation(s.name),r[0],r[1],r[2]);return;case 4:n.uniform4f(this.getUniformLocation(s.name),r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(this.getUniformLocation(s.name),r)})}useProgram(e,n){this.gl_.useProgram(e),this.currentProgram_=e,n&&(this.applyFrameState(n),this.applyUniforms(n))}compileShader(e,n){const r=this.gl_,i=r.createShader(n);return r.shaderSource(i,e),r.compileShader(i),i}getProgram(e,n){const r=this.gl_,i=this.compileShader(e,r.FRAGMENT_SHADER),s=this.compileShader(n,r.VERTEX_SHADER),a=r.createProgram();if(r.attachShader(a,i),r.attachShader(a,s),r.linkProgram(a),!r.getShaderParameter(i,r.COMPILE_STATUS)){const o="Fragment shader compilation failed: ".concat(r.getShaderInfoLog(i));throw new Error(o)}if(r.deleteShader(i),!r.getShaderParameter(s,r.COMPILE_STATUS)){const o="Vertex shader compilation failed: ".concat(r.getShaderInfoLog(s));throw new Error(o)}if(r.deleteShader(s),!r.getProgramParameter(a,r.LINK_STATUS)){const o="GL program linking failed: ".concat(r.getProgramInfoLog(a));throw new Error(o)}return a}getUniformLocation(e){const n=Sr(this.currentProgram_);return this.uniformLocationsByProgram_[n]===void 0&&(this.uniformLocationsByProgram_[n]={}),this.uniformLocationsByProgram_[n][e]===void 0&&(this.uniformLocationsByProgram_[n][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[n][e]}getAttributeLocation(e){const n=Sr(this.currentProgram_);return this.attribLocationsByProgram_[n]===void 0&&(this.attribLocationsByProgram_[n]={}),this.attribLocationsByProgram_[n][e]===void 0&&(this.attribLocationsByProgram_[n][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[n][e]}makeProjectionTransform(e,n){const r=e.size,i=e.viewState.rotation,s=e.viewState.resolution,a=e.viewState.center;return If(n,0,0,2/(s*r[0]),2/(s*r[1]),-i,-a[0],-a[1]),n}setUniformFloatValue(e,n){this.gl_.uniform1f(this.getUniformLocation(e),n)}setUniformFloatVec2(e,n){this.gl_.uniform2fv(this.getUniformLocation(e),n)}setUniformFloatVec4(e,n){this.gl_.uniform4fv(this.getUniformLocation(e),n)}setUniformMatrixValue(e,n){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,n)}enableAttributeArray_(e,n,r,i,s){const a=this.getAttributeLocation(e);a<0||(this.gl_.enableVertexAttribArray(a),this.gl_.vertexAttribPointer(a,n,r,!1,i,s))}enableAttributes(e){const n=bht(e);let r=0;for(let i=0;i<e.length;i++){const s=e[i];this.enableAttributeArray_(s.name,s.size,s.type||Rpe,n,r),r+=s.size*Ipe(s.type)}}handleWebGLContextLost(e){yw(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,n,r,i){const s=this.gl_;r=r||s.createTexture();const a=i?s.NEAREST:s.LINEAR;s.bindTexture(s.TEXTURE_2D,r),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,a),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,a),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE);const o=0,l=s.RGBA,u=0,h=s.RGBA,d=s.UNSIGNED_BYTE;return n instanceof Uint8Array?s.texImage2D(s.TEXTURE_2D,o,l,e[0],e[1],u,h,d,n):n?s.texImage2D(s.TEXTURE_2D,o,l,h,d,n):s.texImage2D(s.TEXTURE_2D,o,l,e[0],e[1],u,h,d,null),r}}function bht(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r.size*Ipe(r.type)}return e}function Ipe(t){switch(t){case Fl.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Fl.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Fl.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Fl.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}const Cg=new Uint8Array(4);class Ppe{constructor(e,n){this.helper_=e;const r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.depthbuffer_=r.createRenderbuffer(),this.size_=n||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(e){vm(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const e=this.size_,n=this.helper_.getGL();n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.readPixels(0,0,e[0],e[1],n.RGBA,n.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(e,n){if(e<0||n<0||e>this.size_[0]||n>=this.size_[1])return Cg[0]=0,Cg[1]=0,Cg[2]=0,Cg[3]=0,Cg;this.readAll();const r=Math.floor(e)+(this.size_[1]-Math.floor(n)-1)*this.size_[0];return Cg[0]=this.data_[r*4],Cg[1]=this.data_[r*4+1],Cg[2]=this.data_[r*4+2],Cg[3]=this.data_[r*4+3],Cg}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const e=this.size_,n=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.viewport(0,0,e[0],e[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture_,0),n.bindRenderbuffer(n.RENDERBUFFER,this.depthbuffer_),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e[0],e[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(e[0]*e[1]*4)}}function Fpe(){const t='const t="GENERATE_POLYGON_BUFFERS",e="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(t,e,n=2){const r=e&&e.length,o=r?e[0]*n:t.length;let u=x(t,0,o,n,!0);const f=[];if(!u||u.next===u.prev)return f;let s,l,h;if(r&&(u=function(t,e,n,r){const o=[];for(let n=0,i=e.length;n<i;n++){const u=x(t,e[n]*r,n<i-1?e[n+1]*r:t.length,r,!1);u===u.next&&(u.steiner=!0),o.push(p(u))}o.sort(c);for(let t=0;t<o.length;t++)n=a(o[t],n);return n}(t,e,u,n)),t.length>80*n){s=1/0,l=1/0;let e=-1/0,r=-1/0;for(let x=n;x<o;x+=n){const n=t[x],o=t[x+1];n<s&&(s=n),o<l&&(l=o),n>e&&(e=n),o>r&&(r=o)}h=Math.max(e-s,r-l),h=0!==h?32767/h:0}return i(u,f,n,s,l,h,0),f}function x(t,e,n,r,x){let o;if(x===function(t,e,n,r){let x=0;for(let o=e,i=n-r;o<n;o+=r)x+=(t[i]-t[o])*(t[o+1]+t[i+1]),i=o;return x}(t,e,n,r)>0)for(let x=e;x<n;x+=r)o=I(x/r|0,t[x],t[x+1],o);else for(let x=n-r;x>=e;x-=r)o=I(x/r|0,t[x],t[x+1],o);return o&&m(o,o.next)&&(z(o),o=o.next),o}function o(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==M(r.prev,r,r.next))r=r.next;else{if(z(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,r,x,c,a){if(!t)return;!a&&c&&function(t,e,n,r){let x=t;do{0===x.z&&(x.z=y(x.x,x.y,e,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==t);x.prevZ.nextZ=null,x.prevZ=null,function(t){let e,n=1;do{let r,x=t;t=null;let o=null;for(e=0;x;){e++;let i=x,u=0;for(let t=0;t<n&&(u++,i=i.nextZ,i);t++);let f=n;for(;u>0||f>0&&i;)0!==u&&(0===f||!i||x.z<=i.z)?(r=x,x=x.nextZ,u--):(r=i,i=i.nextZ,f--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;x=i}o.nextZ=null,n*=2}while(e>1)}(x)}(t,r,x,c);let h=t;for(;t.prev!==t.next;){const y=t.prev,p=t.next;if(c?f(t,r,x,c):u(t))e.push(y.i,t.i,p.i),z(t),t=p.next,h=p.next;else if((t=p)===h){a?1===a?i(t=s(o(t),e),e,n,r,x,c,2):2===a&&l(t,e,n,r,x,c):i(o(t),e,n,r,x,c,1);break}}}function u(t){const e=t.prev,n=t,r=t.next;if(M(e,n,r)>=0)return!1;const x=e.x,o=n.x,i=r.x,u=e.y,f=n.y,s=r.y,l=Math.min(x,o,i),c=Math.min(u,f,s),a=Math.max(x,o,i),h=Math.max(u,f,s);let y=r.next;for(;y!==e;){if(y.x>=l&&y.x<=a&&y.y>=c&&y.y<=h&&g(x,u,o,f,i,s,y.x,y.y)&&M(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function f(t,e,n,r){const x=t.prev,o=t,i=t.next;if(M(x,o,i)>=0)return!1;const u=x.x,f=o.x,s=i.x,l=x.y,c=o.y,a=i.y,h=Math.min(u,f,s),p=Math.min(l,c,a),v=Math.max(u,f,s),b=Math.max(l,c,a),m=y(h,p,e,n,r),Z=y(v,b,e,n,r);let d=t.prevZ,w=t.nextZ;for(;d&&d.z>=m&&w&&w.z<=Z;){if(d.x>=h&&d.x<=v&&d.y>=p&&d.y<=b&&d!==x&&d!==i&&g(u,l,f,c,s,a,d.x,d.y)&&M(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,w.x>=h&&w.x<=v&&w.y>=p&&w.y<=b&&w!==x&&w!==i&&g(u,l,f,c,s,a,w.x,w.y)&&M(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;d&&d.z>=m;){if(d.x>=h&&d.x<=v&&d.y>=p&&d.y<=b&&d!==x&&d!==i&&g(u,l,f,c,s,a,d.x,d.y)&&M(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;w&&w.z<=Z;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=b&&w!==x&&w!==i&&g(u,l,f,c,s,a,w.x,w.y)&&M(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function s(t,e){let n=t;do{const r=n.prev,x=n.next.next;!m(r,x)&&Z(r,n,n.next,x)&&A(r,x)&&A(x,r)&&(e.push(r.i,n.i,x.i),z(n),z(n.next),n=t=x),n=n.next}while(n!==t);return o(n)}function l(t,e,n,r,x,u){let f=t;do{let t=f.next.next;for(;t!==f.prev;){if(f.i!==t.i&&b(f,t)){let s=E(f,t);return f=o(f,f.next),s=o(s,s.next),i(f,e,n,r,x,u,0),void i(s,e,n,r,x,u,0)}t=t.next}f=f.next}while(f!==t)}function c(t,e){let n=t.x-e.x;if(0===n&&(n=t.y-e.y,0===n)){n=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)}return n}function a(t,e){const n=function(t,e){let n=e;const r=t.x,x=t.y;let o,i=-1/0;if(m(t,n))return n;do{if(m(t,n.next))return n.next;if(x<=n.y&&x>=n.next.y&&n.next.y!==n.y){const t=n.x+(x-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>i&&(i=t,o=n.x<n.next.x?n:n.next,t===r))return o}n=n.next}while(n!==e);if(!o)return null;const u=o,f=o.x,s=o.y;let l=1/0;n=o;do{if(r>=n.x&&n.x>=f&&r!==n.x&&v(x<s?r:i,x,f,s,x<s?i:r,x,n.x,n.y)){const e=Math.abs(x-n.y)/(r-n.x);A(n,t)&&(e<l||e===l&&(n.x>o.x||n.x===o.x&&h(o,n)))&&(o=n,l=e)}n=n.next}while(n!==u);return o}(t,e);if(!n)return e;const r=E(n,t);return o(r,r.next),o(n,n.next)}function h(t,e){return M(t.prev,t,e.prev)<0&&M(e.next,t,t.next)<0}function y(t,e,n,r,x){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,x,o,i,u){return(x-i)*(e-u)>=(t-i)*(o-u)&&(t-i)*(r-u)>=(n-i)*(e-u)&&(n-i)*(o-u)>=(x-i)*(r-u)}function g(t,e,n,r,x,o,i,u){return!(t===i&&e===u)&&v(t,e,n,r,x,o,i,u)}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Z(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(A(t,e)&&A(e,t)&&function(t,e){let n=t,r=!1;const x=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&x<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(M(t.prev,t,e.prev)||M(t,e.prev,e))||m(t,e)&&M(t.prev,t,t.next)>0&&M(e.prev,e,e.next)>0)}function M(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function Z(t,e,n,r){const x=w(M(t,e,n)),o=w(M(t,e,r)),i=w(M(n,r,t)),u=w(M(n,r,e));return x!==o&&i!==u||(!(0!==x||!d(t,n,e))||(!(0!==o||!d(t,r,e))||(!(0!==i||!d(n,t,r))||!(0!==u||!d(n,e,r)))))}function d(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function A(t,e){return M(t.prev,t,t.next)<0?M(t,e,t.next)>=0&&M(t,t.prev,e)>=0:M(t,e,t.prev)<0||M(t,t.next,e)<0}function E(t,e){const n=F(t.i,t.x,t.y),r=F(e.i,e.x,e.y),x=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=x,x.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function I(t,e,n,r){const x=F(t,e,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function z(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function F(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function P(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function B(t,e){const n=(r=e)[0]*r[3]-r[1]*r[2];var r;!function(t,e){if(!t)throw new Error(e)}(0!==n,"Transformation matrix cannot be inverted");const x=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5];return t[0]=u/n,t[1]=-o/n,t[2]=-i/n,t[3]=x/n,t[4]=(i*s-u*f)/n,t[5]=-(x*s-o*f)/n,t}new Array(6);const N=[],R={vertexPosition:0,indexPosition:0};function S(t,e,n,r,x){t[e+0]=n,t[e+1]=r,t[e+2]=x}function T(t,e,n,r,x,o){const i=3+x,u=t[e+0],f=t[e+1],s=N;s.length=x;for(let n=0;n<s.length;n++)s[n]=t[e+2+n];let l=o?o.vertexPosition:0,c=o?o.indexPosition:0;const a=l/i;return S(n,l,u,f,0),s.length&&n.set(s,l+3),l+=i,S(n,l,u,f,1),s.length&&n.set(s,l+3),l+=i,S(n,l,u,f,2),s.length&&n.set(s,l+3),l+=i,S(n,l,u,f,3),s.length&&n.set(s,l+3),l+=i,r[c++]=a,r[c++]=a+1,r[c++]=a+3,r[c++]=a+1,r[c++]=a+2,r[c++]=a+3,R.vertexPosition=l,R.indexPosition=c,R}function _(t,e,n,r,x,o,i,u,f,s,l){const c=10+u.length,a=o.length/c,h=[t[e+0],t[e+1]],y=[t[n],t[n+1]],p=t[e+2],v=t[n+2],g=P(f,[...h]),b=P(f,[...y]);function M(t,e,n){const r=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),x=[(e[0]-t[0])/r,(e[1]-t[1])/r],o=[-x[1],x[0]],i=Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])),u=[(n[0]-t[0])/i,(n[1]-t[1])/i],f=0===r||0===i?0:Math.acos((s=u[0]*x[0]+u[1]*x[1],l=-1,c=1,Math.min(Math.max(s,l),c)));var s,l,c;return u[0]*o[0]+u[1]*o[1]>0?f:2*Math.PI-f}let m=-1,Z=-1,d=l;const w=null!==x;if(null!==r){m=M(g,b,P(f,[...[t[r],t[r+1]]])),Math.cos(m)<=.985&&(d+=Math.tan((m-Math.PI)/2))}if(w){Z=M(b,g,P(f,[...[t[x],t[x+1]]])),Math.cos(Z)<=.985&&(d+=Math.tan((Math.PI-Z)/2))}function A(t,e){return 0===e?1e4*t:Math.sign(e)*(1e4*t+Math.abs(e))}return o.push(h[0],h[1],p,y[0],y[1],v,m,Z,s,A(0,l)),o.push(...u),o.push(h[0],h[1],p,y[0],y[1],v,m,Z,s,A(1,l)),o.push(...u),o.push(h[0],h[1],p,y[0],y[1],v,m,Z,s,A(2,l)),o.push(...u),o.push(h[0],h[1],p,y[0],y[1],v,m,Z,s,A(3,l)),o.push(...u),i.push(a,a+1,a+2,a+1,a+3,a+2),{length:s+Math.sqrt((b[0]-g[0])*(b[0]-g[0])+(b[1]-g[1])*(b[1]-g[1])),angle:d}}function O(t,e,n,x,o){const i=2+o;let u=e;const f=t.slice(u,u+o);u+=o;const s=t[u++];let l=0;const c=new Array(s-1);for(let e=0;e<s;e++)l+=t[u++],e<s-1&&(c[e]=l);const a=t.slice(u,u+2*l),h=r(a,c,2);for(let t=0;t<h.length;t++)x.push(h[t]+n.length/i);for(let t=0;t<a.length;t+=2)n.push(a[t],a[t+1],...f);return u+2*l}const U=self;U.onmessage=r=>{const x=r.data;switch(x.type){case e:{const t=3,e=2,n=x.customAttributesSize,r=e+n,o=new Float32Array(x.renderInstructions),i=o.length/r,u=4*i*(n+t),f=new Uint32Array(6*i),s=new Float32Array(u);let l;for(let t=0;t<o.length;t+=r)l=T(o,t,s,f,n,l);const c=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:o.buffer},x);U.postMessage(c,[s.buffer,f.buffer,o.buffer]);break}case n:{const t=[],e=[],n=x.customAttributesSize,r=3,o=new Float32Array(x.renderInstructions);let i=0;const u=[1,0,0,1,0,0];let f,s;for(B(u,x.renderInstructionsTransform);i<o.length;){s=Array.from(o.slice(i,i+n)),i+=n,f=o[i++];const x=i,l=i+(f-1)*r,c=o[x]===o[l]&&o[x+1]===o[l+1];let a=0,h=0;for(let n=0;n<f-1;n++){let y=null;n>0?y=i+(n-1)*r:c&&(y=l-r);let p=null;n<f-2?p=i+(n+2)*r:c&&(p=x+r);const v=_(o,i+n*r,i+(n+1)*r,y,p,t,e,s,u,a,h);a=v.length,h=v.angle}i+=f*r}const l=Uint32Array.from(e),c=Float32Array.from(t),a=Object.assign({vertexBuffer:c.buffer,indexBuffer:l.buffer,renderInstructions:o.buffer},x);U.postMessage(a,[c.buffer,l.buffer,o.buffer]);break}case t:{const t=[],e=[],n=x.customAttributesSize,r=new Float32Array(x.renderInstructions);let o=0;for(;o<r.length;)o=O(r,o,t,e,n);const i=Uint32Array.from(e),u=Float32Array.from(t),f=Object.assign({vertexBuffer:u.buffer,indexBuffer:i.buffer,renderInstructions:r.buffer},x);U.postMessage(f,[u.buffer,i.buffer,r.buffer]);break}}};';return new Worker(typeof Blob>"u"?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}class eB extends dpe{constructor(e,n){super(e),n=n||{},this.inversePixelTransform_=bo(),this.postProcesses_=n.postProcesses,this.uniforms_=n.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},e.addChangeListener(La.MAP,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(jc.PRECOMPOSE)){const i=new DT(jc.PRECOMPOSE,void 0,n,e);r.dispatchEvent(i)}}dispatchPostComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(jc.POSTCOMPOSE)){const i=new DT(jc.POSTCOMPOSE,void 0,n,e);r.dispatchEvent(i)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let n=!0,r=-1,i;for(let a=0,o=e.layerStatesArray.length;a<o;a++){const l=e.layerStatesArray[a].layer,u=l.getRenderer();if(!(u instanceof eB)){n=!0;continue}const h=l.getClassName();if((n||h!==i)&&(r+=1,n=!1),i=h,u===this)break}const s="map/"+e.mapId+"/group/"+r;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new wht({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),i&&(this.helper.getCanvas().className=i),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}clearCache(){}disposeInternal(){var e;this.clearCache(),this.removeHelper(),(e=this.getLayer())==null||e.removeChangeListener(La.MAP,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){If(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);const s=new DT(e,this.inversePixelTransform_,r,n);i.dispatchEvent(s)}}preRender(e,n){this.dispatchRenderEvent_(jc.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(jc.POSTRENDER,e,n)}}function Ope(t,e){const n=t.viewState.projection,i=e.getSource().getWrapX()&&n.canWrapX(),s=n.getExtent(),a=t.extent,o=i?hs(s):null,l=i?Math.ceil((a[2]-s[2])/o)+1:1;return[i?Math.floor((a[0]-s[0])/o):0,l,o]}class xht extends eB{constructor(e,n){var o;const r=n.uniforms||{},i=bo();r[Dg.PROJECTION_MATRIX]=i,super(e,{uniforms:r,postProcesses:n.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new CS(ZL,JO),this.indicesBuffer_=new CS(JL,JO),this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.program_,this.hitDetectionEnabled_=(o=n.hitDetectionEnabled)!=null?o:!0;const s=n.attributes?n.attributes.map(function(l){return{name:"a_"+l.name,size:1,type:Fl.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:Fl.FLOAT},{name:"a_index",size:1,type:Fl.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_hitColor",size:4,type:Fl.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:Fl.FLOAT})),this.attributes.push(...s),this.customAttributes=n.attributes?n.attributes:[],this.previousExtent_=ol(),this.currentTransform_=i,this.renderTransform_=bo(),this.invertRenderTransform_=bo(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=Fpe(),this.worker_.addEventListener("message",l=>{const u=l.data;if(u.type===UT.GENERATE_POINT_BUFFERS){const h=u.projectionTransform;this.verticesBuffer_.fromArrayBuffer(u.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(u.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=h,iw(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(l.data.renderInstructions),u.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;const a=this.getLayer().getSource();this.sourceListenKeys_=[Ti(a,Ko.ADDFEATURE,this.handleSourceFeatureAdded_,this),Ti(a,Ko.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Ti(a,Ko.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Ti(a,Ko.CLEAR,this.handleSourceFeatureClear_,this)],a.forEachFeature(l=>{const u=l.getGeometry();u&&u.getType()==="Point"&&(this.featureCache_[Sr(l)]={feature:l,properties:l.getProperties(),flatCoordinates:u.getFlatCoordinates()},this.featureCount_++)})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Ppe(this.helper)),this.verticesBuffer_.getArray()&&this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.getArray()&&this.helper.flushBufferData(this.indicesBuffer_)}handleSourceFeatureAdded_(e){const n=e.feature,r=n.getGeometry();r&&r.getType()==="Point"&&(this.featureCache_[Sr(n)]={feature:n,properties:n.getProperties(),flatCoordinates:r.getFlatCoordinates()},this.featureCount_++)}handleSourceFeatureChanged_(e){const n=e.feature,r=Sr(n),i=this.featureCache_[r],s=n.getGeometry();i?s&&s.getType()==="Point"?(i.properties=n.getProperties(),i.flatCoordinates=s.getFlatCoordinates()):(delete this.featureCache_[r],this.featureCount_--):s&&s.getType()==="Point"&&(this.featureCache_[r]={feature:n,properties:n.getProperties(),flatCoordinates:s.getFlatCoordinates()},this.featureCount_++)}handleSourceFeatureDelete_(e){const n=e.feature,r=Sr(n);r in this.featureCache_&&(delete this.featureCache_[r],this.featureCount_--)}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=Ope(e,this.getLayer());return this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),this.helper.getCanvas()}prepareFrameInternal(e){const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[Xa.ANIMATING]&&!e.viewHints[Xa.INTERACTING],a=!Cp(this.previousExtent_,e.extent),o=this.sourceRevision_<r.getRevision();if(o&&(this.sourceRevision_=r.getRevision()),s&&(a||o)){const l=i.projection,u=i.resolution,h=n instanceof Sw?n.getRenderBuffer():0,d=uc(e.extent,h*u);r.loadFeatures(d,u,l),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_,e),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(e){const n=bo();this.helper.makeProjectionTransform(e,n);const i=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,s=i*this.featureCount_,a=this.renderInstructions_&&this.renderInstructions_.length===s?this.renderInstructions_:new Float32Array(s);this.renderInstructions_=null;let o=[];const l=[];let u=-1;e.viewState.projection;for(const d in this.featureCache_){const f=this.featureCache_[d];if(o[0]=f.flatCoordinates[0],o[1]=f.flatCoordinates[1],Ja(n,o),a[++u]=o[0],a[++u]=o[1],this.hitDetectionEnabled_){const A=Lpe(u+5,l);a[++u]=A[0],a[++u]=A[1],a[++u]=A[2],a[++u]=A[3],a[++u]=Number(d)}for(let A=0;A<this.customAttributes.length;A++){const m=this.customAttributes[A].callback(f.feature,f.properties);a[++u]=m}}const h={id:++this.lastSentId,type:UT.GENERATE_POINT_BUFFERS,renderInstructions:a.buffer,customAttributesSize:i-2};h.projectionTransform=n,this.ready=!1,this.worker_.postMessage(h,[a.buffer])}forEachFeatureAtCoordinate(e,n,r,i,s){if(As(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const a=Ja(n.coordinateToPixelTransform,e.slice()),o=this.hitRenderTarget_.readPixel(a[0]/2,a[1]/2),l=[o[0]/255,o[1]/255,o[2]/255,o[3]/255],u=Bpe(l),h=this.renderInstructions_[u],d=Math.floor(h).toString(),A=this.getLayer().getSource().getFeatureByUid(d);if(A)return i(A,this.getLayer(),null)}renderWorlds(e,n,r,i,s){let a=r;this.helper.useProgram(this.program_,e),n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),X5(this.currentTransform_,a*s,0),Rv(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.applyHitDetectionUniform(n);const o=this.indicesBuffer_.getSize();this.helper.drawElements(0,o)}while(++a<i)}disposeInternal(){this.worker_.terminate(),this.sourceListenKeys_.forEach(function(e){ea(e)}),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class Eht extends eC{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=e.gutter||0,this.helper=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(Yr.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===or.LOADED,this.loaded)this.uploadTile();else{if(e instanceof uD){const n=e.getImage();n instanceof Image&&!n.crossOrigin&&(n.crossOrigin="anonymous")}e.addEventListener(Yr.CHANGE,this.handleTileChange_)}}uploadTile(){Bi()}setReady(){this.ready=!0,this.dispatchEvent(Yr.CHANGE)}handleTileChange_(){this.tile.getState()===or.LOADED&&(this.loaded=!0,this.uploadTile())}setHelper(e){this.helper=e,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(Yr.CHANGE,this.handleTileChange_)}}function Npe(t,e,n){const r=n?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r)}function Sht(t,e,n,r){Npe(t,e,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}function Ree(t,e,n,r,i,s){const a=t.getGL();let o,l;n instanceof Float32Array?(o=a.FLOAT,t.getExtension("OES_texture_float"),l=t.getExtension("OES_texture_float_linear")!==null):(o=a.UNSIGNED_BYTE,l=!0),Npe(a,e,s&&l);const u=n.byteLength/r[1];let h=1;u%8===0?h=8:u%4===0?h=4:u%2===0&&(h=2);let d;switch(i){case 1:{d=a.LUMINANCE;break}case 2:{d=a.LUMINANCE_ALPHA;break}case 3:{d=a.RGB;break}case 4:{d=a.RGBA;break}default:throw new Error("Unsupported number of bands: ".concat(i))}const f=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,h),a.texImage2D(a.TEXTURE_2D,0,d,r[0],r[1],0,d,o,n),a.pixelStorei(a.UNPACK_ALIGNMENT,f)}let Ox=null;function Cht(){Ox=Xo(1,1,void 0,{willReadFrequently:!0})}class Tht extends Eht{constructor(e){super(e),this.textures=[],this.renderSize_=Go(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const n=new CS(ZL,X9);n.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(n),this.coords=n,this.setTile(e.tile)}setHelper(e){var r;const n=(r=this.helper)==null?void 0:r.getGL();if(n){this.helper.deleteBuffer(this.coords);for(let i=0;i<this.textures.length;++i)n.deleteTexture(this.textures[i])}super.setHelper(e),e&&e.flushBufferData(this.coords)}uploadTile(){const e=this.helper,n=e.getGL(),r=this.tile;this.textures.length=0;let i;r instanceof uD||r instanceof $9?i=r.getImage():i=r.getData();const s=SS(i);if(s){const x=n.createTexture();this.textures.push(x),this.bandCount=4,Sht(n,x,s,r.interpolate),this.setReady();return}i=yG(i);const a=r.getSize(),o=[a[0]+2*this.gutter,a[1]+2*this.gutter],l=i instanceof Float32Array,u=o[0]*o[1],h=l?Float32Array:Uint8Array,d=h.BYTES_PER_ELEMENT,f=i.byteLength/o[1];this.bandCount=Math.floor(f/d/o[0]);const A=Math.ceil(this.bandCount/4);if(A===1){const x=n.createTexture();this.textures.push(x),Ree(e,x,i,o,this.bandCount,r.interpolate),this.setReady();return}const m=new Array(A);for(let x=0;x<A;++x){const S=n.createTexture();this.textures.push(S);const C=x<A-1?4:(this.bandCount-1)%4+1;m[x]=new h(u*C)}let g=0,y=0;const _=o[0]*this.bandCount;for(let x=0;x<o[1];++x){for(let S=0;S<_;++S){const C=i[y+S],M=Math.floor(g/this.bandCount),B=S%this.bandCount,E=Math.floor(B/4),L=m[E],I=L.length/u,k=B%4;L[M*I+k]=C,++g}y+=f/d}for(let x=0;x<A;++x){const S=this.textures[x],C=m[x],M=C.length/u;Ree(e,S,C,o,M,r.interpolate)}this.setReady()}getImagePixelData_(e,n,r){const i=this.gutter,s=this.renderSize_[0],a=this.renderSize_[1];Ox||Cht(),Ox.clearRect(0,0,1,1);const o=e.width,l=e.height,u=o-2*i,h=l-2*i,d=i+Math.floor(u*(n/s)),f=i+Math.floor(h*(r/a));let A;try{Ox.drawImage(e,d,f,1,1,0,0,1,1),A=Ox.getImageData(0,0,1,1).data}catch(m){return Ox=null,null}return A}getArrayPixelData_(e,n,r,i){const s=this.gutter,a=this.renderSize_[0],o=this.renderSize_[1],l=n[0],u=n[1],h=l+2*s,d=u+2*s,f=s+Math.floor(l*(r/a)),A=s+Math.floor(u*(i/o));if(e instanceof DataView){const g=e.byteLength/(h*d),y=g*(A*h+f),_=e.buffer.slice(y,y+g);return new DataView(_)}const m=this.bandCount*(A*h+f);return e.slice(m,m+this.bandCount)}getPixelData(e,n){if(!this.loaded)return null;if(this.tile instanceof ZM){const r=this.tile.getData(),i=yG(r);if(i){const s=this.tile.getSize();return this.getArrayPixelData_(i,s,e,n)}return this.getImagePixelData_(SS(r),e,n)}return this.getImagePixelData_(this.tile.getImage(),e,n)}}const Mht={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"};function Iee(t){return 1/(t+2)}function Lht(){return{tileIds:new Set,representationsByZ:{}}}function Pee(t,e){return t.tileIds.has(Sr(e))}function Fee(t,e,n){const r=t.representationsByZ;n in r||(r[n]=new Set),r[n].add(e),t.tileIds.add(Sr(e.tile))}function u3(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=kl(e,Gh(n.extent,t.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const i=r.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=kl(e,i))}return e}function SG(t,e){return"".concat(t.getKey(),",").concat(t.getRevision(),",").concat(Px(e))}class Bht extends eB{constructor(e,n){super(e,{uniforms:n.uniforms,postProcesses:n.postProcesses}),this.renderComplete=!1,this.tileTransform_=bo(),this.tempMat4=Mw(),this.tempTileRange_=new cD(0,0,0,0),this.tempTileCoord_=sw(0,0,0),this.tempSize_=[0,0];const r=n.cacheSize!==void 0?n.cacheSize:512;this.tileRepresentationCache=new WAe(r),this.frameState=null,this.renderedProjection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}prepareFrameInternal(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const r=this.getLayer().getRenderSource();return!r||ym(u3(e,e.extent))?!1:r.getState()==="ready"}createTileRepresentation(e){return Bi()}enqueueTiles(e,n,r,i,s){const a=e.viewState,o=this.getLayer(),l=o.getRenderSource(),u=l.getTileGridForProjection(a.projection),h=l.getGutterForProjection(a.projection),d=Sr(l);d in e.wantedTiles||(e.wantedTiles[d]={});const f=e.wantedTiles[d],A=this.tileRepresentationCache,m=o.getMapInternal(),g=Math.max(r-s,u.getMinZoom(),u.getZForResolution(Math.min(o.getMaxResolution(),m?m.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),y=a.rotation,_=y?z5(a.center,a.resolution,y,e.size):void 0;for(let x=r;x>=g;--x){const S=u.getTileRangeForExtentAndZ(n,x,this.tempTileRange_),C=u.getResolution(x);for(let M=S.minX;M<=S.maxX;++M)for(let B=S.minY;B<=S.maxY;++B){if(y&&!u.tileCoordIntersectsViewport([x,M,B],_))continue;const E=sw(x,M,B,this.tempTileCoord_),L=SG(l,E);let I,k;if(A.containsKey(L)&&(I=A.get(L),k=I.tile),(!I||I.tile.key!==l.getKey())&&(k=l.getTile(x,M,B,e.pixelRatio,a.projection),!k)||Pee(i,k))continue;I?I.setTile(k):(I=this.createTileRepresentation({tile:k,grid:u,helper:this.helper,gutter:h}),A.set(L,I)),Fee(i,I,x);const O=k.getKey();f[O]=!0,k.getState()===or.IDLE&&(e.tileQueue.isKeyQueued(O)||e.tileQueue.enqueue([k,d,u.getTileCoordCenter(E),C]))}}}beforeTilesRender(e,n){this.helper.prepareDraw(this.frameState,!n,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,n,r,i,s,a,o,l,u,h,d){}renderTileMask(e,n,r,i){}drawTile_(e,n,r,i,s,a,o){if(!n.ready)return;const u=n.tile.tileCoord,h=Px(u),d=h in a?a[h]:1,f=o.getResolution(r),A=Go(o.getTileSize(r),this.tempSize_),m=o.getOrigin(r),g=o.getTileCoordExtent(u),y=d<1?-1:Iee(r);d<1&&(e.animate=!0);const _=e.viewState,x=_.center[0],S=_.center[1],C=A[0]+2*i,M=A[1]+2*i,B=C/M,E=(x-m[0])/(A[0]*f),L=(m[1]-S)/(A[1]*f),I=_.resolution/f,k=u[1],O=u[2];lG(this.tileTransform_),NT(this.tileTransform_,2/(e.size[0]*I/C),-2/(e.size[1]*I/C)),kat(this.tileTransform_,_.rotation),NT(this.tileTransform_,1,1/B),X5(this.tileTransform_,(A[0]*(k-E)-i)/C,(A[1]*(O-L)-i)/M),this.renderTile(n,this.tileTransform_,e,s,f,A,m,g,y,i,d)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const n=this.helper.getGL();this.preRender(n,e);const r=e.viewState,i=this.getLayer(),s=i.getRenderSource(),a=s.getTileGridForProjection(r.projection),o=s.getGutterForProjection(r.projection),l=u3(e,e.extent),u=a.getZForResolution(r.resolution,s.zDirection),h=Lht(),d=i.getPreload();if(e.nextExtent){const S=a.getZForResolution(r.nextResolution,s.zDirection),C=u3(e,e.nextExtent);this.enqueueTiles(e,C,S,h,d)}this.enqueueTiles(e,l,u,h,0),d>0&&setTimeout(()=>{this.enqueueTiles(e,l,u-1,h,d-1)},0);const f={};let A=!1;const m=h.representationsByZ;if(u in m){const S=Sr(this),C=e.time;for(const M of m[u]){const B=M.tile;if(B.getState()===or.EMPTY)continue;const E=B.tileCoord;if(M.ready){const k=B.getAlpha(S,C);if(k===1){B.endTransition(S);continue}A=!0;const O=Px(E);f[O]=k}if(this.renderComplete=!1,this.findAltTiles_(a,E,u+1,h))continue;const I=a.getMinZoom();for(let k=u-1;k>=I&&!this.findAltTiles_(a,E,k,h);--k);}}const g=Object.keys(m).map(Number).sort(kfe);if(this.beforeTilesMaskRender(e))for(let S=0,C=g.length;S<C;++S){const M=g[S];for(const B of m[M]){const E=B.tile.tileCoord;if(Px(E)in f)continue;const I=a.getTileCoordExtent(E);this.renderTileMask(B,M,I,Iee(M))}}this.beforeTilesRender(e,A);for(let S=0,C=g.length;S<C;++S){const M=g[S];for(const B of m[M]){const E=B.tile.tileCoord;Px(E)in f||this.drawTile_(e,B,M,o,l,f,a)}}if(u in m)for(const S of m[u]){const C=S.tile.tileCoord;Px(C)in f&&this.drawTile_(e,S,u,o,l,f,a)}this.beforeFinalize(e),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const _=this.helper.getCanvas(),x=this.tileRepresentationCache;for(;x.canExpireCache();)x.pop().dispose();return this.postRender(n,e),_}beforeFinalize(e){}findAltTiles_(e,n,r,i){const s=e.getTileRangeForTileCoordAndZ(n,r,this.tempTileRange_);if(!s)return!1;let a=!0;const o=this.tileRepresentationCache,l=this.getLayer().getRenderSource();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){const d=SG(l,[r,u,h]);let f=!1;if(o.containsKey(d)){const A=o.get(d);A.ready&&!Pee(i,A.tile)&&(Fee(i,A,r),f=!0)}f||(a=!1)}return a}clearCache(){super.clearCache();const e=this.tileRepresentationCache;e.forEach(n=>n.dispose()),e.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach(e=>e.setHelper(this.helper))}disposeInternal(){super.disposeInternal(),delete this.frameState}}const Ss={...Mht,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},AF={TEXTURE_COORD:"a_textureCoord"},Rht=[{name:AF.TEXTURE_COORD,size:2,type:Fl.FLOAT}];class Iht extends Bht{constructor(e,n){super(e,n),this.program_,this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.indices_=new CS(JL,X9),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=n.paletteTextures||[]}reset(e){if(super.reset(e),this.helper){const n=this.helper.getGL();for(const r of this.paletteTextures_)r.delete(n)}if(this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const n=this.helper.getGL();for(const r of this.paletteTextures_)r.getTexture(n)}}afterHelperCreated(){super.afterHelperCreated();const e=this.helper.getGL();for(const n of this.paletteTextures_)n.getTexture(e);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const e=this.helper.getGL();for(const n of this.paletteTextures_)n.delete(e)}super.removeHelper()}createTileRepresentation(e){return new Tht(e)}beforeTilesRender(e,n){super.beforeTilesRender(e,n),this.helper.useProgram(this.program_,e)}renderTile(e,n,r,i,s,a,o,l,u,h,d){const f=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(Rht);let A=0;for(;A<e.textures.length;){const B="".concat(Ss.TILE_TEXTURE_ARRAY,"[").concat(A,"]");this.helper.bindTexture(e.textures[A],A,B),++A}for(let B=0;B<this.paletteTextures_.length;++B){const E=this.paletteTextures_[B],L=E.getTexture(f);this.helper.bindTexture(L,A,E.name),++A}const m=r.viewState,g=a[0]+2*h,y=a[1]+2*h,x=e.tile.tileCoord,S=x[1],C=x[2];this.helper.setUniformMatrixValue(Ss.TILE_TRANSFORM,WO(this.tempMat4,n)),this.helper.setUniformFloatValue(Ss.TRANSITION_ALPHA,d),this.helper.setUniformFloatValue(Ss.DEPTH,u);let M=i;h>0&&(M=l,kl(M,i,M)),this.helper.setUniformFloatVec4(Ss.RENDER_EXTENT,M),this.helper.setUniformFloatValue(Ss.RESOLUTION,m.resolution),this.helper.setUniformFloatValue(Ss.ZOOM,m.zoom),this.helper.setUniformFloatValue(Ss.TEXTURE_PIXEL_WIDTH,g),this.helper.setUniformFloatValue(Ss.TEXTURE_PIXEL_HEIGHT,y),this.helper.setUniformFloatValue(Ss.TEXTURE_RESOLUTION,s),this.helper.setUniformFloatValue(Ss.TEXTURE_ORIGIN_X,o[0]+S*a[0]*s-h*s),this.helper.setUniformFloatValue(Ss.TEXTURE_ORIGIN_Y,o[1]-C*a[1]*s+h*s),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const r=this.frameState;if(!r)return null;const i=this.getLayer(),s=Ja(r.pixelToCoordinateTransform,e.slice()),a=r.viewState,o=i.getExtent();if(o&&!Sp(Gh(o,a.projection),s))return null;const l=i.getSources(rl([s]),a.resolution);let u,h,d;for(u=l.length-1;u>=0;--u)if(h=l[u],h.getState()==="ready"){if(d=h.getTileGridForProjection(a.projection),h.getWrapX())break;const A=d.getExtent();if(!A||Sp(A,s))break}if(u<0)return null;const f=this.tileRepresentationCache;for(let A=d.getZForResolution(a.resolution);A>=d.getMinZoom();--A){const m=d.getTileCoordForCoordAndZ(s,A),g=SG(h,m);if(!f.containsKey(g))continue;const y=f.get(g);if(y.tile.getState()===or.EMPTY)return null;if(!y.loaded)continue;const x=d.getOrigin(A),S=Go(d.getTileSize(A)),C=d.getResolution(A),M=(s[0]-x[0])/C-m[1]*S[0],B=(x[1]-s[1])/C-m[2]*S[1];return y.getPixelData(M,B)}return null}disposeInternal(){const e=this.helper;if(e){const n=e.getGL();for(const r of this.paletteTextures_)r.delete(n);this.paletteTextures_.length=0,n.deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}}class Pht{constructor(e,n){this.name=e,this.data=n,this.texture_=null}getTexture(e){if(!this.texture_){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=n}return this.texture_}delete(e){this.texture_&&e.deleteTexture(this.texture_),this.texture_=null}}function Fht(t,e){return"operator_".concat(t,"_").concat(Object.keys(e.functions).length)}function O1(t){const e=t.toString();return e.includes(".")?e:e+".0"}function Y9(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(t.length,"(").concat(t.map(O1).join(", "),")")}function pF(t){const e=kd(t),n=e.length>3?e[3]:1;return Y9([e[0]/255,e[1]/255,e[2]/255,n])}function Oht(t){const e=Go(t);return Y9(e)}const h3={};let Nht=0;function Yx(t){return t in h3||(h3[t]=Nht++),h3[t]}function av(t){return O1(Yx(t))}function Z9(t){return"u_var_"+t}function CG(){return{inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,featureId:!1,geometryType:!1}}const d3="getBandValue",Dpe="u_paletteTextures",kpe="featureId",Upe="geometryType";function Dht(t,e,n,r){const i=Yc(t,e,n);return J9(i,e,r)}function Ma(t){return(e,n,r)=>{const i=n.args.length,s=new Array(i);for(let a=0;a<i;++a)s[a]=J9(n.args[a],r,e);return t(s,e)}}const kht={[vn.Get]:(t,e)=>{const r=e.args[0].value;return r in t.properties||(t.properties[r]={name:r,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[vn.Id]:t=>(t.featureId=!0,(t.inFragmentShader?"v_":"a_")+kpe),[vn.GeometryType]:t=>(t.geometryType=!0,(t.inFragmentShader?"v_":"a_")+Upe),[vn.LineMetric]:()=>"currentLineMetric",[vn.Var]:(t,e)=>{const r=e.args[0].value;return r in t.variables||(t.variables[r]={name:r,type:e.type}),Z9(r)},[vn.Resolution]:()=>"u_resolution",[vn.Zoom]:()=>"u_zoom",[vn.Time]:()=>"u_time",[vn.Any]:Ma(t=>"(".concat(t.join(" || "),")")),[vn.All]:Ma(t=>"(".concat(t.join(" && "),")")),[vn.Not]:Ma(([t])=>"(!".concat(t,")")),[vn.Equal]:Ma(([t,e])=>"(".concat(t," == ").concat(e,")")),[vn.NotEqual]:Ma(([t,e])=>"(".concat(t," != ").concat(e,")")),[vn.GreaterThan]:Ma(([t,e])=>"(".concat(t," > ").concat(e,")")),[vn.GreaterThanOrEqualTo]:Ma(([t,e])=>"(".concat(t," >= ").concat(e,")")),[vn.LessThan]:Ma(([t,e])=>"(".concat(t," < ").concat(e,")")),[vn.LessThanOrEqualTo]:Ma(([t,e])=>"(".concat(t," <= ").concat(e,")")),[vn.Multiply]:Ma(t=>"(".concat(t.join(" * "),")")),[vn.Divide]:Ma(([t,e])=>"(".concat(t," / ").concat(e,")")),[vn.Add]:Ma(t=>"(".concat(t.join(" + "),")")),[vn.Subtract]:Ma(([t,e])=>"(".concat(t," - ").concat(e,")")),[vn.Clamp]:Ma(([t,e,n])=>"clamp(".concat(t,", ").concat(e,", ").concat(n,")")),[vn.Mod]:Ma(([t,e])=>"mod(".concat(t,", ").concat(e,")")),[vn.Pow]:Ma(([t,e])=>"pow(".concat(t,", ").concat(e,")")),[vn.Abs]:Ma(([t])=>"abs(".concat(t,")")),[vn.Floor]:Ma(([t])=>"floor(".concat(t,")")),[vn.Ceil]:Ma(([t])=>"ceil(".concat(t,")")),[vn.Round]:Ma(([t])=>"floor(".concat(t," + 0.5)")),[vn.Sin]:Ma(([t])=>"sin(".concat(t,")")),[vn.Cos]:Ma(([t])=>"cos(".concat(t,")")),[vn.Atan]:Ma(([t,e])=>e!==void 0?"atan(".concat(t,", ").concat(e,")"):"atan(".concat(t,")")),[vn.Sqrt]:Ma(([t])=>"sqrt(".concat(t,")")),[vn.Match]:Ma(t=>{const e=t[0],n=t[t.length-1];let r=null;for(let i=t.length-3;i>=1;i-=2){const s=t[i],a=t[i+1];r="(".concat(e," == ").concat(s," ? ").concat(a," : ").concat(r||n,")")}return r}),[vn.Between]:Ma(([t,e,n])=>"(".concat(t," >= ").concat(e," && ").concat(t," <= ").concat(n,")")),[vn.Interpolate]:Ma(([t,e,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const s=n[i],a=r||n[i+1],o=n[i+2],l=n[i+3];let u;t===O1(1)?u="(".concat(e," - ").concat(s,") / (").concat(o," - ").concat(s,")"):u="(pow(".concat(t,", (").concat(e," - ").concat(s,")) - 1.0) / (pow(").concat(t,", (").concat(o," - ").concat(s,")) - 1.0)"),r="mix(".concat(a,", ").concat(l,", clamp(").concat(u,", 0.0, 1.0))")}return r}),[vn.Case]:Ma(t=>{const e=t[t.length-1];let n=null;for(let r=t.length-3;r>=0;r-=2){const i=t[r],s=t[r+1];n="(".concat(i," ? ").concat(s," : ").concat(n||e,")")}return n}),[vn.In]:Ma(([t,...e],n)=>{const r=Fht("in",n),i=[];for(let s=0;s<e.length;s+=1)i.push("  if (inputValue == ".concat(e[s],") { return true; }"));return n.functions[r]="bool ".concat(r,"(float inputValue) {\n").concat(i.join("\n"),"\n  return false;\n}"),"".concat(r,"(").concat(t,")")}),[vn.Array]:Ma(t=>"vec".concat(t.length,"(").concat(t.join(", "),")")),[vn.Color]:Ma(t=>{if(t.length===1)return"vec4(vec3(".concat(t[0]," / 255.0), 1.0)");if(t.length===2)return"vec4(vec3(".concat(t[0]," / 255.0), ").concat(t[1],")");const e=t.slice(0,3).map(r=>"".concat(r," / 255.0"));if(t.length===3)return"vec4(".concat(e.join(", "),", 1.0)");const n=t[3];return"vec4(".concat(e.join(", "),", ").concat(n,")")}),[vn.Band]:Ma(([t,e,n],r)=>{if(!(d3 in r.functions)){let i="";const s=r.bandCount||1;for(let a=0;a<s;a++){const o=Math.floor(a/4);let l=a%4;a===s-1&&l===1&&(l=3);const u="".concat(Ss.TILE_TEXTURE_ARRAY,"[").concat(o,"]");i+="  if (band == ".concat(a+1,".0) {\n    return texture2D(").concat(u,", v_textureCoord + vec2(dx, dy))[").concat(l,"];\n  }\n")}r.functions[d3]="float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ".concat(Ss.TEXTURE_PIXEL_WIDTH,";\n  float dy = yOffset / ").concat(Ss.TEXTURE_PIXEL_HEIGHT,";\n").concat(i,"\n}")}return"".concat(d3,"(").concat(t,", ").concat(e!=null?e:"0.0",", ").concat(n!=null?n:"0.0",")")}),[vn.Palette]:(t,e)=>{const[n,...r]=e.args,i=r.length,s=new Uint8Array(i*4);for(let u=0;u<r.length;u++){const h=r[u].value,d=kd(h),f=u*4;s[f]=d[0],s[f+1]=d[1],s[f+2]=d[2],s[f+3]=d[3]*255}t.paletteTextures||(t.paletteTextures=[]);const a="".concat(Dpe,"[").concat(t.paletteTextures.length,"]"),o=new Pht(a,s);t.paletteTextures.push(o);const l=J9(n,ci,t);return"texture2D(".concat(a,", vec2((").concat(l," + 0.5) / ").concat(i,".0, 0.5))")}};function J9(t,e,n){if(t instanceof PAe){const r=kht[t.operator];if(r===void 0)throw new Error("No compiler defined for this operator: ".concat(JSON.stringify(t.operator)));return r(n,t,e)}if((t.type&ci)>0)return O1(t.value);if((t.type&Kc)>0)return t.value.toString();if((t.type&wc)>0)return av(t.value.toString());if((t.type&Uo)>0)return pF(t.value);if((t.type&jh)>0)return Y9(t.value);if((t.type&fp)>0)return Oht(t.value);throw new Error("Unexpected expression ".concat(t.value," (expected type ").concat(qx(e),")"))}function Uht(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}const ox="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform vec2 u_patternOrigin;\nuniform float u_depth;\nuniform mediump int u_hitDetection;\n\nconst float PI = 3.141592653589793238;\nconst float TWO_PI = 2.0 * PI;\nfloat currentLineMetric = 0.; // an actual value will be used in the stroke shaders\n",lx=Uht();class Hpe{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_="vec2(".concat(O1(lx["circle-radius"])," + ").concat(O1(lx["circle-stroke-width"]*.5),")"),this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=pF(lx["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=O1(lx["stroke-width"]),this.strokeColorExpression_=pF(lx["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=av("round"),this.strokeJoinExpression_=av("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=pF(lx["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(e){return this.uniforms_.push(e),this}addAttribute(e){return this.attributes_.push(e),this}addVarying(e,n,r){return this.varyings_.push({name:e,type:n,expression:r}),this}setSymbolSizeExpression(e){return this.hasSymbol_=!0,this.symbolSizeExpression_=e,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(e){return this.symbolRotationExpression_=e,this}setSymbolOffsetExpression(e){return this.symbolOffsetExpression_=e,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(e){return this.hasSymbol_=!0,this.symbolColorExpression_=e,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(e){return this.texCoordExpression_=e,this}setFragmentDiscardExpression(e){return this.discardExpression_=e,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(e){return this.symbolRotateWithView_=e,this}setStrokeWidthExpression(e){return this.hasStroke_=!0,this.strokeWidthExpression_=e,this}setStrokeColorExpression(e){return this.hasStroke_=!0,this.strokeColorExpression_=e,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(e){return this.strokeOffsetExpression_=e,this}setStrokeCapExpression(e){return this.strokeCapExpression_=e,this}setStrokeJoinExpression(e){return this.strokeJoinExpression_=e,this}setStrokeMiterLimitExpression(e){return this.strokeMiterLimitExpression_=e,this}setStrokeDistanceFieldExpression(e){return this.strokeDistanceFieldExpression_=e,this}setFillColorExpression(e){return this.hasFill_=!0,this.fillColorExpression_=e,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(e){this.vertexShaderFunctions_.includes(e)||this.vertexShaderFunctions_.push(e)}addFragmentShaderFunction(e){this.fragmentShaderFunctions_.includes(e)||this.fragmentShaderFunctions_.push(e)}getSymbolVertexShader(){return this.hasSymbol_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec4 a_hitColor;\n").concat(this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\nvarying vec4 v_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.vertexShaderFunctions_.join("\n"),"\nvec2 pxToScreen(vec2 coordPx) {\n  vec2 scaled = coordPx / u_viewportSizePx / 0.5;\n  return scaled;\n}\n\nvec2 screenToPx(vec2 coordScreen) {\n  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  v_quadSizePx = ").concat(this.symbolSizeExpression_,";\n  vec2 halfSizePx = v_quadSizePx * 0.5;\n  vec2 centerOffsetPx = ").concat(this.symbolOffsetExpression_,";\n  vec2 offsetPx = centerOffsetPx;\n  if (a_index == 0.0) {\n    offsetPx -= halfSizePx;\n  } else if (a_index == 1.0) {\n    offsetPx += halfSizePx * vec2(1., -1.);\n  } else if (a_index == 2.0) {\n    offsetPx += halfSizePx;\n  } else {\n    offsetPx += halfSizePx * vec2(-1., 1.);\n  }\n  float angle = ").concat(this.symbolRotationExpression_,";\n  ").concat(this.symbolRotateWithView_?"angle += u_rotation;":"","\n  float c = cos(-angle);\n  float s = sin(-angle);\n  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);\n  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);\n  vec4 texCoord = ").concat(this.texCoordExpression_,";\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  v_hitColor = a_hitColor;\n  v_angle = angle;\n  c = cos(-v_angle);\n  s = sin(-v_angle);\n  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); \n  v_centerPx = screenToPx(center.xy) + centerOffsetPx;\n").concat(this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n"),"\n}"):null}getSymbolFragmentShader(){return this.hasSymbol_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec4 v_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.fragmentShaderFunctions_.join("\n"),"\n\nvoid main(void) {\n  if (").concat(this.discardExpression_,") { discard; }\n  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center\n  float c = cos(v_angle);\n  float s = sin(v_angle);\n  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);\n  gl_FragColor = ").concat(this.symbolColorExpression_,";\n  gl_FragColor.rgb *= gl_FragColor.a;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.05) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}"):null}getStrokeVertexShader(){return this.hasStroke_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nattribute vec2 a_segmentStart;\nattribute vec2 a_segmentEnd;\nattribute float a_measureStart;\nattribute float a_measureEnd;\nattribute float a_parameters;\nattribute float a_distance;\nattribute vec2 a_joinAngles;\nattribute vec4 a_hitColor;\n").concat(this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n"),"\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_hitColor;\nvarying float v_distanceOffsetPx;\nvarying float v_measureStart;\nvarying float v_measureEnd;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.vertexShaderFunctions_.join("\n"),'\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvec4 pxToScreen(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return vec4(screenPos, u_depth, 1.0);\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nvec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {\n  float halfAngle = joinAngle / 2.0;\n  float c = cos(halfAngle);\n  float s = sin(halfAngle);\n  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);\n  float length = 1.0 / s;\n  return angleBisectorNormal * length;\n}\n\nvec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {\n  // if on a cap or the join angle is too high, offset the line along the segment normal\n  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {\n    return point - normal * offsetPx;\n  }\n  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)\n  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;\n}\n\nvoid main(void) {\n  v_angleStart = a_joinAngles.x;\n  v_angleEnd = a_joinAngles.y;\n  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);\n  currentLineMetric = vertexNumber < 1.5 ? a_measureStart : a_measureEnd;\n  // we\'re reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)\n  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);\n\n  float lineWidth = ').concat(this.strokeWidthExpression_,";\n  float lineOffsetPx = ").concat(this.strokeOffsetExpression_,";\n\n  // compute segment start/end in px with offset\n  vec2 segmentStartPx = worldToPx(a_segmentStart);\n  vec2 segmentEndPx = worldToPx(a_segmentEnd);\n  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);\n  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);\n  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),\n  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);\n  \n  // compute current vertex position\n  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;\n  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;\n  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;\n  vec2 joinDirection;\n  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;\n  // if angle is too high, do not make a proper join\n  if (cos(angle) > ").concat(Cee," || isCap(angle)) {\n    joinDirection = normalPx * normalDir - tangentPx * tangentDir;\n  } else {\n    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);\n  }\n  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing\n  gl_Position = pxToScreen(positionPx);\n\n  v_segmentStart = segmentStartPx;\n  v_segmentEnd = segmentEndPx;\n  v_width = lineWidth;\n  v_hitColor = a_hitColor;\n  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);\n  v_measureStart = a_measureStart;\n  v_measureEnd = a_measureEnd;\n").concat(this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n"),"\n}"):null}getStrokeFragmentShader(){return this.hasStroke_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_hitColor;\nvarying float v_distanceOffsetPx;\nvarying float v_measureStart;\nvarying float v_measureEnd;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.fragmentShaderFunctions_.join("\n"),"\n\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nfloat segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  vec2 tangent = normalize(end - start);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 startToPoint = point - start;\n  return abs(dot(startToPoint, normal)) - width * 0.5;\n}\n\nfloat buttCapDistanceField(vec2 point, vec2 start, vec2 end) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  return dot(startToPoint, -tangent);\n}\n\nfloat squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return buttCapDistanceField(point, start, end) - width * 0.5;\n}\n\nfloat roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment\n  return length(point - start) - width * 0.5 - onSegment;\n}\n\nfloat roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  float c = cos(joinAngle * 0.5);\n  float s = sin(joinAngle * 0.5);\n  float direction = -sign(sin(joinAngle));\n  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);\n  float radius = width * 0.5 * s;\n  return dot(startToPoint, bisector * direction) - radius;\n}\n\nfloat miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  if (cos(joinAngle) > ").concat(Cee,") { // avoid risking a division by zero\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  float miterLength = 1. / sin(joinAngle * 0.5);\n  float miterLimit = ").concat(this.strokeMiterLimitExpression_,";\n  if (miterLength > miterLimit) {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  return -1000.;\n}\n\nfloat capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {\n   if (capType == ").concat(av("butt"),") {\n    return buttCapDistanceField(point, start, end);\n  } else if (capType == ").concat(av("square"),") {\n    return squareCapDistanceField(point, start, end, width);\n  }\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {\n  if (joinType == ").concat(av("bevel"),") {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  } else if (joinType == ").concat(av("miter"),") {\n    return miterJoinDistanceField(point, start, end, width, joinAngle);\n  }\n  return roundJoinDistanceField(point, start, end, width);\n}\n\nfloat computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {\n  if (isCap(joinAngle)) {\n    return capDistanceField(point, start, end, width, capType);\n  }\n  return joinDistanceField(point, start, end, width, joinAngle, joinType);\n}\n\nvoid main(void) {\n  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(currentPoint);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n\n  float segmentLength = length(v_segmentEnd - v_segmentStart);\n  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;\n  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);\n  vec2 startToPoint = currentPoint - v_segmentStart;\n  float lengthToPoint = max(0., min(dot(segmentTangent, startToPoint), segmentLength));\n  float currentLengthPx = lengthToPoint + v_distanceOffsetPx; \n  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));\n  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;\n  currentLineMetric = mix(v_measureStart, v_measureEnd, lengthToPoint / segmentLength);\n\n  if (").concat(this.discardExpression_,") { discard; }\n\n  vec4 color = ").concat(this.strokeColorExpression_,";\n  float capType = ").concat(this.strokeCapExpression_,";\n  float joinType = ").concat(this.strokeJoinExpression_,";\n  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);\n  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);\n  float distance = max(\n    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),\n    max(segmentStartDistance, segmentEndDistance)\n  );\n  distance = max(distance, ").concat(this.strokeDistanceFieldExpression_,");\n  color.a *= smoothstep(0.5, -0.5, distance);\n  gl_FragColor = color;\n  gl_FragColor.a *= u_globalAlpha;\n  gl_FragColor.rgb *= gl_FragColor.a;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}"):null}getFillVertexShader(){return this.hasFill_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nattribute vec2 a_position;\nattribute vec4 a_hitColor;\n").concat(this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n"),"\nvarying vec4 v_hitColor;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.vertexShaderFunctions_.join("\n"),"\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);\n  v_hitColor = a_hitColor;\n").concat(this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n"),"\n}"):null}getFillFragmentShader(){return this.hasFill_?"".concat(ox,"\n").concat(this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n"),"\nvarying vec4 v_hitColor;\n").concat(this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n"),"\n").concat(this.fragmentShaderFunctions_.join("\n"),"\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;\n  vec2 pxOrigin = worldToPx(u_patternOrigin);\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(pxPos);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (").concat(this.discardExpression_,") { discard; }\n  gl_FragColor = ").concat(this.fillColorExpression_,";\n  gl_FragColor.a *= u_globalAlpha;\n  gl_FragColor.rgb *= gl_FragColor.a;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}"):null}}const jA={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},Hht=["#00f","#0ff","#0f0","#ff0","#f00"];class Gpe extends Sw{constructor(e){e=e||{};const n=Object.assign({},e);delete n.gradient,delete n.radius,delete n.blur,delete n.weight,super(n),this.gradient_=null,this.addChangeListener(jA.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:Hht),this.setBlur(e.blur!==void 0?e.blur:15),this.setRadius(e.radius!==void 0?e.radius:8);const r=e.weight?e.weight:"weight";this.weightFunction_=typeof r=="string"?i=>i.get(r):r,this.setRenderOrder(null)}getBlur(){return this.get(jA.BLUR)}getGradient(){return this.get(jA.GRADIENT)}getRadius(){return this.get(jA.RADIUS)}handleGradientChanged_(){this.gradient_=Ght(this.getGradient())}setBlur(e){this.set(jA.BLUR,e)}setGradient(e){this.set(jA.GRADIENT,e)}setRadius(e){this.set(jA.RADIUS,e)}createRenderer(){const e=new Hpe().addAttribute("float a_weight").addVarying("v_weight","float","a_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_weight)");return new xht(this,{className:this.getClassName(),attributes:[{name:"weight",callback:n=>{const r=this.weightFunction_(n);return r!==void 0?eo(r,0,1):1}}],uniforms:{u_size:()=>(this.get(jA.RADIUS)+this.get(jA.BLUR))*2,u_blurSlope:()=>this.get(jA.RADIUS)/Math.max(1,this.get(jA.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}function Ght(t){const r=Xo(1,256),i=r.createLinearGradient(0,0,1,256),s=1/(t.length-1);for(let a=0,o=t.length;a<o;++a)i.addColorStop(a*s,t[a]);return r.fillStyle=i,r.fillRect(0,0,1,256),r.canvas}const Vht={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Oee={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class zht extends ppe{constructor(e,n){super(e,n),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=bo(),this.tileClipContexts_=null}drawTile(e,n,r,i,s,a,o,l){this.updateExecutorGroup_(e,n.pixelRatio,n.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,n),super.drawTile(e,n,r,i,s,a,o,l)}getTile(e,n,r,i){const s=this.getOrCreateTile(e,n,r,i);if(!s)return null;const o=i.viewState.resolution,l=i.viewHints;return(!(l[Xa.ANIMATING]||l[Xa.INTERACTING])||!s.wantedResolution)&&(s.wantedResolution=o),s}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,r){const i=this.getLayer(),s=i.getRevision(),a=i.getRenderOrder()||null,o=e.wantedResolution,l=e.getReplayState(i);if(!l.dirty&&l.renderedResolution===o&&l.renderedRevision==s&&l.renderedRenderOrder==a)return;const u=i.getSource(),h=!!i.getDeclutter(),d=u.getTileGrid(),A=u.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),m=u.getSourceTiles(n,r,e),g=Sr(i);delete e.hitDetectionImageData[g],e.executorGroups[g]=[],l.dirty=!1;for(let y=0,_=m.length;y<_;++y){const x=m[y];if(x.getState()!=or.LOADED)continue;const S=x.tileCoord,C=d.getTileCoordExtent(S),M=kl(A,C),B=uc(M,i.getRenderBuffer()*o,this.tempExtent),E=Cp(C,M)?null:B,L=new _pe(0,M,o,n),I=xG(o,n),k=function(K,V){let Q;const X=K.getStyleFunction()||i.getStyleFunction();if(X&&(Q=X(K,o)),Q){const z=this.renderFeature(K,I,Q,L,h,V);l.dirty=l.dirty||z}},O=x.getFeatures();a&&a!==l.renderedRenderOrder&&O.sort(a);for(let K=0,V=O.length;K<V;++K){const Q=O[K];(!E||wo(E,Q.getGeometry().getExtent()))&&k.call(this,Q,K)}const F=L.finish(),U=i.getRenderMode()!=="vector"&&h&&m.length===1?null:M,$=new wpe(U,o,n,u.getOverlaps(),F,i.getRenderBuffer(),!0);e.executorGroups[g].push($)}l.renderedRevision=s,l.renderedRenderOrder=a,l.renderedResolution=o}forEachFeatureAtCoordinate(e,n,r,i,s){var S,C;const a=n.viewState.resolution,o=n.viewState.rotation;r=r==null?0:r;const l=this.getLayer(),h=l.getSource().getTileGridForProjection(n.viewState.projection),d=rl([e]);uc(d,a*r,d);const f={},A=function(M,B,E){let L=M.getId();L===void 0&&(L=Sr(M));const I=f[L];if(I){if(I!==!0&&E<I.distanceSq){if(E===0)return f[L]=!0,s.splice(s.lastIndexOf(I),1),i(M,l,B);I.geometry=B,I.distanceSq=E}}else{if(E===0)return f[L]=!0,i(M,l,B);s.push(f[L]={feature:M,layer:l,geometry:B,distanceSq:E,callback:i})}},m=this.renderedTiles,g=Sr(l),y=l.getDeclutter(),_=y?(C=(S=n.declutter)==null?void 0:S[y])==null?void 0:C.all().map(M=>M.value):null;let x;e:for(let M=0,B=m.length;M<B;++M){const E=m[M],L=h.getTileCoordExtent(E.wrappedTileCoord);if(!wo(L,d))continue;const I=E.executorGroups[g];for(let k=0,O=I.length;k<O;++k)if(x=I[k].forEachFeatureAtCoordinate(e,a,o,r,A,_),x)break e}return x}getFeatures(e){return this.renderedTiles.length===0?Promise.resolve([]):new Promise((n,r)=>{const i=this.getLayer(),s=i.getSource(),a=this.renderedProjection,o=a.getExtent(),l=this.renderedResolution,u=s.getTileGridForProjection(a),h=Ja(this.renderedPixelToCoordinateTransform_,e.slice()),d=u.getTileCoordForCoordAndResolution(h,l).toString(),f=this.renderedTiles.find(S=>S.tileCoord.toString()===d&&S.getState()===or.LOADED);if(!f||f.loadingSourceTiles>0){n([]);return}s.getWrapX()&&a.canWrapX()&&!_f(o,u.getTileCoordExtent(f.tileCoord))&&W5(h,a);const A=Sr(i),m=u.getTileCoordExtent(f.wrappedTileCoord),g=Rf(m),y=[(h[0]-g[0])/l,(g[1]-h[1])/l],_=f.getSourceTiles().reduce((S,C)=>S.concat(C.getFeatures()),[]);let x=f.hitDetectionImageData[A];if(!x){const S=Go(u.getTileSize(u.getZForResolution(l,s.zDirection))),C=this.renderedRotation_,M=[this.getRenderTransform(u.getTileCoordCenter(f.wrappedTileCoord),l,0,pf,S[0]*pf,S[1]*pf,0)];x=xpe(S,M,_,i.getStyleFunction(),u.getTileCoordExtent(f.wrappedTileCoord),f.getReplayState(i).renderedResolution,C),f.hitDetectionImageData[A]=x}n(Epe(y,_,x))})}getFeaturesInExtent(e){const n=[],r=this.getTileCache();if(r.getCount()===0)return n;const s=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),a=s.getZForResolution(this.renderedResolution),o={};return r.forEach(l=>{if(l.tileCoord[0]!==a||l.getState()!==or.LOADED)return;const u=l.getSourceTiles();for(let h=0,d=u.length;h<d;++h){const f=u[h],A=f.getKey();if(A in o)continue;o[A]=!0;const m=f.tileCoord;if(wo(e,s.getTileCoordExtent(m))){const g=f.getFeatures();if(g)for(let y=0,_=g.length;y<_;++y){const x=g[y],S=x.getGeometry();wo(e,S.getExtent())&&n.push(x)}}}}),n}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){var f;const r=this.context,i=r.globalAlpha;r.globalAlpha=n.opacity;const s=e.viewHints,a=!(s[Xa.ANIMATING]||s[Xa.INTERACTING]),o=[this.context.canvas.width,this.context.canvas.height],l=this.getLayer().getDeclutter(),u=l?(f=e.declutter)==null?void 0:f[l]:void 0,h=Sr(this.getLayer()),d=this.renderedTiles;for(let A=0,m=d.length;A<m;++A){const g=d[A],y=g.executorGroups[h];if(y)for(let _=y.length-1;_>=0;--_)y[_].execute(this.context,o,this.getTileRenderTransform(g,e),e.viewState.rotation,a,YO,u)}r.globalAlpha=i}renderDeferredInternal(e){const n=this.renderedTiles,r=Sr(this.getLayer()),i=n.reduce((l,u,h)=>(u.executorGroups[r].forEach(d=>l.push({executorGroup:d,index:h})),l),[]),s=i.map(({executorGroup:l})=>l.getDeferredZIndexContexts()),a={};for(let l=0,u=i.length;l<u;++l){const h=i[l].executorGroup.getDeferredZIndexContexts();for(const d in h)a[d]=!0}Object.keys(a).map(Number).sort(Jg).forEach(l=>{s.forEach((u,h)=>{u[l]&&(u[l].forEach(d=>{const{executorGroup:f,index:A}=i[h],m=f.getRenderedContext(),g=m.globalAlpha;m.globalAlpha=this.renderedOpacity_;const y=this.tileClipContexts_[A];y&&y.draw(m),d.draw(m),y&&m.restore(),m.globalAlpha=g,d.clear()}),u[l].length=0)})})}getTileRenderTransform(e,n){const r=n.pixelRatio,i=n.viewState,s=i.center,a=i.resolution,o=i.rotation,l=n.size,u=Math.round(l[0]*r),h=Math.round(l[1]*r),f=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),A=e.tileCoord,m=f.getTileCoordExtent(e.wrappedTileCoord),g=f.getTileCoordExtent(A,this.tempExtent)[0]-m[0];return Rv(NT(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(s,a,o,r,u,h,g))}postRender(e,n){var M;const r=n.viewHints,i=!(r[Xa.ANIMATING]||r[Xa.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),a=s.getRenderMode(),o=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const l=s.getDeclutter(),u=l?Oee[a].filter(B=>!YO.includes(B)):Oee[a],h=n.viewState,d=h.rotation,f=s.getSource(),m=f.getTileGridForProjection(h.projection).getZForResolution(h.resolution,f.zDirection),g=this.renderedTiles,y=[],_=[],x=[],S=Sr(s);let C=!0;for(let B=g.length-1;B>=0;--B){const E=g[B];C=C&&!E.getReplayState(s).dirty;const L=E.executorGroups[S].filter(K=>K.hasExecutors(u));if(L.length===0)continue;const I=this.getTileRenderTransform(E,n),k=E.tileCoord[0];let O=!1;const F=L[0].getClipCoords(I);let U=e,$;if(F){$=new K9,U=$.getContext();for(let K=0,V=y.length;K<V;++K)if(m!==k&&k<_[K]){const Q=y[K];wo([F[0],F[3],F[4],F[7]],[Q[0],Q[3],Q[4],Q[7]])&&(O||(U.save(),O=!0),U.beginPath(),U.moveTo(F[0],F[1]),U.lineTo(F[2],F[3]),U.lineTo(F[4],F[5]),U.lineTo(F[6],F[7]),U.moveTo(Q[6],Q[7]),U.lineTo(Q[4],Q[5]),U.lineTo(Q[2],Q[3]),U.lineTo(Q[0],Q[1]),U.clip())}y.push(F),_.push(k)}for(let K=0,V=L.length;K<V;++K)L[K].execute(e,[e.canvas.width,e.canvas.height],I,d,i,u,(M=n.declutter)==null?void 0:M[l]);O&&(U===e?U.restore():x[B]=$)}e.globalAlpha=o,this.ready=C,this.tileClipContexts_=x,n.declutter||this.renderDeferredInternal(n),super.postRender(e,n)}renderFeature(e,n,r,i,s,a){if(!r)return!1;let o=!1;if(Array.isArray(r))for(let l=0,u=r.length;l<u;++l)o=ZO(i,e,r[l],n,this.boundHandleStyleImageChange_,void 0,s,a)||o;else o=ZO(i,e,r,n,this.boundHandleStyleImageChange_,void 0,s,a);return o}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const r=e.getReplayState(n),i=n.getRevision(),s=e.wantedResolution;return r.renderedTileResolution!==s||r.renderedTileRevision!==i}renderTileImage_(e,n){const r=this.getLayer(),i=e.getReplayState(r),s=r.getRevision(),a=e.executorGroups[Sr(r)];i.renderedTileRevision=s;const o=e.wrappedTileCoord,l=o[0],u=r.getSource();let h=n.pixelRatio;const f=n.viewState.projection,A=u.getTileGridForProjection(f),m=A.getResolution(e.tileCoord[0]),g=n.pixelRatio/e.wantedResolution*m,y=A.getResolution(l),_=e.getContext();h=Math.round(Math.max(h,g/h));const x=u.getTilePixelSize(l,h,f);_.canvas.width=x[0],_.canvas.height=x[1];const S=h/g;if(S!==1){const E=lG(this.tmpTransform_);NT(E,S,S),_.setTransform.apply(_,E)}const C=A.getTileCoordExtent(o,this.tempExtent),M=g/y,B=lG(this.tmpTransform_);NT(B,M,-M),X5(B,-C[0],-C[3]);for(let E=0,L=a.length;E<L;++E)a[E].execute(_,[_.canvas.width*S,_.canvas.height*S],B,0,!0,Vht[r.getRenderMode()],null);i.renderedTileResolution=e.wantedResolution}}class Vpe extends Sw{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload;const r=e.cacheSize===void 0?0:e.cacheSize;delete e.cacheSize,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=r;const i=e.renderMode||"hybrid";As(i=="hybrid"||i=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new zht(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(X0.PRELOAD)}getUseInterimTilesOnError(){return this.get(X0.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(X0.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(X0.USE_INTERIM_TILES_ON_ERROR,e)}}class $ht extends fpe{constructor(e){super(e),this.vectorRenderer_=new Mpe(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=bo(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);const n=Ja(this.coordinateToVectorPixelTransform_,Ja(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(n)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(e){const n=e.pixelRatio,r=e.viewState,i=r.resolution,s=e.viewHints,a=this.vectorRenderer_;let o=e.extent;this.layerImageRatio_!==1&&(o=o.slice(0),W7(o,this.layerImageRatio_));const l=hs(o)/i,u=oo(o)/i;if(!s[Xa.ANIMATING]&&!s[Xa.INTERACTING]&&!ym(o)){a.useContainer(null,null);const h=a.context,d=e.layerStatesArray[e.layerIndex],f=Object.assign({},d,{opacity:1}),A=Object.assign({},e,{extent:o,size:[l,u],viewState:Object.assign({},e.viewState,{rotation:0}),layerStatesArray:[f],layerIndex:0,declutter:null}),m=this.getLayer().getDeclutter();m&&(A.declutter={[m]:new M9(9)});let g=!0;const y=new dut(o,i,n,h.canvas,function(_){a.prepareFrame(A)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(A,null)&&(a.renderDeclutter(A),a.renderDeferred(A),g=!1),_())});y.addEventListener(Yr.CHANGE,()=>{if(y.getState()!==Kr.LOADED)return;this.image=g?null:y;const _=y.getPixelRatio(),x=jO(y.getResolution())*n/_;this.renderedResolution=x,this.coordinateToVectorPixelTransform_=If(this.coordinateToVectorPixelTransform_,l/2,u/2,1/x,-1/x,0,-r.center[0],-r.center[1])}),y.load()}return this.image&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,n,r,i,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,r,i,s):super.forEachFeatureAtCoordinate(e,n,r,i,s)}}class Qht extends Sw{constructor(e){e=e||{};const n=Object.assign({},e);delete n.imageRatio,super(n),this.imageRatio_=e.imageRatio!==void 0?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new $ht(this)}}function ss(t,e,n){const r=nD();return Dht(e,n,r,t)}function Wht(t){const e=kd(t),n=e[0]*256,r=e[1],i=e[2]*256,s=Math.round(e[3]*255);return[n+r,i+s]}const jht="vec4 unpackColor(vec2 packedColor) {\n  return vec4(\n    fract(floor(packedColor[0] / 256.0) / 256.0),\n    fract(packedColor[0] / 256.0),\n    fract(floor(packedColor[1] / 256.0) / 256.0),\n    fract(packedColor[1] / 256.0)\n  );\n}";function TG(t){return t===Uo||t===fp?2:t===jh?4:1}function yI(t){const e=TG(t);return e>1?"vec".concat(e):"float"}function tN(t){return(JSON.stringify(t).split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0),0)>>>0).toString()}function eQ(t,e,n,r){if("".concat(r,"radius")in t&&r!=="icon-"){let i=ss(n,t["".concat(r,"radius")],ci);if("".concat(r,"radius2")in t){const s=ss(n,t["".concat(r,"radius2")],ci);i="max(".concat(i,", ").concat(s,")")}"".concat(r,"stroke-width")in t&&(i="(".concat(i," + ").concat(ss(n,t["".concat(r,"stroke-width")],ci)," * 0.5)")),e.setSymbolSizeExpression("vec2(".concat(i," * 2. + 0.5)"))}if("".concat(r,"scale")in t){const i=ss(n,t["".concat(r,"scale")],fp);e.setSymbolSizeExpression("".concat(e.getSymbolSizeExpression()," * ").concat(i))}"".concat(r,"displacement")in t&&e.setSymbolOffsetExpression(ss(n,t["".concat(r,"displacement")],jh)),"".concat(r,"rotation")in t&&e.setSymbolRotationExpression(ss(n,t["".concat(r,"rotation")],ci)),"".concat(r,"rotate-with-view")in t&&e.setSymbolRotateWithView(!!t["".concat(r,"rotate-with-view")])}function zpe(t,e,n,r,i){let s="vec4(0.)";if(e!==null&&(s=e),n!==null&&r!==null){const l="smoothstep(-".concat(r," + 0.63, -").concat(r," - 0.58, ").concat(t,")");s="mix(".concat(n,", ").concat(s,", ").concat(l,")")}const a="(1.0 - smoothstep(-0.63, 0.58, ".concat(t,"))");let o="".concat(s," * vec4(1.0, 1.0, 1.0, ").concat(a,")");return i!==null&&(o="".concat(o," * vec4(1.0, 1.0, 1.0, ").concat(i,")")),o}function tQ(t,e,n,r,i){const s=new Image;s.crossOrigin=t["".concat(r,"cross-origin")]===void 0?"anonymous":t["".concat(r,"cross-origin")],As(typeof t["".concat(r,"src")]=="string","WebGL layers do not support expressions for the ".concat(r,"src style property")),s.src=t["".concat(r,"src")],n["u_texture".concat(i,"_size")]=()=>s.complete?[s.width,s.height]:[0,0],e.addUniform("vec2 u_texture".concat(i,"_size"));const a="u_texture".concat(i,"_size");return n["u_texture".concat(i)]=s,e.addUniform("sampler2D u_texture".concat(i)),a}function nQ(t,e,n,r,i){let s=ss(n,t["".concat(e,"offset")],jh);if("".concat(e,"offset-origin")in t)switch(t["".concat(e,"offset-origin")]){case"top-right":s="vec2(".concat(r,".x, 0.) + ").concat(i," * vec2(-1., 0.) + ").concat(s," * vec2(-1., 1.)");break;case"bottom-left":s="vec2(0., ".concat(r,".y) + ").concat(i," * vec2(0., -1.) + ").concat(s," * vec2(1., -1.)");break;case"bottom-right":s="".concat(r," - ").concat(i," - ").concat(s);break}return s}function Kht(t,e,n,r,i){i.functions.circleDistanceField="float circleDistanceField(vec2 point, float radius) {\n  return length(point) - radius;\n}",eQ(t,e,r,"circle-");let s=null;"circle-opacity"in t&&(s=ss(i,t["circle-opacity"],ci));let a="coordsPx";if("circle-scale"in t){const A=ss(i,t["circle-scale"],fp);a="coordsPx / ".concat(A)}let o=null;"circle-fill-color"in t&&(o=ss(i,t["circle-fill-color"],Uo));let l=null;"circle-stroke-color"in t&&(l=ss(i,t["circle-stroke-color"],Uo));let u=ss(i,t["circle-radius"],ci),h=null;"circle-stroke-width"in t&&(h=ss(i,t["circle-stroke-width"],ci),u="(".concat(u," + ").concat(h," * 0.5)"));const d="circleDistanceField(".concat(a,", ").concat(u,")"),f=zpe(d,o,l,h,s);e.setSymbolColorExpression(f)}function qht(t,e,n,r,i){i.functions.round="float round(float v) {\n  return sign(v) * floor(abs(v) + 0.5);\n}",i.functions.starDistanceField="float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round(beta / alpha) * alpha; // angle in sector\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  vec2 tipToPoint = inSector + vec2(-radius, 0.);\n  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);\n  return dot(normalize(edgeNormal), tipToPoint);\n}",i.functions.regularDistanceField="float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float radiusIn = radius * cos(PI / numPoints);\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  return inSector.x - radiusIn;\n}",eQ(t,e,r,"shape-");let s=null;"shape-opacity"in t&&(s=ss(i,t["shape-opacity"],ci));let a="coordsPx";if("shape-scale"in t){const g=ss(i,t["shape-scale"],fp);a="coordsPx / ".concat(g)}let o=null;"shape-fill-color"in t&&(o=ss(i,t["shape-fill-color"],Uo));let l=null;"shape-stroke-color"in t&&(l=ss(i,t["shape-stroke-color"],Uo));let u=null;"shape-stroke-width"in t&&(u=ss(i,t["shape-stroke-width"],ci));const h=ss(i,t["shape-points"],ci);let d="0.";"shape-angle"in t&&(d=ss(i,t["shape-angle"],ci));let f,A=ss(i,t["shape-radius"],ci);if(u!==null&&(A="".concat(A," + ").concat(u," * 0.5")),"shape-radius2"in t){let g=ss(i,t["shape-radius2"],ci);u!==null&&(g="".concat(g," + ").concat(u," * 0.5")),f="starDistanceField(".concat(a,", ").concat(h,", ").concat(A,", ").concat(g,", ").concat(d,")")}else f="regularDistanceField(".concat(a,", ").concat(h,", ").concat(A,", ").concat(d,")");const m=zpe(f,o,l,u,s);e.setSymbolColorExpression(m)}function Xht(t,e,n,r,i){let s="vec4(1.0)";"icon-color"in t&&(s=ss(i,t["icon-color"],Uo)),"icon-opacity"in t&&(s="".concat(s," * vec4(1.0, 1.0, 1.0, ").concat(ss(i,t["icon-opacity"],ci),")"));const a=tN(t["icon-src"]),o=tQ(t,e,n,"icon-",a);if(e.setSymbolColorExpression("".concat(s," * texture2D(u_texture").concat(a,", v_texCoord)")).setSymbolSizeExpression(o),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression("vec2(".concat(ss(r,t["icon-width"],ci),", ").concat(ss(r,t["icon-height"],ci),")")),"icon-offset"in t&&"icon-size"in t){const l=ss(r,t["icon-size"],jh),u=e.getSymbolSizeExpression();e.setSymbolSizeExpression(l);const h=nQ(t,"icon-",r,"v_quadSizePx",l);e.setTextureCoordinateExpression("(vec4((".concat(h,").xyxy) + vec4(0., 0., ").concat(l,")) / (").concat(u,").xyxy"))}if(eQ(t,e,r,"icon-"),"icon-anchor"in t){const l=ss(r,t["icon-anchor"],jh);let u="1.0";"icon-scale"in t&&(u=ss(r,t["icon-scale"],fp));let h;t["icon-anchor-x-units"]==="pixels"&&t["icon-anchor-y-units"]==="pixels"?h="".concat(l," * ").concat(u):t["icon-anchor-x-units"]==="pixels"?h="".concat(l," * vec2(vec2(").concat(u,").x, v_quadSizePx.y)"):t["icon-anchor-y-units"]==="pixels"?h="".concat(l," * vec2(v_quadSizePx.x, vec2(").concat(u,").x)"):h="".concat(l," * v_quadSizePx");let d="v_quadSizePx * vec2(0.5, -0.5) + ".concat(h," * vec2(-1., 1.)");if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":d="v_quadSizePx * -0.5 + ".concat(h);break;case"bottom-left":d="v_quadSizePx * 0.5 - ".concat(h);break;case"bottom-right":d="v_quadSizePx * vec2(-0.5, 0.5) + ".concat(h," * vec2(1., -1.)");break}e.setSymbolOffsetExpression("".concat(e.getSymbolOffsetExpression()," + ").concat(d))}}function Yht(t,e,n,r,i){if("stroke-color"in t&&e.setStrokeColorExpression(ss(i,t["stroke-color"],Uo)),"stroke-pattern-src"in t){const s=tN(t["stroke-pattern-src"]),a=tQ(t,e,n,"stroke-pattern-",s);let o=a,l="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(o=ss(i,t["stroke-pattern-size"],jh),l=nQ(t,"stroke-pattern-",i,a,o));let u="0.";"stroke-pattern-spacing"in t&&(u=ss(i,t["stroke-pattern-spacing"],ci)),i.functions.sampleStrokePattern="vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {\n  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;\n  float spacingScaled = spacingPx * sampleSize.y / lineWidth;\n  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));\n  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);\n  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;\n  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;\n  return texture2D(texture, texCoord);\n}";const h="u_texture".concat(s);let d="1.";"stroke-color"in t&&(d=e.getStrokeColorExpression()),e.setStrokeColorExpression("".concat(d," * sampleStrokePattern(").concat(h,", ").concat(a,", ").concat(l,", ").concat(o,", ").concat(u,", currentLengthPx, currentRadiusRatio, v_width)"))}if("stroke-width"in t&&e.setStrokeWidthExpression(ss(r,t["stroke-width"],ci)),"stroke-offset"in t&&e.setStrokeOffsetExpression(ss(r,t["stroke-offset"],ci)),"stroke-line-cap"in t&&e.setStrokeCapExpression(ss(r,t["stroke-line-cap"],wc)),"stroke-line-join"in t&&e.setStrokeJoinExpression(ss(r,t["stroke-line-join"],wc)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(ss(r,t["stroke-miter-limit"],ci)),"stroke-line-dash"in t){i.functions.getSingleDashDistance="float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {\n  float localDistance = mod(distance, dashLengthTotal);\n  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;\n  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);\n  if (capType == ".concat(av("square"),") {\n    distanceSegment -= v_width * 0.5;\n  } else if (capType == ").concat(av("round"),") {\n    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);\n  }\n  return distanceSegment;\n}");let s=t["stroke-line-dash"].map(A=>ss(i,A,ci));s.length%2===1&&(s=[...s,...s]);let a="0.";"stroke-line-dash-offset"in t&&(a=ss(r,t["stroke-line-dash-offset"],ci));const o=tN(t["stroke-line-dash"]),l="dashDistanceField_".concat(o),u=s.map((A,m)=>"float dashLength".concat(m," = ").concat(A,";")),h=s.map((A,m)=>"dashLength".concat(m)).join(" + ");let d="0.",f="getSingleDashDistance(distance, radius, ".concat(d,", dashLength0, totalDashLength, capType)");for(let A=2;A<s.length;A+=2)d="".concat(d," + dashLength").concat(A-2," + dashLength").concat(A-1),f="min(".concat(f,", getSingleDashDistance(distance, radius, ").concat(d,", dashLength").concat(A,", totalDashLength, capType))");i.functions[l]="float ".concat(l,"(float distance, float radius, float capType) {\n  ").concat(u.join("\n  "),"\n  float totalDashLength = ").concat(h,";\n  return ").concat(f,";\n}"),e.setStrokeDistanceFieldExpression("".concat(l,"(currentLengthPx + ").concat(a,", currentRadiusPx, capType)"))}}function Zht(t,e,n,r,i){if("fill-color"in t&&e.setFillColorExpression(ss(i,t["fill-color"],Uo)),"fill-pattern-src"in t){const s=tN(t["fill-pattern-src"]),a=tQ(t,e,n,"fill-pattern-",s);let o=a,l="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(o=ss(i,t["fill-pattern-size"],jh),l=nQ(t,"fill-pattern-",i,a,o)),i.functions.sampleFillPattern="vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {\n  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);\n  vec2 pxRelativePos = pxPosition - pxOrigin;\n  // rotate the relative position from origin by the current view rotation\n  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));\n  // sample position is computed according to the sample offset & size\n  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);\n  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));\n  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright\n  return texture2D(texture, (samplePos + textureOffset) / textureSize);\n}";const u="u_texture".concat(s);let h="1.";"fill-color"in t&&(h=e.getFillColorExpression()),e.setFillColorExpression("".concat(h," * sampleFillPattern(").concat(u,", ").concat(a,", ").concat(l,", ").concat(o,", pxOrigin, pxPos)"))}}function Jht(t,e,n){const r=CG(),i={...CG(),inFragmentShader:!0,variables:r.variables},s=new Hpe,a={};if("icon-src"in t?Xht(t,s,a,r,i):"shape-points"in t?qht(t,s,a,r,i):"circle-radius"in t&&Kht(t,s,a,r,i),Yht(t,s,a,r,i),Zht(t,s,a,r,i),n){const u=ss(i,n,Kc);s.setFragmentDiscardExpression("!".concat(u))}for(const u in i.variables){const h=i.variables[u],d=Z9(h.name);let f=yI(h.type);h.type===Uo&&(f="vec4"),s.addUniform("".concat(f," ").concat(d)),a[d]=()=>{const A=e[h.name];return typeof A=="number"?A:typeof A=="boolean"?A?1:0:h.type===Uo?kd(A||"#eee"):typeof A=="string"?Yx(A):A}}for(const u in i.properties){const h=i.properties[u];r.properties[u]||(r.properties[u]=h);let d=yI(h.type),f="a_prop_".concat(h.name);h.type===Uo&&(d="vec4",f="unpackColor(".concat(f,")"),s.addVertexShaderFunction(jht)),s.addVarying("v_prop_".concat(h.name),d,f)}for(const u in r.properties){const h=r.properties[u];s.addAttribute("".concat(yI(h.type)," a_prop_").concat(h.name))}for(const u in r.functions)s.addVertexShaderFunction(r.functions[u]);for(const u in i.functions)s.addFragmentShaderFunction(i.functions[u]);const o={};for(const u in r.properties){const h=r.properties[u],d=f=>{const A=f.get(h.name);return h.type===Uo?Wht([...kd(A||"#eee")]):typeof A=="string"?Yx(A):typeof A=="boolean"?A?1:0:A};o["prop_".concat(h.name)]={size:TG(h.type),callback:d}}function l(u,h,d,f){const A=r[u],m=i[u];if(!A&&!m)return;const g=yI(d),y=TG(d);s.addAttribute("".concat(g," a_").concat(h)),m&&s.addVarying("v_".concat(h),g,"a_".concat(h)),o[h]={size:y,callback:f}}return l("geometryType",Upe,wc,u=>Yx(rD(u.getGeometry()))),l("featureId",kpe,wc|ci,u=>{var d;const h=(d=u.getId())!=null?d:null;return typeof h=="string"?Yx(h):h}),{builder:s,attributes:o,uniforms:a}}function Nee(t,e){const n="\n    attribute vec2 ".concat(AF.TEXTURE_COORD,";\n    uniform mat4 ").concat(Ss.TILE_TRANSFORM,";\n    uniform float ").concat(Ss.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(Ss.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(Ss.TEXTURE_RESOLUTION,";\n    uniform float ").concat(Ss.TEXTURE_ORIGIN_X,";\n    uniform float ").concat(Ss.TEXTURE_ORIGIN_Y,";\n    uniform float ").concat(Ss.DEPTH,";\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ").concat(AF.TEXTURE_COORD,";\n      v_mapCoord = vec2(\n        ").concat(Ss.TEXTURE_ORIGIN_X," + ").concat(Ss.TEXTURE_RESOLUTION," * ").concat(Ss.TEXTURE_PIXEL_WIDTH," * v_textureCoord[0],\n        ").concat(Ss.TEXTURE_ORIGIN_Y," - ").concat(Ss.TEXTURE_RESOLUTION," * ").concat(Ss.TEXTURE_PIXEL_HEIGHT," * v_textureCoord[1]\n      );\n      gl_Position = ").concat(Ss.TILE_TRANSFORM," * vec4(").concat(AF.TEXTURE_COORD,", ").concat(Ss.DEPTH,", 1.0);\n    }\n  "),r={...CG(),inFragmentShader:!0,bandCount:e},i=[];if(t.color!==void 0){const d=ss(r,t.color,Uo);i.push("color = ".concat(d,";"))}if(t.contrast!==void 0){const d=ss(r,t.contrast,ci);i.push("color.rgb = clamp((".concat(d," + 1.0) * color.rgb - (").concat(d," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(t.exposure!==void 0){const d=ss(r,t.exposure,ci);i.push("color.rgb = clamp((".concat(d," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(t.saturation!==void 0){const d=ss(r,t.saturation,ci);i.push("\n      float saturation = ".concat(d," + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    "))}if(t.gamma!==void 0){const d=ss(r,t.gamma,ci);i.push("color.rgb = pow(color.rgb, vec3(1.0 / ".concat(d,"));"))}if(t.brightness!==void 0){const d=ss(r,t.brightness,ci);i.push("color.rgb = clamp(color.rgb + ".concat(d,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}const s={},a=Object.keys(r.variables).length;if(a>1&&!t.variables)throw new Error("Missing variables in style (expected ".concat(r.variables,")"));for(let d=0;d<a;++d){const f=r.variables[Object.keys(r.variables)[d]];if(!(f.name in t.variables))throw new Error("Missing '".concat(f.name,"' in style variables"));const A=Z9(f.name);s[A]=function(){let m=t.variables[f.name];return typeof m=="string"&&(m=Yx(m)),m!==void 0?m:-9999999}}const o=Object.keys(s).map(function(d){return"uniform float ".concat(d,";")}),l=Math.ceil(e/4);o.push("uniform sampler2D ".concat(Ss.TILE_TEXTURE_ARRAY,"[").concat(l,"];")),r.paletteTextures&&o.push("uniform sampler2D ".concat(Dpe,"[").concat(r.paletteTextures.length,"];"));const u=Object.keys(r.functions).map(function(d){return r.functions[d]}),h="\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ".concat(Ss.RENDER_EXTENT,";\n    uniform float ").concat(Ss.TRANSITION_ALPHA,";\n    uniform float ").concat(Ss.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(Ss.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(Ss.RESOLUTION,";\n    uniform float ").concat(Ss.ZOOM,";\n\n    ").concat(o.join("\n"),"\n\n    ").concat(u.join("\n"),"\n\n    void main() {\n      if (\n        v_mapCoord[0] < ").concat(Ss.RENDER_EXTENT,"[0] ||\n        v_mapCoord[1] < ").concat(Ss.RENDER_EXTENT,"[1] ||\n        v_mapCoord[0] > ").concat(Ss.RENDER_EXTENT,"[2] ||\n        v_mapCoord[1] > ").concat(Ss.RENDER_EXTENT,"[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(").concat(Ss.TILE_TEXTURE_ARRAY,"[0],  v_textureCoord);\n\n      ").concat(i.join("\n"),"\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ").concat(Ss.TRANSITION_ALPHA,";\n    }");return{vertexShader:n,fragmentShader:h,uniforms:s,paletteTextures:r.paletteTextures}}class $pe extends gpe{constructor(e){e=e?Object.assign({},e):{};const n=e.style||{};delete e.style,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=n,this.styleVariables_=this.style_.variables||{},this.handleSourceUpdate_(),this.addChangeListener(La.SOURCE,this.handleSourceUpdate_)}getSources(e,n){const r=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(e,n):this.sources_:r?[r]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const e=this.getSource();if(e)if(e.getState()==="loading"){const n=()=>{e.getState()==="ready"&&(e.removeEventListener("change",n),this.setStyle(this.style_))};e.addEventListener("change",n)}else this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,n=this.getSources([-e,-e,e,e],e);return n&&n.length&&"bandCount"in n[0]?n[0].bandCount:4}createRenderer(){const e=Nee(this.style_,this.getSourceBandCount_());return new Iht(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.getCacheSize(),paletteTextures:e.paletteTextures})}renderSources(e,n){const r=this.getRenderer();let i;for(let s=0,a=n.length;s<a;++s)this.renderedSource_=n[s],r.prepareFrame(e)&&(i=r.renderFrame(e));return i}render(e,n){this.rendered=!0;const r=e.viewState,i=this.getSources(e.extent,r.resolution);let s=!0;for(let o=0,l=i.length;o<l;++o){const u=i[o],h=u.getState();if(h=="loading"){const d=()=>{u.getState()=="ready"&&(u.removeEventListener("change",d),this.changed())};u.addEventListener("change",d)}s=s&&h=="ready"}const a=this.renderSources(e,i);if(this.getRenderer().renderComplete&&s)return this.renderedResolution_=r.resolution,a;if(this.renderedResolution_>.5*r.resolution){const o=this.getSources(e.extent,this.renderedResolution_).filter(l=>!i.includes(l));if(o.length>0)return this.renderSources(e,o)}return a}setStyle(e){if(this.styleVariables_=e.variables||{},this.style_=e,this.hasRenderer()){const n=Nee(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,paletteTextures:n.paletteTextures}),this.changed()}}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}$pe.prototype.dispose;class rQ{constructor(){this.globalCounter_=0,this.refToFeature_=new Map,this.uidToRef_=new Map,this.freeGlobalRef_=[],this.polygonBatch={entries:{},geometriesCount:0,verticesCount:0,ringsCount:0},this.pointBatch={entries:{},geometriesCount:0},this.lineStringBatch={entries:{},geometriesCount:0,verticesCount:0}}addFeatures(e,n){for(let r=0;r<e.length;r++)this.addFeature(e[r],n)}addFeature(e,n){let r=e.getGeometry();r&&(n&&(r=r.clone(),r.applyTransform(n)),this.addGeometry_(r,e))}clearFeatureEntryInPointBatch_(e){const n=Sr(e),r=this.pointBatch.entries[n];if(r)return this.pointBatch.geometriesCount-=r.flatCoordss.length,delete this.pointBatch.entries[n],r}clearFeatureEntryInLineStringBatch_(e){const n=Sr(e),r=this.lineStringBatch.entries[n];if(r)return this.lineStringBatch.verticesCount-=r.verticesCount,this.lineStringBatch.geometriesCount-=r.flatCoordss.length,delete this.lineStringBatch.entries[n],r}clearFeatureEntryInPolygonBatch_(e){const n=Sr(e),r=this.polygonBatch.entries[n];if(r)return this.polygonBatch.verticesCount-=r.verticesCount,this.polygonBatch.ringsCount-=r.ringsCount,this.polygonBatch.geometriesCount-=r.flatCoordss.length,delete this.polygonBatch.entries[n],r}addGeometry_(e,n){var i;const r=e.getType();switch(r){case"GeometryCollection":{const s=e.getGeometriesArray();for(const a of s)this.addGeometry_(a,n);break}case"MultiPolygon":{const s=e;this.addCoordinates_(r,s.getFlatCoordinates(),s.getEndss(),n,Sr(n),s.getStride());break}case"MultiLineString":{const s=e;this.addCoordinates_(r,s.getFlatCoordinates(),s.getEnds(),n,Sr(n),s.getStride());break}case"MultiPoint":{const s=e;this.addCoordinates_(r,s.getFlatCoordinates(),null,n,Sr(n),s.getStride());break}case"Polygon":{const s=e;this.addCoordinates_(r,s.getFlatCoordinates(),s.getEnds(),n,Sr(n),s.getStride());break}case"Point":{const s=e;this.addCoordinates_(r,s.getFlatCoordinates(),null,n,Sr(n),s.getStride());break}case"LineString":case"LinearRing":{const s=e,a=s.getStride();this.addCoordinates_(r,s.getFlatCoordinates(),null,n,Sr(n),a,(i=s.getLayout)==null?void 0:i.call(s));break}}}addCoordinates_(e,n,r,i,s,a,o){let l;switch(e){case"MultiPolygon":{const u=r;for(let h=0,d=u.length;h<d;h++){let f=u[h];const A=h>0?u[h-1]:null,m=A?A[A.length-1]:0,g=f[f.length-1];f=m>0?f.map(y=>y-m):f,this.addCoordinates_("Polygon",n.slice(m,g),f,i,s,a,o)}break}case"MultiLineString":{const u=r;for(let h=0,d=u.length;h<d;h++){const f=h>0?u[h-1]:0;this.addCoordinates_("LineString",n.slice(f,u[h]),null,i,s,a,o)}break}case"MultiPoint":for(let u=0,h=n.length;u<h;u+=a)this.addCoordinates_("Point",n.slice(u,u+2),null,i,s,null,null);break;case"Polygon":{const u=r;if(i instanceof Ju){const f=u9(n,u);if(f.length>1){this.addCoordinates_("MultiPolygon",n,f,i,s,a,o);return}}this.polygonBatch.entries[s]||(this.polygonBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0,ringsCount:0,ringsVerticesCounts:[]})),l=n.length/a;const h=r.length,d=r.map((f,A,m)=>A>0?(f-m[A-1])/a:f/a);this.polygonBatch.verticesCount+=l,this.polygonBatch.ringsCount+=h,this.polygonBatch.geometriesCount++,this.polygonBatch.entries[s].flatCoordss.push(edt(n,a)),this.polygonBatch.entries[s].ringsVerticesCounts.push(d),this.polygonBatch.entries[s].verticesCount+=l,this.polygonBatch.entries[s].ringsCount+=h;for(let f=0,A=u.length;f<A;f++){const m=f>0?u[f-1]:0;this.addCoordinates_("LinearRing",n.slice(m,u[f]),null,i,s,a,o)}break}case"Point":this.pointBatch.entries[s]||(this.pointBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[]})),this.pointBatch.geometriesCount++,this.pointBatch.entries[s].flatCoordss.push(n);break;case"LineString":case"LinearRing":this.lineStringBatch.entries[s]||(this.lineStringBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0})),l=n.length/a,this.lineStringBatch.verticesCount+=l,this.lineStringBatch.geometriesCount++,this.lineStringBatch.entries[s].flatCoordss.push(tdt(n,a,o)),this.lineStringBatch.entries[s].verticesCount+=l;break}}addRefToEntry_(e,n){const r=this.uidToRef_.get(e),i=r||this.freeGlobalRef_.pop()||++this.globalCounter_;return n.ref=i,r||(this.refToFeature_.set(i,n.feature),this.uidToRef_.set(e,i)),n}returnRef_(e,n){if(!e)throw new Error("This feature has no ref: "+n);this.refToFeature_.delete(e),this.uidToRef_.delete(n),this.freeGlobalRef_.push(e)}changeFeature(e){this.removeFeature(e);const n=e.getGeometry();n&&this.addGeometry_(n,e)}removeFeature(e){let n=this.clearFeatureEntryInPointBatch_(e);n=this.clearFeatureEntryInPolygonBatch_(e)||n,n=this.clearFeatureEntryInLineStringBatch_(e)||n,n&&this.returnRef_(n.ref,Sr(n.feature))}clear(){this.polygonBatch.entries={},this.polygonBatch.geometriesCount=0,this.polygonBatch.verticesCount=0,this.polygonBatch.ringsCount=0,this.lineStringBatch.entries={},this.lineStringBatch.geometriesCount=0,this.lineStringBatch.verticesCount=0,this.pointBatch.entries={},this.pointBatch.geometriesCount=0,this.globalCounter_=0,this.freeGlobalRef_=[],this.refToFeature_.clear(),this.uidToRef_.clear()}getFeatureFromRef(e){return this.refToFeature_.get(e)}isEmpty(){return this.globalCounter_===0}filter(e){const n=new rQ;for(const r of this.refToFeature_.values())e(r)&&n.addFeature(r);return n}}function edt(t,e){return e===2?t:t.filter((n,r)=>r%e<2)}function tdt(t,e,n){return e===3&&n==="XYM"?t:e===4?t.filter((r,i)=>i%e!==2):e===3?t.map((r,i)=>i%e!==2?r:0):new Array(t.length*1.5).fill(0).map((r,i)=>i%3===2?0:t[Math.round(i/1.5)])}function iQ(t,e,n,r){var s;let i=0;for(const a in e){const o=e[a],l=o.callback.call(n,n.feature);t[r+i++]=(s=l==null?void 0:l[0])!=null?s:l,!(!o.size||o.size===1)&&(t[r+i++]=l[1],!(o.size<3)&&(t[r+i++]=l[2],!(o.size<4)&&(t[r+i++]=l[3])))}return i}function gD(t){return Object.keys(t).reduce((e,n)=>e+(t[n].size||1),0)}function ndt(t,e,n,r){const i=(2+gD(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let a=0;for(const o in t.entries){const l=t.entries[o];for(let u=0,h=l.flatCoordss.length;u<h;u++)s[0]=l.flatCoordss[u][0],s[1]=l.flatCoordss[u][1],Ja(r,s),e[a++]=s[0],e[a++]=s[1],a+=iQ(e,n,l,a)}return e}function rdt(t,e,n,r){const i=3*t.verticesCount+(1+gD(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let a=0;for(const o in t.entries){const l=t.entries[o];for(let u=0,h=l.flatCoordss.length;u<h;u++){s.length=l.flatCoordss[u].length,nm(l.flatCoordss[u],0,s.length,3,r,s,3),a+=iQ(e,n,l,a),e[a++]=s.length/3;for(let d=0,f=s.length;d<f;d+=3)e[a++]=s[d],e[a++]=s[d+1],e[a++]=s[d+2]}}return e}function idt(t,e,n,r){const i=2*t.verticesCount+(1+gD(n))*t.geometriesCount+t.ringsCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let a=0;for(const o in t.entries){const l=t.entries[o];for(let u=0,h=l.flatCoordss.length;u<h;u++){s.length=l.flatCoordss[u].length,nm(l.flatCoordss[u],0,s.length,2,r,s),a+=iQ(e,n,l,a),e[a++]=l.ringsVerticesCounts[u].length;for(let d=0,f=l.ringsVerticesCounts[u].length;d<f;d++)e[a++]=l.ringsVerticesCounts[u][d];for(let d=0,f=s.length;d<f;d+=2)e[a++]=s[d],e[a++]=s[d+1]}}return e}const sdt=[];let f3;function adt(){return f3||(f3=Fpe()),f3}let odt=0;const Tg={POSITION:"a_position",INDEX:"a_index",SEGMENT_START:"a_segmentStart",SEGMENT_END:"a_segmentEnd",MEASURE_START:"a_measureStart",MEASURE_END:"a_measureEnd",PARAMETERS:"a_parameters",JOIN_ANGLES:"a_joinAngles",DISTANCE:"a_distance"};class ldt{constructor(e,n,r,i,s){this.helper_,this.hitDetectionEnabled_=!!i;let a=e;if(!("builder"in e)){const h=e,d=Jht(h.style,n,h.filter);a={builder:d.builder,attributes:d.attributes,uniforms:d.uniforms}}this.fillProgram_,this.strokeProgram_,this.symbolProgram_,this.hasFill_=!!a.builder.getFillVertexShader(),this.hasFill_&&(this.fillVertexShader_=a.builder.getFillVertexShader(),this.fillFragmentShader_=a.builder.getFillFragmentShader()),this.hasStroke_=!!a.builder.getStrokeVertexShader(),this.hasStroke_&&(this.strokeVertexShader_=a.builder.getStrokeVertexShader(),this.strokeFragmentShader_=a.builder.getStrokeFragmentShader()),this.hasSymbol_=!!a.builder.getSymbolVertexShader(),this.hasSymbol_&&(this.symbolVertexShader_=a.builder.getSymbolVertexShader(),this.symbolFragmentShader_=a.builder.getSymbolFragmentShader()),this.featureFilter_=null,s&&(this.featureFilter_=this.computeFeatureFilter(s));const l=this.hitDetectionEnabled_?{hitColor:{callback(){return Lpe(this.ref,sdt)},size:4}}:{};this.customAttributes_=Object.assign({},l,a.attributes),this.uniforms_=a.uniforms;const u=Object.entries(this.customAttributes_).map(([h,d])=>({name:"a_".concat(h),size:d.size||1,type:Fl.FLOAT}));this.polygonAttributesDesc_=[{name:Tg.POSITION,size:2,type:Fl.FLOAT},...u],this.lineStringAttributesDesc_=[{name:Tg.SEGMENT_START,size:2,type:Fl.FLOAT},{name:Tg.MEASURE_START,size:1,type:Fl.FLOAT},{name:Tg.SEGMENT_END,size:2,type:Fl.FLOAT},{name:Tg.MEASURE_END,size:1,type:Fl.FLOAT},{name:Tg.JOIN_ANGLES,size:2,type:Fl.FLOAT},{name:Tg.DISTANCE,size:1,type:Fl.FLOAT},{name:Tg.PARAMETERS,size:1,type:Fl.FLOAT},...u],this.pointAttributesDesc_=[{name:Tg.POSITION,size:2,type:Fl.FLOAT},{name:Tg.INDEX,size:1,type:Fl.FLOAT},...u],this.setHelper(r)}computeFeatureFilter(e){const n=nD();let r;try{r=_m(e,Kc,n)}catch(s){return null}if(n.mapState||n.variables.size>0)return null;const i=F9();return s=>{if(i.properties=s.getPropertiesInternal(),n.featureId){const a=s.getId();a!==void 0?i.featureId=a:i.featureId=null}return i.geometryType=rD(s.getGeometry()),r(i)}}async generateBuffers(e,n){let r=e;if(this.featureFilter_&&(r=r.filter(this.featureFilter_),r.isEmpty()))return null;const i=this.generateRenderInstructions_(r,n),[s,a,o]=await Promise.all([this.generateBuffersForType_(i.polygonInstructions,"Polygon",n),this.generateBuffersForType_(i.lineStringInstructions,"LineString",n),this.generateBuffersForType_(i.pointInstructions,"Point",n)]),l=iw(bo(),n);return{polygonBuffers:s,lineStringBuffers:a,pointBuffers:o,invertVerticesTransform:l}}generateRenderInstructions_(e,n){const r=this.hasFill_?idt(e.polygonBatch,new Float32Array(0),this.customAttributes_,n):null,i=this.hasStroke_?rdt(e.lineStringBatch,new Float32Array(0),this.customAttributes_,n):null,s=this.hasSymbol_?ndt(e.pointBatch,new Float32Array(0),this.customAttributes_,n):null;return{polygonInstructions:r,lineStringInstructions:i,pointInstructions:s}}generateBuffersForType_(e,n,r){if(e===null)return null;const i=odt++;let s;switch(n){case"Polygon":s=UT.GENERATE_POLYGON_BUFFERS;break;case"LineString":s=UT.GENERATE_LINE_STRING_BUFFERS;break;case"Point":s=UT.GENERATE_POINT_BUFFERS;break}const a={id:i,type:s,renderInstructions:e.buffer,renderInstructionsTransform:r,customAttributesSize:gD(this.customAttributes_)},o=adt();return o.postMessage(a,[e.buffer]),e=null,new Promise(l=>{const u=h=>{const d=h.data;if(d.id!==i||(o.removeEventListener("message",u),!this.helper_.getGL()))return;const f=new CS(ZL,JO).fromArrayBuffer(d.vertexBuffer),A=new CS(JL,JO).fromArrayBuffer(d.indexBuffer);this.helper_.flushBufferData(f),this.helper_.flushBufferData(A),l([A,f])};o.addEventListener("message",u)})}render(e,n,r){this.hasFill_&&this.renderInternal_(e.polygonBuffers[0],e.polygonBuffers[1],this.fillProgram_,this.polygonAttributesDesc_,n,r),this.hasStroke_&&this.renderInternal_(e.lineStringBuffers[0],e.lineStringBuffers[1],this.strokeProgram_,this.lineStringAttributesDesc_,n,r),this.hasSymbol_&&this.renderInternal_(e.pointBuffers[0],e.pointBuffers[1],this.symbolProgram_,this.pointAttributesDesc_,n,r)}renderInternal_(e,n,r,i,s,a){const o=e.getSize();o!==0&&(this.helper_.useProgram(r,s),this.helper_.bindBuffer(n),this.helper_.bindBuffer(e),this.helper_.enableAttributes(i),a(),this.helper_.drawElements(0,o))}setHelper(e,n=null){this.helper_=e,this.hasFill_&&(this.fillProgram_=this.helper_.getProgram(this.fillFragmentShader_,this.fillVertexShader_)),this.hasStroke_&&(this.strokeProgram_=this.helper_.getProgram(this.strokeFragmentShader_,this.strokeVertexShader_)),this.hasSymbol_&&(this.symbolProgram_=this.helper_.getProgram(this.symbolFragmentShader_,this.symbolVertexShader_)),this.helper_.addUniforms(this.uniforms_),n&&(n.polygonBuffers&&(this.helper_.flushBufferData(n.polygonBuffers[0]),this.helper_.flushBufferData(n.polygonBuffers[1])),n.lineStringBuffers&&(this.helper_.flushBufferData(n.lineStringBuffers[0]),this.helper_.flushBufferData(n.lineStringBuffers[1])),n.pointBuffers&&(this.helper_.flushBufferData(n.pointBuffers[0]),this.helper_.flushBufferData(n.pointBuffers[1])))}}const cx={...Dg,RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",GLOBAL_ALPHA:"u_globalAlpha"};class cdt extends eB{constructor(e,n){const r={[cx.RENDER_EXTENT]:[0,0,0,0],[cx.PATTERN_ORIGIN]:[0,0],[cx.GLOBAL_ALPHA]:1};super(e,{uniforms:r,postProcesses:n.postProcesses}),this.hitDetectionEnabled_=!n.disableHitDetection,this.hitRenderTarget_,this.sourceRevision_=-1,this.previousExtent_=ol(),this.currentTransform_=bo(),this.tmpCoords_=[0,0],this.tmpTransform_=bo(),this.tmpMat4_=Mw(),this.currentFrameStateTransform_=bo(),this.styleVariables_={},this.styles_=[],this.styleRenderers_=[],this.buffers_=[],this.applyOptions_(n),this.batch_=new rQ,this.initialFeaturesAdded_=!1,this.sourceListenKeys_=null}addInitialFeatures_(e){const n=this.getLayer().getSource();let r;this.batch_.addFeatures(n.getFeatures(),r),this.sourceListenKeys_=[Ti(n,Ko.ADDFEATURE,this.handleSourceFeatureAdded_.bind(this,r)),Ti(n,Ko.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Ti(n,Ko.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Ti(n,Ko.CLEAR,this.handleSourceFeatureClear_,this)]}applyOptions_(e){this.styleVariables_=e.variables,this.styles_=uht(e.style)}createRenderers_(){this.buffers_=[],this.styleRenderers_=this.styles_.map(e=>new ldt(e,this.styleVariables_,this.helper,this.hitDetectionEnabled_,"filter"in e?e.filter:null))}reset(e){this.applyOptions_(e),this.helper&&this.createRenderers_(),super.reset(e)}afterHelperCreated(){this.styleRenderers_.length?this.styleRenderers_.forEach((e,n)=>e.setHelper(this.helper,this.buffers_[n])):this.createRenderers_(),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Ppe(this.helper))}handleSourceFeatureAdded_(e,n){const r=n.feature;this.batch_.addFeature(r,e)}handleSourceFeatureChanged_(e){const n=e.feature;this.batch_.changeFeature(n)}handleSourceFeatureDelete_(e){const n=e.feature;this.batch_.removeFeature(n)}handleSourceFeatureClear_(){this.batch_.clear()}applyUniforms_(e){nAe(this.tmpTransform_,this.currentFrameStateTransform_),Rv(this.tmpTransform_,e),this.helper.setUniformMatrixValue(cx.PROJECTION_MATRIX,WO(this.tmpMat4_,this.tmpTransform_)),iw(this.tmpTransform_,this.tmpTransform_),this.helper.setUniformMatrixValue(cx.SCREEN_TO_WORLD_MATRIX,WO(this.tmpMat4_,this.tmpTransform_)),this.tmpCoords_[0]=0,this.tmpCoords_[1]=0,iw(this.tmpTransform_,e),Ja(this.tmpTransform_,this.tmpCoords_),this.helper.setUniformFloatVec2(cx.PATTERN_ORIGIN,this.tmpCoords_)}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=Ope(e,this.getLayer());this.helper.prepareDraw(e),this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const a=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),a}prepareFrameInternal(e){this.initialFeaturesAdded_||(this.addInitialFeatures_(e),this.initialFeaturesAdded_=!0);const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[Xa.ANIMATING]&&!e.viewHints[Xa.INTERACTING],a=!Cp(this.previousExtent_,e.extent),o=this.sourceRevision_<r.getRevision();if(o&&(this.sourceRevision_=r.getRevision()),s&&(a||o)){const l=i.projection,u=i.resolution,h=n instanceof Sw?n.getRenderBuffer():0,d=uc(e.extent,h*u);r.loadFeatures(d,u,l),this.ready=!1;const f=this.helper.makeProjectionTransform(e,bo()),A=this.styleRenderers_.map((m,g)=>m.generateBuffers(this.batch_,f).then(y=>{this.buffers_[g]&&this.disposeBuffers(this.buffers_[g]),this.buffers_[g]=y}));Promise.all(A).then(()=>{this.ready=!0,this.getLayer().changed()}),this.previousExtent_=e.extent.slice()}return!0}renderWorlds(e,n,r,i,s){let a=r;n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0));do{this.helper.makeProjectionTransform(e,this.currentFrameStateTransform_),X5(this.currentFrameStateTransform_,a*s,0);for(let o=0,l=this.styleRenderers_.length;o<l;o++){const u=this.styleRenderers_[o],h=this.buffers_[o];h&&u.render(h,e,()=>{this.applyUniforms_(h.invertVerticesTransform),this.helper.applyHitDetectionUniform(n)})}}while(++a<i)}forEachFeatureAtCoordinate(e,n,r,i,s){if(As(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.styleRenderers_.length||!this.hitDetectionEnabled_)return;const a=Ja(n.coordinateToPixelTransform,e.slice()),o=this.hitRenderTarget_.readPixel(a[0]/2,a[1]/2),l=[o[0]/255,o[1]/255,o[2]/255,o[3]/255],u=Bpe(l),h=this.batch_.getFeatureFromRef(u);if(h)return i(h,this.getLayer(),null)}disposeBuffers(e){const n=r=>{for(const i of r)i&&this.helper.deleteBuffer(i)};e.pointBuffers&&n(e.pointBuffers),e.lineStringBuffers&&n(e.lineStringBuffers),e.polygonBuffers&&n(e.polygonBuffers)}disposeInternal(){this.buffers_.forEach(e=>{e&&this.disposeBuffers(e)}),this.sourceListenKeys_&&(this.sourceListenKeys_.forEach(function(e){ea(e)}),this.sourceListenKeys_=null),super.disposeInternal()}}var gF=class extends Tl{constructor(e){e=e||{};var n=document.createElement("DIV");if(n.classList.add("ol-unselectable","ol-control","ol-bar"),e.className){var r=e.className.split(" ").filter(function(s){return s.length>0});n.classList.add.apply(n.classList,r)}if(e.group&&n.classList.add("ol-group"),super({element:n,target:e.target}),this.set("toggleOne",e.toggleOne),this.set("autoDeactivate",e.autoDeactivate),this.controls_=[],e.controls instanceof Array)for(var i=0;i<e.controls.length;i++)this.addControl(e.controls[i])}setVisible(e){e?this.element.style.display="":this.element.style.display="none"}getVisible(){return this.element.style.display!="none"}setMap(e){super.setMap(e);for(var n=0;n<this.controls_.length;n++){var r=this.controls_[n];r.setMap(e)}}getControls(){return this.controls_}setPosition(e){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),e=e.split("-");for(var n=0;n<e.length;n++)switch(e[n]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+e[n]);break}}addControl(e){this.controls_.push(e),e.setTarget(this.element),this.getMap()&&this.getMap().addControl(e),e._activateBar&&e.un("change:active",e._activateBar),e._activateBar=(function(n){this.onActivateControl_(n,e)}).bind(this),e.on("change:active",e._activateBar),e.getActive&&this.onActivateControl_({target:e,active:e.getActive()},e)}removeControl(e){const n=this.controls_.indexOf(e);n>-1&&(this.controls_.splice(n,1),this.getMap()&&this.getMap().removeControl(e),e._activateBar&&e.un("change:active",e._activateBar),delete e._activateBar)}deactivateControls(e){for(var n=0;n<this.controls_.length;n++)this.controls_[n]!==e&&this.controls_[n].setActive&&this.controls_[n].setActive(!1)}getActiveControls(){for(var e=[],n=0,r;r=this.controls_[n];n++)r.getActive&&r.getActive()&&e.push(r);return e}setActive(e){if(!e&&this.get("autoDeactivate")&&this.deactivateControls(),e)for(var n=this.getControls(),r=0,i;i=n[r];r++)i.get("autoActivate")&&i.setActive(!0)}onActivateControl_(e,n){if(this.get("toggleOne")){if(e.active){var r;for(r=0;r<this.controls_.length&&this.controls_[r]!==n;r++);if(r==this.controls_.length)return;this.deactivateControls(this.controls_[r])}else if(!this.getActiveControls().length){for(var i=0,s;s=this.controls_[i];i++)if(s.get("autoActivate")){s.setActive(!0);break}}}e.type?this.dispatchEvent({type:"control:active",control:n,active:e.active}):this.dispatchEvent({type:"control:add",control:n,active:e.active})}getControlsByName(e){var n=this.getControls();return n.filter(function(r){return r.get("name")===e})}},udt=class extends Vd{constructor(e){e=e||{},super();var n=this.input=e.input;n||(n=this.input=document.createElement("INPUT"),e.type&&n.setAttribute("type",e.type),e.min!==void 0&&n.setAttribute("min",e.min),e.max!==void 0&&n.setAttribute("max",e.max),e.step!==void 0&&n.setAttribute("step",e.step),e.parent&&e.parent.appendChild(n)),e.disabled&&(n.disabled=!0),e.checked!==void 0&&(n.checked=!!e.checked),e.val!==void 0&&(n.value=e.val),e.hidden&&(n.style.display="none"),n.addEventListener("focus",(function(){this.element&&this.element.classList.add("ol-focus")}).bind(this));var r;n.addEventListener("focusout",(function(){this.element&&(r&&clearTimeout(r),r=setTimeout((function(){this.element.classList.remove("ol-focus")}).bind(this),0))}).bind(this))}_listenDrag(e,n){var r=(function(i){this.moving=!0,this.element.classList.add("ol-moving");var s=(function(a){a.type==="pointerup"&&(document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",s),document.removeEventListener("pointercancel",s),setTimeout((function(){this.moving=!1,this.element.classList.remove("ol-moving")}).bind(this))),a.target===e&&n(a),a.stopPropagation(),a.preventDefault()}).bind(this);document.addEventListener("pointermove",s,!1),document.addEventListener("pointerup",s,!1),document.addEventListener("pointercancel",s,!1),i.stopPropagation(),i.preventDefault()}).bind(this);e.addEventListener("mousedown",r,!1),e.addEventListener("touchstart",r,!1)}setValue(e){e!==void 0&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},sQ=class extends udt{constructor(e){e=e||{},super(e);var n=this.element=document.createElement("LABEL");e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html),n.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(n,this.input),n.appendChild(this.input),n.appendChild(document.createElement("SPAN")),e.after&&n.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",(function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}).bind(this))}isChecked(){return this.input.checked}},hdt=class extends sQ{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()}},ddt=class extends sQ{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()}},Ht={};Ht.create=function(t,e){e=e||{};var n;if(t==="TEXT")n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else{n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button");for(var r in e)switch(r){case"className":{e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break}case"text":{n.innerText=e.text;break}case"html":{e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html);break}case"parent":{e.parent&&e.parent.appendChild(n);break}case"options":{if(/select/i.test(t))for(var i in e.options)Ht.create("OPTION",{html:i,value:e.options[i],parent:n});break}case"style":{Ht.setStyle(n,e.style);break}case"change":case"click":{Ht.addListener(n,r,e[r]);break}case"on":{for(var s in e.on)Ht.addListener(n,s,e.on[s]);break}case"checked":{n.checked=!!e.checked;break}default:{n.setAttribute(r,e[r]);break}}}return n};Ht.createSwitch=function(t){var e=Ht.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),n=Object.assign({input:e},t||{});return new hdt(n),e};Ht.createCheck=function(t){var e=Ht.create("INPUT",{name:t.name,type:t.type==="radio"?"radio":"checkbox",on:t.on,parent:t.parent}),n=Object.assign({input:e},t||{});return t.type==="radio"?new ddt(n):new sQ(n),e};Ht.setHTML=function(t,e){e instanceof Element?t.appendChild(e):e!==void 0&&(t.innerHTML=e)};Ht.appendText=function(t,e){t.appendChild(document.createTextNode(e||""))};Ht.addListener=function(t,e,n,r){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(i){t.addEventListener(i,n,r)})};Ht.removeListener=function(t,e,n){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(r){t.removeEventListener(r,n)})};Ht.show=function(t){t.style.display=""};Ht.hide=function(t){t.style.display="none"};Ht.hidden=function(t){return Ht.getStyle(t,"display")==="none"};Ht.toggle=function(t){t.style.display=t.style.display==="none"?"":"none"};Ht.setStyle=function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof e[n]=="number"?t.style[n]=e[n]+"px":t.style[n]=e[n];break}default:t.style[n]=e[n]}};Ht.getStyle=function(t,e){var n,r=(t.ownerDocument||document).defaultView;if(r&&r.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(i,s){return s.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(i){var s=t.style.left,a=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=i||0,i=t.style.pixelLeft+"px",t.style.left=s,t.runtimeStyle.left=a,i}(n);return/px$/.test(n)?parseInt(n):n};Ht.outerHeight=function(t){return t.offsetHeight+Ht.getStyle(t,"marginBottom")};Ht.outerWidth=function(t){return t.offsetWidth+Ht.getStyle(t,"marginLeft")};Ht.offsetRect=function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};Ht.getFixedOffset=function(t){var e={left:0,top:0},n=function(r){if(!r)return e;if(Ht.getStyle(r,"position")==="absolute"&&Ht.getStyle(r,"transform")!=="none"){var i=r.getBoundingClientRect();return e.left+=i.left,e.top+=i.top,e}return n(r.offsetParent)};return n(t.offsetParent)};Ht.positionRect=function(t,e){var n=0,r=0,i=function(s){if(s)return n+=s.offsetLeft,r+=s.offsetTop,i(s.offsetParent);var a={top:t.offsetTop+r,left:t.offsetLeft+n};return e&&(a.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),a.bottom=a.top+t.offsetHeight,a.right=a.top+t.offsetWidth,a};return i(t.offsetParent)};Ht.scrollDiv=function(t,e){e=e||{};var n=!1,r=0,i,s=0,a=typeof e.onmove=="function"?e.onmove:function(){},o=e.vertical?"screenY":"screenX",l=e.vertical?"scrollTop":"scrollLeft",u=!1,h,d,f=0,A=function(){S&&(f++,setTimeout(m))},m=function(){if(S){if(f--,f)return;var E=t.clientHeight,L=t.scrollHeight;h=E/L,S.style.height=h*100+"%",S.style.top=t.scrollTop/L*100+"%",x.style.height=E+"px",E>L-.5?x.classList.add("ol-100pc"):x.classList.remove("ol-100pc")}},g=function(E){E.target.classList.contains("ol-noscroll")||(u=!1,n=E[o],s=new Date,t.classList.add("ol-move"),E.preventDefault(),window.addEventListener("pointermove",y),Ht.addListener(window,["pointerup","pointercancel"],M))},y=function(E){if(n!==!1){var L=(d?-1/h:1)*(n-E[o]);u=u||Math.round(L),t[l]+=L,i=new Date,i-s&&(r=(r+L/(i-s))/2),n=E[o],s=i,L&&a(!0)}else u=!0},_=function(E){var L=E>0?Math.min(100,E/2):Math.max(-100,E/2);E-=L,t[l]+=L,-1<E&&E<1?(u?setTimeout(function(){t.classList.remove("ol-move")}):t.classList.remove("ol-move"),u=!1,a(!1)):setTimeout(function(){_(E)},40)},x,S;if(e.vertical&&e.minibar){var C=function(E){t.removeEventListener("pointermove",C),t.parentNode.classList.add("ol-miniscroll"),S=Ht.create("DIV"),x=Ht.create("DIV",{className:"ol-scroll",html:S}),t.parentNode.insertBefore(x,t),S.addEventListener("pointerdown",function(L){d=!0,g(L)}),e.mousewheel&&(Ht.addListener(x,["mousewheel","DOMMouseScroll","onmousewheel"],function(L){B(L)}),Ht.addListener(S,["mousewheel","DOMMouseScroll","onmousewheel"],function(L){B(L)})),t.parentNode.addEventListener("pointerenter",A),window.addEventListener("resize",A),E!==!1&&A()};t.parentNode?C(!1):t.addEventListener("pointermove",C),t.addEventListener("scroll",function(){A()})}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),Ht.addListener(t,["pointerdown"],function(E){d=!1,g(E)}),t.addEventListener("click",function(E){t.classList.contains("ol-move")&&(E.preventDefault(),E.stopPropagation())},!0);var M=function(E){s=new Date-s,s>100||d?r=0:s>0&&(r=((r||0)+(n-E[o])/s)/2),_(e.animate===!1?0:r*200),n=!1,r=0,s=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout(function(){t.classList.remove("ol-hasClick")},500)),d=!1,window.removeEventListener("pointermove",y),Ht.removeListener(window,["pointerup","pointercancel"],M)},B=function(E){var L=Math.max(-1,Math.min(1,E.wheelDelta||-E.detail));return t.classList.add("ol-move"),t[l]-=L*30,t.classList.remove("ol-move"),!1};return e.mousewheel&&Ht.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],B),{refresh:A}};Ht.dispatchEvent=function(t,e){var n;try{n=new CustomEvent(t)}catch(r){n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)};Ht.setCursor=function(t,e){t instanceof jg&&(t=t.getTargetElement()),!("ontouchstart"in window)&&t instanceof Element&&(t.style.cursor=e)};var Qpe=class extends Tl{constructor(e){e=e||{};var n=document.createElement("div");n.className=(e.className||"")+" ol-button ol-unselectable ol-control",super({element:n,target:e.target});var r=this,i=this.button_=document.createElement(/ol-text-button/.test(e.className)?"div":"button");i.type="button",e.title&&(i.title=e.title),e.name&&(i.name=e.name),e.html instanceof Element?i.appendChild(e.html):i.innerHTML=e.html||"";var s=function(a){a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation()),e.handleClick&&e.handleClick.call(r,a)};i.addEventListener("click",s),n.appendChild(i),!e.title&&i.firstElementChild&&(i.title=i.firstElementChild.title),e.title&&this.set("title",e.title),e.title&&this.set("title",e.title),e.name&&this.set("name",e.name)}setVisible(e){e?Ht.show(this.element):Ht.hide(this.element)}getDisable(){var e=this.element.querySelector("button");return e&&e.disabled}setDisable(e){this.getDisable()!=e&&(this.element.querySelector("button").disabled=e)}setTitle(e){this.button_.setAttribute("title",e)}setHtml(e){Ht.setHTML(this.button_,e)}getButtonElement(){return this.button_}};/*!
  * ol-contextmenu - v5.5.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Wed Aug 07 2024 12:29:18 GMT+0000 (Coordinated Universal Time)
  */var fdt=Object.defineProperty,Adt=(t,e,n)=>e in t?fdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wd=(t,e,n)=>Adt(t,typeof e!="symbol"?e+"":e,n),Wpe={exports:{}};function aQ(){}aQ.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,a=r.length;s<a;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}};Wpe.exports=aQ;var pdt=Wpe.exports.TinyEmitter=aQ,oQ=(t=>(t.CONTEXTMENU="contextmenu",t.CLICK="click",t.DBLCLICK="dblclick",t))(oQ||{}),V0=(t=>(t.BEFOREOPEN="beforeopen",t.OPEN="open",t.CLOSE="close",t.ADD_MENU_ENTRY="add-menu-entry",t))(V0||{});let Dee=class extends Ug{constructor(e){super(e.type,e.map,e.originalEvent)}};const gdt={width:150,scrollAt:4,eventType:oQ.CONTEXTMENU,defaultItems:!0,items:[]},k_="ol-ctx-menu",mu={container:"".concat(k_,"-container"),separator:"".concat(k_,"-separator"),submenu:"".concat(k_,"-submenu"),hidden:"".concat(k_,"-hidden"),icon:"".concat(k_,"-icon"),zoomIn:"".concat(k_,"-zoom-in"),zoomOut:"".concat(k_,"-zoom-out"),unselectable:"ol-unselectable"},kee=[{text:"Zoom In",classname:"".concat(mu.zoomIn," ").concat(mu.icon),callback:(t,e)=>{const n=e.getView();n.animate({zoom:Number(n.getZoom())+1,duration:700,center:t.coordinate})}},{text:"Zoom Out",classname:"".concat(mu.zoomOut," ").concat(mu.icon),callback:(t,e)=>{const n=e.getView();n.animate({zoom:Number(n.getZoom())-1,duration:700,center:t.coordinate})}}];function nN(t){const e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.append(n.firstChild);return e}function mdt(t){var l,u;const e=document.importNode(t),n=t.offsetWidth;e.style.cssText="position: fixed; top: 0; left: 0; overflow: auto; visibility: hidden; pointer-events: none; height: unset; max-height: unset; width: ".concat(n,"px");const r=nN("<span>Foo</span>"),i=nN("<span>Foo</span>"),s=document.createElement("li"),a=document.createElement("li");s.append(r),a.append(i),e.append(s),e.append(a),(l=t.parentNode)==null||l.append(e);const o=e.offsetHeight/2;return(u=t.parentNode)==null||u.removeChild(e),o}function Uee({parentNode:t,item:e,isSubmenu:n=!1,isInsideSubmenu:r=!1,emitter:i}){const s="_".concat(Math.random().toString(36).slice(2,11));if(typeof e!="string"&&"text"in e){const h="<span>".concat(e.text,"</span>"),d=nN(h),f=document.createElement("li");e.classname=e.classname||"",e.icon&&(e.classname===""?e.classname=mu.icon:e.classname.includes(mu.icon)===!1&&(e.classname+=" ".concat(mu.icon)),f.setAttribute("style","background-image:url(".concat(e.icon,")"))),f.id=s,f.className=e.classname,f.append(d),t.append(f);const A={id:s,isSubmenu:n,isInsideSubmenu:r,isSeparator:!1,callback:"callback"in e?e.callback:null,data:"data"in e?e.data:null};return i.emit(V0.ADD_MENU_ENTRY,A,f),f}const a='<li id="'.concat(s,'" class="').concat(mu.separator,'"><hr></li>'),o=nN(a);t.append(o);const l=t.lastChild,u={id:s,isSubmenu:!1,isInsideSubmenu:!1,isSeparator:!0,callback:null,data:null};return i.emit(V0.ADD_MENU_ENTRY,u,l),l}function MG({container:t,items:e,menuWidth:n,isInsideSubmenu:r,emitter:i}){e.forEach(s=>{if(typeof s!="string"&&"items"in s&&Array.isArray(s.items)){const a=Uee({parentNode:t,item:s,isSubmenu:!0,emitter:i});a.classList.add(mu.submenu);const o=document.createElement("ul");o.classList.add(mu.container),o.style.width="".concat(n,"px"),a.append(o),MG({emitter:i,menuWidth:n,container:o,items:s.items,isInsideSubmenu:!0})}else Uee({parentNode:t,item:s,isSubmenu:!1,isInsideSubmenu:r,emitter:i})})}function A3(t,e){if(!t)throw new Error(e)}let vdt=class extends Tl{constructor(e={}){A3(typeof e=="object","@param `opts` should be object type!");const n=document.createElement("div");super({element:n}),wd(this,"map"),wd(this,"emitter",new pdt),wd(this,"container"),wd(this,"coordinate",[]),wd(this,"pixel",[]),wd(this,"contextMenuEventListener"),wd(this,"entryCallbackEventListener"),wd(this,"mapMoveListener"),wd(this,"lineHeight",0),wd(this,"disabled"),wd(this,"opened"),wd(this,"items",[]),wd(this,"menuEntries",new Map),wd(this,"options"),this.options={...gdt,...e};const r=document.createElement("ul");n.append(r),n.style.width="".concat(this.options.width,"px"),n.classList.add(mu.container,mu.unselectable,mu.hidden),this.container=n,this.contextMenuEventListener=i=>{this.handleContextMenu(i)},this.entryCallbackEventListener=i=>{this.handleEntryCallback(i)},this.mapMoveListener=()=>{this.handleMapMove()},this.disabled=!1,this.opened=!1,window.addEventListener("beforeunload",()=>{this.removeListeners()},{once:!0})}clear(){for(const e of this.menuEntries.keys())this.removeMenuEntry(e);this.container.replaceChildren(),this.container.append(document.createElement("ul"))}enable(){this.disabled=!1}disable(){this.disabled=!0}getDefaultItems(){return kee}countItems(){return this.menuEntries.size}extend(e){A3(Array.isArray(e),"@param `items` should be an Array."),MG({items:e,emitter:this.emitter,menuWidth:this.options.width,container:this.container.firstElementChild})}closeMenu(){this.opened=!1,this.container.classList.add(mu.hidden),this.dispatchEvent(V0.CLOSE)}isOpen(){return this.opened}updatePosition(e){A3(Array.isArray(e),"@param `pixel` should be an Array."),this.isOpen()&&(this.pixel=e,this.positionContainer())}pop(){const e=Array.from(this.menuEntries.keys()).pop();e&&this.removeMenuEntry(e)}shift(){const e=Array.from(this.menuEntries.keys()).shift();e&&this.removeMenuEntry(e)}push(e){e&&this.extend([e])}setMap(e){if(super.setMap(e),e){this.map=e,e.getViewport().addEventListener(this.options.eventType,this.contextMenuEventListener,!1),e.on("movestart",()=>{this.handleMapMove()}),this.emitter.on(V0.ADD_MENU_ENTRY,(r,i)=>{this.handleAddMenuEntry(r,i)},this),this.items=this.options.defaultItems?this.options.items.concat(kee):this.options.items,MG({items:this.items,emitter:this.emitter,menuWidth:this.options.width,container:this.container.firstElementChild});const n=this.getMenuEntriesLength();this.lineHeight=n>0?this.container.offsetHeight/n:mdt(this.container)}else this.removeListeners(),this.clear()}removeListeners(){this.map.getViewport().removeEventListener(this.options.eventType,this.contextMenuEventListener,!1),this.emitter.off(V0.ADD_MENU_ENTRY)}removeMenuEntry(e){let n=document.getElementById(e);n==null||n.remove(),n=null,this.menuEntries.delete(e)}handleContextMenu(e){var n;this.coordinate=this.map.getEventCoordinate(e),this.pixel=this.map.getEventPixel(e),this.dispatchEvent(new Dee({map:this.map,originalEvent:e,type:V0.BEFOREOPEN})),!this.disabled&&(this.options.eventType===oQ.CONTEXTMENU&&(e.stopPropagation(),e.preventDefault()),setTimeout(()=>{this.openMenu(e)}),(n=e.target)==null||n.addEventListener("pointerdown",r=>{this.opened&&(r.stopPropagation(),this.closeMenu())},{once:!0}))}openMenu(e){this.opened=!0,this.positionContainer(),this.container.classList.remove(mu.hidden),this.dispatchEvent(new Dee({map:this.map,originalEvent:e,type:V0.OPEN}))}getMenuEntriesLength(){return Array.from(this.menuEntries).filter(([,e])=>e.isSeparator===!1&&e.isSubmenu===!1&&e.isInsideSubmenu===!1).length}positionContainer(){const e=this.map.getSize()||[0,0],n={w:e[0]-this.pixel[0],h:e[1]-this.pixel[1]},r=this.getMenuEntriesLength(),i={w:this.container.offsetWidth,h:Math.round(this.lineHeight*r)},s=n.w>=i.w?this.pixel[0]+5:this.pixel[0]-i.w;this.container.style.left="".concat(s,"px"),this.container.style.top=n.h>=i.h?"".concat(this.pixel[1]-10,"px"):"".concat(this.pixel[1]-i.h,"px"),this.container.style.right="auto",this.container.style.bottom="auto",n.w-=i.w;const a=u=>Array.from(u.children).filter(h=>h.tagName==="LI"&&h.classList.contains(mu.submenu));let o=0;const l=(u,h)=>{o+=1,a(u).forEach(d=>{const f=h>=i.w?i.w-8:(i.w+8)*-1,A=d.querySelector("ul.".concat(mu.container)),m=Math.round(this.lineHeight*Array.from(A.children).filter(g=>g.tagName==="LI").length);A.style.left="".concat(f,"px"),A.style.right="auto",A.style.top=n.h>=m+i.h?"0":"-".concat(A.offsetHeight-25,"px"),A.style.bottom="auto",A.style.zIndex=String(o),a(A).length>0&&l(A,h-i.w)})};l(this.container.firstElementChild,n.w)}handleMapMove(){this.closeMenu()}handleEntryCallback(e){var s;e.preventDefault(),e.stopPropagation();const n=e.currentTarget,r=this.menuEntries.get(n.id);if(!r)return;const i={data:r.data,coordinate:this.coordinate};this.closeMenu(),(s=r.callback)==null||s.call(r,i,this.map)}handleAddMenuEntry(e,n){this.menuEntries.set(e.id,e),this.positionContainer(),"callback"in e&&typeof e.callback=="function"&&n.addEventListener("click",this.entryCallbackEventListener,!1)}};const Hee=["fullscreenchange","webkitfullscreenchange"],Gee={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class ydt extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.on,this.once,this.un,this.keys_=e.keys!==void 0?e.keys:!1,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=e.className!==void 0?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=e.activeClassName!==void 0?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=e.inactiveClassName!==void 0?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const n=e.label!==void 0?e.label:"";this.labelNode_=typeof n=="string"?document.createTextNode(n):n;const r=e.labelActive!==void 0?e.labelActive:"";this.labelActiveNode_=typeof r=="string"?document.createTextNode(r):r;const i=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=i,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Yr.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className="".concat(this.cssClassName_," ").concat(dm," ").concat(bw),this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const n=e.getOwnerDocument();if(Vee(n))if(zee(n))wdt(n);else{let r;this.source_?r=typeof this.source_=="string"?n.getElementById(this.source_):this.source_:r=e.getTargetElement(),this.keys_?_dt(r):jpe(r)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const n=this.isInFullscreen_;this.isInFullscreen_=zee(e.getOwnerDocument()),n!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(_S(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Gee.ENTERFULLSCREEN)):(_S(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Gee.LEAVEFULLSCREEN)),e.updateSize())}setClassName_(e,n){n?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const n=this.getMap();n&&n.removeChangeListener(Il.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(Il.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let r=0,i=e.length;r<i;++r)ea(e[r]);e.length=0;const n=this.getMap();if(n){const r=n.getOwnerDocument();Vee(r)?this.element.classList.remove(UJ):this.element.classList.add(UJ);for(let i=0,s=Hee.length;i<s;++i)e.push(Ti(r,Hee[i],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function Vee(t){const e=t.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&t.fullscreenEnabled)}function zee(t){return!!(t.webkitIsFullScreen||t.fullscreenElement)}function jpe(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function _dt(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():jpe(t)}function wdt(t){t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}var lQ=class extends Tl{constructor(e){e=e||{};var n=Ht.create("DIV",{className:e.switcherClass||"ol-layerswitcher"});super({element:n,target:e.target});var r=this;this.dcount=0,this.show_progress=e.show_progress,this.oninfo=typeof e.oninfo=="function"?e.oninfo:null,this.onextent=typeof e.onextent=="function"?e.onextent:null,this.hasextent=e.extent||e.onextent,this.hastrash=e.trash,this.reordering=e.reordering!==!1,this._layers=[],this._layerGroup=e.layerGroup&&e.layerGroup.getLayers?e.layerGroup:null,this.onchangeCheck=typeof e.onchangeCheck=="function"?e.onchangeCheck:null,typeof e.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=e.displayInLayerSwitcher),e.target||(n.classList.add("ol-unselectable"),n.classList.add("ol-control"),n.classList.add(e.collapsed!==!1?"ol-collapsed":"ol-forceopen"),this.button=Ht.create("BUTTON",{type:"button",parent:n}),this.button.addEventListener("touchstart",function(i){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:n.classList.contains("ol-collapsed")}),i.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!n.classList.contains("ol-forceopen")}),r.overflow()}),e.mouseover&&(n.addEventListener("mouseleave",function(){n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),n.addEventListener("mouseover",function(){n.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),e.minibar&&(e.noScroll=!0),e.noScroll||(this.topv=Ht.create("DIV",{className:"ol-switchertopdiv",parent:n,click:function(){r.overflow("+50%")}}),this.botv=Ht.create("DIV",{className:"ol-switcherbottomdiv",parent:n,click:function(){r.overflow("-50%")}})),this._noScroll=e.noScroll),this.panel_=Ht.create("UL",{className:"panel"}),this.panelContainer_=Ht.create("DIV",{className:"panel-container",html:this.panel_,parent:n}),!e.target&&!e.noScroll&&Ht.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(i){r.overflow(Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)))&&(i.stopPropagation(),i.preventDefault())}),this.header_=Ht.create("LI",{className:"ol-header",parent:this.panel_}),this.set("drawDelay",e.drawDelay||0),this.set("selection",e.selection),e.minibar&&setTimeout((function(){var i=Ht.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){i.refresh()})}).bind(this))}displayInLayerSwitcher(e){return e.get("displayInLayerSwitcher")!==!1}setMap(e){if(super.setMap(e),this.drawPanel(),this._listener)for(var n in this._listener)Tf(this._listener[n]);this._listener=null,e&&(this._listener={moveend:e.on("moveend",this.viewChange.bind(this)),size:e.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=e.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))}show(){this.element.classList.add("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!1})}hide(){this.element.classList.remove("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!0})}toggle(){this.element.classList.toggle("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!this.isOpen()})}isOpen(){return this.element.classList.contains("ol-forceopen")}setHeader(e){Ht.setHTML(this.header_,e)}overflow(e){if(this.button&&!this._noScroll){if(Ht.hidden(this.panel_)){Ht.setStyle(this.element,{height:"auto"});return}var n=Ht.outerHeight(this.element),r=Ht.outerHeight(this.panel_),i=this.button.offsetTop+Ht.outerHeight(this.button),s=this.panel_.offsetTop-i;if(r>n-i){Ht.setStyle(this.element,{height:"100%"});var a=this.panel_.querySelectorAll("li.ol-visible .li-content")[0],o=a?2*Ht.getStyle(a,"height"):0;switch(e){case 1:s+=o;break;case-1:s-=o;break;case"+50%":s+=Math.round(n/2);break;case"-50%":s-=Math.round(n/2);break}return s+r<=n-3*i/2?(s=n-3*i/2-r,Ht.hide(this.botv)):Ht.show(this.botv),s>=0?(s=0,Ht.hide(this.topv)):Ht.show(this.topv),Ht.setStyle(this.panel_,{top:s+"px"}),!0}else return Ht.setStyle(this.element,{height:"auto"}),Ht.setStyle(this.panel_,{top:0}),Ht.hide(this.botv),Ht.hide(this.topv),!1}else return!1}_setLayerForLI(e,n){var r=[];n.getLayers&&r.push(n.getLayers().on("change:length",this.drawPanel.bind(this))),e&&(r.push(n.on("change:opacity",(function(){this.setLayerOpacity(n,e)}).bind(this))),r.push(n.on("change:visible",(function(){this.setLayerVisibility(n,e)}).bind(this)))),r.push(n.on("propertychange",(function(i){(i.key==="displayInLayerSwitcher"||i.key==="openInLayerSwitcher"||i.key==="title"||i.key==="name")&&this.drawPanel(i)}).bind(this))),this._layers.push({li:e,layer:n,listeners:r})}setLayerOpacity(e,n){var r=n.querySelector(".layerswitcher-opacity-cursor");r&&(r.style.left=e.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:e})}setLayerVisibility(e,n){var r=n.querySelector(".ol-visibility");r&&(r.checked=e.getVisible()),e.getVisible()?n.classList.add("ol-visible"):n.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:e})}_clearLayerForLI(){this._layers.forEach(function(e){e.listeners.forEach(function(n){Tf(n)})}),this._layers=[]}_getLayerForLI(e){for(var n=0,r;r=this._layers[n];n++)if(r.li===e)return r.layer;return null}viewChange(){this.panel_.querySelectorAll("li").forEach((function(e){var n=this._getLayerForLI(e);n&&(this.testLayerVisibility(n)?e.classList.remove("ol-layer-hidden"):e.classList.add("ol-layer-hidden"))}).bind(this))}getPanel(){return this.panelContainer_}drawPanel(){if(this.getMap()){var e=this;this.dcount++,setTimeout(function(){e.drawPanel_()},this.get("drawDelay")||0)}}drawPanel_(){if(!(--this.dcount||this.dragging_)){var e=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach((function(n){n.classList.contains("ol-header")||n.remove()}).bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=e}}switchLayerVisibility(e,n){e.get("baseLayer")?(e.getVisible()||e.setVisible(!0),n.forEach(function(r){e!==r&&r.get("baseLayer")&&r.getVisible()&&r.setVisible(!1)})):e.setVisible(!e.getVisible())}testLayerVisibility(e){if(!this.getMap())return!0;var n=this.getMap().getView().getResolution(),r=this.getMap().getView().getZoom();if(e.getMaxResolution()<=n||e.getMinResolution()>=n)return!1;if(e.getMinZoom&&(e.getMinZoom()>=r||e.getMaxZoom()<r))return!1;var i=e.getExtent();if(i){var s=this.getMap().getView().calculateExtent(this.getMap().getSize());return wo(s,i)}return!0}dragOrdering_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.currentTarget.parentNode.parentNode,i=!0,s=this.panel_,a,o=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,l,u,h,d;r.parentNode.classList.add("drag");function f(){if(l){var m=h,g=n.getSelection()===m;if(m&&l){var y;d?y=d.getLayers():y=n._layerGroup?n._layerGroup.getLayers():n.getMap().getLayers();for(var _=y.getArray(),x=0;x<_.length;x++)if(_[x]==m){y.removeAt(x);break}for(var S=0;S<_.length;S++)if(_[S]===l){x>S?y.insertAt(S,m):y.insertAt(S+1,m);break}}g&&n.selectLayer(m),n.dispatchEvent({type:"reorder-end",layer:m,group:d})}r.parentNode.querySelectorAll("li").forEach(function(C){C.classList.remove("dropover"),C.classList.remove("dropover-after"),C.classList.remove("dropover-before")}),r.classList.remove("drag"),r.parentNode.classList.remove("drag"),n.element.classList.remove("drag"),u&&u.remove(),Ht.removeListener(document,"mousemove touchmove",A),Ht.removeListener(document,"mouseup touchend touchcancel",f)}function A(m){if(a=m.pageY||m.touches&&m.touches.length&&m.touches[0].pageY||m.changedTouches&&m.changedTouches.length&&m.changedTouches[0].pageY,i&&Math.abs(o-a)>2&&(i=!1,r.classList.add("drag"),h=n._getLayerForLI(r),l=!1,d=n._getLayerForLI(r.parentNode.parentNode),u=Ht.create("LI",{className:"ol-dragover",html:r.innerHTML,style:{position:"absolute","z-index":1e4,left:r.offsetLeft,opacity:.5,width:Ht.outerWidth(r),height:Ht.getStyle(r,"height")},parent:s}),n.element.classList.add("drag"),n.dispatchEvent({type:"reorder-start",layer:h,group:d})),!i){m.preventDefault(),m.stopPropagation(),Ht.setStyle(u,{top:a-Ht.offsetRect(s).top+s.scrollTop+5});var g;if(!m.touches)g=m.target,m.target.shadowRoot&&(g=m.composedPath()[0]);else for(g=document.elementFromPoint(m.touches[0].clientX,m.touches[0].clientY);g.shadowRoot;)g=g.shadowRoot.elementFromPoint(m.touches[0].clientX,m.touches[0].clientY);for(g.classList.contains("ol-switcherbottomdiv")?n.overflow(-1):g.classList.contains("ol-switchertopdiv")&&n.overflow(1);g&&g.tagName!=="LI";)g=g.parentNode;(!g||!g.classList.contains("dropover"))&&r.parentNode.querySelectorAll("li").forEach(function(y){y.classList.remove("dropover"),y.classList.remove("dropover-after"),y.classList.remove("dropover-before")}),g&&g.parentNode.classList.contains("drag")&&g!==r?(l=n._getLayerForLI(g),l&&!l.get("allwaysOnTop")==!h.get("allwaysOnTop")?(g.classList.add("dropover"),g.classList.add(r.offsetTop<g.offsetTop?"dropover-after":"dropover-before")):l=!1,Ht.show(u)):(l=!1,g===r?Ht.hide(u):Ht.show(u)),l?u.classList.remove("forbidden"):u.classList.add("forbidden")}}Ht.addListener(document,"mousemove touchmove",A),Ht.addListener(document,"mouseup touchend touchcancel",f)}dragOpacity_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.target,i=this._getLayerForLI(r.parentNode.parentNode.parentNode);if(!i)return;var s=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,a=Ht.getStyle(r,"left")-s;n.dragging_=!0;function o(){Ht.removeListener(document,"mouseup touchend touchcancel",o),Ht.removeListener(document,"mousemove touchmove",l),n.dragging_=!1}function l(u){var h=u.pageX||u.touches&&u.touches.length&&u.touches[0].pageX||u.changedTouches&&u.changedTouches.length&&u.changedTouches[0].pageX,d=(a+h)/Ht.getStyle(r.parentNode,"width"),f=Math.max(0,Math.min(1,d));Ht.setStyle(r,{left:f*100+"%"}),r.parentNode.nextElementSibling.innerHTML=Math.round(f*100),i.setOpacity(f)}Ht.addListener(document,"mouseup touchend touchcancel",o),Ht.addListener(document,"mousemove touchmove",l)}drawList(e,n){var r=this,i=n.getArray(),s=function(d){d.stopPropagation(),d.preventDefault();var f=r._getLayerForLI(this.parentNode.parentNode);r.switchLayerVisibility(f,n),r.get("selection")&&f.getVisible()&&r.selectLayer(f),r.onchangeCheck&&r.onchangeCheck(f)};function a(d){d.stopPropagation(),d.preventDefault();var f=r._getLayerForLI(this.parentNode.parentNode);r.oninfo(f),r.dispatchEvent({type:"info",layer:f})}function o(d){d.stopPropagation(),d.preventDefault();var f=r._getLayerForLI(this.parentNode.parentNode);r.onextent?r.onextent(f):r.getMap().getView().fit(f.getExtent(),r.getMap().getSize()),r.dispatchEvent({type:"extent",layer:f})}function l(d){d.stopPropagation(),d.preventDefault();var f=this.parentNode.parentNode.parentNode.parentNode,A,m=r._getLayerForLI(f);m?(A=r._getLayerForLI(this.parentNode.parentNode),m.getLayers().remove(A),m.getLayers().getLength()==0&&!m.get("noSwitcherDelete")&&l.call(f.querySelectorAll(".layerTrash")[0],d)):(f=this.parentNode.parentNode,r.getMap().removeLayer(r._getLayerForLI(f)))}function u(d){if(!this.displayInLayerSwitcher(d)){this._setLayerForLI(null,d);return}var f=Ht.create("LI",{className:(d.getVisible()?"ol-visible ":" ")+(d.get("baseLayer")?"baselayer":""),parent:e});this._setLayerForLI(f,d),this._selectedLayer===d&&f.classList.add("ol-layer-select");var A=Ht.create("DIV",{className:"ol-layerswitcher-buttons",parent:f}),m=Ht.create("DIV",{className:"li-content",parent:f}),g=Ht.create("INPUT",{type:d.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:d.getVisible(),click:function(B){s.bind(this)(B),setTimeout(function(){B.target.checked=d.getVisible()})},on:{keydown:(function(B){switch(B.key){case"ArrowLeft":case"ArrowRight":{B.preventDefault(),B.stopPropagation();var E=B.key==="ArrowLeft"?-.1:.1,L=Math.min(1,Math.max(0,d.getOpacity()+E));d.setOpacity(L);break}case"Enter":{r.get("selection")&&(B.preventDefault(),B.stopPropagation(),r.selectLayer(d));break}case"-":case"+":d.getLayers&&(this._focus=d,d.set("openInLayerSwitcher",!d.get("openInLayerSwitcher")));case"ArrowUp":case"ArrowDown":{if(B.ctrlKey&&this.reordering){B.preventDefault(),B.stopPropagation();var I=n.getArray().indexOf(d);I>-1&&(B.key==="ArrowDown"?I>0&&(n.remove(d),n.insertAt(I-1,d),r._focus=d,r.dispatchEvent({type:"reorder-end",layer:d})):I<n.getLength()-1&&(n.remove(d),n.insertAt(I+1,d),r._focus=d,r.dispatchEvent({type:"reorder-end",layer:d})))}break}default:{var k=this._getLayerForLI(e.parentNode);this.dispatchEvent({type:"layer:keydown",key:B.key,group:k,li:f,layer:d,originalEvent:B})}}}).bind(this)},parent:m});d===r._focus&&(g.focus(),r.overflow());var y=Ht.create("LABEL",{title:d.get("title")||d.get("name"),click:s,style:{userSelect:"none"},parent:m});if(y.addEventListener("selectstart",function(){return!1}),Ht.create("SPAN",{html:d.get("title")||d.get("name"),click:(function(B){this.get("selection")&&(B.stopPropagation(),this.selectLayer(d))}).bind(this),parent:y}),this.reordering&&(h<i.length-1&&(d.get("allwaysOnTop")||!i[h+1].get("allwaysOnTop"))||h>0&&(!d.get("allwaysOnTop")||i[h-1].get("allwaysOnTop")))&&Ht.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(B){r.dragOrdering_(B)}},parent:A}),d.getLayers){var _=0;d.getLayers().forEach(function(B){r.displayInLayerSwitcher(B)&&_++}),_&&Ht.create("DIV",{className:d.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var B=r._getLayerForLI(this.parentNode.parentNode);B.set("openInLayerSwitcher",!B.get("openInLayerSwitcher"))},parent:A})}if(this.oninfo&&Ht.create("DIV",{className:"layerInfo",title:this.tip.info,click:a,parent:A}),this.hastrash&&!d.get("noSwitcherDelete")&&Ht.create("DIV",{className:"layerTrash",title:this.tip.trash,click:l,parent:A}),this.hasextent&&i[h].getExtent()){var x=i[h].getExtent();x.length==4&&x[0]<x[2]&&x[1]<x[3]&&Ht.create("DIV",{className:"layerExtent",title:this.tip.extent,click:o,parent:A})}if(this.show_progress&&d instanceof bG){var S=Ht.create("DIV",{className:"layerswitcher-progress",parent:m});this.setprogress_(d),d.layerswitcher_progress=Ht.create("DIV",{parent:S})}var C=Ht.create("DIV",{className:"layerswitcher-opacity",click:function(B){if(B.target===this){B.stopPropagation(),B.preventDefault();var E=Math.max(0,Math.min(1,B.offsetX/Ht.getStyle(this,"width")));r._getLayerForLI(this.parentNode.parentNode).setOpacity(E),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(E*100)}},parent:m});if(Ht.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:d.getOpacity()*100+"%"},on:{"mousedown touchstart":function(B){r.dragOpacity_(B)}},parent:C}),Ht.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(d.getOpacity()*100),parent:m}),d.getLayers&&(f.classList.add("ol-layer-group"),d.get("openInLayerSwitcher")===!0)){var M=Ht.create("UL",{parent:f});this.drawList(M,d.getLayers())}f.classList.add(this.getLayerClass(d)),this.dispatchEvent({type:"drawlist",layer:d,li:f})}for(var h=i.length-1;h>=0;h--)u.call(this,i[h]);this.viewChange(),e===this.panel_&&(this.overflow(""),this._focus=null)}getLayerClass(e){return e?e.getLayers?"ol-layer-group":e instanceof fm?"ol-layer-vector":e instanceof Vpe?"ol-layer-vectortile":e instanceof bG?"ol-layer-tile":e instanceof Ape?"ol-layer-image":e instanceof Gpe?"ol-layer-heatmap":e.getFeatures?"ol-layer-vectorimage":"unknown":"none"}selectLayer(e,n){if(!e){if(!this.getMap())return;e=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=e,this.element.querySelector("input.ol-visibility:focus")&&(this._focus=e),this.drawPanel(),n||this.dispatchEvent({type:"select",layer:e})}getSelection(){return this._selectedLayer}setprogress_(e){if(!e.layerswitcher_progress){var n=0,r=0,i=function(){r===n?(r=n=0,Ht.setStyle(e.layerswitcher_progress,{width:0})):Ht.setStyle(e.layerswitcher_progress,{width:(n/r*100).toFixed(1)+"%"})};e.getSource().on("tileloadstart",function(){r++,i()}),e.getSource().on("tileloadend",function(){n++,i()}),e.getSource().on("tileloaderror",function(){n++,i()})}}};lQ.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"};hD.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"};dD.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileGrid().getTileCoordForCoordAndResolution(t,e),r=this.getTileUrlFunction();return r.call(this,n,this.getProjection())};mpe.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileUrlFunction();if(n){var r=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=r.getTileCoordForCoordAndResolution(t,e);return n.call(this,i,1,this.getProjection())}var s=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{});return s=s.replace(/getfeatureinfo/i,"GetMap"),s};xw.prototype.getPreview=function(t,e,n){if(this.get("preview"))return[this.get("preview")];if(e||(e=150),e<this.getMinResolution()||e>this.getMaxResolution()){var r=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),r<.15&&(r=.15),e=i;i>r;)r*=2,i/=2,e=r}var s=this.getExtent();if(t||(t=[21020,6355964]),s&&!Sp(s,t)&&(t=[(s[0]+s[2])/2,(s[1]+s[3])/2]),n&&(t=Tp(t,n,this.getSource().getProjection())),this.getSource&&this.getSource())try{return[this.getSource().getPreview(t,e)]}catch(a){}return[]};Hy.prototype.getPreview=function(t,e){if(this.get("preview"))return[this.get("preview")];var n=[];if(this.getLayers)for(var r=this.getLayers().getArray(),i=0;i<r.length;i++)n=n.concat(r[i].getPreview(t,e));return n};var bdt=class extends lQ{constructor(e){e=e||{},e.switcherClass=((e.switcherClass||"")+" ol-layerswitcher-image").trim(),e.mouseover=e.mouseover!==!1,super(e)}drawList(e,n){var r=this,i=function(s){s.preventDefault();var a=r._getLayerForLI(this);r.switchLayerVisibility(a,n),s.type=="touchstart"&&r.element.classList.add("ol-collapsed")};Ht.setStyle(e,{height:"auto"}),n.forEach(function(s){if(r.displayInLayerSwitcher(s)){var a=s.getPreview?s.getPreview():["none"],o=Ht.create("LI",{className:"ol-imgcontainer"+(s.getVisible()?" ol-visible":""),on:{"touchstart click":i},parent:e});r._setLayerForLI(o,s),a.forEach(function(l){Ht.create("IMG",{src:l,parent:o})}),Ht.create("p",{html:s.get("title")||s.get("name"),parent:o}),r.testLayerVisibility(s)&&o.classList.add("ol-layer-hidden")}})}overflow(){}};const p3="projection",$ee="coordinateFormat";class xdt extends Tl{constructor(e){e=e||{};const n=document.createElement("div");n.className=e.className!==void 0?e.className:"ol-mouse-position",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(p3,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=e.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=e.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get($ee)}getProjection(){return this.get(p3)}handleMouseMove(e){const n=this.getMap();this.updateHTML_(n.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const n=e.getViewport();this.listenerKeys.push(Ti(n,$g.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Ti(n,$g.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set($ee,e)}setProjection(e){this.set(p3,gi(e))}updateHTML_(e){let n=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const s=this.getProjection();s?this.transform_=Uy(this.mapProjection_,s):this.transform_=tAe}const i=this.getMap().getCoordinateFromPixelInternal(e);if(i){if(this.transform_(i,i),this.wrapX_){const a=this.getProjection()||this.mapProjection_;W5(i,a)}const s=this.getCoordinateFormat();s?n=s(i):n=i.toString()}}(!this.renderedHTML_||n!==this.renderedHTML_)&&(this.element.innerHTML=n,this.renderedHTML_=n)}render(e){const n=e.frameState;n?this.mapProjection_!=n.viewState.projection&&(this.mapProjection_=n.viewState.projection,this.transform_=null):this.mapProjection_=null}}const g3=.75,_I=.1;class Edt extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=e.rotateWithView!==void 0?e.rotateWithView:!1,this.viewExtent_=void 0;const n=e.className!==void 0?e.className:"ol-overviewmap",r=e.tipLabel!==void 0?e.tipLabel:"Overview map",i=e.collapseLabel!==void 0?e.collapseLabel:"";typeof i=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;const s=e.label!==void 0?e.label:"";typeof s=="string"?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,o=document.createElement("button");o.setAttribute("type","button"),o.title=r,o.appendChild(a),o.addEventListener(Yr.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const l=new jg({view:e.view,controls:new Ec,interactions:new Ec});this.ovmap_=l,e.layers&&e.layers.forEach(function(_){l.addLayer(_)});const u=document.createElement("div");u.className="ol-overviewmap-box",u.style.boxSizing="border-box",this.boxOverlay_=new QAe({position:[0,0],positioning:"center-center",element:u}),this.ovmap_.addOverlay(this.boxOverlay_);const h=n+" "+dm+" "+bw+(this.collapsed_&&this.collapsible_?" "+OO:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=h,d.appendChild(this.ovmapDiv_),d.appendChild(o);const f=this.boxOverlay_,A=this.boxOverlay_.getElement(),m=_=>({clientX:_.clientX,clientY:_.clientY}),g=function(_){const x=m(_),S=l.getEventCoordinate(x);f.setPosition(S)},y=_=>{const x=l.getEventCoordinateInternal(_),S=this.getMap();S.getView().setCenterInternal(x);const C=S.getOwnerDocument();C.removeEventListener("pointermove",g),C.removeEventListener("pointerup",y)};this.ovmapDiv_.addEventListener("pointerdown",_=>{const x=this.getMap().getOwnerDocument();_.target===A&&x.addEventListener("pointermove",g),x.addEventListener("pointerup",y)})}setMap(e){const n=this.getMap();if(e!==n){if(n){const r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Ti(e,tw.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const r=e.getView();r&&this.bindView_(r),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===Il.VIEW){const n=e.oldValue;n&&this.unbindView_(n);const r=this.getMap().getView();this.bindView_(r)}else!this.ovmap_.isRendered()&&(e.key===Il.TARGET||e.key===Il.SIZE)&&this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const n=new iA({projection:e.getProjection()});this.ovmap_.setView(n)}e.addChangeListener(hf.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_(),e.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())}unbindView_(e){e.removeChangeListener(hf.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),n=this.ovmap_;if(!e.isRendered()||!n.isRendered())return;const r=e.getSize(),s=e.getView().calculateExtentInternal(r);if(this.viewExtent_&&Cp(s,this.viewExtent_))return;this.viewExtent_=s;const a=n.getSize(),l=n.getView().calculateExtentInternal(a),u=n.getPixelFromCoordinateInternal(Rf(s)),h=n.getPixelFromCoordinateInternal(tC(s)),d=Math.abs(u[0]-h[0]),f=Math.abs(u[1]-h[1]),A=a[0],m=a[1];d<A*_I||f<m*_I||d>A*g3||f>m*g3?this.resetExtent_():_f(l,s)||this.recenter_()}resetExtent_(){const e=this.getMap(),n=this.ovmap_,r=e.getSize(),s=e.getView().calculateExtentInternal(r),a=n.getView(),o=Math.log(g3/_I)/Math.LN2,l=1/(Math.pow(2,o/2)*_I);W7(s,l),a.fitInternal(q0(s))}recenter_(){const e=this.getMap(),n=this.ovmap_,r=e.getView();n.getView().setCenterInternal(r.getCenterInternal())}updateBox_(){const e=this.getMap(),n=this.ovmap_;if(!e.isRendered()||!n.isRendered())return;const r=e.getSize(),i=e.getView(),s=n.getView(),a=this.rotateWithView_?0:-i.getRotation(),o=this.boxOverlay_,l=this.boxOverlay_.getElement(),u=i.getCenter(),h=i.getResolution(),d=s.getResolution(),f=r[0]*h/d,A=r[1]*h/d;if(o.setPosition(u),l){l.style.width=f+"px",l.style.height=A+"px";const m="rotate("+a+"rad)";l.style.transform=m}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=HM(this.ovmap_,ip.POSTRENDER,e=>{delete this.ovmapPostrenderKey_,this.updateBox_()}))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(OO),this.collapsed_?_S(this.collapseLabel_,this.label_):_S(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered()){this.viewExtent_=void 0,e.render();return}e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){!this.collapsible_||this.collapsed_===e||this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}}var Kpe=class extends Tl{constructor(e){e=e||{},e.fullscreen&&(e.target=document.body);var n=e.target===document.body,r=Ht.create(n?"DIALOG":"DIV",{className:((e.className||"")+(e.zoom?" ol-zoom":"")+" ol-ext-dialog").trim()});super({element:r,target:e.target}),n&&(r.addEventListener("close",(function(){this.hide()}).bind(this)),document.addEventListener("keydown",(function(a){a.key==="Escape"&&!this.get("closeBox")&&this.isOpen()&&a.preventDefault()}).bind(this)),r.addEventListener("cancel",(function(a){this.dispatchEvent("cancel")}).bind(this))),r.addEventListener("click",(function(a){this.get("hideOnBack")&&a.target===r&&this.close(),this.get("hideOnClick")&&this.close()}).bind(this));var i=Ht.create("FORM",{on:{submit:this._onButton("submit")},parent:r});Ht.create("H2",{parent:i}),Ht.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:i}),Ht.create("DIV",{className:"ol-content",parent:i}),this._progress=Ht.create("DIV",{style:{display:"none"},parent:i});var s=Ht.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=Ht.create("DIV",{parent:s}),this._progressMessage=Ht.create("DIV",{className:"ol-progress-message",parent:this._progress}),Ht.create("DIV",{className:"ol-buttons",parent:i}),this.set("closeBox",e.closeBox!==!1),this.set("zoom",!!e.zoom),this.set("hideOnClick",!!e.hideOnClick),this.set("hideOnBack",!!e.hideOnBack),this.set("className",r.className),this.set("closeOnSubmit",e.closeOnSubmit),this.set("buttons",e.buttons),this.setContent(e)}show(e){e&&((e instanceof Element||typeof e=="string")&&(e={content:e}),this.setContent(e)),this.element.showModal&&this.element.showModal(),this.element.classList.add("ol-visible"),this.element.setAttribute("aria-hidden",!1);var n=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(n&&setTimeout(function(){n.focus()}),this.dispatchEvent({type:"show"}),e){if(e.autoclose){var r=setTimeout((function(){this.hide()}).bind(this),e.autoclose);this.once("hide",function(){clearTimeout(r)})}if(e.hideOnBack){var i=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",(function(){this.set("hideOnBack",i)}).bind(this))}}}open(){this.show()}setContentMessage(e){if(e!==void 0){var n=this.getContentElement();e instanceof Element&&Ht.setHTML(n,""),Ht.setHTML(n,e||"")}}setTitle(e){var n=this.element.querySelector("form");n.querySelector("h2").innerText=e||"",e?n.classList.add("ol-title"):n.classList.remove("ol-title")}setContent(e){if(e){this.element.className=this.get("className"),typeof e=="string"&&(e={content:e}),e=e||{},this.setProgress(!1),e.max&&this.setProgress(0,e.max),e.progress!==void 0&&this.setProgress(e.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),e.className&&e.className.split(" ").forEach((function(a){this.element.classList.add(a)}).bind(this));var n=this.element.querySelector("form");e.content!==void 0&&(e.content instanceof Element&&Ht.setHTML(n.querySelector(".ol-content"),""),Ht.setHTML(n.querySelector(".ol-content"),e.content||"")),this.setTitle(e.title),e.closeBox||this.get("closeBox")&&e.closeBox!==!1?n.classList.add("ol-closebox"):n.classList.remove("ol-closebox");var r=this.element.querySelector(".ol-buttons");r.innerHTML="";var i=e.buttons||this.get("buttons");if(i){n.classList.add("ol-button");for(var s in i)Ht.create("INPUT",{type:s==="submit"?"submit":"button",value:i[s],click:this._onButton(s,e.onButton),parent:r})}else n.classList.remove("ol-button")}}getContentElement(){return this.element.querySelector("form .ol-content")}setProgress(e,n,r){if(e===!1){Ht.setStyle(this._progress,{display:"none"});return}if(n>0?this.set("max",Number(n)):n=this.get("max"),!n)Ht.setStyle(this._progress,{display:"none"});else{var i=Math.round(e/n*100);Ht.setStyle(this._progress,{display:""}),this._progressbar.className=i?"":"notransition",Ht.setStyle(this._progressbar,{width:i+"%"})}this._progressMessage.innerHTML="",Ht.setHTML(this._progressMessage,r||"")}_onButton(e,n){var r=(function(i){i.preventDefault(),(e!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var s=this.getInputs();this.dispatchEvent({type:"button",button:e,inputs:s}),typeof n=="function"&&n(e,s)}).bind(this);return r}getInputs(){var e={};return["input","textarea","select"].forEach((function(n){this.element.querySelectorAll("form "+n).forEach(function(r){r.className&&r.className.split(" ").forEach(function(i){e[i]=r})})}).bind(this)),e}hide(){document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),this.element.close&&this.element.close(),this.isOpen()&&(this.element.classList.remove("ol-visible"),this.element.setAttribute("aria-hidden",!0),this.dispatchEvent({type:"hide"}))}close(){this.hide()}isOpen(){return this.element.classList.contains("ol-visible")}},Sdt=function(t){if(!t)return null;var e=t.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return e||(t.getViewport().querySelector(".ol-layers")?(e=document.createElement("canvas"),e.className="ol-fixedoverlay",t.getViewport().querySelector(".ol-layers").after(e),t.on("precompose",function(n){e.width=t.getSize()[0]*n.frameState.pixelRatio,e.height=t.getSize()[1]*n.frameState.pixelRatio})):e=t.getViewport().querySelector("canvas")),e},cQ=class extends Tl{constructor(e){e=e||{},super(e),this.setStyle(e.style)}setMap(e){this.getCanvas(e);var n=this.getMap();if(this._listener&&(Tf(this._listener),this._listener=null),super.setMap(e),n)try{n.renderSync()}catch(r){}e&&(this._listener=e.on("postcompose",this._draw.bind(this)))}getCanvas(e){return Sdt(e)}getContext(e){var n=e.context;if(!n&&this.getMap()){var r=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];n=r?r.getContext("2d"):null}return n}setStyle(e){this._style=e||new Sa({})}getStyle(){return this._style}getStroke(){var e=this._style.getStroke();return e||this._style.setStroke(new Po({color:"#000",width:1.25})),this._style.getStroke()}getFill(){var e=this._style.getFill();return e||this._style.setFill(new Ul({color:"#fff"})),this._style.getFill()}getTextStroke(){var e=this._style.getText();return e||(e=new Mf({})),e.getStroke()||e.setStroke(new Po({color:"#fff",width:3})),e.getStroke()}getTextFill(){var e=this._style.getText();return e||(e=new Mf({})),e.getFill()||e.setFill(new Ul({color:"#fff"})),e.getFill()}getTextFont(){var e=this._style.getText();return e||(e=new Mf({})),e.getFont()||e.setFont("12px sans-serif"),e.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}},Cdt=class extends cQ{constructor(e){e=e||{};var n=document.createElement("div");if(super({element:n,target:e.target}),e.target)n.className=e.className||"ol-legend";else{n.className=(e.className||"ol-legend")+" ol-unselectable ol-control"+(e.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var r=document.createElement("button");r.setAttribute("type","button"),r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r),r=document.createElement("button"),r.setAttribute("type","button"),r.className="ol-closebox",r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r)}this._legend=e.legend,this._legend.getCanvas().className="ol-legendImg",n.appendChild(this._legend.getCanvas()),n.appendChild(this._legend.getListElement()),e.collapsible!==!1&&e.collapsed===!1&&this.show(),this._legend.on("select",(function(i){this.dispatchEvent(i)}).bind(this)),this._legend.on("refresh",(function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch(i){}}).bind(this)),this._legend.on("items",(function(i){i.nb?(this.element.classList.remove("ol-empty"),this.element.title=e.title||"legend"):(this.element.classList.add("ol-empty"),this.element.title=e.emptyTitle||"no legend"),this.dispatchEvent(i)}).bind(this))}getLegend(){return this._legend}setCanvas(e){if(this._onCanvas=e,this.element.style.visibility=e?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch(n){}}onCanvas(){return!!this._onCanvas}_draw(e){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var n=this._legend.getCanvas(),r=this.getContext(e),i=r.canvas.height-n.height;r.save(),r.rect(0,i,n.width,n.height);var s="#fff";this._legend.getTextStyle().getBackgroundFill()&&(s=P1(this._legend.getTextStyle().getBackgroundFill().getColor())),r.fillStyle=r.strokeStyle=s,r.lineWidth=10,r.lineJoin="round",r.stroke(),r.clearRect(0,i,n.width,n.height),r.fill(),r.drawImage(n,0,i),r.restore()}}show(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch(e){}}hide(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch(e){}}collapse(e){e===!1?this.show():this.hide()}isCollapsed(){return this.element.classList.contains("ol-collapsed")}toggle(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch(e){}}},qpe=class extends Tl{constructor(e){e=e||{};var n=Ht.create("DIV",{className:e.className||"ol-print"});super({element:n,target:e.target}),e.target||(n.classList.add("ol-unselectable","ol-control"),Ht.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n})),this.set("immediate",e.immediate),this.set("imageType",e.imageType||"image/jpeg"),this.set("quality",e.quality||.8),this.set("orientation",e.orientation)}toClipboard(e,n){try{e.canvas.toBlob(function(r){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},r.type,{value:r,enumerable:!0}))]),typeof n=="function"&&n(!0)}catch(i){typeof n=="function"&&n(!1)}})}catch(r){typeof n=="function"&&n(!1)}}copyMap(e,n){this.once("print",(function(r){this.toClipboard(r,n)}).bind(this)),this.print(e)}_getCanvas(e,n,r){var i;if(e.context)r=e.context.canvas;else{if(r)i=r.getContext("2d");else{r=document.createElement("canvas");var s=this.getMap().getSize();r.width=s[0],r.height=s[1],i=r.getContext("2d"),/jp.*g$/.test(n)&&(i.fillStyle=this.get("bgColor")||"white",i.fillRect(0,0,r.width,r.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach((function(a){if(a.width){if(i.save(),a.parentNode.style.opacity==="0")return;i.globalAlpha=parseFloat(a.parentNode.style.opacity)||1,i.globalCompositeOperation=Ht.getStyle(a.parentNode,"mix-blend-mode"),i.filter=Ht.getStyle(a.parentNode,"filter");var o=Ht.getStyle(a,"transform")||Ht.getStyle(a,"-webkit-transform");/^matrix/.test(o)?(o=o.replace(/^matrix\(|\)$/g,"").split(","),o.forEach(function(l,u){o[u]=parseFloat(l)}),i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),i.drawImage(a,0,0)):i.drawImage(a,0,0,Ht.getStyle(a,"width"),Ht.getStyle(a,"height")),i.restore()}}).bind(this))}return r}fastPrint(e,n){e=e||{},this._ol6?requestAnimationFrame((function(){n(this._getCanvas({},e.imageType,e.canvas))}).bind(this)):(this.getMap().once("postcompose",(function(r){r.context||(this._ol6=!0),n(this._getCanvas(r,e.imageType,e.canvas))}).bind(this)),this.getMap().render())}print(e){e=e||{};var n=e.imageType||this.get("imageType"),r=e.quality||this.get("quality");if(this.getMap()){if(e.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},e)),!e.immediate){setTimeout((function(){e=Object.assign({},e),e.immediate="silent",this.print(e)}).bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",(function(i){var s=this._getCanvas(i,n),a=e.size||[210,297],o=e.format||"a4",l,u,h,d=e.orient||this.get("orientation"),f=typeof e.margin=="number"?e.margin:10;if(s){d!=="landscape"&&d!=="portrait"&&(d=s.width>s.height?"landscape":"portrait"),d==="landscape"&&(a=[a[1],a[0]]);var A=Math.min((a[0]-2*f)/s.width,(a[1]-2*f)/s.height);l=A*s.width,u=A*s.height,h=[(a[0]-l)/2,(a[1]-u)/2]}var m;try{m=s?s.toDataURL(n,r):null}catch(y){this.dispatchEvent({type:"error",canvas:s});return}var g=Object.assign({type:"print",print:{format:o,orientation:d,unit:"mm",size:a,position:h,imageWidth:l,imageHeight:u},image:m,imageType:n,quality:r,canvas:s},e);this.dispatchEvent(g)}).bind(this)),this.getMap().render()}}},Tdt=class extends cQ{constructor(e){e=e||{};var n=Ht.create("DIV",{className:(e.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});super({element:n,style:e.style}),this.setTitle(e.title||""),this.setVisible(e.visible!==!1),this.element.style.font=this.getTextFont()}setStyle(e){super.setStyle(e),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}setTitle(e){if(this.element.textContent=e,this.set("title",e),this.getMap())try{this.getMap().renderSync()}catch(n){}}getTitle(){return this.get("title")}setVisible(e){if(this.element.style.display=e?"block":"none",this.getMap())try{this.getMap().renderSync()}catch(n){}}getVisible(){return this.element.style.display!=="none"}_draw(e){if(this.getVisible()){var n=this.getContext(e);if(n){var r=e.frameState.pixelRatio;n.save(),n.scale(r,r);var i=this.element.getBoundingClientRect(),s=this.getMap().getViewport().getBoundingClientRect(),a=this.getMap().getSize()[0]/s.width;n.translate(Math.round((i.left-s.left)*a),Math.round((i.top-s.top)*a));var o=this.element.clientHeight,l=this.element.clientWidth,u=l/2;n.beginPath(),n.fillStyle=P1(this.getFill().getColor()),n.rect(0,0,l,o),n.fill(),n.closePath(),n.beginPath(),n.fillStyle=P1(this.getTextFill().getColor()),n.strokeStyle=P1(this.getTextStroke().getColor()),n.lineWidth=this.getTextStroke().getWidth(),n.textAlign="center",n.textBaseline="middle",n.font=this.getTextFont(),n.lineJoin="round",n.lineWidth&&n.strokeText(this.getTitle(),u,o/2),n.fillText(this.getTitle(),u,o/2),n.closePath(),n.restore()}}}},m3=function(t,e){var n=t.getView(),r=n.getProjection(),i=n.getCenter(),s=t.getPixelFromCoordinate(i);s[1]+=1;var a=t.getCoordinateFromPixel(s),o=GM(Tp(i,r,"EPSG:4326"),Tp(a,r,"EPSG:4326"));return o*=96/.0254,o},Mdt=function(t,e,n){if(t&&e){var r=e;if(typeof e=="string"&&(e=e.replace(":","/").split("/"),r=e[1],r||(r=e[0]||""),r=r.replace(/[^\d]/g,""),r=parseInt(r),e[1])){var i=parseInt(e[0]);i&&(r/=i)}if(!r)return;var s=t.getView(),a=s.getProjection(),o=s.getCenter(),l=t.getPixelFromCoordinate(o);l[1]+=1;var u=t.getCoordinateFromPixel(l),h=GM(Tp(o,a,"EPSG:4326"),Tp(u,a,"EPSG:4326"));return h*=96/.0254,s.setResolution(s.getResolution()*r/h),r}},Qee=class extends cQ{constructor(e){e=e||{};var n=document.createElement("div");n.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),n.style.position="absolute",n.style.visibility="hidden";var r=e.style instanceof Po?new Sa({stroke:e.style}):e.style;e.style||(r=new Sa({stroke:new Po({width:0})})),super({element:n,style:r}),this.set("rotateVithView",e.rotateWithView!==!1),this.setVisible(e.visible!==!1),this.setImage(e.image||e.src)}setImage(e){if(e instanceof Image)this.img_=e,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch(n){}}).bind(this);else if(typeof e=="string")switch(e){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch(n){}}).bind(this),this.img_.src=e;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2;return i.translate(s,s),i.fillStyle=n||"#963",i.lineWidth=5,i.lineJoin=i.lineCap="round",i.font="bold "+s*.4+"px sans-serif",i.textBaseline="bottom",i.textAlign="center",i.strokeStyle="#fff",i.globalAlpha=.75,i.strokeText("N",0,-s/2),i.globalAlpha=1,i.fillText("N",0,-s/2),i.beginPath(),i.moveTo(0,s/4),i.lineTo(s/3,s/2),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.lineWidth=12,i.fillStyle="#fff",i.globalAlpha=.75,i.fill(),i.stroke(),i.globalAlpha=1,i.fillStyle=i.strokeStyle=n||"#963",i.lineWidth=5,i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(s/3,s/2),i.lineTo(0,s/4),i.fill(),i.stroke(),i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.stroke(),r}defaultCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2,a=.22*s;function o(u,h){i.fillStyle=n||"#963",i.beginPath(),i.moveTo(0,0),i.lineTo(u,0),i.lineTo(h,h),i.moveTo(0,0),i.lineTo(-u,0),i.lineTo(-h,-h),i.moveTo(0,0),i.lineTo(0,u),i.lineTo(-h,h),i.moveTo(0,0),i.lineTo(0,-u),i.lineTo(h,-h),i.moveTo(0,0),i.fill(),i.stroke()}function l(u,h){i.globalCompositeOperation="destination-out",i.fillStyle="#fff",i.beginPath(),i.moveTo(0,0),i.lineTo(u,0),i.lineTo(h,-h),i.moveTo(0,0),i.lineTo(-u,0),i.lineTo(-h,h),i.moveTo(0,0),i.lineTo(0,u),i.lineTo(h,h),i.moveTo(0,0),i.lineTo(0,-u),i.lineTo(-h,-h),i.moveTo(0,0),i.fill(),i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(0,0),i.lineTo(u,0),i.lineTo(h,-h),i.moveTo(0,0),i.lineTo(-u,0),i.lineTo(-h,h),i.moveTo(0,0),i.lineTo(0,u),i.lineTo(h,h),i.moveTo(0,0),i.lineTo(0,-u),i.lineTo(-h,-h),i.moveTo(0,0),i.stroke()}return i.translate(s,s),i.strokeStyle=n||"#963",i.lineWidth=1.5,i.beginPath(),i.arc(0,0,e*.41,0,2*Math.PI),i.arc(0,0,e*.44,0,2*Math.PI),i.stroke(),i.rotate(Math.PI/4),o(s*.9,a*.8),l(s*.9,a*.8),i.rotate(-Math.PI/4),o(s,a),l(s,a),r}getVisible(){return Ht.getStyle(this.element,"display")==="block"}setVisible(e){e?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(e){var n=this.getContext(e);if(!(!n||!this.getVisible())){var r=n.canvas,i,s=[];for(i=0;i<8;i++)s[i]=[Math.cos(Math.PI*i/8),Math.sin(Math.PI*i/8)];var a=e.frameState.pixelRatio;n.save(),n.scale(a,a);var o=this.element.clientWidth,l=this.element.clientHeight,u={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,d=e.frameState.viewState.rotation;if(n.beginPath(),n.translate(u.left+o/2,u.top+l/2),this.get("rotateVithView")&&n.rotate(d),this.getStroke().getWidth()){n.beginPath(),n.strokeStyle=this.getStroke().getColor(),n.lineWidth=this.getStroke().getWidth();var f=Math.max(r.width,r.height);for(i=0;i<8;i++)n.moveTo(-s[i][0]*f,-s[i][1]*f),n.lineTo(s[i][0]*f,s[i][1]*f);n.stroke()}h.width&&n.drawImage(h,-o/2,-l/2,o,l),n.closePath(),n.restore()}}},Lw=class extends Tl{constructor(e){e=e||{};var n=Ht.create("DIV",{className:(e.className||"ol-print")+" ol-unselectable ol-control"});super({element:n}),this._lang=e.lang||"en",e.target||Ht.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n}),e.openWindow&&this.on("print",function(F){F.canvas&&window.open().document.write('<img src="'+F.canvas.toDataURL()+'"/>')}),e.target=Ht.create("DIV");var r=this._printCtrl=new qpe(e);r.on(["print","error","printing"],(function(F){this._printing(F)}).bind(this)),this._compass=new Qee({src:e.northImage||"compact",visible:!1,className:"olext-print-compass",style:new Po({color:"#333",width:0})});var i=this._printDialog=new Kpe({target:e.targetDialog||document.body,closeBox:!0,className:"ol-ext-print-dialog"}),s=i.getContentElement();this._input={};var a=Ht.create("DIV",{className:"ol-print-param",parent:s});this._pages=[Ht.create("DIV",{className:"ol-page"})];var o=Ht.create("DIV",{className:"ol-map",parent:this._pages[0]});Ht.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:s}),Ht.create("H2",{html:this.i18n("title"),parent:a});var l=Ht.create("UL",{parent:a}),u=Ht.create("LI",{className:"ol-orientation",parent:l});this._input.orientation={list:u};var h=Ht.create("LABEL",{className:"portrait",parent:u});this._input.orientation.portrait=Ht.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:(function(F){this.setOrientation(F.target.value)}).bind(this)},parent:h}),Ht.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=Ht.create("LABEL",{className:"landscape",parent:u}),this._input.orientation.landscape=Ht.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:(function(F){this.setOrientation(F.target.value)}).bind(this)},parent:h}),Ht.create("SPAN",{html:this.i18n("landscape"),parent:h});var d;u=Ht.create("LI",{html:Ht.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:l});var f=this._input.size=Ht.create("SELECT",{on:{change:(function(){this.setSize(f.value||I)}).bind(this)},parent:u});for(d in this.paperSize)Ht.create("OPTION",{html:d+(this.paperSize[d]?" - "+this.paperSize[d][0]+"x"+this.paperSize[d][1]+" mm":this.i18n("custom")),value:d,parent:f});u=Ht.create("LI",{html:Ht.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:l});var A=this._input.margin=Ht.create("SELECT",{on:{change:(function(){this.setMargin(A.value)}).bind(this)},parent:u});for(d in this.marginSize)Ht.create("OPTION",{html:this.i18n(d)+" - "+this.marginSize[d]+" mm",value:this.marginSize[d],parent:A});u=Ht.create("LI",{html:Ht.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:l});var m=this._input.scale=Ht.create("SELECT",{on:{change:(function(){this.setScale(parseInt(m.value))}).bind(this)},parent:u});Object.keys(this.scales).forEach((function(F){Ht.create("OPTION",{html:this.scales[F],value:F,parent:m})}).bind(this)),u=Ht.create("LI",{className:"ol-legend",parent:l});var g=Ht.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:(function(){O.legend.control.setCanvas(g.checked)}).bind(this)},parent:u});u=Ht.create("LI",{className:"ol-print-north",parent:l});var y=this._input.north=Ht.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:(function(){y.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}).bind(this)},parent:u});u=Ht.create("LI",{className:"ol-print-title",parent:l});var _=Ht.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:(function(F){O.title.control.setVisible(F.target.checked)}).bind(this)},parent:u}),x=Ht.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(F){F.keyCode===13&&F.preventDefault()},keyup:function(){O.title.control.setTitle(x.value)},change:(function(){O.title.control.setTitle(x.value)}).bind(this)},parent:u}),S=Ht.create("DIV",{className:"ol-user-param",parent:a});u=Ht.create("LI",{className:"ol-saveas",parent:l}),Ht.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:u});var C=Ht.create("SELECT",{on:{change:(function(){var F=C.value;if(C.value="",!(this.formats[F].clipboard&&this._copyMap(F))){var U=typeof this.getSize()=="string"?this.getSize():null,$=Object.assign({format:U,size:U?this.paperSize[U]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[F]);r.print($)}}).bind(this)},parent:u});Ht.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:C}),this.formats.forEach((function(F,U){if(F.pdf){if(e.pdf===!1)return}else if(F.clipboard){if(e.copy===!1)return}else if(e.save===!1)return;Ht.create("OPTION",{html:this.i18n(F.title),value:U,parent:C})}).bind(this)),C.querySelectorAll("option").length===1&&(C.style.display="none"),u=Ht.create("LI",{className:"ol-savelegend",parent:l});var M=Ht.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:u}),B=Ht.create("SELECT",{on:{change:(function(){var F=O.legend.control.getLegend().getCanvas(),U=document.createElement("CANVAS");U.width=F.width,U.height=F.height;var $=U.getContext("2d");if($.fillStyle="#fff",$.fillRect(0,0,U.width,U.height),$.drawImage(F,0,0),this.formats[B.value].clipboard)U.toBlob(function(he){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},he.type,{value:he,enumerable:!0}))]),M.classList.add("visible"),setTimeout(function(){M.classList.remove("visible")},1e3)}catch(W){}},"image/png");else{var K;try{K=U.toDataURL(this.formats[B.value].imageType,this.formats[B.value].quality);var V=typeof this.getSize()=="string"?this.getSize():"A4",Q=U.width/96*25.4,X=U.height/96*25.4,z=this.paperSize[V];this.getOrientation()==="landscape"&&(z=[z[1],z[0]]);var ne=[(z[0]-Q)/2,(z[1]-X)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:V,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[V],position:ne,imageWidth:Q,imageHeight:X},image:K,imageType:this.formats[B.value].imageType,pdf:this.formats[B.value].pdf,quality:this.formats[B.value].quality,canvas:U})}catch(he){}}B.value=""}).bind(this)},parent:u});Ht.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:B}),this.formats.forEach((function(F,U){Ht.create("OPTION",{html:this.i18n(F.title),value:U,parent:B})}).bind(this));var E=Ht.create("DIV",{className:"ol-ext-buttons",parent:a});Ht.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(F){F.preventDefault(),window.print()},parent:E}),Ht.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){i.hide()},parent:E}),Ht.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:a});var L,I,k,O={};i.on("show",(function(){this.dispatchEvent({type:"show",userElement:S,dialog:this._printDialog,page:this.getPage()});var F=this.getMap();F&&(document.body.classList.add("ol-print-document"),L=F.getTargetElement(),I=F.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(I),F.setTarget(o),k&&Tf(k),k=F.on("moveend",(function(){this.setScale(m3(F))}).bind(this)),this.setScale(m3(F)),O={},this.getMap().getControls().forEach((function(U){U instanceof Cdt&&(O.legend={control:U}),U instanceof Tdt&&(O.title={control:U}),U instanceof Qee&&(O.compass?U.element.classList.remove("ol-print-compass"):(this._input.north.checked?U.element.classList.add("ol-print-compass"):U.element.classList.remove("ol-print-compass"),this._compass=U,O.compass={control:U}))}).bind(this)),O.title?(_.checked=O.title.isVisible=O.title.control.getVisible(),x.value=O.title.control.getTitle(),_.parentNode.parentNode.classList.remove("hidden")):_.parentNode.parentNode.classList.add("hidden"),O.legend?(O.legend.ison=O.legend.control.onCanvas(),O.legend.collapsed=O.legend.control.isCollapsed(),O.legend.control.collapse(!1),B.parentNode.classList.remove("hidden"),g.parentNode.parentNode.classList.remove("hidden"),g.checked=!O.legend.collapsed,O.legend.control.setCanvas(!O.legend.collapsed)):(B.parentNode.classList.add("hidden"),g.parentNode.parentNode.classList.add("hidden")))}).bind(this)),i.on("hide",(function(){document.body.classList.remove("ol-print-document"),L&&(this.getMap().setTarget(L),L=null,k&&Tf(k),O.title&&O.title.control.setVisible(O.title.isVisible),O.legend&&(O.legend.control.setCanvas(O.legend.ison),O.legend.control.collapse(O.legend.collapsed)),this.dispatchEvent({type:"hide"}))}).bind(this)),window.addEventListener("resize",(function(){this.setSize()}).bind(this)),e.saveAs&&this.on("print",function(F){F.pdf||F.canvas.toBlob(function(U){var $=(F.print.legend?"legend.":"map.")+F.imageType.replace("image/","");e.saveAs(U,$)},F.imageType,F.quality)}),e.jsPDF&&this.on("print",function(F){if(F.pdf){var U=new e.jsPDF({orientation:F.print.orientation,unit:F.print.unit,format:F.print.size});U.addImage(F.image,"JPEG",F.print.position[0],F.print.position[0],F.print.imageWidth,F.print.imageHeight),U.save(F.print.legend?"legend.pdf":"map.pdf")}})}static addLang(e,n){Lw.prototype._labels[e]=n}isOpen(){return this._printDialog.isOpen()}i18n(e){var n=this._labels.en[e]||e;return this._labels[this._lang]&&this._labels[this._lang][e]&&(n=this._labels[this._lang][e]),n}getOrientation(){return this._orientation||"portrait"}setOrientation(e){this._orientation=e==="landscape"?"landscape":"portrait",this._printDialog.element.dataset.orientation=this._orientation,this._input.orientation[this._orientation].checked=!0,this.setSize()}getMargin(){return this._margin||0}setMargin(e){this._margin=e,this._input.margin.value=e,this.setSize()}getSize(){return this._size}setSize(e){if(this._printDialog.getContentElement().dataset.status="",e?this._size=e:e=this._size,!!e){if(typeof e=="string"){for(var n in this.paperSize)n&&new RegExp(n,"i").test(e)&&(e=n);this.paperSize[e]||(e=this._size="A4"),this._input.size.value=e,e=[Math.trunc(this.paperSize[e][0]*96/25.4),Math.trunc(this.paperSize[e][1]*96/25.4)],this.getOrientation()==="landscape"&&(e=[e[1],e[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var r=this.getPage(),i=r.parentNode.getBoundingClientRect(),s=(i.width-40)/e[0],a=(i.height-40)/e[1],o=Math.min(s,a,1);r.style.width=e[0]+"px",r.style.height=e[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+o+")";var l=Math.round(5/o);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=l+"px "+l+"px "+l+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}_printing(e){this._printDialog.getContentElement().dataset.status=e.type,e.clipboard||this.dispatchEvent(e)}_copyMap(e){var n=this._printDialog.element.querySelector(".ol-clipboard-copy");return this._printCtrl.copyMap(this.formats[e],function(r){r&&(n.classList.add("visible"),setTimeout(function(){n.classList.remove("visible")},1e3))}),!0}getContentElement(){return this._printDialog.getContentElement()}getUserElement(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}getPage(){return this._pages[0]}setMap(e){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}setScale(e){Mdt(this.getMap(),e),this._input.scale.value=" "+Math.round(e/100)*100}getScale(){return m3(this.getMap())}print(e){e=e||{},e.size&&this.setSize(e.size),e.scale&&this.setScale(e.scale),e.orientation&&this.setOrientation(e.orientation),e.margin&&this.setMargin(e.margin),this._printDialog.show()}getPrintControl(){return this._printCtrl}};Lw.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:" Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille cran",margin:"Marges",scale:"Echelle",legend:"Lgende",north:"Flche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la lgende...",copied:" Carte copie",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgre",margin:"Rand",scale:"Mastab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:" In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"gro",cancel:"abbrechen"},zh:{title:"",orientation:"",portrait:"",landscape:"",size:"",custom:"",margin:"",scale:"",legend:"",north:"",mapTitle:"",saveas:"...",saveLegend:"...",copied:" ",errorMsg:"...",printBt:"...",cancel:""},it:{title:"Stampa",orientation:"Orientamento",portrait:"Verticale",landscape:"Orizzontale",size:"Formato pagina",custom:"Dimensione schermo",margin:"Margini",scale:"Scala",legend:"Legenda",north:"Freccia nord",mapTitle:"Titolo della mappa",saveas:"Salva con nome...",saveLegend:"Salva legenda...",copied:" Copiato negli appunti",errorMsg:"Impossibile salvare la mappa",printBt:"Stampa",clipboardFormat:"Copia negli appunti...",jpegFormat:"salva come jpeg",pngFormat:"salva come png",pdfFormat:"salva come pdf",none:"nessuno",small:"piccolo",large:"grande",cancel:"annulla"}};Lw.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]};Lw.prototype.marginSize={none:0,small:5,large:10};Lw.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}];Lw.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};var m1=function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},T2=function(t,e){return t[0]==e[0]&&t[1]==e[1]},Xpe;(function(){function t(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][0]>r&&n[s-1][0]<r||n[s][0]<r&&n[s-1][0]>r)&&(i=[r,(r-n[s][0])/(n[s-1][0]-n[s][0])*(n[s-1][1]-n[s][1])+n[s][1]],n.splice(s,0,i))}function e(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][1]>r&&n[s-1][1]<r||n[s][1]<r&&n[s-1][1]>r)&&(i=[(r-n[s][1])/(n[s-1][1]-n[s][1])*(n[s-1][0]-n[s][0])+n[s][0],r],n.splice(s,0,i))}Xpe=function(n,r){var i=r.getType()==="Polygon";if(!i&&r.getType()!=="MultiPolygon")return null;var s=r.getCoordinates();return i&&(s=[s]),s.forEach(function(a){a.forEach(function(o){t(o,n[0]),t(o,n[2]),e(o,n[1]),e(o,n[3])})}),s.forEach(function(a){a.forEach(function(o){o.forEach(function(l){l[0]<n[0]?l[0]=n[0]:l[0]>n[2]&&(l[0]=n[2]),l[1]<n[1]?l[1]=n[1]:l[1]>n[3]&&(l[1]=n[3])})})}),i?new uo(s[0]):new dc(s)}})();var mD=function(t,e,n,r){var i=[];r!==!1&&i.push(t);var s=m1(t,e);if(s){var a=Math.round(s/n);if(a>1)for(var o=(e[0]-t[0])/a,l=(e[1]-t[1])/a,u=1;u<a;u++)i.push([t[0]+o*u,t[1]+l*u])}return i.push(e),i};Ca.prototype.sampleAt=function(t){for(var e=this.getCoordinates(),n=[],r=1;r<e.length;r++)n=n.concat(mD(e[r-1],e[r],t,r===1));return new Ca(n)};hc.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(mD(r[s-1],r[s],t,s===1));n.push(i)}),new hc(n)};uo.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(mD(r[s-1],r[s],t,s===1));n.push(i)}),new uo(n)};dc.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){var i=[];n.push(i),r.forEach(function(s){for(var a=[],o=1;o<s.length;o++)a=a.concat(mD(s[o-1],s[o],t,o===1));i.push(a)})}),new dc(n)};Tw.prototype.intersection=function(t,e){if(t.sampleAt){var n=uc(this.getCenter().concat(this.getCenter()),this.getRadius());t=Xpe(n,t),t=t.simplify(e);var r=this.getCenter(),i=this.getRadius(),s=t.sampleAt(e).getCoordinates();switch(t.getType()){case"Polygon":s=[s];case"MultiPolygon":{var a=!1,o=[];return s.forEach(function(l){var u=[];o.push(u),l.forEach(function(h){var d=[];u.push(d),h.forEach(function(f){var A=m1(r,f);A>i?(a=!0,d.push([r[0]+i/A*(f[0]-r[0]),r[1]+i/A*(f[1]-r[1])])):d.push(f)})})}),a?t.getType()==="Polygon"?new uo(o[0]):new dc(o):t}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+t.getType());return t};var uQ=class extends Tl{constructor(e){e=e||{};var n=document.createElement("div");super({element:n,target:e.target});var r=this;if(this.info=e.info||uQ.prototype.info,e.target)n.classList.add(e.className||"ol-profile");else{n.className=((e.className||"ol-profile")+" ol-unselectable ol-control ol-collapsed").trim(),this.button=document.createElement("button"),this.button.title=e.title||"Profile",this.button.setAttribute("type","button");var i=function(B){r.toggle(),B.preventDefault()};this.button.addEventListener("click",i),this.button.addEventListener("touchstart",i),n.appendChild(this.button),Ht.create("I",{parent:this.button})}e.style instanceof Sa?this._style=e.style:this._style=new Sa({text:new Mf,stroke:new Po({width:1.5,color:"#369"})}),this._style.getText()||this._style.setText(new Mf),e.selectStyle instanceof Sa?this._selectStyle=e.selectStyle:this._selectStyle=new Sa({fill:new Ul({color:"#369"})});var s=document.createElement("div");s.classList.add("ol-inner"),n.appendChild(s);var a=document.createElement("div");a.style.position="relative",s.appendChild(a);var o=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(e.width||300)*o,this.canvas_.height=(e.height||150)*o;var l={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(l).forEach(function(B){B in r.canvas_.style&&(r.canvas_.style[B]=l[B])});var u=document.createElement("div");a.appendChild(u),u.style.width=this.canvas_.width/o+"px",u.style.height=this.canvas_.height/o+"px",u.appendChild(this.canvas_),u.addEventListener("pointerdown",this.onMove.bind(this)),document.addEventListener("pointerup",this.onMove.bind(this)),u.addEventListener("mousemove",this.onMove.bind(this)),u.addEventListener("touchmove",this.onMove.bind(this)),this.set("selectable",e.selectable),this.margin_={top:10*o,left:45*o,bottom:30*o,right:10*o},this.info.ytitle||(this.margin_.left-=20*o),this.info.xtitle||(this.margin_.bottom-=20*o),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilebar"),this.bar_.style.top=this.margin_.top/o+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/o+"px",a.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilecursor"),a.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilepopup"),this.cursor_.appendChild(this.popup_);var h=document.createElement("table");h.cellPadding="0",h.cellSpacing="0",h.style.clientWidth=this.canvas_.width/o+"px",a.appendChild(h);var d=document.createElement("tr");d.classList.add("track-info"),h.appendChild(d);var f=document.createElement("td");f.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',d.appendChild(f);var A=document.createElement("td");A.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',d.appendChild(A);var m=document.createElement("td");m.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',d.appendChild(m);var g=document.createElement("td");g.innerHTML=(this.info.time||"Time")+': <span class="time">',d.appendChild(g);var y=document.createElement("tr");y.classList.add("point-info"),h.appendChild(y);var _=document.createElement("td");_.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',y.appendChild(_);var x=document.createElement("td");x.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',y.appendChild(x);var S=document.createElement("td");if(S.innerHTML=(this.info.time||"Time")+': <span class="time">',y.appendChild(S),this.tab_=[],e.feature&&this.setGeometry(e.feature),e.zoomable){this.set("selectable",!0);var C,M;this.on("change:geometry",function(){M=null}),this.on("dragstart",function(B){C=B.index}),this.on("dragend",(function(B){if(Math.abs(C-B.index)>10){if(!M)var E=Ht.create("BUTTON",{parent:n,className:"ol-zoom-out",click:(function(k){k.stopPropagation(),k.preventDefault(),M&&(this.dispatchEvent({type:"zoom"}),this.setGeometry(M,this._geometry[1])),n.removeChild(E)}).bind(this)});var L=M||this._geometry[0],I=new Ca(this.getSelection(C,B.index));this.setGeometry(I,this._geometry[1]),M=L,this.dispatchEvent({type:"zoom",geometry:I,start:C,end:B.index})}}).bind(this))}}popup(e){this.popup_.innerHTML=e}_drawAt(e,n){e?(this.cursor_.style.left=n+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+e[1]*this.scale_[1]+this.dy_)/this.ratio+"px",this.cursor_.style.display="block",this.bar_.parentElement.classList.add("over"),this.bar_.style.left=n+"px",this.bar_.style.display="block",this.element.querySelector(".point-info .z").textContent=e[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(e[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=e[2],n>this.canvas_.width/this.ratio/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left")):(this.cursor_.style.display="none",this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"))}showAt(e){var n,r,i,s=1/0;if(typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else if(e.length)for(n=1;r=this.tab_[n];n++){var a=m1(r[3],e);a<s&&(i=r,s=a)}else for(n=0;(r=this.tab_[n])&&(i=r,!(r[0]>=e));n++);if(i){var o=(i[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(i,o),i[3]}return null}showAtTime(e,n){var r,i,s;if(e instanceof Date?e=e.getTime()/1e3:n&&(e+=this.tab_[0][3][3]),typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else for(r=0;(i=this.tab_[r])&&(s=i,!(i[3][3]>=e));r++);if(s){var a=(s[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(s,a),s[3]}return null}pointAtTime(e){var n,r;for(n=1;r=this.tab_[n];n++){var i=r[3][3];if(i>=e){var s=this.tab_[n-1][3];return(s[3]+i)/2<e?s:r}}return this.tab_[this.tab_.length-1][3]}onMove(e){if(this.tab_.length){var n=this.canvas_.getBoundingClientRect(),r={top:n.top+window.pageYOffset-document.documentElement.clientTop,left:n.left+window.pageXOffset-document.documentElement.clientLeft},i=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,s=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,a=i-r.left,o=s-r.top,l=this.ratio;if(a>this.margin_.left/l-20&&a<(this.canvas_.width-this.margin_.right)/l+8&&o>this.margin_.top/l&&o<(this.canvas_.height-this.margin_.bottom)/l){var u=(a*l-this.margin_.left)/this.scale_[0],h=this.tab_[0],d,f;for(d=1;f=this.tab_[d];d++)if(f[0]>=u){u<(f[0]+h[0])/2&&(d=0,f=h);break}switch(f||(f=this.tab_[this.tab_.length-1]),a=Math.max(this.margin_.left/l,Math.min(a,(this.canvas_.width-this.margin_.right)/l)),this._drawAt(f,a),this.dispatchEvent({type:"over",click:e.type==="click",index:d,coord:f[3],time:f[2],distance:f[0]}),e.type){case"pointerdown":{this._dragging={event:{type:"dragstart",index:d,coord:f[3],time:f[2],distance:f[0]},pageX:i,pageY:s};break}case"pointerup":{this._dragging&&this._dragging.pageX?Math.abs(this._dragging.pageX-i)<3&&Math.abs(this._dragging.pageY-s)<3&&(this.dispatchEvent({type:"click",index:d,coord:f[3],time:f[2],distance:f[0]}),this.refresh()):this.dispatchEvent({type:"dragend",index:d,coord:f[3],time:f[2],distance:f[0]}),this._dragging=!1;break}default:{if(this._dragging)if(this._dragging.pageX)(Math.abs(this._dragging.pageX-i)>3||Math.abs(this._dragging.pageY-s)>3)&&(this._dragging.pageX=this._dragging.pageY=!1,this.dispatchEvent(this._dragging.event));else{this.dispatchEvent({type:"dragging",index:d,coord:f[3],time:f[2],distance:f[0]});var A=Math.min(this._dragging.event.index,d),m=Math.max(this._dragging.event.index,d);this.refresh(),this.get("selectable")&&this._drawGraph(this.tab_.slice(A,m),this._selectStyle)}break}}}else this.bar_.parentElement.classList.contains("over")&&(this._drawAt(),this.dispatchEvent({type:"out"})),e.type==="pointerup"&&this._dragging&&(this.dispatchEvent({type:"dragcancel"}),this._dragging=!1)}}show(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})}hide(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})}toggle(){this.element.classList.toggle("ol-collapsed");var e=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!e})}isShown(){return!this.element.classList.contains("ol-collapsed")}getSelection(e,n){for(var r=[],i=Math.max(Math.min(e,n),0),s=Math.min(Math.max(e,n),this.tab_.length-1),a=i;a<=s;a++)r.push(this.tab_[a][3]);return r}_drawGraph(e,n){if(e.length){var r=this.canvas_.getContext("2d"),i=this.scale_[0],s=this.scale_[1],a=this.dy_,o=this.ratio,l,u;for(r.beginPath(),l=0;u=e[l];l++)l==0?r.moveTo(u[0]*i,u[1]*s+a):r.lineTo(u[0]*i,u[1]*s+a);n.getStroke()&&(r.strokeStyle=n.getStroke().getColor()||"#000",r.lineWidth=n.getStroke().getWidth()*o,r.setLineDash([]),r.stroke()),n.getFill()&&(r.fillStyle=n.getFill().getColor()||"#000",r.Style=n.getFill().getColor()||"#000",r.lineTo(e[e.length-1][0]*i,0),r.lineTo(e[0][0]*i,0),r.fill())}}setGeometry(e,n){if(n||(n={}),e instanceof vs&&(e=e.getGeometry()),this._geometry=[e,n],!/Z/.test(e.getLayout()))return;/M/.test(e.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var r=e.getCoordinates();switch(e.getType()){case"LineString":break;case"MultiLineString":r=r[0];break;default:return}var i=n.projection||this.getMap().getView().getProjection();function s(g,y){return GM(Tp(g,i,"EPSG:4326"),Tp(y,i,"EPSG:4326"))}function a(g,y){if(!g||!y)return"-";var _=(y-g)/60,x=Math.trunc(_/60),S=Math.trunc(_-x*60);return x+"h"+(S<10?"0":"")+S+"mn"}var o=1/0,l=-1/0,u,h,d,f,A,m=this.tab_=[];for(u=0,h;h=r[u];u++)f=h[2],f<o&&(o=f),f>l&&(l=f),u==0?d=0:d+=s(r[u-1],h),A=a(r[0][3],h[3]),m.push([d,f,A,h]);this._z=[o,l],this.set("graduation",n.graduation||100),this.set("zmin",n.zmin),this.set("zmax",n.zmax),this.set("amplitude",n.amplitude),this.set("unit",n.unit),this.set("zunit",n.zunit),this.set("zDigits",n.zDigits),this.set("zMaxChars",n.zMaxChars),this.dispatchEvent({type:"change:geometry",geometry:e}),this.refresh()}refresh(){var e=this.canvas_,n=e.getContext("2d"),r=e.width,i=e.height;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r,i);var s=this._z[0],a=this._z[1],o=this.tab_,l=o[o.length-1][0],u=o[o.length-1][2],h;if(!l){console.error("[ol/control/Profile] no data...",o);return}n.setTransform(1,0,0,1,this.margin_.left,i-this.margin_.bottom);var d=this.ratio;r-=this.margin_.right+this.margin_.left,i-=this.margin_.top+this.margin_.bottom,n.strokeStyle=this._style.getText().getFill().getColor()||"#000",n.lineWidth=.5*d,n.beginPath(),n.moveTo(0,0),n.lineTo(0,-i),n.moveTo(0,0),n.lineTo(r,0),n.stroke(),this.element.querySelector(".track-info .zmin").textContent=s.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=a.toFixed(2)+this.info.altitudeUnits,l>1e3?this.element.querySelector(".track-info .dist").textContent=(l/1e3).toFixed(1)+this.info.distanceUnitsKM:this.element.querySelector(".track-info .dist").textContent=l.toFixed(1)+this.info.distanceUnitsM,this.element.querySelector(".track-info .time").textContent=u;for(var f=this.get("graduation");;){a=Math.ceil(a/f)*f,s=Math.floor(s/f)*f;var A=(a-s)/f;if(i/A<15*d)f*=2;else break}typeof this.get("zmin")=="number"&&s>this.get("zmin")&&(s=this.get("zmin")),typeof this.get("zmax")=="number"&&a<this.get("zmax")&&(a=this.get("zmax"));var m=this.get("amplitude");m&&(a=Math.max(s+m,a));var g=r/l,y=-i/(a-s),_=this.dy_=-s*y;this.scale_=[g,y],this._drawGraph(o,this._style),n.textAlign="right",n.textBaseline="top",n.fillStyle=this._style.getText().getFill().getColor()||"#000",n.beginPath();var x=this.get("zDigits")||0,S=null;if(typeof this.get("zMaxChars")=="number"){var C;if(this.get("zunit")!="km"?C=Math.max(s.toFixed(x).length,a.toFixed(x).length):C=Math.max((s/1e3).toFixed(1).length,(a/1e3).toFixed(1).length),this.get("zMaxChars")<C){S=Math.floor(Math.log10(Math.max(Math.abs(s),Math.abs(a),Number.MIN_VALUE))),n.font="bold "+9*d+"px arial",n.fillText(S.toString(),-8*d,8*d);var M=n.measureText(S.toString()),B=M.width,E=M.actualBoundingBoxAscent+M.actualBoundingBoxDescent;n.font="bold "+12*d+"px arial",n.fillText("10",-8*d-B,8*d+.5*E)}}for(n.font=10*d+"px arial",n.textBaseline="middle",h=s;h<=a;h+=f){if(S!==null){var L=h/Math.pow(10,S);this.get("zunit")=="km"&&(L/=1e3);var I=this.get("zMaxChars")-Math.floor(Math.log10(Math.max(Math.abs(L),1))+1)-1;L<0&&(I-=1),this.get("zunit")!="km",n.fillText(L.toFixed(Math.max(I,0)),-4*d,h*y+_)}else this.get("zunit")!="km"?n.fillText(h.toFixed(x),-4*d,h*y+_):n.fillText((h/1e3).toFixed(1),-4*d,h*y+_);n.moveTo(-2*d,h*y+_),h!=0?n.lineTo(l*g,h*y+_):n.lineTo(0,h*y+_)}n.textAlign="center",n.textBaseline="top",n.setLineDash([d,3*d]);var k=this.get("unit")||"km",O;for(l>1e3?(O=Math.round(l/1e3)*100,O>1e3&&(O=Math.ceil(O/1e3)*1e3)):(k="m",l>100?O=Math.round(l/100)*10:l>10?O=Math.round(l/10):l>1?O=Math.round(l)/10:O=l),h=0;h<=l;h+=O){var F=k=="m"?h:h/1e3;n.fillText(Math.round(F*10)/10,h*g,4*d),n.moveTo(h*g,2*d),n.lineTo(h*g,0)}n.font=12*d+"px arial",n.fillText(this.info.xtitle.replace("(km)","("+k+")"),r/2,18*d),n.save(),n.rotate(-Math.PI/2),n.fillText(this.info.ytitle,i/2,-this.margin_.left),n.restore(),n.stroke()}getImage(e,n){return e==="canvas"?this.canvas_:this.canvas_.toDataURL(e,n)}};uQ.prototype.info={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};const v3="units",Ldt=[1,2,5],M2=25.4/.28;class Bdt extends Tl{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const r=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+dm,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(v3,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(v3)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(v3,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,r=e.projection,i=this.getUnits(),s=i=="degrees"?"degrees":"m";let a=BO(r,e.resolution,n,s);const o=this.minWidth_*(this.dpi_||M2)/M2,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||M2)/M2:void 0;let u=o*a,h="";if(i=="degrees"){const S=mS.degrees;u*=S,u<S/60?(h="",a*=3600):u<S?(h="",a*=60):h=""}else if(i=="imperial")u<.9144?(h="in",a/=.0254):u<1609.344?(h="ft",a/=.3048):(h="mi",a/=1609.344);else if(i=="nautical")a/=1852,h="NM";else if(i=="metric")u<1e-6?(h="nm",a*=1e9):u<.001?(h="m",a*=1e6):u<1?(h="mm",a*=1e3):u<1e3?h="m":(h="km",a/=1e3);else if(i=="us")u<.9144?(h="in",a*=39.37):u<1609.344?(h="ft",a/=.30480061):(h="mi",a/=1609.3472);else throw new Error("Invalid units");let d=3*Math.floor(Math.log(o*a)/Math.log(10)),f,A,m,g=0,y,_;for(;;){m=Math.floor(d/3);const S=Math.pow(10,m);if(f=Ldt[(d%3+3)%3]*S,A=Math.round(f/a),isNaN(A)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&A>=l){f=g,A=y,m=_;break}else if(A>=o)break;g=f,y=A,_=m,++d}const x=this.scaleBar_?this.createScaleBar(A,f,h):f.toFixed(m<0?-m:0)+" "+h;this.renderedHTML_!=x&&(this.innerElement_.innerHTML=x,this.renderedHTML_=x),this.renderedWidth_!=A&&(this.innerElement_.style.width=A+"px",this.renderedWidth_=A),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,r){const i=this.getScaleForResolution(),s=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),a=this.scaleBarSteps_,o=e/a,l=[this.createMarker("absolute")];for(let h=0;h<a;++h){const d=h%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push("<div><div "+'class="ol-scale-singlebar '.concat(d,'" ')+'style="width: '.concat(o,'px;"')+"></div>"+this.createMarker("relative")+(h%2===0||a===2?this.createStepText(h,e,!1,n,r):"")+"</div>")}return l.push(this.createStepText(a,e,!0,n,r)),(this.scaleBarText_?'<div class="ol-scale-text" style="width: '.concat(e,'px;">')+s+"</div>":"")+l.join("")}createMarker(e){const n=e==="absolute"?3:-10;return'<div class="ol-scale-step-marker" '+'style="position: '.concat(e,"; top: ").concat(n,'px;"')+"></div>"}createStepText(e,n,r,i,s){const o=(e===0?0:Math.round(i/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),l=e===0?-3:n/this.scaleBarSteps_*-1,u=e===0?0:n/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="'+"margin-left: ".concat(l,"px;")+"text-align: ".concat(e===0?"left":"center",";")+"min-width: ".concat(u,"px;")+"left: ".concat(r?n+"px":"unset",";")+'">'+o+"</div>"}getScaleForResolution(){const e=BO(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||M2,r=1e3/25.4;return e*r*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}var Ype=class extends Tl{constructor(e){e=e||{};var n=(e.className||"")+" ol-search"+(e.target?"":" ol-unselectable ol-control"),r=Ht.create("DIV",{className:n});super({element:r,target:e.target});var i=this;if(e.typing==null&&(e.typing=300),this._classname=e.className||"search",e.collapsed!==!1&&r.classList.add("ol-collapsed"),e.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",e.title||e.label||"Search"),this.button.addEventListener("click",function(){if(r.classList.toggle("ol-collapsed"),!r.classList.contains("ol-collapsed")){r.querySelector("input.search").focus();for(var f=r.querySelectorAll("li"),A=0;A<f.length;A++)f[A].classList.remove("select");l.value||i.drawList_()}}),r.appendChild(this.button)),e.inputLabel){var s=document.createElement("LABEL");s.innerText=e.inputLabel,r.appendChild(s)}var a,o="",l=this._input=document.createElement("INPUT");l.setAttribute("type","search"),l.setAttribute("class","search"),l.setAttribute("autocomplete","off"),l.setAttribute("placeholder",e.placeholder||"Search..."),l.addEventListener("change",function(f){i.dispatchEvent({type:"change:input",input:f,value:l.value})});var u=function(f){var A=r.querySelector("ul.autocomplete li.select"),m=l.value;if(f.key=="ArrowDown"||f.key=="ArrowUp"||f.key=="Down"||f.key=="Up")if(A){var g=/Down/.test(f.key)?A.nextElementSibling:A.previousElementSibling;g&&!g.classList.contains("copy")&&(A.classList.remove("select"),g.classList.add("select"),l.value=g.innerText)}else A=r.querySelector("ul.autocomplete li"),A.classList.add("select"),l.value=A.innerText;else if(f.type=="input")m||setTimeout(function(){i.drawList_()},200),A&&(l.value=m="",A.classList.remove("select"));else if(A&&(f.type==="search"||f.key==="Enter"))r.classList.contains("ol-control")&&l.blur(),A.classList.remove("select"),o=m,i._handleSelect(i._list[A.getAttribute("data-search")]);else if(f.type==="search"||f.key==="Enter"||o!=m&&e.typing>=0)if(o=m,o){a&&clearTimeout(a);var y=i.get("minLength");a=setTimeout(function(){if(o.length>=y){var _=i.autocomplete(o,function(x){i.drawList_(x)});_&&i.drawList_(_)}else i.drawList_()},e.typing)}else i.drawList_();else A=r.querySelector("ul.autocomplete li"),A&&A.classList.remove("select")};if(l.addEventListener("keyup",u),l.addEventListener("search",u),l.addEventListener("cut",u),l.addEventListener("paste",u),l.addEventListener("input",u),e.noCollapse||(l.addEventListener("blur",(function(){setTimeout((function(){l!==document.activeElement&&(r.classList.add("ol-collapsed"),this.set("reverse",!1),r.classList.remove("ol-revers"))}).bind(this),200)}).bind(this)),l.addEventListener("focus",(function(){this.get("reverse")||(r.classList.remove("ol-collapsed"),r.classList.remove("ol-revers"))}).bind(this)),l.addEventListener("keydown",(function(){this.set("reverse",!1),r.classList.remove("ol-collapsed"),r.classList.remove("ol-revers")}).bind(this))),r.appendChild(l),e.reverse){var h=Ht.create("BUTTON",{type:"button",class:"ol-revers",title:e.reverseTitle||"click on the map",on:{focus:(function(){this.get("reverse")?this.set("reverse",!1):(this.set("reverse",!this.get("reverse")),l.focus(),r.classList.add("ol-revers"))}).bind(this)}});r.appendChild(h)}var d=document.createElement("UL");d.classList.add("autocomplete"),r.appendChild(d),typeof e.getTitle=="function"&&(this.getTitle=e.getTitle),typeof e.autocomplete=="function"&&(this.autocomplete=e.autocomplete),this.set("copy",e.copy),this.set("minLength",e.minLength||1),this.set("maxItems",e.maxItems||10),this.set("maxHistory",e.maxHistory||e.maxItems||10),e.onselect&&this.on("select",e.onselect),e.centerOnSelect&&this.on("select",(function(f){var A=this.getMap();A&&A.getView().setCenter(f.coordinate)}).bind(this)),e.zoomOnSelect&&this.on("select",(function(f){var A=this.getMap();A&&(A.getView().setCenter(f.coordinate),A.getView().getZoom()<e.zoomOnSelect&&A.getView().setZoom(e.zoomOnSelect))}).bind(this)),this.restoreHistory(),this.drawList_()}setMap(e){this._listener&&Tf(this._listener),this._listener=null,super.setMap(e),e&&(this._listener=e.on("click",this._handleClick.bind(this)))}collapse(e){e===!1?this.element.classList.remove("ol-collapsed"):this.element.classList.add("ol-collapsed")}getInputField(){return this._input}getTitle(e){return e.name||"No title"}_getTitleTxt(e){return Ht.create("DIV",{html:this.getTitle(e)}).innerText}search(){var e=this.element.querySelector("input.search");this._triggerCustomEvent("search",e)}_handleClick(e){this.get("reverse")&&(document.activeElement.blur(),this.reverseGeocode(e.coordinate))}reverseGeocode(){}_triggerCustomEvent(e,n){Ht.dispatchEvent(e,n)}setInput(e,n){var r=this.element.querySelector("input.search");r.value=e,n&&this._triggerCustomEvent("keyup",r)}select(e,n,r,i){var s={type:"select",search:e,reverse:!!n,coordinate:r};if(i)for(var a in i)s[a]=i[a];this.dispatchEvent(s)}_handleSelect(e,n,r){if(e){var i=this.get("history"),s;try{var a=JSON.stringify(e);for(s=i.length-1;s>=0;s--)(!i[s]||JSON.stringify(i[s])===a)&&i.splice(s,1)}catch(l){for(s=i.length-1;s>=0;s--)i[s]===e&&i.splice(s,1)}i.unshift(e);for(var o=Math.max(0,this.get("maxHistory")||10)||0;i.length>o;)i.pop();this.saveHistory(),this.select(e,n,null,r),n&&(this.setInput(this._getTitleTxt(e)),this.drawList_(),setTimeout((function(){this.collapse(!1)}).bind(this),300))}}saveHistory(){try{this.get("maxHistory")>=0?localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history")):localStorage.removeItem("ol@search-"+this._classname)}catch(e){console.warn("Failed to access localStorage...")}}restoreHistory(){if(this._history[this._classname])this.set("history",this._history[this._classname]);else try{this._history[this._classname]=JSON.parse(localStorage["ol@search-"+this._classname]),this.set("history",this._history[this._classname])}catch(e){this.set("history",[])}}clearHistory(){this.set("history",[]),this.saveHistory(),this.drawList_()}getHistory(){return this.get("history")}autocomplete(e,n){return n([]),!1}drawList_(e){var n=this,r=this.element.querySelector("ul.autocomplete");if(r.innerHTML="",this._list=[],e)r.setAttribute("class","autocomplete");else{var i=this.element.querySelector("input.search"),s=i.value;if(!s)e=this.get("history");else return;r.setAttribute("class","autocomplete history")}for(var a,o=Math.min(n.get("maxItems"),e.length),l=0;l<o;l++)if(e[l]&&(!l||!n.equalFeatures(e[l],e[l-1]))){a=document.createElement("LI"),a.setAttribute("data-search",this._list.length),this._list.push(e[l]),a.addEventListener("click",function(h){n._handleSelect(n._list[h.currentTarget.getAttribute("data-search")])});var u=n.getTitle(e[l]);u instanceof Element?a.appendChild(u):a.innerHTML=u,r.appendChild(a)}o&&this.get("copy")&&(a=document.createElement("LI"),a.classList.add("copy"),a.innerHTML=this.get("copy"),r.appendChild(a))}equalFeatures(){return!1}};Ype.prototype._history={};var Rdt=class extends Tl{constructor(e){e=e||{};var n=document.createElement("div");super({element:n}),n.className=(e.className||"ol-swipe")+" ol-unselectable ol-control";var r=document.createElement("button");n.appendChild(r),n.addEventListener("mousedown",this.move.bind(this)),n.addEventListener("touchstart",this.move.bind(this)),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],e.layers&&this.addLayer(e.layers,!1),e.rightLayers&&this.addLayer(e.rightLayers,!0),this.on("propertychange",(function(i){if(this.getMap())try{this.getMap().renderSync()}catch(s){}this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),i.key==="orientation"&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach(function(s){s.layer.getImageRatio&&s.layer.changed()})}).bind(this)),this.set("position",e.position||.5),this.set("orientation",e.orientation||"vertical")}setMap(e){var n,r;if(this.getMap()){for(n=0;n<this.layers.length;n++)r=this.layers[n],r.right?r.layer.un(["precompose","prerender"],this.precomposeRight_):r.layer.un(["precompose","prerender"],this.precomposeLeft_),r.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(i){}}if(super.setMap(e),e){for(this._listener=[],n=0;n<this.layers.length;n++)r=this.layers[n],r.right?r.layer.on(["precompose","prerender"],this.precomposeRight_):r.layer.on(["precompose","prerender"],this.precomposeLeft_),r.layer.on(["postcompose","postrender"],this.postcompose_);try{e.renderSync()}catch(i){}}}isLayer_(e){for(var n=0;n<this.layers.length;n++)if(this.layers[n].layer===e)return n;return-1}addLayer(e,n){e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];if(this.isLayer_(i)<0&&(this.layers.push({layer:i,right:n}),this.getMap())){n?i.on(["precompose","prerender"],this.precomposeRight_):i.on(["precompose","prerender"],this.precomposeLeft_),i.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(s){}}}}removeLayers(){var e=[];this.layers.forEach(function(n){e.push(n.layer)}),this.removeLayer(e)}removeLayer(e){e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var r=this.isLayer_(e[n]);r>=0&&this.getMap()&&(this.layers[r].right?e[n].un(["precompose","prerender"],this.precomposeRight_):e[n].un(["precompose","prerender"],this.precomposeLeft_),e[n].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(r,1))}if(this.getMap())try{this.getMap().renderSync()}catch(i){}}getRectangle(){var e;return this.get("orientation")==="vertical"?(e=this.getMap().getSize(),[0,0,e[0]*this.get("position"),e[1]]):(e=this.getMap().getSize(),[0,0,e[0],e[1]*this.get("position")])}move(e){var n=this,r;switch(this._movefn||(this._movefn=this.move.bind(this)),e.type){case"touchcancel":case"touchend":case"mouseup":{n.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(l){document.removeEventListener(l,n._movefn)}),this.layers.forEach(function(l){l.layer.getImageRatio&&l.layer.changed()});break}case"mousedown":case"touchstart":n.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(l){document.addEventListener(l,n._movefn)});case"mousemove":case"touchmove":{if(n.isMoving)if(n.get("orientation")==="vertical"){var i=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX;if(!i)break;i-=n.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,r=n.getMap().getSize()[0];var s=r-Math.min(Math.max(0,r-i),r);r=s/r,n.set("position",r),n.dispatchEvent({type:"moving",size:[s,n.getMap().getSize()[1]],position:[r,0]})}else{var a=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY;if(!a)break;a-=n.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,r=n.getMap().getSize()[1];var o=r-Math.min(Math.max(0,r-a),r);r=o/r,n.set("position",r),n.dispatchEvent({type:"moving",size:[n.getMap().getSize()[0],o],position:[0,r]})}break}}}_transformPt(e,n){var r=e.inversePixelTransform,i=n[0],s=n[1];return n[0]=r[0]*i+r[2]*s+r[4],n[1]=r[1]*i+r[3]*s+r[5],n}_drawRect(e,n){var r=e.inversePixelTransform;if(r){var i=[[n[0][0],n[0][1]],[n[0][0],n[1][1]],[n[1][0],n[1][1]],[n[1][0],n[0][1]],[n[0][0],n[0][1]]];if(e.context.save(),e.target.getImageRatio){var s=-Math.atan2(e.frameState.pixelToCoordinateTransform[1],e.frameState.pixelToCoordinateTransform[0]);e.context.translate(e.frameState.size[0]/2,e.frameState.size[1]/2),e.context.rotate(s),e.context.translate(-e.frameState.size[0]/2,-e.frameState.size[1]/2)}i.forEach(function(o,l){o=[o[0]*r[0]-o[1]*r[1]+r[4],-o[0]*r[2]+o[1]*r[3]+r[5]],l?e.context.lineTo(o[0],o[1]):e.context.moveTo(o[0],o[1])}),e.context.restore()}else{var a=e.frameState.pixelRatio;e.context.rect(n[0][0]*a,n[0][1]*a,n[1][0]*a,n[1][1]*a)}}precomposeLeft(e){var n=e.context;if(n instanceof WebGLRenderingContext){if(e.type==="prerender"){this._lefttime!=e.frameState.time&&(n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),this._lefttime=e.frameState.time),n.enable(n.SCISSOR_TEST);var r=this.getMap().getSize(),i=this._transformPt(e,[0,r[1]]),s=this._transformPt(e,[r[0],0]),a=s[0]-i[0],o=s[1]-i[1],l,u;this.get("orientation")==="vertical"?(l=Math.round(a*this.get("position")),u=o):(l=a,u=Math.round(o*this.get("position")),i[1]+=o-u),n.scissor(i[0],i[1],l,u),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}}else{var h=e.frameState.size;n.save(),n.beginPath();var d=[[0,0],[h[0],h[1]]];this.get("orientation")==="vertical"?d[1]=[h[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),h[1]]:d[1]=[h[0],h[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,d),n.clip()}}precomposeRight(e){var n=e.context;if(n instanceof WebGLRenderingContext){if(e.type==="prerender"){this._righttime!=e.frameState.time&&(n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),this._righttime=e.frameState.time),n.enable(n.SCISSOR_TEST);var r=this.getMap().getSize(),i=this._transformPt(e,[0,r[1]]),s=this._transformPt(e,[r[0],0]),a=s[0]-i[0],o=s[1]-i[1],l,u;this.get("orientation")==="vertical"?(u=o,l=Math.round(a*(1-this.get("position"))),i[0]+=a-l):(l=a,u=Math.round(o*(1-this.get("position")))),n.scissor(i[0],i[1],l,u),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}}else{var h=e.frameState.size;n.save(),n.beginPath();var d=[[0,0],[h[0],h[1]]];this.get("orientation")==="vertical"?d[0]=[h[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),0]:d[0]=[0,h[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,d),n.clip()}}postcompose(e){if(e.context instanceof WebGLRenderingContext){if(e.type==="postrender"){var n=e.context;n.disable(n.SCISSOR_TEST)}}else e.target.getClassName&&e.target.getClassName()!=="ol-layer"&&e.target.get("declutter")?setTimeout(function(){e.context.restore()},0):e.context.restore()}},Idt=class extends Qpe{constructor(e){e=e||{},e.toggleFn&&(e.onToggle=e.toggleFn),e.handleClick=function(){n.toggle(),e.onToggle&&e.onToggle.call(n,n.getActive())},e.className=(e.className||"")+" ol-toggle",super(e);var n=this;this.interaction_=e.interaction,this.interaction_&&(this.interaction_.setActive(e.active),this.interaction_.on("change:active",function(){n.setActive(n.interaction_.getActive())})),this.set("title",e.title),this.set("autoActivate",e.autoActivate),e.bar&&this.setSubBar(e.bar),this.setActive(e.active),this.setDisable(e.disable)}setMap(e){!e&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),super.setMap(e),e&&(this.interaction_&&e.addInteraction(this.interaction_),this.subbar_&&e.addControl(this.subbar_))}getSubBar(){return this.subbar_}setSubBar(e){var n=this.getMap();n&&this.subbar_&&n.removeControl(this.subbar_),this.subbar_=e,e&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),n&&n.addControl(this.subbar_))}getDisable(){var e=this.element.querySelector("button");return e&&e.disabled}setDisable(e){this.getDisable()!=e&&(this.element.querySelector("button").disabled=e,e&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!e,disable:e}))}getActive(){return this.element.classList.contains("ol-active")}toggle(){this.getActive()?this.setActive(!1):this.setActive(!0)}setActive(e){this.interaction_&&this.interaction_.setActive(e),this.subbar_&&this.subbar_.setActive(e),this.getActive()!==e&&(e?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!e,active:e}))}setInteraction(e){this.interaction_=e}getInteraction(){return this.interaction_}},Zx=class extends Tl{constructor(e){e=e||{};var n=Ht.create("DIV",{className:(e.className||"ol-videorec")+" ol-unselectable ol-control"});super({element:n,target:e.target}),Ht.create("BUTTON",{type:"button",className:"ol-start",title:Zx.prototype.tips.start,click:(function(){this.start()}).bind(this),parent:n}),Ht.create("BUTTON",{type:"button",className:"ol-stop",title:Zx.prototype.tips.stop,click:(function(){this.stop()}).bind(this),parent:n}),Ht.create("BUTTON",{type:"button",className:"ol-pause",title:Zx.prototype.tips.pause,click:(function(){this.pause()}).bind(this),parent:n}),Ht.create("BUTTON",{type:"button",className:"ol-resume",title:Zx.prototype.tips.resume,click:(function(){this.resume()}).bind(this),parent:n}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),e.videoTarget==="DIALOG"?(this._dialog=new Kpe({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=e.videoTarget,this._printCtrl=new qpe({target:Ht.create("DIV")})}setTooltip(e,n){var r=this.element.querySelector("button.ol-"+e);r&&(r.title=n)}setMap(e){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))}start(){var e=this._printCtrl,n=!1;function r(i){n||e.fastPrint({canvas:i},r)}e.fastPrint({},(function(i){var s;try{s=i.captureStream(this.get("framerate")||30)}catch(o){this.dispatchEvent({type:"error",error:o});return}this._mediaRecorder=new MediaRecorder(s,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var a=[];this._mediaRecorder.ondataavailable=function(o){a.push(o.data)},this._mediaRecorder.onstop=(function(){n=!0;var o=new Blob(a,{type:"video/mp4"});if(a=[],this._videoTarget instanceof Element){var l;this._videoTarget.tagName==="VIDEO"?l=this._videoTarget:(l=this._videoTarget.querySelector("video"),l||(l=Ht.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),l.src=URL.createObjectURL(o),this.dispatchEvent({type:"stop",videoURL:l.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(o)})}).bind(this),this._mediaRecorder.onpause=(function(){n=!0,this.dispatchEvent({type:"pause"})}).bind(this),this._mediaRecorder.onresume=(function(){n=!1,r(i),this.dispatchEvent({type:"resume"})}).bind(this),this._mediaRecorder.onerror=(function(o){this.dispatchEvent({type:"error",error:o})}).bind(this),n=!1,r(i),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:i}),this.element.setAttribute("data-state","rec")}).bind(this))}stop(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))}pause(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))}resume(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))}};Zx.prototype.tips={start:"start video",stop:"stop",pause:"pause",resume:"resume"};var N1=class extends Tl{constructor(e){e=e||{};var n=n=Ht.create("DIV",{className:e.className||"ol-mapzone"});if(super({element:n,target:e.target}),!e.target){["ol-unselectable","ol-control","ol-collapsed"].forEach(function(s){n.classList.add(s)});var r=Ht.create("BUTTON",{type:"button",on:{click:(function(){n.classList.toggle("ol-collapsed"),i.forEach(function(s){s.updateSize()})}).bind(this)},parent:n});Ht.create("I",{parent:r})}this.set("centerOnClick",e.centerOnClick);var i=this._maps=[];this._projection=e.projection,this._layer=e.layer,e.zones.forEach(this.addZone.bind(this)),setTimeout(function(){i.forEach(function(s){s.updateSize()})})}setCollapsed(e){e?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(n){n.updateSize()})):this.element.classList.add("ol-collapsed")}setVisible(e){this.setCollapsed(!e)}getCollapsed(){return this.element.classList.contains("ol-collapsed")}getMaps(){return this._maps}getLength(){return this._maps.length}addZone(e){var n=new iA({zoom:6,center:[0,0],projection:this._projection}),r;e.map?r=oG(e.map.getView().calculateExtent(),e.map.getView().getProjection(),n.getProjection()):r=oG(e.extent,"EPSG:4326",n.getProjection());var i=Ht.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:(function(){var o=-1;this._maps.forEach(function(l,u){l.get("zone")===e&&(o=u)}),this.dispatchEvent({type:"select",zone:e,index:o,coordinate:Jc(r),extent:r}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(r),this.setVisible(!1)}).bind(this)}),s;e.layer?s=e.layer:typeof this._layer=="function"?s=this._layer(e):s=new this._layer.constructor({source:this._layer.getSource()});var a=new jg({target:i,view:n,controls:[],interactions:[],layers:[s]});a.set("zone",e),this._maps.push(a),n.fit(r),Ht.create("P",{html:e.title,parent:i})}removeZone(e){var n=this.element.querySelectorAll(".ol-mapzonezone")[e];n&&(n.remove(),this._maps.splice(e,1))}};N1.zones={};N1.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La runion",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}];N1.zones.TOM=[{title:"Polynsie Franaise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Caldonie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barthlemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}];N1.zones.DOMTOM=[{title:"Mtropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(N1.zones.DOM,N1.zones.TOM);const L2={VERTICAL:0,HORIZONTAL:1};class Pdt extends Tl{constructor(e){e=e||{},super({target:e.target,element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=L2.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=e.duration!==void 0?e.duration:200;const n=e.className!==void 0?e.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=n+"-thumb "+dm;const i=this.element;i.className=n+" "+dm+" "+bw,i.appendChild(r),i.addEventListener($g.POINTERDOWN,this.handleDraggerStart_.bind(this),!1),i.addEventListener($g.POINTERMOVE,this.handleDraggerDrag_.bind(this),!1),i.addEventListener($g.POINTERUP,this.handleDraggerEnd_.bind(this),!1),i.addEventListener(Yr.CLICK,this.handleContainerClick_.bind(this),!1),r.addEventListener(Yr.CLICK,Vst,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){const e=this.element;let n=e.offsetWidth,r=e.offsetHeight;if(n===0&&r===0)return this.sliderInitialized_=!1;const i=getComputedStyle(e);n-=parseFloat(i.paddingRight)+parseFloat(i.paddingLeft),r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom);const s=e.firstElementChild,a=getComputedStyle(s),o=s.offsetWidth+parseFloat(a.marginRight)+parseFloat(a.marginLeft),l=s.offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom);return this.thumbSize_=[o,l],n>r?(this.direction_=L2.HORIZONTAL,this.widthLimit_=n-o):(this.direction_=L2.VERTICAL,this.heightLimit_=r-l),this.sliderInitialized_=!0}handleContainerClick_(e){const n=this.getMap().getView(),r=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(r),s=n.getConstrainedZoom(n.getZoomForResolution(i));n.animateInternal({zoom:s,duration:this.duration_,easing:Dp})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){const n=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(n.style.left),this.startY_=e.clientY-parseFloat(n.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){const r=this.handleDraggerDrag_,i=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Ti(s,$g.POINTERMOVE,r,this),Ti(s,$g.POINTERUP,i,this))}}}handleDraggerDrag_(e){if(this.dragging_){const n=e.clientX-this.startX_,r=e.clientY-this.startY_,i=this.getRelativePosition_(n,r);this.currentResolution_=this.getResolutionForPosition_(i),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(ea),this.dragListenerKeys_.length=0)}setThumbPosition_(e){const n=this.getPositionForResolution_(e),r=this.element.firstElementChild;this.direction_==L2.HORIZONTAL?r.style.left=this.widthLimit_*n+"px":r.style.top=this.heightLimit_*n+"px"}getRelativePosition_(e,n){let r;return this.direction_===L2.HORIZONTAL?r=e/this.widthLimit_:r=n/this.heightLimit_,eo(r,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){const n=this.getMap().getView().getValueForResolutionFunction();return eo(1-n(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;const n=e.frameState.viewState.resolution;this.currentResolution_=n,this.setThumbPosition_(n)}}class Fdt extends Tl{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.extent=e.extent?e.extent:null;const n=e.className!==void 0?e.className:"ol-zoom-extent",r=e.label!==void 0?e.label:"E",i=e.tipLabel!==void 0?e.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=i,s.appendChild(typeof r=="string"?document.createTextNode(r):r),s.addEventListener(Yr.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+dm+" "+bw,o=this.element;o.className=a,o.appendChild(s)}handleClick_(e){e.preventDefault(),this.handleZoomToExtent()}handleZoomToExtent(){const n=this.getMap().getView(),r=this.extent?Gh(this.extent,n.getProjection()):n.getProjection().getExtent();n.fitInternal(q0(r))}}const wI={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class bI extends Zh{constructor(e,n){super(e),this.feature=n}}function Odt(t,e){const n=[];for(let r=0;r<e.length;++r){const s=e[r].getGeometry();Zpe(t,s,n)}return n}function xI(t,e){return pv(t[0],t[1],e[0],e[1])}function Jx(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function EI(t,e,n){let r,i;e<n?(r=e,i=n):(r=n,i=e);const s=Math.ceil(r),a=Math.floor(i);if(s>a){const l=eE(t,r),u=eE(t,i);return xI(l,u)}let o=0;if(r<s){const l=eE(t,r),u=Jx(t,s);o+=xI(l,u)}if(a<i){const l=Jx(t,a),u=eE(t,i);o+=xI(l,u)}for(let l=s;l<a-1;++l){const u=Jx(t,l),h=Jx(t,l+1);o+=xI(u,h)}return o}function Zpe(t,e,n){if(e instanceof Ca){SI(t,e.getCoordinates(),!1,n);return}if(e instanceof hc){const r=e.getCoordinates();for(let i=0,s=r.length;i<s;++i)SI(t,r[i],!1,n);return}if(e instanceof uo){const r=e.getCoordinates();for(let i=0,s=r.length;i<s;++i)SI(t,r[i],!0,n);return}if(e instanceof dc){const r=e.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length;o<l;++o)SI(t,a[o],!0,n)}return}if(e instanceof Hl){const r=e.getGeometries();for(let i=0;i<r.length;++i)Zpe(t,r[i],n);return}}const y3={index:-1,endIndex:NaN};function Ndt(t,e,n,r){const i=t[0],s=t[1];let a=1/0,o=-1,l=NaN;for(let d=0;d<e.targets.length;++d){const f=e.targets[d],A=f.coordinates;let m=1/0,g;for(let y=0;y<A.length-1;++y){const _=A[y],x=A[y+1],S=Jpe(i,s,_,x);S.squaredDistance<m&&(m=S.squaredDistance,g=y+S.along)}m<a&&(a=m,f.ring&&e.targetIndex===d&&(f.endIndex>f.startIndex?g<f.startIndex&&(g+=A.length):f.endIndex<f.startIndex&&g>f.startIndex&&(g-=A.length)),l=g,o=d)}const u=e.targets[o];let h=u.ring;if(e.targetIndex===o&&h){const d=eE(u.coordinates,l),f=n.getPixelFromCoordinate(d);CO(f,e.startPx)>r&&(h=!1)}if(h){const d=u.coordinates,f=d.length,A=u.startIndex,m=l;if(A<m){const g=EI(d,A,m);EI(d,A,m-f)<g&&(l-=f)}else{const g=EI(d,A,m);EI(d,A,m+f)<g&&(l+=f)}}return y3.index=o,y3.endIndex=l,y3}function SI(t,e,n,r){const i=t[0],s=t[1];for(let a=0,o=e.length-1;a<o;++a){const l=e[a],u=e[a+1],h=Jpe(i,s,l,u);if(h.squaredDistance===0){const d=a+h.along;r.push({coordinates:e,ring:n,startIndex:d,endIndex:d});return}}}const _3={along:0,squaredDistance:0};function Jpe(t,e,n,r){const i=n[0],s=n[1],a=r[0],o=r[1],l=a-i,u=o-s;let h=0,d=i,f=s;return(l!==0||u!==0)&&(h=eo(((t-i)*l+(e-s)*u)/(l*l+u*u),0,1),d+=l*h,f+=u*h),_3.along=h,_3.squaredDistance=nC(pv(t,e,d,f),10),_3}function eE(t,e){const n=t.length;let r=Math.floor(e);const i=e-r;r>=n?r-=n:r<0&&(r+=n);let s=r+1;s>=n&&(s-=n);const a=t[r],o=a[0],l=a[1],u=t[s],h=u[0]-o,d=u[1]-l;return[o+h*i,l+d*i]}class hQ extends Up{constructor(e){const n=e;n.stopDown||(n.stopDown=vw),super(n),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=kdt(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Mv,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let r=e.geometryFunction;if(!r){const i=this.mode_;if(i==="Circle")r=(s,a,o)=>{const l=a||new Tw([NaN,NaN]),u=_o(s[0]),h=gv(u,_o(s[s.length-1]));return l.setCenterAndRadius(u,Math.sqrt(h),this.geometryLayout_),l};else{let s;i==="Point"?s=oa:i==="LineString"?s=Ca:i==="Polygon"&&(s=uo),r=(a,o,l)=>(o?i==="Polygon"?a[0].length?o.setCoordinates([a[0].concat([a[0][0]])],this.geometryLayout_):o.setCoordinates([],this.geometryLayout_):o.setCoordinates(a,this.geometryLayout_):o=new s(a,this.geometryLayout_),o)}}this.geometryFunction_=r,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new fm({source:new Qv({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:Ddt(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:tD,this.freehandCondition_,e.freehand?this.freehandCondition_=wS:this.freehandCondition_=e.freehandCondition?e.freehandCondition:jL,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(hG.ACTIVE,this.updateState_)}setTrace(e){let n;e?e===!0?n=wS:n=e:n=kO,this.traceCondition_=n}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===Yr.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let n=e.type===Xs.POINTERMOVE,r=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Xs.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Xs.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===Xs.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=e.type===Xs.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===Xs.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===Xs.DBLCLICK&&(r=!1),super.handleEvent(e)&&r}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Ug(Xs.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const n=this.getMap(),r=n.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=n.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),s=rl([r,i]),a=this.traceSource_.getFeaturesInExtent(s);if(a.length===0)return;const o=Odt(e.coordinate,a);o.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:o,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,n){const r=e.startIndex<=e.endIndex,i=e.startIndex<=n;r===i?r&&n>e.endIndex||!r&&n<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,n):(r&&n<e.endIndex||!r&&n>e.endIndex)&&this.removeTracedCoordinates_(n,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,n))}removeTracedCoordinates_(e,n){if(e===n)return;let r=0;if(e<n){const i=Math.ceil(e);let s=Math.floor(n);s===n&&(s-=1),r=s-i+1}else{const i=Math.floor(e);let s=Math.ceil(n);s===n&&(s+=1),r=i-s+1}r>0&&this.removeLastPoints_(r)}addTracedCoordinates_(e,n,r){if(n===r)return;const i=[];if(n<r){const s=Math.ceil(n);let a=Math.floor(r);a===r&&(a-=1);for(let o=s;o<=a;++o)i.push(Jx(e.coordinates,o))}else{const s=Math.floor(n);let a=Math.ceil(r);a===r&&(a+=1);for(let o=s;o>=a;--o)i.push(Jx(e.coordinates,o))}i.length&&this.appendCoordinates(i)}updateTrace_(e){const n=this.traceState_;if(!n.active||n.targetIndex===-1&&CO(n.startPx,e.pixel)<this.snapTolerance_)return;const r=Ndt(e.coordinate,n,this.getMap(),this.snapTolerance_);if(n.targetIndex!==r.index){if(n.targetIndex!==-1){const l=n.targets[n.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const o=n.targets[r.index];this.addTracedCoordinates_(o,o.startIndex,r.endIndex)}else{const o=n.targets[n.targetIndex];this.addOrRemoveTracedCoordinates_(o,r.endIndex)}n.targetIndex=r.index;const i=n.targets[n.targetIndex];i.endIndex=r.endIndex;const s=eE(i.coordinates,i.endIndex),a=this.getMap().getPixelFromCoordinate(s);e.coordinate=s,e.pixel=[Math.round(a[0]),Math.round(a[1])]}handleUpEvent(e){let n=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const r=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_==="Point")&&(this.atFinish_(e.pixel,r)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),n=!1}else this.freehand_&&this.abortDrawing()}return!n&&this.stopClick_&&e.preventDefault(),n}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const n=this.downPx_,r=e.pixel,i=n[0]-r[0],s=n[1]-r[1],a=i*i+s*s;if(this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,n){let r=!1;if(this.sketchFeature_){let i=!1,s=[this.finishCoordinate_];const a=this.mode_;if(a==="Point")r=!0;else if(a==="Circle")r=this.sketchCoords_.length===2;else if(a==="LineString")i=!n&&this.sketchCoords_.length>this.minPoints_;else if(a==="Polygon"){const o=this.sketchCoords_;i=o[0].length>this.minPoints_,s=[o[0][0],o[0][o[0].length-2]],n?s=[o[0][0]]:s=[o[0][0],o[0][o[0].length-2]]}if(i){const o=this.getMap();for(let l=0,u=s.length;l<u;l++){const h=s[l],d=o.getPixelFromCoordinate(h),f=e[0]-d[0],A=e[1]-d[1],m=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(f*f+A*A)<=m,r){this.finishCoordinate_=h;break}}}}return r}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new vs(new oa(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new vs);const n=e.getLinearRing(0);let r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(n.getLayout(),n.getFlatCoordinates()),r.changed()):(r=new Ca(n.getFlatCoordinates(),n.getLayout()),this.sketchLine_.setGeometry(r))}startDrawing_(e){const n=this.getMap().getView().getProjection(),r=VM(this.geometryLayout_);for(;e.length<r;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new vs(new Ca(this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new vs,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new bI(wI.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const n=this.getMap(),r=this.sketchFeature_.getGeometry(),i=n.getView().getProjection(),s=VM(this.geometryLayout_);let a,o;for(;e.length<s;)e.push(0);this.mode_==="Point"?o=this.sketchCoords_:this.mode_==="Polygon"?(a=this.sketchCoords_[0],o=a[a.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(a=this.sketchCoords_,o=a[a.length-1]),o[0]=e[0],o[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),r.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection();let i,s;const a=this.mode_;return a==="LineString"||a==="Circle"?(this.finishCoordinate_=e.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(e.slice()),this.geometryFunction_(s,n,r)):a==="Polygon"&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():i=!0),s.push(e.slice()),i&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,n,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i=this.mode_;for(let s=0;s<e;++s){let a;if(i==="LineString"||i==="Circle"){if(a=this.sketchCoords_,a.splice(-2,1),a.length>=2){this.finishCoordinate_=a[a.length-2].slice();const o=this.finishCoordinate_.slice();a[a.length-1]=o,this.createOrUpdateSketchPoint_(o)}this.geometryFunction_(a,n,r),n.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(n)}else if(i==="Polygon"){a=this.sketchCoords_[0],a.splice(-2,1);const o=this.sketchLine_.getGeometry();if(a.length>=2){const l=a[a.length-2].slice();a[a.length-1]=l,this.createOrUpdateSketchPoint_(l)}o.setCoordinates(a),this.geometryFunction_(this.sketchCoords_,n,r)}if(a.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let n=this.sketchCoords_;const r=e.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(n.pop(),this.geometryFunction_(n,r,i)):this.mode_==="Polygon"&&(n[0].pop(),this.geometryFunction_(n,r,i),n=r.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new zd([n])):this.type_==="MultiLineString"?e.setGeometry(new hc([n])):this.type_==="MultiPolygon"&&e.setGeometry(new dc([n])),this.dispatchEvent(new bI(wI.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new bI(wI.DRAWABORT,e))}appendCoordinates(e){const n=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(e[0]);let i;if(n==="LineString"||n==="Circle")i=this.sketchCoords_;else if(n==="Polygon")i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&i.shift(),i.pop();for(let a=0;a<e.length;a++)this.addToDrawing_(e[a]);const s=e[e.length-1];this.sketchFeature_=this.addToDrawing_(s),this.modifyDrawing_(s)}extend(e){const r=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=r.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new vs(new oa(i)),this.updateSketchFeatures_(),this.dispatchEvent(new bI(wI.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const n=this.overlay_.getSource();n.clear(!0),n.addFeatures(e)}updateState_(){const e=this.getMap(),n=this.getActive();(!e||!n)&&this.abortDrawing(),this.overlay_.setMap(n?e:null)}}function Ddt(){const t=N9();return function(e,n){return t[e.getGeometry().getType()]}}function kdt(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}const Wee=0,HT=1,jee=[0,0,0,0],LE=[],w3={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class b3 extends Zh{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class dQ extends Up{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:E9,this.defaultDeleteCondition_=function(r){return xAe(r)&&eD(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:wS,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new QO,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new fm({source:new Qv({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:Hdt(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new Ec(this.source_.getFeatures()),this.source_.addEventListener(Ko.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(Ko.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(_l.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(_l.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(r.getCoordinateFromPixel(this.lastPixel_)),e.addEventListener(Yr.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Ec;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const a=n[i].feature;a&&!r.includes(a)&&this.featuresBeingModified_.push(a)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new b3(w3.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Yr.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let a=this.dragSegments_.length-1;a>=0;--a)this.dragSegments_[a][0]===s&&this.dragSegments_.splice(a,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i],o={feature:e,geometry:n,depth:[i],index:i,segment:[a,a]};this.rBush_.insert(n.getExtent(),o)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const a=r.slice(i,i+2),o={feature:e,geometry:n,index:i,segment:a};this.rBush_.insert(rl(a),o)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length-1;o<l;++o){const u=a.slice(o,o+2),h={feature:e,geometry:n,depth:[i],index:o,segment:u};this.rBush_.insert(rl(u),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length-1;o<l;++o){const u=a.slice(o,o+2),h={feature:e,geometry:n,depth:[i],index:o,segment:u};this.rBush_.insert(rl(u),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length;o<l;++o){const u=a[o];for(let h=0,d=u.length-1;h<d;++h){const f=u.slice(h,h+2),A={feature:e,geometry:n,depth:[o,i],index:h,segment:f};this.rBush_.insert(rl(f),A)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Wee,segment:[r,r]},s={feature:e,geometry:n,index:HT,segment:[r,r]},a=[i,s];i.featureSegments=a,s.featureSegments=a,this.rBush_.insert(B1(r),i);let o=n;this.rBush_.insert(o.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],a=this.SEGMENT_WRITERS_[s.getType()];a(e,s)}}createOrUpdateVertexFeature_(e,n,r,i){let s=this.vertexFeature_;return s?s.getGeometry().setCoordinates(e):(s=new vs(new oa(e)),this.vertexFeature_=s,this.overlay_.getSource().addFeature(s)),s.set("features",n),s.set("geometries",r),s.set("existing",i),s}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==Xs.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Xs.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==Xs.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}findInsertVerticesAndUpdateDragSegments_(e){this.handlePointerAtPixel_(e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const n=this.vertexFeature_;if(!n)return;this.getMap().getView().getProjection();const r=[],i=n.getGeometry().getCoordinates(),s=rl([i]),a=this.rBush_.getInExtent(s),o={};a.sort(Udt);for(let l=0,u=a.length;l<u;++l){const h=a[l],d=h.segment;let f=Sr(h.geometry);const A=h.depth;if(A&&(f+="-"+A.join("-")),o[f]||(o[f]=new Array(2)),h.geometry.getType()==="Circle"&&h.index===HT){const m=qee(e,h);Ih(m,i)&&!o[f][0]&&(this.dragSegments_.push([h,0]),o[f][0]=h);continue}if(Ih(d[0],i)&&!o[f][0]){this.dragSegments_.push([h,0]),o[f][0]=h;continue}if(Ih(d[1],i)&&!o[f][1]){if(o[f][0]&&o[f][0].index===0){let m=h.geometry.getCoordinates();switch(h.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":m=m[A[1]];case"Polygon":if(h.index!==m[A[0]].length-2)continue;break}}this.dragSegments_.push([h,1]),o[f][1]=h;continue}Sr(d)in this.vertexSegments_&&!o[f][0]&&!o[f][1]&&r.push(h)}return r}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_.map(([s])=>s));const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,a=this.dragSegments_.length;s<a;++s){const o=this.dragSegments_[s],l=o[0],u=l.feature;r.includes(u)||r.push(u);const h=l.geometry;i.includes(h)||i.push(h);const d=l.depth;let f;const A=l.segment,m=o[1];for(;n.length<h.getStride();)n.push(A[m][n.length]);switch(h.getType()){case"Point":f=n,A[0]=n,A[1]=n;break;case"MultiPoint":f=h.getCoordinates(),f[l.index]=n,A[0]=n,A[1]=n;break;case"LineString":f=h.getCoordinates(),f[l.index+m]=n,A[m]=n;break;case"MultiLineString":f=h.getCoordinates(),f[d[0]][l.index+m]=n,A[m]=n;break;case"Polygon":f=h.getCoordinates(),f[d[0]][l.index+m]=n,A[m]=n;break;case"MultiPolygon":f=h.getCoordinates(),f[d[1]][d[0]][l.index+m]=n,A[m]=n;break;case"Circle":const g=h;if(A[0]=n,A[1]=n,l.index===Wee)this.changingFeature_=!0,g.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let y=CO(_o(g.getCenter()),_o(n));g.setRadius(y),this.changingFeature_=!1}break}f&&this.setGeometryCoordinates_(h,f)}this.createOrUpdateVertexFeature_(n,r,i,!0)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate,r=this.findInsertVerticesAndUpdateDragSegments_(n);if(r!=null&&r.length&&this.insertVertexCondition_(e)&&(this.willModifyFeatures_(e,r),this.vertexFeature_)){const i=this.vertexFeature_.getGeometry().getCoordinates();for(let s=r.length-1;s>=0;--s)this.insertVertex_(r[s],i);this.ignoreNextSingleClick_=!0}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i,a=s.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=a,o.segment[1]=a,l.segment[0]=a,l.segment[1]=a,this.rBush_.update(B1(a),o);let u=s;this.rBush_.update(u.getExtent(),l)}else this.rBush_.update(rl(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new b3(w3.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.coordinate)}handlePointerAtPixel_(e){const n=this.getMap(),r=n.getPixelFromCoordinate(e);n.getView().getProjection();const i=function(o,l){return Kee(e,o)-Kee(e,l)};let s,a;if(this.hitDetection_){const o=typeof this.hitDetection_=="object"?l=>l===this.hitDetection_:void 0;n.forEachFeatureAtPixel(r,(l,u,h)=>{h&&h.getType()==="Point"&&(h=new oa(Bv(h.getCoordinates())));const d=h||l.getGeometry();if(d&&d.getType()==="Point"&&l instanceof vs&&this.features_.getArray().includes(l)){a=d;const f=l.getGeometry().getFlatCoordinates().slice(0,2);s=[{feature:l,geometry:a,segment:[f,f]}]}return!0},{layerFilter:o})}if(!s){const o=Gh(B1(e,jee)),l=n.getView().getResolution()*this.pixelTolerance_,u=_w(uc(o,l,jee));s=this.rBush_.getInExtent(u)}if(s&&s.length>0){const o=s.sort(i)[0],l=o.segment;let u=qee(e,o);const h=n.getPixelFromCoordinate(u);let d=CO(r,h);if(a||d<=this.pixelTolerance_){const f={};if(f[Sr(l)]=!0,this.snapToPointer_||(this.delta_[0]=u[0]-e[0],this.delta_[1]=u[1]-e[1]),o.geometry.getType()==="Circle"&&o.index===HT)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(u,[o.feature],[o.geometry],this.snappedToVertex_);else{const A=n.getPixelFromCoordinate(l[0]),m=n.getPixelFromCoordinate(l[1]),g=gv(h,A),y=gv(h,m);if(d=Math.sqrt(Math.min(g,y)),this.snappedToVertex_=d<=this.pixelTolerance_,!this.snappedToVertex_&&!this.insertVertexCondition_(this.lastPointerEvent_)){this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);return}this.snappedToVertex_&&(u=g>y?l[1]:l[0]),this.createOrUpdateVertexFeature_(u,[o.feature],[o.geometry],this.snappedToVertex_);const _={};_[Sr(o.geometry)]=!0;for(let x=1,S=s.length;x<S;++x){const C=s[x].segment;if(Ih(l[0],C[0])&&Ih(l[1],C[1])||Ih(l[0],C[1])&&Ih(l[1],C[0])){const M=Sr(s[x].geometry);M in _||(_[M]=!0,f[Sr(C)]=!0)}else break}}this.vertexSegments_=f;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,a=e.depth,o=e.index;let l;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":l=s.getCoordinates(),l[a[0]].splice(o+1,0,n);break;case"Polygon":l=s.getCoordinates(),l[a[0]].splice(o+1,0,n);break;case"MultiPolygon":l=s.getCoordinates(),l[a[1]][a[0]].splice(o+1,0,n);break;case"LineString":l=s.getCoordinates(),l.splice(o+1,0,n);break;default:return!1}this.setGeometryCoordinates_(s,l);const u=this.rBush_;u.remove(e),this.updateSegmentIndices_(s,o,a,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:a,index:o};u.insert(rl(h.segment),h),this.dragSegments_.push([h,1]);const d={segment:[n,r[1]],feature:i,geometry:s,depth:a,index:o+1};return u.insert(rl(d.segment),d),this.dragSegments_.push([d,0]),!0}updatePointer_(e){var n;return e&&this.findInsertVerticesAndUpdateDragSegments_(e),(n=this.vertexFeature_)==null?void 0:n.getGeometry().getCoordinates()}getPoint(){var n;const e=(n=this.vertexFeature_)==null?void 0:n.getGeometry().getCoordinates();return e?Bv(e,this.getMap().getView().getProjection()):null}canRemovePoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(r=>r.getType()==="Circle"||r.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(rl([e])).some(({segment:r})=>Ih(r[0],e)||Ih(r[1],e))}removePoint(e){if(e&&(e=_o(e,this.getMap().getView().getProjection()),this.updatePointer_(e)),!this.lastPointerEvent_||this.lastPointerEvent_&&this.lastPointerEvent_.type!=Xs.POINTERDRAG){const n=this.lastPointerEvent_;this.willModifyFeatures_(n,this.dragSegments_.map(([i])=>i));const r=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new b3(w3.MODIFYEND,this.featuresBeingModified_,n)),this.featuresBeingModified_=null,r}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,a,o,l,u,h,d,f,A,m;for(l=e.length-1;l>=0;--l)a=e[l],A=a[0],m=Sr(A.feature),A.depth&&(m+="-"+A.depth.join("-")),m in n||(n[m]={}),a[1]===0?(n[m].right=A,n[m].index=A.index):a[1]==1&&(n[m].left=A,n[m].index=A.index+1);for(m in n){switch(f=n[m].right,h=n[m].left,u=n[m].index,d=u-1,h!==void 0?A=h:A=f,d<0&&(d=0),o=A.geometry,s=o.getCoordinates(),i=s,r=!1,o.getType()){case"MultiLineString":s[A.depth[0]].length>2&&(s[A.depth[0]].splice(u,1),r=!0);break;case"LineString":s.length>2&&(s.splice(u,1),r=!0);break;case"MultiPolygon":i=i[A.depth[1]];case"Polygon":i=i[A.depth[0]],i.length>4&&(u==i.length-1&&(u=0),i.splice(u,1),r=!0,u===0&&(i.pop(),i.push(i[0]),d=i.length-1));break}if(r){this.setGeometryCoordinates_(o,s);const g=[];if(h!==void 0&&(this.rBush_.remove(h),g.push(h.segment[0])),f!==void 0&&(this.rBush_.remove(f),g.push(f.segment[1])),h!==void 0&&f!==void 0){const y={depth:A.depth,feature:A.feature,geometry:A.geometry,index:d,segment:g};this.rBush_.insert(rl(y.segment),y)}this.updateSegmentIndices_(o,u,A.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}canInsertPoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(r=>r.getType()==="Circle"||r.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(rl([e])).some(({segment:r})=>!(Ih(r[0],e)||Ih(r[1],e)))}insertPoint(e){var i;const n=e?_o(e,this.getMap().getView().getProjection()):(i=this.vertexFeature_)==null?void 0:i.getGeometry().getCoordinates();return n?this.findInsertVerticesAndUpdateDragSegments_(n).reduce((s,a)=>s||this.insertVertex_(a,n),!1):!1}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||vm(s.depth,r))&&s.index>n&&(s.index+=i)})}}function Udt(t,e){return t.index-e.index}function Kee(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===HT){const a=gv(s.getCenter(),_o(t)),o=Math.sqrt(a)-s.getRadius();return o*o}}const i=_o(t);return LE[0]=_o(e.segment[0]),LE[1]=_o(e.segment[1]),iat(i,LE)}function qee(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===HT)return Bv(r.getClosestPoint(_o(t)));const i=_o(t);return LE[0]=_o(e.segment[0]),LE[1]=_o(e.segment[1]),Bv(K7(i,LE))}function Hdt(){const t=N9();return function(e,n){return t.Point}}class Gdt extends Up{constructor(e){e=e||{},super(e),this.condition_=e.condition?e.condition:jL,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=e.duration!==void 0?e.duration:400}handleDragEvent(e){if(!I1(e))return;const n=e.map,r=n.getSize(),i=e.pixel,s=i[0]-r[0]/2,a=r[1]/2-i[1],o=Math.atan2(a,s),l=Math.sqrt(s*s+a*a),u=n.getView();if(this.lastAngle_!==void 0){const h=this.lastAngle_-o;u.adjustRotationInternal(h)}this.lastAngle_=o,this.lastMagnitude_!==void 0&&u.adjustResolutionInternal(this.lastMagnitude_/l),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}handleUpEvent(e){if(!I1(e))return!0;const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),this.lastScaleDelta_=0,!1}handleDownEvent(e){return I1(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1}}function Vdt(t){return nC(t,5)}function rT(t){return parseFloat(t)}function iT(t){return Vdt(t).toString()}function rN(t,e){return isNaN(t)?!1:t!==rT(iT(e))}function zdt(t,e){return rN(t[0],e[0])||rN(t[1],e[1])}class $dt extends kp{constructor(e){super(),e=Object.assign({animate:!0,params:["x","y","z","r","l"],replace:!1,prefix:""},e||{});let n;e.animate===!0?n={duration:250}:e.animate?n=e.animate:n=null,this.animationOptions_=n,this.params_=e.params.reduce((r,i)=>(r[i]=!0,r),{}),this.replace_=e.replace,this.prefix_=e.prefix,this.listenerKeys_=[],this.initial_=!0,this.updateState_=this.updateState_.bind(this),this.trackedCallbacks_={},this.trackedValues_={}}getParamName_(e){return this.prefix_?this.prefix_+e:e}get_(e,n){return e.get(this.getParamName_(n))}set_(e,n,r){n in this.params_&&e.set(this.getParamName_(n),r)}delete_(e,n){n in this.params_&&e.delete(this.getParamName_(n))}setMap(e){const n=this.getMap();super.setMap(e),e!==n&&(n&&this.unregisterListeners_(n),e&&(this.initial_=!0,this.updateState_(),this.registerListeners_(e)))}registerListeners_(e){this.listenerKeys_.push(Ti(e,ip.MOVEEND,this.updateUrl_,this),Ti(e.getLayerGroup(),Yr.CHANGE,this.updateUrl_,this),Ti(e,"change:layergroup",this.handleChangeLayerGroup_,this)),this.replace_||addEventListener("popstate",this.updateState_)}unregisterListeners_(e){for(let i=0,s=this.listenerKeys_.length;i<s;++i)ea(this.listenerKeys_[i]);this.listenerKeys_.length=0,this.replace_||removeEventListener("popstate",this.updateState_);const n=new URL(window.location.href),r=n.searchParams;this.delete_(r,"x"),this.delete_(r,"y"),this.delete_(r,"z"),this.delete_(r,"r"),this.delete_(r,"l"),window.history.replaceState(null,"",n)}handleChangeLayerGroup_(){const e=this.getMap();e&&(this.unregisterListeners_(e),this.registerListeners_(e),this.initial_=!0,this.updateUrl_())}updateState_(){const n=new URL(window.location.href).searchParams;for(const f in this.trackedCallbacks_){const A=n.get(f);f in this.trackedCallbacks_&&A!==this.trackedValues_[f]&&(this.trackedValues_[f]=A,this.trackedCallbacks_[f](A))}const r=this.getMap();if(!r)return;const i=r.getView();if(!i)return;let s=!1;const a={},o=rT(this.get_(n,"z"));"z"in this.params_&&rN(o,i.getZoom())&&(s=!0,a.zoom=o);const l=rT(this.get_(n,"r"));"r"in this.params_&&rN(l,i.getRotation())&&(s=!0,a.rotation=l);const u=[rT(this.get_(n,"x")),rT(this.get_(n,"y"))];("x"in this.params_||"y"in this.params_)&&zdt(u,i.getCenter())&&(s=!0,a.center=u),s&&(!this.initial_&&this.animationOptions_?i.animate(Object.assign(a,this.animationOptions_)):(a.center&&i.setCenter(a.center),"zoom"in a&&i.setZoom(a.zoom),"rotation"in a&&i.setRotation(a.rotation)));const h=r.getAllLayers(),d=this.get_(n,"l");if("l"in this.params_&&d&&d.length===h.length)for(let f=0,A=h.length;f<A;++f){const m=parseInt(d[f]);if(!isNaN(m)){const g=!!m,y=h[f];y.getVisible()!==g&&y.setVisible(g)}}}track(e,n){this.trackedCallbacks_[e]=n;const s=new URL(window.location.href).searchParams.get(e);return this.trackedValues_[e]=s,s}update(e,n){const r=new URL(window.location.href),i=r.searchParams;n===null?i.delete(e):i.set(e,n),e in this.trackedValues_&&(this.trackedValues_[e]=n),this.updateHistory_(r)}updateUrl_(){const e=this.getMap();if(!e)return;const n=e.getView();if(!n)return;const r=n.getCenter(),i=n.getZoom(),s=n.getRotation(),a=e.getAllLayers(),o=new Array(a.length);for(let h=0,d=a.length;h<d;++h)o[h]=a[h].getVisible()?"1":"0";const l=new URL(window.location.href),u=l.searchParams;this.set_(u,"x",iT(r[0])),this.set_(u,"y",iT(r[1])),this.set_(u,"z",iT(i)),this.set_(u,"r",iT(s)),this.set_(u,"l",o.join("")),this.updateHistory_(l),this.initial_=!1}updateHistory_(e){e.href!==window.location.href&&(this.initial_||this.replace_?window.history.replaceState(history.state,"",e):window.history.pushState(null,"",e))}}const Qdt={SELECT:"select"};class Wdt extends Zh{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const CI={};class vD extends kp{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:eD,this.addCondition_=e.addCondition?e.addCondition:kO,this.removeCondition_=e.removeCondition?e.removeCondition:kO,this.toggleCondition_=e.toggleCondition?e.toggleCondition:jL,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Mv,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:jdt(),this.features_=e.features||new Ec;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=Mv;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[Sr(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Sr(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(_l.ADD,this.boundAddFeature_),this.features_.addEventListener(_l.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(_l.ADD,this.boundAddFeature_),this.features_.removeEventListener(_l.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof fm&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=Sr(e);n in CI||(CI[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof vD&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=Sr(e);e.setStyle(CI[r]),delete CI[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Sr(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,a=e.map,o=this.getFeatures(),l=[],u=[];if(s){yw(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,(h,d)=>{if(!(!(h instanceof vs)||!this.filter_(h,d)))return this.addFeatureLayerAssociation_(h,d),u.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=o.getLength()-1;h>=0;--h){const d=o.item(h),f=u.indexOf(d);f>-1?u.splice(f,1):(o.remove(d),l.push(d))}u.length!==0&&o.extend(u)}else{a.forEachFeatureAtPixel(e.pixel,(h,d)=>{if(!(!(h instanceof vs)||!this.filter_(h,d)))return(n||i)&&!o.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,d),u.push(h)):(r||i)&&o.getArray().includes(h)&&(l.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.length-1;h>=0;--h)o.remove(l[h]);o.extend(u)}return(u.length>0||l.length>0)&&this.dispatchEvent(new Wdt(Qdt.SELECT,u,l,e)),!0}}function jdt(){const t=N9();return qs(t.Polygon,t.LineString),qs(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}const Kdt={SNAP:"snap"};class qdt extends Zh{constructor(e,n){super(e),this.vertex=n.vertex,this.vertexPixel=n.vertexPixel,this.feature=n.feature,this.segment=n.segment}}function Xee(t){return t.feature?t.feature:t.element?t.element:null}const x3=[];class Xdt extends Up{constructor(e){e=e||{};const n=e;n.handleDownEvent||(n.handleDownEvent=Mv),n.stopDown||(n.stopDown=vw),super(n),this.on,this.once,this.un,this.source_=e.source?e.source:null,this.vertex_=e.vertex!==void 0?e.vertex:!0,this.edge_=e.edge!==void 0?e.edge:!0,this.features_=e.features?e.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.rBush_=new QO,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(e,n){n=n!==void 0?n:!0;const r=Sr(e),i=e.getGeometry();if(i){const s=this.GEOMETRY_SEGMENTERS_[i.getType()];if(s){this.indexedFeaturesExtents_[r]=i.getExtent(ol());const a=[];if(s(a,i),a.length===1)this.rBush_.insert(rl(a[0]),{feature:e,segment:a[0]});else if(a.length>1){const o=a.map(u=>rl(u)),l=a.map(u=>({feature:e,segment:u}));this.rBush_.load(o,l)}}}n&&(this.featureChangeListenerKeys_[r]=Ti(e,Yr.CHANGE,this.handleFeatureChange_,this))}getFeatures_(){let e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e}handleEvent(e){const n=this.snapTo(e.pixel,e.coordinate,e.map);return n&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel,this.dispatchEvent(new qdt(Kdt.SNAP,{vertex:e.coordinate,vertexPixel:e.pixel,feature:n.feature,segment:n.segment}))),super.handleEvent(e)}handleFeatureAdd_(e){const n=Xee(e);n&&this.addFeature(n)}handleFeatureRemove_(e){const n=Xee(e);n&&this.removeFeature(n)}handleFeatureChange_(e){const n=e.target;if(this.handlingDownUpSequence){const r=Sr(n);r in this.pendingFeatures_||(this.pendingFeatures_[r]=n)}else this.updateFeature_(n)}handleUpEvent(e){const n=Object.values(this.pendingFeatures_);return n.length&&(n.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(e,n){const r=n!==void 0?n:!0,i=Sr(e),s=this.indexedFeaturesExtents_[i];if(s){const a=this.rBush_,o=[];a.forEachInExtent(s,function(l){e===l.feature&&o.push(l)});for(let l=o.length-1;l>=0;--l)a.remove(o[l])}r&&(ea(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])}setMap(e){const n=this.getMap(),r=this.featuresListenerKeys_,i=this.getFeatures_();n&&(r.forEach(ea),r.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(ea),this.featureChangeListenerKeys_={}),super.setMap(e),e&&(this.features_?r.push(Ti(this.features_,_l.ADD,this.handleFeatureAdd_,this),Ti(this.features_,_l.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push(Ti(this.source_,Ko.ADDFEATURE,this.handleFeatureAdd_,this),Ti(this.source_,Ko.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(s=>this.addFeature(s)))}snapTo(e,n,r){r.getView().getProjection();const i=_o(n),s=_w(uc(rl([i]),r.getView().getResolution()*this.pixelTolerance_)),a=this.rBush_.getInExtent(s),o=a.length;if(o===0)return null;let l,u=1/0,h,d=null;const f=this.pixelTolerance_*this.pixelTolerance_,A=()=>{if(l){const m=r.getPixelFromCoordinate(l);if(gv(e,m)<=f)return{vertex:l,vertexPixel:[Math.round(m[0]),Math.round(m[1])],feature:h,segment:d}}return null};if(this.vertex_){for(let g=0;g<o;++g){const y=a[g];y.feature.getGeometry().getType()!=="Circle"&&y.segment.forEach(_=>{const x=_o(_),S=gv(i,x);S<u&&(l=_,u=S,h=y.feature)})}const m=A();if(m)return m}if(this.edge_){for(let g=0;g<o;++g){let y=null;const _=a[g];if(_.feature.getGeometry().getType()==="Circle"){let x=_.feature.getGeometry();y=rat(i,x)}else{const[x,S]=_.segment;S&&(x3[0]=_o(x),x3[1]=_o(S),y=K7(i,x3))}if(y){const x=gv(i,y);x<u&&(l=Bv(y),d=_.feature.getGeometry().getType()==="Circle"?null:_.segment,u=x,h=_.feature)}}const m=A();if(m)return m}return null}updateFeature_(e){this.removeFeature(e,!1),this.addFeature(e,!1)}segmentCircleGeometry_(e,n){this.getMap().getView().getProjection();const s=not(n).getCoordinates()[0];for(let a=0,o=s.length-1;a<o;++a)e.push(s.slice(a,a+2))}segmentGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=this.GEOMETRY_SEGMENTERS_[r[i].getType()];s&&s(e,r[i])}}segmentLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i)e.push(r.slice(i,i+2))}segmentMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length-1;o<l;++o)e.push(a.slice(o,o+2))}}segmentMultiPointGeometry_(e,n){n.getCoordinates().forEach(r=>{e.push([r])})}segmentMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length;o<l;++o){const u=a[o];for(let h=0,d=u.length-1;h<d;++h)e.push(u.slice(h,h+2))}}}segmentPointGeometry_(e,n){e.push([n.getCoordinates()])}segmentPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const a=r[i];for(let o=0,l=a.length-1;o<l;++o)e.push(a.slice(o,o+2))}}}Ca.prototype.splitAt=function(t,e){var n;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var r=[this];for(n=0;n<t.length;n++){for(var i=[],s=0;s<r.length;s++){var a=r[s].splitAt(t[n],e);i=i.concat(a)}r=i}return r}if(T2(t,this.getFirstCoordinate())||T2(t,this.getLastCoordinate()))return[this];var o=this.getCoordinates(),l=[o[0]],u=[];for(n=0;n<o.length-1;n++)if(!T2(o[n],o[n+1])){if(T2(t,o[n+1]))l.push(o[n+1]),u.push(new Ca(l)),l=[];else if(!T2(t,o[n])){var h,d,f=!1;o[n][0]==o[n+1][0]?(h=(o[n][1]-t[1])/(o[n][1]-o[n+1][1]),f=o[n][0]==t[0]&&0<h&&h<=1):o[n][1]==o[n+1][1]?(h=(o[n][0]-t[0])/(o[n][0]-o[n+1][0]),f=o[n][1]==t[1]&&0<h&&h<=1):(h=(o[n][0]-t[0])/(o[n][0]-o[n+1][0]),d=(o[n][1]-t[1])/(o[n][1]-o[n+1][1]),f=Math.abs(h-d)<=e&&0<h&&h<=1),f&&(l.push(t),u.push(new Ca(l)),l=[t])}l.push(o[n+1])}return l.length>1&&u.push(new Ca(l)),u.length?u:[this]};var Ydt=class extends Sa{constructor(e){e=e||{},super({stroke:e.stroke,text:e.text,zIndex:e.zIndex,geometry:e.geometry}),this.setRenderer(this._render.bind(this)),this._visible=e.visible!==!1,typeof e.width=="function"?this._widthFn=e.width:this.setWidth(e.width),this.setWidth2(e.width2),typeof e.color=="function"?this._colorFn=e.color:this.setColor(e.color),this.setColor2(e.color2),this.setLineCap(e.lineCap),this.setArrow(e.arrow),this.setArrowSize(e.arrowSize),this.setArrowColor(e.arrowColor),this._offset=[0,0],this.setOffset(e.offset0,0),this.setOffset(e.offset1,1),this._noOverlap=e.noOverlap}setWidth(e){this._width=e||0}setWidth2(e){this._width2=e}getOffset(e){return this._offset[e]}setOffset(e,n){switch(e=Math.max(0,parseFloat(e)),n){case 0:{this._offset[0]=e;break}case 1:{this._offset[1]=e;break}}}setLineCap(e){this._lineCap=e==="round"?"round":"butt"}getWidth(e,n){if(this._widthFn)return this._widthFn(e,n);var r=typeof this._width2=="number"?this._width2:this._width;return this._width+(r-this._width)*n}setColor(e){try{this._color=kd(e)}catch(n){this._color=[0,0,0,1]}}setColor2(e){try{this._color2=kd(e)}catch(n){this._color2=null}}setArrowColor(e){try{this._acolor=P1(e)}catch(n){this._acolor=null}}getColor(e,n){if(this._colorFn)return P1(this._colorFn(e,n));var r=this._color,i=this._color2||this._color;return"rgba("+ +Math.round(r[0]+(i[0]-r[0])*n)+","+Math.round(r[1]+(i[1]-r[1])*n)+","+Math.round(r[2]+(i[2]-r[2])*n)+","+(r[3]+(i[3]-r[3])*n)+")"}getArrow(){return this._arrow}setArrow(e){this._arrow=parseInt(e),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)}getArrowSize(){return this._arrowSize||[16,16]}setArrowSize(e){Array.isArray(e)?this._arrowSize=e:typeof e=="number"&&(this._arrowSize=[e,e])}drawArrow(e,n,r,i,s){var a=this.getArrowSize()[0]*s,o=m1(n,r),l=(n[0]-r[0])/o,u=(n[1]-r[1])/o;i=Math.max(this.getArrowSize()[1]/2,i/2)*s,e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[0]-a*l+i*u,n[1]-a*u-i*l),e.lineTo(n[0]-a*l-i*u,n[1]-a*u+i*l),e.lineTo(n[0],n[1]),e.fill()}_render(e,n){if(n.geometry.getType()==="LineString"){var r,i,s,a=n.context;if(!this._visible){var o=n.pixelRatio/n.resolution,l=Math.cos(n.rotation),u=Math.sin(n.rotation);i=n.geometry.getCoordinates();var h=e[0][0]-i[0][0]*o*l-i[0][1]*o*u,d=e[0][1]-i[0][0]*o*u+i[0][1]*o*l;for(e=[],r=0;s=i[r];r++)e[r]=[h+s[0]*o*l+s[1]*o*u,d+s[0]*o*u-s[1]*o*l,s[2]]}var f=this.getArrowSize()[0]*n.pixelRatio;a.save(),this.getOffset(0)&&this._splitAsize(e,this.getOffset(0)*n.pixelRatio),this.getOffset(1)&&this._splitAsize(e,this.getOffset(1)*n.pixelRatio,!0),e.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(s=this._splitAsize(e,f),this._acolor?a.fillStyle=this._acolor:a.fillStyle=this.getColor(n.feature,0),this.drawArrow(a,s[0],s[1],this.getWidth(n.feature,0),n.pixelRatio)),e.length>1&&this.getArrow()>0&&(s=this._splitAsize(e,f,!0),this._acolor?a.fillStyle=this._acolor:a.fillStyle=this.getColor(n.feature,1),this.drawArrow(a,s[0],s[1],this.getWidth(n.feature,1),n.pixelRatio));var A=this._splitInto(e,255,2),m=0,g=A.length;if(a.lineJoin="round",a.lineCap=this._lineCap||"butt",A.length>1)for(m=0;m<A.length;m++){var y=m/g;for(i=A[m],a.lineWidth=this.getWidth(n.feature,y)*n.pixelRatio,a.strokeStyle=this.getColor(n.feature,y),a.beginPath(),a.moveTo(i[0][0],i[0][1]),r=1;s=i[r];r++)a.lineTo(s[0],s[1]);a.stroke()}a.restore()}}_splitAsize(e,n,r){var i,s,a,o,l=0;for(r?a=e.pop():a=e.shift(),i=a;e.length;){if(r?s=e.pop():s=e.shift(),o=m1(i,s),l+o>n){i=[i[0]+(s[0]-i[0])*(n-l)/o,i[1]+(s[1]-i[1])*(n-l)/o],o=m1(i,a),r?(e.push(s),e.push(i),e.push([i[0]+(a[0]-i[0])/o,i[1]+(a[1]-i[1])/o])):(e.unshift(s),e.unshift(i),e.unshift([i[0]+(a[0]-i[0])/o,i[1]+(a[1]-i[1])/o]));break}l+=o,i=s}return[a,i]}_splitInto(e,n,r){var i,s,a=this._noOverlap?1:.9,o=[],l,u=0;for(i=1;s=e[i];i++)u+=m1(e[i-1],s);var h=Math.max(r||2,u/(n||255)),d=e[0];u=0;var f=[d];for(i=1,s=e[1];i<e.length;){var A=s[0]-d[0],m=s[1]-d[1];if(l=Math.sqrt(A*A+m*m),u+l>h){var g=(h-u)/l;f.push([d[0]+A*g,d[1]+m*g]),o.push(f),d=[d[0]+A*g*a,d[1]+m*g*a],f=[d],u=0}else u+=l,d=s,f.push(d),i++,s=e[i]}return o.push(f),o}},Zdt=class extends vD{constructor(e){e=e||{};var n=new fm({source:new Qv({features:new Ec,wrapX:e.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:e.featureStyle});if(e.layers)if(typeof e.layers=="function"){var r=e.layers;e.layers=function(s){return s===n||r(s)}}else e.layers.push&&e.layers.push(n);if(e.filter){var i=e.filter;e.filter=function(s,a){return!a&&s.get("selectclusterlink")?!1:i(s,a)}}else e.filter=function(s,a){return!(!a&&s.get("selectclusterlink"))};e.autoClose===!1&&!e.toggleCondition&&(e.toggleCondition=eD),super(e),this.overlayLayer_=n,this.filter_=e.filter,this.pointRadius=e.pointRadius||12,this.circleMaxObjects=e.circleMaxObjects||10,this.maxObjects=e.maxObjects||60,this.spiral=e.spiral!==!1,this.animate=e.animate,this.animationDuration=e.animationDuration||500,this.selectCluster_=e.selectCluster!==!1,this._autoClose=e.autoClose!==!1,this.on("select",this.selectCluster.bind(this))}setMap(e){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Tf(this._listener),this._listener=null,super.setMap(e),this.overlayLayer_.setMap(e),e&&e.getView()&&(this._listener=e.getView().on("change:resolution",this.clear.bind(this)))}clear(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()}getLayer(){return this.overlayLayer_}selectCluster(e){if(e instanceof vs&&(e={selected:[e]}),!e.selected.length){if(this._autoClose)this.clear();else{var n=e.deselected;n.forEach(C=>{var M=C.get("selectcluserfeatures");M&&M.forEach(B=>{this.overlayLayer_.getSource().removeFeature(B)})})}return}var r=e.selected[0];if(!r.get("selectclusterfeature")){var i=this.overlayLayer_.getSource();this._autoClose&&i.clear();var s=r.get("features");if(!(!s||s.length==1)){this.selectCluster_||this.getFeatures().clear();var a=r.getGeometry().getCoordinates(),o=this.getMap().getView(),l=o.getResolution()*1,u,h,d,f,A,m,g,y=[];if(!this.spiral||s.length<=this.circleMaxObjects)for(f=Math.min(s.length,this.circleMaxObjects),u=l*this.pointRadius*(.5+f/4),d=0;d<f;d++)h=2*Math.PI*d/f,(f==2||f==4)&&(h+=Math.PI/4),A=[a[0]+u*Math.sin(h),a[1]+u*Math.cos(h)],m=new vs({selectclusterfeature:!0,features:[s[d]],geometry:new oa(A)}),m.setStyle(s[d].getStyle()),y.push(m),g=new vs({selectclusterlink:!0,geometry:new Ca([a,A])}),y.push(g);else{h=0;var _=2*this.pointRadius;for(f=Math.min(this.maxObjects,s.length),d=0;d<f;d++){u=_/2+_*h/(2*Math.PI),h=h+(_+.1)/u;var x=l*u*Math.sin(h),S=l*u*Math.cos(h);A=[a[0]+x,a[1]+S],m=new vs({selectclusterfeature:!0,features:[s[d]],geometry:new oa(A)}),m.setStyle(s[d].getStyle()),y.push(m),g=new vs({selectclusterlink:!0,geometry:new Ca([a,A])}),y.push(g)}}r.set("selectcluserfeatures",y),this.animate?this.animateCluster_(a,y):i.addFeatures(y)}}}animateCluster_(e,n){if(this.listenerKey_&&Tf(this.listenerKey_),!n.length)return;var r=this.overlayLayer_.getStyle(),i=typeof r=="function"?r:r.length?function(){return r}:function(){return[r]},s=this.animationDuration||500,a=new Date().getTime();function o(u){for(var h=u.vectorContext||pD(u),d=u.frameState.pixelRatio,f=this.getMap().getView(),A=f.getResolution()+1,m=Dp((u.frameState.time-a)/s),g=0,y;y=n[g];g++)if(y.get("features")){var _=y.getGeometry().getCoordinates();_[0]=e[0]+m*(_[0]-e[0]),_[1]=e[1]+m*(_[1]-e[1]);for(var x=new oa(_),S=i(y,A),C=0;C<S.length;C++){var M,B=jg.prototype.getFeaturesAtPixel?!1:S[C].getImage();B&&(M=B.getScale(),B.setScale(d)),h.setStyle?(h.setStyle(S[C]),h.drawGeometry(x)):(h.setImageStyle(B),h.drawPointGeometry(x)),B&&B.setScale(M)}}if(m>1){Tf(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(n),this.overlayLayer_.changed();return}u.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],o.bind(this));var l=new vs(new oa(this.getMap().getView().getCenter()));l.setStyle(new Sa({image:new Gy({})})),this.overlayLayer_.getSource().addFeature(l)}getClusterExtent(e){if(!e.get("features"))return null;var n=ol();return e.get("features").forEach(function(r){n=ly(n,r.getGeometry().getExtent())}),n[0]===n[2]&&n[1]===n[3]?null:n}},ege=class extends Up{constructor(e){e=e||{},super({handleDownEvent:function(r){return n.handleDownEvent_(r)},handleDragEvent:function(r){return this.handleDragEvent_(r)},handleMoveEvent:function(r){return this.handleMoveEvent_(r)},handleUpEvent:function(r){return this.handleUpEvent_(r)}});var n=this;this.selection_=new Ec,this.handles_=new Ec,this.overlayLayer_=new fm({source:new Qv({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(r){return n.style[(r.get("handle")||"default")+(r.get("constraint")||"")+(r.get("option")||"")]},updateWhileAnimating:!0,updateWhileInteracting:!0}),this.features_=e.features,typeof e.filter=="function"&&(this._filter=e.filter),this.layers_=e.layers?e.layers instanceof Array?e.layers:[e.layers]:null,this._handleEvent=e.condition||function(){return!0},this.addFn_=e.addCondition||function(){return!1},this.setPointRadius(e.pointRadius),this.set("translateFeature",e.translateFeature!==!1),this.set("translate",e.translate!==!1),this.set("translateBBox",e.translateBBox===!0),this.set("stretch",e.stretch!==!1),this.set("scale",e.scale!==!1),this.set("rotate",e.rotate!==!1),this.set("keepAspectRatio",e.keepAspectRatio||function(r){return r.originalEvent.shiftKey}),this.set("modifyCenter",e.modifyCenter||function(r){return r.originalEvent.metaKey||r.originalEvent.ctrlKey}),this.set("noFlip",e.noFlip||!1),this.set("selection",e.selection!==!1),this.set("hitTolerance",e.hitTolerance||0),this.set("enableRotatedTransform",e.enableRotatedTransform||!1),this.set("keepRectangle",e.keepRectangle||!1),this.set("buffer",e.buffer||0),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()}setMap(e){var n=this.getMap();n&&(n.removeLayer(this.overlayLayer_),this.previousCursor_&&Ht.setCursor(n,this.previousCursor_),this.previousCursor_=void 0),super.setMap(e),this.overlayLayer_.setMap(e),e===null&&this.select(null),e!==null&&(this.isTouch=/touch/.test(e.getViewport().className),this.setDefaultStyle())}setActive(e){this.select(null),this.overlayLayer_&&this.overlayLayer_.setVisible(e),super.setActive(e)}setDefaultStyle(e){e=e||{};var n=e.pointStroke||new Po({color:[255,0,0,1],width:1}),r=e.stroke||new Po({color:[255,0,0,1],width:1,lineDash:[4,4]}),i=e.fill||new Ul({color:[255,0,0,.01]}),s=e.pointFill||new Ul({color:[255,255,255,.8]}),a=new F1({fill:s,stroke:n,radius:this.isTouch?12:6,displacement:this.isTouch?[24,-24]:[12,-12],points:15});a.setDisplacement||(a.getAnchor()[0]=this.isTouch?-10:-5);var o=new F1({fill:s,stroke:n,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),l=new F1({fill:s,stroke:n,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function u(h,d,f){return[new Sa({image:h,stroke:d,fill:f})]}this.style={default:u(o,r,i),translate:u(o,n,s),rotate:u(a,n,s),rotate0:u(o,n,s),scale:u(o,n,s),scale1:u(o,n,s),scale2:u(o,n,s),scale3:u(o,n,s),scalev:u(l,n,s),scaleh1:u(l,n,s),scalev2:u(l,n,s),scaleh3:u(l,n,s)},this.drawSketch_()}setStyle(e,n){if(n){n instanceof Array?this.style[e]=n:this.style[e]=[n];for(var r=0;r<this.style[e].length;r++){var i=this.style[e][r].getImage();i&&(e=="rotate"&&(i.getAnchor()[0]=-5),this.isTouch&&i.setScale(1.8));var s=this.style[e][r].getText();s&&(e=="rotate"&&s.setOffsetX(this.isTouch?14:7),this.isTouch&&s.setScale(1.8))}this.drawSketch_()}}getFeatureAtPixel_(e){var n=this;return this.getMap().forEachFeatureAtPixel(e,function(r,i){var s=!1;if(!i){if(r===n.bbox_)return n.get("translateBBox")?{feature:r,handle:"translate",constraint:"",option:""}:!1;if(n.handles_.forEach(function(o){o===r&&(s=!0)}),s)return{feature:r,handle:r.get("handle"),constraint:r.get("constraint"),option:r.get("option")}}if(!n.get("selection"))return n.selection_.getArray().some(function(o){return r===o})?{feature:r}:null;if(n._filter)return n._filter(r,i)?{feature:r}:null;if(n.layers_){for(var a=0;a<n.layers_.length;a++)if(n.layers_[a]===i)return{feature:r};return null}else return n.features_?(n.features_.forEach(function(o){o===r&&(s=!0)}),s?{feature:r}:null):{feature:r}},{hitTolerance:this.get("hitTolerance")})||{}}getGeometryRotateToZero_(e,n){var r=e.getGeometry(),i=this.getMap().getView().getRotation();if(i===0||!this.get("enableRotatedTransform"))return n?r.clone():r;var s=r.clone();return s.rotate(i*-1,this.getMap().getView().getCenter()),s}_isRectangle(e){if(this.get("keepRectangle")&&e.getType()==="Polygon"){var n=e.getCoordinates()[0];return n.length===5}return!1}drawSketch_(e){var n,r,i,s=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var a=this.getMap().getView().getRotation(),o=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),l;s&&(l=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),l.unshift(l[3])),o=uc(o,this.get("buffer")),this.selection_.forEach((function(g){var y=this.getGeometryRotateToZero_(g).getExtent();ly(o,y)}).bind(this));var u=this.selection_.getLength()===1?this._pointRadius(this.selection_.item(0)):0;if(u&&!(u instanceof Array)&&(u=[u,u]),e===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new vs({geometry:new oa(this.center_),handle:"rotate0"})),i=q0(o),this.get("enableRotatedTransform")&&a!==0&&i.rotate(a,this.getMap().getView().getCenter()),r=this.bbox_=new vs(i),this.overlayLayer_.getSource().addFeature(r));else{if(this.ispt_){var h=this.getMap().getPixelFromCoordinate(Jc(o));if(h){var d=u&&u[0]||10,f=u&&u[1]||10;o=rl([this.getMap().getCoordinateFromPixel([h[0]-d,h[1]-f]),this.getMap().getCoordinateFromPixel([h[0]+d,h[1]+f])])}}i=s?new uo([l]):q0(o),this.get("enableRotatedTransform")&&a!==0&&i.rotate(a,this.getMap().getView().getCenter()),r=this.bbox_=new vs(i);var A=[],m=i.getCoordinates()[0];if(!this.ispt_||u){if(A.push(r),!this.iscircle_&&!this.ispt_&&this.get("stretch")&&this.get("scale"))for(n=0;n<m.length-1;n++)r=new vs({geometry:new oa([(m[n][0]+m[n+1][0])/2,(m[n][1]+m[n+1][1])/2]),handle:"scale",constraint:n%2?"h":"v",option:n}),A.push(r);if(this.get("scale"))for(n=0;n<m.length-1;n++)r=new vs({geometry:new oa(m[n]),handle:"scale",option:n}),A.push(r);this.get("translate")&&!this.get("translateFeature")&&(r=new vs({geometry:new oa([(m[0][0]+m[2][0])/2,(m[0][1]+m[2][1])/2]),handle:"translate"}),A.push(r))}!this.iscircle_&&this.get("rotate")&&(r=new vs({geometry:new oa(m[3]),handle:"rotate"}),A.push(r)),this.overlayLayer_.getSource().addFeatures(A)}}}select(e,n){if(!e){this.selection_&&(this.selection_.clear(),this.drawSketch_());return}if(!(!e.getGeometry||!e.getGeometry())){if(n)this.selection_.push(e);else{var r=this.selection_.getArray().indexOf(e);this.selection_.removeAt(r)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:e,features:this.selection_})}}setSelection(e){this.selection_.clear(),e.forEach((function(n){this.selection_.push(n)}).bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})}watchFeatures_(){this._featureListeners&&this._featureListeners.forEach(function(e){Tf(e)}),this._featureListeners=[],this.selection_.forEach((function(e){this._featureListeners.push(e.on("change",(function(){this.isUpdating_||this.drawSketch_()}).bind(this)))}).bind(this))}handleDownEvent_(e){if(this._handleEvent(e,this.selection_)){var n=this.getFeatureAtPixel_(e.pixel),r=n.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(r)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(n.handle="translate"),n.handle){this.mode_=n.handle,this.opt_=n.option,this.constraint_=n.constraint;var i=this.getMap().getView().getRotation();this.coordinate_=r.get("handle")?r.getGeometry().getCoordinates():e.coordinate,this.pixel_=this.getMap().getCoordinateFromPixel(this.coordinate_),this.geoms_=[],this.rotatedGeoms_=[];for(var s=ol(),a=ol(),o=0,l;l=this.selection_.item(o);o++)if(this.geoms_.push(l.getGeometry().clone()),s=ly(s,l.getGeometry().getExtent()),this.get("enableRotatedTransform")&&i!==0){var u=this.getGeometryRotateToZero_(l,!0);this.rotatedGeoms_.push(u),a=ly(a,u.getExtent())}if(this.extent_=q0(s).getCoordinates()[0],this.get("enableRotatedTransform")&&i!==0&&(this.rotatedExtent_=q0(a).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||Jc(s);var h=e.map.getTargetElement();Ht.setCursor(h,this.Cursors.rotate0),this.previousCursor_=h.style.cursor}else this.center_=Jc(s);return this.angle_=Math.atan2(this.center_[1]-e.coordinate[1],this.center_[0]-e.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!0}else if(this.get("selection")){if(r){this.addFn_(e)||this.selection_.clear();var d=this.selection_.getArray().indexOf(r);d<0?this.selection_.push(r):this.selection_.removeAt(d)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:r,features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!1}}}getCenter(){return this.get("center")}setCenter(e){return this.set("center",e)}handleDragEvent_(e){if(this._handleEvent(e,this.features_)){var n=this.getMap().getView().getRotation(),r,i,s,a,o=[this.coordinate_[0],this.coordinate_[1]],l=[e.coordinate[0],e.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var u=Math.atan2(this.center_[1]-l[1],this.center_[0]-l[0]);if(!this.ispt)for(r=0,s;s=this.selection_.item(r);r++)a=this.geoms_[r].clone(),a.rotate(u-this.angle_,this.center_),a.getType()=="Circle"&&a.setCenterAndRadius(a.getCenter(),a.getRadius()),s.setGeometry(a);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:u-this.angle_,pixel:e.pixel,coordinate:e.coordinate});break}case"translate":{var h=l[0]-o[0],d=l[1]-o[1];for(r=0,s;s=this.selection_.item(r);r++)s.getGeometry().translate(h,d);this.handles_.forEach(function(I){I.getGeometry().translate(h,d)}),this.coordinate_=e.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[h,d],pixel:e.pixel,coordinate:e.coordinate});break}case"scale":{var f=this.center_;if(this.get("modifyCenter")(e)){var A=this.extent_;this.get("enableRotatedTransform")&&n!==0&&(A=this.rotatedExtent_),f=A[(Number(this.opt_)+2)%4]}var m=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),g=this.constraint_,y=this.opt_,_=this.coordinate_,x=e.coordinate;if(this.get("enableRotatedTransform")&&n!==0){var S=new oa(this.coordinate_);S.rotate(n*-1,f),_=S.getCoordinates();var C=new oa(e.coordinate);C.rotate(n*-1,f),x=C.getCoordinates()}var M=(x[0]-f[0])/(_[0]-f[0]),B=(x[1]-f[1])/(_[1]-f[1]),E=[x[0]-_[0],x[1]-_[1]];if(this.get("enableRotatedTransform")&&n!==0){var L=new oa(f);L.rotate(n*-1,this.getMap().getView().getCenter()),f=L.getCoordinates()}for(this.get("noFlip")&&(M<0&&(M=-M),B<0&&(B=-B)),this.constraint_?this.constraint_=="h"?M=1:B=1:this.get("keepAspectRatio")(e)&&(M=B=Math.min(M,B)),r=0,s;s=this.selection_.item(r);r++)a=n===0||!this.get("enableRotatedTransform")?this.geoms_[r].clone():this.rotatedGeoms_[r].clone(),a.applyTransform((function(I,k,O){if(O<2)return k;if(m){var F=[[6],[0,8],[2],[4]],U=[I[0],I[1]],$=[I[2],I[3]],K=[I[4],I[5]],V=[I[6],I[7]],Q=[I[8],I[9]];if(g){var X=y%2===0?this._countVector(U,$):this._countVector(V,U),z=this._projectVectorOnVector(E,X),ne=y+1<F.length?y+1:0,he=[...F[y],...F[ne]];for(i=0;i<I.length;i+=O)k[i]=he.includes(i)?I[i]+z[0]:I[i],k[i+1]=he.includes(i)?I[i+1]+z[1]:I[i+1]}else{var W,Y;switch(y){case 0:E=this._countVector(V,x),W=this._projectVectorOnVector(E,this._countVector(K,V)),Y=this._projectVectorOnVector(E,this._countVector(U,V)),[k[0],k[1]]=this._movePoint(U,W),[k[4],k[5]]=this._movePoint(K,Y),[k[6],k[7]]=this._movePoint(V,E),[k[8],k[9]]=this._movePoint(Q,W);break;case 1:E=this._countVector(U,x),W=this._projectVectorOnVector(E,this._countVector(V,U)),Y=this._projectVectorOnVector(E,this._countVector($,U)),[k[0],k[1]]=this._movePoint(U,E),[k[2],k[3]]=this._movePoint($,W),[k[6],k[7]]=this._movePoint(V,Y),[k[8],k[9]]=this._movePoint(Q,E);break;case 2:E=this._countVector($,x),W=this._projectVectorOnVector(E,this._countVector(U,$)),Y=this._projectVectorOnVector(E,this._countVector(K,$)),[k[0],k[1]]=this._movePoint(U,Y),[k[2],k[3]]=this._movePoint($,E),[k[4],k[5]]=this._movePoint(K,W),[k[8],k[9]]=this._movePoint(Q,Y);break;case 3:E=this._countVector(K,x),W=this._projectVectorOnVector(E,this._countVector($,K)),Y=this._projectVectorOnVector(E,this._countVector(V,K)),[k[2],k[3]]=this._movePoint($,Y),[k[4],k[5]]=this._movePoint(K,E),[k[6],k[7]]=this._movePoint(V,W);break}}}else for(i=0;i<I.length;i+=O)M!=1&&(k[i]=f[0]+(I[i]-f[0])*M),B!=1&&(k[i+1]=f[1]+(I[i+1]-f[1])*B);return a.getType()=="Circle"&&a.setCenterAndRadius(a.getCenter(),a.getRadius()),k}).bind(this)),this.get("enableRotatedTransform")&&n!==0&&a.rotate(n,this.getMap().getView().getCenter()),s.setGeometry(a);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[M,B],pixel:e.pixel,coordinate:e.coordinate});break}}this.isUpdating_=!1}}handleMoveEvent_(e){if(this._handleEvent(e,this.features_)&&!this.mode_){var n=this.getFeatureAtPixel_(e.pixel),r=e.map.getTargetElement();if(n.feature){var i=n.handle?this.Cursors[(n.handle||"default")+(n.constraint||"")+(n.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=r.style.cursor),Ht.setCursor(r,i)}else this.previousCursor_!==void 0&&Ht.setCursor(r,this.previousCursor_),this.previousCursor_=void 0}}handleUpEvent_(e){if(this.mode_==="rotate"){var n=e.map.getTargetElement();Ht.setCursor(n,this.Cursors.default),this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1}setPointRadius(e){typeof e=="function"?this._pointRadius=e:this._pointRadius=function(){return e}}getFeatures(){return this.selection_}_projectVectorOnVector(e,n){var r=(e[0]*n[0]+e[1]*n[1])/(n[0]*n[0]+n[1]*n[1]);return[n[0]*r,n[1]*r]}_countVector(e,n){return[n[0]-e[0],n[1]-e[1]]}_movePoint(e,n){return[e[0]+n[0],e[1]+n[1]]}};ege.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"};var Wv=class extends Vd{constructor(e){e=e||{},super(),this.duration_=typeof e.duration=="number"?e.duration>=0?e.duration:0:1e3,this.fade_=typeof e.fade=="function"?e.fade:null,this.repeat_=Number(e.repeat);var n=typeof e.easing=="function"?e.easing:p9;e.revers?this.easing_=function(r){return 1-n(r)}:this.easing_=n,this.hiddenStyle=e.hiddenStyle}drawGeom_(e,n,r){var i={type:"drawing",time:e.time,feature:e.feature,start:e.start,stop:e.stop,rotation:e.rotation,style:e.style,extra:e.extra};this.dispatchEvent(i);var s=i.style instanceof Array?i.style:[i.style];this.fade_&&(e.context.globalAlpha=this.fade_(1-e.elapsed));for(var a=0;a<s.length;a++)try{var o=e.vectorContext||pD(e),l=EG(e,s[a]);o.setStyle(l),l.getZIndex()<0?o.drawGeometry(r||n):o.drawGeometry(n)}catch(u){}}animate(){return!1}};Wv.hiddenStyle=new Sa({image:new Gy({}),stroke:new Po({color:"transparent"})});jg.prototype.animateFeature=function(t,e){var n=this._featureAnimationLayer;n||(n=this._featureAnimationLayer=new fm({source:new Qv}),n.setMap(this)),n.getSource().addFeature(t);var r=e.on("animationend",function(i){i.feature===t&&(n.getSource().removeFeature(t),Tf(r))});return n.animateFeature(t,e)};C9.prototype.animateFeature=function(t,e,n){var r=this,i,s=t.getStyle(),a=s||(this.getStyleFunction?this.getStyleFunction()(t):null);a||(a=[]),a instanceof Array||(a=[a]);var o={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:t,geom:t.getGeometry(),typeGeom:t.getGeometry().getType(),bbox:t.getGeometry().getExtent(),coord:Jc(t.getGeometry().getExtent()),style:a};e instanceof Array||(e=[e]);for(var l=e.length-1;l>=0;l--)e[l].duration_===0&&e.splice(l,1);var u=0,h=0,d=n&&this.getFilters?this.getFilters():[];function f(g){o.type=g.type;try{o.vectorContext=g.vectorContext||pD(g)}catch(_){}if(o.frameState=g.frameState,o.inversePixelTransform=g.inversePixelTransform,o.extent||(o.extent=g.frameState.extent,o.start=g.frameState.time,o.context=g.context),o.time=g.frameState.time-o.start,o.elapsed=o.time/e[h].duration_,o.elapsed>1&&(o.elapsed=1),g.context.save(),d.forEach(function(_){_.get("active")&&_.precompose(g)}),this.getOpacity&&(g.context.globalAlpha=this.getOpacity()),!e[h].animate(o))u++,u<e[h].repeat_?(o.extent=!1,e[h].dispatchEvent({type:"animationrepeat",feature:t})):h<e.length-1?(e[h].dispatchEvent({type:"animationend",feature:t}),h++,u=0,o.extent=!1):A();else{var y={type:"animating",step:h,start:o.start,time:o.time,elapsed:o.elapsed,rotation:o.rotation||0,geom:o.geom,coordinate:o.coord,feature:t,extra:o.extra||{},style:a};e[h].dispatchEvent(y),r.dispatchEvent(y)}d.forEach(function(_){_.get("active")&&_.postcompose(g)}),g.context.restore(),g.frameState.animate=!0}function A(g){Tf(i),i=null,t.setStyle(s),o.stop=new Date().getTime();var y={type:"animationend",feature:t};if(g)for(var _ in g)g.hasOwnProperty(_)&&(y[_]=g[_]);e[h].dispatchEvent(y),r.dispatchEvent(y)}function m(g){if(e.length&&!i){if(o.stop&&(o.start=new Date().getTime()-o.stop+o.start,o.stop=0),i=r.on(["postcompose","postrender"],f.bind(r)),r.renderSync)try{r.renderSync()}catch(x){}else r.changed();t.setStyle(e[h].hiddenStyle||Wv.hiddenStyle);var y={type:"animationstart",feature:t};if(g)for(var _ in g)g.hasOwnProperty(_)&&(y[_]=g[_]);e[h].dispatchEvent(y),r.dispatchEvent(y)}}return m(),{start:m,stop:A,isPlaying:function(){return!!i}}};var Jdt=class extends Wv{constructor(e){e=e||{},super(e),this.speed_=e.speed||0,this.side_=e.side||"top"}animate(e){if(!e.time){var n=e.frameState.viewState.rotation,r=e.frameState.size[1]*e.frameState.viewState.resolution;this.side_!="top"&&(r*=-1),this.dx=-Math.sin(n)*r,this.dy=Math.cos(n)*r,this.speed_&&(this.duration_=r/this.speed_/e.frameState.viewState.resolution)}var i=e.geom.clone();return i.translate(this.dx*(1-this.easing_(e.elapsed)),this.dy*(1-this.easing_(e.elapsed))),this.drawGeom_(e,i,e.geom),e.time<=this.duration_}},eft=class extends Wv{constructor(e){e=e||{},super(e),this.speed_=e.speed||0}animate(e){return e.context.globalAlpha=this.easing_(e.elapsed),this.drawGeom_(e,e.geom),e.time<=this.duration_}},tft=class extends Wv{constructor(e){switch(e=e||{},super(e),this.speed_=e.speed||0,this.path_=e.path,e.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=e.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)}animate(e){if(!e.time&&!this.dist_)return!1;var n=this.dist_*this.easing_(e.elapsed),r,i,s,a,o,l,u=0;i=this.path_[0];for(var h=1;h<this.path_.length;h++){if(r=i,i=this.path_[h],a=i[0]-r[0],o=i[1]-r[1],l=Math.sqrt(a*a+o*o),l&&u+l>=n){e.extra={index:h,coordinates:i},s=(n-u)/l,i=[r[0]+(i[0]-r[0])*s,r[1]+(i[1]-r[1])*s];break}u+=l}var d=e.style;if(e.rotation=Math.PI/2+Math.atan2(r[1]-i[1],r[0]-i[0]),this.rotate_!==!1){var f=[],A=this.rotate_-e.rotation+e.frameState.viewState.rotation;e.rotation=Math.PI/2+Math.atan2(r[1]-i[1],r[0]-i[0]);for(var m=0;s=e.style[m];m++)s.getImage()&&s.getImage().setRotation(A),f.push(s);e.style=f}return e.geom.setCoordinates(i),this.drawGeom_(e,e.geom),e.style=d,e.time<=this.duration_}},nft=class extends Wv{constructor(e){e=e||{},super(e),this.amplitude_=e.amplitude||40,this.bounce_=-Math.PI*(e.bounce||6),this.horizontal_=e.horizontal}animate(e){var n=e.geom.clone(),r=e.geom.clone(),i=this.easing_(e.elapsed);return i=Math.sin(this.bounce_*i)*this.amplitude_*(1-i)*e.frameState.viewState.resolution,this.horizontal_?(n.translate(i,0),r.translate(i,0)):n.translate(0,i),this.drawGeom_(e,n,r),e.time<=this.duration_}},rft=class extends Wv{constructor(e){e=e||{},super(e),this.speed_=e.speed||0,this.side_=e.side||"left"}animate(e){e.time||(this.side_=="left"?this.dx=e.extent[0]-e.bbox[2]:this.dx=e.extent[2]-e.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/e.frameState.viewState.resolution));var n=e.geom.clone();return n.translate(this.dx*(1-this.easing_(e.elapsed)),0),this.drawGeom_(e,n),e.time<=this.duration_}},ift=class extends Wv{constructor(e){super(e)}animate(e){var n=this.easing_(e.elapsed);if(n){e.context.save();var r=e.frameState.pixelRatio;e.context.globalAlpha=n,e.context.scale(n,1/n);var i=e.frameState.coordinateToPixelTransform,s=(1/n-1)*r*(i[0]*e.coord[0]+i[1]*e.coord[1]+i[4]),a=(n-1)*r*(i[2]*e.coord[0]+i[3]*e.coord[1]+i[5]);e.context.translate(s,a),this.drawGeom_(e,e.geom),e.context.restore()}return e.time<=this.duration_}},sft=class extends Wv{constructor(e){e=e||{},super(e),this.set("zoomout",e.zoomOut)}animate(e){var n=this.easing_(e.elapsed);if(n){this.get("zoomout")&&(n=1/n);var r=e.style,i,s,a=[];for(i=0;i<r.length;i++)s=r[i].getImage(),s&&(a[i]=s.getScale(),e.type==="postrender"?s.setScale(a[i]*n/e.frameState.pixelRatio):s.setScale(a[i]*n));for(this.drawGeom_(e,e.geom),i=0;i<r.length;i++)s=r[i].getImage(),s&&s.setScale(a[i])}return e.time<=this.duration_}};class tB{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=vs,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?gi(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=gi(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Bi()}readFeature(e,n){return Bi()}readFeatures(e,n){return Bi()}readGeometry(e,n){return Bi()}readProjection(e){return Bi()}writeFeature(e,n){return Bi()}writeFeatures(e,n){return Bi()}writeGeometry(e,n){return Bi()}}function zo(t,e,n){const r=n?gi(n.featureProjection):null,i=n?gi(n.dataProjection):null;let s=t;if(r&&i&&!tm(r,i)){e&&(s=t.clone());const a=e?r:i,o=e?i:r;a.getUnits()==="tile-pixels"?s.transform(a,o):s.applyTransform(yS(a,o))}if(e&&n&&n.decimals!==void 0){const a=Math.pow(10,n.decimals),o=function(l){for(let u=0,h=l.length;u<h;++u)l[u]=Math.round(l[u]*a)/a;return l};s===t&&(s=t.clone()),s.applyTransform(o)}return s}function fQ(t,e){const n=e?gi(e.featureProjection):null,r=e?gi(e.dataProjection):null;return n&&r&&!tm(n,r)?oG(t,r,n):t}const aft={Point:oa,LineString:Ca,Polygon:uo,MultiPoint:zd,MultiLineString:hc,MultiPolygon:dc};function oft(t,e,n){return Array.isArray(e[0])?(fAe(t,0,e,n)||(t=t.slice(),uG(t,0,e,n)),t):(c9(t,0,e,n)||(t=t.slice(),IO(t,0,e,n)),t)}function tge(t,e){var s;const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(a=>tge({...t,geometry:a})).flat();const r=n.type==="MultiPolygon"?"Polygon":n.type;if(r==="GeometryCollection"||r==="Circle")throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return zo(new Ju(r,r==="Polygon"?oft(n.flatCoordinates,n.ends,i):n.flatCoordinates,(s=n.ends)==null?void 0:s.flat(),i,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function AQ(t,e){if(!t)return null;if(Array.isArray(t)){const r=t.map(i=>AQ(i,e));return new Hl(r)}const n=aft[t.type];return zo(new n(t.flatCoordinates,t.layout||"XY",t.ends),!1,e)}class pQ extends tB{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(TI(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(TI(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Bi()}readFeaturesFromObject(e,n){return Bi()}readGeometry(e,n){return this.readGeometryFromObject(TI(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Bi()}readProjection(e){return this.readProjectionFromObject(TI(e))}readProjectionFromObject(e){return Bi()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Bi()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Bi()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Bi()}}function TI(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}const lft={Point:dft,LineString:fft,Polygon:mft,MultiPoint:pft,MultiLineString:Aft,MultiPolygon:gft},cft={Point:vft,LineString:yft,Polygon:_ft,MultiPoint:bft,MultiLineString:wft,MultiPolygon:xft};class uft extends pQ{constructor(e){e=e||{},super(),this.geometryName_=e.geometryName}readFeatureFromObject(e,n,r){const i=e,s=Yee(i.geometry,n),a=new vs;if(this.geometryName_&&a.setGeometryName(this.geometryName_),a.setGeometry(s),i.attributes){a.setProperties(i.attributes,!0);const o=i.attributes[r];o!==void 0&&a.setId(o)}return a}readFeaturesFromObject(e,n){if(n=n||{},e.features){const r=e,i=[],s=r.features;for(let a=0,o=s.length;a<o;++a)i.push(this.readFeatureFromObject(s[a],n,e.objectIdFieldName));return i}return[this.readFeatureFromObject(e,n)]}readGeometryFromObject(e,n){return Yee(e,n)}readProjectionFromObject(e){if(e.spatialReference&&e.spatialReference.wkid!==void 0){const r=e.spatialReference.wkid;return gi("EPSG:"+r)}return null}writeGeometryObject(e,n){return Zee(e,this.adaptOptions(n))}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={};if(!e.hasProperties())return r.attributes={},r;const i=e.getProperties(),s=e.getGeometry();if(s){r.geometry=Zee(s,n);const a=n&&(n.dataProjection||n.featureProjection);a&&(r.geometry.spatialReference={wkid:Number(gi(a).getCode().split(":").pop())}),delete i[e.getGeometryName()]}return Lv(i)?r.attributes={}:r.attributes=i,r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{features:r}}}function Yee(t,e){if(!t)return null;let n;if(typeof t.x=="number"&&typeof t.y=="number")n="Point";else if(t.points)n="MultiPoint";else if(t.paths)t.paths.length===1?n="LineString":n="MultiLineString";else if(t.rings){const i=t,s=sC(i),a=hft(i.rings,s);a.length===1?(n="Polygon",t=Object.assign({},t,{rings:a[0]})):(n="MultiPolygon",t=Object.assign({},t,{rings:a}))}const r=lft[n];return zo(r(t),!1,e)}function hft(t,e){const n=[],r=[],i=[];let s,a;for(s=0,a=t.length;s<a;++s)n.length=0,$L(n,0,t[s],e.length),J5(n,0,n.length,e.length)?r.push([t[s]]):i.push(t[s]);for(;i.length;){const o=i.shift();let l=!1;for(s=r.length-1;s>=0;s--){const u=r[s][0];if(_f(new Iv(u).getExtent(),new Iv(o).getExtent())){r[s].push(o),l=!0;break}}l||r.push([o.reverse()])}return r}function dft(t){let e;return t.m!==void 0&&t.z!==void 0?e=new oa([t.x,t.y,t.z,t.m],"XYZM"):t.z!==void 0?e=new oa([t.x,t.y,t.z],"XYZ"):t.m!==void 0?e=new oa([t.x,t.y,t.m],"XYM"):e=new oa([t.x,t.y]),e}function fft(t){const e=sC(t);return new Ca(t.paths[0],e)}function Aft(t){const e=sC(t);return new hc(t.paths,e)}function sC(t){let e="XY";return t.hasZ===!0&&t.hasM===!0?e="XYZM":t.hasZ===!0?e="XYZ":t.hasM===!0&&(e="XYM"),e}function pft(t){const e=sC(t);return new zd(t.points,e)}function gft(t){const e=sC(t);return new dc(t.rings,e)}function mft(t){const e=sC(t);return new uo(t.rings,e)}function vft(t,e){const n=t.getCoordinates();let r;const i=t.getLayout();if(i==="XYZ")r={x:n[0],y:n[1],z:n[2]};else if(i==="XYM")r={x:n[0],y:n[1],m:n[2]};else if(i==="XYZM")r={x:n[0],y:n[1],z:n[2],m:n[3]};else if(i==="XY")r={x:n[0],y:n[1]};else throw new Error("Invalid geometry layout");return r}function nB(t){const e=t.getLayout();return{hasZ:e==="XYZ"||e==="XYZM",hasM:e==="XYM"||e==="XYZM"}}function yft(t,e){const n=nB(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:[t.getCoordinates()]}}function _ft(t,e){const n=nB(t);return{hasZ:n.hasZ,hasM:n.hasM,rings:t.getCoordinates(!1)}}function wft(t,e){const n=nB(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:t.getCoordinates()}}function bft(t,e){const n=nB(t);return{hasZ:n.hasZ,hasM:n.hasM,points:t.getCoordinates()}}function xft(t,e){const n=nB(t),r=t.getCoordinates(!1),i=[];for(let s=0;s<r.length;s++)for(let a=r[s].length-1;a>=0;a--)i.push(r[s][a]);return{hasZ:n.hasZ,hasM:n.hasM,rings:i}}function Zee(t,e){const n=cft[t.getType()];return n(zo(t,!0,e),e)}class Eft extends pQ{constructor(e){e=e||{},super(),this.dataProjection=gi(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=gi(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=gQ(r.geometry);if(this.featureClass===Ju)return tge({geometry:i,id:r.id,properties:r.properties},n);const s=new vs;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.geometry_name&&s.setGeometryName(r.geometry_name),s.setGeometry(AQ(i,n)),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const a=s.features;for(let o=0,l=a.length;o<l;++o){const u=this.readFeatureFromObject(a[o],n);u&&i.push(u)}}else i=[this.readFeatureFromObject(e,n)];return i.flat()}readGeometryFromObject(e,n){return Sft(e,n)}readProjectionFromObject(e){const n=e.crs;let r;if(n)if(n.type=="name")r=gi(n.properties.name);else if(n.type==="EPSG")r=gi("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else r=this.dataProjection;return r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),a=e.getGeometry();return a&&(r.geometry=LG(a,n),delete s[e.getGeometryName()]),Lv(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return LG(e,this.adaptOptions(n))}}function gQ(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=Tft(t);break}case"LineString":{n=Mft(t);break}case"Polygon":{n=Ift(t);break}case"MultiPoint":{n=Bft(t);break}case"MultiLineString":{n=Lft(t);break}case"MultiPolygon":{n=Rft(t);break}case"GeometryCollection":{n=Cft(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function Sft(t,e){const n=gQ(t);return AQ(n,e)}function Cft(t,e){return t.geometries.map(function(r){return gQ(r)})}function Tft(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:ww(e.length)}}function Mft(t){var r;const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:ww(((r=e[0])==null?void 0:r.length)||2)}}function Lft(t){var s,a;const e=t.coordinates,n=((a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length)||2,r=[],i=QL(r,0,e,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:ww(n)}}function Bft(t){var n;const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:ww(((n=e[0])==null?void 0:n.length)||2)}}function Rft(t){var s,a;const e=t.coordinates,n=[],r=((a=(s=e[0])==null?void 0:s[0])==null?void 0:a[0].length)||2,i=aAe(n,0,e,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:ww(r)}}function Ift(t){var s,a;const e=t.coordinates,n=[],r=(a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length,i=QL(n,0,e,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:ww(r)}}function LG(t,e){t=zo(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=kft(t);break}case"LineString":{r=Fft(t);break}case"Polygon":{r=Uft(t,e);break}case"MultiPoint":{r=Nft(t);break}case"MultiLineString":{r=Oft(t);break}case"MultiPolygon":{r=Dft(t,e);break}case"GeometryCollection":{r=Pft(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function Pft(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return LG(r,e)})}}function Fft(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function Oft(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function Nft(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function Dft(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function kft(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function Uft(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const ow="http://www.w3.org/2001/XMLSchema-instance";function is(t,e){return aC().createElementNS(t,e)}function Kh(t,e){return nge(t,e,[]).join("")}function nge(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)n.push(t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)nge(r,e,n)}return n}function uA(t){return"documentElement"in t}function Hft(t,e,n){return t.getAttributeNS(e,n)||""}function hA(t){return new DOMParser().parseFromString(t,"application/xml")}function iN(t,e){return function(n,r){const i=t.call(e!=null?e:this,n,r);if(i!==void 0){const s=r[r.length-1];qs(s,i)}}}function pi(t,e){return function(n,r){const i=t.call(e!=null?e:this,n,r);i!==void 0&&r[r.length-1].push(i)}}function Ni(t,e){return function(n,r){const i=t.call(e!=null?e:this,n,r);i!==void 0&&(r[r.length-1]=i)}}function Da(t,e,n){return function(r,i){const s=t.call(this,r,i);if(s!==void 0){const a=i[i.length-1],o=r.localName;let l;o in a?l=a[o]:(l=[],a[o]=l),l.push(s)}}}function Bt(t,e,n){return function(r,i){const s=t.call(this,r,i);if(s!==void 0){const a=i[i.length-1],o=e!==void 0?e:r.localName;a[o]=s}}}function zt(t,e){return function(n,r,i){t.call(e!=null?e:this,n,r,i),i[i.length-1].node.appendChild(n)}}function rge(t,e){let n,r;return function(i,s,a){if(n===void 0){n={};const o={};o[i.localName]=t,n[i.namespaceURI]=o,r=sl(i.localName)}ige(n,r,s,a)}}function sl(t,e){return function(n,r,i){const a=r[r.length-1].node;let o=t;o===void 0&&(o=i);const l=e!==void 0?e:a.namespaceURI;return is(l,o)}}const eu=sl();function Ud(t,e){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=t[e[i]];return r}function In(t,e,n){n=n!==void 0?n:{};let r,i;for(r=0,i=t.length;r<i;++r)n[t[r]]=e;return n}function Od(t,e,n,r){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const s=t[i.namespaceURI];if(s!==void 0){const a=s[i.localName];a!==void 0&&a.call(r,i,n)}}}function jn(t,e,n,r,i){return r.push(t),Od(e,n,r,i),r.pop()}function ige(t,e,n,r,i,s){const a=(i!==void 0?i:n).length;let o,l;for(let u=0;u<a;++u)o=n[u],o!==void 0&&(l=e.call(s,o,r,i!==void 0?i[u]:void 0),l!==void 0&&t[l.namespaceURI][l.localName].call(s,l,o,r))}function rs(t,e,n,r,i,s,a){return i.push(t),ige(e,n,r,i,s,a),i.pop()}let E3;function Gft(){return E3===void 0&&typeof XMLSerializer<"u"&&(E3=new XMLSerializer),E3}let S3;function aC(){return S3===void 0&&typeof document<"u"&&(S3=document.implementation.createDocument("","",null)),S3}class rB extends tB{constructor(){super(),this.xmlSerializer_=Gft()}getType(){return"xml"}readFeature(e,n){if(!e)return null;if(typeof e=="string"){const r=hA(e);return this.readFeatureFromDocument(r,n)}return uA(e)?this.readFeatureFromDocument(e,n):this.readFeatureFromNode(e,n)}readFeatureFromDocument(e,n){const r=this.readFeaturesFromDocument(e,n);return r.length>0?r[0]:null}readFeatureFromNode(e,n){return null}readFeatures(e,n){if(!e)return[];if(typeof e=="string"){const r=hA(e);return this.readFeaturesFromDocument(r,n)}return uA(e)?this.readFeaturesFromDocument(e,n):this.readFeaturesFromNode(e,n)}readFeaturesFromDocument(e,n){const r=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&qs(r,this.readFeaturesFromNode(i,n));return r}readFeaturesFromNode(e,n){return Bi()}readGeometry(e,n){if(!e)return null;if(typeof e=="string"){const r=hA(e);return this.readGeometryFromDocument(r,n)}return uA(e)?this.readGeometryFromDocument(e,n):this.readGeometryFromNode(e,n)}readGeometryFromDocument(e,n){return null}readGeometryFromNode(e,n){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){const n=hA(e);return this.readProjectionFromDocument(n)}return uA(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,n){const r=this.writeFeatureNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(e,n){return null}writeFeatures(e,n){const r=this.writeFeaturesNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(e,n){return null}writeGeometry(e,n){const r=this.writeGeometryNode(e,n);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(e,n){return null}}const yv="http://www.opengis.net/gml",Vft=/^\s*$/;class Ai extends rB{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:pi(this.readFeaturesInternal),featureMembers:Ni(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,n){const r=e.localName;let i=null;if(r=="FeatureCollection")i=jn([],this.FEATURE_COLLECTION_PARSERS,e,n,this);else if(r=="featureMembers"||r=="featureMember"||r=="member"){const s=n[0];let a=s.featureType,o=s.featureNS;const l="p",u="p0";if(!a&&e.childNodes){a=[],o={};for(let f=0,A=e.childNodes.length;f<A;++f){const m=e.childNodes[f];if(m.nodeType===1){const g=m.nodeName.split(":").pop();if(!a.includes(g)){let y="",_=0;const x=m.namespaceURI;for(const S in o){if(o[S]===x){y=S;break}++_}y||(y=l+_,o[y]=x),a.push(y+":"+g)}}}r!="featureMember"&&(s.featureType=a,s.featureNS=o)}if(typeof o=="string"){const f=o;o={},o[u]=f}const h={},d=Array.isArray(a)?a:[a];for(const f in o){const A={};for(let m=0,g=d.length;m<g;++m)(d[m].includes(":")?d[m].split(":")[0]:u)===f&&(A[d[m].split(":").pop()]=r=="featureMembers"?pi(this.readFeatureElement,this):Ni(this.readFeatureElement,this));h[o[f]]=A}r=="featureMember"||r=="member"?i=jn(void 0,h,e,n):i=jn([],h,e,n)}return i===null&&(i=[]),i}readGeometryOrExtent(e,n){const r=n[0];return r.srsName=e.firstElementChild.getAttribute("srsName"),r.srsDimension=e.firstElementChild.getAttribute("srsDimension"),jn(null,this.GEOMETRY_PARSERS,e,n,this)}readExtentElement(e,n){const r=n[0],i=this.readGeometryOrExtent(e,n);return i?fQ(i,r):void 0}readGeometryElement(e,n){const r=n[0],i=this.readGeometryOrExtent(e,n);return i?zo(i,!1,r):void 0}readFeatureElementInternal(e,n,r){let i;const s={};for(let l=e.firstElementChild;l;l=l.nextElementSibling){let u;const h=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(u=Kh(l,!1),Vft.test(u)&&(u=void 0)):(r&&(u=h==="boundedBy"?this.readExtentElement(l,n):this.readGeometryElement(l,n)),u?h!=="boundedBy"&&(i=h):u=this.readFeatureElementInternal(l,n,!1));const d=l.attributes.length;if(d>0&&!(u instanceof zL)){u={_content_:u};for(let f=0;f<d;f++){const A=l.attributes[f].name;u[A]=l.attributes[f].value}}s[h]?(s[h]instanceof Array||(s[h]=[s[h]]),s[h].push(u)):s[h]=u}if(!r)return s;const a=new vs(s);i&&a.setGeometryName(i);const o=e.getAttribute("fid")||Hft(e,this.namespace,"id");return o&&a.setId(o),a}readFeatureElement(e,n){return this.readFeatureElementInternal(e,n,!0)}readPoint(e,n){const r=this.readFlatCoordinatesFromNode(e,n);if(r)return new oa(r,"XYZ")}readMultiPoint(e,n){const r=jn([],this.MULTIPOINT_PARSERS,e,n,this);if(r)return new zd(r)}readMultiLineString(e,n){const r=jn([],this.MULTILINESTRING_PARSERS,e,n,this);if(r)return new hc(r)}readMultiPolygon(e,n){const r=jn([],this.MULTIPOLYGON_PARSERS,e,n,this);if(r)return new dc(r)}pointMemberParser(e,n){Od(this.POINTMEMBER_PARSERS,e,n,this)}lineStringMemberParser(e,n){Od(this.LINESTRINGMEMBER_PARSERS,e,n,this)}polygonMemberParser(e,n){Od(this.POLYGONMEMBER_PARSERS,e,n,this)}readLineString(e,n){const r=this.readFlatCoordinatesFromNode(e,n);if(r)return new Ca(r,"XYZ")}readFlatLinearRing(e,n){const r=jn(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this);if(r)return r}readLinearRing(e,n){const r=this.readFlatCoordinatesFromNode(e,n);if(r)return new Iv(r,"XYZ")}readPolygon(e,n){const r=jn([null],this.FLAT_LINEAR_RINGS_PARSERS,e,n,this);if(r&&r[0]){const i=r[0],s=[i.length];let a,o;for(a=1,o=r.length;a<o;++a)qs(i,r[a]),s.push(i.length);return new uo(i,"XYZ",s)}}readFlatCoordinatesFromNode(e,n){return jn(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this)}readGeometryFromNode(e,n){const r=this.readGeometryElement(e,[this.getReadOptions(e,n||{})]);return r||null}readFeaturesFromNode(e,n){const r={featureType:this.featureType,featureNS:this.featureNS};return r&&Object.assign(r,this.getReadOptions(e,n)),this.readFeaturesInternal(e,[r])||[]}readProjectionFromNode(e){return gi(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}}Ai.prototype.namespace=yv;Ai.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};Ai.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};Ai.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};Ai.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:pi(Ai.prototype.pointMemberParser),pointMembers:pi(Ai.prototype.pointMemberParser)}};Ai.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:pi(Ai.prototype.lineStringMemberParser),lineStringMembers:pi(Ai.prototype.lineStringMemberParser)}};Ai.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:pi(Ai.prototype.polygonMemberParser),polygonMembers:pi(Ai.prototype.polygonMemberParser)}};Ai.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:pi(Ai.prototype.readFlatCoordinatesFromNode)}};Ai.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:pi(Ai.prototype.readLineString)}};Ai.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:pi(Ai.prototype.readPolygon)}};Ai.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Ni(Ai.prototype.readFlatLinearRing)}};function by(t){const e=Kh(t,!1);return dA(e)}function dA(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return e[1]!==void 0||!1}function yD(t){const e=Kh(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function ks(t){const e=Kh(t,!1);return ap(e)}function ap(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function wl(t){const e=Kh(t,!1);return dv(e)}function dv(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Jn(t){return Kh(t,!1).trim()}function TS(t,e){es(t,e?"1":"0")}function zft(t,e){t.appendChild(aC().createCDATASection(e))}function $ft(t,e){const n=new Date(e*1e3),r=n.getUTCFullYear()+"-"+b2(n.getUTCMonth()+1,2)+"-"+b2(n.getUTCDate(),2)+"T"+b2(n.getUTCHours(),2)+":"+b2(n.getUTCMinutes(),2)+":"+b2(n.getUTCSeconds(),2)+"Z";t.appendChild(aC().createTextNode(r))}function Cd(t,e){const n=e.toPrecision();t.appendChild(aC().createTextNode(n))}function sN(t,e){const n=e.toString();t.appendChild(aC().createTextNode(n))}function es(t,e){t.appendChild(aC().createTextNode(e))}const Qft=yv+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",Wft={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class Fs extends Ai{constructor(e){e=e||{},super(e),this.FEATURE_COLLECTION_PARSERS[yv].featureMember=pi(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:Qft}readFlatCoordinates(e,n){const r=Kh(e,!1).replace(/^\s*|\s*$/g,""),s=n[0].srsName;let a="enu";if(s){const u=gi(s);u&&(a=u.getAxisOrientation())}const o=r.trim().split(/\s+/),l=[];for(let u=0,h=o.length;u<h;u++){const d=o[u].split(/,+/),f=parseFloat(d[0]),A=parseFloat(d[1]),m=d.length===3?parseFloat(d[2]):0;a.startsWith("en")?l.push(f,A,m):l.push(A,f,m)}return l}readBox(e,n){const r=jn([null],this.BOX_PARSERS_,e,n,this);return Bf(r[1][0],r[1][1],r[1][3],r[1][4])}innerBoundaryIsParser(e,n){const r=jn(void 0,this.RING_PARSERS,e,n,this);r&&n[n.length-1].push(r)}outerBoundaryIsParser(e,n){const r=jn(void 0,this.RING_PARSERS,e,n,this);if(r){const i=n[n.length-1];i[0]=r}}GEOMETRY_NODE_FACTORY_(e,n,r){const i=n[n.length-1],s=i.multiSurface,a=i.surface,o=i.multiCurve;return Array.isArray(e)?r="Envelope":(r=e.getType(),r==="MultiPolygon"&&s===!0?r="MultiSurface":r==="Polygon"&&a===!0?r="Surface":r==="MultiLineString"&&o===!0&&(r="MultiCurve")),is("http://www.opengis.net/gml",r)}writeFeatureElement(e,n,r){const i=n.getId();i&&e.setAttribute("fid",i);const s=r[r.length-1],a=s.featureNS,o=n.getGeometryName();s.serializers||(s.serializers={},s.serializers[a]={});const l=[],u=[];if(n.hasProperties()){const d=n.getProperties();for(const f in d){const A=d[f];A!=null&&(l.push(f),u.push(A),f==o||typeof A.getSimplifiedGeometry=="function"?f in s.serializers[a]||(s.serializers[a][f]=zt(this.writeGeometryElement,this)):f in s.serializers[a]||(s.serializers[a][f]=zt(es)))}}const h=Object.assign({},s);h.node=e,rs(h,s.serializers,sl(void 0,a),u,r,l)}writeCurveOrLineString(e,n,r){const s=r[r.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&s&&e.setAttribute("srsName",s),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a),this.writeCoordinates_(a,n,r)}else if(e.nodeName==="Curve"){const a=is(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,n,r)}}writeLineStringOrCurveMember(e,n,r){const i=this.GEOMETRY_NODE_FACTORY_(n,r);i&&(e.appendChild(i),this.writeCurveOrLineString(i,n,r))}writeMultiCurveOrLineString(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName,o=i.curve;a&&e.setAttribute("srsName",a);const l=n.getLineStrings();rs({node:e,hasZ:s,srsName:a,curve:o},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeGeometryElement(e,n,r){const i=r[r.length-1],s=Object.assign({},i);s.node=e;let a;Array.isArray(n)?a=fQ(n,i):a=zo(n,!0,i),rs(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],r,void 0,this)}createCoordinatesNode_(e){const n=is(e,"coordinates");return n.setAttribute("decimal","."),n.setAttribute("cs",","),n.setAttribute("ts"," "),n}writeCoordinates_(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName,o=n.getCoordinates(),l=o.length,u=new Array(l);for(let h=0;h<l;++h){const d=o[h];u[h]=this.getCoords_(d,a,s)}es(e,u.join(" "))}writeCurveSegments_(e,n,r){const i=is(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,n,r)}writeSurfaceOrPolygon(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const o=n.getLinearRings();rs({node:e,hasZ:s,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,o,r,void 0,this)}else if(e.nodeName==="Surface"){const o=is(e.namespaceURI,"patches");e.appendChild(o),this.writeSurfacePatches_(o,n,r)}}RING_NODE_FACTORY_(e,n,r){const i=n[n.length-1],s=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),is(s.namespaceURI,a!==void 0?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,n,r){const i=is(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,n,r)}writeRing(e,n,r){const i=is(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,n,r)}getCoords_(e,n,r){let s=(n?gi(n).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(r){const a=e[2]||0;s+=","+a}return s}writePoint(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o);const l=n.getCoordinates(),u=this.getCoords_(l,a,s);es(o,u)}writeMultiPoint(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const o=n.getPoints();rs({node:e,hasZ:s,srsName:a},this.POINTMEMBER_SERIALIZERS,sl("pointMember"),o,r,void 0,this)}writePointMember(e,n,r){const i=is(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,n,r)}writeLinearRing(e,n,r){const s=r[r.length-1].srsName;s&&e.setAttribute("srsName",s);const a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a),this.writeCoordinates_(a,n,r)}writeMultiSurfaceOrPolygon(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName,o=i.surface;a&&e.setAttribute("srsName",a);const l=n.getPolygons();rs({node:e,hasZ:s,srsName:a,surface:o},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeSurfaceOrPolygonMember(e,n,r){const i=this.GEOMETRY_NODE_FACTORY_(n,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,n,r))}writeEnvelope(e,n,r){const s=r[r.length-1].srsName;s&&e.setAttribute("srsName",s);const a=["lowerCorner","upperCorner"],o=[n[0]+" "+n[1],n[2]+" "+n[3]];rs({node:e},this.ENVELOPE_SERIALIZERS,eu,o,r,a,this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,n,r){const i=n[n.length-1].node;return is("http://www.opengis.net/gml",Wft[i.nodeName])}}Fs.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Ni(Fs.prototype.readFlatCoordinates)}};Fs.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Fs.prototype.innerBoundaryIsParser,outerBoundaryIs:Fs.prototype.outerBoundaryIsParser}};Fs.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:pi(Fs.prototype.readFlatCoordinates)}};Fs.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Ni(Ai.prototype.readPoint),MultiPoint:Ni(Ai.prototype.readMultiPoint),LineString:Ni(Ai.prototype.readLineString),MultiLineString:Ni(Ai.prototype.readMultiLineString),LinearRing:Ni(Ai.prototype.readLinearRing),Polygon:Ni(Ai.prototype.readPolygon),MultiPolygon:Ni(Ai.prototype.readMultiPolygon),Box:Ni(Fs.prototype.readBox)}};Fs.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:zt(Fs.prototype.writeCurveOrLineString),MultiCurve:zt(Fs.prototype.writeMultiCurveOrLineString),Point:zt(Fs.prototype.writePoint),MultiPoint:zt(Fs.prototype.writeMultiPoint),LineString:zt(Fs.prototype.writeCurveOrLineString),MultiLineString:zt(Fs.prototype.writeMultiCurveOrLineString),LinearRing:zt(Fs.prototype.writeLinearRing),Polygon:zt(Fs.prototype.writeSurfaceOrPolygon),MultiPolygon:zt(Fs.prototype.writeMultiSurfaceOrPolygon),Surface:zt(Fs.prototype.writeSurfaceOrPolygon),MultiSurface:zt(Fs.prototype.writeMultiSurfaceOrPolygon),Envelope:zt(Fs.prototype.writeEnvelope)}};Fs.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:zt(Fs.prototype.writeLineStringOrCurveMember),curveMember:zt(Fs.prototype.writeLineStringOrCurveMember)}};Fs.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:zt(Fs.prototype.writeRing),innerBoundaryIs:zt(Fs.prototype.writeRing)}};Fs.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:zt(Fs.prototype.writePointMember)}};Fs.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:zt(Fs.prototype.writeSurfaceOrPolygonMember),polygonMember:zt(Fs.prototype.writeSurfaceOrPolygonMember)}};Fs.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:zt(es),upperCorner:zt(es)}};const jft=yv+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",Kft={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class cr extends Ai{constructor(e){e=e||{},super(e),this.surface_=e.surface!==void 0?e.surface:!1,this.curve_=e.curve!==void 0?e.curve:!1,this.multiCurve_=e.multiCurve!==void 0?e.multiCurve:!0,this.multiSurface_=e.multiSurface!==void 0?e.multiSurface:!0,this.schemaLocation=e.schemaLocation?e.schemaLocation:jft,this.hasZ=e.hasZ!==void 0?e.hasZ:!1}readMultiCurve(e,n){const r=jn([],this.MULTICURVE_PARSERS,e,n,this);if(r)return new hc(r)}readFlatCurveRing(e,n){const r=jn([],this.MULTICURVE_PARSERS,e,n,this),i=[];for(let s=0,a=r.length;s<a;++s)qs(i,r[s].getFlatCoordinates());return i}readMultiSurface(e,n){const r=jn([],this.MULTISURFACE_PARSERS,e,n,this);if(r)return new dc(r)}curveMemberParser(e,n){Od(this.CURVEMEMBER_PARSERS,e,n,this)}surfaceMemberParser(e,n){Od(this.SURFACEMEMBER_PARSERS,e,n,this)}readPatch(e,n){return jn([null],this.PATCHES_PARSERS,e,n,this)}readSegment(e,n){return jn([],this.SEGMENTS_PARSERS,e,n,this)}readPolygonPatch(e,n){return jn([null],this.FLAT_LINEAR_RINGS_PARSERS,e,n,this)}readLineStringSegment(e,n){return jn([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,n,this)}interiorParser(e,n){const r=jn(void 0,this.RING_PARSERS,e,n,this);r&&n[n.length-1].push(r)}exteriorParser(e,n){const r=jn(void 0,this.RING_PARSERS,e,n,this);if(r){const i=n[n.length-1];i[0]=r}}readSurface(e,n){const r=jn([null],this.SURFACE_PARSERS,e,n,this);if(r&&r[0]){const i=r[0],s=[i.length];let a,o;for(a=1,o=r.length;a<o;++a)qs(i,r[a]),s.push(i.length);return new uo(i,"XYZ",s)}}readCurve(e,n){const r=jn([null],this.CURVE_PARSERS,e,n,this);if(r)return new Ca(r,"XYZ")}readEnvelope(e,n){const r=jn([null],this.ENVELOPE_PARSERS,e,n,this);return Bf(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(e,n){let r=Kh(e,!1);const i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[];let a;for(;a=i.exec(r);)s.push(parseFloat(a[1])),r=r.substr(a[0].length);if(r!=="")return;const l=n[0].srsName;if((l?gi(l).getAxisOrientation():"enu")==="neu")for(let d=0,f=s.length;d<f;d+=3){const A=s[d],m=s[d+1];s[d]=m,s[d+1]=A}const h=s.length;if(h==2&&s.push(0),h!==0)return s}readFlatPosList(e,n){const r=Kh(e,!1).replace(/^\s*|\s*$/g,""),i=n[0],s=i.srsName,a=i.srsDimension,o=s?gi(s).getAxisOrientation():"enu",l=r.split(/\s+/);let u=2;e.getAttribute("srsDimension")?u=dv(e.getAttribute("srsDimension")):e.getAttribute("dimension")?u=dv(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?u=dv(e.parentNode.getAttribute("srsDimension")):a&&(u=dv(a));const h=o.startsWith("en");let d,f,A;const m=[];for(let g=0,y=l.length;g<y;g+=u)d=parseFloat(l[g]),f=parseFloat(l[g+1]),A=u===3?parseFloat(l[g+2]):0,h?m.push(d,f,A):m.push(f,d,A);return m}writePos_(e,n,r){const i=r[r.length-1],s=i.hasZ,a=s?"3":"2";e.setAttribute("srsDimension",a);const o=i.srsName,l=o?gi(o).getAxisOrientation():"enu",u=n.getCoordinates();let h=l.startsWith("en")?u[0]+" "+u[1]:u[1]+" "+u[0];if(s){const d=u[2]||0;h+=" "+d}es(e,h)}getCoords_(e,n,r){let s=(n?gi(n).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(r){const a=e[2]||0;s+=" "+a}return s}writePosList_(e,n,r){const i=r[r.length-1],s=i.hasZ,a=s?"3":"2";e.setAttribute("srsDimension",a);const o=i.srsName,l=n.getCoordinates(),u=l.length,h=new Array(u);let d;for(let f=0;f<u;++f)d=l[f],h[f]=this.getCoords_(d,o,s);es(e,h.join(" "))}writePoint(e,n,r){const s=r[r.length-1].srsName;s&&e.setAttribute("srsName",s);const a=is(e.namespaceURI,"pos");e.appendChild(a),this.writePos_(a,n,r)}writeEnvelope(e,n,r){const s=r[r.length-1].srsName;s&&e.setAttribute("srsName",s);const a=["lowerCorner","upperCorner"],o=[n[0]+" "+n[1],n[2]+" "+n[3]];rs({node:e},this.ENVELOPE_SERIALIZERS,eu,o,r,a,this)}writeLinearRing(e,n,r){const s=r[r.length-1].srsName;s&&e.setAttribute("srsName",s);const a=is(e.namespaceURI,"posList");e.appendChild(a),this.writePosList_(a,n,r)}RING_NODE_FACTORY_(e,n,r){const i=n[n.length-1],s=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),is(s.namespaceURI,a!==void 0?"interior":"exterior")}writeSurfaceOrPolygon(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const o=n.getLinearRings();rs({node:e,hasZ:s,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,o,r,void 0,this)}else if(e.nodeName==="Surface"){const o=is(e.namespaceURI,"patches");e.appendChild(o),this.writeSurfacePatches_(o,n,r)}}writeCurveOrLineString(e,n,r){const s=r[r.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&s&&e.setAttribute("srsName",s),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const a=is(e.namespaceURI,"posList");e.appendChild(a),this.writePosList_(a,n,r)}else if(e.nodeName==="Curve"){const a=is(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,n,r)}}writeMultiSurfaceOrPolygon(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName,o=i.surface;a&&e.setAttribute("srsName",a);const l=n.getPolygons();rs({node:e,hasZ:s,srsName:a,surface:o},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeMultiPoint(e,n,r){const i=r[r.length-1],s=i.srsName,a=i.hasZ;s&&e.setAttribute("srsName",s);const o=n.getPoints();rs({node:e,hasZ:a,srsName:s},this.POINTMEMBER_SERIALIZERS,sl("pointMember"),o,r,void 0,this)}writeMultiCurveOrLineString(e,n,r){const i=r[r.length-1],s=i.hasZ,a=i.srsName,o=i.curve;a&&e.setAttribute("srsName",a);const l=n.getLineStrings();rs({node:e,hasZ:s,srsName:a,curve:o},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeRing(e,n,r){const i=is(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,n,r)}writeSurfaceOrPolygonMember(e,n,r){const i=this.GEOMETRY_NODE_FACTORY_(n,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,n,r))}writePointMember(e,n,r){const i=is(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,n,r)}writeLineStringOrCurveMember(e,n,r){const i=this.GEOMETRY_NODE_FACTORY_(n,r);i&&(e.appendChild(i),this.writeCurveOrLineString(i,n,r))}writeSurfacePatches_(e,n,r){const i=is(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,n,r)}writeCurveSegments_(e,n,r){const i=is(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,n,r)}writeGeometryElement(e,n,r){const i=r[r.length-1],s=Object.assign({},i);s.node=e;let a;Array.isArray(n)?a=fQ(n,i):a=zo(n,!0,i),rs(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],r,void 0,this)}writeFeatureElement(e,n,r){const i=n.getId();i&&e.setAttribute("fid",i);const s=r[r.length-1],a=s.featureNS,o=n.getGeometryName();s.serializers||(s.serializers={},s.serializers[a]={});const l=[],u=[];if(n.hasProperties()){const d=n.getProperties();for(const f in d){const A=d[f];A!=null&&(l.push(f),u.push(A),f==o||typeof A.getSimplifiedGeometry=="function"?f in s.serializers[a]||(s.serializers[a][f]=zt(this.writeGeometryElement,this)):f in s.serializers[a]||(s.serializers[a][f]=zt(es)))}}const h=Object.assign({},s);h.node=e,rs(h,s.serializers,sl(void 0,a),u,r,l)}writeFeatureMembers_(e,n,r){const i=r[r.length-1],s=i.featureType,a=i.featureNS,o={};o[a]={},o[a][s]=zt(this.writeFeatureElement,this);const l=Object.assign({},i);l.node=e,rs(l,o,sl(s,a),n,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,n,r){const i=n[n.length-1].node;return is(this.namespace,Kft[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,n,r){const i=n[n.length-1],s=i.multiSurface,a=i.surface,o=i.curve,l=i.multiCurve;return Array.isArray(e)?r="Envelope":(r=e.getType(),r==="MultiPolygon"&&s===!0?r="MultiSurface":r==="Polygon"&&a===!0?r="Surface":r==="LineString"&&o===!0?r="Curve":r==="MultiLineString"&&l===!0&&(r="MultiCurve")),is(this.namespace,r)}writeGeometryNode(e,n){n=this.adaptOptions(n);const r=is(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return n&&Object.assign(i,n),this.writeGeometryElement(r,e,[i]),r}writeFeaturesNode(e,n){n=this.adaptOptions(n);const r=is(this.namespace,"featureMembers");r.setAttributeNS(ow,"xsi:schemaLocation",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return n&&Object.assign(i,n),this.writeFeatureMembers_(r,e,[i]),r}}cr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Ni(cr.prototype.readFlatPos),posList:Ni(cr.prototype.readFlatPosList),coordinates:Ni(Fs.prototype.readFlatCoordinates)}};cr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:cr.prototype.interiorParser,exterior:cr.prototype.exteriorParser}};cr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Ni(Ai.prototype.readPoint),MultiPoint:Ni(Ai.prototype.readMultiPoint),LineString:Ni(Ai.prototype.readLineString),MultiLineString:Ni(Ai.prototype.readMultiLineString),LinearRing:Ni(Ai.prototype.readLinearRing),Polygon:Ni(Ai.prototype.readPolygon),MultiPolygon:Ni(Ai.prototype.readMultiPolygon),Surface:Ni(cr.prototype.readSurface),MultiSurface:Ni(cr.prototype.readMultiSurface),Curve:Ni(cr.prototype.readCurve),MultiCurve:Ni(cr.prototype.readMultiCurve),Envelope:Ni(cr.prototype.readEnvelope)}};cr.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:pi(cr.prototype.curveMemberParser),curveMembers:pi(cr.prototype.curveMemberParser)}};cr.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:pi(cr.prototype.surfaceMemberParser),surfaceMembers:pi(cr.prototype.surfaceMemberParser)}};cr.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:pi(Ai.prototype.readLineString),Curve:pi(cr.prototype.readCurve)}};cr.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:pi(Ai.prototype.readPolygon),Surface:pi(cr.prototype.readSurface)}};cr.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Ni(cr.prototype.readPatch)}};cr.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Ni(cr.prototype.readSegment)}};cr.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:pi(cr.prototype.readFlatPosList),upperCorner:pi(cr.prototype.readFlatPosList)}};cr.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Ni(cr.prototype.readPolygonPatch)}};cr.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:iN(cr.prototype.readLineStringSegment)}};Ai.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Ni(Ai.prototype.readFlatLinearRing),Ring:Ni(cr.prototype.readFlatCurveRing)}};cr.prototype.writeFeatures;cr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:zt(cr.prototype.writeRing),interior:zt(cr.prototype.writeRing)}};cr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:zt(es),upperCorner:zt(es)}};cr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:zt(cr.prototype.writeSurfaceOrPolygonMember),polygonMember:zt(cr.prototype.writeSurfaceOrPolygonMember)}};cr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:zt(cr.prototype.writePointMember)}};cr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:zt(cr.prototype.writeLineStringOrCurveMember),curveMember:zt(cr.prototype.writeLineStringOrCurveMember)}};cr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:zt(cr.prototype.writeCurveOrLineString),MultiCurve:zt(cr.prototype.writeMultiCurveOrLineString),Point:zt(cr.prototype.writePoint),MultiPoint:zt(cr.prototype.writeMultiPoint),LineString:zt(cr.prototype.writeCurveOrLineString),MultiLineString:zt(cr.prototype.writeMultiCurveOrLineString),LinearRing:zt(cr.prototype.writeLinearRing),Polygon:zt(cr.prototype.writeSurfaceOrPolygon),MultiPolygon:zt(cr.prototype.writeMultiSurfaceOrPolygon),Surface:zt(cr.prototype.writeSurfaceOrPolygon),MultiSurface:zt(cr.prototype.writeMultiSurfaceOrPolygon),Envelope:zt(cr.prototype.writeEnvelope)}};const mQ=cr;mQ.prototype.writeFeatures;mQ.prototype.writeFeaturesNode;const Vo=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],qft="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Xft={rte:sge,trk:age,wpt:oge},Yft=In(Vo,{rte:pi(sge),trk:pi(age),wpt:pi(oge)}),Zft=In(Vo,{text:Bt(Jn,"linkText"),type:Bt(Jn,"linkType")}),Jft=In(Vo,{name:Bt(Jn),email:CAt,link:iB}),eAt=In(Vo,{name:Bt(Jn),desc:Bt(Jn),author:Bt(xAt),copyright:Bt(EAt),link:iB,time:Bt(yD),keywords:Bt(Jn),bounds:SAt,extensions:_D}),tAt=In(Vo,{year:Bt(wl),license:Bt(Jn)}),nAt=In(Vo,{rte:zt(BAt),trk:zt(RAt),wpt:zt(PAt)});class rAt extends rB{constructor(e){super(),e=e||{},this.dataProjection=gi("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let n=0,r=e.length;n<r;++n){const i=e[n];if(this.readExtensions_){const s=i.get("extensionsNode_")||null;this.readExtensions_(i,s)}i.set("extensionsNode_",void 0)}}readMetadata(e){return e?typeof e=="string"?this.readMetadataFromDocument(hA(e)):uA(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType===Node.ELEMENT_NODE){const r=this.readMetadataFromNode(n);if(r)return r}return null}readMetadataFromNode(e){if(!Vo.includes(e.namespaceURI))return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(Vo.includes(n.namespaceURI)&&n.localName==="metadata")return jn({},eAt,n,[]);return null}readFeatureFromNode(e,n){if(!Vo.includes(e.namespaceURI))return null;const r=Xft[e.localName];if(!r)return null;const i=r(e,[this.getReadOptions(e,n)]);return i?(this.handleReadExtensions_([i]),i):null}readFeaturesFromNode(e,n){if(!Vo.includes(e.namespaceURI))return[];if(e.localName=="gpx"){const r=jn([],Yft,e,[this.getReadOptions(e,n)]);return r?(this.handleReadExtensions_(r),r):[]}return[]}writeFeaturesNode(e,n){n=this.adaptOptions(n);const r=is("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",ow),r.setAttributeNS(ow,"xsi:schemaLocation",qft),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),rs({node:r},nAt,bAt,e,[n]),r}}const iAt=In(Vo,{name:Bt(Jn),cmt:Bt(Jn),desc:Bt(Jn),src:Bt(Jn),link:iB,number:Bt(wl),extensions:_D,type:Bt(Jn),rtept:TAt}),sAt=In(Vo,{ele:Bt(ks),time:Bt(yD)}),aAt=In(Vo,{name:Bt(Jn),cmt:Bt(Jn),desc:Bt(Jn),src:Bt(Jn),link:iB,number:Bt(wl),type:Bt(Jn),extensions:_D,trkseg:LAt}),oAt=In(Vo,{trkpt:MAt}),lAt=In(Vo,{ele:Bt(ks),time:Bt(yD)}),cAt=In(Vo,{ele:Bt(ks),time:Bt(yD),magvar:Bt(ks),geoidheight:Bt(ks),name:Bt(Jn),cmt:Bt(Jn),desc:Bt(Jn),src:Bt(Jn),link:iB,sym:Bt(Jn),type:Bt(Jn),fix:Bt(Jn),sat:Bt(wl),hdop:Bt(ks),vdop:Bt(ks),pdop:Bt(ks),ageofdgpsdata:Bt(ks),dgpsid:Bt(wl),extensions:_D}),uAt=["text","type"],hAt=In(Vo,{text:zt(es),type:zt(es)}),dAt=In(Vo,["name","cmt","desc","src","link","number","type","rtept"]),fAt=In(Vo,{name:zt(es),cmt:zt(es),desc:zt(es),src:zt(es),link:zt(_Q),number:zt(sN),type:zt(es),rtept:rge(zt(wQ))}),AAt=In(Vo,["ele","time"]),pAt=In(Vo,["name","cmt","desc","src","link","number","type","trkseg"]),gAt=In(Vo,{name:zt(es),cmt:zt(es),desc:zt(es),src:zt(es),link:zt(_Q),number:zt(sN),type:zt(es),trkseg:rge(zt(IAt))}),mAt=sl("trkpt"),vAt=In(Vo,{trkpt:zt(wQ)}),yAt=In(Vo,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),_At=In(Vo,{ele:zt(Cd),time:zt($ft),magvar:zt(Cd),geoidheight:zt(Cd),name:zt(es),cmt:zt(es),desc:zt(es),src:zt(es),link:zt(_Q),sym:zt(es),type:zt(es),fix:zt(es),sat:zt(sN),hdop:zt(Cd),vdop:zt(Cd),pdop:zt(Cd),ageofdgpsdata:zt(Cd),dgpsid:zt(sN)}),wAt={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function bAt(t,e,n){const r=t.getGeometry();if(r){const i=wAt[r.getType()];if(i){const s=e[e.length-1].node;return is(s.namespaceURI,i)}}}function vQ(t,e,n,r){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(t.push(r.ele),delete r.ele,e.hasZ=!0):t.push(0),"time"in r?(t.push(r.time),delete r.time,e.hasM=!0):t.push(0),t}function yQ(t,e,n){let r="XY",i=2;if(t.hasZ&&t.hasM?(r="XYZM",i=4):t.hasZ?(r="XYZ",i=3):t.hasM&&(r="XYM",i=3),i!==4){for(let s=0,a=e.length/4;s<a;s++)e[s*i]=e[s*4],e[s*i+1]=e[s*4+1],t.hasZ&&(e[s*i+2]=e[s*4+2]),t.hasM&&(e[s*i+2]=e[s*4+3]);if(e.length=e.length/4*i,n)for(let s=0,a=n.length;s<a;s++)n[s]=n[s]/4*i}return r}function xAt(t,e){const n=jn({},Jft,t,e);if(n)return n}function EAt(t,e){const n=jn({},tAt,t,e);if(n){const r=t.getAttribute("author");return r!==null&&(n.author=r),n}}function SAt(t,e){const n=e[e.length-1],r=t.getAttribute("minlat"),i=t.getAttribute("minlon"),s=t.getAttribute("maxlat"),a=t.getAttribute("maxlon");i!==null&&r!==null&&a!==null&&s!==null&&(n.bounds=[[parseFloat(i),parseFloat(r)],[parseFloat(a),parseFloat(s)]])}function CAt(t,e){const n=e[e.length-1],r=t.getAttribute("id"),i=t.getAttribute("domain");r!==null&&i!==null&&(n.email="".concat(r,"@").concat(i))}function iB(t,e){const n=e[e.length-1],r=t.getAttribute("href");r!==null&&(n.link=r),Od(Zft,t,e)}function _D(t,e){const n=e[e.length-1];n.extensionsNode_=t}function TAt(t,e){const n=jn({},sAt,t,e);if(n){const r=e[e.length-1],i=r.flatCoordinates,s=r.layoutOptions;vQ(i,s,t,n)}}function MAt(t,e){const n=jn({},lAt,t,e);if(n){const r=e[e.length-1],i=r.flatCoordinates,s=r.layoutOptions;vQ(i,s,t,n)}}function LAt(t,e){const n=e[e.length-1];Od(oAt,t,e);const r=n.flatCoordinates;n.ends.push(r.length)}function sge(t,e){const n=e[0],r=jn({flatCoordinates:[],layoutOptions:{}},iAt,t,e);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const s=r.layoutOptions;delete r.layoutOptions;const a=yQ(s,i),o=new Ca(i,a);zo(o,!1,n);const l=new vs(o);return l.setProperties(r,!0),l}function age(t,e){const n=e[0],r=jn({flatCoordinates:[],ends:[],layoutOptions:{}},aAt,t,e);if(!r)return;const i=r.flatCoordinates;delete r.flatCoordinates;const s=r.ends;delete r.ends;const a=r.layoutOptions;delete r.layoutOptions;const o=yQ(a,i,s),l=new hc(i,o,s);zo(l,!1,n);const u=new vs(l);return u.setProperties(r,!0),u}function oge(t,e){const n=e[0],r=jn({},cAt,t,e);if(!r)return;const i={},s=vQ([],i,t,r),a=yQ(i,s),o=new oa(s,a);zo(o,!1,n);const l=new vs(o);return l.setProperties(r,!0),l}function _Q(t,e,n){t.setAttribute("href",e);const i=n[n.length-1].properties,s=[i.linkText,i.linkType];rs({node:t},hAt,eu,s,n,uAt)}function wQ(t,e,n){const r=n[n.length-1],s=r.node.namespaceURI,a=r.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),r.geometryLayout){case"XYZM":e[3]!==0&&(a.time=e[3]);case"XYZ":e[2]!==0&&(a.ele=e[2]);break;case"XYM":e[2]!==0&&(a.time=e[2]);break}const l=t.nodeName=="rtept"?AAt[s]:yAt[s],u=Ud(a,l);rs({node:t,properties:a},_At,eu,u,n,l)}function BAt(t,e,n){const r=n[0],i=e.getProperties(),s={node:t};s.properties=i;const a=e.getGeometry();if(a.getType()=="LineString"){const h=zo(a,!0,r);s.geometryLayout=h.getLayout(),i.rtept=h.getCoordinates()}const o=n[n.length-1].node,l=dAt[o.namespaceURI],u=Ud(i,l);rs(s,fAt,eu,u,n,l)}function RAt(t,e,n){const r=n[0],i=e.getProperties(),s={node:t};s.properties=i;const a=e.getGeometry();if(a.getType()=="MultiLineString"){const h=zo(a,!0,r);i.trkseg=h.getLineStrings()}const o=n[n.length-1].node,l=pAt[o.namespaceURI],u=Ud(i,l);rs(s,gAt,eu,u,n,l)}function IAt(t,e,n){const r={node:t};r.geometryLayout=e.getLayout(),r.properties={},rs(r,vAt,mAt,e.getCoordinates(),n)}function PAt(t,e,n){const r=n[0],i=n[n.length-1];i.properties=e.getProperties();const s=e.getGeometry();if(s.getType()=="Point"){const a=zo(s,!0,r);i.geometryLayout=a.getLayout(),wQ(t,a.getCoordinates(),n)}}class bQ extends tB{constructor(){super()}getType(){return"text"}readFeature(e,n){return this.readFeatureFromText(MI(e),this.adaptOptions(n))}readFeatureFromText(e,n){return Bi()}readFeatures(e,n){return this.readFeaturesFromText(MI(e),this.adaptOptions(n))}readFeaturesFromText(e,n){return Bi()}readGeometry(e,n){return this.readGeometryFromText(MI(e),this.adaptOptions(n))}readGeometryFromText(e,n){return Bi()}readProjection(e){return this.readProjectionFromText(MI(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,n){return this.writeFeatureText(e,this.adaptOptions(n))}writeFeatureText(e,n){return Bi()}writeFeatures(e,n){return this.writeFeaturesText(e,this.adaptOptions(n))}writeFeaturesText(e,n){return Bi()}writeGeometry(e,n){return this.writeGeometryText(e,this.adaptOptions(n))}writeGeometryText(e,n){return Bi()}}function MI(t){return typeof t=="string"?t:""}const FAt=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,OAt=/^H.([A-Z]{3}).*?:(.*)/,NAt=/^HFDTE(\d{2})(\d{2})(\d{2})/,DAt=/^HFDTEDATE:(\d{2})(\d{2})(\d{2}),(\d{2})/,kAt=/\r\n|\r|\n/;class UAt extends bQ{constructor(e){super(),e=e||{},this.dataProjection=gi("EPSG:4326"),this.altitudeMode_=e.altitudeMode?e.altitudeMode:"none",this.lad_=!1,this.lod_=!1,this.ladStart_=0,this.ladStop_=0,this.lodStart_=0,this.lodStop_=0}readFeatureFromText(e,n){const r=this.altitudeMode_,i=e.split(kAt),s={},a=[];let o=2e3,l=0,u=1,h=-1,d,f;for(d=0,f=i.length;d<f;++d){const y=i[d];let _;if(y.charAt(0)=="B"){if(_=FAt.exec(y),_){const x=parseInt(_[1],10),S=parseInt(_[2],10),C=parseInt(_[3],10);let M=parseInt(_[4],10)+parseInt(_[5],10)/6e4;this.lad_&&(M+=parseInt(y.slice(this.ladStart_,this.ladStop_),10)/6e4/10**(this.ladStop_-this.ladStart_)),_[6]=="S"&&(M=-M);let B=parseInt(_[7],10)+parseInt(_[8],10)/6e4;if(this.lod_&&(B+=parseInt(y.slice(this.lodStart_,this.lodStop_),10)/6e4/10**(this.lodStop_-this.lodStart_)),_[9]=="W"&&(B=-B),a.push(B,M),r!="none"){let L;r=="gps"?L=parseInt(_[11],10):r=="barometric"?L=parseInt(_[12],10):L=0,a.push(L)}let E=Date.UTC(o,l,u,x,S,C);E<h&&(E=Date.UTC(o,l,u+1,x,S,C)),a.push(E/1e3),h=E}}else if(y.charAt(0)=="H")_=DAt.exec(y),_?(u=parseInt(_[1],10),l=parseInt(_[2],10)-1,o=2e3+parseInt(_[3],10)):(_=NAt.exec(y),_?(u=parseInt(_[1],10),l=parseInt(_[2],10)-1,o=2e3+parseInt(_[3],10)):(_=OAt.exec(y),_&&(s[_[1]]=_[2].trim())));else if(y.charAt(0)=="I"){const x=parseInt(y.slice(1,3),10);for(let S=0;S<x;S++){const C=y.slice(7+S*7,10+S*7);if(C==="LAD"||C==="LOD"){const M=parseInt(y.slice(3+S*7,5+S*7),10)-1,B=parseInt(y.slice(5+S*7,7+S*7),10);C==="LAD"?(this.lad_=!0,this.ladStart_=M,this.ladStop_=B):C==="LOD"&&(this.lod_=!0,this.lodStart_=M,this.lodStop_=B)}}}}if(a.length===0)return null;const A=r=="none"?"XYM":"XYZM",m=new Ca(a,A),g=new vs(zo(m,!1,n));return g.setProperties(s,!0),g}readFeaturesFromText(e,n){const r=this.readFeatureFromText(e,n);return r?[r]:[]}}const jv=["http://www.google.com/kml/ext/2.2"],_i=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],HAt="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",Jee={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},GAt=In(_i,{ExtendedData:bge,Region:xge,MultiGeometry:Bt(yge,"geometry"),LineString:Bt(mge,"geometry"),LinearRing:Bt(vge,"geometry"),Point:Bt(_ge,"geometry"),Polygon:Bt(wge,"geometry"),Style:Bt(SQ),StyleMap:Ept,address:Bt(Jn),description:Bt(Jn),name:Bt(Jn),open:Bt(by),phoneNumber:Bt(Jn),styleUrl:Bt(dge),visibility:Bt(by)},In(jv,{MultiTrack:Bt(hpt,"geometry"),Track:Bt(gge,"geometry")})),VAt=In(_i,{ExtendedData:bge,Region:xge,Link:Npt,address:Bt(Jn),description:Bt(Jn),name:Bt(Jn),open:Bt(by),phoneNumber:Bt(Jn),visibility:Bt(by)}),zAt=In(_i,{href:Bt(hge)}),$At=In(_i,{Altitude:Bt(ks),Longitude:Bt(ks),Latitude:Bt(ks),Tilt:Bt(ks),AltitudeMode:Bt(Jn),Heading:Bt(ks),Roll:Bt(ks)}),lge=In(_i,{LatLonAltBox:Lpt,Lod:Rpt}),QAt=In(_i,["Document","Placemark"]),WAt=In(_i,{Document:zt($pt),Placemark:zt(Cge)});let BE,mF=null,BG,GT,VT,zT,aN,RG=null,xQ,IG=null,PG,v1=null,ete=null,FG=null;function oN(t){return 32/Math.min(t[0],t[1])}function jAt(){BE=[255,255,255,1],mF=new Ul({color:BE}),BG=[20,2],GT="pixels",VT="pixels",zT=[64,64],aN="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",RG=new Vy({anchor:BG,anchorOrigin:"bottom-left",anchorXUnits:GT,anchorYUnits:VT,crossOrigin:"anonymous",rotation:0,scale:oN(zT),size:zT,src:aN}),xQ="NO_IMAGE",IG=new Po({color:BE,width:1}),PG=new Po({color:[51,51,51,1],width:2}),v1=new Mf({font:"bold 16px Helvetica",fill:mF,stroke:PG,scale:.8}),ete=new Sa({fill:mF,image:RG,text:v1,stroke:IG,zIndex:0}),FG=[ete]}let LI;function KAt(t){return t}class qAt extends rB{constructor(e){super(),e=e||{},FG||jAt(),this.dataProjection=gi("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:FG,this.extractStyles_=e.extractStyles!==void 0?e.extractStyles:!0,this.writeStyles_=e.writeStyles!==void 0?e.writeStyles:!0,this.sharedStyles_={},this.showPointNames_=e.showPointNames!==void 0?e.showPointNames:!0,this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:KAt,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,n){const r=In(_i,{Document:iN(this.readDocumentOrFolder_,this),Folder:iN(this.readDocumentOrFolder_,this),Placemark:pi(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=jn([],r,e,n,this);if(i)return i}readPlacemark_(e,n){const r=jn({geometry:null},GAt,e,n,this);if(!r)return;const i=new vs,s=e.getAttribute("id");s!==null&&i.setId(s);const a=n[0],o=r.geometry;if(o&&zo(o,!1,a),i.setGeometry(o),delete r.geometry,this.extractStyles_){const l=r.Style,u=r.styleUrl,h=YAt(l,u,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(h)}return delete r.Style,i.setProperties(r,!0),i}readSharedStyle_(e,n){const r=e.getAttribute("id");if(r!==null){const i=SQ.call(this,e,n);if(i){let s,a=e.baseURI;(!a||a=="about:blank")&&(a=window.location.href),a?s=new URL("#"+r,a).href:s="#"+r,this.sharedStyles_[s]=i}}}readSharedStyleMap_(e,n){const r=e.getAttribute("id");if(r===null)return;const i=Age.call(this,e,n);if(!i)return;let s,a=e.baseURI;(!a||a=="about:blank")&&(a=window.location.href),a?s=new URL("#"+r,a).href:s="#"+r,this.sharedStyles_[s]=i}readFeatureFromNode(e,n){if(!_i.includes(e.namespaceURI))return null;const r=this.readPlacemark_(e,[this.getReadOptions(e,n)]);return r||null}readFeaturesFromNode(e,n){if(!_i.includes(e.namespaceURI))return[];let r;const i=e.localName;if(i=="Document"||i=="Folder")return r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,n)]),r||[];if(i=="Placemark"){const s=this.readPlacemark_(e,[this.getReadOptions(e,n)]);return s?[s]:[]}if(i=="kml"){r=[];for(let s=e.firstElementChild;s;s=s.nextElementSibling){const a=this.readFeaturesFromNode(s,n);a&&qs(r,a)}return r}return[]}readName(e){if(e){if(typeof e=="string"){const n=hA(e);return this.readNameFromDocument(n)}return uA(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){const r=this.readNameFromNode(n);if(r)return r}}readNameFromNode(e){for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(_i.includes(n.namespaceURI)&&n.localName=="name")return Jn(n);for(let n=e.firstElementChild;n;n=n.nextElementSibling){const r=n.localName;if(_i.includes(n.namespaceURI)&&(r=="Document"||r=="Folder"||r=="Placemark"||r=="kml")){const i=this.readNameFromNode(n);if(i)return i}}}readNetworkLinks(e){const n=[];if(typeof e=="string"){const r=hA(e);qs(n,this.readNetworkLinksFromDocument(r))}else uA(e)?qs(n,this.readNetworkLinksFromDocument(e)):qs(n,this.readNetworkLinksFromNode(e));return n}readNetworkLinksFromDocument(e){const n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&qs(n,this.readNetworkLinksFromNode(r));return n}readNetworkLinksFromNode(e){const n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(_i.includes(r.namespaceURI)&&r.localName=="NetworkLink"){const i=jn({},VAt,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){const i=r.localName;_i.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&qs(n,this.readNetworkLinksFromNode(r))}return n}readRegion(e){const n=[];if(typeof e=="string"){const r=hA(e);qs(n,this.readRegionFromDocument(r))}else uA(e)?qs(n,this.readRegionFromDocument(e)):qs(n,this.readRegionFromNode(e));return n}readRegionFromDocument(e){const n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&qs(n,this.readRegionFromNode(r));return n}readRegionFromNode(e){const n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(_i.includes(r.namespaceURI)&&r.localName=="Region"){const i=jn({},lge,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){const i=r.localName;_i.includes(r.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")&&qs(n,this.readRegionFromNode(r))}return n}readCamera(e){const n=[];if(typeof e=="string"){const r=hA(e);qs(n,this.readCameraFromDocument(r))}else uA(e)?qs(n,this.readCameraFromDocument(e)):qs(n,this.readCameraFromNode(e));return n}readCameraFromDocument(e){const n=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType===Node.ELEMENT_NODE&&qs(n,this.readCameraFromNode(r));return n}readCameraFromNode(e){const n=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(_i.includes(r.namespaceURI)&&r.localName==="Camera"){const i=jn({},$At,r,[]);n.push(i)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){const i=r.localName;_i.includes(r.namespaceURI)&&(i==="Document"||i==="Folder"||i==="Placemark"||i==="kml")&&qs(n,this.readCameraFromNode(r))}return n}writeFeaturesNode(e,n){n=this.adaptOptions(n);const r=is(_i[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",jv[0]),r.setAttributeNS(i,"xmlns:xsi",ow),r.setAttributeNS(ow,"xsi:schemaLocation",HAt);const s={node:r},a={};e.length>1?a.Document=e:e.length==1&&(a.Placemark=e[0]);const o=QAt[r.namespaceURI],l=Ud(a,o);return rs(s,WAt,eu,l,[n],o,this),r}}function XAt(t,e){const n=[0,0];let r="start";const i=t.getImage();if(i){const o=i.getSize();if(o&&o.length==2){const l=i.getScaleArray(),u=i.getAnchor();n[0]=l[0]*(o[0]-u[0]),n[1]=l[1]*(o[1]/2-u[1]),r="left"}}let s=t.getText();return s?(s=s.clone(),s.setFont(s.getFont()||v1.getFont()),s.setScale(s.getScale()||v1.getScale()),s.setFill(s.getFill()||v1.getFill()),s.setStroke(s.getStroke()||PG)):s=v1.clone(),s.setText(e),s.setOffsetX(n[0]),s.setOffsetY(n[1]),s.setTextAlign(r),new Sa({image:i,text:s})}function YAt(t,e,n,r,i){return function(s,a){let o=i,l="",u=[];if(o){const d=s.getGeometry();if(d)if(d instanceof Hl)u=d.getGeometriesArrayRecursive().filter(function(f){const A=f.getType();return A==="Point"||A==="MultiPoint"}),o=u.length>0;else{const f=d.getType();o=f==="Point"||f==="MultiPoint"}}o&&(l=s.get("name"),o=o&&!!l,o&&/&[^&]+;/.test(l)&&(LI||(LI=document.createElement("textarea")),LI.innerHTML=l,l=LI.value));let h=n;if(t?h=t:e&&(h=cge(e,n,r)),o){const d=XAt(h[0],l);if(u.length>0){d.setGeometry(new Hl(u));const f=new Sa({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null});return[d,f].concat(h.slice(1))}return d}return h}}function cge(t,e,n){return Array.isArray(t)?t:typeof t=="string"?cge(n[t],e,n):e}function wD(t){const e=Kh(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){const r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function uge(t){let e=Kh(t,!1);const n=[];e=e.replace(/\s*,\s*/g,",");const r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let i;for(;i=r.exec(e);){const s=parseFloat(i[1]),a=parseFloat(i[2]),o=i[3]?parseFloat(i[3]):0;n.push(s,a,o),e=e.substr(i[0].length)}if(e==="")return n}function hge(t){const e=Kh(t,!1).trim();let n=t.baseURI;return(!n||n=="about:blank")&&(n=window.location.href),n?new URL(e,n).href:e}function dge(t){const e=Kh(t,!1).trim().replace(/^(?!.*#)/,"#");let n=t.baseURI;return(!n||n=="about:blank")&&(n=window.location.href),n?new URL(e,n).href:e}function ZAt(t){const e=t.getAttribute("xunits"),n=t.getAttribute("yunits");let r;return e!=="insetPixels"?n!=="insetPixels"?r="bottom-left":r="top-left":n!=="insetPixels"?r="bottom-right":r="top-right",{x:parseFloat(t.getAttribute("x")),xunits:Jee[e],y:parseFloat(t.getAttribute("y")),yunits:Jee[n],origin:r}}function fge(t){return ks(t)}const JAt=In(_i,{Pair:xpt});function Age(t,e){return jn(void 0,JAt,t,e,this)}const ept=In(_i,{Icon:Bt(Apt),color:Bt(wD),heading:Bt(ks),hotSpot:Bt(ZAt),scale:Bt(fge)});function tpt(t,e){const n=jn({},ept,t,e);if(!n)return;const r=e[e.length-1],i="Icon"in n?n.Icon:{},s=!("Icon"in n)||Object.keys(i).length>0;let a;const o=i.href;o?a=o:s&&(a=aN);let l,u,h,d="bottom-left";const f=n.hotSpot;f?(l=[f.x,f.y],u=f.xunits,h=f.yunits,d=f.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(a.includes("pushpin")?(l=BG,u=GT,h=VT):a.includes("arrow-reverse")?(l=[54,42],u=GT,h=VT):a.includes("paddle")&&(l=[32,1],u=GT,h=VT));let A;const m=i.x,g=i.y;m!==void 0&&g!==void 0&&(A=[m,g]);let y;const _=i.w,x=i.h;_!==void 0&&x!==void 0&&(y=[_,x]);let S;const C=n.heading;C!==void 0&&(S=mA(C));const M=n.scale,B=n.color;if(s){a==aN&&(y=zT);const E=new Vy({anchor:l,anchorOrigin:d,anchorXUnits:u,anchorYUnits:h,crossOrigin:this.crossOrigin_,offset:A,offsetOrigin:"bottom-left",rotation:S,scale:M,size:y,src:this.iconUrlFunction_(a),color:B}),L=E.getScaleArray()[0],I=E.getSize();if(I===null){const k=E.getImageState();if(k===Kr.IDLE||k===Kr.LOADING){const O=function(){const F=E.getImageState();if(!(F===Kr.IDLE||F===Kr.LOADING)){const U=E.getSize();if(U&&U.length==2){const $=oN(U);E.setScale(L*$)}E.unlistenImageChange(O)}};E.listenImageChange(O),k===Kr.IDLE&&E.load()}}else if(I.length==2){const k=oN(I);E.setScale(L*k)}r.imageStyle=E}else r.imageStyle=xQ}const npt=In(_i,{color:Bt(wD),scale:Bt(fge)});function rpt(t,e){const n=jn({},npt,t,e);if(!n)return;const r=e[e.length-1],i=new Mf({fill:new Ul({color:"color"in n?n.color:BE}),scale:n.scale});r.textStyle=i}const ipt=In(_i,{color:Bt(wD),width:Bt(ks)});function spt(t,e){const n=jn({},ipt,t,e);if(!n)return;const r=e[e.length-1],i=new Po({color:"color"in n?n.color:BE,width:"width"in n?n.width:1});r.strokeStyle=i}const apt=In(_i,{color:Bt(wD),fill:Bt(by),outline:Bt(by)});function opt(t,e){const n=jn({},apt,t,e);if(!n)return;const r=e[e.length-1],i=new Ul({color:"color"in n?n.color:BE});r.fillStyle=i;const s=n.fill;s!==void 0&&(r.fill=s);const a=n.outline;a!==void 0&&(r.outline=a)}const lpt=In(_i,{coordinates:Ni(uge)});function pge(t,e){return jn(null,lpt,t,e)}function cpt(t,e){const r=e[e.length-1].coordinates,i=Kh(t,!1),a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(a){const o=parseFloat(a[1]),l=parseFloat(a[2]),u=parseFloat(a[3]);r.push([o,l,u])}else r.push([])}const upt=In(jv,{Track:pi(gge)});function hpt(t,e){const n=jn([],upt,t,e);if(n)return new hc(n)}const dpt=In(_i,{when:Dpt},In(jv,{coord:cpt}));function gge(t,e){const n=jn({coordinates:[],whens:[]},dpt,t,e);if(!n)return;const r=[],i=n.coordinates,s=n.whens;for(let a=0,o=Math.min(i.length,s.length);a<o;++a)i[a].length==3&&r.push(i[a][0],i[a][1],i[a][2],s[a]);return new Ca(r,"XYZM")}const fpt=In(_i,{href:Bt(hge)},In(jv,{x:Bt(ks),y:Bt(ks),w:Bt(ks),h:Bt(ks)}));function Apt(t,e){const n=jn({},fpt,t,e);return n||null}const ppt=In(_i,{coordinates:Ni(uge)});function EQ(t,e){return jn(null,ppt,t,e)}const bD=In(_i,{extrude:Bt(by),tessellate:Bt(by),altitudeMode:Bt(Jn)});function mge(t,e){const n=jn({},bD,t,e),r=EQ(t,e);if(r){const i=new Ca(r,"XYZ");return i.setProperties(n,!0),i}}function vge(t,e){const n=jn({},bD,t,e),r=EQ(t,e);if(r){const i=new uo(r,"XYZ",[r.length]);return i.setProperties(n,!0),i}}const gpt=In(_i,{LineString:pi(mge),LinearRing:pi(vge),MultiGeometry:pi(yge),Point:pi(_ge),Polygon:pi(wge)});function yge(t,e){const n=jn([],gpt,t,e);if(!n)return null;if(n.length===0)return new Hl(n);let r,i=!0;const s=n[0].getType();let a;for(let o=1,l=n.length;o<l;++o)if(a=n[o],a.getType()!=s){i=!1;break}if(i){let o,l;if(s=="Point"){const u=n[0];o=u.getLayout(),l=u.getFlatCoordinates();for(let h=1,d=n.length;h<d;++h)a=n[h],qs(l,a.getFlatCoordinates());r=new zd(l,o),C3(r,n)}else if(s=="LineString")r=new hc(n),C3(r,n);else if(s=="Polygon")r=new dc(n),C3(r,n);else if(s=="GeometryCollection"||s.startsWith("Multi"))r=new Hl(n);else throw new Error("Unknown geometry type found")}else r=new Hl(n);return r}function _ge(t,e){const n=jn({},bD,t,e),r=EQ(t,e);if(r){const i=new oa(r,"XYZ");return i.setProperties(n,!0),i}}const mpt=In(_i,{innerBoundaryIs:Ppt,outerBoundaryIs:Opt});function wge(t,e){const n=jn({},bD,t,e),r=jn([null],mpt,t,e);if(r&&r[0]){const i=r[0],s=[i.length];for(let o=1,l=r.length;o<l;++o)qs(i,r[o]),s.push(i.length);const a=new uo(i,"XYZ",s);return a.setProperties(n,!0),a}}const vpt=In(_i,{IconStyle:tpt,LabelStyle:rpt,LineStyle:spt,PolyStyle:opt});function SQ(t,e){const n=jn({},vpt,t,e,this);if(!n)return null;let r="fillStyle"in n?n.fillStyle:mF;const i=n.fill;i!==void 0&&!i&&(r=null);let s;"imageStyle"in n?n.imageStyle!=xQ&&(s=n.imageStyle):s=RG;const a="textStyle"in n?n.textStyle:v1,o="strokeStyle"in n?n.strokeStyle:IG,l=n.outline;return l!==void 0&&!l?[new Sa({geometry:function(u){const h=u.getGeometry(),d=h.getType();if(d==="GeometryCollection"){const f=h;return new Hl(f.getGeometriesArrayRecursive().filter(function(A){const m=A.getType();return m!=="Polygon"&&m!=="MultiPolygon"}))}if(d!=="Polygon"&&d!=="MultiPolygon")return h},fill:r,image:s,stroke:o,text:a,zIndex:void 0}),new Sa({geometry:function(u){const h=u.getGeometry(),d=h.getType();if(d==="GeometryCollection"){const f=h;return new Hl(f.getGeometriesArrayRecursive().filter(function(A){const m=A.getType();return m==="Polygon"||m==="MultiPolygon"}))}if(d==="Polygon"||d==="MultiPolygon")return h},fill:r,stroke:null,zIndex:void 0})]:[new Sa({fill:r,image:s,stroke:o,text:a,zIndex:void 0})]}function C3(t,e){const n=e.length,r=new Array(e.length),i=new Array(e.length),s=new Array(e.length);let a,o,l;a=!1,o=!1,l=!1;for(let u=0;u<n;++u){const h=e[u];r[u]=h.get("extrude"),i[u]=h.get("tessellate"),s[u]=h.get("altitudeMode"),a=a||r[u]!==void 0,o=o||i[u]!==void 0,l=l||s[u]}a&&t.set("extrude",r),o&&t.set("tessellate",i),l&&t.set("altitudeMode",s)}const ypt=In(_i,{displayName:Bt(Jn),value:Bt(Jn)});function _pt(t,e){const n=t.getAttribute("name");Od(ypt,t,e);const r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:n!==null?r[n]=r.value:r.displayName!==null&&(r[r.displayName]=r.value),delete r.value}const wpt=In(_i,{Data:_pt,SchemaData:Cpt});function bge(t,e){Od(wpt,t,e)}function xge(t,e){Od(lge,t,e)}const bpt=In(_i,{Style:Bt(SQ),key:Bt(Jn),styleUrl:Bt(dge)});function xpt(t,e){const n=jn({},bpt,t,e,this);if(!n)return;const r=n.key;if(r&&r=="normal"){const i=n.styleUrl;i&&(e[e.length-1]=i);const s=n.Style;s&&(e[e.length-1]=s)}}function Ept(t,e){const n=Age.call(this,t,e);if(!n)return;const r=e[e.length-1];if(Array.isArray(n))r.Style=n;else if(typeof n=="string")r.styleUrl=n;else throw new Error("`styleMapValue` has an unknown type")}const Spt=In(_i,{SimpleData:Tpt});function Cpt(t,e){Od(Spt,t,e)}function Tpt(t,e){const n=t.getAttribute("name");if(n!==null){const r=Jn(t),i=e[e.length-1];i[n]=r}}const Mpt=In(_i,{altitudeMode:Bt(Jn),minAltitude:Bt(ks),maxAltitude:Bt(ks),north:Bt(ks),south:Bt(ks),east:Bt(ks),west:Bt(ks)});function Lpt(t,e){const n=jn({},Mpt,t,e);if(!n)return;const r=e[e.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)}const Bpt=In(_i,{minLodPixels:Bt(ks),maxLodPixels:Bt(ks),minFadeExtent:Bt(ks),maxFadeExtent:Bt(ks)});function Rpt(t,e){const n=jn({},Bpt,t,e);if(!n)return;const r=e[e.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}const Ipt=In(_i,{LinearRing:pi(pge)});function Ppt(t,e){const n=jn([],Ipt,t,e);n.length>0&&e[e.length-1].push(...n)}const Fpt=In(_i,{LinearRing:Ni(pge)});function Opt(t,e){const n=jn(void 0,Fpt,t,e);if(n){const r=e[e.length-1];r[0]=n}}function Npt(t,e){Od(zAt,t,e)}function Dpt(t,e){const r=e[e.length-1].whens,i=Kh(t,!1),s=Date.parse(i);r.push(isNaN(s)?0:s)}function xD(t,e){const n=kd(e),i=[(n.length==4?n[3]:1)*255,n[2],n[1],n[0]];for(let s=0;s<4;++s){const a=Math.floor(i[s]).toString(16);i[s]=a.length==1?"0"+a:a}es(t,i.join(""))}function kpt(t,e,n){const r=n[n.length-1],i=r.layout,s=r.stride;let a;if(i=="XY"||i=="XYM")a=2;else if(i=="XYZ"||i=="XYZM")a=3;else throw new Error("Invalid geometry layout");const o=e.length;let l="";if(o>0){l+=e[0];for(let u=1;u<a;++u)l+=","+e[u];for(let u=s;u<o;u+=s){l+=" "+e[u];for(let h=1;h<a;++h)l+=","+e[u+h]}}es(t,l)}const vF=In(_i,{Data:zt(Upt),value:zt(Gpt),displayName:zt(Hpt)});function Upt(t,e,n){t.setAttribute("name",e.name);const r={node:t},i=e.value;typeof i=="object"?(i!==null&&i.displayName&&rs(r,vF,eu,[i.displayName],n,["displayName"]),i!==null&&i.value&&rs(r,vF,eu,[i.value],n,["value"])):rs(r,vF,eu,[i],n,["value"])}function Hpt(t,e){zft(t,e)}function Gpt(t,e){es(t,e)}const Vpt=In(_i,{Placemark:zt(Cge)}),zpt=function(t,e,n){const r=e[e.length-1].node;return is(r.namespaceURI,"Placemark")};function $pt(t,e,n){rs({node:t},Vpt,zpt,e,n,void 0,this)}const Qpt=sl("Data");function Wpt(t,e,n){const r={node:t},i=e.names,s=e.values,a=i.length;for(let o=0;o<a;o++)rs(r,vF,Qpt,[{name:i[o],value:s[o]}],n)}const tte=In(_i,["href"],In(jv,["x","y","w","h"])),nte=In(_i,{href:zt(es)},In(jv,{x:zt(Cd),y:zt(Cd),w:zt(Cd),h:zt(Cd)})),jpt=function(t,e,n){return is(jv[0],"gx:"+n)};function Kpt(t,e,n){const r={node:t},i=n[n.length-1].node;let s=tte[i.namespaceURI],a=Ud(e,s);rs(r,nte,eu,a,n,s),s=tte[jv[0]],a=Ud(e,s),rs(r,nte,jpt,a,n,s)}const qpt=In(_i,["scale","heading","Icon","color","hotSpot"]),Xpt=In(_i,{Icon:zt(Kpt),color:zt(xD),heading:zt(Cd),hotSpot:zt(xgt),scale:zt(Mge)});function Ypt(t,e,n){const r={node:t},i={},s=e.getSrc(),a=e.getSize(),o=e.getImageSize(),l={href:s};if(a){l.w=a[0],l.h=a[1];const y=e.getAnchor(),_=e.getOrigin();if(_&&o&&_[0]!==0&&_[1]!==a[1]&&(l.x=_[0],l.y=o[1]-(_[1]+a[1])),y&&(y[0]!==a[0]/2||y[1]!==a[1]/2)){const x={x:y[0],xunits:"pixels",y:a[1]-y[1],yunits:"pixels"};i.hotSpot=x}}i.Icon=l;let u=e.getScaleArray()[0],h=a;if(h===null&&(h=zT),h.length==2){const y=oN(h);u=u/y}u!==1&&(i.scale=u);const d=e.getRotation();d!==0&&(i.heading=d);const f=e.getColor();f&&(i.color=f);const A=n[n.length-1].node,m=qpt[A.namespaceURI],g=Ud(i,m);rs(r,Xpt,eu,g,n,m)}const Zpt=In(_i,["color","scale"]),Jpt=In(_i,{color:zt(xD),scale:zt(Mge)});function egt(t,e,n){const r={node:t},i={},s=e.getFill();s&&(i.color=s.getColor());const a=e.getScale();a&&a!==1&&(i.scale=a);const o=n[n.length-1].node,l=Zpt[o.namespaceURI],u=Ud(i,l);rs(r,Jpt,eu,u,n,l)}const tgt=In(_i,["color","width"]),ngt=In(_i,{color:zt(xD),width:zt(Cd)});function rgt(t,e,n){const r={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},s=n[n.length-1].node,a=tgt[s.namespaceURI],o=Ud(i,a);rs(r,ngt,eu,o,n,a)}const igt={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ege=function(t,e,n){if(t){const r=e[e.length-1].node;return is(r.namespaceURI,igt[t.getType()])}},sgt=sl("Point"),agt=sl("LineString"),ogt=sl("LinearRing"),lgt=sl("Polygon"),cgt=In(_i,{LineString:zt(RE),Point:zt(RE),Polygon:zt(Tge),GeometryCollection:zt(Sge)});function Sge(t,e,n){const r={node:t},i=e.getType();let s=[],a;if(i==="GeometryCollection")e.getGeometriesArrayRecursive().forEach(function(o){const l=o.getType();if(l==="MultiPoint")s=s.concat(o.getPoints());else if(l==="MultiLineString")s=s.concat(o.getLineStrings());else if(l==="MultiPolygon")s=s.concat(o.getPolygons());else if(l==="Point"||l==="LineString"||l==="Polygon")s.push(o);else throw new Error("Unknown geometry type")}),a=Ege;else if(i==="MultiPoint")s=e.getPoints(),a=sgt;else if(i==="MultiLineString")s=e.getLineStrings(),a=agt;else if(i==="MultiPolygon")s=e.getPolygons(),a=lgt;else throw new Error("Unknown geometry type");rs(r,cgt,a,s,n)}const ugt=In(_i,{LinearRing:zt(RE)});function rte(t,e,n){rs({node:t},ugt,ogt,[e],n)}const T3=In(_i,{ExtendedData:zt(Wpt),MultiGeometry:zt(Sge),LineString:zt(RE),LinearRing:zt(RE),Point:zt(RE),Polygon:zt(Tge),Style:zt(bgt),address:zt(es),description:zt(es),name:zt(es),open:zt(TS),phoneNumber:zt(es),styleUrl:zt(es),visibility:zt(TS)}),hgt=In(_i,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),dgt=sl("ExtendedData");function Cge(t,e,n){const r={node:t};e.getId()&&t.setAttribute("id",e.getId());const i=e.getProperties(),s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.getGeometryName()]=1;const a=Object.keys(i||{}).sort().filter(function(A){return!s[A]}),o=e.getStyleFunction();if(o){const A=o(e,0);if(A){const m=Array.isArray(A)?A:[A];let g=m;if(e.getGeometry()&&(g=m.filter(function(y){const _=y.getGeometryFunction()(e);if(_){const x=_.getType();return x==="GeometryCollection"?_.getGeometriesArrayRecursive().filter(function(S){const C=S.getType();return C==="Point"||C==="MultiPoint"}).length:x==="Point"||x==="MultiPoint"}})),this.writeStyles_){let y=m,_=m;e.getGeometry()&&(y=m.filter(function(x){const S=x.getGeometryFunction()(e);if(S){const C=S.getType();return C==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(M){const B=M.getType();return B==="LineString"||B==="MultiLineString"}).length:C==="LineString"||C==="MultiLineString"}}),_=m.filter(function(x){const S=x.getGeometryFunction()(e);if(S){const C=S.getType();return C==="GeometryCollection"?S.getGeometriesArrayRecursive().filter(function(M){const B=M.getType();return B==="Polygon"||B==="MultiPolygon"}).length:C==="Polygon"||C==="MultiPolygon"}})),i.Style={pointStyles:g,lineStyles:y,polyStyles:_}}if(g.length&&i.name===void 0){const y=g[0].getText();y&&(i.name=y.getText())}}}const l=n[n.length-1].node,u=hgt[l.namespaceURI],h=Ud(i,u);if(rs(r,T3,eu,h,n,u),a.length>0){const A=Ud(i,a);rs(r,T3,dgt,[{names:a,values:A}],n)}const d=n[0];let f=e.getGeometry();f&&(f=zo(f,!0,d)),rs(r,T3,Ege,[f],n)}const fgt=In(_i,["extrude","tessellate","altitudeMode","coordinates"]),Agt=In(_i,{extrude:zt(TS),tessellate:zt(TS),altitudeMode:zt(es),coordinates:zt(kpt)});function RE(t,e,n){const r=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();const s=e.getProperties();s.coordinates=r;const a=n[n.length-1].node,o=fgt[a.namespaceURI],l=Ud(s,o);rs(i,Agt,eu,l,n,o)}const pgt=In(_i,["color","fill","outline"]),ite=In(_i,{outerBoundaryIs:zt(rte),innerBoundaryIs:zt(rte)}),ggt=sl("innerBoundaryIs"),mgt=sl("outerBoundaryIs");function Tge(t,e,n){const r=e.getLinearRings(),i=r.shift(),s={node:t};rs(s,ite,ggt,r,n),rs(s,ite,mgt,[i],n)}const vgt=In(_i,{color:zt(xD),fill:zt(TS),outline:zt(TS)});function ygt(t,e,n){const r={node:t},i=e.getFill(),s=e.getStroke(),a={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:s?void 0:!1},o=n[n.length-1].node,l=pgt[o.namespaceURI],u=Ud(a,l);rs(r,vgt,eu,u,n,l)}function Mge(t,e){Cd(t,Math.round(e*1e6)/1e6)}const _gt=In(_i,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),wgt=In(_i,{IconStyle:zt(Ypt),LabelStyle:zt(egt),LineStyle:zt(rgt),PolyStyle:zt(ygt)});function bgt(t,e,n){const r={node:t},i={};if(e.pointStyles.length){const l=e.pointStyles[0].getText();l&&(i.LabelStyle=l);const u=e.pointStyles[0].getImage();u&&typeof u.getSrc=="function"&&(i.IconStyle=u)}if(e.lineStyles.length){const l=e.lineStyles[0].getStroke();l&&(i.LineStyle=l)}if(e.polyStyles.length){const l=e.polyStyles[0].getStroke();l&&!i.LineStyle&&(i.LineStyle=l),i.PolyStyle=e.polyStyles[0]}const s=n[n.length-1].node,a=_gt[s.namespaceURI],o=Ud(i,a);rs(r,wgt,eu,o,n,a)}function xgt(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}const OG=65536*65536,ste=1/OG,Egt=12,ate=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),M3=0,BI=1,B2=2,RI=5;class Sgt{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,n,r=this.length){for(;this.pos<r;){const i=this.readVarint(),s=i>>3,a=this.pos;this.type=i&7,e(s,n,this),this.pos===a&&this.skip(i)}return n}readMessage(e,n){return this.readFields(e,n,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*OG;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*OG;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const n=this.buf;let r,i;return i=n[this.pos++],r=i&127,i<128||(i=n[this.pos++],r|=(i&127)<<7,i<128)||(i=n[this.pos++],r|=(i&127)<<14,i<128)||(i=n[this.pos++],r|=(i&127)<<21,i<128)?r:(i=n[this.pos],r|=(i&15)<<28,Cgt(r,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,n=this.pos;return this.pos=e,e-n>=Egt&&ate?ate.decode(this.buf.subarray(n,e)):Ugt(this.buf,n,e)}readBytes(){const e=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,e);return this.pos=e,n}readPackedVarint(e=[],n){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readVarint(n));return e}readPackedSVarint(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===B2?this.readVarint()+this.pos:this.pos+1}skip(e){const n=e&7;if(n===M3)for(;this.buf[this.pos++]>127;);else if(n===B2)this.pos=this.readVarint()+this.pos;else if(n===RI)this.pos+=4;else if(n===BI)this.pos+=8;else throw new Error("Unimplemented type: ".concat(n))}writeTag(e,n){this.writeVarint(e<<3|n)}realloc(e){let n=this.length||16;for(;n<this.pos+e;)n*=2;if(n!==this.length){const r=new Uint8Array(n);r.set(this.buf),this.buf=r,this.dataView=new DataView(r.buffer),this.length=n}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*ste),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*ste),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Tgt(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const n=this.pos;this.pos=Hgt(this.buf,e,this.pos);const r=this.pos-n;r>=128&&ote(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const n=e.length;this.writeVarint(n),this.realloc(n);for(let r=0;r<n;r++)this.buf[this.pos++]=e[r]}writeRawMessage(e,n){this.pos++;const r=this.pos;e(n,this);const i=this.pos-r;i>=128&&ote(r,i,this),this.pos=r-1,this.writeVarint(i),this.pos+=i}writeMessage(e,n,r){this.writeTag(e,B2),this.writeRawMessage(n,r)}writePackedVarint(e,n){n.length&&this.writeMessage(e,Bgt,n)}writePackedSVarint(e,n){n.length&&this.writeMessage(e,Rgt,n)}writePackedBoolean(e,n){n.length&&this.writeMessage(e,Fgt,n)}writePackedFloat(e,n){n.length&&this.writeMessage(e,Igt,n)}writePackedDouble(e,n){n.length&&this.writeMessage(e,Pgt,n)}writePackedFixed32(e,n){n.length&&this.writeMessage(e,Ogt,n)}writePackedSFixed32(e,n){n.length&&this.writeMessage(e,Ngt,n)}writePackedFixed64(e,n){n.length&&this.writeMessage(e,Dgt,n)}writePackedSFixed64(e,n){n.length&&this.writeMessage(e,kgt,n)}writeBytesField(e,n){this.writeTag(e,B2),this.writeBytes(n)}writeFixed32Field(e,n){this.writeTag(e,RI),this.writeFixed32(n)}writeSFixed32Field(e,n){this.writeTag(e,RI),this.writeSFixed32(n)}writeFixed64Field(e,n){this.writeTag(e,BI),this.writeFixed64(n)}writeSFixed64Field(e,n){this.writeTag(e,BI),this.writeSFixed64(n)}writeVarintField(e,n){this.writeTag(e,M3),this.writeVarint(n)}writeSVarintField(e,n){this.writeTag(e,M3),this.writeSVarint(n)}writeStringField(e,n){this.writeTag(e,B2),this.writeString(n)}writeFloatField(e,n){this.writeTag(e,RI),this.writeFloat(n)}writeDoubleField(e,n){this.writeTag(e,BI),this.writeDouble(n)}writeBooleanField(e,n){this.writeVarintField(e,+n)}}function Cgt(t,e,n){const r=n.buf;let i,s;if(s=r[n.pos++],i=(s&112)>>4,s<128||(s=r[n.pos++],i|=(s&127)<<3,s<128)||(s=r[n.pos++],i|=(s&127)<<10,s<128)||(s=r[n.pos++],i|=(s&127)<<17,s<128)||(s=r[n.pos++],i|=(s&127)<<24,s<128)||(s=r[n.pos++],i|=(s&1)<<31,s<128))return ux(t,i,e);throw new Error("Expected varint not more than 10 bytes")}function ux(t,e,n){return n?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function Tgt(t,e){let n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Mgt(n,r,e),Lgt(r,e)}function Mgt(t,e,n){n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos]=t&127}function Lgt(t,e){const n=(t&7)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function ote(t,e,n){const r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));n.realloc(r);for(let i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function Bgt(t,e){for(let n=0;n<t.length;n++)e.writeVarint(t[n])}function Rgt(t,e){for(let n=0;n<t.length;n++)e.writeSVarint(t[n])}function Igt(t,e){for(let n=0;n<t.length;n++)e.writeFloat(t[n])}function Pgt(t,e){for(let n=0;n<t.length;n++)e.writeDouble(t[n])}function Fgt(t,e){for(let n=0;n<t.length;n++)e.writeBoolean(t[n])}function Ogt(t,e){for(let n=0;n<t.length;n++)e.writeFixed32(t[n])}function Ngt(t,e){for(let n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Dgt(t,e){for(let n=0;n<t.length;n++)e.writeFixed64(t[n])}function kgt(t,e){for(let n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Ugt(t,e,n){let r="",i=e;for(;i<n;){const s=t[i];let a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o>n)break;let l,u,h;o===1?s<128&&(a=s):o===2?(l=t[i+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=t[i+1],u=t[i+2],(l&192)===128&&(u&192)===128&&(a=(s&15)<<12|(l&63)<<6|u&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=t[i+1],u=t[i+2],h=t[i+3],(l&192)===128&&(u&192)===128&&(h&192)===128&&(a=(s&15)<<18|(l&63)<<12|(u&63)<<6|h&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=o}return r}function Hgt(t,e,n){for(let r=0,i,s;r<e.length;r++){if(i=e.charCodeAt(r),i>55295&&i<57344)if(s)if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,s=i;continue}else i=s-55296<<10|i-56320|65536,s=null;else{i>56319||r+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):s=i;continue}else s&&(t[n++]=239,t[n++]=191,t[n++]=189,s=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=i&63|128)}return n}class Ggt extends tB{constructor(e){super(),e=e||{},this.dataProjection=new hm({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Ju,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,n,r,i){e.pos=n.geometry;const s=e.readVarint()+e.pos;let a=1,o=0,l=0,u=0,h=0,d=0;for(;e.pos<s;){if(!o){const f=e.readVarint();a=f&7,o=f>>3}if(o--,a===1||a===2)l+=e.readSVarint(),u+=e.readSVarint(),a===1&&h>d&&(i.push(h),d=h),r.push(l,u),h+=2;else if(a===7)h>d&&(r.push(r[d],r[d+1]),h+=2);else throw new Error("Invalid command found in the PBF")}h>d&&(i.push(h),d=h)}createFeature_(e,n,r){const i=n.type;if(i===0)return null;let s;const a=n.properties;let o;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=n.id,a[this.layerName_]=n.layer.name;const l=[],u=[];this.readRawGeometry_(e,n,l,u);const h=Wgt(i,u.length);if(this.featureClass===Ju)s=new this.featureClass(h,l,u,2,a,o),s.transform(r.dataProjection);else{let d;if(h=="Polygon"){const m=u9(l,u);d=m.length>1?new dc(l,"XY",m):new uo(l,"XY",u)}else d=h==="Point"?new oa(l,"XY"):h==="LineString"?new Ca(l,"XY"):h==="MultiPoint"?new zd(l,"XY"):h==="MultiLineString"?new hc(l,"XY",u):null;const f=this.featureClass;s=new f,this.geometryName_&&s.setGeometryName(this.geometryName_);const A=zo(d,!1,r);s.setGeometry(A),o!==void 0&&s.setId(o),s.setProperties(a,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,n){const r=this.layers_;n=this.adaptOptions(n);const i=gi(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;const s=new Sgt(e),a=s.readFields(Vgt,{}),o=[];for(const l in a){if(r&&!r.includes(l))continue;const u=a[l],h=u?[0,0,u.extent,u.extent]:null;i.setExtent(h);for(let d=0,f=u.length;d<f;++d){const A=Qgt(s,u,d),m=this.createFeature_(s,A,n);m!==null&&o.push(m)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function Vgt(t,e,n){if(t===3){const r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(zgt,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function zgt(t,e,n){if(t===15)e.version=n.readVarint();else if(t===1)e.name=n.readString();else if(t===5)e.extent=n.readVarint();else if(t===2)e.features.push(n.pos);else if(t===3)e.keys.push(n.readString());else if(t===4){let r=null;const i=n.readVarint()+n.pos;for(;n.pos<i;)t=n.readVarint()>>3,r=t===1?n.readString():t===2?n.readFloat():t===3?n.readDouble():t===4?n.readVarint64():t===5?n.readVarint():t===6?n.readSVarint():t===7?n.readBoolean():null;e.values.push(r)}}function $gt(t,e,n){if(t==1)e.id=n.readVarint();else if(t==2){const r=n.readVarint()+n.pos;for(;n.pos<r;){const i=e.layer.keys[n.readVarint()],s=e.layer.values[n.readVarint()];e.properties[i]=s}}else t==3?e.type=n.readVarint():t==4&&(e.geometry=n.pos)}function Qgt(t,e,n){t.pos=e.features[n];const r=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields($gt,i,r),i}function Wgt(t,e){let n;return t===1?n=e===1?"Point":"MultiPoint":t===2?n=e===1?"LineString":"MultiLineString":t===3&&(n="Polygon"),n}class CQ{read(e){if(!e)return null;if(typeof e=="string"){const n=hA(e);return this.readFromDocument(n)}return uA(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null}readFromNode(e){Bi()}}const jgt="http://www.w3.org/1999/xlink";function oC(t){return t.getAttributeNS(jgt,"href")}const $d=[null,"http://www.opengis.net/ows/1.1"],Kgt=In($d,{ServiceIdentification:Bt(vmt),ServiceProvider:Bt(_mt),OperationsMetadata:Bt(gmt)});class Lge extends CQ{constructor(){super()}readFromNode(e){const n=jn({},Kgt,e,[]);return n||null}}const qgt=In($d,{DeliveryPoint:Bt(Jn),City:Bt(Jn),AdministrativeArea:Bt(Jn),PostalCode:Bt(Jn),Country:Bt(Jn),ElectronicMailAddress:Bt(Jn)}),Xgt=In($d,{Value:Da(wmt)}),Ygt=In($d,{AllowedValues:Bt(cmt)}),Zgt=In($d,{Phone:Bt(mmt),Address:Bt(lmt)}),Jgt=In($d,{HTTP:Bt(Amt)}),emt=In($d,{Get:Da(fmt),Post:void 0}),tmt=In($d,{DCP:Bt(dmt)}),nmt=In($d,{Operation:pmt}),rmt=In($d,{Voice:Bt(Jn),Facsimile:Bt(Jn)}),imt=In($d,{Constraint:Da(umt)}),smt=In($d,{IndividualName:Bt(Jn),PositionName:Bt(Jn),ContactInfo:Bt(hmt)}),amt=In($d,{Abstract:Bt(Jn),AccessConstraints:Bt(Jn),Fees:Bt(Jn),Title:Bt(Jn),ServiceTypeVersion:Bt(Jn),ServiceType:Bt(Jn)}),omt=In($d,{ProviderName:Bt(Jn),ProviderSite:Bt(oC),ServiceContact:Bt(ymt)});function lmt(t,e){return jn({},qgt,t,e)}function cmt(t,e){return jn({},Xgt,t,e)}function umt(t,e){const n=t.getAttribute("name");if(n)return jn({name:n},Ygt,t,e)}function hmt(t,e){return jn({},Zgt,t,e)}function dmt(t,e){return jn({},Jgt,t,e)}function fmt(t,e){const n=oC(t);if(n)return jn({href:n},imt,t,e)}function Amt(t,e){return jn({},emt,t,e)}function pmt(t,e){const n=t.getAttribute("name"),r=jn({},tmt,t,e);if(!r)return;const i=e[e.length-1];i[n]=r}function gmt(t,e){return jn({},nmt,t,e)}function mmt(t,e){return jn({},rmt,t,e)}function vmt(t,e){return jn({},amt,t,e)}function ymt(t,e){return jn({},smt,t,e)}function _mt(t,e){return jn({},omt,t,e)}function wmt(t,e){return Jn(t)}function lte(t,e,n,r,i,s){i!==void 0?(i=i,s=s!==void 0?s:0):(i=[],s=0);let a=e;for(;a<n;){const o=t[a++];i[s++]=t[a++],i[s++]=o;for(let l=2;l<r;++l)i[s++]=t[a++]}return i.length=s,i}class bmt extends bQ{constructor(e){super(),e=e||{},this.dataProjection=gi("EPSG:4326"),this.factor_=e.factor?e.factor:1e5,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY"}readFeatureFromText(e,n){const r=this.readGeometryFromText(e,n);return new vs(r)}readFeaturesFromText(e,n){return[this.readFeatureFromText(e,n)]}readGeometryFromText(e,n){const r=VM(this.geometryLayout_),i=Emt(e,r,this.factor_);lte(i,0,i.length,r,i);const s=hv(i,0,i.length,r),a=new Ca(s,this.geometryLayout_);return zo(a,!1,this.adaptOptions(n))}writeFeatureText(e,n){const r=e.getGeometry();if(r)return this.writeGeometryText(r,n);throw new Error("Expected `feature` to have a geometry")}writeFeaturesText(e,n){return this.writeFeatureText(e[0],n)}writeGeometryText(e,n){e=zo(e,!0,this.adaptOptions(n));const r=e.getFlatCoordinates(),i=e.getStride();return lte(r,0,r.length,i,r),xmt(r,i,this.factor_)}}function xmt(t,e,n){n=n||1e5;let r;const i=new Array(e);for(r=0;r<e;++r)i[r]=0;for(let s=0,a=t.length;s<a;)for(r=0;r<e;++r,++s){const o=t[s],l=o-i[r];i[r]=o,t[s]=l}return Smt(t,n)}function Emt(t,e,n){n=n||1e5;let r;const i=new Array(e);for(r=0;r<e;++r)i[r]=0;const s=Cmt(t,n);for(let a=0,o=s.length;a<o;)for(r=0;r<e;++r,++a)i[r]+=s[a],s[a]=i[r];return s}function Smt(t,e){e=e||1e5;for(let n=0,r=t.length;n<r;++n)t[n]=Math.round(t[n]*e);return Tmt(t)}function Cmt(t,e){e=e||1e5;const n=Mmt(t);for(let r=0,i=n.length;r<i;++r)n[r]/=e;return n}function Tmt(t){for(let e=0,n=t.length;e<n;++e){const r=t[e];t[e]=r<0?~(r<<1):r<<1}return Lmt(t)}function Mmt(t){const e=Bmt(t);for(let n=0,r=e.length;n<r;++n){const i=e[n];e[n]=i&1?~(i>>1):i>>1}return e}function Lmt(t){let e="";for(let n=0,r=t.length;n<r;++n)e+=Rmt(t[n]);return e}function Bmt(t){const e=[];let n=0,r=0;for(let i=0,s=t.length;i<s;++i){const a=t.charCodeAt(i)-63;n|=(a&31)<<r,a<32?(e.push(n),n=0,r=0):r+=5}return e}function Rmt(t){let e,n="";for(;t>=32;)e=(32|t&31)+63,n+=String.fromCharCode(e),t>>=5;return e=t+63,n+=String.fromCharCode(e),n}class Imt extends pQ{constructor(e){super(),e=e||{},this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=gi(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(e,n){if(e.type=="Topology"){const r=e;let i,s=null,a=null;r.transform&&(i=r.transform,s=i.scale,a=i.translate);const o=r.arcs;i&&Gmt(o,s,a);const l=[],u=r.objects,h=this.layerName_;let d;for(const f in u)this.layers_&&!this.layers_.includes(f)||(u[f].type==="GeometryCollection"?(d=u[f],l.push.apply(l,Hmt(d,o,s,a,h,f,n))):(d=u[f],l.push(Bge(d,o,s,a,h,f,n))));return l}return[]}readProjectionFromObject(e){return this.dataProjection}}const Pmt={Point:Fmt,LineString:Nmt,Polygon:kmt,MultiPoint:Omt,MultiLineString:Dmt,MultiPolygon:Umt};function ED(t,e){const n=[];let r;for(let i=0,s=t.length;i<s;++i)if(r=t[i],i>0&&n.pop(),r>=0){const a=e[r];for(let o=0,l=a.length;o<l;++o)n.push(a[o].slice(0))}else{const a=e[~r];for(let o=a.length-1;o>=0;--o)n.push(a[o].slice(0))}return n}function Fmt(t,e,n){const r=t.coordinates;return e&&n&&TQ(r,e,n),new oa(r)}function Omt(t,e,n){const r=t.coordinates;if(e&&n)for(let i=0,s=r.length;i<s;++i)TQ(r[i],e,n);return new zd(r)}function Nmt(t,e){const n=ED(t.arcs,e);return new Ca(n)}function Dmt(t,e){const n=[];for(let r=0,i=t.arcs.length;r<i;++r)n[r]=ED(t.arcs[r],e);return new hc(n)}function kmt(t,e){const n=[];for(let r=0,i=t.arcs.length;r<i;++r)n[r]=ED(t.arcs[r],e);return new uo(n)}function Umt(t,e){const n=[];for(let r=0,i=t.arcs.length;r<i;++r){const s=t.arcs[r],a=[];for(let o=0,l=s.length;o<l;++o)a[o]=ED(s[o],e);n[r]=a}return new dc(n)}function Hmt(t,e,n,r,i,s,a){const o=t.geometries,l=[];for(let u=0,h=o.length;u<h;++u)l[u]=Bge(o[u],e,n,r,i,s,a);return l}function Bge(t,e,n,r,i,s,a){let o=null;const l=t.type;if(l){const d=Pmt[l];l==="Point"||l==="MultiPoint"?o=d(t,n,r):o=d(t,e),o=zo(o,!1,a)}const u=new vs({geometry:o});t.id!==void 0&&u.setId(t.id);let h=t.properties;return i&&(h||(h={}),h[i]=s),h&&u.setProperties(h,!0),u}function Gmt(t,e,n){for(let r=0,i=t.length;r<i;++r)Vmt(t[r],e,n)}function Vmt(t,e,n){let r=0,i=0;for(let s=0,a=t.length;s<a;++s){const o=t[s];r+=o[0],i+=o[1],o[0]=r,o[1]=i,TQ(o,e,n)}}function TQ(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}class _a extends cr{constructor(e){e=e||{},super(e),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,n,r){const i=r[r.length-1];r[r.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},i),super.writeGeometryElement(e,n,r)}}_a.prototype.namespace="http://www.opengis.net/gml/3.2";_a.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Ni(cr.prototype.readFlatPos),posList:Ni(cr.prototype.readFlatPosList),coordinates:Ni(Fs.prototype.readFlatCoordinates)}};_a.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:cr.prototype.interiorParser,exterior:cr.prototype.exteriorParser}};_a.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Ni(Ai.prototype.readPoint),MultiPoint:Ni(Ai.prototype.readMultiPoint),LineString:Ni(Ai.prototype.readLineString),MultiLineString:Ni(Ai.prototype.readMultiLineString),LinearRing:Ni(Ai.prototype.readLinearRing),Polygon:Ni(Ai.prototype.readPolygon),MultiPolygon:Ni(Ai.prototype.readMultiPolygon),Surface:Ni(_a.prototype.readSurface),MultiSurface:Ni(cr.prototype.readMultiSurface),Curve:Ni(_a.prototype.readCurve),MultiCurve:Ni(cr.prototype.readMultiCurve),Envelope:Ni(_a.prototype.readEnvelope)}};_a.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:pi(cr.prototype.curveMemberParser),curveMembers:pi(cr.prototype.curveMemberParser)}};_a.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:pi(cr.prototype.surfaceMemberParser),surfaceMembers:pi(cr.prototype.surfaceMemberParser)}};_a.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:pi(Ai.prototype.readLineString),Curve:pi(cr.prototype.readCurve)}};_a.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:pi(Ai.prototype.readPolygon),Surface:pi(cr.prototype.readSurface)}};_a.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Ni(cr.prototype.readPatch)}};_a.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Ni(cr.prototype.readSegment)}};_a.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:pi(cr.prototype.readFlatPosList),upperCorner:pi(cr.prototype.readFlatPosList)}};_a.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Ni(cr.prototype.readPolygonPatch)}};_a.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:iN(cr.prototype.readLineStringSegment)}};_a.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:pi(Ai.prototype.pointMemberParser),pointMembers:pi(Ai.prototype.pointMemberParser)}};_a.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:pi(Ai.prototype.lineStringMemberParser),lineStringMembers:pi(Ai.prototype.lineStringMemberParser)}};_a.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:pi(Ai.prototype.polygonMemberParser),polygonMembers:pi(Ai.prototype.polygonMemberParser)}};_a.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:pi(Ai.prototype.readFlatCoordinatesFromNode)}};_a.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:pi(Ai.prototype.readLineString)}};_a.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:pi(Ai.prototype.readPolygon)}};_a.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Ni(Ai.prototype.readFlatLinearRing),Ring:Ni(_a.prototype.readFlatCurveRing)}};_a.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:zt(cr.prototype.writeRing),interior:zt(cr.prototype.writeRing)}};_a.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:zt(es),upperCorner:zt(es)}};_a.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:zt(cr.prototype.writeSurfaceOrPolygonMember),polygonMember:zt(cr.prototype.writeSurfaceOrPolygonMember)}};_a.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:zt(cr.prototype.writePointMember)}};_a.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:zt(cr.prototype.writeLineStringOrCurveMember),curveMember:zt(cr.prototype.writeLineStringOrCurveMember)}};_a.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:zt(cr.prototype.writeCurveOrLineString),MultiCurve:zt(cr.prototype.writeMultiCurveOrLineString),Point:zt(_a.prototype.writePoint),MultiPoint:zt(cr.prototype.writeMultiPoint),LineString:zt(cr.prototype.writeCurveOrLineString),MultiLineString:zt(cr.prototype.writeMultiCurveOrLineString),LinearRing:zt(cr.prototype.writeLinearRing),Polygon:zt(cr.prototype.writeSurfaceOrPolygon),MultiPolygon:zt(cr.prototype.writeMultiSurfaceOrPolygon),Surface:zt(cr.prototype.writeSurfaceOrPolygon),MultiSurface:zt(cr.prototype.writeMultiSurfaceOrPolygon),Envelope:zt(cr.prototype.writeEnvelope)}};class Rge{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}}class zmt extends Rge{constructor(e,n){super(e),this.conditions=n,As(this.conditions.length>=2,"At least 2 conditions are required")}}class $mt extends zmt{constructor(e){super("And",Array.prototype.slice.call(arguments))}}class Qmt extends Rge{constructor(e,n,r){if(super("BBOX"),this.geometryName=e,this.extent=n,n.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=r}}function Wmt(t){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply($mt,e))}function jmt(t,e,n){return new Qmt(t,e,n)}const cte={"http://www.opengis.net/gml":{boundedBy:Bt(Ai.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:pi(Ai.prototype.readFeaturesInternal)}},Kmt={"http://www.opengis.net/wfs":{totalInserted:Bt(wl),totalUpdated:Bt(wl),totalDeleted:Bt(wl)},"http://www.opengis.net/wfs/2.0":{totalInserted:Bt(wl),totalUpdated:Bt(wl),totalDeleted:Bt(wl)}},qmt={"http://www.opengis.net/wfs":{TransactionSummary:Bt(hte,"transactionSummary"),InsertResults:Bt(fte,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:Bt(hte,"transactionSummary"),InsertResults:Bt(fte,"insertIds")}},Xmt={"http://www.opengis.net/wfs":{PropertyName:zt(es)},"http://www.opengis.net/wfs/2.0":{PropertyName:zt(es)}},Ige={"http://www.opengis.net/wfs":{Insert:zt(Ate),Update:zt(gte),Delete:zt(pte),Property:zt(mte),Native:zt(vte)},"http://www.opengis.net/wfs/2.0":{Insert:zt(Ate),Update:zt(gte),Delete:zt(pte),Property:zt(mte),Native:zt(vte)}},Pge="feature",MQ="http://www.w3.org/2000/xmlns/",LQ={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},NG={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},BQ={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},ute={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},RQ={"2.0.0":_a,"1.1.0":cr,"1.0.0":Fs},Ymt="1.1.0";class Zmt extends rB{constructor(e){super(),e=e||{},this.version_=e.version?e.version:Ymt,this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new RQ[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:ute[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,n){const r={node:e};Object.assign(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(r,this.getReadOptions(e,n||{}));const i=[r];let s;this.version_==="2.0.0"?s=cte:s=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let a=jn([],s,e,i,this.gmlFormat_);return a||(a=[]),a}readTransactionResponse(e){if(e){if(typeof e=="string"){const n=hA(e);return this.readTransactionResponseFromDocument(n)}return uA(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(typeof e=="string"){const n=hA(e);return this.readFeatureCollectionMetadataFromDocument(n)}return uA(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(n)}readFeatureCollectionMetadataFromNode(e){const n={},r=dv(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=r,jn(n,cte,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(n)}readTransactionResponseFromNode(e){return jn({},qmt,e,[])}writeGetFeature(e){const n=is(NG[this.version_],"GetFeature");n.setAttribute("service","WFS"),n.setAttribute("version",this.version_),e.handle&&n.setAttribute("handle",e.handle),e.outputFormat&&n.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&n.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&n.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&n.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&n.setAttribute("count",String(e.count)),e.viewParams!==void 0&&n.setAttribute("viewParams",e.viewParams),n.setAttributeNS(ow,"xsi:schemaLocation",this.schemaLocation_);const r={node:n};if(Object.assign(r,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),As(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),typeof e.featureTypes[0]=="string"){let i=e.filter;e.bbox&&(As(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),i=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,i)),Object.assign(r,{geometryName:e.geometryName,filter:i}),Mte(n,e.featureTypes,[r])}else e.featureTypes.forEach(i=>{const s=this.combineBboxAndFilter(i.geometryName,i.bbox,e.srsName,e.filter);Object.assign(r,{geometryName:i.geometryName,filter:s}),Mte(n,[i.name],[r])});return n}combineBboxAndFilter(e,n,r,i){const s=jmt(e,n,r);return i?Wmt(i,s):s}writeTransaction(e,n,r,i){const s=[],a=i.version?i.version:this.version_,o=is(NG[a],"Transaction");o.setAttribute("service","WFS"),o.setAttribute("version",a);let l;i&&(l=i.gmlOptions?i.gmlOptions:{},i.handle&&o.setAttribute("handle",i.handle)),o.setAttributeNS(ow,"xsi:schemaLocation",ute[a]);const u=Jmt(o,l,a,i);return e&&II("Insert",e,s,u),n&&II("Update",n,s,u),r&&II("Delete",r,s,u),i.nativeElements&&II("Native",i.nativeElements,s,u),o}readProjectionFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(n);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(!(n.childNodes.length===0||n.childNodes.length===1&&n.firstChild.nodeType===3)){const r=[{}];return this.gmlFormat_.readGeometryElement(n,r),gi(r.pop().srsName)}}return null}}function Jmt(t,e,n,r){const i=r.featurePrefix?r.featurePrefix:Pge;let s;return n==="1.0.0"?s=2:n==="1.1.0"?s=3:n==="2.0.0"&&(s=3.2),Object.assign({node:t},{version:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:i,gmlVersion:s,hasZ:r.hasZ,srsName:r.srsName},e)}function II(t,e,n,r){rs(r,Ige,sl(t),e,n)}function hte(t,e){return jn({},Kmt,t,e)}const evt={"http://www.opengis.net/ogc":{FeatureId:pi(function(t,e){return t.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:pi(function(t,e){return t.getAttribute("fid")})}};function dte(t,e){Od(evt,t,e)}const tvt={"http://www.opengis.net/wfs":{Feature:dte},"http://www.opengis.net/wfs/2.0":{Feature:dte}};function fte(t,e){return jn([],tvt,t,e)}function Ate(t,e,n){const r=n[n.length-1],i=r.featureType,s=r.featureNS,a=r.gmlVersion,o=is(s,i);t.appendChild(o),a===2?Fs.prototype.writeFeatureElement(o,e,n):a===3?cr.prototype.writeFeatureElement(o,e,n):_a.prototype.writeFeatureElement(o,e,n)}function Fge(t,e,n){const i=n[n.length-1].version,s=LQ[i],a=is(s,"Filter"),o=is(s,"FeatureId");a.appendChild(o),o.setAttribute("fid",e),t.appendChild(a)}function IQ(t,e){t=t||Pge;const n=t+":";return e.startsWith(n)?e:n+e}function pte(t,e,n){const r=n[n.length-1];As(e.getId()!==void 0,"Features must have an id set");const i=r.featureType,s=r.featurePrefix,a=r.featureNS,o=IQ(s,i);t.setAttribute("typeName",o),t.setAttributeNS(MQ,"xmlns:"+s,a);const l=e.getId();l!==void 0&&Fge(t,l,n)}function gte(t,e,n){const r=n[n.length-1];As(e.getId()!==void 0,"Features must have an id set");const i=r.version,s=r.featureType,a=r.featurePrefix,o=r.featureNS,l=IQ(a,s),u=e.getGeometryName();t.setAttribute("typeName",l),t.setAttributeNS(MQ,"xmlns:"+a,o);const h=e.getId();if(h!==void 0){const d=e.getKeys(),f=[];for(let A=0,m=d.length;A<m;A++){const g=e.get(d[A]);if(g!==void 0){let y=d[A];g&&typeof g.getSimplifiedGeometry=="function"&&(y=u),f.push({name:y,value:g})}}rs({version:i,gmlVersion:r.gmlVersion,node:t,hasZ:r.hasZ,srsName:r.srsName},Ige,sl("Property"),f,n),Fge(t,h,n)}}function mte(t,e,n){const r=n[n.length-1],i=r.version,s=NG[i],o=is(s,i==="2.0.0"?"ValueReference":"Name"),l=r.gmlVersion;if(t.appendChild(o),es(o,e.name),e.value!==void 0&&e.value!==null){const u=is(s,"Value");t.appendChild(u),e.value&&typeof e.value.getSimplifiedGeometry=="function"?l===2?Fs.prototype.writeGeometryElement(u,e.value,n):l===3?cr.prototype.writeGeometryElement(u,e.value,n):_a.prototype.writeGeometryElement(u,e.value,n):es(u,e.value)}}function vte(t,e,n){e.vendorId&&t.setAttribute("vendorId",e.vendorId),e.safeToIgnore!==void 0&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),e.value!==void 0&&es(t,e.value)}const SD={"http://www.opengis.net/wfs":{Query:zt(yte)},"http://www.opengis.net/wfs/2.0":{Query:zt(yte)},"http://www.opengis.net/ogc":{During:zt(bte),And:zt(PI),Or:zt(PI),Not:zt(xte),BBOX:zt(_te),Contains:zt(R0),Intersects:zt(R0),Within:zt(R0),DWithin:zt(wte),PropertyIsEqualTo:zt(Yf),PropertyIsNotEqualTo:zt(Yf),PropertyIsLessThan:zt(Yf),PropertyIsLessThanOrEqualTo:zt(Yf),PropertyIsGreaterThan:zt(Yf),PropertyIsGreaterThanOrEqualTo:zt(Yf),PropertyIsNull:zt(Ete),PropertyIsBetween:zt(Ste),PropertyIsLike:zt(Cte)},"http://www.opengis.net/fes/2.0":{During:zt(bte),And:zt(PI),Or:zt(PI),Not:zt(xte),BBOX:zt(_te),Contains:zt(R0),Disjoint:zt(R0),Intersects:zt(R0),ResourceId:zt(rvt),Within:zt(R0),DWithin:zt(wte),PropertyIsEqualTo:zt(Yf),PropertyIsNotEqualTo:zt(Yf),PropertyIsLessThan:zt(Yf),PropertyIsLessThanOrEqualTo:zt(Yf),PropertyIsGreaterThan:zt(Yf),PropertyIsGreaterThanOrEqualTo:zt(Yf),PropertyIsNull:zt(Ete),PropertyIsBetween:zt(Ste),PropertyIsLike:zt(Cte)}};function yte(t,e,n){const r=n[n.length-1],i=r.version,s=r.featurePrefix,a=r.featureNS,o=r.propertyNames,l=r.srsName;let u;s?u=IQ(s,e):u=e;let h;i==="2.0.0"?h="typeNames":h="typeName",t.setAttribute(h,u),l&&t.setAttribute("srsName",l),a&&t.setAttributeNS(MQ,"xmlns:"+s,a);const d=Object.assign({},r);d.node=t,rs(d,Xmt,sl("PropertyName"),o,n);const f=r.filter;if(f){const A=is(CD(i),"Filter");t.appendChild(A),nvt(A,f,n)}}function nvt(t,e,n){const r=n[n.length-1],i={node:t};Object.assign(i,{context:r}),rs(i,SD,sl(e.getTagName()),[e],n)}function _te(t,e,n){const r=n[n.length-1],s=r.context.version;r.srsName=e.srsName;const a=RQ[s];lC(s,t,e.geometryName),a.prototype.writeGeometryElement(t,e.extent,n)}function rvt(t,e,n){t.setAttribute("rid",e.rid)}function R0(t,e,n){const r=n[n.length-1],s=r.context.version;r.srsName=e.srsName;const a=RQ[s];lC(s,t,e.geometryName),a.prototype.writeGeometryElement(t,e.geometry,n)}function wte(t,e,n){const s=n[n.length-1].context.version;R0(t,e,n);const a=is(CD(s),"Distance");es(a,e.distance.toString()),s==="2.0.0"?a.setAttribute("uom",e.unit):a.setAttribute("units",e.unit),t.appendChild(a)}function bte(t,e,n){const s=n[n.length-1].context.version;lN(BQ[s],"ValueReference",t,e.propertyName);const a=is(yv,"TimePeriod");t.appendChild(a);const o=is(yv,"begin");a.appendChild(o),Tte(o,e.begin);const l=is(yv,"end");a.appendChild(l),Tte(l,e.end)}function PI(t,e,n){const i=n[n.length-1].context,s={node:t};Object.assign(s,{context:i});const a=e.conditions;for(let o=0,l=a.length;o<l;++o){const u=a[o];rs(s,SD,sl(u.getTagName()),[u],n)}}function xte(t,e,n){const i=n[n.length-1].context,s={node:t};Object.assign(s,{context:i});const a=e.condition;rs(s,SD,sl(a.getTagName()),[a],n)}function Yf(t,e,n){const s=n[n.length-1].context.version;e.matchCase!==void 0&&t.setAttribute("matchCase",e.matchCase.toString()),lC(s,t,e.propertyName),cN(s,t,""+e.expression)}function Ete(t,e,n){const s=n[n.length-1].context.version;lC(s,t,e.propertyName)}function Ste(t,e,n){const s=n[n.length-1].context.version,a=CD(s);lC(s,t,e.propertyName);const o=is(a,"LowerBoundary");t.appendChild(o),cN(s,o,""+e.lowerBoundary);const l=is(a,"UpperBoundary");t.appendChild(l),cN(s,l,""+e.upperBoundary)}function Cte(t,e,n){const s=n[n.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),e.matchCase!==void 0&&t.setAttribute("matchCase",e.matchCase.toString()),lC(s,t,e.propertyName),cN(s,t,""+e.pattern)}function lN(t,e,n,r){const i=is(t,e);es(i,r),n.appendChild(i)}function cN(t,e,n){lN(CD(t),"Literal",e,n)}function lC(t,e,n){t==="2.0.0"?lN(BQ[t],"ValueReference",e,n):lN(LQ[t],"PropertyName",e,n)}function Tte(t,e){const n=is(yv,"TimeInstant");t.appendChild(n);const r=is(yv,"timePosition");n.appendChild(r),es(r,e)}function Mte(t,e,n){const r=n[n.length-1],i=Object.assign({},r);i.node=t,rs(i,SD,sl("Query"),e,n)}function CD(t){let e;return t==="2.0.0"?e=BQ[t]:e=LQ[t],e}const Qa={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17};class Lte{constructor(e){this.view_=e,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_="XY"}readUint8(){return this.view_.getUint8(this.pos_++)}readUint32(e){return this.view_.getUint32((this.pos_+=4)-4,e!==void 0?e:this.isLittleEndian_)}readDouble(e){return this.view_.getFloat64((this.pos_+=8)-8,e!==void 0?e:this.isLittleEndian_)}readPoint(){const e=[];return e.push(this.readDouble()),e.push(this.readDouble()),this.hasZ_&&e.push(this.readDouble()),this.hasM_&&e.push(this.readDouble()),e}readLineString(){const e=this.readUint32(),n=[];for(let r=0;r<e;r++)n.push(this.readPoint());return n}readPolygon(){const e=this.readUint32(),n=[];for(let r=0;r<e;r++)n.push(this.readLineString());return n}readWkbHeader(e){const r=this.readUint8()>0,i=this.readUint32(r),s=Math.floor((i&268435455)/1e3),a=!!(i&2147483648)||s===1||s===3,o=!!(i&1073741824)||s===2||s===3,l=!!(i&536870912),u=(i&268435455)%1e3,h=["XY",a?"Z":"",o?"M":""].join(""),d=l?this.readUint32(r):null;if(e!==void 0&&e!==u)throw new Error("Unexpected WKB geometry type "+u);if(this.initialized_){if(this.isLittleEndian_!==r)throw new Error("Inconsistent endian");if(this.layout_!==h)throw new Error("Inconsistent geometry layout");if(d&&this.srid_!==d)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=r,this.hasZ_=a,this.hasM_=o,this.layout_=h,this.srid_=d,this.initialized_=!0;return u}readWkbPayload(e){switch(e){case Qa.POINT:return this.readPoint();case Qa.LINE_STRING:return this.readLineString();case Qa.POLYGON:case Qa.TRIANGLE:return this.readPolygon();case Qa.MULTI_POINT:return this.readMultiPoint();case Qa.MULTI_LINE_STRING:return this.readMultiLineString();case Qa.MULTI_POLYGON:case Qa.POLYHEDRAL_SURFACE:case Qa.TIN:return this.readMultiPolygon();case Qa.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+e+" is found")}}readWkbBlock(e){return this.readWkbPayload(this.readWkbHeader(e))}readWkbCollection(e,n){const r=this.readUint32(),i=[];for(let s=0;s<r;s++){const a=e.call(this,n);a&&i.push(a)}return i}readMultiPoint(){return this.readWkbCollection(this.readWkbBlock,Qa.POINT)}readMultiLineString(){return this.readWkbCollection(this.readWkbBlock,Qa.LINE_STRING)}readMultiPolygon(){return this.readWkbCollection(this.readWkbBlock,Qa.POLYGON)}readGeometryCollection(){return this.readWkbCollection(this.readGeometry)}readGeometry(){const e=this.readWkbHeader(),n=this.readWkbPayload(e);switch(e){case Qa.POINT:return new oa(n,this.layout_);case Qa.LINE_STRING:return new Ca(n,this.layout_);case Qa.POLYGON:case Qa.TRIANGLE:return new uo(n,this.layout_);case Qa.MULTI_POINT:return new zd(n,this.layout_);case Qa.MULTI_LINE_STRING:return new hc(n,this.layout_);case Qa.MULTI_POLYGON:case Qa.POLYHEDRAL_SURFACE:case Qa.TIN:return new dc(n,this.layout_);case Qa.GEOMETRY_COLLECTION:return new Hl(n);default:return null}}getSrid(){return this.srid_}}class ivt{constructor(e){e=e||{},this.layout_=e.layout,this.isLittleEndian_=e.littleEndian!==!1,this.isEWKB_=e.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object.assign({X:0,Y:0,Z:0,M:0},e.nodata)}writeUint8(e){this.writeQueue_.push([1,e])}writeUint32(e){this.writeQueue_.push([4,e])}writeDouble(e){this.writeQueue_.push([8,e])}writePoint(e,n){const r=Object.assign.apply(null,n.split("").map((i,s)=>({[i]:e[s]})));for(const i of this.layout_)this.writeDouble(i in r?r[i]:this.nodata_[i])}writeLineString(e,n){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writePoint(e[r],n)}writePolygon(e,n){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writeLineString(e[r],n)}writeWkbHeader(e,n){e%=1e3,this.layout_.includes("Z")&&(e+=this.isEWKB_?2147483648:1e3),this.layout_.includes("M")&&(e+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(n)&&(e|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(e),this.isEWKB_&&Number.isInteger(n)&&this.writeUint32(n)}writeMultiPoint(e,n){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writeWkbHeader(1),this.writePoint(e[r],n)}writeMultiLineString(e,n){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writeWkbHeader(2),this.writeLineString(e[r],n)}writeMultiPolygon(e,n){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writeWkbHeader(3),this.writePolygon(e[r],n)}writeGeometryCollection(e){this.writeUint32(e.length);for(let n=0;n<e.length;n++)this.writeGeometry(e[n])}findMinimumLayout(e,n="XYZM"){const r=(i,s)=>i===s?i:i==="XYZM"?s:s==="XYZM"?i:"XY";if(e instanceof Mp)return r(e.getLayout(),n);if(e instanceof Hl){const i=e.getGeometriesArray();for(let s=0;s<i.length&&n!=="XY";s++)n=this.findMinimumLayout(i[s],n)}return n}writeGeometry(e,n){const r={Point:Qa.POINT,LineString:Qa.LINE_STRING,Polygon:Qa.POLYGON,MultiPoint:Qa.MULTI_POINT,MultiLineString:Qa.MULTI_LINE_STRING,MultiPolygon:Qa.MULTI_POLYGON,GeometryCollection:Qa.GEOMETRY_COLLECTION},i=e.getType(),s=r[i];if(!s)throw new Error("GeometryType "+i+" is not supported");this.layout_||(this.layout_=this.findMinimumLayout(e)),this.writeWkbHeader(s,n),e instanceof Mp?{Point:this.writePoint,LineString:this.writeLineString,Polygon:this.writePolygon,MultiPoint:this.writeMultiPoint,MultiLineString:this.writeMultiLineString,MultiPolygon:this.writeMultiPolygon}[i].call(this,e.getCoordinates(),e.getLayout()):e instanceof Hl&&this.writeGeometryCollection(e.getGeometriesArray())}getBuffer(){const e=this.writeQueue_.reduce((s,a)=>s+a[0],0),n=new ArrayBuffer(e),r=new DataView(n);let i=0;return this.writeQueue_.forEach(s=>{switch(s[0]){case 1:r.setUint8(i,s[1]);break;case 4:r.setUint32(i,s[1],this.isLittleEndian_);break;case 8:r.setFloat64(i,s[1],this.isLittleEndian_);break}i+=s[0]}),n}}class svt extends tB{constructor(e){super(),e=e||{},this.splitCollection=!!e.splitCollection,this.viewCache_=null,this.hex_=e.hex!==!1,this.littleEndian_=e.littleEndian!==!1,this.ewkb_=e.ewkb!==!1,this.layout_=e.geometryLayout,this.nodataZ_=e.nodataZ||0,this.nodataM_=e.nodataM||0,this.srid_=e.srid}getType(){return this.hex_?"text":"arraybuffer"}readFeature(e,n){return new vs({geometry:this.readGeometry(e,n)})}readFeatures(e,n){let r=[];const i=this.readGeometry(e,n);return this.splitCollection&&i instanceof Hl?r=i.getGeometriesArray():r=[i],r.map(s=>new vs({geometry:s}))}readGeometry(e,n){const r=Bte(e);if(!r)return null;const s=new Lte(r).readGeometry();return this.viewCache_=r,n=this.getReadOptions(e,n),this.viewCache_=null,zo(s,!1,n)}readProjection(e){const n=this.viewCache_||Bte(e);if(!n)return;const r=new Lte(n);return r.readWkbHeader(),r.getSrid()&&gi("EPSG:"+r.getSrid())||void 0}writeFeature(e,n){return this.writeGeometry(e.getGeometry(),n)}writeFeatures(e,n){return this.writeGeometry(new Hl(e.map(r=>r.getGeometry())),n)}writeGeometry(e,n){n=this.adaptOptions(n);const r=new ivt({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}});let i=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){const a=n.dataProjection&&gi(n.dataProjection);if(a){const o=a.getCode();o.startsWith("EPSG:")&&(i=Number(o.substring(5)))}}r.writeGeometry(zo(e,!0,n),i);const s=r.getBuffer();return this.hex_?avt(s):s}}function avt(t){const e=new Uint8Array(t);return Array.from(e.values()).map(n=>(n<16?"0":"")+Number(n).toString(16).toUpperCase()).join("")}function ovt(t){const e=new Uint8Array(t.length/2);for(let n=0;n<t.length/2;n++)e[n]=parseInt(t.substr(n*2,2),16);return new DataView(e.buffer)}function Bte(t){return typeof t=="string"?ovt(t):ArrayBuffer.isView(t)?t instanceof DataView?t:new DataView(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new DataView(t):null}const lvt={POINT:oa,LINESTRING:Ca,POLYGON:uo,MULTIPOINT:zd,MULTILINESTRING:hc,MULTIPOLYGON:dc},Oge="EMPTY",Nge="Z",Dge="M",cvt="ZM",Na={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},uvt={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class hvt{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,n){return n=n!==void 0?n:!1,e>="0"&&e<="9"||e=="."&&!n}isWhiteSpace_(e){return e==" "||e=="	"||e=="\r"||e=="\n"}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const e=this.nextChar_(),n=this.index_;let r=e,i;if(e=="(")i=Na.LEFT_PAREN;else if(e==",")i=Na.COMMA;else if(e==")")i=Na.RIGHT_PAREN;else if(this.isNumeric_(e)||e=="-")i=Na.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))i=Na.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e==="")i=Na.EOF;else throw new Error("Unexpected character: "+e)}return{position:n,value:r,type:i}}readNumber_(){let e;const n=this.index_;let r=!1,i=!1;do e=="."?r=!0:(e=="e"||e=="E")&&(i=!0),e=this.nextChar_();while(this.isNumeric_(e,r)||!i&&(e=="e"||e=="E")||i&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}readText_(){let e;const n=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(n,this.index_--).toUpperCase()}}let dvt=class{constructor(e){this.lexer_=e,this.token_={position:0,type:Na.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){const n=this.isTokenType(e);return n&&this.consume_(),n}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY";const n=this.token_;if(this.isTokenType(Na.TEXT)){const r=n.value;r===Nge?e="XYZ":r===Dge?e="XYM":r===cvt&&(e="XYZM"),e!=="XY"&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(Na.LEFT_PAREN)){const e=[];do e.push(this.parseGeometry_());while(this.match(Na.COMMA));if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(Na.LEFT_PAREN)){const e=this.parsePoint_();if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(Na.LEFT_PAREN)){const e=this.parsePointList_();if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(Na.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(Na.LEFT_PAREN)){let e;if(this.token_.type==Na.LEFT_PAREN?e=this.parsePointTextList_():e=this.parsePointList_(),this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(Na.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(Na.LEFT_PAREN)){const e=this.parsePolygonTextList_();if(this.match(Na.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePoint_(){const e=[],n=this.layout_.length;for(let r=0;r<n;++r){const i=this.token_;if(this.match(Na.NUMBER))e.push(i.value);else break}if(e.length==n)return e;throw new Error(this.formatErrorMessage_())}parsePointList_(){const e=[this.parsePoint_()];for(;this.match(Na.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){const e=[this.parsePointText_()];for(;this.match(Na.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){const e=[this.parseLineStringText_()];for(;this.match(Na.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){const e=[this.parsePolygonText_()];for(;this.match(Na.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){const e=this.isTokenType(Na.TEXT)&&this.token_.value==Oge;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const e=this.token_;if(this.match(Na.TEXT)){const n=e.value;this.layout_=this.parseGeometryLayout_();const r=this.isEmptyGeometry_();if(n=="GEOMETRYCOLLECTION"){if(r)return new Hl([]);const a=this.parseGeometryCollectionText_();return new Hl(a)}const i=lvt[n];if(!i)throw new Error("Invalid geometry type: "+n);let s;if(r)n=="POINT"?s=[NaN,NaN]:s=[];else switch(n){case"POINT":{s=this.parsePointText_();break}case"LINESTRING":{s=this.parseLineStringText_();break}case"POLYGON":{s=this.parsePolygonText_();break}case"MULTIPOINT":{s=this.parseMultiPointText_();break}case"MULTILINESTRING":{s=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{s=this.parseMultiPolygonText_();break}}return new i(s,this.layout_)}throw new Error(this.formatErrorMessage_())}};class fvt extends bQ{constructor(e){super(),e=e||{},this.splitCollection_=e.splitCollection!==void 0?e.splitCollection:!1}parse_(e){const n=new hvt(e);return new dvt(n).parse()}readFeatureFromText(e,n){const r=this.readGeometryFromText(e,n),i=new vs;return i.setGeometry(r),i}readFeaturesFromText(e,n){let r=[];const i=this.readGeometryFromText(e,n);this.splitCollection_&&i.getType()=="GeometryCollection"?r=i.getGeometriesArray():r=[i];const s=[];for(let a=0,o=r.length;a<o;++a){const l=new vs;l.setGeometry(r[a]),s.push(l)}return s}readGeometryFromText(e,n){const r=this.parse_(e);return zo(r,!1,n)}writeFeatureText(e,n){const r=e.getGeometry();return r?this.writeGeometryText(r,n):""}writeFeaturesText(e,n){if(e.length==1)return this.writeFeatureText(e[0],n);const r=[];for(let s=0,a=e.length;s<a;++s)r.push(e[s].getGeometry());const i=new Hl(r);return this.writeGeometryText(i,n)}writeGeometryText(e,n){return Hge(zo(e,!0,n))}}function kge(t){const e=t.getCoordinates();return e.length===0?"":e.join(" ")}function Avt(t){const e=[],n=t.getPoints();for(let r=0,i=n.length;r<i;++r)e.push("("+kge(n[r])+")");return e.join(",")}function pvt(t){const e=[],n=t.getGeometries();for(let r=0,i=n.length;r<i;++r)e.push(Hge(n[r]));return e.join(",")}function PQ(t){const e=t.getCoordinates(),n=[];for(let r=0,i=e.length;r<i;++r)n.push(e[r].join(" "));return n.join(",")}function gvt(t){const e=[],n=t.getLineStrings();for(let r=0,i=n.length;r<i;++r)e.push("("+PQ(n[r])+")");return e.join(",")}function Uge(t){const e=[],n=t.getLinearRings();for(let r=0,i=n.length;r<i;++r)e.push("("+PQ(n[r])+")");return e.join(",")}function mvt(t){const e=[],n=t.getPolygons();for(let r=0,i=n.length;r<i;++r)e.push("("+Uge(n[r])+")");return e.join(",")}function vvt(t){const e=t.getLayout();let n="";return(e==="XYZ"||e==="XYZM")&&(n+=Nge),(e==="XYM"||e==="XYZM")&&(n+=Dge),n}const yvt={Point:kge,LineString:PQ,Polygon:Uge,MultiPoint:Avt,MultiLineString:gvt,MultiPolygon:mvt,GeometryCollection:pvt};function Hge(t){const e=t.getType(),n=yvt[e],r=n(t);let i=uvt[e];if(typeof t.getFlatCoordinates=="function"){const s=vvt(t);s.length>0&&(i+=" "+s)}return r.length===0?i+" "+Oge:i+"("+r+")"}const fc=[null,"http://www.opengis.net/wms"];function cC(t){return Q5(t[0].version,"1.3")>=0}const _vt=In(fc,{Service:Bt(zvt),Capability:Bt(Vvt)}),Gge={Request:Bt(Zvt),Exception:Bt(jvt),Layer:Bt(Kvt)},wvt=In(fc,{...Gge,UserDefinedSymbolization:Bt(Hvt)}),bvt=In(fc,Gge);class xvt extends CQ{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();const n=jn({version:this.version},_vt,e,[]);return n||null}}const Vge={Name:Bt(Jn),Title:Bt(Jn),Abstract:Bt(Jn),KeywordList:Bt(Kge),OnlineResource:Bt(oC),ContactInformation:Bt($vt),Fees:Bt(Jn),AccessConstraints:Bt(Jn)},Evt=In(fc,Vge),Svt=In(fc,{...Vge,LayerLimit:Bt(wl),MaxWidth:Bt(wl),MaxHeight:Bt(wl)}),Cvt=In(fc,{ContactPersonPrimary:Bt(Qvt),ContactPosition:Bt(Jn),ContactAddress:Bt(Wvt),ContactVoiceTelephone:Bt(Jn),ContactFacsimileTelephone:Bt(Jn),ContactElectronicMailAddress:Bt(Jn)}),Tvt=In(fc,{ContactPerson:Bt(Jn),ContactOrganization:Bt(Jn)}),Mvt=In(fc,{AddressType:Bt(Jn),Address:Bt(Jn),City:Bt(Jn),StateOrProvince:Bt(Jn),PostCode:Bt(Jn),Country:Bt(Jn)}),Lvt=In(fc,{Format:pi(Jn)}),zge={Name:Bt(Jn),Title:Bt(Jn),Abstract:Bt(Jn),KeywordList:Bt(Kge),BoundingBox:Da(Wge),Dimension:Da(qvt),Attribution:Bt(Uvt),AuthorityURL:Da(t0t),Identifier:Da(Jn),MetadataURL:Da(n0t),DataURL:Da(Pv),FeatureListURL:Da(Pv),Style:Da(r0t),Layer:Da(TD)},$ge=In(fc,{...zge,SRS:Da(Jn),Extent:Bt(Xvt),ScaleHint:Da(Yvt),LatLonBoundingBox:Bt((t,e)=>Wge(t,e,!1)),Layer:Da(TD)}),Qge=In(fc,{...zge,CRS:Da(Jn),EX_GeographicBoundingBox:Bt(Gvt),MinScaleDenominator:Bt(ks),MaxScaleDenominator:Bt(ks),Layer:Da(TD)}),Bvt=In(fc,{Title:Bt(Jn),OnlineResource:Bt(oC),LogoURL:Bt(jge)}),Rvt=In(fc,{westBoundLongitude:Bt(ks),eastBoundLongitude:Bt(ks),southBoundLatitude:Bt(ks),northBoundLatitude:Bt(ks)}),Ivt=In(fc,{GetCapabilities:Bt(L3),GetMap:Bt(L3),GetFeatureInfo:Bt(L3)}),Pvt=In(fc,{Format:Da(Jn),DCPType:Da(Jvt)}),Fvt=In(fc,{HTTP:Bt(e0t)}),Ovt=In(fc,{Get:Bt(Pv),Post:Bt(Pv)}),Nvt=In(fc,{Name:Bt(Jn),Title:Bt(Jn),Abstract:Bt(Jn),LegendURL:Da(jge),StyleSheetURL:Bt(Pv),StyleURL:Bt(Pv)}),Dvt=In(fc,{Format:Bt(Jn),OnlineResource:Bt(oC)}),kvt=In(fc,{Keyword:pi(Jn)});function Uvt(t,e){return jn({},Bvt,t,e)}function Hvt(t,e){return{SupportSLD:!!dA(t.getAttribute("UserDefinedSymbolization")),UserLayer:!!dA(t.getAttribute("UserLayer")),UserStyle:!!dA(t.getAttribute("UserStyle")),RemoteWFS:!!dA(t.getAttribute("RemoteWFS"))}}function Wge(t,e,n=!0){const r=[ap(t.getAttribute("minx")),ap(t.getAttribute("miny")),ap(t.getAttribute("maxx")),ap(t.getAttribute("maxy"))],i=[ap(t.getAttribute("resx")),ap(t.getAttribute("resy"))],s={extent:r,res:i};return n&&(cC(e)?s.crs=t.getAttribute("CRS"):s.srs=t.getAttribute("SRS")),s}function Gvt(t,e){const n=jn({},Rvt,t,e);if(!n)return;const r=n.westBoundLongitude,i=n.southBoundLatitude,s=n.eastBoundLongitude,a=n.northBoundLatitude;if(!(r===void 0||i===void 0||s===void 0||a===void 0))return[r,i,s,a]}function Vvt(t,e){return jn({},cC(e)?bvt:wvt,t,e)}function zvt(t,e){return jn({},cC(e)?Svt:Evt,t,e)}function $vt(t,e){return jn({},Cvt,t,e)}function Qvt(t,e){return jn({},Tvt,t,e)}function Wvt(t,e){return jn({},Mvt,t,e)}function jvt(t,e){return jn([],Lvt,t,e)}function Kvt(t,e){const n=jn({},cC(e)?Qge:$ge,t,e);return n.Layer===void 0?Object.assign(n,TD(t,e)):n}function TD(t,e){const n=cC(e),r=e[e.length-1],i=jn({},n?Qge:$ge,t,e);if(!i)return;let s=dA(t.getAttribute("queryable"));s===void 0&&(s=r.queryable),i.queryable=s!==void 0?s:!1;let a=dv(t.getAttribute("cascaded"));a===void 0&&(a=r.cascaded),i.cascaded=a;let o=dA(t.getAttribute("opaque"));o===void 0&&(o=r.opaque),i.opaque=o!==void 0?o:!1;let l=dA(t.getAttribute("noSubsets"));l===void 0&&(l=r.noSubsets),i.noSubsets=l!==void 0?l:!1;let u=ap(t.getAttribute("fixedWidth"));u||(u=r.fixedWidth),i.fixedWidth=u;let h=ap(t.getAttribute("fixedHeight"));h||(h=r.fixedHeight),i.fixedHeight=h;const d=["Style","AuthorityURL"];n?d.push("CRS"):d.push("SRS","Dimension"),d.forEach(function(A){if(A in r){const m=i[A]||[];i[A]=m.concat(r[A])}});const f=["BoundingBox","Attribution"];return n?f.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):f.push("LatLonBoundingBox","ScaleHint","Extent"),f.forEach(function(A){if(!(A in i)){const m=r[A];i[A]=m}}),i}function qvt(t,e){const n={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol")};return cC(e)&&Object.assign(n,{default:t.getAttribute("default"),multipleValues:dA(t.getAttribute("multipleValues")),nearestValue:dA(t.getAttribute("nearestValue")),current:dA(t.getAttribute("current")),values:Jn(t)}),n}function Xvt(t,e){return{name:t.getAttribute("name"),default:t.getAttribute("default"),nearestValue:dA(t.getAttribute("nearestValue"))}}function Yvt(t,e){return{min:ap(t.getAttribute("min")),max:ap(t.getAttribute("max"))}}function Pv(t,e){return jn({},Dvt,t,e)}function Zvt(t,e){return jn({},Ivt,t,e)}function Jvt(t,e){return jn({},Fvt,t,e)}function e0t(t,e){return jn({},Ovt,t,e)}function L3(t,e){return jn({},Pvt,t,e)}function jge(t,e){const n=Pv(t,e);if(n){const r=[dv(t.getAttribute("width")),dv(t.getAttribute("height"))];return n.size=r,n}}function t0t(t,e){const n=Pv(t,e);if(n)return n.name=t.getAttribute("name"),n}function n0t(t,e){const n=Pv(t,e);if(n)return n.type=t.getAttribute("type"),n}function r0t(t,e){return jn({},Nvt,t,e)}function Kge(t,e){return jn([],kvt,t,e)}const i0t="_feature",s0t="_layer";class a0t extends rB{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new Fs,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,n){e.setAttribute("namespaceURI",this.featureNS_);const r=e.localName;let i=[];if(e.childNodes.length===0)return i;if(r=="msGMLOutput")for(let s=0,a=e.childNodes.length;s<a;s++){const o=e.childNodes[s];if(o.nodeType!==Node.ELEMENT_NODE)continue;const l=o,u=n[0],h=s0t,d=l.localName.replace(h,"");if(this.layers_&&!this.layers_.includes(d))continue;const f=d+i0t;u.featureType=f,u.featureNS=this.featureNS_;const A={};A[f]=pi(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const m=In([u.featureNS,null],A);l.setAttribute("namespaceURI",this.featureNS_);const g=jn([],m,l,n,this.gmlFormat_);g&&qs(i,g)}if(r=="FeatureCollection"){const s=jn([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);s&&(i=s)}return i}readFeaturesFromNode(e,n){const r={};return n&&Object.assign(r,this.getReadOptions(e,n)),this.readFeatures_(e,[r])}}const wm=[null,"http://www.opengis.net/wmts/1.0"],uC=[null,"http://www.opengis.net/ows/1.1"],o0t=In(wm,{Contents:Bt(v0t)});class l0t extends CQ{constructor(){super(),this.owsParser_=new Lge}readFromNode(e){let n=e.getAttribute("version");n&&(n=n.trim());let r=this.owsParser_.readFromNode(e);return r?(r.version=n,r=jn(r,o0t,e,[]),r||null):null}}const c0t=In(wm,{Layer:Da(y0t),TileMatrixSet:Da(_0t)}),u0t=In(wm,{Style:Da(w0t),Format:Da(Jn),TileMatrixSetLink:Da(b0t),Dimension:Da(x0t),ResourceURL:Da(E0t)},In(uC,{Title:Bt(Jn),Abstract:Bt(Jn),WGS84BoundingBox:Bt(Xge),BoundingBox:Da(S0t),Identifier:Bt(Jn)})),h0t=In(wm,{LegendURL:Da(C0t)},In(uC,{Title:Bt(Jn),Identifier:Bt(Jn)})),d0t=In(wm,{TileMatrixSet:Bt(Jn),TileMatrixSetLimits:Bt(M0t)}),f0t=In(wm,{TileMatrixLimits:pi(L0t)}),A0t=In(wm,{TileMatrix:Bt(Jn),MinTileRow:Bt(wl),MaxTileRow:Bt(wl),MinTileCol:Bt(wl),MaxTileCol:Bt(wl)}),p0t=In(wm,{Default:Bt(Jn),Value:Da(Jn)},In(uC,{Identifier:Bt(Jn)})),qge=In(uC,{LowerCorner:pi(DG),UpperCorner:pi(DG)}),g0t=In(wm,{WellKnownScaleSet:Bt(Jn),TileMatrix:Da(T0t)},In(uC,{SupportedCRS:Bt(Jn),Identifier:Bt(Jn),BoundingBox:Bt(Xge)})),m0t=In(wm,{TopLeftCorner:Bt(DG),ScaleDenominator:Bt(ks),TileWidth:Bt(wl),TileHeight:Bt(wl),MatrixWidth:Bt(wl),MatrixHeight:Bt(wl)},In(uC,{Identifier:Bt(Jn)}));function v0t(t,e){return jn({},c0t,t,e)}function y0t(t,e){return jn({},u0t,t,e)}function _0t(t,e){return jn({},g0t,t,e)}function w0t(t,e){const n=jn({},h0t,t,e);if(!n)return;const r=t.getAttribute("isDefault")==="true";return n.isDefault=r,n}function b0t(t,e){return jn({},d0t,t,e)}function x0t(t,e){return jn({},p0t,t,e)}function E0t(t,e){const n=t.getAttribute("format"),r=t.getAttribute("template"),i=t.getAttribute("resourceType"),s={};return n&&(s.format=n),r&&(s.template=r),i&&(s.resourceType=i),s}function Xge(t,e){const n=jn([],qge,t,e);if(n.length==2)return rl(n)}function S0t(t,e){const n=t.getAttribute("crs"),r=jn([],qge,t,e);if(r.length==2)return{extent:rl(r),crs:n}}function C0t(t,e){const n={};return n.format=t.getAttribute("format"),n.href=oC(t),n}function DG(t,e){const n=Jn(t).split(/\s+/);if(!n||n.length!=2)return;const r=+n[0],i=+n[1];if(!(isNaN(r)||isNaN(i)))return[r,i]}function T0t(t,e){return jn({},m0t,t,e)}function M0t(t,e){return jn([],f0t,t,e)}function L0t(t,e){return jn({},A0t,t,e)}const B0t=Object.freeze(Object.defineProperty({__proto__:null,EsriJSON:uft,GML:mQ,GPX:rAt,GeoJSON:Eft,IGC:UAt,IIIFInfo:lut,KML:qAt,MVT:Ggt,OWS:Lge,Polyline:bmt,TopoJSON:Imt,WFS:Zmt,WKB:svt,WKT:fvt,WMSCapabilities:xvt,WMSGetFeatureInfo:a0t,WMTSCapabilities:l0t},Symbol.toStringTag,{value:"Module"}));var R0t=Object.defineProperty,I0t=(t,e,n)=>e in t?R0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MD=(t,e,n)=>I0t(t,typeof e!="symbol"?e+"":e,n);const P0t=Me({__name:"OlFeature",props:{properties:{}},setup(t,{expose:e}){const n=t,r=qt("vectorSource"),i=qt("vectorLayer",null),a=qt("heatmapLayer",null)||i,o=qt("animation",null),l=ge(new vs({...n.properties}));return Ct(()=>n.properties,u=>{u instanceof zL?(l.value.setGeometry(u),l.value.setProperties({})):typeof u<"u"?(l.value.setGeometry(void 0),l.value.setProperties(u)):(l.value.setGeometry(void 0),l.value.setProperties({}))}),Ct(()=>r,(u,h)=>{var d,f,A;(d=h==null?void 0:h.value)==null||d.removeFeature(l.value),(f=u==null?void 0:u.value)==null||f.addFeature(l.value),(A=u==null?void 0:u.value)==null||A.changed()}),rr(()=>{var u;o!=null&&o.value&&((u=a==null?void 0:a.value)==null||u.animateFeature(l.value,o.value)),Zn(()=>{var h;(h=r==null?void 0:r.value)==null||h.addFeature(l.value)})}),ca(()=>{var u;(u=r==null?void 0:r.value)==null||u.removeFeature(l.value)}),dr("feature",l),dr("stylable",l),e({feature:l}),(u,h)=>tt(u.$slots,"default")}});function F0t(t){if("styles"in t){const{styles:e,...n}=Yo(as(t));return{style:e,...n}}else return t}function ds(t){const e=ni();let n={debug:!1};e&&(n=qt("ol-options",n));const r=F0t(t),i=as(r);return n!=null&&n.debug&&console.debug("[Vue3-OpenLayers Debug] PROPS",{in:t,out:i}),i}const Yge=["change","error","propertychange"],O0t=["change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","sourceready"],N0t=["tileloadend","tileloaderror","tileloadstart"],D0t=["imageloadend","imageloaderror","imageloadstart"],Zge=["addfeature","changefeature","clear","featuresloadend","featuresloaderror","featuresloadstart","removefeature"];function Lu(t,e){const n=ni();let r={debug:!1};n&&(r=qt("ol-options",r));function i(){[...Yge,...e].forEach(s=>{let a;ga(t)?a=t.value:a=t,a.on(s,(...o)=>{r!=null&&r.debug&&console.debug("[Vue3-OpenLayers Debug] EVENT",s,{eventName:s,args:o,source:t}),n==null||n.emit(s,...o)})})}return n&&rr(()=>{i()}),{updateOpenLayersEventHandlers:i}}const k0t=Me({inheritAttrs:!1,__name:"OlGeolocation",props:{tracking:{type:Boolean,default:!0},trackingOptions:{default:()=>({enableHighAccuracy:!0})},projection:{default:"EPSG:3857"}},emits:["change","error","propertychange","change:accuracy","change:accuracyGeometry","change:altitude","change:altitudeAccuracy","change:heading","change:position","change:projection","change:speed","change:tracking","change:trackingOptions"],setup(t,{expose:e}){const r=ds(t),i=J(()=>new aot(r));Lu(i,["change:accuracy","change:accuracyGeometry","change:altitude","change:altitudeAccuracy","change:heading","change:position","change:projection","change:speed","change:tracking","change:trackingOptions"]);const s=ge([]),a=ge(0),o=ge(0),l=ge(0),u=ge(0),h=ge(0),d=ge(null);return e({geoLoc:i,position:s,accuracy:a,altitude:o,altitudeAccuracy:l,speed:u,heading:h,accuracyGeometry:d}),(f,A)=>tt(f.$slots,"default",{position:s.value,speed:u.value,heading:h.value,accuracy:a.value,altitude:o.value,altitudeAccuracy:l.value,accuracyGeometry:d.value})}});function U0t(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==void 0&&(t[n]=e[n]);return t}const H0t=Me({__name:"OlMap",props:{controls:{},pixelRatio:{},interactions:{},keyboardEventTarget:{},layers:{},maxTilesLoading:{},moveTolerance:{},overlays:{},target:{},view:{},instance:{}},emits:["change","error","propertychange","change:layerGroup","change:size","change:target","change:view","click","dblclick","singleclick","loadstart","loadend","pointerdrag","pointermove","movestart","moveend","postrender","precompose","postcompose","rendercomplete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ds({...r,instance:void 0}),a=ge(void 0);let o=r.instance||new jg({...s});Ct(s,()=>{const f=r.instance?U0t(s,r.instance.getProperties()):s;o==null||o.setProperties(f)},{immediate:!0}),rr(()=>{r.instance||o==null||o.setTarget(a.value)}),ca(()=>{r.instance||o==null||o.setTarget(void 0),o=void 0}),dr("map",o);const l=(f,A,m)=>o==null?void 0:o.forEachFeatureAtPixel(f,A,m),u=f=>o==null?void 0:o.getCoordinateFromPixel(f),h=()=>o==null?void 0:o.render(),d=()=>o==null?void 0:o.updateSize();return o.on("change",f=>i("change",f)),o.on("error",f=>i("error",f)),o.on("propertychange",f=>i("propertychange",f)),o.on("click",f=>i("click",f)),o.on("change:size",f=>i("change:size",f)),o.on("change:target",f=>i("change:target",f)),o.on("change:view",f=>i("change:view",f)),o.on("dblclick",f=>i("dblclick",f)),o.on("singleclick",f=>i("singleclick",f)),o.on("pointerdrag",f=>i("pointerdrag",f)),o.on("pointermove",f=>i("pointermove",f)),o.on("movestart",f=>i("movestart",f)),o.on("moveend",f=>i("moveend",f)),o.on("postrender",f=>i("postrender",f)),o.on("precompose",f=>i("precompose",f)),o.on("postcompose",f=>i("postcompose",f)),o.on("rendercomplete",f=>i("rendercomplete",f)),o.on("loadstart",f=>{o==null||o.getTargetElement().classList.add("ol-map"),o==null||o.getTargetElement().classList.add("ol-map-loading"),o==null||o.getTargetElement().classList.remove("ol-map-fully-loaded"),i("loadstart",f)}),o.on("loadend",f=>{o==null||o.getTargetElement().classList.add("ol-map-fully-loaded"),o==null||o.getTargetElement().classList.remove("ol-map-loading"),i("loadend",f)}),e({map:o,mapRef:a,forEachFeatureAtPixel:l,getCoordinateFromPixel:u,render:h,updateSize:d}),(f,A)=>(ie(),Ee("div",{ref_key:"mapRef",ref:a},[tt(f.$slots,"default")],512))}}),G0t=Me({inheritAttrs:!1,__name:"OlOverlay",props:{id:{},element:{},offset:{},position:{},positioning:{},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:[Boolean,Object]},className:{}},emits:["change","error","propertychange","change:element","change:map","change:offset","change:position","change:positioning"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ge(),s=ds(n),a=Cs(new QAe(s));Lu(a,["change:element","change:map","change:offset","change:position","change:positioning"]);const o=()=>a.value.getOffset(),l=()=>a.value.getPosition(),u=()=>a.value.getPositioning(),h=y=>a.value.panIntoView(y),d=y=>a.value.setElement(y),f=y=>a.value.setOffset(y),A=y=>a.value.setPosition(y),m=y=>a.value.setPositioning(y);function g(y){(r==null?void 0:r.removeOverlay(y))||console.warn("couldn't find matching overlay to remove",a.value)}return rr(()=>{r==null||r.addOverlay(a.value)}),ca(()=>g(a.value)),Ct(()=>s,y=>{for(const _ in y){const x=_;y[x]!==void 0&&a.value.set(_,y[x])}},{deep:!0}),Zc(()=>{d(i.value)},{flush:"post"}),e({overlay:a,htmlContent:i,getOffset:o,getPosition:l,getPositioning:u,panIntoView:h,setElement:d,setOffset:f,setPosition:A,setPositioning:m}),(y,_)=>(ie(),Ee("div",{ref_key:"htmlContent",ref:i},[tt(y.$slots,"default",{position:y.position})],512))}});function V0t(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var lw=1,cw=2,IE=3,z0t=4,kG=5,Rte=6378137,$0t=6356752314e-3,Ite=.0066943799901413165,$T=484813681109536e-20,vr=Math.PI/2,Q0t=.16666666666666666,W0t=.04722222222222222,j0t=.022156084656084655,Hr=1e-10,Au=.017453292519943295,qg=57.29577951308232,ja=Math.PI/4,JM=Math.PI*2,vu=3.14159265359,Qd={};Qd.greenwich=0;Qd.lisbon=-9.131906111111;Qd.paris=2.337229166667;Qd.bogota=-74.080916666667;Qd.madrid=-3.687938888889;Qd.rome=12.452333333333;Qd.bern=7.439583333333;Qd.jakarta=106.807719444444;Qd.ferro=-17.666666666667;Qd.brussels=4.367975;Qd.stockholm=18.058277777778;Qd.athens=23.7163375;Qd.oslo=10.722916666667;const K0t={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Pte=/[\s_\-\/\(\)]/g;function xy(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(Pte,""),i=-1,s,a;++i<n.length;)if(s=n[i],a=s.toLowerCase().replace(Pte,""),a===r)return t[s]}function UG(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*Au},lat_1:function(o){e.lat1=o*Au},lat_2:function(o){e.lat2=o*Au},lat_ts:function(o){e.lat_ts=o*Au},lon_0:function(o){e.long0=o*Au},lon_1:function(o){e.long1=o*Au},lon_2:function(o){e.long2=o*Au},alpha:function(o){e.alpha=parseFloat(o)*Au},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*Au},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=xy(K0t,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*Au},pm:function(o){var l=xy(Qd,o);e.from_greenwich=(l||parseFloat(o))*Au},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var eL=1,Jge=2,eme=3,uN=4,tme=5,FQ=-1,q0t=/\s/,X0t=/[A-Za-z]/,Y0t=/[A-Za-z84_]/,LD=/[,\]]/,nme=/[\d\.E\-\+]/;function Kv(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=eL}Kv.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==uN)for(;q0t.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case eL:return this.neutral(t);case Jge:return this.keyword(t);case uN:return this.quoted(t);case tme:return this.afterquote(t);case eme:return this.number(t);case FQ:return}};Kv.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=uN;return}if(LD.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)};Kv.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=eL;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=eL,this.currentObject=this.stack.pop(),this.currentObject||(this.state=FQ);return}};Kv.prototype.number=function(t){if(nme.test(t)){this.word+=t;return}if(LD.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)};Kv.prototype.quoted=function(t){if(t==='"'){this.state=tme;return}this.word+=t};Kv.prototype.keyword=function(t){if(Y0t.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=eL;return}if(LD.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)};Kv.prototype.neutral=function(t){if(X0t.test(t)){this.word=t,this.state=Jge;return}if(t==='"'){this.word="",this.state=uN;return}if(nme.test(t)){this.word=t,this.state=eme;return}if(LD.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)};Kv.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===FQ)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Z0t(t){var e=new Kv(t);return e.output()}function Fte(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,a){return tE(a,s),s},r);e&&(t[e]=i)}function tE(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},tE(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&tE(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&tE(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Fte(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return tE(t,e[n]);return Fte(e,n,t)}}var J0t=.017453292519943295;function eyt(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function Mg(t){return t*J0t}function tyt(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var h=t.to_meter||1;return u*h}var o=function(u){return eyt(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Mg],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Mg],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Mg],["lat0","latitude_of_origin",Mg],["lat0","standard_parallel_1",Mg],["lat1","standard_parallel_1",Mg],["lat2","standard_parallel_2",Mg],["azimuth","Azimuth"],["alpha","azimuth",Mg],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Mg(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Mg(t.lat0>0?90:-90))}function rme(t){var e=Z0t(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return tE(e,i),tyt(i),i}function Fh(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Fh[t]=UG(arguments[1]):Fh[t]=rme(arguments[1]):Fh[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Fh.apply(e,r):Fh(r)});if(typeof t=="string"){if(t in Fh)return Fh[t]}else"EPSG"in t?Fh["EPSG:"+t.EPSG]=t:"ESRI"in t?Fh["ESRI:"+t.ESRI]=t:"IAU2000"in t?Fh["IAU2000:"+t.IAU2000]=t:console.log(t);return}}V0t(Fh);function nyt(t){return typeof t=="string"}function ryt(t){return t in Fh}var iyt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function syt(t){return iyt.some(function(e){return t.indexOf(e)>-1})}var ayt=["3857","900913","3785","102113"];function oyt(t){var e=xy(t,"authority");if(e){var n=xy(e,"epsg");return n&&ayt.indexOf(n)>-1}}function lyt(t){var e=xy(t,"extension");if(e)return xy(e,"proj4")}function cyt(t){return t[0]==="+"}function uyt(t){if(nyt(t)){if(ryt(t))return Fh[t];if(syt(t)){var e=rme(t);if(oyt(e))return Fh["EPSG:3857"];var n=lyt(e);return n?UG(n):e}if(cyt(t))return UG(t)}else return t}function Ote(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function Am(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function sB(t){return t<0?-1:1}function ti(t){return Math.abs(t)<=vu?t:t-sB(t)*JM}function vp(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(vr-e))/r}function tL(t,e){for(var n=.5*t,r,i,s=vr-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(s),i=vr-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function hyt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Am(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function dyt(t){var e=t.x,n=t.y;if(n*qg>90&&n*qg<-90&&e*qg>180&&e*qg<-180)return null;var r,i;if(Math.abs(Math.abs(n)-vr)<=Hr)return null;if(this.sphere)r=this.x0+this.a*this.k0*ti(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(ja+.5*n));else{var s=Math.sin(n),a=vp(this.e,n,s);r=this.x0+this.a*this.k0*ti(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=r,t.y=i,t}function fyt(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=vr-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=tL(this.e,s),i===-9999)return null}return r=ti(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Ayt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const pyt={init:hyt,forward:dyt,inverse:fyt,names:Ayt};function gyt(){}function Nte(t){return t}var myt=["longlat","identity"];const vyt={init:gyt,forward:Nte,inverse:Nte,names:myt};var yyt=[pyt,vyt],yF={},hN=[];function ime(t,e){var n=hN.length;return t.names?(hN[n]=t,t.names.forEach(function(r){yF[r.toLowerCase()]=n}),this):(console.log(e),!0)}function _yt(t){if(!t)return!1;var e=t.toLowerCase();if(typeof yF[e]<"u"&&hN[yF[e]])return hN[yF[e]]}function wyt(){yyt.forEach(ime)}const byt={start:wyt,add:ime,get:_yt};var ys={};ys.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};ys.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};ys.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};ys.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};ys.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};ys.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};ys.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};ys.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};ys.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};ys.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};ys.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};ys.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};ys.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};ys.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};ys.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};ys.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};ys.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};ys.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};ys.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};ys.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};ys.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};ys.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};ys.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};ys.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};ys.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};ys.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};ys.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};ys.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};ys.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};ys.hough={a:6378270,rf:297,ellipseName:"Hough"};ys.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};ys.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};ys.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};ys.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};ys.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};ys.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};ys.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};ys.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};ys.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};ys.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};ys.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};ys.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var xyt=ys.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ys.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Eyt(t,e,n,r){var i=t*t,s=e*e,a=(i-s)/i,o=0;r?(t*=1-a*(Q0t+a*(W0t+a*j0t)),i=t*t,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function Syt(t,e,n,r,i){if(!t){var s=xy(ys,r);s||(s=xyt),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<Hr)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Rc={};Rc.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Rc.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Rc.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Rc.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Rc.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Rc.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Rc.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Rc.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Rc.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Rc.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Rc.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Rc.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Rc.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Rc.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Rc.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Rc.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Rc.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Rc.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Cyt(t,e,n,r,i,s,a){var o={};return t===void 0||t==="none"?o.datum_type=kG:o.datum_type=z0t,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=lw),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=cw,o.datum_params[3]*=$T,o.datum_params[4]*=$T,o.datum_params[5]*=$T,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=IE,o.grids=a),o.a=n,o.b=r,o.es=i,o.ep2=s,o}var sme={};function Tyt(t,e){var n=new DataView(e),r=Byt(n),i=Ryt(n,r),s=Iyt(n,i,r),a={header:i,subgrids:s};return sme[t]=a,a}function Myt(t){if(t===void 0)return null;var e=t.split(",");return e.map(Lyt)}function Lyt(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:sme[t]||null,isNull:!1}}function nE(t){return t/3600*Math.PI/180}function Byt(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ryt(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:HG(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function HG(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Iyt(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var a=Fyt(t,r,n),o=Oyt(t,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[nE(a.lowerLongitude),nE(a.lowerLatitude)],del:[nE(a.longitudeInterval),nE(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:Pyt(o)}),r+=176+a.gridNodeCount*16}return i}function Pyt(t){return t.map(function(e){return[nE(e.longitudeShift),nE(e.latitudeShift)]})}function Fyt(t,e,n){return{name:HG(t,e+8,e+16).trim(),parent:HG(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Oyt(t,e,n,r){for(var i=e+176,s=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(i+o*s,r),longitudeShift:t.getFloat32(i+o*s+4,r),latitudeAccuracy:t.getFloat32(i+o*s+8,r),longitudeAccuracy:t.getFloat32(i+o*s+12,r)};a.push(l)}return a}function rm(t,e){if(!(this instanceof rm))return new rm(t);e=e||function(u){if(u)throw u};var n=uyt(t);if(typeof n!="object"){e(t);return}var r=rm.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=xy(Rc,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Syt(n.a,n.b,n.rf,n.ellps,n.sphere),a=Eyt(s.a,s.b,s.rf,n.R_A),o=Myt(n.nadgrids),l=n.datum||Cyt(n.datumCode,n.datum_params,s.a,s.b,a.es,a.ep2,o);Ote(this,n),Ote(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}rm.projections=byt;rm.projections.start();function Nyt(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===lw?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===cw?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function ame(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,a,o,l,u;if(i<-vr&&i>-1.001*vr)i=-vr;else if(i>vr&&i<1.001*vr)i=vr;else{if(i<-vr)return{x:-1/0,y:-1/0,z:t.z};if(i>vr)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),u=Math.cos(i),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+s)*u*Math.cos(r),y:(a+s)*u*Math.sin(r),z:(a*(1-e)+s)*o}}function ome(t,e,n,r){var i=1e-12,s=i*i,a=30,o,l,u,h,d,f,A,m,g,y,_,x,S,C=t.x,M=t.y,B=t.z?t.z:0,E,L,I;if(o=Math.sqrt(C*C+M*M),l=Math.sqrt(C*C+M*M+B*B),o/n<i){if(E=0,l/n<i)return L=vr,I=-r,{x:t.x,y:t.y,z:t.z}}else E=Math.atan2(M,C);u=B/l,h=o/l,d=1/Math.sqrt(1-e*(2-e)*h*h),m=h*(1-e)*d,g=u*d,S=0;do S++,A=n/Math.sqrt(1-e*g*g),I=o*m+B*g-A*(1-e*g*g),f=e*A/(A+I),d=1/Math.sqrt(1-f*(2-f)*h*h),y=h*(1-f)*d,_=u*d,x=_*m-y*g,m=y,g=_;while(x*x>s&&S<a);return L=Math.atan(_/Math.abs(y)),{x:E,y:L,z:I}}function Dyt(t,e,n){if(e===lw)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===cw){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+r,y:u*(l*t.x+t.y-a*t.z)+i,z:u*(-o*t.x+a*t.y+t.z)+s}}}function kyt(t,e,n){if(e===lw)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===cw){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],u=n[6],h=(t.x-r)/u,d=(t.y-i)/u,f=(t.z-s)/u;return{x:h+l*d-o*f,y:-l*h+d+a*f,z:o*h-a*d+f}}}function FI(t){return t===lw||t===cw}function Uyt(t,e,n){if(Nyt(t,e)||t.datum_type===kG||e.datum_type===kG)return n;var r=t.a,i=t.es;if(t.datum_type===IE){var s=Dte(t,!1,n);if(s!==0)return;r=Rte,i=Ite}var a=e.a,o=e.b,l=e.es;if(e.datum_type===IE&&(a=Rte,o=$0t,l=Ite),i===l&&r===a&&!FI(t.datum_type)&&!FI(e.datum_type))return n;if(n=ame(n,i,r),FI(t.datum_type)&&(n=Dyt(n,t.datum_type,t.datum_params)),FI(e.datum_type)&&(n=kyt(n,e.datum_type,e.datum_params)),n=ome(n,l,a,o),e.datum_type===IE){var u=Dte(e,!0,n);if(u!==0)return}return n}function Dte(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,h=l.length;u<h;u++){var d=l[u],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,A=d.ll[0]-f,m=d.ll[1]-f,g=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,y=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(m>r.y||A>r.x||y<r.y||g<r.x)&&(i=Hyt(r,e,d),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*qg+" "+r.y*qg+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Hyt(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ti(i.x-Math.PI)+Math.PI;var s=kte(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,u;do{if(u=kte(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+s.x),y:i.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ti(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function kte(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var h={x:e.cvs[a][0],y:e.cvs[a][1]},d=i.x*i.y,f=i.x*(1-i.y),A=(1-i.x)*(1-i.y),m=(1-i.x)*i.y;return s.x=A*o.x+f*l.x+m*h.x+d*u.x,s.y=A*o.y+f*l.y+m*h.y+d*u.y,s}function Ute(t,e,n){var r=n.x,i=n.y,s=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=r,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function lme(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Gyt(t){Hte(t.x),Hte(t.y)}function Hte(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Vyt(t,e){return(t.datum.datum_type===lw||t.datum.datum_type===cw||t.datum.datum_type===IE)&&e.datumCode!=="WGS84"||(e.datum.datum_type===lw||e.datum.datum_type===cw||e.datum.datum_type===IE)&&t.datumCode!=="WGS84"}function dN(t,e,n,r){var i;Array.isArray(n)?n=lme(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(Gyt(n),t.datum&&e.datum&&Vyt(t,e)&&(i=new rm("WGS84"),n=dN(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Ute(t,!1,n)),t.projName==="longlat")n={x:n.x*Au,y:n.y*Au,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=Uyt(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*qg,y:n.y*qg,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Ute(e,!0,n):(n&&!s&&delete n.z,n)}var Gte=rm("WGS84");function B3(t,e,n,r){var i,s,a;return Array.isArray(n)?(i=dN(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=dN(t,e,n,r),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=n[o]}),s)}function Vte(t){return t instanceof rm?t:t.oProj?t.oProj:rm(t)}function Hd(t,e,n){t=Vte(t);var r=!1,i;return typeof e>"u"?(e=t,t=Gte,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Gte,r=!0),e=Vte(e),n?B3(t,e,n):(i={forward:function(s,a){return B3(t,e,s,a)},inverse:function(s,a){return B3(e,t,s,a)}},r&&(i.oProj=e),i)}var zte=6,cme="AJSAJS",ume="AFAFAF",rE=65,xd=73,Zf=79,sT=86,aT=90;const zyt={forward:hme,inverse:$yt,toPoint:dme};function hme(t,e){return e=e||5,jyt(Qyt({lat:t[1],lon:t[0]}),e)}function $yt(t){var e=OQ(Ame(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function dme(t){var e=OQ(Ame(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function R3(t){return t*(Math.PI/180)}function $te(t){return 180*(t/Math.PI)}function Qyt(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,a,o,l,u,h,d,f,A=R3(e),m=R3(n),g,y;y=Math.floor((n+180)/6)+1,n===180&&(y=60),e>=56&&e<64&&n>=3&&n<12&&(y=32),e>=72&&e<84&&(n>=0&&n<9?y=31:n>=9&&n<21?y=33:n>=21&&n<33?y=35:n>=33&&n<42&&(y=37)),a=(y-1)*6-180+3,g=R3(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(A)*Math.sin(A)),u=Math.tan(A)*Math.tan(A),h=o*Math.cos(A)*Math.cos(A),d=Math.cos(A)*(m-g),f=r*((1-i/4-3*i*i/64-5*i*i*i/256)*A-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*A)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*A)-35*i*i*i/3072*Math.sin(6*A));var _=s*l*(d+(1-u+h)*d*d*d/6+(5-18*u+u*u+72*h-58*o)*d*d*d*d*d/120)+5e5,x=s*(f+l*Math.tan(A)*(d*d/2+(5-u+9*h+4*h*h)*d*d*d*d/24+(61-58*u+u*u+600*h-330*o)*d*d*d*d*d*d/720));return e<0&&(x+=1e7),{northing:Math.round(x),easting:Math.round(_),zoneNumber:y,zoneLetter:Wyt(e)}}function OQ(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),h,d,f,A,m,g,y,_,x,S=n-5e5,C=e;r<"N"&&(C-=1e7),y=(i-1)*6-180+3,l=o/(1-o),g=C/s,_=g/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),x=_+(3*u/2-27*u*u*u/32)*Math.sin(2*_)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*_)+151*u*u*u/96*Math.sin(6*_),h=a/Math.sqrt(1-o*Math.sin(x)*Math.sin(x)),d=Math.tan(x)*Math.tan(x),f=l*Math.cos(x)*Math.cos(x),A=a*(1-o)/Math.pow(1-o*Math.sin(x)*Math.sin(x),1.5),m=S/(h*s);var M=x-h*Math.tan(x)/A*(m*m/2-(5+3*d+10*f-4*f*f-9*l)*m*m*m*m/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*m*m*m*m*m*m/720);M=$te(M);var B=(m-(1+2*d+f)*m*m*m/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*m*m*m*m*m/120)/Math.cos(x);B=y+$te(B);var E;if(t.accuracy){var L=OQ({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});E={top:L.lat,right:L.lon,bottom:M,left:B}}else E={lat:M,lon:B};return E}function Wyt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function jyt(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Kyt(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function Kyt(t,e,n){var r=fme(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return qyt(i,s,r)}function fme(t){var e=t%zte;return e===0&&(e=zte),e}function qyt(t,e,n){var r=n-1,i=cme.charCodeAt(r),s=ume.charCodeAt(r),a=i+t-1,o=s+e,l=!1;a>aT&&(a=a-aT+rE-1,l=!0),(a===xd||i<xd&&a>xd||(a>xd||i<xd)&&l)&&a++,(a===Zf||i<Zf&&a>Zf||(a>Zf||i<Zf)&&l)&&(a++,a===xd&&a++),a>aT&&(a=a-aT+rE-1),o>sT?(o=o-sT+rE-1,l=!0):l=!1,(o===xd||s<xd&&o>xd||(o>xd||s<xd)&&l)&&o++,(o===Zf||s<Zf&&o>Zf||(o>Zf||s<Zf)&&l)&&(o++,o===xd&&o++),o>sT&&(o=o-sT+rE-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function Ame(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(s,s+=2);for(var l=fme(a),u=Xyt(n.charAt(0),l),h=Yyt(n.charAt(1),l);h<Zyt(o);)h+=2e6;var d=e-s;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f=d/2,A=0,m=0,g,y,_,x,S;return f>0&&(g=1e5/Math.pow(10,f),y=t.substring(s,s+f),A=parseFloat(y)*g,_=t.substring(s+f),m=parseFloat(_)*g),x=A+u,S=m+h,{easting:x,northing:S,zoneLetter:o,zoneNumber:a,accuracy:g}}function Xyt(t,e){for(var n=cme.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===xd&&n++,n===Zf&&n++,n>aT){if(i)throw"Bad character: "+t;n=rE,i=!0}r+=1e5}return r}function Yyt(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=ume.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===xd&&n++,n===Zf&&n++,n>sT){if(i)throw"Bad character: "+t;n=rE,i=!0}r+=1e5}return r}function Zyt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function MS(t,e,n){if(!(this instanceof MS))return new MS(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}MS.fromMGRS=function(t){return new MS(dme(t))};MS.prototype.toMGRS=function(t){return hme([this.x,this.y],t)};var Jyt=1,e_t=.25,Qte=.046875,Wte=.01953125,jte=.01068115234375,t_t=.75,n_t=.46875,r_t=.013020833333333334,i_t=.007120768229166667,s_t=.3645833333333333,a_t=.005696614583333333,o_t=.3076171875;function pme(t){var e=[];e[0]=Jyt-t*(e_t+t*(Qte+t*(Wte+t*jte))),e[1]=t*(t_t-t*(Qte+t*(Wte+t*jte)));var n=t*t;return e[2]=n*(n_t-t*(r_t+t*i_t)),n*=t,e[3]=n*(s_t-t*a_t),e[4]=n*t*o_t,e}function BD(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var l_t=20;function gme(t,e,n){for(var r=1/(1-e),i=t,s=l_t;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(BD(i,a,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<Hr)return i}return i}function c_t(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=pme(this.es),this.ml0=BD(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function u_t(t){var e=t.x,n=t.y,r=ti(e-this.long0),i,s,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var h=l*r,d=Math.pow(h,2),f=this.ep2*Math.pow(l,2),A=Math.pow(f,2),m=Math.abs(l)>Hr?Math.tan(n):0,g=Math.pow(m,2),y=Math.pow(g,2);i=1-this.es*Math.pow(o,2),h=h/Math.sqrt(i);var _=BD(n,o,l,this.en);s=this.a*(this.k0*h*(1+d/6*(1-g+f+d/20*(5-18*g+y+14*f-58*g*f+d/42*(61+179*y-y*g-479*g)))))+this.x0,a=this.a*(this.k0*(_-this.ml0+o*r*h/2*(1+d/12*(5-g+9*f+4*A+d/30*(61+y-58*g+270*f-330*g*f+d/56*(1385+543*y-y*g-3111*g))))))+this.y0}else{var u=l*Math.sin(r);if(Math.abs(Math.abs(u)-1)<Hr)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>Hr)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=s,t.y=a,t}function h_t(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=gme(e,this.es,this.en),Math.abs(n)<vr){var d=Math.sin(n),f=Math.cos(n),A=Math.abs(f)>Hr?Math.tan(n):0,m=this.ep2*Math.pow(f,2),g=Math.pow(m,2),y=Math.pow(A,2),_=Math.pow(y,2);e=1-this.es*Math.pow(d,2);var x=s*Math.sqrt(e)/this.k0,S=Math.pow(x,2);e=e*A,r=n-e*S/(1-this.es)*.5*(1-S/12*(5+3*y-9*m*y+m-4*g-S/30*(61+90*y-252*m*y+45*_+46*m-S/56*(1385+3633*y+4095*_+1574*_*y)))),i=ti(this.long0+x*(1-S/6*(1+2*y+m-S/20*(5+28*y+24*_+8*m*y+6*m-S/42*(61+662*y+1320*_+720*_*y))))/f)}else r=vr*sB(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,h=Math.cos(u);e=Math.sqrt((1-Math.pow(h,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&h===0?i=0:i=ti(Math.atan2(l,h)+this.long0)}return t.x=i,t.y=r,t}var d_t=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const _F={init:c_t,forward:u_t,inverse:h_t,names:d_t};function mme(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function sA(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function f_t(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function A_t(t){var e=Math.abs(t);return e=f_t(e*(1+e/(sA(1,e)+1))),t<0?-e:e}function NQ(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return e+a*Math.sin(2*e)}function p_t(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,a;--r>=0;)a=-s+n*i+t[r],s=i,i=a;return Math.sin(e)*a}function g_t(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function vme(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=mme(n),a=g_t(n),o=2*i*a,l=-2*r*s,u=t.length-1,h=t[u],d=0,f=0,A=0,m,g;--u>=0;)m=f,g=d,f=h,d=A,h=-m+o*f-l*d+t[u],A=-g+l*f+o*d;return o=r*a,l=i*s,[o*h-l*A,o*A+l*h]}function m_t(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(_F.init.apply(this),this.forward=_F.forward,this.inverse=_F.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=NQ(this.cbg,this.lat0);this.Zb=-this.Qn*(r+p_t(this.gtu,2*r))}function v_t(t){var e=ti(t.x-this.long0),n=t.y;n=NQ(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(s*i,sA(r,i*a)),e=A_t(Math.tan(e));var o=vme(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function y_t(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=vme(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(mme(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,sA(l,u*o)),e=Math.atan2(l,u*o),r=ti(e+this.long0),i=NQ(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var __t=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const wF={init:m_t,forward:v_t,inverse:y_t,names:__t};function w_t(t,e){if(t===void 0){if(t=Math.floor((ti(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var b_t="etmerc";function x_t(){var t=w_t(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Au,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,wF.init.apply(this),this.forward=wF.forward,this.inverse=wF.inverse}var E_t=["Universal Transverse Mercator System","utm"];const S_t={init:x_t,names:E_t,dependsOn:b_t};function DQ(t,e){return Math.pow((1-t)/(1+t),e)}var C_t=20;function T_t(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ja)/(Math.pow(Math.tan(.5*this.lat0+ja),this.C)*DQ(this.e*t,this.ratexp))}function M_t(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ja),this.C)*DQ(this.e*Math.sin(n),this.ratexp))-vr,t.x=this.C*e,t}function L_t(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+ja)/this.K,1/this.C),s=C_t;s>0&&(r=2*Math.atan(i*DQ(this.e*Math.sin(t.y),-.5*this.e))-vr,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}const kQ={init:T_t,forward:M_t,inverse:L_t};function B_t(){kQ.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function R_t(t){var e,n,r,i;return t.x=ti(t.x-this.long0),kQ.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function I_t(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=sA(t.x,t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,kQ.inverse.apply(this,[t]),t.x=ti(t.x+this.long0),t}var P_t=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const F_t={init:B_t,forward:R_t,inverse:I_t,names:P_t};function O_t(t,e,n){return e*=n,Math.tan(.5*(vr+t))*Math.pow((1-e)/(1+e),.5*n)}function N_t(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Hr&&(this.k0=.5*(1+sB(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Hr&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Hr&&Math.abs(Math.cos(this.lat_ts))>Hr&&(this.k0=.5*this.cons*Am(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/vp(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Am(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-vr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function D_t(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,a,o,l,u,h,d=ti(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Hr&&Math.abs(n+this.lat0)<=Hr?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(d)),t.x=this.a*s*i*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(d))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,r,this.e))-vr,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=Hr?(u=vp(this.e,n*this.con,this.con*r),h=2*this.a*this.k0*u/this.cons,t.x=this.x0+h*Math.sin(e-this.long0),t.y=this.y0-this.con*h*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Hr?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function k_t(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=Hr?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<Hr?this.lat0>0?e=ti(this.long0+Math.atan2(t.x,-1*t.y)):e=ti(this.long0+Math.atan2(t.x,t.y)):e=ti(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=Hr){if(a<=Hr)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*tL(this.e,r),e=this.con*ti(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=Hr?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ti(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*tL(this.e,Math.tan(.5*(vr+s)));return t.x=e,t.y=n,t}var U_t=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const H_t={init:N_t,forward:D_t,inverse:k_t,names:U_t,ssfn_:O_t};function G_t(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function V_t(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function z_t(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,u=s,h=-1e3,d=0;Math.abs(u-h)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var $_t=["somerc"];const Q_t={init:G_t,forward:V_t,inverse:z_t,names:$_t};var Nx=1e-7;function W_t(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function j_t(){var t,e,n,r,i,s,a,o,l,u,h=0,d,f=0,A=0,m=0,g=0,y=0,_=0;this.no_off=W_t(this),this.no_rot="no_rot"in this;var x=!1;"alpha"in this&&(x=!0);var S=!1;if("rectified_grid_angle"in this&&(S=!0),x&&(_=this.alpha),S&&(h=this.rectified_grid_angle*Au),x||S)f=this.longc;else if(A=this.long1,g=this.lat1,m=this.long2,y=this.lat2,Math.abs(g-y)<=Nx||(t=Math.abs(g))<=Nx||Math.abs(t-vr)<=Nx||Math.abs(Math.abs(this.lat0)-vr)<=Nx||Math.abs(Math.abs(y)-vr)<=Nx)throw new Error;var C=1-this.es;e=Math.sqrt(C),Math.abs(this.lat0)>Hr?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/C),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(vp(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),x||S?(x?(d=Math.asin(Math.sin(_)/r),S||(h=_)):(d=h,_=Math.asin(r*Math.sin(d))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(d))/this.B):(s=Math.pow(vp(this.e,g,Math.sin(g)),this.B),a=Math.pow(vp(this.e,y,Math.sin(y)),this.B),i=this.E/s,l=(a-s)/(a+s),u=this.E*this.E,u=(u-a*s)/(u+a*s),t=A-m,t<-Math.pi?m-=JM:t>Math.pi&&(m+=JM),this.lam0=ti(.5*(A+m)-Math.atan(u*Math.tan(.5*this.B*(A-m))/l)/this.B),d=Math.atan(2*Math.sin(this.B*ti(A-this.lam0))/(i-1/i)),h=_=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(ja-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(ja+i))}function K_t(t){var e={},n,r,i,s,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-vr)>Hr){if(a=this.E/Math.pow(vp(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<Hr)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<Nx?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function q_t(t){var e,n,r,i,s,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<Hr)l.x=0,l.y=o<0?-vr:vr;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=tL(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var X_t=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Y_t={init:j_t,forward:K_t,inverse:q_t,names:X_t};function Z_t(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Hr)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Am(this.e,e,n),i=vp(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=Am(this.e,s,a),l=vp(this.e,this.lat2,s),u=vp(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Hr?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function J_t(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Hr&&(n=sB(n)*(vr-2*Hr));var r=Math.abs(Math.abs(n)-vr),i,s;if(r>Hr)i=vp(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var a=this.ns*ti(e-this.long0);return t.x=this.k0*(s*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,t}function e1t(t){var e,n,r,i,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=tL(this.e,r),i===-9999)return null}else i=-vr;return s=ti(l/this.ns+this.long0),t.x=s,t.y=i,t}var t1t=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const n1t={init:Z_t,forward:J_t,inverse:e1t,names:t1t};function r1t(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function i1t(t){var e,n,r,i,s,a,o,l=t.x,u=t.y,h=ti(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function s1t(t){var e,n,r,i,s,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var h=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,h+=1;while(l===0&&h<15);return h>=15?null:t}var a1t=["Krovak","krovak"];const o1t={init:r1t,forward:i1t,inverse:s1t,names:a1t};function Vh(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function aB(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function oB(t){return .375*t*(1+.25*t*(1+.46875*t))}function lB(t){return .05859375*t*t*(1+.75*t)}function cB(t){return t*t*t*(35/3072)}function LS(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function hC(t){return Math.abs(t)<vr?t:t-sB(t)*Math.PI}function fN(t,e,n,r,i){var s,a;s=t/e;for(var o=0;o<15;o++)if(a=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function l1t(){this.sphere||(this.e0=aB(this.es),this.e1=oB(this.es),this.e2=lB(this.es),this.e3=cB(this.es),this.ml0=this.a*Vh(this.e0,this.e1,this.e2,this.e3,this.lat0))}function c1t(t){var e,n,r=t.x,i=t.y;if(r=ti(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=LS(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),h=u*u,d=this.es*a*a/(1-this.es),f=this.a*Vh(this.e0,this.e1,this.e2,this.e3,i);e=o*u*(1-h*l*(1/6-(8-l+8*d)*h/120)),n=f-this.ml0+o*s/a*h*(.5+(5-l+6*d)*h/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function u1t(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+n,o=fN(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-vr)<=Hr)return t.x=this.long0,t.y=vr,n<0&&(t.y*=-1),t;var l=LS(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(o),2),d=e*this.a/l,f=d*d;r=o-l*Math.tan(o)/u*d*d*(.5-(1+3*h)*d*d/24),i=d*(1-f*(h/3+(1+3*h)*h*f/15))/Math.cos(o)}return t.x=ti(i+this.long0),t.y=hC(r),t}var h1t=["Cassini","Cassini_Soldner","cass"];const d1t={init:l1t,forward:c1t,inverse:u1t,names:h1t};function cy(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var f1t=1,A1t=2,p1t=3,g1t=4;function m1t(){var t=Math.abs(this.lat0);if(Math.abs(t-vr)<Hr?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<Hr?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=cy(this.e,1),this.mmf=.5/(1-this.es),this.apa=C1t(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=cy(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function v1t(t){var e,n,r,i,s,a,o,l,u,h,d=t.x,f=t.y;if(d=ti(d-this.long0),this.sphere){if(s=Math.sin(f),h=Math.cos(f),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+h*r:1+this.sinph0*s+this.cosph0*h*r,n<=Hr)return null;n=Math.sqrt(2/n),e=n*h*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*h*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<Hr)return null;n=ja-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=r}}else{switch(o=0,l=0,u=0,r=Math.cos(d),i=Math.sin(d),s=Math.sin(f),a=cy(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=vr+f,a=this.qp-a;break;case this.S_POLE:u=f-vr,a=this.qp+a;break}if(Math.abs(u)<Hr)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*r):n=(u=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function y1t(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,a,o,l,u;if(this.sphere){var h=0,d,f=0;if(d=Math.sqrt(e*e+n*n),i=d*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(i),h=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=Hr?0:Math.asin(n*f/d),e*=f,n=h*d;break;case this.OBLIQ:i=Math.abs(d)<=Hr?this.lat0:Math.asin(h*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(h-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:n=-n,i=vr-i;break;case this.S_POLE:i-=vr;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<Hr)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=s*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}r=Math.atan2(e,n),i=T1t(Math.asin(u),this.apa)}return t.x=ti(this.long0+r),t.y=i,t}var _1t=.3333333333333333,w1t=.17222222222222222,b1t=.10257936507936508,x1t=.06388888888888888,E1t=.0664021164021164,S1t=.016415012942191543;function C1t(t){var e,n=[];return n[0]=t*_1t,e=t*t,n[0]+=e*w1t,n[1]=e*x1t,e*=t,n[0]+=e*b1t,n[1]+=e*E1t,n[2]=e*S1t,n}function T1t(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var M1t=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const L1t={init:m1t,forward:v1t,inverse:y1t,names:M1t,S_POLE:f1t,N_POLE:A1t,EQUIT:p1t,OBLIQ:g1t};function Ey(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function B1t(){Math.abs(this.lat1+this.lat2)<Hr||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Am(this.e3,this.sin_po,this.cos_po),this.qs1=cy(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Am(this.e3,this.sin_po,this.cos_po),this.qs2=cy(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=cy(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Hr?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function R1t(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=cy(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ti(e-this.long0),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return t.x=a,t.y=o,t}function I1t(t){var e,n,r,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),s=ti(i/this.ns0+this.long0),t.x=s,t.y=a,t}function P1t(t,e){var n,r,i,s,a,o=Ey(.5*e);if(t<Hr)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,s=1-i*i,a=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var F1t=["Albers_Conic_Equal_Area","Albers","aea"];const O1t={init:B1t,forward:R1t,inverse:I1t,names:F1t,phi1z:P1t};function N1t(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function D1t(t){var e,n,r,i,s,a,o,l,u=t.x,h=t.y;return r=ti(u-this.long0),e=Math.sin(h),n=Math.cos(h),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,a>0||Math.abs(a)<=Hr?(o=this.x0+this.a*s*n*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function k1t(t){var e,n,r,i,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=Ey(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ti(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t}var U1t=["gnom"];const H1t={init:N1t,forward:D1t,inverse:k1t,names:U1t};function G1t(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*vr:vr;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=t*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-s/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function V1t(){this.sphere||(this.k0=Am(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function z1t(t){var e=t.x,n=t.y,r,i,s=ti(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=cy(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=r,t.y=i,t}function $1t(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ti(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=G1t(this.e,2*t.y*this.k0/this.a),e=ti(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var Q1t=["cea"];const W1t={init:V1t,forward:z1t,inverse:$1t,names:Q1t};function j1t(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function K1t(t){var e=t.x,n=t.y,r=ti(e-this.long0),i=hC(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function q1t(t){var e=t.x,n=t.y;return t.x=ti(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=hC(this.lat0+(n-this.y0)/this.a),t}var X1t=["Equirectangular","Equidistant_Cylindrical","eqc"];const Y1t={init:j1t,forward:K1t,inverse:q1t,names:X1t};var Kte=20;function Z1t(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aB(this.es),this.e1=oB(this.es),this.e2=lB(this.es),this.e3=cB(this.es),this.ml0=this.a*Vh(this.e0,this.e1,this.e2,this.e3,this.lat0)}function J1t(t){var e=t.x,n=t.y,r,i,s,a=ti(e-this.long0);if(s=a*Math.sin(n),this.sphere)Math.abs(n)<=Hr?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(hC(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=Hr)r=this.a*a,i=-1*this.ml0;else{var o=LS(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(s),i=this.a*Vh(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function ewt(t){var e,n,r,i,s,a,o,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Hr)e=ti(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var h;for(s=Kte;s;--s)if(h=Math.tan(l),u=-1*(a*(l*h+1)-l-.5*(l*l+o)*h)/((l-a)/h-1),l+=u,Math.abs(u)<=Hr){n=l;break}e=ti(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Hr)n=0,e=ti(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var d,f,A,m,g;for(s=Kte;s;--s)if(g=this.e*Math.sin(l),d=Math.sqrt(1-g*g)*Math.tan(l),f=this.a*Vh(this.e0,this.e1,this.e2,this.e3,l),A=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),m=f/this.a,u=(a*(d*m+1)-m-.5*d*(m*m+o))/(this.es*Math.sin(2*l)*(m*m+o-2*a*m)/(4*d)+(a-m)*(d*A-2/Math.sin(2*l))-A),l-=u,Math.abs(u)<=Hr){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ti(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var twt=["Polyconic","poly"];const nwt={init:Z1t,forward:J1t,inverse:ewt,names:twt};function rwt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function iwt(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/$T*1e-5,o=s,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var h=u,d=o,f=1,A=0,m,g,y=0,_=0;for(e=1;e<=6;e++)m=f*h-A*d,g=A*h+f*d,f=m,A=g,y=y+this.B_re[e]*f-this.B_im[e]*A,_=_+this.B_im[e]*f+this.B_re[e]*A;return t.x=_*this.a+this.x0,t.y=y*this.a+this.y0,t}function swt(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,u=0,h,d,f=0,A=0;for(e=1;e<=6;e++)h=l*a-u*o,d=u*a+l*o,l=h,u=d,f=f+this.C_re[e]*l-this.C_im[e]*u,A=A+this.C_im[e]*l+this.C_re[e]*u;for(var m=0;m<this.iterations;m++){var g=f,y=A,_,x,S=a,C=o;for(e=2;e<=6;e++)_=g*f-y*A,x=y*f+g*A,g=_,y=x,S=S+(e-1)*(this.B_re[e]*g-this.B_im[e]*y),C=C+(e-1)*(this.B_im[e]*g+this.B_re[e]*y);g=1,y=0;var M=this.B_re[1],B=this.B_im[1];for(e=2;e<=6;e++)_=g*f-y*A,x=y*f+g*A,g=_,y=x,M=M+e*(this.B_re[e]*g-this.B_im[e]*y),B=B+e*(this.B_im[e]*g+this.B_re[e]*y);var E=M*M+B*B;f=(S*M+C*B)/E,A=(C*M-S*B)/E}var L=f,I=A,k=1,O=0;for(e=1;e<=9;e++)k=k*L,O=O+this.D[e]*k;var F=this.lat0+O*$T*1e5,U=this.long0+I;return t.x=U,t.y=F,t}var awt=["New_Zealand_Map_Grid","nzmg"];const owt={init:rwt,forward:iwt,inverse:swt,names:awt};function lwt(){}function cwt(t){var e=t.x,n=t.y,r=ti(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function uwt(t){t.x-=this.x0,t.y-=this.y0;var e=ti(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var hwt=["Miller_Cylindrical","mill"];const dwt={init:lwt,forward:cwt,inverse:uwt,names:hwt};var fwt=20;function Awt(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pme(this.es)}function pwt(t){var e,n,r=t.x,i=t.y;if(r=ti(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=fwt;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<Hr)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*BD(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function gwt(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=Ey((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Ey(Math.sin(e)/this.n)),r=ti(r+this.long0),e=hC(e)):(e=gme(t.y/this.a,this.es,this.en),i=Math.abs(e),i<vr?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ti(n)):i-Hr<vr&&(r=this.long0)),t.x=r,t.y=e,t}var mwt=["Sinusoidal","sinu"];const vwt={init:Awt,forward:pwt,inverse:gwt,names:mwt};function ywt(){}function _wt(t){for(var e=t.x,n=t.y,r=ti(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<Hr)break}i/=2,Math.PI/2-Math.abs(n)<Hr&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=l,t}function wwt(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ti(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var bwt=["Mollweide","moll"];const xwt={init:ywt,forward:_wt,inverse:wwt,names:bwt};function Ewt(){Math.abs(this.lat1+this.lat2)<Hr||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aB(this.es),this.e1=oB(this.es),this.e2=lB(this.es),this.e3=cB(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Am(this.e,this.sinphi,this.cosphi),this.ml1=Vh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Hr?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Am(this.e,this.sinphi,this.cosphi),this.ml2=Vh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Vh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Swt(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Vh(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ti(e-this.long0),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return t.x=a,t.y=o,t}function Cwt(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ti(this.long0+s/this.ns),r=hC(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=fN(a,this.e0,this.e1,this.e2,this.e3),i=ti(this.long0+s/this.ns),t.x=i,t.y=r,t}var Twt=["Equidistant_Conic","eqdc"];const Mwt={init:Ewt,forward:Swt,inverse:Cwt,names:Twt};function Lwt(){this.R=this.a}function Bwt(t){var e=t.x,n=t.y,r=ti(e-this.long0),i,s;Math.abs(n)<=Hr&&(i=this.x0+this.R*r,s=this.y0);var a=Ey(2*Math.abs(n/Math.PI));(Math.abs(r)<=Hr||Math.abs(Math.abs(n)-vr)<=Hr)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,u=Math.sin(a),h=Math.cos(a),d=h/(u+h-1),f=d*d,A=d*(2/u-1),m=A*A,g=Math.PI*this.R*(o*(d-m)+Math.sqrt(l*(d-m)*(d-m)-(m+l)*(f-m)))/(m+l);r<0&&(g=-g),i=this.x0+g;var y=l+d;return g=Math.PI*this.R*(A*y-o*Math.sqrt((m+l)*(l+1)-y*y))/(m+l),n>=0?s=this.y0+g:s=this.y0-g,t.x=i,t.y=s,t}function Rwt(t){var e,n,r,i,s,a,o,l,u,h,d,f,A;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,r=t.x/d,i=t.y/d,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,A=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,h=2*Math.sqrt(-u/3),d=3*A/u/h,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-h*Math.cos(f+Math.PI/3)-o/3/l)*Math.PI:n=-(-h*Math.cos(f+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<Hr?e=this.long0:e=ti(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var Iwt=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Pwt={init:Lwt,forward:Bwt,inverse:Rwt,names:Iwt};function Fwt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Owt(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ti(e-this.long0),a,o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,B,E,L,I,k,O,F;return this.sphere?Math.abs(this.sin_p12-1)<=Hr?(t.x=this.x0+this.a*(vr-n)*Math.sin(s),t.y=this.y0-this.a*(vr-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=Hr?(t.x=this.x0+this.a*(vr+n)*Math.sin(s),t.y=this.y0+this.a*(vr+n)*Math.cos(s),t):(E=this.sin_p12*r+this.cos_p12*i*Math.cos(s),M=Math.acos(E),B=M?M/Math.sin(M):1,t.x=this.x0+this.a*B*i*Math.sin(s),t.y=this.y0+this.a*B*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(a=aB(this.es),o=oB(this.es),l=lB(this.es),u=cB(this.es),Math.abs(this.sin_p12-1)<=Hr?(h=this.a*Vh(a,o,l,u,vr),d=this.a*Vh(a,o,l,u,n),t.x=this.x0+(h-d)*Math.sin(s),t.y=this.y0-(h-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=Hr?(h=this.a*Vh(a,o,l,u,vr),d=this.a*Vh(a,o,l,u,n),t.x=this.x0+(h+d)*Math.sin(s),t.y=this.y0+(h+d)*Math.cos(s),t):(f=r/i,A=LS(this.a,this.e,this.sin_p12),m=LS(this.a,this.e,r),g=Math.atan((1-this.es)*f+this.es*A*this.sin_p12/(m*i)),y=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(s)),y===0?L=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):Math.abs(Math.abs(y)-Math.PI)<=Hr?L=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):L=Math.asin(Math.sin(s)*Math.cos(g)/Math.sin(y)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(y)/Math.sqrt(1-this.es),S=_*x,C=x*x,I=L*L,k=I*L,O=k*L,F=O*L,M=A*L*(1-I*C*(1-C)/6+k/8*S*(1-2*C)+O/120*(C*(4-7*C)-3*_*_*(1-7*C))-F/48*S),t.x=this.x0+M*Math.sin(y),t.y=this.y0+M*Math.cos(y),t))}function Nwt(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,a,o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,B,E,L;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*vr*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=Hr?a=this.lat0:(a=Ey(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-vr,Math.abs(o)<=Hr?this.lat0>=0?s=ti(this.long0+Math.atan2(t.x,-t.y)):s=ti(this.long0-Math.atan2(-t.x,t.y)):s=ti(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=a,t)):(l=aB(this.es),u=oB(this.es),h=lB(this.es),d=cB(this.es),Math.abs(this.sin_p12-1)<=Hr?(f=this.a*Vh(l,u,h,d,vr),e=Math.sqrt(t.x*t.x+t.y*t.y),A=f-e,a=fN(A/this.a,l,u,h,d),s=ti(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=Hr?(f=this.a*Vh(l,u,h,d,vr),e=Math.sqrt(t.x*t.x+t.y*t.y),A=e-f,a=fN(A/this.a,l,u,h,d),s=ti(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),m=LS(this.a,this.e,this.sin_p12),_=Math.cos(y),x=this.e*this.cos_p12*_,S=-x*x/(1-this.es),C=3*this.es*(1-S)*this.sin_p12*this.cos_p12*_/(1-this.es),M=e/m,B=M-S*(1+S)*Math.pow(M,3)/6-C*(1+3*S)*Math.pow(M,4)/24,E=1-S*B*B/2-M*B*B*B/6,g=Math.asin(this.sin_p12*Math.cos(B)+this.cos_p12*Math.sin(B)*_),s=ti(this.long0+Math.asin(Math.sin(y)*Math.sin(B)/Math.cos(g))),L=Math.sin(g),a=Math.atan2((L-this.es*E*this.sin_p12)*Math.tan(g),L*(1-this.es)),t.x=s,t.y=a,t))}var Dwt=["Azimuthal_Equidistant","aeqd"];const kwt={init:Fwt,forward:Owt,inverse:Nwt,names:Dwt};function Uwt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Hwt(t){var e,n,r,i,s,a,o,l,u=t.x,h=t.y;return r=ti(u-this.long0),e=Math.sin(h),n=Math.cos(h),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*n*i,s=1,(a>0||Math.abs(a)<=Hr)&&(o=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=l,t}function Gwt(t){var e,n,r,i,s,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ey(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=Hr?(o=this.lat0,t.x=a,t.y=o,t):(o=Ey(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-vr,Math.abs(s)<=Hr?(this.lat0>=0?a=ti(this.long0+Math.atan2(t.x,-t.y)):a=ti(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=ti(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=o,t))}var Vwt=["ortho"];const zwt={init:Uwt,forward:Hwt,inverse:Gwt,names:Vwt};var il={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ka={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function $wt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=vr-ja/2?this.face=il.TOP:this.lat0<=-(vr-ja/2)?this.face=il.BOTTOM:Math.abs(this.long0)<=ja?this.face=il.FRONT:Math.abs(this.long0)<=vr+ja?this.face=this.long0>0?il.RIGHT:il.LEFT:this.face=il.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Qwt(t){var e={x:0,y:0},n,r,i,s,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===il.TOP)s=vr-n,r>=ja&&r<=vr+ja?(l.value=Ka.AREA_0,i=r-vr):r>vr+ja||r<=-(vr+ja)?(l.value=Ka.AREA_1,i=r>0?r-vu:r+vu):r>-(vr+ja)&&r<=-ja?(l.value=Ka.AREA_2,i=r+vr):(l.value=Ka.AREA_3,i=r);else if(this.face===il.BOTTOM)s=vr+n,r>=ja&&r<=vr+ja?(l.value=Ka.AREA_0,i=-r+vr):r<ja&&r>=-ja?(l.value=Ka.AREA_1,i=-r):r<-ja&&r>=-(vr+ja)?(l.value=Ka.AREA_2,i=-r-vr):(l.value=Ka.AREA_3,i=r>0?-r+vu:-r-vu);else{var u,h,d,f,A,m,g;this.face===il.RIGHT?r=PE(r,+vr):this.face===il.BACK?r=PE(r,3.14159265359):this.face===il.LEFT&&(r=PE(r,-vr)),f=Math.sin(n),A=Math.cos(n),m=Math.sin(r),g=Math.cos(r),u=A*g,h=A*m,d=f,this.face===il.FRONT?(s=Math.acos(u),i=OI(s,d,h,l)):this.face===il.RIGHT?(s=Math.acos(h),i=OI(s,d,-u,l)):this.face===il.BACK?(s=Math.acos(-u),i=OI(s,d,-h,l)):this.face===il.LEFT?(s=Math.acos(-h),i=OI(s,d,u,l)):(s=i=0,l.value=Ka.AREA_0)}return o=Math.atan(12/vu*(i+Math.acos(Math.sin(i)*Math.cos(ja))-vr)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Ka.AREA_1?o+=vr:l.value===Ka.AREA_2?o+=vu:l.value===Ka.AREA_3&&(o+=1.5*vu),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function Wwt(t){var e={lam:0,phi:0},n,r,i,s,a,o,l,u,h,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ka.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ka.AREA_1,n-=vr):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ka.AREA_2,n=n<0?n+vu:n-vu):(d.value=Ka.AREA_3,n+=vr),h=vu/12*Math.tan(n),a=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===il.TOP)u=Math.acos(l),e.phi=vr-u,d.value===Ka.AREA_0?e.lam=o+vr:d.value===Ka.AREA_1?e.lam=o<0?o+vu:o-vu:d.value===Ka.AREA_2?e.lam=o-vr:e.lam=o;else if(this.face===il.BOTTOM)u=Math.acos(l),e.phi=u-vr,d.value===Ka.AREA_0?e.lam=-o+vr:d.value===Ka.AREA_1?e.lam=-o:d.value===Ka.AREA_2?e.lam=-o-vr:e.lam=o<0?-o-vu:-o+vu;else{var f,A,m;f=l,h=f*f,h>=1?m=0:m=Math.sqrt(1-h)*Math.sin(o),h+=m*m,h>=1?A=0:A=Math.sqrt(1-h),d.value===Ka.AREA_1?(h=A,A=-m,m=h):d.value===Ka.AREA_2?(A=-A,m=-m):d.value===Ka.AREA_3&&(h=A,A=m,m=-h),this.face===il.RIGHT?(h=f,f=-A,A=h):this.face===il.BACK?(f=-f,A=-A):this.face===il.LEFT&&(h=f,f=A,A=-h),e.phi=Math.acos(-m)-vr,e.lam=Math.atan2(A,f),this.face===il.RIGHT?e.lam=PE(e.lam,-vr):this.face===il.BACK?e.lam=PE(e.lam,-3.14159265359):this.face===il.LEFT&&(e.lam=PE(e.lam,+vr))}if(this.es!==0){var g,y,_;g=e.phi<0?1:0,y=Math.tan(e.phi),_=this.b/Math.sqrt(y*y+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),g&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function OI(t,e,n,r){var i;return t<Hr?(r.value=Ka.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=ja?r.value=Ka.AREA_0:i>ja&&i<=vr+ja?(r.value=Ka.AREA_1,i-=vr):i>vr+ja||i<=-(vr+ja)?(r.value=Ka.AREA_2,i=i>=0?i-vu:i+vu):(r.value=Ka.AREA_3,i+=vr)),i}function PE(t,e){var n=t+e;return n<-3.14159265359?n+=JM:n>3.14159265359&&(n-=JM),n}var jwt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Kwt={init:$wt,forward:Qwt,inverse:Wwt,names:jwt};var GG=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],oT=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],yme=.8487,_me=1.3523,wme=qg/5,qwt=1/wme,iE=18,AN=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Xwt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Ywt(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function Zwt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Jwt(t){var e=ti(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*wme);r<0?r=0:r>=iE&&(r=iE-1),n=qg*(n-qwt*r);var i={x:AN(GG[r],n)*e,y:AN(oT[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*yme+this.x0,i.y=i.y*this.a*_me+this.y0,i}function ebt(t){var e={x:(t.x-this.x0)/(this.a*yme),y:Math.abs(t.y-this.y0)/(this.a*_me)};if(e.y>=1)e.x/=GG[iE][0],e.y=t.y<0?-vr:vr;else{var n=Math.floor(e.y*iE);for(n<0?n=0:n>=iE&&(n=iE-1);;)if(oT[n][0]>e.y)--n;else if(oT[n+1][0]<=e.y)++n;else break;var r=oT[n],i=5*(e.y-r[0])/(oT[n+1][0]-r[0]);i=Ywt(function(s){return(AN(r,s)-e.y)/Xwt(r,s)},i,Hr,100),e.x/=AN(GG[n],i),e.y=(5*n+i)*Au,t.y<0&&(e.y=-e.y)}return e.x=ti(e.x+this.long0),e}var tbt=["Robinson","robin"];const nbt={init:Zwt,forward:Jwt,inverse:ebt,names:tbt};function rbt(){this.name="geocent"}function ibt(t){var e=ame(t,this.es,this.a);return e}function sbt(t){var e=ome(t,this.es,this.a,this.b);return e}var abt=["Geocentric","geocentric","geocent","Geocent"];const obt={init:rbt,forward:ibt,inverse:sbt,names:abt};var qu={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},R2={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function lbt(){if(Object.keys(R2).forEach((function(n){if(typeof this[n]>"u")this[n]=R2[n].def;else{if(R2[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);R2[n].num&&(this[n]=parseFloat(this[n]))}R2[n].degrees&&(this[n]=this[n]*Au)}).bind(this)),Math.abs(Math.abs(this.lat0)-vr)<Hr?this.mode=this.lat0<0?qu.S_POLE:qu.N_POLE:Math.abs(this.lat0)<Hr?this.mode=qu.EQUIT:(this.mode=qu.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function cbt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case qu.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case qu.EQUIT:s=n*r;break;case qu.S_POLE:s=-e;break;case qu.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case qu.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case qu.EQUIT:s*=e;break;case qu.N_POLE:s*=-(n*r);break;case qu.S_POLE:s*=n*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,t.x=i*this.a,t.y=s*this.a,t}function ubt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=sA(t.x,t.y);if(Math.abs(s)<Hr)e.x=0,e.y=t.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case qu.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/s),t.y=(a-this.sinph0*Math.sin(e.y))*s,t.x*=o*this.cosph0;break;case qu.EQUIT:e.y=Math.asin(t.y*o/s),t.y=a*s,t.x*=o;break;case qu.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case qu.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var hbt=["Tilted_Perspective","tpers"];const dbt={init:lbt,forward:cbt,inverse:ubt,names:hbt};function fbt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Abt(t){var e=t.x,n=t.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/sA(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),s=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/sA(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/sA(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/sA(a,r)),t.y=this.radius_g_1*Math.atan(a/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(a/sA(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function pbt(t){var e=-1,n=0,r=0,i,s,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*sA(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*sA(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var gbt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const mbt={init:fbt,forward:Abt,inverse:pbt,names:gbt};var QT=1.340264,WT=-.081106,jT=893e-6,KT=.003796,pN=Math.sqrt(3)/2;function vbt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function ybt(t){var e=ti(t.x-this.long0),n=t.y,r=Math.asin(pN*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(pN*(QT+3*WT*i+s*(7*jT+9*KT*i))),t.y=r*(QT+WT*i+s*(jT+KT*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function _bt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,a,o,l,u;for(u=0;u<n&&(i=r*r,s=i*i*i,a=r*(QT+WT*i+s*(jT+KT*i))-t.y,o=QT+3*WT*i+s*(7*jT+9*KT*i),r-=l=a/o,!(Math.abs(l)<e));++u);return i=r*r,s=i*i*i,t.x=pN*t.x*(QT+3*WT*i+s*(7*jT+9*KT*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/pN),t.x=ti(t.x+this.long0),t}var wbt=["eqearth","Equal Earth","Equal_Earth"];const bbt={init:vbt,forward:ybt,inverse:_bt,names:wbt};function xbt(t){t.Proj.projections.add(_F),t.Proj.projections.add(wF),t.Proj.projections.add(S_t),t.Proj.projections.add(F_t),t.Proj.projections.add(H_t),t.Proj.projections.add(Q_t),t.Proj.projections.add(Y_t),t.Proj.projections.add(n1t),t.Proj.projections.add(o1t),t.Proj.projections.add(d1t),t.Proj.projections.add(L1t),t.Proj.projections.add(O1t),t.Proj.projections.add(H1t),t.Proj.projections.add(W1t),t.Proj.projections.add(Y1t),t.Proj.projections.add(nwt),t.Proj.projections.add(owt),t.Proj.projections.add(dwt),t.Proj.projections.add(vwt),t.Proj.projections.add(xwt),t.Proj.projections.add(Mwt),t.Proj.projections.add(Pwt),t.Proj.projections.add(kwt),t.Proj.projections.add(zwt),t.Proj.projections.add(Kwt),t.Proj.projections.add(nbt),t.Proj.projections.add(obt),t.Proj.projections.add(dbt),t.Proj.projections.add(mbt),t.Proj.projections.add(bbt)}Hd.defaultDatum="WGS84";Hd.Proj=rm;Hd.WGS84=new Hd.Proj("WGS84");Hd.Point=MS;Hd.toPoint=lme;Hd.defs=Fh;Hd.nadgrid=Tyt;Hd.transform=dN;Hd.mgrs=zyt;Hd.version="__VERSION__";xbt(Hd);const Ebt=Me({__name:"OlProjectionRegister",props:{projectionName:{},projectionDef:{},projectionExtent:{}},setup(t,{expose:e}){const n=t,{projectionName:r,projectionDef:i,projectionExtent:s}=Yo(n);Hd.defs(r.value,i.value),act(Hd);const a=new hm({code:r.value,extent:s.value});return e({projection:a}),(o,l)=>lt("",!0)}});function bme(t){if(t)return typeof t=="string"||t instanceof hm?t:new hm(t)}const Sbt=Me({inheritAttrs:!1,__name:"OlView",props:{center:{},constrainRotation:{type:[Number,Boolean]},enableRotation:{type:Boolean,default:!0},extent:{},constrainOnlyCenter:{type:Boolean},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{},minResolution:{},maxZoom:{},minZoom:{},multiWorld:{type:Boolean},constrainResolution:{type:Boolean},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean},projection:{},resolution:{},resolutions:{},rotation:{},zoom:{},zoomFactor:{},padding:{}},emits:["change","error","propertychange","change:center","change:resolution","change:rotation"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=()=>({...i,projection:bme(i.projection)}),a=new iA(s());return Lu(a,["change:center","change:resolution","change:rotation"]),rr(()=>{r==null||r.setView(a)}),Ct(i,()=>{const Ie=s();a.setProperties(Ie),a.applyOptions_(Ie)}),e({view:a,adjustCenter:Ie=>a.adjustCenter(Ie),adjustResolution:(Ie,Qe)=>a.adjustResolution(Ie,Qe),adjustRotation:(Ie,Qe)=>a.adjustRotation(Ie,Qe),adjustZoom:(Ie,Qe)=>a.adjustZoom(Ie,Qe),animate:(...Ie)=>a.animate(...Ie),beginInteraction:()=>a.beginInteraction(),calculateExtent:Ie=>a.calculateExtent(Ie),cancelAnimations:()=>a.cancelAnimations(),centerOn:(Ie,Qe,ue)=>a.centerOn(Ie,Qe,ue),changed:()=>a.changed(),dispatchEvent:Ie=>a.dispatchEvent(Ie),endInteraction:(Ie,Qe,ue)=>a.endInteraction(Ie,Qe,ue),fit:(Ie,Qe)=>a.fit(Ie,Qe),get:Ie=>a.get(Ie),getAnimating:()=>a.getAnimating(),getCenter:()=>a.getCenter(),getInteracting:()=>a.getInteracting(),getKeys:()=>a.getKeys(),getMaxResolution:()=>a.getMaxResolution(),getMaxZoom:()=>a.getMaxZoom(),getMinResolution:()=>a.getMinResolution(),getMinZoom:()=>a.getMinZoom(),getProjection:()=>a.getProjection(),getProperties:()=>a.getProperties(),getResolution:()=>a.getResolution(),getResolutionForExtent:(Ie,Qe)=>a.getResolutionForExtent(Ie,Qe),getResolutionForZoom:Ie=>a.getResolutionForZoom(Ie),getResolutions:()=>a.getResolutions(),getRevision:()=>a.getRevision(),getRotation:()=>a.getRotation(),getZoom:()=>a.getZoom(),getZoomForResolution:Ie=>a.getZoomForResolution(Ie),setCenter:Ie=>a.setCenter(Ie),setConstrainResolution:Ie=>a.setConstrainResolution(Ie),setMaxZoom:Ie=>a.setMaxZoom(Ie),setMinZoom:Ie=>a.setMinZoom(Ie),setResolution:Ie=>a.setResolution(Ie),setRotation:Ie=>a.setRotation(Ie),setZoom:Ie=>a.setZoom(Ie)}),(Ie,Qe)=>lt("",!0)}});function Cbt(t,e){t.component("OlFeature",P0t),t.component("OlGeolocation",k0t),t.component("OlMap",H0t),t.component("OlOverlay",G0t),t.component("OlProjectionRegister",Ebt),t.component("OlView",Sbt),e&&t.provide("ol-options",e)}function qv(t,e,n=[]){const r=ds(e),i=Cs(new t(r));Lu(i,[...O0t,...n]);const s=qt("map"),a=qt("layerGroup",null),o=qt("overviewMap",null),l=ge(!1);function u(){var d;for(const f in r){const A=f;r[A]!==void 0&&i.value.set(f,r[A])}if(i.value.setOpacity(r.opacity),i.value.setVisible(r.visible),!l.value){if(a){const f=a.getLayers();f.push(i.value),a.setLayers(f)}else o!=null&&o.value?(d=o.value)==null||d.getOverviewMap().addLayer(i.value):s==null||s.addLayer(i.value);l.value=!0}}function h(){var d,f;a?a.getLayers().remove(i.value):o!=null&&o.value?((d=o.value)==null||d.getOverviewMap().removeLayer(i.value),(f=o.value)==null||f.changed()):s==null||s.removeLayer(i.value),l.value=!1}return ca(h),Ct(()=>r,u,{deep:!0,immediate:!0}),o!=null&&o.value&&Ct(o,()=>{h(),u()}),{layer:i,map:s}}const Tbt={className:"ol-layer",opacity:1,visible:!0,properties:()=>({}),displayInLayerSwitcher:!0};function zy(t){return{...Tbt,...t}}const Mbt=Me({inheritAttrs:!1,__name:"OlAnimatedClusterlayer",props:Xh({distance:{},animationDuration:{},easingFunction:{type:Function},animationMethod:{type:Function},className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},renderOrder:{type:Function},renderBuffer:{},source:{},map:{},declutter:{type:[String,Number,Boolean]},style:{type:[Object,Array,Function,null]},background:{type:[String,Function]},updateWhileAnimating:{type:Boolean},updateWhileInteracting:{type:Boolean},properties:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","addfeature","changefeature","clear","featuresloadend","featuresloaderror","featuresloadstart","removefeature"],setup(t,{expose:e}){const n=t,r=Cs(new ipe({distance:n.distance,geometryFunction:a=>a.getGeometry()})),{layer:i,map:s}=qv(cht,{...n,source:r.value},Zge);return Ct(()=>n.distance,a=>{r.value.setDistance(a)}),dr("vectorLayer",r),dr("stylable",i),e({vectorLayer:i,map:s}),(a,o)=>(ie(),Ee("div",null,[tt(a.$slots,"default")]))}}),Lbt=Me({__name:"OlHeatmapLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},source:{},map:{},render:{type:Function},properties:{},gradient:{},radius:{},blur:{},weight:{type:[String,Function]},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","change:blur","change:gradient","change:radius"],setup(t,{expose:e}){const n=t,{layer:r}=qv(Gpe,n,["change:blur","change:extent","change:gradient","change:radius"]);return dr("heatmapLayer",r),dr("stylable",r),e({heatmapLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Bbt=Me({__name:"OlImageLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},map:{},source:{},properties:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender"],setup(t,{expose:e}){const n=t,{layer:r}=qv(Ape,n);return dr("imageLayer",r),e({imageLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Rbt=Me({inheritAttrs:!1,__name:"OlLayerGroup",props:{opacity:{default:1},visible:{type:Boolean,default:!0},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},layers:{},properties:{default:()=>({})},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean,default:!0}},emits:["change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","change:layers"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=Cs(new Hy(i));Lu(s,["change:extent","change:layers","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:visible","change:zIndex"]);const a=qt("layerGroup",null);return Ct(()=>i,o=>{for(const l in o){const u=l;o[u]!==void 0&&s.value.set(l,o[u])}},{deep:!0}),rr(()=>{if(r==null||r.addLayer(s.value),a){const o=a.getLayers();o.push(s.value),a.setLayers(o)}}),ca(()=>{r==null||r.removeLayer(s.value)}),dr("layerGroup",s.value),e({layerGroup:s.value}),(o,l)=>(ie(),Ee("div",null,[tt(o.$slots,"default")]))}}),Ibt=Me({__name:"OlTileLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},preload:{},source:{},map:{},useInterimTilesOnError:{type:Boolean},properties:{},cacheSize:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy({preload:1})),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","change:useInterimTilesOnError","change:preload"],setup(t,{expose:e}){const n=t,{layer:r}=qv(bG,Yo(n),["change:useInterimTilesOnError","change:preload"]);return dr("tileLayer",r),e({tileLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Pbt=Me({__name:"OlVectorLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},renderOrder:{type:Function},renderBuffer:{},source:{},map:{},declutter:{type:[String,Number,Boolean]},style:{type:[Object,Array,Function,null]},background:{type:[String,Function]},updateWhileAnimating:{type:Boolean},updateWhileInteracting:{type:Boolean},properties:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender"],setup(t,{expose:e}){const n=t,{layer:r}=qv(fm,n);return dr("vectorLayer",r),dr("stylable",r),e({vectorLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Fbt=Me({__name:"OlVectorTileLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},renderOrder:{type:Function},renderBuffer:{},renderMode:{},source:{},map:{},declutter:{type:[String,Number,Boolean]},style:{type:[Object,Array,Function,null]},background:{type:[String,Function]},updateWhileAnimating:{type:Boolean},updateWhileInteracting:{type:Boolean},preload:{},useInterimTilesOnError:{type:Boolean},properties:{},cacheSize:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender"],setup(t,{expose:e}){const n=t,{layer:r}=qv(Vpe,n);return dr("vectorTileLayer",r),dr("stylable",r),e({vectorTileLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Obt=Me({__name:"OlVectorImageLayer",props:Xh({className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},renderOrder:{type:Function},renderBuffer:{},source:{},map:{},declutter:{type:[String,Number,Boolean]},style:{type:[Object,Array,Function,null]},background:{type:[String,Function]},imageRatio:{},properties:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender"],setup(t,{expose:e}){const n=t,{layer:r}=qv(Qht,n);return dr("vectorLayer",r),dr("stylable",r),e({vectorImageLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),Nbt=Me({__name:"OlWebglTileLayer",props:Xh({style:{},className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},preload:{},source:{},sources:{type:[Array,Function]},map:{},useInterimTilesOnError:{type:Boolean},cacheSize:{},properties:{},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},zy()),emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender","change:useInterimTilesOnError","change:preload"],setup(t,{expose:e}){const n=t,{layer:r}=qv($pe,n,["change:useInterimTilesOnError","change:preload"]);return dr("tileLayer",r),e({tileLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}}),xme=class Eme extends xw{constructor(e){Eme.options=e,super(e)}createRenderer(){return new cdt(this,{className:this.getClassName(),style:this.getProperties().style})}};MD(xme,"options",{});let Dbt=xme;const kbt=Me({__name:"OlWebglVectorLayer",props:{className:{},opacity:{},visible:{type:Boolean},extent:{},zIndex:{},minResolution:{},maxResolution:{},minZoom:{},maxZoom:{},source:{},map:{},render:{},properties:{},disableHitDetection:{type:Boolean,default:!1},styles:{default:()=>({"shape-points":1,"shape-radius":10,"shape-opacity":.5,"shape-fill-color":"blue"})},openInLayerSwitcher:{type:Boolean},title:{},name:{},allwaysOnTop:{type:Boolean},baseLayer:{type:Boolean},displayInLayerSwitcher:{type:Boolean}},emits:["sourceready","change","error","propertychange","change:extent","change:maxResolution","change:maxZoom","change:minResolution","change:minZoom","change:opacity","change:source","change:visible","change:zIndex","postrender","prerender"],setup(t,{expose:e}){const n=t,{layer:r}=qv(Dbt,n);return dr("webglVectorLayer",r),e({webglVectorLayer:r}),(i,s)=>(ie(),Ee("div",null,[tt(i.$slots,"default")]))}});function Ubt(t,e){t.component("OlAnimatedClusterlayer",Mbt),t.component("OlHeatmapLayer",Lbt),t.component("OlImageLayer",Bbt),t.component("OlLayerGroup",Rbt),t.component("OlTileLayer",Ibt),t.component("OlVectorImageLayer",Obt),t.component("OlVectorLayer",Pbt),t.component("OlVectorTileLayer",Fbt),t.component("OlWebglTileLayer",Nbt),t.component("OlWebglVectorLayer",kbt),e&&t.provide("ol-options",e)}function ch(t,e,n,r=[],i){function s(){return ds({...n,...n.projection?{projection:bme(n.projection)}:{}})}const a=Cs(new t(s()));o();function o(){var h,d;(h=e==null?void 0:e.value)==null||h.setSource(null);const f=s();a.value.setProperties(f);for(const A in f){const m=A;f[m]!==void 0&&a.value.set(A,f[m])}return i&&i(a.value),(d=e==null?void 0:e.value)==null||d.setSource(a.value),Lu(a,[...Yge,...l(),...r]),a}function l(){const h=a.value;return h instanceof Qv?Zge:h instanceof dD?N0t:h instanceof j9?D0t:[]}function u(){var h;(h=e==null?void 0:e.value)==null||h.setSource(null)}return ca(u),Ct(a,o),Ct(()=>e,o),Ct(()=>n,o,{deep:!0}),{source:a,updateSource:o,removeSource:u}}const Hbt=Me({inheritAttrs:!1,__name:"OlSourceBingmaps",props:{cacheSize:{},hidpi:{type:Boolean},culture:{},imagerySet:{},interpolate:{type:Boolean,default:!0},maxZoom:{},reprojectionErrorThreshold:{},tileLoadFunction:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{},placeholderTiles:{type:Boolean},apiKey:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(xct,r,{...n,key:n.apiKey});return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Gbt=Me({inheritAttrs:!1,__name:"OlSourceCluster",props:{attributions:{},distance:{},minDistance:{},geometryFunction:{},createCluster:{},source:{},wrapX:{type:Boolean,default:!0}},emits:["addfeature","changefeature","clear","featuresloadend","featuresloaderror","featuresloadstart","removefeature","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("vectorLayer"),{source:i}=ch(ipe,r,n);return dr("vectorLayer",i),e({layer:r,source:i}),(s,a)=>(ie(),Ee("div",null,[tt(s.$slots,"default")]))}}),Vbt=Me({inheritAttrs:!1,__name:"OlSourceImageStatic",props:{attributions:{},crossOrigin:{},imageExtent:{},imageLoadFunction:{},interpolate:{type:Boolean,default:!0},projection:{},url:{}},emits:["imageloadend","imageloaderror","imageloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("imageLayer"),{source:i}=ch(Aut,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),zbt=Me({inheritAttrs:!1,__name:"OlSourceImageWms",props:{attributions:{},crossOrigin:{},hidpi:{type:Boolean,default:!0},serverType:{default:"mapserver"},imageLoadFunction:{},interpolate:{type:Boolean,default:!0},params:{},projection:{},ratio:{default:1},resolutions:{},url:{},layers:{},styles:{default:""},time:{}},emits:["imageloadend","imageloaderror","imageloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("imageLayer"),{source:i}=ch(wut,r,{...n,params:{...n.params,LAYERS:n.layers,STYLES:n.styles,TIME:n.time}});return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),$bt=Me({inheritAttrs:!1,__name:"OlSourceOsm",props:{attributions:{},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},maxZoom:{},reprojectionErrorThreshold:{},tileLoadFunction:{},transition:{},url:{},wrapX:{type:Boolean,default:!0},zDirection:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(Tut,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Qbt=Me({inheritAttrs:!1,__name:"OlSourceStadiaMaps",props:{cacheSize:{},interpolate:{type:Boolean,default:!0},layer:{},minZoom:{},maxZoom:{},reprojectionErrorThreshold:{},tileLoadFunction:{},transition:{},url:{},wrapX:{type:Boolean,default:!0},zDirection:{},apiKey:{},retina:{type:Boolean}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(Dut,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),RD=class Pg extends vpe{constructor(e){Pg.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},Pg.layerZoomMap={vec:18,ter:14,img:18};const n={...e};n.layerType=n.layerType||"vec",n.layerType=n.isLabel?Pg.layerLabelMap[n.layerType]:n.layerType,n.matrixSet=n.projection==="EPSG:4326"||n.projection==="EPSG:4490"?"c":"w",!n.url&&!n.urls&&(n.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),n.tk&&(n.url="".concat(n.url,"tk=").concat(n.tk)),n.url=(n.url||"").replace("{layer}",n.layerType).replace("{proj}",n.matrixSet);const r=n.tileGrid||Pg.getTileGrid(n.projection),i=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s={version:n.version||"1.0.0",format:n.format||"tiles",dimensions:n.dimensions||{},layer:n.layerType,matrixSet:n.matrixSet,tileGrid:r,style:n.style||"default",cacheSize:n.cacheSize,crossOrigin:i,maxZoom:Pg.layerZoomMap[n.layerType],reprojectionErrorThreshold:n.reprojectionErrorThreshold,url:n.url,urls:n.urls,projection:n.projection||"EPSG:3857",wrapX:n.wrapX};n.tileProxy&&(Pg.tileProxy=n.tileProxy,s.tileLoadFunction=(a,o)=>{a.getImage().src=Pg.tileProxy+encodeURIComponent(o)}),super(s)}static getTileGrid(e){return e==="EPSG:4326"||e==="EPSG:4490"?Pg.default4326TileGrid():Pg.default3857TileGrid()}static default4326TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(.703125*2/2**i),n.push(i.toString());return new mG({extent:[-180,-90,180,90],resolutions:e,origin:[-180,90],matrixIds:n})}static default3857TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(78271.51696402031*2/2**i),n.push(i.toString());return new mG({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:e,matrixIds:n,origin:[-200375083427892e-7,200375083427892e-7]})}};MD(RD,"layerLabelMap",{});MD(RD,"layerZoomMap",{});MD(RD,"tileProxy");let Wbt=RD;const jbt=Me({inheritAttrs:!1,__name:"OlSourceTianditu",props:{attributions:{},attributionsCollapsible:{type:Boolean},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean},tileGrid:{},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{},requestEncoding:{default:"KVP"},layer:{},style:{},tileClass:{},tilePixelRatio:{},format:{},version:{default:"1.0.0"},matrixSet:{},dimensions:{default:()=>({})},url:{},tileLoadFunction:{type:Function,default:(t,e)=>{t.getImage().src=e}},urls:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{},tileProxy:{},layerType:{default:"img"},tk:{},isLabel:{type:Boolean,default:!1},maxZoom:{default:21}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(Wbt,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Kbt=Me({inheritAttrs:!1,__name:"OlSourceTileArcgisRest",props:{attributions:{},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},params:{},hidpi:{type:Boolean,default:!0},tileGrid:{},projection:{},reprojectionErrorThreshold:{},tileLoadFunction:{},url:{},wrapX:{type:Boolean,default:!0},transition:{},urls:{},zDirection:{},tileSize:{default:()=>[256,256]}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),i=J(()=>n.tileGrid||rC({tileSize:n.tileSize})),{source:s}=ch(kut,r,{...n,tileGrid:i.value});return e({tileLayer:r,source:s}),(a,o)=>lt("",!0)}}),qbt=Me({inheritAttrs:!1,__name:"OlSourceTileDebug",props:{projection:{},tileGrid:{},wrapX:{type:Boolean,default:!0},zDirection:{},template:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(Uut,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Xbt=Me({inheritAttrs:!1,__name:"OlSourceGeoTiff",props:{sources:{},sourceOptions:{},convertToRGB:{type:[Boolean,String]},normalize:{type:Boolean,default:!0},projection:{},transition:{},wrapX:{type:Boolean},interpolate:{type:Boolean,default:!0}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(spe,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Ybt=Me({inheritAttrs:!1,__name:"OlSourceTileJson",props:{attributions:{},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},jsonp:{type:Boolean},reprojectionErrorThreshold:{},tileJSON:{},tileLoadFunction:{},tileSize:{},url:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(Hut,r,n);return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Zbt=Me({inheritAttrs:!1,__name:"OlSourceTileWms",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},params:{},gutter:{},hidpi:{type:Boolean,default:!0},projection:{default:"EPSG:3857"},reprojectionErrorThreshold:{},tileClass:{},tileGrid:{},serverType:{},tileLoadFunction:{},url:{},urls:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{},layers:{},styles:{default:""}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i}=ch(mpe,r,{...n,params:{...n.params,LAYERS:n.layers,STYLES:n.styles},tileGrid:n.tileGrid});return e({layer:r,source:i}),(s,a)=>lt("",!0)}}),Jbt=Me({inheritAttrs:!1,__name:"OlSourceVector",props:{attributions:{},features:{},format:{},loader:{},overlaps:{type:Boolean,default:!0},strategy:{},url:{},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}},emits:["addfeature","changefeature","clear","featuresloadend","featuresloaderror","featuresloadstart","removefeature","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("vectorLayer",null),i=qt("heatmapLayer",null),s=qt("webglVectorLayer",null),a=i||r||s,{source:o,updateSource:l}=ch(Qv,a,n);return Ct(()=>n.features,(u,h)=>{if(u!==h&&(o.value.clear(),u)){const d=u instanceof Ec?u.getArray():u;o.value.addFeatures(d)}l()},{deep:!0}),Ct(()=>n.url,(u,h)=>{u!==h&&(o.value.clear(),u&&(o.value.setUrl(u),o.value.refresh())),l()}),dr("vectorSource",o),e({layer:a,source:o}),(u,h)=>(ie(),Ee("div",null,[tt(u.$slots,"default")]))}}),ext=Me({inheritAttrs:!1,__name:"OlSourceVectorTile",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},extent:{},format:{},overlaps:{type:Boolean,default:!0},projection:{},state:{},tileClass:{},maxZoom:{},minZoom:{},tileSize:{},maxResolution:{},tileGrid:{},tileLoadFunction:{},tileUrlFunction:{},url:{},transition:{},urls:{},wrapX:{type:Boolean,default:!0},zDirection:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("vectorTileLayer",null),{source:i}=ch(Sut,r,n);return dr("vectorSource",i),e({vectorTileLayer:r,source:i}),(s,a)=>(ie(),Ee("div",null,[tt(s.$slots,"default")]))}}),txt=Me({inheritAttrs:!1,__name:"OlSourceXyz",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},projection:{},reprojectionErrorThreshold:{},maxZoom:{},minZoom:{},maxResolution:{},tileGrid:{},tileLoadFunction:{},tilePixelRatio:{},tileSize:{},gutter:{},tileUrlFunction:{},url:{},urls:{},wrapX:{type:Boolean,default:!0},transition:{},zDirection:{}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),{source:i,updateSource:s}=ch(Q9,r,n,[],a=>{n.url&&a.setUrl(n.url)});return Ct(()=>n.url,()=>s()),e({layer:r,source:i}),(a,o)=>lt("",!0)}}),nxt=Me({inheritAttrs:!1,__name:"OlSourceWmts",props:{attributions:{},attributionsCollapsible:{type:Boolean,default:!0},cacheSize:{},crossOrigin:{},interpolate:{type:Boolean,default:!0},projection:{},reprojectionErrorThreshold:{},requestEncoding:{},layer:{},tileClass:{},tilePixelRatio:{},format:{},version:{},matrixSet:{},dimensions:{},url:{},tileLoadFunction:{},urls:{},wrapX:{type:Boolean},transition:{},zDirection:{},tileGrid:{},styles:{},tileZoomLevel:{default:30},tileMatrixPrefix:{default:""}},emits:["tileloadend","tileloaderror","tileloadstart","change","error","propertychange"],setup(t,{expose:e}){const n=t,r=qt("tileLayer"),i=J(()=>{var u;return(u=gi(n.projection))==null?void 0:u.getExtent()}),s=J(()=>i.value?Rf(i.value):void 0),a=J(()=>i.value?hs(i.value)/256:0),o=J(()=>{if(n.tileGrid)return n.tileGrid;const u=[n.tileZoomLevel],h=["".concat(n.tileZoomLevel)];for(let d=0;d<n.tileZoomLevel;++d)u[d]=a.value/Math.pow(2,d),h[d]=n.tileMatrixPrefix+d;return new mG({origin:s.value,resolutions:u,matrixIds:h})}),{source:l}=ch(vpe,r,{...n,style:n.styles,tileGrid:o.value});return e({tileLayer:r,source:l}),(u,h)=>lt("",!0)}});function rxt(t,e){t.component("OlSourceBingmaps",Hbt),t.component("OlSourceCluster",Gbt),t.component("OlSourceImageStatic",Vbt),t.component("OlSourceImageWms",zbt),t.component("OlSourceOsm",$bt),t.component("OlSourceStadiaMaps",Qbt),t.component("OlSourceTianditu",jbt),t.component("OlSourceTileArcgisRest",Kbt),t.component("OlSourceTileDebug",qbt),t.component("OlSourceGeoTiff",Xbt),t.component("OlSourceTileJson",Ybt),t.component("OlSourceTileWms",Zbt),t.component("OlSourceVector",Jbt),t.component("OlSourceVectorTile",ext),t.component("OlSourceXyz",txt),t.component("OlSourceWmts",nxt),e&&t.provide("ol-options",e)}function zl(t,e,n,r=[]){const i=qt("map"),s=qt("controlBar",null),a=s!==null?s==null?void 0:s.value:i,o=J(()=>new t({...e}));return Lu(o,r),o.value.set("order",n.order===void 0?0:n.order),Ct(o,(l,u)=>{if(a){if(a instanceof jg)a.removeControl(u),a.addControl(l);else if(a instanceof gF){if(a!=null&&a.controls_){const h=a==null?void 0:a.controls_.findIndex(d=>d===o.value);h&&(a==null||a.controls_.splice(h,1))}a.addControl(l)}i==null||i.changed()}}),rr(()=>{if(a&&(a instanceof jg||a instanceof gF)&&a.addControl(o.value),(a==null?void 0:a.controls_)!==void 0){const l=[...a.controls_];l.sort((u,h)=>u.get("order")-h.get("order")),a.controls_=[],a&&(a instanceof jg||a instanceof gF)&&l.forEach(u=>{a.addControl(u)}),a.changed()}i==null||i.changed()}),ca(()=>{if(a&&a instanceof jg)a==null||a.getControls().getArray().forEach(l=>{l instanceof t&&a.removeControl(l)});else if(a!=null&&a.controls_){const l=a==null?void 0:a.controls_.findIndex(u=>u===o.value);l&&(a==null||a.controls_.splice(l,1))}o.value.dispose(),i==null||i.changed()}),{map:i,control:o}}const ixt=Me({__name:"OlAttributionControl",props:{className:{},target:{},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{},label:{},expandClassName:{},collapseLabel:{},collapseClassName:{},render:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(_Ae,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),sxt=Me({__name:"OlButtonControl",props:{className:{},title:{},name:{},html:{},handleClick:{type:Function},element:{},render:{type:Function},target:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Qpe,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),axt=Me({inheritAttrs:!1,__name:"OlContextMenuControl",props:{width:{default:150},scrollAt:{},eventType:{default:"contextmenu"},defaultItems:{type:Boolean,default:!0},items:{default:()=>[]}},emits:["change","error","propertychange","beforeopen","open","close"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(vdt,i,r,["beforeopen","open","close"]);return e({control:s}),(a,o)=>lt("",!0)}}),oxt=Me({__name:"OlControlBar",props:{className:{},group:{type:Boolean,default:!0},toggleOne:{type:Boolean,default:!0},autoDeactivate:{type:Boolean},controls:{},element:{},render:{},target:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(gF,i,r);return dr("controlBar",s),e({control:s}),(a,o)=>tt(a.$slots,"default")}}),lxt=Me({__name:"OlFullscreenControl",props:{className:{},label:{},labelActive:{},activeClassName:{},inactiveClassName:{},tipLabel:{},keys:{type:Boolean},target:{},source:{}},emits:["change","error","propertychange","enterfullscreen","leavefullscreen"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(ydt,i,r,["enterfullscreen","leavefullscreen"]);return e({control:s}),(a,o)=>lt("",!0)}}),cxt=Me({__name:"OlLayerswitcherControl",props:{displayInLayerSwitcher:{},show_progress:{type:Boolean},mouseover:{type:Boolean},reordering:{type:Boolean,default:!0},trash:{type:Boolean},oninfo:{},extent:{type:Boolean},onExtent:{},drawDelay:{},collapsed:{type:Boolean,default:!0},layerGroup:{},noScroll:{type:Boolean},onchangeCheck:{},element:{},render:{},target:{}},emits:["change","error","propertychange","drawlist","layer:visible","layer:opacity","toggle","reorder-start","reorder-end"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(lQ,i,r,["drawlist","layer:visible","layer:opacity","toggle","reorder-start","reorder-end"]);return e({control:s}),(a,o)=>lt("",!0)}}),uxt=Me({__name:"OlLayerswitcherimageControl",props:{displayInLayerSwitcher:{},show_progress:{type:Boolean},mouseover:{type:Boolean},reordering:{type:Boolean,default:!0},trash:{type:Boolean},oninfo:{},extent:{type:Boolean},onExtent:{},drawDelay:{},collapsed:{type:Boolean,default:!0},layerGroup:{},noScroll:{type:Boolean},onchangeCheck:{},element:{},render:{},target:{}},emits:["change","error","propertychange","drawlist","layer:visible","layer:opacity","toggle","reorder-start","reorder-end"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(bdt,i,r,["drawlist","layer:visible","layer:opacity","toggle","reorder-start","reorder-end"]);return e({control:s}),(a,o)=>lt("",!0)}}),hxt=Me({__name:"OlMousepositionControl",props:{className:{},coordinateFormat:{},projection:{},render:{},target:{},placeholder:{},wrapX:{type:Boolean,default:!0}},emits:["change","error","propertychange","change:coordinateFormat","change:projection"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(xdt,i,r,["change:coordinateFormat","change:projection"]);return e({control:s}),(a,o)=>lt("",!0)}}),dxt=Me({__name:"OlOverviewmapControl",props:{className:{},collapsed:{type:Boolean,default:!0},collapseLabel:{},collapsible:{type:Boolean,default:!0},label:{},layers:{},render:{},rotateWithView:{type:Boolean},target:{},tipLabel:{},view:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Edt,i,r);return dr("overviewMap",s),e({control:s}),(a,o)=>(ie(),Ee("div",null,[tt(a.$slots,"default")]))}});var aA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sme={exports:{}};(function(t,e){(function(n,r){r()})(aA,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,h,d){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){l(f.response,h,d)},f.onerror=function(){console.error("could not download file")},f.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch(d){}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch(d){var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof aA=="object"&&aA.global===aA?aA:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,h,d){var f=a.URL||a.webkitURL,A=document.createElement("a");h=h||u.name||"download",A.download=h,A.rel="noopener",typeof u=="string"?(A.href=u,A.origin===location.origin?s(A):i(A.href)?r(u,h,d):s(A,A.target="_blank")):(A.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(A.href)},4e4),setTimeout(function(){s(A)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,d){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,d),h);else if(i(u))r(u,h,d);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){s(f)})}}:function(u,h,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return r(u,h,d);var A=u.type==="application/octet-stream",m=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||A&&m||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var S=y.result;S=g?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=S:location=S,f=null},y.readAsDataURL(u)}else{var _=a.URL||a.webkitURL,x=_.createObjectURL(u);f?f.location=x:location.href=x,f=null,setTimeout(function(){_.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(Sme);var Cme=Sme.exports;function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}var rh=Uint8Array,wf=Uint16Array,HQ=Int32Array,ID=new rh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),PD=new rh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VG=new rh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tme=function(t,e){for(var n=new wf(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new HQ(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Mme=Tme(ID,2),Lme=Mme.b,zG=Mme.r;Lme[28]=258,zG[258]=28;var Bme=Tme(PD,0),fxt=Bme.b,qte=Bme.r,$G=new wf(32768);for(var Ho=0;Ho<32768;++Ho){var C0=(Ho&43690)>>1|(Ho&21845)<<1;C0=(C0&52428)>>2|(C0&13107)<<2,C0=(C0&61680)>>4|(C0&3855)<<4,$G[Ho]=((C0&65280)>>8|(C0&255)<<8)>>1}var im=function(t,e,n){for(var r=t.length,i=0,s=new wf(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new wf(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new wf(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],d=a[t[i]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)o[$G[d]>>l]=u}else for(o=new wf(r),i=0;i<r;++i)t[i]&&(o[i]=$G[a[t[i]-1]++]>>15-t[i]);return o},Sy=new rh(288);for(var Ho=0;Ho<144;++Ho)Sy[Ho]=8;for(var Ho=144;Ho<256;++Ho)Sy[Ho]=9;for(var Ho=256;Ho<280;++Ho)Sy[Ho]=7;for(var Ho=280;Ho<288;++Ho)Sy[Ho]=8;var nL=new rh(32);for(var Ho=0;Ho<32;++Ho)nL[Ho]=5;var Axt=im(Sy,9,0),pxt=im(Sy,9,1),gxt=im(nL,5,0),mxt=im(nL,5,1),I3=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},KA=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},P3=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},GQ=function(t){return(t+7)/8|0},Rme=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new rh(t.subarray(e,n))},vxt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rp=function(t,e,n){var r=new Error(e||vxt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,rp),!n)throw r;return r},yxt=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new rh(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new rh(i*3));var u=function(Qe){var ue=n.length;if(Qe>ue){var ye=new rh(Math.max(ue*2,Qe));ye.set(n),n=ye}},h=e.f||0,d=e.p||0,f=e.b||0,A=e.l,m=e.d,g=e.m,y=e.n,_=i*8;do{if(!A){h=KA(t,d,1);var x=KA(t,d+1,3);if(d+=3,x)if(x==1)A=pxt,m=mxt,g=9,y=5;else if(x==2){var B=KA(t,d,31)+257,E=KA(t,d+10,15)+4,L=B+KA(t,d+5,31)+1;d+=14;for(var I=new rh(L),k=new rh(19),O=0;O<E;++O)k[VG[O]]=KA(t,d+O*3,7);d+=E*3;for(var F=I3(k),U=(1<<F)-1,$=im(k,F,1),O=0;O<L;){var K=$[KA(t,d,U)];d+=K&15;var S=K>>4;if(S<16)I[O++]=S;else{var V=0,Q=0;for(S==16?(Q=3+KA(t,d,3),d+=2,V=I[O-1]):S==17?(Q=3+KA(t,d,7),d+=3):S==18&&(Q=11+KA(t,d,127),d+=7);Q--;)I[O++]=V}}var X=I.subarray(0,B),z=I.subarray(B);g=I3(X),y=I3(z),A=im(X,g,1),m=im(z,y,1)}else rp(1);else{var S=GQ(d)+4,C=t[S-4]|t[S-3]<<8,M=S+C;if(M>i){l&&rp(0);break}o&&u(f+C),n.set(t.subarray(S,M),f),e.b=f+=C,e.p=d=M*8,e.f=h;continue}if(d>_){l&&rp(0);break}}o&&u(f+131072);for(var ne=(1<<g)-1,he=(1<<y)-1,W=d;;W=d){var V=A[P3(t,d)&ne],Y=V>>4;if(d+=V&15,d>_){l&&rp(0);break}if(V||rp(2),Y<256)n[f++]=Y;else if(Y==256){W=d,A=null;break}else{var oe=Y-254;if(Y>264){var O=Y-257,fe=ID[O];oe=KA(t,d,(1<<fe)-1)+Lme[O],d+=fe}var me=m[P3(t,d)&he],ce=me>>4;me||rp(3),d+=me&15;var z=fxt[ce];if(ce>3){var fe=PD[ce];z+=P3(t,d)&(1<<fe)-1,d+=fe}if(d>_){l&&rp(0);break}o&&u(f+131072);var be=f+oe;if(f<z){var xe=s-z,Ie=Math.min(z,be);for(xe+f<0&&rp(3);f<Ie;++f)n[f]=r[xe+f]}for(;f<be;++f)n[f]=n[f-z]}}e.l=A,e.p=W,e.b=f,e.f=h,A&&(h=1,e.m=g,e.d=m,e.n=y)}while(!h);return f!=n.length&&a?Rme(n,0,f):n.subarray(0,f)},Xm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},I2=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},F3=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Pme,l:0};if(i==1){var a=new rh(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(M,B){return M.f-B.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,h=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=h&&n[u].f<n[d].f?u++:d++],n[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var A=new wf(f+1),m=QG(n[h-1],A,0);if(m>e){var r=0,g=0,y=m-e,_=1<<y;for(s.sort(function(B,E){return A[E.s]-A[B.s]||B.f-E.f});r<i;++r){var x=s[r].s;if(A[x]>e)g+=_-(1<<m-A[x]),A[x]=e;else break}for(g>>=y;g>0;){var S=s[r].s;A[S]<e?g-=1<<e-A[S]++-1:++r}for(;r>=0&&g;--r){var C=s[r].s;A[C]==e&&(--A[C],++g)}m=e}return{t:new rh(A),l:m}},QG=function(t,e,n){return t.s==-1?Math.max(QG(t.l,e,n+1),QG(t.r,e,n+1)):e[t.s]=n},Xte=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new wf(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},P2=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Ime=function(t,e,n){var r=n.length,i=GQ(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Yte=function(t,e,n,r,i,s,a,o,l,u,h){Xm(e,h++,n),++i[256];for(var d=F3(i,15),f=d.t,A=d.l,m=F3(s,15),g=m.t,y=m.l,_=Xte(f),x=_.c,S=_.n,C=Xte(g),M=C.c,B=C.n,E=new wf(19),L=0;L<x.length;++L)++E[x[L]&31];for(var L=0;L<M.length;++L)++E[M[L]&31];for(var I=F3(E,7),k=I.t,O=I.l,F=19;F>4&&!k[VG[F-1]];--F);var U=u+5<<3,$=P2(i,Sy)+P2(s,nL)+a,K=P2(i,f)+P2(s,g)+a+14+3*F+P2(E,k)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&U<=$&&U<=K)return Ime(e,h,t.subarray(l,l+u));var V,Q,X,z;if(Xm(e,h,1+(K<$)),h+=2,K<$){V=im(f,A,0),Q=f,X=im(g,y,0),z=g;var ne=im(k,O,0);Xm(e,h,S-257),Xm(e,h+5,B-1),Xm(e,h+10,F-4),h+=14;for(var L=0;L<F;++L)Xm(e,h+3*L,k[VG[L]]);h+=3*F;for(var he=[x,M],W=0;W<2;++W)for(var Y=he[W],L=0;L<Y.length;++L){var oe=Y[L]&31;Xm(e,h,ne[oe]),h+=k[oe],oe>15&&(Xm(e,h,Y[L]>>5&127),h+=Y[L]>>12)}}else V=Axt,Q=Sy,X=gxt,z=nL;for(var L=0;L<o;++L){var fe=r[L];if(fe>255){var oe=fe>>18&31;I2(e,h,V[oe+257]),h+=Q[oe+257],oe>7&&(Xm(e,h,fe>>23&31),h+=ID[oe]);var me=fe&31;I2(e,h,X[me]),h+=z[me],me>3&&(I2(e,h,fe>>5&8191),h+=PD[me])}else I2(e,h,V[fe]),h+=Q[fe]}return I2(e,h,V[256]),h+Q[256]},_xt=new HQ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pme=new rh(0),wxt=function(t,e,n,r,i,s){var a=s.z||t.length,o=new rh(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var d=_xt[e-1],f=d>>13,A=d&8191,m=(1<<n)-1,g=s.p||new wf(32768),y=s.h||new wf(m+1),_=Math.ceil(n/3),x=2*_,S=function($e){return(t[$e]^t[$e+1]<<_^t[$e+2]<<x)&m},C=new HQ(25e3),M=new wf(288),B=new wf(32),E=0,L=0,I=s.i||0,k=0,O=s.w||0,F=0;I+2<a;++I){var U=S(I),$=I&32767,K=y[U];if(g[$]=K,y[U]=$,O<=I){var V=a-I;if((E>7e3||k>24576)&&(V>423||!u)){h=Yte(t,l,0,C,M,B,L,k,F,I-F,h),k=E=L=0,F=I;for(var Q=0;Q<286;++Q)M[Q]=0;for(var Q=0;Q<30;++Q)B[Q]=0}var X=2,z=0,ne=A,he=$-K&32767;if(V>2&&U==S(I-he))for(var W=Math.min(f,V)-1,Y=Math.min(32767,I),oe=Math.min(258,V);he<=Y&&--ne&&$!=K;){if(t[I+X]==t[I+X-he]){for(var fe=0;fe<oe&&t[I+fe]==t[I+fe-he];++fe);if(fe>X){if(X=fe,z=he,fe>W)break;for(var me=Math.min(he,fe-2),ce=0,Q=0;Q<me;++Q){var be=I-he+Q&32767,xe=g[be],Ie=be-xe&32767;Ie>ce&&(ce=Ie,K=be)}}}$=K,K=g[$],he+=$-K&32767}if(z){C[k++]=268435456|zG[X]<<18|qte[z];var Qe=zG[X]&31,ue=qte[z]&31;L+=ID[Qe]+PD[ue],++M[257+Qe],++B[ue],O=I+X,++E}else C[k++]=t[I],++M[t[I]]}}for(I=Math.max(I,O);I<a;++I)C[k++]=t[I],++M[t[I]];h=Yte(t,l,u,C,M,B,L,k,F,I-F,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=y,s.p=g,s.i=I,s.w=O)}else{for(var I=s.w||0;I<a+u;I+=65535){var ye=I+65535;ye>=a&&(l[h/8|0]=u,ye=a),h=Ime(l,h+1,t.subarray(I,ye))}s.i=a}return Rme(o,0,r+GQ(h)+i)},Fme=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},bxt=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new rh(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return wxt(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Ome=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},xxt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Fme();i.p(e.dictionary),Ome(t,2,i.d())}},Ext=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&rp(6,"invalid zlib data"),(t[1]>>5&1)==1&&rp(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function WG(t,e){e||(e={});var n=Fme();n.p(t);var r=bxt(t,e,e.dictionary?6:2,4);return xxt(r,e),Ome(r,r.length-4,n.d()),r}function Sxt(t,e){return yxt(t.subarray(Ext(t),-4),{i:2},e,e)}var Cxt=typeof TextDecoder<"u"&&new TextDecoder,Txt=0;try{Cxt.decode(Pme,{stream:!0}),Txt=1}catch(t){}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.2 Built on 2024-09-17T13:29:57.859Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ns=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O3(){ns.console&&typeof ns.console.log=="function"&&ns.console.log.apply(ns.console,arguments)}var vo={log:O3,warn:function(t){ns.console&&(typeof ns.console.warn=="function"?ns.console.warn.apply(ns.console,arguments):O3.call(null,arguments))},error:function(t){ns.console&&(typeof ns.console.error=="function"?ns.console.error.apply(ns.console,arguments):O3(t))}};function N3(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){X_(r.response,e,n)},r.onerror=function(){vo.error("could not download file")},r.send()}function Zte(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function NI(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qT,jG,X_=ns.saveAs||((typeof window>"u"?"undefined":Ba(window))!=="object"||window!==ns?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ns.URL||ns.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Zte(i.href)?N3(t,e,n):NI(i,i.target="_blank"):NI(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){NI(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Zte(t))N3(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){NI(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ba(s)!=="object"&&(vo.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return N3(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ns.HTMLElement)||ns.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ba(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(t)}else{var l=ns.URL||ns.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Nme(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D3(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=zu(n,r,i,s,e[0],7,-680876936),s=zu(s,n,r,i,e[1],12,-389564586),i=zu(i,s,n,r,e[2],17,606105819),r=zu(r,i,s,n,e[3],22,-1044525330),n=zu(n,r,i,s,e[4],7,-176418897),s=zu(s,n,r,i,e[5],12,1200080426),i=zu(i,s,n,r,e[6],17,-1473231341),r=zu(r,i,s,n,e[7],22,-45705983),n=zu(n,r,i,s,e[8],7,1770035416),s=zu(s,n,r,i,e[9],12,-1958414417),i=zu(i,s,n,r,e[10],17,-42063),r=zu(r,i,s,n,e[11],22,-1990404162),n=zu(n,r,i,s,e[12],7,1804603682),s=zu(s,n,r,i,e[13],12,-40341101),i=zu(i,s,n,r,e[14],17,-1502002290),n=$u(n,r=zu(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=$u(s,n,r,i,e[6],9,-1069501632),i=$u(i,s,n,r,e[11],14,643717713),r=$u(r,i,s,n,e[0],20,-373897302),n=$u(n,r,i,s,e[5],5,-701558691),s=$u(s,n,r,i,e[10],9,38016083),i=$u(i,s,n,r,e[15],14,-660478335),r=$u(r,i,s,n,e[4],20,-405537848),n=$u(n,r,i,s,e[9],5,568446438),s=$u(s,n,r,i,e[14],9,-1019803690),i=$u(i,s,n,r,e[3],14,-187363961),r=$u(r,i,s,n,e[8],20,1163531501),n=$u(n,r,i,s,e[13],5,-1444681467),s=$u(s,n,r,i,e[2],9,-51403784),i=$u(i,s,n,r,e[7],14,1735328473),n=Qu(n,r=$u(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Qu(s,n,r,i,e[8],11,-2022574463),i=Qu(i,s,n,r,e[11],16,1839030562),r=Qu(r,i,s,n,e[14],23,-35309556),n=Qu(n,r,i,s,e[1],4,-1530992060),s=Qu(s,n,r,i,e[4],11,1272893353),i=Qu(i,s,n,r,e[7],16,-155497632),r=Qu(r,i,s,n,e[10],23,-1094730640),n=Qu(n,r,i,s,e[13],4,681279174),s=Qu(s,n,r,i,e[0],11,-358537222),i=Qu(i,s,n,r,e[3],16,-722521979),r=Qu(r,i,s,n,e[6],23,76029189),n=Qu(n,r,i,s,e[9],4,-640364487),s=Qu(s,n,r,i,e[12],11,-421815835),i=Qu(i,s,n,r,e[15],16,530742520),n=Wu(n,r=Qu(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Wu(s,n,r,i,e[7],10,1126891415),i=Wu(i,s,n,r,e[14],15,-1416354905),r=Wu(r,i,s,n,e[5],21,-57434055),n=Wu(n,r,i,s,e[12],6,1700485571),s=Wu(s,n,r,i,e[3],10,-1894986606),i=Wu(i,s,n,r,e[10],15,-1051523),r=Wu(r,i,s,n,e[1],21,-2054922799),n=Wu(n,r,i,s,e[8],6,1873313359),s=Wu(s,n,r,i,e[15],10,-30611744),i=Wu(i,s,n,r,e[6],15,-1560198380),r=Wu(r,i,s,n,e[13],21,1309151649),n=Wu(n,r,i,s,e[4],6,-145523070),s=Wu(s,n,r,i,e[11],10,-1120210379),i=Wu(i,s,n,r,e[2],15,718787259),r=Wu(r,i,s,n,e[9],21,-343485551),t[0]=Z0(n,t[0]),t[1]=Z0(r,t[1]),t[2]=Z0(i,t[2]),t[3]=Z0(s,t[3])}function FD(t,e,n,r,i,s){return e=Z0(Z0(e,t),Z0(r,s)),Z0(e<<i|e>>>32-i,n)}function zu(t,e,n,r,i,s,a){return FD(e&n|~e&r,t,e,i,s,a)}function $u(t,e,n,r,i,s,a){return FD(e&r|n&~r,t,e,i,s,a)}function Qu(t,e,n,r,i,s,a){return FD(e^n^r,t,e,i,s,a)}function Wu(t,e,n,r,i,s,a){return FD(n^(e|~r),t,e,i,s,a)}function Dme(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)D3(r,Mxt(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(D3(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,D3(r,i),r}function Mxt(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}qT=ns.atob.bind(ns),jG=ns.btoa.bind(ns);var Jte="0123456789abcdef".split("");function Lxt(t){for(var e="",n=0;n<4;n++)e+=Jte[t>>8*n+4&15]+Jte[t>>8*n&15];return e}function Bxt(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function KG(t){return Dme(t).map(Bxt).join("")}var Rxt=function(t){for(var e=0;e<t.length;e++)t[e]=Lxt(t[e]);return t.join("")}(Dme("hello"))!="5d41402abc4b2a76b9719d911017c592";function Z0(t,e){if(Rxt){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function qG(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}n=t,r=o}else o=r;var d=e.length,f=0,A=0,m="";for(l=0;l<d;l++)A=(A+(h=o[f=(f+1)%256]))%256,o[f]=o[A],o[A]=h,a=o[(o[f]+o[A])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ene={print:4,modify:8,copy:16,"annot-forms":32};function Dx(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(ene.perm!==void 0)throw new Error("Invalid permission: "+o);i+=ene[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=KG(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=qG(this.encryptionKey,this.padding)}function kx(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function tne(t){if(Ba(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){ns.console&&vo.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gN(t){if(!(this instanceof gN))return new gN(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function kme(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function n1(t,e,n,r,i){if(!(this instanceof n1))return new n1(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,kme.call(this,r,i)}function sE(t,e,n,r,i){if(!(this instanceof sE))return new sE(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,kme.call(this,r,i)}function ts(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;Ba(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},A={internal:{},__private__:{}};A.__private__.PubSub=tne;var m="1.3",g=A.__private__.getPdfVersion=function(){return m};A.__private__.setPdfVersion=function(te){m=te};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return y};var _=A.__private__.getPageFormat=function(te){return y[te]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function C(){this.saveGraphicsState(),Se(new br(Qt,0,0,-Qt,0,Xi()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),u="n",S=x.ADVANCED}function M(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var B=A.__private__.combineFontStyleAndFontWeight=function(te,Pe){if(te=="bold"&&Pe=="normal"||te=="bold"&&Pe==400||te=="normal"&&Pe=="italic"||te=="bold"&&Pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Pe&&(te=Pe==400||Pe==="normal"?te==="italic"?"italic":"normal":Pe!=700&&Pe!=="bold"||te!=="normal"?(Pe==700?"bold":Pe)+""+te:"bold"),te};A.advancedAPI=function(te){var Pe=S===x.COMPAT;return Pe&&C.call(this),typeof te!="function"||(te(this),Pe&&M.call(this)),this},A.compatAPI=function(te){var Pe=S===x.ADVANCED;return Pe&&M.call(this),typeof te!="function"||(te(this),Pe&&C.call(this)),this},A.isAdvancedAPI=function(){return S===x.ADVANCED};var E,L=function(te){if(S!==x.ADVANCED)throw new Error(te+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=A.roundToPrecision=A.__private__.roundToPrecision=function(te,Pe){var _t=e||Pe;if(isNaN(te)||isNaN(_t))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return te.toFixed(_t).replace(/0+$/,"")};E=A.hpf=A.__private__.hpf=typeof l=="number"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return I(te,l)}:l==="smart"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return I(te,te>-1&&te<1?16:5)}:function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return I(te,16)};var k=A.f2=A.__private__.f2=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f2");return I(te,2)},O=A.__private__.f3=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f3");return I(te,3)},F=A.scale=A.__private__.scale=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?te*Qt:S===x.ADVANCED?te:void 0},U=function(te){return S===x.COMPAT?Xi()-te:S===x.ADVANCED?te:void 0},$=function(te){return F(U(te))};A.__private__.setPrecision=A.setPrecision=function(te){typeof parseInt(te,10)=="number"&&(e=parseInt(te,10))};var K,V="00000000000000000000000000000000",Q=A.__private__.getFileId=function(){return V},X=A.__private__.setFileId=function(te){return V=te!==void 0&&/^[a-fA-F0-9]{32}$/.test(te)?te.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(cl=new Dx(h.userPermissions,h.userPassword,h.ownerPassword,V)),V};A.setFileId=function(te){return X(te),this},A.getFileId=function(){return Q()};var z=A.__private__.convertDateToPDFDate=function(te){var Pe=te.getTimezoneOffset(),_t=Pe<0?"+":"-",Et=Math.floor(Math.abs(Pe/60)),nn=Math.abs(Pe%60),dn=[_t,oe(Et),"'",oe(nn),"'"].join("");return["D:",te.getFullYear(),oe(te.getMonth()+1),oe(te.getDate()),oe(te.getHours()),oe(te.getMinutes()),oe(te.getSeconds()),dn].join("")},ne=A.__private__.convertPDFDateToDate=function(te){var Pe=parseInt(te.substr(2,4),10),_t=parseInt(te.substr(6,2),10)-1,Et=parseInt(te.substr(8,2),10),nn=parseInt(te.substr(10,2),10),dn=parseInt(te.substr(12,2),10),Fn=parseInt(te.substr(14,2),10);return new Date(Pe,_t,Et,nn,dn,Fn,0)},he=A.__private__.setCreationDate=function(te){var Pe;if(te===void 0&&(te=new Date),te instanceof Date)Pe=z(te);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(te))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Pe=te}return K=Pe},W=A.__private__.getCreationDate=function(te){var Pe=K;return te==="jsDate"&&(Pe=ne(K)),Pe};A.setCreationDate=function(te){return he(te),this},A.getCreationDate=function(te){return W(te)};var Y,oe=A.__private__.padd2=function(te){return("0"+parseInt(te)).slice(-2)},fe=A.__private__.padd2Hex=function(te){return("00"+(te=te.toString())).substr(te.length)},me=0,ce=[],be=[],xe=0,Ie=[],Qe=[],ue=!1,ye=be,$e=function(){me=0,xe=0,be=[],ce=[],Ie=[],it=ot(),Ft=ot()};A.__private__.setCustomOutputDestination=function(te){ue=!0,ye=te};var Ve=function(te){ue||(ye=te)};A.__private__.resetCustomOutputDestination=function(){ue=!1,ye=be};var Se=A.__private__.out=function(te){return te=te.toString(),xe+=te.length+1,ye.push(te),ye},at=A.__private__.write=function(te){return Se(arguments.length===1?te.toString():Array.prototype.join.call(arguments," "))},ft=A.__private__.getArrayBuffer=function(te){for(var Pe=te.length,_t=new ArrayBuffer(Pe),Et=new Uint8Array(_t);Pe--;)Et[Pe]=te.charCodeAt(Pe);return _t},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return je};var gt=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(te){return gt=S===x.ADVANCED?te/Qt:te,this};var vt,Te=A.__private__.getFontSize=A.getFontSize=function(){return S===x.COMPAT?gt:gt*Qt},we=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(te){return we=te,this},A.__private__.getR2L=A.getR2L=function(){return we};var Ne,Ze=A.__private__.setZoomMode=function(te){var Pe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(te))vt=te;else if(isNaN(te)){if(Pe.indexOf(te)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+te+'" is not recognized.');vt=te}else vt=parseInt(te,10)};A.__private__.getZoomMode=function(){return vt};var Tt,Zt=A.__private__.setPageMode=function(te){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(te)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+te+'" is not recognized.');Ne=te};A.__private__.getPageMode=function(){return Ne};var ln=A.__private__.setLayoutMode=function(te){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(te)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+te+'" is not recognized.');Tt=te};A.__private__.getLayoutMode=function(){return Tt},A.__private__.setDisplayMode=A.setDisplayMode=function(te,Pe,_t){return Ze(te),ln(Pe),Zt(_t),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(te){if(Object.keys(Ye).indexOf(te)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[te]},A.__private__.getDocumentProperties=function(){return Ye},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(te){for(var Pe in Ye)Ye.hasOwnProperty(Pe)&&te[Pe]&&(Ye[Pe]=te[Pe]);return this},A.__private__.setDocumentProperty=function(te,Pe){if(Object.keys(Ye).indexOf(te)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[te]=Pe};var yt,Qt,Dt,st,ke,ct={},Oe={},kt=[],wn={},mt={},Kt={},bn={},Rn=null,On=0,Dn=[],Un=new tne(A),jr=t.hotfixes||[],Mi={},bi={},Ji=[],br=function te(Pe,_t,Et,nn,dn,Fn){if(!(this instanceof te))return new te(Pe,_t,Et,nn,dn,Fn);isNaN(Pe)&&(Pe=1),isNaN(_t)&&(_t=0),isNaN(Et)&&(Et=0),isNaN(nn)&&(nn=1),isNaN(dn)&&(dn=0),isNaN(Fn)&&(Fn=0),this._matrix=[Pe,_t,Et,nn,dn,Fn]};Object.defineProperty(br.prototype,"sx",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(br.prototype,"shy",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(br.prototype,"shx",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(br.prototype,"sy",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(br.prototype,"tx",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(br.prototype,"ty",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(br.prototype,"a",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(br.prototype,"b",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(br.prototype,"c",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(br.prototype,"d",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(br.prototype,"e",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(br.prototype,"f",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(br.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(br.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(br.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(br.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),br.prototype.join=function(te){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(te)},br.prototype.multiply=function(te){var Pe=te.sx*this.sx+te.shy*this.shx,_t=te.sx*this.shy+te.shy*this.sy,Et=te.shx*this.sx+te.sy*this.shx,nn=te.shx*this.shy+te.sy*this.sy,dn=te.tx*this.sx+te.ty*this.shx+this.tx,Fn=te.tx*this.shy+te.ty*this.sy+this.ty;return new br(Pe,_t,Et,nn,dn,Fn)},br.prototype.decompose=function(){var te=this.sx,Pe=this.shy,_t=this.shx,Et=this.sy,nn=this.tx,dn=this.ty,Fn=Math.sqrt(te*te+Pe*Pe),Pr=(te/=Fn)*_t+(Pe/=Fn)*Et;_t-=te*Pr,Et-=Pe*Pr;var vi=Math.sqrt(_t*_t+Et*Et);return Pr/=vi,te*(Et/=vi)<Pe*(_t/=vi)&&(te=-te,Pe=-Pe,Pr=-Pr,Fn=-Fn),{scale:new br(Fn,0,0,vi,0,0),translate:new br(1,0,0,1,nn,dn),rotate:new br(te,Pe,-Pe,te,0,0),skew:new br(1,0,Pr,1,0,0)}},br.prototype.toString=function(te){return this.join(" ")},br.prototype.inversed=function(){var te=this.sx,Pe=this.shy,_t=this.shx,Et=this.sy,nn=this.tx,dn=this.ty,Fn=1/(te*Et-Pe*_t),Pr=Et*Fn,vi=-Pe*Fn,Ii=-_t*Fn,Gi=te*Fn;return new br(Pr,vi,Ii,Gi,-Pr*nn-Ii*dn,-vi*nn-Gi*dn)},br.prototype.applyToPoint=function(te){var Pe=te.x*this.sx+te.y*this.shx+this.tx,_t=te.x*this.shy+te.y*this.sy+this.ty;return new bt(Pe,_t)},br.prototype.applyToRectangle=function(te){var Pe=this.applyToPoint(te),_t=this.applyToPoint(new bt(te.x+te.w,te.y+te.h));return new Xt(Pe.x,Pe.y,_t.x-Pe.x,_t.y-Pe.y)},br.prototype.clone=function(){var te=this.sx,Pe=this.shy,_t=this.shx,Et=this.sy,nn=this.tx,dn=this.ty;return new br(te,Pe,_t,Et,nn,dn)},A.Matrix=br;var fs=A.matrixMult=function(te,Pe){return Pe.multiply(te)},Di=new br(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Di;var Hi=function(te,Pe){if(!mt[te]){var _t=(Pe instanceof n1?"Sh":"P")+(Object.keys(wn).length+1).toString(10);Pe.id=_t,mt[te]=_t,wn[_t]=Pe,Un.publish("addPattern",Pe)}};A.ShadingPattern=n1,A.TilingPattern=sE,A.addShadingPattern=function(te,Pe){return L("addShadingPattern()"),Hi(te,Pe),this},A.beginTilingPattern=function(te){L("beginTilingPattern()"),Pn(te.boundingBox[0],te.boundingBox[1],te.boundingBox[2]-te.boundingBox[0],te.boundingBox[3]-te.boundingBox[1],te.matrix)},A.endTilingPattern=function(te,Pe){L("endTilingPattern()"),Pe.stream=Qe[Y].join("\n"),Hi(te,Pe),Un.publish("endTilingPattern",Pe),Ji.pop().restore()};var ki=A.__private__.newObject=function(){var te=ot();return sn(te,!0),te},ot=A.__private__.newObjectDeferred=function(){return me++,ce[me]=function(){return xe},me},sn=function(te,Pe){return Pe=typeof Pe=="boolean"&&Pe,ce[te]=xe,Pe&&Se(te+" 0 obj"),te},Cn=A.__private__.newAdditionalObject=function(){var te={objId:ot(),content:""};return Ie.push(te),te},it=ot(),Ft=ot(),Gn=A.__private__.decodeColorString=function(te){var Pe=te.split(" ");if(Pe.length!==2||Pe[1]!=="g"&&Pe[1]!=="G")Pe.length===5&&(Pe[4]==="k"||Pe[4]==="K")&&(Pe=[(1-Pe[0])*(1-Pe[3]),(1-Pe[1])*(1-Pe[3]),(1-Pe[2])*(1-Pe[3]),"r"]);else{var _t=parseFloat(Pe[0]);Pe=[_t,_t,_t,"r"]}for(var Et="#",nn=0;nn<3;nn++)Et+=("0"+Math.floor(255*parseFloat(Pe[nn])).toString(16)).slice(-2);return Et},fr=A.__private__.encodeColorString=function(te){var Pe;typeof te=="string"&&(te={ch1:te});var _t=te.ch1,Et=te.ch2,nn=te.ch3,dn=te.ch4,Fn=te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _t=="string"&&_t.charAt(0)!=="#"){var Pr=new Nme(_t);if(Pr.ok)_t=Pr.toHex();else if(!/^\d*\.?\d*$/.test(_t))throw new Error('Invalid color "'+_t+'" passed to jsPDF.encodeColorString.')}if(typeof _t=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_t)&&(_t="#"+_t[1]+_t[1]+_t[2]+_t[2]+_t[3]+_t[3]),typeof _t=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_t)){var vi=parseInt(_t.substr(1),16);_t=vi>>16&255,Et=vi>>8&255,nn=255&vi}if(Et===void 0||dn===void 0&&_t===Et&&Et===nn)if(typeof _t=="string")Pe=_t+" "+Fn[0];else switch(te.precision){case 2:Pe=k(_t/255)+" "+Fn[0];break;case 3:default:Pe=O(_t/255)+" "+Fn[0]}else if(dn===void 0||Ba(dn)==="object"){if(dn&&!isNaN(dn.a)&&dn.a===0)return Pe=["1.","1.","1.",Fn[1]].join(" ");if(typeof _t=="string")Pe=[_t,Et,nn,Fn[1]].join(" ");else switch(te.precision){case 2:Pe=[k(_t/255),k(Et/255),k(nn/255),Fn[1]].join(" ");break;default:case 3:Pe=[O(_t/255),O(Et/255),O(nn/255),Fn[1]].join(" ")}}else if(typeof _t=="string")Pe=[_t,Et,nn,dn,Fn[2]].join(" ");else switch(te.precision){case 2:Pe=[k(_t),k(Et),k(nn),k(dn),Fn[2]].join(" ");break;case 3:default:Pe=[O(_t),O(Et),O(nn),O(dn),Fn[2]].join(" ")}return Pe},Gr=A.__private__.getFilters=function(){return a},$r=A.__private__.putStream=function(te){var Pe=(te=te||{}).data||"",_t=te.filters||Gr(),Et=te.alreadyAppliedFilters||[],nn=te.addLength1||!1,dn=Pe.length,Fn=te.objectId,Pr=function(hl){return hl};if(h!==null&&Fn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Pr=cl.encryptor(Fn,0));var vi={};_t===!0&&(_t=["FlateEncode"]);var Ii=te.additionalKeyValues||[],Gi=(vi=ts.API.processDataByFilters!==void 0?ts.API.processDataByFilters(Pe,_t):{data:Pe,reverseChain:[]}).reverseChain+(Array.isArray(Et)?Et.join(" "):Et.toString());if(vi.data.length!==0&&(Ii.push({key:"Length",value:vi.data.length}),nn===!0&&Ii.push({key:"Length1",value:dn})),Gi.length!=0)if(Gi.split("/").length-1==1)Ii.push({key:"Filter",value:Gi});else{Ii.push({key:"Filter",value:"["+Gi+"]"});for(var os=0;os<Ii.length;os+=1)if(Ii[os].key==="DecodeParms"){for(var ma=[],ba=0;ba<vi.reverseChain.split("/").length-1;ba+=1)ma.push("null");ma.push(Ii[os].value),Ii[os].value="["+ma.join(" ")+"]"}}Se("<<");for(var ua=0;ua<Ii.length;ua++)Se("/"+Ii[ua].key+" "+Ii[ua].value);Se(">>"),vi.data.length!==0&&(Se("stream"),Se(Pr(vi.data)),Se("endstream"))},oi=A.__private__.putPage=function(te){var Pe=te.number,_t=te.data,Et=te.objId,nn=te.contentsObjId;sn(Et,!0),Se("<</Type /Page"),Se("/Parent "+te.rootDictionaryObjId+" 0 R"),Se("/Resources "+te.resourceDictionaryObjId+" 0 R"),Se("/MediaBox ["+parseFloat(E(te.mediaBox.bottomLeftX))+" "+parseFloat(E(te.mediaBox.bottomLeftY))+" "+E(te.mediaBox.topRightX)+" "+E(te.mediaBox.topRightY)+"]"),te.cropBox!==null&&Se("/CropBox ["+E(te.cropBox.bottomLeftX)+" "+E(te.cropBox.bottomLeftY)+" "+E(te.cropBox.topRightX)+" "+E(te.cropBox.topRightY)+"]"),te.bleedBox!==null&&Se("/BleedBox ["+E(te.bleedBox.bottomLeftX)+" "+E(te.bleedBox.bottomLeftY)+" "+E(te.bleedBox.topRightX)+" "+E(te.bleedBox.topRightY)+"]"),te.trimBox!==null&&Se("/TrimBox ["+E(te.trimBox.bottomLeftX)+" "+E(te.trimBox.bottomLeftY)+" "+E(te.trimBox.topRightX)+" "+E(te.trimBox.topRightY)+"]"),te.artBox!==null&&Se("/ArtBox ["+E(te.artBox.bottomLeftX)+" "+E(te.artBox.bottomLeftY)+" "+E(te.artBox.topRightX)+" "+E(te.artBox.topRightY)+"]"),typeof te.userUnit=="number"&&te.userUnit!==1&&Se("/UserUnit "+te.userUnit),Un.publish("putPage",{objId:Et,pageContext:Dn[Pe],pageNumber:Pe,page:_t}),Se("/Contents "+nn+" 0 R"),Se(">>"),Se("endobj");var dn=_t.join("\n");return S===x.ADVANCED&&(dn+="\nQ"),sn(nn,!0),$r({data:dn,filters:Gr(),objectId:nn}),Se("endobj"),Et},xi=A.__private__.putPages=function(){var te,Pe,_t=[];for(te=1;te<=On;te++)Dn[te].objId=ot(),Dn[te].contentsObjId=ot();for(te=1;te<=On;te++)_t.push(oi({number:te,data:Qe[te],objId:Dn[te].objId,contentsObjId:Dn[te].contentsObjId,mediaBox:Dn[te].mediaBox,cropBox:Dn[te].cropBox,bleedBox:Dn[te].bleedBox,trimBox:Dn[te].trimBox,artBox:Dn[te].artBox,userUnit:Dn[te].userUnit,rootDictionaryObjId:it,resourceDictionaryObjId:Ft}));sn(it,!0),Se("<</Type /Pages");var Et="/Kids [";for(Pe=0;Pe<On;Pe++)Et+=_t[Pe]+" 0 R ";Se(Et+"]"),Se("/Count "+On),Se(">>"),Se("endobj"),Un.publish("postPutPages")},mi=function(te){Un.publish("putFont",{font:te,out:Se,newObject:ki,putStream:$r}),te.isAlreadyPutted!==!0&&(te.objectNumber=ki(),Se("<<"),Se("/Type /Font"),Se("/BaseFont /"+kx(te.postScriptName)),Se("/Subtype /Type1"),typeof te.encoding=="string"&&Se("/Encoding /"+te.encoding),Se("/FirstChar 32"),Se("/LastChar 255"),Se(">>"),Se("endobj"))},Lt=function(){for(var te in ct)ct.hasOwnProperty(te)&&(d===!1||d===!0&&f.hasOwnProperty(te))&&mi(ct[te])},ut=function(te){te.objectNumber=ki();var Pe=[];Pe.push({key:"Type",value:"/XObject"}),Pe.push({key:"Subtype",value:"/Form"}),Pe.push({key:"BBox",value:"["+[E(te.x),E(te.y),E(te.x+te.width),E(te.y+te.height)].join(" ")+"]"}),Pe.push({key:"Matrix",value:"["+te.matrix.toString()+"]"});var _t=te.pages[1].join("\n");$r({data:_t,additionalKeyValues:Pe,objectId:te.objectNumber}),Se("endobj")},on=function(){for(var te in Mi)Mi.hasOwnProperty(te)&&ut(Mi[te])},xn=function(te,Pe){var _t,Et=[],nn=1/(Pe-1);for(_t=0;_t<1;_t+=nn)Et.push(_t);if(Et.push(1),te[0].offset!=0){var dn={offset:0,color:te[0].color};te.unshift(dn)}if(te[te.length-1].offset!=1){var Fn={offset:1,color:te[te.length-1].color};te.push(Fn)}for(var Pr="",vi=0,Ii=0;Ii<Et.length;Ii++){for(_t=Et[Ii];_t>te[vi+1].offset;)vi++;var Gi=te[vi].offset,os=(_t-Gi)/(te[vi+1].offset-Gi),ma=te[vi].color,ba=te[vi+1].color;Pr+=fe(Math.round((1-os)*ma[0]+os*ba[0]).toString(16))+fe(Math.round((1-os)*ma[1]+os*ba[1]).toString(16))+fe(Math.round((1-os)*ma[2]+os*ba[2]).toString(16))}return Pr.trim()},Rr=function(te,Pe){Pe||(Pe=21);var _t=ki(),Et=xn(te.colors,Pe),nn=[];nn.push({key:"FunctionType",value:"0"}),nn.push({key:"Domain",value:"[0.0 1.0]"}),nn.push({key:"Size",value:"["+Pe+"]"}),nn.push({key:"BitsPerSample",value:"8"}),nn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$r({data:Et,additionalKeyValues:nn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_t}),Se("endobj"),te.objectNumber=ki(),Se("<< /ShadingType "+te.type),Se("/ColorSpace /DeviceRGB");var dn="/Coords ["+E(parseFloat(te.coords[0]))+" "+E(parseFloat(te.coords[1]))+" ";te.type===2?dn+=E(parseFloat(te.coords[2]))+" "+E(parseFloat(te.coords[3])):dn+=E(parseFloat(te.coords[2]))+" "+E(parseFloat(te.coords[3]))+" "+E(parseFloat(te.coords[4]))+" "+E(parseFloat(te.coords[5])),Se(dn+="]"),te.matrix&&Se("/Matrix ["+te.matrix.toString()+"]"),Se("/Function "+_t+" 0 R"),Se("/Extend [true true]"),Se(">>"),Se("endobj")},Xr=function(te,Pe){var _t=ot(),Et=ki();Pe.push({resourcesOid:_t,objectOid:Et}),te.objectNumber=Et;var nn=[];nn.push({key:"Type",value:"/Pattern"}),nn.push({key:"PatternType",value:"1"}),nn.push({key:"PaintType",value:"1"}),nn.push({key:"TilingType",value:"1"}),nn.push({key:"BBox",value:"["+te.boundingBox.map(E).join(" ")+"]"}),nn.push({key:"XStep",value:E(te.xStep)}),nn.push({key:"YStep",value:E(te.yStep)}),nn.push({key:"Resources",value:_t+" 0 R"}),te.matrix&&nn.push({key:"Matrix",value:"["+te.matrix.toString()+"]"}),$r({data:te.stream,additionalKeyValues:nn,objectId:te.objectNumber}),Se("endobj")},ta=function(te){var Pe;for(Pe in wn)wn.hasOwnProperty(Pe)&&(wn[Pe]instanceof n1?Rr(wn[Pe]):wn[Pe]instanceof sE&&Xr(wn[Pe],te))},Ki=function(te){for(var Pe in te.objectNumber=ki(),Se("<<"),te)switch(Pe){case"opacity":Se("/ca "+k(te[Pe]));break;case"stroke-opacity":Se("/CA "+k(te[Pe]))}Se(">>"),Se("endobj")},Eo=function(){var te;for(te in Kt)Kt.hasOwnProperty(te)&&Ki(Kt[te])},na=function(){for(var te in Se("/XObject <<"),Mi)Mi.hasOwnProperty(te)&&Mi[te].objectNumber>=0&&Se("/"+te+" "+Mi[te].objectNumber+" 0 R");Un.publish("putXobjectDict"),Se(">>")},Kl=function(){cl.oid=ki(),Se("<<"),Se("/Filter /Standard"),Se("/V "+cl.v),Se("/R "+cl.r),Se("/U <"+cl.toHexString(cl.U)+">"),Se("/O <"+cl.toHexString(cl.O)+">"),Se("/P "+cl.P),Se(">>"),Se("endobj")},Ic=function(){for(var te in Se("/Font <<"),ct)ct.hasOwnProperty(te)&&(d===!1||d===!0&&f.hasOwnProperty(te))&&Se("/"+te+" "+ct[te].objectNumber+" 0 R");Se(">>")},to=function(){if(Object.keys(wn).length>0){for(var te in Se("/Shading <<"),wn)wn.hasOwnProperty(te)&&wn[te]instanceof n1&&wn[te].objectNumber>=0&&Se("/"+te+" "+wn[te].objectNumber+" 0 R");Un.publish("putShadingPatternDict"),Se(">>")}},ql=function(te){if(Object.keys(wn).length>0){for(var Pe in Se("/Pattern <<"),wn)wn.hasOwnProperty(Pe)&&wn[Pe]instanceof A.TilingPattern&&wn[Pe].objectNumber>=0&&wn[Pe].objectNumber<te&&Se("/"+Pe+" "+wn[Pe].objectNumber+" 0 R");Un.publish("putTilingPatternDict"),Se(">>")}},ed=function(){if(Object.keys(Kt).length>0){var te;for(te in Se("/ExtGState <<"),Kt)Kt.hasOwnProperty(te)&&Kt[te].objectNumber>=0&&Se("/"+te+" "+Kt[te].objectNumber+" 0 R");Un.publish("putGStateDict"),Se(">>")}},Ls=function(te){sn(te.resourcesOid,!0),Se("<<"),Se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ic(),to(),ql(te.objectOid),ed(),na(),Se(">>"),Se("endobj")},So=function(){var te=[];Lt(),Eo(),on(),ta(te),Un.publish("putResources"),te.forEach(Ls),Ls({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),Un.publish("postPutResources")},Ru=function(){Un.publish("putAdditionalObjects");for(var te=0;te<Ie.length;te++){var Pe=Ie[te];sn(Pe.objId,!0),Se(Pe.content),Se("endobj")}Un.publish("postPutAdditionalObjects")},hh=function(te){Oe[te.fontName]=Oe[te.fontName]||{},Oe[te.fontName][te.fontStyle]=te.id},jd=function(te,Pe,_t,Et,nn){var dn={id:"F"+(Object.keys(ct).length+1).toString(10),postScriptName:te,fontName:Pe,fontStyle:_t,encoding:Et,isStandardFont:nn||!1,metadata:{}};return Un.publish("addFont",{font:dn,instance:this}),ct[dn.id]=dn,hh(dn),dn.id},TA=function(te){for(var Pe=0,_t=je.length;Pe<_t;Pe++){var Et=jd.call(this,te[Pe][0],te[Pe][1],te[Pe][2],je[Pe][3],!0);d===!1&&(f[Et]=!0);var nn=te[Pe][0].split("-");hh({id:Et,fontName:nn[0],fontStyle:nn[1]||""})}Un.publish("addFonts",{fonts:ct,dictionary:Oe})},Xl=function(te){return te.foo=function(){try{return te.apply(this,arguments)}catch(Et){var Pe=Et.stack||"";~Pe.indexOf(" at ")&&(Pe=Pe.split(" at ")[1]);var _t="Error in function "+Pe.split("\n")[0].split("<")[0]+": "+Et.message;if(!ns.console)throw new Error(_t);ns.console.error(_t,Et),ns.alert&&alert(_t)}},te.foo.bar=te,te.foo},iu=function(te,Pe){var _t,Et,nn,dn,Fn,Pr,vi,Ii,Gi;if(nn=(Pe=Pe||{}).sourceEncoding||"Unicode",Fn=Pe.outputEncoding,(Pe.autoencode||Fn)&&ct[yt].metadata&&ct[yt].metadata[nn]&&ct[yt].metadata[nn].encoding&&(dn=ct[yt].metadata[nn].encoding,!Fn&&ct[yt].encoding&&(Fn=ct[yt].encoding),!Fn&&dn.codePages&&(Fn=dn.codePages[0]),typeof Fn=="string"&&(Fn=dn[Fn]),Fn)){for(vi=!1,Pr=[],_t=0,Et=te.length;_t<Et;_t++)(Ii=Fn[te.charCodeAt(_t)])?Pr.push(String.fromCharCode(Ii)):Pr.push(te[_t]),Pr[_t].charCodeAt(0)>>8&&(vi=!0);te=Pr.join("")}for(_t=te.length;vi===void 0&&_t!==0;)te.charCodeAt(_t-1)>>8&&(vi=!0),_t--;if(!vi)return te;for(Pr=Pe.noBOM?[]:[254,255],_t=0,Et=te.length;_t<Et;_t++){if((Gi=(Ii=te.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pr.push(Gi),Pr.push(Ii-(Gi<<8))}return String.fromCharCode.apply(void 0,Pr)},fo=A.__private__.pdfEscape=A.pdfEscape=function(te,Pe){return iu(te,Pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},td=A.__private__.beginPage=function(te){Qe[++On]=[],Dn[On]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(te[0]),topRightY:Number(te[1])}},Ac(On),Ve(Qe[Y])},Qp=function(te,Pe){var _t,Et,nn;switch(n=Pe||n,typeof te=="string"&&(_t=_(te.toLowerCase()),Array.isArray(_t)&&(Et=_t[0],nn=_t[1])),Array.isArray(te)&&(Et=te[0]*Qt,nn=te[1]*Qt),isNaN(Et)&&(Et=i[0],nn=i[1]),(Et>14400||nn>14400)&&(vo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Et=Math.min(14400,Et),nn=Math.min(14400,nn)),i=[Et,nn],n.substr(0,1)){case"l":nn>Et&&(i=[nn,Et]);break;case"p":Et>nn&&(i=[nn,Et])}td(i),e0(Kp),Se(gh),Re!==0&&Se(Re+" J"),Ge!==0&&Se(Ge+" j"),Un.publish("addPage",{pageNumber:On})},Zv=function(te){te>0&&te<=On&&(Qe.splice(te,1),Dn.splice(te,1),On--,Y>On&&(Y=On),this.setPage(Y))},Ac=function(te){te>0&&te<=On&&(Y=te)},Of=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Qe.length-1},Kd=function(te,Pe,_t){var Et,nn=void 0;return _t=_t||{},te=te!==void 0?te:ct[yt].fontName,Pe=Pe!==void 0?Pe:ct[yt].fontStyle,Et=te.toLowerCase(),Oe[Et]!==void 0&&Oe[Et][Pe]!==void 0?nn=Oe[Et][Pe]:Oe[te]!==void 0&&Oe[te][Pe]!==void 0?nn=Oe[te][Pe]:_t.disableWarning===!1&&vo.warn("Unable to look up font label for font '"+te+"', '"+Pe+"'. Refer to getFontList() for available fonts."),nn||_t.noFallback||(nn=Oe.times[Pe])==null&&(nn=Oe.times.normal),nn},Mm=A.__private__.putInfo=function(){var te=ki(),Pe=function(Et){return Et};for(var _t in h!==null&&(Pe=cl.encryptor(te,0)),Se("<<"),Se("/Producer ("+fo(Pe("jsPDF "+ts.version))+")"),Ye)Ye.hasOwnProperty(_t)&&Ye[_t]&&Se("/"+_t.substr(0,1).toUpperCase()+_t.substr(1)+" ("+fo(Pe(Ye[_t]))+")");Se("/CreationDate ("+fo(Pe(K))+")"),Se(">>"),Se("endobj")},Wp=A.__private__.putCatalog=function(te){var Pe=(te=te||{}).rootDictionaryObjId||it;switch(ki(),Se("<<"),Se("/Type /Catalog"),Se("/Pages "+Pe+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":Se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Se("/OpenAction [3 0 R /Fit]");break;case"original":Se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _t=""+vt;_t.substr(_t.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&Se("/OpenAction [3 0 R /XYZ null null "+k(vt)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":Se("/PageLayout /OneColumn");break;case"single":Se("/PageLayout /SinglePage");break;case"two":case"twoleft":Se("/PageLayout /TwoColumnLeft");break;case"tworight":Se("/PageLayout /TwoColumnRight")}Ne&&Se("/PageMode /"+Ne),Un.publish("putCatalog"),Se(">>"),Se("endobj")},qd=A.__private__.putTrailer=function(){Se("trailer"),Se("<<"),Se("/Size "+(me+1)),Se("/Root "+me+" 0 R"),Se("/Info "+(me-1)+" 0 R"),h!==null&&Se("/Encrypt "+cl.oid+" 0 R"),Se("/ID [ <"+V+"> <"+V+"> ]"),Se(">>")},nd=A.__private__.putHeader=function(){Se("%PDF-"+m),Se("%")},jp=A.__private__.putXRef=function(){var te="0000000000";Se("xref"),Se("0 "+(me+1)),Se("0000000000 65535 f ");for(var Pe=1;Pe<=me;Pe++)typeof ce[Pe]=="function"?Se((te+ce[Pe]()).slice(-10)+" 00000 n "):ce[Pe]!==void 0?Se((te+ce[Pe]).slice(-10)+" 00000 n "):Se("0000000000 00000 n ")},rd=A.__private__.buildDocument=function(){$e(),Ve(be),Un.publish("buildDocument"),nd(),xi(),Ru(),So(),h!==null&&Kl(),Mm(),Wp();var te=xe;return jp(),qd(),Se("startxref"),Se(""+te),Se("%%EOF"),Ve(Qe[Y]),be.join("\n")},dh=A.__private__.getBlob=function(te){return new Blob([ft(te)],{type:"application/pdf"})},Nf=A.output=A.__private__.output=Xl(function(te,Pe){switch(typeof(Pe=Pe||{})=="string"?Pe={filename:Pe}:Pe.filename=Pe.filename||"generated.pdf",te){case void 0:return rd();case"save":A.save(Pe.filename);break;case"arraybuffer":return ft(rd());case"blob":return dh(rd());case"bloburi":case"bloburl":if(ns.URL!==void 0&&typeof ns.URL.createObjectURL=="function")return ns.URL&&ns.URL.createObjectURL(dh(rd()))||void 0;vo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _t="",Et=rd();try{_t=jG(Et)}catch(ba){_t=jG(unescape(encodeURIComponent(Et)))}return"data:application/pdf;filename="+Pe.filename+";base64,"+_t;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ns)==="[object Window]"){var nn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Pe.pdfObjectUrl&&(nn=Pe.pdfObjectUrl,dn="");var Fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nn+'"'+dn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Pe)+");<\/script></body></html>",Pr=ns.open();return Pr!==null&&Pr.document.write(Fn),Pr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ns)==="[object Window]"){var vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Pe.filename+'" width="500px" height="400px" /></body></html>',Ii=ns.open();if(Ii!==null){Ii.document.write(vi);var Gi=this;Ii.document.documentElement.querySelector("#pdfViewer").onload=function(){Ii.document.title=Pe.filename,Ii.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gi.output("bloburl"))}}return Ii}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ns)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var os='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Pe)+'"></iframe></body></html>',ma=ns.open();if(ma!==null&&(ma.document.write(os),ma.document.title=Pe.filename),ma||typeof safari>"u")return ma;break;case"datauri":case"dataurl":return ns.document.location.href=this.output("datauristring",Pe);default:return null}}),Xd=function(te){return Array.isArray(jr)===!0&&jr.indexOf(te)>-1};switch(r){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=Xd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Qt=r}var cl=null;he(),X();var qi=function(te){return h!==null?cl.encryptor(te,0):function(Pe){return Pe}},ir=A.__private__.getPageInfo=A.getPageInfo=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dn[te].objId,pageNumber:te,pageContext:Dn[te]}},ur=A.__private__.getPageInfoByObjId=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Pe in Dn)if(Dn[Pe].objId===te)break;return ir(Pe)},Fo=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Dn[Y].objId,pageNumber:Y,pageContext:Dn[Y]}};A.addPage=function(){return Qp.apply(this,arguments),this},A.setPage=function(){return Ac.apply(this,arguments),Ve.call(this,Qe[Y]),this},A.insertPage=function(te){return this.addPage(),this.movePage(Y,te),this},A.movePage=function(te,Pe){var _t,Et;if(te>Pe){_t=Qe[te],Et=Dn[te];for(var nn=te;nn>Pe;nn--)Qe[nn]=Qe[nn-1],Dn[nn]=Dn[nn-1];Qe[Pe]=_t,Dn[Pe]=Et,this.setPage(Pe)}else if(te<Pe){_t=Qe[te],Et=Dn[te];for(var dn=te;dn<Pe;dn++)Qe[dn]=Qe[dn+1],Dn[dn]=Dn[dn+1];Qe[Pe]=_t,Dn[Pe]=Et,this.setPage(Pe)}return this},A.deletePage=function(){return Zv.apply(this,arguments),this},A.__private__.text=A.text=function(te,Pe,_t,Et,nn){var dn,Fn,Pr,vi,Ii,Gi,os,ma,ba,ua=(Et=Et||{}).scope||this;if(typeof te=="number"&&typeof Pe=="number"&&(typeof _t=="string"||Array.isArray(_t))){var hl=_t;_t=Pe,Pe=te,te=hl}if(arguments[3]instanceof br?(L("The transform parameter of text() with a Matrix value"),ba=nn):(Pr=arguments[4],vi=arguments[5],Ba(os=arguments[3])==="object"&&os!==null||(typeof Pr=="string"&&(vi=Pr,Pr=null),typeof os=="string"&&(vi=os,os=null),typeof os=="number"&&(Pr=os,os=null),Et={flags:os,angle:Pr,align:vi})),isNaN(Pe)||isNaN(_t)||te==null)throw new Error("Invalid arguments passed to jsPDF.text");if(te.length===0)return ua;var Ha="",Jo=!1,su=typeof Et.lineHeightFactor=="number"?Et.lineHeightFactor:Uf,id=ua.internal.scaleFactor;function r0(no){return no=no.split("	").join(Array(Et.TabLen||9).join(" ")),fo(no,os)}function js(no){for(var ro,tl=no.concat(),Ll=[],MA=tl.length;MA--;)typeof(ro=tl.shift())=="string"?Ll.push(ro):Array.isArray(no)&&(ro.length===1||ro[1]===void 0&&ro[2]===void 0)?Ll.push(ro[0]):Ll.push([ro[0],ro[1],ro[2]]);return Ll}function zf(no,ro){var tl;if(typeof no=="string")tl=ro(no)[0];else if(Array.isArray(no)){for(var Ll,MA,Wy=no.concat(),i0=[],Hw=Wy.length;Hw--;)typeof(Ll=Wy.shift())=="string"?i0.push(ro(Ll)[0]):Array.isArray(Ll)&&typeof Ll[0]=="string"&&(MA=ro(Ll[0],Ll[1],Ll[2]),i0.push([MA[0],MA[1],MA[2]]));tl=i0}return tl}var Yl=!1,sd=!0;if(typeof te=="string")Yl=!0;else if(Array.isArray(te)){var Lm=te.concat();Fn=[];for(var qp,dl=Lm.length;dl--;)(typeof(qp=Lm.shift())!="string"||Array.isArray(qp)&&typeof qp[0]!="string")&&(sd=!1);Yl=sd}if(Yl===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]);var Iu=gt/ua.internal.scaleFactor,$f=Iu*(su-1);switch(Et.baseline){case"bottom":_t-=$f;break;case"top":_t+=Iu-$f;break;case"hanging":_t+=Iu-2*$f;break;case"middle":_t+=Iu/2-$f}if((Gi=Et.maxWidth||0)>0&&(typeof te=="string"?te=ua.splitTextToSize(te,Gi):Object.prototype.toString.call(te)==="[object Array]"&&(te=te.reduce(function(no,ro){return no.concat(ua.splitTextToSize(ro,Gi))},[]))),dn={text:te,x:Pe,y:_t,options:Et,mutex:{pdfEscape:fo,activeFontKey:yt,fonts:ct,activeFontSize:gt}},Un.publish("preProcessText",dn),te=dn.text,Pr=(Et=dn.options).angle,!(ba instanceof br)&&Pr&&typeof Pr=="number"){Pr*=Math.PI/180,Et.rotationDirection===0&&(Pr=-Pr),S===x.ADVANCED&&(Pr=-Pr);var au=Math.cos(Pr),Xp=Math.sin(Pr);ba=new br(au,Xp,-Xp,au,0,0)}else Pr&&Pr instanceof br&&(ba=Pr);S!==x.ADVANCED||ba||(ba=Di),(Ii=Et.charSpace||pe)!==void 0&&(Ha+=E(F(Ii))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),(ma=Et.horizontalScale)!==void 0&&(Ha+=E(100*ma)+" Tz\n"),Et.lang;var fl=-1,Yp=Et.renderingMode!==void 0?Et.renderingMode:Et.stroke,Qf=ua.internal.getCurrentPageInfo().pageContext;switch(Yp){case 0:case!1:case"fill":fl=0;break;case 1:case!0:case"stroke":fl=1;break;case 2:case"fillThenStroke":fl=2;break;case 3:case"invisible":fl=3;break;case 4:case"fillAndAddForClipping":fl=4;break;case 5:case"strokeAndAddPathForClipping":fl=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fl=6;break;case 7:case"addToPathForClipping":fl=7}var Zp=Qf.usedRenderingMode!==void 0?Qf.usedRenderingMode:-1;fl!==-1?Ha+=fl+" Tr\n":Zp!==-1&&(Ha+="0 Tr\n"),fl!==-1&&(Qf.usedRenderingMode=fl),vi=Et.align||"left";var Pu,Jd=gt*su,Jp=ua.internal.pageSize.getWidth(),eg=ct[yt];Ii=Et.charSpace||pe,Gi=Et.maxWidth||0,os=Object.assign({autoencode:!0,noBOM:!0},Et.flags);var Wf=[],ef=function(no){return ua.getStringUnitWidth(no,{font:eg,charSpace:Ii,fontSize:gt,doKerning:!1})*gt/id};if(Object.prototype.toString.call(te)==="[object Array]"){var pc;Fn=js(te),vi!=="left"&&(Pu=Fn.map(ef));var At,Vt=0;if(vi==="right"){Pe-=Pu[0],te=[],dl=Fn.length;for(var un=0;un<dl;un++)un===0?(At=Ah(Pe),pc=ph(_t)):(At=F(Vt-Pu[un]),pc=-Jd),te.push([Fn[un],At,pc]),Vt=Pu[un]}else if(vi==="center"){Pe-=Pu[0]/2,te=[],dl=Fn.length;for(var _n=0;_n<dl;_n++)_n===0?(At=Ah(Pe),pc=ph(_t)):(At=F((Vt-Pu[_n])/2),pc=-Jd),te.push([Fn[_n],At,pc]),Vt=Pu[_n]}else if(vi==="left"){te=[],dl=Fn.length;for(var Bn=0;Bn<dl;Bn++)te.push(Fn[Bn])}else if(vi==="justify"&&eg.encoding==="Identity-H"){te=[],dl=Fn.length,Gi=Gi!==0?Gi:Jp;for(var Ar=0,pr=0;pr<dl;pr++)if(pc=pr===0?ph(_t):-Jd,At=pr===0?Ah(Pe):Ar,pr<dl-1){var ri=F((Gi-Pu[pr])/(Fn[pr].split(" ").length-1)),_r=Fn[pr].split(" ");te.push([_r[0]+" ",At,pc]),Ar=0;for(var Vi=1;Vi<_r.length;Vi++){var Li=(ef(_r[Vi-1]+" "+_r[Vi])-ef(_r[Vi]))*id+ri;Vi==_r.length-1?te.push([_r[Vi],Li,0]):te.push([_r[Vi]+" ",Li,0]),Ar-=Li}}else te.push([Fn[pr],At,pc]);te.push(["",Ar,0])}else{if(vi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],dl=Fn.length,Gi=Gi!==0?Gi:Jp,pr=0;pr<dl;pr++)pc=pr===0?ph(_t):-Jd,At=pr===0?Ah(Pe):0,pr<dl-1?Wf.push(E(F((Gi-Pu[pr])/(Fn[pr].split(" ").length-1)))):Wf.push(0),te.push([Fn[pr],At,pc])}}var zi=typeof Et.R2L=="boolean"?Et.R2L:we;zi===!0&&(te=zf(te,function(no,ro,tl){return[no.split("").reverse().join(""),ro,tl]})),dn={text:te,x:Pe,y:_t,options:Et,mutex:{pdfEscape:fo,activeFontKey:yt,fonts:ct,activeFontSize:gt}},Un.publish("postProcessText",dn),te=dn.text,Jo=dn.mutex.isHex||!1;var gs=ct[yt].encoding;gs!=="WinAnsiEncoding"&&gs!=="StandardEncoding"||(te=zf(te,function(no,ro,tl){return[r0(no),ro,tl]})),Fn=js(te),te=[];for(var di,ra,No,Co=0,Ml=1,Zl=Array.isArray(Fn[0])?Ml:Co,ou="",el=function(no,ro,tl){var Ll="";return tl instanceof br?(tl=typeof Et.angle=="number"?fs(tl,new br(1,0,0,1,no,ro)):fs(new br(1,0,0,1,no,ro),tl),S===x.ADVANCED&&(tl=fs(new br(1,0,0,-1,0,0),tl)),Ll=tl.join(" ")+" Tm\n"):Ll=E(no)+" "+E(ro)+" Td\n",Ll},ad=0;ad<Fn.length;ad++){switch(ou="",Zl){case Ml:No=(Jo?"<":"(")+Fn[ad][0]+(Jo?">":")"),di=parseFloat(Fn[ad][1]),ra=parseFloat(Fn[ad][2]);break;case Co:No=(Jo?"<":"(")+Fn[ad]+(Jo?">":")"),di=Ah(Pe),ra=ph(_t)}Wf!==void 0&&Wf[ad]!==void 0&&(ou=Wf[ad]+" Tw\n"),ad===0?te.push(ou+el(di,ra,ba)+No):Zl===Co?te.push(ou+No):Zl===Ml&&te.push(ou+el(di,ra,ba)+No)}te=Zl===Co?te.join(" Tj\nT* "):te.join(" Tj\n"),te+=" Tj\n";var od="BT\n/";return od+=yt+" "+gt+" Tf\n",od+=E(gt*su)+" TL\n",od+=q+"\n",od+=Ha,od+=te,Se(od+="ET"),f[yt]=!0,ua};var dt=A.__private__.clip=A.clip=function(te){return Se(te==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return dt("evenodd")},A.__private__.discardPath=A.discardPath=function(){return Se("n"),this};var Ua=A.__private__.isValidStyle=function(te){var Pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(te)!==-1&&(Pe=!0),Pe};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(te){return Ua(te)&&(u=te),this};var fh=A.__private__.getStyle=A.getStyle=function(te){var Pe=u;switch(te){case"D":case"S":Pe="S";break;case"F":Pe="f";break;case"FD":case"DF":Pe="B";break;case"f":case"f*":case"B":case"B*":Pe=te}return Pe},Jv=A.close=function(){return Se("h"),this};A.stroke=function(){return Se("S"),this},A.fill=function(te){return wa("f",te),this},A.fillEvenOdd=function(te){return wa("f*",te),this},A.fillStroke=function(te){return wa("B",te),this},A.fillStrokeEvenOdd=function(te){return wa("B*",te),this};var wa=function(te,Pe){Ba(Pe)==="object"?Df(Pe,te):Se(te)},Gs=function(te){te===null||S===x.ADVANCED&&te===void 0||(te=fh(te),Se(te))};function Yd(te,Pe,_t,Et,nn){var dn=new sE(Pe||this.boundingBox,_t||this.xStep,Et||this.yStep,this.gState,nn||this.matrix);dn.stream=this.stream;var Fn=te+"$$"+this.cloneIndex+++"$$";return Hi(Fn,dn),dn}var Df=function(te,Pe){var _t=mt[te.key],Et=wn[_t];if(Et instanceof n1)Se("q"),Se(Zd(Pe)),Et.gState&&A.setGState(Et.gState),Se(te.matrix.toString()+" cm"),Se("/"+_t+" sh"),Se("Q");else if(Et instanceof sE){var nn=new br(1,0,0,-1,0,Xi());te.matrix&&(nn=nn.multiply(te.matrix||Di),_t=Yd.call(Et,te.key,te.boundingBox,te.xStep,te.yStep,nn).id),Se("q"),Se("/Pattern cs"),Se("/"+_t+" scn"),Et.gState&&A.setGState(Et.gState),Se(Pe),Se("Q")}},Zd=function(te){switch(te){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pc=A.moveTo=function(te,Pe){return Se(E(F(te))+" "+E($(Pe))+" m"),this},Zo=A.lineTo=function(te,Pe){return Se(E(F(te))+" "+E($(Pe))+" l"),this},ul=A.curveTo=function(te,Pe,_t,Et,nn,dn){return Se([E(F(te)),E($(Pe)),E(F(_t)),E($(Et)),E(F(nn)),E($(dn)),"c"].join(" ")),this};A.__private__.line=A.line=function(te,Pe,_t,Et,nn){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||isNaN(Et)||!Ua(nn))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[_t-te,Et-Pe]],te,Pe,[1,1],nn||"S"):this.lines([[_t-te,Et-Pe]],te,Pe,[1,1]).stroke()},A.__private__.lines=A.lines=function(te,Pe,_t,Et,nn,dn){var Fn,Pr,vi,Ii,Gi,os,ma,ba,ua,hl,Ha,Jo;if(typeof te=="number"&&(Jo=_t,_t=Pe,Pe=te,te=Jo),Et=Et||[1,1],dn=dn||!1,isNaN(Pe)||isNaN(_t)||!Array.isArray(te)||!Array.isArray(Et)||!Ua(nn)||typeof dn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pc(Pe,_t),Fn=Et[0],Pr=Et[1],Ii=te.length,hl=Pe,Ha=_t,vi=0;vi<Ii;vi++)(Gi=te[vi]).length===2?(hl=Gi[0]*Fn+hl,Ha=Gi[1]*Pr+Ha,Zo(hl,Ha)):(os=Gi[0]*Fn+hl,ma=Gi[1]*Pr+Ha,ba=Gi[2]*Fn+hl,ua=Gi[3]*Pr+Ha,hl=Gi[4]*Fn+hl,Ha=Gi[5]*Pr+Ha,ul(os,ma,ba,ua,hl,Ha));return dn&&Jv(),Gs(nn),this},A.path=function(te){for(var Pe=0;Pe<te.length;Pe++){var _t=te[Pe],Et=_t.c;switch(_t.op){case"m":Pc(Et[0],Et[1]);break;case"l":Zo(Et[0],Et[1]);break;case"c":ul.apply(this,Et);break;case"h":Jv()}}return this},A.__private__.rect=A.rect=function(te,Pe,_t,Et,nn){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||isNaN(Et)||!Ua(nn))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(Et=-Et),Se([E(F(te)),E($(Pe)),E(F(_t)),E(F(Et)),"re"].join(" ")),Gs(nn),this},A.__private__.triangle=A.triangle=function(te,Pe,_t,Et,nn,dn,Fn){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||isNaN(Et)||isNaN(nn)||isNaN(dn)||!Ua(Fn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_t-te,Et-Pe],[nn-_t,dn-Et],[te-nn,Pe-dn]],te,Pe,[1,1],Fn,!0),this},A.__private__.roundedRect=A.roundedRect=function(te,Pe,_t,Et,nn,dn,Fn){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||isNaN(Et)||isNaN(nn)||isNaN(dn)||!Ua(Fn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pr=4/3*(Math.SQRT2-1);return nn=Math.min(nn,.5*_t),dn=Math.min(dn,.5*Et),this.lines([[_t-2*nn,0],[nn*Pr,0,nn,dn-dn*Pr,nn,dn],[0,Et-2*dn],[0,dn*Pr,-nn*Pr,dn,-nn,dn],[2*nn-_t,0],[-nn*Pr,0,-nn,-dn*Pr,-nn,-dn],[0,2*dn-Et],[0,-dn*Pr,nn*Pr,-dn,nn,-dn]],te+nn,Pe,[1,1],Fn,!0),this},A.__private__.ellipse=A.ellipse=function(te,Pe,_t,Et,nn){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||isNaN(Et)||!Ua(nn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dn=4/3*(Math.SQRT2-1)*_t,Fn=4/3*(Math.SQRT2-1)*Et;return Pc(te+_t,Pe),ul(te+_t,Pe-Fn,te+dn,Pe-Et,te,Pe-Et),ul(te-dn,Pe-Et,te-_t,Pe-Fn,te-_t,Pe),ul(te-_t,Pe+Fn,te-dn,Pe+Et,te,Pe+Et),ul(te+dn,Pe+Et,te+_t,Pe+Fn,te+_t,Pe),Gs(nn),this},A.__private__.circle=A.circle=function(te,Pe,_t,Et){if(isNaN(te)||isNaN(Pe)||isNaN(_t)||!Ua(Et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(te,Pe,_t,_t,Et)},A.setFont=function(te,Pe,_t){return _t&&(Pe=B(Pe,_t)),yt=Kd(te,Pe,{disableWarning:!1}),this};var kf=A.__private__.getFont=A.getFont=function(){return ct[Kd.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var te,Pe,_t={};for(te in Oe)if(Oe.hasOwnProperty(te))for(Pe in _t[te]=[],Oe[te])Oe[te].hasOwnProperty(Pe)&&_t[te].push(Pe);return _t},A.addFont=function(te,Pe,_t,Et,nn){var dn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dn.indexOf(arguments[3])!==-1?nn=arguments[3]:arguments[3]&&dn.indexOf(arguments[3])==-1&&(_t=B(_t,Et)),nn=nn||"Identity-H",jd.call(this,te,Pe,_t,nn)};var Uf,Kp=t.lineWidth||.200025,Hf=A.__private__.getLineWidth=A.getLineWidth=function(){return Kp},e0=A.__private__.setLineWidth=A.setLineWidth=function(te){return Kp=te,Se(E(F(te))+" w"),this};A.__private__.setLineDash=ts.API.setLineDash=ts.API.setLineDashPattern=function(te,Pe){if(te=te||[],Pe=Pe||0,isNaN(Pe)||!Array.isArray(te))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return te=te.map(function(_t){return E(F(_t))}).join(" "),Pe=E(F(Pe)),Se("["+te+"] "+Pe+" d"),this};var t0=A.__private__.getLineHeight=A.getLineHeight=function(){return gt*Uf};A.__private__.getLineHeight=A.getLineHeight=function(){return gt*Uf};var n0=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(te){return typeof(te=te||1.15)=="number"&&(Uf=te),this},Gf=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Uf};n0(t.lineHeight);var Ah=A.__private__.getHorizontalCoordinate=function(te){return F(te)},ph=A.__private__.getVerticalCoordinate=function(te){return S===x.ADVANCED?te:Dn[Y].mediaBox.topRightY-Dn[Y].mediaBox.bottomLeftY-F(te)},Qy=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(te){return E(Ah(te))},Vf=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(te){return E(ph(te))},gh=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Gn(gh)},A.__private__.setStrokeColor=A.setDrawColor=function(te,Pe,_t,Et){return gh=fr({ch1:te,ch2:Pe,ch3:_t,ch4:Et,pdfColorType:"draw",precision:2}),Se(gh),this};var D=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Gn(D)},A.__private__.setFillColor=A.setFillColor=function(te,Pe,_t,Et){return D=fr({ch1:te,ch2:Pe,ch3:_t,ch4:Et,pdfColorType:"fill",precision:2}),Se(D),this};var q=t.textColor||"0 g",le=A.__private__.getTextColor=A.getTextColor=function(){return Gn(q)};A.__private__.setTextColor=A.setTextColor=function(te,Pe,_t,Et){return q=fr({ch1:te,ch2:Pe,ch3:_t,ch4:Et,pdfColorType:"text",precision:3}),this};var pe=t.charSpace,Le=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(pe||0)};A.__private__.setCharSpace=A.setCharSpace=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pe=te,this};var Re=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(te){var Pe=A.CapJoinStyles[te];if(Pe===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Re=Pe,Se(Pe+" J"),this};var Ge=0;A.__private__.setLineJoin=A.setLineJoin=function(te){var Pe=A.CapJoinStyles[te];if(Pe===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ge=Pe,Se(Pe+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(te){if(te=te||0,isNaN(te))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Se(E(F(te))+" M"),this},A.GState=gN,A.setGState=function(te){(te=typeof te=="string"?Kt[bn[te]]:Rt(null,te)).equals(Rn)||(Se("/"+te.id+" gs"),Rn=te)};var Rt=function(te,Pe){if(!te||!bn[te]){var _t=!1;for(var Et in Kt)if(Kt.hasOwnProperty(Et)&&Kt[Et].equals(Pe)){_t=!0;break}if(_t)Pe=Kt[Et];else{var nn="GS"+(Object.keys(Kt).length+1).toString(10);Kt[nn]=Pe,Pe.id=nn}return te&&(bn[te]=Pe.id),Un.publish("addGState",Pe),Pe}};A.addGState=function(te,Pe){return Rt(te,Pe),this},A.saveGraphicsState=function(){return Se("q"),kt.push({key:yt,size:gt,color:q}),this},A.restoreGraphicsState=function(){Se("Q");var te=kt.pop();return yt=te.key,gt=te.size,q=te.color,Rn=null,this},A.setCurrentTransformationMatrix=function(te){return Se(te.toString()+" cm"),this},A.comment=function(te){return Se("#"+te),this};var bt=function(te,Pe){var _t=te||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _t},set:function(dn){isNaN(dn)||(_t=parseFloat(dn))}});var Et=Pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Et},set:function(dn){isNaN(dn)||(Et=parseFloat(dn))}});var nn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nn},set:function(dn){nn=dn.toString()}}),this},Xt=function(te,Pe,_t,Et){bt.call(this,te,Pe),this.type="rect";var nn=_t||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nn},set:function(Fn){isNaN(Fn)||(nn=parseFloat(Fn))}});var dn=Et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dn},set:function(Fn){isNaN(Fn)||(dn=parseFloat(Fn))}}),this},Sn=function(){this.page=On,this.currentPage=Y,this.pages=Qe.slice(0),this.pagesContext=Dn.slice(0),this.x=Dt,this.y=st,this.matrix=ke,this.width=Ri(Y),this.height=Xi(Y),this.outputDestination=ye,this.id="",this.objectNumber=-1};Sn.prototype.restore=function(){On=this.page,Y=this.currentPage,Dn=this.pagesContext,Qe=this.pages,Dt=this.x,st=this.y,ke=this.matrix,Ts(Y,this.width),Oo(Y,this.height),ye=this.outputDestination};var Pn=function(te,Pe,_t,Et,nn){Ji.push(new Sn),On=Y=0,Qe=[],Dt=te,st=Pe,ke=nn,td([_t,Et])},yn=function(te){if(bi[te])Ji.pop().restore();else{var Pe=new Sn,_t="Xo"+(Object.keys(Mi).length+1).toString(10);Pe.id=_t,bi[te]=_t,Mi[_t]=Pe,Un.publish("addFormObject",Pe),Ji.pop().restore()}};for(var nr in A.beginFormObject=function(te,Pe,_t,Et,nn){return Pn(te,Pe,_t,Et,nn),this},A.endFormObject=function(te){return yn(te),this},A.doFormObject=function(te,Pe){var _t=Mi[bi[te]];return Se("q"),Se(Pe.toString()+" cm"),Se("/"+_t.id+" Do"),Se("Q"),this},A.getFormObject=function(te){var Pe=Mi[bi[te]];return{x:Pe.x,y:Pe.y,width:Pe.width,height:Pe.height,matrix:Pe.matrix}},A.save=function(te,Pe){return te=te||"generated.pdf",(Pe=Pe||{}).returnPromise=Pe.returnPromise||!1,Pe.returnPromise===!1?(X_(dh(rd()),te),typeof X_.unload=="function"&&ns.setTimeout&&setTimeout(X_.unload,911),this):new Promise(function(_t,Et){try{var nn=X_(dh(rd()),te);typeof X_.unload=="function"&&ns.setTimeout&&setTimeout(X_.unload,911),_t(nn)}catch(dn){Et(dn.message)}})},ts.API)ts.API.hasOwnProperty(nr)&&(nr==="events"&&ts.API.events.length?function(te,Pe){var _t,Et,nn;for(nn=Pe.length-1;nn!==-1;nn--)_t=Pe[nn][0],Et=Pe[nn][1],te.subscribe.apply(te,[_t].concat(typeof Et=="function"?[Et]:Et))}(Un,ts.API.events):A[nr]=ts.API[nr]);var Ri=A.getPageWidth=function(te){return(Dn[te=te||Y].mediaBox.topRightX-Dn[te].mediaBox.bottomLeftX)/Qt},Ts=A.setPageWidth=function(te,Pe){Dn[te].mediaBox.topRightX=Pe*Qt+Dn[te].mediaBox.bottomLeftX},Xi=A.getPageHeight=function(te){return(Dn[te=te||Y].mediaBox.topRightY-Dn[te].mediaBox.bottomLeftY)/Qt},Oo=A.setPageHeight=function(te,Pe){Dn[te].mediaBox.topRightY=Pe*Qt+Dn[te].mediaBox.bottomLeftY};return A.internal={pdfEscape:fo,getStyle:fh,getFont:kf,getFontSize:Te,getCharSpace:Le,getTextColor:le,getLineHeight:t0,getLineHeightFactor:Gf,getLineWidth:Hf,write:at,getHorizontalCoordinate:Ah,getVerticalCoordinate:ph,getCoordinateString:Qy,getVerticalCoordinateString:Vf,collections:{},newObject:ki,newAdditionalObject:Cn,newObjectDeferred:ot,newObjectDeferredBegin:sn,getFilters:Gr,putStream:$r,events:Un,scaleFactor:Qt,pageSize:{getWidth:function(){return Ri(Y)},setWidth:function(te){Ts(Y,te)},getHeight:function(){return Xi(Y)},setHeight:function(te){Oo(Y,te)}},encryptionOptions:h,encryption:cl,getEncryptor:qi,output:Nf,getNumberOfPages:Of,pages:Qe,out:Se,f2:k,f3:O,getPageInfo:ir,getPageInfoByObjId:ur,getCurrentPageInfo:Fo,getPDFVersion:g,Point:bt,Rectangle:Xt,Matrix:br,hasHotfix:Xd},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return Ri(Y)},set:function(te){Ts(Y,te)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Xi(Y)},set:function(te){Oo(Y,te)},enumerable:!0,configurable:!0}),TA.call(A,je),yt="F1",Qp(i,n),Un.publish("initialized"),A}Dx.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Dx.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Dx.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Dx.prototype.processOwnerPassword=function(t,e){return qG(KG(e).substr(0,5),t)},Dx.prototype.encryptor=function(t,e){var n=KG(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return qG(n,r)}},gN.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ba(t)!==Ba(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ts.API={events:[]},ts.version="2.5.2";var yl=ts.API,VQ=1,Bw=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bs=function(t){return t.toFixed(2)},T0=function(t){return t.toFixed(5)};yl.__acroform__={};var Wd=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},nne=function(t){return t*VQ},Fg=function(t){var e=new Hme,n=ui.internal.getHeight(t)||0,r=ui.internal.getWidth(t)||0;return e.BBox=[0,0,Number(bs(r)),Number(bs(n))],e},Ixt=yl.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Pxt=yl.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Fxt=yl.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Ol=yl.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Fxt(t,e-1)},Nl=yl.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ixt(t,e-1)},Dl=yl.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pxt(t,e-1)},Oxt=yl.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(bs(l.lowerLeft_X)),Number(bs(l.lowerLeft_Y)),Number(bs(l.upperRight_X)),Number(bs(l.upperRight_Y))]},Nxt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=XG(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+bs(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Fg(t);return s.scope=t.scope,s.stream=e.join("\n"),s}},XG=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split("\n")}):i.map(function(O){return[O]});var s=n,a=ui.internal.getHeight(t)||0;a=a<0?-a:a;var o=ui.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,F,U){if(O+1<i.length){var $=F+" "+i[O+1][0];return DI($,t,U).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,d=DI("3",t,s).height,f=t.multiline?a-s:(a-d)/2,A=f+=2,m=0,g=0,y=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+DI(e,t,s=12).width+", FieldWidth:"+o+"\n";break}for(var _="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var C=!1;if(i[S].length!==1&&y!==i[S].length-1){if((d+2)*(x+2)+2>a)continue e;_+=i[S][y],C=!0,g=S,S--}else{_=(_+=i[S][y]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var M=parseInt(S),B=l(M,_,s),E=S>=i.length-1;if(B&&!E){_+=" ",y=0;continue}if(B||E){if(E)g=M;else if(t.multiline&&(d+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(x+2)+2>a)continue e;g=M}}for(var L="",I=m;I<=g;I++){var k=i[I];if(t.multiline){if(I===g){L+=k[y]+" ",y=(y+1)%k.length;continue}if(I===m){L+=k[k.length-1]+" ";continue}}L+=k[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=DI(L,t,s).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;case"left":default:u=2}e+=bs(u)+" "+bs(A)+" Td\n",e+="("+Bw(L)+") Tj\n",e+=-bs(u)+" 0 Td\n",A=-(s+2),h=0,m=C?g:g+1,x++,_=""}break}return r.text=e,r.fontSize=s,r},DI=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Dxt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kxt=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Uxt=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Ba(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Hxt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Hp.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Dxt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");VQ=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Gme,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&kxt(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Oxt(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ui.createDefaultAppearanceStream(o),Ba(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Nxt(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var A=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var a in A)if(A.hasOwnProperty(a)){var m=A[a];typeof m=="function"&&(m=m.call(i,o)),d+="/"+a+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=A)=="function"&&(m=m.call(i,o)),d+="/"+a+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&Uxt(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ume=yl.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ba(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Bw(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},k3=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Bw(r(t))+")"},Xg=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xg.prototype.toString=function(){return this.objId+" 0 R"},Xg.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Xg.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Ume(i,this.objId,this.scope)}):i instanceof Xg?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Hme=function(){Xg.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Wd(Hme,Xg);var Gme=function(){Xg.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Bw(n(t))+")"}},set:function(n){t=n}})};Wd(Gme,Xg);var Hp=function t(){Xg.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ol(e,3)},set:function(_){_?this.F=Nl(e,3):this.F=Dl(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof mN)return;s="FieldObject"+t.FieldNum++}var _=function(x){return x};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Bw(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/VQ:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof mN||this instanceof D1))return k3(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=_}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Wc?f:k3(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=this instanceof Wc?_:_.substr(0,1)==="("?hx(_.substr(1,_.length-2)):hx(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wc?hx(f.substr(1,f.length-1)):f},set:function(_){_=_.toString(),f=this instanceof Wc?"/"+_:_}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Wc?A:k3(A,this.objId,this.scope)},set:function(_){_=_.toString(),A=this instanceof Wc?_:_.substr(0,1)==="("?hx(_.substr(1,_.length-2)):hx(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wc?hx(A.substr(1,A.length-1)):A},set:function(_){_=_.toString(),A=this instanceof Wc?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(_){m=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,1)},set:function(_){_?this.Ff=Nl(this.Ff,1):this.Ff=Dl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,2)},set:function(_){_?this.Ff=Nl(this.Ff,2):this.Ff=Dl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,3)},set:function(_){_?this.Ff=Nl(this.Ff,3):this.Ff=Dl(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');y=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(y){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Wd(Hp,Xg);var FE=function(){Hp.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ume(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,18)},set:function(n){n?this.Ff=Nl(this.Ff,18):this.Ff=Dl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nl(this.Ff,19):this.Ff=Dl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,20)},set:function(n){n?(this.Ff=Nl(this.Ff,20),e.sort()):this.Ff=Dl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,22)},set:function(n){n?this.Ff=Nl(this.Ff,22):this.Ff=Dl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,23)},set:function(n){n?this.Ff=Nl(this.Ff,23):this.Ff=Dl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,27)},set:function(n){n?this.Ff=Nl(this.Ff,27):this.Ff=Dl(this.Ff,27)}}),this.hasAppearanceStream=!1};Wd(FE,Hp);var OE=function(){FE.call(this),this.fontName="helvetica",this.combo=!1};Wd(OE,FE);var NE=function(){OE.call(this),this.combo=!0};Wd(NE,OE);var bF=function(){NE.call(this),this.edit=!0};Wd(bF,NE);var Wc=function(){Hp.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,15)},set:function(n){n?this.Ff=Nl(this.Ff,15):this.Ff=Dl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,16)},set:function(n){n?this.Ff=Nl(this.Ff,16):this.Ff=Dl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,17)},set:function(n){n?this.Ff=Nl(this.Ff,17):this.Ff=Dl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,26)},set:function(n){n?this.Ff=Nl(this.Ff,26):this.Ff=Dl(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Bw(n(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(n){Ba(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Wd(Wc,Hp);var xF=function(){Wc.call(this),this.pushButton=!0};Wd(xF,Wc);var DE=function(){Wc.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Wd(DE,Wc);var mN=function(){var t,e;Hp.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Bw(i(r[s]))+")");return a.push(">>"),a.join("\n")},set:function(i){Ba(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ui.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wd(mN,Hp),DE.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},DE.prototype.createOption=function(t){var e=new mN;return e.Parent=this,e.optionName=t,this.Kids.push(e),Gxt.call(this.scope,e),e};var EF=function(){Wc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ui.CheckBox.createAppearanceStream()};Wd(EF,Wc);var D1=function(){Hp.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,13)},set:function(e){e?this.Ff=Nl(this.Ff,13):this.Ff=Dl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,21)},set:function(e){e?this.Ff=Nl(this.Ff,21):this.Ff=Dl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,23)},set:function(e){e?this.Ff=Nl(this.Ff,23):this.Ff=Dl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,24)},set:function(e){e?this.Ff=Nl(this.Ff,24):this.Ff=Dl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,25)},set:function(e){e?this.Ff=Nl(this.Ff,25):this.Ff=Dl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,26)},set:function(e){e?this.Ff=Nl(this.Ff,26):this.Ff=Dl(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wd(D1,Hp);var SF=function(){D1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ol(this.Ff,14)},set:function(t){t?this.Ff=Nl(this.Ff,14):this.Ff=Dl(this.Ff,14)}}),this.password=!0};Wd(SF,D1);var ui={CheckBox:{createAppearanceStream:function(){return{N:{On:ui.CheckBox.YesNormal},D:{On:ui.CheckBox.YesPushDown,Off:ui.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=XG(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+bs(ui.internal.getWidth(t))+" "+bs(ui.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+bs(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=Fg(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=ui.internal.getHeight(t),a=ui.internal.getWidth(t),o=XG(t,t.caption);return i.push("1 g"),i.push("0 0 "+bs(a)+" "+bs(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bs(a-1)+" "+bs(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+bs(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bs(ui.internal.getWidth(t))+" "+bs(ui.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ui.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ui.RadioButton.Circle.YesNormal,e.D[t]=ui.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fg(t);e.scope=t.scope;var n=[],r=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ui.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+T0(ui.internal.getWidth(t)/2)+" "+T0(ui.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=[],r=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ui.internal.Bezier_C).toFixed(5)),a=Number((r*ui.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+T0(ui.internal.getWidth(t)/2)+" "+T0(ui.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+T0(ui.internal.getWidth(t)/2)+" "+T0(ui.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=[],r=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ui.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+T0(ui.internal.getWidth(t)/2)+" "+T0(ui.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ui.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ui.RadioButton.Cross.YesNormal,e.D[t]=ui.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fg(t);e.scope=t.scope;var n=[],r=ui.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+bs(ui.internal.getWidth(t)-2)+" "+bs(ui.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(bs(r.x1.x)+" "+bs(r.x1.y)+" m"),n.push(bs(r.x2.x)+" "+bs(r.x2.y)+" l"),n.push(bs(r.x4.x)+" "+bs(r.x4.y)+" m"),n.push(bs(r.x3.x)+" "+bs(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=ui.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+bs(ui.internal.getWidth(t))+" "+bs(ui.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bs(ui.internal.getWidth(t)-2)+" "+bs(ui.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(bs(n.x1.x)+" "+bs(n.x1.y)+" m"),r.push(bs(n.x2.x)+" "+bs(n.x2.y)+" l"),r.push(bs(n.x4.x)+" "+bs(n.x4.y)+" m"),r.push(bs(n.x3.x)+" "+bs(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=Fg(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bs(ui.internal.getWidth(t))+" "+bs(ui.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ui.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ui.internal.getWidth(t),n=ui.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ui.internal.getWidth=function(t){var e=0;return Ba(t)==="object"&&(e=nne(t.Rect[2])),e},ui.internal.getHeight=function(t){var e=0;return Ba(t)==="object"&&(e=nne(t.Rect[3])),e};var Gxt=yl.addField=function(t){if(Hxt(this,t),!(t instanceof Hp))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yl.AcroFormChoiceField=FE,yl.AcroFormListBox=OE,yl.AcroFormComboBox=NE,yl.AcroFormEditBox=bF,yl.AcroFormButton=Wc,yl.AcroFormPushButton=xF,yl.AcroFormRadioButton=DE,yl.AcroFormCheckBox=EF,yl.AcroFormTextField=D1,yl.AcroFormPasswordField=SF,yl.AcroFormAppearance=ui,yl.AcroForm={ChoiceField:FE,ListBox:OE,ComboBox:NE,EditBox:bF,Button:Wc,PushButton:xF,RadioButton:DE,CheckBox:EF,TextField:D1,PasswordField:SF,Appearance:ui},ts.AcroForm={ChoiceField:FE,ListBox:OE,ComboBox:NE,EditBox:bF,Button:Wc,PushButton:xF,RadioButton:DE,CheckBox:EF,TextField:D1,PasswordField:SF,Appearance:ui};function Vme(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,F){var U,$,K,V,Q,X=e;if((F=F||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(B(O))for(Q in n)for(K=n[Q],U=0;U<K.length;U+=1){for(V=!0,$=0;$<K[U].length;$+=1)if(K[U][$]!==void 0&&K[U][$]!==O[$]){V=!1;break}if(V===!0){X=Q;break}}else for(Q in n)for(K=n[Q],U=0;U<K.length;U+=1){for(V=!0,$=0;$<K[U].length;$+=1)if(K[U][$]!==void 0&&K[U][$]!==O.charCodeAt($)){V=!1;break}if(V===!0){X=Q;break}}return X===e&&F!==e&&(X=F),X},i=function O(F){for(var U=this.internal.write,$=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:F.width}),V.push({key:"Height",value:F.height}),F.colorSpace===y.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===y.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Q="",X=0,z=F.transparency.length;X<z;X++)Q+=F.transparency[X]+" "+F.transparency[X]+" ";V.push({key:"Mask",value:"["+Q+"]"})}F.sMask!==void 0&&V.push({key:"SMask",value:F.objectId+1+" 0 R"});var ne=F.filter!==void 0?["/"+F.filter]:void 0;if($({data:F.data,additionalKeyValues:V,alreadyAppliedFilters:ne,objectId:F.objectId}),U("endobj"),"sMask"in F&&F.sMask!==void 0){var he="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,W={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:he,data:F.sMask};"filter"in F&&(W.filter=F.filter),O.call(this,W)}if(F.colorSpace===y.INDEXED){var Y=this.internal.newObject();$({data:L(new Uint8Array(F.palette)),objectId:Y}),U("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var F in O)i.call(this,O[F])},a=function(){var O,F=this.internal.collections.addImage_images,U=this.internal.write;for(var $ in F)U("/I"+(O=F[$]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(O){return typeof t["process"+O.toUpperCase()]=="function"},d=function(O){return Ba(O)==="object"&&O.nodeType===1},f=function(O,F){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return qT(unescape(U).split("base64,").pop());var $=t.loadFile(U,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var K;switch(F){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return qT(O.toDataURL(K,1).split("base64,").pop())}},A=function(O){var F=this.internal.collections.addImage_images;if(F){for(var U in F)if(O===F[U].alias)return F[U]}},m=function(O,F,U){return O||F||(O=-96,F=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),F<0&&(F=-1*U.height*72/F/this.internal.scaleFactor),O===0&&(O=F*U.width/U.height),F===0&&(F=O*U.height/U.width),[O,F]},g=function(O,F,U,$,K,V){var Q=m.call(this,U,$,K),X=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,ne=l.call(this);if(U=Q[0],$=Q[1],ne[K.index]=K,V){V*=Math.PI/180;var he=Math.cos(V),W=Math.sin(V),Y=function(fe){return fe.toFixed(4)},oe=[Y(he),Y(W),Y(-1*W),Y(he),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,X(O),z(F+$),"cm"].join(" ")),this.internal.write(oe.join(" ")),this.internal.write([X(U),"0","0",X($),"0","0","cm"].join(" "))):this.internal.write([X(U),"0","0",X($),X(O),z(F+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var F,U,$=0;if(typeof O=="string")for(U=O.length,F=0;F<U;F++)$=($<<5)-$+O.charCodeAt(F),$|=0;else if(B(O))for(U=O.byteLength/2,F=0;F<U;F++)$=($<<5)-$+O[F],$|=0;return $},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var F=!0;return O.length===0&&(F=!1),O.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(F=!1),F},C=t.__addimage__.extractImageFromDataUrl=function(O){var F=(O=O||"").split("base64,"),U=null;if(F.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray($)&&(U={mimeType:$[1],charset:$[2],data:F[1]})}return U},M=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return M()&&O instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(O){return M()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var F=O.length,U=new Uint8Array(F),$=0;$<F;$++)U[$]=O.charCodeAt($);return U},L=t.__addimage__.arrayBufferToBinaryString=function(O){for(var F="",U=B(O)?O:new Uint8Array(O),$=0;$<U.length;$+=8192)F+=String.fromCharCode.apply(null,U.subarray($,$+8192));return F};t.addImage=function(){var O,F,U,$,K,V,Q,X,z;if(typeof arguments[1]=="number"?(F=e,U=arguments[1],$=arguments[2],K=arguments[3],V=arguments[4],Q=arguments[5],X=arguments[6],z=arguments[7]):(F=arguments[1],U=arguments[2],$=arguments[3],K=arguments[4],V=arguments[5],Q=arguments[6],X=arguments[7],z=arguments[8]),Ba(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var ne=O;O=ne.imageData,F=ne.format||F||e,U=ne.x||U||0,$=ne.y||$||0,K=ne.w||ne.width||K,V=ne.h||ne.height||V,Q=ne.alias||Q,X=ne.compression||X,z=ne.rotation||ne.angle||z}var he=this.internal.getFilters();if(X===void 0&&he.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(U)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var W=I.call(this,O,F,Q,X);return g.call(this,U,$,K,V,W,z),this};var I=function(O,F,U,$){var K,V,Q;if(typeof O=="string"&&r(O)===e){O=unescape(O);var X=k(O,!1);(X!==""||(X=t.loadFile(O,!0))!==void 0)&&(O=X)}if(d(O)&&(O=f(O,F)),F=r(O,F),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Q=U)==null||Q.length===0)&&(U=function(z){return typeof z=="string"||B(z)?x(z):B(z.data)?x(z.data):null}(O)),(K=A.call(this,U))||(M()&&(O instanceof Uint8Array||F==="RGBA"||(V=O,O=E(O))),K=this["process"+F.toUpperCase()](O,u.call(this),U,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:_.NONE}($),V)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},k=t.__addimage__.convertBase64ToBinaryString=function(O,F){var U;F=typeof F!="boolean"||F;var $,K="";if(typeof O=="string"){$=(U=C(O))!==null?U.data:O;try{K=qT($)}catch(V){if(F)throw S($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(O){var F,U,$="";if(d(O)&&(O=f(O)),typeof O=="string"&&r(O)===e&&(($=k(O,!1))===""&&($=t.loadFile(O)||""),O=$),U=r(O),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!M()||O instanceof Uint8Array||(O=E(O)),!(F=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=U,F}})(ts.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ts.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,d=0;d<u.length&&!h;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var A=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+A(_(r.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+A(_(x))+") >>",g.content=s;var S=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(m(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var M=this.annotations._nameMap[r.options.name];r.options.pageNumber=M.page,r.options.top=M.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(n,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ts.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(g){var y=0,_=n,x="",S=0;for(y=0;y<g.length;y+=1)_[g.charCodeAt(y)]!==void 0?(S++,typeof(_=_[g.charCodeAt(y)])=="number"&&(x+=String.fromCharCode(_),_=n,S=0),y===g.length-1&&(_=n,x+=g.charAt(y-(S-1)),y-=S-1,S=0)):(_=n,x+=g.charAt(y-S),y-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(g,y,_){return a(g)?s(g)===!1?-1:!u(g)||!a(y)&&!a(_)||!a(_)&&o(y)||o(g)&&!a(y)||o(g)&&l(y)||o(g)&&o(y)?0:h(g)&&a(y)&&!o(y)&&a(_)&&u(_)?3:o(g)||!a(_)?1:2:-1},A=function(g){var y=0,_=0,x=0,S="",C="",M="",B=(g=g||"").split("\\s+"),E=[];for(y=0;y<B.length;y+=1){for(E.push(""),_=0;_<B[y].length;_+=1)S=B[y][_],C=B[y][_-1],M=B[y][_+1],a(S)?(x=f(S,C,M),E[y]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):E[y]+=S;E[y]=d(E[y])}return E.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(y)){var x=0;for(_=[],x=0;x<y.length;x+=1)Array.isArray(y[x])?_.push([A(y[x][0]),y[x][1],y[x][2]]):_.push([A(y[x])]);g=_}else g=A(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(ts.API),ts.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ts.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,A=0,m=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(y.splitTextToSize(C,_))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)A<(g=this.getStringUnitWidth(l[x],{font:d})*h)&&(A=g);return A!==0&&(m=l.length),{w:A/=f,h:Math.max((m*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,A&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,d,f){if(r.call(this),!h)throw new Error("No data for PDF table.");var A,m,g,y,_=[],x=[],S=[],C={},M={},B=[],E=[],L=(f=f||{}).autoSize||!1,I=f.printHeaders!==!1,k=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,O=f.margins||Object.assign({width:this.getPageWidth()},e),F=typeof f.padding=="number"?f.padding:3,U=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=$,this.setFontSize(k),d==null)x=_=Object.keys(h[0]),S=_.map(function(){return"left"});else if(Array.isArray(d)&&Ba(d[0])==="object")for(_=d.map(function(ne){return ne.name}),x=d.map(function(ne){return ne.prompt||ne.name||""}),S=d.map(function(ne){return ne.align||"left"}),A=0;A<d.length;A+=1)M[d[A].name]=d[A].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=_=d,S=_.map(function(){return"left"}));if(L||Array.isArray(d)&&typeof d[0]=="string")for(A=0;A<_.length;A+=1){for(C[y=_[A]]=h.map(function(ne){return ne[y]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)B.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[y]=Math.max.apply(null,B)+F+F,B=[]}if(I){var K={};for(A=0;A<_.length;A+=1)K[_[A]]={},K[_[A]].text=x[A],K[_[A]].align=S[A];var V=o.call(this,K,M);E=_.map(function(ne){return new s(l,u,M[ne],V,K[ne].text,void 0,K[ne].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var Q=d.reduce(function(ne,he){return ne[he.name]=he.align,ne},{});for(A=0;A<h.length;A+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:A,data:h[A]},this);var X=o.call(this,h[A],M);for(g=0;g<_.length;g+=1){var z=h[A][_[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:A,col:g,data:z},this),a.call(this,new s(l,u,M[_[g]],X,z,A+2,Q[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(A){var m=l[A];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[A]-h-h)},this).map(function(A){return this.getLineHeightFactor()*A.length*d/f+h+h},this).reduce(function(A,m){return Math.max(A,m)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){h=this.internal.__cell__.tableHeaderRow[A].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,f.push(h)),h.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(ts.API);var zme={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$me=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YG=Vme($me),Qme=[100,200,300,400,500,600,700,800,900],Vxt=Vme(Qme);function ZG(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return zme[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof YG[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function rne(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var zxt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ine={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sne(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $xt(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},zxt,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=ZG(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+sne(s)+"' and default family '"+r+"'.");if(a=function(l,u){if(u[l])return u[l];var h=YG[l],d=h<=YG.normal?-1:1,f=rne(u,$me,h,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var h=zme[l],d=0;d<h.length;++d)if(u[h[d]])return u[h[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=Vxt[l],d=rne(u,Qme,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+sne(s)+"'.");return a}function ane(t){return t.trimLeft()}function Qxt(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Wxt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var kI,one,lne,U3=["times"];(function(t){var e,n,r,i,s,a,o,l,u,h=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new l,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new a,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new a,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var d=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=W;Object.defineProperty(this,"pdf",{get:function(){return Y}});var oe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oe},set:function(Ve){oe=!!Ve}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(Ve){fe=!!Ve}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Ve){isNaN(Ve)||(me=Ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ve){isNaN(Ve)||(ce=Ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ve){var Se;typeof Ve=="number"?Se=[Ve,Ve,Ve,Ve]:((Se=new Array(4))[0]=Ve[0],Se[1]=Ve.length>=2?Ve[1]:Se[0],Se[2]=Ve.length>=3?Ve[2]:Se[0],Se[3]=Ve.length>=4?Ve[3]:Se[1]),u.margin=Se}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Ve){be=Ve}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Ve){xe=Ve}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Ve){Ie=Ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ve){Ve instanceof h&&(u=Ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ve){u.path=Ve}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Ve){Qe=Ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ve){var Se;Se=f(Ve),this.ctx.fillStyle=Se.style,this.ctx.isFillTransparent=Se.a===0,this.ctx.fillOpacity=Se.a,this.pdf.setFillColor(Se.r,Se.g,Se.b,{a:Se.a}),this.pdf.setTextColor(Se.r,Se.g,Se.b,{a:Se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ve){var Se=f(Ve);this.ctx.strokeStyle=Se.style,this.ctx.isStrokeTransparent=Se.a===0,this.ctx.strokeOpacity=Se.a,Se.a===0?this.pdf.setDrawColor(255,255,255):(Se.a,this.pdf.setDrawColor(Se.r,Se.g,Se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ve){["butt","round","square"].indexOf(Ve)!==-1&&(this.ctx.lineCap=Ve,this.pdf.setLineCap(Ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ve){isNaN(Ve)||(this.ctx.lineWidth=Ve,this.pdf.setLineWidth(Ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ve){["bevel","round","miter"].indexOf(Ve)!==-1&&(this.ctx.lineJoin=Ve,this.pdf.setLineJoin(Ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ve){isNaN(Ve)||(this.ctx.miterLimit=Ve,this.pdf.setMiterLimit(Ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ve){this.ctx.textBaseline=Ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ve){["right","end","center","left","start"].indexOf(Ve)!==-1&&(this.ctx.textAlign=Ve)}});var ue=null;function ye(Ve,Se){if(ue===null){var at=function(ft){var je=[];return Object.keys(ft).forEach(function(gt){ft[gt].forEach(function(vt){var Te=null;switch(vt){case"bold":Te={family:gt,weight:"bold"};break;case"italic":Te={family:gt,style:"italic"};break;case"bolditalic":Te={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:gt}}Te!==null&&(Te.ref={name:gt,style:vt},je.push(Te))})}),je}(Ve.getFontList());ue=function(ft){for(var je={},gt=0;gt<ft.length;++gt){var vt=ZG(ft[gt]),Te=vt.family,we=vt.stretch,Ne=vt.style,Ze=vt.weight;je[Te]=je[Te]||{},je[Te][we]=je[Te][we]||{},je[Te][we][Ne]=je[Te][we][Ne]||{},je[Te][we][Ne][Ze]=vt}return je}(at.concat(Se))}return ue}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Ve){ue=null,$e=Ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ve){var Se;if(this.ctx.font=Ve,(Se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ve))!==null){var at=Se[1],ft=(Se[2],Se[3]),je=Se[4],gt=(Se[5],Se[6]),vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(vt==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Te=function(Ye){var yt,Qt,Dt=[],st=Ye.trim();if(st==="")return U3;if(st in ine)return[ine[st]];for(;st!=="";){switch(Qt=null,yt=(st=ane(st)).charAt(0)){case'"':case"'":Qt=Qxt(st.substring(1),yt);break;default:Qt=Wxt(st)}if(Qt===null||(Dt.push(Qt[0]),(st=ane(Qt[1]))!==""&&st.charAt(0)!==","))return U3;st=st.replace(/^,/,"")}return Dt}(gt);if(this.fontFaces){var we=$xt(ye(this.pdf,this.fontFaces),Te.map(function(Ye){return{family:Ye,stretch:"normal",weight:ft,style:at}}));this.pdf.setFont(we.ref.name,we.ref.style)}else{var Ne="";(ft==="bold"||parseInt(ft,10)>=700||at==="bold")&&(Ne="bold"),at==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Ze="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<Te.length;Zt++){if(this.pdf.internal.getFont(Te[Zt],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Ze=Te[Zt];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(Te[Zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=Te[Zt],Ne="bold";else if(this.pdf.internal.getFont(Te[Zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=Te[Zt],Ne="normal";break}}if(Ze===""){for(var ln=0;ln<Te.length;ln++)if(Tt[Te[ln]]){Ze=Tt[Te[ln]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ve){this.ctx.globalCompositeOperation=Ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ve){this.ctx.globalAlpha=Ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ve){this.ctx.lineDashOffset=Ve,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ve){this.ctx.lineDash=Ve,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ve){this.ctx.ignoreClearRect=!!Ve}})};d.prototype.setLineDash=function(W){this.lineDash=W},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(W,Y){if(isNaN(W)||isNaN(Y))throw vo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var oe=this.ctx.transform.applyToPoint(new a(W,Y));this.path.push({type:"mt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(W,Y)},d.prototype.closePath=function(){var W=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Ba(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){W=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(W.x,W.y)},d.prototype.lineTo=function(W,Y){if(isNaN(W)||isNaN(Y))throw vo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var oe=this.ctx.transform.applyToPoint(new a(W,Y));this.path.push({type:"lt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(W,Y,oe,fe){if(isNaN(oe)||isNaN(fe)||isNaN(W)||isNaN(Y))throw vo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new a(oe,fe)),ce=this.ctx.transform.applyToPoint(new a(W,Y));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},d.prototype.bezierCurveTo=function(W,Y,oe,fe,me,ce){if(isNaN(me)||isNaN(ce)||isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe))throw vo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new a(me,ce)),xe=this.ctx.transform.applyToPoint(new a(W,Y)),Ie=this.ctx.transform.applyToPoint(new a(oe,fe));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ie.x,y2:Ie.y,x:be.x,y:be.y}),this.ctx.lastPoint=new a(be.x,be.y)},d.prototype.arc=function(W,Y,oe,fe,me,ce){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe)||isNaN(me))throw vo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new a(W,Y));W=be.x,Y=be.y;var xe=this.ctx.transform.applyToPoint(new a(0,oe)),Ie=this.ctx.transform.applyToPoint(new a(0,0));oe=Math.sqrt(Math.pow(xe.x-Ie.x,2)+Math.pow(xe.y-Ie.y,2))}Math.abs(me-fe)>=2*Math.PI&&(fe=0,me=2*Math.PI),this.path.push({type:"arc",x:W,y:Y,radius:oe,startAngle:fe,endAngle:me,counterclockwise:ce})},d.prototype.arcTo=function(W,Y,oe,fe,me){throw new Error("arcTo not implemented.")},d.prototype.rect=function(W,Y,oe,fe){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe))throw vo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,Y),this.lineTo(W+oe,Y),this.lineTo(W+oe,Y+fe),this.lineTo(W,Y+fe),this.lineTo(W,Y),this.lineTo(W+oe,Y),this.lineTo(W,Y)},d.prototype.fillRect=function(W,Y,oe,fe){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe))throw vo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,Y,oe,fe),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},d.prototype.strokeRect=function(W,Y,oe,fe){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe))throw vo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(W,Y,oe,fe),this.stroke())},d.prototype.clearRect=function(W,Y,oe,fe){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe))throw vo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,Y,oe,fe))},d.prototype.save=function(W){W=typeof W!="boolean"||W;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},d.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(W){var Y,oe,fe,me;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))Y=0,oe=0,fe=0,me=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(ce!==null)Y=parseInt(ce[1]),oe=parseInt(ce[2]),fe=parseInt(ce[3]),me=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)Y=parseInt(ce[1]),oe=parseInt(ce[2]),fe=parseInt(ce[3]),me=parseFloat(ce[4]);else{if(me=1,typeof W=="string"&&W.charAt(0)!=="#"){var be=new Nme(W);W=be.ok?be.toHex():"#000000"}W.length===4?(Y=W.substring(1,2),Y+=Y,oe=W.substring(2,3),oe+=oe,fe=W.substring(3,4),fe+=fe):(Y=W.substring(1,3),oe=W.substring(3,5),fe=W.substring(5,7)),Y=parseInt(Y,16),oe=parseInt(oe,16),fe=parseInt(fe,16)}}return{r:Y,g:oe,b:fe,a:me,style:W}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(W,Y,oe,fe){if(isNaN(Y)||isNaN(oe)||typeof W!="string")throw vo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!A.call(this)){var me=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:W,x:Y,y:oe,scale:ce,angle:me,align:this.textAlign,maxWidth:fe})}},d.prototype.strokeText=function(W,Y,oe,fe){if(isNaN(Y)||isNaN(oe)||typeof W!="string")throw vo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){fe=isNaN(fe)?void 0:fe;var me=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:W,x:Y,y:oe,scale:ce,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:fe})}},d.prototype.measureText=function(W){if(typeof W!="string")throw vo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,oe=this.pdf.internal.scaleFactor,fe=Y.internal.getFontSize(),me=Y.getStringUnitWidth(W)*fe/Y.internal.scaleFactor,ce=function(be){var xe=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new ce({width:me*=Math.round(96*oe/72*1e4)/1e4})},d.prototype.scale=function(W,Y){if(isNaN(W)||isNaN(Y))throw vo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var oe=new l(W,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},d.prototype.rotate=function(W){if(isNaN(W))throw vo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.translate=function(W,Y){if(isNaN(W)||isNaN(Y))throw vo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var oe=new l(1,0,0,1,W,Y);this.ctx.transform=this.ctx.transform.multiply(oe)},d.prototype.transform=function(W,Y,oe,fe,me,ce){if(isNaN(W)||isNaN(Y)||isNaN(oe)||isNaN(fe)||isNaN(me)||isNaN(ce))throw vo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(W,Y,oe,fe,me,ce);this.ctx.transform=this.ctx.transform.multiply(be)},d.prototype.setTransform=function(W,Y,oe,fe,me,ce){W=isNaN(W)?1:W,Y=isNaN(Y)?0:Y,oe=isNaN(oe)?0:oe,fe=isNaN(fe)?1:fe,me=isNaN(me)?0:me,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(W,Y,oe,fe,me,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(W,Y,oe,fe,me,ce,be,xe,Ie){var Qe=this.pdf.getImageProperties(W),ue=1,ye=1,$e=1,Ve=1;fe!==void 0&&xe!==void 0&&($e=xe/fe,Ve=Ie/me,ue=Qe.width/fe*xe/fe,ye=Qe.height/me*Ie/me),ce===void 0&&(ce=Y,be=oe,Y=0,oe=0),fe!==void 0&&xe===void 0&&(xe=fe,Ie=me),fe===void 0&&xe===void 0&&(xe=Qe.width,Ie=Qe.height);for(var Se,at=this.ctx.transform.decompose(),ft=X(at.rotate.shx),je=new l,gt=(je=(je=(je=je.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new o(ce-Y*$e,be-oe*Ve,fe*ue,me*ye)),vt=y.call(this,gt),Te=[],we=0;we<vt.length;we+=1)Te.indexOf(vt[we])===-1&&Te.push(vt[we]);if(S(Te),this.autoPaging)for(var Ne=Te[0],Ze=Te[Te.length-1],Tt=Ne;Tt<Ze+1;Tt++){this.pdf.setPage(Tt);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ln=Tt===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=Tt===1?0:Ye+(Tt-2)*yt;if(this.ctx.clip_path.length!==0){var Dt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Se,this.posX+this.margin[3],-Qt+ln+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Dt}var st=JSON.parse(JSON.stringify(gt));st=x([st],this.posX+this.margin[3],-Qt+ln+this.ctx.prevPageLastElemOffset)[0];var ke=(Tt>Ne||Tt<Ze)&&g.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,yt,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",st.x,st.y,st.w,st.h,null,null,ft),ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,ft)};var y=function(W,Y,oe){var fe=[];Y=Y||this.pdf.internal.pageSize.width,oe=oe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":fe.push(Math.floor((W.y+me)/oe)+1);break;case"arc":fe.push(Math.floor((W.y+me-W.radius)/oe)+1),fe.push(Math.floor((W.y+me+W.radius)/oe)+1);break;case"qct":var ce=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);fe.push(Math.floor((ce.y+me)/oe)+1),fe.push(Math.floor((ce.y+ce.h+me)/oe)+1);break;case"bct":var be=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);fe.push(Math.floor((be.y+me)/oe)+1),fe.push(Math.floor((be.y+be.h+me)/oe)+1);break;case"rect":fe.push(Math.floor((W.y+me)/oe)+1),fe.push(Math.floor((W.y+W.h+me)/oe)+1)}for(var xe=0;xe<fe.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<fe[xe];)_.call(this);return fe},_=function(){var W=this.fillStyle,Y=this.strokeStyle,oe=this.font,fe=this.lineCap,me=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=Y,this.font=oe,this.lineCap=fe,this.lineWidth=me,this.lineJoin=ce},x=function(W,Y,oe){for(var fe=0;fe<W.length;fe++)switch(W[fe].type){case"bct":W[fe].x2+=Y,W[fe].y2+=oe;case"qct":W[fe].x1+=Y,W[fe].y1+=oe;case"mt":case"lt":case"arc":default:W[fe].x+=Y,W[fe].y+=oe}return W},S=function(W){return W.sort(function(Y,oe){return Y-oe})},C=function(W,Y){for(var oe,fe,me=this.fillStyle,ce=this.strokeStyle,be=this.lineCap,xe=this.lineWidth,Ie=Math.abs(xe*this.ctx.transform.scaleX),Qe=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),$e=[],Ve=0;Ve<ye.length;Ve++)if(ye[Ve].x!==void 0)for(var Se=y.call(this,ye[Ve]),at=0;at<Se.length;at+=1)$e.indexOf(Se[at])===-1&&$e.push(Se[at]);for(var ft=0;ft<$e.length;ft++)for(;this.pdf.internal.getNumberOfPages()<$e[ft];)_.call(this);if(S($e),this.autoPaging)for(var je=$e[0],gt=$e[$e.length-1],vt=je;vt<gt+1;vt++){this.pdf.setPage(vt),this.fillStyle=me,this.strokeStyle=ce,this.lineCap=be,this.lineWidth=Ie,this.lineJoin=Qe;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=vt===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=vt===1?0:Ne+(vt-2)*Ze;if(this.ctx.clip_path.length!==0){var Zt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(oe,this.posX+this.margin[3],-Tt+we+this.ctx.prevPageLastElemOffset),M.call(this,W,!0),this.path=Zt}if(fe=JSON.parse(JSON.stringify(ue)),this.path=x(fe,this.posX+this.margin[3],-Tt+we+this.ctx.prevPageLastElemOffset),Y===!1||vt===0){var ln=(vt>je||vt<gt)&&g.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Ze,null).clip().discardPath()),M.call(this,W,Y),ln&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=Ie,M.call(this,W,Y),this.lineWidth=xe;this.path=ue},M=function(W,Y){if((W!=="stroke"||Y||!m.call(this))&&(W==="stroke"||Y||!A.call(this))){for(var oe,fe,me=[],ce=this.path,be=0;be<ce.length;be++){var xe=ce[be];switch(xe.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ie=me.length;if(ce[be-1]&&!isNaN(ce[be-1].x)&&(oe=[xe.x-ce[be-1].x,xe.y-ce[be-1].y],Ie>0)){for(;Ie>=0;Ie--)if(me[Ie-1].close!==!0&&me[Ie-1].begin!==!0){me[Ie-1].deltas.push(oe),me[Ie-1].abs.push(xe);break}}break;case"bct":oe=[xe.x1-ce[be-1].x,xe.y1-ce[be-1].y,xe.x2-ce[be-1].x,xe.y2-ce[be-1].y,xe.x-ce[be-1].x,xe.y-ce[be-1].y],me[me.length-1].deltas.push(oe);break;case"qct":var Qe=ce[be-1].x+2/3*(xe.x1-ce[be-1].x),ue=ce[be-1].y+2/3*(xe.y1-ce[be-1].y),ye=xe.x+2/3*(xe.x1-xe.x),$e=xe.y+2/3*(xe.y1-xe.y),Ve=xe.x,Se=xe.y;oe=[Qe-ce[be-1].x,ue-ce[be-1].y,ye-ce[be-1].x,$e-ce[be-1].y,Ve-ce[be-1].x,Se-ce[be-1].y],me[me.length-1].deltas.push(oe);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(xe)}}fe=Y?null:W==="stroke"?"stroke":"fill";for(var at=!1,ft=0;ft<me.length;ft++)if(me[ft].arc)for(var je=me[ft].abs,gt=0;gt<je.length;gt++){var vt=je[gt];vt.type==="arc"?L.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,Y,!at):U.call(this,vt.x,vt.y),at=!0}else if(me[ft].close===!0)this.pdf.internal.out("h"),at=!1;else if(me[ft].begin!==!0){var Te=me[ft].start.x,we=me[ft].start.y;$.call(this,me[ft].deltas,Te,we),at=!0}fe&&I.call(this,fe),Y&&k.call(this)}},B=function(W){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,oe=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-oe;case"top":return W+Y-oe;case"hanging":return W+Y-2*oe;case"middle":return W+Y/2-oe;case"ideographic":return W;case"alphabetic":default:return W}},E=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(Y,oe){this.colorStops.push([Y,oe])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(W,Y,oe,fe,me,ce,be,xe,Ie){for(var Qe=V.call(this,oe,fe,me,ce),ue=0;ue<Qe.length;ue++){var ye=Qe[ue];ue===0&&(Ie?O.call(this,ye.x1+W,ye.y1+Y):U.call(this,ye.x1+W,ye.y1+Y)),K.call(this,W,Y,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}xe?k.call(this):I.call(this,be)},I=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(W,Y){this.pdf.internal.out(n(W)+" "+r(Y)+" m")},F=function(W){var Y;switch(W.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var oe=this.pdf.getTextDimensions(W.text),fe=B.call(this,W.y),me=E.call(this,fe)-oe.h,ce=this.ctx.transform.applyToPoint(new a(W.x,fe)),be=this.ctx.transform.decompose(),xe=new l;xe=(xe=(xe=xe.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Ie,Qe,ue,ye=this.ctx.transform.applyToRectangle(new o(W.x,fe,oe.w,oe.h)),$e=xe.applyToRectangle(new o(W.x,me,oe.w,oe.h)),Ve=y.call(this,$e),Se=[],at=0;at<Ve.length;at+=1)Se.indexOf(Ve[at])===-1&&Se.push(Ve[at]);if(S(Se),this.autoPaging)for(var ft=Se[0],je=Se[Se.length-1],gt=ft;gt<je+1;gt++){this.pdf.setPage(gt);var vt=gt===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],Ne=we-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],Tt=Ze-this.margin[3],Zt=gt===1?0:Te+(gt-2)*Ne;if(this.ctx.clip_path.length!==0){var ln=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ie,this.posX+this.margin[3],-1*Zt+vt),M.call(this,"fill",!0),this.path=ln}var Ye=x([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Zt+vt+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*W.scale),ue=this.lineWidth,this.lineWidth=ue*W.scale);var yt=this.autoPaging!=="text";if(yt||Ye.y+Ye.h<=we){if(yt||Ye.y>=vt&&Ye.x<=Ze){var Qt=yt?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||Ze-Ye.x)[0],Dt=x([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Zt+vt+this.ctx.prevPageLastElemOffset)[0],st=yt&&(gt>ft||gt<je)&&g.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Ne,null).clip().discardPath()),this.pdf.text(Qt,Dt.x,Dt.y,{angle:W.angle,align:Y,renderingMode:W.renderingMode}),st&&this.pdf.restoreGraphicsState()}}else Ye.y<we&&(this.ctx.prevPageLastElemOffset+=we-Ye.y);W.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=ue)}else W.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*W.scale),ue=this.lineWidth,this.lineWidth=ue*W.scale),this.pdf.text(W.text,ce.x+this.posX,ce.y+this.posY,{angle:W.angle,align:Y,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=ue)},U=function(W,Y,oe,fe){oe=oe||0,fe=fe||0,this.pdf.internal.out(n(W+oe)+" "+r(Y+fe)+" l")},$=function(W,Y,oe){return this.pdf.lines(W,Y,oe,null,null)},K=function(W,Y,oe,fe,me,ce,be,xe){this.pdf.internal.out([e(i(oe+W)),e(s(fe+Y)),e(i(me+W)),e(s(ce+Y)),e(i(be+W)),e(s(xe+Y)),"c"].join(" "))},V=function(W,Y,oe,fe){for(var me=2*Math.PI,ce=Math.PI/2;Y>oe;)Y-=me;var be=Math.abs(oe-Y);be<me&&fe&&(be=me-be);for(var xe=[],Ie=fe?-1:1,Qe=Y;be>1e-5;){var ue=Qe+Ie*Math.min(be,ce);xe.push(Q.call(this,W,Qe,ue)),be-=Math.abs(ue-Qe),Qe=ue}return xe},Q=function(W,Y,oe){var fe=(oe-Y)/2,me=W*Math.cos(fe),ce=W*Math.sin(fe),be=me,xe=-ce,Ie=be*be+xe*xe,Qe=Ie+be*me+xe*ce,ue=4/3*(Math.sqrt(2*Ie*Qe)-Qe)/(be*ce-xe*me),ye=be-ue*xe,$e=xe+ue*be,Ve=ye,Se=-$e,at=fe+Y,ft=Math.cos(at),je=Math.sin(at);return{x1:W*Math.cos(Y),y1:W*Math.sin(Y),x2:ye*ft-$e*je,y2:ye*je+$e*ft,x3:Ve*ft-Se*je,y3:Ve*je+Se*ft,x4:W*Math.cos(oe),y4:W*Math.sin(oe)}},X=function(W){return 180*W/Math.PI},z=function(W,Y,oe,fe,me,ce){var be=W+.5*(oe-W),xe=Y+.5*(fe-Y),Ie=me+.5*(oe-me),Qe=ce+.5*(fe-ce),ue=Math.min(W,me,be,Ie),ye=Math.max(W,me,be,Ie),$e=Math.min(Y,ce,xe,Qe),Ve=Math.max(Y,ce,xe,Qe);return new o(ue,$e,ye-ue,Ve-$e)},ne=function(W,Y,oe,fe,me,ce,be,xe){var Ie,Qe,ue,ye,$e,Ve,Se,at,ft,je,gt,vt,Te,we,Ne=oe-W,Ze=fe-Y,Tt=me-oe,Zt=ce-fe,ln=be-me,Ye=xe-ce;for(Qe=0;Qe<41;Qe++)ft=(Se=(ue=W+(Ie=Qe/40)*Ne)+Ie*(($e=oe+Ie*Tt)-ue))+Ie*($e+Ie*(me+Ie*ln-$e)-Se),je=(at=(ye=Y+Ie*Ze)+Ie*((Ve=fe+Ie*Zt)-ye))+Ie*(Ve+Ie*(ce+Ie*Ye-Ve)-at),Qe==0?(gt=ft,vt=je,Te=ft,we=je):(gt=Math.min(gt,ft),vt=Math.min(vt,je),Te=Math.max(Te,ft),we=Math.max(we,je));return new o(Math.round(gt),Math.round(vt),Math.round(Te-gt),Math.round(we-vt))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,Y,oe=(W=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:Y}));this.prevLineDash!==oe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=oe)}}})(ts.API),function(t){var e=function(s){var a,o,l,u,h,d,f,A,m,g;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(A=h%85))/85)-(f=h%85))/85)%85,o.push(d+33,f+33,A+33,m+33,g+33)):o.push(122);return function(y,_){for(var x=_;x>0;x--)y.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,u,h,d=String,f="length",A=255,m="charCodeAt",g="slice",y="replace";for(s[g](-2),s=s[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,h=(s+=a="uuuuu"[g](s[f]%5||5))[f];h>u;u+=5)o=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),l.push(A&o>>24,A&o>>16,A&o>>8,A&o);return function(_,x){for(var S=x;S>0;S--)_.pop()}(l,a[f]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=WG(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ts.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var d=new XMLHttpRequest,f=0,A=function(m){var g=m.length,y=[],_=String.fromCharCode;for(f=0;f<g;f+=1)y.push(_(255&m.charCodeAt(f)));return y.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?h(A(this.responseText)):h(void 0)}),d.send(null),u&&d.status===200)return A(d.responseText)}(i,s,a)}catch(l){}return o}(e,n,r)},t.loadImageFile=t.loadFile}(ts.API),function(t){function e(){return(ns.html2canvas?Promise.resolve(ns.html2canvas):Promise.resolve().then(()=>kLt)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ns.DOMPurify?Promise.resolve(ns.DOMPurify):Promise.resolve().then(()=>ABt)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Ba(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,h){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)h!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var A=u[f],m=A.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,A.ref.name,A.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||ts.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,h).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(u,a,o);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ts.getPageSize=function(a,o,l){if(Ba(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var A,m=0,g=0;if(f.hasOwnProperty(d))m=f[d][1]/h,g=f[d][0]/h;else try{m=l[1],g=l[0]}catch(y){throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>m&&(A=g,g=m,m=A);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>g&&(A=g,g=m,m=A)}return{width:g,height:m,unit:o,k:h,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(ZG):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(ts.API),ts.API.addJS=function(t){return lne=t,this.internal.events.subscribe("postPutResources",function(){kI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kI+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),one=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lne+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kI!==void 0&&one!==void 0&&this.internal.out("/Names <</JavaScript "+kI+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var d=n.internal.newObject();h.push(d);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+"\r\n"},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},n.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ts.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var f,A=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=A,e.indexOf(d.charCodeAt(y+1))!==-1){f=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:f,numcomponents:d.charCodeAt(y+9)};break}A=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(ts.API);var dx,UI,cne,une,hne,jxt=function(){var t,e,n;function r(s){var a,o,l,u,h,d,f,A,m,g,y,_,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),m=(function(){var C,M;for(M=[],C=0;C<4;++C)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*h/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(y=this.read(a)).indexOf(0),A=String.fromCharCode.apply(String,y.slice(0,f)),this.text[A]=String.fromCharCode.apply(String,y.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(d,f,A,m){var g,y,_,x,S,C,M,B,E,L,I,k,O,F,U,$,K,V,Q,X,z,ne=Math.ceil((u.width-d)/A),he=Math.ceil((u.height-f)/m),W=u.width==ne&&u.height==he;for(F=a*ne,k=W?o:new Uint8Array(F*he),C=s.length,O=0,y=0;O<he&&l<C;){switch(s[l++]){case 0:for(x=K=0;K<F;x=K+=1)k[y++]=s[l++];break;case 1:for(x=V=0;V<F;x=V+=1)g=s[l++],S=x<a?0:k[y-a],k[y++]=(g+S)%256;break;case 2:for(x=Q=0;Q<F;x=Q+=1)g=s[l++],_=(x-x%a)/a,U=O&&k[(O-1)*F+_*a+x%a],k[y++]=(U+g)%256;break;case 3:for(x=X=0;X<F;x=X+=1)g=s[l++],_=(x-x%a)/a,S=x<a?0:k[y-a],U=O&&k[(O-1)*F+_*a+x%a],k[y++]=(g+Math.floor((S+U)/2))%256;break;case 4:for(x=z=0;z<F;x=z+=1)g=s[l++],_=(x-x%a)/a,S=x<a?0:k[y-a],O===0?U=$=0:(U=k[(O-1)*F+_*a+x%a],$=_&&k[(O-1)*F+(_-1)*a+x%a]),M=S+U-$,B=Math.abs(M-S),L=Math.abs(M-U),I=Math.abs(M-$),E=B<=L&&B<=I?S:L<=I?U:$,k[y++]=(g+E)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!W){var Y=((f+O*m)*u.width+d)*a,oe=O*F;for(x=0;x<ne;x+=1){for(var fe=0;fe<a;fe+=1)o[Y++]=k[oe++];Y+=(A-1)*a}}O++}}return s=Sxt(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,u,h,d,f,A;for(o=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+o.length),l=0,s=0,a=d=0,f=o.length;d<f;a=d+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(A=h[s++])!=null?A:255;return u},r.prototype.copyToImageData=function(s,a){var o,l,u,h,d,f,A,m,g,y,_;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(u=s.data||s).length,d=g||a,h=f=0,l===1)for(;h<m;)A=g?4*a[h/4]:f,y=d[A++],u[h++]=y,u[h++]=y,u[h++]=y,u[h++]=o?d[A++]:255,f=A;else for(;h<m;)A=g?4*a[h/4]:f,u[h++]=d[A++],u[h++]=d[A++],u[h++]=d[A++],u[h++]=o?d[A++]:255,f=A},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ns)==="[object Window]"){try{e=ns.document.createElement("canvas"),n=e.getContext("2d")}catch(s){return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,u,h,d,f,A;if(this.animation){for(A=[],o=h=0,d=(f=this.animation.frames).length;h<d;o=++h)a=f[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,A.push(a.image=t(l));return A}},r.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,u,h,d,f=this;return o=0,d=this.animation,u=d.numFrames,l=d.frames,h=d.numPlays,(a=function(){var A,m;if(A=o++%u,m=l[A],f.renderFrame(s,A),u>1&&o/u<h)return f.animation._timeout=setTimeout(a,m.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Kxt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],d=0,f=null,A=0,m=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],(1&g)==0&&(f=null),A=g>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,C=t[e++],M=C>>6&1,B=1<<(7&C)+1,E=o,L=l,I=!1;C>>7&&(I=!0,E=e,L=B,e+=3*B);var k=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}h.push({x:y,y:_,width:x,height:S,has_local_palette:I,palette_offset:E,palette_size:L,data_offset:k,data_length:e-k,transparent_index:f,interlaced:!!M,delay:d,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,U){var $=this.frameInfo(F),K=$.width*$.height,V=new Uint8Array(K);dne(t,$.data_offset,V,K);var Q=$.palette_offset,X=$.transparent_index;X===null&&(X=256);var z=$.width,ne=n-z,he=z,W=4*($.y*n+$.x),Y=4*(($.y+$.height)*n+$.x),oe=W,fe=4*ne;$.interlaced===!0&&(fe+=4*n*7);for(var me=8,ce=0,be=V.length;ce<be;++ce){var xe=V[ce];if(he===0&&(he=z,(oe+=fe)>=Y&&(fe=4*ne+4*n*(me-1),oe=W+(z+ne)*(me<<1),me>>=1)),xe===X)oe+=4;else{var Ie=t[Q+3*xe],Qe=t[Q+3*xe+1],ue=t[Q+3*xe+2];U[oe++]=ue,U[oe++]=Qe,U[oe++]=Ie,U[oe++]=255}--he}},this.decodeAndBlitFrameRGBA=function(F,U){var $=this.frameInfo(F),K=$.width*$.height,V=new Uint8Array(K);dne(t,$.data_offset,V,K);var Q=$.palette_offset,X=$.transparent_index;X===null&&(X=256);var z=$.width,ne=n-z,he=z,W=4*($.y*n+$.x),Y=4*(($.y+$.height)*n+$.x),oe=W,fe=4*ne;$.interlaced===!0&&(fe+=4*n*7);for(var me=8,ce=0,be=V.length;ce<be;++ce){var xe=V[ce];if(he===0&&(he=z,(oe+=fe)>=Y&&(fe=4*ne+4*n*(me-1),oe=W+(z+ne)*(me<<1),me>>=1)),xe===X)oe+=4;else{var Ie=t[Q+3*xe],Qe=t[Q+3*xe+1],ue=t[Q+3*xe+2];U[oe++]=Ie,U[oe++]=Qe,U[oe++]=ue,U[oe++]=255}--he}}}function dne(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,d=0,f=0,A=t[e++],m=new Int32Array(4096),g=null;;){for(;h<16&&A!==0;)d|=t[e++]<<h,h+=8,A===1?A=t[e++]:--A;if(h<l)break;var y=d&u;if(d>>=l,h-=l,y!==s){if(y===a)break;for(var _=y<o?y:g,x=0,S=_;S>s;)S=m[S]>>8,++x;var C=S;if(f+x+(_!==y?1:0)>r)return void vo.log("Warning, gif stream longer than expected.");n[f++]=C;var M=f+=x;for(_!==y&&(n[f++]=C),S=_;x--;)S=m[S],n[--M]=255&S,S>>=8;g!==null&&o<4096&&(m[o++]=g<<8|C,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else o=a+1,u=(1<<(l=i+1))-1,g=null}return f!==r&&vo.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H3(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),d=new Array(65535),f=new Array(65535),A=new Array(64),m=new Array(64),g=[],y=0,_=7,x=new Array(64),S=new Array(64),C=new Array(64),M=new Array(256),B=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(W,Y){for(var oe=0,fe=0,me=new Array,ce=1;ce<=16;ce++){for(var be=1;be<=W[ce];be++)me[Y[fe]]=[],me[Y[fe]][0]=oe,me[Y[fe]][1]=ce,fe++,oe++;oe*=2}return me}function Q(W){for(var Y=W[0],oe=W[1]-1;oe>=0;)Y&1<<oe&&(y|=1<<_),oe--,--_<0&&(y==255?(X(255),X(0)):X(y),_=7,y=0)}function X(W){g.push(W)}function z(W){X(W>>8&255),X(255&W)}function ne(W,Y,oe,fe,me){for(var ce,be=me[0],xe=me[240],Ie=function(je,gt){var vt,Te,we,Ne,Ze,Tt,Zt,ln,Ye,yt,Qt=0;for(Ye=0;Ye<8;++Ye){vt=je[Qt],Te=je[Qt+1],we=je[Qt+2],Ne=je[Qt+3],Ze=je[Qt+4],Tt=je[Qt+5],Zt=je[Qt+6];var Dt=vt+(ln=je[Qt+7]),st=vt-ln,ke=Te+Zt,ct=Te-Zt,Oe=we+Tt,kt=we-Tt,wn=Ne+Ze,mt=Ne-Ze,Kt=Dt+wn,bn=Dt-wn,Rn=ke+Oe,On=ke-Oe;je[Qt]=Kt+Rn,je[Qt+4]=Kt-Rn;var Dn=.707106781*(On+bn);je[Qt+2]=bn+Dn,je[Qt+6]=bn-Dn;var Un=.382683433*((Kt=mt+kt)-(On=ct+st)),jr=.5411961*Kt+Un,Mi=1.306562965*On+Un,bi=.707106781*(Rn=kt+ct),Ji=st+bi,br=st-bi;je[Qt+5]=br+jr,je[Qt+3]=br-jr,je[Qt+1]=Ji+Mi,je[Qt+7]=Ji-Mi,Qt+=8}for(Qt=0,Ye=0;Ye<8;++Ye){vt=je[Qt],Te=je[Qt+8],we=je[Qt+16],Ne=je[Qt+24],Ze=je[Qt+32],Tt=je[Qt+40],Zt=je[Qt+48];var fs=vt+(ln=je[Qt+56]),Di=vt-ln,Hi=Te+Zt,ki=Te-Zt,ot=we+Tt,sn=we-Tt,Cn=Ne+Ze,it=Ne-Ze,Ft=fs+Cn,Gn=fs-Cn,fr=Hi+ot,Gr=Hi-ot;je[Qt]=Ft+fr,je[Qt+32]=Ft-fr;var $r=.707106781*(Gr+Gn);je[Qt+16]=Gn+$r,je[Qt+48]=Gn-$r;var oi=.382683433*((Ft=it+sn)-(Gr=ki+Di)),xi=.5411961*Ft+oi,mi=1.306562965*Gr+oi,Lt=.707106781*(fr=sn+ki),ut=Di+Lt,on=Di-Lt;je[Qt+40]=on+xi,je[Qt+24]=on-xi,je[Qt+8]=ut+mi,je[Qt+56]=ut-mi,Qt++}for(Ye=0;Ye<64;++Ye)yt=je[Ye]*gt[Ye],A[Ye]=yt>0?yt+.5|0:yt-.5|0;return A}(W,Y),Qe=0;Qe<64;++Qe)m[E[Qe]]=Ie[Qe];var ue=m[0]-oe;oe=m[0],ue==0?Q(fe[0]):(Q(fe[f[ce=32767+ue]]),Q(d[ce]));for(var ye=63;ye>0&&m[ye]==0;)ye--;if(ye==0)return Q(be),oe;for(var $e,Ve=1;Ve<=ye;){for(var Se=Ve;m[Ve]==0&&Ve<=ye;)++Ve;var at=Ve-Se;if(at>=16){$e=at>>4;for(var ft=1;ft<=$e;++ft)Q(xe);at&=15}ce=32767+m[Ve],Q(me[(at<<4)+f[ce]]),Q(d[ce]),Ve++}return ye!=63&&Q(be),oe}function he(W){W=Math.min(Math.max(W,1),100),s!=W&&(function(Y){for(var oe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var me=a((oe[fe]*Y+50)/100);me=Math.min(Math.max(me,1),255),o[E[fe]]=me}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var xe=a((ce[be]*Y+50)/100);xe=Math.min(Math.max(xe,1),255),l[E[be]]=xe}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,ue=0;ue<8;ue++)for(var ye=0;ye<8;ye++)u[Qe]=1/(o[E[Qe]]*Ie[ue]*Ie[ye]*8),h[Qe]=1/(l[E[Qe]]*Ie[ue]*Ie[ye]*8),Qe++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),s=W)}this.encode=function(W,Y){Y&&he(Y),g=new Array,y=0,_=7,z(65496),z(65504),z(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),z(1),z(1),X(0),X(0),function(){z(65499),z(132),X(0);for(var Te=0;Te<64;Te++)X(o[Te]);X(1);for(var we=0;we<64;we++)X(l[we])}(),function(Te,we){z(65472),z(17),X(8),z(we),z(Te),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(W.width,W.height),function(){z(65476),z(418),X(0);for(var Te=0;Te<16;Te++)X(L[Te+1]);for(var we=0;we<=11;we++)X(I[we]);X(16);for(var Ne=0;Ne<16;Ne++)X(k[Ne+1]);for(var Ze=0;Ze<=161;Ze++)X(O[Ze]);X(1);for(var Tt=0;Tt<16;Tt++)X(F[Tt+1]);for(var Zt=0;Zt<=11;Zt++)X(U[Zt]);X(17);for(var ln=0;ln<16;ln++)X($[ln+1]);for(var Ye=0;Ye<=161;Ye++)X(K[Ye])}(),z(65498),z(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var oe=0,fe=0,me=0;y=0,_=7,this.encode.displayName="_encode_";for(var ce,be,xe,Ie,Qe,ue,ye,$e,Ve,Se=W.data,at=W.width,ft=W.height,je=4*at,gt=0;gt<ft;){for(ce=0;ce<je;){for(Qe=je*gt+ce,ye=-1,$e=0,Ve=0;Ve<64;Ve++)ue=Qe+($e=Ve>>3)*je+(ye=4*(7&Ve)),gt+$e>=ft&&(ue-=je*(gt+1+$e-ft)),ce+ye>=je&&(ue-=ce+ye-je+4),be=Se[ue++],xe=Se[ue++],Ie=Se[ue++],x[Ve]=(B[be]+B[xe+256>>0]+B[Ie+512>>0]>>16)-128,S[Ve]=(B[be+768>>0]+B[xe+1024>>0]+B[Ie+1280>>0]>>16)-128,C[Ve]=(B[be+1280>>0]+B[xe+1536>>0]+B[Ie+1792>>0]>>16)-128;oe=ne(x,u,oe,e,r),fe=ne(S,h,fe,n,i),me=ne(C,h,me,n,i),ce+=32}gt+=8}if(_>=0){var vt=[];vt[1]=_+1,vt[0]=(1<<_+1)-1,Q(vt)}return z(65497),new Uint8Array(g)},t=t||50,function(){for(var W=String.fromCharCode,Y=0;Y<256;Y++)M[Y]=W(Y)}(),e=V(L,I),n=V(F,U),r=V(k,O),i=V($,K),function(){for(var W=1,Y=2,oe=1;oe<=15;oe++){for(var fe=W;fe<Y;fe++)f[32767+fe]=oe,d[32767+fe]=[],d[32767+fe][1]=oe,d[32767+fe][0]=fe;for(var me=-(Y-1);me<=-W;me++)f[32767+me]=oe,d[32767+me]=[],d[32767+me][1]=oe,d[32767+me][0]=Y-1+me;W<<=1,Y<<=1}}(),function(){for(var W=0;W<256;W++)B[W]=19595*W,B[W+256>>0]=38470*W,B[W+512>>0]=7471*W+32768,B[W+768>>0]=-11059*W,B[W+1024>>0]=-21709*W,B[W+1280>>0]=32768*W+8421375,B[W+1536>>0]=-27439*W,B[W+1792>>0]=-5329*W}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qA(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fne(t){function e(L){if(!L)throw Error("assert :P")}function n(L,I,k){for(var O=0;4>O;O++)if(L[I+O]!=k.charCodeAt(O))return!0;return!1}function r(L,I,k,O,F){for(var U=0;U<F;U++)L[I+U]=k[O+U]}function i(L,I,k,O){for(var F=0;F<O;F++)L[I+F]=k}function s(L){return new Int32Array(L)}function a(L,I){for(var k=[],O=0;O<L;O++)k.push(new I);return k}function o(L,I){var k=[];return function O(F,U,$){for(var K=$[U],V=0;V<K&&(F.push($.length>U+1?[]:new I),!($.length<U+1));V++)O(F[V],U+1,$)}(k,0,L),k}var l=function(){var L=this;function I(N,j){for(var ae=1<<j-1>>>0;N&ae;)ae>>>=1;return ae?(N&ae-1)+ae:N}function k(N,j,ae,ve,Fe){e(!(ve%ae));do N[j+(ve-=ae)]=Fe;while(0<ve)}function O(N,j,ae,ve,Fe){if(e(2328>=Fe),512>=Fe)var He=s(512);else if((He=s(Fe))==null)return 0;return function(ze,Xe,Je,pt,Pt,rn){var pn,tn,$n=Xe,Tn=1<<Je,Wt=s(16),Yt=s(16);for(e(Pt!=0),e(pt!=null),e(ze!=null),e(0<Je),tn=0;tn<Pt;++tn){if(15<pt[tn])return 0;++Wt[pt[tn]]}if(Wt[0]==Pt)return 0;for(Yt[1]=0,pn=1;15>pn;++pn){if(Wt[pn]>1<<pn)return 0;Yt[pn+1]=Yt[pn]+Wt[pn]}for(tn=0;tn<Pt;++tn)pn=pt[tn],0<pt[tn]&&(rn[Yt[pn]++]=tn);if(Yt[15]==1)return(pt=new F).g=0,pt.value=rn[0],k(ze,$n,1,Tn,pt),Tn;var Hn,Yn=-1,zn=Tn-1,Qr=0,Lr=1,Fi=1,Fr=1<<Je;for(tn=0,pn=1,Pt=2;pn<=Je;++pn,Pt<<=1){if(Lr+=Fi<<=1,0>(Fi-=Wt[pn]))return 0;for(;0<Wt[pn];--Wt[pn])(pt=new F).g=pn,pt.value=rn[tn++],k(ze,$n+Qr,Pt,Fr,pt),Qr=I(Qr,pn)}for(pn=Je+1,Pt=2;15>=pn;++pn,Pt<<=1){if(Lr+=Fi<<=1,0>(Fi-=Wt[pn]))return 0;for(;0<Wt[pn];--Wt[pn]){if(pt=new F,(Qr&zn)!=Yn){for($n+=Fr,Hn=1<<(Yn=pn)-Je;15>Yn&&!(0>=(Hn-=Wt[Yn]));)++Yn,Hn<<=1;Tn+=Fr=1<<(Hn=Yn-Je),ze[Xe+(Yn=Qr&zn)].g=Hn+Je,ze[Xe+Yn].value=$n-Xe-Yn}pt.g=pn-Je,pt.value=rn[tn++],k(ze,$n+(Qr>>Je),Pt,Fr,pt),Qr=I(Qr,pn)}}return Lr!=2*Yt[15]-1?0:Tn}(N,j,ae,ve,Fe,He)}function F(){this.value=this.g=0}function U(){this.value=this.g=0}function $(){this.G=a(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(dl,U)}function K(N,j,ae,ve){e(N!=null),e(j!=null),e(2147483648>ve),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=j,N.pa=ae,N.Jd=j,N.Yc=ae+ve,N.Zc=4<=ve?ae+ve-4+1:ae,ce(N)}function V(N,j){for(var ae=0;0<j--;)ae|=xe(N,128)<<j;return ae}function Q(N,j){var ae=V(N,j);return be(N)?-ae:ae}function X(N,j,ae,ve){var Fe,He=0;for(e(N!=null),e(j!=null),e(4294967288>ve),N.Sb=ve,N.Ra=0,N.u=0,N.h=0,4<ve&&(ve=4),Fe=0;Fe<ve;++Fe)He+=j[ae+Fe]<<8*Fe;N.Ra=He,N.bb=ve,N.oa=j,N.pa=ae}function z(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<au-8>>>0,++N.bb,N.u-=8;oe(N)&&(N.h=1,N.u=0)}function ne(N,j){if(e(0<=j),!N.h&&j<=$f){var ae=Y(N)&Iu[j];return N.u+=j,z(N),ae}return N.h=1,N.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(N){return N.Ra>>>(N.u&au-1)>>>0}function oe(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>au}function fe(N,j){N.u=j,N.h=oe(N)}function me(N){N.u>=Xp&&(e(N.u>=Xp),z(N))}function ce(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function be(N){return V(N,1)}function xe(N,j){var ae=N.Ca;0>N.b&&ce(N);var ve=N.b,Fe=ae*j>>>8,He=(N.I>>>ve>Fe)+0;for(He?(ae-=Fe,N.I-=Fe+1<<ve>>>0):ae=Fe+1,ve=ae,Fe=0;256<=ve;)Fe+=8,ve>>=8;return ve=7^Fe+fl[ve],N.b-=ve,N.Ca=(ae<<ve)-1,He}function Ie(N,j,ae){N[j+0]=ae>>24&255,N[j+1]=ae>>16&255,N[j+2]=ae>>8&255,N[j+3]=ae>>0&255}function Qe(N,j){return N[j+0]<<0|N[j+1]<<8}function ue(N,j){return Qe(N,j)|N[j+2]<<16}function ye(N,j){return Qe(N,j)|Qe(N,j+2)<<16}function $e(N,j){var ae=1<<j;return e(N!=null),e(0<j),N.X=s(ae),N.X==null?0:(N.Mb=32-j,N.Xa=j,1)}function Ve(N,j){e(N!=null),e(j!=null),e(N.Xa==j.Xa),r(j.X,0,N.X,0,1<<j.Xa)}function Se(){this.X=[],this.Xa=this.Mb=0}function at(N,j,ae,ve){e(ae!=null),e(ve!=null);var Fe=ae[0],He=ve[0];return Fe==0&&(Fe=(N*He+j/2)/j),He==0&&(He=(j*Fe+N/2)/N),0>=Fe||0>=He?0:(ae[0]=Fe,ve[0]=He,1)}function ft(N,j){return N+(1<<j)-1>>>j}function je(N,j){return((4278255360&N)+(4278255360&j)>>>0&4278255360)+((16711935&N)+(16711935&j)>>>0&16711935)>>>0}function gt(N,j){L[j]=function(ae,ve,Fe,He,ze,Xe,Je){var pt;for(pt=0;pt<ze;++pt){var Pt=L[N](Xe[Je+pt-1],Fe,He+pt);Xe[Je+pt]=je(ae[ve+pt],Pt)}}}function vt(){this.ud=this.hd=this.jd=0}function Te(N,j){return((4278124286&(N^j))>>>1)+(N&j)>>>0}function we(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Ne(N,j){return we(N+(N-j+.5>>1))}function Ze(N,j,ae){return Math.abs(j-ae)-Math.abs(N-ae)}function Tt(N,j,ae,ve,Fe,He,ze){for(ve=He[ze-1],ae=0;ae<Fe;++ae)He[ze+ae]=ve=je(N[j+ae],ve)}function Zt(N,j,ae,ve,Fe){var He;for(He=0;He<ae;++He){var ze=N[j+He],Xe=ze>>8&255,Je=16711935&(Je=(Je=16711935&ze)+((Xe<<16)+Xe));ve[Fe+He]=(4278255360&ze)+Je>>>0}}function ln(N,j){j.jd=N>>0&255,j.hd=N>>8&255,j.ud=N>>16&255}function Ye(N,j,ae,ve,Fe,He){var ze;for(ze=0;ze<ve;++ze){var Xe=j[ae+ze],Je=Xe>>>8,pt=Xe,Pt=255&(Pt=(Pt=Xe>>>16)+((N.jd<<24>>24)*(Je<<24>>24)>>>5));pt=255&(pt=(pt=pt+((N.hd<<24>>24)*(Je<<24>>24)>>>5))+((N.ud<<24>>24)*(Pt<<24>>24)>>>5)),Fe[He+ze]=(4278255360&Xe)+(Pt<<16)+pt}}function yt(N,j,ae,ve,Fe){L[j]=function(He,ze,Xe,Je,pt,Pt,rn,pn,tn){for(Je=rn;Je<pn;++Je)for(rn=0;rn<tn;++rn)pt[Pt++]=Fe(Xe[ve(He[ze++])])},L[N]=function(He,ze,Xe,Je,pt,Pt,rn){var pn=8>>He.b,tn=He.Ea,$n=He.K[0],Tn=He.w;if(8>pn)for(He=(1<<He.b)-1,Tn=(1<<pn)-1;ze<Xe;++ze){var Wt,Yt=0;for(Wt=0;Wt<tn;++Wt)Wt&He||(Yt=ve(Je[pt++])),Pt[rn++]=Fe($n[Yt&Tn]),Yt>>=pn}else L["VP8LMapColor"+ae](Je,pt,$n,Tn,Pt,rn,ze,Xe,tn)}}function Qt(N,j,ae,ve,Fe){for(ae=j+ae;j<ae;){var He=N[j++];ve[Fe++]=He>>16&255,ve[Fe++]=He>>8&255,ve[Fe++]=He>>0&255}}function Dt(N,j,ae,ve,Fe){for(ae=j+ae;j<ae;){var He=N[j++];ve[Fe++]=He>>16&255,ve[Fe++]=He>>8&255,ve[Fe++]=He>>0&255,ve[Fe++]=He>>24&255}}function st(N,j,ae,ve,Fe){for(ae=j+ae;j<ae;){var He=(ze=N[j++])>>16&240|ze>>12&15,ze=ze>>0&240|ze>>28&15;ve[Fe++]=He,ve[Fe++]=ze}}function ke(N,j,ae,ve,Fe){for(ae=j+ae;j<ae;){var He=(ze=N[j++])>>16&248|ze>>13&7,ze=ze>>5&224|ze>>3&31;ve[Fe++]=He,ve[Fe++]=ze}}function ct(N,j,ae,ve,Fe){for(ae=j+ae;j<ae;){var He=N[j++];ve[Fe++]=He>>0&255,ve[Fe++]=He>>8&255,ve[Fe++]=He>>16&255}}function Oe(N,j,ae,ve,Fe,He){if(He==0)for(ae=j+ae;j<ae;)Ie(ve,((He=N[j++])[0]>>24|He[1]>>8&65280|He[2]<<8&16711680|He[3]<<24)>>>0),Fe+=32;else r(ve,Fe,N,j,ae)}function kt(N,j){L[j][0]=L[N+"0"],L[j][1]=L[N+"1"],L[j][2]=L[N+"2"],L[j][3]=L[N+"3"],L[j][4]=L[N+"4"],L[j][5]=L[N+"5"],L[j][6]=L[N+"6"],L[j][7]=L[N+"7"],L[j][8]=L[N+"8"],L[j][9]=L[N+"9"],L[j][10]=L[N+"10"],L[j][11]=L[N+"11"],L[j][12]=L[N+"12"],L[j][13]=L[N+"13"],L[j][14]=L[N+"0"],L[j][15]=L[N+"0"]}function wn(N){return N==ia||N==gc||N==Ww||N==fi}function mt(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mt,this.f.kb=new Kt,this.sd=null}function Rn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Un(N,j){var ae=N.T,ve=j.ba.f.RGBA,Fe=ve.eb,He=ve.fb+N.ka*ve.A,ze=yh[j.ba.S],Xe=N.y,Je=N.O,pt=N.f,Pt=N.N,rn=N.ea,pn=N.W,tn=j.cc,$n=j.dc,Tn=j.Mc,Wt=j.Nc,Yt=N.ka,Hn=N.ka+N.T,Yn=N.U,zn=Yn+1>>1;for(Yt==0?ze(Xe,Je,null,null,pt,Pt,rn,pn,pt,Pt,rn,pn,Fe,He,null,null,Yn):(ze(j.ec,j.fc,Xe,Je,tn,$n,Tn,Wt,pt,Pt,rn,pn,Fe,He-ve.A,Fe,He,Yn),++ae);Yt+2<Hn;Yt+=2)tn=pt,$n=Pt,Tn=rn,Wt=pn,Pt+=N.Rc,pn+=N.Rc,He+=2*ve.A,ze(Xe,(Je+=2*N.fa)-N.fa,Xe,Je,tn,$n,Tn,Wt,pt,Pt,rn,pn,Fe,He-ve.A,Fe,He,Yn);return Je+=N.fa,N.j+Hn<N.o?(r(j.ec,j.fc,Xe,Je,Yn),r(j.cc,j.dc,pt,Pt,zn),r(j.Mc,j.Nc,rn,pn,zn),ae--):1&Hn||ze(Xe,Je,null,null,pt,Pt,rn,pn,pt,Pt,rn,pn,Fe,He+ve.A,null,null,Yn),ae}function jr(N,j,ae){var ve=N.F,Fe=[N.J];if(ve!=null){var He=N.U,ze=j.ba.S,Xe=ze==Qw||ze==Ww;j=j.ba.f.RGBA;var Je=[0],pt=N.ka;Je[0]=N.T,N.Kb&&(pt==0?--Je[0]:(--pt,Fe[0]-=N.width),N.j+N.ka+N.T==N.o&&(Je[0]=N.o-N.j-pt));var Pt=j.eb;pt=j.fb+pt*j.A,N=ro(ve,Fe[0],N.width,He,Je,Pt,pt+(Xe?0:3),j.A),e(ae==Je),N&&wn(ze)&&od(Pt,pt,Xe,He,Je,j.A)}return 0}function Mi(N){var j=N.ma,ae=j.ba.S,ve=11>ae,Fe=ae==zw||ae==$w||ae==Qw||ae==vC||ae==12||wn(ae);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!sd(j.Oa,N,Fe?11:12))return 0;if(Fe&&wn(ae)&&Fn(),N.da)alert("todo:use_scaling");else{if(ve){if(j.Ib=Dn,N.Kb){if(ae=N.U+1>>1,j.memory=s(N.U+2*ae),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+N.U,j.Mc=j.cc,j.Nc=j.dc+ae,j.Ib=Un,Fn()}}else alert("todo:EmitYUV");Fe&&(j.Jb=jr,ve&&nn())}if(ve&&!uu){for(N=0;256>N;++N)Ak[N]=89858*(N-128)+Fc>>ls,mk[N]=-22014*(N-128)+Fc,gk[N]=-45773*(N-128),pk[N]=113618*(N-128)+Fc>>ls;for(N=Oc;N<BA;++N)j=76283*(N-16)+Fc>>ls,vk[N-Oc]=su(j,255),yk[N-Oc]=su(j+8>>4,15);uu=1}return 1}function bi(N){var j=N.ma,ae=N.U,ve=N.T;return e(!(1&N.ka)),0>=ae||0>=ve?0:(ae=j.Ib(N,j),j.Jb!=null&&j.Jb(N,j,ae),j.Dc+=ae,1)}function Ji(N){N.ma.memory=null}function br(N,j,ae,ve){return ne(N,8)!=47?0:(j[0]=ne(N,14)+1,ae[0]=ne(N,14)+1,ve[0]=ne(N,1),ne(N,3)!=0?0:!N.h)}function fs(N,j){if(4>N)return N+1;var ae=N-2>>1;return(2+(1&N)<<ae)+ne(j,ae)+1}function Di(N,j){return 120<j?j-120:1<=(ae=((ae=yC[j-1])>>4)*N+(8-(15&ae)))?ae:1;var ae}function Hi(N,j,ae){var ve=Y(ae),Fe=N[j+=255&ve].g-8;return 0<Fe&&(fe(ae,ae.u+8),ve=Y(ae),j+=N[j].value,j+=ve&(1<<Fe)-1),fe(ae,ae.u+N[j].g),N[j].value}function ki(N,j,ae){return ae.g+=N.g,ae.value+=N.value<<j>>>0,e(8>=ae.g),N.g}function ot(N,j,ae){var ve=N.xc;return e((j=ve==0?0:N.vc[N.md*(ae>>ve)+(j>>ve)])<N.Wb),N.Ya[j]}function sn(N,j,ae,ve){var Fe=N.ab,He=N.c*j,ze=N.C;j=ze+j;var Xe=ae,Je=ve;for(ve=N.Ta,ae=N.Ua;0<Fe--;){var pt=N.gc[Fe],Pt=ze,rn=j,pn=Xe,tn=Je,$n=(Je=ve,Xe=ae,pt.Ea);switch(e(Pt<rn),e(rn<=pt.nc),pt.hc){case 2:Zp(pn,tn,(rn-Pt)*$n,Je,Xe);break;case 0:var Tn=Pt,Wt=rn,Yt=Je,Hn=Xe,Yn=(Fr=pt).Ea;Tn==0&&(Yp(pn,tn,null,null,1,Yt,Hn),Tt(pn,tn+1,0,0,Yn-1,Yt,Hn+1),tn+=Yn,Hn+=Yn,++Tn);for(var zn=1<<Fr.b,Qr=zn-1,Lr=ft(Yn,Fr.b),Fi=Fr.K,Fr=Fr.w+(Tn>>Fr.b)*Lr;Tn<Wt;){var va=Fi,Ra=Fr,ha=1;for(Qf(pn,tn,Yt,Hn-Yn,1,Yt,Hn);ha<Yn;){var Vs=(ha&~Qr)+zn;Vs>Yn&&(Vs=Yn),(0,Wf[va[Ra++]>>8&15])(pn,tn+ +ha,Yt,Hn+ha-Yn,Vs-ha,Yt,Hn+ha),ha=Vs}tn+=Yn,Hn+=Yn,++Tn&Qr||(Fr+=Lr)}rn!=pt.nc&&r(Je,Xe-$n,Je,Xe+(rn-Pt-1)*$n,$n);break;case 1:for($n=pn,Wt=tn,Yn=(pn=pt.Ea)-(Hn=pn&~(Yt=(tn=1<<pt.b)-1)),Tn=ft(pn,pt.b),zn=pt.K,pt=pt.w+(Pt>>pt.b)*Tn;Pt<rn;){for(Qr=zn,Lr=pt,Fi=new vt,Fr=Wt+Hn,va=Wt+pn;Wt<Fr;)ln(Qr[Lr++],Fi),ef(Fi,$n,Wt,tn,Je,Xe),Wt+=tn,Xe+=tn;Wt<va&&(ln(Qr[Lr++],Fi),ef(Fi,$n,Wt,Yn,Je,Xe),Wt+=Yn,Xe+=Yn),++Pt&Yt||(pt+=Tn)}break;case 3:if(pn==Je&&tn==Xe&&0<pt.b){for(Wt=Je,pn=$n=Xe+(rn-Pt)*$n-(Hn=(rn-Pt)*ft(pt.Ea,pt.b)),tn=Je,Yt=Xe,Tn=[],Hn=(Yn=Hn)-1;0<=Hn;--Hn)Tn[Hn]=tn[Yt+Hn];for(Hn=Yn-1;0<=Hn;--Hn)Wt[pn+Hn]=Tn[Hn];Pu(pt,Pt,rn,Je,$n,Je,Xe)}else Pu(pt,Pt,rn,pn,tn,Je,Xe)}Xe=ve,Je=ae}Je!=ae&&r(ve,ae,Xe,Je,He)}function Cn(N,j){var ae=N.V,ve=N.Ba+N.c*N.C,Fe=j-N.C;if(e(j<=N.l.o),e(16>=Fe),0<Fe){var He=N.l,ze=N.Ta,Xe=N.Ua,Je=He.width;if(sn(N,Fe,ae,ve),Fe=Xe=[Xe],e((ae=N.C)<(ve=j)),e(He.v<He.va),ve>He.o&&(ve=He.o),ae<He.j){var pt=He.j-ae;ae=He.j,Fe[0]+=pt*Je}if(ae>=ve?ae=0:(Fe[0]+=4*He.v,He.ka=ae-He.j,He.U=He.va-He.v,He.T=ve-ae,ae=1),ae){if(Xe=Xe[0],11>(ae=N.ca).S){var Pt=ae.f.RGBA,rn=(ve=ae.S,Fe=He.U,He=He.T,pt=Pt.eb,Pt.A),pn=He;for(Pt=Pt.fb+N.Ma*Pt.A;0<pn--;){var tn=ze,$n=Xe,Tn=Fe,Wt=pt,Yt=Pt;switch(ve){case Vw:pc(tn,$n,Tn,Wt,Yt);break;case zw:At(tn,$n,Tn,Wt,Yt);break;case ia:At(tn,$n,Tn,Wt,Yt),od(Wt,Yt,0,Tn,1,0);break;case xB:_n(tn,$n,Tn,Wt,Yt);break;case $w:Oe(tn,$n,Tn,Wt,Yt,1);break;case gc:Oe(tn,$n,Tn,Wt,Yt,1),od(Wt,Yt,0,Tn,1,0);break;case Qw:Oe(tn,$n,Tn,Wt,Yt,0);break;case Ww:Oe(tn,$n,Tn,Wt,Yt,0),od(Wt,Yt,1,Tn,1,0);break;case vC:Vt(tn,$n,Tn,Wt,Yt);break;case fi:Vt(tn,$n,Tn,Wt,Yt),no(Wt,Yt,Tn,1,0);break;case EB:un(tn,$n,Tn,Wt,Yt);break;default:e(0)}Xe+=Je,Pt+=rn}N.Ma+=He}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=ae.height)}}N.C=j,e(N.C<=N.i)}function it(N){var j;if(0<N.ua)return 0;for(j=0;j<N.Wb;++j){var ae=N.Ya[j].G,ve=N.Ya[j].H;if(0<ae[1][ve[1]+0].g||0<ae[2][ve[2]+0].g||0<ae[3][ve[3]+0].g)return 0}return 1}function Ft(N,j,ae,ve,Fe,He){if(N.Z!=0){var ze=N.qd,Xe=N.rd;for(e(LA[N.Z]!=null);j<ae;++j)LA[N.Z](ze,Xe,ve,Fe,ve,Fe,He),ze=ve,Xe=Fe,Fe+=He;N.qd=ze,N.rd=Xe}}function Gn(N,j){var ae=N.l.ma,ve=ae.Z==0||ae.Z==1?N.l.j:N.C;if(ve=N.C<ve?ve:N.C,e(j<=N.l.o),j>ve){var Fe=N.l.width,He=ae.ca,ze=ae.tb+Fe*ve,Xe=N.V,Je=N.Ba+N.c*ve,pt=N.gc;e(N.ab==1),e(pt[0].hc==3),Jp(pt[0],ve,j,Xe,Je,He,ze),Ft(ae,ve,j,He,ze,Fe)}N.C=N.Ma=j}function fr(N,j,ae,ve,Fe,He,ze){var Xe=N.$/ve,Je=N.$%ve,pt=N.m,Pt=N.s,rn=ae+N.$,pn=rn;Fe=ae+ve*Fe;var tn=ae+ve*He,$n=280+Pt.ua,Tn=N.Pb?Xe:16777216,Wt=0<Pt.ua?Pt.Wa:null,Yt=Pt.wc,Hn=rn<tn?ot(Pt,Je,Xe):null;e(N.C<He),e(tn<=Fe);var Yn=!1;e:for(;;){for(;Yn||rn<tn;){var zn=0;if(Xe>=Tn){var Qr=rn-ae;e((Tn=N).Pb),Tn.wd=Tn.m,Tn.xd=Qr,0<Tn.s.ua&&Ve(Tn.s.Wa,Tn.s.vb),Tn=Xe+Vr}if(Je&Yt||(Hn=ot(Pt,Je,Xe)),e(Hn!=null),Hn.Qb&&(j[rn]=Hn.qb,Yn=!0),!Yn)if(me(pt),Hn.jc){zn=pt,Qr=j;var Lr=rn,Fi=Hn.pd[Y(zn)&dl-1];e(Hn.jc),256>Fi.g?(fe(zn,zn.u+Fi.g),Qr[Lr]=Fi.value,zn=0):(fe(zn,zn.u+Fi.g-256),e(256<=Fi.value),zn=Fi.value),zn==0&&(Yn=!0)}else zn=Hi(Hn.G[0],Hn.H[0],pt);if(pt.h)break;if(Yn||256>zn){if(!Yn)if(Hn.nd)j[rn]=(Hn.qb|zn<<8)>>>0;else{if(me(pt),Yn=Hi(Hn.G[1],Hn.H[1],pt),me(pt),Qr=Hi(Hn.G[2],Hn.H[2],pt),Lr=Hi(Hn.G[3],Hn.H[3],pt),pt.h)break;j[rn]=(Lr<<24|Yn<<16|zn<<8|Qr)>>>0}if(Yn=!1,++rn,++Je>=ve&&(Je=0,++Xe,ze!=null&&Xe<=He&&!(Xe%16)&&ze(N,Xe),Wt!=null))for(;pn<rn;)zn=j[pn++],Wt.X[(506832829*zn&4294967295)>>>Wt.Mb]=zn}else if(280>zn){if(zn=fs(zn-256,pt),Qr=Hi(Hn.G[4],Hn.H[4],pt),me(pt),Qr=Di(ve,Qr=fs(Qr,pt)),pt.h)break;if(rn-ae<Qr||Fe-rn<zn)break e;for(Lr=0;Lr<zn;++Lr)j[rn+Lr]=j[rn+Lr-Qr];for(rn+=zn,Je+=zn;Je>=ve;)Je-=ve,++Xe,ze!=null&&Xe<=He&&!(Xe%16)&&ze(N,Xe);if(e(rn<=Fe),Je&Yt&&(Hn=ot(Pt,Je,Xe)),Wt!=null)for(;pn<rn;)zn=j[pn++],Wt.X[(506832829*zn&4294967295)>>>Wt.Mb]=zn}else{if(!(zn<$n))break e;for(Yn=zn-280,e(Wt!=null);pn<rn;)zn=j[pn++],Wt.X[(506832829*zn&4294967295)>>>Wt.Mb]=zn;zn=rn,e(!(Yn>>>(Qr=Wt).Xa)),j[zn]=Qr.X[Yn],Yn=!0}Yn||e(pt.h==oe(pt))}if(N.Pb&&pt.h&&rn<Fe)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Ve(N.s.vb,N.s.Wa);else{if(pt.h)break e;ze!=null&&ze(N,Xe>He?He:Xe),N.a=0,N.$=rn-ae}return 1}return N.a=3,0}function Gr(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var j=N.Wa;j!=null&&(j.X=null),N.vb=null,e(N!=null)}function $r(){var N=new yn;return N==null?null:(N.a=0,N.xb=s0,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),Zp=Zt,ef=Ye,pc=Qt,At=Dt,Vt=st,un=ke,_n=ct,L.VP8LMapColor32b=Jd,L.VP8LMapColor8b=eg,N)}function oi(N,j,ae,ve,Fe){var He=1,ze=[N],Xe=[j],Je=ve.m,pt=ve.s,Pt=null,rn=0;e:for(;;){if(ae)for(;He&&ne(Je,1);){var pn=ze,tn=Xe,$n=ve,Tn=1,Wt=$n.m,Yt=$n.gc[$n.ab],Hn=ne(Wt,2);if($n.Oc&1<<Hn)He=0;else{switch($n.Oc|=1<<Hn,Yt.hc=Hn,Yt.Ea=pn[0],Yt.nc=tn[0],Yt.K=[null],++$n.ab,e(4>=$n.ab),Hn){case 0:case 1:Yt.b=ne(Wt,3)+2,Tn=oi(ft(Yt.Ea,Yt.b),ft(Yt.nc,Yt.b),0,$n,Yt.K),Yt.K=Yt.K[0];break;case 3:var Yn,zn=ne(Wt,8)+1,Qr=16<zn?0:4<zn?1:2<zn?2:3;if(pn[0]=ft(Yt.Ea,Qr),Yt.b=Qr,Yn=Tn=oi(zn,1,0,$n,Yt.K)){var Lr,Fi=zn,Fr=Yt,va=1<<(8>>Fr.b),Ra=s(va);if(Ra==null)Yn=0;else{var ha=Fr.K[0],Vs=Fr.w;for(Ra[0]=Fr.K[0][0],Lr=1;Lr<1*Fi;++Lr)Ra[Lr]=je(ha[Vs+Lr],Ra[Lr-1]);for(;Lr<4*va;++Lr)Ra[Lr]=0;Fr.K[0]=null,Fr.K[0]=Ra,Yn=1}}Tn=Yn;break;case 2:break;default:e(0)}He=Tn}}if(ze=ze[0],Xe=Xe[0],He&&ne(Je,1)&&!(He=1<=(rn=ne(Je,4))&&11>=rn)){ve.a=3;break e}var Za;if(Za=He)t:{var Ga,ws,Al,Ou=ve,pl=ze,Nu=Xe,Ia=rn,_h=ae,wh=Ou.m,Bl=Ou.s,Jl=[null],mc=1,bh=0,jf=uk[Ia];n:for(;;){if(_h&&ne(wh,1)){var Ao=ne(wh,3)+2,RA=ft(pl,Ao),ig=ft(Nu,Ao),o0=RA*ig;if(!oi(RA,ig,0,Ou,Jl))break n;for(Jl=Jl[0],Bl.xc=Ao,Ga=0;Ga<o0;++Ga){var IA=Jl[Ga]>>8&65535;Jl[Ga]=IA,IA>=mc&&(mc=IA+1)}}if(wh.h)break n;for(ws=0;5>ws;++ws){var To=jw[ws];!ws&&0<Ia&&(To+=1<<Ia),bh<To&&(bh=To)}var _C=a(mc*jf,F),TB=mc,MB=a(TB,$);if(MB==null)var qw=null;else e(65536>=TB),qw=MB;var Yy=s(bh);if(qw==null||Yy==null||_C==null){Ou.a=1;break n}var sg=_C;for(Ga=Al=0;Ga<mc;++Ga){var ud=qw[Ga],Pm=ud.G,ag=ud.H,wC=0,Xw=1,LB=0;for(ws=0;5>ws;++ws){To=jw[ws],Pm[ws]=sg,ag[ws]=Al,!ws&&0<Ia&&(To+=1<<Ia);i:{var Yw,bC=To,Zw=Ou,Zy=Yy,bk=sg,xk=Al,xC=0,og=Zw.m,BB=ne(og,1);if(i(Zy,0,0,bC),BB){var Ek=ne(og,1)+1,lg=ne(og,1),PA=ne(og,lg==0?1:8);Zy[PA]=1,Ek==2&&(Zy[PA=ne(og,8)]=1);var Jy=1}else{var RB=s(19),IB=ne(og,4)+4;if(19<IB){Zw.a=3;var e_=0;break i}for(Yw=0;Yw<IB;++Yw)RB[Rm[Yw]]=ne(og,3);var cg=void 0,po=void 0,l0=Zw,PB=RB,Jw=bC,eb=Zy,ug=0,xh=l0.m,t_=8,hg=a(128,F);r:for(;O(hg,0,7,PB,19);){if(ne(xh,1)){var n_=2+2*ne(xh,3);if((cg=2+ne(xh,n_))>Jw)break r}else cg=Jw;for(po=0;po<Jw&&cg--;){me(xh);var FA=hg[0+(127&Y(xh))];fe(xh,xh.u+FA.g);var tf=FA.value;if(16>tf)eb[po++]=tf,tf!=0&&(t_=tf);else{var r_=tf==16,c0=tf-16,i_=Bm[c0],s_=ne(xh,Ei[c0])+i_;if(po+s_>Jw)break r;for(var tb=r_?t_:0;0<s_--;)eb[po++]=tb}}ug=1;break r}ug||(l0.a=3),Jy=ug}(Jy=Jy&&!og.h)&&(xC=O(bk,xk,8,Zy,bC)),Jy&&xC!=0?e_=xC:(Zw.a=3,e_=0)}if(e_==0)break n;if(Xw&&ck[ws]==1&&(Xw=sg[Al].g==0),wC+=sg[Al].g,Al+=e_,3>=ws){var xa,Dc=Yy[0];for(xa=1;xa<To;++xa)Yy[xa]>Dc&&(Dc=Yy[xa]);LB+=Dc}}if(ud.nd=Xw,ud.Qb=0,Xw&&(ud.qb=(Pm[3][ag[3]+0].value<<24|Pm[1][ag[1]+0].value<<16|Pm[2][ag[2]+0].value)>>>0,wC==0&&256>Pm[0][ag[0]+0].value&&(ud.Qb=1,ud.qb+=Pm[0][ag[0]+0].value<<8)),ud.jc=!ud.Qb&&6>LB,ud.jc){var Va,hd=ud;for(Va=0;Va<dl;++Va){var ec=Va,Eh=hd.pd[ec],u0=hd.G[0][hd.H[0]+ec];256<=u0.value?(Eh.g=u0.g+256,Eh.value=u0.value):(Eh.g=0,Eh.value=0,ec>>=ki(u0,8,Eh),ec>>=ki(hd.G[1][hd.H[1]+ec],16,Eh),ec>>=ki(hd.G[2][hd.H[2]+ec],0,Eh),ki(hd.G[3][hd.H[3]+ec],24,Eh))}}}Bl.vc=Jl,Bl.Wb=mc,Bl.Ya=qw,Bl.yc=_C,Za=1;break t}Za=0}if(!(He=Za)){ve.a=3;break e}if(0<rn){if(pt.ua=1<<rn,!$e(pt.Wa,rn)){ve.a=1,He=0;break e}}else pt.ua=0;var dg=ve,h0=ze,a_=Xe,fg=dg.s,Fm=fg.xc;if(dg.c=h0,dg.i=a_,fg.md=ft(h0,Fm),fg.wc=Fm==0?-1:(1<<Fm)-1,ae){ve.xb=kr;break e}if((Pt=s(ze*Xe))==null){ve.a=1,He=0;break e}He=(He=fr(ve,Pt,0,ze,Xe,Xe,null))&&!Je.h;break e}return He?(Fe!=null?Fe[0]=Pt:(e(Pt==null),e(ae)),ve.$=0,ae||Gr(pt)):Gr(pt),He}function xi(N,j){var ae=N.c*N.i,ve=ae+j+16*j;return e(N.c<=j),N.V=s(ve),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+ae+j,1)}function mi(N,j){var ae=N.C,ve=j-ae,Fe=N.V,He=N.Ba+N.c*ae;for(e(j<=N.l.o);0<ve;){var ze=16<ve?16:ve,Xe=N.l.ma,Je=N.l.width,pt=Je*ze,Pt=Xe.ca,rn=Xe.tb+Je*ae,pn=N.Ta,tn=N.Ua;sn(N,ze,Fe,He),tl(pn,tn,Pt,rn,pt),Ft(Xe,ae,ae+ze,Pt,rn,Je),ve-=ze,Fe+=ze*N.c,ae+=ze}e(ae==j),N.C=N.Ma=j}function Lt(){this.ub=this.yd=this.td=this.Rb=0}function ut(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function on(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xn(){this.Yb=function(){var N=[];return function j(ae,ve,Fe){for(var He=Fe[ve],ze=0;ze<He&&(ae.push(Fe.length>ve+1?[]:0),!(Fe.length<ve+1));ze++)j(ae[ze],ve+1,Fe)}(N,0,[3,11]),N}()}function Rr(){this.jb=s(3),this.Wc=o([4,8],xn),this.Xc=o([4,17],xn)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ta(){this.ld=this.La=this.dd=this.tc=0}function Ki(){this.Na=this.la=0}function Eo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function na(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ta),this.Y=0,this.ya=Array(new na),this.aa=0,this.l=new ql}function Ic(){this.y=s(16),this.f=s(8),this.ea=s(8)}function to(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new Lt,this.Kc=new ut,this.ed=new Xr,this.Qa=new on,this.Ic=this.$c=this.Aa=0,this.D=new Kl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,he),this.ia=0,this.pb=a(4,Eo),this.Pa=new Rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ic),this.Hd=0,this.rb=Array(new Ki),this.sb=0,this.wa=Array(new ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new na),this.L=this.aa=0,this.gd=o([4,2],ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ql(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ed(){var N=new to;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,vh||(vh=hh)),N}function Ls(N,j,ae){return N.a==0&&(N.a=j,N.sc=ae,N.cb=0),0}function So(N,j,ae){return 3<=ae&&N[j+0]==157&&N[j+1]==1&&N[j+2]==42}function Ru(N,j){if(N==null)return 0;if(N.a=0,N.sc="OK",j==null)return Ls(N,2,"null VP8Io passed to VP8GetHeaders()");var ae=j.data,ve=j.w,Fe=j.ha;if(4>Fe)return Ls(N,7,"Truncated header.");var He=ae[ve+0]|ae[ve+1]<<8|ae[ve+2]<<16,ze=N.Od;if(ze.Rb=!(1&He),ze.td=He>>1&7,ze.yd=He>>4&1,ze.ub=He>>5,3<ze.td)return Ls(N,3,"Incorrect keyframe parameters.");if(!ze.yd)return Ls(N,4,"Frame not displayable.");ve+=3,Fe-=3;var Xe=N.Kc;if(ze.Rb){if(7>Fe)return Ls(N,7,"cannot parse picture header");if(!So(ae,ve,Fe))return Ls(N,3,"Bad code word");Xe.c=16383&(ae[ve+4]<<8|ae[ve+3]),Xe.Td=ae[ve+4]>>6,Xe.i=16383&(ae[ve+6]<<8|ae[ve+5]),Xe.Ud=ae[ve+6]>>6,ve+=7,Fe-=7,N.za=Xe.c+15>>4,N.Ub=Xe.i+15>>4,j.width=Xe.c,j.height=Xe.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((He=N.Pa).jb,0,255,He.jb.length),e((He=N.Qa)!=null),He.Cb=0,He.Bb=0,He.Fb=1,i(He.Zb,0,0,He.Zb.length),i(He.Lb,0,0,He.Lb)}if(ze.ub>Fe)return Ls(N,7,"bad partition length");K(He=N.m,ae,ve,ze.ub),ve+=ze.ub,Fe-=ze.ub,ze.Rb&&(Xe.Ld=be(He),Xe.Kd=be(He)),Xe=N.Qa;var Je,pt=N.Pa;if(e(He!=null),e(Xe!=null),Xe.Cb=be(He),Xe.Cb){if(Xe.Bb=be(He),be(He)){for(Xe.Fb=be(He),Je=0;4>Je;++Je)Xe.Zb[Je]=be(He)?Q(He,7):0;for(Je=0;4>Je;++Je)Xe.Lb[Je]=be(He)?Q(He,6):0}if(Xe.Bb)for(Je=0;3>Je;++Je)pt.jb[Je]=be(He)?V(He,8):255}else Xe.Bb=0;if(He.Ka)return Ls(N,3,"cannot parse segment header");if((Xe=N.ed).zd=be(He),Xe.Tb=V(He,6),Xe.wb=V(He,3),Xe.Pc=be(He),Xe.Pc&&be(He)){for(pt=0;4>pt;++pt)be(He)&&(Xe.vd[pt]=Q(He,6));for(pt=0;4>pt;++pt)be(He)&&(Xe.od[pt]=Q(He,6))}if(N.L=Xe.Tb==0?0:Xe.zd?1:2,He.Ka)return Ls(N,3,"cannot parse filter header");var Pt=Fe;if(Fe=Je=ve,ve=Je+Pt,Xe=Pt,N.Xb=(1<<V(N.m,2))-1,Pt<3*(pt=N.Xb))ae=7;else{for(Je+=3*pt,Xe-=3*pt,Pt=0;Pt<pt;++Pt){var rn=ae[Fe+0]|ae[Fe+1]<<8|ae[Fe+2]<<16;rn>Xe&&(rn=Xe),K(N.Jc[+Pt],ae,Je,rn),Je+=rn,Xe-=rn,Fe+=3}K(N.Jc[+pt],ae,Je,Xe),ae=Je<ve?0:5}if(ae!=0)return Ls(N,ae,"cannot parse partitions");for(ae=V(Je=N.m,7),Fe=be(Je)?Q(Je,4):0,ve=be(Je)?Q(Je,4):0,Xe=be(Je)?Q(Je,4):0,pt=be(Je)?Q(Je,4):0,Je=be(Je)?Q(Je,4):0,Pt=N.Qa,rn=0;4>rn;++rn){if(Pt.Cb){var pn=Pt.Zb[rn];Pt.Fb||(pn+=ae)}else{if(0<rn){N.pb[rn]=N.pb[0];continue}pn=ae}var tn=N.pb[rn];tn.Sc[0]=cd[su(pn+Fe,127)],tn.Sc[1]=tg[su(pn+0,127)],tn.Eb[0]=2*cd[su(pn+ve,127)],tn.Eb[1]=101581*tg[su(pn+Xe,127)]>>16,8>tn.Eb[1]&&(tn.Eb[1]=8),tn.Qc[0]=cd[su(pn+pt,117)],tn.Qc[1]=tg[su(pn+Je,127)],tn.lc=pn+Je}if(!ze.Rb)return Ls(N,4,"Not a key frame.");for(be(He),ze=N.Pa,ae=0;4>ae;++ae){for(Fe=0;8>Fe;++Fe)for(ve=0;3>ve;++ve)for(Xe=0;11>Xe;++Xe)pt=xe(He,qy[ae][Fe][ve][Xe])?V(He,8):jy[ae][Fe][ve][Xe],ze.Wc[ae][Fe].Yb[ve][Xe]=pt;for(Fe=0;17>Fe;++Fe)ze.Xc[ae][Fe]=ze.Wc[ae][Xy[Fe]]}return N.kc=be(He),N.kc&&(N.Bd=V(He,8)),N.cb=1}function hh(N,j,ae,ve,Fe,He,ze){var Xe=j[Fe].Yb[ae];for(ae=0;16>Fe;++Fe){if(!xe(N,Xe[ae+0]))return Fe;for(;!xe(N,Xe[ae+1]);)if(Xe=j[++Fe].Yb[0],ae=0,Fe==16)return 16;var Je=j[Fe+1].Yb;if(xe(N,Xe[ae+2])){var pt=N,Pt=0;if(xe(pt,(pn=Xe)[(rn=ae)+3]))if(xe(pt,pn[rn+6])){for(Xe=0,rn=2*(Pt=xe(pt,pn[rn+8]))+(pn=xe(pt,pn[rn+9+Pt])),Pt=0,pn=hk[rn];pn[Xe];++Xe)Pt+=Pt+xe(pt,pn[Xe]);Pt+=3+(8<<rn)}else xe(pt,pn[rn+7])?(Pt=7+2*xe(pt,165),Pt+=xe(pt,145)):Pt=5+xe(pt,159);else Pt=xe(pt,pn[rn+4])?3+xe(pt,pn[rn+5]):2;Xe=Je[2]}else Pt=1,Xe=Je[1];Je=ze+$i[Fe],0>(pt=N).b&&ce(pt);var rn,pn=pt.b,tn=(rn=pt.Ca>>1)-(pt.I>>pn)>>31;--pt.b,pt.Ca+=tn,pt.Ca|=1,pt.I-=(rn+1&tn)<<pn,He[Je]=((Pt^tn)-tn)*ve[(0<Fe)+0]}return 16}function jd(N){var j=N.rb[N.sb-1];j.la=0,j.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function TA(N,j){if(N==null)return 0;if(j==null)return Ls(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Ru(N,j))return 0;if(e(N.cb),j.ac==null||j.ac(j)){j.ob&&(N.L=0);var ae=Kw[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=j.v-ae>>4,N.zb=j.j-ae>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=j.o+15+ae>>4,N.Hb=j.va+15+ae>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var ve=N.ed;for(ae=0;4>ae;++ae){var Fe;if(N.Qa.Cb){var He=N.Qa.Lb[ae];N.Qa.Fb||(He+=ve.Tb)}else He=ve.Tb;for(Fe=0;1>=Fe;++Fe){var ze=N.gd[ae][Fe],Xe=He;if(ve.Pc&&(Xe+=ve.vd[0],Fe&&(Xe+=ve.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Je=Xe;0<ve.wb&&(Je=4<ve.wb?Je>>2:Je>>1)>9-ve.wb&&(Je=9-ve.wb),1>Je&&(Je=1),ze.dd=Je,ze.tc=2*Xe+Je,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=Fe}}}ae=0}else Ls(N,6,"Frame setup failed"),ae=N.a;if(ae=ae==0){if(ae){N.$c=0,0<N.Aa||(N.Ic=wk);e:{ae=N.Ic,ve=4*(Je=N.za);var pt=32*Je,Pt=Je+1,rn=0<N.L?Je*(0<N.Aa?2:1):0,pn=(N.Aa==2?2:1)*Je;if((ze=ve+832+(Fe=3*(16*ae+Kw[N.L])/2*pt)+(He=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=ze)ae=0;else{if(ze>N.Vb){if(N.Vb=0,N.Ec=s(ze),N.Fc=0,N.Ec==null){ae=Ls(N,1,"no memory during frame initialization.");break e}N.Vb=ze}ze=N.Ec,Xe=N.Fc,N.Ac=ze,N.Bc=Xe,Xe+=ve,N.Gd=a(pt,Ic),N.Hd=0,N.rb=a(Pt+1,Ki),N.sb=1,N.wa=rn?a(rn,ta):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Je),e(!0),N.oc=ze,N.pc=Xe,Xe+=832,N.ya=a(pn,na),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=Je),N.R=16*Je,N.B=8*Je,Je=(pt=Kw[N.L])*N.R,pt=pt/2*N.B,N.sa=ze,N.ta=Xe+Je,N.qa=N.sa,N.ra=N.ta+16*ae*N.R+pt,N.Ha=N.qa,N.Ia=N.ra+8*ae*N.B+pt,N.$c=0,Xe+=Fe,N.mb=He?ze:null,N.nb=He?Xe:null,e(Xe+He<=N.Fc+N.Vb),jd(N),i(N.Ac,N.Bc,0,ve),ae=1}}if(ae){if(j.ka=0,j.y=N.sa,j.O=N.ta,j.f=N.qa,j.N=N.ra,j.ea=N.Ha,j.Vd=N.Ia,j.fa=N.R,j.Rc=N.B,j.F=null,j.J=0,!Hw){for(ae=-255;255>=ae;++ae)Ll[255+ae]=0>ae?-ae:ae;for(ae=-1020;1020>=ae;++ae)MA[1020+ae]=-128>ae?-128:127<ae?127:ae;for(ae=-112;112>=ae;++ae)Wy[112+ae]=-16>ae?-16:15<ae?15:ae;for(ae=-255;510>=ae;++ae)i0[255+ae]=0>ae?0:255<ae?255:ae;Hw=1}Bn=Mm,Ar=Zv,ri=Ac,_r=Of,Vi=Kd,pr=Qp,Li=D,zi=q,gs=Le,di=Re,ra=le,No=pe,Co=Ge,Ml=Rt,Zl=Gf,ou=Ah,el=ph,ad=Qy,lu[0]=Ua,lu[1]=qd,lu[2]=Fo,lu[3]=dt,lu[4]=fh,lu[5]=wa,lu[6]=Jv,lu[7]=Gs,lu[8]=Df,lu[9]=Yd,Fu[0]=Xd,Fu[1]=jp,Fu[2]=rd,Fu[3]=dh,Fu[4]=cl,Fu[5]=qi,Fu[6]=ir,cu[0]=ul,cu[1]=nd,cu[2]=Zd,cu[3]=Pc,cu[4]=Uf,cu[5]=kf,cu[6]=Kp,ae=1}else ae=0}ae&&(ae=function(tn,$n){for(tn.M=0;tn.M<tn.Va;++tn.M){var Tn,Wt=tn.Jc[tn.M&tn.Xb],Yt=tn.m,Hn=tn;for(Tn=0;Tn<Hn.za;++Tn){var Yn=Yt,zn=Hn,Qr=zn.Ac,Lr=zn.Bc+4*Tn,Fi=zn.zc,Fr=zn.ya[zn.aa+Tn];if(zn.Qa.Bb?Fr.$b=xe(Yn,zn.Pa.jb[0])?2+xe(Yn,zn.Pa.jb[2]):xe(Yn,zn.Pa.jb[1]):Fr.$b=0,zn.kc&&(Fr.Ad=xe(Yn,zn.Bd)),Fr.Za=!xe(Yn,145)+0,Fr.Za){var va=Fr.Ob,Ra=0;for(zn=0;4>zn;++zn){var ha,Vs=Fi[0+zn];for(ha=0;4>ha;++ha){Vs=Ky[Qr[Lr+ha]][Vs];for(var Za=_s[xe(Yn,Vs[0])];0<Za;)Za=_s[2*Za+xe(Yn,Vs[Za])];Vs=-Za,Qr[Lr+ha]=Vs}r(va,Ra,Qr,Lr,4),Ra+=4,Fi[0+zn]=Vs}}else Vs=xe(Yn,156)?xe(Yn,128)?1:3:xe(Yn,163)?2:0,Fr.Ob[0]=Vs,i(Qr,Lr,Vs,4),i(Fi,0,Vs,4);Fr.Dd=xe(Yn,142)?xe(Yn,114)?xe(Yn,183)?1:3:2:0}if(Hn.m.Ka)return Ls(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(Hn=Wt,Yn=(Yt=tn).rb[Yt.sb-1],Qr=Yt.rb[Yt.sb+Yt.ja],Tn=Yt.ya[Yt.aa+Yt.ja],Lr=Yt.kc?Tn.Ad:0)Yn.la=Qr.la=0,Tn.Za||(Yn.Na=Qr.Na=0),Tn.Hc=0,Tn.Gc=0,Tn.ia=0;else{var Ga,ws;if(Yn=Qr,Qr=Hn,Lr=Yt.Pa.Xc,Fi=Yt.ya[Yt.aa+Yt.ja],Fr=Yt.pb[Fi.$b],zn=Fi.ad,va=0,Ra=Yt.rb[Yt.sb-1],Vs=ha=0,i(zn,va,0,384),Fi.Za)var Al=0,Ou=Lr[3];else{Za=s(16);var pl=Yn.Na+Ra.Na;if(pl=vh(Qr,Lr[1],pl,Fr.Eb,0,Za,0),Yn.Na=Ra.Na=(0<pl)+0,1<pl)Bn(Za,0,zn,va);else{var Nu=Za[0]+3>>3;for(Za=0;256>Za;Za+=16)zn[va+Za]=Nu}Al=1,Ou=Lr[0]}var Ia=15&Yn.la,_h=15&Ra.la;for(Za=0;4>Za;++Za){var wh=1&_h;for(Nu=ws=0;4>Nu;++Nu)Ia=Ia>>1|(wh=(pl=vh(Qr,Ou,pl=wh+(1&Ia),Fr.Sc,Al,zn,va))>Al)<<7,ws=ws<<2|(3<pl?3:1<pl?2:zn[va+0]!=0),va+=16;Ia>>=4,_h=_h>>1|wh<<7,ha=(ha<<8|ws)>>>0}for(Ou=Ia,Al=_h>>4,Ga=0;4>Ga;Ga+=2){for(ws=0,Ia=Yn.la>>4+Ga,_h=Ra.la>>4+Ga,Za=0;2>Za;++Za){for(wh=1&_h,Nu=0;2>Nu;++Nu)pl=wh+(1&Ia),Ia=Ia>>1|(wh=0<(pl=vh(Qr,Lr[2],pl,Fr.Qc,0,zn,va)))<<3,ws=ws<<2|(3<pl?3:1<pl?2:zn[va+0]!=0),va+=16;Ia>>=2,_h=_h>>1|wh<<5}Vs|=ws<<4*Ga,Ou|=Ia<<4<<Ga,Al|=(240&_h)<<Ga}Yn.la=Ou,Ra.la=Al,Fi.Hc=ha,Fi.Gc=Vs,Fi.ia=43690&Vs?0:Fr.ia,Lr=!(ha|Vs)}if(0<Yt.L&&(Yt.wa[Yt.Y+Yt.ja]=Yt.gd[Tn.$b][Tn.Za],Yt.wa[Yt.Y+Yt.ja].La|=!Lr),Hn.Ka)return Ls(tn,7,"Premature end-of-file encountered.")}if(jd(tn),Yt=$n,Hn=1,Tn=(Wt=tn).D,Yn=0<Wt.L&&Wt.M>=Wt.zb&&Wt.M<=Wt.Va,Wt.Aa==0)e:{if(Tn.M=Wt.M,Tn.uc=Yn,zf(Wt,Tn),Hn=1,Tn=(ws=Wt.D).Nb,Yn=(Vs=Kw[Wt.L])*Wt.R,Qr=Vs/2*Wt.B,Za=16*Tn*Wt.R,Nu=8*Tn*Wt.B,Lr=Wt.sa,Fi=Wt.ta-Yn+Za,Fr=Wt.qa,zn=Wt.ra-Qr+Nu,va=Wt.Ha,Ra=Wt.Ia-Qr+Nu,_h=(Ia=ws.M)==0,ha=Ia>=Wt.Va-1,Wt.Aa==2&&zf(Wt,ws),ws.uc)for(wh=(pl=Wt).D.M,e(pl.D.uc),ws=pl.yb;ws<pl.Hb;++ws){Al=ws,Ou=wh;var Bl=(Jl=(To=pl).D).Nb;Ga=To.R;var Jl=Jl.wa[Jl.Y+Al],mc=To.sa,bh=To.ta+16*Bl*Ga+16*Al,jf=Jl.dd,Ao=Jl.tc;if(Ao!=0)if(e(3<=Ao),To.L==1)0<Al&&ou(mc,bh,Ga,Ao+4),Jl.La&&ad(mc,bh,Ga,Ao),0<Ou&&Zl(mc,bh,Ga,Ao+4),Jl.La&&el(mc,bh,Ga,Ao);else{var RA=To.B,ig=To.qa,o0=To.ra+8*Bl*RA+8*Al,IA=To.Ha,To=To.Ia+8*Bl*RA+8*Al;Bl=Jl.ld,0<Al&&(zi(mc,bh,Ga,Ao+4,jf,Bl),di(ig,o0,IA,To,RA,Ao+4,jf,Bl)),Jl.La&&(No(mc,bh,Ga,Ao,jf,Bl),Ml(ig,o0,IA,To,RA,Ao,jf,Bl)),0<Ou&&(Li(mc,bh,Ga,Ao+4,jf,Bl),gs(ig,o0,IA,To,RA,Ao+4,jf,Bl)),Jl.La&&(ra(mc,bh,Ga,Ao,jf,Bl),Co(ig,o0,IA,To,RA,Ao,jf,Bl))}}if(Wt.ia&&alert("todo:DitherRow"),Yt.put!=null){if(ws=16*Ia,Ia=16*(Ia+1),_h?(Yt.y=Wt.sa,Yt.O=Wt.ta+Za,Yt.f=Wt.qa,Yt.N=Wt.ra+Nu,Yt.ea=Wt.Ha,Yt.W=Wt.Ia+Nu):(ws-=Vs,Yt.y=Lr,Yt.O=Fi,Yt.f=Fr,Yt.N=zn,Yt.ea=va,Yt.W=Ra),ha||(Ia-=Vs),Ia>Yt.o&&(Ia=Yt.o),Yt.F=null,Yt.J=null,Wt.Fa!=null&&0<Wt.Fa.length&&ws<Ia&&(Yt.J=Oo(Wt,Yt,ws,Ia-ws),Yt.F=Wt.mb,Yt.F==null&&Yt.F.length==0)){Hn=Ls(Wt,3,"Could not decode alpha data.");break e}ws<Yt.j&&(Vs=Yt.j-ws,ws=Yt.j,e(!(1&Vs)),Yt.O+=Wt.R*Vs,Yt.N+=Wt.B*(Vs>>1),Yt.W+=Wt.B*(Vs>>1),Yt.F!=null&&(Yt.J+=Yt.width*Vs)),ws<Ia&&(Yt.O+=Yt.v,Yt.N+=Yt.v>>1,Yt.W+=Yt.v>>1,Yt.F!=null&&(Yt.J+=Yt.v),Yt.ka=ws-Yt.j,Yt.U=Yt.va-Yt.v,Yt.T=Ia-ws,Hn=Yt.put(Yt))}Tn+1!=Wt.Ic||ha||(r(Wt.sa,Wt.ta-Yn,Lr,Fi+16*Wt.R,Yn),r(Wt.qa,Wt.ra-Qr,Fr,zn+8*Wt.B,Qr),r(Wt.Ha,Wt.Ia-Qr,va,Ra+8*Wt.B,Qr))}if(!Hn)return Ls(tn,6,"Output aborted.")}return 1}(N,j)),j.bc!=null&&j.bc(j),ae&=1}return ae?(N.cb=0,ae):0}function Xl(N,j,ae,ve,Fe){Fe=N[j+ae+32*ve]+(Fe>>3),N[j+ae+32*ve]=-256&Fe?0>Fe?0:255:Fe}function iu(N,j,ae,ve,Fe,He){Xl(N,j,0,ae,ve+Fe),Xl(N,j,1,ae,ve+He),Xl(N,j,2,ae,ve-He),Xl(N,j,3,ae,ve-Fe)}function fo(N){return(20091*N>>16)+N}function td(N,j,ae,ve){var Fe,He=0,ze=s(16);for(Fe=0;4>Fe;++Fe){var Xe=N[j+0]+N[j+8],Je=N[j+0]-N[j+8],pt=(35468*N[j+4]>>16)-fo(N[j+12]),Pt=fo(N[j+4])+(35468*N[j+12]>>16);ze[He+0]=Xe+Pt,ze[He+1]=Je+pt,ze[He+2]=Je-pt,ze[He+3]=Xe-Pt,He+=4,j++}for(Fe=He=0;4>Fe;++Fe)Xe=(N=ze[He+0]+4)+ze[He+8],Je=N-ze[He+8],pt=(35468*ze[He+4]>>16)-fo(ze[He+12]),Xl(ae,ve,0,0,Xe+(Pt=fo(ze[He+4])+(35468*ze[He+12]>>16))),Xl(ae,ve,1,0,Je+pt),Xl(ae,ve,2,0,Je-pt),Xl(ae,ve,3,0,Xe-Pt),He++,ve+=32}function Qp(N,j,ae,ve){var Fe=N[j+0]+4,He=35468*N[j+4]>>16,ze=fo(N[j+4]),Xe=35468*N[j+1]>>16;iu(ae,ve,0,Fe+ze,N=fo(N[j+1]),Xe),iu(ae,ve,1,Fe+He,N,Xe),iu(ae,ve,2,Fe-He,N,Xe),iu(ae,ve,3,Fe-ze,N,Xe)}function Zv(N,j,ae,ve,Fe){td(N,j,ae,ve),Fe&&td(N,j+16,ae,ve+4)}function Ac(N,j,ae,ve){Ar(N,j+0,ae,ve,1),Ar(N,j+32,ae,ve+128,1)}function Of(N,j,ae,ve){var Fe;for(N=N[j+0]+4,Fe=0;4>Fe;++Fe)for(j=0;4>j;++j)Xl(ae,ve,j,Fe,N)}function Kd(N,j,ae,ve){N[j+0]&&_r(N,j+0,ae,ve),N[j+16]&&_r(N,j+16,ae,ve+4),N[j+32]&&_r(N,j+32,ae,ve+128),N[j+48]&&_r(N,j+48,ae,ve+128+4)}function Mm(N,j,ae,ve){var Fe,He=s(16);for(Fe=0;4>Fe;++Fe){var ze=N[j+0+Fe]+N[j+12+Fe],Xe=N[j+4+Fe]+N[j+8+Fe],Je=N[j+4+Fe]-N[j+8+Fe],pt=N[j+0+Fe]-N[j+12+Fe];He[0+Fe]=ze+Xe,He[8+Fe]=ze-Xe,He[4+Fe]=pt+Je,He[12+Fe]=pt-Je}for(Fe=0;4>Fe;++Fe)ze=(N=He[0+4*Fe]+3)+He[3+4*Fe],Xe=He[1+4*Fe]+He[2+4*Fe],Je=He[1+4*Fe]-He[2+4*Fe],pt=N-He[3+4*Fe],ae[ve+0]=ze+Xe>>3,ae[ve+16]=pt+Je>>3,ae[ve+32]=ze-Xe>>3,ae[ve+48]=pt-Je>>3,ve+=64}function Wp(N,j,ae){var ve,Fe=j-32,He=mh,ze=255-N[Fe-1];for(ve=0;ve<ae;++ve){var Xe,Je=He,pt=ze+N[j-1];for(Xe=0;Xe<ae;++Xe)N[j+Xe]=Je[pt+N[Fe+Xe]];j+=32}}function qd(N,j){Wp(N,j,4)}function nd(N,j){Wp(N,j,8)}function jp(N,j){Wp(N,j,16)}function rd(N,j){var ae;for(ae=0;16>ae;++ae)r(N,j+32*ae,N,j-32,16)}function dh(N,j){var ae;for(ae=16;0<ae;--ae)i(N,j,N[j-1],16),j+=32}function Nf(N,j,ae){var ve;for(ve=0;16>ve;++ve)i(j,ae+32*ve,N,16)}function Xd(N,j){var ae,ve=16;for(ae=0;16>ae;++ae)ve+=N[j-1+32*ae]+N[j+ae-32];Nf(ve>>5,N,j)}function cl(N,j){var ae,ve=8;for(ae=0;16>ae;++ae)ve+=N[j-1+32*ae];Nf(ve>>4,N,j)}function qi(N,j){var ae,ve=8;for(ae=0;16>ae;++ae)ve+=N[j+ae-32];Nf(ve>>4,N,j)}function ir(N,j){Nf(128,N,j)}function ur(N,j,ae){return N+2*j+ae+2>>2}function Fo(N,j){var ae,ve=j-32;for(ve=new Uint8Array([ur(N[ve-1],N[ve+0],N[ve+1]),ur(N[ve+0],N[ve+1],N[ve+2]),ur(N[ve+1],N[ve+2],N[ve+3]),ur(N[ve+2],N[ve+3],N[ve+4])]),ae=0;4>ae;++ae)r(N,j+32*ae,ve,0,ve.length)}function dt(N,j){var ae=N[j-1],ve=N[j-1+32],Fe=N[j-1+64],He=N[j-1+96];Ie(N,j+0,16843009*ur(N[j-1-32],ae,ve)),Ie(N,j+32,16843009*ur(ae,ve,Fe)),Ie(N,j+64,16843009*ur(ve,Fe,He)),Ie(N,j+96,16843009*ur(Fe,He,He))}function Ua(N,j){var ae,ve=4;for(ae=0;4>ae;++ae)ve+=N[j+ae-32]+N[j-1+32*ae];for(ve>>=3,ae=0;4>ae;++ae)i(N,j+32*ae,ve,4)}function fh(N,j){var ae=N[j-1+0],ve=N[j-1+32],Fe=N[j-1+64],He=N[j-1-32],ze=N[j+0-32],Xe=N[j+1-32],Je=N[j+2-32],pt=N[j+3-32];N[j+0+96]=ur(ve,Fe,N[j-1+96]),N[j+1+96]=N[j+0+64]=ur(ae,ve,Fe),N[j+2+96]=N[j+1+64]=N[j+0+32]=ur(He,ae,ve),N[j+3+96]=N[j+2+64]=N[j+1+32]=N[j+0+0]=ur(ze,He,ae),N[j+3+64]=N[j+2+32]=N[j+1+0]=ur(Xe,ze,He),N[j+3+32]=N[j+2+0]=ur(Je,Xe,ze),N[j+3+0]=ur(pt,Je,Xe)}function Jv(N,j){var ae=N[j+1-32],ve=N[j+2-32],Fe=N[j+3-32],He=N[j+4-32],ze=N[j+5-32],Xe=N[j+6-32],Je=N[j+7-32];N[j+0+0]=ur(N[j+0-32],ae,ve),N[j+1+0]=N[j+0+32]=ur(ae,ve,Fe),N[j+2+0]=N[j+1+32]=N[j+0+64]=ur(ve,Fe,He),N[j+3+0]=N[j+2+32]=N[j+1+64]=N[j+0+96]=ur(Fe,He,ze),N[j+3+32]=N[j+2+64]=N[j+1+96]=ur(He,ze,Xe),N[j+3+64]=N[j+2+96]=ur(ze,Xe,Je),N[j+3+96]=ur(Xe,Je,Je)}function wa(N,j){var ae=N[j-1+0],ve=N[j-1+32],Fe=N[j-1+64],He=N[j-1-32],ze=N[j+0-32],Xe=N[j+1-32],Je=N[j+2-32],pt=N[j+3-32];N[j+0+0]=N[j+1+64]=He+ze+1>>1,N[j+1+0]=N[j+2+64]=ze+Xe+1>>1,N[j+2+0]=N[j+3+64]=Xe+Je+1>>1,N[j+3+0]=Je+pt+1>>1,N[j+0+96]=ur(Fe,ve,ae),N[j+0+64]=ur(ve,ae,He),N[j+0+32]=N[j+1+96]=ur(ae,He,ze),N[j+1+32]=N[j+2+96]=ur(He,ze,Xe),N[j+2+32]=N[j+3+96]=ur(ze,Xe,Je),N[j+3+32]=ur(Xe,Je,pt)}function Gs(N,j){var ae=N[j+0-32],ve=N[j+1-32],Fe=N[j+2-32],He=N[j+3-32],ze=N[j+4-32],Xe=N[j+5-32],Je=N[j+6-32],pt=N[j+7-32];N[j+0+0]=ae+ve+1>>1,N[j+1+0]=N[j+0+64]=ve+Fe+1>>1,N[j+2+0]=N[j+1+64]=Fe+He+1>>1,N[j+3+0]=N[j+2+64]=He+ze+1>>1,N[j+0+32]=ur(ae,ve,Fe),N[j+1+32]=N[j+0+96]=ur(ve,Fe,He),N[j+2+32]=N[j+1+96]=ur(Fe,He,ze),N[j+3+32]=N[j+2+96]=ur(He,ze,Xe),N[j+3+64]=ur(ze,Xe,Je),N[j+3+96]=ur(Xe,Je,pt)}function Yd(N,j){var ae=N[j-1+0],ve=N[j-1+32],Fe=N[j-1+64],He=N[j-1+96];N[j+0+0]=ae+ve+1>>1,N[j+2+0]=N[j+0+32]=ve+Fe+1>>1,N[j+2+32]=N[j+0+64]=Fe+He+1>>1,N[j+1+0]=ur(ae,ve,Fe),N[j+3+0]=N[j+1+32]=ur(ve,Fe,He),N[j+3+32]=N[j+1+64]=ur(Fe,He,He),N[j+3+64]=N[j+2+64]=N[j+0+96]=N[j+1+96]=N[j+2+96]=N[j+3+96]=He}function Df(N,j){var ae=N[j-1+0],ve=N[j-1+32],Fe=N[j-1+64],He=N[j-1+96],ze=N[j-1-32],Xe=N[j+0-32],Je=N[j+1-32],pt=N[j+2-32];N[j+0+0]=N[j+2+32]=ae+ze+1>>1,N[j+0+32]=N[j+2+64]=ve+ae+1>>1,N[j+0+64]=N[j+2+96]=Fe+ve+1>>1,N[j+0+96]=He+Fe+1>>1,N[j+3+0]=ur(Xe,Je,pt),N[j+2+0]=ur(ze,Xe,Je),N[j+1+0]=N[j+3+32]=ur(ae,ze,Xe),N[j+1+32]=N[j+3+64]=ur(ve,ae,ze),N[j+1+64]=N[j+3+96]=ur(Fe,ve,ae),N[j+1+96]=ur(He,Fe,ve)}function Zd(N,j){var ae;for(ae=0;8>ae;++ae)r(N,j+32*ae,N,j-32,8)}function Pc(N,j){var ae;for(ae=0;8>ae;++ae)i(N,j,N[j-1],8),j+=32}function Zo(N,j,ae){var ve;for(ve=0;8>ve;++ve)i(j,ae+32*ve,N,8)}function ul(N,j){var ae,ve=8;for(ae=0;8>ae;++ae)ve+=N[j+ae-32]+N[j-1+32*ae];Zo(ve>>4,N,j)}function kf(N,j){var ae,ve=4;for(ae=0;8>ae;++ae)ve+=N[j+ae-32];Zo(ve>>3,N,j)}function Uf(N,j){var ae,ve=4;for(ae=0;8>ae;++ae)ve+=N[j-1+32*ae];Zo(ve>>3,N,j)}function Kp(N,j){Zo(128,N,j)}function Hf(N,j,ae){var ve=N[j-ae],Fe=N[j+0],He=3*(Fe-ve)+mC[1020+N[j-2*ae]-N[j+ae]],ze=Gw[112+(He+4>>3)];N[j-ae]=mh[255+ve+Gw[112+(He+3>>3)]],N[j+0]=mh[255+Fe-ze]}function e0(N,j,ae,ve){var Fe=N[j+0],He=N[j+ae];return ld[255+N[j-2*ae]-N[j-ae]]>ve||ld[255+He-Fe]>ve}function t0(N,j,ae,ve){return 4*ld[255+N[j-ae]-N[j+0]]+ld[255+N[j-2*ae]-N[j+ae]]<=ve}function n0(N,j,ae,ve,Fe){var He=N[j-3*ae],ze=N[j-2*ae],Xe=N[j-ae],Je=N[j+0],pt=N[j+ae],Pt=N[j+2*ae],rn=N[j+3*ae];return 4*ld[255+Xe-Je]+ld[255+ze-pt]>ve?0:ld[255+N[j-4*ae]-He]<=Fe&&ld[255+He-ze]<=Fe&&ld[255+ze-Xe]<=Fe&&ld[255+rn-Pt]<=Fe&&ld[255+Pt-pt]<=Fe&&ld[255+pt-Je]<=Fe}function Gf(N,j,ae,ve){var Fe=2*ve+1;for(ve=0;16>ve;++ve)t0(N,j+ve,ae,Fe)&&Hf(N,j+ve,ae)}function Ah(N,j,ae,ve){var Fe=2*ve+1;for(ve=0;16>ve;++ve)t0(N,j+ve*ae,1,Fe)&&Hf(N,j+ve*ae,1)}function ph(N,j,ae,ve){var Fe;for(Fe=3;0<Fe;--Fe)Gf(N,j+=4*ae,ae,ve)}function Qy(N,j,ae,ve){var Fe;for(Fe=3;0<Fe;--Fe)Ah(N,j+=4,ae,ve)}function Vf(N,j,ae,ve,Fe,He,ze,Xe){for(He=2*He+1;0<Fe--;){if(n0(N,j,ae,He,ze))if(e0(N,j,ae,Xe))Hf(N,j,ae);else{var Je=N,pt=j,Pt=ae,rn=Je[pt-2*Pt],pn=Je[pt-Pt],tn=Je[pt+0],$n=Je[pt+Pt],Tn=Je[pt+2*Pt],Wt=27*(Hn=mC[1020+3*(tn-pn)+mC[1020+rn-$n]])+63>>7,Yt=18*Hn+63>>7,Hn=9*Hn+63>>7;Je[pt-3*Pt]=mh[255+Je[pt-3*Pt]+Hn],Je[pt-2*Pt]=mh[255+rn+Yt],Je[pt-Pt]=mh[255+pn+Wt],Je[pt+0]=mh[255+tn-Wt],Je[pt+Pt]=mh[255+$n-Yt],Je[pt+2*Pt]=mh[255+Tn-Hn]}j+=ve}}function gh(N,j,ae,ve,Fe,He,ze,Xe){for(He=2*He+1;0<Fe--;){if(n0(N,j,ae,He,ze))if(e0(N,j,ae,Xe))Hf(N,j,ae);else{var Je=N,pt=j,Pt=ae,rn=Je[pt-Pt],pn=Je[pt+0],tn=Je[pt+Pt],$n=Gw[112+((Tn=3*(pn-rn))+4>>3)],Tn=Gw[112+(Tn+3>>3)],Wt=$n+1>>1;Je[pt-2*Pt]=mh[255+Je[pt-2*Pt]+Wt],Je[pt-Pt]=mh[255+rn+Tn],Je[pt+0]=mh[255+pn-$n],Je[pt+Pt]=mh[255+tn-Wt]}j+=ve}}function D(N,j,ae,ve,Fe,He){Vf(N,j,ae,1,16,ve,Fe,He)}function q(N,j,ae,ve,Fe,He){Vf(N,j,1,ae,16,ve,Fe,He)}function le(N,j,ae,ve,Fe,He){var ze;for(ze=3;0<ze;--ze)gh(N,j+=4*ae,ae,1,16,ve,Fe,He)}function pe(N,j,ae,ve,Fe,He){var ze;for(ze=3;0<ze;--ze)gh(N,j+=4,1,ae,16,ve,Fe,He)}function Le(N,j,ae,ve,Fe,He,ze,Xe){Vf(N,j,Fe,1,8,He,ze,Xe),Vf(ae,ve,Fe,1,8,He,ze,Xe)}function Re(N,j,ae,ve,Fe,He,ze,Xe){Vf(N,j,1,Fe,8,He,ze,Xe),Vf(ae,ve,1,Fe,8,He,ze,Xe)}function Ge(N,j,ae,ve,Fe,He,ze,Xe){gh(N,j+4*Fe,Fe,1,8,He,ze,Xe),gh(ae,ve+4*Fe,Fe,1,8,He,ze,Xe)}function Rt(N,j,ae,ve,Fe,He,ze,Xe){gh(N,j+4,1,Fe,8,He,ze,Xe),gh(ae,ve+4,1,Fe,8,He,ze,Xe)}function bt(){this.ba=new bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pn(){this.ua=0,this.Wa=new Se,this.vb=new Se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new F}function yn(){this.xb=this.a=0,this.l=new ql,this.ca=new bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pn,this.ab=0,this.gc=a(4,Sn),this.Oc=0}function nr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ql,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ri(N,j,ae,ve,Fe,He,ze){for(N=N==null?0:N[j+0],j=0;j<ze;++j)Fe[He+j]=N+ae[ve+j]&255,N=Fe[He+j]}function Ts(N,j,ae,ve,Fe,He,ze){var Xe;if(N==null)Ri(null,null,ae,ve,Fe,He,ze);else for(Xe=0;Xe<ze;++Xe)Fe[He+Xe]=N[j+Xe]+ae[ve+Xe]&255}function Xi(N,j,ae,ve,Fe,He,ze){if(N==null)Ri(null,null,ae,ve,Fe,He,ze);else{var Xe,Je=N[j+0],pt=Je,Pt=Je;for(Xe=0;Xe<ze;++Xe)pt=Pt+(Je=N[j+Xe])-pt,Pt=ae[ve+Xe]+(-256&pt?0>pt?0:255:pt)&255,pt=Je,Fe[He+Xe]=Pt}}function Oo(N,j,ae,ve){var Fe=j.width,He=j.o;if(e(N!=null&&j!=null),0>ae||0>=ve||ae+ve>He)return null;if(!N.Cc){if(N.ga==null){var ze;if(N.ga=new nr,(ze=N.ga==null)||(ze=j.width*j.o,e(N.Gb.length==0),N.Gb=s(ze),N.Uc=0,N.Gb==null?ze=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ze=1),ze=!ze),!ze){ze=N.ga;var Xe=N.Fa,Je=N.P,pt=N.qc,Pt=N.mb,rn=N.nb,pn=Je+1,tn=pt-1,$n=ze.l;if(e(Xe!=null&&Pt!=null&&j!=null),LA[0]=null,LA[1]=Ri,LA[2]=Ts,LA[3]=Xi,ze.ca=Pt,ze.tb=rn,ze.c=j.width,ze.i=j.height,e(0<ze.c&&0<ze.i),1>=pt)j=0;else if(ze.$a=Xe[Je+0]>>0&3,ze.Z=Xe[Je+0]>>2&3,ze.Lc=Xe[Je+0]>>4&3,Je=Xe[Je+0]>>6&3,0>ze.$a||1<ze.$a||4<=ze.Z||1<ze.Lc||Je)j=0;else if($n.put=bi,$n.ac=Mi,$n.bc=Ji,$n.ma=ze,$n.width=j.width,$n.height=j.height,$n.Da=j.Da,$n.v=j.v,$n.va=j.va,$n.j=j.j,$n.o=j.o,ze.$a)e:{e(ze.$a==1),j=$r();t:for(;;){if(j==null){j=0;break e}if(e(ze!=null),ze.mc=j,j.c=ze.c,j.i=ze.i,j.l=ze.l,j.l.ma=ze,j.l.width=ze.c,j.l.height=ze.i,j.a=0,X(j.m,Xe,pn,tn),!oi(ze.c,ze.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&it(j.s)?(ze.ic=1,Xe=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(Xe),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ze.ic=0,j=xi(j,ze.c)),!j))break t;j=1;break e}ze.mc=null,j=0}else j=tn>=ze.c*ze.i;ze=!j}if(ze)return null;N.ga.Lc!=1?N.Ga=0:ve=He-ae}e(N.ga!=null),e(ae+ve<=He);e:{if(j=(Xe=N.ga).c,He=Xe.l.o,Xe.$a==0){if(pn=N.rc,tn=N.Vc,$n=N.Fa,Je=N.P+1+ae*j,pt=N.mb,Pt=N.nb+ae*j,e(Je<=N.P+N.qc),Xe.Z!=0)for(e(LA[Xe.Z]!=null),ze=0;ze<ve;++ze)LA[Xe.Z](pn,tn,$n,Je,pt,Pt,j),pn=pt,tn=Pt,Pt+=j,Je+=j;else for(ze=0;ze<ve;++ze)r(pt,Pt,$n,Je,j),pn=pt,tn=Pt,Pt+=j,Je+=j;N.rc=pn,N.Vc=tn}else{if(e(Xe.mc!=null),j=ae+ve,e((ze=Xe.mc)!=null),e(j<=ze.i),ze.C>=j)j=1;else if(Xe.ic||nn(),Xe.ic){Xe=ze.V,pn=ze.Ba,tn=ze.c;var Tn=ze.i,Wt=($n=1,Je=ze.$/tn,pt=ze.$%tn,Pt=ze.m,rn=ze.s,ze.$),Yt=tn*Tn,Hn=tn*j,Yn=rn.wc,zn=Wt<Hn?ot(rn,pt,Je):null;e(Wt<=Yt),e(j<=Tn),e(it(rn));t:for(;;){for(;!Pt.h&&Wt<Hn;){if(pt&Yn||(zn=ot(rn,pt,Je)),e(zn!=null),me(Pt),256>(Tn=Hi(zn.G[0],zn.H[0],Pt)))Xe[pn+Wt]=Tn,++Wt,++pt>=tn&&(pt=0,++Je<=j&&!(Je%16)&&Gn(ze,Je));else{if(!(280>Tn)){$n=0;break t}Tn=fs(Tn-256,Pt);var Qr,Lr=Hi(zn.G[4],zn.H[4],Pt);if(me(Pt),!(Wt>=(Lr=Di(tn,Lr=fs(Lr,Pt)))&&Yt-Wt>=Tn)){$n=0;break t}for(Qr=0;Qr<Tn;++Qr)Xe[pn+Wt+Qr]=Xe[pn+Wt+Qr-Lr];for(Wt+=Tn,pt+=Tn;pt>=tn;)pt-=tn,++Je<=j&&!(Je%16)&&Gn(ze,Je);Wt<Hn&&pt&Yn&&(zn=ot(rn,pt,Je))}e(Pt.h==oe(Pt))}Gn(ze,Je>j?j:Je);break t}!$n||Pt.h&&Wt<Yt?($n=0,ze.a=Pt.h?5:3):ze.$=Wt,j=$n}else j=fr(ze,ze.V,ze.Ba,ze.c,ze.i,j,mi);if(!j){ve=0;break e}}ae+ve>=He&&(N.Cc=1),ve=1}if(!ve)return null;if(N.Cc&&((ve=N.ga)!=null&&(ve.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+ae*Fe}function te(N,j,ae,ve,Fe,He){for(;0<Fe--;){var ze,Xe=N,Je=j+(ae?1:0),pt=N,Pt=j+(ae?0:3);for(ze=0;ze<ve;++ze){var rn=pt[Pt+4*ze];rn!=255&&(rn*=32897,Xe[Je+4*ze+0]=Xe[Je+4*ze+0]*rn>>23,Xe[Je+4*ze+1]=Xe[Je+4*ze+1]*rn>>23,Xe[Je+4*ze+2]=Xe[Je+4*ze+2]*rn>>23)}j+=He}}function Pe(N,j,ae,ve,Fe){for(;0<ve--;){var He;for(He=0;He<ae;++He){var ze=N[j+2*He+0],Xe=15&(pt=N[j+2*He+1]),Je=4369*Xe,pt=(240&pt|pt>>4)*Je>>16;N[j+2*He+0]=(240&ze|ze>>4)*Je>>16&240|(15&ze|ze<<4)*Je>>16>>4&15,N[j+2*He+1]=240&pt|Xe}j+=Fe}}function _t(N,j,ae,ve,Fe,He,ze,Xe){var Je,pt,Pt=255;for(pt=0;pt<Fe;++pt){for(Je=0;Je<ve;++Je){var rn=N[j+Je];He[ze+4*Je]=rn,Pt&=rn}j+=ae,ze+=Xe}return Pt!=255}function Et(N,j,ae,ve,Fe){var He;for(He=0;He<Fe;++He)ae[ve+He]=N[j+He]>>8}function nn(){od=te,no=Pe,ro=_t,tl=Et}function dn(N,j,ae){L[N]=function(ve,Fe,He,ze,Xe,Je,pt,Pt,rn,pn,tn,$n,Tn,Wt,Yt,Hn,Yn){var zn,Qr=Yn-1>>1,Lr=Xe[Je+0]|pt[Pt+0]<<16,Fi=rn[pn+0]|tn[$n+0]<<16;e(ve!=null);var Fr=3*Lr+Fi+131074>>2;for(j(ve[Fe+0],255&Fr,Fr>>16,Tn,Wt),He!=null&&(Fr=3*Fi+Lr+131074>>2,j(He[ze+0],255&Fr,Fr>>16,Yt,Hn)),zn=1;zn<=Qr;++zn){var va=Xe[Je+zn]|pt[Pt+zn]<<16,Ra=rn[pn+zn]|tn[$n+zn]<<16,ha=Lr+va+Fi+Ra+524296,Vs=ha+2*(va+Fi)>>3;Fr=Vs+Lr>>1,Lr=(ha=ha+2*(Lr+Ra)>>3)+va>>1,j(ve[Fe+2*zn-1],255&Fr,Fr>>16,Tn,Wt+(2*zn-1)*ae),j(ve[Fe+2*zn-0],255&Lr,Lr>>16,Tn,Wt+(2*zn-0)*ae),He!=null&&(Fr=ha+Fi>>1,Lr=Vs+Ra>>1,j(He[ze+2*zn-1],255&Fr,Fr>>16,Yt,Hn+(2*zn-1)*ae),j(He[ze+2*zn+0],255&Lr,Lr>>16,Yt,Hn+(2*zn+0)*ae)),Lr=va,Fi=Ra}1&Yn||(Fr=3*Lr+Fi+131074>>2,j(ve[Fe+Yn-1],255&Fr,Fr>>16,Tn,Wt+(Yn-1)*ae),He!=null&&(Fr=3*Fi+Lr+131074>>2,j(He[ze+Yn-1],255&Fr,Fr>>16,Yt,Hn+(Yn-1)*ae)))}}function Fn(){yh[Vw]=dk,yh[zw]=Im,yh[xB]=ii,yh[$w]=ng,yh[Qw]=a0,yh[vC]=rg,yh[EB]=fk,yh[ia]=Im,yh[gc]=ng,yh[Ww]=a0,yh[fi]=rg}function Pr(N){return N&-16384?0>N?0:255:N>>Nc}function vi(N,j){return Pr((19077*N>>8)+(26149*j>>8)-14234)}function Ii(N,j,ae){return Pr((19077*N>>8)-(6419*j>>8)-(13320*ae>>8)+8708)}function Gi(N,j){return Pr((19077*N>>8)+(33050*j>>8)-17685)}function os(N,j,ae,ve,Fe){ve[Fe+0]=vi(N,ae),ve[Fe+1]=Ii(N,j,ae),ve[Fe+2]=Gi(N,j)}function ma(N,j,ae,ve,Fe){ve[Fe+0]=Gi(N,j),ve[Fe+1]=Ii(N,j,ae),ve[Fe+2]=vi(N,ae)}function ba(N,j,ae,ve,Fe){var He=Ii(N,j,ae);j=He<<3&224|Gi(N,j)>>3,ve[Fe+0]=248&vi(N,ae)|He>>5,ve[Fe+1]=j}function ua(N,j,ae,ve,Fe){var He=240&Gi(N,j)|15;ve[Fe+0]=240&vi(N,ae)|Ii(N,j,ae)>>4,ve[Fe+1]=He}function hl(N,j,ae,ve,Fe){ve[Fe+0]=255,os(N,j,ae,ve,Fe+1)}function Ha(N,j,ae,ve,Fe){ma(N,j,ae,ve,Fe),ve[Fe+3]=255}function Jo(N,j,ae,ve,Fe){os(N,j,ae,ve,Fe),ve[Fe+3]=255}function su(N,j){return 0>N?0:N>j?j:N}function id(N,j,ae){L[N]=function(ve,Fe,He,ze,Xe,Je,pt,Pt,rn){for(var pn=Pt+(-2&rn)*ae;Pt!=pn;)j(ve[Fe+0],He[ze+0],Xe[Je+0],pt,Pt),j(ve[Fe+1],He[ze+0],Xe[Je+0],pt,Pt+ae),Fe+=2,++ze,++Je,Pt+=2*ae;1&rn&&j(ve[Fe+0],He[ze+0],Xe[Je+0],pt,Pt)}}function r0(N,j,ae){return ae==0?N==0?j==0?6:5:j==0?4:0:ae}function js(N,j,ae,ve,Fe){switch(N>>>30){case 3:Ar(j,ae,ve,Fe,0);break;case 2:pr(j,ae,ve,Fe);break;case 1:_r(j,ae,ve,Fe)}}function zf(N,j){var ae,ve,Fe=j.M,He=j.Nb,ze=N.oc,Xe=N.pc+40,Je=N.oc,pt=N.pc+584,Pt=N.oc,rn=N.pc+600;for(ae=0;16>ae;++ae)ze[Xe+32*ae-1]=129;for(ae=0;8>ae;++ae)Je[pt+32*ae-1]=129,Pt[rn+32*ae-1]=129;for(0<Fe?ze[Xe-1-32]=Je[pt-1-32]=Pt[rn-1-32]=129:(i(ze,Xe-32-1,127,21),i(Je,pt-32-1,127,9),i(Pt,rn-32-1,127,9)),ve=0;ve<N.za;++ve){var pn=j.ya[j.aa+ve];if(0<ve){for(ae=-1;16>ae;++ae)r(ze,Xe+32*ae-4,ze,Xe+32*ae+12,4);for(ae=-1;8>ae;++ae)r(Je,pt+32*ae-4,Je,pt+32*ae+4,4),r(Pt,rn+32*ae-4,Pt,rn+32*ae+4,4)}var tn=N.Gd,$n=N.Hd+ve,Tn=pn.ad,Wt=pn.Hc;if(0<Fe&&(r(ze,Xe-32,tn[$n].y,0,16),r(Je,pt-32,tn[$n].f,0,8),r(Pt,rn-32,tn[$n].ea,0,8)),pn.Za){var Yt=ze,Hn=Xe-32+16;for(0<Fe&&(ve>=N.za-1?i(Yt,Hn,tn[$n].y[15],4):r(Yt,Hn,tn[$n+1].y,0,4)),ae=0;4>ae;ae++)Yt[Hn+128+ae]=Yt[Hn+256+ae]=Yt[Hn+384+ae]=Yt[Hn+0+ae];for(ae=0;16>ae;++ae,Wt<<=2)Yt=ze,Hn=Xe+SB[ae],lu[pn.Ob[ae]](Yt,Hn),js(Wt,Tn,16*+ae,Yt,Hn)}else if(Yt=r0(ve,Fe,pn.Ob[0]),Fu[Yt](ze,Xe),Wt!=0)for(ae=0;16>ae;++ae,Wt<<=2)js(Wt,Tn,16*+ae,ze,Xe+SB[ae]);for(ae=pn.Gc,Yt=r0(ve,Fe,pn.Dd),cu[Yt](Je,pt),cu[Yt](Pt,rn),Wt=Tn,Yt=Je,Hn=pt,255&(pn=ae>>0)&&(170&pn?ri(Wt,256,Yt,Hn):Vi(Wt,256,Yt,Hn)),pn=Pt,Wt=rn,255&(ae>>=8)&&(170&ae?ri(Tn,320,pn,Wt):Vi(Tn,320,pn,Wt)),Fe<N.Ub-1&&(r(tn[$n].y,0,ze,Xe+480,16),r(tn[$n].f,0,Je,pt+224,8),r(tn[$n].ea,0,Pt,rn+224,8)),ae=8*He*N.B,tn=N.sa,$n=N.ta+16*ve+16*He*N.R,Tn=N.qa,pn=N.ra+8*ve+ae,Wt=N.Ha,Yt=N.Ia+8*ve+ae,ae=0;16>ae;++ae)r(tn,$n+ae*N.R,ze,Xe+32*ae,16);for(ae=0;8>ae;++ae)r(Tn,pn+ae*N.B,Je,pt+32*ae,8),r(Wt,Yt+ae*N.B,Pt,rn+32*ae,8)}}function Yl(N,j,ae,ve,Fe,He,ze,Xe,Je){var pt=[0],Pt=[0],rn=0,pn=Je!=null?Je.kd:0,tn=Je!=null?Je:new Xt;if(N==null||12>ae)return 7;tn.data=N,tn.w=j,tn.ha=ae,j=[j],ae=[ae],tn.gb=[tn.gb];e:{var $n=j,Tn=ae,Wt=tn.gb;if(e(N!=null),e(Tn!=null),e(Wt!=null),Wt[0]=0,12<=Tn[0]&&!n(N,$n[0],"RIFF")){if(n(N,$n[0]+8,"WEBP")){Wt=3;break e}var Yt=ye(N,$n[0]+4);if(12>Yt||4294967286<Yt){Wt=3;break e}if(pn&&Yt>Tn[0]-8){Wt=7;break e}Wt[0]=Yt,$n[0]+=12,Tn[0]-=12}Wt=0}if(Wt!=0)return Wt;for(Yt=0<tn.gb[0],ae=ae[0];;){e:{var Hn=N;Tn=j,Wt=ae;var Yn=pt,zn=Pt,Qr=$n=[0];if((Fr=rn=[rn])[0]=0,8>Wt[0])Wt=7;else{if(!n(Hn,Tn[0],"VP8X")){if(ye(Hn,Tn[0]+4)!=10){Wt=3;break e}if(18>Wt[0]){Wt=7;break e}var Lr=ye(Hn,Tn[0]+8),Fi=1+ue(Hn,Tn[0]+12);if(2147483648<=Fi*(Hn=1+ue(Hn,Tn[0]+15))){Wt=3;break e}Qr!=null&&(Qr[0]=Lr),Yn!=null&&(Yn[0]=Fi),zn!=null&&(zn[0]=Hn),Tn[0]+=18,Wt[0]-=18,Fr[0]=1}Wt=0}}if(rn=rn[0],$n=$n[0],Wt!=0)return Wt;if(Tn=!!(2&$n),!Yt&&rn)return 3;if(He!=null&&(He[0]=!!(16&$n)),ze!=null&&(ze[0]=Tn),Xe!=null&&(Xe[0]=0),ze=pt[0],$n=Pt[0],rn&&Tn&&Je==null){Wt=0;break}if(4>ae){Wt=7;break}if(Yt&&rn||!Yt&&!rn&&!n(N,j[0],"ALPH")){ae=[ae],tn.na=[tn.na],tn.P=[tn.P],tn.Sa=[tn.Sa];e:{Lr=N,Wt=j,Yt=ae;var Fr=tn.gb;Yn=tn.na,zn=tn.P,Qr=tn.Sa,Fi=22,e(Lr!=null),e(Yt!=null),Hn=Wt[0];var va=Yt[0];for(e(Yn!=null),e(Qr!=null),Yn[0]=null,zn[0]=null,Qr[0]=0;;){if(Wt[0]=Hn,Yt[0]=va,8>va){Wt=7;break e}var Ra=ye(Lr,Hn+4);if(4294967286<Ra){Wt=3;break e}var ha=8+Ra+1&-2;if(Fi+=ha,0<Fr&&Fi>Fr){Wt=3;break e}if(!n(Lr,Hn,"VP8 ")||!n(Lr,Hn,"VP8L")){Wt=0;break e}if(va[0]<ha){Wt=7;break e}n(Lr,Hn,"ALPH")||(Yn[0]=Lr,zn[0]=Hn+8,Qr[0]=Ra),Hn+=ha,va-=ha}}if(ae=ae[0],tn.na=tn.na[0],tn.P=tn.P[0],tn.Sa=tn.Sa[0],Wt!=0)break}ae=[ae],tn.Ja=[tn.Ja],tn.xa=[tn.xa];e:if(Fr=N,Wt=j,Yt=ae,Yn=tn.gb[0],zn=tn.Ja,Qr=tn.xa,Lr=Wt[0],Hn=!n(Fr,Lr,"VP8 "),Fi=!n(Fr,Lr,"VP8L"),e(Fr!=null),e(Yt!=null),e(zn!=null),e(Qr!=null),8>Yt[0])Wt=7;else{if(Hn||Fi){if(Fr=ye(Fr,Lr+4),12<=Yn&&Fr>Yn-12){Wt=3;break e}if(pn&&Fr>Yt[0]-8){Wt=7;break e}zn[0]=Fr,Wt[0]+=8,Yt[0]-=8,Qr[0]=Fi}else Qr[0]=5<=Yt[0]&&Fr[Lr+0]==47&&!(Fr[Lr+4]>>5),zn[0]=Yt[0];Wt=0}if(ae=ae[0],tn.Ja=tn.Ja[0],tn.xa=tn.xa[0],j=j[0],Wt!=0)break;if(4294967286<tn.Ja)return 3;if(Xe==null||Tn||(Xe[0]=tn.xa?2:1),ze=[ze],$n=[$n],tn.xa){if(5>ae){Wt=7;break}Xe=ze,pn=$n,Tn=He,N==null||5>ae?N=0:5<=ae&&N[j+0]==47&&!(N[j+4]>>5)?(Yt=[0],Fr=[0],Yn=[0],X(zn=new W,N,j,ae),br(zn,Yt,Fr,Yn)?(Xe!=null&&(Xe[0]=Yt[0]),pn!=null&&(pn[0]=Fr[0]),Tn!=null&&(Tn[0]=Yn[0]),N=1):N=0):N=0}else{if(10>ae){Wt=7;break}Xe=$n,N==null||10>ae||!So(N,j+3,ae-3)?N=0:(pn=N[j+0]|N[j+1]<<8|N[j+2]<<16,Tn=16383&(N[j+7]<<8|N[j+6]),N=16383&(N[j+9]<<8|N[j+8]),1&pn||3<(pn>>1&7)||!(pn>>4&1)||pn>>5>=tn.Ja||!Tn||!N?N=0:(ze&&(ze[0]=Tn),Xe&&(Xe[0]=N),N=1))}if(!N||(ze=ze[0],$n=$n[0],rn&&(pt[0]!=ze||Pt[0]!=$n)))return 3;Je!=null&&(Je[0]=tn,Je.offset=j-Je.w,e(4294967286>j-Je.w),e(Je.offset==Je.ha-ae));break}return Wt==0||Wt==7&&rn&&Je==null?(He!=null&&(He[0]|=tn.na!=null&&0<tn.na.length),ve!=null&&(ve[0]=ze),Fe!=null&&(Fe[0]=$n),0):Wt}function sd(N,j,ae){var ve=j.width,Fe=j.height,He=0,ze=0,Xe=ve,Je=Fe;if(j.Da=N!=null&&0<N.Da,j.Da&&(Xe=N.cd,Je=N.bd,He=N.v,ze=N.j,11>ae||(He&=-2,ze&=-2),0>He||0>ze||0>=Xe||0>=Je||He+Xe>ve||ze+Je>Fe))return 0;if(j.v=He,j.j=ze,j.va=He+Xe,j.o=ze+Je,j.U=Xe,j.T=Je,j.da=N!=null&&0<N.da,j.da){if(!at(Xe,Je,ae=[N.ib],He=[N.hb]))return 0;j.ib=ae[0],j.hb=He[0]}return j.ob=N!=null&&N.ob,j.Kb=N==null||!N.Sd,j.da&&(j.ob=j.ib<3*ve/4&&j.hb<3*Fe/4,j.Kb=0),1}function Lm(N){if(N==null)return 2;if(11>N.S){var j=N.f.RGBA;j.fb+=(N.height-1)*j.A,j.A=-j.A}else j=N.f.kb,N=N.height,j.O+=(N-1)*j.fa,j.fa=-j.fa,j.N+=(N-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(N-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(N-1)*j.lb,j.lb=-j.lb);return 0}function qp(N,j,ae,ve){if(ve==null||0>=N||0>=j)return 2;if(ae!=null){if(ae.Da){var Fe=ae.cd,He=ae.bd,ze=-2&ae.v,Xe=-2&ae.j;if(0>ze||0>Xe||0>=Fe||0>=He||ze+Fe>N||Xe+He>j)return 2;N=Fe,j=He}if(ae.da){if(!at(N,j,Fe=[ae.ib],He=[ae.hb]))return 2;N=Fe[0],j=He[0]}}ve.width=N,ve.height=j;e:{var Je=ve.width,pt=ve.height;if(N=ve.S,0>=Je||0>=pt||!(N>=Vw&&13>N))N=2;else{if(0>=ve.Rd&&ve.sd==null){ze=He=Fe=j=0;var Pt=(Xe=Je*CB[N])*pt;if(11>N||(He=(pt+1)/2*(j=(Je+1)/2),N==12&&(ze=(Fe=Je)*pt)),(pt=s(Pt+2*He+ze))==null){N=1;break e}ve.sd=pt,11>N?((Je=ve.f.RGBA).eb=pt,Je.fb=0,Je.A=Xe,Je.size=Pt):((Je=ve.f.kb).y=pt,Je.O=0,Je.fa=Xe,Je.Fd=Pt,Je.f=pt,Je.N=0+Pt,Je.Ab=j,Je.Cd=He,Je.ea=pt,Je.W=0+Pt+He,Je.Db=j,Je.Ed=He,N==12&&(Je.F=pt,Je.J=0+Pt+2*He),Je.Tc=ze,Je.lb=Fe)}if(j=1,Fe=ve.S,He=ve.width,ze=ve.height,Fe>=Vw&&13>Fe)if(11>Fe)N=ve.f.RGBA,j&=(Xe=Math.abs(N.A))*(ze-1)+He<=N.size,j&=Xe>=He*CB[Fe],j&=N.eb!=null;else{N=ve.f.kb,Xe=(He+1)/2,Pt=(ze+1)/2,Je=Math.abs(N.fa),pt=Math.abs(N.Ab);var rn=Math.abs(N.Db),pn=Math.abs(N.lb),tn=pn*(ze-1)+He;j&=Je*(ze-1)+He<=N.Fd,j&=pt*(Pt-1)+Xe<=N.Cd,j=(j&=rn*(Pt-1)+Xe<=N.Ed)&Je>=He&pt>=Xe&rn>=Xe,j&=N.y!=null,j&=N.f!=null,j&=N.ea!=null,Fe==12&&(j&=pn>=He,j&=tn<=N.Tc,j&=N.F!=null)}else j=0;N=j?0:2}}return N!=0||ae!=null&&ae.fd&&(N=Lm(ve)),N}var dl=64,Iu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$f=24,au=32,Xp=8,fl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(N){return N},L.Predictor2=function(N,j,ae){return j[ae+0]},L.Predictor3=function(N,j,ae){return j[ae+1]},L.Predictor4=function(N,j,ae){return j[ae-1]},L.Predictor5=function(N,j,ae){return Te(Te(N,j[ae+1]),j[ae+0])},L.Predictor6=function(N,j,ae){return Te(N,j[ae-1])},L.Predictor7=function(N,j,ae){return Te(N,j[ae+0])},L.Predictor8=function(N,j,ae){return Te(j[ae-1],j[ae+0])},L.Predictor9=function(N,j,ae){return Te(j[ae+0],j[ae+1])},L.Predictor10=function(N,j,ae){return Te(Te(N,j[ae-1]),Te(j[ae+0],j[ae+1]))},L.Predictor11=function(N,j,ae){var ve=j[ae+0];return 0>=Ze(ve>>24&255,N>>24&255,(j=j[ae-1])>>24&255)+Ze(ve>>16&255,N>>16&255,j>>16&255)+Ze(ve>>8&255,N>>8&255,j>>8&255)+Ze(255&ve,255&N,255&j)?ve:N},L.Predictor12=function(N,j,ae){var ve=j[ae+0];return(we((N>>24&255)+(ve>>24&255)-((j=j[ae-1])>>24&255))<<24|we((N>>16&255)+(ve>>16&255)-(j>>16&255))<<16|we((N>>8&255)+(ve>>8&255)-(j>>8&255))<<8|we((255&N)+(255&ve)-(255&j)))>>>0},L.Predictor13=function(N,j,ae){var ve=j[ae-1];return(Ne((N=Te(N,j[ae+0]))>>24&255,ve>>24&255)<<24|Ne(N>>16&255,ve>>16&255)<<16|Ne(N>>8&255,ve>>8&255)<<8|Ne(N>>0&255,ve>>0&255))>>>0};var Yp=L.PredictorAdd0;L.PredictorAdd1=Tt,gt("Predictor2","PredictorAdd2"),gt("Predictor3","PredictorAdd3"),gt("Predictor4","PredictorAdd4"),gt("Predictor5","PredictorAdd5"),gt("Predictor6","PredictorAdd6"),gt("Predictor7","PredictorAdd7"),gt("Predictor8","PredictorAdd8"),gt("Predictor9","PredictorAdd9"),gt("Predictor10","PredictorAdd10"),gt("Predictor11","PredictorAdd11"),gt("Predictor12","PredictorAdd12"),gt("Predictor13","PredictorAdd13");var Qf=L.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Zp,Pu=L.ColorIndexInverseTransform,Jd=L.MapARGB,Jp=L.VP8LColorIndexInverseTransformAlpha,eg=L.MapAlpha,Wf=L.VP8LPredictorsAdd=[];Wf.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var ef,pc,At,Vt,un,_n,Bn,Ar,pr,ri,_r,Vi,Li,zi,gs,di,ra,No,Co,Ml,Zl,ou,el,ad,od,no,ro,tl,Ll=s(511),MA=s(2041),Wy=s(225),i0=s(767),Hw=0,mC=MA,Gw=Wy,mh=i0,ld=Ll,Vw=0,zw=1,xB=2,$w=3,Qw=4,vC=5,EB=6,ia=7,gc=8,Ww=9,fi=10,Ei=[2,3,7],Bm=[3,3,11],jw=[280,256,256,256,40],ck=[0,1,1,1,0],Rm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vr=8,cd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vh=null,hk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$i=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_s=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ky=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fu=[],lu=[],cu=[],kr=1,s0=2,LA=[],yh=[];dn("UpsampleRgbLinePair",os,3),dn("UpsampleBgrLinePair",ma,3),dn("UpsampleRgbaLinePair",Jo,4),dn("UpsampleBgraLinePair",Ha,4),dn("UpsampleArgbLinePair",hl,4),dn("UpsampleRgba4444LinePair",ua,2),dn("UpsampleRgb565LinePair",ba,2);var dk=L.UpsampleRgbLinePair,ii=L.UpsampleBgrLinePair,Im=L.UpsampleRgbaLinePair,ng=L.UpsampleBgraLinePair,a0=L.UpsampleArgbLinePair,rg=L.UpsampleRgba4444LinePair,fk=L.UpsampleRgb565LinePair,ls=16,Fc=1<<ls-1,Oc=-227,BA=482,Nc=6,uu=0,Ak=s(256),pk=s(256),gk=s(256),mk=s(256),vk=s(BA-Oc),yk=s(BA-Oc);id("YuvToRgbRow",os,3),id("YuvToBgrRow",ma,3),id("YuvToRgbaRow",Jo,4),id("YuvToBgraRow",Ha,4),id("YuvToArgbRow",hl,4),id("YuvToRgba4444Row",ua,2),id("YuvToRgb565Row",ba,2);var SB=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kw=[0,2,8],_k=[8,7,6,4,4,2,2,2,1,1,1,1],wk=1;this.WebPDecodeRGBA=function(N,j,ae,ve,Fe){var He=zw,ze=new bt,Xe=new bn;ze.ba=Xe,Xe.S=He,Xe.width=[Xe.width],Xe.height=[Xe.height];var Je=Xe.width,pt=Xe.height,Pt=new Rn;if(Pt==null||N==null)var rn=2;else e(Pt!=null),rn=Yl(N,j,ae,Pt.width,Pt.height,Pt.Pd,Pt.Qd,Pt.format,null);if(rn!=0?Je=0:(Je!=null&&(Je[0]=Pt.width[0]),pt!=null&&(pt[0]=Pt.height[0]),Je=1),Je){Xe.width=Xe.width[0],Xe.height=Xe.height[0],ve!=null&&(ve[0]=Xe.width),Fe!=null&&(Fe[0]=Xe.height);e:{if(ve=new ql,(Fe=new Xt).data=N,Fe.w=j,Fe.ha=ae,Fe.kd=1,j=[0],e(Fe!=null),((N=Yl(Fe.data,Fe.w,Fe.ha,null,null,null,j,null,Fe))==0||N==7)&&j[0]&&(N=4),(j=N)==0){if(e(ze!=null),ve.data=Fe.data,ve.w=Fe.w+Fe.offset,ve.ha=Fe.ha-Fe.offset,ve.put=bi,ve.ac=Mi,ve.bc=Ji,ve.ma=ze,Fe.xa){if((N=$r())==null){ze=1;break e}if(function(pn,tn){var $n=[0],Tn=[0],Wt=[0];t:for(;;){if(pn==null)return 0;if(tn==null)return pn.a=2,0;if(pn.l=tn,pn.a=0,X(pn.m,tn.data,tn.w,tn.ha),!br(pn.m,$n,Tn,Wt)){pn.a=3;break t}if(pn.xb=s0,tn.width=$n[0],tn.height=Tn[0],!oi($n[0],Tn[0],1,pn,null))break t;return 1}return e(pn.a!=0),0}(N,ve)){if(ve=(j=qp(ve.width,ve.height,ze.Oa,ze.ba))==0){t:{ve=N;n:for(;;){if(ve==null){ve=0;break t}if(e(ve.s.yc!=null),e(ve.s.Ya!=null),e(0<ve.s.Wb),e((ae=ve.l)!=null),e((Fe=ae.ma)!=null),ve.xb!=0){if(ve.ca=Fe.ba,ve.tb=Fe.tb,e(ve.ca!=null),!sd(Fe.Oa,ae,$w)){ve.a=2;break n}if(!xi(ve,ae.width)||ae.da)break n;if((ae.da||wn(ve.ca.S))&&nn(),11>ve.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ve.ca.f.kb.F!=null&&nn()),ve.Pb&&0<ve.s.ua&&ve.s.vb.X==null&&!$e(ve.s.vb,ve.s.Wa.Xa)){ve.a=1;break n}ve.xb=0}if(!fr(ve,ve.V,ve.Ba,ve.c,ve.i,ae.o,Cn))break n;Fe.Dc=ve.Ma,ve=1;break t}e(ve.a!=0),ve=0}ve=!ve}ve&&(j=N.a)}else j=N.a}else{if((N=new ed)==null){ze=1;break e}if(N.Fa=Fe.na,N.P=Fe.P,N.qc=Fe.Sa,Ru(N,ve)){if((j=qp(ve.width,ve.height,ze.Oa,ze.ba))==0){if(N.Aa=0,ae=ze.Oa,e((Fe=N)!=null),ae!=null){if(0<(Je=0>(Je=ae.Md)?0:100<Je?255:255*Je/100)){for(pt=Pt=0;4>pt;++pt)12>(rn=Fe.pb[pt]).lc&&(rn.ia=Je*_k[0>rn.lc?0:rn.lc]>>3),Pt|=rn.ia;Pt&&(alert("todo:VP8InitRandom"),Fe.ia=1)}Fe.Ga=ae.Id,100<Fe.Ga?Fe.Ga=100:0>Fe.Ga&&(Fe.Ga=0)}TA(N,ve)||(j=N.a)}}else j=N.a}j==0&&ze.Oa!=null&&ze.Oa.fd&&(j=Lm(ze.ba))}ze=j}He=ze!=0?null:11>He?Xe.f.RGBA.eb:Xe.f.kb.y}else He=null;return He};var CB=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,I){for(var k="",O=0;O<4;O++)k+=String.fromCharCode(L[I++]);return k}function h(L,I){return(L[I+0]<<0|L[I+1]<<8|L[I+2]<<16)>>>0}function d(L,I){return(L[I+0]<<0|L[I+1]<<8|L[I+2]<<16|L[I+3]<<24)>>>0}new l;var f=[0],A=[0],m=[],g=new l,y=t,_=function(L,I){var k={},O=0,F=!1,U=0,$=0;if(k.frames=[],!function(Y,oe,fe,me){for(var ce=0;ce<me;ce++)if(Y[oe+ce]!=fe.charCodeAt(ce))return!0;return!1}(L,I,"RIFF",4)){var K,V;for(d(L,I+=4),I+=8;I<L.length;){var Q=u(L,I),X=d(L,I+=4);I+=4;var z=X+(1&X);switch(Q){case"VP8 ":case"VP8L":k.frames[O]===void 0&&(k.frames[O]={}),(W=k.frames[O]).src_off=F?$:I-8,W.src_size=U+X+8,O++,F&&(F=!1,U=0,$=0);break;case"VP8X":(W=k.header={}).feature_flags=L[I];var ne=I+4;W.canvas_width=1+h(L,ne),ne+=3,W.canvas_height=1+h(L,ne),ne+=3;break;case"ALPH":F=!0,U=z+8,$=I-8;break;case"ANIM":(W=k.header).bgcolor=d(L,I),ne=I+4,W.loop_count=(K=L)[(V=ne)+0]<<0|K[V+1]<<8,ne+=2;break;case"ANMF":var he,W;(W=k.frames[O]={}).offset_x=2*h(L,I),I+=3,W.offset_y=2*h(L,I),I+=3,W.width=1+h(L,I),I+=3,W.height=1+h(L,I),I+=3,W.duration=h(L,I),I+=3,he=L[I++],W.dispose=1&he,W.blend=he>>1&1}Q!="ANMF"&&(I+=z)}return k}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var x=_.header?_.header:null,S=_.frames?_.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],A=[x.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var M=S[0],B=g.WebPDecodeRGBA(y,M.src_off,M.src_size,A,f);M.rgba=B,M.imgwidth=A[0],M.imgheight=f[0];for(var E=0;E<A[0]*f[0]*4;E++)m[E]=B[E];return this.width=A,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof WG=="function"},n=function(f,A,m,g){var y=4,_=a;switch(g){case t.image_compression.FAST:y=1,_=s;break;case t.image_compression.MEDIUM:y=6,_=o;break;case t.image_compression.SLOW:y=9,_=l}f=r(f,A,m,_);var x=WG(f,{level:y});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(f,A,m,g){for(var y,_,x,S=f.length/A,C=new Uint8Array(f.length+S),M=h(),B=0;B<S;B+=1){if(x=B*A,y=f.subarray(x,x+A),g)C.set(g(y,m,_),x+B);else{for(var E,L=M.length,I=[];E<L;E+=1)I[E]=M[E](y,m,_);var k=d(I.concat());C.set(I[k],x+B)}_=y}return C},i=function(f){var A=Array.apply([],f);return A.unshift(0),A},s=function(f,A){var m,g=[],y=f.length;g[0]=1;for(var _=0;_<y;_+=1)m=f[_-A]||0,g[_+1]=f[_]-m+256&255;return g},a=function(f,A,m){var g,y=[],_=f.length;y[0]=2;for(var x=0;x<_;x+=1)g=m&&m[x]||0,y[x+1]=f[x]-g+256&255;return y},o=function(f,A,m){var g,y,_=[],x=f.length;_[0]=3;for(var S=0;S<x;S+=1)g=f[S-A]||0,y=m&&m[S]||0,_[S+1]=f[S]+256-(g+y>>>1)&255;return _},l=function(f,A,m){var g,y,_,x,S=[],C=f.length;S[0]=4;for(var M=0;M<C;M+=1)g=f[M-A]||0,y=m&&m[M]||0,_=m&&m[M-A]||0,x=u(g,y,_),S[M+1]=f[M]-x+256&255;return S},u=function(f,A,m){if(f===A&&A===m)return f;var g=Math.abs(A-m),y=Math.abs(f-m),_=Math.abs(f+A-m-m);return g<=y&&g<=_?f:y<=_?A:m},h=function(){return[i,s,a,o,l]},d=function(f){var A=f.map(function(m){return m.reduce(function(g,y){return g+Math.abs(y)},0)});return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(f,A,m,g){var y,_,x,S,C,M,B,E,L,I,k,O,F,U,$,K=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new jxt(f)).imgData,_=x.bits,y=x.colorSpace,C=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){L=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,k=new Uint8Array(L*x.colors),I=new Uint8Array(L);var Q,X=x.pixelBitlength-x.bits;for(U=0,$=0;U<L;U++){for(F=E[U],Q=0;Q<X;)k[$++]=F>>>Q&255,Q+=x.bits;I[U]=F>>>Q&255}}if(x.bits===16){L=(E=new Uint32Array(x.decodePixels().buffer)).length,k=new Uint8Array(L*(32/x.pixelBitlength)*x.colors),I=new Uint8Array(L*(32/x.pixelBitlength)),O=x.colors>1,U=0,$=0;for(var z=0;U<L;)F=E[U++],k[$++]=F>>>0&255,O&&(k[$++]=F>>>16&255,F=E[U++],k[$++]=F>>>0&255),I[z++]=F>>>16&255;_=8}g!==t.image_compression.NONE&&e()?(f=n(k,x.width*x.colors,x.colors,g),B=n(I,x.width,1,g)):(f=k,B=I,K=void 0)}if(x.colorType===3&&(y=this.color_spaces.INDEXED,M=x.palette,x.transparency.indexed)){var ne=x.transparency.indexed,he=0;for(U=0,L=ne.length;U<L;++U)he+=ne[U];if((he/=255)===L-1&&ne.indexOf(0)!==-1)S=[ne.indexOf(0)];else if(he!==L){for(E=x.decodePixels(),I=new Uint8Array(E.length),U=0,L=E.length;U<L;U++)I[U]=ne[E[U]];B=n(I,x.width,1)}}var W=function(Y){var oe;switch(Y){case t.image_compression.FAST:oe=11;break;case t.image_compression.MEDIUM:oe=13;break;case t.image_compression.SLOW:oe=14;break;default:oe=12}return oe}(g);return K===this.decode.FLATE_DECODE&&(V="/Predictor "+W+" "),V+="/Colors "+C+" /BitsPerComponent "+_+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:m,data:f,index:A,filter:K,decodeParameters:V,transparency:S,palette:M,sMask:B,predictor:W,width:x.width,height:x.height,bitsPerComponent:_,colorSpace:y}}}})(ts.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new Kxt(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new H3(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A}(ts.API),qA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){vo.log("bit decode error:"+n)}},qA.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},qA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},qA.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},qA.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=t}},qA.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},qA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},qA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},qA.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new qA(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new H3(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ts.API),fne.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new fne(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new H3(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ts.API),ts.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=r[u],d=r[u+1],f=r[u+2],A=r[u+3];s[o++]=h,s[o++]=d,s[o++]=f,a[l++]=A}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ts.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dx=ts.API,UI=dx.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,A=t.length,m=0,g=o[0]||l,y=[];for(n=0;n<A;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(f=d&&Ba(u[r])==="object"&&!isNaN(parseInt(u[r][m],10))?u[r][m]/h:0,y.push((o[r]||g)/l+f)),m=r;return y},cne=dx.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dx.processArabic&&(t=dx.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:UI.apply(this,arguments).reduce(function(s,a){return s+a},0)},une=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},hne=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,h=[],d=[h],f=n.textIndent||0,A=0,m=0,g=t.split(" "),y=UI.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),x=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?x=x.concat(C.map(function(M,B){return(B&&M.length?"\n":"")+M})):x.push(C[0])}),g=x,l=cne.apply(this,[_,n])}for(s=0,a=g.length;s<a;s++){var S=0;if(r=g[s],l&&r[0]=="\n"&&(r=r.substr(1),S=1),f+A+(m=(i=UI.apply(this,[r,n])).reduce(function(C,M){return C+M},0))>e||S){if(m>e){for(o=une.apply(this,[r,i,e-(f+A),e]),h.push(o.shift()),h=[o.pop()];o.length;)d.push([o.shift()]);m=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(C,M){return C+M},0)}else h=[r];d.push(h),f=m+l,A=y}else h.push(r),f+=A+m,A=y}return u=l?function(C,M){return(M?_:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(u)},dx.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(hne.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,A,m,g,y=["{"];for(var _ in d){if(f=d[_],isNaN(parseInt(_,10))?A="'"+_+"'":(_=parseInt(_,10),A=(A=s(_).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),g="-"):(m=s(f).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(Ba(f)!=="object")throw new Error("Don't know what to do with value type "+Ba(f)+".");m=a(f)}y.push(A+m)}return y.push("}"),y.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,A,m,g,y={},_=1,x=y,S=[],C="",M="",B=d.length-1,E=1;E<B;E+=1)(g=d[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(S.push([x,m]),x={},m=void 0):g=="}"?((A=S.pop())[0][A[1]]=x,m=void 0,x=A[0]):g=="-"?_=-1:m===void 0?n.hasOwnProperty(g)?(C+=n[g],m=parseInt(C,16)*_,_=1,C=""):C+=g:n.hasOwnProperty(g)?(M+=n[g],x[m]=parseInt(M,16)*_,_=1,m=void 0,M=""):M+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,A=h.Unicode[f.postScriptName];A&&(f.metadata.Unicode={},f.metadata.Unicode.widths=A.widths,f.metadata.Unicode.kerning=A.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(ts.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(qT(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ts),function(t){function e(){return(ns.canvg?Promise.resolve(ns.canvg):Promise.resolve().then(()=>u3t)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ts.API.addSvgAsImage=function(n,r,i,s,a,o,l,u){if(isNaN(r)||isNaN(i))throw vo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw vo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then(function(m){return m.fromString(d,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){A.addImage(h.toDataURL("image/jpeg",1),r,i,s,a,l,u)})}}(),ts.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ts.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,d=0;function f(m,g){var y,_=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=o.length;for(d=0;d<A;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Ba(t)==="object"){for(i in t)if(s=t[i],f(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write("/ViewerPreferences\n<<\n"+g.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ts.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],d=0,f=s.length;d<f;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},r=function(s){var a,o,l,u,h,d,f;for(h="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,f=(o=Object.keys(s).sort(function(A,m){return A-m})).length;d<f;d++)a=o[d],l.length>=100&&(h+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),h+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),A="",m=0;m<f.length;m++)A+=String.fromCharCode(f[m]);var g=u();h({data:A,addLength1:!0,objectId:g}),l("endobj");var y=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+kx(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+kx(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+kx(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",A=0;A<d.length;A++)f+=String.fromCharCode(d[A]);var m=u();h({data:f,addLength1:!0,objectId:m}),l("endobj");var g=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+kx(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+kx(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},d=s.mutex||{},f=d.pdfEscape,A=d.activeFontKey,m=d.fonts,g=A,y="",_=0,x="",S=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:d};for(x=o,g=A,Array.isArray(o)&&(x=o[0]),_=0;_<x.length;_+=1)m[g].metadata.hasOwnProperty("cmap")&&(a=m[g].metadata.cmap.unicode.codeMap[x[_].charCodeAt(0)]),a||x[_].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=x[_]:y+="";var C="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?C=f(y,g).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=n(y,m[g])),d.isHex=!0,{text:C,x:l,y:u,options:h,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(ts),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ts.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,h,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var C=function(O){var F=O.charCodeAt(),U=F>>8,$=g[U];return $!==void 0?d[256*$+(255&F)]:U===252||U===253?"AL":_.test(U)?"L":U===8?"R":"N"},M=function(O){for(var F,U=0;U<O.length;U++){if((F=C(O.charAt(U)))==="L")return!1;if(F==="R")return!0}return!1},B=function(O,F,U,$){var K,V,Q,X,z=F[$];switch(z){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(z="AN");break;case"AL":x=!0,z="R";break;case"WS":z="N";break;case"CS":$<1||$+1>=F.length||(K=U[$-1])!=="EN"&&K!=="AN"||(V=F[$+1])!=="EN"&&V!=="AN"?z="N":x&&(V="AN"),z=V===K?V:"N";break;case"ES":z=(K=$>0?U[$-1]:"B")==="EN"&&$+1<F.length&&F[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&U[$-1]==="EN"){z="EN";break}if(x){z="N";break}for(Q=$+1,X=F.length;Q<X&&F[Q]==="ET";)Q++;z=Q<X&&F[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(X=F.length,Q=$+1;Q<X&&F[Q]==="NSM";)Q++;if(Q<X){var ne=O[$],he=ne>=1425&&ne<=2303||ne===64286;if(K=F[Q],he&&(K==="R"||K==="AL")){z="R";break}}}z=$<1||(K=F[$-1])==="B"?"N":U[$-1];break;case"B":x=!1,i=!0,z=S;break;case"S":s=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":z="N"}return z},E=function(O,F,U){var $=O.split("");return U&&L($,U,{hiLevel:S}),$.reverse(),F&&F.reverse(),$.join("")},L=function(O,F,U){var $,K,V,Q,X,z=-1,ne=O.length,he=0,W=[],Y=S?A:f,oe=[];for(x=!1,i=!1,s=!1,K=0;K<ne;K++)oe[K]=C(O[K]);for(V=0;V<ne;V++){if(X=he,W[V]=B(O,oe,W,V),$=240&(he=Y[X][m[W[V]]]),he&=15,F[V]=Q=Y[he][5],$>0)if($===16){for(K=z;K<V;K++)F[K]=1;z=-1}else z=-1;if(Y[he][6])z===-1&&(z=V);else if(z>-1){for(K=z;K<V;K++)F[K]=Q;z=-1}oe[V]==="B"&&(F[V]=0),U.hiLevel|=Q}s&&function(fe,me,ce){for(var be=0;be<ce;be++)if(fe[be]==="S"){me[be]=S;for(var xe=be-1;xe>=0&&fe[xe]==="WS";xe--)me[xe]=S}}(oe,F,ne)},I=function(O,F,U,$,K){if(!(K.hiLevel<O)){if(O===1&&S===1&&!i)return F.reverse(),void(U&&U.reverse());for(var V,Q,X,z,ne=F.length,he=0;he<ne;){if($[he]>=O){for(X=he+1;X<ne&&$[X]>=O;)X++;for(z=he,Q=X-1;z<Q;z++,Q--)V=F[z],F[z]=F[Q],F[Q]=V,U&&(V=U[z],U[z]=U[Q],U[Q]=V);he=X}he++}}},k=function(O,F,U){var $=O.split(""),K={hiLevel:S};return U||(U=[]),L($,U,K),function(V,Q,X){if(X.hiLevel!==0&&h)for(var z,ne=0;ne<V.length;ne++)Q[ne]===1&&(z=y.indexOf(V[ne]))>=0&&(V[ne]=y[z+1])}($,U,K),I(2,$,F,U,K),I(1,$,F,U,K),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,F,U){if(function(K,V){if(V)for(var Q=0;Q<K.length;Q++)V[Q]=Q;o===void 0&&(o=M(K)),u===void 0&&(u=M(K))}(O,F),a||!l||u)if(a&&l&&o^u)S=o?1:0,O=E(O,F,U);else if(!a&&l&&u)S=o?1:0,O=k(O,F,U),O=E(O,F);else if(!a||o||l||u){if(a&&!l&&o^u)O=E(O,F),o?(S=0,O=k(O,F,U)):(S=1,O=k(O,F,U),O=E(O,F));else if(a&&o&&!l&&u)S=1,O=k(O,F,U),O=E(O,F);else if(!a&&!l&&o^u){var $=h;o?(S=1,O=k(O,F,U),S=0,h=!1,O=k(O,F,U),h=$):(S=0,O=k(O,F,U),O=E(O,F),S=1,h=!1,O=k(O,F,U),h=$,O=E(O,F))}}else S=0,O=k(O,F,U);else S=o?1:0,O=k(O,F,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ts),ts.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cy(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new cEt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new qxt(this.contents),this.head=new Yxt(this),this.name=new nEt(this),this.cmap=new Wme(this),this.toUnicode={},this.hhea=new Zxt(this),this.maxp=new rEt(this),this.hmtx=new iEt(this),this.post=new eEt(this),this.os2=new Jxt(this),this.loca=new lEt(this),this.glyf=new sEt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Gp,Cy=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),qxt=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,h,d,f,A,m,g;for(g in A=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(A)/l),a=Math.floor(d/l),h=16*A-d,(i=new Cy).writeInt(this.scalarType),i.writeShort(A),i.writeShort(d),i.writeShort(a),i.writeShort(h),s=16*A,u=i.pos+s,o=null,m=[],n)for(f=n[g],i.writeString(g),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),m=m.concat(f),g==="head"&&(o=u),u+=f.length;u%4;)m.push(0),u++;return i.write(m),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=jme.call(n);n.length%4;)n.push(0);for(s=new Cy(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Xxt={}.hasOwnProperty,bm=function(t,e){for(var n in e)Xxt.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Gp=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Yxt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Cy).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Ane=function(){function t(e,n){var r,i,s,a,o,l,u,h,d,f,A,m,g,y,_,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(A=e.readUInt16(),f=A/2,e.pos+=6,s=function(){var C,M;for(M=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)M.push(e.readUInt16());return M}(),e.pos+=2,g=function(){var C,M;for(M=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)M.push(e.readUInt16());return M}(),u=function(){var C,M;for(M=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)M.push(e.readUInt16());return M}(),h=function(){var C,M;for(M=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,o=function(){var C,M;for(M=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)M.push(e.readUInt16());return M}(),l=_=0,S=s.length;_<S;l=++_)for(y=s[l],r=x=m=g[l];m<=y?x<=y:x>=y;r=m<=y?++x:--x)h[l]===0?a=r+u[l]:(a=o[h[l]/2+(r-m)-(f-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,B,E,L,I,k,O,F,U,$,K,V,Q,X,z,ne,he,W,Y,oe,fe,me,ce,be,xe,Ie,Qe,ue;switch($=new Cy,a=Object.keys(e).sort(function(ye,$e){return ye-$e}),n){case"macroman":for(g=0,y=function(){var ye=[];for(m=0;m<256;++m)ye.push(0);return ye}(),x={0:0},s={},K=0,z=a.length;K<z;K++)x[xe=e[i=a[K]]]==null&&(x[xe]=++g),s[i]={old:e[i],new:x[e[i]]},y[i]=x[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(y),{charMap:s,subtable:$.data,maxGlyphID:g+1};case"unicode":for(F=[],d=[],S=0,x={},r={},_=u=null,V=0,ne=a.length;V<ne;V++)x[M=e[i=a[V]]]==null&&(x[M]=++S),r[i]={old:M,new:x[M]},o=x[M]-i,_!=null&&o===u||(_&&d.push(_),F.push(i),u=o),_=i;for(_&&d.push(_),d.push(65535),F.push(65535),k=2*(I=F.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),f=Math.log(L/2)/Math.LN2,E=2*I-L,l=[],B=[],A=[],m=Q=0,he=F.length;Q<he;m=++Q){if(O=F[m],h=d[m],O===65535){l.push(0),B.push(0);break}if(O-(U=r[O].new)>=32768)for(l.push(0),B.push(2*(A.length+I-m)),i=X=O;O<=h?X<=h:X>=h;i=O<=h?++X:--X)A.push(r[i].new);else l.push(U-O),B.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*I+2*A.length),$.writeUInt16(0),$.writeUInt16(k),$.writeUInt16(L),$.writeUInt16(f),$.writeUInt16(E),ce=0,W=d.length;ce<W;ce++)i=d[ce],$.writeUInt16(i);for($.writeUInt16(0),be=0,Y=F.length;be<Y;be++)i=F[be],$.writeUInt16(i);for(Ie=0,oe=l.length;Ie<oe;Ie++)o=l[Ie],$.writeUInt16(o);for(Qe=0,fe=B.length;Qe<fe;Qe++)C=B[Qe],$.writeUInt16(C);for(ue=0,me=A.length;ue<me;ue++)g=A[ue],$.writeUInt16(g);return{charMap:r,subtable:$.data,maxGlyphID:S+1}}},t}(),Wme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Ane(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Ane.encode(n,r),(s=new Cy).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Zxt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Jxt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),eEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(n.readUInt32());return u}).call(this)}},e}(),tEt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,u,h,d,f,A;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},a=d=0,f=i.length;d<f;a=++d)s=i[a],n.pos=s.offset,h=n.readString(s.length),o=new tEt(h,s),u[A=s.nameID]==null&&(u[A]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(m){this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),rEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),iEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(n.readInt16());return d}(),this.widths=(function(){var h,d,f,A;for(A=[],h=0,d=(f=this.metrics).length;h<d;h++)a=f[h],A.push(a.advance);return A}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),jme=[].slice,sEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,u,h,d,f;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Cy(r.read(s))).readShort(),h=l.readShort(),f=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=o===-1?new oEt(l,h,f,u,d):new aEt(l,o,h,f,u,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),aEt=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),oEt=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cy(jme.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),lEt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bm(e,Gp),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var h=new Array(4*i.length),d=0;d<i.length;++d)h[4*d+3]=255&i[d],h[4*d+2]=(65280&i[d])>>8,h[4*d+1]=(16711680&i[d])>>16,h[4*d]=(4278190080&i[d])>>24;return h},e}(),cEt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,h,d,f,A,m,g,y,_;for(i in r=Wme.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),A={0:0},_=r.charMap)A[(l=_[i]).old]=l.new;for(m in f=r.maxGlyphID,a)m in A||(A[m]=f++);return h=function(x){var S,C;for(S in C={},x)C[x[S]]=S;return C}(A),d=Object.keys(h).sort(function(x,S){return x-S}),g=function(){var x,S,C;for(C=[],x=0,S=d.length;x<S;x++)o=d[x],C.push(h[o]);return C}(),s=this.font.glyf.encode(a,g,A),u=this.font.loca.encode(s.offsets,g),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();ts.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join("\n")}return""+n},e}();const uEt=Me({__name:"OlPrintdialogControl",props:{className:{},lang:{},imageType:{},quality:{},orientation:{},immediate:{type:Boolean},openWindow:{type:Boolean},copy:{type:Boolean},print:{type:Boolean},pdf:{type:Boolean},saveAs:{type:Function},northImage:{},jsPDF:{},element:{},render:{type:Function},target:{}},emits:["change","error","propertychange","printing"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Lw,i,r,["printing"]);return s.value.on(["print","error"],a=>{if(a.image)if(a.pdf){const o=new ts({orientation:a.print.orientation,unit:a.print.unit,format:a.print.size});o.addImage(a.image,"JPEG",a.print.position[0],a.print.position[0],a.print.imageWidth,a.print.imageHeight),o.save(a.print.legend?"legend.pdf":"map.pdf")}else a.canvas.toBlob(o=>{const l=(a.print.legend?"legend.":"map.")+a.imageType.replace("image/","");Cme.saveAs(o,l)},a.imageType,a.quality);else console.warn("No canvas to export")}),e({control:s}),(a,o)=>lt("",!0)}}),hEt=Me({inheritAttrs:!1,__name:"OlProfileControl",props:{className:{},title:{},style:{},selectStyle:{},info:{},width:{},height:{},feature:{},selectable:{type:Boolean},zoomable:{type:Boolean},element:{},render:{type:Function},target:{}},emits:["change","error","propertychange","over","out","show","dragstart","dragging","dragend","dragcancel"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(uQ,i,r);return Lu(s,["over","out","show","dragstart","dragging","dragend","dragcancel"]),e({control:s}),(a,o)=>lt("",!0)}}),dEt=Me({__name:"OlRotateControl",props:{className:{},label:{},tipLabel:{},compassClassName:{},duration:{},autoHide:{type:Boolean,default:!0},render:{},resetNorth:{},target:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(wAe,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),fEt=Me({__name:"OlScalelineControl",props:{className:{},minWidth:{},maxWidth:{},render:{type:Function},target:{},units:{},bar:{type:Boolean},steps:{},text:{type:Boolean},dpi:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Bdt,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),AEt=Me({inheritAttrs:!1,__name:"OlSearchControl",props:{className:{},title:{},label:{},reverseTitle:{},placeholder:{},reverse:{type:Boolean},inputLabel:{},collapsed:{type:Boolean,default:!0},noCollapse:{type:Boolean},typing:{},minLength:{},maxItems:{},maxHistory:{},getTitle:{},autocomplete:{},onselect:{},centerOnSelect:{type:Boolean},zoomOnSelect:{},element:{},render:{},target:{}},emits:["change","error","propertychange","select"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Ype,i,r);return Lu(s,["select"]),e({control:s}),(a,o)=>lt("",!0)}}),pEt=Me({__name:"OlSwipeControl",props:{layers:{},rightLayers:{},className:{default:"ol-swipe"},position:{},orientation:{},element:{},render:{},target:{},layerList:{}},emits:["change","error","propertychange","moving"],setup(t,{expose:e}){var n;const r=t,i=Ya(),s=ds(r),{control:a}=zl(Rdt,s,i,["moving"]);return(n=r.layerList)==null||n.forEach((o,l)=>{a.value.addLayer(o,l===1)}),e({control:a}),(o,l)=>lt("",!0)}}),gEt=Me({__name:"OlToggleControl",props:{className:{},title:{},html:{},interaction:{},active:{type:Boolean},disable:{type:Boolean},bar:{},autoActive:{type:Boolean},onToggle:{type:Function},element:{},render:{type:Function},target:{}},emits:["change","error","propertychange","change:active","change:disable"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Idt,i,r,["change:active","change:disable"]);return e({control:s}),(a,o)=>lt("",!0)}}),mEt=Me({inheritAttrs:!1,__name:"OlVideorecorderControl",props:{className:{},frameRate:{},videoBitsPerSecond:{},videoTarget:{},element:{},render:{},target:{},downloadName:{default:"mapVideo.mp4"}},emits:["change","error","propertychange","start","stop","pause","result"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Zx,i,r,["start","stop","pause","resume"]);return s.value.on("stop",a=>{n.downloadName&&Cme.saveAs(a.videoURL,n.downloadName)}),e({control:s}),(a,o)=>lt("",!0)}}),vEt=Me({__name:"OlZoneControl",props:{className:{default:"ol-mapzone"},layer:{},projection:{default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0},element:{},render:{},target:{},zones:{}},emits:["change","error","propertychange","select"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(N1,i,r,["select"]);return e({control:s}),(a,o)=>lt("",!0)}}),yEt=Me({__name:"OlZoomControl",props:{duration:{},className:{},zoomInClassName:{},zoomOutClassName:{},zoomInLabel:{},zoomOutLabel:{},zoomInTipLabel:{},zoomOutTipLabel:{},delta:{},target:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(bAe,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),_Et=Me({__name:"OlZoomsliderControl",props:{className:{},duration:{},render:{type:Function},target:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Pdt,i,r);return e({control:s}),(a,o)=>lt("",!0)}}),wEt=Me({__name:"OlZoomtoextentControl",props:{className:{},target:{},label:{},tipLabel:{},extent:{}},emits:["change","error","propertychange"],setup(t,{expose:e}){const n=t,r=Ya(),i=ds(n),{control:s}=zl(Fdt,i,r);return e({control:s}),(a,o)=>lt("",!0)}});function bEt(t,e){t.component("OlAttributionControl",ixt),t.component("OlFullscreenControl",lxt),t.component("OlMousepositionControl",hxt),t.component("OlOverviewmapControl",dxt),t.component("OlScalelineControl",fEt),t.component("OlZoomControl",yEt),t.component("OlZoomsliderControl",_Et),t.component("OlZoomtoextentControl",wEt),t.component("OlRotateControl",dEt),t.component("OlContextMenuControl",axt),t.component("OlSearchControl",AEt),t.component("OlSwipeControl",pEt),t.component("OlControlBar",oxt),t.component("OlToggleControl",gEt),t.component("OlButtonControl",sxt),t.component("OlPrintdialogControl",uEt),t.component("OlProfileControl",hEt),t.component("OlVideorecorderControl",mEt),t.component("OlLayerswitcherControl",cxt),t.component("OlLayerswitcherimageControl",uxt),t.component("OlZoneControl",vEt),e&&t.provide("ol-options",e)}function Rw(t,e){const n=qt("feature"),r=ds(e),i=J(()=>{const s=Object.values(r);return new t(...s)});return Ct(r,()=>{var s,a;(s=n==null?void 0:n.value)==null||s.setGeometry(i.value),(a=n==null?void 0:n.value)==null||a.changed()}),Ct(()=>n,()=>{var s;(s=n==null?void 0:n.value)==null||s.setGeometry(i.value)}),rr(()=>{var s;(s=n==null?void 0:n.value)==null||s.setGeometry(i.value)}),ca(()=>{var s;(s=n==null?void 0:n.value)==null||s.setGeometry(void 0)}),i}const xEt=Me({__name:"OlGeomCircle",props:{center:{},radius:{},layout:{default:"XY"}},setup(t,{expose:e}){const r=Rw(Tw,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),EEt=Me({__name:"OlGeomLineString",props:{coordinates:{},layout:{default:"XY"}},setup(t,{expose:e}){const r=Rw(Ca,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),SEt=Me({__name:"OlGeomMultiLineString",props:{coordinates:{},layout:{default:"XY"},ends:{}},setup(t,{expose:e}){const r=Rw(hc,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),CEt=Me({__name:"OlGeomMultiPoint",props:{coordinates:{},layout:{default:"XY"}},setup(t,{expose:e}){const r=Rw(zd,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),TEt=Me({__name:"OlGeomMultiPolygon",props:{coordinates:{},layout:{default:"XY"},endss:{}},setup(t,{expose:e}){const r=Rw(dc,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),MEt=Me({__name:"OlGeomPoint",props:{coordinates:{},layout:{default:"XY"}},setup(t,{expose:e}){const r=Rw(oa,t);return e({geometry:r}),(i,s)=>lt("",!0)}}),LEt=Me({__name:"OlGeomPolygon",props:{coordinates:{},layout:{default:"XY"},ends:{}},setup(t,{expose:e}){const r=Rw(uo,t);return e({geometry:r}),(i,s)=>lt("",!0)}});function BEt(t,e){t.component("OlGeomCircle",xEt),t.component("OlGeomLineString",EEt),t.component("OlGeomMultiLineString",SEt),t.component("OlGeomMultiPoint",CEt),t.component("OlGeomMultiPolygon",TEt),t.component("OlGeomPoint",MEt),t.component("OlGeomPolygon",LEt),e&&t.provide("ol-options",e)}const REt=Me({__name:"OlStyle",props:{zIndex:{},overrideStyleFunction:{}},setup(t,{expose:e}){const n=t,r=qt("stylable",void 0),i=ds(n),s=J(()=>new Sa(i)),a=l=>{const u=r==null?void 0:r.value;if(u)if(u instanceof hQ||u instanceof dQ)u.getOverlay().setStyle(l),u.changed(),u.dispatchEvent("styleChanged");else try{u.setStyle(l),u.changed(),u.dispatchEvent("styleChanged")}catch(h){u.style_=l,u.values_.style=l,u.changed(),u.dispatchEvent("styleChanged")}},o=J(()=>(l,u)=>i.overrideStyleFunction?i.overrideStyleFunction(l,s.value,u):s.value);return Ct(i,()=>a(i.overrideStyleFunction?o.value:s.value)),rr(()=>a(i.overrideStyleFunction?o.value:s.value)),ca(()=>{a(new Sa)}),dr("style",s),dr("styledObj",r),e({style:s}),(l,u)=>(ie(),Ee("div",null,[tt(l.$slots,"default")]))}}),IEt=Me({__name:"OlStyleCircle",props:{radius:{},scale:{}},setup(t){const e=t,n=qt("style",null),r=qt("styledObj",null),i=ds(e),s=l=>new Gy({...l,fill:new Ul,stroke:new Po}),a=J(()=>s(i)),o=()=>{var l;(l=n==null?void 0:n.value)==null||l.setImage(a.value),(r==null?void 0:r.value)instanceof kp&&r.value.changed()};return Ct(i,()=>o()),Ct(()=>n,()=>o()),rr(()=>o()),ca(()=>{var l;(l=n==null?void 0:n.value)==null||l.setImage(null)}),dr("circle",a),dr("styledObj",r),(l,u)=>(ie(),Ee("div",null,[tt(l.$slots,"default")]))}}),PEt=Me({__name:"OlStyleStroke",props:{color:{},lineCap:{},lineJoin:{},lineDash:{},lineDashOffset:{},miterLimit:{},width:{default:1}},setup(t){var e;const n=t,r=qt("style",null),i=qt("styledObj",null),s=qt("circle",null),a=ds(n);if(r!=null&&s==null){let o=new Po(a);(e=r.value)==null||e.setStroke(o);const l=()=>{var u,h;(u=r==null?void 0:r.value)==null||u.setStroke(new Po),o=new Po(a),(h=r==null?void 0:r.value)==null||h.setStroke(o)};Ct(a,()=>{l()}),Ct(r,()=>{l()}),rr(()=>{var u;(u=r==null?void 0:r.value)==null||u.setStroke(o)}),ca(()=>{var u;(u=r==null?void 0:r.value)==null||u.setStroke(new Po)})}else if(s!=null){const o=l=>{var u,h,d,f,A,m,g,y,_,x,S,C,M,B,E,L;(h=(u=s==null?void 0:s.value)==null?void 0:u.getStroke())==null||h.setColor(l.color||""),(f=(d=s==null?void 0:s.value)==null?void 0:d.getStroke())==null||f.setLineCap(l.lineCap),(m=(A=s==null?void 0:s.value)==null?void 0:A.getStroke())==null||m.setLineDash(l.lineDash||[]),(y=(g=s==null?void 0:s.value)==null?void 0:g.getStroke())==null||y.setLineDashOffset(l.lineDashOffset),(x=(_=s==null?void 0:s.value)==null?void 0:_.getStroke())==null||x.setLineJoin(l.lineJoin),(C=(S=s==null?void 0:s.value)==null?void 0:S.getStroke())==null||C.setMiterLimit(l.miterLimit),(B=(M=s==null?void 0:s.value)==null?void 0:M.getStroke())==null||B.setWidth(l.width),(L=s==null?void 0:s.value)==null||L.setRadius((E=s==null?void 0:s.value)==null?void 0:E.getRadius()),(i==null?void 0:i.value)instanceof kp&&i.value.changed()};o(a),Ct(a,l=>{o(l)}),Ct(s,()=>{o(a)})}return(o,l)=>lt("",!0)}}),FEt=Me({__name:"OlStyleFill",props:{color:{},gradient:{}},setup(t){const e=t,n=qt("style",ge(null)),r=qt("circle",ge(null)),i=ds(e),s=(u,h=256,d=256)=>{var y;const f=document.createElement("canvas"),A=f.getContext("2d");if(!A)throw new Error("Unable to get canvas context");f.width=h,f.height=d;let m;if(u){switch(u.type){case"linear":m=A.createLinearGradient(u.x0,u.y0,u.x1,u.y1);break;case"radial":m=A.createRadialGradient(u.x0,u.y0,u.r0,u.x1,u.y1,u.r1);break;case"conic":m=A.createConicGradient(u.x,u.y,u.startAngle);break;default:throw new Error("Unsupported gradient type")}u.colorStops.forEach(([_,x])=>{m.addColorStop(_,x)}),A.fillStyle=m}else typeof i.color=="string"?A.fillStyle=(y=i.color)!=null?y:"transparent":A.fillStyle="transparent";A.fillRect(0,0,h,d);const g=f.toDataURL();return new Ul({color:{src:g}})},a=i.gradient?s(i.gradient):null,o=()=>{if(n.value){const u=a||new Ul({color:i.color||"transparent"});n.value.setFill(u)}},l=u=>{var h,d,f;r.value&&((d=(h=r==null?void 0:r.value)==null?void 0:h.getFill())==null||d.setColor(u||null),(f=r==null?void 0:r.value)==null||f.setRadius(r==null?void 0:r.value.getRadius()))};return n.value&&!r.value?(o(),Ct(i,o,{immediate:!0}),Ct(n,u=>{u&&o()},{immediate:!0}),rr(o),ca(()=>{var u;(u=n.value)==null||u.setFill(new Ul)})):r.value&&(l(i.color),Ct(i,()=>{r.value&&l(i.color)},{immediate:!0}),Ct(r,u=>{u&&l(i.color)},{immediate:!0})),(u,h)=>lt("",!0)}});var Kme={exports:{}};/*! dom-to-image-more 29-07-2024 */(function(t,e){(function(n){let r=function(){let E=0;return{escape:function(U){return U.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(U){return U.search(/^(data:)/)!==-1},canvasToBlob:function(U){return U.toBlob?new Promise(function($){U.toBlob($)}):function($){return new Promise(function(K){var V=A($.toDataURL().split(",")[1]),Q=V.length,X=new Uint8Array(Q);for(let z=0;z<Q;z++)X[z]=V.charCodeAt(z);K(new Blob([X],{type:"image/png"}))})}(U)},resolveUrl:function(U,$){var K=document.implementation.createHTMLDocument(),V=K.createElement("base"),Q=(K.head.appendChild(V),K.createElement("a"));return K.body.appendChild(Q),V.href=$,Q.href=U,Q.href},getAndEncode:function(U){let $=h.impl.urlCache.find(function(K){return K.url===U});return $||($={url:U,promise:null},h.impl.urlCache.push($)),$.promise===null&&(h.impl.options.cacheBust&&(U+=(/\?/.test(U)?"&":"?")+new Date().getTime()),$.promise=new Promise(function(K){let V=h.impl.options.httpTimeout,Q=new XMLHttpRequest;if(Q.onreadystatechange=function(){if(Q.readyState===4)if(300<=Q.status)z?K(z):ne("cannot fetch resource: ".concat(U,", status: ")+Q.status);else{let he=new FileReader;he.onloadend=function(){K(he.result)},he.readAsDataURL(Q.response)}},Q.ontimeout=function(){z?K(z):ne("timeout of ".concat(V,"ms occured while fetching resource: ")+U)},Q.responseType="blob",Q.timeout=V,0<h.impl.options.useCredentialsFilters.length&&(h.impl.options.useCredentials=0<h.impl.options.useCredentialsFilters.filter(he=>0<=U.search(he)).length),h.impl.options.useCredentials&&(Q.withCredentials=!0),h.impl.options.corsImg&&U.indexOf("http")===0&&U.indexOf(window.location.origin)===-1){var X=(h.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";Q.open(X,(h.impl.options.corsImg.url||"").replace("#{cors}",U),!0);let he=!1,W=h.impl.options.corsImg.headers||{},Y=(Object.keys(W).forEach(function(oe){W[oe].indexOf("application/json")!==-1&&(he=!0),Q.setRequestHeader(oe,W[oe])}),function(oe){try{return JSON.parse(JSON.stringify(oe))}catch(fe){ne("corsImg.data is missing or invalid")}}(h.impl.options.corsImg.data||""));Object.keys(Y).forEach(function(oe){typeof Y[oe]=="string"&&(Y[oe]=Y[oe].replace("#{cors}",U))}),Q.send(he?JSON.stringify(Y):Y)}else Q.open("GET",U,!0),Q.send();let z;function ne(he){console.error(he),K("")}h.impl.options.imagePlaceholder&&(X=h.impl.options.imagePlaceholder.split(/,/))&&X[1]&&(z=X[1])})),$.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+E++},delay:function(U){return function($){return new Promise(function(K){setTimeout(function(){K($)},U)})}},asArray:function(U){var $=[],K=U.length;for(let V=0;V<K;V++)$.push(U[V]);return $},escapeXhtml:function(U){return U.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(U){return U!=="data:,"?new Promise(function($,K){let V=new Image;h.impl.options.useCredentials&&(V.crossOrigin="use-credentials"),V.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){$(V)}):$(V)},V.onerror=K,V.src=U}):Promise.resolve()},width:function(U){var $=F(U,"width");if(!isNaN($))return $;var $=F(U,"border-left-width"),K=F(U,"border-right-width");return U.scrollWidth+$+K},height:function(U){var $=F(U,"height");if(!isNaN($))return $;var $=F(U,"border-top-width"),K=F(U,"border-bottom-width");return U.scrollHeight+$+K},getWindow:L,isElement:O,isElementHostForOpenShadowRoot:function(U){return O(U)&&U.shadowRoot!==null},isShadowRoot:I,isInShadowRoot:k,isHTMLElement:function(U){return U instanceof L(U).HTMLElement},isHTMLCanvasElement:function(U){return U instanceof L(U).HTMLCanvasElement},isHTMLInputElement:function(U){return U instanceof L(U).HTMLInputElement},isHTMLImageElement:function(U){return U instanceof L(U).HTMLImageElement},isHTMLLinkElement:function(U){return U instanceof L(U).HTMLLinkElement},isHTMLScriptElement:function(U){return U instanceof L(U).HTMLScriptElement},isHTMLStyleElement:function(U){return U instanceof L(U).HTMLStyleElement},isHTMLTextAreaElement:function(U){return U instanceof L(U).HTMLTextAreaElement},isShadowSlotElement:function(U){return k(U)&&U instanceof L(U).HTMLSlotElement},isSVGElement:function(U){return U instanceof L(U).SVGElement},isSVGRectElement:function(U){return U instanceof L(U).SVGRectElement},isDimensionMissing:function(U){return isNaN(U)||U<=0}};function L(U){return U=U?U.ownerDocument:void 0,(U?U.defaultView:void 0)||n||window}function I(U){return U instanceof L(U).ShadowRoot}function k(U){return U!==null&&Object.prototype.hasOwnProperty.call(U,"getRootNode")&&I(U.getRootNode())}function O(U){return U instanceof L(U).Element}function F(U,$){if(U.nodeType===d){let K=f(U).getPropertyValue($);if(K.slice(-2)==="px")return K=K.slice(0,-2),parseFloat(K)}return NaN}}(),i=function(){let E=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(O,F,U){return L(O)?Promise.resolve(O).then(I).then(function($){let K=Promise.resolve(O);return $.forEach(function(V){K=K.then(function(Q){return k(Q,V,F,U)})}),K}):Promise.resolve(O)},shouldProcess:L,impl:{readUrls:I,inline:k}};function L(O){return O.search(E)!==-1}function I(O){for(var F,U=[];(F=E.exec(O))!==null;)U.push(F[1]);return U.filter(function($){return!r.isDataUrl($)})}function k(O,F,U,$){return Promise.resolve(F).then(function(K){return U?r.resolveUrl(K,U):K}).then($||r.getAndEncode).then(function(K){return O.replace((V=F,new RegExp("(url\\(['\"]?)(".concat(r.escape(V),")(['\"]?\\))"),"g")),"$1".concat(K,"$3"));var V})}}(),s={resolveAll:function(){return a().then(function(E){return Promise.all(E.map(function(L){return L.resolve()}))}).then(function(E){return E.join("\n")})},impl:{readAll:a}};function a(){return Promise.resolve(r.asArray(document.styleSheets)).then(function(L){let I=[];return L.forEach(function(k){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(k),"cssRules"))try{r.asArray(k.cssRules||[]).forEach(I.push.bind(I))}catch(O){console.error("domtoimage: Error while reading CSS rules from "+k.href,O.toString())}}),I}).then(function(L){return L.filter(function(I){return I.type===CSSRule.FONT_FACE_RULE}).filter(function(I){return i.shouldProcess(I.style.getPropertyValue("src"))})}).then(function(L){return L.map(E)});function E(L){return{resolve:function(){var I=(L.parentStyleSheet||{}).href;return i.inlineAll(L.cssText,I)},src:function(){return L.style.getPropertyValue("src")}}}}let o={inlineAll:function E(L){if(!r.isElement(L))return Promise.resolve(L);return I(L).then(function(){return r.isHTMLImageElement(L)?l(L).inline():Promise.all(r.asArray(L.childNodes).map(function(k){return E(k)}))});function I(k){let O=["background","background-image"],F=O.map(function(U){let $=k.style.getPropertyValue(U),K=k.style.getPropertyPriority(U);return $?i.inlineAll($).then(function(V){k.style.setProperty(U,V,K)}):Promise.resolve()});return Promise.all(F).then(function(){return k})}},impl:{newImage:l}};function l(E){return{inline:function(L){return r.isDataUrl(E.src)?Promise.resolve():Promise.resolve(E.src).then(L||r.getAndEncode).then(function(I){return new Promise(function(k){E.onload=k,E.onerror=k,E.src=I})})}}}let u={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},h={toSvg:m,toPng:function(E,L){return g(E,L).then(function(I){return I.toDataURL()})},toJpeg:function(E,L){return g(E,L).then(function(I){return I.toDataURL("image/jpeg",(L?L.quality:void 0)||1)})},toBlob:function(E,L){return g(E,L).then(r.canvasToBlob)},toPixelData:function(E,L){return g(E,L).then(function(I){return I.getContext("2d").getImageData(0,0,r.width(E),r.height(E)).data})},toCanvas:g,impl:{fontFaces:s,images:o,util:r,inliner:i,urlCache:[],options:{}}},d=(t.exports=h,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),f=(n!==void 0?n.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,A=(n!==void 0?n.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function m(E,L){h.impl.util.getWindow(E);var I=L=L||{};I.copyDefaultStyles===void 0?h.impl.options.copyDefaultStyles=u.copyDefaultStyles:h.impl.options.copyDefaultStyles=I.copyDefaultStyles,h.impl.options.imagePlaceholder=(I.imagePlaceholder===void 0?u:I).imagePlaceholder,h.impl.options.cacheBust=(I.cacheBust===void 0?u:I).cacheBust,h.impl.options.corsImg=(I.corsImg===void 0?u:I).corsImg,h.impl.options.useCredentials=(I.useCredentials===void 0?u:I).useCredentials,h.impl.options.useCredentialsFilters=(I.useCredentialsFilters===void 0?u:I).useCredentialsFilters,h.impl.options.httpTimeout=(I.httpTimeout===void 0?u:I).httpTimeout,h.impl.options.styleCaching=(I.styleCaching===void 0?u:I).styleCaching;let k=[];return Promise.resolve(E).then(function(O){if(O.nodeType===d)return O;var F=O,U=O.parentNode,$=document.createElement("span");return U.replaceChild($,F),$.append(O),k.push({parent:U,child:F,wrapper:$}),$}).then(function(O){return function F(U,$,K,V){let Q=$.filter;if(U===y||r.isHTMLScriptElement(U)||r.isHTMLStyleElement(U)||r.isHTMLLinkElement(U)||K!==null&&Q&&!Q(U))return Promise.resolve();return Promise.resolve(U).then(X).then(z).then(function(oe){return W(oe,he(U))}).then(ne).then(function(oe){return Y(oe,U)});function X(oe){return r.isHTMLCanvasElement(oe)?r.makeImage(oe.toDataURL()):oe.cloneNode(!1)}function z(oe){return $.adjustClonedNode&&$.adjustClonedNode(U,oe,!1),Promise.resolve(oe)}function ne(oe){return $.adjustClonedNode&&$.adjustClonedNode(U,oe,!0),Promise.resolve(oe)}function he(oe){return r.isElementHostForOpenShadowRoot(oe)?oe.shadowRoot:oe}function W(oe,fe){let me=xe(fe),ce=Promise.resolve();if(me.length!==0){let Ie=f(be(fe));r.asArray(me).forEach(function(Qe){ce=ce.then(function(){return F(Qe,$,Ie).then(function(ue){ue&&oe.appendChild(ue)})})})}return ce.then(function(){return oe});function be(Ie){return r.isShadowRoot(Ie)?Ie.host:Ie}function xe(Ie){return r.isShadowSlotElement(Ie)?Ie.assignedNodes():Ie.childNodes}}function Y(oe,fe){return!r.isElement(oe)||r.isShadowSlotElement(fe)?Promise.resolve(oe):Promise.resolve().then(me).then(ce).then(be).then(xe).then(function(){return oe});function me(){function Ie(ue,ye){ye.font=ue.font,ye.fontFamily=ue.fontFamily,ye.fontFeatureSettings=ue.fontFeatureSettings,ye.fontKerning=ue.fontKerning,ye.fontSize=ue.fontSize,ye.fontStretch=ue.fontStretch,ye.fontStyle=ue.fontStyle,ye.fontVariant=ue.fontVariant,ye.fontVariantCaps=ue.fontVariantCaps,ye.fontVariantEastAsian=ue.fontVariantEastAsian,ye.fontVariantLigatures=ue.fontVariantLigatures,ye.fontVariantNumeric=ue.fontVariantNumeric,ye.fontVariationSettings=ue.fontVariationSettings,ye.fontWeight=ue.fontWeight}function Qe(ue,ye){let $e=f(ue);$e.cssText?(ye.style.cssText=$e.cssText,Ie($e,ye.style)):(S($,ue,$e,K,ye),K===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(Ve=>ye.style.removeProperty(Ve)),["left","right","top","bottom"].forEach(Ve=>{ye.style.getPropertyValue(Ve)&&ye.style.setProperty(Ve,"0px")})))}Qe(fe,oe)}function ce(){let Ie=r.uid();function Qe(ue){let ye=f(fe,ue),$e=ye.getPropertyValue("content");if($e!==""&&$e!=="none"){let Ve=function(){let ft=".".concat(Ie,":")+ue,je=(ye.cssText?gt:vt)();return document.createTextNode(ft+"{".concat(je,"}"));function gt(){return"".concat(ye.cssText," content: ").concat($e,";")}function vt(){return r.asArray(ye).map(we).join("; ")+";";function we(Ne){let Ze=ye.getPropertyValue(Ne),Tt=ye.getPropertyPriority(Ne)?" !important":"";return Ne+": "+Ze+Tt}}},Se=oe.getAttribute("class")||"",at=(oe.setAttribute("class",Se+" "+Ie),document.createElement("style"));at.appendChild(Ve()),oe.appendChild(at)}}[":before",":after"].forEach(function(ue){Qe(ue)})}function be(){r.isHTMLTextAreaElement(fe)&&(oe.innerHTML=fe.value),r.isHTMLInputElement(fe)&&oe.setAttribute("value",fe.value)}function xe(){r.isSVGElement(oe)&&(oe.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.isSVGRectElement(oe))&&["width","height"].forEach(function(Ie){let Qe=oe.getAttribute(Ie);Qe&&oe.style.setProperty(Ie,Qe)})}}}(O,L,null)}).then(_).then(x).then(function(O){L.bgcolor&&(O.style.backgroundColor=L.bgcolor),L.width&&(O.style.width=L.width+"px"),L.height&&(O.style.height=L.height+"px"),L.style&&Object.keys(L.style).forEach(function(U){O.style[U]=L.style[U]});let F=null;return typeof L.onclone=="function"&&(F=L.onclone(O)),Promise.resolve(F).then(function(){return O})}).then(function(O){let F=L.width||r.width(O),U=L.height||r.height(O);return Promise.resolve(O).then(function($){return $.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString($)}).then(r.escapeXhtml).then(function($){var K=(r.isDimensionMissing(F)?' width="100%"':' width="'.concat(F,'"'))+(r.isDimensionMissing(U)?' height="100%"':' height="'.concat(U,'"'));return'<svg xmlns="http://www.w3.org/2000/svg"'.concat((r.isDimensionMissing(F)?"":' width="'.concat(F,'"'))+(r.isDimensionMissing(U)?"":' height="'.concat(U,'"')),"><foreignObject").concat(K,">").concat($,"</foreignObject></svg>")}).then(function($){return"data:image/svg+xml;charset=utf-8,"+$})}).then(function(O){for(;0<k.length;){var F=k.pop();F.parent.replaceChild(F.child,F.wrapper)}return O}).then(function(O){return h.impl.urlCache=[],function(){y&&(document.body.removeChild(y),y=null),C&&clearTimeout(C),C=setTimeout(()=>{C=null,M={}},2e4)}(),O})}function g(E,L){return m(E,L=L||{}).then(r.makeImage).then(function(I){var k=typeof L.scale!="number"?1:L.scale,O=function(U,$){let K=L.width||r.width(U),V=L.height||r.height(U);return r.isDimensionMissing(K)&&(K=r.isDimensionMissing(V)?300:2*V),r.isDimensionMissing(V)&&(V=K/2),U=document.createElement("canvas"),U.width=K*$,U.height=V*$,L.bgcolor&&(($=U.getContext("2d")).fillStyle=L.bgcolor,$.fillRect(0,0,U.width,U.height)),U}(E,k),F=O.getContext("2d");return F.msImageSmoothingEnabled=!1,F.imageSmoothingEnabled=!1,I&&(F.scale(k,k),F.drawImage(I,0,0)),O})}let y=null;function _(E){return s.resolveAll().then(function(L){var I;return L!==""&&(I=document.createElement("style"),E.appendChild(I),I.appendChild(document.createTextNode(L))),E})}function x(E){return o.inlineAll(E).then(function(){return E})}function S(E,L,I,k,O){let F=h.impl.options.copyDefaultStyles?function($,Q){var Q=function(z){var ne=[];do if(z.nodeType===d){var he=z.tagName;if(ne.push(he),B.includes(he))break}while(z=z.parentNode,z);return ne}(Q),V=function(z){return($.styleCaching!=="relaxed"?z:z.filter((ne,he,W)=>he===0||he===W.length-1)).join(">")}(Q);if(M[V])return M[V];var X=function(){if(y)return y.contentWindow;var z=document.characterSet||"UTF-8",ne=document.doctype,ne=ne?("<!DOCTYPE ".concat(he(ne.name)," ").concat(he(ne.publicId)," ")+he(ne.systemId)).trim()+">":"";return(y=document.createElement("iframe")).id="domtoimage-sandbox-"+r.uid(),y.style.visibility="hidden",y.style.position="fixed",document.body.appendChild(y),function(W,Y,oe,fe){try{return W.contentWindow.document.write(Y+"<html><head><meta charset='".concat(oe,"'><title>").concat(fe,"</title></head><body></body></html>")),W.contentWindow}catch(xe){}var me=document.createElement("meta");me.setAttribute("charset",oe);try{var ce=document.implementation.createHTMLDocument(fe),be=(ce.head.appendChild(me),Y+ce.documentElement.outerHTML);return W.setAttribute("srcdoc",be),W.contentWindow}catch(xe){}return W.contentDocument.head.appendChild(me),W.contentDocument.title=fe,W.contentWindow}(y,ne,z,"domtoimage-sandbox");function he(W){var Y;return W?((Y=document.createElement("div")).innerText=W,Y.innerHTML):""}}(),Q=function(z,ne){let he=z.body;do{var W=ne.pop(),W=z.createElement(W);he.appendChild(W),he=W}while(0<ne.length);return he.textContent="",he}(X.document,Q),X=function(z,ne){let he={},W=z.getComputedStyle(ne);return r.asArray(W).forEach(function(Y){he[Y]=Y==="width"||Y==="height"?"auto":W.getPropertyValue(Y)}),he}(X,Q);return function(z){do{var ne=z.parentElement;ne!==null&&ne.removeChild(z),z=ne}while(z&&z.tagName!=="BODY")}(Q),M[V]=X}(E,L):{},U=O.style;r.asArray(I).forEach(function($){var K,V=I.getPropertyValue($),Q=F[$],X=k?k.getPropertyValue($):void 0;U.getPropertyValue($)||(V!==Q||k&&V!==X)&&(Q=I.getPropertyPriority($),X=U,V=V,Q=Q,K=0<=["background-clip"].indexOf($=$),Q?(X.setProperty($,V,Q),K&&X.setProperty("-webkit-"+$,V,Q)):(X.setProperty($,V),K&&X.setProperty("-webkit-"+$,V)))})}let C=null,M={},B=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(aA)})(Kme);var OEt=Kme.exports;const NEt=UQ(OEt),DEt=Me({__name:"OlStyleIcon",props:{anchor:{},anchorOrigin:{},anchorXUnits:{},anchorYUnits:{},color:{},crossOrigin:{},img:{},displacement:{},opacity:{},width:{},height:{},scale:{},rotateWithView:{type:Boolean},rotation:{},offset:{},offsetOrigin:{},size:{},src:{},declutterMode:{}},setup(t){const e=t,n=Cl(),r=ge(),i=ge(""),s=qt("style",null),a=qt("styledObj",null),o=ds(e),l=J(()=>{const h=new Vy({...o,src:o.src||i.value});return h.load(),h}),u=()=>{var h,d;(h=s==null?void 0:s.value)==null||h.setImage(l.value),(a==null?void 0:a.value)instanceof kp&&((d=a==null?void 0:a.value)==null||d.changed())};return Ct(o,()=>u()),Ct(()=>s,()=>u()),rr(async()=>{n.default&&r.value&&(i.value=await NEt.toSvg(r.value,{width:r.value.offsetWidth,height:r.value.offsetHeight,copyDefaultStyles:!0})),u()}),ca(()=>{var h;(h=s==null?void 0:s.value)==null||h.setImage(null)}),(h,d)=>i.value?lt("",!0):(ie(),Ee("div",{key:0,ref_key:"htmlContent",ref:r,style:{display:"flex",position:"absolute","z-index":"-1000"}},[tt(h.$slots,"default")],512))}}),kEt=Me({__name:"OlStyleText",props:{font:{},maxAngle:{},offsetX:{},offsetY:{},overflow:{type:Boolean},placement:{},scale:{},rotateWithView:{type:Boolean},rotation:{},text:{},textAlign:{},textBaseline:{},padding:{},fill:{},stroke:{},backgroundFill:{},backgroundStroke:{}},setup(t){const e=t,n=qt("style",null),r=qt("styledObj",null),i=ds(e),s=l=>{const h={...l};return l.fill&&(h.fill=new Ul({color:l.fill})),l.stroke&&(h.stroke=new Po(l.stroke)),l.backgroundFill&&(h.backgroundFill=new Ul({color:l.backgroundFill})),l.backgroundStroke&&(h.backgroundStroke=new Po(l.backgroundStroke)),new Mf(h)},a=J(()=>s(i)),o=()=>{var l,u;(l=n==null?void 0:n.value)==null||l.setText(new Mf),(u=n==null?void 0:n.value)==null||u.setText(a.value),(r==null?void 0:r.value)instanceof kp&&r.value.changed()};return Ct(i,()=>o()),Ct(()=>n==null?void 0:n.value,()=>o()),rr(()=>{var l;return(l=n==null?void 0:n.value)==null?void 0:l.setText(a.value)}),ca(()=>{var l;return(l=n==null?void 0:n.value)==null?void 0:l.setText(new Mf)}),dr("style",a),dr("styledObj",r),(l,u)=>(ie(),Ee("div",null,[tt(l.$slots,"default")]))}}),UEt=Me({__name:"OlStyleFlowline",props:{visible:{type:Boolean},width:{},width2:{},color:{},color2:{},arrowClor:{},lineCap:{default:"butt"},arrowSize:{},arrow:{},noOverlap:{type:Boolean},offset0:{},offset1:{},overrideStyleFunction:{}},setup(t,{expose:e}){const n=t,r=qt("stylable",null),i=ds(n),s=J(()=>new Ydt(i)),a=l=>{if(r!=null&&r.value){if(r.value instanceof hQ||(r==null?void 0:r.value)instanceof dQ){r.value.getOverlay().setStyle(l),r.value.dispatchEvent("styleChanged");return}try{r.value instanceof vs&&r.value.setStyle(l),r.value.changed(),r.value.dispatchEvent("styleChanged")}catch(u){r!=null&&r.value&&(r.value.style_=l,r.value.values_.style=l,r.value.changed(),r.value.dispatchEvent("styleChanged"))}}},o=J(()=>(l,u)=>(i.overrideStyleFunction&&i.overrideStyleFunction(l,s.value,u),s.value));return Ct(i,()=>a(i.overrideStyleFunction?o.value:s.value)),rr(()=>a(i.overrideStyleFunction?o.value:s.value)),ca(()=>a(new Sa)),e({style:s}),(l,u)=>(ie(),Ee("div",null,[tt(l.$slots,"default")]))}});function HEt(t,e){t.component("OlStyle",REt),t.component("OlStyleCircle",IEt),t.component("OlStyleStroke",PEt),t.component("OlStyleFill",FEt),t.component("OlStyleIcon",DEt),t.component("OlStyleText",kEt),t.component("OlStyleFlowline",UEt),e&&t.provide("ol-options",e)}const GEt=Me({inheritAttrs:!1,__name:"OlInteractionClusterselect",props:{featureStyle:{},selectCluster:{type:Boolean,default:!0},pointRadius:{default:7},spiral:{type:Boolean,default:!0},circleMaxObject:{},maxObjects:{},animate:{type:Boolean,default:!0},animationDuration:{default:500},autoClose:{type:Boolean,default:!0},addCondition:{},condition:{},layers:{},style:{},removeCondition:{},toggleCondition:{},multi:{type:Boolean,default:!1},features:{},filter:{},hitTolerance:{}},emits:["change","error","propertychange","select"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new Zdt({style:new Sa,...i}));return Lu(s,["select"]),Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),dr("stylable",s),e({select:s}),(a,o)=>tt(a.$slots,"default")}}),VEt=Me({inheritAttrs:!1,__name:"OlInteractionDragbox",props:{className:{},condition:{type:Function},minArea:{},boxEndCondition:{type:Function},onBoxEnd:{type:Function}},emits:["change","error","propertychange","boxcancel","boxdrag","boxend","boxstart"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new MAe(i));return Lu(s,["boxcancel","boxdrag","boxend","boxstart"]),Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),e({dragbox:s}),(a,o)=>tt(a.$slots,"default")}}),zEt=Me({__name:"OlInteractionDragrotate",props:{condition:{type:Function},duration:{}},setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new TAe(i));return Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),e({dragrotate:s}),(a,o)=>tt(a.$slots,"default")}}),$Et=Me({__name:"OlInteractionDragrotatezoom",props:{condition:{type:Function},duration:{}},setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new Gdt(i));return Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),e({dragRotateZoom:s}),(a,o)=>tt(a.$slots,"default")}}),QEt=Me({inheritAttrs:!1,__name:"OlInteractionLink",props:{animate:{type:[Boolean,Object],default:!0},params:{default:()=>["x","y","z","r","l"]},replace:{type:Boolean,default:!1},prefix:{default:""}},emits:["change","error","propertychange","change:active"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=Cs(new $dt(i));return Lu(s,["change:active"]),Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),dr("stylable",s),e({link:s}),(a,o)=>tt(a.$slots,"default")}}),WEt=Me({inheritAttrs:!1,__name:"OlInteractionSelect",props:{addCondition:{type:Function},condition:{type:Function},layers:{type:[Array,Function]},style:{type:[Object,Array,Function,null]},removeCondition:{type:Function},toggleCondition:{type:Function},multi:{type:Boolean},features:{},filter:{type:Function},hitTolerance:{}},emits:["change","error","propertychange","select"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new vD({...i,style:new Sa}));return Lu(s,["select"]),Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),dr("stylable",s),e({select:s}),(a,o)=>tt(a.$slots,"default")}}),jEt=Me({inheritAttrs:!1,__name:"OlInteractionDraw",props:{type:{},clickTolerance:{},features:{},source:{},dragVertexDelay:{},snapTolerance:{},stopClick:{type:Boolean},maxPoints:{},minPoints:{},finishCondition:{type:Function},style:{type:[Object,Array,Function]},geometryFunction:{type:Function},geometryName:{},condition:{type:Function},freehand:{type:Boolean},freehandCondition:{type:Function},trace:{type:[Boolean,Function]},traceSource:{},wrapX:{type:Boolean},geometryLayout:{}},emits:["change","error","propertychange","drawstart","drawend"],setup(t,{expose:e}){const n=t,r=qt("map"),i=qt("vectorSource",null),{source:s,type:a,clickTolerance:o,dragVertexDelay:l,snapTolerance:u,stopClick:h,maxPoints:d,minPoints:f,finishCondition:A,geometryFunction:m,geometryName:g,condition:y,freehand:_,freehandCondition:x,wrapX:S,features:C,geometryLayout:M,trace:B,traceSource:E}=Yo(n);function L(){return new hQ({source:s.value||(i==null?void 0:i.value),type:a.value,clickTolerance:o.value,dragVertexDelay:l.value,snapTolerance:u.value,stopClick:h.value,maxPoints:d.value,minPoints:f.value,finishCondition:A.value,geometryFunction:m.value,geometryName:g.value,condition:y.value,freehand:_.value,freehandCondition:x.value,wrapX:S.value,features:C.value,geometryLayout:M.value,trace:B.value,traceSource:E.value})}const I=Cs(L()),{updateOpenLayersEventHandlers:k}=Lu(I,["drawstart","drawend"]);return Ct([s,a,o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,B,E],()=>{I.value.abortDrawing(),r==null||r.removeInteraction(I.value),I.value=L(),k(),r==null||r.addInteraction(I.value),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(I.value)}),ca(()=>{r==null||r.removeInteraction(I.value)}),dr("stylable",I),e({draw:I.value}),(O,F)=>tt(O.$slots,"default")}}),KEt=Me({inheritAttrs:!1,__name:"OlInteractionModify",props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{},style:{type:[Object,Array,Function]},source:{},hitDetection:{type:Boolean},features:{},wrapX:{type:Boolean},snapToPointer:{type:Boolean}},emits:["change","error","propertychange","modifystart","modifyend"],setup(t,{expose:e}){const n=t,r=qt("map"),i=qt("vectorSource",null),{source:s,features:a,condition:o,deleteCondition:l,insertVertexCondition:u,pixelTolerance:h,wrapX:d,hitDetection:f,snapToPointer:A}=Yo(n);function m(){return s!=null&&s.value||a.value||console.error("[Vue3-OpenLayers Error] OlInteractionModify: Modify interactions needs either a source or features to work.\n      Please provide either the props 'source' or 'feature' or use the component with an '<OlSourceVector>' component."),new dQ({source:s.value||(i==null?void 0:i.value),features:a.value,condition:o.value,deleteCondition:l.value,insertVertexCondition:u.value,pixelTolerance:h.value,wrapX:d.value,hitDetection:f.value,snapToPointer:A.value})}let g=m();return Lu(g,["modifystart","modifyend"]),Ct([o,l,u,h,d,f,A],()=>{g.dispose(),r==null||r.removeInteraction(g),g=m(),r==null||r.addInteraction(g),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(g)}),ca(()=>{r==null||r.removeInteraction(g)}),dr("stylable",ge(g)),e({modify:g}),(y,_)=>tt(y.$slots,"default")}}),qEt=Me({inheritAttrs:!1,__name:"OlInteractionPointer",props:{handleEvent:{type:Function},stopDown:{type:Function}},emits:["change","error","propertychange","down","move","up","drag","change:active"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=qt("map"),a=ds(r),o=Cs(new Up({...a,handleDownEvent:l=>(i("down",l),!0),handleDragEvent:l=>(i("drag",l),!0),handleMoveEvent:l=>{i("move",l)},handleUpEvent:l=>(i("up",l),!0)}));return Lu(o,["change:active"]),Ct(o,(l,u)=>{s==null||s.removeInteraction(u),s==null||s.addInteraction(l),s==null||s.changed()}),rr(()=>{s==null||s.addInteraction(o.value)}),ca(()=>{s==null||s.removeInteraction(o.value)}),e({pointer:o}),(l,u)=>tt(l.$slots,"default")}}),XEt=Me({__name:"OlInteractionSnap",props:{features:{},edge:{type:Boolean,default:!0},vertex:{type:Boolean,default:!0},pixelTolerance:{},source:{}},setup(t,{expose:e}){const n=t,r=qt("map"),i=qt("vectorSource"),s=ds(n),a=()=>new Xdt({...s,source:n.source||(i==null?void 0:i.value)});let o=a();return Ct(s,()=>{r==null||r.removeInteraction(o),o=a(),r==null||r.addInteraction(o),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(o)}),ca(()=>{r==null||r.removeInteraction(o)}),e({snap:o}),(l,u)=>tt(l.$slots,"default")}}),YEt=Me({inheritAttrs:!1,__name:"OlInteractionTransform",props:{filter:{},layers:{},features:{},addCondition:{},hitTolerance:{},translateFeature:{type:Boolean,default:!0},translate:{type:Boolean,default:!0},translateBBox:{type:Boolean},stretch:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},noFlip:{type:Boolean},selection:{type:Boolean},keepAspectRatio:{type:Function,default:wS},modifyCenter:{},enableRotatedTransform:{type:Boolean},keepRectangle:{type:Boolean},style:{},pointRadius:{}},emits:["change","error","propertychange","select","rotatestart","rotating","rotateend","translatestart","translating","translateend","scalestart","scaling","scaleend"],setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new ege(i));return Lu(s,["select","rotatestart","rotating","rotateend","translatestart","translating","translateend","scalestart","scaling","scaleend"]),Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),dr("stylable",s),e({transform:s}),(a,o)=>tt(a.$slots,"default")}}),ZEt=Me({__name:"OlInteractionMouseWheelZoom",props:{condition:{},onFocusOnly:{type:Boolean},maxDelta:{},duration:{},timeout:{},useAnchor:{type:Boolean,default:!0},constrainResolution:{type:Boolean}},setup(t,{expose:e}){const n=t,r=qt("map"),i=ds(n),s=J(()=>new dG(i));return Ct(s,(a,o)=>{r==null||r.removeInteraction(o),r==null||r.addInteraction(a),r==null||r.changed()}),rr(()=>{r==null||r.getInteractions().forEach(a=>{a instanceof dG&&(r==null||r.removeInteraction(a))}),r==null||r.addInteraction(s.value)}),ca(()=>{r==null||r.removeInteraction(s.value)}),e({mouseWheelZoom:s}),(a,o)=>tt(a.$slots,"default")}});function JEt(t,e){t.component("OlInteractionClusterselect",GEt),t.component("OlInteractionDragbox",VEt),t.component("OlInteractionDragrotate",zEt),t.component("OlInteractionDragrotatezoom",$Et),t.component("OlInteractionLink",QEt),t.component("OlInteractionSelect",WEt),t.component("OlInteractionDraw",jEt),t.component("OlInteractionModify",KEt),t.component("OlInteractionPointer",qEt),t.component("OlInteractionSnap",XEt),t.component("OlInteractionTransform",YEt),t.component("OlInteractionMouseWheelZoom",ZEt),e&&t.provide("ol-options",e)}function Iw(t,e){const n=qt("map"),r=qt("vectorLayer"),i=ds(e),s=J(()=>new t(i));return dr("animation",s),{map:n,vectorLayer:r,animation:s,properties:i}}const eSt={duration:1e3,revers:!1,repeat:0,easing:Dp};function Pw(t){return{...eSt,...t}}const tSt=Me({__name:"OlAnimationDrop",props:Xh({speed:{},side:{},duration:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw({side:"top",speed:0})),setup(t,{expose:e}){const r=Iw(Jdt,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),nSt=Me({__name:"OlAnimationFade",props:Xh({speed:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(eft,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),rSt=Me({__name:"OlAnimationPath",props:Xh({speed:{},rotate:{type:[Number,Boolean]},path:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(tft,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),iSt=Me({__name:"OlAnimationShake",props:Xh({bounce:{},amplitude:{},horizontal:{type:Boolean},speed:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(nft,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),sSt=Me({__name:"OlAnimationSlide",props:Xh({speed:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(rft,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),aSt=Me({__name:"OlAnimationTeleport",props:Xh({speed:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(ift,t);return e(r),(i,s)=>tt(i.$slots,"default")}}),oSt=Me({__name:"OlAnimationZoom",props:Xh({zoomOut:{type:Boolean},speed:{},duration:{},side:{},revers:{type:Boolean},repeat:{},hiddenStyle:{},horizontal:{type:Boolean},fade:{type:Function},easing:{type:Function}},Pw()),setup(t,{expose:e}){const r=Iw(sft,t);return e(r),(i,s)=>tt(i.$slots,"default")}});function lSt(t,e){t.component("OlAnimationDrop",tSt),t.component("OlAnimationFade",nSt),t.component("OlAnimationPath",rSt),t.component("OlAnimationShake",iSt),t.component("OlAnimationSlide",sSt),t.component("OlAnimationTeleport",aSt),t.component("OlAnimationZoom",oSt),e&&t.provide("ol-options",e)}const cSt=(t,e)=>{t.provide("ol-feature",vs),t.provide("ol-geom",Lct),t.provide("ol-animations",mot),t.provide("ol-format",B0t),t.provide("ol-loadingstrategy",Tct),t.provide("ol-selectconditions",Got),t.provide("ol-extent",eat),e&&t.provide("ol-options",e)},uSt={install:cSt},hSt=(t,e)=>{t.use(Cbt),t.use(Ubt),t.use(rxt),t.use(bEt),t.use(BEt),t.use(HEt),t.use(JEt),t.use(lSt),t.use(uSt.install),t.provide("ol-options",e)},dSt={install:hSt};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JG=function(t,e){return JG=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},JG(t,e)};function Vp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");JG(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var eV=function(){return eV=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eV.apply(this,arguments)};function Ph(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{u(r.next(h))}catch(d){a(d)}}function l(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((r=r.apply(t,[])).next())})}function Ku(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function HI(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Fv=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),OD=function(t,e){return Fv.fromClientRect(t,e.getBoundingClientRect())},fSt=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Fv(0,0,r,i)},ND=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Pl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},pne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ASt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var GI=0;GI<pne.length;GI++)ASt[pne.charCodeAt(GI)]=GI;var gne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var VI=0;VI<gne.length;VI++)lT[gne.charCodeAt(VI)]=VI;var pSt=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=lT[t.charCodeAt(r)],a=lT[t.charCodeAt(r+1)],o=lT[t.charCodeAt(r+2)],l=lT[t.charCodeAt(r+3)],h[i++]=s<<2|a>>4,h[i++]=(a&15)<<4|o>>2,h[i++]=(o&3)<<6|l&63;return u},gSt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},mSt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},k1=5,zQ=11,G3=2,vSt=zQ-k1,qme=65536>>k1,ySt=1<<k1,V3=ySt-1,_St=1024>>k1,wSt=qme+_St,bSt=wSt,xSt=32,ESt=bSt+xSt,SSt=65536>>zQ,CSt=1<<vSt,TSt=CSt-1,mne=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},MSt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},LSt=function(t,e){var n=pSt(t),r=Array.isArray(n)?mSt(n):new Uint32Array(n),i=Array.isArray(n)?gSt(n):new Uint16Array(n),s=24,a=mne(i,s/2,r[4]/2),o=r[5]===2?mne(i,(s+r[4])/2):MSt(r,Math.ceil((s+r[4])/4));return new BSt(r[0],r[1],r[2],r[3],a,o)},BSt=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>k1],n=(n<<G3)+(e&V3),this.data[n];if(e<=65535)return n=this.index[qme+(e-55296>>k1)],n=(n<<G3)+(e&V3),this.data[n];if(e<this.highStart)return n=ESt-SSt+(e>>zQ),n=this.index[n],n+=e>>k1&TSt,n=this.index[n],n=(n<<G3)+(e&V3),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),vne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RSt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zI=0;zI<vne.length;zI++)RSt[vne.charCodeAt(zI)]=zI;var ISt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",yne=50,PSt=1,Xme=2,Yme=3,FSt=4,OSt=5,_ne=7,Zme=8,wne=9,J0=10,tV=11,bne=12,nV=13,NSt=14,cT=15,rV=16,$I=17,F2=18,DSt=19,xne=20,iV=21,O2=22,z3=23,fx=24,uf=25,uT=26,hT=27,Ax=28,kSt=29,r1=30,USt=31,QI=32,WI=33,sV=34,aV=35,oV=36,rL=37,lV=38,CF=39,TF=40,$3=41,Jme=42,HSt=43,GSt=[9001,65288],eve="!",aa="",jI="",cV=LSt(ISt),Ym=[r1,oV],uV=[PSt,Xme,Yme,OSt],tve=[J0,Zme],Ene=[hT,uT],VSt=uV.concat(tve),Sne=[lV,CF,TF,sV,aV],zSt=[cT,nV],$St=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,a){var o=cV.get(s);if(o>yne?(i.push(!0),o-=yne):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),n.push(rV);if(o===FSt||o===tV){if(a===0)return r.push(a),n.push(r1);var l=n[a-1];return VSt.indexOf(l)===-1?(r.push(r[a-1]),n.push(l)):(r.push(a),n.push(r1))}if(r.push(a),o===USt)return n.push(e==="strict"?iV:rL);if(o===Jme||o===kSt)return n.push(r1);if(o===HSt)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(rL):n.push(r1);n.push(o)}),[r,n,i]},Q3=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==J0)break}if(i===J0)for(var s=n;s>0;){s--;var o=r[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==J0)break}if(o!==J0)break}return!1},Cne=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===J0)n--;else return r}return 0},QSt=function(t,e,n,r,i){if(n[r]===0)return aa;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return aa;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,h=e[o];if(l===Xme&&h===Yme)return aa;if(uV.indexOf(l)!==-1)return eve;if(uV.indexOf(h)!==-1||tve.indexOf(h)!==-1)return aa;if(Cne(s,e)===Zme)return jI;if(cV.get(t[s])===tV||(l===QI||l===WI)&&cV.get(t[o])===tV||l===_ne||h===_ne||l===wne||[J0,nV,cT].indexOf(l)===-1&&h===wne||[$I,F2,DSt,fx,Ax].indexOf(h)!==-1||Cne(s,e)===O2||Q3(z3,O2,s,e)||Q3([$I,F2],iV,s,e)||Q3(bne,bne,s,e))return aa;if(l===J0)return jI;if(l===z3||h===z3)return aa;if(h===rV||l===rV)return jI;if([nV,cT,iV].indexOf(h)!==-1||l===NSt||u===oV&&zSt.indexOf(l)!==-1||l===Ax&&h===oV||h===xne||Ym.indexOf(h)!==-1&&l===uf||Ym.indexOf(l)!==-1&&h===uf||l===hT&&[rL,QI,WI].indexOf(h)!==-1||[rL,QI,WI].indexOf(l)!==-1&&h===uT||Ym.indexOf(l)!==-1&&Ene.indexOf(h)!==-1||Ene.indexOf(l)!==-1&&Ym.indexOf(h)!==-1||[hT,uT].indexOf(l)!==-1&&(h===uf||[O2,cT].indexOf(h)!==-1&&e[o+1]===uf)||[O2,cT].indexOf(l)!==-1&&h===uf||l===uf&&[uf,Ax,fx].indexOf(h)!==-1)return aa;if([uf,Ax,fx,$I,F2].indexOf(h)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===uf)return aa;if([Ax,fx].indexOf(f)!==-1)d--;else break}if([hT,uT].indexOf(h)!==-1)for(var d=[$I,F2].indexOf(l)!==-1?a:s;d>=0;){var f=e[d];if(f===uf)return aa;if([Ax,fx].indexOf(f)!==-1)d--;else break}if(lV===l&&[lV,CF,sV,aV].indexOf(h)!==-1||[CF,sV].indexOf(l)!==-1&&[CF,TF].indexOf(h)!==-1||[TF,aV].indexOf(l)!==-1&&h===TF||Sne.indexOf(l)!==-1&&[xne,uT].indexOf(h)!==-1||Sne.indexOf(h)!==-1&&l===hT||Ym.indexOf(l)!==-1&&Ym.indexOf(h)!==-1||l===fx&&Ym.indexOf(h)!==-1||Ym.concat(uf).indexOf(l)!==-1&&h===O2&&GSt.indexOf(t[o])===-1||Ym.concat(uf).indexOf(h)!==-1&&l===F2)return aa;if(l===$3&&h===$3){for(var A=n[s],m=1;A>0&&(A--,e[A]===$3);)m++;if(m%2!==0)return aa}return l===QI&&h===WI?aa:jI},WSt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=$St(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[uf,r1,Jme].indexOf(o)!==-1?rL:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,a]},jSt=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===eve,this.start=r,this.end=i}return t.prototype.slice=function(){return Pl.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),KSt=function(t,e){var n=ND(t),r=WSt(n,e),i=r[0],s=r[1],a=r[2],o=n.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var h=aa;u<o&&(h=QSt(n,s,i,++u,a))===aa;);if(h!==aa||u===o){var d=new jSt(n,h,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},qSt=1,XSt=2,uB=4,Tne=8,vN=10,Mne=47,XT=92,YSt=9,ZSt=32,KI=34,N2=61,JSt=35,eCt=36,tCt=37,qI=39,XI=40,D2=41,nCt=95,Td=45,rCt=33,iCt=60,sCt=62,aCt=64,oCt=91,lCt=93,cCt=61,uCt=123,YI=63,hCt=125,Lne=124,dCt=126,fCt=128,Bne=65533,W3=42,y1=43,ACt=44,pCt=58,gCt=59,iL=46,mCt=0,vCt=8,yCt=11,_Ct=14,wCt=31,bCt=127,Lg=-1,nve=48,rve=97,ive=101,xCt=102,ECt=117,SCt=122,sve=65,ave=69,ove=70,CCt=85,TCt=90,Xu=function(t){return t>=nve&&t<=57},MCt=function(t){return t>=55296&&t<=57343},px=function(t){return Xu(t)||t>=sve&&t<=ove||t>=rve&&t<=xCt},LCt=function(t){return t>=rve&&t<=SCt},BCt=function(t){return t>=sve&&t<=TCt},RCt=function(t){return LCt(t)||BCt(t)},ICt=function(t){return t>=fCt},ZI=function(t){return t===vN||t===YSt||t===ZSt},yN=function(t){return RCt(t)||ICt(t)||t===nCt},Rne=function(t){return yN(t)||Xu(t)||t===Td},PCt=function(t){return t>=mCt&&t<=vCt||t===yCt||t>=_Ct&&t<=wCt||t===bCt},U0=function(t,e){return t!==XT?!1:e!==vN},JI=function(t,e,n){return t===Td?yN(e)||U0(e,n):yN(t)?!0:!!(t===XT&&U0(t,e))},j3=function(t,e,n){return t===y1||t===Td?Xu(e)?!0:e===iL&&Xu(n):Xu(t===iL?e:t)},FCt=function(t){var e=0,n=1;(t[e]===y1||t[e]===Td)&&(t[e]===Td&&(n=-1),e++);for(var r=[];Xu(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Pl.apply(void 0,r),10):0;t[e]===iL&&e++;for(var s=[];Xu(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Pl.apply(void 0,s),10):0;(t[e]===ave||t[e]===ive)&&e++;var l=1;(t[e]===y1||t[e]===Td)&&(t[e]===Td&&(l=-1),e++);for(var u=[];Xu(t[e]);)u.push(t[e++]);var h=u.length?parseInt(Pl.apply(void 0,u),10):0;return n*(i+o*Math.pow(10,-a))*Math.pow(10,l*h)},OCt={type:2},NCt={type:3},DCt={type:4},kCt={type:13},UCt={type:8},HCt={type:21},GCt={type:9},VCt={type:10},zCt={type:11},$Ct={type:12},QCt={type:14},eP={type:23},WCt={type:1},jCt={type:25},KCt={type:24},qCt={type:26},XCt={type:27},YCt={type:28},ZCt={type:29},JCt={type:31},hV={type:32},lve=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ND(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==hV;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case KI:return this.consumeStringToken(KI);case JSt:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Rne(n)||U0(r,i)){var s=JI(n,r,i)?XSt:qSt,a=this.consumeName();return{type:5,value:a,flags:s}}break;case eCt:if(this.peekCodePoint(0)===N2)return this.consumeCodePoint(),kCt;break;case qI:return this.consumeStringToken(qI);case XI:return OCt;case D2:return NCt;case W3:if(this.peekCodePoint(0)===N2)return this.consumeCodePoint(),QCt;break;case y1:if(j3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ACt:return DCt;case Td:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(j3(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(JI(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Td&&u===sCt)return this.consumeCodePoint(),this.consumeCodePoint(),KCt;break;case iL:if(j3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Mne:if(this.peekCodePoint(0)===W3)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===W3&&(h=this.consumeCodePoint(),h===Mne))return this.consumeToken();if(h===Lg)return this.consumeToken()}break;case pCt:return qCt;case gCt:return XCt;case iCt:if(this.peekCodePoint(0)===rCt&&this.peekCodePoint(1)===Td&&this.peekCodePoint(2)===Td)return this.consumeCodePoint(),this.consumeCodePoint(),jCt;break;case aCt:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),A=this.peekCodePoint(2);if(JI(d,f,A)){var a=this.consumeName();return{type:7,value:a}}break;case oCt:return YCt;case XT:if(U0(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case lCt:return ZCt;case cCt:if(this.peekCodePoint(0)===N2)return this.consumeCodePoint(),UCt;break;case uCt:return zCt;case hCt:return $Ct;case ECt:case CCt:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===y1&&(px(g)||g===YI)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Lne:if(this.peekCodePoint(0)===N2)return this.consumeCodePoint(),GCt;if(this.peekCodePoint(0)===Lne)return this.consumeCodePoint(),HCt;break;case dCt:if(this.peekCodePoint(0)===N2)return this.consumeCodePoint(),VCt;break;case Lg:return hV}return ZI(e)?(this.consumeWhiteSpace(),JCt):Xu(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):yN(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Pl(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();px(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===YI&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Pl.apply(void 0,e.map(function(l){return l===YI?nve:l})),16),s=parseInt(Pl.apply(void 0,e.map(function(l){return l===YI?ove:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Pl.apply(void 0,e),16);if(this.peekCodePoint(0)===Td&&px(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];px(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var s=parseInt(Pl.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===XI?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===XI?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lg)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===qI||n===KI){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lg||this.peekCodePoint(0)===D2)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),eP)}for(;;){var i=this.consumeCodePoint();if(i===Lg||i===D2)return{type:22,value:Pl.apply(void 0,e)};if(ZI(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lg||this.peekCodePoint(0)===D2?(this.consumeCodePoint(),{type:22,value:Pl.apply(void 0,e)}):(this.consumeBadUrlRemnants(),eP);if(i===KI||i===qI||i===XI||PCt(i))return this.consumeBadUrlRemnants(),eP;if(i===XT)if(U0(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),eP;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;ZI(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===D2||e===Lg)return;U0(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Pl.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Lg||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===vN)return this._value.splice(0,r),WCt;if(i===XT){var s=this._value[r+1];s!==Lg&&s!==void 0&&(s===vN?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):U0(i,s)&&(n+=this.consumeStringSlice(r),n+=Pl(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=uB,r=this.peekCodePoint(0);for((r===y1||r===Td)&&e.push(this.consumeCodePoint());Xu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===iL&&Xu(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Tne;Xu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===ave||r===ive)&&((i===y1||i===Td)&&Xu(s)||Xu(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Tne;Xu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[FCt(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(JI(i,s,a)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===tCt?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(px(e)){for(var n=Pl(e);px(this.peekCodePoint(0))&&n.length<6;)n+=Pl(this.consumeCodePoint());ZI(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||MCt(r)||r>1114111?Bne:r}return e===Lg?Bne:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(Rne(n))e+=Pl(n);else if(U0(n,this.peekCodePoint(0)))e+=Pl(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),cve=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new lve;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||t2t(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?hV:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),hB=function(t){return t.type===15},dC=function(t){return t.type===17},lo=function(t){return t.type===20},e2t=function(t){return t.type===0},dV=function(t,e){return lo(t)&&t.value===e},uve=function(t){return t.type!==31},BS=function(t){return t.type!==31&&t.type!==4},xm=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},t2t=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ty=function(t){return t.type===17||t.type===15},oc=function(t){return t.type===16||Ty(t)},hve=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},_u={type:17,number:0,flags:uB},$Q={type:16,number:50,flags:uB},ey={type:16,number:100,flags:uB},dT=function(t,e,n){var r=t[0],i=t[1];return[Io(r,e),Io(typeof i<"u"?i:r,n)]},Io=function(t,e){if(t.type===16)return t.number/100*e;if(hB(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},dve="deg",fve="grad",Ave="rad",pve="turn",DD={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case dve:return Math.PI*e.number/180;case fve:return Math.PI/200*e.number;case Ave:return e.number;case pve:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},gve=function(t){return t.type===15&&(t.unit===dve||t.unit===fve||t.unit===Ave||t.unit===pve)},mve=function(t){var e=t.filter(lo).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_u,_u];case"to top":case"bottom":return fA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_u,ey];case"to right":case"left":return fA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ey,ey];case"to bottom":case"top":return fA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ey,_u];case"to left":case"right":return fA(270)}return 0},fA=function(t){return Math.PI*t/180},uy={name:"color",parse:function(t,e){if(e.type===18){var n=n2t[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ty(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ty(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ty(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ty(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=_v[e.value.toUpperCase()];if(typeof o<"u")return o}return _v.TRANSPARENT}},hy=function(t){return(255&t)===0},zc=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},ty=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},Ine=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},Pne=function(t,e){var n=e.filter(BS);if(n.length===3){var r=n.map(Ine),i=r[0],s=r[1],a=r[2];return ty(i,s,a,1)}if(n.length===4){var o=n.map(Ine),i=o[0],s=o[1],a=o[2],l=o[3];return ty(i,s,a,l)}return 0};function K3(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var Fne=function(t,e){var n=e.filter(BS),r=n[0],i=n[1],s=n[2],a=n[3],o=(r.type===17?fA(r.number):DD.parse(t,r))/(Math.PI*2),l=oc(i)?i.number/100:0,u=oc(s)?s.number/100:0,h=typeof a<"u"&&oc(a)?Io(a,1):1;if(l===0)return ty(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,f=u*2-d,A=K3(f,d,o+1/3),m=K3(f,d,o),g=K3(f,d,o-1/3);return ty(A*255,m*255,g*255,h)},n2t={hsl:Fne,hsla:Fne,rgb:Pne,rgba:Pne},YT=function(t,e){return uy.parse(t,cve.create(e).parseComponentValue())},_v={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},r2t={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(lo(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},i2t={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kD=function(t,e){var n=uy.parse(t,e[0]),r=e[1];return r&&oc(r)?{color:n,stop:r}:{color:n,stop:null}},One=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=_u),r.stop===null&&(r.stop=ey);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=Io(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var h=i[a];if(h===null)u===null&&(u=a);else if(u!==null){for(var d=a-u,f=i[u-1],A=(h-f)/(d+1),m=1;m<=d;m++)i[u+m-1]=A*m;u=null}}return t.map(function(g,y){var _=g.color;return{color:_,stop:Math.max(Math.min(1,i[y]/e),0)}})},s2t=function(t,e,n){var r=e/2,i=n/2,s=Io(t[0],e)-r,a=i-Io(t[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},a2t=function(t,e,n){var r=typeof t=="number"?t:s2t(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,a=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-l,a+l]},JA=function(t,e){return Math.sqrt(t*t+e*e)},Nne=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],h=JA(n-l,r-u);return(i?h<a.optimumDistance:h>a.optimumDistance)?{optimumCorner:o,optimumDistance:h}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},o2t=function(t,e,n,r,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=a=Math.min(JA(e,n),JA(e,n-i),JA(e-r,n),JA(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=Nne(r,i,e,n,!0),u=l[0],h=l[1];s=JA(u-e,(h-n)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=a=Math.max(JA(e,n),JA(e,n-i),JA(e-r,n),JA(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),d=Nne(r,i,e,n,!1),u=d[0],h=d[1];s=JA(u-e,(h-n)/o),a=o*s}break}return Array.isArray(t.size)&&(s=Io(t.size[0],r),a=t.size.length===2?Io(t.size[1],i):s),[s,a]},l2t=function(t,e){var n=fA(180),r=[];return xm(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){n=mve(i);return}else if(gve(a)){n=DD.parse(t,a);return}}var o=kD(t,i);r.push(o)}),{angle:n,stops:r,type:1}},tP=function(t,e){var n=fA(180),r=[];return xm(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=mve(i);return}else if(gve(a)){n=(DD.parse(t,a)+fA(270))%fA(360);return}}var o=kD(t,i);r.push(o)}),{angle:n,stops:r,type:1}},c2t=function(t,e){var n=fA(180),r=[],i=1,s=0,a=3,o=[];return xm(e).forEach(function(l,u){var h=l[0];if(u===0){if(lo(h)&&h.value==="linear"){i=1;return}else if(lo(h)&&h.value==="radial"){i=2;return}}if(h.type===18){if(h.name==="from"){var d=uy.parse(t,h.values[0]);r.push({stop:_u,color:d})}else if(h.name==="to"){var d=uy.parse(t,h.values[0]);r.push({stop:ey,color:d})}else if(h.name==="color-stop"){var f=h.values.filter(BS);if(f.length===2){var d=uy.parse(t,f[1]),A=f[0];dC(A)&&r.push({stop:{type:16,number:A.number*100,flags:A.flags},color:d})}}}}),i===1?{angle:(n+fA(180))%fA(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},vve="closest-side",yve="farthest-side",_ve="closest-corner",wve="farthest-corner",bve="circle",xve="ellipse",Eve="cover",Sve="contain",u2t=function(t,e){var n=0,r=3,i=[],s=[];return xm(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(d,f){if(u)if(lo(f))switch(f.value){case"center":return s.push($Q),d;case"top":case"left":return s.push(_u),d;case"right":case"bottom":return s.push(ey),d}else(oc(f)||Ty(f))&&s.push(f);else if(lo(f))switch(f.value){case bve:return n=0,!1;case xve:return n=1,!1;case"at":return u=!0,!1;case vve:return r=0,!1;case Eve:case yve:return r=1,!1;case Sve:case _ve:return r=2,!1;case wve:return r=3,!1}else if(Ty(f)||oc(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)}if(l){var h=kD(t,a);i.push(h)}}),{size:r,shape:n,stops:i,position:s,type:2}},nP=function(t,e){var n=0,r=3,i=[],s=[];return xm(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(h,d){if(lo(d))switch(d.value){case"center":return s.push($Q),!1;case"top":case"left":return s.push(_u),!1;case"right":case"bottom":return s.push(ey),!1}else if(oc(d)||Ty(d))return s.push(d),!1;return h},l):o===1&&(l=a.reduce(function(h,d){if(lo(d))switch(d.value){case bve:return n=0,!1;case xve:return n=1,!1;case Sve:case vve:return r=0,!1;case yve:return r=1,!1;case _ve:return r=2,!1;case Eve:case wve:return r=3,!1}else if(Ty(d)||oc(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return h},l)),l){var u=kD(t,a);i.push(u)}}),{size:r,shape:n,stops:i,position:s,type:2}},h2t=function(t){return t.type===1},d2t=function(t){return t.type===2},QQ={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=Cve[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function f2t(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Cve[t.name])}var Cve={"linear-gradient":l2t,"-moz-linear-gradient":tP,"-ms-linear-gradient":tP,"-o-linear-gradient":tP,"-webkit-linear-gradient":tP,"radial-gradient":u2t,"-moz-radial-gradient":nP,"-ms-radial-gradient":nP,"-o-radial-gradient":nP,"-webkit-radial-gradient":nP,"-webkit-gradient":c2t},A2t={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return BS(r)&&f2t(r)}).map(function(r){return QQ.parse(t,r)})}},p2t={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(lo(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},g2t={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return xm(e).map(function(n){return n.filter(oc)}).map(hve)}},m2t={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return xm(e).map(function(n){return n.filter(lo).map(function(r){return r.value}).join(" ")}).map(v2t)}},v2t=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},kE;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(kE||(kE={}));var y2t={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return xm(e).map(function(n){return n.filter(_2t)})}},_2t=function(t){return lo(t)||oc(t)},UD=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},w2t=UD("top"),b2t=UD("right"),x2t=UD("bottom"),E2t=UD("left"),HD=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return hve(n.filter(oc))}}},S2t=HD("top-left"),C2t=HD("top-right"),T2t=HD("bottom-right"),M2t=HD("bottom-left"),GD=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},L2t=GD("top"),B2t=GD("right"),R2t=GD("bottom"),I2t=GD("left"),VD=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return hB(n)?n.number:0}}},P2t=VD("top"),F2t=VD("right"),O2t=VD("bottom"),N2t=VD("left"),D2t={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},k2t={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},U2t={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(lo).reduce(function(n,r){return n|H2t(r.value)},0)}},H2t=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},G2t={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},V2t={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},_N;(function(t){t.NORMAL="normal",t.STRICT="strict"})(_N||(_N={}));var z2t={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return _N.STRICT;case"normal":default:return _N.NORMAL}}},$2t={name:"line-height",initialValue:"normal",prefix:!1,type:4},Dne=function(t,e){return lo(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:oc(t)?Io(t,e):e},Q2t={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:QQ.parse(t,e)}},W2t={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},fV={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},zD=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},j2t=zD("top"),K2t=zD("right"),q2t=zD("bottom"),X2t=zD("left"),Y2t={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(lo).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Z2t={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},$D=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},J2t=$D("top"),eTt=$D("right"),tTt=$D("bottom"),nTt=$D("left"),rTt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},iTt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sTt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&dV(e[0],"none")?[]:xm(e).map(function(n){for(var r={color:_v.TRANSPARENT,offsetX:_u,offsetY:_u,blur:_u},i=0,s=0;s<n.length;s++){var a=n[s];Ty(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=uy.parse(t,a)}return r})}},aTt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},oTt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=uTt[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},lTt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},cTt=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,s,a,o]:null},uTt={matrix:lTt,matrix3d:cTt},kne={type:16,number:50,flags:uB},hTt=[kne,kne],dTt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(oc);return n.length!==2?hTt:[n[0],n[1]]}},fTt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ZT;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ZT||(ZT={}));var ATt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ZT.BREAK_ALL;case"keep-all":return ZT.KEEP_ALL;case"normal":default:return ZT.NORMAL}}},pTt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(dC(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Tve={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},gTt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return dC(e)?e.number:1}},mTt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vTt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(lo).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},yTt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},_Tt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wTt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(dC(e))return e.number;if(lo(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},bTt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(lo).map(function(n){return n.value})}},xTt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bc=function(t,e){return(t&e)!==0},ETt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},STt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(uve),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&dC(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},CTt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(uve),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(lo(s)&&s.value!=="none"){var o=a&&dC(a)?a.number:0;n.push({counter:s.value,reset:o})}}return n}},TTt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(hB).map(function(n){return Tve.parse(t,n)})}},MTt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(e2t);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},Une=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},LTt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&dV(e[0],"none")?[]:xm(e).map(function(n){for(var r={color:255,offsetX:_u,offsetY:_u,blur:_u,spread:_u,inset:!1},i=0,s=0;s<n.length;s++){var a=n[s];dV(a,"inset")?r.inset=!0:Ty(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=uy.parse(t,a)}return r})}},BTt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(lo).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},RTt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ITt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return hB(e)?e.number:0}},PTt=function(){function t(e,n){var r,i;this.animationDuration=ei(e,TTt,n.animationDuration),this.backgroundClip=ei(e,r2t,n.backgroundClip),this.backgroundColor=ei(e,i2t,n.backgroundColor),this.backgroundImage=ei(e,A2t,n.backgroundImage),this.backgroundOrigin=ei(e,p2t,n.backgroundOrigin),this.backgroundPosition=ei(e,g2t,n.backgroundPosition),this.backgroundRepeat=ei(e,m2t,n.backgroundRepeat),this.backgroundSize=ei(e,y2t,n.backgroundSize),this.borderTopColor=ei(e,w2t,n.borderTopColor),this.borderRightColor=ei(e,b2t,n.borderRightColor),this.borderBottomColor=ei(e,x2t,n.borderBottomColor),this.borderLeftColor=ei(e,E2t,n.borderLeftColor),this.borderTopLeftRadius=ei(e,S2t,n.borderTopLeftRadius),this.borderTopRightRadius=ei(e,C2t,n.borderTopRightRadius),this.borderBottomRightRadius=ei(e,T2t,n.borderBottomRightRadius),this.borderBottomLeftRadius=ei(e,M2t,n.borderBottomLeftRadius),this.borderTopStyle=ei(e,L2t,n.borderTopStyle),this.borderRightStyle=ei(e,B2t,n.borderRightStyle),this.borderBottomStyle=ei(e,R2t,n.borderBottomStyle),this.borderLeftStyle=ei(e,I2t,n.borderLeftStyle),this.borderTopWidth=ei(e,P2t,n.borderTopWidth),this.borderRightWidth=ei(e,F2t,n.borderRightWidth),this.borderBottomWidth=ei(e,O2t,n.borderBottomWidth),this.borderLeftWidth=ei(e,N2t,n.borderLeftWidth),this.boxShadow=ei(e,LTt,n.boxShadow),this.color=ei(e,D2t,n.color),this.direction=ei(e,k2t,n.direction),this.display=ei(e,U2t,n.display),this.float=ei(e,G2t,n.cssFloat),this.fontFamily=ei(e,yTt,n.fontFamily),this.fontSize=ei(e,_Tt,n.fontSize),this.fontStyle=ei(e,xTt,n.fontStyle),this.fontVariant=ei(e,bTt,n.fontVariant),this.fontWeight=ei(e,wTt,n.fontWeight),this.letterSpacing=ei(e,V2t,n.letterSpacing),this.lineBreak=ei(e,z2t,n.lineBreak),this.lineHeight=ei(e,$2t,n.lineHeight),this.listStyleImage=ei(e,Q2t,n.listStyleImage),this.listStylePosition=ei(e,W2t,n.listStylePosition),this.listStyleType=ei(e,fV,n.listStyleType),this.marginTop=ei(e,j2t,n.marginTop),this.marginRight=ei(e,K2t,n.marginRight),this.marginBottom=ei(e,q2t,n.marginBottom),this.marginLeft=ei(e,X2t,n.marginLeft),this.opacity=ei(e,gTt,n.opacity);var s=ei(e,Y2t,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ei(e,Z2t,n.overflowWrap),this.paddingTop=ei(e,J2t,n.paddingTop),this.paddingRight=ei(e,eTt,n.paddingRight),this.paddingBottom=ei(e,tTt,n.paddingBottom),this.paddingLeft=ei(e,nTt,n.paddingLeft),this.paintOrder=ei(e,BTt,n.paintOrder),this.position=ei(e,iTt,n.position),this.textAlign=ei(e,rTt,n.textAlign),this.textDecorationColor=ei(e,mTt,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ei(e,vTt,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=ei(e,sTt,n.textShadow),this.textTransform=ei(e,aTt,n.textTransform),this.transform=ei(e,oTt,n.transform),this.transformOrigin=ei(e,dTt,n.transformOrigin),this.visibility=ei(e,fTt,n.visibility),this.webkitTextStrokeColor=ei(e,RTt,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ei(e,ITt,n.webkitTextStrokeWidth),this.wordBreak=ei(e,ATt,n.wordBreak),this.zIndex=ei(e,pTt,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return hy(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return bc(this.display,4)||bc(this.display,33554432)||bc(this.display,268435456)||bc(this.display,536870912)||bc(this.display,67108864)||bc(this.display,134217728)},t}(),FTt=function(){function t(e,n){this.content=ei(e,ETt,n.content),this.quotes=ei(e,MTt,n.quotes)}return t}(),Hne=function(){function t(e,n){this.counterIncrement=ei(e,STt,n.counterIncrement),this.counterReset=ei(e,CTt,n.counterReset)}return t}(),ei=function(t,e,n){var r=new lve,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new cve(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,lo(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return DD.parse(t,s.parseComponentValue());case"color":return uy.parse(t,s.parseComponentValue());case"image":return QQ.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Ty(o)?o:_u;case"length-percentage":var l=s.parseComponentValue();return oc(l)?l:_u;case"time":return Tve.parse(t,s.parseComponentValue())}break}},OTt="data-html2canvas-debug",NTt=function(t){var e=t.getAttribute(OTt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},AV=function(t,e){var n=NTt(t);return n===1||e===n},Em=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,AV(n,3))debugger;this.styles=new PTt(e,window.getComputedStyle(n,null)),mV(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=OD(this.context,n),AV(n,4)&&(this.flags|=16)}return t}(),DTt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Gne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rP=0;rP<Gne.length;rP++)fT[Gne.charCodeAt(rP)]=rP;var kTt=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=fT[t.charCodeAt(r)],a=fT[t.charCodeAt(r+1)],o=fT[t.charCodeAt(r+2)],l=fT[t.charCodeAt(r+3)],h[i++]=s<<2|a>>4,h[i++]=(a&15)<<4|o>>2,h[i++]=(o&3)<<6|l&63;return u},UTt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},HTt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},U1=5,WQ=11,q3=2,GTt=WQ-U1,Mve=65536>>U1,VTt=1<<U1,X3=VTt-1,zTt=1024>>U1,$Tt=Mve+zTt,QTt=$Tt,WTt=32,jTt=QTt+WTt,KTt=65536>>WQ,qTt=1<<GTt,XTt=qTt-1,Vne=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},YTt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},ZTt=function(t,e){var n=kTt(t),r=Array.isArray(n)?HTt(n):new Uint32Array(n),i=Array.isArray(n)?UTt(n):new Uint16Array(n),s=24,a=Vne(i,s/2,r[4]/2),o=r[5]===2?Vne(i,(s+r[4])/2):YTt(r,Math.ceil((s+r[4])/4));return new JTt(r[0],r[1],r[2],r[3],a,o)},JTt=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>U1],n=(n<<q3)+(e&X3),this.data[n];if(e<=65535)return n=this.index[Mve+(e-55296>>U1)],n=(n<<q3)+(e&X3),this.data[n];if(e<this.highStart)return n=jTt-KTt+(e>>WQ),n=this.index[n],n+=e>>U1&XTt,n=this.index[n],n=(n<<q3)+(e&X3),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),zne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eMt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iP=0;iP<zne.length;iP++)eMt[zne.charCodeAt(iP)]=iP;var tMt=1,Y3=2,Z3=3,$ne=4,Qne=5,nMt=7,Wne=8,J3=9,e6=10,jne=11,Kne=12,qne=13,Xne=14,t6=15,rMt=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},iMt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},sMt=ZTt(DTt),Jf="",n6="",aMt=function(t){return sMt.get(t)},oMt=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],a=e[n];if(s===Y3&&a===Z3)return Jf;if(s===Y3||s===Z3||s===$ne||a===Y3||a===Z3||a===$ne)return n6;if(s===Wne&&[Wne,J3,jne,Kne].indexOf(a)!==-1||(s===jne||s===J3)&&(a===J3||a===e6)||(s===Kne||s===e6)&&a===e6||a===qne||a===Qne||a===nMt||s===tMt)return Jf;if(s===qne&&a===Xne){for(;i===Qne;)i=e[--r];if(i===Xne)return Jf}if(s===t6&&a===t6){for(var o=0;i===t6;)o++,i=e[--r];if(o%2===0)return Jf}return n6},lMt=function(t){var e=rMt(t),n=e.length,r=0,i=0,s=e.map(aMt);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=Jf;r<n&&(a=oMt(e,s,++r))===Jf;);if(a!==Jf||r===n){var o=iMt.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},cMt=function(t){for(var e=lMt(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},uMt=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},hMt=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=ND(r.data).map(function(l){return Pl(l)}),s=0,a={},o=i.every(function(l,u){n.setStart(r,s),n.setEnd(r,s+l.length);var h=n.getBoundingClientRect();s+=l.length;var d=h.x>a.x||h.y>a.y;return a=h,u===0?!0:d});return t.body.removeChild(e),o},dMt=function(){return typeof new Image().crossOrigin<"u"},fMt=function(){return typeof new XMLHttpRequest().responseType=="string"},AMt=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(i){return!1}return!0},Yne=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},pMt=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var a=pV(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Zne(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=n+"px",Yne(l)?Zne(pV(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),Yne(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},pV=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},Zne=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pu={get SUPPORT_RANGE_BOUNDS(){var t=uMt(document);return Object.defineProperty(pu,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=pu.SUPPORT_RANGE_BOUNDS&&hMt(document);return Object.defineProperty(pu,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=AMt(document);return Object.defineProperty(pu,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?pMt(document):Promise.resolve(!1);return Object.defineProperty(pu,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=dMt();return Object.defineProperty(pu,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=fMt();return Object.defineProperty(pu,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pu,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pu,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},JT=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),gMt=function(t,e,n,r){var i=yMt(e,n),s=[],a=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(pu.SUPPORT_RANGE_BOUNDS){var l=Jne(r,a,o.length).getClientRects();if(l.length>1){var u=jQ(o),h=0;u.forEach(function(f){s.push(new JT(f,Fv.fromDOMRectList(t,Jne(r,h+a,f.length).getClientRects()))),h+=f.length})}else s.push(new JT(o,Fv.fromDOMRectList(t,l)))}else{var d=r.splitText(o.length);s.push(new JT(o,mMt(t,r))),r=d}else pu.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},mMt=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=OD(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Fv.EMPTY},Jne=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},jQ=function(t){if(pu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return cMt(t)},vMt=function(t,e){if(pu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return wMt(t,e)},yMt=function(t,e){return e.letterSpacing!==0?jQ(t):vMt(t,e)},_Mt=[32,160,4961,65792,65793,4153,4241],wMt=function(t,e){for(var n=KSt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=ND(a),l="";o.forEach(function(u){_Mt.indexOf(u)===-1?l+=Pl(u):(l.length&&r.push(l),r.push(Pl(u)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},bMt=function(){function t(e,n,r){this.text=xMt(n.data,r.textTransform),this.textBounds=gMt(e,this.text,r,n)}return t}(),xMt=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(EMt,SMt);case 2:return t.toUpperCase();default:return t}},EMt=/(^|\s|:|-|\(|\))([a-z])/g,SMt=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Lve=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Em),Bve=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Em),Rve=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,a=OD(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Em),Ive=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Em),gV=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Em),CMt=[{type:15,flags:0,unit:"px",number:3}],TMt=[{type:16,flags:0,number:50}],MMt=function(t){return t.width>t.height?new Fv(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Fv(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},LMt=function(t){var e=t.type===BMt?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},wN="checkbox",bN="radio",BMt="password",ere=707406591,KQ=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=LMt(r),(i.type===wN||i.type===bN)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=MMt(i.bounds)),i.type){case wN:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=CMt;break;case bN:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=TMt;break}return i}return e}(Em),Pve=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Em),Fve=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Em),Ove=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Dve(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?YT(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):_v.TRANSPARENT,a=r.contentWindow.document.body?YT(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):_v.TRANSPARENT;i.backgroundColor=hy(s)?hy(a)?i.styles.backgroundColor:a:s}}catch(o){}return i}return e}(Em),RMt=["OL","UL","MENU"],MF=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,kve(i)&&i.data.trim().length>0)n.textNodes.push(new bMt(t,i,n.styles));else if(aE(i))if(Vve(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return MF(t,o,n,r)});else{var a=Nve(t,i);a.styles.isVisible()&&(IMt(i,a,r)?a.flags|=4:PMt(a.styles)&&(a.flags|=2),RMt.indexOf(i.tagName)!==-1&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?MF(t,i.shadowRoot,a,r):!xN(i)&&!Uve(i)&&!EN(i)&&MF(t,i,a,r))}},Nve=function(t,e){return vV(e)?new Lve(t,e):Hve(e)?new Bve(t,e):Uve(e)?new Rve(t,e):FMt(e)?new Ive(t,e):OMt(e)?new gV(t,e):NMt(e)?new KQ(t,e):EN(e)?new Pve(t,e):xN(e)?new Fve(t,e):Gve(e)?new Ove(t,e):new Em(t,e)},Dve=function(t,e){var n=Nve(t,e);return n.flags|=4,MF(t,e,n,n),n},IMt=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||qQ(t)&&n.styles.isTransparent()},PMt=function(t){return t.isPositioned()||t.isFloating()},kve=function(t){return t.nodeType===Node.TEXT_NODE},aE=function(t){return t.nodeType===Node.ELEMENT_NODE},mV=function(t){return aE(t)&&typeof t.style<"u"&&!LF(t)},LF=function(t){return typeof t.className=="object"},FMt=function(t){return t.tagName==="LI"},OMt=function(t){return t.tagName==="OL"},NMt=function(t){return t.tagName==="INPUT"},DMt=function(t){return t.tagName==="HTML"},Uve=function(t){return t.tagName==="svg"},qQ=function(t){return t.tagName==="BODY"},Hve=function(t){return t.tagName==="CANVAS"},tre=function(t){return t.tagName==="VIDEO"},vV=function(t){return t.tagName==="IMG"},Gve=function(t){return t.tagName==="IFRAME"},nre=function(t){return t.tagName==="STYLE"},kMt=function(t){return t.tagName==="SCRIPT"},xN=function(t){return t.tagName==="TEXTAREA"},EN=function(t){return t.tagName==="SELECT"},Vve=function(t){return t.tagName==="SLOT"},rre=function(t){return t.tagName.indexOf("-")>0},UMt=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=n.counters[o.counter];a.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),a},t}(),ire={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},sre={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HMt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GMt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gx=function(t,e,n,r,i,s){return t<e||t>n?sL(t,i,s.length>0):r.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=r.values[l];return a},"")+s},zve=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Rl=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(zve(Math.abs(t),s,r,function(a){return Pl(Math.floor(a%s)+e)})+i)},U_=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return zve(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},Ux=1,I0=2,P0=4,AT=8,Zm=function(t,e,n,r,i,s){if(t<-9999||t>9999)return sL(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&bc(s,Ux)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&bc(s,I0)||u===1&&l===1&&bc(s,P0)&&t>100||u===1&&l>1&&bc(s,AT)?o=e[u]+(l>0?n[l-1]:"")+o:u===1&&l>0&&(o=n[l-1]+o),a=Math.floor(a/10)}return(t<0?r:"")+o},are="",ore="",lre="",r6="",sL=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Rl(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return U_(t,"",i);case 6:return gx(t,1,3999,ire,3,r).toLowerCase();case 7:return gx(t,1,3999,ire,3,r);case 8:return Rl(t,945,969,!1,r);case 9:return Rl(t,97,122,!1,r);case 10:return Rl(t,65,90,!1,r);case 11:return Rl(t,1632,1641,!0,r);case 12:case 49:return gx(t,1,9999,sre,3,r);case 35:return gx(t,1,9999,sre,3,r).toLowerCase();case 13:return Rl(t,2534,2543,!0,r);case 14:case 30:return Rl(t,6112,6121,!0,r);case 15:return U_(t,"",i);case 16:return U_(t,"",i);case 17:case 48:return Zm(t,"",are,"",i,I0|P0|AT);case 47:return Zm(t,"",ore,"",i,Ux|I0|P0|AT);case 42:return Zm(t,"",are,"",i,I0|P0|AT);case 41:return Zm(t,"",ore,"",i,Ux|I0|P0|AT);case 26:return Zm(t,"","",lre,i,0);case 25:return Zm(t,"","",lre,i,Ux|I0|P0);case 31:return Zm(t,"","",r6,s,Ux|I0|P0);case 33:return Zm(t,"","",r6,s,0);case 32:return Zm(t,"","",r6,s,Ux|I0|P0);case 18:return Rl(t,2406,2415,!0,r);case 20:return gx(t,1,19999,GMt,3,r);case 21:return Rl(t,2790,2799,!0,r);case 22:return Rl(t,2662,2671,!0,r);case 22:return gx(t,1,10999,HMt,3,r);case 23:return U_(t,"");case 24:return U_(t,"");case 27:return Rl(t,3302,3311,!0,r);case 28:return U_(t,"",i);case 29:return U_(t,"",i);case 34:return Rl(t,3792,3801,!0,r);case 37:return Rl(t,6160,6169,!0,r);case 38:return Rl(t,4160,4169,!0,r);case 39:return Rl(t,2918,2927,!0,r);case 40:return Rl(t,1776,1785,!0,r);case 43:return Rl(t,3046,3055,!0,r);case 44:return Rl(t,3174,3183,!0,r);case 45:return Rl(t,3664,3673,!0,r);case 46:return Rl(t,3872,3881,!0,r);case 3:default:return Rl(t,48,57,!0,r)}},$ve="data-html2canvas-ignore",cre=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new UMt,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=VMt(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=QMt(i).then(function(){return Ph(r,void 0,void 0,function(){var h,d;return Ku(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(qMt),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),h=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$Mt(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(jMt(document.doctype)+"<html></html>"),KMt(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(AV(e,2))debugger;if(Hve(e))return this.createCanvasClone(e);if(tre(e))return this.createVideoClone(e);if(nre(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return vV(n)&&(vV(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),rre(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return i6(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(u){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch(u){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch(s){this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!aE(n)||!kMt(n)&&!n.hasAttribute($ve)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!aE(n)||!nre(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(aE(s)&&Vve(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(kve(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&aE(e)&&(mV(e)||LF(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&mV(i)&&(this.clonedReferenceElement=i),qQ(i)&&ZMt(i);var l=this.counters.parse(new Hne(this.context,s)),u=this.resolvePseudoContent(e,i,a,eM.BEFORE);rre(e)&&(n=!0),tre(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var h=this.resolvePseudoContent(e,i,o,eM.AFTER);return h&&i.appendChild(h),this.counters.pop(l),(s&&(this.options.copyStyles||LF(e))&&!Gve(e)||n)&&i6(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(xN(e)||EN(e))&&(xN(i)||EN(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var a=r.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Hne(this.context,r));var l=new FTt(this.context,r),u=o.createElement("html2canvaspseudoelement");i6(r,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",u.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var A=d.values.filter(lo);A.length&&u.appendChild(o.createTextNode(e.getAttribute(A[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(BS),g=m[0],y=m[1];if(g&&lo(g)){var _=s.counters.getCounterValue(g.value),x=y&&lo(y)?fV.parse(s.context,y.value):3;u.appendChild(o.createTextNode(sL(_,x,!1)))}}else if(d.name==="counters"){var S=d.values.filter(BS),g=S[0],C=S[1],y=S[2];if(g&&lo(g)){var M=s.counters.getCounterValues(g.value),B=y&&lo(y)?fV.parse(s.context,y.value):3,E=C&&C.type===0?C.value:"",L=M.map(function(O){return sL(O,B,!1)}).join(E);u.appendChild(o.createTextNode(L))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(o.createTextNode(Une(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(Une(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(d.value))}}),u.className=yV+" "+_V;var h=i===eM.BEFORE?" "+yV:" "+_V;return LF(n)?n.className.baseValue+=h:n.className+=h,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),eM;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(eM||(eM={}));var VMt=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute($ve,"true"),t.body.appendChild(n),n},zMt=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},$Mt=function(t){return Promise.all([].slice.call(t.images,0).map(zMt))},QMt=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},WMt=["all","d","content"],i6=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);WMt.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},jMt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},KMt=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},qMt=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},XMt=":before",YMt=":after",yV="___html2canvas___pseudoelement_before",_V="___html2canvas___pseudoelement_after",ure='{\n    content: "" !important;\n    display: none !important;\n}',ZMt=function(t){JMt(t,"."+yV+XMt+ure+"\n         ."+_V+YMt+ure)},JMt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Qve=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),eLt=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(a6(e)||iLt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ph(this,void 0,void 0,function(){var n,r,i,s,a=this;return Ku(this,function(o){switch(o.label){case 0:return n=Qve.isSameOrigin(e),r=!s6(e)&&this._options.useCORS===!0&&pu.SUPPORT_CORS_IMAGES&&!n,i=!s6(e)&&!n&&!a6(e)&&typeof this._options.proxy=="string"&&pu.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!s6(e)&&!a6(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var h=new Image;h.onload=function(){return l(h)},h.onerror=u,(sLt(s)||r)&&(h.crossOrigin="anonymous"),h.src=s,h.complete===!0&&setTimeout(function(){return l(h)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=pu.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var h=n._options.imageTimeout;l.timeout=h,l.ontimeout=function(){return a("Timed out ("+h+"ms) proxying "+i)}}l.send()})},t}(),tLt=/^data:image\/svg\+xml/i,nLt=/^data:image\/.*;base64,/i,rLt=/^data:image\/.*/i,iLt=function(t){return pu.SUPPORT_SVG_DRAWING||!aLt(t)},s6=function(t){return rLt.test(t)},sLt=function(t){return nLt.test(t)},a6=function(t){return t.substr(0,4)==="blob"},aLt=function(t){return t.substr(-3).toLowerCase()==="svg"||tLt.test(t)},Wr=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),mx=function(t,e,n){return new Wr(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},sP=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=mx(this.start,this.startControl,e),i=mx(this.startControl,this.endControl,e),s=mx(this.endControl,this.end,e),a=mx(r,i,e),o=mx(i,s,e),l=mx(a,o,e);return n?new t(this.start,r,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),rA=function(t){return t.type===1},oLt=function(){function t(e){var n=e.styles,r=e.bounds,i=dT(n.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=dT(n.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],h=dT(n.borderBottomRightRadius,r.width,r.height),d=h[0],f=h[1],A=dT(n.borderBottomLeftRadius,r.width,r.height),m=A[0],g=A[1],y=[];y.push((s+l)/r.width),y.push((m+d)/r.width),y.push((a+g)/r.height),y.push((u+f)/r.height);var _=Math.max.apply(Math,y);_>1&&(s/=_,a/=_,l/=_,u/=_,d/=_,f/=_,m/=_,g/=_);var x=r.width-l,S=r.height-f,C=r.width-d,M=r.height-g,B=n.borderTopWidth,E=n.borderRightWidth,L=n.borderBottomWidth,I=n.borderLeftWidth,k=Io(n.paddingTop,e.bounds.width),O=Io(n.paddingRight,e.bounds.width),F=Io(n.paddingBottom,e.bounds.width),U=Io(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Qo(r.left+I/3,r.top+B/3,s-I/3,a-B/3,$a.TOP_LEFT):new Wr(r.left+I/3,r.top+B/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Qo(r.left+x,r.top+B/3,l-E/3,u-B/3,$a.TOP_RIGHT):new Wr(r.left+r.width-E/3,r.top+B/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?Qo(r.left+C,r.top+S,d-E/3,f-L/3,$a.BOTTOM_RIGHT):new Wr(r.left+r.width-E/3,r.top+r.height-L/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?Qo(r.left+I/3,r.top+M,m-I/3,g-L/3,$a.BOTTOM_LEFT):new Wr(r.left+I/3,r.top+r.height-L/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Qo(r.left+I*2/3,r.top+B*2/3,s-I*2/3,a-B*2/3,$a.TOP_LEFT):new Wr(r.left+I*2/3,r.top+B*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Qo(r.left+x,r.top+B*2/3,l-E*2/3,u-B*2/3,$a.TOP_RIGHT):new Wr(r.left+r.width-E*2/3,r.top+B*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?Qo(r.left+C,r.top+S,d-E*2/3,f-L*2/3,$a.BOTTOM_RIGHT):new Wr(r.left+r.width-E*2/3,r.top+r.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?Qo(r.left+I*2/3,r.top+M,m-I*2/3,g-L*2/3,$a.BOTTOM_LEFT):new Wr(r.left+I*2/3,r.top+r.height-L*2/3),this.topLeftBorderStroke=s>0||a>0?Qo(r.left+I/2,r.top+B/2,s-I/2,a-B/2,$a.TOP_LEFT):new Wr(r.left+I/2,r.top+B/2),this.topRightBorderStroke=s>0||a>0?Qo(r.left+x,r.top+B/2,l-E/2,u-B/2,$a.TOP_RIGHT):new Wr(r.left+r.width-E/2,r.top+B/2),this.bottomRightBorderStroke=d>0||f>0?Qo(r.left+C,r.top+S,d-E/2,f-L/2,$a.BOTTOM_RIGHT):new Wr(r.left+r.width-E/2,r.top+r.height-L/2),this.bottomLeftBorderStroke=m>0||g>0?Qo(r.left+I/2,r.top+M,m-I/2,g-L/2,$a.BOTTOM_LEFT):new Wr(r.left+I/2,r.top+r.height-L/2),this.topLeftBorderBox=s>0||a>0?Qo(r.left,r.top,s,a,$a.TOP_LEFT):new Wr(r.left,r.top),this.topRightBorderBox=l>0||u>0?Qo(r.left+x,r.top,l,u,$a.TOP_RIGHT):new Wr(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||f>0?Qo(r.left+C,r.top+S,d,f,$a.BOTTOM_RIGHT):new Wr(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||g>0?Qo(r.left,r.top+M,m,g,$a.BOTTOM_LEFT):new Wr(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?Qo(r.left+I,r.top+B,Math.max(0,s-I),Math.max(0,a-B),$a.TOP_LEFT):new Wr(r.left+I,r.top+B),this.topRightPaddingBox=l>0||u>0?Qo(r.left+Math.min(x,r.width-E),r.top+B,x>r.width+E?0:Math.max(0,l-E),Math.max(0,u-B),$a.TOP_RIGHT):new Wr(r.left+r.width-E,r.top+B),this.bottomRightPaddingBox=d>0||f>0?Qo(r.left+Math.min(C,r.width-I),r.top+Math.min(S,r.height-L),Math.max(0,d-E),Math.max(0,f-L),$a.BOTTOM_RIGHT):new Wr(r.left+r.width-E,r.top+r.height-L),this.bottomLeftPaddingBox=m>0||g>0?Qo(r.left+I,r.top+Math.min(M,r.height-L),Math.max(0,m-I),Math.max(0,g-L),$a.BOTTOM_LEFT):new Wr(r.left+I,r.top+r.height-L),this.topLeftContentBox=s>0||a>0?Qo(r.left+I+U,r.top+B+k,Math.max(0,s-(I+U)),Math.max(0,a-(B+k)),$a.TOP_LEFT):new Wr(r.left+I+U,r.top+B+k),this.topRightContentBox=l>0||u>0?Qo(r.left+Math.min(x,r.width+I+U),r.top+B+k,x>r.width+I+U?0:l-I+U,u-(B+k),$a.TOP_RIGHT):new Wr(r.left+r.width-(E+O),r.top+B+k),this.bottomRightContentBox=d>0||f>0?Qo(r.left+Math.min(C,r.width-(I+U)),r.top+Math.min(S,r.height+B+k),Math.max(0,d-(E+O)),f-(L+F),$a.BOTTOM_RIGHT):new Wr(r.left+r.width-(E+O),r.top+r.height-(L+F)),this.bottomLeftContentBox=m>0||g>0?Qo(r.left+I+U,r.top+M,Math.max(0,m-(I+U)),g-(L+F),$a.BOTTOM_LEFT):new Wr(r.left+I+U,r.top+r.height-(L+F))}return t}(),$a;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})($a||($a={}));var Qo=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),a=n*s,o=r*s,l=t+n,u=e+r;switch(i){case $a.TOP_LEFT:return new sP(new Wr(t,u),new Wr(t,u-o),new Wr(l-a,e),new Wr(l,e));case $a.TOP_RIGHT:return new sP(new Wr(t,e),new Wr(t+a,e),new Wr(l,u-o),new Wr(l,u));case $a.BOTTOM_RIGHT:return new sP(new Wr(l,e),new Wr(l,e+o),new Wr(t+a,u),new Wr(t,u));case $a.BOTTOM_LEFT:default:return new sP(new Wr(l,u),new Wr(l-a,u),new Wr(t,e+o),new Wr(t,e))}},SN=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},lLt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},CN=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},cLt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),aP=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),uLt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),hLt=function(t){return t.type===0},Wve=function(t){return t.type===1},dLt=function(t){return t.type===2},hre=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},fLt=function(t,e,n,r,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},jve=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Kve=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new oLt(this.container),this.container.styles.opacity<1&&this.effects.push(new uLt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new cLt(r,i,s))}if(this.container.styles.overflowX!==0){var a=SN(this.curves),o=CN(this.curves);hre(a,o)?this.effects.push(new aP(a,6)):(this.effects.push(new aP(a,2)),this.effects.push(new aP(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!Wve(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=SN(r.curves),o=CN(r.curves);hre(a,o)||i.unshift(new aP(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return bc(l.target,e)})},t}(),wV=function(t,e,n,r){t.container.elements.forEach(function(i){var s=bc(i.flags,4),a=bc(i.flags,2),o=new Kve(i,t);bc(i.styles.display,2048)&&r.push(o);var l=bc(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?n:e,h=new jve(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;u.negativeZIndex.some(function(m,g){return d>m.element.container.styles.zIndex.order?(f=g,!1):f>0}),u.negativeZIndex.splice(f,0,h)}else if(d>0){var A=0;u.positiveZIndex.some(function(m,g){return d>=m.element.container.styles.zIndex.order?(A=g+1,!1):A>0}),u.positiveZIndex.splice(A,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else i.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);wV(o,h,s?h:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),wV(o,e,n,l);bc(i.flags,8)&&qve(i,l)})},qve=function(t,e){for(var n=t instanceof gV?t.start:1,r=t instanceof gV?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Ive&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=sL(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},ALt=function(t){var e=new Kve(t,null),n=new jve(e),r=[];return wV(e,n,n,r),qve(e.container,r),n},dre=function(t,e){switch(e){case 0:return AA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return AA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return AA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return AA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},pLt=function(t,e){switch(e){case 0:return AA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return AA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return AA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return AA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},gLt=function(t,e){switch(e){case 0:return AA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return AA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return AA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return AA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},mLt=function(t,e){switch(e){case 0:return oP(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return oP(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return oP(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return oP(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},oP=function(t,e){var n=[];return rA(t)?n.push(t.subdivide(.5,!1)):n.push(t),rA(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},AA=function(t,e,n,r){var i=[];return rA(t)?i.push(t.subdivide(.5,!1)):i.push(t),rA(n)?i.push(n.subdivide(.5,!0)):i.push(n),rA(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),rA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Xve=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},TN=function(t){var e=t.styles,n=t.bounds,r=Io(e.paddingLeft,n.width),i=Io(e.paddingRight,n.width),s=Io(e.paddingTop,n.width),a=Io(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},vLt=function(t,e){return t===0?e.bounds:t===2?TN(e):Xve(e)},yLt=function(t,e){return t===0?e.bounds:t===2?TN(e):Xve(e)},o6=function(t,e,n){var r=vLt(Hx(t.styles.backgroundOrigin,e),t),i=yLt(Hx(t.styles.backgroundClip,e),t),s=_Lt(Hx(t.styles.backgroundSize,e),n,r),a=s[0],o=s[1],l=dT(Hx(t.styles.backgroundPosition,e),r.width-a,r.height-o),u=wLt(Hx(t.styles.backgroundRepeat,e),l,s,r,i),h=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[u,h,d,a,o]},vx=function(t){return lo(t)&&t.value===kE.AUTO},lP=function(t){return typeof t=="number"},_Lt=function(t,e,n){var r=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(oc(a)&&o&&oc(o))return[Io(a,n.width),Io(o,n.height)];var l=lP(s);if(lo(a)&&(a.value===kE.CONTAIN||a.value===kE.COVER)){if(lP(s)){var u=n.width/n.height;return u<s!=(a.value===kE.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var h=lP(r),d=lP(i),f=h||d;if(vx(a)&&(!o||vx(o))){if(h&&d)return[r,i];if(!l&&!f)return[n.width,n.height];if(f&&l){var A=h?r:i*s,m=d?i:r/s;return[A,m]}var g=h?r:n.width,y=d?i:n.height;return[g,y]}if(l){var _=0,x=0;return oc(a)?_=Io(a,n.width):oc(o)&&(x=Io(o,n.height)),vx(a)?_=x*s:(!o||vx(o))&&(x=_/s),[_,x]}var S=null,C=null;if(oc(a)?S=Io(a,n.width):o&&oc(o)&&(C=Io(o,n.height)),S!==null&&(!o||vx(o))&&(C=h&&d?S/r*i:n.height),C!==null&&vx(a)&&(S=h&&d?C/i*r:n.width),S!==null&&C!==null)return[S,C];throw new Error("Unable to calculate background-size for element")},Hx=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},wLt=function(t,e,n,r,i){var s=e[0],a=e[1],o=n[0],l=n[1];switch(t){case 2:return[new Wr(Math.round(r.left),Math.round(r.top+a)),new Wr(Math.round(r.left+r.width),Math.round(r.top+a)),new Wr(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Wr(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Wr(Math.round(r.left+s),Math.round(r.top)),new Wr(Math.round(r.left+s+o),Math.round(r.top)),new Wr(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Wr(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Wr(Math.round(r.left+s),Math.round(r.top+a)),new Wr(Math.round(r.left+s+o),Math.round(r.top+a)),new Wr(Math.round(r.left+s+o),Math.round(r.top+a+l)),new Wr(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new Wr(Math.round(i.left),Math.round(i.top)),new Wr(Math.round(i.left+i.width),Math.round(i.top)),new Wr(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Wr(Math.round(i.left),Math.round(i.height+i.top))]}},bLt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",fre="Hidden Text",xLt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=bLt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(fre)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(fre)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Yve=function(){function t(e,n){this.context=e,this.options=n}return t}(),ELt=1e4,SLt=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new xLt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),dLt(n)&&(this.ctx.globalAlpha=n.opacity),hLt(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Wve(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Ph(this,void 0,void 0,function(){var r;return Ku(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Ph(this,void 0,void 0,function(){return Ku(this,function(r){switch(r.label){case 0:if(bc(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var a=jQ(n.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,n.bounds.top+i),o+s.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=BLt(n.fontFamily).join(", "),s=hB(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Ph(this,void 0,void 0,function(){var i,s,a,o,l,u,h,d,f=this;return Ku(this,function(A){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,h=l.middle,d=r.paintOrder,n.textBounds.forEach(function(m){d.forEach(function(g){switch(g){case 0:f.ctx.fillStyle=zc(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,u);var y=r.textShadow;y.length&&m.text.trim().length&&(y.slice(0).reverse().forEach(function(_){f.ctx.shadowColor=zc(_.color),f.ctx.shadowOffsetX=_.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=_.offsetY.number*f.options.scale,f.ctx.shadowBlur=_.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=zc(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(_){switch(_){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+h),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=zc(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=TN(n),a=CN(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Ph(this,void 0,void 0,function(){var r,i,s,a,o,l,x,x,u,h,d,f,C,A,m,M,g,y,_,x,S,C,M;return Ku(this,function(B){switch(B.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,a=0,o=r.textNodes,B.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:B.sent(),B.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof Lve))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return x=B.sent(),this.renderReplacedElement(r,i,x),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Bve&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof Rve))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return x=B.sent(),this.renderReplacedElement(r,i,x),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Ove&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:h=B.sent(),r.width&&r.height&&this.ctx.drawImage(h,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),B.label=14;case 14:if(r instanceof KQ&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===wN?r.checked&&(this.ctx.save(),this.path([new Wr(r.bounds.left+d*.39363,r.bounds.top+d*.79),new Wr(r.bounds.left+d*.16,r.bounds.top+d*.5549),new Wr(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new Wr(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new Wr(r.bounds.left+d*.72983,r.bounds.top+d*.23),new Wr(r.bounds.left+d*.84,r.bounds.top+d*.34085),new Wr(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=zc(ere),this.ctx.fill(),this.ctx.restore()):r.type===bN&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=zc(ere),this.ctx.fill(),this.ctx.restore())),CLt(r)&&r.value.length){switch(f=this.createFontStyle(s),C=f[0],A=f[1],m=this.fontMetrics.getMetrics(C,A).baseline,this.ctx.font=C,this.ctx.fillStyle=zc(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=MLt(r.styles.textAlign),M=TN(r),g=0,r.styles.textAlign){case 1:g+=M.width/2;break;case 2:g+=M.width;break}y=M.add(g,0,0,-M.height/2+1),this.ctx.save(),this.path([new Wr(M.left,M.top),new Wr(M.left+M.width,M.top),new Wr(M.left+M.width,M.top+M.height),new Wr(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new JT(r.value,y),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bc(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(_=r.styles.listStyleImage,_.type!==0)return[3,18];x=void 0,S=_.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return x=B.sent(),this.ctx.drawImage(x,r.bounds.left-(x.width+10),r.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=zc(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new Fv(r.bounds.left,r.bounds.top+Io(r.styles.paddingTop,r.bounds.width),r.bounds.width,Dne(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new JT(n.listValue,M),s.letterSpacing,Dne(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Ph(this,void 0,void 0,function(){var r,i,_,s,a,_,o,l,_,u,h,_,d,f,_,A,m,_,g,y,_;return Ku(this,function(x){switch(x.label){case 0:if(bc(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:x.sent(),r=0,i=n.negativeZIndex,x.label=2;case 2:return r<i.length?(_=i[r],[4,this.renderStack(_)]):[3,5];case 3:x.sent(),x.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:x.sent(),s=0,a=n.nonInlineLevel,x.label=7;case 7:return s<a.length?(_=a[s],[4,this.renderNode(_)]):[3,10];case 8:x.sent(),x.label=9;case 9:return s++,[3,7];case 10:o=0,l=n.nonPositionedFloats,x.label=11;case 11:return o<l.length?(_=l[o],[4,this.renderStack(_)]):[3,14];case 12:x.sent(),x.label=13;case 13:return o++,[3,11];case 14:u=0,h=n.nonPositionedInlineLevel,x.label=15;case 15:return u<h.length?(_=h[u],[4,this.renderStack(_)]):[3,18];case 16:x.sent(),x.label=17;case 17:return u++,[3,15];case 18:d=0,f=n.inlineLevel,x.label=19;case 19:return d<f.length?(_=f[d],[4,this.renderNode(_)]):[3,22];case 20:x.sent(),x.label=21;case 21:return d++,[3,19];case 22:A=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return A<m.length?(_=m[A],[4,this.renderStack(_)]):[3,26];case 24:x.sent(),x.label=25;case 25:return A++,[3,23];case 26:g=0,y=n.positiveZIndex,x.label=27;case 27:return g<y.length?(_=y[g],[4,this.renderStack(_)]):[3,30];case 28:x.sent(),x.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var a=rA(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),rA(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return Ph(this,void 0,void 0,function(){var r,i,s,a,o,l;return Ku(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(h){var d,f,A,k,V,Q,U,$,L,m,k,V,Q,U,$,g,y,_,x,S,C,M,B,E,L,I,k,O,F,U,$,K,V,Q,X,z,ne,he,W,Y,oe,fe;return Ku(this,function(me){switch(me.label){case 0:if(h.type!==0)return[3,5];d=void 0,f=h.url,me.label=1;case 1:return me.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=me.sent(),[3,4];case 3:return me.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(A=o6(n,r,[d.width,d.height,d.width/d.height]),k=A[0],V=A[1],Q=A[2],U=A[3],$=A[4],L=s.ctx.createPattern(s.resizeImage(d,U,$),"repeat"),s.renderRepeat(k,L,V,Q)),[3,6];case 5:h2t(h)?(m=o6(n,r,[null,null,null]),k=m[0],V=m[1],Q=m[2],U=m[3],$=m[4],g=a2t(h.angle,U,$),y=g[0],_=g[1],x=g[2],S=g[3],C=g[4],M=document.createElement("canvas"),M.width=U,M.height=$,B=M.getContext("2d"),E=B.createLinearGradient(_,S,x,C),One(h.stops,y).forEach(function(ce){return E.addColorStop(ce.stop,zc(ce.color))}),B.fillStyle=E,B.fillRect(0,0,U,$),U>0&&$>0&&(L=s.ctx.createPattern(M,"repeat"),s.renderRepeat(k,L,V,Q))):d2t(h)&&(I=o6(n,r,[null,null,null]),k=I[0],O=I[1],F=I[2],U=I[3],$=I[4],K=h.position.length===0?[$Q]:h.position,V=Io(K[0],U),Q=Io(K[K.length-1],$),X=o2t(h,V,Q,U,$),z=X[0],ne=X[1],z>0&&ne>0&&(he=s.ctx.createRadialGradient(O+V,F+Q,0,O+V,F+Q,z),One(h.stops,z*2).forEach(function(ce){return he.addColorStop(ce.stop,zc(ce.color))}),s.path(k),s.ctx.fillStyle=he,z!==ne?(W=n.bounds.left+.5*n.bounds.width,Y=n.bounds.top+.5*n.bounds.height,oe=ne/z,fe=1/oe,s.ctx.save(),s.ctx.translate(W,Y),s.ctx.transform(1,0,0,oe,0,0),s.ctx.translate(-W,-Y),s.ctx.fillRect(O,fe*(F-Y)+Y,U,$*fe),s.ctx.restore()):s.ctx.fill())),me.label=6;case 6:return r--,[2]}})},s=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Ph(this,void 0,void 0,function(){return Ku(this,function(s){return this.path(dre(i,r)),this.ctx.fillStyle=zc(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Ph(this,void 0,void 0,function(){var a,o;return Ku(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=pLt(s,i),this.path(a),this.ctx.fillStyle=zc(n),this.ctx.fill(),o=gLt(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Ph(this,void 0,void 0,function(){var r,i,s,a,o,l,u,h,d=this;return Ku(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!hy(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=TLt(Hx(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),hy(r.backgroundColor)||(this.ctx.fillStyle=zc(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(A){d.ctx.save();var m=SN(n.curves),g=A.inset?0:ELt,y=fLt(m,-g+(A.inset?1:-1)*A.spread.number,(A.inset?1:-1)*A.spread.number,A.spread.number*(A.inset?-2:2),A.spread.number*(A.inset?-2:2));A.inset?(d.path(m),d.ctx.clip(),d.mask(y)):(d.mask(m),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=A.offsetX.number+g,d.ctx.shadowOffsetY=A.offsetY.number,d.ctx.shadowColor=zc(A.color),d.ctx.shadowBlur=A.blur.number,d.ctx.fillStyle=A.inset?zc(A.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,l=0,u=s,f.label=3;case 3:return l<u.length?(h=u[l],h.style!==0&&!hy(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,a){return Ph(this,void 0,void 0,function(){var o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,B,M,B;return Ku(this,function(E){return this.ctx.save(),o=mLt(s,i),l=dre(s,i),a===2&&(this.path(l),this.ctx.clip()),rA(l[0])?(u=l[0].start.x,h=l[0].start.y):(u=l[0].x,h=l[0].y),rA(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),i===0||i===2?A=Math.abs(u-d):A=Math.abs(h-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),m=r<3?r*3:r*2,g=r<3?r*2:r,a===3&&(m=r,g=r),y=!0,A<=m*2?y=!1:A<=m*2+g?(_=A/(2*m+g),m*=_,g*=_):(x=Math.floor((A+g)/(m+g)),S=(A-x*m)/(x-1),C=(A-(x+1)*m)/x,g=C<=0||Math.abs(g-S)<Math.abs(g-C)?S:C),y&&(a===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=zc(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(rA(l[0])&&(M=l[3],B=l[0],this.ctx.beginPath(),this.formatPath([new Wr(M.end.x,M.end.y),new Wr(B.start.x,B.start.y)]),this.ctx.stroke()),rA(l[1])&&(M=l[1],B=l[2],this.ctx.beginPath(),this.formatPath([new Wr(M.end.x,M.end.y),new Wr(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Ph(this,void 0,void 0,function(){var r;return Ku(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zc(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=ALt(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Yve),CLt=function(t){return t instanceof Fve||t instanceof Pve?!0:t instanceof KQ&&t.type!==bN&&t.type!==wN},TLt=function(t,e){switch(t){case 0:return SN(e);case 2:return lLt(e);case 1:default:return CN(e)}},MLt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},LLt=["-apple-system","system-ui"],BLt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return LLt.indexOf(e)===-1}):t},RLt=function(t){Vp(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Ph(this,void 0,void 0,function(){var r,i;return Ku(this,function(s){switch(s.label){case 0:return r=pV(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,ILt(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zc(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Yve),ILt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},PLt=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,HI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,HI([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,HI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,HI([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),FLt=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new PLt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new eLt(this,e)}return t.instanceCount=1,t}(),OLt=function(t,e){return e===void 0&&(e={}),NLt(t,e)};typeof window<"u"&&Qve.setContext(window);var NLt=function(t,e){return Ph(void 0,void 0,void 0,function(){var n,r,i,s,a,o,l,u,h,d,f,A,m,g,y,_,x,S,C,M,E,B,E,L,I,k,O,F,U,$,K,V,Q,X,z,ne,he,W,Y,oe;return Ku(this,function(fe){switch(fe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(k=e.useCORS)!==null&&k!==void 0?k:!1},s=eV({logging:(O=e.logging)!==null&&O!==void 0?O:!0,cache:e.cache},i),a={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:r.innerWidth,windowHeight:(U=e.windowHeight)!==null&&U!==void 0?U:r.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(K=e.scrollY)!==null&&K!==void 0?K:r.pageYOffset},o=new Fv(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new FLt(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,h={allowTaint:(Q=e.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new cre(l,t,h),f=d.clonedReferenceElement,f?[4,d.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return A=fe.sent(),m=qQ(f)||DMt(f)?fSt(f.ownerDocument):OD(l,f),g=m.width,y=m.height,_=m.left,x=m.top,S=DLt(l,f,e.backgroundColor),C={canvas:e.canvas,backgroundColor:S,scale:(z=(X=e.scale)!==null&&X!==void 0?X:r.devicePixelRatio)!==null&&z!==void 0?z:1,x:((ne=e.x)!==null&&ne!==void 0?ne:0)+_,y:((he=e.y)!==null&&he!==void 0?he:0)+x,width:(W=e.width)!==null&&W!==void 0?W:Math.ceil(g),height:(Y=e.height)!==null&&Y!==void 0?Y:Math.ceil(y)},u?(l.logger.debug("Document cloned, using foreign object rendering"),E=new RLt(l,C),[4,E.render(f)]):[3,3];case 2:return M=fe.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+_+","+x+" with size "+g+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),B=Dve(l,f),S===B.styles.backgroundColor&&(B.styles.backgroundColor=_v.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),E=new SLt(l,C),[4,E.render(B)];case 4:M=fe.sent(),fe.label=5;case 5:return(!((oe=e.removeContainer)!==null&&oe!==void 0)||oe)&&(cre.destroy(A)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},DLt=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?YT(t,getComputedStyle(r.documentElement).backgroundColor):_v.TRANSPARENT,s=r.body?YT(t,getComputedStyle(r.body).backgroundColor):_v.TRANSPARENT,a=typeof n=="string"?YT(t,n):n===null?_v.TRANSPARENT:4294967295;return e===r.documentElement?hy(i)?hy(s)?a:s:i:a};const kLt=Object.freeze(Object.defineProperty({__proto__:null,default:OLt},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function bV(t,e){return bV=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bV(t,e)}function ULt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function BF(t,e,n){return ULt()?BF=Reflect.construct:BF=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&bV(u,a.prototype),u},BF.apply(null,arguments)}function ep(t){return HLt(t)||GLt(t)||VLt(t)||zLt()}function HLt(t){if(Array.isArray(t))return xV(t)}function GLt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VLt(t,e){if(t){if(typeof t=="string")return xV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(t,e)}}function xV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zLt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $Lt=Object.hasOwnProperty,Are=Object.setPrototypeOf,QLt=Object.isFrozen,WLt=Object.getPrototypeOf,jLt=Object.getOwnPropertyDescriptor,qh=Object.freeze,xA=Object.seal,KLt=Object.create,Zve=typeof Reflect<"u"&&Reflect,MN=Zve.apply,EV=Zve.construct;MN||(MN=function(e,n,r){return e.apply(n,r)});qh||(qh=function(e){return e});xA||(xA=function(e){return e});EV||(EV=function(e,n){return BF(e,ep(n))});var qLt=EA(Array.prototype.forEach),pre=EA(Array.prototype.pop),k2=EA(Array.prototype.push),RF=EA(String.prototype.toLowerCase),l6=EA(String.prototype.toString),gre=EA(String.prototype.match),XA=EA(String.prototype.replace),XLt=EA(String.prototype.indexOf),YLt=EA(String.prototype.trim),fu=EA(RegExp.prototype.test),c6=ZLt(TypeError);function EA(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return MN(t,e,r)}}function ZLt(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return EV(t,n)}}function Ps(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:RF,Are&&Are(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var a=n(s);a!==s&&(QLt(e)||(e[i]=a),s=a)}t[s]=!0}return t}function H_(t){var e=KLt(null),n;for(n in t)MN($Lt,t,[n])===!0&&(e[n]=t[n]);return e}function cP(t,e){for(;t!==null;){var n=jLt(t,e);if(n){if(n.get)return EA(n.get);if(typeof n.value=="function")return EA(n.value)}t=WLt(t)}function r(i){return console.warn("fallback value for",i),null}return r}var mre=qh(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u6=qh(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),h6=qh(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),JLt=qh(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),d6=qh(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),eBt=qh(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vre=qh(["#text"]),yre=qh(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),f6=qh(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_re=qh(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uP=qh(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tBt=xA(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nBt=xA(/<%[\w\W]*|[\w\W]*%>/gm),rBt=xA(/\${[\w\W]*}/gm),iBt=xA(/^data-[\-\w.\u00B7-\uFFFF]+$/),sBt=xA(/^aria-[\-\w]+$/),aBt=xA(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oBt=xA(/^(?:\w+script|data):/i),lBt=xA(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cBt=xA(/^html$/i),uBt=xA(/^[a-z][.\w]*(-[.\w]+)+$/i),hBt=function(){return typeof window>"u"?null:window},dBt=function(e,n){if(z0(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch(a){return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Jve(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hBt(),e=function(ut){return Jve(ut)};if(e.version="2.5.8",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,h=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.HTMLFormElement,f=t.DOMParser,A=t.trustedTypes,m=o.prototype,g=cP(m,"cloneNode"),y=cP(m,"nextSibling"),_=cP(m,"childNodes"),x=cP(m,"parentNode");if(typeof s=="function"){var S=r.createElement("template");S.content&&S.content.ownerDocument&&(r=S.content.ownerDocument)}var C=dBt(A,n),M=C?C.createHTML(""):"",B=r,E=B.implementation,L=B.createNodeIterator,I=B.createDocumentFragment,k=B.getElementsByTagName,O=n.importNode,F={};try{F=H_(r).documentMode?r.documentMode:{}}catch(Lt){}var U={};e.isSupported=typeof x=="function"&&E&&E.createHTMLDocument!==void 0&&F!==9;var $=tBt,K=nBt,V=rBt,Q=iBt,X=sBt,z=oBt,ne=lBt,he=uBt,W=aBt,Y=null,oe=Ps({},[].concat(ep(mre),ep(u6),ep(h6),ep(d6),ep(vre))),fe=null,me=Ps({},[].concat(ep(yre),ep(f6),ep(_re),ep(uP))),ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,xe=null,Ie=!0,Qe=!0,ue=!1,ye=!0,$e=!1,Ve=!0,Se=!1,at=!1,ft=!1,je=!1,gt=!1,vt=!1,Te=!0,we=!1,Ne="user-content-",Ze=!0,Tt=!1,Zt={},ln=null,Ye=Ps({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yt=null,Qt=Ps({},["audio","video","img","source","image","track"]),Dt=null,st=Ps({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ke="http://www.w3.org/1998/Math/MathML",ct="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml",kt=Oe,wn=!1,mt=null,Kt=Ps({},[ke,ct,Oe],l6),bn,Rn=["application/xhtml+xml","text/html"],On="text/html",Dn,Un=null,jr=r.createElement("form"),Mi=function(ut){return ut instanceof RegExp||ut instanceof Function},bi=function(ut){Un&&Un===ut||((!ut||z0(ut)!=="object")&&(ut={}),ut=H_(ut),bn=Rn.indexOf(ut.PARSER_MEDIA_TYPE)===-1?bn=On:bn=ut.PARSER_MEDIA_TYPE,Dn=bn==="application/xhtml+xml"?l6:RF,Y="ALLOWED_TAGS"in ut?Ps({},ut.ALLOWED_TAGS,Dn):oe,fe="ALLOWED_ATTR"in ut?Ps({},ut.ALLOWED_ATTR,Dn):me,mt="ALLOWED_NAMESPACES"in ut?Ps({},ut.ALLOWED_NAMESPACES,l6):Kt,Dt="ADD_URI_SAFE_ATTR"in ut?Ps(H_(st),ut.ADD_URI_SAFE_ATTR,Dn):st,yt="ADD_DATA_URI_TAGS"in ut?Ps(H_(Qt),ut.ADD_DATA_URI_TAGS,Dn):Qt,ln="FORBID_CONTENTS"in ut?Ps({},ut.FORBID_CONTENTS,Dn):Ye,be="FORBID_TAGS"in ut?Ps({},ut.FORBID_TAGS,Dn):{},xe="FORBID_ATTR"in ut?Ps({},ut.FORBID_ATTR,Dn):{},Zt="USE_PROFILES"in ut?ut.USE_PROFILES:!1,Ie=ut.ALLOW_ARIA_ATTR!==!1,Qe=ut.ALLOW_DATA_ATTR!==!1,ue=ut.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=ut.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=ut.SAFE_FOR_TEMPLATES||!1,Ve=ut.SAFE_FOR_XML!==!1,Se=ut.WHOLE_DOCUMENT||!1,je=ut.RETURN_DOM||!1,gt=ut.RETURN_DOM_FRAGMENT||!1,vt=ut.RETURN_TRUSTED_TYPE||!1,ft=ut.FORCE_BODY||!1,Te=ut.SANITIZE_DOM!==!1,we=ut.SANITIZE_NAMED_PROPS||!1,Ze=ut.KEEP_CONTENT!==!1,Tt=ut.IN_PLACE||!1,W=ut.ALLOWED_URI_REGEXP||W,kt=ut.NAMESPACE||Oe,ce=ut.CUSTOM_ELEMENT_HANDLING||{},ut.CUSTOM_ELEMENT_HANDLING&&Mi(ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ut.CUSTOM_ELEMENT_HANDLING&&Mi(ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ut.CUSTOM_ELEMENT_HANDLING&&typeof ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(Qe=!1),gt&&(je=!0),Zt&&(Y=Ps({},ep(vre)),fe=[],Zt.html===!0&&(Ps(Y,mre),Ps(fe,yre)),Zt.svg===!0&&(Ps(Y,u6),Ps(fe,f6),Ps(fe,uP)),Zt.svgFilters===!0&&(Ps(Y,h6),Ps(fe,f6),Ps(fe,uP)),Zt.mathMl===!0&&(Ps(Y,d6),Ps(fe,_re),Ps(fe,uP))),ut.ADD_TAGS&&(Y===oe&&(Y=H_(Y)),Ps(Y,ut.ADD_TAGS,Dn)),ut.ADD_ATTR&&(fe===me&&(fe=H_(fe)),Ps(fe,ut.ADD_ATTR,Dn)),ut.ADD_URI_SAFE_ATTR&&Ps(Dt,ut.ADD_URI_SAFE_ATTR,Dn),ut.FORBID_CONTENTS&&(ln===Ye&&(ln=H_(ln)),Ps(ln,ut.FORBID_CONTENTS,Dn)),Ze&&(Y["#text"]=!0),Se&&Ps(Y,["html","head","body"]),Y.table&&(Ps(Y,["tbody"]),delete be.tbody),qh&&qh(ut),Un=ut)},Ji=Ps({},["mi","mo","mn","ms","mtext"]),br=Ps({},["annotation-xml"]),fs=Ps({},["title","style","font","a","script"]),Di=Ps({},u6);Ps(Di,h6),Ps(Di,JLt);var Hi=Ps({},d6);Ps(Hi,eBt);var ki=function(ut){var on=x(ut);(!on||!on.tagName)&&(on={namespaceURI:kt,tagName:"template"});var xn=RF(ut.tagName),Rr=RF(on.tagName);return mt[ut.namespaceURI]?ut.namespaceURI===ct?on.namespaceURI===Oe?xn==="svg":on.namespaceURI===ke?xn==="svg"&&(Rr==="annotation-xml"||Ji[Rr]):!!Di[xn]:ut.namespaceURI===ke?on.namespaceURI===Oe?xn==="math":on.namespaceURI===ct?xn==="math"&&br[Rr]:!!Hi[xn]:ut.namespaceURI===Oe?on.namespaceURI===ct&&!br[Rr]||on.namespaceURI===ke&&!Ji[Rr]?!1:!Hi[xn]&&(fs[xn]||!Di[xn]):!!(bn==="application/xhtml+xml"&&mt[ut.namespaceURI]):!1},ot=function(ut){k2(e.removed,{element:ut});try{ut.parentNode.removeChild(ut)}catch(on){try{ut.outerHTML=M}catch(xn){ut.remove()}}},sn=function(ut,on){try{k2(e.removed,{attribute:on.getAttributeNode(ut),from:on})}catch(xn){k2(e.removed,{attribute:null,from:on})}if(on.removeAttribute(ut),ut==="is"&&!fe[ut])if(je||gt)try{ot(on)}catch(xn){}else try{on.setAttribute(ut,"")}catch(xn){}},Cn=function(ut){var on,xn;if(ft)ut="<remove></remove>"+ut;else{var Rr=gre(ut,/^[\r\n\t ]+/);xn=Rr&&Rr[0]}bn==="application/xhtml+xml"&&kt===Oe&&(ut='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ut+"</body></html>");var Xr=C?C.createHTML(ut):ut;if(kt===Oe)try{on=new f().parseFromString(Xr,bn)}catch(Ki){}if(!on||!on.documentElement){on=E.createDocument(kt,"template",null);try{on.documentElement.innerHTML=wn?M:Xr}catch(Ki){}}var ta=on.body||on.documentElement;return ut&&xn&&ta.insertBefore(r.createTextNode(xn),ta.childNodes[0]||null),kt===Oe?k.call(on,Se?"html":"body")[0]:Se?on.documentElement:ta},it=function(ut){return L.call(ut.ownerDocument||ut,ut,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},Ft=function(ut){return ut instanceof d&&(typeof ut.nodeName!="string"||typeof ut.textContent!="string"||typeof ut.removeChild!="function"||!(ut.attributes instanceof h)||typeof ut.removeAttribute!="function"||typeof ut.setAttribute!="function"||typeof ut.namespaceURI!="string"||typeof ut.insertBefore!="function"||typeof ut.hasChildNodes!="function")},Gn=function(ut){return z0(a)==="object"?ut instanceof a:ut&&z0(ut)==="object"&&typeof ut.nodeType=="number"&&typeof ut.nodeName=="string"},fr=function(ut,on,xn){U[ut]&&qLt(U[ut],function(Rr){Rr.call(e,on,xn,Un)})},Gr=function(ut){var on;if(fr("beforeSanitizeElements",ut,null),Ft(ut)||fu(/[\u0080-\uFFFF]/,ut.nodeName))return ot(ut),!0;var xn=Dn(ut.nodeName);if(fr("uponSanitizeElement",ut,{tagName:xn,allowedTags:Y}),ut.hasChildNodes()&&!Gn(ut.firstElementChild)&&(!Gn(ut.content)||!Gn(ut.content.firstElementChild))&&fu(/<[/\w]/g,ut.innerHTML)&&fu(/<[/\w]/g,ut.textContent)||xn==="select"&&fu(/<template/i,ut.innerHTML)||ut.nodeType===7||Ve&&ut.nodeType===8&&fu(/<[/\w]/g,ut.data))return ot(ut),!0;if(!Y[xn]||be[xn]){if(!be[xn]&&oi(xn)&&(ce.tagNameCheck instanceof RegExp&&fu(ce.tagNameCheck,xn)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(xn)))return!1;if(Ze&&!ln[xn]){var Rr=x(ut)||ut.parentNode,Xr=_(ut)||ut.childNodes;if(Xr&&Rr)for(var ta=Xr.length,Ki=ta-1;Ki>=0;--Ki){var Eo=g(Xr[Ki],!0);Eo.__removalCount=(ut.__removalCount||0)+1,Rr.insertBefore(Eo,y(ut))}}return ot(ut),!0}return ut instanceof o&&!ki(ut)||(xn==="noscript"||xn==="noembed"||xn==="noframes")&&fu(/<\/no(script|embed|frames)/i,ut.innerHTML)?(ot(ut),!0):($e&&ut.nodeType===3&&(on=ut.textContent,on=XA(on,$," "),on=XA(on,K," "),on=XA(on,V," "),ut.textContent!==on&&(k2(e.removed,{element:ut.cloneNode()}),ut.textContent=on)),fr("afterSanitizeElements",ut,null),!1)},$r=function(ut,on,xn){if(Te&&(on==="id"||on==="name")&&(xn in r||xn in jr))return!1;if(!(Qe&&!xe[on]&&fu(Q,on))){if(!(Ie&&fu(X,on))){if(!fe[on]||xe[on]){if(!(oi(ut)&&(ce.tagNameCheck instanceof RegExp&&fu(ce.tagNameCheck,ut)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(ut))&&(ce.attributeNameCheck instanceof RegExp&&fu(ce.attributeNameCheck,on)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(on))||on==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&fu(ce.tagNameCheck,xn)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(xn))))return!1}else if(!Dt[on]){if(!fu(W,XA(xn,ne,""))){if(!((on==="src"||on==="xlink:href"||on==="href")&&ut!=="script"&&XLt(xn,"data:")===0&&yt[ut])){if(!(ue&&!fu(z,XA(xn,ne,"")))){if(xn)return!1}}}}}}return!0},oi=function(ut){return ut!=="annotation-xml"&&gre(ut,he)},xi=function(ut){var on,xn,Rr,Xr;fr("beforeSanitizeAttributes",ut,null);var ta=ut.attributes;if(!(!ta||Ft(ut))){var Ki={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe};for(Xr=ta.length;Xr--;){on=ta[Xr];var Eo=on,na=Eo.name,Kl=Eo.namespaceURI;if(xn=na==="value"?on.value:YLt(on.value),Rr=Dn(na),Ki.attrName=Rr,Ki.attrValue=xn,Ki.keepAttr=!0,Ki.forceKeepAttr=void 0,fr("uponSanitizeAttribute",ut,Ki),xn=Ki.attrValue,!Ki.forceKeepAttr&&(sn(na,ut),!!Ki.keepAttr)){if(!ye&&fu(/\/>/i,xn)){sn(na,ut);continue}$e&&(xn=XA(xn,$," "),xn=XA(xn,K," "),xn=XA(xn,V," "));var Ic=Dn(ut.nodeName);if($r(Ic,Rr,xn)){if(we&&(Rr==="id"||Rr==="name")&&(sn(na,ut),xn=Ne+xn),Ve&&fu(/((--!?|])>)|<\/(style|title)/i,xn)){sn(na,ut);continue}if(C&&z0(A)==="object"&&typeof A.getAttributeType=="function"&&!Kl)switch(A.getAttributeType(Ic,Rr)){case"TrustedHTML":{xn=C.createHTML(xn);break}case"TrustedScriptURL":{xn=C.createScriptURL(xn);break}}try{Kl?ut.setAttributeNS(Kl,na,xn):ut.setAttribute(na,xn),Ft(ut)?ot(ut):pre(e.removed)}catch(to){}}}}fr("afterSanitizeAttributes",ut,null)}},mi=function Lt(ut){var on,xn=it(ut);for(fr("beforeSanitizeShadowDOM",ut,null);on=xn.nextNode();)fr("uponSanitizeShadowNode",on,null),Gr(on),xi(on),on.content instanceof i&&Lt(on.content);fr("afterSanitizeShadowDOM",ut,null)};return e.sanitize=function(Lt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},on,xn,Rr,Xr,ta;if(wn=!Lt,wn&&(Lt="<!-->"),typeof Lt!="string"&&!Gn(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw c6("dirty is not a string, aborting")}else throw c6("toString is not a function");if(!e.isSupported){if(z0(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Lt=="string")return t.toStaticHTML(Lt);if(Gn(Lt))return t.toStaticHTML(Lt.outerHTML)}return Lt}if(at||bi(ut),e.removed=[],typeof Lt=="string"&&(Tt=!1),Tt){if(Lt.nodeName){var Ki=Dn(Lt.nodeName);if(!Y[Ki]||be[Ki])throw c6("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof a)on=Cn("<!---->"),xn=on.ownerDocument.importNode(Lt,!0),xn.nodeType===1&&xn.nodeName==="BODY"||xn.nodeName==="HTML"?on=xn:on.appendChild(xn);else{if(!je&&!$e&&!Se&&Lt.indexOf("<")===-1)return C&&vt?C.createHTML(Lt):Lt;if(on=Cn(Lt),!on)return je?null:vt?M:""}on&&ft&&ot(on.firstChild);for(var Eo=it(Tt?Lt:on);Rr=Eo.nextNode();)Rr.nodeType===3&&Rr===Xr||(Gr(Rr),xi(Rr),Rr.content instanceof i&&mi(Rr.content),Xr=Rr);if(Xr=null,Tt)return Lt;if(je){if(gt)for(ta=I.call(on.ownerDocument);on.firstChild;)ta.appendChild(on.firstChild);else ta=on;return(fe.shadowroot||fe.shadowrootmod)&&(ta=O.call(n,ta,!0)),ta}var na=Se?on.outerHTML:on.innerHTML;return Se&&Y["!doctype"]&&on.ownerDocument&&on.ownerDocument.doctype&&on.ownerDocument.doctype.name&&fu(cBt,on.ownerDocument.doctype.name)&&(na="<!DOCTYPE "+on.ownerDocument.doctype.name+">\n"+na),$e&&(na=XA(na,$," "),na=XA(na,K," "),na=XA(na,V," ")),C&&vt?C.createHTML(na):na},e.setConfig=function(Lt){bi(Lt),at=!0},e.clearConfig=function(){Un=null,at=!1},e.isValidAttribute=function(Lt,ut,on){Un||bi({});var xn=Dn(Lt),Rr=Dn(ut);return $r(xn,Rr,on)},e.addHook=function(Lt,ut){typeof ut=="function"&&(U[Lt]=U[Lt]||[],k2(U[Lt],ut))},e.removeHook=function(Lt){if(U[Lt])return pre(U[Lt])},e.removeHooks=function(Lt){U[Lt]&&(U[Lt]=[])},e.removeAllHooks=function(){U={}},e}var fBt=Jve();const ABt=Object.freeze(Object.defineProperty({__proto__:null,default:fBt},Symbol.toStringTag,{value:"Module"}));var U2=function(t){return t&&t.Math===Math&&t},$l=U2(typeof globalThis=="object"&&globalThis)||U2(typeof window=="object"&&window)||U2(typeof self=="object"&&self)||U2(typeof aA=="object"&&aA)||U2(typeof aA=="object"&&aA)||function(){return this}()||Function("return this")(),dB={},Ql=function(t){try{return!!t()}catch(e){return!0}},pBt=Ql,zp=!pBt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),gBt=Ql,QD=!gBt(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),mBt=QD,hP=Function.prototype.call,Bu=mBt?hP.bind(hP):function(){return hP.apply(hP,arguments)},e0e={},t0e={}.propertyIsEnumerable,n0e=Object.getOwnPropertyDescriptor,vBt=n0e&&!t0e.call({1:2},1);e0e.f=vBt?function(e){var n=n0e(this,e);return!!n&&n.enumerable}:t0e;var XQ=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},r0e=QD,i0e=Function.prototype,SV=i0e.call,yBt=r0e&&i0e.bind.bind(SV,SV),Wl=r0e?yBt:function(t){return function(){return SV.apply(t,arguments)}},s0e=Wl,_Bt=s0e({}.toString),wBt=s0e("".slice),Fw=function(t){return wBt(_Bt(t),8,-1)},bBt=Wl,xBt=Ql,EBt=Fw,A6=Object,SBt=bBt("".split),a0e=xBt(function(){return!A6("z").propertyIsEnumerable(0)})?function(t){return EBt(t)==="String"?SBt(t,""):A6(t)}:A6,Ow=function(t){return t==null},CBt=Ow,TBt=TypeError,Sm=function(t){if(CBt(t))throw new TBt("Can't call method on "+t);return t},MBt=a0e,LBt=Sm,fB=function(t){return MBt(LBt(t))},p6=typeof document=="object"&&document.all,jl=typeof p6>"u"&&p6!==void 0?function(t){return typeof t=="function"||t===p6}:function(t){return typeof t=="function"},BBt=jl,Cm=function(t){return typeof t=="object"?t!==null:BBt(t)},g6=$l,RBt=jl,IBt=function(t){return RBt(t)?t:void 0},Nw=function(t,e){return arguments.length<2?IBt(g6[t]):g6[t]&&g6[t][e]},PBt=Wl,WD=PBt({}.isPrototypeOf),jD=typeof navigator<"u"&&String(navigator.userAgent)||"",o0e=$l,m6=jD,wre=o0e.process,bre=o0e.Deno,xre=wre&&wre.versions||bre&&bre.version,Ere=xre&&xre.v8,op,LN;Ere&&(op=Ere.split("."),LN=op[0]>0&&op[0]<4?1:+(op[0]+op[1]));!LN&&m6&&(op=m6.match(/Edge\/(\d+)/),(!op||op[1]>=74)&&(op=m6.match(/Chrome\/(\d+)/),op&&(LN=+op[1])));var YQ=LN,Sre=YQ,FBt=Ql,OBt=$l,NBt=OBt.String,l0e=!!Object.getOwnPropertySymbols&&!FBt(function(){var t=Symbol("symbol detection");return!NBt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Sre&&Sre<41}),DBt=l0e,c0e=DBt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",kBt=Nw,UBt=jl,HBt=WD,GBt=c0e,VBt=Object,u0e=GBt?function(t){return typeof t=="symbol"}:function(t){var e=kBt("Symbol");return UBt(e)&&HBt(e.prototype,VBt(t))},zBt=String,KD=function(t){try{return zBt(t)}catch(e){return"Object"}},$Bt=jl,QBt=KD,WBt=TypeError,Xv=function(t){if($Bt(t))return t;throw new WBt(QBt(t)+" is not a function")},jBt=Xv,KBt=Ow,fC=function(t,e){var n=t[e];return KBt(n)?void 0:jBt(n)},v6=Bu,y6=jl,_6=Cm,qBt=TypeError,XBt=function(t,e){var n,r;if(e==="string"&&y6(n=t.toString)&&!_6(r=v6(n,t))||y6(n=t.valueOf)&&!_6(r=v6(n,t))||e!=="string"&&y6(n=t.toString)&&!_6(r=v6(n,t)))return r;throw new qBt("Can't convert object to primitive value")},h0e={exports:{}},Cre=$l,YBt=Object.defineProperty,ZQ=function(t,e){try{YBt(Cre,t,{value:e,configurable:!0,writable:!0})}catch(n){Cre[t]=e}return e},ZBt=$l,JBt=ZQ,Tre="__core-js_shared__",Mre=h0e.exports=ZBt[Tre]||JBt(Tre,{});(Mre.versions||(Mre.versions=[])).push({version:"3.36.0",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var JQ=h0e.exports,Lre=JQ,eW=function(t,e){return Lre[t]||(Lre[t]=e||{})},eRt=Sm,tRt=Object,qD=function(t){return tRt(eRt(t))},nRt=Wl,rRt=qD,iRt=nRt({}.hasOwnProperty),$p=Object.hasOwn||function(e,n){return iRt(rRt(e),n)},sRt=Wl,aRt=0,oRt=Math.random(),lRt=sRt(1 .toString),d0e=function(t){return"Symbol("+(t===void 0?"":t)+")_"+lRt(++aRt+oRt,36)},cRt=$l,uRt=eW,Bre=$p,hRt=d0e,dRt=l0e,fRt=c0e,oE=cRt.Symbol,w6=uRt("wks"),ARt=fRt?oE.for||oE:oE&&oE.withoutSetter||hRt,ru=function(t){return Bre(w6,t)||(w6[t]=dRt&&Bre(oE,t)?oE[t]:ARt("Symbol."+t)),w6[t]},pRt=Bu,Rre=Cm,Ire=u0e,gRt=fC,mRt=XBt,vRt=ru,yRt=TypeError,_Rt=vRt("toPrimitive"),wRt=function(t,e){if(!Rre(t)||Ire(t))return t;var n=gRt(t,_Rt),r;if(n){if(e===void 0&&(e="default"),r=pRt(n,t,e),!Rre(r)||Ire(r))return r;throw new yRt("Can't convert object to primitive value")}return e===void 0&&(e="number"),mRt(t,e)},bRt=wRt,xRt=u0e,f0e=function(t){var e=bRt(t,"string");return xRt(e)?e:e+""},ERt=$l,Pre=Cm,CV=ERt.document,SRt=Pre(CV)&&Pre(CV.createElement),XD=function(t){return SRt?CV.createElement(t):{}},CRt=zp,TRt=Ql,MRt=XD,A0e=!CRt&&!TRt(function(){return Object.defineProperty(MRt("div"),"a",{get:function(){return 7}}).a!==7}),LRt=zp,BRt=Bu,RRt=e0e,IRt=XQ,PRt=fB,FRt=f0e,ORt=$p,NRt=A0e,Fre=Object.getOwnPropertyDescriptor;dB.f=LRt?Fre:function(e,n){if(e=PRt(e),n=FRt(n),NRt)try{return Fre(e,n)}catch(r){}if(ORt(e,n))return IRt(!BRt(RRt.f,e,n),e[n])};var Yv={},DRt=zp,kRt=Ql,p0e=DRt&&kRt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),URt=Cm,HRt=String,GRt=TypeError,uh=function(t){if(URt(t))return t;throw new GRt(HRt(t)+" is not an object")},VRt=zp,zRt=A0e,$Rt=p0e,dP=uh,Ore=f0e,QRt=TypeError,b6=Object.defineProperty,WRt=Object.getOwnPropertyDescriptor,x6="enumerable",E6="configurable",S6="writable";Yv.f=VRt?$Rt?function(e,n,r){if(dP(e),n=Ore(n),dP(r),typeof e=="function"&&n==="prototype"&&"value"in r&&S6 in r&&!r[S6]){var i=WRt(e,n);i&&i[S6]&&(e[n]=r.value,r={configurable:E6 in r?r[E6]:i[E6],enumerable:x6 in r?r[x6]:i[x6],writable:!1})}return b6(e,n,r)}:b6:function(e,n,r){if(dP(e),n=Ore(n),dP(r),zRt)try{return b6(e,n,r)}catch(i){}if("get"in r||"set"in r)throw new QRt("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var jRt=zp,KRt=Yv,qRt=XQ,AB=jRt?function(t,e,n){return KRt.f(t,e,qRt(1,n))}:function(t,e,n){return t[e]=n,t},g0e={exports:{}},TV=zp,XRt=$p,m0e=Function.prototype,YRt=TV&&Object.getOwnPropertyDescriptor,v0e=XRt(m0e,"name"),ZRt=v0e&&(function(){}).name==="something",JRt=v0e&&(!TV||TV&&YRt(m0e,"name").configurable),YD={PROPER:ZRt,CONFIGURABLE:JRt},eIt=Wl,tIt=jl,MV=JQ,nIt=eIt(Function.toString);tIt(MV.inspectSource)||(MV.inspectSource=function(t){return nIt(t)});var tW=MV.inspectSource,rIt=$l,iIt=jl,Nre=rIt.WeakMap,sIt=iIt(Nre)&&/native code/.test(String(Nre)),aIt=eW,oIt=d0e,Dre=aIt("keys"),nW=function(t){return Dre[t]||(Dre[t]=oIt(t))},rW={},lIt=sIt,y0e=$l,cIt=Cm,uIt=AB,C6=$p,T6=JQ,hIt=nW,dIt=rW,kre="Object already initialized",LV=y0e.TypeError,fIt=y0e.WeakMap,BN,aL,RN,AIt=function(t){return RN(t)?aL(t):BN(t,{})},pIt=function(t){return function(e){var n;if(!cIt(e)||(n=aL(e)).type!==t)throw new LV("Incompatible receiver, "+t+" required");return n}};if(lIt||T6.state){var Bg=T6.state||(T6.state=new fIt);Bg.get=Bg.get,Bg.has=Bg.has,Bg.set=Bg.set,BN=function(t,e){if(Bg.has(t))throw new LV(kre);return e.facade=t,Bg.set(t,e),e},aL=function(t){return Bg.get(t)||{}},RN=function(t){return Bg.has(t)}}else{var yx=hIt("state");dIt[yx]=!0,BN=function(t,e){if(C6(t,yx))throw new LV(kre);return e.facade=t,uIt(t,yx,e),e},aL=function(t){return C6(t,yx)?t[yx]:{}},RN=function(t){return C6(t,yx)}}var ZD={set:BN,get:aL,has:RN,enforce:AIt,getterFor:pIt},iW=Wl,gIt=Ql,mIt=jl,fP=$p,BV=zp,vIt=YD.CONFIGURABLE,yIt=tW,_0e=ZD,_It=_0e.enforce,wIt=_0e.get,Ure=String,IF=Object.defineProperty,bIt=iW("".slice),xIt=iW("".replace),EIt=iW([].join),SIt=BV&&!gIt(function(){return IF(function(){},"length",{value:8}).length!==8}),CIt=String(String).split("String"),TIt=g0e.exports=function(t,e,n){bIt(Ure(e),0,7)==="Symbol("&&(e="["+xIt(Ure(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!fP(t,"name")||vIt&&t.name!==e)&&(BV?IF(t,"name",{value:e,configurable:!0}):t.name=e),SIt&&n&&fP(n,"arity")&&t.length!==n.arity&&IF(t,"length",{value:n.arity});try{n&&fP(n,"constructor")&&n.constructor?BV&&IF(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=_It(t);return fP(r,"source")||(r.source=EIt(CIt,typeof e=="string"?e:"")),t};Function.prototype.toString=TIt(function(){return mIt(this)&&wIt(this).source||yIt(this)},"toString");var w0e=g0e.exports,MIt=jl,LIt=Yv,BIt=w0e,RIt=ZQ,Dw=function(t,e,n,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;if(MIt(n)&&BIt(n,s,r),r.global)i?t[e]=n:RIt(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(a){}i?t[e]=n:LIt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},b0e={},IIt=Math.ceil,PIt=Math.floor,FIt=Math.trunc||function(e){var n=+e;return(n>0?PIt:IIt)(n)},OIt=FIt,JD=function(t){var e=+t;return e!==e||e===0?0:OIt(e)},NIt=JD,DIt=Math.max,kIt=Math.min,UIt=function(t,e){var n=NIt(t);return n<0?DIt(n+e,0):kIt(n,e)},HIt=JD,GIt=Math.min,AC=function(t){var e=HIt(t);return e>0?GIt(e,9007199254740991):0},VIt=AC,sW=function(t){return VIt(t.length)},zIt=fB,$It=UIt,QIt=sW,WIt=function(t){return function(e,n,r){var i=zIt(e),s=QIt(i);if(s===0)return!t&&-1;var a=$It(r,s),o;if(t&&n!==n){for(;s>a;)if(o=i[a++],o!==o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},x0e={indexOf:WIt(!1)},jIt=Wl,M6=$p,KIt=fB,qIt=x0e.indexOf,XIt=rW,Hre=jIt([].push),E0e=function(t,e){var n=KIt(t),r=0,i=[],s;for(s in n)!M6(XIt,s)&&M6(n,s)&&Hre(i,s);for(;e.length>r;)M6(n,s=e[r++])&&(~qIt(i,s)||Hre(i,s));return i},aW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],YIt=E0e,ZIt=aW,JIt=ZIt.concat("length","prototype");b0e.f=Object.getOwnPropertyNames||function(e){return YIt(e,JIt)};var S0e={};S0e.f=Object.getOwnPropertySymbols;var ePt=Nw,tPt=Wl,nPt=b0e,rPt=S0e,iPt=uh,sPt=tPt([].concat),aPt=ePt("Reflect","ownKeys")||function(e){var n=nPt.f(iPt(e)),r=rPt.f;return r?sPt(n,r(e)):n},Gre=$p,oPt=aPt,lPt=dB,cPt=Yv,uPt=function(t,e,n){for(var r=oPt(e),i=cPt.f,s=lPt.f,a=0;a<r.length;a++){var o=r[a];!Gre(t,o)&&!(n&&Gre(n,o))&&i(t,o,s(e,o))}},hPt=Ql,dPt=jl,fPt=/#|\.prototype\./,pB=function(t,e){var n=pPt[APt(t)];return n===mPt?!0:n===gPt?!1:dPt(e)?hPt(e):!!e},APt=pB.normalize=function(t){return String(t).replace(fPt,".").toLowerCase()},pPt=pB.data={},gPt=pB.NATIVE="N",mPt=pB.POLYFILL="P",C0e=pB,AP=$l,vPt=dB.f,yPt=AB,_Pt=Dw,wPt=ZQ,bPt=uPt,xPt=C0e,Jh=function(t,e){var n=t.target,r=t.global,i=t.stat,s,a,o,l,u,h;if(r?a=AP:i?a=AP[n]||wPt(n,{}):a=AP[n]&&AP[n].prototype,a)for(o in e){if(u=e[o],t.dontCallGetSet?(h=vPt(a,o),l=h&&h.value):l=a[o],s=xPt(r?o:n+(i?".":"#")+o,t.forced),!s&&l!==void 0){if(typeof u==typeof l)continue;bPt(u,l)}(t.sham||l&&l.sham)&&yPt(u,"sham",!0),_Pt(a,o,u,t)}},EPt=$l,SPt=Fw,gB=SPt(EPt.process)==="process",CPt=Wl,TPt=Xv,MPt=function(t,e,n){try{return CPt(TPt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(r){}},LPt=Cm,BPt=function(t){return LPt(t)||t===null},RPt=BPt,IPt=String,PPt=TypeError,FPt=function(t){if(RPt(t))return t;throw new PPt("Can't set "+IPt(t)+" as a prototype")},OPt=MPt,NPt=uh,DPt=FPt,T0e=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=OPt(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch(r){}return function(i,s){return NPt(i),DPt(s),t?n(i,s):i.__proto__=s,i}}():void 0),kPt=Yv.f,UPt=$p,HPt=ru,Vre=HPt("toStringTag"),ek=function(t,e,n){t&&!n&&(t=t.prototype),t&&!UPt(t,Vre)&&kPt(t,Vre,{configurable:!0,value:e})},zre=w0e,GPt=Yv,VPt=function(t,e,n){return n.get&&zre(n.get,e,{getter:!0}),n.set&&zre(n.set,e,{setter:!0}),GPt.f(t,e,n)},zPt=Nw,$Pt=VPt,QPt=ru,WPt=zp,$re=QPt("species"),jPt=function(t){var e=zPt(t);WPt&&e&&!e[$re]&&$Pt(e,$re,{configurable:!0,get:function(){return this}})},KPt=WD,qPt=TypeError,XPt=function(t,e){if(KPt(e,t))return t;throw new qPt("Incorrect invocation")},YPt=ru,ZPt=YPt("toStringTag"),M0e={};M0e[ZPt]="z";var JPt=String(M0e)==="[object z]",eFt=JPt,tFt=jl,PF=Fw,nFt=ru,rFt=nFt("toStringTag"),iFt=Object,sFt=PF(function(){return arguments}())==="Arguments",aFt=function(t,e){try{return t[e]}catch(n){}},oW=eFt?PF:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=aFt(e=iFt(t),rFt))=="string"?n:sFt?PF(e):(r=PF(e))==="Object"&&tFt(e.callee)?"Arguments":r},oFt=Wl,lFt=Ql,L0e=jl,cFt=oW,uFt=Nw,hFt=tW,B0e=function(){},R0e=uFt("Reflect","construct"),lW=/^\s*(?:class|function)\b/,dFt=oFt(lW.exec),fFt=!lW.test(B0e),H2=function(e){if(!L0e(e))return!1;try{return R0e(B0e,[],e),!0}catch(n){return!1}},I0e=function(e){if(!L0e(e))return!1;switch(cFt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fFt||!!dFt(lW,hFt(e))}catch(n){return!0}};I0e.sham=!0;var AFt=!R0e||lFt(function(){var t;return H2(H2.call)||!H2(Object)||!H2(function(){t=!0})||t})?I0e:H2,pFt=AFt,gFt=KD,mFt=TypeError,vFt=function(t){if(pFt(t))return t;throw new mFt(gFt(t)+" is not a constructor")},Qre=uh,yFt=vFt,_Ft=Ow,wFt=ru,bFt=wFt("species"),P0e=function(t,e){var n=Qre(t).constructor,r;return n===void 0||_Ft(r=Qre(n)[bFt])?e:yFt(r)},xFt=QD,F0e=Function.prototype,Wre=F0e.apply,jre=F0e.call,O0e=typeof Reflect=="object"&&Reflect.apply||(xFt?jre.bind(Wre):function(){return jre.apply(Wre,arguments)}),EFt=Fw,SFt=Wl,tk=function(t){if(EFt(t)==="Function")return SFt(t)},Kre=tk,CFt=Xv,TFt=QD,MFt=Kre(Kre.bind),cW=function(t,e){return CFt(t),e===void 0?t:TFt?MFt(t,e):function(){return t.apply(e,arguments)}},LFt=Nw,N0e=LFt("document","documentElement"),BFt=Wl,RFt=BFt([].slice),IFt=TypeError,PFt=function(t,e){if(t<e)throw new IFt("Not enough arguments");return t},FFt=jD,D0e=/(?:ipad|iphone|ipod).*applewebkit/i.test(FFt),bf=$l,OFt=O0e,NFt=cW,qre=jl,DFt=$p,k0e=Ql,Xre=N0e,kFt=RFt,Yre=XD,UFt=PFt,HFt=D0e,GFt=gB,RV=bf.setImmediate,Zre=bf.clearImmediate,VFt=bf.process,L6=bf.Dispatch,zFt=bf.Function,Jre=bf.MessageChannel,$Ft=bf.String,B6=0,tM={},eie="onreadystatechange",oL,G_,R6,I6;k0e(function(){oL=bf.location});var uW=function(t){if(DFt(tM,t)){var e=tM[t];delete tM[t],e()}},P6=function(t){return function(){uW(t)}},tie=function(t){uW(t.data)},nie=function(t){bf.postMessage($Ft(t),oL.protocol+"//"+oL.host)};(!RV||!Zre)&&(RV=function(e){UFt(arguments.length,1);var n=qre(e)?e:zFt(e),r=kFt(arguments,1);return tM[++B6]=function(){OFt(n,void 0,r)},G_(B6),B6},Zre=function(e){delete tM[e]},GFt?G_=function(t){VFt.nextTick(P6(t))}:L6&&L6.now?G_=function(t){L6.now(P6(t))}:Jre&&!HFt?(R6=new Jre,I6=R6.port2,R6.port1.onmessage=tie,G_=NFt(I6.postMessage,I6)):bf.addEventListener&&qre(bf.postMessage)&&!bf.importScripts&&oL&&oL.protocol!=="file:"&&!k0e(nie)?(G_=nie,bf.addEventListener("message",tie,!1)):eie in Yre("script")?G_=function(t){Xre.appendChild(Yre("script"))[eie]=function(){Xre.removeChild(this),uW(t)}}:G_=function(t){setTimeout(P6(t),0)});var U0e={set:RV},rie=$l,QFt=zp,WFt=Object.getOwnPropertyDescriptor,jFt=function(t){if(!QFt)return rie[t];var e=WFt(rie,t);return e&&e.value},H0e=function(){this.head=null,this.tail=null};H0e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var G0e=H0e,KFt=jD,qFt=/ipad|iphone|ipod/i.test(KFt)&&typeof Pebble<"u",XFt=jD,YFt=/web0s(?!.*chrome)/i.test(XFt),RS=$l,ZFt=jFt,iie=cW,F6=U0e.set,JFt=G0e,eOt=D0e,tOt=qFt,nOt=YFt,O6=gB,sie=RS.MutationObserver||RS.WebKitMutationObserver,aie=RS.document,oie=RS.process,pP=RS.Promise,IV=ZFt("queueMicrotask"),_x,N6,D6,gP,lie;if(!IV){var mP=new JFt,vP=function(){var t,e;for(O6&&(t=oie.domain)&&t.exit();e=mP.get();)try{e()}catch(n){throw mP.head&&_x(),n}t&&t.enter()};!eOt&&!O6&&!nOt&&sie&&aie?(N6=!0,D6=aie.createTextNode(""),new sie(vP).observe(D6,{characterData:!0}),_x=function(){D6.data=N6=!N6}):!tOt&&pP&&pP.resolve?(gP=pP.resolve(void 0),gP.constructor=pP,lie=iie(gP.then,gP),_x=function(){lie(vP)}):O6?_x=function(){oie.nextTick(vP)}:(F6=iie(F6,RS),_x=function(){F6(vP)}),IV=function(t){mP.head||_x(),mP.add(t)}}var rOt=IV,iOt=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch(n){}},hW=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},sOt=$l,nk=sOt.Promise,V0e=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",aOt=V0e,oOt=gB,lOt=!aOt&&!oOt&&typeof window=="object"&&typeof document=="object",cOt=$l,nM=nk,uOt=jl,hOt=C0e,dOt=tW,fOt=ru,AOt=lOt,pOt=V0e,k6=YQ;nM&&nM.prototype;var gOt=fOt("species"),PV=!1,z0e=uOt(cOt.PromiseRejectionEvent),mOt=hOt("Promise",function(){var t=dOt(nM),e=t!==String(nM);if(!e&&k6===66)return!0;if(!k6||k6<51||!/native code/.test(t)){var n=new nM(function(s){s(1)}),r=function(s){s(function(){},function(){})},i=n.constructor={};if(i[gOt]=r,PV=n.then(function(){})instanceof r,!PV)return!0}return!e&&(AOt||pOt)&&!z0e}),mB={CONSTRUCTOR:mOt,REJECTION_EVENT:z0e,SUBCLASSING:PV},pC={},cie=Xv,vOt=TypeError,yOt=function(t){var e,n;this.promise=new t(function(r,i){if(e!==void 0||n!==void 0)throw new vOt("Bad Promise constructor");e=r,n=i}),this.resolve=cie(e),this.reject=cie(n)};pC.f=function(t){return new yOt(t)};var _Ot=Jh,IN=gB,My=$l,IS=Bu,uie=Dw,hie=T0e,wOt=ek,bOt=jPt,xOt=Xv,FF=jl,EOt=Cm,SOt=XPt,COt=P0e,$0e=U0e.set,dW=rOt,TOt=iOt,MOt=hW,LOt=G0e,Q0e=ZD,PN=nk,fW=mB,W0e=pC,rk="Promise",j0e=fW.CONSTRUCTOR,BOt=fW.REJECTION_EVENT,ROt=fW.SUBCLASSING,U6=Q0e.getterFor(rk),IOt=Q0e.set,Gx=PN&&PN.prototype,i1=PN,yP=Gx,K0e=My.TypeError,FV=My.document,AW=My.process,OV=W0e.f,POt=OV,FOt=!!(FV&&FV.createEvent&&My.dispatchEvent),q0e="unhandledrejection",OOt="rejectionhandled",die=0,X0e=1,NOt=2,pW=1,Y0e=2,_P,fie,DOt,Aie,Z0e=function(t){var e;return EOt(t)&&FF(e=t.then)?e:!1},J0e=function(t,e){var n=e.value,r=e.state===X0e,i=r?t.ok:t.fail,s=t.resolve,a=t.reject,o=t.domain,l,u,h;try{i?(r||(e.rejection===Y0e&&UOt(e),e.rejection=pW),i===!0?l=n:(o&&o.enter(),l=i(n),o&&(o.exit(),h=!0)),l===t.promise?a(new K0e("Promise-chain cycle")):(u=Z0e(l))?IS(u,l,s,a):s(l)):a(n)}catch(d){o&&!h&&o.exit(),a(d)}},eye=function(t,e){t.notified||(t.notified=!0,dW(function(){for(var n=t.reactions,r;r=n.get();)J0e(r,t);t.notified=!1,e&&!t.rejection&&kOt(t)}))},tye=function(t,e,n){var r,i;FOt?(r=FV.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),My.dispatchEvent(r)):r={promise:e,reason:n},!BOt&&(i=My["on"+t])?i(r):t===q0e&&TOt("Unhandled promise rejection",n)},kOt=function(t){IS($0e,My,function(){var e=t.facade,n=t.value,r=pie(t),i;if(r&&(i=MOt(function(){IN?AW.emit("unhandledRejection",n,e):tye(q0e,e,n)}),t.rejection=IN||pie(t)?Y0e:pW,i.error))throw i.value})},pie=function(t){return t.rejection!==pW&&!t.parent},UOt=function(t){IS($0e,My,function(){var e=t.facade;IN?AW.emit("rejectionHandled",e):tye(OOt,e,t.value)})},lE=function(t,e,n){return function(r){t(e,r,n)}},UE=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=NOt,eye(t,!0))},NV=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new K0e("Promise can't be resolved itself");var r=Z0e(e);r?dW(function(){var i={done:!1};try{IS(r,e,lE(NV,i,t),lE(UE,i,t))}catch(s){UE(i,s,t)}}):(t.value=e,t.state=X0e,eye(t,!1))}catch(i){UE({done:!1},i,t)}}};if(j0e&&(i1=function(e){SOt(this,yP),xOt(e),IS(_P,this);var n=U6(this);try{e(lE(NV,n),lE(UE,n))}catch(r){UE(n,r)}},yP=i1.prototype,_P=function(e){IOt(this,{type:rk,done:!1,notified:!1,parent:!1,reactions:new LOt,rejection:!1,state:die,value:void 0})},_P.prototype=uie(yP,"then",function(e,n){var r=U6(this),i=OV(COt(this,i1));return r.parent=!0,i.ok=FF(e)?e:!0,i.fail=FF(n)&&n,i.domain=IN?AW.domain:void 0,r.state===die?r.reactions.add(i):dW(function(){J0e(i,r)}),i.promise}),fie=function(){var t=new _P,e=U6(t);this.promise=t,this.resolve=lE(NV,e),this.reject=lE(UE,e)},W0e.f=OV=function(t){return t===i1||t===DOt?new fie(t):POt(t)},FF(PN)&&Gx!==Object.prototype)){Aie=Gx.then,ROt||uie(Gx,"then",function(e,n){var r=this;return new i1(function(i,s){IS(Aie,r,i,s)}).then(e,n)},{unsafe:!0});try{delete Gx.constructor}catch(t){}hie&&hie(Gx,yP)}_Ot({global:!0,constructor:!0,wrap:!0,forced:j0e},{Promise:i1});wOt(i1,rk,!1);bOt(rk);var vB={},HOt=ru,GOt=vB,VOt=HOt("iterator"),zOt=Array.prototype,$Ot=function(t){return t!==void 0&&(GOt.Array===t||zOt[VOt]===t)},QOt=oW,gie=fC,WOt=Ow,jOt=vB,KOt=ru,qOt=KOt("iterator"),nye=function(t){if(!WOt(t))return gie(t,qOt)||gie(t,"@@iterator")||jOt[QOt(t)]},XOt=Bu,YOt=Xv,ZOt=uh,JOt=KD,eNt=nye,tNt=TypeError,nNt=function(t,e){var n=arguments.length<2?eNt(t):e;if(YOt(n))return ZOt(XOt(n,t));throw new tNt(JOt(t)+" is not iterable")},rNt=Bu,mie=uh,iNt=fC,sNt=function(t,e,n){var r,i;mie(t);try{if(r=iNt(t,"return"),!r){if(e==="throw")throw n;return n}r=rNt(r,t)}catch(s){i=!0,r=s}if(e==="throw")throw n;if(i)throw r;return mie(r),n},aNt=cW,oNt=Bu,lNt=uh,cNt=KD,uNt=$Ot,hNt=sW,vie=WD,dNt=nNt,fNt=nye,yie=sNt,ANt=TypeError,OF=function(t,e){this.stopped=t,this.result=e},_ie=OF.prototype,rye=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_RECORD),a=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),l=aNt(e,r),u,h,d,f,A,m,g,y=function(x){return u&&yie(u,"normal",x),new OF(!0,x)},_=function(x){return i?(lNt(x),o?l(x[0],x[1],y):l(x[0],x[1])):o?l(x,y):l(x)};if(s)u=t.iterator;else if(a)u=t;else{if(h=fNt(t),!h)throw new ANt(cNt(t)+" is not iterable");if(uNt(h)){for(d=0,f=hNt(t);f>d;d++)if(A=_(t[d]),A&&vie(_ie,A))return A;return new OF(!1)}u=dNt(t,h)}for(m=s?t.next:u.next;!(g=oNt(m,u)).done;){try{A=_(g.value)}catch(x){yie(u,"throw",x)}if(typeof A=="object"&&A&&vie(_ie,A))return A}return new OF(!1)},pNt=ru,iye=pNt("iterator"),sye=!1;try{var gNt=0,wie={next:function(){return{done:!!gNt++}},return:function(){sye=!0}};wie[iye]=function(){return this},Array.from(wie,function(){throw 2})}catch(t){}var mNt=function(t,e){try{if(!e&&!sye)return!1}catch(i){return!1}var n=!1;try{var r={};r[iye]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(i){}return n},vNt=nk,yNt=mNt,_Nt=mB.CONSTRUCTOR,aye=_Nt||!yNt(function(t){vNt.all(t).then(void 0,function(){})}),wNt=Jh,bNt=Bu,xNt=Xv,ENt=pC,SNt=hW,CNt=rye,TNt=aye;wNt({target:"Promise",stat:!0,forced:TNt},{all:function(e){var n=this,r=ENt.f(n),i=r.resolve,s=r.reject,a=SNt(function(){var o=xNt(n.resolve),l=[],u=0,h=1;CNt(e,function(d){var f=u++,A=!1;h++,bNt(o,n,d).then(function(m){A||(A=!0,l[f]=m,--h||i(l))},s)}),--h||i(l)});return a.error&&s(a.value),r.promise}});var MNt=Jh,LNt=mB.CONSTRUCTOR,DV=nk,BNt=Nw,RNt=jl,INt=Dw,bie=DV&&DV.prototype;MNt({target:"Promise",proto:!0,forced:LNt,real:!0},{catch:function(t){return this.then(void 0,t)}});if(RNt(DV)){var xie=BNt("Promise").prototype.catch;bie.catch!==xie&&INt(bie,"catch",xie,{unsafe:!0})}var PNt=Jh,FNt=Bu,ONt=Xv,NNt=pC,DNt=hW,kNt=rye,UNt=aye;PNt({target:"Promise",stat:!0,forced:UNt},{race:function(e){var n=this,r=NNt.f(n),i=r.reject,s=DNt(function(){var a=ONt(n.resolve);kNt(e,function(o){FNt(a,n,o).then(r.resolve,i)})});return s.error&&i(s.value),r.promise}});var HNt=Jh,GNt=pC,VNt=mB.CONSTRUCTOR;HNt({target:"Promise",stat:!0,forced:VNt},{reject:function(e){var n=GNt.f(this),r=n.reject;return r(e),n.promise}});var zNt=uh,$Nt=Cm,QNt=pC,WNt=function(t,e){if(zNt(t),$Nt(e)&&e.constructor===t)return e;var n=QNt.f(t),r=n.resolve;return r(e),n.promise},jNt=Jh,KNt=Nw,qNt=mB.CONSTRUCTOR,XNt=WNt;KNt("Promise");jNt({target:"Promise",stat:!0,forced:qNt},{resolve:function(e){return XNt(this,e)}});function Eie(t,e,n,r,i,s,a){try{var o=t[s](a),l=o.value}catch(u){n(u);return}o.done?e(l):Promise.resolve(l).then(r,i)}function Ov(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(l){Eie(s,r,i,a,o,"next",l)}function o(l){Eie(s,r,i,a,o,"throw",l)}a(void 0)})}}var YNt=oW,ZNt=String,Tm=function(t){if(YNt(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ZNt(t)},JNt=uh,oye=function(){var t=JNt(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},gW=Ql,e5t=$l,mW=e5t.RegExp,vW=gW(function(){var t=mW("a","y");return t.lastIndex=2,t.exec("abcd")!==null});vW||gW(function(){return!mW("a","y").sticky});var t5t=vW||gW(function(){var t=mW("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),lye={BROKEN_CARET:t5t,UNSUPPORTED_Y:vW},cye={},n5t=E0e,r5t=aW,i5t=Object.keys||function(e){return n5t(e,r5t)},s5t=zp,a5t=p0e,o5t=Yv,l5t=uh,c5t=fB,u5t=i5t;cye.f=s5t&&!a5t?Object.defineProperties:function(e,n){l5t(e);for(var r=c5t(n),i=u5t(n),s=i.length,a=0,o;s>a;)o5t.f(e,o=i[a++],r[o]);return e};var h5t=uh,d5t=cye,Sie=aW,f5t=rW,A5t=N0e,p5t=XD,g5t=nW,Cie=">",Tie="<",kV="prototype",UV="script",uye=g5t("IE_PROTO"),H6=function(){},hye=function(t){return Tie+UV+Cie+t+Tie+"/"+UV+Cie},Mie=function(t){t.write(hye("")),t.close();var e=t.parentWindow.Object;return t=null,e},m5t=function(){var t=p5t("iframe"),e="java"+UV+":",n;return t.style.display="none",A5t.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(hye("document.F=Object")),n.close(),n.F},wP,NF=function(){try{wP=new ActiveXObject("htmlfile")}catch(e){}NF=typeof document<"u"?document.domain&&wP?Mie(wP):m5t():Mie(wP);for(var t=Sie.length;t--;)delete NF[kV][Sie[t]];return NF()};f5t[uye]=!0;var yW=Object.create||function(e,n){var r;return e!==null?(H6[kV]=h5t(e),r=new H6,H6[kV]=null,r[uye]=e):r=NF(),n===void 0?r:d5t.f(r,n)},v5t=Ql,y5t=$l,_5t=y5t.RegExp,w5t=v5t(function(){var t=_5t(".","s");return!(t.dotAll&&t.test("\n")&&t.flags==="s")}),b5t=Ql,x5t=$l,E5t=x5t.RegExp,S5t=b5t(function(){var t=E5t("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),cE=Bu,ik=Wl,C5t=Tm,T5t=oye,M5t=lye,L5t=eW,B5t=yW,R5t=ZD.get,I5t=w5t,P5t=S5t,F5t=L5t("native-string-replace",String.prototype.replace),FN=RegExp.prototype.exec,HV=FN,O5t=ik("".charAt),N5t=ik("".indexOf),D5t=ik("".replace),G6=ik("".slice),GV=function(){var t=/a/,e=/b*/g;return cE(FN,t,"a"),cE(FN,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),dye=M5t.BROKEN_CARET,VV=/()??/.exec("")[1]!==void 0,k5t=GV||VV||dye||I5t||P5t;k5t&&(HV=function(e){var n=this,r=R5t(n),i=C5t(e),s=r.raw,a,o,l,u,h,d,f;if(s)return s.lastIndex=n.lastIndex,a=cE(HV,s,i),n.lastIndex=s.lastIndex,a;var A=r.groups,m=dye&&n.sticky,g=cE(T5t,n),y=n.source,_=0,x=i;if(m&&(g=D5t(g,"y",""),N5t(g,"g")===-1&&(g+="g"),x=G6(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&O5t(i,n.lastIndex-1)!=="\n")&&(y="(?: "+y+")",x=" "+x,_++),o=new RegExp("^(?:"+y+")",g)),VV&&(o=new RegExp("^"+y+"$(?!\\s)",g)),GV&&(l=n.lastIndex),u=cE(FN,m?o:n,x),m?u?(u.input=G6(u.input,_),u[0]=G6(u[0],_),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:GV&&u&&(n.lastIndex=n.global?u.index+u[0].length:l),VV&&u&&u.length>1&&cE(F5t,u[0],o,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(u[h]=void 0)}),u&&A)for(u.groups=d=B5t(null),h=0;h<A.length;h++)f=A[h],d[f[0]]=u[f[1]];return u});var _W=HV,U5t=Jh,Lie=_W;U5t({target:"RegExp",proto:!0,forced:/./.exec!==Lie},{exec:Lie});var Bie=Bu,Rie=Dw,H5t=_W,Iie=Ql,fye=ru,G5t=AB,V5t=fye("species"),V6=RegExp.prototype,wW=function(t,e,n,r){var i=fye(t),s=!Iie(function(){var u={};return u[i]=function(){return 7},""[t](u)!==7}),a=s&&!Iie(function(){var u=!1,h=/a/;return t==="split"&&(h={},h.constructor={},h.constructor[V5t]=function(){return h},h.flags="",h[i]=/./[i]),h.exec=function(){return u=!0,null},h[i](""),!u});if(!s||!a||n){var o=/./[i],l=e(i,""[t],function(u,h,d,f,A){var m=h.exec;return m===H5t||m===V6.exec?s&&!A?{done:!0,value:Bie(o,h,d,f)}:{done:!0,value:Bie(u,d,h,f)}:{done:!1}});Rie(String.prototype,t,l[0]),Rie(V6,i,l[1])}r&&G5t(V6[i],"sham",!0)},bW=Wl,z5t=JD,$5t=Tm,Q5t=Sm,W5t=bW("".charAt),Pie=bW("".charCodeAt),j5t=bW("".slice),K5t=function(t){return function(e,n){var r=$5t(Q5t(e)),i=z5t(n),s=r.length,a,o;return i<0||i>=s?t?"":void 0:(a=Pie(r,i),a<55296||a>56319||i+1===s||(o=Pie(r,i+1))<56320||o>57343?t?W5t(r,i):a:t?j5t(r,i,i+2):(a-55296<<10)+(o-56320)+65536)}},q5t={charAt:K5t(!0)},X5t=q5t.charAt,xW=function(t,e,n){return e+(n?X5t(t,e).length:1)},Fie=Bu,Y5t=uh,Z5t=jl,J5t=Fw,eDt=_W,tDt=TypeError,EW=function(t,e){var n=t.exec;if(Z5t(n)){var r=Fie(n,t,e);return r!==null&&Y5t(r),r}if(J5t(t)==="RegExp")return Fie(eDt,t,e);throw new tDt("RegExp#exec called on incompatible receiver")},nDt=Bu,rDt=wW,iDt=uh,sDt=Ow,aDt=AC,z6=Tm,oDt=Sm,lDt=fC,cDt=xW,Oie=EW;rDt("match",function(t,e,n){return[function(i){var s=oDt(this),a=sDt(i)?void 0:lDt(i,t);return a?nDt(a,i,s):new RegExp(i)[t](z6(s))},function(r){var i=iDt(this),s=z6(r),a=n(e,i,s);if(a.done)return a.value;if(!i.global)return Oie(i,s);var o=i.unicode;i.lastIndex=0;for(var l=[],u=0,h;(h=Oie(i,s))!==null;){var d=z6(h[0]);l[u]=d,d===""&&(i.lastIndex=cDt(s,aDt(i.lastIndex),o)),u++}return u===0?null:l}]});var SW=Wl,uDt=qD,hDt=Math.floor,$6=SW("".charAt),dDt=SW("".replace),Q6=SW("".slice),fDt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ADt=/\$([$&'`]|\d{1,2})/g,pDt=function(t,e,n,r,i,s){var a=n+t.length,o=r.length,l=ADt;return i!==void 0&&(i=uDt(i),l=fDt),dDt(s,l,function(u,h){var d;switch($6(h,0)){case"$":return"$";case"&":return t;case"`":return Q6(e,0,n);case"'":return Q6(e,a);case"<":d=i[Q6(h,1,-1)];break;default:var f=+h;if(f===0)return u;if(f>o){var A=hDt(f/10);return A===0?u:A<=o?r[A-1]===void 0?$6(h,1):r[A-1]+$6(h,1):u}d=r[f-1]}return d===void 0?"":d})},gDt=O0e,Nie=Bu,sk=Wl,mDt=wW,vDt=Ql,yDt=uh,_Dt=jl,wDt=Ow,bDt=JD,xDt=AC,wx=Tm,EDt=Sm,SDt=xW,CDt=fC,TDt=pDt,MDt=EW,LDt=ru,zV=LDt("replace"),BDt=Math.max,RDt=Math.min,IDt=sk([].concat),W6=sk([].push),Die=sk("".indexOf),kie=sk("".slice),PDt=function(t){return t===void 0?t:String(t)},FDt=function(){return"a".replace(/./,"$0")==="$0"}(),Uie=function(){return/./[zV]?/./[zV]("a","$0")==="":!1}(),ODt=!vDt(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});mDt("replace",function(t,e,n){var r=Uie?"$":"$0";return[function(s,a){var o=EDt(this),l=wDt(s)?void 0:CDt(s,zV);return l?Nie(l,s,o,a):Nie(e,wx(o),s,a)},function(i,s){var a=yDt(this),o=wx(i);if(typeof s=="string"&&Die(s,r)===-1&&Die(s,"$<")===-1){var l=n(e,a,o,s);if(l.done)return l.value}var u=_Dt(s);u||(s=wx(s));var h=a.global,d;h&&(d=a.unicode,a.lastIndex=0);for(var f=[],A;A=MDt(a,o),!(A===null||(W6(f,A),!h));){var m=wx(A[0]);m===""&&(a.lastIndex=SDt(o,xDt(a.lastIndex),d))}for(var g="",y=0,_=0;_<f.length;_++){A=f[_];for(var x=wx(A[0]),S=BDt(RDt(bDt(A.index),o.length),0),C=[],M,B=1;B<A.length;B++)W6(C,PDt(A[B]));var E=A.groups;if(u){var L=IDt([x],C,S,o);E!==void 0&&W6(L,E),M=wx(gDt(s,void 0,L))}else M=TDt(x,o,S,C,E,s);S>=y&&(g+=kie(o,y,S)+M,y=S+x.length)}return g+kie(o,y)}]},!ODt||!FDt||Uie);var NDt=Cm,DDt=Fw,kDt=ru,UDt=kDt("match"),HDt=function(t){var e;return NDt(t)&&((e=t[UDt])!==void 0?!!e:DDt(t)==="RegExp")},GDt=HDt,VDt=TypeError,CW=function(t){if(GDt(t))throw new VDt("The method doesn't accept regular expressions");return t},zDt=ru,$Dt=zDt("match"),TW=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[$Dt]=!1,"/./"[t](e)}catch(r){}}return!1},QDt=Jh,WDt=tk,jDt=dB.f,KDt=AC,Hie=Tm,qDt=CW,XDt=Sm,YDt=TW,ZDt=WDt("".slice),JDt=Math.min,Aye=YDt("startsWith"),ekt=!Aye&&!!function(){var t=jDt(String.prototype,"startsWith");return t&&!t.writable}();QDt({target:"String",proto:!0,forced:!ekt&&!Aye},{startsWith:function(e){var n=Hie(XDt(this));qDt(e);var r=KDt(JDt(arguments.length>1?arguments[1]:void 0,n.length)),i=Hie(e);return ZDt(n,r,r+i.length)===i}});var tkt=ru,nkt=yW,rkt=Yv.f,$V=tkt("unscopables"),QV=Array.prototype;QV[$V]===void 0&&rkt(QV,$V,{configurable:!0,value:nkt(null)});var ikt=function(t){QV[$V][t]=!0},skt=Ql,akt=!skt(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),okt=$p,lkt=jl,ckt=qD,ukt=nW,hkt=akt,Gie=ukt("IE_PROTO"),WV=Object,dkt=WV.prototype,pye=hkt?WV.getPrototypeOf:function(t){var e=ckt(t);if(okt(e,Gie))return e[Gie];var n=e.constructor;return lkt(n)&&e instanceof n?n.prototype:e instanceof WV?dkt:null},fkt=Ql,Akt=jl,pkt=Cm,Vie=pye,gkt=Dw,mkt=ru,jV=mkt("iterator"),gye=!1,uw,j6,K6;[].keys&&(K6=[].keys(),"next"in K6?(j6=Vie(Vie(K6)),j6!==Object.prototype&&(uw=j6)):gye=!0);var vkt=!pkt(uw)||fkt(function(){var t={};return uw[jV].call(t)!==t});vkt&&(uw={});Akt(uw[jV])||gkt(uw,jV,function(){return this});var mye={IteratorPrototype:uw,BUGGY_SAFARI_ITERATORS:gye},ykt=mye.IteratorPrototype,_kt=yW,wkt=XQ,bkt=ek,xkt=vB,Ekt=function(){return this},Skt=function(t,e,n,r){var i=e+" Iterator";return t.prototype=_kt(ykt,{next:wkt(+!r,n)}),bkt(t,i,!1),xkt[i]=Ekt,t},Ckt=Jh,Tkt=Bu,vye=YD,Mkt=jl,Lkt=Skt,zie=pye,$ie=T0e,Bkt=ek,Rkt=AB,q6=Dw,Ikt=ru,Pkt=vB,yye=mye,Fkt=vye.PROPER,Okt=vye.CONFIGURABLE,Qie=yye.IteratorPrototype,bP=yye.BUGGY_SAFARI_ITERATORS,G2=Ikt("iterator"),Wie="keys",V2="values",jie="entries",Nkt=function(){return this},Dkt=function(t,e,n,r,i,s,a){Lkt(n,e,r);var o=function(_){if(_===i&&f)return f;if(!bP&&_&&_ in h)return h[_];switch(_){case Wie:return function(){return new n(this,_)};case V2:return function(){return new n(this,_)};case jie:return function(){return new n(this,_)}}return function(){return new n(this)}},l=e+" Iterator",u=!1,h=t.prototype,d=h[G2]||h["@@iterator"]||i&&h[i],f=!bP&&d||o(i),A=e==="Array"&&h.entries||d,m,g,y;if(A&&(m=zie(A.call(new t)),m!==Object.prototype&&m.next&&(zie(m)!==Qie&&($ie?$ie(m,Qie):Mkt(m[G2])||q6(m,G2,Nkt)),Bkt(m,l,!0))),Fkt&&i===V2&&d&&d.name!==V2&&(Okt?Rkt(h,"name",V2):(u=!0,f=function(){return Tkt(d,this)})),i)if(g={values:o(V2),keys:s?f:o(Wie),entries:o(jie)},a)for(y in g)(bP||u||!(y in h))&&q6(h,y,g[y]);else Ckt({target:e,proto:!0,forced:bP||u},g);return h[G2]!==f&&q6(h,G2,f,{name:i}),Pkt[e]=f,g},kkt=function(t,e){return{value:t,done:e}},Ukt=fB,MW=ikt,Kie=vB,_ye=ZD,Hkt=Yv.f,Gkt=Dkt,xP=kkt,Vkt=zp,wye="Array Iterator",zkt=_ye.set,$kt=_ye.getterFor(wye),Qkt=Gkt(Array,"Array",function(t,e){zkt(this,{type:wye,target:Ukt(t),index:0,kind:e})},function(){var t=$kt(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,xP(void 0,!0);switch(t.kind){case"keys":return xP(n,!1);case"values":return xP(e[n],!1)}return xP([n,e[n]],!1)},"values"),qie=Kie.Arguments=Kie.Array;MW("keys");MW("values");MW("entries");if(Vkt&&qie.name!=="values")try{Hkt(qie,"name",{value:"values"})}catch(t){}var Wkt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},jkt=XD,X6=jkt("span").classList,Xie=X6&&X6.constructor&&X6.constructor.prototype,Kkt=Xie===Object.prototype?void 0:Xie,Yie=$l,bye=Wkt,qkt=Kkt,pT=Qkt,Zie=AB,Xkt=ek,Ykt=ru,Y6=Ykt("iterator"),Z6=pT.values,xye=function(t,e){if(t){if(t[Y6]!==Z6)try{Zie(t,Y6,Z6)}catch(r){t[Y6]=Z6}if(Xkt(t,e,!0),bye[e]){for(var n in pT)if(t[n]!==pT[n])try{Zie(t,n,pT[n])}catch(r){t[n]=pT[n]}}}};for(var J6 in bye)xye(Yie[J6]&&Yie[J6].prototype,J6);xye(qkt,"DOMTokenList");function Zkt(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jkt(t){var e=Zkt(t,"string");return Ba(e)=="symbol"?e:String(e)}function LW(t,e,n){return e=Jkt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eUt=Xv,tUt=qD,nUt=a0e,rUt=sW,Jie=TypeError,ese="Reduce of empty array with no initial value",iUt=function(t){return function(e,n,r,i){var s=tUt(e),a=nUt(s),o=rUt(s);if(eUt(n),o===0&&r<2)throw new Jie(ese);var l=t?o-1:0,u=t?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=u;break}if(l+=u,t?l<0:o<=l)throw new Jie(ese)}for(;t?l>=0:o>l;l+=u)l in a&&(i=n(i,a[l],l,s));return i}},sUt={left:iUt(!1)},aUt=Ql,Eye=function(t,e){var n=[][t];return!!n&&aUt(function(){n.call(null,e||function(){return 1},1)})},oUt=Jh,lUt=sUt.left,cUt=Eye,tse=YQ,uUt=gB,hUt=!uUt&&tse>79&&tse<83,dUt=hUt||!cUt("reduce");oUt({target:"Array",proto:!0,forced:dUt},{reduce:function(e){var n=arguments.length;return lUt(this,e,n,n>1?arguments[1]:void 0)}});var fUt=Jh,AUt=tk,pUt=dB.f,gUt=AC,nse=Tm,mUt=CW,vUt=Sm,yUt=TW,_Ut=AUt("".slice),wUt=Math.min,Sye=yUt("endsWith"),bUt=!Sye&&!!function(){var t=pUt(String.prototype,"endsWith");return t&&!t.writable}();fUt({target:"String",proto:!0,forced:!bUt&&!Sye},{endsWith:function(e){var n=nse(vUt(this));mUt(e);var r=arguments.length>1?arguments[1]:void 0,i=n.length,s=r===void 0?i:wUt(gUt(r),i),a=nse(e);return _Ut(n,s-a.length,s)===a}});var e8=Bu,Cye=Wl,xUt=wW,EUt=uh,SUt=Ow,CUt=Sm,TUt=P0e,MUt=xW,LUt=AC,rse=Tm,BUt=fC,ise=EW,RUt=lye,IUt=Ql,bx=RUt.UNSUPPORTED_Y,PUt=4294967295,FUt=Math.min,t8=Cye([].push),n8=Cye("".slice),OUt=!IUt(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),sse="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;xUt("split",function(t,e,n){var r="0".split(void 0,0).length?function(i,s){return i===void 0&&s===0?[]:e8(e,this,i,s)}:e;return[function(s,a){var o=CUt(this),l=SUt(s)?void 0:BUt(s,t);return l?e8(l,s,o,a):e8(r,rse(o),s,a)},function(i,s){var a=EUt(this),o=rse(i);if(!sse){var l=n(r,a,o,s,r!==e);if(l.done)return l.value}var u=TUt(a,RegExp),h=a.unicode,d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(bx?"g":"y"),f=new u(bx?"^(?:"+a.source+")":a,d),A=s===void 0?PUt:s>>>0;if(A===0)return[];if(o.length===0)return ise(f,o)===null?[o]:[];for(var m=0,g=0,y=[];g<o.length;){f.lastIndex=bx?0:g;var _=ise(f,bx?n8(o,g):o),x;if(_===null||(x=FUt(LUt(f.lastIndex+(bx?g:0)),o.length))===m)g=MUt(o,g,h);else{if(t8(y,n8(o,m,g)),y.length===A)return y;for(var S=1;S<=_.length-1;S++)if(t8(y,_[S]),y.length===A)return y;g=m=x}}return t8(y,n8(o,m)),y}]},sse||!OUt,bx);var ak={exports:{}},gT={exports:{}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?gT.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(gT.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var a;return a=e(),a[0]*1e9+a[1]},r=t(),s=process.uptime()*1e9,i=r-s):Date.now?(gT.exports=function(){return Date.now()-n},n=Date.now()):(gT.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(aA);var NUt=gT.exports,DUt=NUt,wv=typeof window>"u"?aA:window,EP=["moz","webkit"],HE="AnimationFrame",PS=wv["request"+HE],lL=wv["cancel"+HE]||wv["cancelRequest"+HE];for(var z2=0;!PS&&z2<EP.length;z2++)PS=wv[EP[z2]+"Request"+HE],lL=wv[EP[z2]+"Cancel"+HE]||wv[EP[z2]+"CancelRequest"+HE];if(!PS||!lL){var r8=0,ase=0,V_=[],kUt=1e3/60;PS=function(t){if(V_.length===0){var e=DUt(),n=Math.max(0,kUt-(e-r8));r8=n+e,setTimeout(function(){var r=V_.slice(0);V_.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(r8)}catch(s){setTimeout(function(){throw s},0)}},Math.round(n))}return V_.push({handle:++ase,callback:t,cancelled:!1}),ase},lL=function(t){for(var e=0;e<V_.length;e++)V_[e].handle===t&&(V_[e].cancelled=!0)}}ak.exports=function(t){return PS.call(wv,t)};ak.exports.cancel=function(){lL.apply(wv,arguments)};ak.exports.polyfill=function(t){t||(t=wv),t.requestAnimationFrame=PS,t.cancelAnimationFrame=lL};var UUt=ak.exports;const i8=UQ(UUt);var Tye="	\n\v\f\r \u2028\u2029\uFEFF",HUt=Wl,GUt=Sm,VUt=Tm,KV=Tye,ose=HUt("".replace),zUt=RegExp("^["+KV+"]+"),$Ut=RegExp("(^|[^"+KV+"])["+KV+"]+$"),QUt=function(t){return function(e){var n=VUt(GUt(e));return t&1&&(n=ose(n,zUt,"")),t&2&&(n=ose(n,$Ut,"$1")),n}},WUt={trim:QUt(3)},jUt=YD.PROPER,KUt=Ql,lse=Tye,cse="",qUt=function(t){return KUt(function(){return!!lse[t]()||cse[t]()!==cse||jUt&&lse[t].name!==t})},XUt=Jh,YUt=WUt.trim,ZUt=qUt;XUt({target:"String",proto:!0,forced:ZUt("trim")},{trim:function(){return YUt(this)}});var JUt=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),parseFloat(l[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);if(a){var o=s(a);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+l+u+h},this.getHelpXML=function(){for(var l=new Array,u=0;u<n.length;u++)for(var h=n[u].example,d=0;d<h.length;d++)l[l.length]=h[d];for(var f in e)l[l.length]=f;var A=document.createElement("ul");A.setAttribute("id","rgbcolor-examples");for(var u=0;u<l.length;u++)try{var m=document.createElement("li"),g=new RGBColor(l[u]),y=document.createElement("div");y.style.cssText="margin: 3px; border: 1px solid black; background:"+g.toHex()+"; color:"+g.toHex(),y.appendChild(document.createTextNode("test"));var _=document.createTextNode(" "+l[u]+" -> "+g.toRGB()+" -> "+g.toHex());m.appendChild(y),m.appendChild(_),A.appendChild(m)}catch(S){}return A}};const qV=UQ(JUt);var e4t=Jh,t4t=tk,n4t=x0e.indexOf,r4t=Eye,XV=t4t([].indexOf),Mye=!!XV&&1/XV([1],1,-0)<0,i4t=Mye||!r4t("indexOf");e4t({target:"Array",proto:!0,forced:i4t},{indexOf:function(e){var n=arguments.length>1?arguments[1]:void 0;return Mye?XV(this,e,n)||0:n4t(this,e,n)}});var s4t=Jh,a4t=Wl,o4t=CW,l4t=Sm,use=Tm,c4t=TW,u4t=a4t("".indexOf);s4t({target:"String",proto:!0,forced:!c4t("includes")},{includes:function(e){return!!~u4t(use(l4t(this)),use(o4t(e)),arguments.length>1?arguments[1]:void 0)}});var h4t=Fw,d4t=Array.isArray||function(e){return h4t(e)==="Array"},f4t=Jh,A4t=Wl,p4t=d4t,g4t=A4t([].reverse),hse=[1,2];f4t({target:"Array",proto:!0,forced:String(hse)===String(hse.reverse())},{reverse:function(){return p4t(this)&&(this.length=this.length),g4t(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lye=function(t,e){return(Lye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function Bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lye(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function m4t(t){var e="";Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];if(r.type===ar.CLOSE_PATH)e+="z";else if(r.type===ar.HORIZ_LINE_TO)e+=(r.relative?"h":"H")+r.x;else if(r.type===ar.VERT_LINE_TO)e+=(r.relative?"v":"V")+r.y;else if(r.type===ar.MOVE_TO)e+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===ar.LINE_TO)e+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===ar.CURVE_TO)e+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===ar.SMOOTH_CURVE_TO)e+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===ar.QUAD_TO)e+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===ar.SMOOTH_QUAD_TO)e+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==ar.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+n+".");e+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return e}function YV(t,e){var n=t[0],r=t[1];return[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]}function tp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(typeof t[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof t[n]+" == typeof "+t[n]);return!0}var H0=Math.PI;function s8(t,e,n){t.lArcFlag=t.lArcFlag===0?0:1,t.sweepFlag=t.sweepFlag===0?0:1;var r=t.rX,i=t.rY,s=t.x,a=t.y;r=Math.abs(t.rX),i=Math.abs(t.rY);var o=YV([(e-s)/2,(n-a)/2],-t.xRot/180*H0),l=o[0],u=o[1],h=Math.pow(l,2)/Math.pow(r,2)+Math.pow(u,2)/Math.pow(i,2);1<h&&(r*=Math.sqrt(h),i*=Math.sqrt(h)),t.rX=r,t.rY=i;var d=Math.pow(r,2)*Math.pow(u,2)+Math.pow(i,2)*Math.pow(l,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-d)/d)),A=r*u/i*f,m=-i*l/r*f,g=YV([A,m],t.xRot/180*H0);t.cX=g[0]+(e+s)/2,t.cY=g[1]+(n+a)/2,t.phi1=Math.atan2((u-m)/i,(l-A)/r),t.phi2=Math.atan2((-u-m)/i,(-l-A)/r),t.sweepFlag===0&&t.phi2>t.phi1&&(t.phi2-=2*H0),t.sweepFlag===1&&t.phi2<t.phi1&&(t.phi2+=2*H0),t.phi1*=180/H0,t.phi2*=180/H0}function dse(t,e,n){tp(t,e,n);var r=t*t+e*e-n*n;if(0>r)return[];if(r===0)return[[t*n/(t*t+e*e),e*n/(t*t+e*e)]];var i=Math.sqrt(r);return[[(t*n+e*i)/(t*t+e*e),(e*n-t*i)/(t*t+e*e)],[(t*n-e*i)/(t*t+e*e),(e*n+t*i)/(t*t+e*e)]]}var ac,Jm=Math.PI/180;function fse(t,e,n){return(1-n)*t+n*e}function Ase(t,e,n,r){return t+Math.cos(r/180*H0)*e+Math.sin(r/180*H0)*n}function pse(t,e,n,r){var i=1e-6,s=e-t,a=n-e,o=3*s+3*(r-n)-6*a,l=6*(a-s),u=3*s;return Math.abs(o)<i?[-u/l]:function(h,d,f){var A=h*h/4-d;if(A<-1e-6)return[];if(A<=f)return[-h/2];var m=Math.sqrt(A);return[-h/2-m,-h/2+m]}(l/o,u/o,i)}function gse(t,e,n,r,i){var s=1-i;return t*(s*s*s)+e*(3*s*s*i)+n*(3*s*i*i)+r*(i*i*i)}(function(t){function e(){return i(function(o,l,u){return o.relative&&(o.x1!==void 0&&(o.x1+=l),o.y1!==void 0&&(o.y1+=u),o.x2!==void 0&&(o.x2+=l),o.y2!==void 0&&(o.y2+=u),o.x!==void 0&&(o.x+=l),o.y!==void 0&&(o.y+=u),o.relative=!1),o})}function n(){var o=NaN,l=NaN,u=NaN,h=NaN;return i(function(d,f,A){return d.type&ar.SMOOTH_CURVE_TO&&(d.type=ar.CURVE_TO,o=isNaN(o)?f:o,l=isNaN(l)?A:l,d.x1=d.relative?f-o:2*f-o,d.y1=d.relative?A-l:2*A-l),d.type&ar.CURVE_TO?(o=d.relative?f+d.x2:d.x2,l=d.relative?A+d.y2:d.y2):(o=NaN,l=NaN),d.type&ar.SMOOTH_QUAD_TO&&(d.type=ar.QUAD_TO,u=isNaN(u)?f:u,h=isNaN(h)?A:h,d.x1=d.relative?f-u:2*f-u,d.y1=d.relative?A-h:2*A-h),d.type&ar.QUAD_TO?(u=d.relative?f+d.x1:d.x1,h=d.relative?A+d.y1:d.y1):(u=NaN,h=NaN),d})}function r(){var o=NaN,l=NaN;return i(function(u,h,d){if(u.type&ar.SMOOTH_QUAD_TO&&(u.type=ar.QUAD_TO,o=isNaN(o)?h:o,l=isNaN(l)?d:l,u.x1=u.relative?h-o:2*h-o,u.y1=u.relative?d-l:2*d-l),u.type&ar.QUAD_TO){o=u.relative?h+u.x1:u.x1,l=u.relative?d+u.y1:u.y1;var f=u.x1,A=u.y1;u.type=ar.CURVE_TO,u.x1=((u.relative?0:h)+2*f)/3,u.y1=((u.relative?0:d)+2*A)/3,u.x2=(u.x+2*f)/3,u.y2=(u.y+2*A)/3}else o=NaN,l=NaN;return u})}function i(o){var l=0,u=0,h=NaN,d=NaN;return function(f){if(isNaN(h)&&!(f.type&ar.MOVE_TO))throw new Error("path must start with moveto");var A=o(f,l,u,h,d);return f.type&ar.CLOSE_PATH&&(l=h,u=d),f.x!==void 0&&(l=f.relative?l+f.x:f.x),f.y!==void 0&&(u=f.relative?u+f.y:f.y),f.type&ar.MOVE_TO&&(h=l,d=u),A}}function s(o,l,u,h,d,f){return tp(o,l,u,h,d,f),i(function(A,m,g,y){var _=A.x1,x=A.x2,S=A.relative&&!isNaN(y),C=A.x!==void 0?A.x:S?0:m,M=A.y!==void 0?A.y:S?0:g;function B(W){return W*W}A.type&ar.HORIZ_LINE_TO&&l!==0&&(A.type=ar.LINE_TO,A.y=A.relative?0:g),A.type&ar.VERT_LINE_TO&&u!==0&&(A.type=ar.LINE_TO,A.x=A.relative?0:m),A.x!==void 0&&(A.x=A.x*o+M*u+(S?0:d)),A.y!==void 0&&(A.y=C*l+A.y*h+(S?0:f)),A.x1!==void 0&&(A.x1=A.x1*o+A.y1*u+(S?0:d)),A.y1!==void 0&&(A.y1=_*l+A.y1*h+(S?0:f)),A.x2!==void 0&&(A.x2=A.x2*o+A.y2*u+(S?0:d)),A.y2!==void 0&&(A.y2=x*l+A.y2*h+(S?0:f));var E=o*h-l*u;if(A.xRot!==void 0&&(o!==1||l!==0||u!==0||h!==1))if(E===0)delete A.rX,delete A.rY,delete A.xRot,delete A.lArcFlag,delete A.sweepFlag,A.type=ar.LINE_TO;else{var L=A.xRot*Math.PI/180,I=Math.sin(L),k=Math.cos(L),O=1/B(A.rX),F=1/B(A.rY),U=B(k)*O+B(I)*F,$=2*I*k*(O-F),K=B(I)*O+B(k)*F,V=U*h*h-$*l*h+K*l*l,Q=$*(o*h+l*u)-2*(U*u*h+K*o*l),X=U*u*u-$*o*u+K*o*o,z=(Math.atan2(Q,V-X)+Math.PI)%Math.PI/2,ne=Math.sin(z),he=Math.cos(z);A.rX=Math.abs(E)/Math.sqrt(V*B(he)+Q*ne*he+X*B(ne)),A.rY=Math.abs(E)/Math.sqrt(V*B(ne)-Q*ne*he+X*B(he)),A.xRot=180*z/Math.PI}return A.sweepFlag!==void 0&&0>E&&(A.sweepFlag=+!A.sweepFlag),A})}function a(){return function(o){var l={};for(var u in o)l[u]=o[u];return l}}t.ROUND=function(o){function l(u){return Math.round(u*o)/o}return o===void 0&&(o=1e13),tp(o),function(u){return u.x1!==void 0&&(u.x1=l(u.x1)),u.y1!==void 0&&(u.y1=l(u.y1)),u.x2!==void 0&&(u.x2=l(u.x2)),u.y2!==void 0&&(u.y2=l(u.y2)),u.x!==void 0&&(u.x=l(u.x)),u.y!==void 0&&(u.y=l(u.y)),u.rX!==void 0&&(u.rX=l(u.rX)),u.rY!==void 0&&(u.rY=l(u.rY)),u}},t.TO_ABS=e,t.TO_REL=function(){return i(function(o,l,u){return o.relative||(o.x1!==void 0&&(o.x1-=l),o.y1!==void 0&&(o.y1-=u),o.x2!==void 0&&(o.x2-=l),o.y2!==void 0&&(o.y2-=u),o.x!==void 0&&(o.x-=l),o.y!==void 0&&(o.y-=u),o.relative=!0),o})},t.NORMALIZE_HVZ=function(o,l,u){return o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),i(function(h,d,f,A,m){if(isNaN(A)&&!(h.type&ar.MOVE_TO))throw new Error("path must start with moveto");return l&&h.type&ar.HORIZ_LINE_TO&&(h.type=ar.LINE_TO,h.y=h.relative?0:f),u&&h.type&ar.VERT_LINE_TO&&(h.type=ar.LINE_TO,h.x=h.relative?0:d),o&&h.type&ar.CLOSE_PATH&&(h.type=ar.LINE_TO,h.x=h.relative?A-d:A,h.y=h.relative?m-f:m),h.type&ar.ARC&&(h.rX===0||h.rY===0)&&(h.type=ar.LINE_TO,delete h.rX,delete h.rY,delete h.xRot,delete h.lArcFlag,delete h.sweepFlag),h})},t.NORMALIZE_ST=n,t.QT_TO_C=r,t.INFO=i,t.SANITIZE=function(o){o===void 0&&(o=0),tp(o);var l=NaN,u=NaN,h=NaN,d=NaN;return i(function(f,A,m,g,y){var _=Math.abs,x=!1,S=0,C=0;if(f.type&ar.SMOOTH_CURVE_TO&&(S=isNaN(l)?0:A-l,C=isNaN(u)?0:m-u),f.type&(ar.CURVE_TO|ar.SMOOTH_CURVE_TO)?(l=f.relative?A+f.x2:f.x2,u=f.relative?m+f.y2:f.y2):(l=NaN,u=NaN),f.type&ar.SMOOTH_QUAD_TO?(h=isNaN(h)?A:2*A-h,d=isNaN(d)?m:2*m-d):f.type&ar.QUAD_TO?(h=f.relative?A+f.x1:f.x1,d=f.relative?m+f.y1:f.y2):(h=NaN,d=NaN),f.type&ar.LINE_COMMANDS||f.type&ar.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&ar.CURVE_TO||f.type&ar.SMOOTH_CURVE_TO||f.type&ar.QUAD_TO||f.type&ar.SMOOTH_QUAD_TO){var M=f.x===void 0?0:f.relative?f.x:f.x-A,B=f.y===void 0?0:f.relative?f.y:f.y-m;S=isNaN(h)?f.x1===void 0?S:f.relative?f.x:f.x1-A:h-A,C=isNaN(d)?f.y1===void 0?C:f.relative?f.y:f.y1-m:d-m;var E=f.x2===void 0?0:f.relative?f.x:f.x2-A,L=f.y2===void 0?0:f.relative?f.y:f.y2-m;_(M)<=o&&_(B)<=o&&_(S)<=o&&_(C)<=o&&_(E)<=o&&_(L)<=o&&(x=!0)}return f.type&ar.CLOSE_PATH&&_(A-g)<=o&&_(m-y)<=o&&(x=!0),x?[]:f})},t.MATRIX=s,t.ROTATE=function(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),tp(o,l,u);var h=Math.sin(o),d=Math.cos(o);return s(d,h,-h,d,l-l*d+u*h,u-l*h-u*d)},t.TRANSLATE=function(o,l){return l===void 0&&(l=0),tp(o,l),s(1,0,0,1,o,l)},t.SCALE=function(o,l){return l===void 0&&(l=o),tp(o,l),s(o,0,0,l,0,0)},t.SKEW_X=function(o){return tp(o),s(1,0,Math.atan(o),1,0,0)},t.SKEW_Y=function(o){return tp(o),s(1,Math.atan(o),0,1,0,0)},t.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),tp(o),s(-1,0,0,1,o,0)},t.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),tp(o),s(1,0,0,-1,0,o)},t.A_TO_C=function(){return i(function(o,l,u){return ar.ARC===o.type?function(h,d,f){var A,m,g,y;h.cX||s8(h,d,f);for(var _=Math.min(h.phi1,h.phi2),x=Math.max(h.phi1,h.phi2)-_,S=Math.ceil(x/90),C=new Array(S),M=d,B=f,E=0;E<S;E++){var L=fse(h.phi1,h.phi2,E/S),I=fse(h.phi1,h.phi2,(E+1)/S),k=I-L,O=4/3*Math.tan(k*Jm/4),F=[Math.cos(L*Jm)-O*Math.sin(L*Jm),Math.sin(L*Jm)+O*Math.cos(L*Jm)],U=F[0],$=F[1],K=[Math.cos(I*Jm),Math.sin(I*Jm)],V=K[0],Q=K[1],X=[V+O*Math.sin(I*Jm),Q-O*Math.cos(I*Jm)],z=X[0],ne=X[1];C[E]={relative:h.relative,type:ar.CURVE_TO};var he=function(W,Y){var oe=YV([W*h.rX,Y*h.rY],h.xRot),fe=oe[0],me=oe[1];return[h.cX+fe,h.cY+me]};A=he(U,$),C[E].x1=A[0],C[E].y1=A[1],m=he(z,ne),C[E].x2=m[0],C[E].y2=m[1],g=he(V,Q),C[E].x=g[0],C[E].y=g[1],h.relative&&(C[E].x1-=M,C[E].y1-=B,C[E].x2-=M,C[E].y2-=B,C[E].x-=M,C[E].y-=B),M=(y=[C[E].x,C[E].y])[0],B=y[1]}return C}(o,o.relative?0:l,o.relative?0:u):o})},t.ANNOTATE_ARCS=function(){return i(function(o,l,u){return o.relative&&(l=0,u=0),ar.ARC===o.type&&s8(o,l,u),o})},t.CLONE=a,t.CALCULATE_BOUNDS=function(){var o=function(f){var A={};for(var m in f)A[m]=f[m];return A},l=e(),u=r(),h=n(),d=i(function(f,A,m){var g=h(u(l(o(f))));function y(ne){ne>d.maxX&&(d.maxX=ne),ne<d.minX&&(d.minX=ne)}function _(ne){ne>d.maxY&&(d.maxY=ne),ne<d.minY&&(d.minY=ne)}if(g.type&ar.DRAWING_COMMANDS&&(y(A),_(m)),g.type&ar.HORIZ_LINE_TO&&y(g.x),g.type&ar.VERT_LINE_TO&&_(g.y),g.type&ar.LINE_TO&&(y(g.x),_(g.y)),g.type&ar.CURVE_TO){y(g.x),_(g.y);for(var x=0,S=pse(A,g.x1,g.x2,g.x);x<S.length;x++)0<(z=S[x])&&1>z&&y(gse(A,g.x1,g.x2,g.x,z));for(var C=0,M=pse(m,g.y1,g.y2,g.y);C<M.length;C++)0<(z=M[C])&&1>z&&_(gse(m,g.y1,g.y2,g.y,z))}if(g.type&ar.ARC){y(g.x),_(g.y),s8(g,A,m);for(var B=g.xRot/180*Math.PI,E=Math.cos(B)*g.rX,L=Math.sin(B)*g.rX,I=-Math.sin(B)*g.rY,k=Math.cos(B)*g.rY,O=g.phi1<g.phi2?[g.phi1,g.phi2]:-180>g.phi2?[g.phi2+360,g.phi1+360]:[g.phi2,g.phi1],F=O[0],U=O[1],$=function(ne){var he=ne[0],W=ne[1],Y=180*Math.atan2(W,he)/Math.PI;return Y<F?Y+360:Y},K=0,V=dse(I,-E,0).map($);K<V.length;K++)(z=V[K])>F&&z<U&&y(Ase(g.cX,E,I,z));for(var Q=0,X=dse(k,-L,0).map($);Q<X.length;Q++){var z;(z=X[Q])>F&&z<U&&_(Ase(g.cY,L,k,z))}}return f});return d.minX=1/0,d.maxX=-1/0,d.minY=1/0,d.maxY=-1/0,d}})(ac||(ac={}));var YA,Rye=function(){function t(){}return t.prototype.round=function(e){return this.transform(ac.ROUND(e))},t.prototype.toAbs=function(){return this.transform(ac.TO_ABS())},t.prototype.toRel=function(){return this.transform(ac.TO_REL())},t.prototype.normalizeHVZ=function(e,n,r){return this.transform(ac.NORMALIZE_HVZ(e,n,r))},t.prototype.normalizeST=function(){return this.transform(ac.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(ac.QT_TO_C())},t.prototype.aToC=function(){return this.transform(ac.A_TO_C())},t.prototype.sanitize=function(e){return this.transform(ac.SANITIZE(e))},t.prototype.translate=function(e,n){return this.transform(ac.TRANSLATE(e,n))},t.prototype.scale=function(e,n){return this.transform(ac.SCALE(e,n))},t.prototype.rotate=function(e,n,r){return this.transform(ac.ROTATE(e,n,r))},t.prototype.matrix=function(e,n,r,i,s,a){return this.transform(ac.MATRIX(e,n,r,i,s,a))},t.prototype.skewX=function(e){return this.transform(ac.SKEW_X(e))},t.prototype.skewY=function(e){return this.transform(ac.SKEW_Y(e))},t.prototype.xSymmetry=function(e){return this.transform(ac.X_AXIS_SYMMETRY(e))},t.prototype.ySymmetry=function(e){return this.transform(ac.Y_AXIS_SYMMETRY(e))},t.prototype.annotateArcs=function(){return this.transform(ac.ANNOTATE_ARCS())},t}(),v4t=function(t){return t===" "||t==="	"||t==="\r"||t==="\n"},mse=function(t){return 48<=t.charCodeAt(0)&&t.charCodeAt(0)<=57},y4t=function(t){function e(){var n=t.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return Bye(e,t),e.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},e.prototype.parse=function(n,r){var i=this;r===void 0&&(r=[]);for(var s=function(d){r.push(d),i.curArgs.length=0,i.canParseCommandOrComma=!0},a=0;a<n.length;a++){var o=n[a],l=!(this.curCommandType!==ar.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),u=mse(o)&&(this.curNumber==="0"&&o==="0"||l);if(!mse(o)||u)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||l){if(this.curNumber&&this.curCommandType!==-1){var h=Number(this.curNumber);if(isNaN(h))throw new SyntaxError("Invalid number ending at "+a);if(this.curCommandType===ar.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>h)throw new SyntaxError('Expected positive number, got "'+h+'" at index "'+a+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"')}this.curArgs.push(h),this.curArgs.length===_4t[this.curCommandType]&&(ar.HORIZ_LINE_TO===this.curCommandType?s({type:ar.HORIZ_LINE_TO,relative:this.curCommandRelative,x:h}):ar.VERT_LINE_TO===this.curCommandType?s({type:ar.VERT_LINE_TO,relative:this.curCommandRelative,y:h}):this.curCommandType===ar.MOVE_TO||this.curCommandType===ar.LINE_TO||this.curCommandType===ar.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ar.MOVE_TO===this.curCommandType&&(this.curCommandType=ar.LINE_TO)):this.curCommandType===ar.CURVE_TO?s({type:ar.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ar.SMOOTH_CURVE_TO?s({type:ar.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ar.QUAD_TO?s({type:ar.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ar.ARC&&s({type:ar.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!v4t(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(u)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+a+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+a+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=ar.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=ar.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=ar.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=ar.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=ar.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=ar.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=ar.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=ar.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+a+".");this.curCommandType=ar.ARC,this.curCommandRelative=o==="a"}else r.push({type:ar.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return r},e.prototype.transform=function(n){return Object.create(this,{parse:{value:function(r,i){i===void 0&&(i=[]);for(var s=0,a=Object.getPrototypeOf(this).parse.call(this,r);s<a.length;s++){var o=a[s],l=n(o);Array.isArray(l)?i.push.apply(i,l):i.push(l)}return i}}})},e}(Rye),ar=function(t){function e(n){var r=t.call(this)||this;return r.commands=typeof n=="string"?e.parse(n):n,r}return Bye(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var n=ac.CALCULATE_BOUNDS();return this.transform(n),n},e.prototype.transform=function(n){for(var r=[],i=0,s=this.commands;i<s.length;i++){var a=n(s[i]);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return this.commands=r,this},e.encode=function(n){return m4t(n)},e.parse=function(n){var r=new y4t,i=[];return r.parse(n,i),r.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(Rye),_4t=((YA={})[ar.MOVE_TO]=2,YA[ar.LINE_TO]=2,YA[ar.HORIZ_LINE_TO]=1,YA[ar.VERT_LINE_TO]=1,YA[ar.CLOSE_PATH]=0,YA[ar.QUAD_TO]=4,YA[ar.SMOOTH_QUAD_TO]=2,YA[ar.CURVE_TO]=6,YA[ar.SMOOTH_CURVE_TO]=4,YA[ar.ARC]=7,YA),w4t=Bu,b4t=$p,x4t=WD,E4t=oye,vse=RegExp.prototype,S4t=function(t){var e=t.flags;return e===void 0&&!("flags"in vse)&&!b4t(t,"flags")&&x4t(vse,t)?w4t(E4t,t):e},C4t=YD.PROPER,T4t=Dw,M4t=uh,yse=Tm,L4t=Ql,B4t=S4t,BW="toString",Iye=RegExp.prototype,Pye=Iye[BW],R4t=L4t(function(){return Pye.call({source:"a",flags:"b"})!=="/a/b"}),I4t=C4t&&Pye.name!==BW;(R4t||I4t)&&T4t(Iye,BW,function(){var e=M4t(this),n=yse(e.source),r=yse(B4t(e));return"/"+n+"/"+r},{unsafe:!0});function DF(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?DF=function(e){return typeof e}:DF=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DF(t)}function P4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var F4t=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],O4t=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function N4t(t,e,n,r,i){if(typeof t=="string"&&(t=document.getElementById(t)),!t||DF(t)!=="object"||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=t.getContext("2d");try{return s.getImageData(e,n,r,i)}catch(a){throw new Error("unable to access image data: "+a)}}function D4t(t,e,n,r,i,s){if(!(isNaN(s)||s<1)){s|=0;var a=N4t(t,e,n,r,i);a=k4t(a,e,n,r,i,s),t.getContext("2d").putImageData(a,e,n)}}function k4t(t,e,n,r,i,s){for(var a=t.data,o=2*s+1,l=r-1,u=i-1,h=s+1,d=h*(h+1)/2,f=new _se,A=f,m,g=1;g<o;g++)A=A.next=new _se,g===h&&(m=A);A.next=f;for(var y=null,_=null,x=0,S=0,C=F4t[s],M=O4t[s],B=0;B<i;B++){A=f;for(var E=a[S],L=a[S+1],I=a[S+2],k=a[S+3],O=0;O<h;O++)A.r=E,A.g=L,A.b=I,A.a=k,A=A.next;for(var F=0,U=0,$=0,K=0,V=h*E,Q=h*L,X=h*I,z=h*k,ne=d*E,he=d*L,W=d*I,Y=d*k,oe=1;oe<h;oe++){var fe=S+((l<oe?l:oe)<<2),me=a[fe],ce=a[fe+1],be=a[fe+2],xe=a[fe+3],Ie=h-oe;ne+=(A.r=me)*Ie,he+=(A.g=ce)*Ie,W+=(A.b=be)*Ie,Y+=(A.a=xe)*Ie,F+=me,U+=ce,$+=be,K+=xe,A=A.next}y=f,_=m;for(var Qe=0;Qe<r;Qe++){var ue=Y*C>>>M;if(a[S+3]=ue,ue!==0){var ye=255/ue;a[S]=(ne*C>>>M)*ye,a[S+1]=(he*C>>>M)*ye,a[S+2]=(W*C>>>M)*ye}else a[S]=a[S+1]=a[S+2]=0;ne-=V,he-=Q,W-=X,Y-=z,V-=y.r,Q-=y.g,X-=y.b,z-=y.a;var $e=Qe+s+1;$e=x+($e<l?$e:l)<<2,F+=y.r=a[$e],U+=y.g=a[$e+1],$+=y.b=a[$e+2],K+=y.a=a[$e+3],ne+=F,he+=U,W+=$,Y+=K,y=y.next;var Ve=_,Se=Ve.r,at=Ve.g,ft=Ve.b,je=Ve.a;V+=Se,Q+=at,X+=ft,z+=je,F-=Se,U-=at,$-=ft,K-=je,_=_.next,S+=4}x+=r}for(var gt=0;gt<r;gt++){S=gt<<2;var vt=a[S],Te=a[S+1],we=a[S+2],Ne=a[S+3],Ze=h*vt,Tt=h*Te,Zt=h*we,ln=h*Ne,Ye=d*vt,yt=d*Te,Qt=d*we,Dt=d*Ne;A=f;for(var st=0;st<h;st++)A.r=vt,A.g=Te,A.b=we,A.a=Ne,A=A.next;for(var ke=r,ct=0,Oe=0,kt=0,wn=0,mt=1;mt<=s;mt++){S=ke+gt<<2;var Kt=h-mt;Ye+=(A.r=vt=a[S])*Kt,yt+=(A.g=Te=a[S+1])*Kt,Qt+=(A.b=we=a[S+2])*Kt,Dt+=(A.a=Ne=a[S+3])*Kt,wn+=vt,ct+=Te,Oe+=we,kt+=Ne,A=A.next,mt<u&&(ke+=r)}S=gt,y=f,_=m;for(var bn=0;bn<i;bn++){var Rn=S<<2;a[Rn+3]=Ne=Dt*C>>>M,Ne>0?(Ne=255/Ne,a[Rn]=(Ye*C>>>M)*Ne,a[Rn+1]=(yt*C>>>M)*Ne,a[Rn+2]=(Qt*C>>>M)*Ne):a[Rn]=a[Rn+1]=a[Rn+2]=0,Ye-=Ze,yt-=Tt,Qt-=Zt,Dt-=ln,Ze-=y.r,Tt-=y.g,Zt-=y.b,ln-=y.a,Rn=gt+((Rn=bn+h)<u?Rn:u)*r<<2,Ye+=wn+=y.r=a[Rn],yt+=ct+=y.g=a[Rn+1],Qt+=Oe+=y.b=a[Rn+2],Dt+=kt+=y.a=a[Rn+3],y=y.next,Ze+=vt=_.r,Tt+=Te=_.g,Zt+=we=_.b,ln+=Ne=_.a,wn-=vt,ct-=Te,Oe-=we,kt-=Ne,_=_.next,S+=r}}return t}var _se=function t(){P4t(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function U4t(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas(n,r){return new OffscreenCanvas(n,r)},createImage(n){return Ov(function*(){var r=yield fetch(n),i=yield r.blob(),s=yield createImageBitmap(i);return s})()}};return(typeof DOMParser<"u"||typeof t>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function H4t(t){var{DOMParser:e,canvas:n,fetch:r}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:r,createCanvas:n.createCanvas,createImage:n.loadImage}}var G4t=Object.freeze({__proto__:null,offscreen:U4t,node:H4t});function kw(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Fye(t){return t.replace(/^[\n \t]+/,"")}function Oye(t){return t.replace(/[\n \t]+$/,"")}function Nd(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var V4t=/^[A-Z-]+$/;function Nye(t){return V4t.test(t)?t.toLowerCase():t}function RW(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Dye(t){if(!t.startsWith("rgb"))return t;var e=3,n=t.replace(/\d+(\.\d+)?/g,(r,i)=>e--&&i?String(Math.round(parseFloat(r))):r);return n}var z4t=/(\[[^\]]+\])/g,$4t=/(#[^\s+>~.[:]+)/g,Q4t=/(\.[^\s+>~.[:]+)/g,W4t=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,j4t=/(:[\w-]+\([^)]*\))/gi,K4t=/(:[^\s+>~.[:]+)/g,q4t=/([^\s+>~.[:]+)/g;function z_(t,e){var n=e.exec(t);return n?[t.replace(e," "),n.length]:[t,0]}function kye(t){var e=[0,0,0],n=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[n,r]=z_(n,z4t),e[1]+=r,[n,r]=z_(n,$4t),e[0]+=r,[n,r]=z_(n,Q4t),e[1]+=r,[n,r]=z_(n,W4t),e[2]+=r,[n,r]=z_(n,j4t),e[1]+=r,[n,r]=z_(n,K4t),e[1]+=r,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,r]=z_(n,q4t),e[2]+=r,e.join("")}var H1=1e-8;function ZV(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function ON(t,e){return(t[0]*e[0]+t[1]*e[1])/(ZV(t)*ZV(e))}function JV(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ON(t,e))}function ez(t){return t*t*t}function tz(t){return 3*t*t*(1-t)}function nz(t){return 3*t*(1-t)*(1-t)}function rz(t){return(1-t)*(1-t)*(1-t)}function iz(t){return t*t}function sz(t){return 2*t*(1-t)}function az(t){return(1-t)*(1-t)}class Pi{constructor(e,n,r){this.document=e,this.name=n,this.value=r,this.isNormalizedColor=!1}static empty(e){return new Pi(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:n,name:r}=this;return kw(this.getString()).trim().split(e).map(i=>new Pi(n,r,i))}hasValue(e){var{value:n}=this;return n!==null&&n!==""&&(e||n!==0)&&typeof n<"u"}isString(e){var{value:n}=this,r=typeof n=="string";return!r||!e?r:e.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:n}=this,r=parseFloat(n);return this.isString(/%$/)&&(r/=100),r}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var n=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=Dye(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[r,i]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:s}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(s.computeSize("x"),s.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(s.computeSize("x"),s.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*s.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*s.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*s.computeSize(r);default:{var a=this.getNumber();return n&&a<1?a*s.computeSize(r):a}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),n=/#([^)'"]+)/.exec(e);return n&&(n=n[1]),n||(n=e),this.document.definitions[n]}getFillStyleDefinition(e,n){var r=this.getDefinition();if(!r)return null;if(typeof r.createGradient=="function")return r.createGradient(this.document.ctx,e,n);if(typeof r.createPattern=="function"){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&r.getAttribute("patternTransform",!0).setValue(i.value)}return r.createPattern(this.document.ctx,e,n)}return null}getTextBaseline(){return this.hasValue()?Pi.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var n=this.getColor(),r=n.length,i=0,s=0;s<r&&(n[s]===","&&i++,i!==3);s++);if(e.hasValue()&&this.isString()&&i!==3){var a=new qV(n);a.ok&&(a.alpha=e.getNumber(),n=a.toRGBA())}return new Pi(this.document,this.name,n)}}Pi.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Uye{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,n){this.viewPorts.push({width:e,height:n})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class bl{constructor(e,n){this.x=e,this.y=n}static parse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[r=n,i=n]=Nd(e);return new bl(r,i)}static parseScale(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[r=n,i=r]=Nd(e);return new bl(r,i)}static parsePath(e){for(var n=Nd(e),r=n.length,i=[],s=0;s<r;s+=2)i.push(new bl(n[s],n[s+1]));return i}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:n,y:r}=this,i=n*e[0]+r*e[2]+e[4],s=n*e[1]+r*e[3]+e[5];this.x=i,this.y=s}}class Hye{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:n,onMouseMove:r}=this,i=e.ctx.canvas;i.onclick=n,i.onmousemove=r,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:n,eventElements:r}=this,{style:i}=e.ctx.canvas;i&&(i.cursor=""),n.forEach((s,a)=>{for(var{run:o}=s,l=r[a];l;)o(l),l=l.parent}),this.events=[],this.eventElements=[]}}checkPath(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,a)=>{var{x:o,y:l}=s;!i[a]&&n.isPointInPath&&n.isPointInPath(o,l)&&(i[a]=e)})}}checkBoundingBox(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,a)=>{var{x:o,y:l}=s;!i[a]&&n.isPointInBox(o,l)&&(i[a]=e)})}}mapXY(e,n){for(var{window:r,ctx:i}=this.screen,s=new bl(e,n),a=i.canvas;a;)s.x-=a.offsetLeft,s.y-=a.offsetTop,a=a.offsetParent;return r.scrollX&&(s.x+=r.scrollX),r.scrollY&&(s.y+=r.scrollY),s}onClick(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:n,y:r,run(i){i.onClick&&i.onClick()}})}onMouseMove(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:n,y:r,run(i){i.onMouseMove&&i.onMouseMove()}})}}var Gye=typeof window<"u"?window:null,Vye=typeof fetch<"u"?fetch.bind(void 0):null;class yB{constructor(e){var{fetch:n=Vye,window:r=Gye}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Uye,this.mouse=new Hye(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=n}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(n=>n());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:n,ctx:r,aspectRatio:i,width:s,desiredWidth:a,height:o,desiredHeight:l,minX:u=0,minY:h=0,refX:d,refY:f,clip:A=!1,clipX:m=0,clipY:g=0}=e,y=kw(i).replace(/^defer\s/,""),[_,x]=y.split(" "),S=_||"xMidYMid",C=x||"meet",M=s/a,B=o/l,E=Math.min(M,B),L=Math.max(M,B),I=a,k=l;C==="meet"&&(I*=E,k*=E),C==="slice"&&(I*=L,k*=L);var O=new Pi(n,"refX",d),F=new Pi(n,"refY",f),U=O.hasValue()&&F.hasValue();if(U&&r.translate(-E*O.getPixels("x"),-E*F.getPixels("y")),A){var $=E*m,K=E*g;r.beginPath(),r.moveTo($,K),r.lineTo(s,K),r.lineTo(s,o),r.lineTo($,o),r.closePath(),r.clip()}if(!U){var V=C==="meet"&&E===B,Q=C==="slice"&&L===B,X=C==="meet"&&E===M,z=C==="slice"&&L===M;S.startsWith("xMid")&&(V||Q)&&r.translate(s/2-I/2,0),S.endsWith("YMid")&&(X||z)&&r.translate(0,o/2-k/2),S.startsWith("xMax")&&(V||Q)&&r.translate(s-I,0),S.endsWith("YMax")&&(X||z)&&r.translate(0,o-k)}switch(!0){case S==="none":r.scale(M,B);break;case C==="meet":r.scale(E,E);break;case C==="slice":r.scale(L,L);break}r.translate(-u,-h)}start(e){var{enableRedraw:n=!1,ignoreMouse:r=!1,ignoreAnimation:i=!1,ignoreDimensions:s=!1,ignoreClear:a=!1,forceRedraw:o,scaleWidth:l,scaleHeight:u,offsetX:h,offsetY:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:f,mouse:A}=this,m=1e3/f;if(this.frameDuration=m,this.readyPromise=new Promise(S=>{this.resolveReady=S}),this.isReady()&&this.render(e,s,a,l,u,h,d),!!n){var g=Date.now(),y=g,_=0,x=()=>{g=Date.now(),_=g-y,_>=m&&(y=g-_%m,this.shouldUpdate(i,o)&&(this.render(e,s,a,l,u,h,d),A.runEvents())),this.intervalId=i8(x)};r||A.start(),this.intervalId=i8(x)}}stop(){this.intervalId&&(i8.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,n){if(!e){var{frameDuration:r}=this,i=this.animations.reduce((s,a)=>a.update(r)||s,!1);if(i)return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,n,r,i,s,a,o){var{CLIENT_WIDTH:l,CLIENT_HEIGHT:u,viewPort:h,ctx:d,isFirstRender:f}=this,A=d.canvas;h.clear(),A.width&&A.height?h.setCurrent(A.width,A.height):h.setCurrent(l,u);var m=e.getStyle("width"),g=e.getStyle("height");!n&&(f||typeof i!="number"&&typeof s!="number")&&(m.hasValue()&&(A.width=m.getPixels("x"),A.style&&(A.style.width="".concat(A.width,"px"))),g.hasValue()&&(A.height=g.getPixels("y"),A.style&&(A.style.height="".concat(A.height,"px"))));var y=A.clientWidth||A.width,_=A.clientHeight||A.height;if(n&&m.hasValue()&&g.hasValue()&&(y=m.getPixels("x"),_=g.getPixels("y")),h.setCurrent(y,_),typeof a=="number"&&e.getAttribute("x",!0).setValue(a),typeof o=="number"&&e.getAttribute("y",!0).setValue(o),typeof i=="number"||typeof s=="number"){var x=Nd(e.getAttribute("viewBox").getString()),S=0,C=0;if(typeof i=="number"){var M=e.getStyle("width");M.hasValue()?S=M.getPixels("x")/i:isNaN(x[2])||(S=x[2]/i)}if(typeof s=="number"){var B=e.getStyle("height");B.hasValue()?C=B.getPixels("y")/s:isNaN(x[3])||(C=x[3]/s)}S||(S=C),C||(C=S),e.getAttribute("width",!0).setValue(i),e.getAttribute("height",!0).setValue(s);var E=e.getStyle("transform",!0,!0);E.setValue("".concat(E.getString()," scale(").concat(1/S,", ").concat(1/C,")"))}r||d.clearRect(0,0,y,_),e.render(d),f&&(this.isFirstRender=!1)}}yB.defaultWindow=Gye;yB.defaultFetch=Vye;var{defaultFetch:X4t}=yB,Y4t=typeof DOMParser<"u"?DOMParser:null;class kF{constructor(){var{fetch:e=X4t,DOMParser:n=Y4t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=n}parse(e){var n=this;return Ov(function*(){return e.startsWith("<")?n.parseFromString(e):n.load(e)})()}parseFromString(e){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(e,"image/svg+xml"))}catch(r){return this.checkDocument(n.parseFromString(e,"text/xml"))}}checkDocument(e){var n=e.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return e}load(e){var n=this;return Ov(function*(){var r=yield n.fetch(e),i=yield r.text();return n.parseFromString(i)})()}}class zye{constructor(e,n){this.type="translate",this.point=null,this.point=bl.parse(n)}apply(e){var{x:n,y:r}=this.point;e.translate(n||0,r||0)}unapply(e){var{x:n,y:r}=this.point;e.translate(-1*n||0,-1*r||0)}applyToPoint(e){var{x:n,y:r}=this.point;e.applyTransform([1,0,0,1,n||0,r||0])}}class $ye{constructor(e,n,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=Nd(n);this.angle=new Pi(e,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(e){var{cx:n,cy:r,originX:i,originY:s,angle:a}=this,o=n+i.getPixels("x"),l=r+s.getPixels("y");e.translate(o,l),e.rotate(a.getRadians()),e.translate(-o,-l)}unapply(e){var{cx:n,cy:r,originX:i,originY:s,angle:a}=this,o=n+i.getPixels("x"),l=r+s.getPixels("y");e.translate(o,l),e.rotate(-1*a.getRadians()),e.translate(-o,-l)}applyToPoint(e){var{cx:n,cy:r,angle:i}=this,s=i.getRadians();e.applyTransform([1,0,0,1,n||0,r||0]),e.applyTransform([Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),0,0]),e.applyTransform([1,0,0,1,-n||0,-r||0])}}class Qye{constructor(e,n,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=bl.parseScale(n);(i.x===0||i.y===0)&&(i.x=H1,i.y=H1),this.scale=i,this.originX=r[0],this.originY=r[1]}apply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,a=i.getPixels("x"),o=s.getPixels("y");e.translate(a,o),e.scale(n,r||n),e.translate(-a,-o)}unapply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,a=i.getPixels("x"),o=s.getPixels("y");e.translate(a,o),e.scale(1/n,1/r||n),e.translate(-a,-o)}applyToPoint(e){var{x:n,y:r}=this.scale;e.applyTransform([n||0,0,0,r||0,0,0])}}class IW{constructor(e,n,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Nd(n),this.originX=r[0],this.originY=r[1]}apply(e){var{originX:n,originY:r,matrix:i}=this,s=n.getPixels("x"),a=r.getPixels("y");e.translate(s,a),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.translate(-s,-a)}unapply(e){var{originX:n,originY:r,matrix:i}=this,s=i[0],a=i[2],o=i[4],l=i[1],u=i[3],h=i[5],d=0,f=0,A=1,m=1/(s*(u*A-h*f)-a*(l*A-h*d)+o*(l*f-u*d)),g=n.getPixels("x"),y=r.getPixels("y");e.translate(g,y),e.transform(m*(u*A-h*f),m*(h*d-l*A),m*(o*f-a*A),m*(s*A-o*d),m*(a*h-o*u),m*(o*l-s*h)),e.translate(-g,-y)}applyToPoint(e){e.applyTransform(this.matrix)}}class PW extends IW{constructor(e,n,r){super(e,n,r),this.type="skew",this.angle=null,this.angle=new Pi(e,"angle",n)}}class Wye extends PW{constructor(e,n,r){super(e,n,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class jye extends PW{constructor(e,n,r){super(e,n,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Z4t(t){return kw(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function J4t(t){var[e,n]=t.split("(");return[e.trim(),n.trim().replace(")","")]}class Ly{constructor(e,n,r){this.document=e,this.transforms=[];var i=Z4t(n);i.forEach(s=>{if(s!=="none"){var[a,o]=J4t(s),l=Ly.transformTypes[a];typeof l<"u"&&this.transforms.push(new l(this.document,o,r))}})}static fromElement(e,n){var r=n.getStyle("transform",!1,!0),[i,s=i]=n.getStyle("transform-origin",!1,!0).split(),a=[i,s];return r.hasValue()?new Ly(e,r.getString(),a):null}apply(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].apply(e)}unapply(e){for(var{transforms:n}=this,r=n.length,i=r-1;i>=0;i--)n[i].unapply(e)}applyToPoint(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].applyToPoint(e)}}Ly.transformTypes={translate:zye,rotate:$ye,scale:Qye,matrix:IW,skewX:Wye,skewY:jye};let ll=class oz{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=n,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!n||n.nodeType!==1)){if(Array.from(n.attributes).forEach(o=>{var l=Nye(o.nodeName);this.attributes[l]=new Pi(e,l,o.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(o=>o.trim());i.forEach(o=>{if(o){var[l,u]=o.split(":").map(h=>h.trim());this.styles[l]=new Pi(e,l,u)}})}var{definitions:s}=e,a=this.getAttribute("id");a.hasValue()&&(s[a.getString()]||(s[a.getString()]=this)),Array.from(n.childNodes).forEach(o=>{if(o.nodeType===1)this.addChild(o);else if(r&&(o.nodeType===3||o.nodeType===4)){var l=e.createTextNode(o);l.getText().length>0&&this.addChild(l)}})}}getAttribute(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.attributes[e];if(!r&&n){var i=new Pi(this.document,e,"");return this.attributes[e]=i,i}return r||Pi.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return Pi.empty(this.document)}getStyle(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.styles[e];if(i)return i;var s=this.getAttribute(e);if(s!=null&&s.hasValue())return this.styles[e]=s,s;if(!r){var{parent:a}=this;if(a){var o=a.getStyle(e);if(o!=null&&o.hasValue())return o}}if(n){var l=new Pi(this.document,e,"");return this.styles[e]=l,l}return i||Pi.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var n=Ly.fromElement(this.document,this);n&&n.apply(e);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var i=r.getDefinition();i&&i.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(n=>{n.render(e)})}addChild(e){var n=e instanceof oz?e:this.document.createElement(e);n.parent=this,oz.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(e){var n,{node:r}=this;if(typeof r.matches=="function")return r.matches(e);var i=(n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class");return!i||i===""?!1:i.split(" ").some(s=>".".concat(s)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:n}=this.document;for(var r in e)if(!r.startsWith("@")&&this.matchesSelector(r)){var i=e[r],s=n[r];if(i)for(var a in i){var o=this.stylesSpecificity[a];typeof o>"u"&&(o="000"),s>=o&&(this.styles[a]=i[a],this.stylesSpecificity[a]=s)}}}removeStyles(e,n){var r=n.reduce((i,s)=>{var a=e.getStyle(s);if(!a.hasValue())return i;var o=a.getString();return a.setValue(""),[...i,[s,o]]},[]);return r}restoreStyles(e,n){n.forEach(r=>{var[i,s]=r;e.getStyle(i,!0).setValue(s)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};ll.ignoreChildTypes=["title"];class Kye extends ll{constructor(e,n,r){super(e,n,r)}}function e3t(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function t3t(t){return typeof process>"u"?t:t.trim().split(",").map(e3t).join(",")}function n3t(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function r3t(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class ih{constructor(e,n,r,i,s,a){var o=a?typeof a=="string"?ih.parse(a):a:{};this.fontFamily=s||o.fontFamily,this.fontSize=i||o.fontSize,this.fontStyle=e||o.fontStyle,this.fontWeight=r||o.fontWeight,this.fontVariant=n||o.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",i="",s="",a="",o="",l=kw(e).trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(h=>{switch(!0){case(!u.fontStyle&&ih.styles.includes(h)):h!=="inherit"&&(r=h),u.fontStyle=!0;break;case(!u.fontVariant&&ih.variants.includes(h)):h!=="inherit"&&(i=h),u.fontStyle=!0,u.fontVariant=!0;break;case(!u.fontWeight&&ih.weights.includes(h)):h!=="inherit"&&(s=h),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:h!=="inherit"&&([a]=h.split("/")),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:h!=="inherit"&&(o+=h)}}),new ih(r,i,s,a,o,n)}toString(){return[n3t(this.fontStyle),this.fontVariant,r3t(this.fontWeight),this.fontSize,t3t(this.fontFamily)].join(" ").trim()}}ih.styles="normal|italic|oblique|inherit";ih.variants="normal|small-caps|inherit";ih.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class CA{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=n,this.x2=r,this.y2=i,this.addPoint(e,n),this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,n){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:n,y1:r,x2:i,y2:s}=e;this.addPoint(n,r),this.addPoint(i,s)}}sumCubic(e,n,r,i,s){return Math.pow(1-e,3)*n+3*Math.pow(1-e,2)*e*r+3*(1-e)*Math.pow(e,2)*i+Math.pow(e,3)*s}bezierCurveAdd(e,n,r,i,s){var a=6*n-12*r+6*i,o=-3*n+9*r-9*i+3*s,l=3*r-3*n;if(o===0){if(a===0)return;var u=-l/a;0<u&&u<1&&(e?this.addX(this.sumCubic(u,n,r,i,s)):this.addY(this.sumCubic(u,n,r,i,s)));return}var h=Math.pow(a,2)-4*l*o;if(!(h<0)){var d=(-a+Math.sqrt(h))/(2*o);0<d&&d<1&&(e?this.addX(this.sumCubic(d,n,r,i,s)):this.addY(this.sumCubic(d,n,r,i,s)));var f=(-a-Math.sqrt(h))/(2*o);0<f&&f<1&&(e?this.addX(this.sumCubic(f,n,r,i,s)):this.addY(this.sumCubic(f,n,r,i,s)))}}addBezierCurve(e,n,r,i,s,a,o,l){this.addPoint(e,n),this.addPoint(o,l),this.bezierCurveAdd(!0,e,r,s,o),this.bezierCurveAdd(!1,n,i,a,l)}addQuadraticCurve(e,n,r,i,s,a){var o=e+.6666666666666666*(r-e),l=n+2/3*(i-n),u=o+1/3*(s-e),h=l+1/3*(a-n);this.addBezierCurve(e,n,o,u,l,h,s,a)}isPointInBox(e,n){var{x1:r,y1:i,x2:s,y2:a}=this;return r<=e&&e<=s&&i<=n&&n<=a}}class Es extends ar{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new bl(0,0),this.control=new bl(0,0),this.current=new bl(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:n}=this;return e>=n.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",r=new bl(this.command[e],this.command[n]);return this.makeAbsolute(r)}getAsControlPoint(e,n){var r=this.getPoint(e,n);return this.control=r,r}getAsCurrentPoint(e,n){var r=this.getPoint(e,n);return this.current=r,r}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==ar.CURVE_TO&&e!==ar.SMOOTH_CURVE_TO&&e!==ar.QUAD_TO&&e!==ar.SMOOTH_QUAD_TO)return this.current;var{current:{x:n,y:r},control:{x:i,y:s}}=this,a=new bl(2*n-i,2*r-s);return a}makeAbsolute(e){if(this.command.relative){var{x:n,y:r}=this.current;e.x+=n,e.y+=r}return e}addMarker(e,n,r){var{points:i,angles:s}=this;r&&s.length>0&&!s[s.length-1]&&(s[s.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(e,n?n.angleTo(e):null)}addMarkerAngle(e,n){this.points.push(e),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,n=e.length,r=0;r<n;r++)if(!e[r]){for(var i=r+1;i<n;i++)if(e[i]){e[r]=e[i];break}}return e}}class $y extends ll{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,n=this;n;){var r=n.getStyle("opacity",!1,!0);r.hasValue(!0)&&(e*=r.getNumber()),n=n.parent}return e}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){var r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),s=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var o=r.getFillStyleDefinition(this,i);o&&(e.fillStyle=o)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());var l=r.getColor();l!=="inherit"&&(e.fillStyle=l==="none"?"rgba(0,0,0,0)":l)}if(i.hasValue()){var u=new Pi(this.document,"fill",e.fillStyle).addOpacity(i).getColor();e.fillStyle=u}if(s.isUrlDefinition()){var h=s.getFillStyleDefinition(this,a);h&&(e.strokeStyle=h)}else if(s.hasValue()){s.getString()==="currentColor"&&s.setValue(this.getStyle("color").getColor());var d=s.getString();d!=="inherit"&&(e.strokeStyle=d==="none"?"rgba(0,0,0,0)":d)}if(a.hasValue()){var f=new Pi(this.document,"stroke",e.strokeStyle).addOpacity(a).getString();e.strokeStyle=f}var A=this.getStyle("stroke-width");if(A.hasValue()){var m=A.getPixels();e.lineWidth=m||H1}var g=this.getStyle("stroke-linecap"),y=this.getStyle("stroke-linejoin"),_=this.getStyle("stroke-miterlimit"),x=this.getStyle("stroke-dasharray"),S=this.getStyle("stroke-dashoffset");if(g.hasValue()&&(e.lineCap=g.getString()),y.hasValue()&&(e.lineJoin=y.getString()),_.hasValue()&&(e.miterLimit=_.getNumber()),x.hasValue()&&x.getString()!=="none"){var C=Nd(x.getString());typeof e.setLineDash<"u"?e.setLineDash(C):typeof e.webkitLineDash<"u"?e.webkitLineDash=C:typeof e.mozDash<"u"&&!(C.length===1&&C[0]===0)&&(e.mozDash=C);var M=S.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=M:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=M:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=M)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var B=this.getStyle("font"),E=this.getStyle("font-style"),L=this.getStyle("font-variant"),I=this.getStyle("font-weight"),k=this.getStyle("font-size"),O=this.getStyle("font-family"),F=new ih(E.getString(),L.getString(),I.getString(),k.hasValue()?"".concat(k.getPixels(!0),"px"):"",O.getString(),ih.parse(B.getString(),e.font));E.setValue(F.fontStyle),L.setValue(F.fontVariant),I.setValue(F.fontWeight),k.setValue(F.fontSize),O.setValue(F.fontFamily),e.font=F.toString(),k.isPixels()&&(this.document.emSize=k.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class qa extends $y{constructor(e,n,r){super(e,n,r),this.type="path",this.pathParser=null,this.pathParser=new Es(this.getAttribute("d").getString())}path(e){var{pathParser:n}=this,r=new CA;for(n.reset(),e&&e.beginPath();!n.isEnd();)switch(n.next().type){case Es.MOVE_TO:this.pathM(e,r);break;case Es.LINE_TO:this.pathL(e,r);break;case Es.HORIZ_LINE_TO:this.pathH(e,r);break;case Es.VERT_LINE_TO:this.pathV(e,r);break;case Es.CURVE_TO:this.pathC(e,r);break;case Es.SMOOTH_CURVE_TO:this.pathS(e,r);break;case Es.QUAD_TO:this.pathQ(e,r);break;case Es.SMOOTH_QUAD_TO:this.pathT(e,r);break;case Es.ARC:this.pathA(e,r);break;case Es.CLOSE_PATH:this.pathZ(e,r);break}return r}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,n=e.getMarkerPoints(),r=e.getMarkerAngles(),i=n.map((s,a)=>[s,r[a]]);return i}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var n=this.getStyle("fill-rule");e.fillStyle!==""&&(n.getString("inherit")!=="inherit"?e.fill(n.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var r=this.getMarkers();if(r){var i=r.length-1,s=this.getStyle("marker-start"),a=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(s.isUrlDefinition()){var l=s.getDefinition(),[u,h]=r[0];l.render(e,u,h)}if(a.isUrlDefinition())for(var d=a.getDefinition(),f=1;f<i;f++){var[A,m]=r[f];d.render(e,A,m)}if(o.isUrlDefinition()){var g=o.getDefinition(),[y,_]=r[i];g.render(e,y,_)}}}static pathM(e){var n=e.getAsCurrentPoint();return e.start=e.current,{point:n}}pathM(e,n){var{pathParser:r}=this,{point:i}=qa.pathM(r),{x:s,y:a}=i;r.addMarker(i),n.addPoint(s,a),e&&e.moveTo(s,a)}static pathL(e){var{current:n}=e,r=e.getAsCurrentPoint();return{current:n,point:r}}pathL(e,n){var{pathParser:r}=this,{current:i,point:s}=qa.pathL(r),{x:a,y:o}=s;r.addMarker(s,i),n.addPoint(a,o),e&&e.lineTo(a,o)}static pathH(e){var{current:n,command:r}=e,i=new bl((r.relative?n.x:0)+r.x,n.y);return e.current=i,{current:n,point:i}}pathH(e,n){var{pathParser:r}=this,{current:i,point:s}=qa.pathH(r),{x:a,y:o}=s;r.addMarker(s,i),n.addPoint(a,o),e&&e.lineTo(a,o)}static pathV(e){var{current:n,command:r}=e,i=new bl(n.x,(r.relative?n.y:0)+r.y);return e.current=i,{current:n,point:i}}pathV(e,n){var{pathParser:r}=this,{current:i,point:s}=qa.pathV(r),{x:a,y:o}=s;r.addMarker(s,i),n.addPoint(a,o),e&&e.lineTo(a,o)}static pathC(e){var{current:n}=e,r=e.getPoint("x1","y1"),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathC(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:a,currentPoint:o}=qa.pathC(r);r.addMarker(o,a,s),n.addBezierCurve(i.x,i.y,s.x,s.y,a.x,a.y,o.x,o.y),e&&e.bezierCurveTo(s.x,s.y,a.x,a.y,o.x,o.y)}static pathS(e){var{current:n}=e,r=e.getReflectedControlPoint(),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathS(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:a,currentPoint:o}=qa.pathS(r);r.addMarker(o,a,s),n.addBezierCurve(i.x,i.y,s.x,s.y,a.x,a.y,o.x,o.y),e&&e.bezierCurveTo(s.x,s.y,a.x,a.y,o.x,o.y)}static pathQ(e){var{current:n}=e,r=e.getAsControlPoint("x1","y1"),i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathQ(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:a}=qa.pathQ(r);r.addMarker(a,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,a.x,a.y),e&&e.quadraticCurveTo(s.x,s.y,a.x,a.y)}static pathT(e){var{current:n}=e,r=e.getReflectedControlPoint();e.control=r;var i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathT(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:a}=qa.pathT(r);r.addMarker(a,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,a.x,a.y),e&&e.quadraticCurveTo(s.x,s.y,a.x,a.y)}static pathA(e){var{current:n,command:r}=e,{rX:i,rY:s,xRot:a,lArcFlag:o,sweepFlag:l}=r,u=a*(Math.PI/180),h=e.getAsCurrentPoint(),d=new bl(Math.cos(u)*(n.x-h.x)/2+Math.sin(u)*(n.y-h.y)/2,-Math.sin(u)*(n.x-h.x)/2+Math.cos(u)*(n.y-h.y)/2),f=Math.pow(d.x,2)/Math.pow(i,2)+Math.pow(d.y,2)/Math.pow(s,2);f>1&&(i*=Math.sqrt(f),s*=Math.sqrt(f));var A=(o===l?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(s,2)-Math.pow(i,2)*Math.pow(d.y,2)-Math.pow(s,2)*Math.pow(d.x,2))/(Math.pow(i,2)*Math.pow(d.y,2)+Math.pow(s,2)*Math.pow(d.x,2)));isNaN(A)&&(A=0);var m=new bl(A*i*d.y/s,A*-s*d.x/i),g=new bl((n.x+h.x)/2+Math.cos(u)*m.x-Math.sin(u)*m.y,(n.y+h.y)/2+Math.sin(u)*m.x+Math.cos(u)*m.y),y=JV([1,0],[(d.x-m.x)/i,(d.y-m.y)/s]),_=[(d.x-m.x)/i,(d.y-m.y)/s],x=[(-d.x-m.x)/i,(-d.y-m.y)/s],S=JV(_,x);return ON(_,x)<=-1&&(S=Math.PI),ON(_,x)>=1&&(S=0),{currentPoint:h,rX:i,rY:s,sweepFlag:l,xAxisRotation:u,centp:g,a1:y,ad:S}}pathA(e,n){var{pathParser:r}=this,{currentPoint:i,rX:s,rY:a,sweepFlag:o,xAxisRotation:l,centp:u,a1:h,ad:d}=qa.pathA(r),f=1-o?1:-1,A=h+f*(d/2),m=new bl(u.x+s*Math.cos(A),u.y+a*Math.sin(A));if(r.addMarkerAngle(m,A-f*Math.PI/2),r.addMarkerAngle(i,A-f*Math.PI),n.addPoint(i.x,i.y),e&&!isNaN(h)&&!isNaN(d)){var g=s>a?s:a,y=s>a?1:s/a,_=s>a?a/s:1;e.translate(u.x,u.y),e.rotate(l),e.scale(y,_),e.arc(0,0,g,h,h+d,!!(1-o)),e.scale(1/y,1/_),e.rotate(-l),e.translate(-u.x,-u.y)}}static pathZ(e){e.current=e.start}pathZ(e,n){qa.pathZ(this.pathParser),e&&n.x1!==n.x2&&n.y1!==n.y2&&e.closePath()}}class FW extends qa{constructor(e,n,r){super(e,n,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Nv extends $y{constructor(e,n,r){super(e,n,new.target===Nv?!0:r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,n);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(e.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var n=null;return this.children.forEach((r,i)=>{var s=this.getChildBoundingBox(e,this,this,i);n?n.addBoundingBox(s):n=s}),n}getFontSize(){var{document:e,parent:n}=this,r=ih.parse(e.ctx.font).fontSize,i=n.getStyle("font-size").getNumber(r);return i}getTElementBoundingBox(e){var n=this.getFontSize();return new CA(this.x,this.y-n,this.x+this.measureText(e),this.y)}getGlyph(e,n,r){var i=n[r],s=null;if(e.isArabic){var a=n.length,o=n[r-1],l=n[r+1],u="isolated";if((r===0||o===" ")&&r<a-1&&l!==" "&&(u="terminal"),r>0&&o!==" "&&r<a-1&&l!==" "&&(u="medial"),r>0&&o!==" "&&(r===a-1||l===" ")&&(u="initial"),typeof e.glyphs[i]<"u"){var h=e.glyphs[i];s=h instanceof FW?h:h[u]}}else s=e.glyphs[i];return s||(s=e.missingGlyph),s}getText(){return""}getTextFromNode(e){var n=e||this.node,r=Array.from(n.parentNode.childNodes),i=r.indexOf(n),s=r.length-1,a=kw(n.textContent||"");return i===0&&(a=Fye(a)),i===s&&(a=Oye(a)),a}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((r,i)=>{this.renderChild(e,this,this,i)});var{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:n,parent:r}=this,i=this.getText(),s=r.getStyle("font-family").getDefinition();if(s){for(var{unitsPerEm:a}=s.fontFace,o=ih.parse(n.ctx.font),l=r.getStyle("font-size").getNumber(o.fontSize),u=r.getStyle("font-style").getString(o.fontStyle),h=l/a,d=s.isRTL?i.split("").reverse().join(""):i,f=Nd(r.getAttribute("dx").getString()),A=d.length,m=0;m<A;m++){var g=this.getGlyph(s,d,m);e.translate(this.x,this.y),e.scale(h,-h);var y=e.lineWidth;e.lineWidth=e.lineWidth*a/l,u==="italic"&&e.transform(1,0,.4,1,0,0),g.render(e),u==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=y,e.scale(1/h,-1/h),e.translate(-this.x,-this.y),this.x+=l*(g.horizAdvX||s.horizAdvX)/a,typeof f[m]<"u"&&!isNaN(f[m])&&(this.x+=f[m])}return}var{x:_,y:x}=this;e.fillStyle&&e.fillText(i,_,x),e.strokeStyle&&e.strokeText(i,_,x)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],n=e.getStyle("text-anchor").getString("start"),r=!1,i=0;n==="start"||n==="end"&&r?i=e.x-this.minX:n==="end"||n==="start"&&r?i=e.x-this.maxX:i=e.x-(this.minX+this.maxX)/2;for(var s=this.textChunkStart;s<this.leafTexts.length;s++)this.leafTexts[s].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((n,r)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,n,r,i){var s=r.children[i];s.children.length>0?s.children.forEach((a,o)=>{n.adjustChildCoordinatesRecursiveCore(e,n,s,o)}):this.adjustChildCoordinates(e,n,r,i)}adjustChildCoordinates(e,n,r,i){var s=r.children[i];if(typeof s.measureText!="function")return s;e.save(),s.setContext(e,!0);var a=s.getAttribute("x"),o=s.getAttribute("y"),l=s.getAttribute("dx"),u=s.getAttribute("dy"),h=s.getStyle("font-family").getDefinition(),d=!!h&&h.isRTL;i===0&&(a.hasValue()||a.setValue(s.getInheritedAttribute("x")),o.hasValue()||o.setValue(s.getInheritedAttribute("y")),l.hasValue()||l.setValue(s.getInheritedAttribute("dx")),u.hasValue()||u.setValue(s.getInheritedAttribute("dy")));var f=s.measureText(e);return d&&(n.x-=f),a.hasValue()?(n.applyAnchoring(),s.x=a.getPixels("x"),l.hasValue()&&(s.x+=l.getPixels("x"))):(l.hasValue()&&(n.x+=l.getPixels("x")),s.x=n.x),n.x=s.x,d||(n.x+=f),o.hasValue()?(s.y=o.getPixels("y"),u.hasValue()&&(s.y+=u.getPixels("y"))):(u.hasValue()&&(n.y+=u.getPixels("y")),s.y=n.y),n.y=s.y,n.leafTexts.push(s),n.minX=Math.min(n.minX,s.x,s.x+f),n.maxX=Math.max(n.maxX,s.x,s.x+f),s.clearContext(e),e.restore(),s}getChildBoundingBox(e,n,r,i){var s=r.children[i];if(typeof s.getBoundingBox!="function")return null;var a=s.getBoundingBox(e);return a?(s.children.forEach((o,l)=>{var u=n.getChildBoundingBox(e,n,s,l);a.addBoundingBox(u)}),a):null}renderChild(e,n,r,i){var s=r.children[i];s.render(e),s.children.forEach((a,o)=>{n.renderChild(e,n,s,o)})}measureText(e){var{measureCache:n}=this;if(~n)return n;var r=this.getText(),i=this.measureTargetText(e,r);return this.measureCache=i,i}measureTargetText(e,n){if(!n.length)return 0;var{parent:r}=this,i=r.getStyle("font-family").getDefinition();if(i){for(var s=this.getFontSize(),a=i.isRTL?n.split("").reverse().join(""):n,o=Nd(r.getAttribute("dx").getString()),l=a.length,u=0,h=0;h<l;h++){var d=this.getGlyph(i,a,h);u+=(d.horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,typeof o[h]<"u"&&!isNaN(o[h])&&(u+=o[h])}return u}if(!e.measureText)return n.length*10;e.save(),this.setContext(e,!0);var{width:f}=e.measureText(n);return this.clearContext(e),e.restore(),f}getInheritedAttribute(e){for(var n=this;n instanceof Nv&&n.isFirstChild();){var r=n.parent.getAttribute(e);if(r.hasValue(!0))return r.getValue("0");n=n.parent}return null}}class _B extends Nv{constructor(e,n,r){super(e,n,new.target===_B?!0:r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class i3t extends _B{constructor(){super(...arguments),this.type="textNode"}}let gC=class extends $y{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var n,{document:r}=this,{screen:i,window:s}=r,a=e.canvas;if(i.setDefaults(e),a.style&&typeof e.font<"u"&&s&&typeof s.getComputedStyle<"u"){e.font=s.getComputedStyle(a).getPropertyValue("font");var o=new Pi(r,"fontSize",ih.parse(e.font).fontSize);o.hasValue()&&(r.rootEmSize=o.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:l,height:u}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var h=this.getAttribute("refX"),d=this.getAttribute("refY"),f=this.getAttribute("viewBox"),A=f.hasValue()?Nd(f.getString()):null,m=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",g=0,y=0,_=0,x=0;A&&(g=A[0],y=A[1]),this.root||(l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(_=g,x=y,g=0,y=0)),i.viewPort.setCurrent(l,u),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),A&&(l=A[2],u=A[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:l,height:i.viewPort.height,desiredHeight:u,minX:g,minY:y,refX:h.getValue(),refY:d.getValue(),clip:m,clipX:_,clipY:x}),A&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(l,u))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.getAttribute("width",!0),s=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),o=this.getAttribute("style"),l=i.getNumber(0),u=s.getNumber(0);if(r)if(typeof r=="string")this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var h=this.getAttribute("preserveAspectRatio");h.hasValue()&&h.setValue(h.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(e),s.setValue(n),a.hasValue()||a.setValue("0 0 ".concat(l||e," ").concat(u||n)),o.hasValue()){var d=this.getStyle("width"),f=this.getStyle("height");d.hasValue()&&d.setValue("".concat(e,"px")),f.hasValue()&&f.setValue("".concat(n,"px"))}}};class OW extends qa{constructor(){super(...arguments),this.type="rect"}path(e){var n=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),s=this.getStyle("height",!1,!0).getPixels("y"),a=this.getAttribute("rx"),o=this.getAttribute("ry"),l=a.getPixels("x"),u=o.getPixels("y");if(a.hasValue()&&!o.hasValue()&&(u=l),o.hasValue()&&!a.hasValue()&&(l=u),l=Math.min(l,i/2),u=Math.min(u,s/2),e){var h=4*((Math.sqrt(2)-1)/3);e.beginPath(),s>0&&i>0&&(e.moveTo(n+l,r),e.lineTo(n+i-l,r),e.bezierCurveTo(n+i-l+h*l,r,n+i,r+u-h*u,n+i,r+u),e.lineTo(n+i,r+s-u),e.bezierCurveTo(n+i,r+s-u+h*u,n+i-l+h*l,r+s,n+i-l,r+s),e.lineTo(n+l,r+s),e.bezierCurveTo(n+l-h*l,r+s,n,r+s-u+h*u,n,r+s-u),e.lineTo(n,r+u),e.bezierCurveTo(n,r+u-h*u,n+l-h*l,r,n+l,r),e.closePath())}return new CA(n,r,n+i,r+s)}getMarkers(){return null}}class qye extends qa{constructor(){super(...arguments),this.type="circle"}path(e){var n=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return e&&i>0&&(e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!1),e.closePath()),new CA(n-i,r-i,n+i,r+i)}getMarkers(){return null}}class Xye extends qa{constructor(){super(...arguments),this.type="ellipse"}path(e){var n=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),s=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return e&&r>0&&i>0&&(e.beginPath(),e.moveTo(s+r,a),e.bezierCurveTo(s+r,a+n*i,s+n*r,a+i,s,a+i),e.bezierCurveTo(s-n*r,a+i,s-r,a+n*i,s-r,a),e.bezierCurveTo(s-r,a-n*i,s-n*r,a-i,s,a-i),e.bezierCurveTo(s+n*r,a-i,s+r,a-n*i,s+r,a),e.closePath()),new CA(s-r,a-i,s+r,a+i)}getMarkers(){return null}}class Yye extends qa{constructor(){super(...arguments),this.type="line"}getPoints(){return[new bl(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new bl(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:n,y:r},{x:i,y:s}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(n,r),e.lineTo(i,s)),new CA(n,r,i,s)}getMarkers(){var[e,n]=this.getPoints(),r=e.angleTo(n);return[[e,r],[n,r]]}}class NW extends qa{constructor(e,n,r){super(e,n,r),this.type="polyline",this.points=[],this.points=bl.parsePath(this.getAttribute("points").getString())}path(e){var{points:n}=this,[{x:r,y:i}]=n,s=new CA(r,i);return e&&(e.beginPath(),e.moveTo(r,i)),n.forEach(a=>{var{x:o,y:l}=a;s.addPoint(o,l),e&&e.lineTo(o,l)}),s}getMarkers(){var{points:e}=this,n=e.length-1,r=[];return e.forEach((i,s)=>{s!==n&&r.push([i,i.angleTo(e[s+1])])}),r.length>0&&r.push([e[e.length-1],r[r.length-1][1]]),r}}class Zye extends NW{constructor(){super(...arguments),this.type="polygon"}path(e){var n=super.path(e),[{x:r,y:i}]=this.points;return e&&(e.lineTo(r,i),e.closePath()),n}}class Jye extends ll{constructor(){super(...arguments),this.type="pattern"}createPattern(e,n,r){var i=this.getStyle("width").getPixels("x",!0),s=this.getStyle("height").getPixels("y",!0),a=new gC(this.document,null);a.attributes.viewBox=new Pi(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new Pi(this.document,"width","".concat(i,"px")),a.attributes.height=new Pi(this.document,"height","".concat(s,"px")),a.attributes.transform=new Pi(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var o=this.document.createCanvas(i,s),l=o.getContext("2d"),u=this.getAttribute("x"),h=this.getAttribute("y");u.hasValue()&&h.hasValue()&&l.translate(u.getPixels("x",!0),h.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var d=-1;d<=1;d++)for(var f=-1;f<=1;f++)l.save(),a.attributes.x=new Pi(this.document,"x",d*o.width),a.attributes.y=new Pi(this.document,"y",f*o.height),a.render(l),l.restore();var A=e.createPattern(o,"repeat");return A}}class e_e extends ll{constructor(){super(...arguments),this.type="marker"}render(e,n,r){if(n){var{x:i,y:s}=n,a=this.getAttribute("orient").getString("auto"),o=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(i,s),a==="auto"&&e.rotate(r),o==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var l=new gC(this.document,null);l.type=this.type,l.attributes.viewBox=new Pi(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.refX=new Pi(this.document,"refX",this.getAttribute("refX").getValue()),l.attributes.refY=new Pi(this.document,"refY",this.getAttribute("refY").getValue()),l.attributes.width=new Pi(this.document,"width",this.getAttribute("markerWidth").getValue()),l.attributes.height=new Pi(this.document,"height",this.getAttribute("markerHeight").getValue()),l.attributes.overflow=new Pi(this.document,"overflow",this.getAttribute("overflow").getValue()),l.attributes.fill=new Pi(this.document,"fill",this.getAttribute("fill").getColor("black")),l.attributes.stroke=new Pi(this.document,"stroke",this.getAttribute("stroke").getValue("none")),l.children=this.children,l.render(e),e.restore(),o==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),a==="auto"&&e.rotate(-r),e.translate(-i,-s)}}}class t_e extends ll{constructor(){super(...arguments),this.type="defs"}render(){}}class ok extends $y{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var n=new CA;return this.children.forEach(r=>{n.addBoundingBox(r.getBoundingBox(e))}),n}}class DW extends ll{constructor(e,n,r){super(e,n,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:s}=this;s.forEach(a=>{a.type==="stop"&&i.push(a)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:s}=i,a=this.getGradient(e,n);if(!a)return this.addParentOpacity(r,s[s.length-1].color);if(s.forEach(y=>{a.addColorStop(y.offset,this.addParentOpacity(r,y.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:o}=this,{MAX_VIRTUAL_PIXELS:l,viewPort:u}=o.screen,[h]=u.viewPorts,d=new OW(o,null);d.attributes.x=new Pi(o,"x",-l/3),d.attributes.y=new Pi(o,"y",-l/3),d.attributes.width=new Pi(o,"width",l),d.attributes.height=new Pi(o,"height",l);var f=new ok(o,null);f.attributes.transform=new Pi(o,"transform",this.getAttribute("gradientTransform").getValue()),f.children=[d];var A=new gC(o,null);A.attributes.x=new Pi(o,"x",0),A.attributes.y=new Pi(o,"y",0),A.attributes.width=new Pi(o,"width",h.width),A.attributes.height=new Pi(o,"height",h.height),A.children=[f];var m=o.createCanvas(h.width,h.height),g=m.getContext("2d");return g.fillStyle=a,A.render(g),g.createPattern(m,"no-repeat")}return a}inheritStopContainer(e){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&e.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(e.getAttribute(n).getValue())})}addParentOpacity(e,n){if(e.hasValue()){var r=new Pi(this.document,"color",n);return r.addOpacity(e).getColor()}return n}}class n_e extends DW{constructor(e,n,r){super(e,n,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=r?n.getBoundingBox(e):null;if(r&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var s=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),l=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return s===o&&a===l?null:e.createLinearGradient(s,a,o,l)}}class r_e extends DW{constructor(e,n,r){super(e,n,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=n.getBoundingBox(e);if(r&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var s=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=s,l=a;this.getAttribute("fx").hasValue()&&(o=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(l=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),h=this.getAttribute("fr").getPixels();return e.createRadialGradient(o,l,h,s,a,u)}}class i_e extends ll{constructor(e,n,r){super(e,n,r),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),s=this.getStyle("stop-opacity"),a=this.getStyle("stop-color",!0);a.getString()===""&&a.setValue("#000"),s.hasValue()&&(a=a.addOpacity(s)),this.offset=i,this.color=a.getColor()}}class lk extends ll{constructor(e,n,r){super(e,n,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Pi(e,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){var{initialUnits:e}=this,{progress:n,from:r,to:i}=this.getProgress(),s=r.getNumber()+(i.getNumber()-r.getNumber())*n;return e==="%"&&(s*=100),"".concat(s).concat(e)}update(e){var{parent:n}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(i==="freeze"&&!this.frozen)this.frozen=!0,n.animationFrozen=!0,n.animationFrozenValue=r.getString();else if(i==="remove"&&!this.removed)return this.removed=!0,r.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var s=!1;if(this.begin<this.duration){var a=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var l=o.getString();a="".concat(l,"(").concat(a,")")}r.setValue(a),s=!0}return s}getProgress(){var{document:e,values:n}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(n.hasValue()){var i=r.progress*(n.getValue().length-1),s=Math.floor(i),a=Math.ceil(i);r.from=new Pi(e,"from",parseFloat(n.getValue()[s])),r.to=new Pi(e,"to",parseFloat(n.getValue()[a])),r.progress=(i-s)/(a-s)}else r.from=this.from,r.to=this.to;return r}}class s_e extends lk{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=new qV(n.getColor()),s=new qV(r.getColor());if(i.ok&&s.ok){var a=i.r+(s.r-i.r)*e,o=i.g+(s.g-i.g)*e,l=i.b+(s.b-i.b)*e;return"rgb(".concat(Math.floor(a),", ").concat(Math.floor(o),", ").concat(Math.floor(l),")")}return this.getAttribute("from").getColor()}}class a_e extends lk{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=Nd(n.getString()),s=Nd(r.getString()),a=i.map((o,l)=>{var u=s[l];return o+(u-o)*e}).join(" ");return a}}class o_e extends ll{constructor(e,n,r){super(e,n,r),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=e,{children:s}=this;for(var a of s)switch(a.type){case"font-face":{this.fontFace=a;var o=a.getStyle("font-family");o.hasValue()&&(i[o.getString()]=this);break}case"missing-glyph":this.missingGlyph=a;break;case"glyph":{var l=a;l.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[l.unicode]>"u"&&(this.glyphs[l.unicode]={}),this.glyphs[l.unicode][l.arabicForm]=l):this.glyphs[l.unicode]=l;break}}}render(){}}class l_e extends ll{constructor(e,n,r){super(e,n,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class c_e extends qa{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class u_e extends Nv{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var n=e.children[0];if(n)return n.getText()}return""}}class h_e extends Nv{constructor(e,n,r){super(e,n,r),this.type="a";var{childNodes:i}=n,s=i[0],a=i.length>0&&Array.from(i).every(o=>o.nodeType===3);this.hasText=a,this.text=a?this.getTextFromNode(s):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:n,x:r,y:i}=this,{mouse:s}=n.screen,a=new Pi(n,"fontSize",ih.parse(n.ctx.font).fontSize);s.isWorking()&&s.checkBoundingBox(this,new CA(r,i-a.getPixels("y"),r+this.measureText(e),i))}else if(this.children.length>0){var o=new ok(this.document,null);o.children=this.children,o.parent=this,o.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function wse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wse(Object(n),!0).forEach(function(r){LW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class d_e extends Nv{constructor(e,n,r){super(e,n,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(e){var{dataArray:n}=this;e&&e.beginPath(),n.forEach(r=>{var{type:i,points:s}=r;switch(i){case Es.LINE_TO:e&&e.lineTo(s[0],s[1]);break;case Es.MOVE_TO:e&&e.moveTo(s[0],s[1]);break;case Es.CURVE_TO:e&&e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case Es.QUAD_TO:e&&e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case Es.ARC:{var[a,o,l,u,h,d,f,A]=s,m=l>u?l:u,g=l>u?1:l/u,y=l>u?u/l:1;e&&(e.translate(a,o),e.rotate(f),e.scale(g,y),e.arc(0,0,m,h,h+d,!!(1-A)),e.scale(1/g,1/y),e.rotate(-f),e.translate(-a,-o));break}case Es.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var n=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:i}=this,s=e.fillStyle;n==="underline"&&e.beginPath(),i.forEach((a,o)=>{var{p0:l,p1:u,rotation:h,text:d}=a;e.save(),e.translate(l.x,l.y),e.rotate(h),e.fillStyle&&e.fillText(d,0,0),e.strokeStyle&&e.strokeText(d,0,0),e.restore(),n==="underline"&&(o===0&&e.moveTo(l.x,l.y+r/8),e.lineTo(u.x,u.y+r/5))}),n==="underline"&&(e.lineWidth=r/20,e.strokeStyle=s,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,n,r,i,s,a,o,l,u){var h=a,d=this.measureText(e,l);l===" "&&n==="justify"&&r<i&&(d+=(i-r)/s),u>-1&&(h+=this.getLetterSpacingAt(u));var f=this.textHeight/20,A=this.getEquidistantPointOnPath(h,f,0),m=this.getEquidistantPointOnPath(h+d,f,0),g={p0:A,p1:m},y=A&&m?Math.atan2(m.y-A.y,m.x-A.x):0;if(o){var _=Math.cos(Math.PI/2+y)*o,x=Math.cos(-y)*o;g.p0=SP(SP({},A),{},{x:A.x+_,y:A.y+x}),g.p1=SP(SP({},m),{},{x:m.x+_,y:m.y+x})}return h+=d,{offset:h,segment:g,rotation:y}}measureText(e,n){var{measuresCache:r}=this,i=n||this.getText();if(r.has(i))return r.get(i);var s=this.measureTargetText(e,i);return r.set(i,s),s}setTextData(e){if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,s=this.parent.getAttribute("dx").split().map(C=>C.getPixels("x")),a=this.parent.getAttribute("dy").getPixels("y"),o=this.parent.getStyle("text-anchor").getString("start"),l=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),h=0;!l.hasValue()||l.getValue()==="inherit"?h=u.getPixels():l.hasValue()&&l.getValue()!=="initial"&&l.getValue()!=="unset"&&(h=l.getPixels());var d=[],f=n.length;this.letterSpacingCache=d;for(var A=0;A<f;A++)d.push(typeof s[A]<"u"?s[A]:h);var m=d.reduce((C,M,B)=>B===0?0:C+M||0,0),g=this.measureText(e),y=Math.max(g+m,0);this.textWidth=g,this.textHeight=this.getFontSize(),this.glyphInfo=[];var _=this.getPathLength(),x=this.getStyle("startOffset").getNumber(0)*_,S=0;(o==="middle"||o==="center")&&(S=-y/2),(o==="end"||o==="right")&&(S=-y),S+=x,r.forEach((C,M)=>{var{offset:B,segment:E,rotation:L}=this.findSegmentToFitChar(e,o,y,_,i,S,a,C,M);S=B,!(!E.p0||!E.p1)&&this.glyphInfo.push({text:r[M],p0:E.p0,p1:E.p1,rotation:L})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var n=[],{pathParser:r}=e;for(r.reset();!r.isEnd();){var{current:i}=r,s=i?i.x:0,a=i?i.y:0,o=r.next(),l=o.type,u=[];switch(o.type){case Es.MOVE_TO:this.pathM(r,u);break;case Es.LINE_TO:l=this.pathL(r,u);break;case Es.HORIZ_LINE_TO:l=this.pathH(r,u);break;case Es.VERT_LINE_TO:l=this.pathV(r,u);break;case Es.CURVE_TO:this.pathC(r,u);break;case Es.SMOOTH_CURVE_TO:l=this.pathS(r,u);break;case Es.QUAD_TO:this.pathQ(r,u);break;case Es.SMOOTH_QUAD_TO:l=this.pathT(r,u);break;case Es.ARC:u=this.pathA(r);break;case Es.CLOSE_PATH:qa.pathZ(r);break}o.type!==Es.CLOSE_PATH?n.push({type:l,points:u,start:{x:s,y:a},pathLength:this.calcLength(s,a,l,u)}):n.push({type:Es.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(e,n){var{x:r,y:i}=qa.pathM(e).point;n.push(r,i)}pathL(e,n){var{x:r,y:i}=qa.pathL(e).point;return n.push(r,i),Es.LINE_TO}pathH(e,n){var{x:r,y:i}=qa.pathH(e).point;return n.push(r,i),Es.LINE_TO}pathV(e,n){var{x:r,y:i}=qa.pathV(e).point;return n.push(r,i),Es.LINE_TO}pathC(e,n){var{point:r,controlPoint:i,currentPoint:s}=qa.pathC(e);n.push(r.x,r.y,i.x,i.y,s.x,s.y)}pathS(e,n){var{point:r,controlPoint:i,currentPoint:s}=qa.pathS(e);return n.push(r.x,r.y,i.x,i.y,s.x,s.y),Es.CURVE_TO}pathQ(e,n){var{controlPoint:r,currentPoint:i}=qa.pathQ(e);n.push(r.x,r.y,i.x,i.y)}pathT(e,n){var{controlPoint:r,currentPoint:i}=qa.pathT(e);return n.push(r.x,r.y,i.x,i.y),Es.QUAD_TO}pathA(e){var{rX:n,rY:r,sweepFlag:i,xAxisRotation:s,centp:a,a1:o,ad:l}=qa.pathA(e);return i===0&&l>0&&(l-=2*Math.PI),i===1&&l<0&&(l+=2*Math.PI),[a.x,a.y,n,r,o,l,s,i]}calcLength(e,n,r,i){var s=0,a=null,o=null,l=0;switch(r){case Es.LINE_TO:return this.getLineLength(e,n,i[0],i[1]);case Es.CURVE_TO:for(s=0,a=this.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=this.getPointOnCubicBezier(l,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case Es.QUAD_TO:for(s=0,a=this.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=this.getPointOnQuadraticBezier(l,e,n,i[0],i[1],i[2],i[3]),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case Es.ARC:{s=0;var u=i[4],h=i[5],d=i[4]+h,f=Math.PI/180;if(Math.abs(u-d)<f&&(f=Math.abs(u-d)),a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),h<0)for(l=u-f;l>d;l-=f)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=u+f;l<d;l+=f)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),s}}return 0}getPointOnLine(e,n,r,i,s){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:r,l=(s-r)/(i-n+H1),u=Math.sqrt(e*e/(1+l*l));i<n&&(u*=-1);var h=l*u,d=null;if(i===n)d={x:a,y:o+h};else if((o-r)/(a-n+H1)===l)d={x:a+u,y:o+h};else{var f=0,A=0,m=this.getLineLength(n,r,i,s);if(m<H1)return null;var g=(a-n)*(i-n)+(o-r)*(s-r);g/=m*m,f=n+g*(i-n),A=r+g*(s-r);var y=this.getLineLength(a,o,f,A),_=Math.sqrt(e*e-y*y);u=Math.sqrt(_*_/(1+l*l)),i<n&&(u*=-1),h=l*u,d={x:f+u,y:A+h}}return d}getPointOnPath(e){var n=this.getPathLength(),r=0,i=null;if(e<-5e-5||e-5e-5>n)return null;var{dataArray:s}=this;for(var a of s){if(a&&(a.pathLength<5e-5||r+a.pathLength+5e-5<e)){r+=a.pathLength;continue}var o=e-r,l=0;switch(a.type){case Es.LINE_TO:i=this.getPointOnLine(o,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case Es.ARC:{var u=a.points[4],h=a.points[5],d=a.points[4]+h;if(l=u+o/a.pathLength*h,h<0&&l<d||h>=0&&l>d)break;i=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],l,a.points[6]);break}case Es.CURVE_TO:l=o/a.pathLength,l>1&&(l=1),i=this.getPointOnCubicBezier(l,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case Es.QUAD_TO:l=o/a.pathLength,l>1&&(l=1),i=this.getPointOnQuadraticBezier(l,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3]);break}if(i)return i;break}return null}getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,n)=>n.pathLength>0?e+n.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,n,r,i,s,a,o,l,u){var h=l*ez(e)+a*tz(e)+i*nz(e)+n*rz(e),d=u*ez(e)+o*tz(e)+s*nz(e)+r*rz(e);return{x:h,y:d}}getPointOnQuadraticBezier(e,n,r,i,s,a,o){var l=a*iz(e)+i*sz(e)+n*az(e),u=o*iz(e)+s*sz(e)+r*az(e);return{x:l,y:u}}getPointOnEllipticalArc(e,n,r,i,s,a){var o=Math.cos(a),l=Math.sin(a),u={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}buildEquidistantCache(e,n){var r=this.getPathLength(),i=n||.25,s=e||r/100;if(!this.equidistantCache||this.equidistantCache.step!==s||this.equidistantCache.precision!==i){this.equidistantCache={step:s,precision:i,points:[]};for(var a=0,o=0;o<=r;o+=i){var l=this.getPointOnPath(o),u=this.getPointOnPath(o+i);!l||!u||(a+=this.getLineLength(l.x,l.y,u.x,u.y),a>=s&&(this.equidistantCache.points.push({x:l.x,y:l.y,distance:o}),a-=s))}}}getEquidistantPointOnPath(e,n,r){if(this.buildEquidistantCache(n,r),e<0||e-this.getPathLength()>5e-5)return null;var i=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var s3t=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class f_e extends $y{constructor(e,n,r){super(e,n,r),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var s=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);e.images.push(this),s?this.loadSvg(i):this.loadImage(i),this.isSvg=s}}loadImage(e){var n=this;return Ov(function*(){try{var r=yield n.document.createImage(e);n.image=r}catch(i){console.error('Error while loading image "'.concat(e,'":'),i)}n.loaded=!0})()}loadSvg(e){var n=this;return Ov(function*(){var r=s3t.exec(e);if(r){var i=r[5];r[4]==="base64"?n.image=atob(i):n.image=decodeURIComponent(i)}else try{var s=yield n.document.fetch(e),a=yield s.text();n.image=a}catch(o){console.error('Error while loading image "'.concat(e,'":'),o)}n.loaded=!0})()}renderChildren(e){var{document:n,image:r,loaded:i}=this,s=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!(!i||!r||!o||!l)){if(e.save(),e.translate(s,a),this.isSvg){var u=n.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:o,scaleHeight:l});u.document.documentElement.parent=this,u.render()}else{var h=this.image;n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:h.width,height:l,desiredHeight:h.height}),this.loaded&&(typeof h.complete>"u"||h.complete)&&e.drawImage(h,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new CA(e,n,e+r,n+i)}}class A_e extends $y{constructor(){super(...arguments),this.type="symbol"}render(e){}}class p_e{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,n){var r=this;return Ov(function*(){try{var{document:i}=r,s=yield i.canvg.parser.load(n),a=s.getElementsByTagName("font");Array.from(a).forEach(o=>{var l=i.createElement(o);i.definitions[e]=l})}catch(o){console.error('Error while loading font "'.concat(n,'":'),o)}r.loaded=!0})()}}class kW extends ll{constructor(e,n,r){super(e,n,r),this.type="style";var i=kw(Array.from(n.childNodes).map(a=>a.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),s=i.split("}");s.forEach(a=>{var o=a.trim();if(o){var l=o.split("{"),u=l[0].split(","),h=l[1].split(";");u.forEach(d=>{var f=d.trim();if(f){var A=e.styles[f]||{};if(h.forEach(y=>{var _=y.indexOf(":"),x=y.substr(0,_).trim(),S=y.substr(_+1,y.length-_).trim();x&&S&&(A[x]=new Pi(e,x,S))}),e.styles[f]=A,e.stylesSpecificity[f]=kye(f),f==="@font-face"){var m=A["font-family"].getString().replace(/"|'/g,""),g=A.src.getString().split(",");g.forEach(y=>{if(y.indexOf('format("svg")')>0){var _=RW(y);_&&new p_e(e).load(m,_)}})}}})}})}}kW.parseExternalUrl=RW;class g_e extends $y{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var n=this.getAttribute("x"),r=this.getAttribute("y");n.hasValue()&&e.translate(n.getPixels("x"),0),r.hasValue()&&e.translate(0,r.getPixels("y"))}path(e){var{element:n}=this;n&&n.path(e)}renderChildren(e){var{document:n,element:r}=this;if(r){var i=r;if(r.type==="symbol"&&(i=new gC(n,null),i.attributes.viewBox=new Pi(n,"viewBox",r.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new Pi(n,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new Pi(n,"overflow",r.getAttribute("overflow").getString()),i.children=r.children,r.styles.opacity=new Pi(n,"opacity",this.calculateOpacity())),i.type==="svg"){var s=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);s.hasValue()&&(i.attributes.width=new Pi(n,"width",s.getString())),a.hasValue()&&(i.attributes.height=new Pi(n,"height",a.getString()))}var o=i.parent;i.parent=this,i.render(e),i.parent=o}}getBoundingBox(e){var{element:n}=this;return n?n.getBoundingBox(e):null}elementTransform(){var{document:e,element:n}=this;return Ly.fromElement(e,n)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function CP(t,e,n,r,i,s){return t[n*r*4+e*4+s]}function TP(t,e,n,r,i,s,a){t[n*r*4+e*4+s]=a}function sc(t,e,n){var r=t[e];return r*n}function ev(t,e,n,r){return e+Math.cos(t)*n+Math.sin(t)*r}class UW extends ll{constructor(e,n,r){super(e,n,r),this.type="feColorMatrix";var i=Nd(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var s=i[0];i=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var a=i[0]*Math.PI/180;i=[ev(a,.213,.787,-.213),ev(a,.715,-.715,-.715),ev(a,.072,-.072,.928),0,0,ev(a,.213,-.213,.143),ev(a,.715,.285,.14),ev(a,.072,-.072,-.283),0,0,ev(a,.213,-.213,-.787),ev(a,.715,-.715,.715),ev(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,n,r,i,s){for(var{includeOpacity:a,matrix:o}=this,l=e.getImageData(0,0,i,s),u=0;u<s;u++)for(var h=0;h<i;h++){var d=CP(l.data,h,u,i,s,0),f=CP(l.data,h,u,i,s,1),A=CP(l.data,h,u,i,s,2),m=CP(l.data,h,u,i,s,3),g=sc(o,0,d)+sc(o,1,f)+sc(o,2,A)+sc(o,3,m)+sc(o,4,1),y=sc(o,5,d)+sc(o,6,f)+sc(o,7,A)+sc(o,8,m)+sc(o,9,1),_=sc(o,10,d)+sc(o,11,f)+sc(o,12,A)+sc(o,13,m)+sc(o,14,1),x=sc(o,15,d)+sc(o,16,f)+sc(o,17,A)+sc(o,18,m)+sc(o,19,1);a&&(g=0,y=0,_=0,x*=m/255),TP(l.data,h,u,i,s,0,g),TP(l.data,h,u,i,s,1,y),TP(l.data,h,u,i,s,2,_),TP(l.data,h,u,i,s,3,x)}e.clearRect(0,0,i,s),e.putImageData(l,0,0)}}class wB extends ll{constructor(){super(...arguments),this.type="mask"}apply(e,n){var{document:r}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!a&&!o){var l=new CA;this.children.forEach(m=>{l.addBoundingBox(m.getBoundingBox(e))}),i=Math.floor(l.x1),s=Math.floor(l.y1),a=Math.floor(l.width),o=Math.floor(l.height)}var u=this.removeStyles(n,wB.ignoreStyles),h=r.createCanvas(i+a,s+o),d=h.getContext("2d");r.screen.setDefaults(d),this.renderChildren(d),new UW(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+a,s+o);var f=r.createCanvas(i+a,s+o),A=f.getContext("2d");r.screen.setDefaults(A),n.render(A),A.globalCompositeOperation="destination-in",A.fillStyle=d.createPattern(h,"no-repeat"),A.fillRect(0,0,i+a,s+o),e.fillStyle=A.createPattern(f,"no-repeat"),e.fillRect(0,0,i+a,s+o),this.restoreStyles(n,u)}render(e){}}wB.ignoreStyles=["mask","transform","clip-path"];var bse=()=>{};class m_e extends ll{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:n}=this,r=Reflect.getPrototypeOf(e),{beginPath:i,closePath:s}=e;r&&(r.beginPath=bse,r.closePath=bse),Reflect.apply(i,e,[]),this.children.forEach(a=>{if(!(typeof a.path>"u")){var o=typeof a.elementTransform<"u"?a.elementTransform():null;o||(o=Ly.fromElement(n,a)),o&&o.apply(e),a.path(e),r&&(r.closePath=s),o&&o.unapply(e)}}),Reflect.apply(s,e,[]),e.clip(),r&&(r.beginPath=i,r.closePath=s)}render(e){}}class bB extends ll{constructor(){super(...arguments),this.type="filter"}apply(e,n){var{document:r,children:i}=this,s=n.getBoundingBox(e);if(s){var a=0,o=0;i.forEach(_=>{var x=_.extraFilterDistance||0;a=Math.max(a,x),o=Math.max(o,x)});var l=Math.floor(s.width),u=Math.floor(s.height),h=l+2*a,d=u+2*o;if(!(h<1||d<1)){var f=Math.floor(s.x),A=Math.floor(s.y),m=this.removeStyles(n,bB.ignoreStyles),g=r.createCanvas(h,d),y=g.getContext("2d");r.screen.setDefaults(y),y.translate(-f+a,-A+o),n.render(y),i.forEach(_=>{typeof _.apply=="function"&&_.apply(y,0,0,h,d)}),e.drawImage(g,0,0,h,d,f-a,A-o,h,d),this.restoreStyles(n,m)}}}render(e){}}bB.ignoreStyles=["filter","transform","clip-path"];class v_e extends ll{constructor(e,n,r){super(e,n,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,n,r,i,s){}}class y_e extends ll{constructor(){super(...arguments),this.type="feMorphology"}apply(e,n,r,i,s){}}class __e extends ll{constructor(){super(...arguments),this.type="feComposite"}apply(e,n,r,i,s){}}class w_e extends ll{constructor(e,n,r){super(e,n,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,n,r,i,s){var{document:a,blurRadius:o}=this,l=a.window?a.window.document.body:null,u=e.canvas;u.id=a.getUniqueId(),l&&(u.style.display="none",l.appendChild(u)),D4t(u,n,r,i,s,o),l&&l.removeChild(u)}}class b_e extends ll{constructor(){super(...arguments),this.type="title"}}class x_e extends ll{constructor(){super(...arguments),this.type="desc"}}var a3t={svg:gC,rect:OW,circle:qye,ellipse:Xye,line:Yye,polyline:NW,polygon:Zye,path:qa,pattern:Jye,marker:e_e,defs:t_e,linearGradient:n_e,radialGradient:r_e,stop:i_e,animate:lk,animateColor:s_e,animateTransform:a_e,font:o_e,"font-face":l_e,"missing-glyph":c_e,glyph:FW,text:Nv,tspan:_B,tref:u_e,a:h_e,textPath:d_e,image:f_e,g:ok,symbol:A_e,style:kW,use:g_e,mask:wB,clipPath:m_e,filter:bB,feDropShadow:v_e,feMorphology:y_e,feComposite:__e,feColorMatrix:UW,feGaussianBlur:w_e,title:b_e,desc:x_e};function xse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o3t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xse(Object(n),!0).forEach(function(r){LW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l3t(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function c3t(t){return lz.apply(this,arguments)}function lz(){return lz=Ov(function*(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=document.createElement("img");return e&&(n.crossOrigin="Anonymous"),new Promise((r,i)=>{n.onload=()=>{r(n)},n.onerror=(s,a,o,l,u)=>{i(u)},n.src=t})}),lz.apply(this,arguments)}class bv{constructor(e){var{rootEmSize:n=12,emSize:r=12,createCanvas:i=bv.createCanvas,createImage:s=bv.createImage,anonymousCrossOrigin:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=n,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(s,a),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,n){return typeof n=="boolean"?(r,i)=>e(r,typeof i=="boolean"?i:n):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:n}=this;n.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var n=this.createElement(e.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(e){var n=e.nodeName.replace(/^[^:]+:/,""),r=bv.elementTypes[n];return typeof r<"u"?new r(this,e):new Kye(this,e)}createTextNode(e){return new i3t(this,e)}setViewBox(e){this.screen.setViewBox(o3t({document:this},e))}}bv.createCanvas=l3t;bv.createImage=c3t;bv.elementTypes=a3t;function Ese(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ese(Object(n),!0).forEach(function(r){LW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ese(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class _1{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new kF(r),this.screen=new yB(e,r),this.options=r;var i=new bv(this,r),s=i.createDocumentElement(n);this.document=i,this.documentElement=s}static from(e,n){var r=arguments;return Ov(function*(){var i=r.length>2&&r[2]!==void 0?r[2]:{},s=new kF(i),a=yield s.parse(n);return new _1(e,a,i)})()}static fromString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new kF(r),s=i.parseFromString(n);return new _1(e,s,r)}fork(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _1.from(e,n,$_($_({},this.options),r))}forkString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _1.fromString(e,n,$_($_({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,n=this;return Ov(function*(){var r=e.length>0&&e[0]!==void 0?e[0]:{};n.start($_({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield n.ready(),n.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:n,screen:r,options:i}=this;r.start(n,$_($_({enableRedraw:!0},i),e))}stop(){this.screen.stop()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,n,r)}}const u3t=Object.freeze(Object.defineProperty({__proto__:null,AElement:h_e,AnimateColorElement:s_e,AnimateElement:lk,AnimateTransformElement:a_e,BoundingBox:CA,CB1:ez,CB2:tz,CB3:nz,CB4:rz,Canvg:_1,CircleElement:qye,ClipPathElement:m_e,DefsElement:t_e,DescElement:x_e,Document:bv,Element:ll,EllipseElement:Xye,FeColorMatrixElement:UW,FeCompositeElement:__e,FeDropShadowElement:v_e,FeGaussianBlurElement:w_e,FeMorphologyElement:y_e,FilterElement:bB,Font:ih,FontElement:o_e,FontFaceElement:l_e,GElement:ok,GlyphElement:FW,GradientElement:DW,ImageElement:f_e,LineElement:Yye,LinearGradientElement:n_e,MarkerElement:e_e,MaskElement:wB,Matrix:IW,MissingGlyphElement:c_e,Mouse:Hye,PSEUDO_ZERO:H1,Parser:kF,PathElement:qa,PathParser:Es,PatternElement:Jye,Point:bl,PolygonElement:Zye,PolylineElement:NW,Property:Pi,QB1:iz,QB2:sz,QB3:az,RadialGradientElement:r_e,RectElement:OW,RenderedElement:$y,Rotate:$ye,SVGElement:gC,SVGFontLoader:p_e,Scale:Qye,Screen:yB,Skew:PW,SkewX:Wye,SkewY:jye,StopElement:i_e,StyleElement:kW,SymbolElement:A_e,TRefElement:u_e,TSpanElement:_B,TextElement:Nv,TextPathElement:d_e,TitleElement:b_e,Transform:Ly,Translate:zye,UnknownElement:Kye,UseElement:g_e,ViewPort:Uye,compressSpaces:kw,default:_1,getSelectorSpecificity:kye,normalizeAttributeName:Nye,normalizeColor:Dye,parseExternalUrl:RW,presets:G4t,toNumbers:Nd,trimLeft:Fye,trimRight:Oye,vectorMagnitude:ZV,vectorsAngle:JV,vectorsRatio:ON},Symbol.toStringTag,{value:"Module"})),Uw=Zae(o2e);Uw.use(dSt);Uw.use(Dfe);Uw.use(kKe);Uw.use(Ist);Uw.config.globalProperties.$axios=Vl;Uw.config.globalProperties.$store=Dfe;Uw.mount("#app");export{$3t as L,d3t as __vite_legacy_guard,Q3t as a,Pf as g};
